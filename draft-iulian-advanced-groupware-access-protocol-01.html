<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Advanced Groupware Access Protocol</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Advanced Groupware Access Protocol">
<meta name="keywords" content="AGAP, Groupware Access Protocol, Advanced Groupware Access Protocol">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">I. Radu, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">May 14, 2010</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: November 15, 2010</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Advanced Groupware Access Protocol<br />draft-iulian-advanced-groupware-access-protocol-01</h1>

<h3>Abstract</h3>

<p>The Advanced Groupware Access Protocol, (AGAP) allows a client to access 
 and store electronic mail messages, contacts, events, files, and configurations
 on a server. The electronic mail messages can be grouped in folders. AGAP also 
 provides the capability for an offline client to resynchronize with the server.
</p>
<p>AGAP does not specify a means of posting electronic mail messages; 
 this function is handled by a mail transfer protocol such as
 <a class='info' href='#RFC2821'>SMTP<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; April&nbsp;2001.</span><span>)</span></a> [RFC2821]. It also does not specify a means for 
 exchanging messages with contacts that are reported as being online; this 
 function is handled by an instant messaging protocol such as 
 <a class='info' href='#RFC3921'>XMPP<span> (</span><span class='info'>Saint-Andre, P., Ed., &ldquo;Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence,&rdquo; October&nbsp;2004.</span><span>)</span></a> [RFC3921].
</p>
<p>AGAP includes the following operations for electronic mail messages: 
 creating, deleting, renaming, moving and coping mail folders; checking for new 
 messages; permanently removing messages; moving and coping messages between 
 folders; fetching information about a message; setting and clearing tags for 
 messages; searching in messages; retrieving only a part of a message; 
 marking messages as spam; deleting attachments from a message.
</p>
<p>AGAP includes the following operations to manipulate the contacts: 
 creating, deleting, moving, coping, tagging, and searching contacts; checking if 
 a contact is online; fetching information about a contact.
</p>
<p>AGAP includes the following operations related to the use of the 
 events: creating, deleting, moving, coping and tagging events in
 calendar; fetching events details; searching for events.
</p>
<p>All entries are read and written in format XML encoded <a class='info' href='#RFC3629'>UTF-8<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629]
 and each entry is identified by a unique alphanumeric identifier.
</p>
<p>AGAP is designed to support access only to a single server per 
 connection. It is also designed to balance the volume of text exchanged between 
 the server and clients and its readability by humans for debugging.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on November 15, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
How to Read This Document<br />
<a href="#anchor2">1.1.</a>&nbsp;
Organization of This Document<br />
<a href="#anchor3">1.2.</a>&nbsp;
Conventions Used in This Document<br />
<a href="#anchor4">2.</a>&nbsp;
Protocol Overview<br />
<a href="#anchor5">2.1.</a>&nbsp;
Charset Used for Commands and Responses<br />
<a href="#anchor6">2.2.</a>&nbsp;
Maximal Length of a Command or Response Line<br />
<a href="#anchor7">2.3.</a>&nbsp;
Numbers in Commands and Responses<br />
<a href="#anchor8">2.4.</a>&nbsp;
Regular Expressions in Commands<br />
<a href="#anchor9">2.5.</a>&nbsp;
Unique Identification Numbers<br />
<a href="#anchor10">2.6.</a>&nbsp;
Folders<br />
<a href="#anchor11">2.6.1.</a>&nbsp;
Naming<br />
<a href="#anchor12">2.6.2.</a>&nbsp;
Hierarchy<br />
<a href="#anchor13">2.6.3.</a>&nbsp;
Folder Types<br />
<a href="#anchor14">2.6.4.</a>&nbsp;
Reserved Folders<br />
<a href="#anchor15">2.7.</a>&nbsp;
Tags<br />
<a href="#anchor16">2.7.1.</a>&nbsp;
Syntax<br />
<a href="#anchor17">2.7.2.</a>&nbsp;
Reserved Tag Names<br />
<a href="#anchor18">2.8.</a>&nbsp;
The Responses for Each Type of Folder<br />
<a href="#anchor19">2.8.1.</a>&nbsp;
Format and Conventions<br />
<a href="#anchor20">2.8.2.</a>&nbsp;
Response for Configuration Folders<br />
<a href="#anchor21">2.8.3.</a>&nbsp;
Response for Contact Folders<br />
<a href="#anchor22">2.8.4.</a>&nbsp;
Response for Event (Calendar, Journal, Task) Folders<br />
<a href="#anchor23">2.8.5.</a>&nbsp;
Response for File Folders<br />
<a href="#anchor24">2.8.6.</a>&nbsp;
Response for Filter Folders<br />
<a href="#anchor25">2.8.7.</a>&nbsp;
Response for Message Folders<br />
<a href="#anchor26">2.8.8.</a>&nbsp;
Response for Note Folders<br />
<a href="#anchor27">3.</a>&nbsp;
States<br />
<a href="#anchor28">3.1.</a>&nbsp;
Not-authenticated State<br />
<a href="#anchor29">3.2.</a>&nbsp;
Pre-authentication State<br />
<a href="#anchor30">3.3.</a>&nbsp;
Authenticated (and Selected) State<br />
<a href="#anchor31">3.4.</a>&nbsp;
(Authenticated but) Not-selected State<br />
<a href="#anchor32">4.</a>&nbsp;
Commands<br />
<a href="#anchor33">4.1.</a>&nbsp;
Semantic and Syntax<br />
<a href="#anchor34">4.2.</a>&nbsp;
Syntax of a Tag List<br />
<a href="#anchor35">4.3.</a>&nbsp;
Syntax of a Filter<br />
<a href="#anchor36">4.3.1.</a>&nbsp;
Syntax of a Filter for a Command<br />
<a href="#anchor37">4.3.2.</a>&nbsp;
Syntax of a Filter for a FILT Folder<br />
<a href="#anchor38">4.4.</a>&nbsp;
The Welcome Message - not-authenticated state<br />
<a href="#anchor39">4.5.</a>&nbsp;
Command QUIT - all states<br />
<a href="#anchor40">4.6.</a>&nbsp;
Command AUTH mechanism - not-authenticated state<br />
<a href="#anchor41">4.7.</a>&nbsp;
Command CAPA - not-authenticated state<br />
<a href="#anchor42">4.8.</a>&nbsp;
Command SGZP - not-authenticated state<br />
<a href="#anchor43">4.9.</a>&nbsp;
Command STLS - not-authenticated state<br />
<a href="#anchor44">4.10.</a>&nbsp;
Command PASS password - pre-authenticated state (PLAIN)<br />
<a href="#anchor45">4.11.</a>&nbsp;
Command USER account - pre-authenticated state (PLAIN)<br />
<a href="#anchor46">4.12.</a>&nbsp;
Command COPY - authenticated state<br />
<a href="#anchor47">4.13.</a>&nbsp;
Command CPYF - authenticated state<br />
<a href="#anchor48">4.14.</a>&nbsp;
Command DATT - authenticated state (MESG folder type)<br />
<a href="#anchor49">4.15.</a>&nbsp;
Command DELE - authenticated state<br />
<a href="#anchor50">4.16.</a>&nbsp;
Command DELF - authenticated state<br />
<a href="#anchor51">4.17.</a>&nbsp;
Command EXIT - authenticated state<br />
<a href="#anchor52">4.18.</a>&nbsp;
Command FCPY - authenticated state<br />
<a href="#anchor53">4.19.</a>&nbsp;
Command FDEL - authenticated state<br />
<a href="#anchor54">4.20.</a>&nbsp;
Command FIND - authenticated state<br />
<a href="#anchor55">4.21.</a>&nbsp;
Command FMOV - authenticated state<br />
<a href="#anchor56">4.22.</a>&nbsp;
Command FTAG - authenticated state<br />
<a href="#anchor57">4.23.</a>&nbsp;
Command GTAG - authenticated state<br />
<a href="#anchor58">4.24.</a>&nbsp;
Command LIST - authenticated and not-selected state<br />
<a href="#anchor59">4.25.</a>&nbsp;
Command MAKE - authenticated state<br />
<a href="#anchor60">4.26.</a>&nbsp;
Command MOVE - authenticated state<br />
<a href="#anchor61">4.27.</a>&nbsp;
Command MOVF - authenticated state<br />
<a href="#anchor62">4.28.</a>&nbsp;
Command NAME - authenticated state<br />
<a href="#anchor63">4.29.</a>&nbsp;
Command NOOP - authenticated state<br />
<a href="#anchor64">4.30.</a>&nbsp;
Command RETR - authenticated state<br />
<a href="#anchor65">4.31.</a>&nbsp;
Command SLCT - authenticated and not-selected state<br />
<a href="#anchor66">4.32.</a>&nbsp;
Command SPAM - authenticated state (MESG folder type)<br />
<a href="#anchor67">4.33.</a>&nbsp;
Command STAG - authenticated state<br />
<a href="#anchor68">4.34.</a>&nbsp;
Command STAT - authenticated state<br />
<a href="#anchor69">4.35.</a>&nbsp;
Command STOR - authenticated state<br />
<a href="#anchor70">5.</a>&nbsp;
Responses<br />
<a href="#anchor71">5.1.</a>&nbsp;
Semantic and Syntax<br />
<a href="#respons_code_1xx">5.2.</a>&nbsp;
1xx Informational<br />
<a href="#respons_code_100">5.2.1.</a>&nbsp;
100 Reserved<br />
<a href="#respons_code_110">5.2.2.</a>&nbsp;
110 Continue<br />
<a href="#respons_code_2xx">5.3.</a>&nbsp;
2xx Success<br />
<a href="#respons_code_200">5.3.1.</a>&nbsp;
200 OK<br />
<a href="#respons_code_4xx">5.4.</a>&nbsp;
4xx Temporary Server Error<br />
<a href="#respons_code_400">5.4.1.</a>&nbsp;
400 Reserved<br />
<a href="#respons_code_401">5.4.2.</a>&nbsp;
401 Internal Error<br />
<a href="#respons_code_410">5.4.3.</a>&nbsp;
410 Retry later<br />
<a href="#respons_code_5xx">5.5.</a>&nbsp;
5xx Permanent Server Error<br />
<a href="#respons_code_500">5.5.1.</a>&nbsp;
500 Reserved<br />
<a href="#respons_code_510">5.5.2.</a>&nbsp;
510 Unknown Command<br />
<a href="#respons_code_511">5.5.3.</a>&nbsp;
511 Invalid Parameter<br />
<a href="#respons_code_512">5.5.4.</a>&nbsp;
512 Out of order<br />
<a href="#respons_code_521">5.5.5.</a>&nbsp;
521 Not found<br />
<a href="#respons_code_531">5.5.6.</a>&nbsp;
531 Banned<br />
<a href="#anchor72">6.</a>&nbsp;
All Possible Response Codes for All Commands<br />
<a href="#anchor73">6.1.</a>&nbsp;
Not-authenticated State<br />
<a href="#anchor74">6.2.</a>&nbsp;
Pre-authenticating State (PLAIN method)<br />
<a href="#anchor75">6.3.</a>&nbsp;
Authenticated State<br />
<a href="#anchor76">6.4.</a>&nbsp;
Not-selected State<br />
<a href="#anchor77">7.</a>&nbsp;
Example of Conversations<br />
<a href="#anchor78">7.1.</a>&nbsp;
Successful connection and authentication<br />
<a href="#anchor79">7.2.</a>&nbsp;
Successful connection but unsuccessful authentication<br />
<a href="#anchor80">7.3.</a>&nbsp;
Connection refused<br />
<a href="#anchor81">7.4.</a>&nbsp;
Find what folders are available with messages<br />
<a href="#anchor82">7.5.</a>&nbsp;
Retrieve a message<br />
<a href="#anchor83">7.6.</a>&nbsp;
Retrieve a contact<br />
<a href="#anchor84">7.7.</a>&nbsp;
Retrieve an event<br />
<a href="#anchor85">7.8.</a>&nbsp;
Store a message<br />
<a href="#anchor86">7.9.</a>&nbsp;
Store a contact<br />
<a href="#anchor87">7.10.</a>&nbsp;
Store an event<br />
<a href="#anchor88">7.11.</a>&nbsp;
Mark messages as SPAM an move them in a new folder<br />
<a href="#anchor89">7.12.</a>&nbsp;
Create a filter folder, find the matching entries of the filter and read its filter definition<br />
<a href="#anchor90">7.13.</a>&nbsp;
Create a folder and rename it<br />
<a href="#anchor91">7.14.</a>&nbsp;
Find the status for a folder<br />
<a href="#anchor92">7.15.</a>&nbsp;
Set and check the tags of a message<br />
<a href="#anchor93">7.16.</a>&nbsp;
Find messages that can be SPAM and delete them<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
How to Read This Document</h3>

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Organization of This Document</h3>

<p>This document is written from the point of view of someone 
 implementing an AGAP client or server, and also from the point of view
 of a server administrator. The protocol overview (chapter 2) presents 
 all aspects related to a correct implementation (like the maximum
 length of a command or response line, charset used). The material in 
 chapter 3 through 5 provides the states in which can be a connection
 at a moment, respectively what commands are valid in each state and their
 valid responses. Chapter 6 makes a summary of the return codes for each command.
 The implementers find in chapter 7 samples of conversations so that they can
 test the compliance of their applications with this standard.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Conventions Used in This Document</h3>

<p>Document conventions are noted in this chapter.
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT","MAY", and "OPTIONAL" in this document are to be interpreted as
described in <a class='info' href='#RFC2119'>'Key words for use in RFCs to Indicate Requirement
Levels'<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119]. The word "CAN" (not "MAY") is used to refer to a possible 
 circumstance or situation, as opposed to an optional facility of the protocol.
</p>
<p>"User" is used to refer to a human user. "Client" refers to the 
 software being run by the user. "Server" refers to the software responding to the
 client requests. In examples, "C:" and "S:" indicate lines sent by the client
 and server respectively. "Connection" refers to the entire sequence of 
 client/server interaction from the initial establishment of the network 
 connection until its termination. "Conversation" is an exchange of commands
 and responses between the client and the server. "Account" defines all folders and
 their content that can be accessed from Authenticated State. All references to
 characters order is according to the <a class='info' href='#RFC3629'>UTF-8<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629]
 specification.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Protocol Overview</h3>

<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Charset Used for Commands and Responses</h3>

<p>All data exchanged between the server and the client is done using 
 strings encoded <a class='info' href='#RFC3629'>UTF-8<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629]. If the server or client 
 send a string incorrect encoded then the other side can close immediately 
 the connection.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Maximal Length of a Command or Response Line</h3>

<p>A command or response consists of a line of text that has a maximal length of 
 1024 characters (including line end). A line of text is ended with the character LF 
 (0x0A). There can be optionally a CR character (0x0D) before the LF character.
 If the server or client sends a line with a length greater of 1024 then the other
 side can close immediately the connection.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Numbers in Commands and Responses</h3>

<p>The numbers that are used in commands are signed integers on 32 bits.
        The valid values are between -2,147,483,648 and 2,147,483,647.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
Regular Expressions in Commands</h3>

<p>Following is a resume of all regular expression rules that CAN be
        used by the commands defined in this standard:
            <br /><hr class="insert" />
<a name="Regex"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    Logical operators:
XY       X followed by Y
X|Y      Either X or Y

    Predefined character class:
.        Any character (does not match line terminators)

    Characters:
x        The character x
\\       The backslash character
\xhh     The character with hexadecimal value 0xhh
\uhhhh   The character with hexadecimal value 0xhhhh
\t       The tab character ('\x09')
\n       The newline (line feed) character ('\x0A')
\r       The carriage-return character ('\x0D')

    Character classes:
[abc]     a, b, or c (simple class)
[^abc]    Any character except a, b, or c (negation)
[a-zA-Z]  a through z or A through Z, inclusive (range)

    Boundary matchers:
^        The beginning of a line
$        The end of a line
\b       A word boundary
\B       A non-word boundary

    Greedy quantifiers:
X?       X, once or not at all
X*       X, zero or more times
X+       X, one or more times
X{n}     X, exactly n times
X{n,}    X, at least n times
X{n,m}   X, at least n but not more than m times

    Reluctant quantifiers:
X??      X, once or not at all
X*?      X, zero or more times
X+?      X, one or more times
X{n}?    X, exactly n times
X{n,}?   X, at least n times
X{n,m}?  X, at least n but not more than m times
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.5"></a><h3>2.5.&nbsp;
Unique Identification Numbers</h3>

<p>The length of an UID is between 1 and 32 characters.
</p>
<p>The UIDs MUST to be unique only between entries from the same folder.
</p>
<p>The characters accepted for building an UID are only
        all 26 Latin letters (A-Z) in lowercase and uppercase and all 
        10 Latin digits (0-9). An UID is case sensitive and it is valid only
        for the current connection (the same message/contact/event CAN have 
        different UIDs for different client connections).
</p>
<p>Any new message/contact/event MUST to have a bigger UID as all
        other existing entries in the selected folder.
        The sorting is made according <a class='info' href='#RFC3629'>UTF-8<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629] (digits before 
        letters and uppercase letters before the lowercase letters - 0..9A..Za..z). A
        short UID is before a longer one (9234 before 02345) and any zero (0) before a
        number is take into account by the server when two UIDs are compared.
</p>
<p>We get an approximately maximum number of 3.15e+85 unique combinations
        for 64 characters long UIDs. We get a maximum number of 136325893334400
        unique combinations for 8 characters long UIDs .
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6"></a><h3>2.6.&nbsp;
Folders</h3>

<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6.1"></a><h3>2.6.1.&nbsp;
Naming</h3>

<p>All folder names are case sensitive and they are encoded according to
          <a class='info' href='#RFC3629'>UTF-8<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629].
</p>
<p>A backslash (\) does not escape the character after it (it has no special meaning).
</p>
<p>For building a folder name, the user CAN use all <a class='info' href='#RFC3629'>UTF-8<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629]
          characters with a value bigger then 0x1f (white space is the first allowed character), but
          with the exception of the slash (/ 9x2F) and back slash (\ 0x5C).
</p>
<p>The following folder names are not accepted: '.', and '..'.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6.2"></a><h3>2.6.2.&nbsp;
Hierarchy</h3>

<p>None of the reserved folders can have subfolders, exception makes
          the TRASH that must to store also deleted folders and FILESHARE that holds
          ordinary files.
</p>
<p>The character used for delimiting path levels is the slash (/).
          A path that starts with '/' represents an absolute path. All other
          are relative to the currently selected folder (with SLCT).
</p>
<p>If there is no folder currently selected then the client MUST
          use only absolute paths. It is recommended for a client to use always
          absolute paths.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6.3"></a><h3>2.6.3.&nbsp;
Folder Types</h3>

<p>The following folder types are defined by this standard:
            </p>
<ul class="text">
<li>calendar - CALE - holds events;
</li>
<li>configuration - CONF - holds user accounts configuration (the client is free to store
              all information it needs for providing roaming);
</li>
<li>contacts - ADDR - holds contact information;
</li>
<li>files - FILE - holds files that have no special meanings for the server;
</li>
<li>filter - FILT - holds the definition of a filter;
</li>
<li>folder - FOLD - contains only subfolders;
</li>
<li>journal - JRNL - holds journal entries;
</li>
<li>message - MESG - holds e-mail messages;
</li>
<li>notes - NOTE - holds short texts;
</li>
<li>tasks - TODO - holds ToDo tasks.
</li>
</ul><p>
          
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6.4"></a><h3>2.6.4.&nbsp;
Reserved Folders</h3>

<p>All the following reserved folders are located in the root of
          the user's account:
            </p>
<ul class="text">
<li>CALENDAR - CALE - holds the main calendar of the user;
</li>
<li>CONFIGURATION - CONF - holds account configuration;
</li>
<li>CONTACT - ADDR - holds the main contact list;
</li>
<li>DRAFT - MESG - holds templates for e-mail messages;
</li>
<li>FILESHARE - FILE - holds files accessible read-only by other users;
</li>
<li>INBOX - MESG - holds all new e-mail messages;
</li>
<li>JOURNAL - JRNL - holds the main journal;
</li>
<li>JUNK - MESG - holds all e-mail messages marked as SPAM or VIRUSED by the server;
</li>
<li>NOTE - NOTE - holds short texts;
</li>
<li>OUTBOX - MESG - holds all e-mail messages that wait to be sent;
</li>
<li>SENT - MESG - holds copy of sent e-mail messages;
</li>
<li>TASK - TODO - holds the main tasks (Todo) list;
</li>
<li>TRASH - MESG - holds all deleted e-mail messages;
</li>
</ul><p>
          
</p>
<p>A client can use different names for these folders when display them
          so that the client application can use localization and standard or 
          customized names for them. If this is the case, then the user cannot 
          create a folder, in the root of his account, with the same name as the
          real (reserved) name of the folder.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.7"></a><h3>2.7.&nbsp;
Tags</h3>

<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.7.1"></a><h3>2.7.1.&nbsp;
Syntax</h3>

<p>The client can set tags only for folder entries, but the server
          can set tags also for folders. The tags of a folder are reported by
          the STAT command.
</p>
<p>The format of a tag is a name optionally followed by the equal sign (=)
          and a value. Each time is set a tag, the new value replace the old one.
          All tags that have no value assigned are returned as name only. Assigning
          an empty value to a tag makes it to return a name followed by the equal sign
          and no value. (This means that once a value is assigned to a tag, it will
          always be returned together with an equal sign.) Hint: Deleting and setting
          again (without a value) a tag that previously had a value will make it being
          returned without an equal sign.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.7.2"></a><h3>2.7.2.&nbsp;
Reserved Tag Names</h3>

<p>The following tag names have a meaning set by this standard:
            </p>
<ul class="text">
<li>ANSWERED - it was sent a reply to this e-mail message;
</li>
<li>NO-FOLDERS - this entry cannot have subfolders;
</li>
<li>READ-ONLY - this object can only be read;
</li>
<li>RESERVED - it is a folder reserved by this standard;
</li>
<li>SEEN - this object was already read;
</li>
<li>SPAM - this e-mail message is marked as spam;
</li>
</ul><p>
          
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8"></a><h3>2.8.&nbsp;
The Responses for Each Type of Folder</h3>

<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.1"></a><h3>2.8.1.&nbsp;
Format and Conventions</h3>

<p>All responses are in XML format. The tags and their attributes
          names are written only in lowercase.
</p>
<p>The content is encoded in <a class='info' href='#RFC3629'>UTF-8<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a> [RFC3629] format.
</p>
<p>Each type of folder returns its entries in a different format.
</p>
<p>Each tag written in uppercase must to be send as it is, each tag written in lowercase
          will be replaced with the right value at the time of generation.
</p>
<p>Each tag that have a star will be present only if it is the case and without the star.
</p>
<p>If a command is correct but the server cannot execute it because of
          an internal error, then the server returns the code 401.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.2"></a><h3>2.8.2.&nbsp;
Response for Configuration Folders</h3>

<p>A response holding the configuration has the following structure:
            <br /><hr class="insert" />
<a name="Respons_Conf"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;CONFIGURATION&gt;
    &lt;name&gt;value&lt;/name&gt;
&lt;/CONFIGURATION&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<p>Example:
            <br /><hr class="insert" />
<a name="Example_Conf"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;configuration&gt;
    &lt;quota&gt;1024&lt;/quota&gt;
&lt;/configuration&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.3"></a><h3>2.8.3.&nbsp;
Response for Contact Folders</h3>

<p>The format is the same as the one defined by the
            <a class='info' href='#I-D.ietf-vcarddav-vcardxml'>vCard XML Representation<span> (</span><span class='info'>Perreault, S., &ldquo;vCard XML Representation,&rdquo; May&nbsp;2010.</span><span>)</span></a> [I&#8209;D.ietf&#8209;vcarddav&#8209;vcardxml]
            standard (work in progress).
</p>
<p>Example:
            <br /><hr class="insert" />
<a name="Example_Contact"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;vcards xmlns="urn:ietf:params:xml:ns:vcard-4.0"&gt;
     &lt;vcard&gt;
       &lt;fn&gt;&lt;text&gt;Iulian Radu&lt;/text&gt;&lt;/fn&gt;
       &lt;n&gt;
         &lt;surname&gt;&lt;text&gt;Radu&lt;/text&gt;&lt;/surname&gt;
         &lt;given&gt;&lt;text&gt;Iulian&lt;/text&gt;&lt;/given&gt;
         &lt;suffix&gt;
           &lt;text&gt;Dipl.-Ing.&lt;/text&gt;
         &lt;/suffix&gt;
       &lt;/n&gt;
       &lt;sex&gt;1&lt;/sex&gt;
       &lt;lang&gt;
         &lt;parameters&gt;&lt;pref&gt;1&lt;/pref&gt;&lt;/parameters&gt;
         &lt;language-tag&gt;de&lt;/language-tag&gt;
       &lt;/lang&gt;
       &lt;org&gt;
         &lt;parameters&gt;&lt;type&gt;work&lt;/type&gt;&lt;/parameters&gt;
         &lt;text&gt;Example Com&lt;/text&gt;
       &lt;/org&gt;
       &lt;email&gt;
         &lt;parameters&gt;&lt;type&gt;work&lt;/type&gt;&lt;/parameters&gt;
         &lt;text&gt;iulian.radu@gmx.at&lt;/text&gt;
       &lt;/email&gt;
       &lt;class&gt;PUBLIC&lt;/class&gt;
    &lt;/vcard&gt;
&lt;/vcards&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.4"></a><h3>2.8.4.&nbsp;
Response for Event (Calendar, Journal, Task) Folders</h3>

<p>The format is the same as the one defined by the
            <a class='info' href='#I-D.daboo-et-al-icalendar-in-xml'>xCal<span> (</span><span class='info'>Daboo, C., Douglass, M., and S. Lees, &ldquo;xCal: The XML format for iCalendar,&rdquo; March&nbsp;2010.</span><span>)</span></a> [I&#8209;D.daboo&#8209;et&#8209;al&#8209;icalendar&#8209;in&#8209;xml] standard
            (work in progress).
</p>
<p>The following example corresponds to this event definition:
            <br /><hr class="insert" />
<a name="Respons_Event"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//amap/calender//NONSGML v1.0//EN
BEGIN:VEVENT
UID:uidx1234@example.com
DTSTAMP:20100701T110000Z
ORGANIZER;CN=RFC Amap:MAILTO:rfc@example.com
DTSTART:20101102T000000Z
DTEND:20101102T235959Z
SUMMARY:AGAP RFC Party
END:VEVENT
END:VCALENDAR
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<p>Example:
            <br /><hr class="insert" />
<a name="Example_Event"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;icalendar xmlns="urn:ietf:params:xml:ns:icalendar-2.0"&gt;
    &lt;vcalendar&gt;
        &lt;properties&gt;
            &lt;prodid&gt;
                &lt;text&gt;-//amap/calender//NONSGML v1.0//EN&lt;/text&gt;
            &lt;/prodid&gt;
            &lt;version&gt;&lt;text&gt;2.0&lt;/text&gt;&lt;/version&gt;
        &lt;/properties&gt;
        &lt;components&gt;
            &lt;vevent&gt;
                &lt;properties&gt;
                    &lt;dtstamp&gt;
                        &lt;date-time utc='yes'&gt;
                            &lt;year&gt;2010&lt;/year&gt;
                            &lt;month&gt;7&lt;/month&gt;
                            &lt;day&gt;1&lt;/day&gt;
                            &lt;hour&gt;11&lt;/hour&gt;
                            &lt;minute&gt;0&lt;/minute&gt;
                            &lt;second&gt;0&lt;/second&gt;
                        &lt;/date-time&gt;
                    &lt;/dtstamp&gt;
                    &lt;dtstart&gt;
                        &lt;date&gt;
                            &lt;year&gt;2010&lt;/year&gt;
                            &lt;month&gt;11&lt;/month&gt;
                            &lt;day&gt;2&lt;/day&gt;
                        &lt;/date&gt;
                    &lt;/dtstart&gt;
                    &lt;dtend&gt;
                        &lt;date&gt;
                            &lt;year&gt;2010&lt;/year&gt;
                            &lt;month&gt;11&lt;/month&gt;
                            &lt;day&gt;2&lt;/day&gt;
                        &lt;/date&gt;
                    &lt;/dtend&gt;
                    &lt;summary&gt;
                        &lt;text&gt;AGAP RFC Party&lt;/text&gt;
                    &lt;/summary&gt;
                    &lt;uid&gt;
                        &lt;text&gt;uidx1234@example.com&lt;/text&gt;
                    &lt;/uid&gt;
                &lt;/properties&gt;
            &lt;/vevent&gt;
        &lt;/components&gt;
    &lt;/vcalendar&gt;
&lt;/icalendar&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.5"></a><h3>2.8.5.&nbsp;
Response for File Folders</h3>

<p>A response holding the content of a file has the following structure:
            <br /><hr class="insert" />
<a name="Respons_File"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;FILE&gt;
    &lt;CONTENT ENCODED="..."&gt;content&lt;/CONTENT&gt;
&lt;/FILE&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<p>The valid encodings type are: utf-8, quoted-printable, and base64.
          It CAN be case-insensitive written.
</p>
<p>Example:
            <br /><hr class="insert" />
<a name="Example_File"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;file&gt;
    &lt;content encoded="base64"&gt;c3VyZS4=&lt;/content&gt;
&lt;/file&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;8&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.6"></a><h3>2.8.6.&nbsp;
Response for Filter Folders</h3>

<p>An entryTag can be: and, or, not, uid, tag, is, regex. The value associated to 
          entryTag is specified as a XML text node. The is and regex tags have two attributes:
          path and op. Their values are set as for a filter command (see chapter
          "Syntax of a Filter" for more information). The first entryTag MUST to be an AND
          or OR tag.
</p>
<p>A response holding the content of a file has the following structure:
            <br /><hr class="insert" />
<a name="Respons_Filter"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;FILTER&gt;
    &lt;entryTag&gt;...&lt;/entryTag&gt;
&lt;/FILTER&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;9&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<p>Example:
            <br /><hr class="insert" />
<a name="Example_Filter"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;filter&gt;
    &lt;or&gt;
        &lt;is path="header/subject" op="="&gt;Viagra&lt;/is&gt;
        &lt;and&gt;
            &lt;uid&gt;UIDx1234:UIDx4321&lt;/&gt;
            &lt;tag&gt;SPAM&lt;/&gt;
        &lt;/and&gt;
    &lt;/or&gt;
&lt;/filter&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;10&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.7"></a><h3>2.8.7.&nbsp;
Response for Message Folders</h3>

<p>A response holding the content of a message has the following structure:
            <br /><hr class="insert" />
<a name="Respons_Mesg"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;MESSAGE&gt;
    &lt;HEADER&gt;
        &lt;header-entry-once&gt;value&lt;/header-entry-once&gt;...
        &lt;header-entry-multi&gt;
            &lt;ITEM INDEX="i"&gt;value n&lt;/ITEM&gt;...
        &lt;/header-entry-multi&gt;...
    &lt;/HEADER&gt;
    &lt;BODY TYPE="..." ENCODED="utf-8"&gt;
        &lt;TEXT*&gt;main text&lt;/TEXT&gt;
        &lt;HTML*&gt;main html&lt;/HTML&gt;
        &lt;ATTACHMENT* ID="1.." PARENT="0.."&gt;
            &lt;HEADER&gt;
                ...
            &lt;/HEADER&gt;
            &lt;BODY TYPE="..." ENCODED="..."&gt;
                ...
            &lt;/BODY&gt;
        &lt;/ATTACHMENT&gt;...
    &lt;/BODY&gt;
&lt;/MESSAGE&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;11&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<p>A parent="0" for an attachment tag means that is it part of the main message or 
          the parent is unknown. The value for parent is a number used as id for another 
          attachment entry. An attachment having a wrong parent id will be considered to have
          no parent (parent="0"). It is incorrect for a tag to use the same number both for
          its id and its parent.
</p>
<p>The first index and the first attachment id has the value 1.
</p>
<p>The index of on item tag shows the order of the entries in the original message.
</p>
<p>The default content type for an attachment is "text/plain", 
          the default content encoding is utf-8, and the default parent id is 0.
</p>
<p>The entries in the header of the main message and attachments are 
          the same with the one from the e-mail message.
</p>
<p>Example:
            <br /><hr class="insert" />
<a name="Example_Mesg"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;message&gt;
    &lt;header&gt;
        &lt;from&gt;example@no-spam.com&lt;/from&gt;
        &lt;to&gt;example@example.com&lt;/to&gt;
        &lt;received&gt;
            &lt;item index="2"&gt;
from mail.yahoo.com by example.com; Tue, 16 Mar 2010 12:14:24 +0100
            &lt;/item&gt;
            &lt;item index="1"&gt;
from no-spam.com by mail.yahoo.com; Mon, 15 Mar 2010 11:13:23 +0100
            &lt;/item&gt;
        &lt;/received&gt;
        &lt;content-type&gt;multipart/mixed; boundary="XYZ"&lt;/content-type&gt;
        &lt;subject&gt;A basic example&lt;/subject&gt;
    &lt;/header&gt;
    &lt;body type="multipart/mixed" encoded="utf-8"&gt;
    &lt;text&gt;Please see the attachments.&lt;/text&gt;
    &lt;html&gt;
&amp;lt;b&amp;gt;Please&amp;lt;/b&amp;gt; see the &amp;lt;u&amp;gt;attachments&amp;lt;/u&amp;gt;.
    &lt;/html&gt;
    &lt;attachment ID="1"/&gt;
      &lt;header&gt;
        &lt;content-type&gt;multipart/related&lt;/content-type&gt;
      &lt;/header&gt;
    &lt;/attachment&gt;
    &lt;attachment ID="2" parent="1"&gt;
      &lt;header&gt;
        &lt;content-type&gt;text/plain&lt;/content-type&gt;
      &lt;/header&gt;
      &lt;body type="text/plain" encoded="utf-8"&gt;See the picture.&lt;/body&gt;
    &lt;/attachment&gt;
    &lt;attachment ID="3" parent="1"&gt;
      &lt;header&gt;
        &lt;content-type&gt;image/jpeg&lt;/content-type&gt;
        &lt;content-transfer-encoding&gt;base64&lt;/content-transfer-encoding&gt;
      &lt;/header&gt;
      &lt;body type="image/jpeg" encoded="base64"&gt;c3VyZS4=&lt;/body&gt;
    &lt;/attachment&gt;
    &lt;/body&gt;
&lt;/message&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;12&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<p>The previous example corresponds to a message with the following
          structure:
            </p>
<ul class="text">
<li>multipart/mixed
              
<ul class="text">
<li>multipart/alternative
                
<ul class="text">
<li>text/plain
</li>
<li>text/html
</li>
</ul>
                
</li>
<li>multipart/related
                
<ul class="text">
<li>text/plain
</li>
<li>image/jpeg
</li>
</ul>
                
</li>
</ul>
              
</li>
</ul><p>
          
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.8.8"></a><h3>2.8.8.&nbsp;
Response for Note Folders</h3>

<p>A response holding the content of the note has the following structure:
            <br /><hr class="insert" />
<a name="Respons_Note"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;NOTE&gt;
    &lt;TEXT&gt;content&lt;/TEXT&gt;
&lt;/NOTE&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;13&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<p>Example:
            <br /><hr class="insert" />
<a name="Example_Note"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;note&gt;
    &lt;text&gt;To review the code.&lt;/text&gt;
&lt;/note&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;14&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          

<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
States</h3>

<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Not-authenticated State</h3>

<p>This is the default state when a new connection is made to the server.
        The client becomes a welcome message.
</p>
<p>From this state the client can use the command 'AUTH mechanism' to move in
        the 'Pre-authentication State'. This is the only other state in which the
        server can go.
</p>
<p>The client can use the command 'STLS' for commuting in the encrypted mode
        of the channel. After STLS the server remains in the 'Not-authenticated State'.
        There is no command for switching back to clear-text communication.
</p>
<p>The client can use the command 'SGZP' for commuting in the compressed mode
        of the channel. After SGZP the server remains in the 'Not-authenticated State'.
        There is no command for switching back to not-compressed communication.
</p>
<p>A client can use at the same time the both modes (encrypted and compressed).
</p>
<p>The client can use the command 'QUIT' for terminating the connection.
</p>
<p>For finding what extensions are installed in server, the client can use the
        'CAPA' command.
</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Pre-authentication State</h3>

<p>This is the state where a client authenticate itself and move to the
        'Authenticated State' or returns to the 'Not-authenticated State'.
</p>
<p>This standard defines only one method for AUTH: PLAIN. Following is a
        description of the commands flow used by this authentication mechanism.
</p>
<p>The client must send a 'USER account' followed by a 'PASS password' (if
        the server confirms the acceptance of the account name). If the pair account
        and password is accepted then the server move to the state 'Authenticated State'
        and the folder INBOX is selected by server. If this folder does not exist then
        the server moves in the 'Not-Selected State' and the client must to select an
        existing folder for operating with this account.
        If this pair is rejected then the server returns to the 'Not-authenticated State'.
        That means that the client must to send a new 'AUTH mechanism' for trying a new
        authentication.
</p>
<p>The client can use the command 'QUIT' for terminating the connection.
</p>
<p>A client can enter into this state only after a successful 'AUTH' command in
        'Not-authenticated State'.
</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Authenticated (and Selected) State</h3>

<p>This is the state from which a client operates with the content of an account.
</p>
<p>From this state the client can use the command 'EXIT' to move in
        the 'Not-authenticated State'. After an unsuccessful SLCT, the server
        goes in 'Not-selected State'.
</p>
<p>The client can use the command 'QUIT' for terminating the connection.
</p>
<p>Check the following chapter for finding which commands can be performed from
        this state.
</p>
<p>A client can enter into this state only after a successful authentication in
        the 'Pre-authenticated State' or after a successful 'SLCT' command in the
        'Authenticated State' or 'Not-selected State'.
</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
(Authenticated but) Not-selected State</h3>

<p>This is the state from which a client must to select a folder for performing 
        further operations.
</p>
<p>From this state the client must use the command 'SLCT' to select a folder and to move in
        the 'Authenticated State'. This is the only other state in which the server can go.
</p>
<p>The client CAN use the command 'LIST' for finding valid folder names that eventually
        CAN be selected with 'SLCT' command.
</p>
<p>The client CAN use the command 'QUIT' for terminating the connection.
</p>
<p>A client CAN enter into this state only after an unsuccessful 'SLCT' command
        or if the INBOX folder does not exists and it cannot be selected automatically
        after a successful authentication.
</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Commands</h3>

<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Semantic and Syntax</h3>

<p>Each command has its name from 4 letters and it is matched case-insensitive.
</p>
<p>Each command is separated by its arguments by a 0x20 character.
        Also, each argument is separated from its adjacent arguments by a
        0x20 character.
</p>
<p>The minimal response has only the return code without any text.
</p>
<p>A list of elements is enclosed between parentheses (round brackets).
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Syntax of a Tag List</h3>

<p>A tag list is used by the following commands: FTAG, GTAG and STAG.
</p>
<p>A tag list defines what action to be done with its tags.
</p>
<p>Syntax: ACTION TAG TAG ...
</p>
<p>ACTION:
          </p>
<ul class="text">
<li>= - set only these tags;
</li>
<li>+ - add this tags
</li>
<li>- - delete these tags.
</li>
</ul><p>
        
</p>
<p>Example:
          <br /><hr class="insert" />
<a name="Example_Tag_List"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAG UIDx1234 = SEEN SPAM
C: STAG UIDx1234 + SEEN SPAM
C: STAG UIDx1234 - SEEN SPAM
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;15&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Syntax of a Filter</h3>

<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.1"></a><h3>4.3.1.&nbsp;
Syntax of a Filter for a Command</h3>

<p>A filter of this type is used by the following commands:
        FCPY, FDEL, FTAG, FIND and FMOV.
</p>
<p>A filter defines rules for matching the different messages.
        It is defined as lines with rules and it is ended by an empty line.
</p>
<p>The keywords of the filter are case insensitive matched
        (ex.: UID and Uid are the same).
</p>
<p>Accepted rules:
          </p>
<ul class="text">
<li>( ) - grouping for AND and OR;
</li>
<li>AND - the implicit rule;
</li>
<li>OR - all following rules are with OR bonded (until the end 
            of the current group);
</li>
<li>NOT - invert the result of the following rule;
</li>
<li>UID uid - one UID;
</li>
<li>UID uid_begin_range:uid_end_range - inclusive range; 
</li>
<li>TAG tag_name - a tag;
</li>
<li>TAG tag_name=tag_value - a tag with a value;
</li>
<li>IS field_path op string - a field from the content (as XML) with an exact matched text
            (string is written between " or '); op can be: &lt;, &lt;=, =, !=, &gt;=, &gt;;
</li>
<li>REGEX field_path op regex_string - a field from the content (as XML) with a regular expression
            matched text (regex_string is written between " or '); op can be: =, !=.
</li>
</ul><p>
        
</p>
<p>The filed_path is a XPATH in the response as it is returned by RETR.
</p>
<p>Searching for a TAG without associating and a value to it will match all entries 
        that have this tag even if it have values set for it.
</p>
<p>Example 1:
          These filters find all messages with the UID between UIDx0001:UIDx1000 and that were seen and
          marked as being spam or having a virus (the AND is redundant in the second case).
          Both filter definitions are equivalent.
          <br /><hr class="insert" />
<a name="Example_Filter_1"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: UID UIDx0001:UIDx1000 OR ( TAG SPAM TAG HAS=VIRUS ) TAG SEEN
C: UID UIDx0001:UIDx1000 AND( OR ( TAG SPAM TAG HAS=VIRUS ) TAG SEEN)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;16&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<p>Example 2:
          <br /><hr class="insert" />
<a name="Example_Filter_2"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: IS header/subject = "From University"
C: REGEX header/from != "[^0-9]+@example\.com$"
C: IS vcard/fn/text = "Anonymous"
C: REGEX vcard/org/text = "^[A-Za-z]+[0-9]$"
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;17&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.2"></a><h3>4.3.2.&nbsp;
Syntax of a Filter for a FILT Folder</h3>

<p>A filter of this type is used by the following command: STOR.
</p>
<p>A filter defines rules for matching the different messages from
        different folders. It is defined as a XML with target folders and rules.
</p>
<p>The keywords of the filter are case sensitive matched (ex.: 
        UID and Uid are not the same). They are always lowercase.
</p>
<p>Accepted rules:
          </p>
<ul class="text">
<li>AND - all its entries must be matched;
</li>
<li>OR - at least one of its entries must be matched;
</li>
<li>NOT - invert the result of its child rule;
</li>
<li>UID uid - one UID;
</li>
<li>UID uid_begin_range:uid_end_range - inclusive range; 
</li>
<li>TAG tag_name - a tag;
</li>
<li>TAG tag_name=tag_value - a tag with a value;
</li>
<li>IS path op string - a field from the content (as XML) with an exact matched text
            (string is written between " or '); op can be: &lt;, &lt;=, =, !=, &gt;=, &gt;;
</li>
<li>REGEX path op regex_string - a field from the content (as XML) with a regular expression
            matched text (regex_string is written between " or '); op can be: =, !=.
</li>
</ul><p>
        
</p>
<p>The filed_path is a XPATH in the response as is it returned by RETR.
</p>
<p>Searching for a TAG without associating and a value to it will match all entries 
        that have this tag even if it have values set for it (the empty string is also
        considered matched).
</p>
<p>The following two examples corresponds to the two examples from the previous chapter:
          <br /><hr class="insert" />
<a name="Example_Filter_3"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;filter&gt;
    &lt;folders&gt;
        &lt;folder&gt;/INBOX&lt;/folder&gt;
    &lt;/folders&gt;
    &lt;rules&gt;
        &lt;and&gt;
            &lt;uid&gt;UIDx0001:UIDx0010&lt;/uid&gt;
            &lt;or&gt;
                &lt;tag&gt;SPAM&lt;/tag&gt;
                &lt;tag&gt;HAS=VIRUS&lt;/tag&gt;
            &lt;/or&gt;
            &lt;tag&gt;SEEN&lt;/tag&gt;
        &lt;/and&gt;
    &lt;/rules&gt;
&lt;/filter&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;18&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<p>Example 2:
          <br /><hr class="insert" />
<a name="Example_Filter_4"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;filter&gt;
  &lt;folders&gt;
    &lt;folder&gt;/INBOX&lt;/folder&gt;
  &lt;/folders&gt;
  &lt;rules&gt;
    &lt;or&gt;
      &lt;is path="header/subject" op="="&gt;From University&lt;/is&gt;
      &lt;regex path="header/from" op="!="&gt;[^0-9]+@example\.com$&lt;/regex&gt;
      &lt;is path="vcard/fn/text" op="="&gt;Anonymous&lt;/is&gt;
      &lt;regex path="vcard/org/text" op="="&gt;^[A-Za-z]+[0-9]$&lt;/regex&gt;
    &lt;/or&gt;
  &lt;/rules&gt;
&lt;/filter&gt;
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;19&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
The Welcome Message - not-authenticated state</h3>

<p>Results: 200 401 410 531
</p>
<p>Result 200 - the client is accepted for sending commands;
</p>
<p>Result 401 - there was an internal error;
</p>
<p>Result 410 - too many connections;
</p>
<p>Result 531 - the client is rejected permanently.
</p>
<p>Description: When a client connects to the server it receives a welcome message.
        This message begins with a response code that shows if the client is accepted for
        sending commands.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Welcome_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 200 Welcome localhost [127.0.0.1]
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;20&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Welcome_401"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 401 Internal error, please contact our administrator
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;21&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Welcome_410"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 410 Sorry, too many connections, please retry later
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;22&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Welcome_531"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 531 Your hostname/IP (localhost:127.0.0.1) is blacklisted
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;23&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Command QUIT - all states</h3>

<p>Name: quit
</p>
<p>Arguments: none
</p>
<p>Result: 200
</p>
<p>Description: The QUIT command close the connection between the client and server.
</p>
<p>Example:
          <br /><hr class="insert" />
<a name="Example_Quit"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: QUIT
S: 200 OK Bye
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;24&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor40"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
Command AUTH mechanism - not-authenticated state</h3>

<p>Name: authenticate
</p>
<p>Argument: mechanism
</p>
<p>Results: 200 510 511
</p>
<p>Result 200 - the mechanism is known and accepted.
</p>
<p>Result 510 - unknown command.
</p>
<p>Result 511 - the mechanism is unknown/unsupported.
</p>
<p>Description: Choose an authentication method (exists at least the mechanism PLAIN).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Auth_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: AUTH PLAIN
S: 200 OK Send USER
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;25&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Auth_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: AUTH
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;26&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Auth_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: AUTH unknown
S: 511 UNKNWON method
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;27&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.7"></a><h3>4.7.&nbsp;
Command CAPA - not-authenticated state</h3>

<p>Name: capabilities
</p>
<p>Arguments: none
</p>
<p>Result: 200
</p>
<p>Description: Ask for the extensions known by the server.
</p>
<p>Note: If the server accepts compression then it must advertise the GZIP
		capability. If the server can encrypt the communication channel then it
		must advertise the TLS capability. (The following example shows both
		capabilities advertised.)
</p>
<p>Example:
          <br /><hr class="insert" />
<a name="Example_Capa"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: CAPA
S: .GZIP
S: .TLS
S: .Extension1
S: .Extension.2 argument1
S: .Extension-3 argument1 argument2
S: 200 OK CAPA completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;28&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor42"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.8"></a><h3>4.8.&nbsp;
Command SGZP - not-authenticated state</h3>

<p>Name: start using GZip
</p>
<p>Arguments: none
</p>
<p>Results: 200 510
</p>
<p>Result 200 - the communication is now compressed.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Description: Change the communication in compressed mode using
		<a class='info' href='#RFC1952'>GZIP<span> (</span><span class='info'>Deutsch, P., Gailly, J-L., Adler, M., Deutsch, L., and G. Randers-Pehrson, &ldquo;GZIP file format specification version 4.3,&rdquo; May&nbsp;1996.</span><span>)</span></a> [RFC1952] as compression method. If this command is
        executed from the compression mode then it simply returns a 200 response code.
		The response to this command is using still the not-compressed mode of the channel.
		The compression becomes effective only after a 200 response line was send by the server.
</p>
<p>Note: With GZIP the data is compressed using the LZ77 algorithm and Huffman coding.
		Starting using this mode is like starting to write clear texts into a GZIP format archive
		and reading texts from a GZIP format archive. The compression is used both by the client and
		the server and they start to use it with the next line they send after the 200 response line
		received from the server.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Sgzp_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SGZP
S: 200 OK Using GZIP
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;29&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Sgzp_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SGZP
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;30&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor43"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.9"></a><h3>4.9.&nbsp;
Command STLS - not-authenticated state</h3>

<p>Name: start using TLS
</p>
<p>Arguments: none
</p>
<p>Results: 200 510
</p>
<p>Result 200 - the communication is now encrypted.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Description: Change the communication in mode TLS. If this command is
        executed from the encrypted mode then it simply returns a 200 response code.
		The response to this command is using still the not-encrypted mode of the channel.
		The encryption becomes effective only after a 200 response line was send by the server.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Stls_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STLS
S: 200 OK Using TLS
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;31&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Stls_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STLS
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;32&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor44"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.10"></a><h3>4.10.&nbsp;
Command PASS password - pre-authenticated state (PLAIN)</h3>

<p>Name: password
</p>
<p>Argument: password
</p>
<p>Result: 200 510 511 512
</p>
<p>Result 200 - the pair user/password was successfully authenticated.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid password.
</p>
<p>Result 512 - first send USER and then PASS.
</p>
<p>Description: Send the password associated to the previous USER.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Pass_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: USER account
S: 200 OK Send PASS
C: PASS password
S: 200 OK Authenticated
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;33&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Pass_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: USER account
S: 200 OK Send PASS
C: PASS
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;34&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Pass_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: USER account
S: 200 OK Send PASS
C: PASS password
S: 511 WRONG user/password pair
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;35&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Pass_512"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: AUTH PLAIN
S: 200 OK AUTH completed
C: PASS password
S: 512 EXPECTED USER
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;36&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor45"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.11"></a><h3>4.11.&nbsp;
Command USER account - pre-authenticated state (PLAIN)</h3>

<p>Name: user
</p>
<p>Argument: account
</p>
<p>Result: 200
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the user is accepted and expecting the password.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid account.
</p>
<p>Description: Send an account name for authentication and authorization.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_User_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: AUTH PLAIN
S: 200 OK Send USER
C: USER account
S: 200 OK Send PASS
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;37&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_User_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: AUTH PLAIN
S: 200 OK Send USER
C: USER
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;38&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_User_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: AUTH PLAIN
S: 200 OK Send USER
C: USER account
S: 511 INVALID username
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;39&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor46"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.12"></a><h3>4.12.&nbsp;
Command COPY - authenticated state</h3>

<p>Name: copy entry
</p>
<p>Arguments: UID_source path_destination_folder
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the copy was successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - unknown uid or invalid destination folder.
</p>
<p>Description: Copy a message/contact/event from the currently selected
        folder into another folder (by UID).
</p>
<p>Note: For copying a folder the client must use CPYF.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Copy_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: COPY UIDx1234 ARCHIVE_FOLDER/TODAY
S: 200 OK COPY completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;40&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Copy_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: COPY
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;41&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Copy_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: COPY UIDx1234 ARCHIVE_FOLDER/TODAY
S: 511 INVALID UID
C: COPY MSGx1234 ARCHIVE_FOLDER/1970
S: 511 INVALID Destination
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;42&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor47"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.13"></a><h3>4.13.&nbsp;
Command CPYF - authenticated state</h3>

<p>Name: copy folder
</p>
<p>Arguments: path_source_folder path_destination_folder
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the copy was successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid source or destination folder.
</p>
<p>Description: Copy the content of a folder into another folder.
</p>
<p>Note: In the destination folder are created copies of all entries found
        in the source. If the user needs to copy the content of the source folder in
        another folder then he must to create first a new folder with the MAKE
        command and then use it as argument for CPYF.
</p>
<p>Examples (in TODAY are copied only the messages from INBOX):
          <br /><hr class="insert" />
<a name="Example_Cpyf_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: CPYF INBOX ARCHIVE_FOLDER/TODAY
S: 200 OK CPYF completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;43&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Cpyf_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: CPYF
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;44&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Cpyf_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: CPYF MISSING ARCHIVE_FOLDER/TODAY
S: 511 INVALID Source
C: CPYF INBOX MISSING
S: 511 INVALID Destination
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;45&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor48"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.14"></a><h3>4.14.&nbsp;
Command DATT - authenticated state (MESG folder type)</h3>

<p>Name: delete attachment
</p>
<p>Arguments: UID AttNum
</p>
<p>Result: 200 510 511 521
</p>
<p>Result 200 - the attachment was successfully deleted.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - unknown uid or uid is not for a message.
</p>
<p>Result 521 - wrong attachment number.
</p>
<p>Description: Delete from a message an attachment. The first 
        attachment has number 1. All its children are also deleted.
</p>
<p>Note: It cannot be undone.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Datt_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DATT UIDx1234 1
S: 200 OK Attachment deleted
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;46&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Datt_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DATT
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;47&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Datt_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DATT UIDx1234 1
S: 511 INVALID UID
C: DATT UIDx1234 -1
S: 511 INVALID Attachment number
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;48&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Datt_521"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DATT UIDx1234 10
S: 521 There are not so many attachments
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;49&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor49"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.15"></a><h3>4.15.&nbsp;
Command DELE - authenticated state</h3>

<p>Name: delete entry
</p>
<p>Argument: UID
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the entry was successfully deleted.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - unknown uid.
</p>
<p>Description: Delete a message/contact/event by uid.
</p>
<p>Note: It cannot be undone.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Dele_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DELE UIDx1234
S: 200 OK Message deleted
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;50&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Dele_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DELE
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;51&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Dele_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DELE 1234
S: 511 INVALID UID
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;52&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor50"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.16"></a><h3>4.16.&nbsp;
Command DELF - authenticated state</h3>

<p>Name: delete folder
</p>
<p>Argument: path_folder
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the folder was successfully deleted.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - unknown path or the path points to a reserved folder.
</p>
<p>Description: Delete a folder and all its content and subfolders.
        A reserved folder cannot be deleted.
</p>
<p>Note: It cannot be undone.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Delf_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DELF ARCHIVE/TODAY
S: 200 OK Folder deleted
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;53&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Delf_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DELF
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;54&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Delf_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: DELF MISSING
S: 511 INVALID Folder
C: DELF INBOX
S: 511 INBOX cannot be deleted
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;55&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor51"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.17"></a><h3>4.17.&nbsp;
Command EXIT - authenticated state</h3>

<p>Name: exit
</p>
<p>Arguments: none
</p>
<p>Result: 200
</p>
<p>Description: Return the server to the Not-authenticated State.
</p>
<p>Example:
          <br /><hr class="insert" />
<a name="Example_Exit"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: EXIT
S: 200 OK EXIT completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;56&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor52"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.18"></a><h3>4.18.&nbsp;
Command FCPY - authenticated state</h3>

<p>Name: find and copy entries
</p>
<p>Arguments: path_destination_folder filter*
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the find and copy was successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid destination folder or wrong filter.
</p>
<p>Description: Search for messages/contacts/events only from the currently
        selected folder (no subfolders) that correspond to a filter and copy them 
        to a new folder. The tags are also copied.
</p>
<p>Note: The filter is delivered after the acceptance of the command
        (response code 100).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Fcpy_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FCPY ARCHIVE/SPAM
S: 100 OK SEND filter definition (end it with an empty line)
C: UID 00000001:00001000 AND TAG SPAM
C:
S: 200 OK FCPY completed (10 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;57&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Fcpy_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FCPY
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;58&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Fcpy_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FCPY MISSING
S: 511 INVALID folder
C: FCPY SEND
S: 100 OK SEND filter definition (end it with an empty line)
C: LATER
C:
S: 511 INVALID filter definition
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;59&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor53"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.19"></a><h3>4.19.&nbsp;
Command FDEL - authenticated state</h3>

<p>Name: find and delete entries
</p>
<p>Argument: filter*
</p>
<p>Result: 200 511
</p>
<p>Result 200 - the find and delete was successful.
</p>
<p>Result 511 - wrong filter (inclusive empty filter).
</p>
<p>Description: Search for messages/contacts/events only from the currently
        selected folder (no subfolders) that correspond to a filter and delete them
        (no copy in TRASH).
</p>
<p>Note: The filter is delivered after the acceptance of the command
        (response code 100).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Fdel_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FDEL
S: 100 OK SEND filter definition (end it with an empty line)
C: UID 00000001:00001000 AND TAG SPAM
C:
S: 200 OK FDEL completed (10 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;60&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Fdel_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FDEL
S: 100 OK SEND filter definition (end it with an empty line)
C: LATER
C:
S: 511 INVALID filter definition
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;61&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor54"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.20"></a><h3>4.20.&nbsp;
Command FIND - authenticated state</h3>

<p>Name: find entry
</p>
<p>Argument: filter*
</p>
<p>Result: 200 511
</p>
<p>Result 200 - the find was successful.
</p>
<p>Result 511 - wrong filter.
</p>
<p>Description: Search for messages/contacts/events only from the currently
        selected folder (no subfolders) that correspond to a filter and return their UIDs.
        If the search is done for a filter folder then the server does not expect any filter
        and apply the current filter (if any). If there is no filter in the filter folder then
        it is returned only the return code. The answer consists of the UIDs and, for a filter folder,
        they are followed by a 0x20 character and the absolute path for which are the corresponding
        UID.
</p>
<p>Note: For not FILT folders, the filter is delivered after the 
        acceptance of the command. An empty filter matches all messages/contacts/events
        from that folder.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Find_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /MESG-Folder
C: FIND
S: 100 OK SEND filter definition (end it with an empty line)
C: UID UIDx0001:UIDx9000 TAG SPAM
C:
S: .UIDx1234
S: .UIDx1235
S: .UIDx2340
S: 200 OK FIND completed (3 matches)
C: SLCT /FILT-Folder
C: FIND
S: .UIDx1234 /INBOX
S: .UIDx1234 /Trash
S: .UIDx1235 /Trash
S: 200 OK FIND completed (3 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;62&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Find_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FIND
S: 100 OK SEND filter definition (end it with an empty line)
C: LATER
C:
S: 511 INVALID filter definition
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;63&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor55"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.21"></a><h3>4.21.&nbsp;
Command FMOV - authenticated state</h3>

<p>Name: find and move
</p>
<p>Arguments: path_destination_folder filter*
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the find and move was successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid destination folder or wrong filter.
</p>
<p>Description: Search for messages/contacts/events only from the currently
        selected folder (no subfolders) that correspond to a filter and move them 
        to a new folder. The tags are also moved.
</p>
<p>Note: The filter is delivered after the acceptance of the command
        (response code 100).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Fmov_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FMOV ARCHIVE/SPAM
S: 100 OK SEND filter definition (end it with an empty line)
C: UID 00000001:00001000 AND TAG SPAM
C:
S: 200 OK FMOV completed (10 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;64&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Fmov_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FMOV
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;65&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Fmov_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FMOV MISSING
S: 511 INVALID folder
C: FMOV SEND
S: 100 OK SEND filter definition (end it with an empty line)
C: LATER
C:
S: 511 INVALID filter definition
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;66&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor56"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.22"></a><h3>4.22.&nbsp;
Command FTAG - authenticated state</h3>

<p>Name: find and tag entries
</p>
<p>Arguments: tag_list filter*
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the find and set of tag(s) were successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid tag list or wrong filter.
</p>
<p>Description: Search for messages/contacts/events only from the currently
        selected folder (no subfolders) that correspond to a filter and change their 
        tags.
</p>
<p>Note: The filter is delivered after the acceptance of the command
        (response code 100).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Ftag_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FTAG + SEEN
S: 100 OK SEND filter definition (end it with an empty line)
C: UID 00000001:00001000 AND TAG NEW
C:
S: 200 OK FTAG completed (10 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;67&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Ftag_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FTAG
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;68&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Ftag_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FTAG SEEN
S: 511 INVALID tag list
C: FTAG + SEEN
S: 100 OK SEND filter definition (end it with an empty line)
C: LATER
C:
S: 511 INVALID filter definition
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;69&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor57"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.23"></a><h3>4.23.&nbsp;
Command GTAG - authenticated state</h3>

<p>Name: get tag
</p>
<p>Arguments: UID_range
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the tag(s) of UIDs was/were successful displayed.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid UID or UID range.
</p>
<p>Description: Return the tags associated to one or more messages/contacts/events (by UID).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Gtag_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: GTAG UIDx1000
S: .UIDx1000 SEEN SPAM
S: 200 OK GTAG completed
C: GTAG UIDx1000:UIDx1234
S: .UIDx1000 SEEN SPAM
S: .UIDx1100
S: .UIDx1200 NEW
S: 200 OK GTAG completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;70&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Gtag_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: GTAG
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;71&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Gtag_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: GTAG -1
S: 511 INVALID UID
C: GTAG UIDx1234:UIDx1000
S: 511 INVALID UID range
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;72&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor58"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.24"></a><h3>4.24.&nbsp;
Command LIST - authenticated and not-selected state</h3>

<p>Name: list
</p>
<p>Arguments: path/filter?
</p>
<p>Results: 200 511 513
</p>
<p>Result 200 - the list was successful delivered (even if it is empty).
</p>
<p>Result 511 - filter is invalid.
</p>
<p>Result 521 - the specified path (that has no wildcard) does not exist or the filter
        returns no results.
</p>
<p>Description: List all folders that correspond to the filter (if it is provided),
        otherwise all direct children of this folder together with their types.
        All returned folder names are prefixed with the type of the corresponding folder
        (as it is used by the MAKE command) followed by a white space and the path to the
        folder (absolute or relative).
</p>
<p>Filter: It is a relative (does not begins with /) or an absolute (begins with /) path.
        The slash sign (/) is used to delimit folders in the hierarchy. There can be only
        a star (*) and must to be located in the name of the last folder. The '\' does
        not have any meaning and it is interpreted as a normal character. The server can
        return 511 if it founds '.' or '..' as folder names in the filter definition, and it must not
        escape (or give a special meaning) to the character found after a backslash. In addition, 
        the server cannot return relative paths using at beginning of a path the string './'.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_List_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: LIST
S: .MESG YESTERDAY
S: .MESG YEAR-2000
S: 200 OK LIST completed (2 matches)
C: LIST /*
S: .MESG /INBOX
S: .MESG /TRASH
S: .CALE /CALENDAR
S: 200 OK LIST completed (3 matches)
C: LIST YEAR-2010/J*
S: .MESG /WORK/YEAR-2010/JUN
S: .MESG /WORK/YEAR-2010/JUL
S: 200 OK LIST completed (2 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;73&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_List_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: LIST */*
S: 511 ERROR path filter can contain only one * in last folder name
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;74&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_List_521"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: LIST /ARCHIVE/2000
S: 521 ERROR The specified folder does not exist
C: LIST /archive*
S: 521 ERROR No matching folders found (0 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;75&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor59"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.25"></a><h3>4.25.&nbsp;
Command MAKE - authenticated state</h3>

<p>Name: make folder
</p>
<p>Argument: type path
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the folder was successfully created.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid path, unknown/unsupported type or the parent of the new folder
        does not accept to have subfolders.
</p>
<p>Description: Create a folder of a certain type.
</p>
<p>Types: They are case insensitive
          </p>
<ul class="text">
<li>ADDR - it holds contacts;
</li>
<li>CALE - it holds calendar events;
</li>
<li>CONF - it holds user's settings for roaming.
</li>
<li>FILE - it holds normal folders and files;
</li>
<li>FILT - it holds the results of a filter defined by the user (there can be only
            one filter per folder);
</li>
<li>FOLD - it contains only subfolders;
</li>
<li>JRNL - it holds a journal;
</li>
<li>NOTE - it holds user's notes;
</li>
<li>MESG - it holds messages;
</li>
<li>TODO - it holds todo tasks;
</li>
</ul><p>
        
</p>
<p>Note: If it requires parents that does not exist then the server will not create
        them for the client but it will return a 511 response code.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Make_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MAKE MESG /ARCHIVE/2010
S: 200 OK Folder created
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;76&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Make_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MAKE
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;77&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Make_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MAKE 1234
S: 511 ERROR Missing folder name
C: MAKE new 1234
S: 511 ERROR Unknown folder type
C: MAKE MESG /INBOX/1234
S: 511 ERROR The parent folder does not accept subfolders.
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;78&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor60"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.26"></a><h3>4.26.&nbsp;
Command MOVE - authenticated state</h3>

<p>Name: move entry
</p>
<p>Arguments: UID_source path_destination_folder
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the move was successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - unknown uid or invalid destination folder.
</p>
<p>Description: Move a message/contact/event into another folder (by UID).
</p>
<p>Note: For moving a folder the client must use MOVF.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Move_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MOVE UIDx1234 ARCHIVE_FOLDER/TODAY
S: 200 OK MOVE completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;79&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Move_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MOVE
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;80&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Move_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MOVE UIDx1234 ARCHIVE_FOLDER/TODAY
S: 511 INVALID UID
C: MOVE MSGx1234 ARCHIVE_FOLDER/1970
S: 511 INVALID Destination
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;81&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor61"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.27"></a><h3>4.27.&nbsp;
Command MOVF - authenticated state</h3>

<p>Name: move folder
</p>
<p>Arguments: path_source_folder path_destination_folder
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the move was successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid source or destination folder.
</p>
<p>Description: Move the content of a folder into another folder.
</p>
<p>Note: In the destination folder are moved all entries found in the source
        without the folders. If the user needs to move the content of the source folder in
        another folder then he must to create first this new folder with the MAKE
        command and then use it as argument for MOVF.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Movf_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MOVF INBOX ARCHIVE_FOLDER/TODAY
S: 200 OK MOVF completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;82&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Movf_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MOVF
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;83&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Movf_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MOVF MISSING ARCHIVE_FOLDER/TODAY
S: 511 INVALID Source
C: MOVF INBOX MISSING
S: 511 INVALID Destination
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;84&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor62"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.28"></a><h3>4.28.&nbsp;
Command NAME - authenticated state</h3>

<p>Name: rename folder
</p>
<p>Arguments: path new_name
</p>
<p>Results: 200 510 511
</p>
<p>Result 200 - the rename was successful.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid path, new_name or trying to rename a reserved folder name.
</p>
<p>Description: Rename a folder.
</p>
<p>Note: The new_name does not hold any path hierarchy.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Name_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: NAME ARCHIVE/2001 OLD-2001
S: 200 OK NAME completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;85&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Name_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: NAME
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;86&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Name_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: NAME /INBOX
S: 511 ERROR Missing the new name
C: NAME MissingFolder NewName
S: 511 ERROR Folder to be renamed was not found
C: NAME /INBOX InBox
S: 511 ERROR The folder cannot be renamed
C: NAME /A/Folder /A/new-folder
S: 511 ERROR The second argument must not be a path
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;87&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor63"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.29"></a><h3>4.29.&nbsp;
Command NOOP - authenticated state</h3>

<p>Name: noop
</p>
<p>Arguments: none
</p>
<p>Result: 200
</p>
<p>Description: It does nothing (eventually announce what changes was done in current folder).
</p>
<p>Example:
          <br /><hr class="insert" />
<a name="Example_Noop"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: NOOP
S: 200 OK NOOP completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;88&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor64"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.30"></a><h3>4.30.&nbsp;
Command RETR - authenticated state</h3>

<p>Name: retrieve
</p>
<p>Arguments for a FILT folder: none
</p>
<p>Arguments for other types: UID part?
</p>
<p>Results: 200 510 511
</p>
<p>Result 200 - the message/contact/event was found or filter content was delivered.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid UID or part name.
</p>
<p>Description: Fetch from server the message/contact/event with the given UID. For
        a filter folder, it must be called without arguments and it returns the content of the filter.
        Each line of answer is prefixed with a dot that it is not part of the returned object.
</p>
<p>Part: It is a XPATH in the response as it is returned by RETR.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Retr_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: RETR UIDx1234
S: .&lt;message&gt;&lt;header&gt;...&lt;/header&gt;&lt;body&gt;...&lt;/body&gt;&lt;/message&gt;
S: 200 OK RETR completed
C: RETR UIDx1234 header/subject
S: .&lt;message&gt;&lt;header&gt;
S: .&lt;subject&gt;Message's subject&lt;/subject&gt;
S: .&lt;/header&gt;&lt;/message&gt;
S: 200 OK RETR completed
C: RETR
S: .&lt;filter&gt;
S: .&lt;folders&gt;&lt;folder&gt;/Spam&lt;/folder&gt;&lt;/folders&gt;
S: .&lt;rules&gt;&lt;/rules&gt;
S: .&lt;/filter&gt;
S: 200 OK RETR completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;89&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Retr_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: RETR
S: 510 UNKNOWN command (only FILT folders do not needs arguments)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;90&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Retr_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: RETR WrongUID
S: 511 INVALID UID
C: RETR UIDx1234 ABC
S: 511 UNKNOWN part name
C: RETR UIDx1234
S: 511 RETR with UID is not allowed for a FILT folder
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;91&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor65"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.31"></a><h3>4.31.&nbsp;
Command SLCT - authenticated and not-selected state</h3>

<p>Name: select a folder
</p>
<p>Argument: path
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the folder was successfully selected.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - unknown path.
</p>
<p>Description: Select a folder. If the selection was not successful then
        no folder remains selected and the server switch in the 'Not-selected State'.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Slct_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /INBOX
S: 200 OK Folder selected
C: SLCT ARCHIVE/2000
S: 200 OK Folder selected
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;92&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Slct_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;93&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Slct_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT 1234
S: 511 INVALID folder
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;94&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor66"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.32"></a><h3>4.32.&nbsp;
Command SPAM - authenticated state (MESG folder type)</h3>

<p>Name: spam
</p>
<p>Argument: UID reason?
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the entry was successfully marked.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid or not found UID, or invalid reason.
</p>
<p>Description: Mark a message as SPAM/MALWARE. The server can ignore this command or
        it can check the reason (if present) and improve its SPAM detection mechanism.
</p>
<p>Reason: It can be the name of a field (ex.: header/subject) eventually followed
        by equal and the text from that field that identify it as a SPAM. If there is more
        than one criterion for marking a message as SPAM then the client must supply for
        each reason a SPAM command. If there is no reason then the whole indicated field's
        content is used.
</p>
<p>Note: It cannot be undone and no tag is set for this message.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Spam_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SPAM UIDx1234
S: 200 OK Message added to the spam database
C: SPAM UIDx1234 header/subject
S: 200 OK Message added to the spam database
C: SPAM UIDx1234 body=V1AGRA
S: 200 OK Message added to the spam database
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;95&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Spam_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SPAM
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;96&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Spam_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SPAM 1234
S: 511 INVALID UID
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;97&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor67"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.33"></a><h3>4.33.&nbsp;
Command STAG - authenticated state</h3>

<p>Name: set tags of entries
</p>
<p>Arguments: UID_range tag_list
</p>
<p>Result: 200 510 511
</p>
<p>Result 200 - the tag(s) for UIDs were successful set.
</p>
<p>Result 510 - unknown/unsupported command.
</p>
<p>Result 511 - invalid UID or UID range.
</p>
<p>Description: Set or delete tags associated to one or more messages/contacts/events (by UID).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Stag_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAG UIDx1000 + SEEN
S: 200 OK STAG completed
C: STAG UIDx1000:UIDx1234 + SEEN
S: 200 OK STAG completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;98&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Stag_510"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAG
S: 510 UNKNOWN command
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;99&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Stag_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAG -1
S: 511 INVALID UID
C: STAG -1 + SEEN
S: 511 INVALID UID
C: STAG UIDx1234 SEEN
S: 511 INVALID tag list
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;100&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor68"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.34"></a><h3>4.34.&nbsp;
Command STAT - authenticated state</h3>

<p>Name: status
</p>
<p>Arguments: none
</p>
<p>Result: 200 512
</p>
<p>Result 200 - the status of the folder was successfully delivered.
</p>
<p>Result 512 - no folder is selected.
</p>
<p>Description: Return the absolute path of the currently selected folder (PATH),
        its type (TYPE), an FUID that is incremented each time a change is produced to the folder,
        the tags (TAGS) and eventually additional information associated
        with this type of folder.
</p>
<p>Additional information:
          </p>
<ul class="text">
<li>ADDR - none;
</li>
<li>CALE - none;
</li>
<li>CONF - none.
</li>
<li>FILE - TOTAL;
</li>
<li>FILT - TOTAL and NEW;
</li>
<li>FOLD - none;
</li>
<li>JRNL - none;
</li>
<li>MESG - TOTAL and NEW;
</li>
<li>NOTE - TOTAL;
</li>
<li>TODO - TOTAL;
</li>
</ul><p>
        
</p>
<p>Note: An FUID has the same format as a normal UID and each new FUID is
        bigger as the precedent one (as is described for UIDs).
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Stat_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAT
S: .PATH /INBOX
S: .TYPE MSG
S: .FUID 1
S: .TAGS RESERVED
S: .TOTAL 10
S: .NEW 2
S: 200 OK Folder status displayed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;101&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Stat_512"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAT
S: 512 ERROR First select a folder
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;102&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor69"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.35"></a><h3>4.35.&nbsp;
Command STOR - authenticated state</h3>

<p>Name: store
</p>
<p>Arguments: none
</p>
<p>Result: 200 410 511
</p>
<p>Result 200 - the entry was successfully deleted.
</p>
<p>Result 410 - if the item cannot be stored.
</p>
<p>Result 511 - if the data is not a valid XML or its schema does
        not correspond to the type of the destination folder.
</p>
<p>Description: Store a new message/contact/event/filter into a folder.
        If it is written a new filter into a FILT folder, then the previous filter is deleted.
        If the new filter has an invalid XML structure or cannot be saved then the folder
        remains with the old filter (if any).
</p>
<p>Note: Do not send a message content using CDATA as it can hold empty lines
        and an empty line means for the server the end of the message to be stored.
</p>
<p>Examples:
          <br /><hr class="insert" />
<a name="Example_Stor_200"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STOR
S: 110 Send the message ended with an empty line
C: &lt;message&gt;&lt;header&gt;...&lt;/header&gt;&lt;body&gt;...&lt;/body&gt;&lt;/message&gt;
C:
S: 200 OK Message stored (UID is UIDx1234)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;103&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Stor_410"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STOR
S: 110 Send the message ended with an empty line
C: &lt;message&gt;&lt;header&gt;...&lt;/header&gt;&lt;body&gt;...&lt;/body&gt;&lt;/message&gt;
C:
S: 410 Cannot store it, not enough space
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;104&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_Stor_511"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STOR
S: 110 Send the message ended with an empty line
C: msg
C:
S: 511 Cannot store it, the message has an incorrect format
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;105&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor70"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Responses</h3>

<a name="anchor71"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Semantic and Syntax</h3>

<p>The Response-Code element is a 3-digit integer result code of the 
 attempt to understand and satisfy the request. These codes are fully defined 
 in the following section.
</p>
<p>After the Response-Code, can follow a 0x20 character and then a 
 Reason-Phrase intended to give a short textual description of the returned 
 code. The Response-Code is intended for automatic use. The Reason-Phrase is 
 intended for humane persons that debug the connection.
</p>
<p>The first digit of the Response-Code defines the class of 
 response. The last two digits do not have any categorization role. There are 4 
 values for the first digit:
          </p>
<ul class="text">
<li>1xx: Informational - Server waits for request continuation 
 or send unrequested data;
</li>
<li>2xx: Success - The action was successfully executed;
</li>
<li>4xx: Server Error - The server failed to perform the request, retry later;
</li>
<li>5xx: Server Error - The server failed to perform the request, permanent error;
</li>
</ul><p>
        
</p>
<p>There are commands that return a multi-line response. These are:
        CAPA, FIND, GTAG, LIST, RETR, and STAT. In this cases, the response code
        is at the beginning of the last line of the response. All other lines start with a dot (.).
</p>
<a name="respons_code_1xx"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
1xx Informational</h3>

<a name="respons_code_100"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.1"></a><h3>5.2.1.&nbsp;
100 Reserved</h3>

<p>Reserved.
</p>
<a name="respons_code_110"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.2"></a><h3>5.2.2.&nbsp;
110 Continue</h3>

<p>The client SHOULD continue sending the rest of this 
 request. This response informs the client that the server accepted the initial 
 part of the request and it is waiting for the next part of the request. The 
 server sends a final response after the request has been completely received 
 and processed.
</p>
<a name="respons_code_2xx"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
2xx Success</h3>

<a name="respons_code_200"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.1"></a><h3>5.3.1.&nbsp;
200 OK</h3>

<p>The request was successfully processed.
</p>
<a name="respons_code_4xx"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
4xx Temporary Server Error</h3>

<a name="respons_code_400"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4.1"></a><h3>5.4.1.&nbsp;
400 Reserved</h3>

<p>Reserved.
</p>
<a name="respons_code_401"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4.2"></a><h3>5.4.2.&nbsp;
401 Internal Error</h3>

<p>The request could not be processed because it was an internal error
          (ex.: something is wrong configured).
</p>
<a name="respons_code_410"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4.3"></a><h3>5.4.3.&nbsp;
410 Retry later</h3>

<p>The operation must to be retried later. This return code is used when the data
          cannot be stored because there was an error  (ex.: not enough space on disk).
</p>
<a name="respons_code_5xx"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
5xx Permanent Server Error</h3>

<a name="respons_code_500"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5.1"></a><h3>5.5.1.&nbsp;
500 Reserved</h3>

<p>Reserved.
</p>
<a name="respons_code_510"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5.2"></a><h3>5.5.2.&nbsp;
510 Unknown Command</h3>

<p>The request could not be processed because this command is unknown or its syntax
          is wrong.
</p>
<a name="respons_code_511"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5.3"></a><h3>5.5.3.&nbsp;
511 Invalid Parameter</h3>

<p>The request could not be processed because the command has an invalid parameter.
</p>
<p>This answer can be returned even if there was more than one 0x20 character
          between command and its arguments or between arguments.
</p>
<a name="respons_code_512"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5.4"></a><h3>5.5.4.&nbsp;
512 Out of order</h3>

<p>This command has a valid syntax but must to be send after other command required
          by the logic of the server. (Ex.: PASS after USER in Pre-authenticated State.)
</p>
<a name="respons_code_521"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5.5"></a><h3>5.5.5.&nbsp;
521 Not found</h3>

<p>This command has a valid syntax but the searched argument does not exist
          or cannot be accessed. (Ex.: LIST with a path does not have any wildcard and
          it does not exist.)
</p>
<a name="respons_code_531"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5.6"></a><h3>5.5.6.&nbsp;
531 Banned</h3>

<p>The client is not allowed to interact with the server. (Ex.: the client's
          IP is blacklisted.)
</p>
<a name="anchor72"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
All Possible Response Codes for All Commands</h3>

<a name="anchor73"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Not-authenticated State</h3>

<p>The Welcome Message: 200 401 410 531
</p>
<p>QUIT: 200
</p>
<p>AUTH: 510 511
</p>
<p>AUTH mechanism: 200 511
</p>
<p>CAPA: 200
</p>
<p>SGZP: 200 510
</p>
<p>STLS: 200 510
</p>
<p>other: 510
</p>
<a name="anchor74"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Pre-authenticating State (PLAIN method)</h3>

<p>QUIT: 200
</p>
<p>PASS: 510 511 512
</p>
<p>PASS password: 200 511 512
</p>
<p>USER: 510 511
</p>
<p>USER account: 200 511
</p>
<p>other: 510
</p>
<a name="anchor75"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Authenticated State</h3>

<p>QUIT: 200
</p>
<p>COPY: 510 511
</p>
<p>COPY arguments: 200 511
</p>
<p>CPYF: 510 511
</p>
<p>CPYF arguments: 200 511
</p>
<p>DATT: 510 511
</p>
<p>DATT arguments: 200 511 521
</p>
<p>DELE: 510 511
</p>
<p>DELE arguments: 200 511
</p>
<p>DELF: 510 511
</p>
<p>DELF arguments: 200 511
</p>
<p>EXIT: 200
</p>
<p>FCPY: 510 511
</p>
<p>FCPY arguments: 200 511
</p>
<p>FDEL: 511
</p>
<p>FDEL arguments: 200 511
</p>
<p>FIND: 511
</p>
<p>FIND arguments: 200 511
</p>
<p>FMOV: 510 511
</p>
<p>FMOV arguments: 200 511
</p>
<p>FTAG: 510 511
</p>
<p>FTAG arguments: 200 511
</p>
<p>GTAG: 510 511
</p>
<p>GTAG arguments: 200 511
</p>
<p>LIST: 200
</p>
<p>LIST arguments: 200 511 521
</p>
<p>MAKE: 510 511
</p>
<p>MAKE arguments: 200 511
</p>
<p>MOVE: 510 511
</p>
<p>MOVE arguments: 200 511
</p>
<p>MOVF: 510 511
</p>
<p>MOVF arguments: 200 511
</p>
<p>NAME: 510 511
</p>
<p>NAME arguments: 200 511
</p>
<p>NOOP: 200
</p>
<p>RETR: 510 511
</p>
<p>RETR arguments: 199 200 511
</p>
<p>SLCT: 510 511
</p>
<p>SLCT arguments: 200 511
</p>
<p>SPAM: 510 511
</p>
<p>SPAM arguments: 200 511 512
</p>
<p>STAG: 510 511
</p>
<p>STAG arguments: 200 511
</p>
<p>STAT: 200 512
</p>
<p>STOR: 200 410 511
</p>
<p>other: 510
</p>
<a name="anchor76"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4"></a><h3>6.4.&nbsp;
Not-selected State</h3>

<p>LIST: 200
</p>
<p>LIST arguments: 200 511 521
</p>
<p>SLCT: 510 511
</p>
<p>SLCT arguments: 200 511
</p>
<p>other: 510
</p>
<a name="anchor77"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Example of Conversations</h3>

<a name="anchor78"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Successful connection and authentication</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_1"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 200 Welcome
C: AUTH PLAIN
S: 200 OK Send USER
C: USER account
S: 200 OK Send PASS
C: PASS password
S: 200 OK Authenticated
C: STAT
S: .PATH /INBOX
S: .TYPE MSG
S: .TAGS RESERVED
S: .TOTAL 10
S: .NEW 2
S: 200 OK Folder status displayed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;106&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor79"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Successful connection but unsuccessful authentication</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_2"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 200 Welcome
C: AUTH PLAIN
S: 200 OK Send USER
C: USER account
S: 200 OK Send PASS
C: PASS password
S: 511 WRONG user/password pair
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;107&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor80"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Connection refused</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_3_1"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 531 Your IP is blacklisted
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;108&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_3_2"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 410 Too many connections, please retry later
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;109&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

          <br /><hr class="insert" />
<a name="Example_3_3"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
S: 401 Internal error, the server has an error in its configuration
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;110&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor81"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.4"></a><h3>7.4.&nbsp;
Find what folders are available with messages</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_4"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: LIST /*
S: .MESG /INBOX
S: .MESG /TRASH
S: .CALE /CALENDAR
S: 200 OK LIST completed (3 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;111&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor82"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.5"></a><h3>7.5.&nbsp;
Retrieve a message</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_5"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /INBOX
S: 200 OK Folder selected
C: FIND
S: 100 OK SEND filter definition (end it with an empty line)
C: TAG NEW AND IS header/subject = 'Newsletter from Example.com'
C:
S: .UIDx1234
S: .UIDx1235
S: .UIDx2340
S: 200 OK FIND completed (3 matches)
C: RETR UIDx1234
S: .&lt;message&gt;&lt;header&gt;
S: .&lt;from&gt;HCCP&amp;lt;news@example.com&amp;gt;&lt;/from&gt;
S: .&lt;to&gt;newsletter@localhost.localdomain&lt;/to&gt;
S: .&lt;subject&gt;HCCP Newsletter&lt;/subject&gt;
S: .&lt;/header&gt;&lt;body&gt;
S: .&lt;text&gt;This is your weekly newsletter.&lt;/text&gt;
S: .&lt;/body&gt;&lt;/message&gt;
S: 200 OK RETR completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;112&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor83"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.6"></a><h3>7.6.&nbsp;
Retrieve a contact</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_6"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /CONTACT
S: 200 OK Folder selected
C: FIND
S: 100 OK SEND filter definition (end it with an empty line)
C: REGEX vcard/fn/text = 'RADU.*?' OR vcard/fn/text = '.*? Iulian'
C:
S: .CONx0001
S: 200 OK FIND completed (1 match)
C: RETR CONx0001
S: .&lt;vcards xmlns="urn:ietf:params:xml:ns:vcard-4.0"&gt;
S: .    &lt;vcard&gt;
S: .      &lt;fn&gt;&lt;text&gt;Iulian Radu&lt;/text&gt;&lt;/fn&gt;
S: .      &lt;n&gt;
S: .        &lt;surname&gt;&lt;text&gt;Radu&lt;/text&gt;&lt;/surname&gt;
S: .        &lt;given&gt;&lt;text&gt;Iulian&lt;/text&gt;&lt;/given&gt;
S: .        &lt;suffix&gt;
S: .          &lt;text&gt;Dipl.-Ing.&lt;/text&gt;
S: .        &lt;/suffix&gt;
S: .      &lt;/n&gt;
S: .      &lt;sex&gt;1&lt;/sex&gt;
S: .      &lt;lang&gt;
S: .        &lt;parameters&gt;&lt;pref&gt;1&lt;/pref&gt;&lt;/parameters&gt;
S: .        &lt;language-tag&gt;de&lt;/language-tag&gt;
S: .      &lt;/lang&gt;
S: .      &lt;org&gt;
S: .        &lt;parameters&gt;&lt;type&gt;work&lt;/type&gt;&lt;/parameters&gt;
S: .        &lt;text&gt;Example Com&lt;/text&gt;
S: .      &lt;/org&gt;
S: .      &lt;email&gt;
S: .        &lt;parameters&gt;&lt;type&gt;work&lt;/type&gt;&lt;/parameters&gt;
S: .        &lt;text&gt;iulian.radu@gmx.at&lt;/text&gt;
S: .      &lt;/email&gt;
S: .      &lt;class&gt;PUBLIC&lt;/class&gt;
S: .   &lt;/vcard&gt;
S: .&lt;/vcards&gt;
S: 200 OK RETR completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;113&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor84"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.7"></a><h3>7.7.&nbsp;
Retrieve an event</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_7"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /CALENDAR
S: 200 OK Folder selected
C: FIND
S: 100 OK SEND filter definition (end it with an empty line)
C: IS vcalendar/components/vevent/properties/location = 'Wien'
C: OR IS vcalendar/components/vevent/properties/uid/text =
C:       'uidx1234@example.com'
C:
S: .EVNx0001
S: 200 OK FIND completed (1 match)
C: RETR EVNx0001
S: .&lt;icalendar xmlns="urn:ietf:params:xml:ns:icalendar-2.0"&gt;
S: .    &lt;vcalendar&gt;
S: .        &lt;properties&gt;
S: .            &lt;prodid&gt;
S: .                &lt;text&gt;-//amap/calender//NONSGML v1.0//EN&lt;/text&gt;
S: .            &lt;/prodid&gt;
S: .            &lt;version&gt;&lt;text&gt;2.0&lt;/text&gt;&lt;/version&gt;
S: .        &lt;/properties&gt;
S: .        &lt;components&gt;
S: .            &lt;vevent&gt;
S: .                &lt;properties&gt;
S: .                    &lt;location&gt;Vienna&lt;/location&gt;
S: .                    &lt;dtstamp&gt;
S: .                        &lt;date-time utc='yes'&gt;
S: .                            &lt;year&gt;2010&lt;/year&gt;
S: .                            &lt;month&gt;1&lt;/month&gt;
S: .                            &lt;day&gt;31&lt;/day&gt;
S: .                            &lt;hour&gt;11&lt;/hour&gt;
S: .                            &lt;minute&gt;0&lt;/minute&gt;
S: .                            &lt;second&gt;0&lt;/second&gt;
S: .                        &lt;/date-time&gt;
S: .                    &lt;/dtstamp&gt;
S: .                    &lt;dtstart&gt;
S: .                        &lt;date&gt;
S: .                            &lt;year&gt;2010&lt;/year&gt;
S: .                            &lt;month&gt;11&lt;/month&gt;
S: .                            &lt;day&gt;2&lt;/day&gt;
S: .                            &lt;hour&gt;21&lt;/hour&gt;
S: .                            &lt;minute&gt;30&lt;/minute&gt;
S: .                            &lt;second&gt;0&lt;/second&gt;
S: .                        &lt;/date&gt;
S: .                    &lt;/dtstart&gt;
S: .                    &lt;dtend&gt;
S: .                        &lt;date&gt;
S: .                            &lt;year&gt;2010&lt;/year&gt;
S: .                            &lt;month&gt;11&lt;/month&gt;
S: .                            &lt;day&gt;2&lt;/day&gt;
S: .                        &lt;/date&gt;
S: .                    &lt;/dtend&gt;
S: .                    &lt;summary&gt;
S: .                        &lt;text&gt;An event in Wien.&lt;/text&gt;
S: .                    &lt;/summary&gt;
S: .                    &lt;uid&gt;
S: .                        &lt;text&gt;uidx1234@example.com&lt;/text&gt;
S: .                    &lt;/uid&gt;
S: .                &lt;/properties&gt;
S: .            &lt;/vevent&gt;
S: .        &lt;/components&gt;
S: .    &lt;/vcalendar&gt;
S: .&lt;/icalendar&gt;
S: 200 OK RETR completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;114&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor85"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.8"></a><h3>7.8.&nbsp;
Store a message</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_8"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /OUTBOX
S: 200 OK Folder selected
C: STOR
S: 110 Send the message ended with an empty line
C: &lt;message&gt;&lt;header&gt;
C: &lt;from&gt;HCCP&amp;lt;news@example.com&amp;gt;&lt;/from&gt;
C: &lt;to&gt;newsletter@localhost.localdomain&lt;/to&gt;
C: &lt;subject&gt;HCCP Newsletter&lt;/subject&gt;
C: &lt;/header&gt;&lt;body&gt;
C: &lt;text&gt;This is your weekly newsletter.&lt;/text&gt;
C: &lt;/body&gt;&lt;/message&gt;
C:
S: 200 OK Message stored (UID is UIDx1234)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;115&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor86"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.9"></a><h3>7.9.&nbsp;
Store a contact</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_9"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /CONTACT
S: 200 OK Folder selected
C: STOR
S: 110 Send the contact info ended with an empty line
C: &lt;vcards xmlns="urn:ietf:params:xml:ns:vcard-4.0"&gt;
C:     &lt;vcard&gt;
C:       &lt;fn&gt;&lt;text&gt;Iulian Radu&lt;/text&gt;&lt;/fn&gt;
C:       &lt;n&gt;
C:         &lt;surname&gt;&lt;text&gt;Radu&lt;/text&gt;&lt;/surname&gt;
C:         &lt;given&gt;&lt;text&gt;Iulian&lt;/text&gt;&lt;/given&gt;
C:         &lt;suffix&gt;
C:           &lt;text&gt;Dipl.-Ing.&lt;/text&gt;
C:         &lt;/suffix&gt;
C:       &lt;/n&gt;
C:       &lt;sex&gt;1&lt;/sex&gt;
C:       &lt;lang&gt;
C:         &lt;parameters&gt;&lt;pref&gt;1&lt;/pref&gt;&lt;/parameters&gt;
C:         &lt;language-tag&gt;de&lt;/language-tag&gt;
C:       &lt;/lang&gt;
C:       &lt;org&gt;
C:         &lt;parameters&gt;&lt;type&gt;work&lt;/type&gt;&lt;/parameters&gt;
C:         &lt;text&gt;Example Com&lt;/text&gt;
C:       &lt;/org&gt;
C:       &lt;email&gt;
C:         &lt;parameters&gt;&lt;type&gt;work&lt;/type&gt;&lt;/parameters&gt;
C:         &lt;text&gt;iulian.radu@gmx.at&lt;/text&gt;
C:       &lt;/email&gt;
C:       &lt;class&gt;PUBLIC&lt;/class&gt;
C:    &lt;/vcard&gt;
C: &lt;/vcards&gt;
C:
S: 200 OK Contact stored (UID is UIDx1234)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;116&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor87"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.10"></a><h3>7.10.&nbsp;
Store an event</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_10"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: SLCT /CALENDAR
S: 200 OK Folder selected
C: STOR
S: 110 Send the contact info ended with an empty line
C: &lt;icalendar xmlns="urn:ietf:params:xml:ns:icalendar-2.0"&gt;
C:     &lt;vcalendar&gt;
C:         &lt;properties&gt;
C:             &lt;prodid&gt;
C:                 &lt;text&gt;-//amap/calender//NONSGML v1.0//EN&lt;/text&gt;
C:             &lt;/prodid&gt;
C:             &lt;version&gt;&lt;text&gt;2.0&lt;/text&gt;&lt;/version&gt;
C:         &lt;/properties&gt;
C:         &lt;components&gt;
C:             &lt;vevent&gt;
C:                 &lt;properties&gt;
C:                     &lt;location&gt;Vienna&lt;/location&gt;
C:                     &lt;dtstamp&gt;
C:                         &lt;date-time utc='yes'&gt;
C:                             &lt;year&gt;2010&lt;/year&gt;
C:                             &lt;month&gt;1&lt;/month&gt;
C:                             &lt;day&gt;31&lt;/day&gt;
C:                             &lt;hour&gt;11&lt;/hour&gt;
C:                             &lt;minute&gt;0&lt;/minute&gt;
C:                             &lt;second&gt;0&lt;/second&gt;
C:                         &lt;/date-time&gt;
C:                     &lt;/dtstamp&gt;
C:                     &lt;dtstart&gt;
C:                         &lt;date&gt;
C:                             &lt;year&gt;2010&lt;/year&gt;
C:                             &lt;month&gt;11&lt;/month&gt;
C:                             &lt;day&gt;2&lt;/day&gt;
C:                             &lt;hour&gt;21&lt;/hour&gt;
C:                             &lt;minute&gt;30&lt;/minute&gt;
C:                             &lt;second&gt;0&lt;/second&gt;
C:                         &lt;/date&gt;
C:                     &lt;/dtstart&gt;
C:                     &lt;dtend&gt;
C:                         &lt;date&gt;
C:                             &lt;year&gt;2010&lt;/year&gt;
C:                             &lt;month&gt;11&lt;/month&gt;
C:                             &lt;day&gt;2&lt;/day&gt;
C:                         &lt;/date&gt;
C:                     &lt;/dtend&gt;
C:                     &lt;summary&gt;
C:                         &lt;text&gt;An event in Wien.&lt;/text&gt;
C:                     &lt;/summary&gt;
C:                     &lt;uid&gt;
C:                         &lt;text&gt;uidx1234@example.com&lt;/text&gt;
C:                     &lt;/uid&gt;
C:                 &lt;/properties&gt;
C:             &lt;/vevent&gt;
C:         &lt;/components&gt;
C:     &lt;/vcalendar&gt;
C: &lt;/icalendar&gt;
C:
S: 200 OK Event stored (UID is UIDx1234)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;117&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor88"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.11"></a><h3>7.11.&nbsp;
Mark messages as SPAM an move them in a new folder</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_11"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAG UIDx1000 + SPAM
S: 200 OK STAG completed
C: SPAM UIDx1000 header/subject
S: 200 OK Message added to the spam database
C: MAKE MESG /Archive-SPAM
S: 200 OK Folder created
C: FMOV /Archive-SPAM
S: 100 OK SEND filter definition (end it with an empty line)
C: TAG SPAM
C:
S: 200 OK FMOV completed (19 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;118&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor89"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.12"></a><h3>7.12.&nbsp;
Create a filter folder, find the matching entries of the filter and read its filter definition</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_12"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MAKE FILT /New-messages
S: 200 OK Folder created
C: STOR
S: 110 Send the filter content ended with an empty line
C: &lt;filter&gt;
C: &lt;folders&gt;&lt;folder&gt;/INBOX&lt;/folder&gt;&lt;/folders&gt;
C: &lt;rules&gt;
C: &lt;and&gt;&lt;not&gt;&lt;tag&gt;SEEN&lt;/tag&gt;&lt;/not&gt;&lt;/and&gt;
C: &lt;/rules&gt;
C: &lt;/filter&gt;
C:
S: 200 OK Filter stored
C: SLCT /New-messages
S: 200 OK Folder selected
C: FIND
S: .UIDx1234 /INBOX
S: .UIDx1234 /Trash
S: .UIDx1235 /Trash
S: 200 OK FIND completed (3 matches)
C: RETR
S: .&lt;filter&gt;
S: .&lt;folders&gt;&lt;folder&gt;/INBOX&lt;/folder&gt;&lt;/folders&gt;
S: .&lt;rules&gt;&lt;not&gt;&lt;tag&gt;SEEN&lt;/tag&gt;&lt;/not&gt;&lt;/rules&gt;
S: .&lt;/filter&gt;
S: 200 OK RETR completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;119&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor90"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.13"></a><h3>7.13.&nbsp;
Create a folder and rename it</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_13"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: MAKE MESG /My/NewFolder
S: 200 OK Folder created
C: NOOP
S: 200 NOOP OK
C: NAME /My/NewFolder AFolder
S: 200 OK NAME completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;120&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor91"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.14"></a><h3>7.14.&nbsp;
Find the status for a folder</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_14"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: LIST /*
S: .MESG /INBOX
S: .MESG /TRASH
S: .CALE /CALENDAR
S: 200 OK LIST completed (3 matches)
C: SLCT /INBOX
S: 200 OK SELECT completed
C: STAT
S: .PATH /INBOX
S: .TYPE MSG
S: .TAGS RESERVED
S: .TOTAL 10
S: .NEW 5
S: 200 OK Folder status displayed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;121&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor92"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.15"></a><h3>7.15.&nbsp;
Set and check the tags of a message</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_15"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: STAG UIDx1000 + SEEN
S: 200 OK STAG completed
C: GTAG UIDx1000
S: UIDx1000 SEEN SPAM
S: 200 OK GTAG completed
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;122&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="anchor93"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.16"></a><h3>7.16.&nbsp;
Find messages that can be SPAM and delete them</h3>

<p>
          <br /><hr class="insert" />
<a name="Example_16"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C: FTAG + SPAM
S: 100 OK SEND filter definition (end it with an empty line)
C: REGEX header/subject = '[Vv][i1]agra'
C:
S: 200 OK FTAG completed (10 matches)
C: FDEL
S: 100 OK SEND filter definition (end it with an empty line)
C: UID 00000001:00001000 AND TAG SPAM
C:
S: 200 OK FDEL completed (10 matches)
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;123&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        

<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2629">[RFC2629]</a></td>
<td class="author-text"><a href="mailto:mrose@not.invisible.net">Rose, M.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2629">Writing I-Ds and RFCs using XML</a>,&rdquo; RFC&nbsp;2629, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2629.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2629.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2629.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3552">[RFC3552]</a></td>
<td class="author-text">Rescorla, E. and B. Korver, &ldquo;<a href="http://tools.ietf.org/html/rfc3552">Guidelines for Writing RFC Text on Security Considerations</a>,&rdquo; BCP&nbsp;72, RFC&nbsp;3552, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3552.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.daboo-et-al-icalendar-in-xml">[I-D.daboo-et-al-icalendar-in-xml]</a></td>
<td class="author-text">Daboo, C., Douglass, M., and S. Lees, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-daboo-et-al-icalendar-in-xml-02.txt">xCal: The XML format for iCalendar</a>,&rdquo; draft-daboo-et-al-icalendar-in-xml-02 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-daboo-et-al-icalendar-in-xml-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-vcarddav-vcardxml">[I-D.ietf-vcarddav-vcardxml]</a></td>
<td class="author-text">Perreault, S., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-vcarddav-vcardxml-03.txt">vCard XML Representation</a>,&rdquo; draft-ietf-vcarddav-vcardxml-03 (work in progress), May&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-vcarddav-vcardxml-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1952">[RFC1952]</a></td>
<td class="author-text"><a href="mailto:ghost@aladdin.com">Deutsch, P.</a>, <a href="mailto:gzip@prep.ai.mit.edu">Gailly, J-L.</a>, <a href="mailto:madler@alumni.caltech.edu">Adler, M.</a>, <a href="mailto:ghost@aladdin.com">Deutsch, L.</a>, and <a href="mailto:randeg@alumni.rpi.edu">G. Randers-Pehrson</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1952">GZIP file format specification version 4.3</a>,&rdquo; RFC&nbsp;1952, May&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1952.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc1952.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc1952.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2821">[RFC2821]</a></td>
<td class="author-text">Klensin, J., &ldquo;<a href="http://tools.ietf.org/html/rfc2821">Simple Mail Transfer Protocol</a>,&rdquo; RFC&nbsp;2821, April&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc2821.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3629">[RFC3629]</a></td>
<td class="author-text">Yergeau, F., &ldquo;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>,&rdquo; STD&nbsp;63, RFC&nbsp;3629, November&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3629.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3921">[RFC3921]</a></td>
<td class="author-text"><a href="mailto:stpeter@jabber.org">Saint-Andre, P., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3921">Extensible Messaging and Presence Protocol (XMPP): Instant Messaging and Presence</a>,&rdquo; RFC&nbsp;3921, October&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3921.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3921.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3921.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5545">[RFC5545]</a></td>
<td class="author-text">Desruisseaux, B., &ldquo;<a href="http://tools.ietf.org/html/rfc5545">Internet Calendaring and Scheduling Core Object Specification (iCalendar)</a>,&rdquo; RFC&nbsp;5545, September&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5545.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Iulian Radu (editor)</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:iulian.radu@gmx.at">iulian.radu@gmx.at</a></td></tr>
</table>
</body></html>
