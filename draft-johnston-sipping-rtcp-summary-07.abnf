VoiceQualityReportEvent  =  AlertReport / SessionReport / IntervalReport


SessionReport = "VQSessionReport" CLRF
                       LocalMetrics [CLRF RemoteMetrics]
                       [DialogID]

IntervalReport = "VQIntervalReport" CLRF
                       LocalMetrics [CLRF RemoteMetrics]
                       [DialogID]

LocalMetrics  = "LocalMetrics" COLON Metrics
RemoteMetrics = "RemoteMetrics" COLON Metrics

AlertReport   = "VQAlertReport" COLON
                            MetricType WSP Severity WSP Direction CLRF
                            "Metrics:" CLRF
                               Metrics
                               [CLRF "OtherDir Metrics:" CLRF Metrics]


Metrics = TimeStamps CLRF
               SessionDescription CLRF
               CallID CLRF
               LocalAddr CRLF
               RemoteAddr CRLF
               [JitterBuffer CRLF]
               [PacketLoss CRLF]
               [BurstGapLoss CLRF]
               [Delay CLRF]
               [Signal CLRF]
               [QualityScores CLRF]
               *[Extension CLRF]

TimeStamps = "Timestamps" EQUAL StartTime WSP StopTime
StartTime  = "START" COLON word
StopTime   = "STOP" COLON word


SessionDescription  = "SessionDesc" EQUAL
                             [PayloadType WSP]
                             [PayloadDesc WSP]
                             [SampleRate WSP]
                             [FrameDuration WSP]
                             [FrameOctets WSP]
                             [FramesPerPacket WSP]
                             [PacketLossConcealment WSP]
                             [SilenceSuppressionState]


PayloadType  = "PT" COLON (1*3DIGIT)

PayloadDesc  = "PD" COLON word

SampleRate = "SR" COLON (1*5DIGIT)

FrameDuration = "FD" COLON (1*3DIGIT)

FrameOctets  = "FO" COLON (1*4DIGIT)

FramesPerPacket = "FPP" COLON (1*2DIGIT)

PacketLossConcealment  = "PLC" COLON ("0" / "1" / "2" / "3")
SilenceSuppressionState  = "SSUP" COLON ("on" / "off")

CallID  =  "CID" COLON word [ "@" word ]

LocalAddr   = "LocalAddr" COLON IPAddress WSP Port WSP Ssrc

RemoteAddr  = "RemoteAddr" COLON IPAddress WSP Port WSP Ssrc

IPAddress   = "IP" COLON IPv6address / IPv4address
Port        = "PORT" COLON 1*DIGIT
Ssrc        = "SSRC" text / notAvail

JitterBuffer = "JitterBuffer" EQUAL
                       [JitterBufferAdaptive WSP]
                       [JitterBufferRate WSP]
                       [JitterBufferNominal WSP]
                       [JitterBufferMax WSP]
                       [JitterBufferAbsMax]

JitterBufferAdaptive  = "JBA" COLON ("0" / "1" / "2" / "3")

JitterBufferRate      = "JBR" COLON (1*2DIGIT) ;0-15
JitterBufferNominal   = "JBN" COLON (1*5DIGIT) ;0-65535
JitterBufferMax       = "JBM" COLON (1*5DIGIT) ;0-65535
JitterBufferAbsMax    = "JBA" COLON (1*5DIGIT) ;0-65535

PacketLoss = "PacketLoss" EQUAL
                     [NetworkPacketLossRate]
                     [JitterBufferDiscardRate]
BurstGapLoss = "BurstGapLoss" EQUAL
                          [BurstLossDensity WSP]
                          [BurstDuration WSP]
                          [GapLossDensity WSP]
                          [GapDuration WSP]
                          [MinimumGapThreshold]

Delay = "Delay" EQUAL
                 [RoundTripDelay WSP]
                 [EndSystemDelay WSP]
                 [OneWayDelay WSP]
                 [InterarrivalJitter WSP]
                 [MeanAbsoluteJitter]

RoundTripDelay     = "RTD" COLON (1*5DIGIT) ;0-65535

EndSystemDelay     = "ESD" COLON (1*5DIGIT) ;0-65535

OneWayDelay        = "OWD" COLON (1*5DIGIT) ;0-65535

InterarrivalJitter = "IAJ" COLON (1*5DIGIT) ;0-65535
MeanAbsoluteJitter = "MAJ" COLON (1*5DIGIT)

Signal = "Signal" EQUAL
                  [SignalLevel WSP]
                  [NoiseLevel WSP]
                  [ResidualEchoReturnLoss]

SignalLevel = "SL" COLON (["-"] 1*2DIGIT)
NoiseLevel  = "NL" COLON (["-"] 1*2DIGIT)
ResidualEchoReturnLoss = "RERL" COLON (1*3DIGIT)


QualityEstimates  = "QualityEst" EQUAL
                          [ListeningQualityR WSP]
                          [RLQEstAlg WSP]
                          [ConversationalQualityR WSP]
                          [RCQEstAlg WSP]
                          [ExternalR-In WSP]
                          [ExtRInEstAlg WSP]
                          [ExternalR-Out WSP]
                          [ExtROutEstAlg WSP]
                          [MOS-LQ WSP]
                          [MOSLQEstAlg WSP]
                          [MOS-CQ WSP]
                          [MOSCQEstAlg WSP]
                          [QoEEstAlg]

ListeningQualityR = "RLQ" COLON (1*3DIGIT) ; 0 - 120
RLQEstAlg = "RLQEstAlg" COLON word ; "PESQ", "G.107", or other

ConversationalQualityR = "RCQ" (COLON 1*3DIGIT) ; 0 - 120
RCQEstAlg = "RCQEstAlg" COLON word ; "PESQ", "G.107", or other

ExternalR-In = "EXTRI" COLON (1*3DIGIT) ; 0 - 120
ExtRInEstAlg = "ExtRIEstAlg" COLON word ; "PESQ", "G.107", or other

ExternalR-Out = "EXTRO" COLON (1*3DIGIT) ; 0 - 120
ExtRInEstAlg = "ExtROEstAlg" COLON word ; "PESQ", "G.107", or other
MOS-LQ = "MOSLQ" COLON (DIGIT ["." 1*2DIGIT]) ; 0.0 - 4.9
MOSLQEstAlg = "MOSLQEstAlg" COLON word ; "PESQ", "G.107", or other

MOS-CQ = "MOSCQ" COLON (DIGIT ["." 1*2DIGIT]  ; 0.0 - 4.9
MOSCQEstAlg = "MOSCQEstAlg" COLON word ; "PESQ", "G.107", or other

QoEEstAlg = "QoEEstAlg'

DialogID  = "DialogID" COLON callid *(SEMI did-parm)
did-parm  = to-tag / from-tag / generic-param
callid    = *(token)
to-tag    = "to-tag" EQUAL token
from-tag  = "from-tag" EQUAL token

MetricType = "Type" COLON "RLQ" / "RCQ" / "EXTR" /
                               "MOSLQ" / "MOSCQ" /
                               "BD" / "NLR" / "JDR" /
                               "RTD" / "ESD" / "IAD" /
                               "RERL" / token

Direction = "Dir" COLON "local" / "remote"

Severity  = "Severity" COLON "Warning" / "Critical" /
                                          "Clear"

Extension = *(token)




TimeStamps=START:10012004.18.23.43 STOP:10012004.18.26.02
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3 SSUP:on
CallID=1890463548@alice.uac.chicago.com
LocalAddr=IP:10.10.1.100 PORT: 5000 SSRC:fjuekdn393k
RemoteAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:14
QualityEst=RLQ:90 RCQ:85 EXTRI:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
TimeStamps=START:10012004.18.23.43 stop:10012004.18.26.02
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3 SSUP:on
CallID=1890463548@alice.uac.chicago.com
LocalAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
RemoteAddr=IP:10.10.1.100 PORT:5000 SSRC:fjuekdn393k
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:0
QualityEst=RLQ:90 RCQ:85 EXTRI:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
TimeStamps=START:10012004.19.01.04 STOP:10012004.19.01.52
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3 SSUP:on
CallID=1890463548@alice.chicago.com
LocalAddr=IP:10.10.1.100 PORT: 5000 SSRC:fjuekdn393k
RemoteAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:14
QualityEst=RLQ:90 RCQ:85 EXTR:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
TimeStamps=START:10012004.18.23.43 stop:10012004.18.26.02
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3 SSUP:on
CallID=1890463548@alice.uac.chicago.com
LocalAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
RemoteAddr=IP:10.10.1.100 PORT:5000 SSRC:fjuekdn393k
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:0
QualityEst=RLQ:90 RCQ:85 EXTRI:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
TimeStamps=START:10012004.18.23.43 STOP:10012004.18.26.02
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3  SSUP:on
CallID=1890463548@alice.uac.chicago.com
LocalAddr=IP:10.10.1.100 PORT: 5000 SSRC:fjuekdn393k
RemoteAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:14
QualityEst=RLQ:90 RCQ:85 EXTRI:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
TimeStamps=START:10012004.18.23.43 stop:10012004.18.26.02
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3 SSUP:on
CallID=1890463548@alice.uac.chicago.com
LocalAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
RemoteAddr=IP:10.10.1.100 PORT:5000 SSRC:fjuekdn393k
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:0
QualityEst=RLQ:90 RCQ:85 EXTRI:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
TimeStamps=START:10012004.19.01.04 STOP:10012004.19.01.52
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3 SSUP:on
CallID=1890463548@alice.chicago.com
LocalAddr=IP:10.10.1.100 PORT: 5000 SSRC:fjuekdn393k
RemoteAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:14
QualityEst=RLQ:90 RCQ:85 EXTRI:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
TimeStamps=START:10012004.18.23.43 stop:10012004.18.26.02
SessionDesc=PT:0 PD:G.711 SR:8000 FD:20 FPP:2 PLC:3 SSUP:on
CallID=1890463548@alice.uac.chicago.com
LocalAddr=IP:11.1.1.150 PORT:5002 SSRC:r3k3k99weid
RemoteAddr=IP:10.10.1.100 PORT:5000 SSRC:fjuekdn393k
JitterBuffer=JBA:3 JBR:2 JBN:40 JBM:80 JBA:120
PacketLoss=NLR:5.0 JDR:2.0
BurstGapLoss=BLD:0 BD:0 GLD:2.0 GD:500
Delay=RTD:200 ESD:140 IAJ:2
Signal=SL:2 NL:10 RERL:0
QualityEst=RLQ:90 RCQ:85 EXTRI:90 MOSLQ:3.4 MOSCQ:3.3 QoEEstAlg:VQMonv2.1
