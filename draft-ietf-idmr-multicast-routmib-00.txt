
    IDMR Working Group                                   Keith McCloghrie
    INTERNET-DRAFT                                         Dino Farinacci
    Expires January 1995                                    Cisco Systems
                                                             15 July 1994


                            IP Multicast Routing MIB
                    <draft-ietf-idmr-multicast-routmib-00.txt>




    Status of this Memo

    This document is an Internet Draft.  Internet Drafts are working
    documents of the Internet Engineering Task Force (IETF), its Areas, and
    its Working Groups.  Note that other groups may also distribute working
    documents as Internet Drafts.

    Internet Drafts are valid for a maximum of six months and may be
    updated, replaced, or obsoleted by other documents at any time.  It is
    inappropriate to use Internet Drafts as reference material or to cite
    them other than as a "work in progress".


    1.  Introduction

    This memo defines an experimental portion of the Management Information
    Base (MIB) for use with network management protocols in the Internet
    community.  In particular, it describes managed objects used for
    managing IP Multicast Routing [5], independent of the specific multicast
    routing protocol [6,7] in use.  Managed objects specific to particular
    multicast routing protocols are specified elsewhere.



    2.  The SNMPv2 Network Management Framework

    The SNMPv2 Network Management Framework consists of four major
    components.  They are:

    o    RFC 1442 [1] which defines the SMI, the mechanisms used for
         describing and naming objects for the purpose of management.












    Draft                   IP Multicast Routing MIB               July 1994


    o    STD 17, RFC 1213 [2] defines MIB-II, the core set of managed
         objects for the Internet suite of protocols.

    o    RFC 1445 [3] which defines the administrative and other
         architectural aspects of the framework.

    o    RFC 1448 [4] which defines the protocol used for network access to
         managed objects.

    The Framework permits new objects to be defined for the purpose of
    experimentation and evaluation.


    2.1.  Object Definitions

    Managed objects are accessed via a virtual information store, termed the
    Management Information Base or MIB.  Objects in the MIB are defined
    using the subset of Abstract Syntax Notation One (ASN.1) defined in the
    SMI.  In particular, each object type is named by an OBJECT IDENTIFIER,
    an administratively assigned name.  The object type together with an
    object instance serves to uniquely identify a specific instantiation of
    the object.  For human convenience, we often use a textual string,
    termed the descriptor, to refer to the object type.


    3.  Overview

    This MIB module contains one scalar and three tables.  The tables are:

    (1)  the IP Multicast Route Table containing multicast routing
         information for IP datagrams sent by particular sources to the IP
         multicast groups known to a router;

    (2)  the IP Multicast Routing Next Hop Table containing information on
         the outgoing interfaces and next hops for the routing IP multicast
         datagrams.  Each entry is one of a list of outgoing interface and
         next hops for a particular source and multicast group address; and

    (3)  the Multicast Routing Interface Table containing multicast routing
         information specific to interfaces.










    Expires 15 January 1994                                         [Page 2]





    Draft                   IP Multicast Routing MIB               July 1994


    4.  Definitions

    IPMROUTE-MIB DEFINITIONS ::= BEGIN

    IMPORTS
        MODULE-IDENTITY, OBJECT-TYPE, experimental,
        Integer32, Counter32,
        IpAddress, TimeTicks             FROM SNMPv2-SMI
        MODULE-COMPLIANCE, OBJECT-GROUP  FROM SNMPv2-CONF;

    ipMRouteMIB MODULE-IDENTITY
        LAST-UPDATED "9407152359Z"
        ORGANIZATION "IETF IDMR Working Group."
        CONTACT-INFO
                " Keith McCloghrie
                  cisco Systems, Inc.
                  1525 O'Brien Dr.
                  Menlo Park, CA 94025
                  EMail: kzm@cisco.com"
        DESCRIPTION
                "The MIB module for IP Multicast Management."
        ::= { experimental xx }  -- to be assigned by the IANA


    ipMRouteMIBObjects OBJECT IDENTIFIER ::= { ipMRouteMIB 1 }

    ipMRoute      OBJECT IDENTIFIER ::= { ipMRouteMIBObjects 1 }























    Expires 15 January 1994                                         [Page 3]





    Draft                   IP Multicast Routing MIB               July 1994


    -- the IP Multicast Routing MIB-Group
    --
    -- a collection of objects providing information about
    -- IP Multicast Groups


    ipMRouteEnable OBJECT-TYPE
        SYNTAX     INTEGER { enabled(1), disabled(2) }
        MAX-ACCESS read-write
        STATUS     current
        DESCRIPTION
                "The enabled status of IP Multicast routing on this router."
        ::= { ipMRoute 1 }


    ipMRouteTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF IpMRouteEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table containg multicast routing
                information for IP datagrams sent by particular sources to
                the IP multicast groups known to this router."
        ::= { ipMRoute 2 }

    ipMRouteEntry OBJECT-TYPE
        SYNTAX     IpMRouteEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) containing the multicast routing
                information for IP datagrams from a particular source and
                addressed to a particular IP multicast group address."
        INDEX      { ipMRouteGroup,
                     ipMRouteSource,
                     ipMRouteSourceMask }
        ::= { ipMRouteTable 1 }













    Expires 15 January 1994                                         [Page 4]





    Draft                   IP Multicast Routing MIB               July 1994


    IpMRouteEntry ::= SEQUENCE {
        ipMRouteGroup        IpAddress,
        ipMRouteSource       IpAddress,
        ipMRouteSourceMask   IpAddress,
        ipMRouteRpfNeighbor  IpAddress,
        ipMRouteInIfIndex    Integer32,
        ipMRouteOutList      Integer32,
        ipMRouteUpTime       TimeTicks,
        ipMRouteExpiryTime   TimeTicks,
        ipMRoutePkts         Counter32,
        ipMRouteRpfFails     Counter32,
        ipMRouteOctets       Counter32
    }

    ipMRouteGroup OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The IP multicast group address for which this entry
                contains multicast routing information."
        ::= { ipMRouteEntry 1 }

    ipMRouteSource OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The source network address for which this entry contains
                multicast routing information."
        ::= { ipMRouteEntry 2 }

    ipMRouteSourceMask OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The network mask of the source address for which this entry
                contains multicast routing information."
        ::= { ipMRouteEntry 3 }

    ipMRouteRpfNeighbor OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS read-only
        STATUS     current





    Expires 15 January 1994                                         [Page 5]





    Draft                   IP Multicast Routing MIB               July 1994


        DESCRIPTION
                "The address of the RPF neighbor from which IP datagrams
                from this source to this multicast address are received."
        ::= { ipMRouteEntry 4 }

    ipMRouteInIfIndex OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The value of ifIndex for the interface on which IP
                datagrams sent by this source to this multicast address are
                received."
        ::= { ipMRouteEntry 5 }

    ipMRouteOutList OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The value of ipMRouteNextHopList which identifies the list
                of entries in the ipMRouteNextHopTable representing outgoing
                interfaces to which IP datagrams from this source to this
                multicast group address are forwarded."
        ::= { ipMRouteEntry 6 }

    ipMRouteUpTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The time since the multicast routing information
                represented by this entry was learned by the router."
        ::= { ipMRouteEntry 7 }

    ipMRouteExpiryTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The minimum amount of time remaining before this entry will
                be aged out."
        ::= { ipMRouteEntry 8 }

    ipMRoutePkts OBJECT-TYPE





    Expires 15 January 1994                                         [Page 6]





    Draft                   IP Multicast Routing MIB               July 1994


        SYNTAX     Counter32
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The number of packets which this router has received from
                this source and addressed to this multicast group address."
        ::= { ipMRouteEntry 9 }

    ipMRouteRpfFails OBJECT-TYPE
        SYNTAX     Counter32
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The number of packets which this router has received from
                this source and addressed to this multicast group address,
                which were not received from the interface indicated by
                ipMRouteInIfIndex."
        ::= { ipMRouteEntry 10 }

    ipMRouteOctets OBJECT-TYPE
        SYNTAX     Counter32
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The number of octets contained in IP datagrams which were
                received from this source and addressed to this multicast
                group address, and which were forwarded by this router."
        ::= { ipMRouteEntry 11 }






















    Expires 15 January 1994                                         [Page 7]





    Draft                   IP Multicast Routing MIB               July 1994


    --
    --  The IP Multicast Routing Next Hop Table
    --

    ipMRouteNextHopTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF IpMRouteNextHopEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table containing information on the
                outgoing interfaces and next hops for the routing IP
                multicast datagrams.  Each entry is one of a list of
                outgoing interface and next hops for a particular source and
                multicast group address."
        ::= { ipMRoute 3 }

    ipMRouteNextHopEntry OBJECT-TYPE
        SYNTAX     IpMRouteNextHopEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) containing a particular outgoing
                interface and next hop for an IP multicast datagram."
        INDEX      { ipMRouteNextHopList, ipMRouteNextHopIndex }
        ::= { ipMRouteNextHopTable 1 }

    IpMRouteNextHopEntry ::= SEQUENCE {
        ipMRouteNextHopList       INTEGER,
        ipMRouteNextHopIndex      INTEGER,
        ipMRouteNextHopState      INTEGER,
        ipMRouteNextHopAddress    IpAddress,
        ipMRouteNextHopIfIndex    Integer32,
        ipMRouteNextHopUpTime     TimeTicks,
        ipMRouteNextHopExpiryTime TimeTicks
    }

    ipMRouteNextHopList OBJECT-TYPE
        SYNTAX     INTEGER (0..65535)
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "A value which uniquely identifies a list of outgoing
                interfaces and next hop addresses."
        ::= { ipMRouteNextHopEntry 1 }






    Expires 15 January 1994                                         [Page 8]





    Draft                   IP Multicast Routing MIB               July 1994


    ipMRouteNextHopIndex OBJECT-TYPE
        SYNTAX     INTEGER (0..65535)
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "A value which uniquely identifies an outgoing interface and
                next hop address within a list of outgoing interfaces and
                next hop addresses."
        ::= { ipMRouteNextHopEntry 2 }

    ipMRouteNextHopState OBJECT-TYPE
        SYNTAX     INTEGER { pruned(1), forwarding(2) }
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "An indication of whether the outgoing interface and next
                hop represented by this entry is currently being used to
                forward IP datagrams.  The value 'forwarding' indicates it
                is currently being used; the value 'pruned' indicates it is
                not."
        ::= { ipMRouteNextHopEntry 3 }

    ipMRouteNextHopAddress OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The address of the next hop for this outgoing interface and
                next hop."
        ::= { ipMRouteNextHopEntry 4 }

    ipMRouteNextHopIfIndex OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The ifIndex value of the interface for this outgoing
                interface and next hop."
        ::= { ipMRouteNextHopEntry 5 }

    ipMRouteNextHopUpTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION





    Expires 15 January 1994                                         [Page 9]





    Draft                   IP Multicast Routing MIB               July 1994


                "The time since the multicast routing information
                represented by this entry was learned by the router."
        ::= { ipMRouteNextHopEntry 6 }

    ipMRouteNextHopExpiryTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The minimum time before this entry will be aged out."
        ::= { ipMRouteNextHopEntry 7 }


    --
    --  The Multicast Routing Interface Table
    --

    ipMRouteInterfaceTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF IpMRouteInterfaceEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table containg multicast routing
                information specific to interfaces."
        ::= { ipMRoute 4 }

    ipMRouteInterfaceEntry OBJECT-TYPE
        SYNTAX     IpMRouteInterfaceEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) containing the multicast routing
                information for a particular interface."
        INDEX      { ipMRouteInterfaceIfIndex }
        ::= { ipMRouteInterfaceTable 1 }















    Expires 15 January 1994                                        [Page 10]





    Draft                   IP Multicast Routing MIB               July 1994


    IpMRouteInterfaceEntry ::= SEQUENCE {
        ipMRouteInterfaceIfIndex  Integer32,
        ipMRouteInterfaceTtl    Integer32
    }

    ipMRouteInterfaceIfIndex OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The ifIndex value of the interface for which this entry
                contains information."
        ::= { ipMRouteInterfaceEntry 1 }

    ipMRouteInterfaceTtl OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS read-write
        STATUS     current
        DESCRIPTION
                "The datagram TTL threshold for the interface. Any IP
                multicast datagrams with a TTL less than this threshold will
                not be forwarded out the interface. The default value of 0
                means all multicast packets are forwarded out interface."
        ::= { ipMRouteInterfaceEntry 2 }


























    Expires 15 January 1994                                        [Page 11]





    Draft                   IP Multicast Routing MIB               July 1994


    -- conformance information

    ipMRouteMIBConformance
                      OBJECT IDENTIFIER ::= { ipMRouteMIB 2 }
    ipMRouteMIBCompliances
                      OBJECT IDENTIFIER ::= { ipMRouteMIBConformance 1 }
    ipMRouteMIBGroups  OBJECT IDENTIFIER ::= { ipMRouteMIBConformance 2 }


    -- compliance statements

    ipMRouteMIBCompliance MODULE-COMPLIANCE
        STATUS  current
        DESCRIPTION
                "The compliance statement for the IP Multicast MIB."
        MODULE  -- this module
            MANDATORY-GROUPS { ipMRouteMIBGroup }

        ::= { ipMRouteMIBCompliances 1 }


    -- units of conformance

    ipMRouteMIBGroup OBJECT-GROUP
        OBJECTS { ipMRouteEnable, ipMRouteRpfNeighbor,
                  ipMRouteInIfIndex, ipMRouteOutList,
                  ipMRouteUpTime, ipMRouteExpiryTime,
                  ipMRoutePkts, ipMRouteRpfFails,
                  ipMRouteOctets,
                  ipMRouteNextHopAddress,
                  ipMRouteNextHopState,
                  ipMRouteNextHopIfIndex,
                  ipMRouteNextHopUpTime,
                  ipMRouteNextHopExpiryTime,
                  ipMRouteInterfaceTtl
                }
        STATUS  current
        DESCRIPTION
                "A collection of objects to support management of IP
                Multicast routing."
        ::= { ipMRouteMIBGroups 1 }

    END







    Expires 15 January 1994                                        [Page 12]





    Draft                   IP Multicast Routing MIB               July 1994


    5.  Acknowledgements

    This MIB module will be presented to the IETF's Inter-Domain Multicast
    Routing (IDMR) Working Group.



    6.  References

    [1]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Structure
         of Management Information for version 2 of the Simple Network
         Management Protocol (SNMPv2)", RFC 1442, SNMP Research,Inc., Hughes
         LAN Systems, Dover Beach Consulting, Inc., Carnegie Mellon
         University, April 1993.

    [2]  McCloghrie, K., and M. Rose, Editors, "Management Information Base
         for Network Management of TCP/IP-based internets: MIB-II", STD 17,
         RFC 1213, Hughes LAN Systems, Performance Systems International,
         March 1991.

    [3]  Galvin, J., and K. McCloghrie, "Administrative Model for version 2
         of the Simple Network Management Protocol (SNMPv2)", RFC 1445,
         Trusted Information Systems, Hughes LAN Systems, April 1993.

    [4]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Protocol
         Operations for version 2 of the Simple Network Management Protocol
         (SNMPv2)", RFC 1448, SNMP Research,Inc., Hughes LAN Systems, Dover
         Beach Consulting, Inc., Carnegie Mellon University, April 1993.

    [5]  Deering, S., "Multicast Routing in a Datagram Internetwork", PhD
         thesis, Electrical Engineering Dept., Stanford University, December
         1991.

    [6]  Waitzman, D., Partridge, C., and S. Deering, "Distance Vector
         Multicast Routing Protocol", RFC 1075, November 1988.

    [7]  Deering, S., Estrin, D., Farinacci, D., Jacobson, V., Liu, G., and
         L. Wei, "Protocol Independent Multicast (PIM): Motivation and
         Architecture", March 1994.











    Expires 15 January 1994                                        [Page 13]





    Draft                   IP Multicast Routing MIB               July 1994


    7.  Security Considerations

    Security issues are not discussed in this memo.



    8.  Author's Address

         Keith McCloghrie
         cisco Systems, Inc.
         1525 O'Brien Dr.
         Menlo Park, CA 94025
         Phone: (415) 324-5260
         EMail: kzm@cisco.com

         Dino Farinacci
         cisco Systems, Inc.
         1525 O'Brien Dr.
         Menlo Park, CA 94025
         Phone: (415) 688-4696
         EMail: dino@cisco.com





























    Expires 15 January 1994                                        [Page 14]





    Draft                   IP Multicast Routing MIB               July 1994


    Table of Contents


    1 Introduction ....................................................    1
    2 The SNMPv2 Network Management Framework .........................    1
    2.1 Object Definitions ............................................    2
    3 Overview ........................................................    2
    4 Definitions .....................................................    3
    5 Acknowledgements ................................................   13
    6 References ......................................................   13
    7 Security Considerations .........................................   14
    8 Author's Address ................................................   14






































    Expires 15 January 1994                                        [Page 15]


