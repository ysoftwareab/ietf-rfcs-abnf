Internet Engineering Task Force                  Bradley J. Schaufenbuel
draft-ietf-x10-mib-00.txt                              DePaul University
Internet-Draft                                                March 1999
                                     

                             X10 Proxy MIB
                          for version 2 of the
           Simple Network Management Network Protocol (SNMPv2)

                        Bradley J. Schaufenbuel
                           DePaul University
                           Chicago, Illinois
                       bschaufe@shrike.depaul.edu

                               March 1999


Status of this Memo

This document is an Internet-Draft and is in full conformance
with all provisions of Section 10 of RFC2026.

Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.  Note that
other groups may also distribute working documents as
Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six
months and may be updated, replaced, or obsoleted by other
documents at any time.  It is inappropriate to use Internet-
Drafts as reference material or to cite them other than as
"work in progress."

The list of current Internet-Drafts can be accessed at
http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
http://www.ietf.org/shadow.html.

Abstract

This document defines a MIB (Management Information Base) for monitoring
and controlling X10-compatible home automation devices via an SNMP
(Simple Network Management Protocol) proxy agent.

Table of Contents

1. SNMP Management Framework...........................................2
2. X10.................................................................3
3. Purpose.............................................................3
4. Definitions.........................................................4
5. Security Considerations.............................................6
6. References..........................................................6
7. Acknowledgements....................................................7
8. Author's Address....................................................7


Schaufenbuel               Expires September 1999               [Page 1]

Internet-Draft            X10 Proxy MIB for SNMPv2            March 1999

1.  The SNMP Management Framework

The SNMP Management Framework presently consists of five major
components:

* An overall architecture, described in RFC 2271 [1].

* Mechanisms for describing and naming objects and events for the
  purpose of management.  The first version of this Structure of
  Management Information (SMI) is called SMIv1 and described in
  RFC 1155 [2], RFC 1212 [3] and RFC 1215 [4].  The second
  version, called SMIv2, is described in RFC 1902 [5], RFC 1903
  [6] and RFC 1904 [7].

* Message protocols for transferring management information.  The
  first version of the SNMP message protocol is called SNMPv1 and is
  described in RFC 1157 [8].  A second version of the SNMP message
  protocol, which is not an Internet standards track protocol, is
  called SNMPv2c and described in RFC 1901 [9] and RFC 1906 [10].
  The third version of the message protocol is called SNMPv3 and
  described in RFC 1906 [10], RFC 2272 [11] and RFC 2274 [12].

* Protocol operations for accessing management information.  The
  first set of protocol operations and associated PDU formats is
  described in RFC 1157 [8].  A second set of protocol operations
  and associated PDU formats is described in RFC 1905 [13].

* A set of fundamental applications described in RFC 2273 [14] and
  the view-based access control mechanism described in RFC 2275 [15].

Managed objects are accessed via a virtual information store, termed the
Management Information Base or MIB.  Objects in the MIB are defined
using the mechanisms defined in the SMI.

This memo specifies a MIB module that is compliant to the SMIv2.  A MIB
conforming to the SMIv1 can be produced through the appropriate
translations.  The resulting translated MIB must be semantically
equivalent, except where objects or events are omitted because no
translation is possible (use of Counter64).  Some machine readable
information in SMIv2 will be converted into textual descriptions in
SMIv1 during the translation process.  However, this loss of machine
readable information is not considered to change the semantics of the
MIB.












Schaufenbuel               Expires September 1999               [Page 2]

Internet-Draft            X10 Proxy MIB for SNMPv2            March 1999

2.  X10 

X10 is the name of a communications protocol that is used to transmit
control information to and from home automation devices via standard 60
Hz electrical circuits [16].  Each X10-compatible device is assigned a
house code (network ID) and number code (node ID).  A controller device
is used to transmit instructions in the form of function codes to any or
all X10-compatible devices.  The following diagram illustrates the
format of a single X10 frame:

+----------+----------+--------+
|Start-code|House-code|Key-code|
+----------+----------+--------+

The start code is the frame delimitor and is represented by a series of
four bits in following pattern:  1 1 1 0.  The house code is represented
by a series of four bits.  There are 16 possible combinations
representing the letters 'A' through 'P'.  The key code can either be a
number code or a function code.  It is represented by a series of five
bits with decimal values ranging from 0 to 31.  The composition of an
X10 transmission differs depending on whether it is multicast or
unicast.

Multicast Transmissions

A multicast transmission to turn all devices off in a specific house
would only require a single X10 frame containing the "All Units Off"
function code.  The following diagram illustrates the format of an X10
multicast frame:

+----------+----------+-------------+
|Start-code|House-code|Function-code|
+----------+----------+-------------+

Unicast Transmissions

A unicast transmission to turn off one specific device would require two
X10 frames - one to identify the device and one to turn it off.  The
following diagram illustrates this series of frames:

+----------+----------+-----------+----------+----------+-------------+
|Start-code|House-code|Number-code|Start-code|House-code|Function-code|
+----------+----------+-----------+----------+----------+-------------+

3.  Purpose

A number of X10 controllers are PC-based or have PC hardware interfaces.
These controllers can be programmed via software that runs on the PC.
The software that is used to manage X10 devices is based on proprietary
technology.  There is no standard for an X10 device management
application programming interface.  In order to integrate the management
of X10 devices with the management of other network devices, an X10 SNMP
proxy agent must be created.  This MIB is designed to be used by network
management systems to communicate with an X10 SNMP proxy agent.

Schaufenbuel               Expires September 1999               [Page 3]

Internet-Draft            X10 Proxy MIB for SNMPv2            March 1999

4.  Definitions

X10-Proxy-MIB DEFINITIONS ::= BEGIN

    IMPORTS
         MODULE-IDENTITY, OBJECT-TYPE, Integer32
              FROM SNMPv2-SMI;

x10ProxyMIB MODULE-IDENTITY
    LAST-UPDATED "9903210000Z"
    ORGANIZATION "DePaul University"
    CONTACT-INFO
         "       Bradley J. Schaufenbuel
         Postal: 5009 Cornell Avenue
                 Downers Grove, Illinois  60515-4314
         Tel:    +1 630 435 5887
         E-Mail: bschaufe@shrike.depaul.edu"
    DESCRIPTION
         "The MIB module for managing X10 devices via SNMP proxy 
         agents."
    ::= { experimental xx }

x10Objects OBJECT IDENTIFIER ::= { x10ProxyMIB 1 }

x10HouseCode OBJECT-TYPE
    SYNTAX       Integer32 (0..15)
    MAX ACCESS   read-only
    STATUS       current
    DESCRIPTION
                 "The house code identifies the X10 network ID of the
                 managed device.  Possible values are as follows:

                 Value H1 H2 H4 H8 Dec
                 A     0  1  1  0  6
                 B     1  1  1  0  7
                 C     0  0  1  0  4
                 D     1  0  1  0  5
                 E     0  0  0  1  8
                 F     1  0  0  1  9
                 G     0  1  0  1  10
                 H     1  1  0  1  11
                 I     0  1  1  1  14
                 J     1  1  1  1  15
                 K     0  0  1  1  12
                 L     1  0  1  1  13
                 M     0  0  0  0  0
                 N     1  0  0  0  1
                 O     0  1  0  0  2
                 P     1  1  0  0  3"
    ::= { x10Objects 1 }






Schaufenbuel               Expires September 1999               [Page 4]

Internet-Draft            X10 Proxy MIB for SNMPv2            March 1999

x10NumberCode OBJECT-TYPE
    SYNTAX       Integer32 (0..15)
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
                 "The number code identifies the x10 node address of the
                 managed device.  Possible values are as follows:

                 Value D1 D2 D4 D8 D16 Dec
                 ----- -- -- -- -- --- ---
                 1     0  1  1  0  0   6
                 2     1  1  1  0  0   7
                 3     0  0  1  0  0   4
                 4     1  0  1  0  0   5
                 5     0  0  0  1  0   8
                 6     1  0  0  1  0   9
                 7     0  1  0  1  0   10
                 8     1  1  0  1  0   11
                 9     0  1  1  1  0   14
                 10    1  1  1  1  0   15
                 11    0  0  1  1  0   12
                 12    1  0  1  1  0   13
                 13    0  0  0  0  0   0
                 14    1  0  0  0  0   1
                 15    0  1  0  0  0   2
                 16    1  1  0  0  0   3"
    ::= { x10Objects 2 }

x10FunctionCode OBJECT-TYPE
    SYNTAX       Integer32 (16..31)
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
                 "The function code identifies the action that should be
                 performed.  Possible values are as follows:

                 Value                   D1 D2 D4 D8 D16 Dec
                 ----------------------  -- -- -- -- --- -----
                 All Units Off           0  0  0  0  1   16
                 All Lights On           0  0  0  1  1   24
                 On                      0  0  1  0  1   20
                 Off                     0  0  1  1  1   28
                 Dim                     0  1  0  0  1   18
                 Bright                  0  1  0  1  1   26
                 All Lights Off          0  1  1  0  1   22
                 Extended Code           0  1  1  1  1   30
                 Hail Request            1  0  0  0  1   17
                 Hail Acknowledge        1  0  0  1  1   25
                 Pre-Set Dim             1  0  1  X  1   21/29 
                 Extended Data (Analog)  1  1  0  0  1   19
                 Status=On               1  1  0  1  1   27
                 Status=Off              1  1  1  0  1   23
                 Status Request          1  1  1  1  1   31"
    ::= { x10Objects 3 }

Schaufenbuel               Expires September 1999               [Page 5]

Internet-Draft            X10 Proxy MIB for SNMPv2            March 1999

5.  Security Considerations

    Security issues are not discussed in this document.

6.  References

[1]  Harrington, D., Presuhn, R., and B. Wijnen, "An Architecture for
     Describing SNMP Management Frameworks", RFC 2271, Cabletron
     Systems, Inc., BMC Software, Inc., IBM T. J. Watson Research,
     January 1998.

[2]  Rose, M., and K. McCloghrie, "Structure and Identification of
     Management Information for TCP/IP-based Internets", RFC 1155,
     Performance Systems International, Hughes LAN Systems, May 1990.

[3]  Rose, M., and K. McCloghrie, "Concise MIB Definitions", RFC 1212,
     Performance Systems International, Hughes LAN Systems, March 1991.

[4]  M. Rose, "A Convention for Defining Traps for use with the SNMP",
     RFC 1215, Performance Systems International, March 1991.

[5]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Structure
     of Management Information for Version 2 of the Simple Network
     Management Protocol (SNMPv2)", RFC 1902, SNMP Research,Inc., Cisco
     Systems, Inc., Dover Beach Consulting, Inc., International Network
     Services, January 1996.

[6]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Textual
     Conventions for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1903, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

[7]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Conformance
     Statements for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1904, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

[8]  Case, J., Fedor, M., Schoffstall, M., and J. Davin, "Simple Network
     Management Protocol", RFC 1157, SNMP Research, Performance Systems
     International, Performance Systems International, MIT Laboratory
     for Computer Science, May 1990.

[9]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
     "Introduction to Community-based SNMPv2", RFC 1901, SNMP Research,
     Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc.,
     International Network Services, January 1996.

[10] Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Transport
     Mappings for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1906, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

Schaufenbuel               Expires September 1999               [Page 6]

Internet-Draft            X10 Proxy MIB for SNMPv2            March 1999

[11] Case, J., Harrington D., Presuhn R., and B. Wijnen, "Message
     Processing and Dispatching for the Simple Network Management
     Protocol (SNMP)", RFC 2272, SNMP Research, Inc., Cabletron Systems,
     Inc., BMC Software, Inc., IBM T. J. Watson Research, January 1998.

[12] Blumenthal, U., and B. Wijnen, "User-based Security Model (USM) for
     version 3 of the Simple Network Management Protocol (SNMPv3)", RFC
     2274, IBM T. J. Watson Research, January 1998.

[13] Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Protocol
     Operations for Version 2 of the Simple Network Management Protocol
     (SNMPv2)", RFC 1905, SNMP Research, Inc., Cisco Systems, Inc.,
     Dover Beach Consulting, Inc., International Network Services,
     January 1996.

[14] Levi, D., Meyer, P., and B. Stewart, "SNMPv3 Applications", RFC
     2273, SNMP Research, Inc., Secure Computing Corporation, Cisco
     Systems, January 1998.

[15] Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based Access
     Control Model (VACM) for the Simple Network Management Protocol
     (SNMP)", RFC 2275, IBM T. J. Watson Research, BMC Software, Inc.,
     Cisco Systems, Inc., January 1998.

[16] "X-10 Technology Transmission Theory", X-10 Incorporated, 1998.

7.  Acknowledgements

    I would like to thank Kyle T. Bowerman for sparking my interest in
    the X10 protocol and inspiring me to write this document.

8.  Author's Address

    Bradley J. Schaufenbuel
    DePaul University
    5009 Cornell Avenue
    Downers Grove, Illinois  60515-4314
    Phone:  630-435-5887
    E-Mail:  bschaufe@shrike.depaul.edu
















Schaufenbuel               Expires September 1999               [Page 7]
