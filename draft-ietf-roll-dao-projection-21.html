<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Root initiated routing state in RPL</title>
<meta content="Pascal Thubert" name="author">
<meta content="Rahul Arvind Jadhav" name="author">
<meta content="Matthew Gillmore" name="author">
<meta content="
       
     This document extends RFC 6550, RFC 6553,and RFC 8138 to enable a RPL Root
     to install and maintain Projected Routes within its DODAG, along a selected
     set of nodes that may or may not include self, for a chosen duration.
     This potentially enables routes
    that are more optimized or resilient than those obtained with the
    classical distributed operation of RPL, either in terms of the size of a
    Routing Header or in terms of path length, which impacts both the
    latency and the packet delivery ratio.
       
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-ietf-roll-dao-projection-21" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.2
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.0.4
    six 1.16.0
-->
<link href="/tmp/draft-ietf-roll-dao-projection-sny27zi2.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">DAO Projection</td>
<td class="right">September 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Thubert, et al.</td>
<td class="center">Expires 31 March 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ROLL</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-09-27" class="published">27 September 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-03-31">31 March 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">P. Thubert, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">R.A. Jadhav</div>
<div class="org">Huawei Tech</div>
</div>
<div class="author">
      <div class="author-name">M. Gillmore</div>
<div class="org">Itron</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Root initiated routing state in RPL</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
     This document extends RFC 6550, RFC 6553,and RFC 8138 to enable a RPL Root
     to install and maintain Projected Routes within its DODAG, along a selected
     set of nodes that may or may not include self, for a chosen duration.
     This potentially enables routes
    that are more optimized or resilient than those obtained with the
    classical distributed operation of RPL, either in terms of the size of a
    Routing Header or in terms of path length, which impacts both the
    latency and the packet delivery ratio.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 31 March 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-references" class="xref">References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-glossary" class="xref">Glossary</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-domain-terms" class="xref">Domain Terms</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-context-and-goal" class="xref">Context and Goal</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-rpl-applicability" class="xref">RPL Applicability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-rpl-routing-modes" class="xref">RPL Routing Modes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-requirements" class="xref">Requirements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="xref">3.3.1</a>.  <a href="#name-loose-source-routing" class="xref">Loose Source Routing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a href="#section-3.3.2" class="xref">3.3.2</a>.  <a href="#name-east-west-routes" class="xref">East-West Routes</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-on-tracks" class="xref">On Tracks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-serial-track-signaling" class="xref">Serial Track Signaling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.1">
                    <p id="section-toc.1-1.3.2.5.2.1.1"><a href="#section-3.5.1" class="xref">3.5.1</a>.  <a href="#name-using-storing-mode-segments" class="xref">Using Storing Mode Segments</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.5.2.2">
                    <p id="section-toc.1-1.3.2.5.2.2.1"><a href="#section-3.5.2" class="xref">3.5.2</a>.  <a href="#name-using-non-storing-mode-join" class="xref">Using Non-Storing Mode joining Tracks</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="xref">3.6</a>.  <a href="#name-complex-tracks" class="xref">Complex Tracks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="xref">3.7</a>.  <a href="#name-scope-and-expectations" class="xref">Scope and Expectations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-extending-existing-rfcs" class="xref">Extending existing RFCs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-extending-rfc-6550" class="xref">Extending RFC 6550</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-projected-dao" class="xref">Projected DAO</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-via-information-option" class="xref">Via Information Option</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="xref">4.1.3</a>.  <a href="#name-sibling-information-option" class="xref">Sibling Information Option</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.4">
                    <p id="section-toc.1-1.4.2.1.2.4.1"><a href="#section-4.1.4" class="xref">4.1.4</a>.  <a href="#name-p-dao-request" class="xref">P-DAO Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.5">
                    <p id="section-toc.1-1.4.2.1.2.5.1"><a href="#section-4.1.5" class="xref">4.1.5</a>.  <a href="#name-extending-the-rpi" class="xref">Extending the RPI</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-extending-rfc-6553" class="xref">Extending RFC 6553</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-extending-rfc-8138" class="xref">Extending RFC 8138</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-new-rpl-control-messages-an" class="xref">New RPL Control Messages and Options</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-new-p-dao-request-control-m" class="xref">New P-DAO Request Control Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-new-pdr-ack-control-message" class="xref">New PDR-ACK Control Message</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-via-information-options" class="xref">Via Information Options</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-sibling-information-option-2" class="xref">Sibling Information Option</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-root-initiated-routing-stat" class="xref">Root Initiated Routing State</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-requesting-a-track" class="xref">Requesting a Track</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-identifying-a-track" class="xref">Identifying a Track</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-installing-a-track" class="xref">Installing a Track</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="xref">6.3.1</a>.  <a href="#name-signaling-a-projected-route" class="xref">Signaling a Projected Route</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.2">
                    <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="xref">6.3.2</a>.  <a href="#name-installing-a-track-segment-" class="xref">Installing a Track Segment with a Storing Mode P-Route</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3.2.3">
                    <p id="section-toc.1-1.6.2.3.2.3.1"><a href="#section-6.3.3" class="xref">6.3.3</a>.  <a href="#name-installing-a-track-leg-with" class="xref">Installing a Track Leg with a Non-Storing Mode P-Route</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-tearing-down-a-p-route" class="xref">Tearing Down a P-Route</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="xref">6.5</a>.  <a href="#name-maintaining-a-track" class="xref">Maintaining a Track</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.1">
                    <p id="section-toc.1-1.6.2.5.2.1.1"><a href="#section-6.5.1" class="xref">6.5.1</a>.  <a href="#name-maintaining-a-track-segment" class="xref">Maintaining a Track Segment</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.5.2.2">
                    <p id="section-toc.1-1.6.2.5.2.2.1"><a href="#section-6.5.2" class="xref">6.5.2</a>.  <a href="#name-maintaining-a-track-leg" class="xref">Maintaining a Track Leg</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="xref">6.6</a>.  <a href="#name-encapsulating-and-forwardin" class="xref">Encapsulating and Forwarding Along a Track</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.7">
                <p id="section-toc.1-1.6.2.7.1"><a href="#section-6.7" class="xref">6.7</a>.  <a href="#name-compression-of-the-rpl-arti" class="xref">Compression of the RPL Artifacts</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-lesser-constrained-variatio" class="xref">Lesser Constrained Variations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-storing-mode-main-dodag" class="xref">Storing Mode Main DODAG</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-a-track-as-a-full-dodag" class="xref">A Track as a Full DODAG</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-profiles" class="xref">Profiles</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-new-elective-6lowpan-routin" class="xref">New Elective 6LoWPAN Routing Header Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-new-critical-6lowpan-routin" class="xref">New Critical 6LoWPAN Routing Header Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-new-subregistry-for-the-rpl" class="xref">New Subregistry For The RPL Option Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="xref">10.4</a>.  <a href="#name-new-rpl-control-codes" class="xref">New RPL Control Codes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="xref">10.5</a>.  <a href="#name-new-rpl-control-message-opt" class="xref">New RPL Control Message Options</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="xref">10.6</a>.  <a href="#name-subregistry-for-the-project" class="xref">SubRegistry for the Projected DAO Request Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="xref">10.7</a>.  <a href="#name-subregistry-for-the-pdr-ack" class="xref">SubRegistry for the PDR-ACK Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a href="#section-10.8" class="xref">10.8</a>.  <a href="#name-subregistry-for-the-pdr-ack-" class="xref">Subregistry for the PDR-ACK Acceptance Status Values</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.9">
                <p id="section-toc.1-1.10.2.9.1"><a href="#section-10.9" class="xref">10.9</a>.  <a href="#name-subregistry-for-the-pdr-ack-r" class="xref">Subregistry for the PDR-ACK Rejection Status Values</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.10">
                <p id="section-toc.1-1.10.2.10.1"><a href="#section-10.10" class="xref">10.10</a>. <a href="#name-subregistry-for-the-via-inf" class="xref">SubRegistry for the Via Information Options Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.11">
                <p id="section-toc.1-1.10.2.11.1"><a href="#section-10.11" class="xref">10.11</a>. <a href="#name-subregistry-for-the-sibling" class="xref">SubRegistry for the Sibling Information Option Flags</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.12">
                <p id="section-toc.1-1.10.2.12.1"><a href="#section-10.12" class="xref">10.12</a>. <a href="#name-new-destination-advertiseme" class="xref">New destination Advertisement Object Flag</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.13">
                <p id="section-toc.1-1.10.2.13.1"><a href="#section-10.13" class="xref">10.13</a>. <a href="#name-new-icmpv6-error-code" class="xref">New ICMPv6 Error Code</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.14">
                <p id="section-toc.1-1.10.2.14.1"><a href="#section-10.14" class="xref">10.14</a>. <a href="#name-new-rpl-rejection-status-va" class="xref">New RPL Rejection Status values</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"> RPL, the <span><a href="#RFC6550" class="xref">"Routing Protocol for Low Power and Lossy Networks"</a> [<a href="#RFC6550" class="xref">RPL</a>]</span> (LLNs),
   is an anisotropic Distance Vector protocol that is well-suited
   for application in a variety of low energy Internet of Things (IoT)
   networks where stretched P2P paths are acceptable vs. the signaling
   and state overhead involved in maintaining shortest paths across.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
   RPL forms destination Oriented Directed Acyclic Graphs (DODAGs) in which
   the Root often acts as the Border router to connect the RPL domain to the
   IP backbone and routes along that graph up, towards the Root, and down
   towards the nodes.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
   With this specification, a Path Computation Element <span>[<a href="#PCE" class="xref">PCE</a>]</span> in
   an external controller interacts with the RPL Root to compute centrally
   shorter Peer to Peer (P2P) paths within a pre-existing RPL Main DODAG.
   The topological information that is passed to the PCE is derived from the
   DODAG that is already available at the Root in RPL Non-Storing Mode. This
   specification introduces protocol extensions that enrich the topological
   information that is available at the Root and passed to the PCE.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
   Based on usage, path length, and knowledge of available resources such as
   battery levels and reservable buffers in the nodes, the PCE with a global
   visibility on the system can optimize the computed routes for the
   application needs, including the capability to provide path redundancy.
   This specification also introduces protocol extensions that enable the
   Root to translates the computed paths into RPL and install them as
   Projected Routes (aka P-Routes) inside the DODAG on behalf of a PCE.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<div id="bcp">
<section id="section-2.1">
        <h3 id="name-requirements-language">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-2.1-1">

    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
    "OPTIONAL" in this document are to be interpreted as described in BCP 14
    <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span><span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
    appear in all capitals, as shown here.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="lo">
<section id="section-2.2">
        <h3 id="name-references">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-references" class="section-name selfRef">References</a>
        </h3>
<p id="section-2.2-1">
 In this document, readers will encounter terms and concepts
 that are discussed in the <span><a href="#RFC6550" class="xref">"Routing Protocol for Low Power and Lossy Networks"</a> [<a href="#RFC6550" class="xref">RPL</a>]</span>, the <span><a href="#RFC9030" class="xref">"6TiSCH Architecture"</a> [<a href="#RFC9030" class="xref">6TiSCH-ARCHI</a>]</span>, the <span><a href="#RFC8655" class="xref">"Deterministic Networking Architecture"</a> [<a href="#RFC8655" class="xref">RFC8655</a>]</span>, the <span><a href="#I-D.ietf-raw-architecture" class="xref">"Reliable and
    Available Wireless (RAW) Architecture/Framework"</a> [<a href="#I-D.ietf-raw-architecture" class="xref">RAW-ARCHI</a>]</span>,
    and
    <span><a href="#RFC7102" class="xref">"Terminology in Low power And Lossy Networks"</a> [<a href="#RFC7102" class="xref">RFC7102</a>]</span>.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="gloss">
<section id="section-2.3">
        <h3 id="name-glossary">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-glossary" class="section-name selfRef">Glossary</a>
        </h3>
<p id="section-2.3-1"> This document often uses the following acronyms:<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-2.3-2">
          <dt id="section-2.3-2.1">CMO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.2"> Control Message Option<a href="#section-2.3-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.3">DAO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.4"> destination Advertisement Object<a href="#section-2.3-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.5">DAG:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.6"> Directed Acyclic Graph<a href="#section-2.3-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.7">DODAG:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.8"> destination-Oriented Directed Acyclic Graph; A DAG
       with only one vertex (i.e., node) that has no outgoing edge (i.e., link)<a href="#section-2.3-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.9">GUA:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.10"> IPv6 Global Unicast Address<a href="#section-2.3-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.11">LLN:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.12"> Low-Power and Lossy Network<a href="#section-2.3-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.13">MOP:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.14"> RPL Mode of Operation<a href="#section-2.3-2.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.15">P-DAO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.16"> Projected DAO<a href="#section-2.3-2.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.17">P-Route:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.18"> Projected Route<a href="#section-2.3-2.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.19">PDR:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.20"> P-DAO Request<a href="#section-2.3-2.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.21">RAN:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.22"> RPL-Aware Node (either a RPL router or a RPL-Aware Leaf)<a href="#section-2.3-2.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.23">RAL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.24"> RPL-Aware Leaf<a href="#section-2.3-2.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.25">RH:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.26"> Routing Header<a href="#section-2.3-2.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.27">RPI:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.28"> RPL Packet Information<a href="#section-2.3-2.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.29">RTO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.30"> RPL Target Option<a href="#section-2.3-2.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.31">RUL:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.32"> RPL-Unaware Leaf<a href="#section-2.3-2.32" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.33">SIO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.34"> RPL Sibling Information Option<a href="#section-2.3-2.34" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.35">ULA:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.36"> IPv6 Unique Local Address<a href="#section-2.3-2.36" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.37">NSM-VIO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.38"> A Source-Routed Via Information Option, used in Non-Storing Mode P-DAO messages.<a href="#section-2.3-2.38" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd><dt id="section-2.3-2.39">SLO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.40"> Service Level Objective<a href="#section-2.3-2.40" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.41">TIO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.42"> RPL Transit Information Option<a href="#section-2.3-2.42" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.43">SM-VIO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.44"> A strict Via Information Option, used in Storing Mode P-DAO messages.<a href="#section-2.3-2.44" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.3-2.45">VIO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-2.46"> A Via Information Option; it can be a SM-VIO or an NSM-VIO.<a href="#section-2.3-2.46" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="new">
<section id="section-2.4">
        <h3 id="name-domain-terms">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-domain-terms" class="section-name selfRef">Domain Terms</a>
        </h3>
<p id="section-2.4-1"></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-2.4-2">
          <dt id="section-2.4-2.1">Projected Route:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.2">
 A RPL P-Route is a RPL route that is computed remotely by a PCE, and installed and maintained by a RPL Root on behalf of the PCE. It
    is installed as a state that signals that destinations (aka Targets)
    are reachable along a sequence of nodes.<a href="#section-2.4-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.3">Projected DAO:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.4"> A DAO message used to install a P-Route.<a href="#section-2.4-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.5">Path:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.6">
            <p id="section-2.4-2.6.1">
    Quoting section 1.1.3 of <span>[<a href="#RFC1122" class="xref">INT-ARCHI</a>]</span>:
    "At a given moment, all the IP datagrams from a particular source host to a
    particular destination host will typically traverse the same sequence of
    gateways.  We use the term "path" for this sequence.  Note that a path is
    uni-directional; it is not unusual to have different paths in the two
    directions between a given host pair.".<a href="#section-2.4-2.6.1" class="pilcrow">¶</a></p>
<p id="section-2.4-2.6.2">
    Section 2 of <span>[<a href="#I-D.irtf-panrg-path-properties" class="xref">I-D.irtf-panrg-path-properties</a>]</span> points to a longer, more modern definition of path, which begins as follows:
    "
      A sequence of adjacent path elements over which a packet can
      be transmitted, starting and ending with a node.  A path is
      unidirectional.  Paths are time-dependent, i.e., the sequence of
      path elements over which packets are sent from one node to another
      may change.  A path is defined between two nodes.
    "<a href="#section-2.4-2.6.2" class="pilcrow">¶</a></p>
<p id="section-2.4-2.6.3">
    It follows that the general acceptance of a path is a linear sequence of
    nodes, as opposed to a multi-dimensional graph. In the context of this
    document, a path is observed by following one copy of a packet that is
    injected in a Track and possibly replicated within.<a href="#section-2.4-2.6.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.7">Track:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.8">
            <p id="section-2.4-2.8.1">A networking graph that can be followed to transport packets with
    equivalent treatment; as opposed to the definition of a path above,
    a Track Track is not necessarily linear. It may contain multiple paths that
    may fork and rejoin, and may enable the RAW Packet ARQ, Replication,
    Elimination, and Overhearing (PAREO) operations.<a href="#section-2.4-2.8.1" class="pilcrow">¶</a></p>
<p id="section-2.4-2.8.2">
    This specification builds Tracks that are DODAGs oriented towards a Track
    Ingress, and the forward direction for packets is East-West from the Track
    Ingress to one of the possibly multiple Track Egress Nodes, which is also
    down the DODAG.<a href="#section-2.4-2.8.2" class="pilcrow">¶</a></p>
<p id="section-2.4-2.8.3">
    The Track may be strictly connected, meaning that the vertices are adjacent, or loosely connected, meaning that the vertices are connected using Segments that are associated to the same Track.<a href="#section-2.4-2.8.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.9">TrackID:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.10">
    A RPL Local InstanceID that identifies a Track using the namespace owned ny
    the Track Ingress. The TrackID is associated with the IPv6 Address of the
    Track Ingress that is used as DODAGID, and together they form a unique
    identification of the Track
    (see the definition of DODAGID in section 2 of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>.<a href="#section-2.4-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.11">Serial Track:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.12">A Track that has only one path.<a href="#section-2.4-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.13">Stand-Alone:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.14">
    A single P-DAO that fully defines a Track, e.g., a Serial Track installed
    with a single Storing Mode Via Information option (SM-VIO).<a href="#section-2.4-2.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.15">subTrack:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.16">A Track within a Track. As the Non-Storing Mode Via
    Information option (NSM-VIO) can only signal a loose sequence of nodes, it
    takes a number of them to signal a complex Track. Each NSM-VIO for the same
    TrackId but a different Segment ID signals a different subTracks that the
    Track Ingress adds to the topology.<a href="#section-2.4-2.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.17">Track Leg:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.18">An end-to-end East-West serial path that can be a
    Track by itself or a subTrack of a complex Track.
    With this specification, a Leg is is installed by the Root of the main
    DODAG using Non-Storing Mode P-DAO messages, and it is expressed as a
    loose sequence of nodes that are joined by Track Segments.<a href="#section-2.4-2.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.4-2.19">Track Segment:</dt>
          <dd style="margin-left: 1.5em" id="section-2.4-2.20">
    A serial path formed by a strict sequence of nodes, along which a P-Route is
    installed.
    With this specification, a Segment is typically installed by the Root of the main DODAG using Storing Mode P-DAO messages. A Segment used as
    the topological edge of a Track.
    Since this specification builds only DODAGs,
    all Segments are oriented from Ingress (East) to Egress (West), as opposed
    to the general RAW model, which allows North/South Segments that can be
    bidirectional.<a href="#section-2.4-2.20" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
<div id="context">
<section id="section-3">
      <h2 id="name-context-and-goal">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-context-and-goal" class="section-name selfRef">Context and Goal</a>
      </h2>
<div id="onrpl">
<section id="section-3.1">
        <h3 id="name-rpl-applicability">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-rpl-applicability" class="section-name selfRef">RPL Applicability</a>
        </h3>
<p id="section-3.1-1">
   RPL is optimized for situations where the power is scarce, the bandwidth
   constrained and the transmissions unreliable. This matches the use case of
   an IoT LLN where RPL is typically used today, but also situations of high relative mobility between the nodes in the network (aka swarming), e.g.,
   within a variable set of vehicles with a similar global motion, or a toon of
   drones.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">
   To reach this goal, RPL is primarily designed to minimize the control plane
   activity, that is the relative amount of routing protocol exchanges vs. data
   traffic, and the amount of state that is maintained in each node. RPL does
   not need converge, and provides connectivity to most nodes most of the time.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">
    RPL may form multiple topologies called instances. Instances can be
    created to enforce various optimizations through objective functions,
    or to reach out through different Root Nodes.  The concept of objective
    function allows to adapt the activity of the routing protocol to the use
    case, e.g., type, speed, and quality of the LLN links.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">
    RPL instances operate as ships in the night, unbeknownst of one another.
    The RPL Root is responsible to select the RPL Instance that is used
    to forward a packet coming from the Backbone into the RPL domain and set
    the related RPL information in the packets. 6TiSCH leverages RPL for its
    distributed routing operations.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">
   To reduce the routing exchanges, RPL leverages an anisotropic Distance Vector
   approach, which does not need a global knowledge of the topology, and only
   optimizes the routes to and from the RPL Root, allowing P2P paths to be
   stretched. Although RPL installs its routes proactively, it only maintains
   them lazily, in reaction to actual traffic, or as a slow background activity.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">
   This is simple and efficient in situations where the traffic is mostly
   directed from or to a central node, such as the control traffic between
   routers and a controller of a Software Defined Networking (SDN) infrastructure or an Autonomic Control Plane (ACP).<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">
   But stretch in P2P routing is counter-productive to both reliability and
   latency as it introduces additional delay and chances of loss. As a result,
   <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> is not a good fit for the use cases listed in the
   RAW use cases document <span>[<a href="#I-D.ietf-raw-use-cases" class="xref">USE-CASES</a>]</span>, which demand
   high availability and reliability, and as a consequence require both short
   and diverse paths.<a href="#section-3.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="onrplroute">
<section id="section-3.2">
        <h3 id="name-rpl-routing-modes">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-rpl-routing-modes" class="section-name selfRef">RPL Routing Modes</a>
        </h3>
<p id="section-3.2-1">
   RPL first forms a default route in each node towards the a Root, and those
   routes together coalesce as a Directed Acyclic Graph upwards.
   RPL then constructs routes to so-called Targets in the reverse direction,
   down the same DODAG. So do so, a RPL Instance can be operated either in RPL
   Storing or Non-Storing Mode of Operation (MOP)
   The default route towards the Root is maintained aggressively and may change while a packet progresses without causing loops, so the packet will still reach the Root.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">In Non-Storing Mode, each node advertises itself as a Target directly to the
   Root, indicating the parents that may be used to reach self. Recursively, the
   Root builds and maintains an image of the whole DODAG in memory, and
   leverages that abstraction to compute source route paths for the packets to
   their destinations down the DODAG. When a node changes its point(s)
   of attachment to the DODAG, it takes single unicast packet to the Root along
   the default route to update it, and the connectivity is restored immediately;
   this mode is preferable for use cases where internet connectivity is
   dominant, or when, like here, the Root controls the network activity in the
   nodes.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">In Storing Mode, the routing information percolates upwards, and each node
   maintains the routes to the subDAG of its descendants down the DODAG.
   The maintenance is lazy, either reactive upon traffic or as a slow background
   process. Packets flow via the common parent and the routing stretch is
   reduced vs. Non-Storing, for a better P2P connectivity, while the internet
   connectivity is restored more slowly, time for the DV operation to operate
   hop-by-hop.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">
    Either way, the RPL routes are injected by the Target nodes, in a distributed fashion. To complement RPL and eliminate routing stretch, this specification introduces an hybrid mode that combines Storing and Non-Storing operations to build and project routes onto the nodes where they should be installed. This specification uses the term P-Route to refer to those routes.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">
    A P-Route may be installed in either Storing and Non-Storing Mode,
    potentially resulting in hybrid situations where the Mode of the P-
    Route is different from that of the RPL Main DODAG.
    P-Routes can be used as stand-alone segments to reduce the size of the
    source routing headers with loose source routing operations down the main RPL DODAG.
    P-Routes can also be combined with other P-Routes to form a more complex forwarding graph called a Track.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3.3">
        <h3 id="name-requirements">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-requirements" class="section-name selfRef">Requirements</a>
        </h3>
<div id="loose">
<section id="section-3.3.1">
          <h4 id="name-loose-source-routing">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-loose-source-routing" class="section-name selfRef">Loose Source Routing</a>
          </h4>
<p id="section-3.3.1-1">A RPL implementation operating in a very constrained LLN typically uses
      the Non-Storing Mode of Operation as represented in <a href="#nost" class="xref">Figure 1</a>.
      In that mode, a RPL node indicates a
      parent-child relationship to the Root, using a destination Advertisement
      Object (DAO) that is unicast from the node directly to the Root,
      and the Root typically builds a source routed path to a destination down
      the DODAG by recursively concatenating this information.<a href="#section-3.3.1-1" class="pilcrow">¶</a></p>
<span id="name-rpl-non-storing-mode-of-ope"></span><div id="nost">
<figure id="figure-1">
            <div class="alignLeft art-text artwork" id="section-3.3.1-2.1">
<pre>
              +-----+
              |     | Border router
              |     |  (RPL Root)
              +-----+                      ^     |        |
                 |                         | DAO | ACK    |
           o    o   o    o                 |     |        | Strict
       o o   o  o   o  o  o o   o          |     |        | Source
      o  o o  o o    o   o   o  o  o       |     |        | Route
      o   o    o  o     o  o    o  o  o    |     |        |
     o  o   o  o   o         o   o o       |     v        v
     o          o             o     o
                       LLN
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-rpl-non-storing-mode-of-ope" class="selfRef">RPL Non-Storing Mode of operation</a>
            </figcaption></figure>
</div>
<p id="section-3.3.1-3">
      Based on the parent-children relationships expressed in the Non-Storing
      DAO messages,the Root possesses topological information about the whole
      network, though this information is limited to the structure of the DODAG
      for which it is the destination.
      A packet that is generated within the domain will always reach the Root,
      which can then apply a source routing information to reach the destination
      if the destination is also in the DODAG.
      Similarly, a packet coming from the outside of the domain for a destination
      that is expected to be in a RPL domain reaches the Root.<a href="#section-3.3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.3.1-4">
     It results that the Root, or then some associated centralized computation
     engine such as a PCE, can determine the amount of packets that reach a
     destination in the
     RPL domain, and thus the amount of energy and bandwidth that is wasted for
     transmission, between itself and the destination, as well as the risk of
     fragmentation, any potential delays because of a paths longer than
     necessary (shorter paths exist that would not traverse the Root).<a href="#section-3.3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.3.1-5">
     As a network gets deep, the size of the source routing header that the
      Root must add to all the downward packets becomes an issue for nodes that
      are many hops away. In some use cases, a RPL network forms long lines and
      a limited amount of well-targeted routing state would allow to make the
      source routing operation loose as opposed to strict, and save packet size.
      Limiting the packet size is directly beneficial to the energy budget, but,
      mostly, it reduces the chances of frame loss and/or packet fragmentation,
      which is highly detrimental to the LLN operation. Because the capability
      to store a routing state in every node is limited, the decision of which
      route is installed where can only be optimized with a global knowledge of
      the system, a knowledge that the Root or an associated PCE may possess by
      means that are outside of the scope of this specification.<a href="#section-3.3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.3.1-6">
      This requirement is to store a routing state associated with the Main
      DODAG in selected RPL routers, to limit the excursion of the source route
      headers in deep networks. The Root may elide the sequence of routers
      that is installed in the network from its source route header, which
      becomes loose while it is strict in <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>.<a href="#section-3.3.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3.3.2">
          <h4 id="name-east-west-routes">
<a href="#section-3.3.2" class="section-number selfRef">3.3.2. </a><a href="#name-east-west-routes" class="section-name selfRef">East-West Routes</a>
          </h4>
<p id="section-3.3.2-1">
      RPL is optimized for INternet access, with Point-to-Multipoint (P2MP) and
      Multipoint-to-Point (MP2P), whereby routes are always installed
      North-South (aka up/down) along the RPL DODAG respectively from and
      towards the Border Router that also serves as DODAG Root.
      Peer to Peer (P2P) East-West routes in a RPL network will generally
      suffer from some elongated (stretched) path versus a direct (optimized)
      path, since routing between two nodes always happens via a common
      parent, as illustrated in <a href="#stretch" class="xref">Figure 2</a>:<a href="#section-3.3.2-1" class="pilcrow">¶</a></p>
<span id="name-routing-stretch-between-s-a"></span><div id="stretch">
<figure id="figure-2">
            <div class="alignLeft art-text artwork" id="section-3.3.2-2.1">
<pre>
              ------+---------
                    |          Internet
                 +-----+
                 |     | Border router
                 |     |  (RPL Root)
                 +-----+
                    X
              ^    v   o    o
          ^ o   o  v   o  o  o o   o
         ^  o o  o v    o   o   o  o  o
         ^   o    o  v     o  o    o  o  o
        S  o   o  o   D         o   o o
        o          o             o     o
                          LLN
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-routing-stretch-between-s-a" class="selfRef">Routing Stretch between S and D via common parent X along North-South Paths</a>
            </figcaption></figure>
</div>
<p id="section-3.3.2-3">The amount of stretch depends on the Mode of Operation:<a href="#section-3.3.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3.2-4.1"> in Non-Storing Mode, all packets
     routed within the DODAG flow all the way up to the Root of the DODAG. If
     the destination is in the same DODAG, the Root must encapsulate the packet
     to place an RH that has the strict source route information down
     the DODAG to the destination. This will be the case even if the destination
     is relatively close to the source and the Root is relatively far off.<a href="#section-3.3.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.3.2-4.2">In Storing Mode, unless the destination is a child of the source,
     the packets will follow the default route up the DODAG as well.
     If the destination is in the same DODAG, they will eventually reach a
     common parent that has a route to the destination; at worse, the common
     parent may also be the Root. From that common parent, the packet will
     follow a path down the DODAG that is optimized for the Objective Function
     that was used to build the DODAG.<a href="#section-3.3.2-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-3.3.2-5">
     It results that it is often beneficial to enable East-West P2P routes,
     either if the RPL route presents a stretch from shortest path, or if the
     new route is engineered with a different objective, and that it is
     even more critical in Non-Storing Mode than it is in Storing Mode, because
     the routing stretch is wider.
     For that reason, earlier work at the IETF introduced the
     <span><a href="#RFC6997" class="xref">"Reactive Discovery of Point-to-Point Routes in
     Low Power and Lossy Networks"</a> [<a href="#RFC6997" class="xref">RFC6997</a>]</span>, which specifies a distributed method for
     establishing optimized P2P routes. This draft proposes an alternate based
     on a centralized route computation.<a href="#section-3.3.2-5" class="pilcrow">¶</a></p>
<span id="name-more-direct-east-west-route"></span><div id="opti2">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-3.3.2-6.1">
<pre>
                 +-----+
                 |     | Border router
                 |     |  (RPL Root)
                 +-----+
                    |
              o    o   o    o
          o o   o  o   o  o  o o   o
         o  o o  o o    o   o   o  o  o
         o   o    o  o     o  o    o  o  o
        S&gt;&gt;A&gt;&gt;&gt;B&gt;&gt;C&gt;&gt;&gt;D         o   o o
        o          o             o     o
                          LLN
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-more-direct-east-west-route" class="selfRef">More direct East-West Route between S and D</a>
            </figcaption></figure>
</div>
<p id="section-3.3.2-7">
      The requirement is to install additional routes in the RPL routers,
      to reduce the stretch of some P2P routes and maintain the characteristics
      within a given SLO, e.g., in terms of latency and/or reliability.<a href="#section-3.3.2-7" class="pilcrow">¶</a></p>
</section>
</section>
<div id="tracks">
<section id="section-3.4">
        <h3 id="name-on-tracks">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-on-tracks" class="section-name selfRef">On Tracks</a>
        </h3>
<p id="section-3.4-1"> A Track is
   typically a collection of parallel loose source routed sequences of nodes
   from Ingress to Egress, forming so-called Track Legs, that are joined with
   strict Segments of other nodes. The Legs are expressed in RPL Non-Storing
   Modes and require an encapsulation to add a Source Route Header, whereas
   the Segments are expressed in Storing Mode.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">
   A Serial Track comprises provides only one path between Ingress and Egress.
   It comprises at most one Leg. A Stand-Alone Segment defines implicitly a
   Serial Track from its Ingress to Egress.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3"> A complex Track forms a graph that provides a collection of potential paths
    to provide redundancy for the packets, either as a collection of Legs that
    may be parallel or cross at certain points, or as a more generic DODAG.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.4-4">
    The concept of a Track was introduced in the <span><a href="#RFC9030" class="xref">"6TiSCH Architecture"</a> [<a href="#RFC9030" class="xref">6TiSCH-ARCHI</a>]</span>, as a collection of potential paths that
    leverage redundant forwarding solutions along the way.
    With this specification, a Track forms DODAG that is directed towards a Track Ingress. If there is a single Track Egress,
    then the Track is reversible to form another DODAG by reversing the
    direction of each edge. A node at the Ingress of more
    than one Segment in a Track may use one or more of these Segments to forward
    a packet inside the Track.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<p id="section-3.4-5">
   Section 5.1. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> describes the RPL Instance and
   its encoding. There can be up to 128 global RPL Instances, for which there
   can be one or more DODAGs, and there can be 64 local RPL Instances, with a
   namespace that is indexed by a DODAGID, where the DODAGID is a Unique Local
   Address (ULA) or a Global Unicast Address (GUA) of the Root of the DODAG.<a href="#section-3.4-5" class="pilcrow">¶</a></p>
<p id="section-3.4-6">
   A Track is normally associated with a Local RPL Instance which RPLInstanceID is used as the TrackID, more in  <a href="#trkid" class="xref">Section 6.2</a>.
   A Track Leg may also be used as a subTrack that extends the RPL main DODAG.
   In that case, the TrackID is set to the global RPLInstanceID of the main
   DODAG, which suffices to identify the routing topology. As opposed to local
   RPL instances, the Track Ingress that encapsulates the packets over a
   subtrack is not Root, and that the source address of the encapsulated packet
   is not used to determine the Track.<a href="#section-3.4-6" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3.5">
        <h3 id="name-serial-track-signaling">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-serial-track-signaling" class="section-name selfRef">Serial Track Signaling</a>
        </h3>
<p id="section-3.5-1">
   This specification enables to set up a P-Route along either a Track Leg or a
   Segment. A P-Route is installed and maintained using an extended RPL DAO
   message called a Projected DAO (P-DAO), and a Track is composed of the
   combination of one or more P-Routes.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
<p id="section-3.5-2">
   A P-DAO message for a Track signals the TrackID in the RPLInstanceID field.
   In the case of a local RPL Instance, the address of the Track Ingress is
   used as source to encapsulated packets along the Track is signaled in the
   DODAGID field of the Projected DAO Base Object,
   see <a href="#p-dao-fmt" class="xref">Figure 6</a>.<a href="#section-3.5-2" class="pilcrow">¶</a></p>
<p id="section-3.5-3">
   This specification introduces the Via Information Option (VIO) to signal a sequence of hops in a
   Leg or a Segment in the P-DAO messages, either in Storing Mode (SM-VIO) or
   NON-Storing Mode (NSM-VIO). One P-DAO messages contains a single VIO,
   associated to one or more RPL Target Options that signal the destination
   IPv6 addresses that can reached along the Track, more in <a href="#vio" class="xref">Section 5.3</a>.<a href="#section-3.5-3" class="pilcrow">¶</a></p>
<p id="section-3.5-4">
   Before diving deeper into Track Legs and Segments signaling and operation,
   this section provides examples of what how route projection works through
   variations of a simple example. This simple example illustrates the case of
   host routes, though RPL Targets can be prefixes.<a href="#section-3.5-4" class="pilcrow">¶</a></p>
<p id="section-3.5-5">
   Say we want to build a Serial Track from
   node A to E in <a href="#reft" class="xref">Figure 4</a>, so A can route packets to E's
   neighbors F and G along A, B, C, D and E as opposed to via the Root:<a href="#section-3.5-5" class="pilcrow">¶</a></p>
<span id="name-reference-track"></span><div id="reft">
<figure id="figure-4">
          <div class="alignCenter art-text artwork" id="section-3.5-6.1">
<pre>
                              /===&gt; F
A ===&gt; B ===&gt; C ===&gt; D===&gt; E &lt;
                              \===&gt; G

</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-reference-track" class="selfRef">Reference Track</a>
          </figcaption></figure>
</div>
<p id="section-3.5-7">
   Conventionally we use  ==&gt; to represent a strict hop and --&gt; for a
   loose hop.
   We use -to- like in C==&gt;D==&gt;E-to-F to represent coma-separated
   Targets, e.g., F is a Target for Segment C==&gt;D==&gt;E.
   In this example, A is Track Ingress, E is Track Egress. C is a stitching
   point. F and G are "external" Targets for the Track, and become reachable
   from A via the Track A(ingress) to E (Egress and implicit Target in
   Non-Storing Mode) leading to F and G (explicit Targets).<a href="#section-3.5-7" class="pilcrow">¶</a></p>
<p id="section-3.5-8">
In a general manner the desired outcome is as follows:<a href="#section-3.5-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5-9.1">Targets are E, F, and G<a href="#section-3.5-9.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.5-9.2">P-DAO 1 signals C==&gt;D==&gt;E<a href="#section-3.5-9.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.5-9.3">P-DAO 2 signals A==&gt;B==&gt;C<a href="#section-3.5-9.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.5-9.4">P-DAO 3 signals F and G via the A--&gt;E Track<a href="#section-3.5-9.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.5-10">
   P-DAO 3 may be ommitted if P-DAO 1 and 2 signal F and G as Targets.<a href="#section-3.5-10" class="pilcrow">¶</a></p>
<p id="section-3.5-11">
   Loose sequences of hops must be expressed in Non-Storing Mode, so P-DAO 3
   contains a NSM-VIO. With this specification, the DODAGID to be used by the
   Ingress as  source address is signaled if needed in the DAO base object,
   the via list starts at the first loose hop and matches the source route
   header, and the Egress of a Non-Storing Mode P-DAO is an implicit Target
   that is not listed in the RTO.<a href="#section-3.5-11" class="pilcrow">¶</a></p>
<div id="usms">
<section id="section-3.5.1">
          <h4 id="name-using-storing-mode-segments">
<a href="#section-3.5.1" class="section-number selfRef">3.5.1. </a><a href="#name-using-storing-mode-segments" class="section-name selfRef">Using Storing Mode Segments</a>
          </h4>
<p id="section-3.5.1-1">
    A==&gt;B==&gt;C and C==&gt;D==&gt;E are segments of a same Track.
    Note that the Storing Mode signaling imposes strict continuity in a segment, since the P-DAO is passed hop by hop, as a classical DAO is,
    along the reverse datapath that it signals.
    One benefit of strict routing is that loops are avoided along the Track.<a href="#section-3.5.1-1" class="pilcrow">¶</a></p>
<section id="section-3.5.1.1">
            <h5 id="name-stitched-segments">
<a href="#section-3.5.1.1" class="section-number selfRef">3.5.1.1. </a><a href="#name-stitched-segments" class="section-name selfRef">Stitched Segments</a>
            </h5>
<p id="section-3.5.1.1-1">In this formulation:<a href="#section-3.5.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.1.1-2.1">P-DAO 1 signals C==&gt;D==&gt;E-to-F,G<a href="#section-3.5.1.1-2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.1-2.2">P-DAO 2 signals A==&gt;B==&gt;C-to-F,G<a href="#section-3.5.1.1-2.2" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-3.5.1.1-3">Storing Mode P-DAO 1 is sent to E and when it is succesfully acknowledged,
   Storing Mode P-DAO 2 is sent to C, as follows:<a href="#section-3.5.1.1-3" class="pilcrow">¶</a></p>
<span id="name-p-dao-messages"></span><div id="PDAOcase11">
<table class="center" id="table-1">
              <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-p-dao-messages" class="selfRef">P-DAO Messages</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Field</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 1 to E</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 2 to C</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Mode</td>
                  <td class="text-left" rowspan="1" colspan="1">Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Storing</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Track Ingress</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">(DODAGID, TrackID)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">SegmentID</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">2</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">VIO</td>
                  <td class="text-left" rowspan="1" colspan="1">C, D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">A, B, C</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Targets</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.1-5">As a result the RIBs are set as follows:<a href="#section-3.5.1.1-5" class="pilcrow">¶</a></p>
<span id="name-rib-setting"></span><div id="RIBcase11">
<table class="center" id="table-2">
              <caption>
<a href="#table-2" class="selfRef">Table 2</a>:
<a href="#name-rib-setting" class="selfRef">RIB setting</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Node</th>
                  <th class="text-left" rowspan="1" colspan="1">destination</th>
                  <th class="text-left" rowspan="1" colspan="1">Origin</th>
                  <th class="text-left" rowspan="1" colspan="1">Next Hop(s)</th>
                  <th class="text-left" rowspan="1" colspan="1">TrackID</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.1-7">
    Packets originated by A to F or G do not require an encapsulation
    as the RPI can be placed in the native header chain. For packets that
    it routes, A must encapsulate to add the RPI that signals the trackID;
    the outer headers of the packets that are forwarded along the Track have
    the following settings:<a href="#section-3.5.1.1-7" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings"></span><div id="Packetcase11">
<table class="center" id="table-3">
              <caption>
<a href="#table-3" class="selfRef">Table 3</a>:
<a href="#name-packet-header-settings" class="selfRef">Packet Header Settings</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X != A</td>
                  <td class="text-center" rowspan="1" colspan="1">F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.1-9">
As an example, say that A has a packet for F. Using the RIB above:<a href="#section-3.5.1.1-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.1.1-10.1">From P-DAO 2: A forwards to B and B forwards to C.<a href="#section-3.5.1.1-10.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.1-10.2">From P-DAO 1: C forwards to D and D forwards to E.<a href="#section-3.5.1.1-10.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.1-10.3">From Neighbor Cache Entry: C delivers the packet to F.<a href="#section-3.5.1.1-10.3" class="pilcrow">¶</a>
</li>
            </ul>
</section>
<section id="section-3.5.1.2">
            <h5 id="name-external-routes">
<a href="#section-3.5.1.2" class="section-number selfRef">3.5.1.2. </a><a href="#name-external-routes" class="section-name selfRef">External routes</a>
            </h5>
<p id="section-3.5.1.2-1">In this example, we consider F and G as destinations that are external to the
   Track as a DODAG, as discussed in section 4.1.1. of <span>[<a href="#RFC9008" class="xref">RFC9008</a>]</span>.
   We then apply the directives for encapsulating in that case, more in <a href="#routing" class="xref">Section 6.6</a>.<a href="#section-3.5.1.2-1" class="pilcrow">¶</a></p>
<p id="section-3.5.1.2-2">In this formulation, we set up the Track Leg explicitly, which creates less
   routing state in intermediate hops at the expense of larger packets to
   accommodate source routing:<a href="#section-3.5.1.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.1.2-3.1">P-DAO 1 signals C==&gt;D==&gt;E-to-E<a href="#section-3.5.1.2-3.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.2-3.2">P-DAO 2 signals A==&gt;B==&gt;C-to-E<a href="#section-3.5.1.2-3.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.2-3.3">P-DAO 3 signals F and G via the A--&gt;E-to-F,G Track<a href="#section-3.5.1.2-3.3" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-3.5.1.2-4">Storing Mode P-DAO 1 and 2, and Non-Storing Mode P-DAO 3, are sent to E, C
 and A, respectively, as follows:<a href="#section-3.5.1.2-4" class="pilcrow">¶</a></p>
<span id="name-p-dao-messages-2"></span><div id="PDAOcase12">
<table class="center" id="table-4">
              <caption>
<a href="#table-4" class="selfRef">Table 4</a>:
<a href="#name-p-dao-messages-2" class="selfRef">P-DAO Messages</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1"> </th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 1 to E</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 2 to C</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 3 to A</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Mode</td>
                  <td class="text-left" rowspan="1" colspan="1">Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Track Ingress</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">(DODAGID, TrackID)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">SegmentID</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">2</td>
                  <td class="text-left" rowspan="1" colspan="1">3</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">VIO</td>
                  <td class="text-left" rowspan="1" colspan="1">C, D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">A, B, C</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Targets</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.2-6">
   Note in the above that E is not an implicit Target in Storing mode, so it must be added in the RTO.<a href="#section-3.5.1.2-6" class="pilcrow">¶</a></p>
<p id="section-3.5.1.2-7">As a result the RIBs are set as follows:<a href="#section-3.5.1.2-7" class="pilcrow">¶</a></p>
<span id="name-rib-setting-2"></span><div id="RIBcase12">
<table class="center" id="table-5">
              <caption>
<a href="#table-5" class="selfRef">Table 5</a>:
<a href="#name-rib-setting-2" class="selfRef">RIB setting</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Node</th>
                  <th class="text-left" rowspan="1" colspan="1">destination</th>
                  <th class="text-left" rowspan="1" colspan="1">Origin</th>
                  <th class="text-left" rowspan="1" colspan="1">Next Hop(s)</th>
                  <th class="text-left" rowspan="1" colspan="1">TrackID</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 3</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.2-9">
    Packets from A to E do not require an encapsulation. The outer headers of
    the packets that are forwarded along the Track have the following settings:<a href="#section-3.5.1.2-9" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings-2"></span><div id="Packetcase12">
<table class="center" id="table-6">
              <caption>
<a href="#table-6" class="selfRef">Table 6</a>:
<a href="#name-packet-header-settings-2" class="selfRef">Packet Header Settings</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X</td>
                  <td class="text-center" rowspan="1" colspan="1">E (X != A), F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.2-11">
As an example, say that A has a packet for F. Using the RIB above:<a href="#section-3.5.1.2-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.1.2-12.1">From P-DAO 3: A encapsulates the packet the Track signaled by P-DAO 3, with the outer header above.
Now the packet destination is E.<a href="#section-3.5.1.2-12.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.2-12.2">From P-DAO 2: A forwards to B and B forwards to C.<a href="#section-3.5.1.2-12.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.2-12.3">From P-DAO 1: C forwards to D and D forwards to E; E decapsulates the packet.<a href="#section-3.5.1.2-12.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.2-12.4">From Neighbor Cache Entry: C delivers packets to F or G.<a href="#section-3.5.1.2-12.4" class="pilcrow">¶</a>
</li>
            </ul>
</section>
<div id="srpdao">
<section id="section-3.5.1.3">
            <h5 id="name-segment-routing">
<a href="#section-3.5.1.3" class="section-number selfRef">3.5.1.3. </a><a href="#name-segment-routing" class="section-name selfRef">Segment Routing</a>
            </h5>
<p id="section-3.5.1.3-1">In this formulation leverages Track Legs to combine Segments and form a
   Graph. The packets are source routed from a Segment to the next to adapt
   the path. As such, this can be seen as a form of Segment Routing <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>:<a href="#section-3.5.1.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.1.3-2.1">P-DAO 1 signals C==&gt;D==&gt;E-to-E<a href="#section-3.5.1.3-2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.3-2.2">P-DAO 2 signals A==&gt;B-to-B,C<a href="#section-3.5.1.3-2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.3-2.3">P-DAO 3 signals F and G via the A--&gt;C--&gt;E-to-F,G Track<a href="#section-3.5.1.3-2.3" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-3.5.1.3-3">Storing Mode P-DAO 1 and 2, and Non-Storing Mode P-DAO 3, are sent to E, B
 and A, respectively, as follows:<a href="#section-3.5.1.3-3" class="pilcrow">¶</a></p>
<span id="name-p-dao-messages-3"></span><div id="PDAOcase13">
<table class="center" id="table-7">
              <caption>
<a href="#table-7" class="selfRef">Table 7</a>:
<a href="#name-p-dao-messages-3" class="selfRef">P-DAO Messages</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1"> </th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 1 to E</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 2 to B</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 3 to A</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Mode</td>
                  <td class="text-left" rowspan="1" colspan="1">Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Track Ingress</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">(DODAGID, TrackID)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">SegmentID</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">2</td>
                  <td class="text-left" rowspan="1" colspan="1">3</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">VIO</td>
                  <td class="text-left" rowspan="1" colspan="1">C, D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">A, B</td>
                  <td class="text-left" rowspan="1" colspan="1">C, E</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Targets</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">
                     C</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.3-5">
   Note in the above that the Segment can terminate at the loose hop as used in
   the example of P-DAO 1 or at the previous hop as done with P-DAO 2.
   Both methods are possible on any Segment joined by a loose Track Leg. P-DAO 1
   generates more signaling since E is the Segment Egress when D could be, but
   has the benefit that it validates that the connectivity between D and E still
   exists.<a href="#section-3.5.1.3-5" class="pilcrow">¶</a></p>
<p id="section-3.5.1.3-6">As a result the RIBs are set as follows:<a href="#section-3.5.1.3-6" class="pilcrow">¶</a></p>
<span id="name-rib-setting-3"></span><div id="RIBcase13">
<table class="center" id="table-8">
              <caption>
<a href="#table-8" class="selfRef">Table 8</a>:
<a href="#name-rib-setting-3" class="selfRef">RIB setting</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Node</th>
                  <th class="text-left" rowspan="1" colspan="1">destination</th>
                  <th class="text-left" rowspan="1" colspan="1">Origin</th>
                  <th class="text-left" rowspan="1" colspan="1">Next Hop(s)</th>
                  <th class="text-left" rowspan="1" colspan="1">TrackID</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E, F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 3</td>
                  <td class="text-left" rowspan="1" colspan="1">C, E</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.3-8">
    Packets originated at A to E do not require an encapsulation, but
    carry a SRH via C.
    The outer headers of the packets that are forwarded along the Track have
    the following settings:<a href="#section-3.5.1.3-8" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings-3"></span><div id="Packetcase13">
<table class="center" id="table-9">
              <caption>
<a href="#table-9" class="selfRef">Table 9</a>:
<a href="#name-packet-header-settings-3" class="selfRef">Packet Header Settings</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">C till C then E</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X</td>
                  <td class="text-center" rowspan="1" colspan="1">E (X != A), F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.1.3-10">
As an example, say that A has a packet for F. Using the RIB above:<a href="#section-3.5.1.3-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.1.3-11.1">From P-DAO 3: A encapsulates the packet the Track signaled by P-DAO 3, with the outer header above.
Now the destination in the IPv6 Header is C, and a SRH signals the final destination is E.<a href="#section-3.5.1.3-11.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.3-11.2">From P-DAO 2: A forwards to B and B forwards to C.<a href="#section-3.5.1.3-11.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.3-11.3">From P-DAO 3: C processes the SRH and sets the destination in the IPv6 Header to E.<a href="#section-3.5.1.3-11.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.3-11.4">From P-DAO 1: C forwards to D and D forwards to E; E decapsulates the packet.<a href="#section-3.5.1.3-11.4" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.1.3-11.5">From the Neighbor Cache Entry: C delivers packets to F or G.<a href="#section-3.5.1.3-11.5" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
</section>
</div>
<section id="section-3.5.2">
          <h4 id="name-using-non-storing-mode-join">
<a href="#section-3.5.2" class="section-number selfRef">3.5.2. </a><a href="#name-using-non-storing-mode-join" class="section-name selfRef">Using Non-Storing Mode joining Tracks</a>
          </h4>
<p id="section-3.5.2-1">In this formulation:<a href="#section-3.5.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.2-2.1">P-DAO 1 signals C==&gt;D==&gt;E-to-F,G<a href="#section-3.5.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.5.2-2.2">P-DAO 2 signals A==&gt;B==&gt;C-to-C,F,G<a href="#section-3.5.2-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-3.5.2-3">
    A==&gt;B==&gt;C and C==&gt;D==&gt;E are Tracks expressed as Non-Storing P-DAOs.<a href="#section-3.5.2-3" class="pilcrow">¶</a></p>
<section id="section-3.5.2.1">
            <h5 id="name-stitched-tracks">
<a href="#section-3.5.2.1" class="section-number selfRef">3.5.2.1. </a><a href="#name-stitched-tracks" class="section-name selfRef">Stitched Tracks</a>
            </h5>
<p id="section-3.5.2.1-1">
    Non-Storing Mode P-DAO 1 and 2 are sent to C and A respectively, as follows:<a href="#section-3.5.2.1-1" class="pilcrow">¶</a></p>
<span id="name-p-dao-messages-4"></span><div id="PDAOcase21">
<table class="center" id="table-10">
              <caption>
<a href="#table-10" class="selfRef">Table 10</a>:
<a href="#name-p-dao-messages-4" class="selfRef">P-DAO Messages</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1"> </th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 1 to C</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 2 to A</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Mode</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Track Ingress</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">(DODAGID, TrackID)</td>
                  <td class="text-left" rowspan="1" colspan="1">(C, 131)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 131)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">SegmentID</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">VIO</td>
                  <td class="text-left" rowspan="1" colspan="1">D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">B, C</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Targets</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">E, F, G</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.1-3">As a result the RIBs are set as follows:<a href="#section-3.5.2.1-3" class="pilcrow">¶</a></p>
<span id="name-rib-setting-4"></span><div id="RIBcase21">
<table class="center" id="table-11">
              <caption>
<a href="#table-11" class="selfRef">Table 11</a>:
<a href="#name-rib-setting-4" class="selfRef">RIB setting</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Node</th>
                  <th class="text-left" rowspan="1" colspan="1">destination</th>
                  <th class="text-left" rowspan="1" colspan="1">Origin</th>
                  <th class="text-left" rowspan="1" colspan="1">Next Hop(s)</th>
                  <th class="text-left" rowspan="1" colspan="1">TrackID</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E, F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">(C, 131)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">C, E, F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">B, C</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 131)</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.1-5">
    Packets originated at A to E, F and G do not require an encapsulation, though it is preferred that A encapsulates and C decapsulates. Either way, they
    carry a SRH via B and C, and C needs to encapsulate to E, F, or G
    to add an SRH via D and E.
    The encapsulating headers of packets that are forwarded along the Track
    between C and E have the following settings:<a href="#section-3.5.2.1-5" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings-betw"></span><div id="Packetcase21">
<table class="center" id="table-12">
              <caption>
<a href="#table-12" class="selfRef">Table 12</a>:
<a href="#name-packet-header-settings-betw" class="selfRef">Packet Header Settings between C and E</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-center" rowspan="1" colspan="1">D till D then E</td>
                  <td class="text-center" rowspan="1" colspan="1">(C, 131)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X</td>
                  <td class="text-center" rowspan="1" colspan="1">E, F, or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.1-7">As an example, say that A has a packet for F.  Using the RIB above:<a href="#section-3.5.2.1-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.2.1-8.1">From P-DAO 2:
   A encapsulates the packet with destination of F in the Track signaled by
   P-DAO 2. The outer header has source A, destination B, an SRH that
   indicates C as the next loose hop, and a RPI indicating a TrackId of 131
   from A's namespace, which is distinct from TrackId of 131 from C's.<a href="#section-3.5.2.1-8.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.1-8.2">From the SRH:
Packets forwarded by B have source A, destination C, a consumed SRH, and a RPI indicating a TrackId of 131 from A's namespace. C decapsulates.<a href="#section-3.5.2.1-8.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.1-8.3">
From P-DAO 1:
C encapsulates the packet with destination of F in the Track signaled by P-DAO 1. The outer header has source C, destination D, an SRH that indicates E as the next loose hop, and a RPI indicating a TrackId of 131 from C's namespace. E decapsulates.<a href="#section-3.5.2.1-8.3" class="pilcrow">¶</a>
</li>
            </ul>
</section>
<section id="section-3.5.2.2">
            <h5 id="name-external-routes-2">
<a href="#section-3.5.2.2" class="section-number selfRef">3.5.2.2. </a><a href="#name-external-routes-2" class="section-name selfRef">External routes</a>
            </h5>
<p id="section-3.5.2.2-1">In this formulation:<a href="#section-3.5.2.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.2.2-2.1">P-DAO 1 signals C==&gt;D==&gt;E-to-E<a href="#section-3.5.2.2-2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.2-2.2">P-DAO 2 signals A==&gt;B==&gt;C-to-C,E<a href="#section-3.5.2.2-2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.2-2.3">P-DAO 3 signals F and G via the A--&gt;E-to-F,G Track<a href="#section-3.5.2.2-2.3" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-3.5.2.2-3">
    Non-Storing Mode P-DAO 1 is sent to C and Non-Storing Mode P-DAO 2 and 3 are sent A, as follows:<a href="#section-3.5.2.2-3" class="pilcrow">¶</a></p>
<span id="name-p-dao-messages-5"></span><div id="PDAOcase22">
<table class="center" id="table-13">
              <caption>
<a href="#table-13" class="selfRef">Table 13</a>:
<a href="#name-p-dao-messages-5" class="selfRef">P-DAO Messages</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1"> </th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 1 to C</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 2 to A</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 3 to A</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Mode</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Track Ingress</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">(DODAGID, TrackID)</td>
                  <td class="text-left" rowspan="1" colspan="1">(C, 131)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">SegmentID</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">VIO</td>
                  <td class="text-left" rowspan="1" colspan="1">D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">B, C</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Targets</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.2-5">As a result the RIBs are set as follows:<a href="#section-3.5.2.2-5" class="pilcrow">¶</a></p>
<span id="name-rib-setting-5"></span><div id="RIBcase22">
<table class="center" id="table-14">
              <caption>
<a href="#table-14" class="selfRef">Table 14</a>:
<a href="#name-rib-setting-5" class="selfRef">RIB setting</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Node</th>
                  <th class="text-left" rowspan="1" colspan="1">destination</th>
                  <th class="text-left" rowspan="1" colspan="1">Origin</th>
                  <th class="text-left" rowspan="1" colspan="1">Next Hop(s)</th>
                  <th class="text-left" rowspan="1" colspan="1">TrackID</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">(C, 131)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">C, E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">B, C</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 3</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.2-7">
    The encapsulating headers of packets that are forwarded along the Track
    between C and E have the following settings:<a href="#section-3.5.2.2-7" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings-4"></span><div id="Packetcase22">
<table class="center" id="table-15">
              <caption>
<a href="#table-15" class="selfRef">Table 15</a>:
<a href="#name-packet-header-settings-4" class="selfRef">Packet Header Settings</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-center" rowspan="1" colspan="1">D till D then E</td>
                  <td class="text-center" rowspan="1" colspan="1">(C, 131)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Middle</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X</td>
                  <td class="text-center" rowspan="1" colspan="1">E, F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.2-9">As an example, say that A has a packet for F.  Using the RIB above:<a href="#section-3.5.2.2-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.2.2-10.1">
From P-DAO 3: A encapsulates the packet with destination of F in the Track signaled by P-DAO 3. The outer header has source A, destination E, and a RPI indicating a TrackId of 141 from A's namespace. This recurses with:<a href="#section-3.5.2.2-10.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.2-10.2">
From P-DAO 2: A encapsulates the packet with destination of E in the Track signaled by P-DAO 2. The outer header has source A, destination B, an SRH that indicates C as the next loose hop, and a RPI indicating a TrackId of 129 from A's namespace.<a href="#section-3.5.2.2-10.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.2-10.3">
From the SRH:
Packets forwarded by B have source A, destination C , a consumed SRH, and a RPI indicating a TrackId of 129 from A's namespace. C decapsulates.<a href="#section-3.5.2.2-10.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.2-10.4">
From P-DAO 1:
C encapsulates the packet with destination of E in the Track signaled by P-DAO 1. The outer header has source C, destination D, an SRH that indicates E as the next loose hop, and a RPI indicating a TrackId of 131 from C's namespace. E decapsulates.<a href="#section-3.5.2.2-10.4" class="pilcrow">¶</a>
</li>
            </ul>
</section>
<div id="nssr">
<section id="section-3.5.2.3">
            <h5 id="name-segment-routing-2">
<a href="#section-3.5.2.3" class="section-number selfRef">3.5.2.3. </a><a href="#name-segment-routing-2" class="section-name selfRef">Segment Routing</a>
            </h5>
<p id="section-3.5.2.3-1">In this formulation:<a href="#section-3.5.2.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.2.3-2.1">P-DAO 1 signals C==&gt;D==&gt;E-to-E<a href="#section-3.5.2.3-2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.3-2.2">P-DAO 2 signals A==&gt;B-to-C<a href="#section-3.5.2.3-2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.3-2.3">P-DAO 3 signals F and G via the A--&gt;C--&gt;E-to-F,G Track<a href="#section-3.5.2.3-2.3" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-3.5.2.3-3">
    Non-Storing Mode P-DAO 1 is sent to C and Non-Storing Mode P-DAO 2 and 3 are sent A, as follows:<a href="#section-3.5.2.3-3" class="pilcrow">¶</a></p>
<span id="name-p-dao-messages-6"></span><div id="PDAOcase23">
<table class="center" id="table-16">
              <caption>
<a href="#table-16" class="selfRef">Table 16</a>:
<a href="#name-p-dao-messages-6" class="selfRef">P-DAO Messages</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1"> </th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 1 to C</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 2 to A</th>
                  <th class="text-left" rowspan="1" colspan="1">P-DAO 3 to A</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Mode</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                  <td class="text-left" rowspan="1" colspan="1">Non-Storing</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Track Ingress</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">A</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">(DODAGID, TrackID)</td>
                  <td class="text-left" rowspan="1" colspan="1">(C, 131)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">SegmentID</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                  <td class="text-left" rowspan="1" colspan="1">1</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">VIO</td>
                  <td class="text-left" rowspan="1" colspan="1">D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">C, E</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Targets</td>
                  <td class="text-left" rowspan="1" colspan="1"></td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.3-5">As a result the RIBs are set as follows:<a href="#section-3.5.2.3-5" class="pilcrow">¶</a></p>
<span id="name-rib-setting-6"></span><div id="RIBcase23">
<table class="center" id="table-17">
              <caption>
<a href="#table-17" class="selfRef">Table 17</a>:
<a href="#name-rib-setting-6" class="selfRef">RIB setting</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Node</th>
                  <th class="text-left" rowspan="1" colspan="1">destination</th>
                  <th class="text-left" rowspan="1" colspan="1">Origin</th>
                  <th class="text-left" rowspan="1" colspan="1">Next Hop(s)</th>
                  <th class="text-left" rowspan="1" colspan="1">TrackID</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">D</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 1</td>
                  <td class="text-left" rowspan="1" colspan="1">D, E</td>
                  <td class="text-left" rowspan="1" colspan="1">(C, 131)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-left" rowspan="1" colspan="1">B</td>
                  <td class="text-left" rowspan="1" colspan="1">ND</td>
                  <td class="text-left" rowspan="1" colspan="1">Neighbor</td>
                  <td class="text-left" rowspan="1" colspan="1">Any</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">C</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 2</td>
                  <td class="text-left" rowspan="1" colspan="1">B, C</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">"</td>
                  <td class="text-left" rowspan="1" colspan="1">E, F, G</td>
                  <td class="text-left" rowspan="1" colspan="1">P-DAO 3</td>
                  <td class="text-left" rowspan="1" colspan="1">C, E</td>
                  <td class="text-left" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.3-7">
    The encapsulating headers of packets that are forwarded along the Track
    between A and B have the following settings:<a href="#section-3.5.2.3-7" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings-5"></span><div id="Packetcase231">
<table class="center" id="table-18">
              <caption>
<a href="#table-18" class="selfRef">Table 18</a>:
<a href="#name-packet-header-settings-5" class="selfRef">Packet Header Settings</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">B till D then E</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 129)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Middle</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X</td>
                  <td class="text-center" rowspan="1" colspan="1">E, F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.3-9">
    The encapsulating headers of packets that are forwarded along the Track
    between B and C have the following settings:<a href="#section-3.5.2.3-9" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings-6"></span><div id="Packetcase232">
<table class="center" id="table-19">
              <caption>
<a href="#table-19" class="selfRef">Table 19</a>:
<a href="#name-packet-header-settings-6" class="selfRef">Packet Header Settings</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X</td>
                  <td class="text-center" rowspan="1" colspan="1">E, F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.3-11">
    The encapsulating headers of packets that are forwarded along the Track
    between C and E have the following settings:<a href="#section-3.5.2.3-11" class="pilcrow">¶</a></p>
<span id="name-packet-header-settings-7"></span><div id="Packetcase233">
<table class="center" id="table-20">
              <caption>
<a href="#table-20" class="selfRef">Table 20</a>:
<a href="#name-packet-header-settings-7" class="selfRef">Packet Header Settings</a>
              </caption>
<thead>
                <tr>
                  <th class="text-center" rowspan="1" colspan="1">Header</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Source Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">IPv6 Dest. Addr.</th>
                  <th class="text-center" rowspan="1" colspan="1">TrackID in RPI</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Outer</td>
                  <td class="text-center" rowspan="1" colspan="1">C</td>
                  <td class="text-center" rowspan="1" colspan="1">D till D then E</td>
                  <td class="text-center" rowspan="1" colspan="1">(C, 131)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Middle</td>
                  <td class="text-center" rowspan="1" colspan="1">A</td>
                  <td class="text-center" rowspan="1" colspan="1">E</td>
                  <td class="text-center" rowspan="1" colspan="1">(A, 141)</td>
                </tr>
                <tr>
                  <td class="text-center" rowspan="1" colspan="1">Inner</td>
                  <td class="text-center" rowspan="1" colspan="1">X</td>
                  <td class="text-center" rowspan="1" colspan="1">E, F or G</td>
                  <td class="text-center" rowspan="1" colspan="1">N/A</td>
                </tr>
              </tbody>
            </table>
</div>
<p id="section-3.5.2.3-13">As an example, say that A has a packet for F.  Using the RIB above:<a href="#section-3.5.2.3-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.5.2.3-14.1">From P-DAO 3: A encapsulates the packet with destination of F in the Track signaled by P-DAO 3. The outer header has source A, destination C, an SRH that indicates E as the next loose hop, and a RPI indicating a TrackId of 141 from A's namespace. This recurses with:<a href="#section-3.5.2.3-14.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.3-14.2">
From P-DAO 2: A encapsulates the packet with destination of C in the Track signaled by P-DAO 2. The outer header has source A, destination B, and a RPI indicating a TrackId of 129 from A's namespace. B decapsulates forwards to C based on a sibling connected route.<a href="#section-3.5.2.3-14.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.3-14.3">
From the SRH: C consumes the SRH and makes the destination E.<a href="#section-3.5.2.3-14.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-3.5.2.3-14.4">
From P-DAO 1:
C encapsulates the packet with destination of E in the Track signaled by P-DAO 1. The outer header has source C, destination D, an SRH that indicates E as the next loose hop, and a RPI indicating a TrackId of 131 from C's namespace. E decapsulates.<a href="#section-3.5.2.3-14.4" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
</section>
</section>
<div id="concepts">
<section id="section-3.6">
        <h3 id="name-complex-tracks">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-complex-tracks" class="section-name selfRef">Complex Tracks</a>
        </h3>
<p id="section-3.6-1">To increase the reliability of the P2P transmission, this specification
   enables to build a collection of Legs between the same Ingress and Egress Nodes and combine them with the same TrackID, as shown in <a href="#FigLegs" class="xref">Figure 5</a>. Legs may cross at loose hops edges or remain parallel.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
<p id="section-3.6-2">
   The Segments that join the loose hops of a Leg are installed with the same TrackID as the Leg. But each individual Leg and Segment has its own
   P-RouteID which allows to manage it separately. When Legs cross within
   respsective Segment, the next loose hop (the current destination of the
   packet) indicates which Leg is being followed and a Segment that can reach
   that next loose hop is selected.<a href="#section-3.6-2" class="pilcrow">¶</a></p>
<span id="name-segments-and-tracks"></span><div id="FigLegs">
<figure id="figure-5">
          <div class="alignCenter art-text artwork" id="section-3.6-3.1">
<pre>

        CPF               CPF          CPF                 CPF

                       Southbound API

   _-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-
 _-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-._-

                      +----------+
                      | RPL Root |
                      +----------+
                        (      )
              (                                  )
        (              DODAG                              )
          (                                           )
  (                                                         )
                                                                  )
  &lt;-    Leg 1            B,                            E -&gt;
  &lt;--- Segment 1 A,B ---&gt; &lt;------- Segment 2 C,D,E -------&gt;

             FWD  --z  Relay --z   FWD  --z   FWD          Target 1
         z-- Node  z--  Node  z--  Node  z--  Node --z     /
      --z    (A)        (B) \      (C)        (D)  z--    /
Track                        \                       Track
Ingress                    Segment 5                 Egress - Tgt 2
  (I)                           \                     (E)
      --z                        \                 z--    \
       z-- FWD   --z  FWD  --z  Relay --z  FWD  --z        \
           Node   z-- Node  z-- Node   z-- Node            Target 3
           (F)        (G)       (H)        (J)

  &lt;------ Segment 3 F,G,H ------&gt; &lt;---- Segment 4 J,E ----&gt;
  &lt;-      Leg 2                  H,                    E -&gt;

  &lt;--- Segment 1 A,B ---&gt; &lt;- S5-&gt; &lt;---- Segment 4 J,E ----&gt;
  &lt;-      Leg 3          B,      H,                    E -&gt;
                                                                  )
   (
              (                                        )
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-segments-and-tracks" class="selfRef">Segments and Tracks</a>
          </figcaption></figure>
</div>
<p id="section-3.6-4">
   Note that while this specification enables to build both Segments inside a
   Leg (aka East-West), such as Segment 2 above which is within Leg 1, and Inter-Leg Segments (aka North-South), such as Segment 2 above which joins
   Leg 1 and Leg 2, it does not signal to the Ingress which Inter-Leg Segments
   are available, so the use of North-South Segments and associated PAREO
   functions is curently limited. The only possibility available at this time
   is to define overlapping Legs as illustrated in <a href="#FigLegs" class="xref">Figure 5</a>,
   with Leg 3 that is congruent with Leg 1 till node B and congruent with Leg
   2 from node H on, abstracting Segment 5 as an East-West Segment.<a href="#section-3.6-4" class="pilcrow">¶</a></p>
<p id="section-3.6-5">
   DetNet Forwarding Nodes only understand the simple 1-to-1 forwarding
   sublayer transport operation along a segment whereas the more sophisticated
   Relay nodes can also provide service sublayer functions such as Replication
   and Elimination. One possible mapping between DetNet and this specification
   is to signal the Relay Nodes as the hops of a Leg and the forwarding Nodes
   as the hops in a Segment that join the Relay nodes as illustrated in <a href="#FigLegs" class="xref">Figure 5</a>.<a href="#section-3.6-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="inandout">
<section id="section-3.7">
        <h3 id="name-scope-and-expectations">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-scope-and-expectations" class="section-name selfRef">Scope and Expectations</a>
        </h3>
<p id="section-3.7-1">
    This specification expects that the RPL Main DODAG is operated in RPL
    Non-Storing Mode to sustain the exchanges with the Root. Based on its
    comprehensive knowledge of the parent-child relationship, the Root can form
    an abstracted view of the whole DODAG topology. This document adds the
    capability for nodes to advertise additional sibling information to
    complement the topological awareness of the Root to be passed on to the PCE,
    and enable the PCE to build more / better paths that traverse those siblings.<a href="#section-3.7-1" class="pilcrow">¶</a></p>
<p id="section-3.7-2">
    P-Routes require resources such as routing table space in the
    routers and bandwidth on the links; the amount of state that
    is installed in each node must be computed to fit within the node's memory,
    and the amount of rerouted traffic must fit within the capabilities of
    the transmission links. The methods used to learn the node capabilities and
    the resources that are available in the devices and in the network are out
    of scope for this document. The method to capture and report the LLN link capacity and reliability statistics are also out of scope. They may be fetched from the nodes through network management functions or other forms of telemetry such as OAM.<a href="#section-3.7-2" class="pilcrow">¶</a></p>
<p id="section-3.7-3">
    The <span><a href="#RFC9030" class="xref">"6TiSCH Architecture"</a> [<a href="#RFC9030" class="xref">6TiSCH-ARCHI</a>]</span> leverages a centralized model that is similar to that of <span><a href="#RFC8655" class="xref">"Deterministic Networking Architecture"</a> [<a href="#RFC8655" class="xref">RFC8655</a>]</span>,
    whereby the device resources and capabilities are exposed to an external
    controller which installs routing states into the network based on its own
    objective functions that reside in that external entity. With DetNet and
    6TiSCH, the component of the controller that is responsible of computing
    routes is a PCE. The PCE
    computes its routes based on its own objective functions such as described
    in <span>[<a href="#RFC4655" class="xref">RFC4655</a>]</span>, and typically controls the routes using the
    PCE Protocol (PCEP) by <span>[<a href="#RFC5440" class="xref">RFC5440</a>]</span>.  While this specification
    expects a PCE and while PCEP might effectively be used between the Root and
    the PCE, the control protocol between the PCE and the Root is out of scope.<a href="#section-3.7-3" class="pilcrow">¶</a></p>
<p id="section-3.7-4">
    This specification expects a single PCE with a full view of the network. Distributing the PCE function for a large network is out of scope.
    This specification uses the RPL Root as a proxy to the PCE. The PCE may be
    collocated with the Root, or may reside in an external Controller.
    In that case, the protocol between the Root and the PCE is out of scope
    and abstracted by / mapped to RPL inside the DODAG; one possibility is for
    the Root to transmit the RPL DAOs with the SIOs that detail the parent/child
    and sibling information.<a href="#section-3.7-4" class="pilcrow">¶</a></p>
<p id="section-3.7-5">
    The algorithm to compute the paths and the protocol used by the PCE
    and the metrics and link statistics involved in the computation are also out
    of scope. The effectiveness of the route computation by the PCE depends on
    the quality of the metrics that are reported from the RPL network.
    Which metrics are used and how they are reported is out of scope, but the
    expectation is that they are mostly of long-term, statistical nature, and
    provide visibility on link throughput, latency, stability and availability
    over relatively long periods.<a href="#section-3.7-5" class="pilcrow">¶</a></p>
<p id="section-3.7-6">
    The <span><a href="#I-D.ietf-raw-architecture" class="xref">"Reliable and Available
    Wireless (RAW) Architecture/Framework"</a> [<a href="#I-D.ietf-raw-architecture" class="xref">RAW-ARCHI</a>]</span> extends the definition of
    Track, as being composed of East-West directional segments and North-South
    bidirectional segments, to enable additional path diversity, using Packet ARQ, Replication, Elimination, and Overhearing (PAREO) functions over the available paths, to provide a dynamic balance between the reliability and availability requirements of the flows and the need to conserve energy and spectrum. This specification prepares for RAW by setting up the Tracks, but only forms DODAGs, which are composed  of aggregated end-to-end loose source routed Legs, joined by strict routed Segments, all oriented East-West.<a href="#section-3.7-6" class="pilcrow">¶</a></p>
<p id="section-3.7-7">
    The RAW Architecture defines a dataplane extension of the PCE called the Path Selection Engine (PSE), that adapts the use of the path redundancy within a Track to defeat the diverse causes of packet loss.  The PSE controls the forwarding operation of the packets within a Track
    This specification can use but does not impose a PSE and does not provide
    the policies that wouldselect which packets are routed through which
    path within a Track, IOW, how the PSE may use the path redundancy within
    the Track. By default, the use of the available redundancy is limited to simple load balancing, and all the segments are East-West unidirectional only.<a href="#section-3.7-7" class="pilcrow">¶</a></p>
<p id="section-3.7-8">
    A Track may be set up to reduce the load around the Root, or to enable
    urgent traffic to flow more directly. This specification does not provide
    the policies that would decide which flows are routed through which Track.
    In a Non-Storing Mode RPL Instance, the Main DODAG provides a default route
    via the Root, and the Tracks provide more specific routes to the Track
    Targets.<a href="#section-3.7-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ext">
<section id="section-4">
      <h2 id="name-extending-existing-rfcs">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-extending-existing-rfcs" class="section-name selfRef">Extending existing RFCs</a>
      </h2>
<div id="ext6550">
<section id="section-4.1">
        <h3 id="name-extending-rfc-6550">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-extending-rfc-6550" class="section-name selfRef">Extending RFC 6550</a>
        </h3>
<p id="section-4.1-1">
    This specification extends RPL <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> to enable the Root
    to install East-West routes inside a Main DODAG that is operated as
    non-Storing Mode. A Projected DAO (P-DAO) message (see <a href="#extP-DAO" class="xref">Section 4.1.1</a>) contains a new Via Information Option that installs a strict
    or a loose sequence of hops to form respectively a Track Segment or a
    Track Leg.
    A new P-DAO Request (PDR) message (see <a href="#P-DAOreq" class="xref">Section 5.1</a>)
    enables a Track Ingress to request the Track from the Root for which it
    is the Root and it owns the address that serves as TrackID, as well as the
    associated namespace from which it selects the TrackID. In the
    context of this specification, the installed route appears as a more
    specific route to the Track Targets, and the Track Ingress routes
    the packets towards the Targets via the Track using the longest match as
    usual.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">To ensure that the PDR and P-DAO messages can flow at most times,
    it is RECOMMENDED that the nodes involved in a Track mantain
    multiple parents in the  Main DODAG, advertise them all to the Root,
    and use them in turn to retry similar packets. It is also
    RECOMMENDED that the Root uses diverse source route paths to retry
    similar messages ot the nodes in the Track.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<div id="extP-DAO">
<section id="section-4.1.1">
          <h4 id="name-projected-dao">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-projected-dao" class="section-name selfRef">Projected DAO</a>
          </h4>
<p id="section-4.1.1-1">
   Section 6 of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> introduces the RPL Control Message
   Options (CMO), including the RPL Target Option (RTO) and Transit Information
   Option (TIO), which can be placed in RPL messages such as the destination
   Advertisement Object (DAO). A DAO message signals routing information to one
   or more Targets indicated in RTOs, providing one hop information at a time in
   the TIO. A Projected DAO (P-DAO) is a special DAO message generated by the
   Root to install a P-Route formed of multiple hops in its DODAG. This provides
   a RPL-based method to install the Tracks as expected by the 6TiSCH
   Architecture  <span>[<a href="#RFC9030" class="xref">6TiSCH-ARCHI</a>]</span> as a collection of multiple P-Routes.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">
   The P-DAO is signaled with a new "Projected DAO" (P) flag, see <a href="#p-dao-fmt" class="xref">Figure 6</a>. The 'P' flag is encoded in bit position 2 (to be confirmed by
   IANA) of the Flags field in the DAO Base Object. The Root MUST set it to 1 in
   a Projected DAO message. Otherwise it MUST be set to 0. It is set to 0 in
   Legacy implementations as specified respectively in Sections 20.11 and 6.4 of
   <span>[<a href="#RFC6550" class="xref">RPL</a>]</span><a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1-3">
   The P-DAO is control plane signaling and should not be stuck behind high
   traffic levels. The expectation is that the P-DAO message is sent as high
   QoS level, above that of data traffic, typically with the Network Control
   precedence.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<span id="name-projected-dao-base-object"></span><div id="p-dao-fmt">
<figure id="figure-6">
            <div class="alignCenter art-text artwork" id="section-4.1.1-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    TrackID    |K|D|P|  Flags  |   Reserved    | DAOSequence   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                   DODAGID field set to the                    |
+               IPv6 Address of the Track Ingress               +
|              used to source encapsulated packets              |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Option(s)...
+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-projected-dao-base-object" class="selfRef">Projected DAO Base Object</a>
            </figcaption></figure>
</div>
<p id="section-4.1.1-5"> New fields:<a href="#section-4.1.1-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.1-6">
            <dt id="section-4.1.1-6.1">TrackID:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-6.2"> The local or global RPLInstanceID of the DODAG that serves as Track,
    more in <a href="#trkid" class="xref">Section 6.2</a><a href="#section-4.1.1-6.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.1.1-6.3">P:</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.1-6.4">
              <p id="section-4.1.1-6.4.1">1-bit flag (position to be confirmed by IANA).<a href="#section-4.1.1-6.4.1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-6.4.2">
          The 'P' flag is set to 1 by the Root to signal a Projected DAO,
          and it is set to 0 otherwise.<a href="#section-4.1.1-6.4.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.1-7">
   In RPL Non-Storing Mode, the TIO and RTO are combined in a DAO message to
   inform the DODAG Root of all the edges in the DODAG, which are formed by the
   directed parent-child relationships.
   Options may be factorized; multiple RTOs may be present to signal a collection of children that can be reached via the parent(s) indicated in the TIO(s) that follows the RTOs.
   This specification generalizes the case of a parent that can be used to reach a child with that of a whole Track through which children and siblings of the Track Egress are reachable.<a href="#section-4.1.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="extVIO">
<section id="section-4.1.2">
          <h4 id="name-via-information-option">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-via-information-option" class="section-name selfRef">Via Information Option</a>
          </h4>
<p id="section-4.1.2-1">
   New CMOs called the Via Information Options (VIO) are introduced for use in
   P-DAO messages as a multihop alternative to the TIO, more in <a href="#vio" class="xref">Section 5.3</a>. One VIO is the stateful Storing Mode VIO (SM-VIO); an SM-VIO
   installs a strict hop-by-hop P-Route called a Track Segment. The other is the
   Non-Storing Mode VIO (NSM-VIO); the NSM-VIO installs a loose source-routed
   P-Route called a Track Leg at the Track Ingress, which uses that state to
   encapsulate a packet IPv6_in_IPv6 with a new Routing Header (RH) to the
   Track Egress, more in <a href="#routing" class="xref">Section 6.6</a>.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<p id="section-4.1.2-2">
   A P-DAO contains one or more RTOs to indicate the Target (destinations) that
   can be reached via the P-Route,  followed by exactly one VIO that signals the
   sequence of nodes to be followed, more in <a href="#P-DAO" class="xref">Section 6</a>.
   There are two modes of operation for the P-Routes, the Storing Mode
   and the Non-Storing Mode, see <a href="#sP-DAO" class="xref">Section 6.3.2</a> and
   <a href="#nsP-DAO" class="xref">Section 6.3.3</a> respectively for more.<a href="#section-4.1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="extSIO">
<section id="section-4.1.3">
          <h4 id="name-sibling-information-option">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-sibling-information-option" class="section-name selfRef">Sibling Information Option</a>
          </h4>
<p id="section-4.1.3-1">
   This specification adds another CMO called the Sibling Information Option
   (SIO) that is used by a RPL Aware Node (RAN) to advertise a selection of its
   candidate neighbors as siblings to the Root, more in <a href="#rplsib" class="xref">Section 5.4</a>.
   The SIO is placed in DAO messages that are sent directly to the Root of the
   main DODAG.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="extPDR">
<section id="section-4.1.4">
          <h4 id="name-p-dao-request">
<a href="#section-4.1.4" class="section-number selfRef">4.1.4. </a><a href="#name-p-dao-request" class="section-name selfRef">P-DAO Request</a>
          </h4>
<p id="section-4.1.4-1">
   Two new RPL Control Messages are also introduced, to enable a RPL-Aware Node
   to request the establishment of a Track between self as the Track Ingress
   Node and a Track Egress.
   The node makes its request by sending a new P-DAO Request (PDR) Message to
   the Root. The Root confirms with a new PDR-ACK message back to the requester
   RAN, see <a href="#P-DAOreq" class="xref">Section 5.1</a> for more.<a href="#section-4.1.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="extRPI">
<section id="section-4.1.5">
          <h4 id="name-extending-the-rpi">
<a href="#section-4.1.5" class="section-number selfRef">4.1.5. </a><a href="#name-extending-the-rpi" class="section-name selfRef">Extending the RPI</a>
          </h4>
<p id="section-4.1.5-1">
     Sending a Packet within a RPL Local Instance requires the presence of the abstract RPL Packet Information (RPI) described in section 11.2. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> in the outer IPv6 Header chain (see <span>[<a href="#RFC9008" class="xref">RFC9008</a>]</span>). The RPI carries a local RPLInstanceID which, in association with either the source or the destination address in the IPv6 Header, indicates the RPL Instance that the packet follows.<a href="#section-4.1.5-1" class="pilcrow">¶</a></p>
<p id="section-4.1.5-2">
    This specification extends <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> to create a new flag that signals that a packet is forwarded along a P-Route.<a href="#section-4.1.5-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1.5-3">
            <dt id="section-4.1.5-3.1"> Projected-Route 'P':</dt>
            <dd style="margin-left: 1.5em" id="section-4.1.5-3.2"> 1-bit flag. It is set to 1 in the RPI
       that is added in the encapsulation when a packet is sent over a Track.
       It is set to 0 when a packet is forwarded along the main Track,
       including when the packet follows a Segment that joins loose hops
       of the Main DODAG. The flag is not mutable en-route.<a href="#section-4.1.5-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-4.1.5-4">The encoding of the 'P' flag in native format is shown in <a href="#ext6553" class="xref">Section 4.2</a> while the compressed format is indicated in <a href="#ext8138" class="xref">Section 4.3</a>.<a href="#section-4.1.5-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ext6553">
<section id="section-4.2">
        <h3 id="name-extending-rfc-6553">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-extending-rfc-6553" class="section-name selfRef">Extending RFC 6553</a>
        </h3>
<p id="section-4.2-1">
    <span><a href="#RFC6553" class="xref">"The RPL Option for Carrying RPL Information in Data-Plane Datagrams"</a> [<a href="#RFC6553" class="xref">RFC6553</a>]</span>describes the RPL Option for use among RPL routers to include the abstract RPL Packet Information (RPI) described in section 11.2. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> in data packets.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">

    The RPL Option is commonly referred to as the RPI though the RPI is really the abstract information that is transported in the RPL Option. <span>[<a href="#RFC9008" class="xref">RFC9008</a>]</span> updated the Option Type from 0x63 to 0x23.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">

    This specification modifies the RPL Option to encode the 'P' flag as follows:<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<span id="name-extended-rpl-option-format"></span><div id="Rpifmt">
<figure id="figure-7">
          <div class="alignCenter art-text artwork" id="section-4.2-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                |  Option Type  |  Opt Data Len |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|O|R|F|P|0|0|0|0| RPLInstanceID |          SenderRank           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         (sub-TLVs)                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-extended-rpl-option-format" class="selfRef">Extended RPL Option Format</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.2-5">
          <dt id="section-4.2-5.1">Option Type:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-5.2">0x23 or 0x63, see <span>[<a href="#RFC9008" class="xref">RFC9008</a>]</span><a href="#section-4.2-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-5.3">Opt Data Len:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-5.4"> See <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span><a href="#section-4.2-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-5.5">'O', 'R' and 'F' flags:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-5.6"> See <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span>.
              Those flags MUST be set to 0 by the sender and ignored by the receiver if the 'P' flag is set.<a href="#section-4.2-5.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-5.7"> Projected-Route 'P':</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-5.8"> 1-bit flag as defined in <a href="#extRPI" class="xref">Section 4.1.5</a>.<a href="#section-4.2-5.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-5.9">RPLInstanceID:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-5.10"> See <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span>. Indicates the TrackId if the 'P' flag is set, as discussed in <a href="#extP-DAO" class="xref">Section 4.1.1</a>.<a href="#section-4.2-5.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-5.11">SenderRank:</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-5.12"> See <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span>. This
              field MUST be set to 0 by the sender and ignored by the receiver
              if the 'P'flag is set.<a href="#section-4.2-5.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="ext8138">
<section id="section-4.3">
        <h3 id="name-extending-rfc-8138">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-extending-rfc-8138" class="section-name selfRef">Extending RFC 8138</a>
        </h3>
<p id="section-4.3-1"> The <span><a href="#RFC8138" class="xref">6LoWPAN Routing Header</a> [<a href="#RFC8138" class="xref">RFC8138</a>]</span> specification
    introduces a new IPv6 over Low-Power Wireless Personal Area Network
    (6LoWPAN) <span>[<a href="#RFC6282" class="xref">RFC6282</a>]</span> dispatch type for use in 6LoWPAN
    route-over topologies, which initially covers the needs of RPL data packet
    compression.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Section 4 of <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> presents the generic formats of
    the 6LoWPAN Routing Header (6LoRH) with two forms, one Elective that can
    be ignored and skipped when the router does not understand it, and one
    Critical which causes the packet to be dropped when the router cannot
    process it. The 'E' Flag in the 6LoRH indicates its form. In order to skip
    the Elective 6LoRHs, their format imposes a fixed expression of the size,
    whereas the size of a Critical 6LoRH may be signaled in variable forms to
    enable additional optimizations.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">When the <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> compression is used, the Root of the
    Main DODAG that sets up the Track also constructs the compressed routing
    header (SRH-6LoRH) on behalf of the Track Ingress, which saves the
    complexities of optimizing the SRH-6LoRH encoding in constrained code.
    The SRH-6LoRH is signaled in the NSM-VIO, in a fashion that it is ready
    to be placed as is in the packet encapsulation by the Track Ingress.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">Section 6.3 of <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> presents the formats of the
    6LoWPAN Routing Header of type 5 (RPI-6LoRH) that compresses the RPI for
    normal RPL operation. The format of the RPI-6LoRH is not suited for
    P-Routes since the O,R,F flags are not used and the Rank is unknown and
    ignored.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">
    This specification introduces a new 6LoRH, the P-RPI-6LoRH that can be
    used in either Elective or Critical 6LoRH form,
    see <a href="#elec6lorhtbl" class="xref">Table 21</a> and <a href="#crit6lorhtbl" class="xref">Table 22</a>
    respectively. The new 6LoRH MUST be used as a Critical 6LoRH, unless an SRH-6LoRH is present and controls the routing decision, in which case it
    MAY be used in Elective form.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.3-6">
    The P-RPI-6LoRH is designed to compress the RPI along RPL P-Routes.
    Its format is as follows:<a href="#section-4.3-6" class="pilcrow">¶</a></p>
<span id="name-p-rpi-6lorh-format"></span><div id="PRpifmt">
<figure id="figure-8">
          <div class="alignCenter art-text artwork" id="section-4.3-7.1">
<pre>
     0                   1                   2
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |1|0|E| Length  |  6LoRH Type   | RPLInstanceID |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-p-rpi-6lorh-format" class="selfRef">P-RPI-6LoRH Format</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-4.3-8">
          <dt id="section-4.3-8.1"> Type:</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-8.2"> IANA is requested to define the same value of
              the type for both Elective and Critical forms. A type of 8 is suggested.<a href="#section-4.3-8.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-8.3"> Elective 'E':</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-8.4"> See <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span>. The 'E' flag is set to 1 to indicate an Elective 6LoRH, meaning that it can be ignored when forwarding.<a href="#section-4.3-8.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-8.5"> RPLInstanceID :</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-8.6"> In the context of this specification, the RPLInstanceID field signals the TrackID, see <a href="#tracks" class="xref">Section 3.4</a> and <a href="#trkid" class="xref">Section 6.2</a> .<a href="#section-4.3-8.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.3-9"> <a href="#encompression" class="xref">Section 6.7</a> details how a a Track Ingress leverages
    the P-RPI-6LoRH Header as part of the encapsulation of a packet to place it
    into a Track.<a href="#section-4.3-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="rplccmo">
<section id="section-5">
      <h2 id="name-new-rpl-control-messages-an">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-new-rpl-control-messages-an" class="section-name selfRef">New RPL Control Messages and Options</a>
      </h2>
<div id="P-DAOreq">
<section id="section-5.1">
        <h3 id="name-new-p-dao-request-control-m">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-new-p-dao-request-control-m" class="section-name selfRef">New P-DAO Request Control Message</a>
        </h3>
<p id="section-5.1-1">
   The P-DAO Request (PDR) message is sent by a Node in the Main DODAG to the
   Root. It is a request to establish or refresh a Track where this node is
   Track Ingress, and signals whether an acknowledgment called PDR-ACK is
   requested or not.  A positive PDR-ACK indicates that the Track was built
   and that the Roots commits to maintain the Track for the negotiated lifetime.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2"> The Root may use an asynchronous
   PDR-ACK with an negative status to indicate that the Track was terminated
   before its time. A status of "Transient Failure" (see <a href="#iana-stats-rej" class="xref">Section 10.9</a>) is an indication that the PDR may be retried after a
   reasonable time that depends on the deployment. Other negative status
   values indicate a permanent error; the tentative must be abandoned until
   a corrective action is taken at the application layer or through network
   management.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">
   The source IPv6 address of the PDR signals the Track Ingress to-be of the
   requested Track, and the TrackID is indicated in the message itself.
   One and only one RPL Target Option MUST be present in the message.
   The RTO signals the Track Egress, more in <a href="#req" class="xref">Section 6.1</a>.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">
    The RPL Control Code for the PDR is 0x09, to be confirmed by IANA.
    The format of PDR Base Object is as follows:<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<span id="name-new-p-dao-request-format"></span><div id="disupdfmt">
<figure id="figure-9">
          <div class="alignCenter art-text artwork" id="section-5.1-5.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |    TrackID    |K|R|   Flags   |  ReqLifetime  | PDRSequence   |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |   Option(s)...
 +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-new-p-dao-request-format" class="selfRef">New P-DAO Request Format</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-5.1-6">
          <dt id="section-5.1-6.1">TrackID:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-6.2">8-bit field.
              In the context of this specification, the TrackID field signals the RPLInstanceID of the DODAG formed by the Track, see <a href="#tracks" class="xref">Section 3.4</a> and <a href="#trkid" class="xref">Section 6.2</a>. To allocate a
              new Track, the Ingress Node must provide a value that is not in
              use at this time.<a href="#section-5.1-6.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-6.3">K:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-6.4">The 'K' flag is set to indicate that the recipient
              is expected to send a PDR-ACK back.<a href="#section-5.1-6.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-6.5">R:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-6.6">The 'R' flag is set to request a Complex Track
              for redundancy.<a href="#section-5.1-6.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-6.7">Flags:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-6.8">Reserved. The Flags field MUST initialized to zero by the sender and MUST be ignored by the receiver<a href="#section-5.1-6.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-6.9">ReqLifetime:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-6.10">
            <p id="section-5.1-6.10.1">8-bit unsigned integer.
              The requested lifetime for the Track expressed in Lifetime Units
              (obtained from the DODAG Configuration option).<a href="#section-5.1-6.10.1" class="pilcrow">¶</a></p>
<p id="section-5.1-6.10.2">
              A PDR with a fresher
              PDRSequence refreshes the lifetime, and a PDRLifetime of 0
              indicates that the Track should be destroyed, e.g., when the
              application that requested the Track terminates.<a href="#section-5.1-6.10.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.1-6.11">PDRSequence:</dt>
          <dd style="margin-left: 1.5em" id="section-5.1-6.12">
            <p id="section-5.1-6.12.1">8-bit wrapping sequence number,
              obeying the operation in section 7.2 of
              <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>.
              The PDRSequence is used to correlate a PDR-ACK message with the
              PDR message that triggered it. It is incremented at each PDR
              message and echoed in the PDR-ACK by the Root.<a href="#section-5.1-6.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="rpldisackl">
<section id="section-5.2">
        <h3 id="name-new-pdr-ack-control-message">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-new-pdr-ack-control-message" class="section-name selfRef">New PDR-ACK Control Message</a>
        </h3>
<p id="section-5.2-1">
    The new PDR-ACK is sent as a response to a PDR message with the 'K' flag
    set.
    The RPL Control Code for the PDR-ACK is 0x0A, to be confirmed by IANA.
    Its format is as follows:<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<span id="name-new-pdr-ack-control-message-"></span><div id="disackfmt">
<figure id="figure-10">
          <div class="alignCenter art-text artwork" id="section-5.2-2.1">
<pre>

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    TrackID    |     Flags     | Track Lifetime|  PDRSequence  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| PDR-ACK Status|                Reserved                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Option(s)...
+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-new-pdr-ack-control-message-" class="selfRef">New PDR-ACK Control Message Format</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-5.2-3">
          <dt id="section-5.2-3.1">TrackID:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.2">
             Set to the TrackID indicated in the TrackID field of the PDR
             messages that this replies to.<a href="#section-5.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.3">Flags:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.4">Reserved. The Flags field MUST initialized to zero by the sender and MUST be ignored by the receiver<a href="#section-5.2-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.5">Track Lifetime:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.6">
             Indicates that remaining Lifetime for the Track, expressed in
             Lifetime Units; the value of zero (0x00)
              indicates that the Track was destroyed or not created.<a href="#section-5.2-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.7">PDRSequence:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.8"> 8-bit wrapping sequence number.
              It is incremented at each PDR message and echoed in the PDR-ACK.<a href="#section-5.2-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.9">PDR-ACK Status:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.10">
            <p id="section-5.2-3.10.1">8-bit field indicating
            the completion.
            The PDR-ACK Status is substructured as indicated in <a href="#rpst" class="xref">Figure 11</a>:<a href="#section-5.2-3.10.1" class="pilcrow">¶</a></p>
<span id="name-pdr-ack-status-format"></span><div id="rpst">
<figure id="figure-11">
              <div class="alignCenter art-text artwork" id="section-5.2-3.10.2.1">
<pre>
    0 1 2 3 4 5 6 7
   +-+-+-+-+-+-+-+-+
   |E|R|  Value    |
   +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-pdr-ack-status-format" class="selfRef">PDR-ACK status Format</a>
              </figcaption></figure>
</div>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-5.2-3.10.3">
              <dt id="section-5.2-3.10.3.1">E:</dt>
              <dd style="margin-left: 1.5em" id="section-5.2-3.10.3.2"> 1-bit flag. Set to indicate a rejection. When not set, the value of 0
    indicates Success/Unqualified Acceptance and other values indicate "not an
    outright rejection".<a href="#section-5.2-3.10.3.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.2-3.10.3.3">R:</dt>
              <dd style="margin-left: 1.5em" id="section-5.2-3.10.3.4"> 1-bit flag. Reserved, MUST be set to 0 by the sender and
    ignored by the receiver.<a href="#section-5.2-3.10.3.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-5.2-3.10.3.5">Status Value:</dt>
              <dd style="margin-left: 1.5em" id="section-5.2-3.10.3.6"> 6-bit unsigned integer. Values depending on the
    setting of the 'E' flag, see
    <a href="#iana-ack-status" class="xref">Table 27</a> and <a href="#iana-nack-status" class="xref">Table 28</a>.<a href="#section-5.2-3.10.3.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-3.11">Reserved:</dt>
          <dd style="margin-left: 1.5em" id="section-5.2-3.12">The Reserved field MUST initialized to zero by the
    sender and MUST be ignored by the receiver<a href="#section-5.2-3.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="vio">
<section id="section-5.3">
        <h3 id="name-via-information-options">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-via-information-options" class="section-name selfRef">Via Information Options</a>
        </h3>
<p id="section-5.3-1">A VIO signals the ordered list of IPv6 Via Addresses that constitutes
    the hops of either a Leg (using Non-Storing Mode) a Segment (using storing
    mode) of a Track.  A Storing Mode P-DAO contains one Storing Mode VIO
    (SM-VIO) whereas a Non-Storing Mode P-DAO contains one Non-Storing Mode VIO
    (NSM-VIO)<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">
    The duration of the validity of a VIO is indicated in a Segment Lifetime
    field. A P-DAO message that contains a VIO with a Segment Lifetime of zero
    is referred as a No-Path P-DAO.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">
    The VIO contains one or more SRH-6LoRH header(s), each formed of a
    SRH-6LoRH head and a collection of compressed Via Addresses, except in the
    case of a Non-Storing Mode No-Path P-DAO where the SRH-6LoRH header is not
    present.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3-4">
    In the case of a SM-VIO, or if <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> is not used in the data packets, then the Root MUST use only one SRH-6LoRH per Via Information Option, and the compression is the same forall the addresses, as shown in <a href="#viao" class="xref">Figure 12</a>, for simplicity.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<p id="section-5.3-5">
    In case of an NSM-VIO and if <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> is in use in the Main
    DODAG, the Root SHOULD optimize the size of the NSM-VIO if using different
    SRH-6LoRH Types make the VIO globally shorter; this means that more than one SRH-6LoRH may be present.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">
    The format of the Via Information Options is as follows:<a href="#section-5.3-6" class="pilcrow">¶</a></p>
<span id="name-vio-format-uncompressed-for"></span><div id="viao">
<figure id="figure-12">
          <div class="alignCenter art-text artwork" id="section-5.3-7.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        | Option Length |     Flags     |   P-RouteID   |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Segm. Sequence | Seg. Lifetime |        SRH-6LoRH head         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    .           Via Address 1 (compressed by RFC 8138)              .
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    .                              ....                             .
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    .           Via Address n (compressed by RFC 8138)              .
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    .              Additional SRH-6LoRH Header(s)                   .
    |                                                               |
    .                              ....                             .

</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-vio-format-uncompressed-for" class="selfRef">VIO format (uncompressed form)</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-5.3-8">
          <dt id="section-5.3-8.1">Option Type:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-8.2">0x0E for SM-VIO, 0x0F for NSM-VIO
                                     (to be confirmed by IANA), see =<a href="#ianaRPLCtrlMsgopttbl" class="xref">Table 25</a><a href="#section-5.3-8.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-8.3">Option Length:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-8.4">8-bit unsigned integer, representing the length in octets of the option, not including the Option
              Type and Length fields, see section 6.7.1. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>;
              the Option Length is variable, depending on the number of Via
              Addresses and the compression applied.<a href="#section-5.3-8.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-8.5">P-RouteID:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-8.6">8-bit field that identifies a component
               of a Track or the Main DODAG as indicated by the TrackID field.
               The value of 0 is used to signal a Serial Track, i.e., made of a
               single segment/Leg. In an SM-VIO, the P-RouteID indicates an
               actual Segment. In an an NSM-VIO, it indicates a Leg, that is a
               serial subTrack that is added to the overall topology of the
               Track.<a href="#section-5.3-8.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-8.7">Segment Sequence:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-8.8">
            <p id="section-5.3-8.8.1">8-bit unsigned integer.
              The Segment Sequence obeys the operation in section 7.2 of
              <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> and the lollipop starts at 255.<a href="#section-5.3-8.8.1" class="pilcrow">¶</a></p>
<p id="section-5.3-8.8.2">
              When the
              Root of the DODAG needs to refresh or update a Segment in a Track,
              it increments the Segment Sequence individually for that Segment.<a href="#section-5.3-8.8.2" class="pilcrow">¶</a></p>
<p id="section-5.3-8.8.3">
              The Segment information indicated in the VIO deprecates any state
              for the Segment indicated by the P-RouteID within the indicated
              Track and sets up the new information.<a href="#section-5.3-8.8.3" class="pilcrow">¶</a></p>
<p id="section-5.3-8.8.4">
              A VIO with a Segment Sequence that is not as fresh as the current
              one is ignored.<a href="#section-5.3-8.8.4" class="pilcrow">¶</a></p>
<p id="section-5.3-8.8.5">
              A VIO for a given DODAGID with the same (TrackID,
              P-RouteID, Segment Sequence) indicates a retry; it MUST NOT
              change the Segment and MUST be propagated or answered as the first
              copy.<a href="#section-5.3-8.8.5" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-8.9">Segment Lifetime:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-8.10">
            <p id="section-5.3-8.10.1">8-bit unsigned integer. The length
              of time in Lifetime Units (obtained from the Configuration
              option) that the Segment is usable.<a href="#section-5.3-8.10.1" class="pilcrow">¶</a></p>
<p id="section-5.3-8.10.2">
              The period starts when a new Segment Sequence is seen. The value
              of 255 (0xFF) represents infinity. The value of zero (0x00)
              indicates a loss of reachability.<a href="#section-5.3-8.10.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-8.11">SRH-6LoRH head:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-8.12">The first 2 bytes of the (first)
              SRH-6LoRH as shown in Figure 6 of <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span>. As an
              example, a 6LoRH Type of 4 means that the VIA Addresses are
              provided in full with no compression.<a href="#section-5.3-8.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.3-8.13">Via Address:</dt>
          <dd style="margin-left: 1.5em" id="section-5.3-8.14">
            <p id="section-5.3-8.14.1">An IPv6 ULA or GUA of a node along the Segment.
              The VIO contains one or
              more IPv6 Via Addresses listed in the datapath order from Ingress
              to Egress. The list is expressed in a compressed form as signaled
              by the preceding SRH-6LoRH header.<a href="#section-5.3-8.14.1" class="pilcrow">¶</a></p>
<p id="section-5.3-8.14.2">
              In a Storing Mode P-DAO that updates or removes a section of an
              already existing Segment, the list in the SM-VIO may represent
              only the section of the Segment that is being updated; at the
              extreme, the SM-VIO updates only one node, in which case it
              contains only one IPv6 address.
              In all other cases, the list in the VIO MUST be complete.<a href="#section-5.3-8.14.2" class="pilcrow">¶</a></p>
<p id="section-5.3-8.14.3"> In the case of an SM-VIO, the list indicates a sequential
              (strict) path through direct neighbors, the complete list starts
              at Ingress and ends at Egress, and the nodes listed in the VIO,
              including the Egress, MAY be considered as implicit Targets.<a href="#section-5.3-8.14.3" class="pilcrow">¶</a></p>
<p id="section-5.3-8.14.4">
              In the case of an NSM-VIO, the complete list can be loose and
              excludes the Ingress node, starting at the first loose hop and
              ending at a Track Egress; the Track Egress MUST be considered as
              an implicit Target, so it MUST NOT be signaled in a RPL Target
              Option.<a href="#section-5.3-8.14.4" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="rplsib">
<section id="section-5.4">
        <h3 id="name-sibling-information-option-2">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-sibling-information-option-2" class="section-name selfRef">Sibling Information Option</a>
        </h3>
<p id="section-5.4-1">
    The Sibling Information Option (SIO) provides indication on siblings that
    could be used by the Root to form P-Routes. One or more SIO(s) may be placed
    in the DAO messages that are sent to the Root in Non-Storing Mode.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">
   To advertise a neighbor node, the router MUST have an active Address
   Registration from that sibling using <span>[<a href="#RFC8505" class="xref">RFC8505</a>]</span>, for an address
   (ULA or GUA) that serves as identifier for the node. If this router also
   registers an address to that sibling, and the link has similar properties in
   both directions, only the router with the lowest Interface ID in its
   registered address needs report the SIO, and the Root will assume symmetry.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
<p id="section-5.4-3">
    The format of the SIO is as follows:<a href="#section-5.4-3" class="pilcrow">¶</a></p>
<span id="name-sibling-information-option-"></span><div id="siof">
<figure id="figure-13">
          <div class="alignCenter art-text artwork" id="section-5.4-4.1">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |   Type        | Option Length |S| Flags |Comp.|    Opaque     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |            Step of Rank       |          Reserved             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    +                                                               +
    .                                                               .
    .       Sibling DODAGID (if the D flag not set)               .
    .                                                               .
    +                                                               +
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    +                                                               +
    .                                                               .
    .                     Sibling Address                           .
    .                                                               .
    +                                                               +
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-sibling-information-option-" class="selfRef">Sibling Information Option Format</a>
          </figcaption></figure>
</div>
<span class="break"></span><dl class="dlParallel" id="section-5.4-5">
          <dt id="section-5.4-5.1">Option Type:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.2">0x10 for SIO (to be confirmed by IANA),
              see =<a href="#ianaRPLCtrlMsgopttbl" class="xref">Table 25</a><a href="#section-5.4-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.3">Option Length:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.4">8-bit unsigned integer, representing the length in octets of the option, not including the Option
              Type and Length fields, see section 6.7.1. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>.<a href="#section-5.4-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.5">Reserved for Flags:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.6">MUST be set to zero by the sender
              and MUST be ignored by the receiver.<a href="#section-5.4-5.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd><dt id="section-5.4-5.7">S:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.8">
              1-bit flag that is set to indicate that sibling belongs to the
              same DODAG. When not set, the Sibling DODAGID is indicated.<a href="#section-5.4-5.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.9">Flags:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.10">Reserved. The Flags field MUST initialized to zero by the sender and MUST be ignored by the receiver<a href="#section-5.4-5.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.11">Opaque:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.12">MAY be used to carry information that the node
              and the Root understand, e.g., a particular representation of the
              Link properties such as a proprietary Link Quality Information
              for packets received from the sibling. An industrial Alliance
              that uses RPL for a particular use / environment MAY redefine the
              use of this field to fit its needs.<a href="#section-5.4-5.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.13">Compression Type:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.14">3-bit unsigned integer. This is the
              SRH-6LoRH Type as defined in figure 7 in section 5.1 of
              <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> that corresponds to the compression used
              for the Sibling Address and its DODAGID if resent. The Compression
              reference is the Root of the Main DODAG.<a href="#section-5.4-5.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.15">Step of Rank:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.16">16-bit unsigned integer. This is the
              Step of Rank <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> as computed by the Objective
              Function between this node and the sibling.<a href="#section-5.4-5.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.17">Reserved:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.18">The Reserved field MUST initialized to zero
              by the sender and MUST be ignored by the receiver<a href="#section-5.4-5.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.19">Sibling DODAGID:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.20">2 to 16 bytes, the DODAGID of the
              sibling in a <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> compressed form as indicated
              by the Compression Type field. This field is present if and only
              if  the D flag is not set.<a href="#section-5.4-5.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.4-5.21">Sibling Address:</dt>
          <dd style="margin-left: 1.5em" id="section-5.4-5.22">2 to 16 bytes, an IPv6 Address of the
              sibling, with a scope that MUST be make it reachable from the Root,
              e.g., it cannot be a Link Local Address. The IPv6 address is
              encoded in the <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> compressed form
              indicated by the Compression Type field.<a href="#section-5.4-5.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-5.4-6">
    An SIO MAY be immediately followed by a DAG Metric Container. In that case
    the DAG Metric Container provides additional metrics for the hop from the
    Sibling to this node.<a href="#section-5.4-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="P-DAO">
<section id="section-6">
      <h2 id="name-root-initiated-routing-stat">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-root-initiated-routing-stat" class="section-name selfRef">Root Initiated Routing State</a>
      </h2>
<div id="req">
<section id="section-6.1">
        <h3 id="name-requesting-a-track">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-requesting-a-track" class="section-name selfRef">Requesting a Track</a>
        </h3>
<p id="section-6.1-1">
      This specification introduces the PDR message, used by an LLN node to
      request the formation of a new Track for which this node is Ingress.
      Note that the namespace for the TrackID is owned by the Ingress node,
      and in the absence of a PDR, there must be some procedure for the Root to
      assign TrackIDs in that namespace while avoiding collisions, more in
      <a href="#trkid" class="xref">Section 6.2</a>.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">
      The PDR signals the desired TrackID and the duration for which the Track should be established. Upon a PDR, the Root MAY install the Track as requested, in which case it answers with a PDR-ACK indicating the granted
      Track Lifetime.
      All the Segments MUST be of a same mode, either Storing or Non-Storing.
      All the Segments MUST be created with the same TrackID and the same DODAGID signaled in the P-DAO.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">
      The Root designs the Track as it sees best, and updates / changes the Segments overtime to serve the Track as needed. There is no notification to the requesting node when those changes happen.
      The Segment Lifetime in the P-DAO messages does not need to be aligned to
      the Requested Lifetime in the PDR, or between P-DAO messages for different Segments. The Root may use shorter lifetimes for the Segments
      and renew them faster than the Track is, or longer lifetimes in which case it will need to tear down the Segments if the Track is not renewed.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">
      When the Track Lifetime that was returned in the PDR-ACK is close to
      elapse - vs. the trip time from the node to the Root, the requesting node
      SHOULD resend a PDR using the TrackID in the PDR-ACK to extend the
      lifetime of the Track, else the Track will time out and the Root will tear
      down the whole structure.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<p id="section-6.1-5">
      If the Track fails and cannot be restored, the
      Root notifies the requesting node asynchronously with a PDR-ACK
      with a Track Lifetime of 0, indicating that the Track has failed, and
      a PDR-ACK Status indicating the reason of the fault.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="trkid">
<section id="section-6.2">
        <h3 id="name-identifying-a-track">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-identifying-a-track" class="section-name selfRef">Identifying a Track</a>
        </h3>
<p id="section-6.2-1">
     RPL defines the concept of an Instance to signal an individual
     routing topology, and multiple topologies can coexist in the same network.
     The RPLInstanceID is tagged in the RPI of every packet to signal which
     topology the packet actually follows.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">
     This draft leverages the RPL Instance model as follows:<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-3.1">
            <p id="section-6.2-3.1.1">
     The Root MAY use P-DAO messages to add better routes in the main (Global)
     RPL Instance in conformance with the routing objectives in that Instance.<a href="#section-6.2-3.1.1" class="pilcrow">¶</a></p>
<p id="section-6.2-3.1.2">
     To achieve this, the Root MAY install a Segment along a path down the main Non-Storing Mode DODAG. This enables a loose source routing and reduces the size of the Routing Header, see <a href="#loose" class="xref">Section 3.3.1</a>.
     The Root MAY also install a Track Leg across the Main DODAG to complement
     the routing topology.<a href="#section-6.2-3.1.2" class="pilcrow">¶</a></p>
<p id="section-6.2-3.1.3">
     When adding a P-Route to the RPL Main DODAG, the Root MUST set the
     RPLInstanceID field of the P-DAO Base Object (see section 6.4.1. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>) to the RPLInstanceID of the Main DODAG, and MUST NOT
     use the DODAGID field. A P-Route provides a longer match to the Target
     Address than the default route via the Root, so it is preferred.<a href="#section-6.2-3.1.3" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.2-3.2">
            <p id="section-6.2-3.2.1">
     The Root MAY also use P-DAO messages to install a Track as an independent
     routing topology (say, Traffic Engineered) to achieve particular routing
     characteristics from an Ingress to an Egress Endpoints. To achieve
     this, the Root MUST set up a local RPL Instance (see section 5 of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>), and the Local RPLInstanceID serves as TrackID.
     The TrackID MUST be unique for the IPv6 ULA or GUA of the Track Ingress that serves as DODAGID for the Track.<a href="#section-6.2-3.2.1" class="pilcrow">¶</a></p>
<p id="section-6.2-3.2.2">
     This way, a Track is uniquely identified by the tuple (DODAGID, TrackID)
     where the TrackID is always represented with the D flag set to 0 (see
     also section 5.1. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>), indicating when used in an
     RPI that the source address of the IPv6 packet signals the DODAGID.<a href="#section-6.2-3.2.2" class="pilcrow">¶</a></p>
<p id="section-6.2-3.2.3">
     The P-DAO Base Object MUST indicate the tuple (DODAGID, TrackID) that
     identifies the Track as shown in <a href="#p-dao-fmt" class="xref">Figure 6</a>, and the
     P-RouteID that identifies the P-Route MUST be signaled in the VIO as shown
     in <a href="#viao" class="xref">Figure 12</a>.<a href="#section-6.2-3.2.3" class="pilcrow">¶</a></p>
<p id="section-6.2-3.2.4">
     The Track Ingress is the root of the DODAG ID formed by the local RPL
     Instance. It owns the namespace of its TrackIDs, so it can pick any
     unused value to request a new Track with a PDR. In a particular deployment
     where PDR are not used, the namespace can be delegated to the main Root,
     which can assign the TrackIDs for the Tracks it creates without collision.<a href="#section-6.2-3.2.4" class="pilcrow">¶</a></p>
<p id="section-6.2-3.2.5">
     With this specification, the Root is aware of all the active Tracks, so it
     can also pick any unused value to form Tracks without a PDR. To avoid a
     collision of the Root and the Track Ingress picking the same value at the
     same time, it is RECOMMENDED that the Track Ingress starts allocating the
     ID value of the Local RPLInstanceID (see section 5.1. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>) used as TrackIDs with the value 0 incrementing, while the Root
     starts with 63 decrementing.<a href="#section-6.2-3.2.5" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="inst">
<section id="section-6.3">
        <h3 id="name-installing-a-track">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-installing-a-track" class="section-name selfRef">Installing a Track</a>
        </h3>
<p id="section-6.3-1">
   A Serial Track can be installed by a single P-Route that signals the sequence of consecutive nodes, either in Storing Mode as a single-Segment Track, or in Non-Storing Mode as a single-Leg Track. A single-Leg Track can be installed as a loose Non-Storing Mode P-Route, in which case the next loose entry must recursively be reached over a Serial Track.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">
   A Complex Track can be installed as a collection of P-Routes with the same DODAGID and Track ID. The Ingress of a Non-Storing Mode P-Route is the owner and Root of the DODAGID. The Ingress of a Storing Mode P-Route must be either the owner of the DODAGID, or a hop of a Leg of the same Track. In the latter case, the Targets of the P-Route must include the next hop of the Leg if there is one, to ensure forwarding continuity.
   In the case of a Complex Track, each Segment is maintained independently and
   asynchronously by the Root, with its own lifetime that may be shorter, the
   same, or longer than that of the Track.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<p id="section-6.3-3">A route along a Track for which the TrackID is not the RPLInstanceID of
   the Main DODAG MUST be installed with a higher precedence than the routes
   along the Main DODAG, meaning that:<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-4.1">Longest match MUST be the prime comparison for routing.<a href="#section-6.3-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.3-4.2">In case of equal length match, the route along the Track MUST be
   preferred vs. the one along the Main DODAG.<a href="#section-6.3-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.3-4.3">There SHOULD NOT be 2 different Tracks leading to the same Target from
   same Ingress node, unless there's a policy for selecting which packets use
   which Track; such policy is out of scope.<a href="#section-6.3-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.3-4.4">A packet that was routed along a Track MUST NOT be routed along the main
   DODAG again; if the destination is not reachable as a neighbor by the node
   where the packet exits the Track then the packet MUST be dropped.<a href="#section-6.3-4.4" class="pilcrow">¶</a>
</li>
        </ul>
<div id="trkpdao">
<section id="section-6.3.1">
          <h4 id="name-signaling-a-projected-route">
<a href="#section-6.3.1" class="section-number selfRef">6.3.1. </a><a href="#name-signaling-a-projected-route" class="section-name selfRef">Signaling a Projected Route</a>
          </h4>
<p id="section-6.3.1-1">
    This draft adds a capability whereby the Root of a main RPL DODAG installs
    a Track as a collection of P-Routes, using a Projected-DAO (P-DAO) message
    for each individual Track Leg or Segment.
    The P-DAO signals a collection of Targets in the RPL Target Option(s) (RTO). Those Targets can be reached via a sequence of routers indicated in a VIO.<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
<p id="section-6.3.1-2">
    Like a classical DAO message, a P-DAO causes a change of state only if it is
    "new" per section 9.2.2. "Generation of DAO Messages" of the <span><a href="#RFC6550" class="xref">RPL specification</a> [<a href="#RFC6550" class="xref">RPL</a>]</span>; this is determined using
    the Segment Sequence information from the VIO as opposed to the Path
    Sequence from a TIO. Also, a Segment Lifetime of 0 in a VIO indicates that the P-Route associated to the Segment is to be removed. There are two Modes
    of operation for the P-Routes, the Storing and the Non-Storing Modes.<a href="#section-6.3.1-2" class="pilcrow">¶</a></p>
<p id="section-6.3.1-3">
    A P-DAO message MUST be sent from the address of the Root that serves as
    DODAGID for the Main DODAG. It MUST contain either exactly one sequence of
    one or more RTOs followed one VIO, or any number of sequences of one or more
    RTOs followed by one or more TIOs. The former is the normal expression for
    this specification, where as the latter corresponds to the variation for
    lesser constrained environments described in <a href="#bfd" class="xref">Section 7.2</a>.<a href="#section-6.3.1-3" class="pilcrow">¶</a></p>
<p id="section-6.3.1-4">
    A P-DAO that creates or updates a Track Leg MUST be sent to a GUA or a ULA
    of the Ingress of the Leg; it must contain the full list of hops in the
    Leg unless the Leg is being removed.
    A P-DAO that creates a new Track Segment MUST be sent to a GUA or a ULA
    of the Segment Egress and MUST signal the full list of hops in Segment; a
    P-DAO that updates (including deletes) a section of a Segment MUST be
    sent to the first node after the modified Segment and signal the full
    list of hops in the section starting at the node that immediately
    precedes the modified section.<a href="#section-6.3.1-4" class="pilcrow">¶</a></p>
<p id="section-6.3.1-5">
    In Non-Storing Mode, as discussed in <a href="#nsP-DAO" class="xref">Section 6.3.3</a>, the Root
    sends the P-DAO to the Track Ingress where the source-routing state is
    applied, whereas in Storing Mode, the P-DAO is sent to the last node on the
    installed path and forwarded in the reverse direction, installing a Storing
    Mode state at each hop, as discussed in <a href="#sP-DAO" class="xref">Section 6.3.2</a>.
    In both cases the Track Ingress is the owner of the Track, and it generates the P-DAO-ACK when the installation is successful.<a href="#section-6.3.1-5" class="pilcrow">¶</a></p>
<p id="section-6.3.1-6">
    If the 'K' Flag is present in the P-DAO, the P-DAO must be acknowledged
    using a DAO-ACK that is sent back to the address of the Root from which the
    P-DAO was received. In most cases, the first node of the Leg, Segment,
    or updated section of the Segment is the node that sends the acknowledgment.
    The exception to the rule is when an intermediate node in a Segment fails
    to forward a Storing Mode P-DAO to the previous node in the SM-VIO.<a href="#section-6.3.1-6" class="pilcrow">¶</a></p>
<p id="section-6.3.1-7">
   In a No-Path Non-Storing Mode P-DAO, the SRH-6LoRH MUST NOT be present in the
   NSM-VIO; the state in the Ingress is erased regardless. In all other cases, a
   VIO MUST contain at least one Via Address, and a Via Address MUST NOT be
   present more than once, which would create a loop.<a href="#section-6.3.1-7" class="pilcrow">¶</a></p>
<p id="section-6.3.1-8">
   A node that processes a VIO MAY verify whether one of these conditions
   happen, and when so, it MUST ignore the P-DAO and reject it with a RPL
   Rejection Status of "Error in VIO" in the DAO-ACK, see <a href="#iana-stats-rpl-rej" class="xref">Section 10.14</a>.<a href="#section-6.3.1-8" class="pilcrow">¶</a></p>
<p id="section-6.3.1-9">
   Other errors than those discussed explicitely that prevent the installing the
   route are acknowledged with a RPL Rejection Status of "Unqualified Rejection" in the DAO-ACK.<a href="#section-6.3.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sP-DAO">
<section id="section-6.3.2">
          <h4 id="name-installing-a-track-segment-">
<a href="#section-6.3.2" class="section-number selfRef">6.3.2. </a><a href="#name-installing-a-track-segment-" class="section-name selfRef">Installing a Track Segment with a Storing Mode P-Route</a>
          </h4>
<p id="section-6.3.2-1">As illustrated in <a href="#sdf" class="xref">Figure 14</a>, a Storing Mode P-DAO installs a
   route along the Segment signaled by the SM-VIO towards the Targets indicated in the Target Options.
   The Segment is to be included in a DODAG indicated by the P-DAO Base Object,
   that may be the one formed by the RPL Main DODAG, or a Track associated
   with a local RPL Instance.<a href="#section-6.3.2-1" class="pilcrow">¶</a></p>
<span id="name-projecting-a-route"></span><div id="sdf">
<figure id="figure-14">
            <div class="alignLeft art-text artwork" id="section-6.3.2-2.1">
<pre>
        ------+---------
              |          Internet
              |
           +-----+
           |     | Border router
           |     |  (RPL Root)
           +-----+                      |     ^                   |
              |                         | DAO | ACK               |
        o    o   o    o                 |     |                   |
    o o   o  o   o  o  o o   o          |  ^       | Projected    .
   o  o o  o o    o   o   o  o  o       |  | DAO   | Route        .
   o   o    o  o     o  o    o  o  o    | ^        |              .
  o  o   o  o   o         o   o o       v | DAO    v              .
  o          o   LLN   o   o     o                                |
      o o   o        o     o              Loose Source Route Path |
   o       o      o    o                                          v
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-projecting-a-route" class="selfRef">Projecting a route</a>
            </figcaption></figure>
</div>
<p id="section-6.3.2-3">
     In order to install the relevant routing state along the Segment ,
     the Root sends a unicast P-DAO message to the Track Egress router of the routing Segment that is being installed. The P-DAO message contains a SM-VIO with the strict sequence of Via Addresses. The SM-VIO follows
     one or more RTOs indicating the Targets to which the Track leads. The SM-VIO contains a Segment Lifetime for which the state is to be maintained.<a href="#section-6.3.2-3" class="pilcrow">¶</a></p>
<p id="section-6.3.2-4">
     The Root sends the P-DAO directly to the Egress node of the Segment.
     In that P-DAO, the destination IP address matches the last Via Address in
     the SM-VIO. This is how the Egress recognizes its role. In a similar
     fashion, the Segment Ingress node recognizes its role as it matches first
     Via Address in the SM-VIO.<a href="#section-6.3.2-4" class="pilcrow">¶</a></p>
<p id="section-6.3.2-5">
     The Egress node of the Segment is the only node in the path that does not
     install a route in response to the P-DAO; it is expected to be already able
     to route to the Target(s) based on its existing tables.
     If one of the Targets is not known, the node MUST answer to the Root
     with a DAO-ACK listing the unreachable Target(s) in an RTO and a rejection
     status of "Unreachable Target".<a href="#section-6.3.2-5" class="pilcrow">¶</a></p>
<p id="section-6.3.2-6">
     If the Egress node can reach all the Targets, then it forwards the P-DAO
     with unchanged content to its predecessor in the Segment as indicated in
     the list of Via Information options, and recursively the message is
     propagated
     unchanged along the sequence of routers indicated in the P-DAO, but in the
     reverse order, from Egress to Ingress.<a href="#section-6.3.2-6" class="pilcrow">¶</a></p>
<p id="section-6.3.2-7">
     The address of the predecessor to be used as destination of the propagated
     DAO message is found in the Via Address the precedes the one
     that contain the address of the propagating node, which is used as source
     of the message.<a href="#section-6.3.2-7" class="pilcrow">¶</a></p>
<p id="section-6.3.2-8">
    Upon receiving a propagated DAO, all except the Egress router MUST install a
    route towards the DAO Target(s) via their successor in the SM-VIO. A router
    that cannot store the routes to all the Targets in a P-DAO MUST reject the
    P-DAO by sending a DAO-ACK to the Root with a Rejection Status of "Out of
    Resources" as opposed to forwarding the DAO to its predecessor in the list.
    The router MAY install additional routes towards the VIA Addresses that are
    the SM-VIO after self, if any, but in case of a conflict or a lack of
    resource, the route(s) to the Target(s) are the ones that must be installed
    in priority.<a href="#section-6.3.2-8" class="pilcrow">¶</a></p>
<p id="section-6.3.2-9">
     If a router cannot reach its predecessor in the SM-VIO, the router MUST send the DAO-ACK to the Root with a Rejection Status of "Predecessor Unreachable".<a href="#section-6.3.2-9" class="pilcrow">¶</a></p>
<p id="section-6.3.2-10">
     The process continues till the P-DAO is propagated to Ingress router of
     the Segment, which answers with a DAO-ACK to the Root. The Root always
     expects a DAO-ACK, either from the Track Ingress with a positive status
     or from any node along the segment with a negative status. If the DAO-ACK
     is not received, the Root may retry the DAO with the same TID, or tear
     down the route.<a href="#section-6.3.2-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="nsP-DAO">
<section id="section-6.3.3">
          <h4 id="name-installing-a-track-leg-with">
<a href="#section-6.3.3" class="section-number selfRef">6.3.3. </a><a href="#name-installing-a-track-leg-with" class="section-name selfRef">Installing a Track Leg with a Non-Storing Mode P-Route</a>
          </h4>
<p id="section-6.3.3-1">As illustrated in <a href="#nsdf" class="xref">Figure 15</a>,
   a Non-Storing Mode P-DAO installs a source-routed path within the Track indicated by the P-DAO Base Object, towards the Targets indicated in the Target Options. The source-routed path requires a Source-Routing header which implies an IP-in-IP encapsulation to add the SRH to an existing packet. It is sent to the Track Ingress which creates a tunnel associated with the Track, and
   connected routes over the tunnel to the Targets in the RTO. The tunnel encapsulation MUST incorporate a routing header via the list addresses listed in the VIO in the same order. The content of the NSM-VIO starting at the first SRH-6LoRH header MUST be used verbatim by the Track Ingress when it encapsulates a packet to forward it over the Track.<a href="#section-6.3.3-1" class="pilcrow">¶</a></p>
<span id="name-projecting-a-non-storing-ro"></span><div id="nsdf">
<figure id="figure-15">
            <div class="alignLeft art-text artwork" id="section-6.3.3-2.1">
<pre>
           ------+---------
                 |          Internet
                 |
              +-----+
              |     | Border router
              |     |  (RPL Root)
              +-----+                    |  P  ^ ACK
                 |        Track          | DAO |
           o    o   o  o  Ingress X      V     |   X
       o o   o  o   o  o     o   X   o             X Source
      o  o o  o o    o   o  o    X  o  o           X Routed
      o   o    °  o     o   o   o X     o          X Segment
     o  o   o  o   o  o    o  o     X Egress       X
        o  o  o  o             o    |
                                  Target
       o       o     LLN          o    o
     o          o             o     o
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-projecting-a-non-storing-ro" class="selfRef">Projecting a Non-Storing Route</a>
            </figcaption></figure>
</div>
<p id="section-6.3.3-3">
   The next entry in the source-routed path must be either a neighbor of the
   previous entry, or reachable as a Target via another P-Route, either
   Storing or Non-Storing, which implies that the nested P-Route has to be
   installed before the loose sequence is, and that P-Routes must be installed
   from the last to the first along the datapath.
   For instance, a Segment of a Track must be installed before the Leg(s) of
   the same Track that use it, and stitched Segments must be installed in
   order from the last that reaches to the Targets to the first.<a href="#section-6.3.3-3" class="pilcrow">¶</a></p>
<p id="section-6.3.3-4">
   If the next entry in the loose sequence is reachable over a Storing Mode P-Route, it MUST be the Target of a Segment and the Ingress of a next segment, both already setup; the segments are associated with the same Track, which avoids the need of an additional encapsulation. For instance, in
   <a href="#srpdao" class="xref">Section 3.5.1.3</a>, Segments A==&gt;B-to-C and C==&gt;D==&gt;E-to-F must be
   installed with Storing Mode P-DAO messages 1 and 2 before the Track A--&gt;C--&gt;E-to-F that joins them can be installed with Non-Storing Mode P-DAO 3.<a href="#section-6.3.3-4" class="pilcrow">¶</a></p>
<p id="section-6.3.3-5">
   Conversely, if it is reachable over a Non-Storing Mode P-Route, the next
   loose source-routed hop of the inner Track is a Target of a previously
   installed Track and the Ingress of a next Track, which requires a de- and a
   re-encapsulation when switching the outer Tracks that join the loose hops.
   This is examplified in <a href="#nssr" class="xref">Section 3.5.2.3</a> where Non-Storing Mode P-DAO 1
   and 2 install strict Tracks that Non-Storing Mode P-DAO 3 joins as a super
   Track. In such a case, packets are subject to double IP-in-IP encapsulation.<a href="#section-6.3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="teardown">
<section id="section-6.4">
        <h3 id="name-tearing-down-a-p-route">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-tearing-down-a-p-route" class="section-name selfRef">Tearing Down a P-Route</a>
        </h3>
<p id="section-6.4-1">
    A P-DAO with a lifetime of 0 is interpreted as a No-Path DAO and results in
    cleaning up existing state as opposed to refreshing an existing one or
    installing a new one. To tear down a Track, the Root must tear down all the
    Track Segments and Legs that compose it one by one.<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<p id="section-6.4-2">
    Since the state about a Leg of a Track is located only the Ingress Node,
    the Root cleans up the Leg by sending an NSM-VIO to the Ingress indicating
    the TrackID and the P-RouteID of the Leg being removed, a Segment Lifetime
    of 0 and a newer Segment Sequence. The SRH-6LoRH with the Via Addresses in
    the NSM-VIO are not needed and MUST be omitted. Upon that NSM-VIO, the
    Ingress node removes all state for that Track if any, and replies
    positively anyway.<a href="#section-6.4-2" class="pilcrow">¶</a></p>
<p id="section-6.4-3">
    The Root cleans up a section of a Segment by sending an SM-VIO to the last
    node of the Segment, with the TrackID and the P-RouteID of the Segment being
    updated, a Segment Lifetime of zero (0) and a newer Segment Sequence.
    The Via Addresses in the SM-VIO indicates the section of the Segment being
    modified, from the first to the last node that is impacted. This can be the
    whole Segment if it is totally removed, or a sequence of one or more nodes
    that have been bypassed by a Segment update.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
<p id="section-6.4-4">
    The No-Path P-DAO is forwarded normally along the reverse list, even if the
    intermediate node does not find a Segment state to clean up. This results in
    cleaning up the existing Segment state if any, as opposed to refreshing an
    existing one or installing a new one.<a href="#section-6.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="maintain">
<section id="section-6.5">
        <h3 id="name-maintaining-a-track">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-maintaining-a-track" class="section-name selfRef">Maintaining a Track</a>
        </h3>
<p id="section-6.5-1">
     Repathing a Track Segment or Leg may cause jitter and packet misordering.
     For critical flows that require timely and/or
     in-order delivery, it might be necessary to deploy the PAREO functions
     <span>[<a href="#I-D.ietf-raw-architecture" class="xref">RAW-ARCHI</a>]</span> over a highly redundant Track.
     This specification allows to use more than one Leg for a Track, and 1+N
     packet redundancy.<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">
     This section provides the steps to ensure that no packet is lost due to
     the operation itself.
     This is ensured by installing the new section from its last node to the
     first, so when an intermediate node installs a route along the new section,
     all the downstream nodes in the section have already installed their own.
     The disabled section is removed when the packets in-flight are forwarded
     along the new section as well.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
<div id="maintainS">
<section id="section-6.5.1">
          <h4 id="name-maintaining-a-track-segment">
<a href="#section-6.5.1" class="section-number selfRef">6.5.1. </a><a href="#name-maintaining-a-track-segment" class="section-name selfRef">Maintaining a Track Segment</a>
          </h4>
<p id="section-6.5.1-1">
    To modify a section of a Segment between a first node and a second, downstream
    node (which can be the Ingress and Egress), while conserving those nodes
    in the Segment, the Root sends an SM-VIO to the second node indicating the
    sequence of nodes in the new section of the Segment. The SM-VIO indicates
    the TrackID and the P-RouteID of the Segment being updated, and a newer
    Segment Sequence. The P-DAO is propagated from the second to the first node
    and on the way, it updates the state on the nodes that are common to the old
    and the new section of the Segment and creates a state in the new nodes.<a href="#section-6.5.1-1" class="pilcrow">¶</a></p>
<p id="section-6.5.1-2">
    When the state is updated in an intermediate node, that node might still
    receive packets that were in flight from the Ingress to self over the
    old section of the Segment. Since the remainder of the Segment is already
    updated, the packets are forwarded along the new version of the Segment from
    that node on.<a href="#section-6.5.1-2" class="pilcrow">¶</a></p>
<p id="section-6.5.1-3">
    After a reasonable time to enable the deprecated sections to empty, the root
    tears down the remaining section(s) of the old segments are teared down as
    described in <a href="#teardown" class="xref">Section 6.4</a>.<a href="#section-6.5.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="maintainT">
<section id="section-6.5.2">
          <h4 id="name-maintaining-a-track-leg">
<a href="#section-6.5.2" class="section-number selfRef">6.5.2. </a><a href="#name-maintaining-a-track-leg" class="section-name selfRef">Maintaining a Track Leg</a>
          </h4>
<p id="section-6.5.2-1">This specification allows to add Legs to a Track by sending
     a Non-Storing Mode P-DAO to the Ingress associated to the same TrackID,
     and a new Segment ID. If the Leg is loose, then the Segments that join
     the hops must be created first.  It makes
     sense to add a new Leg before removing one that is misbehaving, and switch
     to the new Leg before removing the old.<a href="#section-6.5.2-1" class="pilcrow">¶</a></p>
<p id="section-6.5.2-2">
     It is also possible to update a Track Leg by sending a Non-Storing Mode
     P-DAO to the Ingress with the same Segment ID, an incremented Segment
     Sequence, and the new complete listy of hops in the NSM-VIO.
     Updating a live Leg means changing one or more of the intermediate loose
     hops, and involves laying out new Segments from and to the new loose hops
     before the NSM-VIO for the new Leg is issued.<a href="#section-6.5.2-2" class="pilcrow">¶</a></p>
<p id="section-6.5.2-3">
    Packets that are in flight over the old version of the Track Leg still
    follow the old source route path over the old Segments.
    After a reasonable time to enable the deprecated Segments to empty, the root
    tears down those Segments as described in <a href="#teardown" class="xref">Section 6.4</a>.<a href="#section-6.5.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="routing">
<section id="section-6.6">
        <h3 id="name-encapsulating-and-forwardin">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-encapsulating-and-forwardin" class="section-name selfRef">Encapsulating and Forwarding Along a Track</a>
        </h3>
<p id="section-6.6-1">
   When forwarding a packet to a destination for which a router determines
   that routing happens via a Track for which it is Ingress, the router must
   encapsulated the packet using IP-in-IP to add the Source Routing Header with
   the final destination set to the Track Egress.
   Though fragmentation is possible in a 6LoWPAN LLN, e.g., using <span>[<a href="#RFC4944" class="xref">6LoWPAN</a>]</span>, <span>[<a href="#RFC8930" class="xref">RFC8930</a>]</span>, and/or <span>[<a href="#RFC8931" class="xref">RFC8931</a>]</span>,
   it is RECOMMENDED to allow an MTU that is larger than 1280 in the main
   DODAG and allows for the additional headers while exposing only 1280 to the
   6LoWPAN Nodes as indicated by section 4 of <span>[<a href="#RFC4944" class="xref">6LoWPAN</a>]</span>.<a href="#section-6.6-1" class="pilcrow">¶</a></p>
<p id="section-6.6-2">
     All properties of a Track operations are inherited form the main RPL
     Instance that is used to install the Track. For instance, the use of
     compression per <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> is determined by whether it is
     used in the RPL Main DODAG, e.g., by setting the "T" flag <span>[<a href="#RFC9035" class="xref">TURN-ON_RFC8138</a>]</span> in the RPL configuration option.<a href="#section-6.6-2" class="pilcrow">¶</a></p>
<p id="section-6.6-3">
    The Track Ingress that places a packet in a Track encapsulates it with an
    IP-in-IP header, a Routing Header, and an IPv6 Hop-by-Hop Option Header that
    contains the RPL Packet Information (RPI) as follows:<a href="#section-6.6-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.6-4.1">
      In the uncompressed form the source of the packet is the  address that
      this router uses as DODAGID for the Track, the destination is the first
      Via Address in the NSM-VIO, and the RH is a
      Source Routing Header (SRH) <span>[<a href="#RFC6554" class="xref">RFC6554</a>]</span> that contains the
      list of the remaining Via Addresses terminating by the Track Egress.<a href="#section-6.6-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.6-4.2">
            <p id="section-6.6-4.2.1">
    The preferred alternate in a network where 6LoWPAN Header Compression
    <span>[<a href="#RFC6282" class="xref">RFC6282</a>]</span> is used is to leverage <span><a href="#RFC8025" class="xref">"IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Paging
    Dispatch"</a> [<a href="#RFC8025" class="xref">RFC8025</a>]</span> to compress the RPL artifacts as indicated in
    <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span>.<a href="#section-6.6-4.2.1" class="pilcrow">¶</a></p>
<p id="section-6.6-4.2.2">
    In that case, the source routed header is the exact copy of the (chain of) SRH-6LoRH found in the NSM-VIO, also terminating by the Track Egress.
    The RPI-6LoRH is appended next, followed by an IP-in-IP 6LoRH Header  that indicates the Ingress router in the Encapsulator Address field, see as a similar case Figure 20 of <span>[<a href="#RFC9035" class="xref">TURN-ON_RFC8138</a>]</span>.<a href="#section-6.6-4.2.2" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.6-5">
     To signal the Track in the packet, this specification leverages the RPL
     Forwarding model follows:<a href="#section-6.6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.6-6.1">
            <p id="section-6.6-6.1.1">
     In the data packets, the Track DODAGID and the TrackID MUST be respectively
     signaled as the IPv6 Source Address and the RPLInstanceID field of the RPI
     that MUST be placed in the outer chain of IPv6 Headers.<a href="#section-6.6-6.1.1" class="pilcrow">¶</a></p>
<p id="section-6.6-6.1.2">
     The RPI carries a local RPLInstanceID called the TrackID, which, in association with the DODAGID, indicates the Track along which the packet is forwarded.<a href="#section-6.6-6.1.2" class="pilcrow">¶</a></p>
<p id="section-6.6-6.1.3">
     The D flag in the RPLInstanceID MUST be set to 0 to indicate that the source address in the IPv6 header is set ot the DODAGID, more
     in <a href="#trkid" class="xref">Section 6.2</a>.<a href="#section-6.6-6.1.3" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.6-6.2">
            <p id="section-6.6-6.2.1">
      This draft conforms to the principles of <span>[<a href="#RFC9008" class="xref">RFC9008</a>]</span> with regards to packet forwarding and encapsulation along a Track, as follows:<a href="#section-6.6-6.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.6-6.2.2.1">
      With this draft, the Track is a RPL DODAG. From the perspective of that
      DODAG, the Track Ingress is the Root, the Track Egress is a RPL-Aware
      6LR, and neighbors of the Track Egress that can be reached via the Track,
      but are external to it, are external destinations and treated as
      RPL-Unaware Leaves (RULs). The encapsulation rules in <span>[<a href="#RFC9008" class="xref">RFC9008</a>]</span> apply.<a href="#section-6.6-6.2.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.6-6.2.2.2">
      If the Track Ingress is the originator of the packet and the Track Egress
      is the destination of the packet, there is no need for an encapsulation.<a href="#section-6.6-6.2.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.6-6.2.2.3">
      So the Track Ingress must encapsulate the traffic that it did not originate, and add an RPI.<a href="#section-6.6-6.2.2.3" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-6.6-6.2.3">
     A packet that is being routed over the RPL Instance associated to a first
     Non-Storing Mode Track MAY be placed (encapsulated) in a second Track to
     cover one loose hop of the first Track as discussed in more details <a href="#nssr" class="xref">Section 3.5.2.3</a>.
     On the other hand, a Storing Mode Track must be strict and a packet that
     it placed in a Storing Mode Track MUST follow that Track till the Track
     Egress.<a href="#section-6.6-6.2.3" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-6.6-7">
    The forwarding of a packet along a track will fail if the Track continuity
    is broken,e.g.:<a href="#section-6.6-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.6-8.1">
     In the case of a strict path along a Segment, if the next strict hop is not
     reachable, the packet is dropped.<a href="#section-6.6-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.6-8.2">
      In the case of a loose source-routed path, when the loose next hop is not
      a neighbor, there must be a Segment of the same Track to that loose next hop. When that is the case the packet is
      forwarded to the next hop along that segment, or a common neighbor with the
      loose next hop, on which case the packet is forwarded to that neighbor, or
      another Track to the loose next hop for which this node or a neighbor is
      Ingress; in the last case, another encapsulation takes place and the
      process possibly recurses; otherwise the packet is dropped.<a href="#section-6.6-8.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.6-8.3">
      When a Track Egress extracts a packet from a Track (decapsulates the packet), the destination of the inner packet must be either this node or a direct neighbor, or a Target of another Segment of the same Track for which this node is Ingress, otherwise the packet MUST be dropped.<a href="#section-6.6-8.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.6-9">
    In case of a failure forwarding a packet along a Segment, e.g., the next hop
    is unreachable, the node that discovers the fault MUST send an ICMPv6 Error
    message <span>[<a href="#RFC4443" class="xref">RFC4443</a>]</span> to the Root, with a new Code
    "Error in P-Route" (See <a href="#ICMPv6ErrPRoute" class="xref">Section 10.13</a>).
    The Root can then repair by updating the broken Segment and/or Tracks, and
    in the case of a broken Segment, remove the leftover sections of the segment
    using SM-VIOs with a lifetime of 0 indicating the section ot one or more
    nodes being removed (See <a href="#maintain" class="xref">Section 6.5</a>).<a href="#section-6.6-9" class="pilcrow">¶</a></p>
<p id="section-6.6-10">In case of a permanent forwarding error along a Source Route path, the
    node that fails to forward SHOULD send an ICMP error with a code "Error
    in Source Routing Header" back to the source of the packet, as described
    in section 11.2.2.3. of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>. Upon this message, the
    encapsulating node SHOULD stop using the source route path for a
    reasonable period of time which duration depends on the deployment, and
    it SHOULD send an ICMP message with a Code "Error in P-Route" to the
    Root. Failure to follow these steps may result
    in packet loss and wasted resources along the source route path that
    is broken.<a href="#section-6.6-10" class="pilcrow">¶</a></p>
<p id="section-6.6-11">
    Either way, the ICMP message MUST be throttled in case of consecutive
    occurrences. It MUST be sourced at the ULA or a GUA that is used in this
    Track for the source node, so the Root can establish where the error
    happened.<a href="#section-6.6-11" class="pilcrow">¶</a></p>
<p id="section-6.6-12">

    The portion of the invoking packet that is sent back in the ICMP message
    SHOULD record at least up to the RH if one is present, and this hop of the
    RH SHOULD be consumed by this node so that the destination in
    the IPv6 header is the next hop that this node could not reach.
    if a 6LoWPAN Routing Header (6LoRH) <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> is used to
    carry the IPv6 routing information in the outer header then that whole
    6LoRH information SHOULD be present in the ICMP message.<a href="#section-6.6-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="encompression">
<section id="section-6.7">
        <h3 id="name-compression-of-the-rpl-arti">
<a href="#section-6.7" class="section-number selfRef">6.7. </a><a href="#name-compression-of-the-rpl-arti" class="section-name selfRef">Compression of the RPL Artifacts</a>
        </h3>
<p id="section-6.7-1">
   When using <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span> in the Main DODAG operated in Non-Storing
   Mode in a 6LoWPAN LLN, a typical packet that circulates in the Main DODAG is
   formatted as shown in <a href="#inner" class="xref">Figure 16</a>, representing the case where
   :<a href="#section-6.7-1" class="pilcrow">¶</a></p>
<span id="name-a-packet-as-forwarded-along"></span><div id="inner">
<figure id="figure-16">
          <div class="alignCenter art-text artwork" id="section-6.7-2.1">
<pre>
+-+ ... -+- ... -+- ... -+-+- ... +-+-+-+ ... +-+-+ ... -+ ... +-...
|11110001|  SRH- | RPI-  | IP-in-IP | NH=1      |11110CPP| UDP | UDP
| Page 1 | 6LoRH | 6LoRH |  6LoRH   |LOWPAN_IPHC| UDP    | hdr |Payld
+-+ ... -+- ... -+- ... -+-+- ... +-+-+-+ ... +-+-+ ... -+ ... +-...
                                     &lt;=        RFC 6282      =&gt;
          &lt;================ Inner packet ==================== = =
</pre>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a>:
<a href="#name-a-packet-as-forwarded-along" class="selfRef">A Packet as Forwarded along the Main DODAG</a>
          </figcaption></figure>
</div>
<p id="section-6.7-3">
   Since there is no page switch between the encapsulated packet and the
   encapsulation, the first octet of the compressed packet that acts as page
   selector is actually removed at encapsulation, so the inner packet used in
   the descriptions below start with the SRH-6LoRH, and is verbatim the packet
   represented in <a href="#inner" class="xref">Figure 16</a> from the second octet on.<a href="#section-6.7-3" class="pilcrow">¶</a></p>
<p id="section-6.7-4">When encapsulating that inner packet to place it in the Track, the first
   header that the Ingress appends at the head of the inner packet is an
   IP-in-IP 6LoRH Header; in that header, the encapsulator address, which maps to the IPv6 source address in the uncompressed form, contains a GUA or ULA IPv6 address of the Ingress node that serves as DODAG ID for the Track, expressed in the compressed form and using the DODAGID of the Main DODAG as compression reference. If the address is compressed to 2 bytes, the resulting value for the Length field shown in <a href="#ipinip" class="xref">Figure 17</a> is 3, meaning that the SRH-6LoRH as a whole is 5-octets long.<a href="#section-6.7-4" class="pilcrow">¶</a></p>
<span id="name-the-ip-in-ip-6lorh-header"></span><div id="ipinip">
<figure id="figure-17">
          <div class="alignCenter art-text artwork" id="section-6.7-5.1">
<pre>
 0                   1                   2
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-     ...     -+
|1|0|1| Length  | 6LoRH Type 6  |  Hop Limit    | Track DODAGID |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-     ...     -+
</pre>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a>:
<a href="#name-the-ip-in-ip-6lorh-header" class="selfRef">The IP-in-IP 6LoRH Header</a>
          </figcaption></figure>
</div>
<p id="section-6.7-6"> At the head of the resulting sequence of bytes, the track Ingress then adds
   the RPI that carries the TrackID as RPLinstanceID as a P-RPI-6LoRH Header, as illustrated in <a href="#PRpifmt" class="xref">Figure 8</a>, using the TrackID as
   RPLInstanceID.
   Combined with the IP-in-IP 6LoRH Header, this allows to identify the Track without ambiguity.<a href="#section-6.7-6" class="pilcrow">¶</a></p>
<p id="section-6.7-7"> The SRH-6LoRH is then added at the head of the resulting sequence of bytes
   as a verbatim copy of the content of the SR-VIO that signaled the selected
   Track Leg.<a href="#section-6.7-7" class="pilcrow">¶</a></p>
<span id="name-the-srh-6lorh-header"></span><div id="srh6lorh">
<figure id="figure-18">
          <div class="alignCenter art-text artwork" id="section-6.7-8.1">
<pre>
 0                   1
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5  ..         ..        ..
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-    -+-    -+ ... +-    -+
|1|0|0|  Size   |6LoRH Type 0..4| Hop1 | Hop2 |     | HopN |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-    -+-    -+ ... +-    -+
                                          Where N = Size + 1
</pre>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a>:
<a href="#name-the-srh-6lorh-header" class="selfRef">The SRH 6LoRH Header</a>
          </figcaption></figure>
</div>
<p id="section-6.7-9">
   The format of the resulting encapsulated packet in <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span>
   compressed form is illustrated in <a href="#respac" class="xref">Figure 19</a>:<a href="#section-6.7-9" class="pilcrow">¶</a></p>
<span id="name-a-packet-as-forwarded-along-"></span><div id="respac">
<figure id="figure-19">
          <div class="alignCenter art-text artwork" id="section-6.7-10.1">
<pre>
+-+ ... -+-+-+- ... -+-+-+- ... -+-+-+-+-+- ... +-+-+-+-+-+-+- ...
| Page 1 |  SRH-6LoRH  | P-RPI-6LoRH | IP-in-IP 6LoRH | Inner Packet
+-+ ... -+-+-+- ... -+-+-+- ... -+-+-+-+-+- ... +-+-+-+-+-+-+- ...

 Signals :  Loose Hops :    TrackID  :  Track DODAGID :
</pre>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a>:
<a href="#name-a-packet-as-forwarded-along-" class="selfRef">A Packet as Forwarded along a Track</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="ov">
<section id="section-7">
      <h2 id="name-lesser-constrained-variatio">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-lesser-constrained-variatio" class="section-name selfRef">Lesser Constrained Variations</a>
      </h2>
<div id="smmd">
<section id="section-7.1">
        <h3 id="name-storing-mode-main-dodag">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-storing-mode-main-dodag" class="section-name selfRef">Storing Mode Main DODAG</a>
        </h3>
<p id="section-7.1-1">This specification expects that the Main DODAG is operated in Non-Storing
   Mode. The reasons for that limitation are mostly related to LLN operations,
   power and spectrum conservation:<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-2.1">In Non-Storing Mode The Root already possesses the DODAG topology, so the
   additional topological information is reduced to the siblings.<a href="#section-7.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-2.2">The downwards routes are updated with unicast messages to the Root, which
   ensures that the Root can reach back to the LLN nodes after a repair faster
   than in the case of Storing Mode. Also the Root can control the use of the
   path diversity in the DODAG to reach to the LLN nodes. For both reasons,
   Non-Storing Mode provides better capabilities for the Root to maintain the
   P-Routes.<a href="#section-7.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-2.3">
   When the Main DODAG is operated in Non-Storing Mode, P-Routes enable
   loose Source Routing, which is only an advantage in that mode. Storing Mode
   does not use Source Routing Headers, and does not derive the same benefits
   from this capability.<a href="#section-7.1-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.1-3">On the other hand, since RPL is a Layer-3 routing protocol, its applicability
   extends beyond LLNs to a generic IP network. RPL requires fewer resources
   than alternative IGPs like OSPF, ISIS, EIGRP, BABEL or RIP at the expense
   of a route stretch vs. the shortest path routes to a destination that those
   protocols compute. P-Routes add the capability to install shortest
   and/or constrained routes to special destinations such as discussed in
   section A.9.4. of the ANIMA ACP <span>[<a href="#RFC8994" class="xref">RFC8994</a>]</span>.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1-4">
   In a powered and wired network, when enough memory to store the needed
   routes is available, the RPL Storing Mode proposes a better trade-off than
   the Non-Storing, as it reduces the route stretch and lowers the load on the
   Root. In that case, the control path between the Root and the LLN nodes is
   highly available compared to LLNs, and the nodes can be reached to maintain
   the P-Routes at most times.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
<p id="section-7.1-5">
   This section specifies the additions that are needed to support Projected
   Routes when the Main DODAG is operated in Storing Mode.
   As long as the RPI can be processed adequately by the dataplane, the
   changes to this specification are limited to the DAO message.
   The Track structure, routes and forwarding operations remain the same.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<p id="section-7.1-6">
   In Storing Mode, the Root misses the Child to Parent relationship that forms
   the Main DODAG, as well as the sibling information. To provide that knowledge
   the nodes in the network MUST send additional DAO messages that are unicast
   to the Root as Non-Storing DAO messages are.<a href="#section-7.1-6" class="pilcrow">¶</a></p>
<p id="section-7.1-7">In the DAO message, the originating router advertises a set of neighbor
   nodes using Sibling Information Options (SIO)s, regardless of the relative
   position in the DODAG of the advertised node vs. this router.<a href="#section-7.1-7" class="pilcrow">¶</a></p>
<p id="section-7.1-8">The DAO message MUST be formed as follows:<a href="#section-7.1-8" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-9.1">
   The originating router is identified by the source address of the DAO. That
   address MUST be the one that this router registers to neighbor routers
   so the Root can correlate the DAOs from those routers when they advertise
   this router as their neighbor. The DAO contains one or more sequences of one
   Transit Information Option and one or more Sibling Information Options.
   There is no RPL Target Option so the Root is not confused into adding a
   Storing Mode route to the Target.<a href="#section-7.1-9.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-9.2">
   The TIO is formed as in Storing Mode, and the Parent Address is not present.
   The Path Sequence and Path Lifetime fields
   are aligned with the values used in the Address Registration of the node(s) advertised in the SIO, as explained in Section 9.1. of
   <span>[<a href="#RFC9010" class="xref">RFC9010</a>]</span>.
   Having similar values in all  nodes allows to factorise the TIO for multiple
   SIOs as done with <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>.<a href="#section-7.1-9.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-9.3">The TIO is followed by one or more SIOs that provide an address (ULA or GUA) of the advertised neighbor node.<a href="#section-7.1-9.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.1-10">
   But the RPL routing information headers may not be supported on all type of
   routed network infrastructures, especially not in high-speed routers.
   When the RPI is not be supported in the dataplane, there cannot be local RPL
   Instances and RPL can only operate as a single topology (the Main DODAG).
   The RPL Instance is that of the Main DODAG and the Ingress node that encapsulates is not the Root.
   The routes along the Tracks are alternate routes to those available along
   the Main DODAG. They MAY conflict with routes to children and MUST take
   precedence in the routing table. The Targets MUST be adjacent
   to the Track Egress to avoid loops that may form if the packet is reinjected
   in the Main DODAG.<a href="#section-7.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="bfd">
<section id="section-7.2">
        <h3 id="name-a-track-as-a-full-dodag">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-a-track-as-a-full-dodag" class="section-name selfRef">A Track as a Full DODAG</a>
        </h3>
<p id="section-7.2-1">This specification builds parallel or crossing Track Legs as opposed
   to a more complex DODAG with interconnections at any place desirable. The
   reason for that limitation is related to constrained node operations, and
   capability to store large amount of topological information and compute
   complex paths:<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-2.1">With this specification, the node in the LLN has no topological
   awareness, and does not need to maintain dynamic information about the link
   quality and availability.<a href="#section-7.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-2.2">The Root has a complete topological information and statistical metrics
   that allow it or its PCE to perform a global optimization of all Tracks in
   its DODAG. Based on that information, the Root computes the Track Leg and  predigest the source route paths.<a href="#section-7.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-2.3">
   The node merely selects one of the proposed paths and applies the associated
   pre-computed routing header in the encapsulation. This alleviates both the
   complexity of computing a path and the compressed form of the routing header.<a href="#section-7.2-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.2-3">The <span><a href="#I-D.ietf-raw-architecture" class="xref">"Reliable and Available
   Wireless (RAW) Architecture/Framework"</a> [<a href="#I-D.ietf-raw-architecture" class="xref">RAW-ARCHI</a>]</span> actually expects the PSE at
   the Track Ingress to react to changes in the forwarding conditions along the
   Track, and reroute packets to maintain the required degree of reliability.
   To achieve this, the PSE need the full richness of a DODAG to form any path
   that could make meet the Service Level Objective (SLO).<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<p id="section-7.2-4">
   This section specifies the additions that are needed to turn the Track
   into a full DODAG and enable the main Root to provide the necessary
   topological information to the Track Ingress. The expectation is that the
   metrics that the PSE uses are of an order other than that of the PCE,
   because of the difference of time scale between routing and forwarding, mor
   e in <span>[<a href="#I-D.ietf-raw-architecture" class="xref">RAW-ARCHI</a>]</span>. It follows that the PSE
   will learn the metrics it needs from an alternate source, e.g., OAM frames.<a href="#section-7.2-4" class="pilcrow">¶</a></p>
<p id="section-7.2-5">
   To pass the topological information to the Ingress, the Root uses a P-DAO
   messages that contains sequences of Target and Transit Information options
   that collectively represent the Track, expressed in the same fashion as in
   classical Non-Storing Mode. The difference as that the Root is the source as opposed to the destination, and can report information on many Targets, possibly the full Track, with one P-DAO.<a href="#section-7.2-5" class="pilcrow">¶</a></p>
<p id="section-7.2-6">Note that the Path Sequence and Lifetime in the TIO are selected by the Root,
   and that the Target/Transit information tupples in the P-DAO are not those
   received by the Root in the DAO messages about the said Targets. The Track
   may follow sibling routes and does not need to be congruent with the Main DODAG.<a href="#section-7.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="prof">
<section id="section-8">
      <h2 id="name-profiles">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-profiles" class="section-name selfRef">Profiles</a>
      </h2>
<p id="section-8-1">
    This document provides a set of tools that may or may not be needed by
    an implementation depending on the type of application it serves.
    This sections described profiles that can be implemented separately and
    can be used to discriminate what an implementation can and cannot do.
    This section describes profiles that enable to implement only a portion
    of this specification to meet a particular use case.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">
    Profiles 0 to 2 operate in the Main RPL Instance and do not require the
    support of local RPL Instances or the indication of the RPL Instance in the
    data plane. Profile 3 and above leverage Local RPL Instances to build
    arbitrary Tracks rooted at the Track Ingress and using its namespace for
    TrackID.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">
    Profiles 0 and 1 are REQUIRED by all implementations that may be used in
    LLNs; this enables to use Storing Mode to reduce the size of the Source
    Route Header in the most common LLN deployments. Profile 2 is RECOMMENDED
    in high speed / wired environment to enable traffic Engineering and
    network automation. All the other profile / environment combinations are
    OPTIONAL.<a href="#section-8-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-8-4">
        <dt id="section-8-4.1"> Profile 0 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.2">
      Profile 0 is the Legacy support of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> Non-Storing
      Mode, with default routing Northwards (up) and strict source routing
      Southwards (down the main DOAG). It provides the minimal common
      functionality that must be
      implemented as a prerequisite to all the Track-supporting profiles.
      The other Profiles extend Profile 0 with selected capabilities that this
      specification introduces on top.<a href="#section-8-4.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.3"> Profile 1 (Storing Mode P-Route Segments along the Main DODAG) </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.4">
      Profile 1 does not create new paths; compared to Profile 0, it combines
      Storing and Non-Storing Modes to balance the size of the Routing Header
      in the packet and the amount of state in the intermediate routers in a
      Non-Storing Mode RPL DODAG.<a href="#section-8-4.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.5"> Profile 2 (Non-Storing Mode P-Route Segments along the Main DODAG)</dt>
        <dd style="margin-left: 1.5em" id="section-8-4.6">
      Profile 2 extends Profile 0 with Strict Source-Routing Non-Storing Mode
      P-Routes along the Main DODAG, which is the same as Profile 1 but using
      NSM VIOs as opposed to SM VIOs. Profile 2 provides the same capability to
      compress the SRH in packets down the Main DODAG as Profile 1, but it
      require an encapsulation, in order to insert an additional SRH between
      the loose source routing hops.
      In that case, the Tracks MUST be installed as subTracks of the Main DODAG,
      the main RPL Instance MUST be used as TrackID, and the Ingress node that
      encapsulates is not the Root as it does not own the DODAGID.<a href="#section-8-4.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.7"> Profile 3 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.8">
       In order to
      form the best path possible, those Profiles require the support of
      Sibling Information Option to inform the Root of additional possible hops.
      Profile 3 extends Profile 1 with additional Storing Mode P-Routes
      that install segments that do not follow the Main DODAG.
      If the Segment Ingress (in the SM-VIO) is the same as the IPv6 Address of
      the Track Ingress (in the projected DAO base Object), the P-DAO creates an
      implicit Track between the Segment Ingress and the Segment Egress.<a href="#section-8-4.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.9"> Profile 4 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.10">
      Profile 4 extends Profile 2 with Strict Source-Routing Non-Storing Mode
      P-Routes to form East-West Tracks that are inside the Main DODAG but do
      not necessarily follow it. A Track is formed as one or more strict source
      source routed paths between the Root that is the Track Ingress, and the
      Track Egress that is the last node.<a href="#section-8-4.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.11"> Profile 5 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.12">
      Profile 5 Combines Profile 4 with Profile 1 and enables to loose source
      routing between the Ingress and the Egress of the Track. As in Profile 1,
      Storing Mode P-Routes connect the dots in the loose source route.<a href="#section-8-4.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.13"> Profile 6 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.14">
      Profile 6 Combines Profile 4 with Profile 2 and also enables to loose
      source routing between the Ingress and the Egress of the Track.<a href="#section-8-4.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.15"> Profile 7 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.16">
      Profile 7 implements profile 5 in a Main DODAG that is operated in
      Storing Mode as presented in <a href="#smmd" class="xref">Section 7.1</a>. As in Profile 1 and 2,
      the TrackID is the RPLInstanceID of the Main DODAG. Longest match rules
      decide whether a packet is sent along the Main DODAG or rerouted in a
      track.<a href="#section-8-4.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.17"> Profile 8 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.18">
      Profile 8 is offered in preparation of the RAW work, and for use cases
      where an arbitrary node in the network can afford the same code
      complexity as the RPL Root in a traditional deployment. It offers a full
      DODAG visibility to the Track Ingress as specified in <a href="#bfd" class="xref">Section 7.2</a>
      in a Non-Storing Mode Main DODAG.<a href="#section-8-4.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-8-4.19"> Profile 9 </dt>
        <dd style="margin-left: 1.5em" id="section-8-4.20">
      Profile 9 combines profiles 7 and 8, operating the Track as a full DODAG
      within a Storing Mode Main DODAG, using only the Main DODAG RPLInstanceID
      as TrackID.<a href="#section-8-4.20" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">
   It is worth noting that with <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>, every
   node in the LLN is RPL-aware and can inject any RPL-based attack in the
   network. This draft uses messages that are already present in RPL
   <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> with optional secured versions. The same secured
   versions may be used with this draft, and whatever security is deployed for
     a given network also applies to the flows in this draft.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">
 The LLN nodes depend on the 6LBR and the RPL participants for their
    operation.
 A trust model must be put in place to ensure that the right devices are
 acting in these roles, so as to avoid threats such as black-holing,
    (see <span>[<a href="#RFC7416" class="xref">RFC7416</a>]</span> section 7). This trust model could be
    at a minimum based on a Layer-2 Secure joining and the Link-Layer security.
    This is a generic 6LoWPAN requirement, see Req5.1 in Appendix B.5 of <span>[<a href="#RFC8505" class="xref">RFC8505</a>]</span>.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">
    In a general manner, the Security Considerations in <span>[<a href="#RFC6550" class="xref">RPL</a>]</span>,
    and <span>[<a href="#RFC7416" class="xref">RFC7416</a>]</span> apply to this specification as well.
    The Link-Layer security is needed in particular to prevent
    Denial-Of-Service attacks whereby a rogue router creates a high churn in the
    RPL network by constantly injected forged P-DAO messages and using up all
    the available storage in the attacked routers.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">
    Additionally, the trust model could include a role validation (e.g., using a
    role-based authorization) to ensure that the node that
    claims to be a RPL Root is entitled to do so. That trust should propagate
    from Egress to Ingress in the case of a Storing Mode P-DAO.<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">
    This specification suggests some validation of the VIO to prevent basic
    loops by avoiding that a node appears twice. But that is only a minimal
    protection. Arguably, an attacker tha can inject P-DAOs can reroute any
    traffic and deplete critical resources such as spectrum and battery in
    the LLN rapidly.<a href="#section-9-5" class="pilcrow">¶</a></p>
</section>
<div id="IANAcon">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="elec6lorh">
<section id="section-10.1">
        <h3 id="name-new-elective-6lowpan-routin">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-new-elective-6lowpan-routin" class="section-name selfRef">New Elective 6LoWPAN Routing Header Type</a>
        </h3>
<p id="section-10.1-1">  This document updates the IANA registry titled "Elective 6LoWPAN
   Routing Header Type" that was created for <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span>  and assigns the following value:<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<span id="name-new-elective-6lowpan-routing"></span><div id="elec6lorhtbl">
<table class="center" id="table-21">
          <caption>
<a href="#table-21" class="selfRef">Table 21</a>:
<a href="#name-new-elective-6lowpan-routing" class="selfRef">New Elective 6LoWPAN Routing Header Type</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">8 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">P-RPI-6LoRH</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="crit6lorh">
<section id="section-10.2">
        <h3 id="name-new-critical-6lowpan-routin">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-new-critical-6lowpan-routin" class="section-name selfRef">New Critical 6LoWPAN Routing Header Type</a>
        </h3>
<p id="section-10.2-1">  This document updates the IANA registry titled "Critical 6LoWPAN
   Routing Header Type" that was created for <span>[<a href="#RFC8138" class="xref">RFC8138</a>]</span>  and assigns the following value:<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<span id="name-new-critical-6lowpan-routing"></span><div id="crit6lorhtbl">
<table class="center" id="table-22">
          <caption>
<a href="#table-22" class="selfRef">Table 22</a>:
<a href="#name-new-critical-6lowpan-routing" class="selfRef">New Critical 6LoWPAN Routing Header Type</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">8 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">P-RPI-6LoRH</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="RPIIANA">
<section id="section-10.3">
        <h3 id="name-new-subregistry-for-the-rpl">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-new-subregistry-for-the-rpl" class="section-name selfRef">New Subregistry For The RPL Option Flags</a>
        </h3>
<p id="section-10.3-1">
   IANA is required to create a subregistry for the 8-bit RPL Option Flags field, as detailed in <a href="#Rpifmt" class="xref">Figure 7</a>, under the "Routing Protocol for Low Power and Lossy Networks (RPL)" registry. The bits are indexed from 0 (leftmost) to 7. Each bit is Tracked with the following qualities:<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.3-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-10.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.3-2.2">Indication When Set<a href="#section-10.3-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.3-2.3">Reference<a href="#section-10.3-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.3-3"> Registration procedure is "Standards Action" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>. The initial allocation is as indicated in <a href="#RPLPDRflagRegtbl" class="xref">Table 26</a>:<a href="#section-10.3-3" class="pilcrow">¶</a></p>
<span id="name-initial-pdr-flags"></span><div id="RPLoptFlagtbl">
<table class="center" id="table-23">
          <caption>
<a href="#table-23" class="selfRef">Table 23</a>:
<a href="#name-initial-pdr-flags" class="selfRef">Initial PDR Flags</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Bit number</th>
              <th class="text-left" rowspan="1" colspan="1">Indication When Set</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Down 'O'</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span> </td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Rank-Error (R)</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span> </td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">2</td>
              <td class="text-left" rowspan="1" colspan="1">Forwarding-Error (F)</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#RFC6553" class="xref">RFC6553</a>]</span> </td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">3 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Projected-Route (P)</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="RPLCtrlMsgReg">
<section id="section-10.4">
        <h3 id="name-new-rpl-control-codes">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-new-rpl-control-codes" class="section-name selfRef">New RPL Control Codes</a>
        </h3>
<p id="section-10.4-1">This document extends the IANA Subregistry created by RFC 6550 for RPL
    Control Codes as indicated in <a href="#ianaRPLCtrlMsgtbl" class="xref">Table 24</a>:<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<span id="name-new-rpl-control-codes-2"></span><div id="ianaRPLCtrlMsgtbl">
<table class="center" id="table-24">
          <caption>
<a href="#table-24" class="selfRef">Table 24</a>:
<a href="#name-new-rpl-control-codes-2" class="selfRef">New RPL Control Codes</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Code</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0x09 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Projected DAO Request (PDR)</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0x0A (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">PDR-ACK</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="RPLCtrlMsgOptionsReg">
<section id="section-10.5">
        <h3 id="name-new-rpl-control-message-opt">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-new-rpl-control-message-opt" class="section-name selfRef">New RPL Control Message Options</a>
        </h3>
<p id="section-10.5-1">This document extends the IANA Subregistry created by RFC 6550 for
    RPL Control Message Options as indicated in <a href="#ianaRPLCtrlMsgopttbl" class="xref">Table 25</a>:<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<span id="name-rpl-control-message-options"></span><div id="ianaRPLCtrlMsgopttbl">
<table class="center" id="table-25">
          <caption>
<a href="#table-25" class="selfRef">Table 25</a>:
<a href="#name-rpl-control-message-options" class="selfRef">RPL Control Message Options</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Meaning</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0x0E (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Stateful VIO (SM-VIO)</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0x0F (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Source-Routed VIO (NSM-VIO)</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0x10 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Sibling Information option</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="RPLPDRflagReg">
<section id="section-10.6">
        <h3 id="name-subregistry-for-the-project">
<a href="#section-10.6" class="section-number selfRef">10.6. </a><a href="#name-subregistry-for-the-project" class="section-name selfRef">SubRegistry for the Projected DAO Request Flags</a>
        </h3>
<p id="section-10.6-1">
   IANA is required to create a registry for the 8-bit Projected DAO Request
   (PDR) Flags field. Each bit is Tracked with the following qualities:<a href="#section-10.6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.6-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-10.6-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.6-2.2">Capability description<a href="#section-10.6-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.6-2.3">Reference<a href="#section-10.6-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.6-3"> Registration procedure is "Standards Action" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>. The initial allocation is as indicated in <a href="#RPLPDRflagRegtbl" class="xref">Table 26</a>:<a href="#section-10.6-3" class="pilcrow">¶</a></p>
<span id="name-initial-pdr-flags-2"></span><div id="RPLPDRflagRegtbl">
<table class="center" id="table-26">
          <caption>
<a href="#table-26" class="selfRef">Table 26</a>:
<a href="#name-initial-pdr-flags-2" class="selfRef">Initial PDR Flags</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Bit number</th>
              <th class="text-left" rowspan="1" colspan="1">Capability description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">PDR-ACK request (K)</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Requested path should be redundant (R)</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="RPLPDRackflagReg">
<section id="section-10.7">
        <h3 id="name-subregistry-for-the-pdr-ack">
<a href="#section-10.7" class="section-number selfRef">10.7. </a><a href="#name-subregistry-for-the-pdr-ack" class="section-name selfRef">SubRegistry for the PDR-ACK Flags</a>
        </h3>
<p id="section-10.7-1">
   IANA is required to create an subregistry for the 8-bit PDR-ACK Flags field.
   Each bit is Tracked with the following qualities:<a href="#section-10.7-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.7-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-10.7-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.7-2.2">Capability description<a href="#section-10.7-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.7-2.3">Reference<a href="#section-10.7-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.7-3">Registration procedure is "Standards Action" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
    No bit is currently defined for the PDR-ACK Flags.<a href="#section-10.7-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-stats-nonrej">
<section id="section-10.8">
        <h3 id="name-subregistry-for-the-pdr-ack-">
<a href="#section-10.8" class="section-number selfRef">10.8. </a><a href="#name-subregistry-for-the-pdr-ack-" class="section-name selfRef">Subregistry for the PDR-ACK Acceptance Status Values</a>
        </h3>
<p id="section-10.8-1">
 IANA is requested to create a Subregistry for the PDR-ACK Acceptance
    Status values.<a href="#section-10.8-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.8-2.1"> Possible values are 6-bit unsigned integers (0..63).<a href="#section-10.8-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.8-2.2"> Registration procedure is "Standards Action" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-10.8-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.8-2.3"> Initial allocation is as indicated in <a href="#iana-ack-status" class="xref">Table 27</a>:<a href="#section-10.8-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<span id="name-acceptance-values-of-the-pd"></span><div id="iana-ack-status">
<table class="center" id="table-27">
          <caption>
<a href="#table-27" class="selfRef">Table 27</a>:
<a href="#name-acceptance-values-of-the-pd" class="selfRef">Acceptance values of the PDR-ACK Status</a>
          </caption>
<thead>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Value</td>
              <td class="text-left" rowspan="1" colspan="1">Meaning</td>
              <td class="text-left" rowspan="1" colspan="1">Reference</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Unqualified Acceptance</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-stats-rej">
<section id="section-10.9">
        <h3 id="name-subregistry-for-the-pdr-ack-r">
<a href="#section-10.9" class="section-number selfRef">10.9. </a><a href="#name-subregistry-for-the-pdr-ack-r" class="section-name selfRef">Subregistry for the PDR-ACK Rejection Status Values</a>
        </h3>
<p id="section-10.9-1">
 IANA is requested to create a Subregistry for the PDR-ACK Rejection
    Status values.<a href="#section-10.9-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.9-2.1"> Possible values are 6-bit unsigned integers (0..63).<a href="#section-10.9-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.9-2.2"> Registration procedure is "Standards Action" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.<a href="#section-10.9-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.9-2.3"> Initial allocation is as indicated in <a href="#iana-nack-status" class="xref">Table 28</a>:<a href="#section-10.9-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<span id="name-rejection-values-of-the-pdr"></span><div id="iana-nack-status">
<table class="center" id="table-28">
          <caption>
<a href="#table-28" class="selfRef">Table 28</a>:
<a href="#name-rejection-values-of-the-pdr" class="selfRef">Rejection values of the PDR-ACK Status</a>
          </caption>
<thead>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Value</td>
              <td class="text-left" rowspan="1" colspan="1">Meaning</td>
              <td class="text-left" rowspan="1" colspan="1">Reference</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Unqualified Rejection</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Transient Failure</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="RPLVIOflagReg">
<section id="section-10.10">
        <h3 id="name-subregistry-for-the-via-inf">
<a href="#section-10.10" class="section-number selfRef">10.10. </a><a href="#name-subregistry-for-the-via-inf" class="section-name selfRef">SubRegistry for the Via Information Options Flags</a>
        </h3>
<p id="section-10.10-1">
   IANA is requested to create a Subregistry for the 5-bit Via Information Options
   (Via Information Option) Flags field. Each bit is Tracked with the following qualities:<a href="#section-10.10-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.10-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-10.10-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.10-2.2">Capability description<a href="#section-10.10-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.10-2.3">Reference<a href="#section-10.10-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.10-3"> Registration procedure is "Standards Action" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>.
   No bit is currently defined for the Via Information Options (Via Information Option) Flags.<a href="#section-10.10-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="RPLSIOflagReg">
<section id="section-10.11">
        <h3 id="name-subregistry-for-the-sibling">
<a href="#section-10.11" class="section-number selfRef">10.11. </a><a href="#name-subregistry-for-the-sibling" class="section-name selfRef">SubRegistry for the Sibling Information Option Flags</a>
        </h3>
<p id="section-10.11-1">
   IANA is required to create a registry for the 5-bit Sibling Information
   Option (SIO) Flags field. Each bit is Tracked with the following qualities:<a href="#section-10.11-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.11-2.1">Bit number (counting from bit 0 as the most significant bit)<a href="#section-10.11-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.11-2.2">Capability description<a href="#section-10.11-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-10.11-2.3">Reference<a href="#section-10.11-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-10.11-3"> Registration procedure is "Standards Action" <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>. The initial allocation is as indicated in <a href="#RPLSIORegtbl" class="xref">Table 29</a>:<a href="#section-10.11-3" class="pilcrow">¶</a></p>
<span id="name-initial-sio-flags"></span><div id="RPLSIORegtbl">
<table class="center" id="table-29">
          <caption>
<a href="#table-29" class="selfRef">Table 29</a>:
<a href="#name-initial-sio-flags" class="selfRef">Initial SIO Flags</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Bit number</th>
              <th class="text-left" rowspan="1" colspan="1">Capability description</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">0 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">"S" flag: Sibling in same DODAG as Self</td>
              <td class="text-left" rowspan="1" colspan="1">This document</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="iana-P-DAO">
<section id="section-10.12">
        <h3 id="name-new-destination-advertiseme">
<a href="#section-10.12" class="section-number selfRef">10.12. </a><a href="#name-new-destination-advertiseme" class="section-name selfRef">New destination Advertisement Object Flag</a>
        </h3>
<p id="section-10.12-1">
   This document modifies the "destination Advertisement Object (DAO) Flags"
   registry initially
   created in Section 20.11 of <span>[<a href="#RFC6550" class="xref">RPL</a>]</span> .<a href="#section-10.12-1" class="pilcrow">¶</a></p>
<p id="section-10.12-2">
  <a href="#extP-DAO" class="xref">Section 4.1.1</a> also defines one new entry in the Registry as follows:<a href="#section-10.12-2" class="pilcrow">¶</a></p>
<span id="name-new-destination-advertisemen"></span><div id="iana-P-DAOtbl">
<table class="center" id="table-30">
          <caption>
<a href="#table-30" class="selfRef">Table 30</a>:
<a href="#name-new-destination-advertisemen" class="selfRef">New destination Advertisement Object (DAO) Flag</a>
          </caption>
<thead>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Bit Number</td>
              <td class="text-left" rowspan="1" colspan="1">Capability Description</td>
              <td class="text-left" rowspan="1" colspan="1">Reference</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Projected DAO (P)</td>
              <td class="text-left" rowspan="1" colspan="1">THIS RFC</td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
<div id="ICMPv6ErrPRoute">
<section id="section-10.13">
        <h3 id="name-new-icmpv6-error-code">
<a href="#section-10.13" class="section-number selfRef">10.13. </a><a href="#name-new-icmpv6-error-code" class="section-name selfRef">New ICMPv6 Error Code</a>
        </h3>
<p id="section-10.13-1">In some cases RPL will return an ICMPv6 error message when a
        message cannot be forwarded along a P-Route.<a href="#section-10.13-1" class="pilcrow">¶</a></p>
<p id="section-10.13-2">IANA has defined an ICMPv6 "Code" Fields Registry for ICMPv6
        Message Types. ICMPv6 Message Type 1 describes "destination Unreachable"
        codes. This specification requires that a new code is allocated from the
        ICMPv6 Code Fields Registry for ICMPv6 Message Type 1, for "Error in
        P-Route", with a suggested code value of 8, to be confirmed by
        IANA.<a href="#section-10.13-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-stats-rpl-rej">
<section id="section-10.14">
        <h3 id="name-new-rpl-rejection-status-va">
<a href="#section-10.14" class="section-number selfRef">10.14. </a><a href="#name-new-rpl-rejection-status-va" class="section-name selfRef">New RPL Rejection Status values</a>
        </h3>
<p id="section-10.14-1">
 This specification updates the Subregistry for the "RPL Rejection Status"
    values under the RPL registry, as follows:<a href="#section-10.14-1" class="pilcrow">¶</a></p>
<span id="name-rejection-values-of-the-rpl"></span><div id="iana-nack-Status">
<table class="center" id="table-31">
          <caption>
<a href="#table-31" class="selfRef">Table 31</a>:
<a href="#name-rejection-values-of-the-rpl" class="selfRef">Rejection values of the RPL Status</a>
          </caption>
<thead>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Value</td>
              <td class="text-left" rowspan="1" colspan="1">Meaning</td>
              <td class="text-left" rowspan="1" colspan="1">Reference</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">2 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Out of Resources</td>
              <td class="text-left" rowspan="1" colspan="1">THIS RFC</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">3 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Error in VIO</td>
              <td class="text-left" rowspan="1" colspan="1">THIS RFC</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">4 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Predecessor Unreachable</td>
              <td class="text-left" rowspan="1" colspan="1">THIS RFC
      </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">5 (Suggested)</td>
              <td class="text-left" rowspan="1" colspan="1">Unreachable Target</td>
              <td class="text-left" rowspan="1" colspan="1">THIS RFC
      </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">6..63</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1"></td>
            </tr>
          </tbody>
        </table>
</div>
</section>
</div>
</section>
</div>
<section id="section-11">
      <h2 id="name-acknowledgments">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-11-1">The authors wish to acknowledge JP Vasseur, Remy Liubing, James Pylakutty,
   and Patrick Wetterwald for their contributions to the ideas developed here.
   Many thanks to Dominique Barthel and SVR Anand for their global contribution
   to 6TiSCH, RAW and this document, as well as text suggestions that were
   incorporated, and to Michael Richardson for his useful recommendations based
   on his global view of the system.
   Also special thanks Toerless Eckert for his deep review, with many excellent
   suggestions that improved the readability and well as the content of the
   specification.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
<section id="section-12">
      <h2 id="name-normative-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC1122">[INT-ARCHI]</dt>
      <dd>
<span class="refAuthor">Braden, R., Ed.</span>, <span class="refTitle">"Requirements for Internet Hosts - Communication Layers"</span>, <span class="seriesInfo">STD 3</span>, <span class="seriesInfo">RFC 1122</span>, <span class="seriesInfo">DOI 10.17487/RFC1122</span>, <time datetime="1989-10" class="refDate">October 1989</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1122">https://www.rfc-editor.org/info/rfc1122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
      <dd>
<span class="refAuthor">Conta, A.</span>, <span class="refAuthor">Deering, S.</span>, and <span class="refAuthor">M. Gupta, Ed.</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 89</span>, <span class="seriesInfo">RFC 4443</span>, <span class="seriesInfo">DOI 10.17487/RFC4443</span>, <time datetime="2006-03" class="refDate">March 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4443">https://www.rfc-editor.org/info/rfc4443</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4655">[RFC4655]</dt>
      <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Vasseur, J.-P.</span>, and <span class="refAuthor">J. Ash</span>, <span class="refTitle">"A Path Computation Element (PCE)-Based Architecture"</span>, <span class="seriesInfo">RFC 4655</span>, <span class="seriesInfo">DOI 10.17487/RFC4655</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4655">https://www.rfc-editor.org/info/rfc4655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5440">[RFC5440]</dt>
      <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span> and <span class="refAuthor">JL. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5440</span>, <span class="seriesInfo">DOI 10.17487/RFC5440</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6282">[RFC6282]</dt>
      <dd>
<span class="refAuthor">Hui, J., Ed.</span> and <span class="refAuthor">P. Thubert</span>, <span class="refTitle">"Compression Format for IPv6 Datagrams over IEEE 802.15.4-Based Networks"</span>, <span class="seriesInfo">RFC 6282</span>, <span class="seriesInfo">DOI 10.17487/RFC6282</span>, <time datetime="2011-09" class="refDate">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6282">https://www.rfc-editor.org/info/rfc6282</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6550">[RPL]</dt>
      <dd>
<span class="refAuthor">Winter, T., Ed.</span>, <span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Brandt, A.</span>, <span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Kelsey, R.</span>, <span class="refAuthor">Levis, P.</span>, <span class="refAuthor">Pister, K.</span>, <span class="refAuthor">Struik, R.</span>, <span class="refAuthor">Vasseur, JP.</span>, and <span class="refAuthor">R. Alexander</span>, <span class="refTitle">"RPL: IPv6 Routing Protocol for Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6550</span>, <span class="seriesInfo">DOI 10.17487/RFC6550</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6550">https://www.rfc-editor.org/info/rfc6550</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6553">[RFC6553]</dt>
      <dd>
<span class="refAuthor">Hui, J.</span> and <span class="refAuthor">JP. Vasseur</span>, <span class="refTitle">"The Routing Protocol for Low-Power and Lossy Networks (RPL) Option for Carrying RPL Information in Data-Plane Datagrams"</span>, <span class="seriesInfo">RFC 6553</span>, <span class="seriesInfo">DOI 10.17487/RFC6553</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6553">https://www.rfc-editor.org/info/rfc6553</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6554">[RFC6554]</dt>
      <dd>
<span class="refAuthor">Hui, J.</span>, <span class="refAuthor">Vasseur, JP.</span>, <span class="refAuthor">Culler, D.</span>, and <span class="refAuthor">V. Manral</span>, <span class="refTitle">"An IPv6 Routing Header for Source Routes with the Routing Protocol for Low-Power and Lossy Networks (RPL)"</span>, <span class="seriesInfo">RFC 6554</span>, <span class="seriesInfo">DOI 10.17487/RFC6554</span>, <time datetime="2012-03" class="refDate">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6554">https://www.rfc-editor.org/info/rfc6554</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
    <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13">
      <h2 id="name-informative-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="RFC4944">[6LoWPAN]</dt>
      <dd>
<span class="refAuthor">Montenegro, G.</span>, <span class="refAuthor">Kushalnagar, N.</span>, <span class="refAuthor">Hui, J.</span>, and <span class="refAuthor">D. Culler</span>, <span class="refTitle">"Transmission of IPv6 Packets over IEEE 802.15.4 Networks"</span>, <span class="seriesInfo">RFC 4944</span>, <span class="seriesInfo">DOI 10.17487/RFC4944</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4944">https://www.rfc-editor.org/info/rfc4944</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7102">[RFC7102]</dt>
      <dd>
<span class="refAuthor">Vasseur, JP.</span>, <span class="refTitle">"Terms Used in Routing for Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 7102</span>, <span class="seriesInfo">DOI 10.17487/RFC7102</span>, <time datetime="2014-01" class="refDate">January 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7102">https://www.rfc-editor.org/info/rfc7102</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6997">[RFC6997]</dt>
      <dd>
<span class="refAuthor">Goyal, M., Ed.</span>, <span class="refAuthor">Baccelli, E.</span>, <span class="refAuthor">Philipp, M.</span>, <span class="refAuthor">Brandt, A.</span>, and <span class="refAuthor">J. Martocci</span>, <span class="refTitle">"Reactive Discovery of Point-to-Point Routes in Low-Power and Lossy Networks"</span>, <span class="seriesInfo">RFC 6997</span>, <span class="seriesInfo">DOI 10.17487/RFC6997</span>, <time datetime="2013-08" class="refDate">August 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6997">https://www.rfc-editor.org/info/rfc6997</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7416">[RFC7416]</dt>
      <dd>
<span class="refAuthor">Tsao, T.</span>, <span class="refAuthor">Alexander, R.</span>, <span class="refAuthor">Dohler, M.</span>, <span class="refAuthor">Daza, V.</span>, <span class="refAuthor">Lozano, A.</span>, and <span class="refAuthor">M. Richardson, Ed.</span>, <span class="refTitle">"A Security Threat Analysis for the Routing Protocol for Low-Power and Lossy Networks (RPLs)"</span>, <span class="seriesInfo">RFC 7416</span>, <span class="seriesInfo">DOI 10.17487/RFC7416</span>, <time datetime="2015-01" class="refDate">January 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7416">https://www.rfc-editor.org/info/rfc7416</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9030">[6TiSCH-ARCHI]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refTitle">"An Architecture for IPv6 over the Time-Slotted Channel Hopping Mode of IEEE 802.15.4 (6TiSCH)"</span>, <span class="seriesInfo">RFC 9030</span>, <span class="seriesInfo">DOI 10.17487/RFC9030</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9030">https://www.rfc-editor.org/info/rfc9030</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-raw-architecture">[RAW-ARCHI]</dt>
      <dd>
<span class="refAuthor">Thubert, P.</span>, <span class="refAuthor">Papadopoulos, G. Z.</span>, and <span class="refAuthor">L. Berger</span>, <span class="refTitle">"Reliable and Available Wireless Architecture/Framework"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-raw-architecture-01</span>, <time datetime="2021-07-28" class="refDate">28 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-raw-architecture-01">https://datatracker.ietf.org/doc/html/draft-ietf-raw-architecture-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-raw-use-cases">[USE-CASES]</dt>
      <dd>
<span class="refAuthor">Papadopoulos, G. Z.</span>, <span class="refAuthor">Thubert, P.</span>, <span class="refAuthor">Theoleyre, F.</span>, and <span class="refAuthor">C. J. Bernardos</span>, <span class="refTitle">"RAW use cases"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-raw-use-cases-02</span>, <time datetime="2021-07-12" class="refDate">12 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-raw-use-cases-02">https://datatracker.ietf.org/doc/html/draft-ietf-raw-use-cases-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9035">[TURN-ON_RFC8138]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span> and <span class="refAuthor">L. Zhao</span>, <span class="refTitle">"A Routing Protocol for Low-Power and Lossy Networks (RPL) Destination-Oriented Directed Acyclic Graph (DODAG) Configuration Option for the 6LoWPAN Routing Header"</span>, <span class="seriesInfo">RFC 9035</span>, <span class="seriesInfo">DOI 10.17487/RFC9035</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9035">https://www.rfc-editor.org/info/rfc9035</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8025">[RFC8025]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span> and <span class="refAuthor">R. Cragie</span>, <span class="refTitle">"IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Paging Dispatch"</span>, <span class="seriesInfo">RFC 8025</span>, <span class="seriesInfo">DOI 10.17487/RFC8025</span>, <time datetime="2016-11" class="refDate">November 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8025">https://www.rfc-editor.org/info/rfc8025</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8138">[RFC8138]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Toutain, L.</span>, and <span class="refAuthor">R. Cragie</span>, <span class="refTitle">"IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Routing Header"</span>, <span class="seriesInfo">RFC 8138</span>, <span class="seriesInfo">DOI 10.17487/RFC8138</span>, <time datetime="2017-04" class="refDate">April 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8138">https://www.rfc-editor.org/info/rfc8138</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8505">[RFC8505]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refAuthor">Nordmark, E.</span>, <span class="refAuthor">Chakrabarti, S.</span>, and <span class="refAuthor">C. Perkins</span>, <span class="refTitle">"Registration Extensions for IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Neighbor Discovery"</span>, <span class="seriesInfo">RFC 8505</span>, <span class="seriesInfo">DOI 10.17487/RFC8505</span>, <time datetime="2018-11" class="refDate">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8505">https://www.rfc-editor.org/info/rfc8505</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8655">[RFC8655]</dt>
      <dd>
<span class="refAuthor">Finn, N.</span>, <span class="refAuthor">Thubert, P.</span>, <span class="refAuthor">Varga, B.</span>, and <span class="refAuthor">J. Farkas</span>, <span class="refTitle">"Deterministic Networking Architecture"</span>, <span class="seriesInfo">RFC 8655</span>, <span class="seriesInfo">DOI 10.17487/RFC8655</span>, <time datetime="2019-10" class="refDate">October 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8655">https://www.rfc-editor.org/info/rfc8655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8930">[RFC8930]</dt>
      <dd>
<span class="refAuthor">Watteyne, T., Ed.</span>, <span class="refAuthor">Thubert, P., Ed.</span>, and <span class="refAuthor">C. Bormann</span>, <span class="refTitle">"On Forwarding 6LoWPAN Fragments over a Multi-Hop IPv6 Network"</span>, <span class="seriesInfo">RFC 8930</span>, <span class="seriesInfo">DOI 10.17487/RFC8930</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8930">https://www.rfc-editor.org/info/rfc8930</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8931">[RFC8931]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span>, <span class="refTitle">"IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Selective Fragment Recovery"</span>, <span class="seriesInfo">RFC 8931</span>, <span class="seriesInfo">DOI 10.17487/RFC8931</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8931">https://www.rfc-editor.org/info/rfc8931</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8994">[RFC8994]</dt>
      <dd>
<span class="refAuthor">Eckert, T., Ed.</span>, <span class="refAuthor">Behringer, M., Ed.</span>, and <span class="refAuthor">S. Bjarnason</span>, <span class="refTitle">"An Autonomic Control Plane (ACP)"</span>, <span class="seriesInfo">RFC 8994</span>, <span class="seriesInfo">DOI 10.17487/RFC8994</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8994">https://www.rfc-editor.org/info/rfc8994</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9008">[RFC9008]</dt>
      <dd>
<span class="refAuthor">Robles, M.I.</span>, <span class="refAuthor">Richardson, M.</span>, and <span class="refAuthor">P. Thubert</span>, <span class="refTitle">"Using RPI Option Type, Routing Header for Source Routes, and IPv6-in-IPv6 Encapsulation in the RPL Data Plane"</span>, <span class="seriesInfo">RFC 9008</span>, <span class="seriesInfo">DOI 10.17487/RFC9008</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9008">https://www.rfc-editor.org/info/rfc9008</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9010">[RFC9010]</dt>
      <dd>
<span class="refAuthor">Thubert, P., Ed.</span> and <span class="refAuthor">M. Richardson</span>, <span class="refTitle">"Routing for RPL (Routing Protocol for Low-Power and Lossy Networks) Leaves"</span>, <span class="seriesInfo">RFC 9010</span>, <span class="seriesInfo">DOI 10.17487/RFC9010</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9010">https://www.rfc-editor.org/info/rfc9010</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.irtf-panrg-path-properties">[I-D.irtf-panrg-path-properties]</dt>
      <dd>
<span class="refAuthor">Enghardt, T.</span> and <span class="refAuthor">C. Krähenbühl</span>, <span class="refTitle">"A Vocabulary of Path Properties"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-panrg-path-properties-03</span>, <time datetime="2021-07-09" class="refDate">9 July 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-irtf-panrg-path-properties-03">https://datatracker.ietf.org/doc/html/draft-irtf-panrg-path-properties-03</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="PCE">[PCE]</dt>
    <dd>
<span class="refAuthor">IETF</span>, <span class="refTitle">"Path Computation Element"</span>, <span>&lt;<a href="https://dataTracker.ietf.org/doc/charter-ietf-pce/">https://dataTracker.ietf.org/doc/charter-ietf-pce/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Pascal Thubert (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc</span></div>
<div dir="auto" class="left"><span class="street-address">Building D<br>45 Allee des Ormes - BP1200</span></div>
<div dir="auto" class="left">
<span class="postal-code">06254</span> <span class="locality">Mougins - Sophia Antipolis</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+33%20497%2023%2026%2034" class="tel">+33 497 23 26 34</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:pthubert@cisco.com" class="email">pthubert@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Rahul Arvind Jadhav</span></div>
<div dir="auto" class="left"><span class="org">Huawei Tech</span></div>
<div dir="auto" class="left"><span class="street-address">Kundalahalli Village, Whitefield,</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560037</span>
</div>
<div dir="auto" class="left"><span class="region">Karnataka</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+91-080-49160700" class="tel">+91-080-49160700</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:rahul.ietf@gmail.com" class="email">rahul.ietf@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Matthew Gillmore</span></div>
<div dir="auto" class="left"><span class="org">Itron, Inc</span></div>
<div dir="auto" class="left"><span class="street-address">Building D<br>2111 N Molter Road</span></div>
<div dir="auto" class="left">
<span class="locality">Liberty Lake</span>,  <span class="postal-code">99019</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+1.800.635.5461" class="tel">+1.800.635.5461</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:matthew.gillmore@itron.com" class="email">matthew.gillmore@itron.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
