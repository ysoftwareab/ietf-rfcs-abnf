<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>VALARM Extensions for iCalendar</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Conventions Used in This Document">
<link href="#rfc.section.3" rel="Chapter" title="3 Extensible syntax for VALARM">
<link href="#rfc.section.4" rel="Chapter" title="4 VALARM Unique Identifier">
<link href="#rfc.section.5" rel="Chapter" title="5 VALARM URI Action">
<link href="#rfc.section.6" rel="Chapter" title="6 VALARM Agent Property">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Alarm Agent Property">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 ID Property Parameter">
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 Examples">
<link href="#rfc.section.7" rel="Chapter" title="7 VALARM Acknowledged Property">
<link href="#rfc.section.7.1" rel="Chapter" title="7.1 Acknowledged Property">
<link href="#rfc.section.7.2" rel="Chapter" title="7.2 Examples">
<link href="#rfc.section.8" rel="Chapter" title="8 Snoozing Alarms">
<link href="#rfc.section.9" rel="Chapter" title="9 VALARM Proximity Trigger Property">
<link href="#rfc.section.9.1" rel="Chapter" title="9.1 Proximity Property">
<link href="#rfc.section.9.2" rel="Chapter" title="9.2 Geo Location Property">
<link href="#rfc.section.9.3" rel="Chapter" title="9.3 Examples">
<link href="#rfc.section.10" rel="Chapter" title="10 Default Alarms in CalDAV">
<link href="#rfc.section.11" rel="Chapter" title="11 Security Considerations">
<link href="#rfc.section.12" rel="Chapter" title="12 IANA Considerations">
<link href="#rfc.section.12.1" rel="Chapter" title="12.1 Property Registrations">
<link href="#rfc.section.12.2" rel="Chapter" title="12.2 Parameter Registrations">
<link href="#rfc.section.12.3" rel="Chapter" title="12.3 Actions Registry">
<link href="#rfc.section.13" rel="Chapter" title="13 Acknowledgments">
<link href="#rfc.references" rel="Chapter" title="14 References">
<link href="#rfc.references.1" rel="Chapter" title="14.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="14.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Change History (To be removed by RFC Editor before publication)">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document defines a set of extensions to the iCalendar VALARM component to enhance use of alarms and improve interoperability between clients and servers.  " />
  <meta name="description" content="This document defines a set of extensions to the iCalendar VALARM component to enhance use of alarms and improve interoperability between clients and servers.  " />
  <meta name="keywords" content="alarms, calendaring, iCalendar, CalDAV" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">C. Daboo</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Apple</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">May 03, 2011</td>
</tr>
<tr>
<td class="left">Expires: November 04, 2011</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">VALARM Extensions for iCalendar<br />
  <span class="filename">draft-daboo-valarm-extensions-03</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document defines a set of extensions to the iCalendar VALARM component to enhance use of alarms and improve interoperability between clients and servers.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on November 04, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Conventions Used in This Document</a>
</li>
<li>3.   <a href="#rfc.section.3">Extensible syntax for VALARM</a>
</li>
<li>4.   <a href="#rfc.section.4">VALARM Unique Identifier</a>
</li>
<li>5.   <a href="#rfc.section.5">VALARM URI Action</a>
</li>
<li>6.   <a href="#rfc.section.6">VALARM Agent Property</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Alarm Agent Property</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">ID Property Parameter</a>
</li>
<li>6.3.   <a href="#rfc.section.6.3">Examples</a>
</li>
<li>7.   <a href="#rfc.section.7">VALARM Acknowledged Property</a>
</li>
<li>7.1.   <a href="#rfc.section.7.1">Acknowledged Property</a>
</li>
<li>7.2.   <a href="#rfc.section.7.2">Examples</a>
</li>
<li>8.   <a href="#rfc.section.8">Snoozing Alarms</a>
</li>
<li>9.   <a href="#rfc.section.9">VALARM Proximity Trigger Property</a>
</li>
<li>9.1.   <a href="#rfc.section.9.1">Proximity Property</a>
</li>
<li>9.2.   <a href="#rfc.section.9.2">Geo Location Property</a>
</li>
<li>9.3.   <a href="#rfc.section.9.3">Examples</a>
</li>
<li>10.   <a href="#rfc.section.10">Default Alarms in CalDAV</a>
</li>
<li>11.   <a href="#rfc.section.11">Security Considerations</a>
</li>
<li>12.   <a href="#rfc.section.12">IANA Considerations</a>
</li>
<li>12.1.   <a href="#rfc.section.12.1">Property Registrations</a>
</li>
<li>12.2.   <a href="#rfc.section.12.2">Parameter Registrations</a>
</li>
<li>12.3.   <a href="#rfc.section.12.3">Actions Registry</a>
</li>
<li>13.   <a href="#rfc.section.13">Acknowledgments</a>
</li>
<li>14.   <a href="#rfc.references">References</a>
</li>
<li>14.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>14.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Change History (To be removed by RFC Editor before publication)</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">The <a href="#RFC5545">iCalendar</a> <cite title="NONE">[RFC5545]</cite> specification defines a set of components used to describe calendar data. One of those is the "VALARM" component which appears as a sub-component of "VEVENT" and "VTODO" components. The "VALARM" component is used to specify a reminder for an event or to-do. Different alarm actions are possible, as are different ways to specify how the alarm is triggered.  </p>
<p id="rfc.section.1.p.2">As iCalendar has become more widely used and as client-server protocols such as <a href="#RFC4791">CalDAV</a> <cite title="NONE">[RFC4791]</cite> have become more popular, several issues with "VALARM" components have arisen. Most of these relate to the need to extend the existing "VALARM" component with new properties and behaviors to allow clients and servers to accomplish specific tasks in an interoperable manner. For example, clients typically need a way to specify that an alarm has been dismissed by a calendar user, or has been "snoozed" by a set amount of time. To date, this has been done through the use of custom "X-" properties specific to each client implementation, leading to poor interoperability.  </p>
<p id="rfc.section.1.p.3">This specification defines a set of extensions to "VALARM" components to cover common requirements for alarms not currently addressed in iCalendar. Each extension is defined in a separate section below. For the most part, each extension can be supported independently of the others, though in some cases one extension will require another. In addition, this specification describes mechanisms by which clients can interoperably implement common features such as "snoozing".  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Conventions Used in This Document</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.  </p>
<p id="rfc.section.2.p.2">When XML element types in the namespaces "DAV:" and "urn:ietf:params:xml:ns:caldav" are referenced in this document outside of the context of an XML fragment, the string "DAV:" and "CALDAV:" will be prefixed to the element type names respectively.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#syntax" id="syntax">Extensible syntax for VALARM</a>
</h1>
<p id="rfc.section.3.p.1">Section 3.6.6 of <a href="#RFC5545">[RFC5545]</a> defines the syntax for "VALARM" components and properties within them. However, as written, it is hard to extend this by adding, e.g., a new property common to all types of alarm. Since many of the extensions defined in this document need to extend the base syntax, an alternative form for the base syntax is defined here, with the goal of simplifying specification of the extensions.  </p>
<div id="#rfc.figure.1"></div>
<pre>
alarmcext  = "BEGIN" ":" "VALARM" CRLF
             alarmprop
             "END" ":" "VALARM" CRLF

alarmprop  = *(

             ; the following are REQUIRED,
             ; but MUST NOT occur more than once

             action / trigger /

             ; one set of action properties MUST be
             ; present and MUST match the action specified
             ; in the ACTION property

             actionprops /

             ; the following is OPTIONAL,
             ; and MAY occur more than once

             x-prop / iana-prop

             )
        
actionprops = audiopropext / disppropext / emailpropext

audiopropext  = *(

                ; 'duration' and 'repeat' are both OPTIONAL,
                ; and MUST NOT occur more than once each,
                ; but if one occurs, so MUST the other
        
                duration / repeat /
        
                ; the following is OPTIONAL,
                ; but MUST NOT occur more than once
        
                attach
        
                )

disppropext = *(

              ; the following are REQUIRED,
              ; but MUST NOT occur more than once
       
              description /
        
              ; 'duration' and 'repeat' are both OPTIONAL,
              ; and MUST NOT occur more than once each,
              ; but if one occurs, so MUST the other
        
              duration / repeat
        
              )

emailpropext = *(

               ; the following are all REQUIRED,
               ; but MUST NOT occur more than once
        
               description / summary /
        
               ; the following is REQUIRED,
               ; and MAY occur more than once
        
               attendee /
        
               ; 'duration' and 'repeat' are both OPTIONAL,
               ; and MUST NOT occur more than once each,
               ; but if one occurs, so MUST the other
        
               duration / repeat
        
               )
</pre>
<p id="rfc.section.3.p.2">A "VALARM" calendar component is re-defined by the following notation: </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> VALARM Unique Identifier</h1>
<p id="rfc.section.4.p.1">Several of the other extensions in this specification require identifying a specific instance of a "VALARM" component in an iCalendar stream. To aid that, this extension adds a "UID" property to "VALARM" components to allow a unique identifier to specified. The value of this property can then be used to refer uniquely to the "VALARM" component.  </p>
<p id="rfc.section.4.p.2">The "UID" property defined here follows the definition in Section 3.8.4.7 of <a href="#RFC5545">[RFC5545]</a>. In particular it MUST be a globally unique identifier.  </p>
<div id="#rfc.figure.2"></div>
<pre>
alarmprop  /= *(

              ; the following is OPTIONAL,
              ; but MUST NOT occur more than once

              uid

              )
</pre>
<p id="rfc.section.4.p.3">The "VALARM" component defined in <a href="#syntax">Section 3</a> is extended here as: </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#URI-ACTION" id="URI-ACTION">VALARM URI Action</a>
</h1>
<p id="rfc.section.5.p.1">Currently "VALARM" components have actions for audio, display and email. New types of action are of interest, e.g., SMS, instant messaging, etc. Rather then specify separate actions for these, an alternative is to define a "URI" action that allows any URI scheme to be used as an action, where it makes sense. Thus URI schemes for IM <a href="#RFC3860">[RFC3860]</a>, SIP <a href="#RFC3261">[RFC3261]</a>, TEL <a href="#RFC3966">[RFC3966]</a> etc could be used.  </p>
<div id="#rfc.figure.3"></div>
<pre>
actionvalue /= "URI"
               ; Adds a new action for a "VALARM"

actionprop  /= uriprop
               ; Re-defines the "VALARM" component to include
               ; "uriprop" as a new set of action properties 

uriprop     = *(

               ; the following is REQUIRED,
               ; and MUST occur only once

               uri /

               ; 'duration' and 'repeat' are both OPTIONAL,
               ; and MUST NOT occur more than once each,
               ; but if one occurs, so MUST the other

               duration / repeat

               )
</pre>
<p id="rfc.section.5.p.2">This extension defines a new "URI" property value for use with the "ACTION" property in "VALARM" components. A new set of action properties is defined for "VALARM" components based on this new action as defined by the syntax below.  </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> VALARM Agent Property</h1>
<p id="rfc.section.6.p.1">With the advent of a standard client/server protocol for calendaring and scheduling data (<a href="#RFC4791">[RFC4791]</a>) there is a need to specify which client or server should handle the presentation of an alarm when it is triggered. For example, calendar users want to be able to receive alarms at all times, even when their desktop client might be unavailable. Since the server is "always on", a service running on the server could monitor alarm status and, when appropriate, trigger those alarms. In addition it may be important for only the server or the client to be set to handle an alarm - and in some cases only specific servers or clients.  </p>
<div id="#rfc.figure.4"></div>
<pre>
alarmprop  /= *(

              ; the following is OPTIONAL,
              ; and MAY occur more than once

              alarm-agent

              )
</pre>
<p id="rfc.section.6.p.2">To address this need, this specification defines an "ALARM-AGENT" iCalendar property that can be added to any "VALARM" component. This property specifies whether a client or server or both should be responsible for processing the alarm when it triggers. In addition, a "ID" property parameter can be added to uniquely identify the client or server that should process the alarm. This is defined by the syntax below.  </p>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> <a href="#ALARM-AGENT" id="ALARM-AGENT">Alarm Agent Property</a>
</h1>
<div id="#rfc.figure.5"></div>
<pre>
alarm-agent     = "ALARM-AGENT" alarmagentparam ":"
                  alarmagentvalue CRLF

alarmagentparam = *(
    
                  ; the following is OPTIONAL,
                  ; but MUST NOT occur more than once
    
                  (";" idparam) /
    
                  ; the following is OPTIONAL,
                  ; and MAY occur more than once
    
                  (";" other-param)
    
                  )

alarmagentvalue = "SERVER" / "CLIENT" / "BOTH" / "NONE" /
                  iana-token / x-name
</pre>
<div id="#rfc.figure.6"></div>
<pre>
ALARM-AGENT:SERVER
ALARM-AGENT;ID="tag:example.com,2011:cyrus-desktop":CLIENT
</pre>
<p></p>

<dl>
<dt>Property Name:</dt>
<dd style="margin-left: 8">ALARM-AGENT </dd>
<dt>Purpose:</dt>
<dd style="margin-left: 8">This property specifies whether a client, server, both or none gets to process an alarm when it is triggered.  </dd>
<dt>Value Type:</dt>
<dd style="margin-left: 8">TEXT </dd>
<dt>Property Parameters:</dt>
<dd style="margin-left: 8">IANA, non-standard, and id property parameters can be specified on this property.  </dd>
<dt>Conformance:</dt>
<dd style="margin-left: 8">This property can be specified within "VALARM" calendar components.  </dd>
<dt>Description:</dt>
<dd style="margin-left: 8">This property is used to specify who is responsible for processing an alarm when it is triggered. When the value "SERVER" is specified, only a server that has a copy of the event is responsible. When the value "CLIENT" is specified, only a client that has a copy of the event is responsible. When the value "BOTH" is specified, either a client or server is responsible. When the value "NONE" is specified, neither a client nor server is responsible (i.e., the alarm action is never carried out when it triggers).  <br><br> If the "ID" property parameter is specified for "SERVER" or "CLIENT" values, then only the client or server identified by the "ID" value is responsible. Clients or servers that are not responsible for the alarm SHOULD NOT process the alarm action when it is triggered. If multiple clients or servers need to be specified, then the "ALARM-AGENT" property should be included multiple times in the "VALARM" component, with each one containing the appropriate "ID" property parameter value to identify each client or server.  <br><br> In the absence of this property clients and servers can choose to process the alarm themselves as appropriate. i.e., a default value of "BOTH".  <br><br> This property MAY occur more than once to allow multiple processors of an alarm.  </dd>
<dt>Format Definition:</dt>
<dd style="margin-left: 8">This property is defined by the following notation: </dd>
<dt>Example:</dt>
<dd style="margin-left: 8">The following are examples of this property: </dd>
</dl>

<p> </p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> <a href="#ID-PARAM" id="ID-PARAM">ID Property Parameter</a>
</h1>
<div id="#rfc.figure.7"></div>
<pre>
idparam   = "ID" "=" DQUOTE uri DQUOTE
</pre>
<div id="#rfc.figure.8"></div>
<pre>
ALARM-AGENT;ID="http://calendar.example.com":SERVER
</pre>
<p></p>

<dl>
<dt>Parameter Name:</dt>
<dd style="margin-left: 8">ID </dd>
<dt>Purpose:</dt>
<dd style="margin-left: 8">This property parameter specifies a URI identifier for the property it is applied to.  </dd>
<dt>Format Definition:</dt>
<dd style="margin-left: 8">This property parameter is defined by the following notation: </dd>
<dt>Description:</dt>
<dd style="margin-left: 8">This property parameter is used to specify a URI identifier that is associated with the property it is applied to. Each property that allows this parameter to be specified MUST indicate what the value of the URI represents.  </dd>
<dt>Example:</dt>
<dd style="margin-left: 8">The following is an example of this property parameter: </dd>
</dl>

<p> </p>
<h1 id="rfc.section.6.3">
<a href="#rfc.section.6.3">6.3.</a> Examples</h1>
<p id="rfc.section.6.3.p.1">TODO Example of VALARM components</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> VALARM Acknowledged Property</h1>
<p id="rfc.section.7.p.1">There is currently no way for a "VALARM" component to indicate  whether it has been triggered and acknowledged or not. With the advent of a standard client/server protocol for calendaring and scheduling data (<a href="#RFC4791">[RFC4791]</a>) it is quite possible for an event with an alarm to exist on multiple clients in addition to the server. If each of those is responsible for performing the action when an alarm triggers then multiple "alerts" are generated by different devices. In such a situation a calendar user would like to be able to "dismiss" the alarm on one device and have it dismissed on the others too.  </p>
<p id="rfc.section.7.p.2">Also, with recurring events that have alarms, it is important to know when the last alarm in the recurring set was acknowledged, so that the client can determine whether past alarms have been missed.  </p>
<div id="#rfc.figure.9"></div>
<pre>
alarmprop       /= *(

                   ; the following is OPTIONAL,
                   ; but MUST NOT occur more than once

                   acknowledged

                   )
</pre>
<p id="rfc.section.7.p.3">To address these needs, this specification adds an "ACKNOWLEDGED" property to "VALARM" components to indicate when the alarm was last sent or acknowledged. This is defined by the syntax below.  </p>
<h1 id="rfc.section.7.1">
<a href="#rfc.section.7.1">7.1.</a> <a href="#ACKNOWLEDGED" id="ACKNOWLEDGED">Acknowledged Property</a>
</h1>
<div id="#rfc.figure.10"></div>
<pre>
acknowledged = "ACKNOWLEDGED" acknowledgedparam ":" datetime CRLF
 
acknowledgedparam  = *(

                     ; the following is OPTIONAL,
                     ; and MAY occur more than once

                     (";" other-param)

                     )
</pre>
<div id="#rfc.figure.11"></div>
<pre>
ACKNOWLEDGED:20090604T084500Z
</pre>
<p></p>

<dl>
<dt>Property Name:</dt>
<dd style="margin-left: 8">ACKNOWLEDGED </dd>
<dt>Purpose:</dt>
<dd style="margin-left: 8">This property specifies the UTC date and time at which the corresponding alarm was last sent or acknowledged.  </dd>
<dt>Value Type:</dt>
<dd style="margin-left: 8">DATE-TIME </dd>
<dt>Property Parameters:</dt>
<dd style="margin-left: 8">IANA and non-standard property parameters can be specified on this property.  </dd>
<dt>Conformance:</dt>
<dd style="margin-left: 8">This property can be specified within "VALARM" calendar components.  </dd>
<dt>Description:</dt>
<dd style="margin-left: 8">This property is used to specify when an alarm was last sent or acknowledged. This allows clients to determine when a pending alarm has been acknowledged by a calendar user so that any alerts can be dismissed across multiple devices. It also allows clients to track repeating alarms or alarms on recurring events or to-dos to ensure that the right number of missed alarms can be tracked.  </dd>
<dt></dt>
<dd style="margin-left: 8">Clients SHOULD set this property to the current date-time value in UTC when a calendar user acknowledges a pending alarm. Certain kinds of alarm may not provide feedback as to when the calendar user sees them, for example email based alerts. For those kinds of alarms, the client SHOULD set this property when the alarm is triggered and the action successfully carried out.  </dd>
<dt>Format Definition:</dt>
<dd style="margin-left: 8">This property is defined by the following notation: </dd>
<dt>Example:</dt>
<dd style="margin-left: 8">The following is an example of this property: </dd>
</dl>

<p> </p>
<h1 id="rfc.section.7.2">
<a href="#rfc.section.7.2">7.2.</a> Examples</h1>
<p id="rfc.section.7.2.p.1">TODO Example of VALARM components</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> Snoozing Alarms</h1>
<p id="rfc.section.8.p.1">Users often want to "snooze" an alarm. That process effectively creates a new alarm to be triggered a set amount of time after the original being "snoozed". To accomplish this, clients SHOULD create a new "VALARM" component within the same component of the "VALARM" that was triggered and is being "snoozed". The new "VALARM" MUST be set to trigger at the user's chosen "snooze" interval after the original alarm triggered. To accomplish that clients SHOULD use an absolute "TRIGGER" property with a "DATE-TIME" value specified in UTC. When the "snooze" alarm is triggered and dismissed the client SHOULD remove it from its parent component. Alternatively, if the "snooze" alarm is itself "snoozed", the client SHOULD remote the original "snooze" alarm and create a new one, with the appropriate trigger time set.  </p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> VALARM Proximity Trigger Property</h1>
<p id="rfc.section.9.p.1">VALARMs are currently triggered when a specific date-time is reached. It is also desirable to be able to trigger alarms based on location, e.g. when arriving at or departing from a particular location.  </p>
<div id="#rfc.figure.12"></div>
<pre>
alarmprop       /= *(

                   ; the following is OPTIONAL,
                   ; but MUST NOT occur more than once

                   proximity /

                   ; the following is OPTIONAL,
                   ; and MAY occur more than once, but only
                   ; when a PROXIMITY property is also present

                   geolocation

                   )
</pre>
<p id="rfc.section.9.p.2">This specification adds the following properties to "VALARM" components to indicate when an alarm can be triggered based on location.  </p>

<ul class="empty">
<li>"PROXIMITY" - indicates that a location based trigger is to be used and which direction of motion is used for the trigger</li>
<li>"GEO-LOCATION" - used to indicate the actual location to trigger off, specified using a <a href="#RFC5870">geo: URI</a> <cite title="NONE">[RFC5870]</cite> which allows for two or three co-ordinate values with an optional uncertainty</li>
</ul>

<p> </p>
<h1 id="rfc.section.9.1">
<a href="#rfc.section.9.1">9.1.</a> <a href="#PROXIMITY" id="PROXIMITY">Proximity Property</a>
</h1>
<div id="#rfc.figure.13"></div>
<pre>
proximity = "PROXIMITY" proximityparam ":" proximityvalue CRLF
 
proximityparam  = *(

                  ; the following is OPTIONAL,
                  ; and MAY occur more than once

                  (";" other-param)

                  )
                  
proximityvalue  = "ARRIVE" / "DEPART" / iana-token / x-name
</pre>
<div id="#rfc.figure.14"></div>
<pre>
PROXIMITY:ARRIVE
</pre>
<p></p>

<dl>
<dt>Property Name:</dt>
<dd style="margin-left: 8">PROXIMITY </dd>
<dt>Purpose:</dt>
<dd style="margin-left: 8">This property indicates that a location based trigger is applied to an alarm.  </dd>
<dt>Value Type:</dt>
<dd style="margin-left: 8">TEXT </dd>
<dt>Property Parameters:</dt>
<dd style="margin-left: 8">IANA and non-standard property parameters can be specified on this property.  </dd>
<dt>Conformance:</dt>
<dd style="margin-left: 8">This property can be specified within "VALARM" calendar components.  </dd>
<dt>Description:</dt>
<dd style="margin-left: 8">This property is used to indicate that an alarm has a location-based trigger. Its value identifies the direction of motion used to trigger the alarm. One or more location values are set using "GEO-LOCATION" properties.  </dd>
<dt></dt>
<dd style="margin-left: 8">When the property value is set to "ARRIVE", the alarm is triggered when the calendar user agent arrives in the vicinity of any of the specified locations. When set to "DEPART", the alarm is triggered when the calendar user agent departs from the vicinity of any specified locations.  </dd>
<dt></dt>
<dd style="margin-left: 8">The time-based "TRIGGER" property MUST also be present in the "VALARM" calendar component and MUST be set to a positive duration value (or zero duration). That value indicates a time delay to be applied to the triggering of the alarm after the location trigger is triggered. e.g., an alarm could be set to trigger 30 minutes after arriving home.  </dd>
<dt>Format Definition:</dt>
<dd style="margin-left: 8">This property is defined by the following notation: </dd>
<dt>Example:</dt>
<dd style="margin-left: 8">The following is an example of this property: </dd>
</dl>

<p> </p>
<h1 id="rfc.section.9.2">
<a href="#rfc.section.9.2">9.2.</a> <a href="#GEO-LOCATION" id="GEO-LOCATION">Geo Location Property</a>
</h1>
<div id="#rfc.figure.15"></div>
<pre>
geolocation = "GEO-LOCATION" geolocationparam ":" uri CRLF
 
geolocationparam  = *(

                     ; the following is OPTIONAL,
                     ; and MAY occur more than once

                     (";" other-param)

                     )
</pre>
<div id="#rfc.figure.16"></div>
<pre>
GEO-LOCATION:geo:40.443,-79.945;u=10
</pre>
<p></p>

<dl>
<dt>Property Name:</dt>
<dd style="margin-left: 8">GEO-LOCATION </dd>
<dt>Purpose:</dt>
<dd style="margin-left: 8">This property specifies a <a href="#RFC5870">geo: URI</a> <cite title="NONE">[RFC5870]</cite> value.  </dd>
<dt>Value Type:</dt>
<dd style="margin-left: 8">URI </dd>
<dt>Property Parameters:</dt>
<dd style="margin-left: 8">IANA and non-standard property parameters can be specified on this property.  </dd>
<dt>Conformance:</dt>
<dd style="margin-left: 8">This property can be specified multiple times within "VALARM" calendar components, but only when a "PROXIMITY" property is also present.  </dd>
<dt>Description:</dt>
<dd style="margin-left: 8">This property is used to specify a precise geo-location that location aware calendar user agents can use to trigger an alarm. The location is set using a <a href="#RFC5870">geo: URI</a> <cite title="NONE">[RFC5870]</cite> which can include a level of uncertainty (e.g., it can specify the "vicinity" of a specific location). Calendar user agents MAY apply their own tolerance to the specified location based on their current location value precision.  </dd>
<dt>Format Definition:</dt>
<dd style="margin-left: 8">This property is defined by the following notation: </dd>
<dt>Example:</dt>
<dd style="margin-left: 8">The following is an example of this property: </dd>
</dl>

<p> </p>
<h1 id="rfc.section.9.3">
<a href="#rfc.section.9.3">9.3.</a> Examples</h1>
<p id="rfc.section.9.3.p.1">TODO Example of VALARM components</p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> Default Alarms in CalDAV</h1>
<p id="rfc.section.10.p.1">Users often want to have a default alarm applied to new events that they create or to new invitations that arrive on a <a href="#RFC4791">CalDAV</a> <cite title="NONE">[RFC4791]</cite> server. Since this behavior is expected to occur no matter which client a user is using, or whether any client is even connected at the time, it is beneficial if the server itself is responsible for managing the creation of the default alarm.</p>
<p id="rfc.section.10.p.2">This specification defines four new WebDAV properties that can be used to specify different sets of default alarms. Clients can store "VALARM" components in these properties to setup the defaults. When a new event or todo is created on the server, the server will automatically add the default, as appropriate. When a new event or todo invitation is delivered to the calendar user, the server will automatically add the default alarm, as appropriate.  </p>
<p id="rfc.section.10.p.3">The four new WebDAV properties are: </p>

<dl>
<dt>CALDAV:default-alarm-vevent-datetime</dt>
<dd style="margin-left: 8">A default alarm applied to "VEVENT" components whose "DTSTART" property value type is "DATE-TIME"</dd>
<dt>CALDAV:default-alarm-vevent-date</dt>
<dd style="margin-left: 8">A default alarm applied to "VEVENT" components whose "DTSTART" property value type is "DATE"</dd>
<dt>CALDAV:default-alarm-vtodo-datetime</dt>
<dd style="margin-left: 8">A default alarm applied to "VTODO" components whose "DUE" or "DTSTART" property value type is "DATE-TIME"</dd>
<dt>CALDAV:default-alarm-vtodo-date</dt>
<dd style="margin-left: 8">A default alarm applied to "VTODO" components whose "DUE" or "DTSTART" property value type is "DATE", or when neither of those properties is present</dd>
</dl>

<p> </p>
<p id="rfc.section.10.p.4">The WebDAV properties are defined on a calendar user's "calendar home" collection, or on individual calendar collections. When events or tasks are created in a calendar, the server will first inspect the WebDAV properties on the calendar collection to see if the appropriate property is present. If it is, the server will use the value of that property to set the default in the new component. If the property is not present on the calendar collection, the server will determine whether the property is present on the calendar home collection that contains the calendar collection. If present on the calendar home, the property value there is used as the default.  </p>
<p id="rfc.section.10.p.5">The WebDAV property value MUST be one or more "VALARM" components or the empty string. If an empty string is used, no default alarms are applied. Note that these values contain just the "BEGIN:VALARM...END:VALARM" data (i.e., syntactically the "alarmcext" element).  </p>
<p id="rfc.section.10.p.6">If a "DESCRIPTION" property is present in the "VALARM" component, but its value is empty, the server SHOULD insert the value from any "SUMMARY" property of the component in which the default "VALARM" is being added.  </p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> Security Considerations</h1>
<p id="rfc.section.11.p.1">TODO:talk about importance of stripping VALARMs from incoming iTIP. Talk about VALARMs being used to "spam" - particularly nasty if the server handles it.  </p>
<h1 id="rfc.section.12">
<a href="#rfc.section.12">12.</a> IANA Considerations</h1>
<h1 id="rfc.section.12.1">
<a href="#rfc.section.12.1">12.1.</a> Property Registrations</h1>
<p id="rfc.section.12.1.p.1">This document defines the following new iCalendar properties to be added to the registry defined in Section 8.2.3 of <a href="#RFC5545">[RFC5545]</a>: </p>
<div id="#rfc.table.1"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<thead><tr>
<th class="left">Property</th>
<th class="left">Status</th>
<th class="left">Reference</th>
</tr></thead>
<tbody>
<tr>
<td class="left">ALARM-AGENT</td>
<td class="left">Current</td>
<td class="left">RFCXXXX, <a href="#ALARM-AGENT">Section 6.1</a>
</td>
</tr>
<tr>
<td class="left">ACKNOWLEDGED</td>
<td class="left">Current</td>
<td class="left">RFCXXXX, <a href="#ACKNOWLEDGED">Section 7.1</a>
</td>
</tr>
<tr>
<td class="left">PROXIMITY</td>
<td class="left">Current</td>
<td class="left">RFCXXXX, <a href="#PROXIMITY">Section 9.1</a>
</td>
</tr>
<tr>
<td class="left">GEO-LOCATION</td>
<td class="left">Current</td>
<td class="left">RFCXXXX, <a href="#GEO-LOCATION">Section 9.2</a>
</td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.12.2">
<a href="#rfc.section.12.2">12.2.</a> Parameter Registrations</h1>
<p id="rfc.section.12.2.p.1">This document defines the following new iCalendar property parameters to be added to the registry defined in Section 8.2.4 of <a href="#RFC5545">[RFC5545]</a>: </p>
<div id="#rfc.table.2"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<thead><tr>
<th class="left">Property Parameter</th>
<th class="left">Status</th>
<th class="left">Reference</th>
</tr></thead>
<tbody><tr>
<td class="left">ID</td>
<td class="left">Current</td>
<td class="left">RFCXXXX, <a href="#ID-PARAM">Section 6.2</a>
</td>
</tr></tbody>
</table>
<h1 id="rfc.section.12.3">
<a href="#rfc.section.12.3">12.3.</a> Actions Registry</h1>
<p id="rfc.section.12.3.p.1">This document defines the following new iCalendar action to be added to the registry defined in Section 8.3.10 of <a href="#RFC5545">[RFC5545]</a>: </p>
<div id="#rfc.table.3"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<thead><tr>
<th class="left">Action</th>
<th class="left">Status</th>
<th class="left">Reference</th>
</tr></thead>
<tbody><tr>
<td class="left">URI</td>
<td class="left">Current</td>
<td class="left">RFCXXXX, <a href="#URI-ACTION">Section 5</a>
</td>
</tr></tbody>
</table>
<h1 id="rfc.section.13">
<a href="#rfc.section.13">13.</a> Acknowledgments</h1>
<p id="rfc.section.13.p.1">This specification came about via discussions at the Calendaring and Scheduling Consortium. Also, thanks to the following for providing feedback: Bernard Desruisseaux, Mike Douglass, Jeffrey Harris, and Ciny Joy.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">14.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">14.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4791">[RFC4791]</b></td>
<td class="top">
<a href="mailto:cyrus@daboo.name" title="Apple Inc.">Daboo, C.</a>, <a href="mailto:bernard.desruisseaux@oracle.com" title="Oracle Corporation">Desruisseaux, B.</a> and <a href="mailto:ldusseault@commerce.net" title="CommerceNet">L.M. Dusseault</a>, "<a href="http://tools.ietf.org/html/rfc4791">Calendaring Extensions to WebDAV (CalDAV)</a>", RFC 4791, March 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5545">[RFC5545]</b></td>
<td class="top">
<a>Desruisseaux, B.</a>, "<a href="http://tools.ietf.org/html/rfc5545">Internet Calendaring and Scheduling Core Object Specification (iCalendar)</a>", RFC 5545, September 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5870">[RFC5870]</b></td>
<td class="top">
<a>Mayrhofer, A.</a> and <a>C. Spanring</a>, "<a href="http://tools.ietf.org/html/rfc5870">A Uniform Resource Identifier for Geographic Locations ('geo' URI)</a>", RFC 5870, June 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">14.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3860">[RFC3860]</b></td>
<td class="top">
<a>Peterson, J.</a>, "<a href="http://tools.ietf.org/html/rfc3860">Common Profile for Instant Messaging (CPIM)</a>", RFC 3860, August 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3966">[RFC3966]</b></td>
<td class="top">
<a>Schulzrinne, H.</a>, "<a href="http://tools.ietf.org/html/rfc3966">The tel URI for Telephone Numbers</a>", RFC 3966, December 2004.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Change History (To be removed by RFC Editor before publication)</h1>
<p id="rfc.section.Appendix A.p.1">Changes in -02: </p>

<ol>
<li>Updated to 5545 reference.</li>
<li>Clarified use of absolute trigger in UTC in snooze alarms</li>
<li>Snooze alarms should be removed when completed</li>
<li>Removed status and replaced last-triggered by acknowledged property</li>
<li>Added location-based trigger</li>
<li>IANA registry tables added</li>
</ol>

<p> </p>
<p id="rfc.section.Appendix A.p.2">Changes in -01: </p>

<ol>
<li>Removed DESCRIPTION as an allowed property in the URI alarm.</li>
<li>Added statement about what to do when ALARM-AGENT is not present.</li>
<li>Allow multiple ALARM-AGENT properties to be present.</li>
<li>Removed SNOOZE-UNTIL - snoozing now accomplished by creating a new VALARM.</li>
<li>Remove VALARM by reference section.</li>
<li>Added more detail to CalDAV default alarms.</li>
</ol>

<p> </p>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Cyrus Daboo</span> 
	  <span class="n hidden">
		<span class="family-name">Daboo</span>
	  </span>
	</span>
	<span class="org vcardline">Apple Inc.  </span>
	<span class="adr">
	  <span>1 Infinite Loop </span>

	  <span class="vcardline">
		<span class="locality">Cupertino </span>,  
		<span class="region">CA </span> 
		<span class="code">95014 </span>
	  </span>
	  <span class="country-name vcardline">USA </span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:cyrus@daboo.name%20">cyrus@daboo.name </a></span>

<span class="vcardline">URI: <a href="http://www.apple.com/%20">http://www.apple.com/ </a></span>

  </address>
</div>

</body>
</html>