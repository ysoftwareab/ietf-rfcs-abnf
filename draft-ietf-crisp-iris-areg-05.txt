

Network Working Group                                          A. Newton
Internet-Draft                                            VeriSign, Inc.
Expires: August 15, 2004                               February 15, 2004


    IRIS - An Address Registry (areg) Type for the Internet Registry
                          Information Service
                     draft-ietf-crisp-iris-areg-05

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 15, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

Abstract

   This document describes an IRIS registry schema for IP address
   information.  The schema extends the necessary query and result
   operations of IRIS to provide the functional information service
   needs for syntaxes and results used by Internet Protocol address
   registries.









Newton                  Expires August 15, 2004                 [Page 1]

Internet-Draft                 iris-areg                   February 2004


Table of Contents

   1.    Introduction . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.    Document Terminology . . . . . . . . . . . . . . . . . . . .  4
   3.    Schema Description . . . . . . . . . . . . . . . . . . . . .  5
   3.1   Query Derivatives  . . . . . . . . . . . . . . . . . . . . .  5
   3.1.1 <findContacts> Query . . . . . . . . . . . . . . . . . . . .  5
   3.1.2 <findOrganizations>, <findAutonomousSystems>, and
         <findNetworks> . . . . . . . . . . . . . . . . . . . . . . .  5
   3.1.3 <findNetworkByAddress> . . . . . . . . . . . . . . . . . . .  5
   3.2   Result Derivatives . . . . . . . . . . . . . . . . . . . . .  6
   3.2.1 <ipv4Network> and <ipv6Network> Results  . . . . . . . . . .  6
   3.2.2 <autonomousSystem> Result  . . . . . . . . . . . . . . . . .  7
   3.2.3 <contact> Result . . . . . . . . . . . . . . . . . . . . . .  7
   3.2.4 <organization> Result  . . . . . . . . . . . . . . . . . . .  8
   3.2.5 Contact References . . . . . . . . . . . . . . . . . . . . .  9
   3.2.6 Common Result Child Elements . . . . . . . . . . . . . . . .  9
   3.3   Support for <iris:lookupEntity>  . . . . . . . . . . . . . .  9
   4.    Terminology for Nesting of Networks  . . . . . . . . . . . . 11
   5.    Formal XML Syntax  . . . . . . . . . . . . . . . . . . . . . 13
   6.    BEEP Transport Compliance  . . . . . . . . . . . . . . . . . 25
   6.1   Message Pattern  . . . . . . . . . . . . . . . . . . . . . . 25
   6.2   Server Authentication  . . . . . . . . . . . . . . . . . . . 25
   7.    URI Resolution . . . . . . . . . . . . . . . . . . . . . . . 26
   7.1   Application Service Label  . . . . . . . . . . . . . . . . . 26
   7.2   Bottom-Up Resolution . . . . . . . . . . . . . . . . . . . . 26
   7.3   Top-Down Resolution  . . . . . . . . . . . . . . . . . . . . 26
   8.    Internationalization Considerations  . . . . . . . . . . . . 28
   9.    IANA Considerations  . . . . . . . . . . . . . . . . . . . . 29
   10.   Security Considerations  . . . . . . . . . . . . . . . . . . 30
         References . . . . . . . . . . . . . . . . . . . . . . . . . 31
         Author's Address . . . . . . . . . . . . . . . . . . . . . . 32
   A.    Example Requests and Responses . . . . . . . . . . . . . . . 33
   A.1   Example 1  . . . . . . . . . . . . . . . . . . . . . . . . . 33
   A.2   Example 2  . . . . . . . . . . . . . . . . . . . . . . . . . 34
   B.    Acknowledgements . . . . . . . . . . . . . . . . . . . . . . 38
         Intellectual Property and Copyright Statements . . . . . . . 39














Newton                  Expires August 15, 2004                 [Page 2]

Internet-Draft                 iris-areg                   February 2004


1. Introduction

   This document describes an IRIS namespace for Internet address
   registries using an XML Schema [5] derived from and using the IRIS
   [9] schema.  This schema and registry type are provided to
   demonstrate the extensibility of the IRIS framework beyond the use of
   domains, a criteria defined in CRISP [11].

   The schema given is this document is specified using the Extensible
   Markup Language (XML) 1.0 as described in XML [2], XML Schema
   notation as described in XML_SD [4] and XML_SS [5], and XML
   Namespaces as described in XML_NS [3].

   Examples of client/server XML exchanges with this registry type are
   available in Appendix A.




































Newton                  Expires August 15, 2004                 [Page 3]

Internet-Draft                 iris-areg                   February 2004


2. Document Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [8].














































Newton                  Expires August 15, 2004                 [Page 4]

Internet-Draft                 iris-areg                   February 2004


3. Schema Description

   IRIS requires the derivation of both query and result elements by a
   registry schema.  These descriptions follow.

   The descriptions contained within this section refer to XML elements
   and attributes and their relation to the exchange of data within the
   protocol.  These descriptions also contain specifications outside the
   scope of the formal XML syntax.  Therefore, this section will use
   terms defined by RFC 2119 [8] to describe the specification outside
   the scope of the formal XML syntax.  While reading this section,
   please reference Section 5 for needed details on the formal XML
   syntax.

3.1 Query Derivatives

3.1.1 <findContacts> Query

   <findContacts> searches for contacts given search constraints.

   The child element <commonName> allows the search to be constrained
   against the name of the contact.  This element may either have as
   children the <exactMatch> element or the <beginsWith> and <endsWith>
   elements.

   <eMail> constrains the query based on the e-mail address of the
   contact.  This may be done by an exact e-mail address using the
   <exactMatch> element or by any e-mail address in a domain using the
   <inDomain> element.  The <inDomain> element MUST only contain a valid
   domain according to RFC 1035 [1] (i.e.  no '@' symbol).

3.1.2 <findOrganizations>, <findAutonomousSystems>, and <findNetworks>

   The <findOrganizations>, <findAutonomousSystesm>, and <findNetworks>
   elements allow searches by name of organizations, autonomous systems,
   and networks, respectively.  All three have the same format.

   The child element <name> may either have as children the <exactMatch>
   element or the <beginsWith> and <endsWith> elements.

3.1.3 <findNetworkByAddress>

   The <findNetworkByAddress> element is a query for a network given a
   related IP address, IP address range, or network handle.  It has the
   following child elements:

   o  <networkHandle> - contains the handle of a network.




Newton                  Expires August 15, 2004                 [Page 5]

Internet-Draft                 iris-areg                   February 2004


   o  <ipv4Address> - has a child <start> element containing the
      starting IPv4 address of the network and an optional child of
      <end> containing the ending IPv4 address of the network.

   o  <ipv6Address> - same as <ipv4Address> but the child addresses
      contain IPv6 addresses.  Clients MUST convert any short-form
      notation to the fully-qualified notation.

   o  <ipv4CIDR> - contains an IPv4 CIDR block address.

   o  <ipv6CIDR> - contains an IPv6 CIDR block address.  Clients MUST
      convert any short-form notation to the fully-qualified notation.

   o  <specificity> - determines the network specificity for the search
      (see Section 4).  Valid values are "less", "least", "more", and
      "most".  This element may have the optional attribute
      'allowEquivalences'.  When set to "true", the result set should
      include networks with equivalent starting and ending addresses.

   The results from this query MUST be either the <ipv4Network> result
   or the <ipv6Network> result.  More than one network result MAY be
   returned.

3.2 Result Derivatives

3.2.1 <ipv4Network> and <ipv6Network> Results

   The <ipv4Network> and <ipv6Network> share a common defintion of
   'ipNetworkType'.  It has the following child elements:

   o  <networkHandle> contains the registry-unique assigned handle for
      this network.

   o  <name> contains a human friendly name for the network.

   o  <cidrAddress> contains the network address of the network in CIDR
      notation form.

   o  <startAddress> contains the first IP address of the network.

   o  <endAddress> contains the last IP address of the network.

   o  <networkType> contains a string denoting the type of network.

   o  One or more <nameServer> elements, each containing a name, either
      IP address or domain name, of a nameserver responsible for
      reverse-DNS mapping for this network.




Newton                  Expires August 15, 2004                 [Page 6]

Internet-Draft                 iris-areg                   February 2004


   o  <organization> contains an entity reference to the organization
      assigned this network.  The referent MUST be an <organization>
      (Section 3.2.4) result.

   o  One of:

      *  <parent> contains an entity reference to the parent network of
         this network.  The referent MUST be an <ipv4Network> (Section
         3.2.1) result if this reference is a child of <ipv4Network>.
         The referent MUST be an <ipv6Network> (Section 3.2.1) result if
         this reference is a child of <ipv6Network>.

      *  <noParent> contains no children and simply signifies that the
         network does not have a parent.

   o  Contact references (see Section 3.2.5).

   o  Common child elements (see Section 3.2.6).


3.2.2 <autonomousSystem> Result

   The <autonomousSystem> element represents an assigned autonomous
   system.  It has the following children:

   o  <asHandle> contains a registry-unique assigned handle for this
      autonomous system.

   o  <asNumberStart> contains an integer indicating the starting number
      for the autonomous system.

   o  <asNumberEnd> contains an integer indicating the ending number for
      the autonomous system.

   o  <name> contains a human friendly name of this autonomous system.

   o  <organization> contains an entity reference to the organization
      assigned this autonomous system.  The referent MUST be an
      <organization> (Section 3.2.4) result.

   o  Contact references (see Section 3.2.5).

   o  Common child elements (see Section 3.2.6).


3.2.3 <contact> Result

   The <contact> element represents the registration of a point of



Newton                  Expires August 15, 2004                 [Page 7]

Internet-Draft                 iris-areg                   February 2004


   contact.  It has the following child elements:

   o  <contactHandle> contains the registry-unique assigned handle for
      this contact.

   o  Either <firstName>, <middleName>, and <lastName> or <role>.  The
      first three elements specify the name of the contact broken down
      into the common components of a persons name.  The latter element,
      <role>, specifies that the contact is a group of people given the
      responsibility described by this element.

   o  <eMail> contains the email address for this contact.

   o  <sip> contains the sip address for this contact.

   o  <organization> contains an entity reference to the organization
      associated with this contact.  The referent MUST be an
      <organization> (Section 3.2.4) result.

   o  <phone> contains child elements describing the phone number of the
      contact.  The child elements are <number>, <extension>, and
      <type>.

   o  Common child elements (see Section 3.2.6).


3.2.4 <organization> Result

   The <organization> element represents an organization responsible for
   network resources.  It has the following child elements:

   o  <name> contains the name of the organization.

   o  <id> contains a registry-unique identifier for this organization.

   o  <address> contains the street address for this organization.

   o  <city> contains the city where this organization is located.

   o  <region> contains the national region where this organization is
      located.

   o  <postalCode> contains the postal code where this organization is
      located.

   o  <country> contains the country code where this organization is
      located.  This MUST be compliant with ISO 3166 [12].




Newton                  Expires August 15, 2004                 [Page 8]

Internet-Draft                 iris-areg                   February 2004


   o  Contact references (see Section 3.2.5).

   o  Common child elements (see Section 3.2.6).


3.2.5 Contact References

   The registry schema defined in Section 5 normalizes out a group of
   elements used to reference contacts.  This group is used by many of
   the result types for this registry.  The group has the following
   elements, each of which may appear as many times as needed.  The
   referent of each MUST be <contact> (Section 3.2.3) results.

   o  <adminContact>

   o  <techContact>

   o  <nocContact>

   o  <abuseContact>

   o  <otherContact>


3.2.6 Common Result Child Elements

   The registry schema defined in Section 5 normalizes out a group of
   common elements used most of the reult types.  The group has the
   following elements:

   o  <numberResourceRegistry> contains an entity reference to the
      number resource registry of record.  The referent MUST be an
      <organization> (Section 3.2.4) result.

   o  <registrationDate> contains the date of first registration.

   o  <lastUpdatedDate> contains the date when the registration was last
      updated.

   o  The <iris:seeAlso> element contains an entity reference specifying
      an entity that is indirectly associated with this result object.


3.3 Support for <iris:lookupEntity>

   The following types of entity classes are recognized by the
   <lookupEntity> query of IRIS for this registry:




Newton                  Expires August 15, 2004                 [Page 9]

Internet-Draft                 iris-areg                   February 2004


   o  ipv4-handle - a registry unique identifier specifying an IPv4
      network.  Queries with these names will yield a <ipv4Network>
      result.

   o  ipv6-handle - a registry unique identifier specifying an IPv6
      network.  Queries with these names will yield a <ipv6Network>
      result.

   o  autonomous-system - the positive integer (ASN) specifying an
      autonomous system.  It yields a result of <autonomousSystem>.

   o  as-handle - a registry unique identifier specifying an autonomous
      system.  It yields a result of <autonomousSystem>.

   o  contact-handle - a registry unique identifier of a contact.
      Yields a result of <contact>.

   o  organization-id - a registry unique identifier of an organization.
      Yields a result of <organization>.

   o  The entity names of these entity classes are case insensitive.






























Newton                  Expires August 15, 2004                [Page 10]

Internet-Draft                 iris-areg                   February 2004


4. Terminology for Nesting of Networks

   The following terms are defined for describing the nesting of IP
   networks.

   o  More specific: Given two networks, A and B, A is more specific
      than B if network B includes all space of network A, and if
      network B is larger than network A.

   o  Less specific: Opposite of more specific.  The network B is less
      specific than network A if network A's all space is included in
      network B and if network A is smaller than network B.

   o  Most specific: Given a set of networks, the network or networks
      that are more specific than zero or more of other networks in the
      set, and that are not a less specific of any of the networks in
      the set.

   o  Least specific: Given a set of networks, the network or networks
      that are not more specific to any of the other networks in the
      set.

   Examples:

   +-------------------------------------------------------+
   |                                                       |
   | Given the networks A, B, C and D as follows:          |
   |                                                       |
   |    A    |---------------------------------|           |
   |    B                    |-----------------|           |
   |    C                       |---------|                |
   |    D      |-------|                                   |
   |                                                       |
   |                                                       |
   | The network A is less specific than B, C and D.       |
   | The network B is more specific than A.                |
   | Among these four networks, A is the least specific,   |
   |   and C and D are the most specific networks.         |
   |                                                       |
   +-------------------------------------------------------+

                      Figure 1: Nesting Example 1









Newton                  Expires August 15, 2004                [Page 11]

Internet-Draft                 iris-areg                   February 2004


   +-------------------------------------------------------+
   |                                                       |
   | Given the networks E, F and G:                        |
   |                                                       |
   |    E   |----------|                                   |
   |    F                |--------------|                  |
   |    G     |---|                                        |
   |                                                       |
   | The networks E and F are least specific networks.     |
   | The networks F and G are most specific networks.      |
   |                                                       |
   +-------------------------------------------------------+

                      Figure 2: Nesting Example 2





































Newton                  Expires August 15, 2004                [Page 12]

Internet-Draft                 iris-areg                   February 2004


5. Formal XML Syntax

   This IP address registry is specified in the XML Schema notation.
   The formal syntax presented here is a complete schema representation
   suitable for automated validation of an XML instance when combined
   with the formal schema syntax of IRIS.


   <?xml version="1.0"?>
   <schema xmlns="http://www.w3.org/2001/XMLSchema"
           xmlns:areg="urn:ietf:params:xml:ns:areg1"
           xmlns:iris="urn:ietf:params:xml:ns:iris1"
           targetNamespace="urn:ietf:params:xml:ns:areg1"
           elementFormDefault="qualified" >

     <import namespace="urn:ietf:params:xml:ns:iris1" />

     <annotation>
       <documentation>
         IP address registry schema
         derived from IRIS schema
       </documentation>
     </annotation>

     <!-- ========================================= -->
     <!--                                           -->
     <!-- Query Types                               -->
     <!--                                           -->
     <!-- ========================================= -->

     <!--                                           -->
     <!-- Find Organizations By Name                -->
     <!-- Find Autonomous Systems By Name           -->
     <!-- Find Networks By Name                     -->
     <!--                                           -->

     <complexType
       name="findByNameType" >
       <complexContent>
         <extension
           base="iris:queryType">
           <sequence>
             <element
               name="name"
               type="areg:exactOrPartialMatchParameter" />
           </sequence>
         </extension>
       </complexContent>



Newton                  Expires August 15, 2004                [Page 13]

Internet-Draft                 iris-areg                   February 2004


     </complexType>

     <element
       name="findOrganizations"
       type="areg:findByNameType"
       substitutionGroup="iris:query" />

     <element
       name="findNetworks"
       type="areg:findByNameType"
       substitutionGroup="iris:query" />

     <element
       name="findAutonomousSystems"
       type="areg:findByNameType"
       substitutionGroup="iris:query" />

     <!--                                           -->
     <!-- Address/Address Range type for            -->
     <!--   Find Network                            -->
     <!--                                           -->

     <complexType
       name="addressRangeType">
       <sequence>
         <element
           name="start"
           type="token" />
         <element
           name="end"
           type="token"
           minOccurs="0"
           maxOccurs="1" />
       </sequence>
     </complexType>

     <!--                                           -->
     <!-- Find Networks By Address                  -->
     <!--                                           -->

     <complexType
       name="findNetworksByAddressType" >
       <complexContent>
         <extension
           base="iris:queryType">
           <sequence>
             <choice>
               <element



Newton                  Expires August 15, 2004                [Page 14]

Internet-Draft                 iris-areg                   February 2004


                 name="networkHandle"
                 type="token" />
               <element
                 name="ipv4Address"
                 type="areg:addressRangeType" />
               <element
                 name="ipv4CIDR"
                 type="token" />
               <element
                 name="ipv6Address"
                 type="areg:addressRangeType" />
               <element
                 name="ipv6CIDR"
                 type="token" />
             </choice>
             <element
               name="specificity">
               <complexType>
                 <simpleContent>
                   <extension
                     base="areg:specificityType" >
                     <attribute
                       name="allowEquivalences"
                       type="boolean"
                       default="false" />
                   </extension>
                 </simpleContent>
               </complexType>
             </element>
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="findNetworksByAddress"
       type="areg:findNetworksByAddressType"
       substitutionGroup="iris:query" />

     <simpleType
       name="specificityType">
       <restriction
         base="string">
           <enumeration
             value="less" />
           <enumeration
             value="least" />
           <enumeration



Newton                  Expires August 15, 2004                [Page 15]

Internet-Draft                 iris-areg                   February 2004


             value="more" />
           <enumeration
             value="most" />
       </restriction>
     </simpleType>

     <!--                                           -->
     <!-- Find Contacts                             -->
     <!--                                           -->

     <complexType
       name="findContactsType">
       <complexContent>
         <extension
           base="iris:queryType">
           <choice>
             <element
               name="commonName"
               type="areg:exactOrPartialMatchParameter" />
             <element
               name="eMail"
               type="areg:domainResourceParameter" />
           </choice>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="findContacts"
       type="areg:findContactsType"
       substitutionGroup="iris:query" />

     <complexType
       name="exactOrPartialMatchParameter">
       <choice>
         <group
           ref="areg:partialMatchGroup" />
         <group
           ref="areg:exactMatchGroup" />
       </choice>
     </complexType>

     <complexType
       name="domainResourceParameter" >
       <choice>
         <group
           ref="areg:exactMatchGroup" />
         <element



Newton                  Expires August 15, 2004                [Page 16]

Internet-Draft                 iris-areg                   February 2004


           name="inDomain"
           type="token" />
       </choice>
     </complexType>

     <group
       name="partialMatchGroup">
       <sequence>
         <element
           name="beginsWith"
           minOccurs="1"
           maxOccurs="1" >
           <simpleType>
             <restriction
               base="token">
               <minLength
                 value="1"/>
             </restriction>
           </simpleType>
         </element>
         <element
           name="endsWith"
           minOccurs="0"
           maxOccurs="1" >
           <simpleType>
             <restriction
               base="token">
               <minLength
                 value="1"/>
             </restriction>
           </simpleType>
         </element>
       </sequence>
     </group>

     <group
       name="exactMatchGroup">
       <sequence>
         <element
           name="exactMatch"
           type="normalizedString" />
       </sequence>
     </group>

     <!-- ========================================= -->
     <!--                                           -->
     <!-- Result Types                              -->
     <!--                                           -->



Newton                  Expires August 15, 2004                [Page 17]

Internet-Draft                 iris-areg                   February 2004


     <!-- ========================================= -->

     <!--                                           -->
     <!-- IPv4 & IPv6 Network Results               -->
     <!--                                           -->

     <complexType
       name="ipNetworkType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="networkHandle"
               type="token" />
             <element
               name="name"
               minOccurs="0"
               maxOccurs="1"
               type="normalizedString" />
             <element
               name="cidrAddress"
               type="token"
               minOccurs="1"
               maxOccurs="unbounded" />
             <element
               name="startAddress"
               type="token" />
             <element
               name="endAddress"
               type="token" />
             <element
               name="networkType"
               type="normalizedString" />
             <element
               name="nameServer"
               type="normalizedString"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="organization"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <choice
               minOccurs="0"
               maxOccurs="1" >
               <element



Newton                  Expires August 15, 2004                [Page 18]

Internet-Draft                 iris-areg                   February 2004


                 name="parent"
                 type="iris:entityType" />
               <element
                 name="noParent">
                 <complexType/>
               </element>
             </choice>
             <group
               ref="areg:contactGroup" />
             <group
               ref="areg:commonGroup" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="ipv4Network"
       type="areg:ipNetworkType"
       substitutionGroup="iris:result" />

     <element
       name="ipv6Network"
       type="areg:ipNetworkType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Autonomous System                         -->
     <!--                                           -->

     <complexType
       name="autonomousSystemType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="asHandle"
               type="token" />
             <element
               name="asNumberStart"
               type="integer"
               minOccurs="1"
               maxOccurs="1" />
             <element
               name="asNumberEnd"
               type="integer"
               minOccurs="0"



Newton                  Expires August 15, 2004                [Page 19]

Internet-Draft                 iris-areg                   February 2004


               maxOccurs="1" />
             <element
               name="name"
               type="normalizedString"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="organization"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <group
               ref="areg:contactGroup" />
             <group
               ref="areg:commonGroup" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="autonomousSystem"
       type="areg:autonomousSystemType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Contact                                   -->
     <!--                                           -->

     <complexType
       name="contactType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="contactHandle"
               type="token" />
             <choice>
               <sequence>
                 <element
                   name="firstName"
                   type="normalizedString"
                   minOccurs="0"
                   maxOccurs="1" />
                 <element
                   name="middleName"
                   minOccurs="0"



Newton                  Expires August 15, 2004                [Page 20]

Internet-Draft                 iris-areg                   February 2004


                   maxOccurs="1"
                   type="normalizedString" />
                 <element
                   name="lastName"
                   type="normalizedString" />
               </sequence>
               <element
                 name="role"
                 type="normalizedString" />
             </choice>
             <element
               name="eMail"
               type="normalizedString"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="sip"
               type="normalizedString"
               minOccurs="0"
               maxOccurs="unbounded" />
             <element
               name="organization"
               type="iris:entityType"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="phone"
               minOccurs="0"
               maxOccurs="unbounded" >
               <complexType>
                 <sequence>
                   <element
                     name="number"
                     type="normalizedString" />
                   <element
                     name="extension"
                     type="normalizedString"
                     minOccurs="0"
                     maxOccurs="unbounded" />
                   <element
                     name="type"
                     type="normalizedString" />
                 </sequence>
               </complexType>
             </element>
             <group
               ref="areg:commonGroup" />
           </sequence>



Newton                  Expires August 15, 2004                [Page 21]

Internet-Draft                 iris-areg                   February 2004


         </extension>
       </complexContent>
     </complexType>

     <element
       name="contact"
       type="areg:contactType"
       substitutionGroup="iris:result" />

     <!--                                           -->
     <!-- Organization                              -->
     <!--                                           -->

     <complexType
       name="organizationType">
       <complexContent>
         <extension
           base="iris:resultType">
           <sequence>
             <element
               name="name"
               type="normalizedString" />
             <element
               name="id"
               type="token" />
             <element name="address"
               type="string"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="city"
               type="string"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="region"
               type="string"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="postalCode"
               type="normalizedString"
               minOccurs="0"
               maxOccurs="1" />
             <element
               name="country"
               type="token"
               minOccurs="0"



Newton                  Expires August 15, 2004                [Page 22]

Internet-Draft                 iris-areg                   February 2004


               maxOccurs="1" />
             <group
               ref="areg:contactGroup" />
             <group
               ref="areg:commonGroup" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element
       name="organization"
       type="areg:organizationType"
       substitutionGroup="iris:result" />

     <group
       name="contactGroup">
       <sequence>
         <element
           name="adminContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="techContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="nocContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="abuseContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
         <element
           name="otherContact"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="unbounded" />
       </sequence>
     </group>

     <group
       name="commonGroup">



Newton                  Expires August 15, 2004                [Page 23]

Internet-Draft                 iris-areg                   February 2004


       <sequence>
         <element
           name="numberResourceRegistry"
           type="iris:entityType"
           minOccurs="0"
           maxOccurs="1" />
         <element
           name="registrationDate"
           type="dateTime"
           minOccurs="0"
           maxOccurs="1" />
         <element
           name="lastUpdatedDate"
           type="dateTime"
           minOccurs="0"
           maxOccurs="1" />
         <element
           ref="iris:seeAlso"
           minOccurs="0"
           maxOccurs="unbounded" />
       </sequence>
     </group>

   </schema>

                                Figure 3

























Newton                  Expires August 15, 2004                [Page 24]

Internet-Draft                 iris-areg                   February 2004


6. BEEP Transport Compliance

   IRIS allows several extensions of the core capabilities.  This
   section outlines those extensions allowable by IRIS-BEEP [10].

6.1 Message Pattern

   This registry type uses the default message pattern as described in
   IRIS-BEEP [10].

6.2 Server Authentication

   This registry type uses the default server authentication method as
   described in IRIS-BEEP [10].





































Newton                  Expires August 15, 2004                [Page 25]

Internet-Draft                 iris-areg                   February 2004


7. URI Resolution

7.1 Application Service Label

   The application service label associated with this registry type MUST
   be "AREG1".  This is the abbreviated form the URN for this registry
   type, urn:ietf:params:xml:ns:areg1.

7.2 Bottom-Up Resolution

   The bottom-up alternative resolution method MUST be identified as
   'bottom' in IRIS URI's.

   The process for this resolution method differs from the
   direct-resolution method if the authority is only an IP address (i.e.
   without the port number).  The process for this condition is as
   follows:

   1.  The IP address is converted into a domain name appropriate for
       the reverse DNS tree mapping.  For instance, 64.83.37.226 is
       226.37.83.64.in-addr.arpa.

   2.  The IRIS [9] direct resolution process is tried on this
       reverse-map domain name.

   3.  If no records are found, then the left-most component of the
       reverse-map domain name is removed, and the second step is
       repeated again (e.g.  "37.83.64.in-addr.arpa" )

   4.  If all the components of the reverse-map domain name from step
       one are removed and no records are found, then the original IP
       address is used and the port number used is the well-known port
       for the default protocol of IRIS.


7.3 Top-Down Resolution

   The top-down alternative resolution method MUST be identified as
   'top' in IRIS URI's.

   The process for this resolution method differs from the
   direct-resolution method if the authority is only an IP address (i.e.
   without the port number).  The process for this condition is as
   follows:

   1.  The IP address is converted into a domain name appropriate for
       the reverse DNS tree mapping.  For instance, 64.83.37.226 is
       226.37.83.64.in-addr.arpa.



Newton                  Expires August 15, 2004                [Page 26]

Internet-Draft                 iris-areg                   February 2004


   2.  The reverse-map domain name is reduced to the appropriate least
       two components (e.g.  "in-addr.arpa").

   3.  The IRIS [9] direct resolution method is tried on this
       reverse-map domain name.

   4.  If no records are found, then the component in the original
       reverse-map domain name to the right of the left-most component
       of this reverse-map domain name is prepended, and the third step
       is repeated (e.g.  if "in-addr.arpa" then "64.in-addr.arpa", if
       "64.in-addr.arpa" then "83.64.in-addr.arpa").

   5.  If all the components of the original reverse-map domain name
       from step one are present and no records are found, then the
       original IP address is used and the port number used is the
       well-known port for the default protocol of IRIS.



































Newton                  Expires August 15, 2004                [Page 27]

Internet-Draft                 iris-areg                   February 2004


8. Internationalization Considerations

   This document lays out no new considerations for internationalization
   beyond that specified in IRIS [9].















































Newton                  Expires August 15, 2004                [Page 28]

Internet-Draft                 iris-areg                   February 2004


9. IANA Considerations

   The following URN will need to be registered with IANA according to
   the IANA considerations defined in IRIS [9]:

      urn:ietf:params:xml:ns:areg1

   The following NAPSTR application service label will need to be
   registered with IANA according to the IANA considerations defined in
   IRIS [9]:

      AREG1







































Newton                  Expires August 15, 2004                [Page 29]

Internet-Draft                 iris-areg                   February 2004


10. Security Considerations

   This document lays out no new considerations for security precautions
   beyond that specified in IRIS [9].















































Newton                  Expires August 15, 2004                [Page 30]

Internet-Draft                 iris-areg                   February 2004


References

   [1]   Mockapetris, P., "Domain names - implementation and
         specification", STD 13, RFC 1035, November 1987.

   [2]   World Wide Web Consortium, "Extensible Markup Language (XML)
         1.0", W3C XML, February 1998, <http://www.w3.org/TR/1998/
         REC-xml-19980210>.

   [3]   World Wide Web Consortium, "Namespaces in XML", W3C XML
         Namespaces, January 1999, <http://www.w3.org/TR/1999/
         REC-xml-names-19990114>.

   [4]   World Wide Web Consortium, "XML Schema Part 2: Datatypes", W3C
         XML Schema, October 2000, <http://www.w3.org/TR/2001/
         REC-xmlschema-2-20010502/>.

   [5]   World Wide Web Consortium, "XML Schema Part 1: Structures", W3C
         XML Schema, October 2000, <http://www.w3.org/TR/2001/
         REC-xmlschema-1-20010502/>.

   [6]   Reynolds, J. and J. Postel, "ASSIGNED NUMBERS", RFC 1700, STD
         2, October 1994.

   [7]   Narten, T. and H. Alvestrand, "Guidelines for Writing an IANA
         Considerations Section in RFCs", RFC 2434, BCP 26, October
         1998.

   [8]   Bradner, S., "Key words for use in RFCs to Indicate Requirement
         Levels", RFC 2119, BCP 14, March 1997.

   [9]   Newton, A., "Internet Registry Information Service",
         draft-ietf-crisp-iris-core-01 (work in progress), November
         2002.

   [10]  Newton, A., "Internet Registry Information Service (IRIS) over
         the Blocks Extensible Exchange Protocol (BEEP)",
         draft-ietf-crisp-iris-beep-01 (work in progress), November
         2002.

   [11]  Newton, A., "Cross Registry Internet Service Protocol (CRISP)
         Requirements", draft-ietf-crisp-requirements-01 (work in
         progress), October 2002.

   [12]  International Organization for Standardization, "Codes for the
         representation of names of countries, 3rd edition", ISO
         Standard 3166, August 1988.




Newton                  Expires August 15, 2004                [Page 31]

Internet-Draft                 iris-areg                   February 2004


Author's Address

   Andrew L. Newton
   VeriSign, Inc.
   21345 Ridgetop Circle
   Sterling, VA  20166
   USA

   Phone: +1 703 948 3382
   EMail: andy@hxr.us; anewton@verisignlabs.com









































Newton                  Expires August 15, 2004                [Page 32]

Internet-Draft                 iris-areg                   February 2004


Appendix A. Example Requests and Responses

   The examples in this section use the string "C:" to denote data sent
   by a client to a server and the string "S:" to denote data sent by a
   server to a client.

A.1 Example 1

   The following is an example of entity lookup for the contact-handle
   of 'JN560-ARIN'.

   C: <?xml version="1.0"?>
   C: <request xmlns="urn:ietf:params:xml:ns:iris1"
   C:   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   C:   xsi:schemaLocation="urn:ietf:params:xml:ns:iris1 iris.xsd" >
   C:
   C:   <searchSet>
   C:
   C:     <lookupEntity
   C:       registryType="urn:ietf:params:xml:ns:areg1"
   C:       entityClass="contact-handle"
   C:       entityName="JN560-ARIN" />
   C:
   C:   </searchSet>
   C:
   C: </request>

   S: <?xml version="1.0"?>
   S: <iris:response
   S:   xmlns:iris="urn:ietf:params:xml:ns:iris1"
   S:   xmlns="urn:ietf:params:xml:ns:areg1"
   S:   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   S:
   S:   <iris:resultSet>
   S:     <iris:answer>
   S:
   S:       <contact
   S:         authority="arin.net"
   S:         registryType="areg1"
   S:         entityClass="contact-handle"
   S:         entityName="JN560-ARIN">
   S:
   S:         <contactHandle>JN560-ARIN</contactHandle>
   S:
   S:         <firstName>John</firstName>
   S:         <lastName>Niland</lastName>
   S:
   S:         <organization



Newton                  Expires August 15, 2004                [Page 33]

Internet-Draft                 iris-areg                   February 2004


   S:           iris:referentType="organization"
   S:           authority="arin.net"
   S:           registryType="areg1"
   S:           entityClass="organization-id"
   S:           entityName="VERIS">
   S:           <iris:displayName
   S:             language="en">
   S:             VeriSign, Inc.
   S:           </iris:displayName>
   S:         </organization>
   S:
   S:         <phone>
   S:           <number>+1-703-948-4300</number>
   S:           <type>office</type>
   S:         </phone>
   S:
   S:       </contact>
   S:
   S:     </iris:answer>
   S:   </iris:resultSet>
   S:
   S: </iris:response>

                          Figure 4: Example 1


A.2 Example 2

   The following example shows a query to find the IP networks
   containing a given address.

   C: <?xml version="1.0"?>
   C: <request xmlns="urn:ietf:params:xml:ns:iris1"
   C:          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   C:
   C:   <searchSet>
   C:     <findNetworksByAddress
   C:       xmlns="urn:ietf:params:xml:ns:areg1">
   C:
   C:       <ipv4Address>
   C:         <start>65.201.175.9</start>
   C:       </ipv4Address>
   C:
   C:       <specificity allowEquivalences="true">most</specificity>
   C:
   C:     </findNetworksByAddress>
   C:   </searchSet>
   C:



Newton                  Expires August 15, 2004                [Page 34]

Internet-Draft                 iris-areg                   February 2004


   C: </request>

   S: <?xml version="1.0"?>
   S: <iris:response xmlns:iris="urn:ietf:params:xml:ns:iris1"
   S:                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   S:
   S:   <iris:resultSet>
   S:     <iris:answer>
   S:       <areg:ipv4Network
   S:         xmlns="urn:ietf:params:xml:ns:areg1"
   S:         xmlns:areg="urn:ietf:params:xml:ns:areg1"
   S:         xsi:schemaLocation="urn:ietf:params:xml:ns:areg1 areg.xsd"
   S:         authority="65.0.0.0" registryType="areg1"
   S:         entityClass="ipv4-handle" entityName="NET-65-201-175-0-1" >
   S:         <networkHandle>
   S:           NET-65-201-175-0-1
   S:         </networkHandle>
   S:         <name>
   S:           UU-65-201-175-D6
   S:         </name>
   S:         <cidrAddress>
   S:           65.201.175.0/24
   S:         </cidrAddress>
   S:         <startAddress>
   S:           65.201.175.0
   S:         </startAddress>
   S:         <endAddress>
   S:           65.201.175.255
   S:         </endAddress>
   S:         <networkType>reassigned</networkType>
   S:         <nameServer>auth03.ns.uu.net</nameServer>
   S:         <nameServer>auth00.ns.uu.net</nameServer>
   S:         <organization
   S:           iris:referentType="areg:organization"
   S:           authority="arin.net" registryType="areg1"
   S:           entityClass="organization-id" entityName="VERIS">
   S:           <iris:displayName language="en">
   S:             VeriSign, Inc.
   S:           </iris:displayName>
   S:         </organization>
   S:         <parent
   S:           iris:referentType="areg:ipv4Network"
   S:           authority="65.0.0.0" registryType="areg1"
   S:           entityClass="ipv4-handle" entityName="NET-65-192-0-0-1"/>
   S:         <techContact
   S:           iris:referentType="areg:contact"
   S:           authority="arin.net" registryType="areg1"
   S:           entityClass="contact-handle" entityName="JN560-ARIN">



Newton                  Expires August 15, 2004                [Page 35]

Internet-Draft                 iris-areg                   February 2004


   S:           <iris:displayName language="en">
   S:             Niland, John
   S:           </iris:displayName>
   S:         </techContact>
   S:         <registrationDate>
   S:           2002-11-18T00:00:00-00:00
   S:         </registrationDate>
   S:         <lastUpdatedDate>
   S:           2002-11-18T00:00:00-00:00
   S:         </lastUpdatedDate>
   S:         <iris:seeAlso
   S:           iris:referentType="ANY"
   S:           authority="arin.net" registryType="areg1"
   S:           entityClass="service-defintion" entityName="portability-notice"/>
   S:       </areg:ipv4Network>
   S:       <areg:ipv4Network
   S:         xmlns="urn:ietf:params:xml:ns:areg1"
   S:         xmlns:areg="urn:ietf:params:xml:ns:areg1"
   S:         xsi:schemaLocation="urn:ietf:params:xml:ns:areg1 areg.xsd"
   S:         authority="65.0.0.0" registryType="areg1"
   S:         entityClass="ipv4-handle" entityName="NET-65-192-0-0-1" >
   S:         <networkHandle>
   S:           NET-65-192-0-0-1
   S:         </networkHandle>
   S:         <name>
   S:           UUNET65
   S:         </name>
   S:         <cidrAddress>
   S:           65.192.0.0/11
   S:         </cidrAddress>
   S:         <startAddress>
   S:           65.192.0.0
   S:         </startAddress>
   S:         <endAddress>
   S:           65.223.255.255
   S:         </endAddress>
   S:         <networkType>direct allocation</networkType>
   S:         <nameServer>auth03.ns.uu.net</nameServer>
   S:         <nameServer>auth00.ns.uu.net</nameServer>
   S:         <organization
   S:           iris:referentType="areg:organization"
   S:           authority="arin.net" registryType="areg1"
   S:           entityClass="organization-id" entityName="UU">
   S:           <iris:displayName language="en">
   S:             UUNET Technologies, Inc.
   S:           </iris:displayName>
   S:         </organization>
   S:         <parent



Newton                  Expires August 15, 2004                [Page 36]

Internet-Draft                 iris-areg                   February 2004


   S:           iris:referentType="areg:ipv4Network"
   S:           authority="65.0.0.0" registryType="areg1"
   S:           entityClass="ipv4-handle" entityName="NET-65-0-0-0-1"/>
   S:         <techContact
   S:           iris:referentType="areg:contact"
   S:           authority="arin.net" registryType="areg1"
   S:           entityClass="contact-handle" entityName="OA12-ARIN" />
   S:         <registrationDate>
   S:           2000-10-27T00:00:00-00:00
   S:         </registrationDate>
   S:         <lastUpdatedDate>
   S:           2002-02-13T00:00:00-00:00
   S:         </lastUpdatedDate>
   S:         <iris:seeAlso
   S:           iris:referentType="ANY"
   S:           authority="arin.net" registryType="areg1"
   S:           entityClass="service-defintion" entityName="portability-notice"/>
   S:       </areg:ipv4Network>
   S:     </iris:answer>
   S:     <iris:additional>
   S:       <iris:simpleEntity
   S:         authority="arin.net" registryType="areg1"
   S:         entityClass="service-definition" entityName="portability-notice" >
   S:         <iris:property name="portability" language="en">
   S:           Addresses within this block are non-portable.
   S:         </iris:property>
   S:       </iris:simpleEntity>
   S:     </iris:additional>
   S:   </iris:resultSet>
   S:
   S: </iris:response>

                          Figure 5: Example 2


















Newton                  Expires August 15, 2004                [Page 37]

Internet-Draft                 iris-areg                   February 2004


Appendix B. Acknowledgements

   Many of the concepts concerning the use of SRV records for step-wise
   refinement towards finding authoritative servers and many of the
   details of result objects in this draft were originally created by
   Eric A.  Hall in his memos regarding the use of LDAP to satisfy the
   CRISP requirements.  These concepts have contributed significantly to
   the development of this protocol.











































Newton                  Expires August 15, 2004                [Page 38]

Internet-Draft                 iris-areg                   February 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Newton                  Expires August 15, 2004                [Page 39]

Internet-Draft                 iris-areg                   February 2004


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Newton                  Expires August 15, 2004                [Page 40]

