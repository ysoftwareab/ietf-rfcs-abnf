                                                                        
Internet-Draft                                           J. Jeong (ed.) 
                                           ETRI/University of Minnesota 
                                                                        
Expires: August 2005                                   18 February 2005 
    
    
           Requirements for Ad Hoc IP Address Autoconfiguration 
               draft-jeong-manet-addr-autoconf-reqts-04.txt 
                                      
    
    
Status of this Memo 
    
   This document is an Internet-Draft and is subject to all provisions 
   of section 3 of RFC 3667.  By submitting this Internet-Draft, each 
   author represents that any applicable patent or other IPR claims of 
   which he or she is aware have been or will be disclosed, and any of 
   which he or she become aware will be disclosed, in accordance with 
   RFC 3668. 
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as 
   Internet-Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other 
   documents at any time.  It is inappropriate to use Internet-Drafts 
   as reference material or to cite them other than as "work in 
   progress." 
    
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt. 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
   This Internet-Draft will expire on August 17, 2005. 
    
Copyright Notice 
    
   Copyright (C) The Internet Society (2005).  All Rights Reserved. 
    
Abstract 
    
   Ad hoc network has no built-in infra-structure for communication 
   among mobile nodes and operates in a stand-alone fashion, or may be 
   connected to the public Internet.  The nodes in ad hoc network need 

 
 
Jeong, et al.            Expires - August 2005                [Page 1] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
   to have the capability to maintain or share all the resources of the
   network in a distributed fashion.  One of the most important 
   resources is the set of IP addresses configured with an addressing 
   scheme.  When a new node joins an ad hoc network, it has to be 
   assigned a unique IP address or autoconfigure its own IP address as 
   part of its initialization.  Since ad hoc network's topology may 
   change unpredictably, it is important to provide a resilient method 
   for providing mobile nodes with such an IP address autoconfiguration
   in distributive environments.  This document specifies the 
   requirements for IP address autoconfiguration in ad hoc networks 
   which have dynamic network topology. 
    
Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [3]. 
    
Table of Contents 
    
   1. Introduction..................................................2 
   2. Terminology...................................................3 
   3. Scenarios of Ad Hoc IP Address Autoconfiguration..............3 
      3.1. Join and Departure of Mobile Nodes.......................3 
      3.2. Network Partitioning and Merging.........................4 
      3.3. Internet Connectivity....................................5 
   4. Requirements for Ad Hoc IP Address Autoconfiguration..........5 
   5. IPv6 Considerations...........................................7 
   6. IANA Considerations...........................................7 
   7. Security Considerations.......................................8 
   8. Open Issues...................................................8 
   9. Acknowledgements..............................................9 
   10. Normative References.........................................9 
   11. Informative References.......................................9 
   12. Authors' Addresses..........................................10 
   13. Intellectual Property Statement.............................11 
   Full Copyright Statement........................................12 
   Acknowledgement.................................................12 
    
1.  Introduction 
    
   IP address configuration is a prerequisite for all the IP networking.
   In ad hoc networks, such a configuration should be performed in every
   mobile node, either manually or automatically.  For convenience sake,
   automatic configuration is needed in mobile ad hoc network. 
    
   In ad hoc networks, having dynamic network topology and being multi-
   hop, the current automatic address configuration schemes used in the
 
 
Jeong, et al.            Expires - August 2005                [Page 2] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
   Internet are difficult to adopt, such as DHCP and IPv6 stateless 
   address autoconfiguration that are based on wired network.  Also, 
   mobile ad hoc network is a kind of an unadministered network where 
   there exists no network administrator who provides network 
   configuration information for users.  In this environment, a mobile 
   node needs to be able to self-configure its IP address by itself. 
    
   This document specifies the requirements for IP address 
   autoconfiguration, considering mobile ad hoc network where there 
   happen the network partitioning and merging frequently.  Also, it 
   considers the addressing for the global connectivity between the 
   mobile ad hoc network and Internet. 
    
2.  Terminology 
    
   Two new terms are defined below: 
    
   Mobile Ad Hoc Network (MANET)    A network where mobile nodes can 
                                    communicate with one another without
                                    preexisting communication 
                                    infrastructure such as base station
                                    or access point. 
    
   Autoconfiguration (Autoconf)     Automatic configuration or 
                                    self-configuration. 
    
3.  Scenarios of Ad Hoc IP Address Autoconfiguration 
    
   There are the scenarios that should be considered in ad hoc IP 
   address autoconfiguration.  Address autoconf protocol needs to deal 
   with the following aspects of the ad hoc environment. 
    
3.1.  Join and Departure of Mobile Nodes 
    
   When a mobile node joins a new MANET, an unused IP address needs to 
   be allocated to or configured in the mobile node.  When the mobile 
   node leaves the MANET, its address may become free for another. 
    
   Requirements: 
    
   o  Address autoconf protocol SHOULD support timely autoconfiguration
      of IP address for a mobile node. 
    
   o  Mobile nodes using address autoconf protocol MUST verify the 
      uniqueness of IP addresses allocated when rebooting or moving into
      a new network. 
    
   o  Address autoconf protocol MAY support mechanisms to probe 
 
 
Jeong, et al.            Expires - August 2005                [Page 3] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
      whether a mobile node moves into another MANET. 
    
   o  Address autoconf protocol MAY get the aid of ad hoc routing 
      protocol so as to minimize the probability that two or more nodes
      will have the same address. 
    
   Implication: 
    
   o  The information needed to autoconfigure IP address must be 
      collected or predefined in the MANET. 
    
3.2.  Network Partitioning and Merging 
    
   Inevitably, a single MANET will be divided into two or more MANET 
   partitions according to the movement of mobile nodes.  Also, these 
   two or more MANET partitions, using the same address autoconf 
   protocol, will be connected together, creating a single merged MANET.
   Prior to the merging, each partition has independently allocated or 
   configured addresses.  After merging, two or more nodes in the merged
   network may happen to have the same address and as a result address 
   conflict may occur potentially. 
    
   Therefore, this network merging must be perceived by mobile node.  In
   the case where some address conflicts exist, such conflicts should be
   resolved. 
    
   Implication: 
    
   o  The detection and resolution of address conflicts is regarded as 
      indispensable in address autoconf protocol operation. 
    
   Requirements: 
    
   o  Ad hoc address autoconf protocol SHOULD detect and resolve address
      conflicts in a timely manner and on an ongoing basis. 
    
   o  Ad hoc address autoconf protocol SHOULD allow conflicted address 
      to be replaced with another. 
    
   o  Ad hoc address autoconf protocol SHOULD minimize the damage, such
      as loss of delivered packets, due to address replacement. 
    
   o  Addresses SHOULD be allocated in a way that minimizes the 
      probability that two or more nodes will have the same address if 
      the autoconf protocol is stateful. 
    
   o  In order to detect duplicate addresses while taking part in 
      routing, ad hoc address autoconf protocol MAY get the aid of ad 
 
 
Jeong, et al.            Expires - August 2005                [Page 4] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
      hoc routing protocol. 
    
   Through address autoconf protocol that detects and resolves the 
   conflicts on an ongoing basis, mobile nodes will benefit from 
   preventing packets from being misrouted due to duplicate addresses, 
   and can be provided consistent routing. 
    
3.3.  Internet Connectivity 
    
   A mobile node may want to communicate with a node placed in the 
   Internet.  In such a case, an Internet gateway providing the Internet
   connectivity can exist in the MANET [4]. 
    
   Requirements: 
    
   o  MANET SHOULD be connected with one or more gateways providing the
      information for the global connectivity to the Internet, such as 
      gateway address, global network prefix and host IP address for 
      mobile node. 
    
   o  Mobile node that desires Internet connectivity SHOULD be assigned
      a globally routable IP address from gateway or be able to 
      autoconfigure its own IP address that is globally unique. 
    
   o  Mobile node MAY use its MANET address to communicate with some 
      nodes in the same MANET, and use its global address to communicate
      with some nodes in the Internet. 
    
   o  Mobile node MAY use its global address such as MIP home address 
      and care-of address to communicate with some nodes in the same 
      MANET [9][10]. 
     
   Implication: 
    
   o  For host DNS name resolution, DNS information, such as the address
      of recursive DNS server, may be delivered to mobile node 
      together with gateway information. 
    
4.  Requirements for Ad Hoc IP Address Autoconfiguration 
    
   Ad hoc IP address autoconfiguration always includes the configuration
   of an IP address and netmask (or network prefix information in IPv6);
   it may include some routing information (such as default route or 
   Internet gateway), considering the global connectivity to the 
   Internet.  IP address autoconfiguration must take place before an IP
   packet can be sent from one node to another.  The sufficient 
   information should be provided by an ad hoc address autoconf protocol

 
 
Jeong, et al.            Expires - August 2005                [Page 5] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
   to allow IP packets to be sent to a unicast destination IP address 
   within a connected MANET partition, consisting of multi hops. 
    
   The following requirements are derived from the scenarios of Section
   3. 
     
   Requirements: An ad hoc address autoconf protocol 
    
   o  MUST configure an appropriate netmask or network prefix 
      information, manually or automatically. 
    
   o  SHOULD be capable of providing IP address for mobile node in a 
      reasonable delay. 
    
   o  SHOULD be capable of discovering whether an IP address is 
      currently being used by other nodes in a limited range of network.
    
   o  SHOULD detect and resolve IP address conflicts in a timely manner
      and on an ongoing basis. 
    
   o  MUST timely verify the uniqueness of IP addresses autoconfigured 
      when rebooting or moving into a new network. 
    
   o  SHOULD be able to deal with address conflict due to manual 
      address configuration. 
    
   o  SHOULD minimize the influence of autoconf traffic on the ongoing 
      MANET communication performance.  For example, when some MANET 
      partitions merge, there may happen broadcast storm by autoconf 
      traffic for duplicate address detection. 
    
   o  MAY get the aid of ad hoc routing protocol so as to minimize 
      the probability that two or more nodes will have the same address.
      A free address should be selected by using the busy address  
      information obtained from the routing protocol when a new address
      is given to a new node without address. 
    
   o  MAY get the aid of ad hoc routing protocol so as to detect 
      duplicate addresses while taking part in routing.  This is an 
      on-going Duplicate Address Detection (DAD) requirement. 
    
   o  SHOULD minimize the modification of existing MANET routing 
      protocol for the support of ad hoc address autoconf. 
    
   o  MAY allocate IP addresses to mobile nodes in a way that 
      minimizes the probability that two or more nodes will have the 
      same address in the same MANET partition if the autoconf protocol
      is stateful. 
 
 
Jeong, et al.            Expires - August 2005                [Page 6] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
    
   o  SHOULD minimize the damage, such as loss of delivered packets, 
      due to address replacement. 
    
   o  SHOULD support the survivability of upper-layer sessions, such as
      TCP, in order to allow the sessions to continue to be maintained.
    
   o  SHOULD support the reclamation of addresses unused any more if 
      the autoconf protocol is stateful.  A unique IP address is 
      assigned to each mobile node only while it stays in the network. 
      When the node departs the network, its IP address MAY become 
      available for assignment to other nodes.  In this case, address  
      autoconf protocol SHOULD reuse the released IP addresses for  
      another node, minimizing the possibility of address conflict. 
    
   o  SHOULD obtain from one or more gateways the information for the 
      global connectivity to the Internet, such as gateway address, 
      global network prefix and host IP address for mobile node. 
    
   o  SHOULD allocate to a mobile node desiring Internet connectivity 
      a globally routable IP address from some gateways or allow it to 
      autoconfigure its own IP address that is globally unique by 
      providing network prefix for it. 
    
   o  MAY let mobile node use its MANET address to communicate with some
      nodes in the same MANET, and use its global address to communicate
      with some nodes in the Internet. 
      
   o  MAY allow mobile node to use its global address such as MIP home 
      address and care-of address to communicate with some nodes in the 
      same MANET [9][10]. 
    
5.  IPv6 Considerations 
    
   IPv6 provides a mechanism that allows a host to generate a link-local
   IP address according to IPv6 stateless address autoconfiguration 
   [5][6].  Thus, this mechanism can be extended to be suitable for 
   MANET [7] or another can be redesigned separately [8].  Also, it is 
   necessary to discuss how to use IPv6 link-local address in a MANET 
   which is logically one subnet consisting of multiple links since the
   usage of IPv6 link-local address is limited in a link. 
    
6.  IANA Considerations 
    
   A unique local address should be used for MANET.  For such a unique 
   local address allocation or configuration, some MANET network 
   prefixes are needed [7][8][11].  For IPv6 address, a link-local 
   address may be kept as it is in IPv6. 
 
 
Jeong, et al.            Expires - August 2005                [Page 7] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
    
7.  Security Considerations 
    
   Ad hoc IP address autoconf protocol SHOULD NOT be any less secure 
   than current IETF-Standard protocols related to IP address 
   autoconfiguration. 
    
   Because of their lack of infrastructure and their strong mobility, 
   mobile ad hoc networks are vulnerable to lots of security attacks. 
   Especially, address autoconf protocol is likely to be a good target 
   for attackers.  For example, it can be the victim of Denial of 
   Service attacks in which a malicious node monopolizes all the 
   addresses or sends the response messages to create address conflicts
   in the network.  Consequently, an ad hoc IP address autoconf protocol
   SHOULD, as much as possible, prevent such attacks. 
    
   Requirements: If the security is needed in address autoconf, an ad 
   hoc address autoconf protocol 
    
   o  SHOULD prevent malicious nodes from monopolizing all addresses of
      a network. 
    
   o  SHOULD prevent malicious nodes from voluntarily creating IP 
      conflicts. 
    
   o  SHOULD make sure that only authorized nodes are configured to have
      working addresses and granted the access to network resources. 
    
   Implication: 
    
   o  A node SHOULD be able to prove at every moment, its membership of
      the network if the autoconf protocol is stateful. 
    
   o  If there remain free addresses on the chosen subnet, the autoconf
      protocol SHOULD be able to always allot an address to a requesting
      node. 
    
8.  Open Issues 
    
   There are some open issues about ad hoc address autoconfiguration as
   follows: 
    
   o  Is there any need to categorize requirements into some classes? 
      Most of the ad hoc address autoconf protocols proposed until now 
      can be categorized into two classes: a) Stateless address 
      autoconf protocol and b) Stateful address autoconf protocol. 
      We need to discuss if we should specify the respective 
      requirements according to each class. 
 
 
Jeong, et al.            Expires - August 2005                [Page 8] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
       
   o  Should we make ad hoc address autoconf protocol completely 
      independent of ad hoc routing protocol or able to get the aid of 
      ad hoc routing protocol?  We can use ad hoc routing protocol to 
      detect address conflict. 
    
   o  Should we consider address conflict in the overlapped MANETs with
      two or more ad hoc routing protocols, such as AODV and OLSR? 
       
   o  Should we consider the possibility to make two different autoconf
      protocols coexist in the same network (e.g., after the mergence 
      of two networks)? 
       
   o  Should we consider the coexistence of the address autoconf 
      protocol using authentication mechanism and that not using 
      authentication mechanism? 
    
    
9.  Acknowledgements 
    
   This draft has greatly benefited from inputs by Charles E. Perkins 
   and Kilian Weniger.  The authors appreciate their contributions. 
    
10.  Normative References 
    
   [1]  S. Bradner, "Intellectual Property Rights in IETF Technology",
        RFC 3668, February 2004.  
    
   [2]  S. Bradner, "IETF Rights in Contributions", RFC 3667, 
        February 2004. 
    
   [3]  S. Bradner, "Key words for use in RFCs to Indicate Requirement 
        Levels", BCP 14, RFC 2119, March 1997. 
    
11.  Informative References 
    
   [4]  R. Wakikawa et al., "Global connectivity for IPv6 Mobile Ad 
        Hoc Networks", draft-wakikawa-manet-globalv6-03.txt, November 
        2002, Work in Progress. 
    
   [5]  T. Narten, E. Nordmark and W. Simpson, "Neighbour Discovery for
        IP version 6", RFC 2461, December 1998. 
    
   [6]  S. Thomson and T. Narten, "IPv6 Stateless Address 
        Autoconfiguration", RFC 2462, December 1998. 
    


 
 
Jeong, et al.            Expires - August 2005                [Page 9] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
   [7]  C. Perkins et al., "IP Address Autoconfiguration for Ad Hoc 
        Networks", draft-ietf-manet-autoconf-01.txt, November 2001, Work
        in Progress. 
    
   [8]  J. Jeong et al., "Ad Hoc IP Address Autoconfiguration", 
        draft-jeong-adhoc-ip-addr-autoconf-04.txt, February 2005, Work
        in Progress. 
    
   [9]  C. Perkins, "IP Mobility Support", RFC 2002, October 1996.  
    
   [10] D. Johnson, C. Perkins and J. Arkko, "Mobility Support in IPv6",
        RFC 3775, June 2004. 
    
   [11] R. Hinden and B. Haberman, "Unique Local IPv6 Unicast 
        Addresses", draft-ietf-ipv6-unique-local-addr-09.txt,
        January 2004, Work in Progress.
    
12.  Authors' Addresses 
    
   Jaehoon Paul Jeong, Editor 
   ETRI/University of Minnesota at Twin Cities 
   117 Pleasant Street SE 
   Minneapolis, MN 55455 
   USA 
    
   Phone: +1 651 587 7774 
   EMail: jjeong@cs.umn.edu 
    
   Jung-Soo Park 
   ETRI / PEC 
   161 Gajeong-dong, Yuseong-gu 
   Daejeon 305-350 
   Korea 
    
   Phone: +82 42 860 6514 
   EMail: pjs@etri.re.kr 
    
   Kenichi Mase 
   Niigata University 
   2-8050 Ikarashi, 
   Niigata-shi, 950-2181 
   Japan 
    
   Phone: +81 25 262 7446 
   EMail: mase@ie.niigata-u.ac.jp 
    
   Youn-Hee Han 
   Samsung Advanced Institute of Technology 


Jeong, et al.            Expires - August 2005               [Page 10] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 


   111, Suwon 440-600  
   Korea 
    
   Phone: +82 31 280 9577 
   EMail: yh21.han@samsung.com 
    
   Badis Hakim 
   LRI Laboratory 
   University of Paris-XI 
   91405 Orsay cedex 
   France 
    
   Phone: 01 69 15 65 91 
   EMail: Hakim.Badis@lri.fr 
    
   Jean-Marie Orset 
   Institut National des Telecommunications 
   9, rue Charles Fourier  
   91 011 Evry 
   France 
    
   Phone: 01 60 76 44 75 
   EMail: jean-marie.orset@int-evry.fr 
    
13.  Intellectual Property Statement 
    
   The following intellectual property notice is copied from RFC 3668, 
   Section 5. 
    
   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed 
   to pertain to the implementation or use of the technology 
   described in this document or the extent to which any license 
   under such rights might or might not be available; nor does it 
   represent that it has made any independent effort to identify any 
   such rights.  Information on the procedures with respect to rights 
   in RFC documents can be found in BCP 78 and BCP 79. 
    
   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use 
   of such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository 
   at http://www.ietf.org/ipr. 
    
   The IETF invites any interested party to bring to its attention 
   any copyrights, patents or patent applications, or other 
   proprietary rights that may cover technology that may be required 
 
 
Jeong, et al.            Expires - August 2005               [Page 11] 
 
Internet-Draft    MANET Address Autoconf Requirements    February 2005 
 
 
   to implement this standard.  Please address the information to the 
   IETF at ietf-ipr@ietf.org. 
    
Full Copyright Statement 
    
   The following copyright notice is copied from RFC 3667, Sections 5.4
   and 5.5.  It describes the applicable copyright for this document.
    
   Copyright (C) The Internet Society (2005).  This document is 
   subject to the rights, licenses and restrictions contained in BCP 
   78, and except as set forth therein, the authors retain all their 
   rights. 
    
   This document and the information contained herein are provided on 
   an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE 
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND 
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, 
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT 
   THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR 
   ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A 
   PARTICULAR PURPOSE. 
    
Acknowledgement 
    
   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 






















 
 
Jeong, et al.            Expires - August 2005               [Page 12] 

