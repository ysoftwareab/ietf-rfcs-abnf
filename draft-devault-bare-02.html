<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Binary Application Record Encoding (BARE)</title>
<meta content="Drew DeVault" name="author">
<meta content="
       
        The Binary Application Record Encoding (BARE) is a data format used to
        represent application records for storage or transmission between
        programs. BARE messages are concise and have a well-defined schema, and
        implementations may be simple and broadly compatible. A schema language
        is also provided to express message schemas out-of-band.
       
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="encoding" name="keyword">
<meta content="bare" name="keyword">
<meta content="draft-devault-bare-02" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-devault-bare-02-zsc_yq1k.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">BARE</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">DeVault</td>
<td class="center">Expires 6 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Internet Engineering Task Force</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-devault-bare-02</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-05" class="published">5 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-06">6 September 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">D. DeVault</div>
<div class="org">SourceHut</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Binary Application Record Encoding (BARE)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
        The Binary Application Record Encoding (BARE) is a data format used to
        represent application records for storage or transmission between
        programs. BARE messages are concise and have a well-defined schema, and
        implementations may be simple and broadly compatible. A schema language
        is also provided to express message schemas out-of-band.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-comments">
<a href="#name-comments" class="section-name selfRef">Comments</a>
      </h2>
<p id="section-note.1-1">
        Comments are solicited and should be addressed to the mailing list at
        ~sircmpwn/public-inbox@lists.sr.ht and/or the author(s).<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 6 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-use-cases" class="xref">Use-cases</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-specification-of-the-bare-m" class="xref">Specification of the BARE Message Encoding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-primitive-types" class="xref">Primitive Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-aggregate-types" class="xref">Aggregate Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-user-defined-types" class="xref">User-Defined Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-invariants" class="xref">Invariants</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-bare-schema-language-specif" class="xref">BARE Schema Language Specification</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-lexical-analysis" class="xref">Lexical Analysis</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-abnf-grammar" class="xref">ABNF Grammar</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-semantic-elements" class="xref">Semantic Elements</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-application-considerations" class="xref">Application Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-future-considerations" class="xref">Future Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-example-values" class="xref">Example Values</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-example-company" class="xref">Example Company</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#appendix-B.1" class="xref">B.1</a>.  <a href="#name-message-schema" class="xref">Message Schema</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#appendix-B.2" class="xref">B.2</a>.  <a href="#name-encoded-messages" class="xref">Encoded Messages</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
        The purpose of the BARE message encoding, like hundreds of others, is
        to encode application messages. The goals of such encodings vary
        (leading to their proliferation); BARE's goals are the following:<a href="#section-1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">Concise messages<a href="#section-1-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.2">A well-defined message schema<a href="#section-1-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.3">Broad compatibility with programming environments<a href="#section-1-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.4">Simplicity of implementation<a href="#section-1-2.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-3">
        This document specifies the BARE message encoding, as well as a schema
        language that may be used to describe the layout of a BARE message. The
        schema of a message must be agreed upon in advance by each party
        exchanging a BARE message; message structure is not encoded into the
        representation. The schema language is useful for this purpose but not
        required.<a href="#section-1-3" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
          "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
          RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
          interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>
          <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in
          all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-1.2">
        <h3 id="name-use-cases">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-use-cases" class="section-name selfRef">Use-cases</a>
        </h3>
<p id="section-1.2-1">
          The goals of a concise, binary, strongly-typed, and
          broadly-compatible structured message encoding format support a broad
          number of use-cases. Examples include:<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.2-2.1">Self-describing authentication tokens for web services<a href="#section-1.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.2-2.2">
            Opaque messages for transmitting arbitrary state between unrelated
            internet services<a href="#section-1.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.2-2.3">A representation for packets in an internet protocol<a href="#section-1.2-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.2-2.4">
            A structured data format for encrypted or signed application
            messages<a href="#section-1.2-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.2-2.5">
            A structured data format for storing data in persistent storage<a href="#section-1.2-2.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-1.2-3">
          The conciseness of a BARE-encoded message enables representing
          structured data under strict limitations on message length in a large
          variety of contexts. The simple binary format may also be easily
          paired with additional tools, such as plain-text encodings,
          compression, or cryptography algorithms, as demanded by the
          application's needs, without increasing the complexity of the message
          encoding. A BARE message has a comparable size and entropy to the
          underlying state it represents.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<p id="section-1.2-4">
          The BARE schema language also provides a means of describing the
          format of BARE messages without implementation-specific details. This
          encourages applications that utilize BARE to describe their state in
          a manner that other programmers can easily utilize for application
          interoperation. The conservative set of primitives offered by BARE
          aids in making such new implementations easy to write.<a href="#section-1.2-4" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-2">
      <h2 id="name-specification-of-the-bare-m">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-specification-of-the-bare-m" class="section-name selfRef">Specification of the BARE Message Encoding</a>
      </h2>
<p id="section-2-1">
        A BARE message is a single value of a pre-defined type, which may be of
        an aggregate type enclosing multiple values. Unless otherwise specified
        there is no additional container or structure around the value; it is
        encoded plainly.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
        A BARE message does not necessarily have a fixed length, but the schema
        author may make a deliberate choice to constrain themselves to types of
        well-defined lengths if this is desired.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">
        The names for each type are provided to establish a vocabulary for
        describing a BARE message schema out-of-band, by parties who plan to
        exchange BARE messages. The type names used here are provided for this
        informative purpose, but are more rigourously specified by the schema
        language specification in <a href="#schema_language" class="xref">Section 3</a>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<section id="section-2.1">
        <h3 id="name-primitive-types">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-primitive-types" class="section-name selfRef">Primitive Types</a>
        </h3>
<p id="section-2.1-1">Primitive types represent exactly one value.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.1-2">
          <dt id="section-2.1-2.1">uint</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.2">
            <p id="section-2.1-2.2.1">
              An unsigned integer with a variable-length encoding. Each octet
              of the encoded value has the most-significant bit set, except for
              the last octet. The remaining bits are the integer value in 7-bit
              groups, least-significant group first.<a href="#section-2.1-2.2.1" class="pilcrow">¶</a></p>
<p id="section-2.1-2.2.2">
              The encoder MUST encode uint using the minimum necessary number
              of octets, and the decoder SHOULD raise an error if it encounters
              the opposite.<a href="#section-2.1-2.2.2" class="pilcrow">¶</a></p>
<p id="section-2.1-2.2.3">
              The maximum precision of such a number is 64-bits. The maximum
              length of an encoded uint is therefore 10 octets.<a href="#section-2.1-2.2.3" class="pilcrow">¶</a></p>
<p id="section-2.1-2.2.4">
              Numbers that require all ten octets will have 6 bits in the final
              octet that do not have meaning, between the least- and
              most-significant bits. The implementation MUST set these to zero.<a href="#section-2.1-2.2.4" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.3">int</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.4">
            <p id="section-2.1-2.4.1">
              A signed integer with a variable-length encoding. Signed
              integers are represented as uint using a "zig-zag" encoding:
              positive values x are written as 2x + 0, negative values are
              written as 2(^x) + 1. In other words, negative numbers are
              complemented and whether to complement is encoded in bit 0.<a href="#section-2.1-2.4.1" class="pilcrow">¶</a></p>
<p id="section-2.1-2.4.2">
              The encoder MUST encode int using the minimum necessary number
              of octets, and the decoder SHOULD raise an error if it
              encounters the opposite.<a href="#section-2.1-2.4.2" class="pilcrow">¶</a></p>
<p id="section-2.1-2.4.3">
              The maximum precision of such a number is 64-bits. The maximum
              length of an encoded int is therefore 10 octets.<a href="#section-2.1-2.4.3" class="pilcrow">¶</a></p>
<p id="section-2.1-2.4.4">
              Numbers that require all ten octets will have 6 bits in the
              final octet that do not have meaning, between the least- and
              most-significant bits. The implementation MUST set these to
              zero.<a href="#section-2.1-2.4.4" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.5">u8, u16, u32, u64</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.6">
            <p id="section-2.1-2.6.1">
              Unsigned integers of a fixed precision, respectively 8, 16, 32,
              and 64 bits. They are encoded in little-endian (least significant
              octet first).<a href="#section-2.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.7">i8, i16, i32, i64</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.8">
            <p id="section-2.1-2.8.1">
              Signed integers of a fixed precision, respectively 8, 16, 32,
              and 64 bits. They are encoded in little-endian (least
              significant octet first), with two's complement notation.<a href="#section-2.1-2.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.9">f32, f64</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.10">
            <p id="section-2.1-2.10.1">
              Floating-point numbers represented with the
              <span><a href="#IEEE.754.1985" class="xref">IEEE 754</a> [<a href="#IEEE.754.1985" class="xref">IEEE.754.1985</a>]</span>
              binary32 and binary64 floating point number formats.<a href="#section-2.1-2.10.1" class="pilcrow">¶</a></p>
<p id="section-2.1-2.10.2">
              The encoder MUST NOT encode NaN into a BARE message, and the
              decoder SHOULD raise an error if it encounters such a value.<a href="#section-2.1-2.10.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.11">bool</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.12">
            <p id="section-2.1-2.12.1">
              A boolean value, either true or false, encoded as a u8 type with
              a value of one or zero, respectively representing true or false.<a href="#section-2.1-2.12.1" class="pilcrow">¶</a></p>
<p id="section-2.1-2.12.2">
              If a value other than one or zero is found in the u8
              representation of the bool, the message is considered invalid,
              and the decoder SHOULD raise an error if it encounters such a
              value.<a href="#section-2.1-2.12.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.13">string</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.14">
            <p id="section-2.1-2.14.1">
              A string of text. The length of the text in octets is encoded
              first as a uint, followed by the text data represented with the
              <span><a href="#RFC3629" class="xref">UTF-8 encoding</a> [<a href="#RFC3629" class="xref">RFC3629</a>]</span>.<a href="#section-2.1-2.14.1" class="pilcrow">¶</a></p>
<p id="section-2.1-2.14.2">
              If the data is found to contain invalid UTF-8 sequences, it is
              considered invalid, and the decoder SHOULD raise an error if it
              encounters such a value.<a href="#section-2.1-2.14.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.15">data</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.16">
            <p id="section-2.1-2.16.1">
              Arbitrary data of a variable length. The length (in octets) is
              encoded first as a uint, followed by the data itself encoded
              literally.<a href="#section-2.1-2.16.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.17">data&lt;length&gt;</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.18">
            <p id="section-2.1-2.18.1">
              Arbitrary data of a fixed "length", e.g. data&lt;16&gt;. The
              length is not encoded into the message. The data is encoded
              literally in the message, and MUST NOT be longer than
              18,446,744,073,709,551,615 octets (the maximum value of a u64).<a href="#section-2.1-2.18.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.19">void</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.20">
            <p id="section-2.1-2.20.1">
              A type with zero length. It is not encoded into BARE messages.<a href="#section-2.1-2.20.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.21">enum</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.22">
            <p id="section-2.1-2.22.1">
              An unsigned integer value from a set of named values agreed upon
              in advance, encoded with the uint type.<a href="#section-2.1-2.22.1" class="pilcrow">¶</a></p>
<p id="section-2.1-2.22.2">
              An enum whose uint value is not a member of the values agreed
              upon in advance is considered invalid, and the decoder SHOULD
              raise an error if it encounters such a value.<a href="#section-2.1-2.22.2" class="pilcrow">¶</a></p>
<p id="section-2.1-2.22.3">
              Note that this makes the enum type unsuitable for representing
              several enum values that have been combined with a bitwise OR
              operation.<a href="#section-2.1-2.22.3" class="pilcrow">¶</a></p>
<p id="section-2.1-2.22.4">
              Using uint for enum value makes it possible to encode named
              values with different number of octets. Constant-length enum can
              be achieved when all the enum values are encoded by uints with
              the same number of octets.<a href="#section-2.1-2.22.4" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-2.2">
        <h3 id="name-aggregate-types">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-aggregate-types" class="section-name selfRef">Aggregate Types</a>
        </h3>
<p id="section-2.2-1">
          Aggregate types may store zero or more primitive or aggregate values.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.2-2">
          <dt id="section-2.2-2.1">optional&lt;type&gt;</dt>
          <dd style="margin-left: 4.0em" id="section-2.2-2.2">
            <p id="section-2.2-2.2.1">
              A value of "type" that may or may not be present, e.g.
              optional&lt;u32&gt;. Represented as either a u8 with a value of
              zero, indicating that the optional value is unset; or a u8 with a
              value of one, followed by the encoded data of the optional type.<a href="#section-2.2-2.2.1" class="pilcrow">¶</a></p>
<p id="section-2.2-2.2.2">
              An optional value whose initial u8 is set to a number other than
              zero or one is considered invalid, and the decoder SHOULD raise
              an error if it encounters such a value.<a href="#section-2.2-2.2.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.3">[]type</dt>
          <dd style="margin-left: 4.0em" id="section-2.2-2.4">
            <p id="section-2.2-2.4.1">
              A variable-length list of values of "type", e.g. []string. The
              length of the list (number of values) is encoded as a uint,
              followed by the encoded values of each member of the list
              concatenated.<a href="#section-2.2-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.5">[length]type</dt>
          <dd style="margin-left: 4.0em" id="section-2.2-2.6">
            <p id="section-2.2-2.6.1">
              A list of "length" values of "type", e.g. [10]uint. The length is
              not encoded into the message. The encoded values of each member
              of the list are concatenated to form the encoded list.<a href="#section-2.2-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.7">map[type A]type B</dt>
          <dd style="margin-left: 4.0em" id="section-2.2-2.8">
            <p id="section-2.2-2.8.1">
              A mapping of "type B" values keyed by "type A" values, e.g.
              map[u32]string. The encoded representation of a map begins with
              the number of key/value pairs as a uint, followed by the encoded
              key/value pairs concatenated. Each key/value pair is encoded as
              the encoded key concatenated with the encoded value.<a href="#section-2.2-2.8.1" class="pilcrow">¶</a></p>
<p id="section-2.2-2.8.2">
              A message with repeated keys is considered invalid, and the
              decoder SHOULD raise an error if it encounters such a value.<a href="#section-2.2-2.8.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.9">(type A | type B | ...)</dt>
          <dd style="margin-left: 4.0em" id="section-2.2-2.10">
            <p id="section-2.2-2.10.1">
              A tagged union whose value may be one of any type from a set of
              types, e.g. (int | uint | string). Each type in the set is
              assigned a numeric identifier. The value is encoded as the
              selected type's identifier represented with the uint encoding,
              followed by the encoded value of that type.<a href="#section-2.2-2.10.1" class="pilcrow">¶</a></p>
<p id="section-2.2-2.10.2">
              A union with a tag value that does not have a corresponding type
              assigned is considered invalid, and the decoder SHOULD raise an
              error if it encounters such a value.<a href="#section-2.2-2.10.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.11">struct</dt>
          <dd style="margin-left: 4.0em" id="section-2.2-2.12">
            <p id="section-2.2-2.12.1">
              A set of values of arbitrary types concatenated in an order
              agreed upon in advance. Each value is called "field", and the
              field has a name and type.<a href="#section-2.2-2.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-2.3">
        <h3 id="name-user-defined-types">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-user-defined-types" class="section-name selfRef">User-Defined Types</a>
        </h3>
<p id="section-2.3-1">
          A user-defined type gives a name to another type. This creates a
          distinct type whose representation is equivalent to the named type.
          An arbitrary number of user-defined types may be used for the same
          underlying type; each is distinct from the other.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.4">
        <h3 id="name-invariants">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-invariants" class="section-name selfRef">Invariants</a>
        </h3>
<p id="section-2.4-1">The following invariants are specified:<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.4-2.1">
            Any type that is ultimately a void type (either directly or via a
            user-defined type) MUST NOT be used as an optional type, list
            value, map key, map value, or struct field type. Void types may
            only be used as members of the set of types in a tagged union.<a href="#section-2.4-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-2.2">Each named value of an enum type MUST be unique.<a href="#section-2.4-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-2.3">
            The lengths of fixed-length arrays and fixed-length data types MUST
            be at least one.<a href="#section-2.4-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-2.4">
            Map keys MUST be of a primitive type that is not data,
            data&lt;length&gt;, or void.<a href="#section-2.4-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-2.5">
            Unions MUST have at least one type, and each type MUST NOT be
            repeated.<a href="#section-2.4-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-2.6">A union member MUST have a unique name.<a href="#section-2.4-2.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-2.7">Structs MUST have at least one field.<a href="#section-2.4-2.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.4-2.8">A struct field MUST have a unique name.<a href="#section-2.4-2.8" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
<div id="schema_language">
<section id="section-3">
      <h2 id="name-bare-schema-language-specif">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-bare-schema-language-specif" class="section-name selfRef">BARE Schema Language Specification</a>
      </h2>
<p id="section-3-1">
        The use of the schema language is optional. Implementations SHOULD
        support decoding arbitrary BARE messages without a schema document, by
        defining the schema in a manner that utilizes more native tools
        available from the programming environment.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
        However, it may be useful to have a schema document for use with code
        generation, documentation, or interoperability. A domain-specific
        language is provided for this purpose.<a href="#section-3-2" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-lexical-analysis">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-lexical-analysis" class="section-name selfRef">Lexical Analysis</a>
        </h3>
<p id="section-3.1-1">
          During lexical analysis, "#" is used for comments; if encountered,
          the "#" character and any subsequent characters are discarded until a
          line feed (%x0A) is found.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-abnf-grammar">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-abnf-grammar" class="section-name selfRef">ABNF Grammar</a>
        </h3>
<p id="section-3.2-1">
          The syntax of the schema language is provided here in
          <span><a href="#RFC5234" class="xref">Augmented Backus-Naur Form</a> [<a href="#RFC5234" class="xref">RFC5234</a>]</span>.
          However, this grammar differs from <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>
          in that literal text strings are case-sensitive (e.g. "type" does not
          match "TypE").<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-abnf art-text artwork" id="section-3.2-2">
<pre>
schema          =  [WS] user-types [WS]

user-types      =  [user-types WS] user-type
user-type       =  "type" WS user-type-name WS any-type
user-type-name  =  UPPER *(ALPHA / DIGIT) ; first letter is uppercase

any-type        =  non-void-type / "void"
non-void-type   =  non-enum-type / enum-type
non-enum-type   =  base-data-type / aggregate-type / user-type-name

base-data-type  =  base-type / data-type

base-type       =  "uint" / "u8"  / "u16" / "u32" / "u64"
base-type       =/ "int" / "i8"  / "i16" / "i32" / "i64"
base-type       =/ "f32" / "f64"
base-type       =/ "bool"
base-type       =/ "string"

data-type       =  "data" / ("data&lt;" integer "&gt;")
integer         =  1*DIGIT

aggregate-type  =  optional-type
aggregate-type  =/ list-type
aggregate-type  =/ map-type
aggregate-type  =/ union-type
aggregate-type  =/ struct-type

optional-type   =  "optional&lt;" non-enum-type "&gt;"

list-type       =  "[" [integer] "]" non-void-type

map-type        =  "map[" (base-type / enum-type) "]" non-void-type

union-type      =  "(" [WS] union-members [WS] ")"
union-members   =  [union-members [WS] "|" [WS]] union-member
union-member    =  any-type [[WS] "=" [WS] integer]

struct-type     =  "{" [WS] struct-fields [WS] "}"
struct-fields   =  [struct-fields WS] struct-field
struct-field    =  1*ALPHA [WS] ":" [WS] non-void-type

enum-type       =  "&lt;" [WS] enum-values [WS] "&gt;"
enum-values     =  [enum-values WS] enum-value
enum-value      =  enum-value-name [[WS] "=" [WS] integer]
enum-value-name =  UPPER *(UPPER / DIGIT / "_")

UPPER           =  %x41-5A ; uppercase ASCII letters, i.e. A-Z
ALPHA           =  %x41-5A / %x61-7A ; A-Z / a-z
DIGIT           =  %x30-39 ; 0-9

WS              =  1*(%x0A / %x09 / " ") ; whitespace
</pre><a href="#section-3.2-2" class="pilcrow">¶</a>
</div>
<p id="section-3.2-3">
          See <a href="#appx_example_schema" class="xref">Appendix B.1</a>
          for an example schema written in this language.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3">
        <h3 id="name-semantic-elements">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-semantic-elements" class="section-name selfRef">Semantic Elements</a>
        </h3>
<p id="section-3.3-1">
          The names of fields and user-defined types are informational: they
          are not represented in BARE messages. They may be used by code
          generation tools to inform the generation of field and type names in
          the native programming environment.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">
          Enum values are also informational. Values without an integer token
          are assigned automatically in the order that they appear, starting
          from zero and incrementing for each subsequent unassigned value. If a
          value is explicitly specified, automatic assignment continues from
          that value plus one for subsequent enum values.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">
          Union type members are assigned a tag in the order that they appear,
          starting from zero and incrementing for each subsequent type. If a
          tag value is explicitly specified, automatic assignment continues
          from that value plus one for subsequent values.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-4">
      <h2 id="name-application-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-application-considerations" class="section-name selfRef">Application Considerations</a>
      </h2>
<p id="section-4-1">
        Message authors who wish to design a schema that is backwards- and
        forwards-compatible with future messages are encouraged to use union
        types for this purpose. New types may be appended to the members of a
        union type while retaining backwards compatibility with older message
        types. The choice to do this must be made from the first message
        version -- moving a struct into a union <em>does not</em> produce a
        backwards-compatible message.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The following schema provides an example:<a href="#section-4-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-3">
<pre>
type Message (MessageV1 | MessageV2 | MessageV3)

type MessageV1 ...

type MessageV2 ...

type MessageV3 ...
</pre><a href="#section-4-3" class="pilcrow">¶</a>
</div>
<p id="section-4-4">
        An updated schema that adds a MessageV4 type would still be able to
        decode versions 1, 2, and 3.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">
        If a message version is later deprecated, it may be removed in a manner
        compatible with future versions 2 and 3 if the initial tag is specified
        explicitly.<a href="#section-4-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4-6">
<pre>type Message (MessageV2 = 1 | MessageV3)</pre><a href="#section-4-6" class="pilcrow">¶</a>
</div>
</section>
<section id="section-5">
      <h2 id="name-future-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-future-considerations" class="section-name selfRef">Future Considerations</a>
      </h2>
<p id="section-5-1">
        To ensure message compatibility between implementations and backwards-
        and forwards-compatibility of messages, constraints on vendor
        extensions are required. This specification is final, and new types or
        extensions will not be added in the future. Implementors MUST NOT
        define extensions to this specification.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">
        To support the encoding of novel data structures, the implementor
        SHOULD make use of user-defined types in combination with the data or
        data&lt;length&gt; types.<a href="#section-5-2" class="pilcrow">¶</a></p>
</section>
<div id="IANA">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1">This memo includes no request to IANA.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">
        Message parsers are common vectors for security vulnerabilities. BARE
        addresses this by making the message format as simple as possible.
        However, the parser MUST be prepared to handle a number of error cases
        when decoding untrusted messages, such as a union type with an invalid
        tag, or an enum with an invalid value. Such errors may also arise by
        mistake, for example when attempting to decode a message with the wrong
        schema.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
        Support for data types of an arbitrary, message-defined length (lists,
        maps, strings, etc) is commonly exploited to cause the implementation
        to exhaust its resources while decoding a message. However, legitimate
        use-cases for extremely large data types (possibly larger than the
        system has the resources to store all at once) do exist. The decoder
        MUST manage its resources accordingly, and SHOULD provide the
        application a means of providing their own decoder implementation for
        values that are expected to be large.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">
        There is only one valid interpretation of a BARE message for a given
        schema, and different decoders and encoders should be expected to
        provide that interpretation. If an implementation has limitations
        imposed from the programming environment (such as limits on numeric
        precision), the implementor MUST document these limitations, and
        prevent conflicting interpretations from causing undesired behavior.<a href="#section-7-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-8">
      <h2 id="name-normative-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
      <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3629">[RFC3629]</dt>
      <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE.754.1985">[IEEE.754.1985]</dt>
    <dd>
<span class="refAuthor">Institute of Electrical and Electronics Engineers</span>, <span class="refTitle">"Standard for Binary Floating-Point Arithmetic"</span>, <span class="seriesInfo">IEEE Standard 754</span>, <time datetime="1985-08" class="refDate">August 1985</time>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="appendix-A">
      <h2 id="name-example-values">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-example-values" class="section-name selfRef">Example Values</a>
      </h2>
<p id="appendix-A-1">
        This section lists example values in decimal, as string, or as named
        value (left or top), and their encoded representation in hexadecimal
        (right or bottom).<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="appendix-A-2">
        <dt id="appendix-A-2.1">uint</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.2">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.2.1">
<pre>
0                  00
1                  01
255                FF 01
</pre><a href="#appendix-A-2.2.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.3">int</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.4">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.4.1">
<pre>
0                  00
1                  02
-1                 01
255                FE 03
-255               FD 03
</pre><a href="#appendix-A-2.4.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.5">u32</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.6">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.6.1">
<pre>
0                  00 00 00 00
1                  01 00 00 00
255                FF 00 00 00
</pre><a href="#appendix-A-2.6.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.7">i16</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.8">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.8.1">
<pre>
0                  00 00
1                  01 00
-1                 FF FF
255                FF 00
-255               01 FF
</pre><a href="#appendix-A-2.8.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.9">f64</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.10">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.10.1">
<pre>
0.0                00 00 00 00 00 00 00 00
1.0                00 00 00 00 00 00 f0 3f
2.55               66 66 66 66 66 66 04 40
-25.5              00 00 00 00 00 80 39 C0
</pre><a href="#appendix-A-2.10.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.11">bool</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.12">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.12.1">
<pre>
true               01
false              00
</pre><a href="#appendix-A-2.12.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.13">string</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.14">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.14.1">
<pre>
"BARE"             04 42 41 52 45
</pre><a href="#appendix-A-2.14.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.15">data</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.16">
          <p id="appendix-A-2.16.1">Example value is in hexadecimal.<a href="#appendix-A-2.16.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.16.2">
<pre>
aa ee ff ee dd cc bb aa ee dd cc bb ee dd cc bb
</pre><a href="#appendix-A-2.16.2" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.16.3">
<pre>
10 aa ee ff ee dd cc bb aa ee dd cc bb ee dd cc
bb
</pre><a href="#appendix-A-2.16.3" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.17">data&lt;16&gt;</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.18">
          <p id="appendix-A-2.18.1">Example value is in hexadecimal.<a href="#appendix-A-2.18.1" class="pilcrow">¶</a></p>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.18.2">
<pre>
aa ee ff ee dd cc bb aa ee dd cc bb ee dd cc bb
</pre><a href="#appendix-A-2.18.2" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.18.3">
<pre>
aa ee ff ee dd cc bb aa ee dd cc bb ee dd cc bb
</pre><a href="#appendix-A-2.18.3" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.19">void</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.20">
          <p id="appendix-A-2.20.1">Not encoded.<a href="#appendix-A-2.20.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.21">&lt;FOO BAR = 255 BUZZ&gt;</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.22">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.22.1">
<pre>
FOO                00
BAR                FF 01
BUZZ               80 02
</pre><a href="#appendix-A-2.22.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.23">optional&lt;u32&gt;</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.24">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.24.1">
<pre>
(unset)            00
0                  01 00 00 00 00
1                  01 01 00 00 00
255                01 FF 00 00 00
</pre><a href="#appendix-A-2.24.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.25">[]string</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.26">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.26.1">
<pre>
"foo" "bar" "buzz"
</pre><a href="#appendix-A-2.26.1" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.26.2">
<pre>
03 03 66 6f 6f 03 62 61 72 04 62 75 7A 7A
</pre><a href="#appendix-A-2.26.2" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.27">[10]uint</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.28">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.28.1">
<pre>
0 1 254 255 256 257 126 127 128 129
</pre><a href="#appendix-A-2.28.1" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.28.2">
<pre>
00 01 FE 01 FF 01 80 02 81 02 7E 7F 80 01 81 01
</pre><a href="#appendix-A-2.28.2" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.29">map[u32]string</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.30">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.30.1">
<pre>
0 =&gt; "zero"
1 =&gt; "one"
255 =&gt; "two hundreds and fifty five"
</pre><a href="#appendix-A-2.30.1" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.30.2">
<pre>
03 00 00 00 00 04 7A 65 72 6F 01 00 00 00 03 6F
6E 65 FF 00 00 00 1B 74 77 6F 20 68 75 6E 64 72
65 64 73 20 61 6E 64 20 66 69 66 74 79 20 66 69
76 65
</pre><a href="#appendix-A-2.30.2" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.31">(int | uint = 255 | string)</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.32">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.32.1">
<pre>
0                  00 00
1                  00 02
1                  FF 01 01
-1                 00 01
255                00 FE 03
255                FF 01 FF 01
-255               00 FD 03
"BARE"             80 02 04 42 41 52 45
</pre><a href="#appendix-A-2.32.1" class="pilcrow">¶</a>
</div>
</dd>
        <dd class="break"></dd>
<dt id="appendix-A-2.33">{foo : uint bar : int buzz : string}</dt>
        <dd style="margin-left: 4.0em" id="appendix-A-2.34">
          <div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.34.1">
<pre>
foo =&gt; 255
bar =&gt; -255
buzz =&gt; "BARE"
</pre><a href="#appendix-A-2.34.1" class="pilcrow">¶</a>
</div>
<div class="alignLeft art-ascii-art art-text artwork" id="appendix-A-2.34.2">
<pre>
FF 01 FD 03 04 42 41 52 45
</pre><a href="#appendix-A-2.34.2" class="pilcrow">¶</a>
</div>
</dd>
      <dd class="break"></dd>
</dl>
</section>
<section id="appendix-B">
      <h2 id="name-example-company">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-example-company" class="section-name selfRef">Example Company</a>
      </h2>
<p id="appendix-B-1">
        An example company that uses BARE to encode data about customers and
        employees.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<div id="appx_example_schema">
<section id="appendix-B.1">
        <h3 id="name-message-schema">
<a href="#appendix-B.1" class="section-number selfRef">B.1. </a><a href="#name-message-schema" class="section-name selfRef">Message Schema</a>
        </h3>
<p id="appendix-B.1-1">
          The following is an example of a schema written in the BARE schema
          language.<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B.1-2">
<pre>
type PublicKey data&lt;128&gt;
type Time string # ISO 8601

type Department &lt;
  ACCOUNTING
  ADMINISTRATION
  CUSTOMER_SERVICE
  DEVELOPMENT

  # Reserved for the CEO
  JSMITH = 99
&gt;

type Customer {
  name: string
  email: string
  address: Address
  orders: []{
    orderId: i64
    quantity: i32
  }
  metadata: map[string]data
}

type Employee {
  name: string
  email: string
  address: Address
  department: Department
  hireDate: Time
  publicKey: optional&lt;PublicKey&gt;
  metadata: map[string]data
}

type TerminatedEmployee void

type Person (Customer | Employee | TerminatedEmployee)

type Address {
  address: [4]string
  city: string
  state: string
  country: string
}
</pre><a href="#appendix-B.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="appendix-B.2">
        <h3 id="name-encoded-messages">
<a href="#appendix-B.2" class="section-number selfRef">B.2. </a><a href="#name-encoded-messages" class="section-name selfRef">Encoded Messages</a>
        </h3>
<p id="appendix-B.2-1">
          Some basic example messages in hexadecimal are provided for the schema
          specified in <a href="#appx_example_schema" class="xref">Appendix B.1</a>.<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
<p id="appendix-B.2-2">A "Person" value of type "Customer" with the following values:<a href="#appendix-B.2-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-B.2-3">
          <dt id="appendix-B.2-3.1">name</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-3.2">James Smith<a href="#appendix-B.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-3.3">email</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-3.4">jsmith@example.org<a href="#appendix-B.2-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-3.5">address</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-3.6">123 Main St; Philadelphia; PA; United States<a href="#appendix-B.2-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-3.7">orders (1)</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-3.8">orderId: 4242424242; quantity: 5<a href="#appendix-B.2-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-3.9">metadata</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-3.10">(unset)<a href="#appendix-B.2-3.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="appendix-B.2-4">Encoded BARE message:<a href="#appendix-B.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B.2-5">
<pre>
00 0b 4a 61 6d 65 73 20 53 6d 69 74 68 12 6a 73
6d 69 74 68 40 65 78 61 6d 70 6c 65 2e 6f 72 67
0b 31 32 33 20 4d 61 69 6e 20 53 74 0c 50 68 69
6c 61 64 65 6c 70 68 69 61 02 50 41 0d 55 6e 69
74 65 64 20 53 74 61 74 65 73 01 b2 41 de fc 00
00 00 00 05 00 00 00 00
</pre><a href="#appendix-B.2-5" class="pilcrow">¶</a>
</div>
<p id="appendix-B.2-6">A "Person" value of type "Employee" with the following values:<a href="#appendix-B.2-6" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="appendix-B.2-7">
          <dt id="appendix-B.2-7.1">name</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-7.2">Tiffany Doe<a href="#appendix-B.2-7.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-7.3">email</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-7.4">tiffanyd@acme.corp<a href="#appendix-B.2-7.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-7.5">address</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-7.6">123 Main St; Philadelphia; PA; United States<a href="#appendix-B.2-7.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-7.7">department</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-7.8">ADMINISTRATION<a href="#appendix-B.2-7.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-7.9">hireDate</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-7.10">2020-06-21T21:18:05Z<a href="#appendix-B.2-7.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-7.11">publicKey</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-7.12">(unset)<a href="#appendix-B.2-7.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="appendix-B.2-7.13">metadata</dt>
          <dd style="margin-left: 8.0em" id="appendix-B.2-7.14">(unset)<a href="#appendix-B.2-7.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="appendix-B.2-8">Encoded BARE message:<a href="#appendix-B.2-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B.2-9">
<pre>
01 0b 54 69 66 66 61 6e 79 20 44 6f 65 12 74 69
66 66 61 6e 79 64 40 61 63 6d 65 2e 63 6f 72 70
0b 31 32 33 20 4d 61 69 6e 20 53 74 0c 50 68 69
6c 61 64 65 6c 70 68 69 61 02 50 41 0d 55 6e 69
74 65 64 20 53 74 61 74 65 73 01 14 32 30 32 30
2d 30 36 2d 32 31 54 32 31 3a 31 38 3a 30 35 5a
00 00
</pre><a href="#appendix-B.2-9" class="pilcrow">¶</a>
</div>
<p id="appendix-B.2-10">A "Person" value of type "TerminatedEmployee".<a href="#appendix-B.2-10" class="pilcrow">¶</a></p>
<p id="appendix-B.2-11">Encoded BARE message:<a href="#appendix-B.2-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B.2-12">
<pre>02</pre><a href="#appendix-B.2-12" class="pilcrow">¶</a>
</div>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Drew DeVault</span></div>
<div dir="auto" class="left"><span class="org">SourceHut</span></div>
<div dir="auto" class="left"><span class="street-address">454 E. Girard Ave #2R</span></div>
<div dir="auto" class="left">
<span class="locality">Philadelphia</span>, <span class="region">PA</span> <span class="postal-code">19125</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+1%20719%20213%205473" class="tel">+1 719 213 5473</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:sir@cmpwn.com" class="email">sir@cmpwn.com</a>
</div>
<div class="url">
<span>URI:</span>
<a href="https://sourcehut.org/" class="url">https://sourcehut.org/</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
