<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>DNS-SD Compatible Service Discovery in GeneRic Autonomic Signaling Protocol (GRASP)</title>
<meta content="Toerless Eckert" name="author">
<meta content="Mohamed Boucadair" name="author">
<meta content="Christian Jacquenet" name="author">
<meta content="Michael H. Behringer" name="author">
<meta content="
       DNS Service Discovery (DNS-SD) defines a framework for applications
      to announce and discover services. This includes service names, service
      instance names, common parameters for selecting a service instance
      (weight or priority) as well as other service-specific parameters. For
      the specific case of autonomic networks, GeneRic Autonomic Signaling
      Protocol (GRASP) intends to be used for service discovery in addition to
      the setup of basic connectivity. Reinventing advanced service discovery
      for GRASP with a similar set of features as DNS-SD would result in
      duplicated work. To avoid that, this document defines how to use GRASP
      to announce and discover services relying upon DNS-SD features while
      maintaining the intended simplicity of GRASP. To that aim, the document
      defines name discovery and schemes for reusable elements in GRASP
      objectives.  
    " name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="draft-eckert-anima-grasp-dnssd-03" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-eckert-anima-grasp-dnssd-03-xtwn80a_.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">DNS-SD via GRASP</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Eckert, et al.</td>
<td class="center">Expires 5 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ANIMA WG</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-eckert-anima-grasp-dnssd-03</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-04" class="published">4 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-05">5 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T.T.E. Eckert</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">M. Boucadair</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">C. Jacquenet</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">M. Behringer</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">DNS-SD Compatible Service Discovery in GeneRic Autonomic Signaling Protocol (GRASP)</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">DNS Service Discovery (DNS-SD) defines a framework for applications
      to announce and discover services. This includes service names, service
      instance names, common parameters for selecting a service instance
      (weight or priority) as well as other service-specific parameters. For
      the specific case of autonomic networks, GeneRic Autonomic Signaling
      Protocol (GRASP) intends to be used for service discovery in addition to
      the setup of basic connectivity. Reinventing advanced service discovery
      for GRASP with a similar set of features as DNS-SD would result in
      duplicated work. To avoid that, this document defines how to use GRASP
      to announce and discover services relying upon DNS-SD features while
      maintaining the intended simplicity of GRASP. To that aim, the document
      defines name discovery and schemes for reusable elements in GRASP
      objectives.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-note-to-the-rfc-editor">
<a href="#name-note-to-the-rfc-editor" class="section-name selfRef">Note to the RFC Editor</a>
      </h2>
<p id="section-note.1-1">Please replace all occurrences of rfcXXXX with the RFC number
      assigned to this document.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-4">
<a href="#name-status-of-this-memo-4" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-4">
<a href="#name-copyright-notice-4" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-4">
<a href="#name-table-of-contents-4" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-overview-2" class="xref">Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology-3" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-specification" class="xref">Specification</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-service-and-name-objectives" class="xref">Service and Name Objectives</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-objective-value-reuseable-e" class="xref">Objective Value Reuseable Elements Structure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-reuseable-elements" class="xref">Reuseable Elements</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="xref">3.3.1</a>.  <a href="#name-sender-loop-count" class="xref">Sender Loop Count</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a href="#section-3.3.2" class="xref">3.3.2</a>.  <a href="#name-service-element" class="xref">Service Element</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3.2.3">
                    <p id="section-toc.1-1.3.2.3.2.3.1"><a href="#section-3.3.3" class="xref">3.3.3</a>.  <a href="#name-name-element" class="xref">Name Element</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-theory-of-operation" class="xref">Theory of Operation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-using-grasp-service-announc" class="xref">Using GRASP Service Announcements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-further-comparison-with-dns" class="xref">Further Comparison with DNS-SD</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-open-issues" class="xref">Open Issues</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-security-considerations-4" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations-4" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-acknowledgements-4" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-contributors-2" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-change-log-rfc-editor-pleas" class="xref">Change log [RFC Editor: Please remove]</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-03-refresh" class="xref">03 - Refresh</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-02-revived-after-charter-ro" class="xref">02 - Revived after charter round 1 finished</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="xref">9.3</a>.  <a href="#name-01-" class="xref">01 -</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="xref">9.4</a>.  <a href="#name-00-initial-version" class="xref">00 - Initial version</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references-2" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references-4" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references-3" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses-4" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="overview">
<section id="section-1">
      <h2 id="name-overview-2">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-overview-2" class="section-name selfRef">Overview</a>
      </h2>
<p id="section-1-1">DNS Service Discovery (DNS-SD) <span>[<a href="#RFC6763" class="xref">RFC6763</a>]</span> defines
      a framework for applications to announce and discover services. This
      includes service names, service instance names, common parameters for
      selecting a service instance (weight, priority) as well as other
      service-specific parameters.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">GeneRic Autonomic Signaling Protocol (GRASP) <span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span> is intended to also be used for service
      discovery purposes. Reinventing service discovery for GRASP with a
      similar set of features would result in duplication of work. Therefore,
      this document defines how to use GRASP to announce and discover services
      in a way that inherits DNS-SD features and also tries to be compatible
      in spirit as much as possible while still maintaining the intended
      simplicity of GRASP.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The goal of this document is to permit defining service and their
      parameters once and then use that in GRASP, mDNS and (unicast) DNS.
      Future work can also define DNS-SD &lt;-&gt; GRASP gateway
      functions.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document primarily defines how to perform service discovery
      across such a GRASP domain leveraging GRASP's options to perform
      unsolicited flooding of announcements or flooding of requests, and
      finding the closest service instances. Also, the document allows for
      automatically discovering DNS-SD servers. Such features is meant to
      optimize the flooding traffic in some deployments.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">The initial use case of this document is to support what in DNS-SD is
      done via mDNS but in larger networks - GRASP-Domains. Beside the
      efficient flooding, GRASP provides reliability and security, which are
      depending on the so called substrate used by GRASP for security and
      hop-by-hop/end-to-end transport, such as the Autonomic control
      plane (ACP), <span>[<a href="#RFC8994" class="xref">RFC8994</a>]</span>. Providing compatibility with existing mDNS service
      announcer or clients is possible, but not described in this version of
      the document.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">The encoding of information chosen in this document does not try to
      use GRASP solely as a transport layer, but to also leverage the CBOR
      structure of GRASP messages to natively encode the message elements
      required for services in a way that is most simple - instead of using
      GRASP only as, e.g., an encapsulation of otherwise unchanged DNS message
      encodings. This is done to minimize the amount of coding required (and
      not require any DNS code unless future gateway functions are required),
      to increase the simplicity, minimize the amount of data on the wire, and
      allow easier extensibility. On the downside, the mechanisms provided
      here do not cover the whole slew of possible options of DNS/DNS-SD, but
      instead only those deemed to be required. Others can be added later.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">In support of service discovery, this document also defines name
      discovery and schemes for reusable elements in GRASP objectives which
      are designed to be extensible so that future work that identifies
      elements required across multiple objectives do not need to define a
      scheme how to do this.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="notation">
<section id="section-2">
      <h2 id="name-terminology-3">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology-3" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in BCP 14
      <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and
      only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document makes use of terms and concepts defined in <span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="normative">
<section id="section-3">
      <h2 id="name-specification">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-specification" class="section-name selfRef">Specification</a>
      </h2>
<div id="service-objectives">
<section id="section-3.1">
        <h3 id="name-service-and-name-objectives">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-service-and-name-objectives" class="section-name selfRef">Service and Name Objectives</a>
        </h3>
<p id="section-3.1-1">Unsolicited, flooded announcements (M_FLOOD) in GRASP and solicited
        flooded discovery (M_DISCOVERY) operate on the unit of GRASP technical
        objectives (identified by 'objective-names' as discussed in Section
        2.10 of <span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span>). Therefore, a scheme is
        required to indicate services via 'objective-names'.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.1-2.1">Note: Future work may want to reuse the encodings related to
            services (defined below in this document) inside other (multicast
            or unicast only) objective exchanges, in which case the service
            names are not impacted.<a href="#section-3.1-2.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-3">When a technical objective (simply referred to as objective) is
        meant to be solely about a service name, the objective MUST uses an
        'objective-name' of 'SRV.&lt;service-name&gt;'. This naming scheme is
        meant to avoid creating duplicates and, potentially, inconsistent name
        registrations for those objectives vs. registrations done, for
        example, for DNS-SD.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">When an objective is meant announcement and discovery of a DNS
        compatible &lt;name&gt; such as "www-internal" in
        "www-internal.example.com", the objective SHOULD use an objective-name
        of NAME.&lt;name&gt;. See <a href="#name-resolution" class="xref">Section 3.3.3</a> for
        more details.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="elements-structure">
<section id="section-3.2">
        <h3 id="name-objective-value-reuseable-e">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-objective-value-reuseable-e" class="section-name selfRef">Objective Value Reuseable Elements Structure</a>
        </h3>
<p id="section-3.2-1">Because service discovery, as explained in the prior section, needs
        to utilize different objectives, it requires cross-objective
        standardized encoding of the elements of services. GRASP does not
        define standardized message elements for the message body (called
        "objective-value") of GRASP messages. Therefore, this document
        introduces such a feature.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.2-2">
<pre>
objective-value  /= { 1*elements }
elements        //= ( @rfcXXXX: { 1*relement } )

relement  = ( relement-codepoint =&gt; relement-value )
relement-codepoint = uint
relement-value     = any

</pre><a href="#section-3.2-2" class="pilcrow">¶</a>
</div>
<p id="section-3.2-3">If an objective relies upon reusable elements, the
        'objective-value' MUST be a CBOR map and the reusable elements are
        found under the key "@rfcXXXX".<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">Objectives that do not want reusable elements may use any
        objective-value format including a CBOR map, but they can not use the
        "@rfcXXXX" key if they use a map. This approach was chosen as the
        hopefully least intrusive mechanism given how by nature all of
        "objective-value" is meant to be defined by individual objective
        definitions.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">The value of "@rfcXXXX" is a map of reusable elements. Each
        'relement' has an IANA registered element-name and codepoint (see
        <a href="#iana-considerations" class="xref">Section 6</a>). The element-name is for
        documentation purposes only, CBOR encodings only use the numeric
        codepoint for encoding efficiency to minimize the risk for this
        solution to not be applicable to low-bitrate networks such as in
        IoT.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">Format and semantic of the relement-value is determined by the
        specification of the reusable element as is the fact whether more than
        one instances of the same reusable element are permitted.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7">Reusable elements should be defined to be extensible. The methods
        used depend on the complexity of the element and the likely need to
        extend/modify the element with backward or non-backward compatible
        information. The following is a set of initial options to choose
        from:<a href="#section-3.2-7" class="pilcrow">¶</a></p>
<p id="section-3.2-8">Element values that are a map MUST permit and reserve key value 0
        (numerical) for private extensions of the element defined by the
        individual objective.<a href="#section-3.2-8" class="pilcrow">¶</a></p>
<p id="section-3.2-9">Element values that are a map MUST NOT use bareword key values
        starting with a "_". These too are for private extensions defined by
        the individual objective.<a href="#section-3.2-9" class="pilcrow">¶</a></p>
<p id="section-3.2-10">Element values SHOULD be defined so that additional keys in maps
        and additional elements at the end of arrays can be ignored by prior
        versions of the definition. Whenever a newer definition is made for an
        element where this rule is violated, the element SHOULD be changed in
        a way for older version recipients to recognize that it is not
        compatible with it.<a href="#section-3.2-10" class="pilcrow">¶</a></p>
<p id="section-3.2-11">One method to indicate compatibility is a traditional version
        "&lt;mayor&gt;.&lt;minor&gt;". Within the same &lt;mayor&gt; version
        number, increasing &lt;minor&gt; version numbers must be backward
        compatible. Different &lt;mayor&gt; version numbers are not expected
        to be compatible with each other. If they are, then this can be
        indicated by including multiple version numbers.<a href="#section-3.2-11" class="pilcrow">¶</a></p>
<p id="section-3.2-12">A compressed form of version compatibility information is the use
        of a simple bitmask element where each bit indicates a version that
        the represented data is compatible with.<a href="#section-3.2-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="standard-elements">
<section id="section-3.3">
        <h3 id="name-reuseable-elements">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-reuseable-elements" class="section-name selfRef">Reuseable Elements</a>
        </h3>
<div id="sender-loop-count">
<section id="section-3.3.1">
          <h4 id="name-sender-loop-count">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-sender-loop-count" class="section-name selfRef">Sender Loop Count</a>
          </h4>
<div class="alignLeft art-text artwork" id="section-3.3.1-1">
<pre>


relement-codepoint //= ( &amp;(sender-loop-count:1) =&gt; 1..255 )


</pre><a href="#section-3.3.1-1" class="pilcrow">¶</a>
</div>
<p id="section-3.3.1-2">Sender-loop-count is set by the sender of an objective message to
          the same value as the loop-count of the message. On receipt,
          distance = ( sender-loop-count - loop-count ) is the distance of the
          sender from the receiver in hops. This element can be used for
          informational purposes in M_FLOOD and M_DISCOVERY messages and may
          be required to be used in these messages by the specification of
          other elements (such as the service element described below). This
          element MUST occur at most once. If a receiver expects to use the
          distance but sender-loop-count was not announced, then distance
          SHOULD be assumed to be 255 by the receiver.<a href="#section-3.3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="service-element">
<section id="section-3.3.2">
          <h4 id="name-service-element">
<a href="#section-3.3.2" class="section-number selfRef">3.3.2. </a><a href="#name-service-element" class="section-name selfRef">Service Element</a>
          </h4>
<p id="section-3.3.2-1">The srv-element (service element) is a reusable element to
          request or announce a service instance or to request and list
          service instance names.<a href="#section-3.3.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.3.2-2">
<pre>


relement-codepoint //= ( &amp;(srv-element:2) =&gt; context-element )

context-element  =  {
     ?( &amp;(private:0)      =&gt; any),
     ?( &amp;(msg-type:1      =&gt; msg-type),
     ?( &amp;(service:2)      =&gt; tstr),
     *( &amp;(instance:3)     =&gt; tstr),
     ?( &amp;(domain:4)       =&gt; tstr),
     ?( &amp;(priority:5)     =&gt; 0..65535 ),
     ?( &amp;(weight:6)       =&gt; 0..65535 ),
     *( &amp;(kvpairs:7)      =&gt; { *(tstr: any) },
     ?( &amp;(range:8)        =&gt; 0..255 ),
     *( &amp;(clocator:9)     =&gt; clocator),
    }
clocator = [ context, locator-option ]
context = cstr
locator-option = ; from GRASP

msg-type = &amp;( describe: 0, describe-request:1,
             enumerate:2, enumerate-request:3 )



</pre><a href="#section-3.3.2-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlParallel" id="section-3.3.2-3">
            <dt id="section-3.3.2-3.1">Service:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.2">A service name registered according to
              RFC6335. If it is not present, then objective-name MUST be
              SRV.&lt;service-name&gt; where &lt;service-name&gt; is the
              service-name.<a href="#section-3.3.2-3.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.3">Instance:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.4">The &lt;Instance&gt; of a DNS-SD Service
              Instance Name ( &lt;Instance&gt; . &lt;Service&gt; .
              &lt;Domain&gt;). It is optional, see <a href="#dnssd-comparison" class="xref">Section 4.2</a>.<a href="#section-3.3.2-3.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.5">Domain:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.6">The equivalent of the &lt;Domain&gt; field
              of a DNS-SD Service Instance Name. If domain is not present,
              this is equivalent to ".local" in DNS (as introduced by mDNS)
              and implies the unnamed "local" domain, which is the GRASP
              domain across which the message is transmitted.<a href="#section-3.3.2-3.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.7">Priority, Weight:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.8">Service Instance selection
              criteria as defined in RFC2782. If either one is not present,
              its value defaults to 0.<a href="#section-3.3.2-3.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.9">Kvpairs:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.10">Map of key/value pairs that are service
              parameters in the same format as the key/value pairs in TXT
              field(s) of DNS-SD TXT records as defined in RFC6763, section
              6.3.<a href="#section-3.3.2-3.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.11">Range:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.12">Allows to flexibly combine distance and
              priority/weight based service selection according to the
              definition of distance in <a href="#sender-loop-count" class="xref">Section 3.3.1</a>.<a href="#section-3.3.2-3.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.13"></dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.14">If min-distance is the distance of the closest service
              announcer, and min-range the range announced by it, then the
              recipient MUST consider the priority/weight of all service
              announcers that are not further away than (min-distance +
              min-range). If not included, range defaults to 255.<a href="#section-3.3.2-3.14" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.15"></dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.16">If range is announced, the sender-loop-count element MUST
              also be announced.<a href="#section-3.3.2-3.16" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.17">Clocator:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.18">The "contextual locator" allows to
              indicate zero or more locators for the indicated service
              instance. The context element indicates in which context the
              locator-option is to be resolved. The reserved context value of
              "" (empty string) indicates the GRASP domain used, aka: the
              "local" context in which the service announcement is made. The
              reserved context value of "0" indicates the default routing
              context of the announcing node. This is often called "global
              table", "VRF 0" or "default VRF" on nodes using the "VRF"
              abstraction. Any other value is a string specifying a context
              such as another VRF.<a href="#section-3.3.2-3.18" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.19"></dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.20">The mechanism by which originator and recipient of the
              srv-element agree on common naming for contexts is outside the
              scope of this specification. The context therefore allows to
              indicate locators both for the context through which the GRASP
              message distributed the srv-element (GRASP domain) as well as
              that for other contexts. Assume the GRASP domain is the ACP,
              then clocators in ACP would have a context of "", clocators in
              the global routing table (part of the data-plane) a context of
              "0", and clocators on other VRFs (also part of data-plane) a
              clocator that is their string name.<a href="#section-3.3.2-3.20" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.21"></dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.22">If no locators are indicated, then the locator of the
              service(s) is the optional locator-option of the GRASP message
              in which the objective is contained meant to be used for the
              service(s) indicated and the clocator implied is "".<a href="#section-3.3.2-3.22" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.23"></dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.24">If locator(s) are indicated, the messages location-option
              must be ignored for the service (but may be necessary to be
              present for other purposes of the objective).<a href="#section-3.3.2-3.24" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-3.25">Msg-type</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-3.26">Type (aka: intention) of the srv-element.
              If not present, it is assumed to be "describe".<a href="#section-3.3.2-3.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<span class="break"></span><dl class="dlParallel" id="section-3.3.2-4">
            <dt id="section-3.3.2-4.1">Describe:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-4.2">Describes one service instance. At least
              one clocator is required for a positive response, all other
              fields are permitted, but optional. "Describe" is used in
              M_FLOOD for unsolicited announcements of services (flooded), in
              M_RESPONSE messages for solicited announcements of a service and
              in M_NEGOTIATE for negotiated announcements (both unicasted). If
              clocator is not included, then all fields except service and
              instance (and msg-type and private) must not be included and the
              srv-element provides a negative reply: No information about this
              service/service instance. This is only permitted in unicasted
              "describe" messages.<a href="#section-3.3.2-4.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-4.3">Describe-request:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-4.4">Request for a "describe" reply.
              It is used in M_DISCOVERY (flooded) for solicited discovery of
              services or in M_REQ_SYN (unicasted) for negotiated discovery of
              service instance(s). In "describe-request", only service is
              mandatory (but can be provided via the objective-name field of
              the message), and domain is optional. "Instance" is optional. If
              provided, then the recipient is asked to provide information
              about the named instance only. All other fields of srv-element
              are to be ignored by the receiver in this specification, but a
              semantic for setting them may be introduced in follow-up work,
              specifically to filter replies by the indicated fields.<a href="#section-3.3.2-4.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-4.5"></dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-4.6">"Describe-request" without instance MAY be answered by
              "Enumerate" (see below) if the responder has so many instances
              that it thinks the initiator should rather first select one or
              fewer instances and ask for their description. The sender of te
              "Describe-request" MUST be prepared to accept that answer and as
              necessary follow up with "Describe-request" with the instance
              names of interest.<a href="#section-3.3.2-4.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-4.7">Enumerate:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-4.8">Used in the same GRASP messages as
              "describe", but instead of providing information about one
              service instance, it is listing service instance names. The
              purpose of enumerate is the same as browsing a service in
              DNS-SD. It would be followed by some human or automated
              selection of one or more instances and then a "describe"
              M_REQ_SYN request for those instances sent to the source of the
              "enumerate" to learn about the locators and other parameters of
              the service instances.<a href="#section-3.3.2-4.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-4.9"></dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-4.10">In this specification, all fields other than service,
              instance and domain (and msg-type and private) must be unset in
              "enumerate".<a href="#section-3.3.2-4.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-3.3.2-4.11">Enumerate-request:</dt>
            <dd style="margin-left: 1.5em" id="section-3.3.2-4.12">Requests an "enumerate" reply.
              It is used in the same way as "Describe-request" except that
              instance would usually not be set (because in that case it is
              more useful to send a "Describe-request").<a href="#section-3.3.2-4.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</div>
<div id="name-resolution">
<section id="section-3.3.3">
          <h4 id="name-name-element">
<a href="#section-3.3.3" class="section-number selfRef">3.3.3. </a><a href="#name-name-element" class="section-name selfRef">Name Element</a>
          </h4>
<p id="section-3.3.3-1">The NAME,&lt;name&gt; elements is meant to provide basic name
          resolution comparable to mDNS name resolution for GRASP domains
          where this is desirable and no better name resolution exist - for
          example in the ACP where there is no requirement for DNS.<a href="#section-3.3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3.3-2">Because the GRASP service lookup (unlike) DNS does not mandate
          that nodes have names (not even service instance names), the use of
          names is primarily meant to support legacy software. New designs
          should instead look up only services and service instance names, and
          nodes should announce their names as service instance names for the
          services they offer:<a href="#section-3.3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3.3-3">For example consider a GRASP (ACP) domain of "example.com". The
          node providing some "www" service could have a name "www-internal"
          which means GRASP objective NAME.www-internal, that objective value
          would include primarily the nodes IP address(es) and the port number
          for the www service would have to be guessed (80). Better, the node
          would announce GRASP objective SRV.www and the objective value would
          include the service instance name www-internal and the (TCP) port
          information (80 or a non-default port).<a href="#section-3.3.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.3.3-4">
<pre>


relement-codepoint //= ( &amp;(name-element:3) =&gt; context-element )

context-element //= {
     *( &amp;name:10)         =&gt; tstr),
    }

ipv6-address-option = [O_IPv4_ADDRESS, ipv6-address]
ipv4-address-option = [O_IPv6_ADDRESS, ipv6-address]
locator-option /= ipv4-address-option
locator-option /= ipv6-address-option



</pre><a href="#section-3.3.3-4" class="pilcrow">¶</a>
</div>
<p id="section-3.3.3-5">Name information is carried in the name-element relement. It is a
          context-element like the one used for srv-element except that it
          adds the name component and that it does not permit the service and
          instance components and that it allows only describe and
          describe-request values in the msg-type. Clocators MUST use the
          ipv6-address-option or ipv4-address-option in the locator-option
          component.<a href="#section-3.3.3-5" class="pilcrow">¶</a></p>
<p id="section-3.3.3-6">TBD: Unclear if/how we should best formalize the differences in
          the context element permitted information between services and
          names. The above is quite informal.<a href="#section-3.3.3-6" class="pilcrow">¶</a></p>
<p id="section-3.3.3-7">Priority, weight, kvpairs, range (and of course private) MAY be
          used in describe messages to support multiple instances of the same
          name, as used for name anycast/prioritycast.<a href="#section-3.3.3-7" class="pilcrow">¶</a></p>
<p id="section-3.3.3-8">Nodes may have multiple names. These can be listed in the name
          component. If a nodes names have the notion of a primary name and
          secondary names then the primary name should be the first in the
          list of names. In DNS-SD, the name pointed to by CNAME RRs can be
          considered to be the primary name. A describe-request for a
          non-primary name SHOULD return in the list of names the requested
          name and the primary name.<a href="#section-3.3.3-8" class="pilcrow">¶</a></p>
<p id="section-3.3.3-9">Note that there is no reverse lookup defined in this version of
          the document (no lookup from IP address to name).<a href="#section-3.3.3-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="explanations">
<section id="section-4">
      <h2 id="name-theory-of-operation">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-theory-of-operation" class="section-name selfRef">Theory of Operation</a>
      </h2>
<p id="section-4-1"></p>
<div id="usage">
<section id="section-4.1">
        <h3 id="name-using-grasp-service-announc">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-using-grasp-service-announc" class="section-name selfRef">Using GRASP Service Announcements</a>
        </h3>
<p id="section-4.1-1">TBD: This section contains a range of details that should become
        normative in later versions.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">This section provides a step by step walk-through of how to use
        GRASP service announcements and compares it to DNS-SD.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The most simple method to use GRASP service discovery is to select
        (and if still necessary, register) a &lt;service-name&gt; and start
        one or more agents (e.g.: ASAs) announcing their service instance(s)
        via GRASP. At minimum, an agent should periodically (default 60
        seconds) announce the service instance via GRASP M_FLOOD messages as
        an objective SRV.&lt;service-name&gt; with a srv-element and a
        sender-loop-count element (default 255). The ttl of the GRASP message
        should be 3.5 times the announcement period, e.g.: 210000 msec.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">Consumers of the service will use GRASP to learn of the service
        instances and select one. This approach is most similar to the use of
        DNS-SD with mDNS except that the scope of the announcement is a whole
        GRASP domain (such as the ACP) as opposed to a single IP subnet in
        mDNS and that mDNS primarily relies on request &amp; reply but in its
        standard not on periodic unsolicited announcements. We describe here
        the unsolicited flooding option via M_FLOOD first because it is
        recommended for services with a dense population of service consumers
        and it is most simple to describe.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">On the service announcer, the parameters priority, weight and range
        of the service instance can be selected from intent or configuration -
        or left at default. The default range 255 will result in selection of
        a random target of the service like in DNS-SD. Setting priority/weight
        allows to prioritize and weigh the selection as in DNS-SD. Setting
        range to 0 allows to select the closest target, priority/weight are
        only compared between targets of the same shortest distance. Distance
        based options are not available in DNS-SD because it does not expect
        that network distance is available to arbitrary DNS-SD client. It is
        available to GRASP clients though. Using 0 &lt; range &lt; 255 allows
        for a hybrid priority/weight and distance based service selection
        (e.g.: Select the highest priority instance within a range of 5
        hops).<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">If the service is a non-GRASP service, then the result of the
        service discovery has to be a transport locator to which the client
        can open a connection and talk the protocol implied by the service.
        This transport locator(s) have to be put into the clocator parameter.
        The context of the clocator would normally be "", aka: the transport
        locator is in the IP reachability associated with the GRASP domain
        (e.g.: IPv6 of the ACP for ACP GRASP domain).<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">If an ACP service is announced via ACP GRASP, then the locator(s)
        can be O_IPv6_LOCATOR or O_FQDN_LOCATOR. The O_IPv6_LOCATOR is used if
        the service is defined to be available via some transport layer port
        (TCP, UDP or other). The determination of the actual transport
        connection to be used is the same as in DNS-SD: If the transport
        protocol is not TCP or UDP, it has to be implied by the specification
        of &lt;service-name&gt; or can be detailed in kvpairs which carries
        the same information as DNS-TXT TXT RRs of the service. Alternatively,
        the transport-proto field of the locator can contain any valid IP
        protocol directly (TBD), which is not possible in DNS-SD.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<p id="section-4.1-8">Like DNS-SD, service discovery via GRASP does not require
        allocation and use of well-known ports for services. Unlike DNS-SD,
        there is no need in GRASP to define service instance names or target
        names. In DNS SD, PTR RRs resolve from a service name to a set of
        service instance named. SRV and TXT RRs resolve from service instance
        names to service instance parameters including the target. A target is
        the DNS host name of the service instance. It gets resolved via A/AAAA
        RRs to IPv4/IPv6 addresses of the target. In GRASP service discovery,
        host names are not used. Service instance names are optional too.
        Service instance names are useful for human diagnostics and human
        selection of service instances. In fully automated environments, they
        can be are less important. For diagnostic purposes, it is recommended
        to give service instances service instance names in GRASP service
        announcements.<a href="#section-4.1-8" class="pilcrow">¶</a></p>
<p id="section-4.1-9">A locator with O_URI_LOCATOR type can be used in GRASP to indicate
        a URI for the transport method for a service instance. If the URI
        includes a host part, care must be taken to use only IP addresses in
        the host part if the context of the GRASP domain does not support host
        name resolution - such as the ACP - or to use the GRASP name
        resolution mechanisms described elsewhere in this document. And that
        the addresses indicated are also reachable in the GRASP domain. For
        example, in service announcements across a DULL GRASP domain, only the
        IPv6 link-local addresses on that subnet must be used (this applies
        equally when using the O_IPv6_LOCATOR).<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1-10">Instead of using M_FLOOD to periodically announce service
        instances, M_DISCOVERY can be used to actively query for service
        instances. The msg-type type must then be "describe-request". Because
        no periodic flooding is necessary, this solution is more lightweight
        for the network when the number of requesting clients is small. Note
        though that the M_DISCOVERY will terminate as soon as a provider of
        the objective is found, so the service instances found will be based
        on distance and therefore selection of instance by priority and weight
        will not work equally well as with M_FLOOD. Consider for example a
        central service instance in the NOC that should always be used (for
        example for centralized operational diagnostics) unless the WAN
        connection is broken, in which case distributed backup service
        instances should be used. With the current logic of M_DISCOVERY this
        is not possible.<a href="#section-4.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dnssd-comparison">
<section id="section-4.2">
        <h3 id="name-further-comparison-with-dns">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-further-comparison-with-dns" class="section-name selfRef">Further Comparison with DNS-SD</a>
        </h3>
<p id="section-4.2-1">Neither the GRASP SRV.* objective-name, the service name nor any
        other parameter explicitly indicate the second label "_tcp" or "_udp"
        of DNS-SD entries. DNS-SD, RFC6763 explains how this is an
        unnecessary, historic artifact.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">This version of the document does not define an equivalent to
        "_sub" structuring of service enumeration.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">This version of the document does not define mechanisms for reverse
        resolution of arbitrary services: An inquirer may unicast M_SYNC_REC
        to a node with a series of objectives with specific service names of
        interest and describe-request, but there is no indication of "ANY"
        service.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="open-issues">
<section id="section-4.3">
        <h3 id="name-open-issues">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-open-issues" class="section-name selfRef">Open Issues</a>
        </h3>
<p id="section-4.3-1">TBD: Examine limitations mentioned in "in this version of the
        text/document".<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">TBD: The GRASP specification does currently only permit TCP and UDP
        for the transport-proto element. This draft should expand the GRASP
        definitions to permit any valid IP protocol. We just need to decide
        whether this should only apply to the locator in the srv element or
        also retroactive to the locator-option in GRASP messages (maybe not
        there ?).<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">TBD: A fitting CBOR representation for a kvpair key without value
        needs to be specified so that it can be distinguished from an empty
        value as outlined in RFC6763 section 6.4.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">TBD: In this version, every service/service-instance is an element
        by itself. Future versions of this document may add more encoding
        options to allow more compact encoding of recurring fields.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">TBD: Is there a way in CDDL to formally define the string names of
        the relement-codepoint's ?<a href="#section-4.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-5">
      <h2 id="name-security-considerations-4">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-security-considerations-4" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-5-1">TBD.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">GRASP-related security issues are discussed in Section 3 of <span>[<a href="#RFC8990" class="xref">RFC8990</a>]</span>.<a href="#section-5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-6">
      <h2 id="name-iana-considerations-4">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations-4" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1">This document requests IANA to create a new "GRASP Objective Value
      Standard Elements" subregistry under the "GeneRic Autonomic Signaling
      Protocol (GRASP) Parameters" registry.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The values in this table are names and a unique numerical value
      assigned to each name. Future values MUST be assigned using the RFC
      Required policy as dedfined in Section 4.7 of <span>[<a href="#RFC8126" class="xref">RFC8126</a>]</span>. The numerical value is simply to be assigned
      sequentially. The following initial values are assigned by this
      document:<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">sender-loop-count 1 [defined in rfcXXXX]<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">srv-element 2 [defined in rfcXXXX]<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">name-element 3 [defined in rfcXXXX]<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">This document updates the handling of the "GRASP Objective Names"
      Table introduced in the GRASP IANA considerations as follows:<a href="#section-6-6" class="pilcrow">¶</a></p>
<p id="section-6-7">Assignments for objective-names of the form "SRV.&lt;text&gt;" and
      "NAME.&lt;text&gt;" are special.<a href="#section-6-7" class="pilcrow">¶</a></p>
<p id="section-6-8">Assignment of "SRV.&lt;text&gt;" can only be requested if
      &lt;text&gt; is also a registered service-name according to RFC6335. The
      specification required for registration of a "GRASP Objective Name" MUST
      declare that the intended use of the objective name in GRASP is intended
      to be compatible with the indented use of the registered service
      name.<a href="#section-6-8" class="pilcrow">¶</a></p>
<p id="section-6-9">Registration of "SRV.&lt;text&gt;" in the "GRASP Objective Name"
      table is optional, but recommended for all new service-names that are
      meant to be used with GRASP. Non-registration can for example happen
      with DNS-SD &lt;-&gt; GRASP gateways that inject pre-existing
      service-names into GRASP. Note that according to the GRASP RFC,
      registration is mandatory, so this exemption for "SRV.&lt;text&gt;" is
      also an update to that specification.<a href="#section-6-9" class="pilcrow">¶</a></p>
<p id="section-6-10">There MUST NOT be any assignment for objective names of the form
      "NAME.&lt;text&gt;". These names are simply used by GRASP nodes without
      registration (just like names in mDNS).<a href="#section-6-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ack">
<section id="section-7">
      <h2 id="name-acknowledgements-4">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-acknowledgements-4" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-7-1"></p>
</section>
</div>
<div id="contributors">
<section id="section-8">
      <h2 id="name-contributors-2">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-contributors-2" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-8-1">Brian Carpenter<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes">
<section id="section-9">
      <h2 id="name-change-log-rfc-editor-pleas">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-change-log-rfc-editor-pleas" class="section-name selfRef">Change log [RFC Editor: Please remove]</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-03-refresh">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-03-refresh" class="section-name selfRef">03 - Refresh</a>
      </h3>
</section>
<section id="section-9.2">
        <h3 id="name-02-revived-after-charter-ro">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-02-revived-after-charter-ro" class="section-name selfRef">02 - Revived after charter round 1 finished</a>
        </h3>
<p id="section-9.2-1">Reviving after ANIMA charter 01 is finished, adding new co-authors, contributors.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">Textual improvements, updating references.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-9.3">
        <h3 id="name-01-">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-01-" class="section-name selfRef">01 -</a>
        </h3>
<p id="section-9.3-1">Only refreshing, no changes since -00.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-9.4">
        <h3 id="name-00-initial-version">
<a href="#section-9.4" class="section-number selfRef">9.4. </a><a href="#name-00-initial-version" class="section-name selfRef">00 - Initial version</a>
      </h3>
</section>
</section>
</div>
<section id="section-10">
      <h2 id="name-references-2">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references-2" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references-4">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references-4" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6763">[RFC6763]</dt>
        <dd>
<span class="refAuthor">Cheshire, S.</span> and <span class="refAuthor">M. Krochmal</span>, <span class="refTitle">"DNS-Based Service Discovery"</span>, <span class="seriesInfo">RFC 6763</span>, <span class="seriesInfo">DOI 10.17487/RFC6763</span>, <time datetime="2013-02" class="refDate">February 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6763">https://www.rfc-editor.org/info/rfc6763</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8126">[RFC8126]</dt>
        <dd>
<span class="refAuthor">Cotton, M.</span>, <span class="refAuthor">Leiba, B.</span>, and <span class="refAuthor">T. Narten</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">BCP 26</span>, <span class="seriesInfo">RFC 8126</span>, <span class="seriesInfo">DOI 10.17487/RFC8126</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8126">https://www.rfc-editor.org/info/rfc8126</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8990">[RFC8990]</dt>
      <dd>
<span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Carpenter, B., Ed.</span>, and <span class="refAuthor">B. Liu, Ed.</span>, <span class="refTitle">"GeneRic Autonomic Signaling Protocol (GRASP)"</span>, <span class="seriesInfo">RFC 8990</span>, <span class="seriesInfo">DOI 10.17487/RFC8990</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8990">https://www.rfc-editor.org/info/rfc8990</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references-3">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references-3" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC8994">[RFC8994]</dt>
      <dd>
<span class="refAuthor">Eckert, T., Ed.</span>, <span class="refAuthor">Behringer, M., Ed.</span>, and <span class="refAuthor">S. Bjarnason</span>, <span class="refTitle">"An Autonomic Control Plane (ACP)"</span>, <span class="seriesInfo">RFC 8994</span>, <span class="seriesInfo">DOI 10.17487/RFC8994</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8994">https://www.rfc-editor.org/info/rfc8994</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses-4">
<a href="#name-authors-addresses-4" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Toerless Eckert</span></div>
<div dir="auto" class="left"><span class="org">Futurewei Technologies USA Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">2220 Central Expressway</span></div>
<div dir="auto" class="left">
<span class="locality">Santa Clara</span>,  <span class="postal-code">95050</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tte+ietf@cs.fau.de" class="email">tte+ietf@cs.fau.de</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mohamed Boucadair</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left">
<span class="postal-code">35000</span> <span class="locality">Rennes</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mohamed.boucadair@orange.com" class="email">mohamed.boucadair@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Christian Jacquenet</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left">
<span class="postal-code">35000</span> <span class="locality">Rennes</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:christian.jacquenet@orange.com" class="email">christian.jacquenet@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael H. Behringer</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:michael.h.behringer@gmail.com" class="email">michael.h.behringer@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
