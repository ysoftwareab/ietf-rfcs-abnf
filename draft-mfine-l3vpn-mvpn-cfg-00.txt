


Network Working Group                                            M. Fine
Internet-Draft                                                    R. Qiu
Intended status: Standards Track                          Alcatel-Lucent
Expires: January 3, 2010                                    July 2, 2009


  Multicast in MPLS/BGP IP VPN Configuration BGP Extended Communities
                     draft-mfine-l3vpn-mvpn-cfg-00

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 3, 2010.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   This document defines new BGP extended communities for exchanging
   Multicast in MPLS/BGP IP VPN configuration.




Fine & Qiu               Expires January 3, 2010                [Page 1]

Internet-Draft             MVPN Configuration                  July 2009


Table of Contents

   1.  Requirements Language . . . . . . . . . . . . . . . . . . . . . 3
   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
   3.  MVPN Intra-AS Configuration Extended Community  . . . . . . . . 3
   4.  MVPN Inter-AS Configuration Extended Community  . . . . . . . . 5
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 6
   6.  Security Considerations . . . . . . . . . . . . . . . . . . . . 6
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . . . 6
     7.1.  Normative References  . . . . . . . . . . . . . . . . . . . 6
     7.2.  Informative References  . . . . . . . . . . . . . . . . . . 7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 7







































Fine & Qiu               Expires January 3, 2010                [Page 2]

Internet-Draft             MVPN Configuration                  July 2009


1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Introduction

   The document [I-D.ietf-l3vpn-2547bis-mcast] provides a framework for
   handling IP multicast traffic from one customer site to another, and
   specifies how a number of different protocols fit together to support
   it.  The framework provides a range of configurable protocol options
   that are not all interoperable from one customer site to another.
   The framework does not provide a way to specify configurable protocol
   options or to identify misconfigurations.

   This document describes a mechanism for specifying a configuration
   for handling IP multicast traffic from one customer site to another.
   The mechanism specifies configurable protocol options and identifies
   misconfigurations.

   This document defines new BGP extended communities for exchanging
   Multicast in MPLS/BGP IP VPN configuration.


3.  MVPN Intra-AS Configuration Extended Community

   This document defines a new BGP extended community called MVPN
   Intra-AS Configuration.

   MVPN Intra-AS Configuration is an IP address specific extended
   community, of an extended type, and is transitive across AS
   boundaries [RFC4360].

   The Global Administrator field of this community MUST be set to the
   an IP address of the PE.  This address SHOULD be common for all the
   VRFs on the PE.













Fine & Qiu               Expires January 3, 2010                [Page 3]

Internet-Draft             MVPN Configuration                  July 2009


   The Local Administrator field of this community is encoded as
   follows:


      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
                                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                                     |I| S | C |                     |
                                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   This document defines the following fields:

      I - Inter-Site Shared C-Trees Support
      S - S-PMSI Bindings Exchange Mode
      C - C-Multicast Routes Exchange Mode

   The Inter-Site Shared C-Trees Support field indicates whether a given
   MVPN supports inter-site shared C-trees.  This document defines the
   following values for this field:

      0 - inter-site shared C-trees are not supported;
      1 - inter-site shared C-trees are supported.

   The S-PMSI Bindings Exchange Mode field indicates which S-PMSI
   bindings transmission method a given MVPN supports.  This document
   defines the following values for this field:

      0 - S-PMSI bindings are not exchanged;
      1 - S-PMSI bindings are exchanged with UDP-based protocols;
      2 - S-PMSI bindings are exchanged with BGP protcools.

   The C-Multicast Routes Exchange Mode field indicates which
   C-multicast routes transimission method a given MVPN supports.  This
   document defines the following values for this field:

      0 - C-multicast routes are not exchanged;
      1 - C-multicast routes are exchanged with PIM protocols;
      2 - C-multicast routes are exchanged with BGP protocols.

   An implementation that supports MVPN Intra-AS Configuration considers
   this extended community malformed if it contains either an undefined
   C-Multicast Routes Exchange Mode or an undefined S-PMSI Bindings
   Exchange Mode.

   An implementation MUST provide debugging facilities to permit issues
   caused by the malformed MVPN Intra-AS Configuration to be diagnosed.

   The MVPN Intra-AS Configuration is used in conjunction with Intra-AS



Fine & Qiu               Expires January 3, 2010                [Page 4]

Internet-Draft             MVPN Configuration                  July 2009


   I-PMSI A-D routes.  When an implementation originates an Intra-AS
   I-PMSI route it MUST carry a MVPN Intra-AS Configuration describing
   the configured protocol options for the MVPN on the PE.

   Discovery of PE capabilities in terms of what protocol options they
   support is outside the scope of this document.


4.  MVPN Inter-AS Configuration Extended Community

   This document defines a new BGP extended community called MVPN
   Inter-AS Configuration.

   MVPN Inter-AS Configuration is an AS specific extended community, of
   an extended type, and is transitive across AS boundaries [RFC4360].

   The Global Administrator field of this community MUST be set to the
   autonomous system number of the PE.

   The Local Administrator field of this community is encoded as
   follows:


     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |I| S |                                                         |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   This document defines the following fields:

      I - Inter-Site Shared C-Trees Support
      S - S-PMSI Bindings Exchange Mode

   The Inter-Site Shared C-Trees Support field indicates whether a given
   MVPN supports inter-site shared C-trees.  This document defines the
   following values for this field:

      0 - inter-site shared C-trees are not supported;
      1 - inter-site shared C-trees are supported.











Fine & Qiu               Expires January 3, 2010                [Page 5]

Internet-Draft             MVPN Configuration                  July 2009


   The S-PMSI Bindings Exchange Mode field indicates which S-PMSI
   bindings transmission method a given MVPN supports.  This document
   defines the following values for this field:

      0 - S-PMSI bindings are not exchanged;
      1 - S-PMSI bindings are exchanged with UDP-based protocols;
      2 - S-PMSI bindings are exchanged with BGP protcools.

   An implementation that supports MVPN Inter-AS Configuration considers
   this extended community malformed if it contains either an undefined
   S-PMSI Bindings Exchange Mode.

   An implementation MUST provide debugging facilities to permit issues
   caused by the malformed MVPN Inter-AS Configuration to be diagnosed.

   The MVPN Inter-AS Configuration is used in conjunction with Inter-AS
   I-PMSI A-D routes.  When an implementation originates an Inter-AS
   I-PMSI route it MUST carry a MVPN Inter-AS Configuration describing
   the configured protocol options for the MVPN in the AS.

   Discovery of AS capabilities in terms of what protocol options they
   support is outside the scope of this document.


5.  IANA Considerations

   This document introduces a new BGP extended community called MVPN
   Intra-AS Configuration.  This community is IP address specific, of an
   extended type, and is transitive.

   This document introduces a new BGP extended community called MVPN
   Inter-AS Configuration.  This community is AS specific, of an
   extended type, and is transitive.


6.  Security Considerations

   There are no additional security risks introduced by this design.


7.  References

7.1.  Normative References

   [I-D.ietf-l3vpn-2547bis-mcast]
              Aggarwal, R., Bandi, S., Cai, Y., Morin, T., Rekhter, Y.,
              Rosen, E., Wijnands, I., and S. Yasukawa, "Multicast in
              MPLS/BGP IP VPNs", draft-ietf-l3vpn-2547bis-mcast-08 (work



Fine & Qiu               Expires January 3, 2010                [Page 6]

Internet-Draft             MVPN Configuration                  July 2009


              in progress), March 2009.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC4360]  Sangli, S., Tappan, D., and Y. Rekhter, "BGP Extended
              Communities Attribute", RFC 4360, February 2006.

7.2.  Informative References

   [I-D.ietf-l3vpn-2547bis-mcast-bgp]
              Aggarwal, R., Rosen, E., Morin, T., and Y. Rekhter, "BGP
              Encodings and Procedures for Multicast in MPLS/BGP IP
              VPNs", draft-ietf-l3vpn-2547bis-mcast-bgp-07 (work in
              progress), April 2009.


Authors' Addresses

   Mark Fine
   Alcatel-Lucent
   701 E Middlefield Road
   Mountain View, CA  94043
   USA

   Email: mark.fine@alcatel-lucent.com


   Ray Qiu
   Alcatel-Lucent
   701 E Middlefield Road
   Mountain View, CA  94043
   USA

   Email: ray.qiu@alcatel-lucent.com
















Fine & Qiu               Expires January 3, 2010                [Page 7]

