<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BIER Deployment and Operation: Challenges and Solution Approaches</title>
<meta content="Jingrong Xie" name="author">
<meta content="Fanghong Duan" name="author">
<meta content="
       As a new multicast architecture, BIER   has been an IETF standard for years. 
      It has been evaluated in some networks for some scenarios.
      Some challenges related to its deployment, operation, maintenance, and extensibility are raised. 
      This document reviews and describes the challenges related to its deployment, 
      and try to figure out the potential solution approches.  
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-xie-mboned-bier-deploy-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-xie-mboned-bier-deploy-00-r00aolqa.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">BIER Deployment Challenges</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Xie &amp; Duan</td>
<td class="center">Expires 26 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-xie-mboned-bier-deploy-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-23" class="published">23 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-26">26 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Xie</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">F. Duan</div>
<div class="org">Huawei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BIER Deployment and Operation: Challenges and Solution Approaches</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">As a new multicast architecture, BIER <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span> has been an IETF standard for years. 
      It has been evaluated in some networks for some scenarios.
      Some challenges related to its deployment, operation, maintenance, and extensibility are raised. 
      This document reviews and describes the challenges related to its deployment, 
      and try to figure out the potential solution approches.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in BCP 14
      <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when,
      they appear in all capitals, as shown here.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 26 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-challenges-for-inter-domain" class="xref">Challenges for Inter-domain Deployment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-protocol-ambiguity-for-bier" class="xref">Protocol ambiguity for BIER advertisement in BGP</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-multi-hop-bfr-nbr-support-a" class="xref">Multi-hop BFR-NBR Support as an Inherent Requirement</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-anycast-bier-label-for-redu" class="xref">Anycast BIER-Label for Redundant ASBR deployment</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-overlapped-bfr-id-assignmen" class="xref">Overlapped BFR-id Assignment in Different Domains</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.5">
                <p id="section-toc.1-1.2.2.5.1"><a href="#section-2.5" class="xref">2.5</a>.  <a href="#name-summary-of-challenges-in-in" class="xref">Summary of Challenges in Inter-domain Deployment</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-challenges-for-brownfield-d" class="xref">Challenges for Brownfield Deployment</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-adding-bypass-tunnel-for-in" class="xref">Adding Bypass tunnel for Intermediate Nodes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-removing-popping-bier-heade" class="xref">Removing (Popping) BIER Header for Edge Nodes</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-summary-of-challenges-in-br" class="xref">Summary of Challenges in Brownfield Deployment</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">As a new multicast architecture, BIER <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span> has been an IETF standard for years. 
      It has been evaluated in some networks for some scenarios.
      Some challenges related to its deployment, operation, maintenance, and extensibility are raised. 
      This document reviews and describes the challenges related to its deployment, 
      and try to figure out the potential solution approches.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2"></p>
</section>
<section id="section-2">
      <h2 id="name-challenges-for-inter-domain">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-challenges-for-inter-domain" class="section-name selfRef">Challenges for Inter-domain Deployment</a>
      </h2>
<p id="section-2-1"></p>
<section id="section-2.1">
        <h3 id="name-protocol-ambiguity-for-bier">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-protocol-ambiguity-for-bier" class="section-name selfRef">Protocol ambiguity for BIER advertisement in BGP</a>
        </h3>
<p id="section-2.1-1">The following figure demonstrates an inter-domain network 
         where a single BIER sub-domainis deployed across 
         the whole BIER domain (multiple domains of an administrative entity, e.g., a Service Provider's network), 
         and where MVPN service(s) deployed on the Edge PE1x/PE2x/PE3x.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<span id="name-bier-inter-domain-deploymen"></span><figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-2.1-2.1">
<pre>
                                             +---------------------+
                                             |  Metro 2 (AS 65002) |
                                             | +-----+    +------+ |
                                       +-------| BR2 |    | PE2x |---RCV
                                     /       | +-----+    +------+ |
                                   /         +---------------------+
       +---------------------+   /             Bfr-id 1 to 256
       | Backbone (AS 65001) | /
       | +------+    +-----+ /
   SRC---| PE1x |    | BR1 | |
       | +------+    +-----+ \
       +---------------------+ \                Bfr-id 257 to 512
            |                    \           +---------------------+
            |                      \         |  Metro 3 (AS 65003) |
            |                        \       | +-----+    +------+ |
            |                          +-------| BR3 |    | PE3x |---RCV
            |                                | +-----+    +------+ |
            |                                +---------------------+
            |                                                 |
            |&lt;------------------ BIER Domain ----------------&gt;|
            |&lt;---------------- BIER Sub-Domain X-------------&gt;|
            |&lt;------------------ MVPN services---------------&gt;|

    BR = Border Router
    SRC = Multicast Source
    RCV = Multicast Receiver
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-bier-inter-domain-deploymen" class="selfRef">BIER Inter Domain Deployment</a>
          </figcaption></figure>
<p id="section-2.1-3">In this figure, router BR2 needs to receive BIER information advertisement
        from PE2x and other routers in Metro 2 by IGP (e.g., IS-IS or OSPF), and 
        re-advertise these BIER information to BR1 using eBGP. This means that, 
        BR2 needs to use mixed protocols for BIER information advertisement in a single sub-domain.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4">Such kind of mixed underlay-protocols usage for a single BIER sub-domain could also happen in intra-domain case. 
        <span>[<a href="#I-D.ietf-bier-prefix-redistribute" class="xref">I-D.ietf-bier-prefix-redistribute</a>]</span> describes such a case 
        where an Area-Border-Router(ABR) uses different IGP protocols in different interfaces, 
        and these interfaces are belonging to a single BIER sub-domain.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5">However, BIER architecture <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span> requires that only one 
         routing underlay could be used for a single Sub-domain.<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">Draft <span>[<a href="#I-D.ietf-bier-prefix-redistribute" class="xref">I-D.ietf-bier-prefix-redistribute</a>]</span> defines a new TLV structure named 
        BIER proxy range sub-TLV for mixed protocols, including BGP to use. 
        However, it does not clearly specify how to use this TLV in BGP, e.g, what
        BGP attribute to carry this TLV, and what AFI/SAFI used for the advertisement.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">Draft <span>[<a href="#I-D.ietf-bier-idr-extensions" class="xref">I-D.ietf-bier-idr-extensions</a>]</span> defines a new BGP Path named BIER Path in section 3, 
        with a sub-TLV named BIER MPLS Encapsulation sub-TLV in the same section, but lacks
        description what SAFI/AFI used to carry the BIER Path attribute explicitly.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1-8">This situlation leads to the challenge of BIER deployment in Inter-domain network 
        as illustrated above. This document suggests clarifications are made in the above document by IETF.
        For example, it may be considered to use BGP SAFI-1/2 routes 
        to carry BIER Path, and use BIER Path to carry the BIER proxy range sub-TLV for inter-domain advertisement.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1-9"></p>
</section>
<section id="section-2.2">
        <h3 id="name-multi-hop-bfr-nbr-support-a">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-multi-hop-bfr-nbr-support-a" class="section-name selfRef">Multi-hop BFR-NBR Support as an Inherent Requirement</a>
        </h3>
<p id="section-2.2-1">In above figure, router BR2 re-advertise BIER information to BR1 using eBGP. 
        Accordingly, BR1 needs to receive the BIER information advertisement from BR2 using eBGP,  
        and re-advertise these BIER information to PE1x, either through IGP or iBGP.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">A common practice for 
        inter-domain routing is to seperate the routing procedure into two layers, 
        1st layer is BGP routing to determine non-direct BGP next-hop, 
        2nd layer is IGP routing to determine direct IGP next-hop based on the BGP/non-direct next-hop.
        For BIER inter-domain deployment as illustrated in the above figure, the preferred
        solution is to use iBGP on BR1 to re-advertise the BIER information to PE1x,
        and PE1x set BR1 (the BGP/non-direct nexthop) as the non-direct BFR-NBR to BFERs in Metro-2 and Metro-3.
        In another word, non-direct BFR-NBR support is an inherent requirement for BIER inter-domain deployment.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2-3">Unfortunately the BIER architecture [RFC8279] is built on L2 and  
        the non-direct BFR-NBR or Multi-hop BFR-NBR support is optional.
        This means that, every time a Non-direct BFR-NBR is used, another layer
        of "bypass tunnel" needs to be used on the top of the BIER header for multi-hop BFR-NBR reaching.
        The function seems fine, but there are implications to the operation and maintenance aspects.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2-4">Firstly a policy should be configured to select what type(s) of tunnel are preferred. 
        Some network operator may prefer to use "MPLS LSP" as the "bypass tunnel", and then there 
        are multiple options "LDP LSP", "RSVP-TE LSP", "SR-MPLS LSP" for the selection.
        Some network operator may prefer to use IP, GRE, or UDP tunnel.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<p id="section-2.2-5">Secondly the protocols and identifiers bound to these "bypass tunnel" have to be 
         taken into the BIER routing and forwarding information.
  Different tunnel type means different tunnel identifier in control plane for operation and maintenance.
         For example, LDP tunnel means FEC object <span>[<a href="#RFC5036" class="xref">RFC5036</a>]</span>, 
  RSVP-TE tunnel means Session Object <span>[<a href="#RFC3209" class="xref">RFC3209</a>]</span>, 
         SR tunnel means SRGB block and the index object <span>[<a href="#RFC8660" class="xref">RFC8660</a>]</span>, 
  and IP/UDP/GRE tunnel means the IP Endpoint/UDP port/GRE key object. 
  Accordingly, network administrators need to debug these protocols and 
  the various identifiers additionally in operation and troubleshooting.<a href="#section-2.2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3">
        <h3 id="name-anycast-bier-label-for-redu">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-anycast-bier-label-for-redu" class="section-name selfRef">Anycast BIER-Label for Redundant ASBR deployment</a>
        </h3>
<p id="section-2.3-1"></p>
<p id="section-2.3-2">The following figure demonstrates an inter-domain network (of an 
         administrative entity, e.g., a Service Provider's network), 
         where redundant ASBRs is deployed.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<span id="name-bier-inter-domain-deployment"></span><figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-2.3-3.1">
<pre>
                                             +---------------------+
                                             |  Metro 2 (AS 65002) |
                                             | +-----+    +------+ |
                                     +---------| BR2a|    | PE2x |---RCV
                                    /        | +-----+    +------+ |
                                   /         | +-----+             |
                                  /  +---------| BR2b|             |
                                 /  /        | +-----+             |
                                /  /         +---------------------+
       +---------------------+ /  /             Bfr-id 1 to 256
       | Backbone (AS 65001) |/  /
       | +------+    +-----+ /  /
   SRC---| PE1x |    | BR1a| | /
       | +------+    +-----+ \/
       |             +-----+ /\
       |             | BR1b| | \
       |             +-----+ |  \
       +---------------------\   \               Bfr-id 257 to 512
            |                 \   \          +---------------------+
            |                  \   \         |  Metro 3 (AS 65003) |
            |                   \   \        | +-----+    +------+ |
            |                    \   +---------| BR3a|    | PE3x |---RCV
            |                     \          | +-----+    +------+ |
            |                      \         | +-----+             |
            |                       +----------| BR3b|             |
            |                                | +-----+             |
            |                                +---------------------+
            |                                                 |
            |&lt;------------------ BIER Domain ----------------&gt;|
            |&lt;---------------- BIER Sub-Domain X-------------&gt;|
            |&lt;------------------ MVPN services---------------&gt;|

    BR = Border Router
    SRC = Multicast Source
    RCV = Multicast Receiver
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-bier-inter-domain-deployment" class="selfRef">BIER Inter Domain Deployment Redundant</a>
          </figcaption></figure>
<p id="section-2.3-4">In this figure, a common practice is to use anycast mechanism for service protection.
        For example, BR1a and BR1b share a same identifier called anycast ID, where the anycast ID 
        could be an IP address or an SRGB label <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>. Take unicast IP address as
        an example, PE1x send a BIER packet to Metro-2 or Metro-3 through the backbone border using the anycast IP address
        without awareness of the two nodes and its state.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
<p id="section-2.3-5">Usually such an anycast ID is a per node-pair allocation policy.<a href="#section-2.3-5" class="pilcrow">¶</a></p>
<p id="section-2.3-6">In BIER-MPLS <span>[<a href="#RFC8296" class="xref">RFC8296</a>]</span> design, the first 4 octets of BIER header is 
        an MPLS label with the S bit set to 1 to indicate the bottom of the MPLS label stack.
        It applies to a per-SD/BSL/SI allocation policy and thus defined as 
        "locally significant" in section 2.1.1.1 of <span>[<a href="#RFC8296" class="xref">RFC8296</a>]</span>.<a href="#section-2.3-6" class="pilcrow">¶</a></p>
<p id="section-2.3-7">If BR1a and BR1b want to deploy anycast mechanism for service protection, then 
        SRGB label need to be used for BIER-MPLS label allocation on a Per-SD/BSL/SI base. 
        It is needed to use manual configuration on each node due to the shortage of SRGB label
        for automatic allocation.<a href="#section-2.3-7" class="pilcrow">¶</a></p>
<p id="section-2.3-8">In addition, the BR1a and BR1b need to have the same (at least overlapped) SRGB label space 
        to ensure the anycast BIER-MPLS value is absolutely equal.     
        Basically it does not require the SRGB label space to be absolutely equal in Segment Routing architecture <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>,  
        but in anycast Label case, it needs the absolute equivalence. 
        If BR1a and BR1b have different SRGB label space, the deployment of 
        anycast BIER-MPLS scheme is still challengeable.<a href="#section-2.3-8" class="pilcrow">¶</a></p>
<p id="section-2.3-9">Note that, Non-MPLS BIER encapsulation uses a different L2 protocol 
        indication (typically Ethertype 0xAB37) to indicate the BIER header following the L2 header. 
        In such case, the first 4 octets of the BIER header is not an MPLS label encoding.
        The 20-bit BIFT-id field of BIER header is wide enough for automaticlly mapping from SD/BSL/SI
        by using the method in <span>[<a href="#I-D.ietf-bier-non-mpls-bift-encoding" class="xref">I-D.ietf-bier-non-mpls-bift-encoding</a>]</span>.<a href="#section-2.3-9" class="pilcrow">¶</a></p>
<p id="section-2.3-10"></p>
</section>
<section id="section-2.4">
        <h3 id="name-overlapped-bfr-id-assignmen">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-overlapped-bfr-id-assignmen" class="section-name selfRef">Overlapped BFR-id Assignment in Different Domains</a>
        </h3>
<p id="section-2.4-1">Intra-domain usually needs to consider a router to be added without 
         much impact to existing routers. Given this, the BFR-id assignment in 
         Intra-domain scenario need to reserve some BFR-id space (holes) in the 
         earlier range.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">Following is quoted from RFC8279 section 2 verbatim.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.4-3.1">The procedure for assigning a particular BFR-id to a particular BFR
           is outside the scope of this document.  However, it is RECOMMENDED
           that the BFR-ids for each sub-domain be assigned "densely" from the
           numbering space, as this will result in a more efficient encoding
           (see Section 3).  That is, if there are 256 or fewer BFERs, it is
           RECOMMENDED to assign all the BFR-ids from the range [1,256].  If
           there are more than 256 BFERs but less than 512, it is RECOMMENDED to
           assign all the BFR-ids from the range [1,512], with as few "holes" as
           possible in the earlier range. However, in some deployments, it may
           be advantageous to depart from this recommendation; this is discussed
           further in Section 3.<a href="#section-2.4-3.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.4-4">Following is quoted from RFC8279 section 3 verbatim.<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.4-5.1"> In order to minimize the number of copies that must be made of a
           given multicast packet, it is RECOMMENDED that the BFR-ids used in a
           given sub-domain be assigned "densely" (see Section 2) from the
           numbering space.  This will minimize the number of SIs that have to
           be used in that sub-domain.  However, depending upon the details of a
           particular deployment, other assignment methods may be more
           advantageous.  Suppose, for example, that in a certain deployment,
           every multicast flow is intended either for the "east coast" or for
           the "west coast", but not for both coasts.  In such a deployment, it
           would be advantageous to assign BFR-ids so that all the "west coast"
           BFR-ids fall into the same SI-subset and so that all the "east coast"
           BFR-ids fall into the same SI-subset.<a href="#section-2.4-5.1" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.4-6">The BFR-id assignment recommendation above can be summarized as a hierarchical rule:
         A whole set/block (1-256 are a set for example) is assigned to a network-region (east coast or 
         west coast) of a network, where some "holes" in the block are reserved 
         to allow nodes adding in the future without crossing the border of a set.<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<p id="section-2.4-7">Inter-domain allows a domain to be added without much impact to existing domains.
         It adds another level of constraints when considering the BFR-id assignment.
         Extending the hierarchical rule, an overlapped BFR-id assignment scheme may be considered. 
         The following figure illustrates the scheme:<a href="#section-2.4-7" class="pilcrow">¶</a></p>
<span id="name-overlapped-bfr-id-assignment"></span><figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-2.4-8.1">
<pre>
                                             +---------------------+
                                             |  Metro 2 (AS 65002) |
                                             | +-----+    +------+ |
                                       +-------| BR2 |    | PE2x |---RCV
                                     /       | +-----+    +------+ |
                                   /         +---------------------+
       +---------------------+   /             Bfr-id 1 to 1024
       | Backbone (AS 65001) | /
       | +------+    +-----+ /
   SRC---| PE1x |    | BR1 | |
       | +------+    +-----+ \
       +---------------------+ \                Bfr-id 1 to 1024
          Bfr-id 1 to 1024       \           +---------------------+
                                   \         |  Metro 3 (AS 65003) |
                                     \       | +-----+    +------+ |
                                       +-------| BR3 |    | PE3x |---RCV
                                             | +-----+    +------+ |
                                             +---------------------+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-overlapped-bfr-id-assignment" class="selfRef">Overlapped BFR-id Assignment</a>
          </figcaption></figure>
<p id="section-2.4-9">In this scheme, each domain (Backbone, Metro-2, Metro-3) has a bigger BFR-id space (1 to 1024 for example),
        and within each domain, the hierarchical rule is further used to assign 
        block of BFR-id (1 to 256 for example) to a network-region, 
        and holes in the block are reserved for each network-region to expend its nodes in the future.<a href="#section-2.4-9" class="pilcrow">¶</a></p>
<p id="section-2.4-10">When a packet is transmitted from PE1x to PE2x, PE1x forwards it through a multi-hop
        crossing-domain tunnel from PE1x to BR2, and BR2 does the rest BIER forwarding inside the domain. 
        Again, the multi-hop BFR-NBR support is an Inherent Requirement in this scheme.<a href="#section-2.4-10" class="pilcrow">¶</a></p>
<p id="section-2.4-11">This scheme will provide a clear BFR-id assignment for inter-domain deployment,
        and extends the multicast deployment to beyond the 256 set limitation by using 
        the combination of Ingress-Replication and BIER. Note the multiple Set is a combination
        of Ingress-Replication and BIER too. Below is an example of such extensibility:<a href="#section-2.4-11" class="pilcrow">¶</a></p>
<span id="name-overlapped-bfr-id-assignment-"></span><figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-2.4-12.1">
<pre>

          R1a    R1b          R2a   R2b        R3a   R3b
       +---+-----+---+   +---+-----+---+   +---+-----+---+
       | (AS 65001)  |   | (AS 65002)  |   | (AS 65003)  |
    S1-+             |   |             |   |             |
  (src)|  (bfr-id    |   |  (bfr-id    |   |  (bfr-id    |
       | (1 to 1024) |   | (1 to 1024) |   | (1 to 1024) |
       +-------------+   +-------------+   +-------------+

       +-------------+     +--------+      +-------------+
  R90a-+ (AS 65090)  |    /           \    | (AS 65004)  +-R4a
       |             |   |   backbone  |   |             |
       |  (bfr-id    |   |(inter-conn) |   |  (bfr-id    |
  R90b-+ (1 to 1024) |    \           /    | (1 to 1024) +-R4b
       +-------------+      +-------+      +-------------+

       +-------------+   +-------------+   +-------------+
       | (AS 65089)  |   | (AS .....)  |   | (AS 65005)  |
       |             |   |             |   |             |
       |  (bfr-id    |   |  (bfr-id    |   |  (bfr-id    |
       | (1 to 1024) |   | (1 to 1024) |   | (1 to 1024) |
       +---+-----+---+   +---+-----+---+   +---+-----+---+
          R89a  R89b         Rna   Rnb         R5a   R5b

</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-overlapped-bfr-id-assignment-" class="selfRef">Overlapped BFR-id Assignment 2</a>
          </figcaption></figure>
<p id="section-2.4-13">In this example, AS 65001, 65002, 65003, ..., 65090 each has 
          an initial BFR-id scope 1 to 1024, totally 90K BFERs could be supported.
          Source PE S1 could send packet to R1a/R1b, R2a/R2b, R3a/R3b, ..., R90a/R90b 
          using Ingress-Replication (e.g., to each domain) and BIER BitString encapsulation (e.g., to multiple nodes in a domain). 
          When the inter-connected ASs is increased to AS 65091, it could continue its 
          extension linerly and the limitation is the replication capability on S1 
          (which could be hundreds or thousands on modern routers).<a href="#section-2.4-13" class="pilcrow">¶</a></p>
<p id="section-2.4-14">However, BIER is usually deployed with Overlay service and procedure like MVPN <span>[<a href="#RFC8556" class="xref">RFC8556</a>]</span>.
          Such service depends on the packet to have the "Source" information for Reverse-Path-Forwarding (RPF) check 
          to ensure the packet is coming from the correct Upstream-Multicast-Hop (UMH, <span>[<a href="#RFC6513" class="xref">RFC6513</a>]</span>). 
          In BIER architecture, the "Source" information in the packet is the "BFIR-id" field within the Context of BIER Sub-domain-id. 
          The BIER Sub-domain-id is further mapped from the BIFT-id field. 
          The BFIR-id (in the context of Sub-domain-id) need to be uniquely bound to an IP address of the BFIR node.
          This makes the above assignment scheme unavailable due to the overlapped BFR-id assignment amoung multiple domains.
          Note all the BFR-id demonstrated in the above diagram is in a single Sub-domain-id.<a href="#section-2.4-14" class="pilcrow">¶</a></p>
<p id="section-2.4-15">The root cause of the challenge in this case is the use of BFR-id in both the "destinations" 
          and "source" of a packet. If these two things are separated, and the unique IP address of the BFIR node is used in the
          BIER encoding, this problem will be solved.<a href="#section-2.4-15" class="pilcrow">¶</a></p>
</section>
<section id="section-2.5">
        <h3 id="name-summary-of-challenges-in-in">
<a href="#section-2.5" class="section-number selfRef">2.5. </a><a href="#name-summary-of-challenges-in-in" class="section-name selfRef">Summary of Challenges in Inter-domain Deployment</a>
        </h3>
<p id="section-2.5-1">These are some of the challenges for BIER deployment in Inter-domain environment.
         This section also reviews the BIER architecture for each challenge 
         to try to figure out the gap that may need to consider in the future work.<a href="#section-2.5-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2.5-2.1">Challenge-1:<a href="#section-2.5-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.2">Description: Protocol ambiguity for BIER advertisement in BGP.<a href="#section-2.5-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.3">Gap: BIER architecture does not support multiple/mixed routing-underlay protocols 
           for a single sub-domain. BGP protocol extension for inter-domain BIER deployment is 
           still unclear.<a href="#section-2.5-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.4">Challenge-2:<a href="#section-2.5-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.5">Description: Multi-hop BFR-NBR Support as an Inherent Requirement.<a href="#section-2.5-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.6">Gap: BIER architecture is built on L2 and Multi-hop BFR-NBR support is optional.<a href="#section-2.5-2.6" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.7">Challenge-3:<a href="#section-2.5-2.7" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.8">Description: Anycast BIER-Label for Redundant ASBR deployment.<a href="#section-2.5-2.8" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.9">Gap: The locally-significant per-SD/BSL/SI BIER-label is opposite to the per-Node Anycast ID assignment.<a href="#section-2.5-2.9" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.10">Challenge-4:<a href="#section-2.5-2.10" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.11">Description: Overlapped BFR-id Assignment in Different Domains.<a href="#section-2.5-2.11" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.12">Gap: BFR-id is coupled for both "destinations" and "source" in BIER architecture.
           It makes BFR-id assignment constrained and lacking of extensibility.<a href="#section-2.5-2.12" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-2.5-2.13">
        </ul>
</section>
</section>
<section id="section-3">
      <h2 id="name-challenges-for-brownfield-d">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-challenges-for-brownfield-d" class="section-name selfRef">Challenges for Brownfield Deployment</a>
      </h2>
<p id="section-3-1"></p>
<section id="section-3.1">
        <h3 id="name-adding-bypass-tunnel-for-in">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-adding-bypass-tunnel-for-in" class="section-name selfRef">Adding Bypass tunnel for Intermediate Nodes</a>
        </h3>
<p id="section-3.1-1">Bypass tunnel is a mechanism in BIER for deployment in brownfield network where an intermediate router 
      does not support BIER forwarding. This is the same as Multi-hop BFR-NBR as previously described.
      The function could be implemented by additional encapsulation of a "bypass tunnel" of any type.
      The impact is in the "operation and maintenance" aspects, as shown in previously in this document. 
      The improvements to minimize the impact is to select a "default" type of bypass tunnel and mandate it
      in a standard, thus different implementations could interop at the bottom.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">For BIER-MPLS, the preferred bypass tunnel is highly likely to be MPLS LSP. 
      But still need the further step to mandate an option as "default" from SR, LDP or RSVP-TE.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">For Non-MPLS BIER, the MPLS LSP and the functions built on it (like TI-LFA) is no longer available. 
      The preferred bypass tunnel is highly likely to be an IP based tunnel. 
      For IPv4, an IPv4+UDP tunnel may be preferred due to the lack of ECMP in IP itself.
      For IPv6, an IPv6 tunnel may be preferred.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">Such diversity of options make it challengeable toward implementation and operation, 
      including the selection between BIER-MPLS and Non-MPLS BIER first, 
      and further interop test, deployment, troubleshooting and so on in each case.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5"></p>
</section>
<section id="section-3.2">
        <h3 id="name-removing-popping-bier-heade">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-removing-popping-bier-heade" class="section-name selfRef">Removing (Popping) BIER Header for Edge Nodes</a>
        </h3>
<p id="section-3.2-1">Another typical challenge in brownfield network is the Edge router(s) not supporting BIER forwarding.
       Some networks may have many edge routers connected to a few core routers, and 
       it is highly possible there are some of these edge routers not supporting BIER.
       Using Penultimate Hop Pop (PHP) or Penultimate Segment Pop (PSP, <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>) on the upstream 
       node of an edge router can increase the deployability of BIER greatly.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Draft <span>[<a href="#I-D.ietf-bier-php" class="xref">I-D.ietf-bier-php</a>]</span> defines a method for BIER PHP.
        An edge router not supporting BIER forwarding acts as a Pseudo-BFER node. 
        It has a valid BFR-id assignment, and it signals other router in a BIER domain (typical an IGP domain using IS-IS or OSPF) 
        a "PHP request". When an upstream router has a BIER packet with the bit corresponding to the BFR-id of this pseudo-BFER 
        set to 1, the BIER header of the BIER packet is removed, and the packet is then unicast to this pseudo-BFER.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">However, as is pointed in the document, penultimate hop popping the BIER header ahead of the pseudo-BFER
        means that, the BFIR-id or the source identifier in the BIER header is also lost. 
        RPF function depending on the source identifier is no longer available. 
        Note that, RPF function is a basic function in multicast, to solve the problem 
        in UMH <span>[<a href="#RFC6513" class="xref">RFC6513</a>]</span> changing scenario, Source Redundancy <span>[<a href="#RFC9026" class="xref">RFC9026</a>]</span> scenario and so on.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">Another problem is that, BIER header has a "proto" field to indicate the payload 
        that follows the BIER header. It is a "BIER specific" Next header indication. 
        When the BIER header is popped, the next header indication will have to scatter to the preceding header.
        E.g., if the preceding header is a link-level Ethernet header, each "BIER proto" value need to have a Ether-Type.
        If the preceding header is a "bypass tunnel" of IP/GRE/UDP type, each "BIER Proto" value need to have an IP Proto/GRE Proto/UDP Port.
        A typical case is the "Echo Request" currently defined in <span>[<a href="#I-D.ietf-bier-ping" class="xref">I-D.ietf-bier-ping</a>]</span> as BIER payload (using BIER Proto 5).
        Using the BIER PHP, the BIER ping/trace will no longer be available. 
        Note that, some other functions like the BFD bootstrap may depend on the BIER ping/trace, and will suffer the same as a consequence.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<p id="section-3.2-5">A possible way for solving these problems in PHP deployment is to expend another layer over BIER header. 
        For example, an IP header is followed as a shim layer in the lifecycle of a BIER packet from BFIR to BFER.
        Thus, when the BIER header is popped, the BFER could still get the "source identifier" from the IP header.
        Accordingly, the BIER ping, BIER bfd also need to build the upper-layer body after the IP header.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">An alternative way is to use use an additional layer of header when popping the BIER header. 
        For example, the upstream router A get the "source identifier" from the BIER packet, and encapsulate the BIER payload with 
        an additional IP header whose IP source is the "source identifier" of the BFIR node. Thus when the 
        pseudo-BFER receives the packet without BIER header can still get the source identifier necessary for RPF function and the like.
        Of course, the IP proto should be able to identify the BIER payload as mentioned above.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7"></p>
<p id="section-3.2-8"></p>
</section>
<section id="section-3.3">
        <h3 id="name-summary-of-challenges-in-br">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-summary-of-challenges-in-br" class="section-name selfRef">Summary of Challenges in Brownfield Deployment</a>
        </h3>
<p id="section-3.3-1">These are some of the challenges for BIER deployment in Brown-field network.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.3-2.1">Challenge-5:<a href="#section-3.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.3-2.2">Description: Adding Bypass tunnel on top of BIER header for Intermediate nodes.<a href="#section-3.3-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.3-2.3">Gap: Select a "default" type of bypass tunnel to help the interop between different implementations.<a href="#section-3.3-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.3-2.4">Challenge-6:<a href="#section-3.3-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.3-2.5">Description: Removing (Popping) the BIER header for Edge nodes.<a href="#section-3.3-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.3-2.6">Gap: Not losing basic functions like MVPN RPF/UMH, Source Redundancy, Ping/Trace when possible, 
           using additional encapsulation either from BFIR or from the popping BFR node.<a href="#section-3.3-2.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-3">It can be seen that, the BIER architecture [RFC8279] is built on L2 and thus 
        is dependent completely on additional mechanisms for brownfield deployment. The mechanisms include: 
        Some kind of routing mechanism (IP or LSP are both included in this terminology) is needed for multi-hop BIER neighboring. 
        Additional identifier of a BFIR node is needed for MVPN RPF and UMH-Redundancy functions, 
        and additional Next Header identifier is needed for BIER payload indicating when popping BIER header.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4">
      <h2 id="name-security-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-4-1">This document introduces no new security considerations beyond those
      already specified in [RFC8279], [RFC8296], [RFC8556].<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2"></p>
</section>
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document contains no actions for IANA.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2"></p>
</section>
<section id="section-6">
      <h2 id="name-acknowledgements">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-6-1">Thanks Xuesong Geng for the review of this document.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2"></p>
</section>
<section id="section-7">
      <h2 id="name-normative-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="I-D.ietf-bier-idr-extensions">[I-D.ietf-bier-idr-extensions]</dt>
      <dd>
<span class="refAuthor">Xu, X.</span>, <span class="refAuthor">Chen, M.</span>, <span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Wijnands, I.</span>, and <span class="refAuthor">A. Przygienda</span>, <span class="refTitle">"BGP Extensions for BIER"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bier-idr-extensions-07</span>, <time datetime="2019-09-06" class="refDate">6 September 2019</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bier-idr-extensions-07.txt">https://www.ietf.org/archive/id/draft-ietf-bier-idr-extensions-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bier-non-mpls-bift-encoding">[I-D.ietf-bier-non-mpls-bift-encoding]</dt>
      <dd>
<span class="refAuthor">Wijnands, I.</span>, <span class="refAuthor">Mishra, M.</span>, <span class="refAuthor">Xu, X.</span>, and <span class="refAuthor">H. Bidgoli</span>, <span class="refTitle">"An Optional Encoding of the BIFT-id Field in the non-MPLS BIER Encapsulation"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bier-non-mpls-bift-encoding-04</span>, <time datetime="2021-05-30" class="refDate">30 May 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bier-non-mpls-bift-encoding-04.txt">https://www.ietf.org/archive/id/draft-ietf-bier-non-mpls-bift-encoding-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bier-php">[I-D.ietf-bier-php]</dt>
      <dd>
<span class="refAuthor">Zhang, Z.</span>, <span class="refTitle">"BIER Penultimate Hop Popping"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bier-php-06</span>, <time datetime="2020-08-24" class="refDate">24 August 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bier-php-06.txt">https://www.ietf.org/archive/id/draft-ietf-bier-php-06.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bier-ping">[I-D.ietf-bier-ping]</dt>
      <dd>
<span class="refAuthor">Kumar, N.</span>, <span class="refAuthor">Pignataro, C.</span>, <span class="refAuthor">Akiya, N.</span>, <span class="refAuthor">Zheng, L.</span>, <span class="refAuthor">Chen, M.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"BIER Ping and Trace"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bier-ping-07</span>, <time datetime="2020-05-11" class="refDate">11 May 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bier-ping-07.txt">https://www.ietf.org/archive/id/draft-ietf-bier-ping-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-bier-prefix-redistribute">[I-D.ietf-bier-prefix-redistribute]</dt>
      <dd>
<span class="refAuthor">Zhang, Z.</span>, <span class="refAuthor">Wu, B.</span>, <span class="refAuthor">Zhang, Z.</span>, <span class="refAuthor">Wijnands, I.</span>, and <span class="refAuthor">Y. Liu</span>, <span class="refTitle">"BIER Prefix Redistribute"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-bier-prefix-redistribute-00</span>, <time datetime="2020-08-04" class="refDate">4 August 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-bier-prefix-redistribute-00.txt">https://www.ietf.org/archive/id/draft-ietf-bier-prefix-redistribute-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3209">[RFC3209]</dt>
      <dd>
<span class="refAuthor">Awduche, D.</span>, <span class="refAuthor">Berger, L.</span>, <span class="refAuthor">Gan, D.</span>, <span class="refAuthor">Li, T.</span>, <span class="refAuthor">Srinivasan, V.</span>, and <span class="refAuthor">G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time datetime="2001-12" class="refDate">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5036">[RFC5036]</dt>
      <dd>
<span class="refAuthor">Andersson, L., Ed.</span>, <span class="refAuthor">Minei, I., Ed.</span>, and <span class="refAuthor">B. Thomas, Ed.</span>, <span class="refTitle">"LDP Specification"</span>, <span class="seriesInfo">RFC 5036</span>, <span class="seriesInfo">DOI 10.17487/RFC5036</span>, <time datetime="2007-10" class="refDate">October 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5036">https://www.rfc-editor.org/info/rfc5036</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6513">[RFC6513]</dt>
      <dd>
<span class="refAuthor">Rosen, E., Ed.</span> and <span class="refAuthor">R. Aggarwal, Ed.</span>, <span class="refTitle">"Multicast in MPLS/BGP IP VPNs"</span>, <span class="seriesInfo">RFC 6513</span>, <span class="seriesInfo">DOI 10.17487/RFC6513</span>, <time datetime="2012-02" class="refDate">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6513">https://www.rfc-editor.org/info/rfc6513</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6514">[RFC6514]</dt>
      <dd>
<span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Morin, T.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP Encodings and Procedures for Multicast in MPLS/BGP IP VPNs"</span>, <span class="seriesInfo">RFC 6514</span>, <span class="seriesInfo">DOI 10.17487/RFC6514</span>, <time datetime="2012-02" class="refDate">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6514">https://www.rfc-editor.org/info/rfc6514</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8279">[RFC8279]</dt>
      <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Przygienda, T.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"Multicast Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8279</span>, <span class="seriesInfo">DOI 10.17487/RFC8279</span>, <time datetime="2017-11" class="refDate">November 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8279">https://www.rfc-editor.org/info/rfc8279</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8296">[RFC8296]</dt>
      <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">I. Meilik</span>, <span class="refTitle">"Encapsulation for Bit Index Explicit Replication (BIER) in MPLS and Non-MPLS Networks"</span>, <span class="seriesInfo">RFC 8296</span>, <span class="seriesInfo">DOI 10.17487/RFC8296</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8296">https://www.rfc-editor.org/info/rfc8296</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8556">[RFC8556]</dt>
      <dd>
<span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Sivakumar, M.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">A. Dolganow</span>, <span class="refTitle">"Multicast VPN Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8556</span>, <span class="seriesInfo">DOI 10.17487/RFC8556</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8556">https://www.rfc-editor.org/info/rfc8556</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8660">[RFC8660]</dt>
      <dd>
<span class="refAuthor">Bashandy, A., Ed.</span>, <span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing with the MPLS Data Plane"</span>, <span class="seriesInfo">RFC 8660</span>, <span class="seriesInfo">DOI 10.17487/RFC8660</span>, <time datetime="2019-12" class="refDate">December 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8660">https://www.rfc-editor.org/info/rfc8660</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8986">[RFC8986]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="seriesInfo">RFC 8986</span>, <span class="seriesInfo">DOI 10.17487/RFC8986</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9026">[RFC9026]</dt>
    <dd>
<span class="refAuthor">Morin, T., Ed.</span>, <span class="refAuthor">Kebler, R., Ed.</span>, and <span class="refAuthor">G. Mirsky, Ed.</span>, <span class="refTitle">"Multicast VPN Fast Upstream Failover"</span>, <span class="seriesInfo">RFC 9026</span>, <span class="seriesInfo">DOI 10.17487/RFC9026</span>, <time datetime="2021-04" class="refDate">April 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9026">https://www.rfc-editor.org/info/rfc9026</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jingrong Xie</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:xiejingrong@huawei.com" class="email">xiejingrong@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Fanghong Duan</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:duanfanghong@huawei.com" class="email">duanfanghong@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
