MEGACO Working Group                                    Ilya Akramovich
Internet Draft                                      Lucent Technologies
                                                          Matt Holdrege
                                                    Lucent Technologies
October 1999                                               Pratima Shah
                                              AG Communications Systems
                                                         Irina Suconick
                                                                 Ezenia
                               MEGACO MIB
                     <draft-ietf-megaco-mib-00.txt>

Status of this Memo


        This document is an Internet-Draft and is in full conformance
        with all provisions of Section 10 of RFC2026.

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its
   areas, and its working groups. Note that other groups may also
   distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other
   documents at any time.  It is inappropriate to use Internet-
   Drafts as reference material or to cite them other than as
   "work in progress."

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.

Copyright Notice

Copyright  (C) The Internet Society (1999).  All Rights Reserved.

Abstract:
    This memo defines the Management Information Base (MIB) for use with
    Media Gateways using the MEGACO protocol.

Introduction:
    The MEGACO protocol (1) defines communication between the decomposed
    elements of a Multi-Media Gateway. Those elements are the Media
    Gateway Controller and the Media Gateway. This MIB defines objects
    on these elements that can be used to gather management statistics,
    control variable settings, and send traps.

Definitions
-- Media Gateway

MEDIA-GATEWAY-MIB-TC DEFINITIONS ::= BEGIN



Holdrege, Shah & Suconick                                       [Page 1]





I-D                            MEGACO MIB                   October 1999


IMPORTS
    MODULE-IDENTITY, OBJECT-IDENTITY, Integer32
        FROM SNMPv2-SMI
    TEXTUAL-CONVENTION
        FROM SNMPv2-TC;

mediaGatewayMibTC MODULE-IDENTITY
    LAST-UPDATED "9910200000Z" -- October , 1999
    ORGANIZATION " "
    CONTACT-INFO
    " "
    DESCRIPTION
        "Defines a set of Textual Conventions used within the set of
        MEDIA GATEWAY MIB modules.
        Defines OBJECT IDENTIFIERs for rooting associated mib modules
        under this tree"
    REVISION "99102021200Z"
    DESCRIPTION
        "The initial version of the mib."
        ::= { }


--
--
-- TEXTUAL Conventions

MegacoConnectionType ::= TEXTUAL-CONVENTION
    STATUS current
    DESCRIPTION
        "This value indicates the connection type. "
    SYNTAX INTEGER {
                pointToPoint(1),
                multiPoint(2)
                }
END


MEDIA-GATEWAY-MIB DEFINITIONS ::= BEGIN

        IMPORTS MODULE-IDENTITY, OBJECT-TYPE, NOTIFICATION-TYPE,
            Unsigned32, Gauge32, Counter32, Counter64,
            TimeTicks, Integer32
        FROM SNMPv2-SMI
            TEXTUAL-CONVENTION, TAddress, DisplayString,
            DateAndTime
        FROM SNMPv2-TC
            MODULE-COMPLIANCE, OBJECT-GROUP
        FROM SNMPv2-CONF
            ifIndex, InterfaceIndex
        FROM IF-MIB
            IpAddress, TimeTicks
        FROM RFC1155-SMI;

        --groups in media gateway MIB



Holdrege, Shah & Suconick                                       [Page 2]





I-D                            MEGACO MIB                   October 1999


mediaGateway
        MODULE-IDENTITY
        mediaGatewaySystem OBJECT IDENTIFIER::= {mediaGateway 1}
        mediaGatewayConfiguration OBJECT IDENTIFIER::= {mediaGateway 2}
        mediaGatewayCapabilities OBJECT IDENTIFIER::= {mediaGateway 3}
        mediaGatewayConnections OBJECT IDENTIFIER::= {mediaGateway 4}
        mediaGatewayStatistics OBJECT IDENTIFIER::= {mediaGateway 5}
        mediaGatewayControls OBJECT IDENTIFIER::= {mediaGateway 6}
        mediaGatewayNotifications OBJECT IDENTIFIER::={mediaGateway 7 0}
        LAST-UPDATED "9910??1200Z" -- October ??, 1999
        ORGANIZATION " "
        CONTACT-INFO " "

    DESCRIPTION
        "The MIB Module supports the functions of media gateway."

    ::= { xxx 1 }

--
-- mediaGateway System Group
--

mediaGatewayNumLinks OBJECT-TYPE
        SYNTAX          INTEGER
        ACCESS          read-only
        STATUS          mandatory
        DESCRIPTION     "Number of media gateway links (link groups)
                        available in this system."
        ::= { mediaGatewaySystem 1 }

        --
        -- Configuration Group
        --

mediaGatewayMasterMGCaddress OBJECT-TYPE
            SYNTAX          TAddress
            MAX-ACCESS      read-write
            STATUS          current
            DESCRIPTION
                "The address of the master Media Gateway Controller."
                ::= { mediaGatewayConfiguration 1 }

mediaGatewayMaxTerminations OBJECT-TYPE
            SYNTAX          Integer32
            MAX-ACCESS      read-only
            STATUS          current
            DESCRIPTION
                "The maximum number of Terminations in a Context."
                ::= { mediaGatewayConfiguration 3 }

mediaGatewayActiveContext OBJECT-TYPE
            SYNTAX          Integer32
            MAX-ACCESS      read-only
            STATUS          current



Holdrege, Shah & Suconick                                       [Page 3]





I-D                            MEGACO MIB                   October 1999


            DESCRIPTION
                "The number of active contexts."
                ::= { mediaGatewayConfiguration 4 }

--
-- Connections Group
--

-- Context table

mediaGatewayContextTable OBJECT-TYPE
            SYNTAX          SEQUENCE OF MediaGatewayContextEntry
            MAX-ACCESS      not-accessible
            STATUS          current
            DESCRIPTION
                "This table contains context information
                for instances of a MEGACO protocol."
                ::= { mediaGatewayConnections 1}

mediaGatewayContextEntry OBJECT-TYPE
            SYNTAX          MediaGatewayContextEntry
            MAX-ACCESS      not-accessible
            STATUS          current
            DESCRIPTION
                "It contains objects that describe the contexts."
            INDEX           { mediaGatewayId,
            mediaGatewayContextId }
            ::= { mediaGatewayContextTable 1 }

MediaGatewayContextEntry::=
            SEQUENCE {
                mediaGatewayId
                    Integer32,
                mediaGatewayContextId
                    Integer32,
                mediaGatewayNumberOfTerminations
                    Integer32,
                mediaGatewayContextStartTime
                    DateAndTime
            }

mediaGatewayId OBJECT-TYPE
            SYNTAX          Integer32
            MAX-ACCESS      read-only
            STATUS          current
            DESCRIPTION
                "The Gateway Id."
                ::= { mediaGatewayContextEntry 1 }

mediaGatewayContextId OBJECT-TYPE
            SYNTAX          Integer32
            MAX-ACCESS      read-only
            STATUS          current
            DESCRIPTION



Holdrege, Shah & Suconick                                       [Page 4]





I-D                            MEGACO MIB                   October 1999


            "The Context Id."
            ::= { mediaGatewayContextEntry 2 }

mediaGatewayNumberOfTerminations OBJECT-TYPE
            SYNTAX          Integer32
            MAX-ACCESS      read-only
            STATUS          current
            DESCRIPTION
            "The number of terminations in a Context."
            ::= { mediaGatewayContextEntry 3 }

mediaGatewayContextStartTime OBJECT-TYPE
            SYNTAX          DateAndTime
            MAX-ACCESS      read-only
            STATUS          current
            DESCRIPTION
            "The date and time when Context was created."
            ::= { mediaGatewayContextEntry 4 }

--
-- Terminations
--


mediaGatewayTerminationsTable OBJECT-TYPE
            SYNTAX          SEQUENCE OF MediaGatewayTerminationsTableEntry
            MAX-ACCESS      not-accessible
            STATUS          current
            DESCRIPTION
                    "This table contains information about terminations in
                    a media gateway. It is a list of terminations. The
                    number of entries equals to the total number of
                    terminations for all contexts in a gateway."
            ::= { mediaGatewayConnections 2}

mediaGatewayTerminationsTableEntry OBJECT-TYPE
            SYNTAX          MediaGatewayTerminationsTableEntry
            MAX-ACCESS      not-accessible
            STATUS          current
            DESCRIPTION
                            "It contains objects that describe a termination."
            INDEX           { mediaGatewayId,
            mediaGatewayContextId
            mediaGatewayTerminationId }

::= { mediaGatewayTerminationsTable 1 }
MediaGatewayTerminationsTableEntry::=
            SEQUENCE {
                mediaGatewayTerminationId
                    Integer32,
                mediaGatewayTerminationType
                    INTEGER,
                mediaGatewayTerminationNumberOfStreams
                    Integer32,



Holdrege, Shah & Suconick                                       [Page 5]





I-D                            MEGACO MIB                   October 1999


                mediaGatewayTerminationMGCRequestedProperties
                    DisplayString,
                mediaGatewayTerminationActualProperties
                    DisplayString,
                mediaGatewayTerminationLastCommand
                    DisplayString,
                mediaGatewayTerminationStartTime
                DateAndTime

                }

mediaGatewayTerminationId OBJECT-TYPE
    SYNTAX          Integer32
    MAX-ACCESS      not-accessible
    STATUS          current
    DESCRIPTION
                    "An identification number that is assign to
                    the termination by a media gateway. "
            ::= { mediaGatewayTerminationsTableEntry 1 }

mediaGatewayTerminationType OBJECT-TYPE
    SYNTAX          INTEGER
    MAX-ACCESS      read-only
    STATUS          current
    DESCRIPTION
    "The termination type. "
    ::= { mediaGatewayTerminationsTableEntry 2 }

mediaGatewayTerminationNumberOfStreams OBJECT-TYPE
    SYNTAX          INTEGER
    MAX-ACCESS      read-only
    STATUS          current
    DESCRIPTION
    "The number of streams pertaining to the termination. "
    ::= { mediaGatewayTerminationsTableEntry 3 }

mediaGatewayTerminationMGCRequestedProperties OBJECT-TYPE
    SYNTAX          DisplayString
    MAX-ACCESS      read-only
    STATUS          current
    DESCRIPTION
    "The list of the properties requested by MGC in a
    form of descriptors. "
    ::= { mediaGatewayTerminationsTableEntry 4 }

mediaGatewayTerminationActualProperties OBJECT-TYPE
    SYNTAX          DisplayString
    MAX-ACCESS      read-only
    STATUS          current
    DESCRIPTION
    "The list of the actual properties for this termination. "
    ::= { mediaGatewayTerminationsTableEntry 5 }

mediaGatewayTerminationLastCommand OBJECT-TYPE



Holdrege, Shah & Suconick                                       [Page 6]





I-D                            MEGACO MIB                   October 1999


    SYNTAX          DisplayString
    MAX-ACCESS      read-only
    STATUS          current
    DESCRIPTION
    "The last command that was sent to this termination."
    ::= { mediaGatewayTerminationsTableEntry 6 }

mediaGatewayTerminationStartTime OBJECT-TYPE
    SYNTAX          DateAndTime
    MAX-ACCESS      read-only
    STATUS          current
    DESCRIPTION
    "The time of termination creation. "
    ::= { mediaGatewayTerminationsTableEntry 7 }

--
-- statistics
--

            -- Media Gateway Status & Statistics Group

            -- This group contains monitoring and statistical information
            -- for media gateway control interfaces.


mediaGatewayTable       OBJECT-TYPE
    SYNTAX                  SEQUENCE OF MediaGatewayTableEntry
    ACCESS                  not-accessible
    STATUS                  mandatory
    DESCRIPTION             "A list of mediaGatewayTableEntry objects."
    ::= { mediaGatewayStatistics 1 }

mediaGatewayTableEntry  OBJECT-TYPE
    SYNTAX                  MediaGatewayTableEntry
    ACCESS                  not-accessible
    STATUS                  mandatory
    DESCRIPTION             "Entry holding information about a group of
                            Media Gateway Controllers sharing the same
                            signaling link."
    INDEX                   { mediaGatewayLinkName }
    ::= { mediaGatewayTable 1 }

MediaGatewayTableEntry ::=
    SEQUENCE {
        mediaGatewayLinkName                            OCTET STRING,
        mediaGatewayProtocol                            INTEGER,
        mediaGatewayAdminStatus                         INTEGER,
        mediaGatewayOperStatus                          INTEGER,
        mediaGatewayLastStatusChange                    TimeTicks,
        mediaGatewayNumInMessages                       Counter32,
        mediaGatewayNumInOctets                         Counter32,
        mediaGatewayNumOutMessages                      Counter32,
        mediaGatewayNumOutOctets                        Counter32,
        mediaGatewayNumErrors                           Counter32,



Holdrege, Shah & Suconick                                       [Page 7]





I-D                            MEGACO MIB                   October 1999


        mediaGatewayNumTimerRecovery                    Counter32,
        mediaGatewayTransportNumLosses                  Counter32,
        mediaGatewayTransportNumSwitchover              Counter32,
        mediaGatewayTransportTotalNumAlarms             Counter32,
        mediaGatewayTransportLastEvent                  INTEGER,
        mediaGatewayTransportLastEventTime              TimeTicks,
        mediaGatewayResetStatistics                     INTEGER,
        mediaGatewayLastStatisticsReset                 TimeTicks
    }

-- Objects in mediaGatewayTableEntry:

mediaGatewayLinkName OBJECT-TYPE
    SYNTAX                  OCTET STRING
    ACCESS                  read-only
    STATUS                  mandatory
    DESCRIPTION             "Name of this media gateway control group."
    ::= { mediaGatewayTableEntry 1 }

mediaGatewayProtocol OBJECT-TYPE
    SYNTAX                   INTEGER {
                    notApplicable(1), --
                    other(2), -- Other (none from the list below)
                    dss1-ip(3), -- Q931+
                    ipdc(4) -- IPDC
                    megaco(5) -- MEGACO/H.248
                    }
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Type of the control protocol in use."
    ::= { mediaGatewayTableEntry 2 }

mediaGatewayAdminStatus OBJECT-TYPE
    SYNTAX           INTEGER {
                    up(1),
                    down(2)
                    }
    ACCESS          read-write
    STATUS          mandatory
    DESCRIPTION     "Administrative status for this media gateway
                    control group."
    ::= { mediaGatewayTableEntry 3 }

mediaGatewayOperStatus          OBJECT-TYPE
    SYNTAX                          INTEGER {
                    up(1),
                    down(2),
                    unknown(3)
                    }
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Current operational status of the signaling link."
    ::= { mediaGatewayTableEntry 4 }




Holdrege, Shah & Suconick                                       [Page 8]





I-D                            MEGACO MIB                   October 1999


mediaGatewayLastStatusChange OBJECT-TYPE
    SYNTAX          TimeTicks
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "The value of sysUpTime at the time the associated
                    link entered its current operational status. If
                    the current status was entered prior to the last
                    re-initialization of the local network management
                    subsystem, then this object contains a zero value."
    ::= { mediaGatewayTableEntry 5 }

mediaGatewayNumInMessages OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Total number of messages received on the link."
    ::= { mediaGatewayTableEntry 6 }

mediaGatewayNumInOctets OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Total number of octets received on the link."
    ::= { mediaGatewayTableEntry 7 }

mediaGatewayNumOutMessages OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Total number of messages sent on the link."
    ::= { mediaGatewayTableEntry 8 }

mediaGatewayNumOutOctets OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Total number of octets sent on the link."
    ::= { mediaGatewayTableEntry 9 }

mediaGatewayNumErrors OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Total number of signaling-level errors
                    encountered. Includes, but is not limited to,
                    number of bad messages received, number of
                    failures to sent a message and number of other
                    errors."
    ::= { mediaGatewayTableEntry 10 }

mediaGatewayNumTimerRecovery OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory



Holdrege, Shah & Suconick                                       [Page 9]





I-D                            MEGACO MIB                   October 1999


    DESCRIPTION     "Number of timer recovery events since the
                    statistics was last reset. This reflects
                    all timers."
    ::= { mediaGatewayTableEntry 11 }

mediaGatewayTransportNumLosses OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Number of times a transport link was lost (excluding
                    switch-over cases)."
    ::= { mediaGatewayTableEntry 12 }

mediaGatewayTransportNumSwitchover OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Number of times when the signaling was switched
                    over to an alternative link."
    ::= { mediaGatewayTableEntry 13 }

mediaGatewayTransportTotalNumAlarms OBJECT-TYPE
    SYNTAX          Counter32
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Total number of all alarms issued for
                    the transport layer."
    ::= { mediaGatewayTableEntry 14 }

mediaGatewayTransportLastEvent OBJECT-TYPE
    SYNTAX          INTEGER {
                    notApplicable(1), -- Invalid/unknown.
                    other(2), -- None from the list below.
                    linkUp(3), -- Transport link is up.
                    linkLoss(4), -- Transport link loss.
                    persistentError(5), -- No link - persistent error.
                    linkShutdown(6), -- Link is shut down.
                    switchOver(7) -- Fail-over.
                    }
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Last event reported by the transport layer."
    ::= { mediaGatewayTableEntry 15 }

mediaGatewayTransportLastEventTime OBJECT-TYPE
    SYNTAX          TimeTicks
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "The value of sysUpTime at the time when the event
                    specified by mediaGatewayTransportLastEvent occured.
                    If the last event occured prior to the last
                    re-initialization of the local network management
                    subsystem, then this object contains a zero value."
    ::= { mediaGatewayTableEntry 16 }



Holdrege, Shah & Suconick                                      [Page 10]





I-D                            MEGACO MIB                   October 1999


mediaGatewayResetStatistics OBJECT-TYPE
    SYNTAX          INTEGER {
                    notApplicable(1), -- Invalid/unknown.
                    other(2), -- None from the list below.
                    reset(3) -- Reset all statistics now.
                    }
    ACCESS          read-write
    STATUS          mandatory
    DESCRIPTION     "This object can be used to reset all statistics
                    collected for this media gateway link so far.
                    Statistics will be reset when the object is SET
                    to 'reset'. GET from this object always returns
                    'notApplicable'."
    ::= { mediaGatewayTableEntry 17 }

mediaGatewayLastStatisticsReset OBJECT-TYPE
    SYNTAX          TimeTicks
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "The value of sysUpTime at the time when the
                    statistics was reset. If the reset occured
                    prior to the last re-initialization of the local
                    network management subsystem, this object contains
                    a zero value."
    ::= { mediaGatewayTableEntry 18 }

-- End of mediaGatewayTableEntry.


mediaGatewayControllerTable OBJECT-TYPE
    SYNTAX          SEQUENCE OF mediaGatewayControllerEntry
    ACCESS          not-accessible
    STATUS          mandatory
    DESCRIPTION     "Addresses of Media Gateway Controllers."
    ::= { mediaGatewayGroup 3 }

mediaGatewayControllerEntry OBJECT-TYPE
    SYNTAX          MediaGatewayControllerEntry
    ACCESS          not-accessible
    STATUS          mandatory
    DESCRIPTION     "Entry holding information about an individual
                    Media Gateway Controller."
    INDEX           { mediaGatewayControllerLinkName, mediaGatewayControllerIndex }
    ::= { mediaGatewayControllerTable 1 }

MediaGatewayControllerEntry ::=
    SEQUENCE {
        mediaGatewayControllerLinkName          OCTET STRING,
        mediaGatewayControllerIndex             INTEGER,
        mediaGatewayControllerIPAddress         IpAddress,
        mediaGatewayControllerPort              INTEGER,
        mediaGatewayControllerOperStatus        INTEGER
        }




Holdrege, Shah & Suconick                                      [Page 11]





I-D                            MEGACO MIB                   October 1999


-- Objects in mediaGatewayControllerEntry:

mediaGatewayControllerLinkName OBJECT-TYPE
    SYNTAX          OCTET STRING
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "The same as mediaGatewayLinkName."
    ::= { mediaGatewayControllerEntry 1 }

mediaGatewayControllerIndex OBJECT-TYPE
    SYNTAX          INTEGER
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "The index number for this Media Gateway Controller
                    entry. Its value ranges from 1 to the maximum
                    number of controllers per group and identifies
                    which controller the entry is associated with."
    ::= { mediaGatewayControllerEntry 2 }

mediaGatewayControllerIPAddress OBJECT-TYPE
    SYNTAX          IpAddress
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "The IP address of the Media Gateway Controller. The
                    value 0.0.0.0 is returned if the entry is invalid."
    ::= { mediaGatewayControllerEntry 3 }

mediaGatewayControllerPort OBJECT-TYPE
    SYNTAX          INTEGER ( 0..'FFFF'h )
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "TCP port of the Media Gateway Controller. The value
                    0 is returned if the entry is invalid."
    ::= { mediaGatewayControllerEntry 4 }

mediaGatewayControllerOperStatus OBJECT-TYPE
    SYNTAX          INTEGER {
                    up(1), -- Up/active.
                    down(2), -- Down.
                    standby(3) -- Standby mode.
                    }
    ACCESS          read-only
    STATUS          mandatory
    DESCRIPTION     "Status of the transport link to this particular
                    Media Gateway Controller."
    ::= { mediaGatewayControllerEntry 5 }

--
-- Traps
--

megacoLinkStatusTrap TRAP-TYPE
        ENTERPRISE XXX
        VARIABLES { mgLinkName, mgOperStatus }



Holdrege, Shah & Suconick                                      [Page 12]





I-D                            MEGACO MIB                   October 1999


        DESCRIPTION "This trap indicates that operational status
        of a media gateway control link has changed."
        ::= 42

-- End of mediaGatewayControllerEntry.

END

Authors Addresses

Ilya Akramovich
Lucent Technologies
1701 Harbor Bay Parkway
Alameda, CA 94502
U.S.A.
1-510-769-6001
iakramov@lucent.com


Matt Holdrege
Lucent Technologies
1701 Harbor Bay Parkway
Alameda, CA 94502
U.S.A
Ph: 1-510-747-2711
holdrege@lucent.com

Pratima Shah
AG Communications Systems
2500 West Utopia Road
Phoenix, AZ 85027
Ph: 1-602-581-4710
shahp@agcs.com

Irina Suconick
Ezenia
63 Third Street
Burlington, MA 01803
U.S.A
Ph: 1-781-505-2155
isuconick@ezenia.com
















Holdrege, Shah & Suconick                                      [Page 13]


