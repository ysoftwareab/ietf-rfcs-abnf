<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Compressed SRv6 Segment List Encoding in SRH</title>
<meta content="Weiqiang Cheng" name="author">
<meta content="Clarence Filsfils" name="author">
<meta content="Zhenbin Li" name="author">
<meta content="Bruno Decraene" name="author">
<meta content="Dennis Cai" name="author">
<meta content="Daniel Voyer" name="author">
<meta content="Francois Clad" name="author">
<meta content="Shay Zadok" name="author">
<meta content="James N Guichard" name="author">
<meta content="Liu Aihua" name="author">
<meta content="Robert Raszuk" name="author">
<meta content="Cheng Li" name="author">
<meta content="
       This document defines a compressed SRv6 Segment List Encoding in the Segment Routing Header (SRH). This solution does not require any SRH data plane change nor any SRv6 control plane change. This solution leverages the SRv6 Network Programming model. 
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-spring-srv6-srh-compression-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-spring-srv6-srh-compression-00-ai8auvqy.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">SRv6 Segment List Compression in SRH</td>
<td class="right">February 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Cheng, et al.</td>
<td class="center">Expires 15 August 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">SPRING</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-spring-srv6-srh-compression-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-02-11" class="published">11 February 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-08-15">15 August 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">W. Cheng, <span class="editor">Ed.</span>
</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">C. Filsfils</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">Z. Li</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">B. Decraene</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">D. Cai</div>
<div class="org">Alibaba</div>
</div>
<div class="author">
      <div class="author-name">D. Voyer</div>
<div class="org">Bell Canada</div>
</div>
<div class="author">
      <div class="author-name">F. Clad, <span class="editor">Ed.</span>
</div>
<div class="org">Cisco Systems, Inc.</div>
</div>
<div class="author">
      <div class="author-name">S. Zadok</div>
<div class="org">Broadcom</div>
</div>
<div class="author">
      <div class="author-name">J. Guichard</div>
<div class="org">Futurewei Technologies Ltd.</div>
</div>
<div class="author">
      <div class="author-name">L. Aihua</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">R. Raszuk</div>
<div class="org">NTT Network Innovations</div>
</div>
<div class="author">
      <div class="author-name">C. Li</div>
<div class="org">Huawei Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Compressed SRv6 Segment List Encoding in SRH</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines a compressed SRv6 Segment List Encoding in the Segment Routing Header (SRH). This solution does not require any SRH data plane change nor any SRv6 control plane change. This solution leverages the SRv6 Network Programming model.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 15 August 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-basic-concepts" class="xref">Basic Concepts</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-sr-endpoint-flavors" class="xref">SR Endpoint Flavors</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-next-c-sid-flavor" class="xref">NEXT-C-SID Flavor</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-end-with-next-c-sid" class="xref">End with NEXT-C-SID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-endx-with-next-c-sid" class="xref">End.X with NEXT-C-SID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.3">
                    <p id="section-toc.1-1.4.2.1.2.3.1"><a href="#section-4.1.3" class="xref">4.1.3</a>.  <a href="#name-combination-with-psp-usp-an" class="xref">Combination with PSP, USP and USD flavors</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-replace-c-sid-flavor" class="xref">REPLACE-C-SID Flavor</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-end-with-replace-c-sid" class="xref">End with REPLACE-C-SID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-endx-with-replace-c-sid" class="xref">End.X with REPLACE-C-SID</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-combination-with-psp-usp-and" class="xref">Combination with PSP, USP and USD flavors</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-combined-next-and-replace-c" class="xref">Combined NEXT-and-REPLACE-C-SID Flavor</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-gib-lib-global-c-sid-and-lo" class="xref">GIB, LIB, global C-SID and local C-SID</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-global-c-sid" class="xref">Global C-SID</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-local-c-sid" class="xref">Local C-SID</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-c-sid-and-block-length" class="xref">C-SID and Block Length</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-c-sid-length" class="xref">C-SID Length</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-block-length" class="xref">Block Length</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-gib-lib-usage" class="xref">GIB/LIB Usage</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-efficient-sid-list-encoding" class="xref">Efficient SID-list Encoding</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-inter-routing-domains-with-" class="xref">Inter Routing Domains with the End.XPS behavior</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-control-plane" class="xref">Control Plane</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-illustrations" class="xref">Illustrations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-interoperability-status" class="xref">Interoperability Status</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-14.1" class="xref">14.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-14.2" class="xref">14.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-open-issues" class="xref">Open Issues</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Segment Routing architecture is defined in <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">SRv6 Network Programming <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> defines a framework to build a network program with topological and service segments carried in a Segment Routing header (SRH) <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This document adds new flavors to the SR endpoint behaviors defined in Section 4 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>. These flavors enable a compressed encoding of the SRv6 Segment-List in the SRH and therefore address the requirements described in <span>[<a href="#I-D.srcompdt-spring-compression-requirement" class="xref">I-D.srcompdt-spring-compression-requirement</a>]</span>.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The flavors defined in this document leverage the SRH data plane without any change and do not require any SRv6 control plane change.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">This document leverages the terms defined in <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>, <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span> and <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>. The reader is assumed to be familiar with this terminology.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This document introduces the following new terms:<a href="#section-2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-3.1">Compressed-SID (C-SID): A C-SID is a short encoding of a SID in SRv6 packet that does not include the SID block bits (locator block).<a href="#section-2-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.2">Compressed-SID container (C-SID container): An entry of the SRH Segment-List field (128 bits) that contains a sequence of C-SIDs.<a href="#section-2-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.3">Compressed-SID sequence (C-SID sequence): A group of one or more C-SID containers in a segment list that share the same SRv6 SID block.<a href="#section-2-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.4">Uncompressed SID sequence: A group of one or more uncompressed SIDs in a segment list.<a href="#section-2-3.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.5">Compressed Segment List encoding: A segment list encoding that reduces the packet header length thanks to one or more C-SID sequences. A compressed Segment List encoding may also contain any number of uncompressed SID sequences.<a href="#section-2-3.5" class="pilcrow">¶</a>
</li>
      </ul>
<div id="requirements-language">
<section id="section-2.1">
        <h3 id="name-requirements-language">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-2.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in all capitals, as shown here.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="basic-concepts">
<section id="section-3">
      <h2 id="name-basic-concepts">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-basic-concepts" class="section-name selfRef">Basic Concepts</a>
      </h2>
<p id="section-3-1">In an SRv6 domain, the SIDs are allocated from a particular IPv6 prefix: the SRv6 SID block. Therefore, all SRv6 SIDs instantiated from the same SRv6 SID block share the same most significant bits. These common bits are named Locator-Block in <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>. Furthermore, when the combined length of the SRv6 SID Locator, Function and Argument is smaller than 128 bits, the trailing bits are set to zero.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">When a sequence of consecutive SIDs in a Segment List shares a common Locator-Block, a compressed SRv6 Segment-List encoding can optimize the packet header length by avoiding the repetition of the Locator-Block and trailing bits with each individual SID.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The compressed Segment List encoding is fully compliant with the specifications in <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span>, <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span> and <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>. Efficient encoding is achieved by combining a compressed Segment List encoding logic on the SR policy headend with new flavors of the base SRv6 endpoint behaviors that decode this compressed encoding. No SRv6 SRH data plane change nor control plane extension is required.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">A Segment List can be encoded in the packet header using any combination of compressed and uncompressed sequences. The C-SID sequences leverage the flavors defined in this document, while the uncompressed sequences use behaviors and flavors defined in other documents, such as <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>. An SR Policy headend constructs and compresses the SID-list depending on the capabilities of each SR endpoint node that the packet should traverse, as well as its own compression capabilities.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">It is expected that compressed encoding flavors be available on devices with limited packet manipulation capabilities, such as legacy ASICs.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">The compressed Segment List encoding supports any SRv6 SID Block allocation. While other options are supported and may provide higher efficiency, each routing domain can be allocated a /48 prefix from a global IPv6 block (see <a href="#sec-c-sid-block" class="xref">Section 6.2</a>).<a href="#section-3-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sr-endpoint-flavors">
<section id="section-4">
      <h2 id="name-sr-endpoint-flavors">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-sr-endpoint-flavors" class="section-name selfRef">SR Endpoint Flavors</a>
      </h2>
<p id="section-4-1">This section defines several options to achieve compressed Segment List encoding, in the form of two new flavors for the END, END.X and END.T behaviors of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>. These flavors could also be combined with behaviors defined in other documents.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The compressed encoding can be achieved by leveraging any of these SR endpoint flavors. The NEXT-C-SID flavor and the REPLACE-C-SID flavor expose the same high-level behavior in their use of the SID argument to determine the next segment to be processed, but they have different low-level characteristics that can make one more or less efficient than the other for a particular SRv6 deployment. The NEXT-and-REPLACE-C-SID flavor is the combination of the NEXT-C-SID flavor and the REPLACE-C-SID flavor. It provides the best efficiency in terms of encapsulation size at the cost of increased complexity.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">It is recommended for ease of operation that a single compressed encoding flavor be used in a given SRv6 domain. However, in a multi-domain deployment, different flavors can be used in different domains.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">All three flavors leverage the following variables:<a href="#section-4-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-5.1">Variable B is the Locator Block length of the SID.<a href="#section-4-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-5.2">Variable NF is the sum of the Locator Node and the Function lengths of the SID. It is also referred to as C-SID length.<a href="#section-4-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-5.3">Variable A is the Argument length of the SID.<a href="#section-4-5.3" class="pilcrow">¶</a>
</li>
      </ul>
<div id="next-c-sid-flavor">
<section id="section-4.1">
        <h3 id="name-next-c-sid-flavor">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-next-c-sid-flavor" class="section-name selfRef">NEXT-C-SID Flavor</a>
        </h3>
<p id="section-4.1-1">A SID instantiated with the NEXT-C-SID flavor takes an argument that carries the remaining C-SIDs in the current C-SID container.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The length A of the argument is equal to 128-B-NF and should be a multiple of NF.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<span id="name-example-of-a-next-c-sid-fla"></span><figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-4.1-3.1">
<pre>
+------------------------------------------------------------------+
|     Locator-Block      |Loc-Node|            Argument            |
|                        |Function|                                |
+------------------------------------------------------------------+
 &lt;--------- B ----------&gt; &lt;- NF -&gt; &lt;------------- A --------------&gt;
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-example-of-a-next-c-sid-fla" class="selfRef">Example of a NEXT-C-SID flavored SID structure using a 48-bit block, 16-bit combined locator and function, and 64-bit argument</a>
          </figcaption></figure>
<p id="section-4.1-4">The NEXT-C-SID flavor has been previously documented in <span>[<a href="#I-D.filsfils-spring-net-pgm-extension-srv6-usid" class="xref">I-D.filsfils-spring-net-pgm-extension-srv6-usid</a>]</span> under the name "SHIFT" flavor. In that context, a C-SID and a C-SID-sequence are respectively named a Micro-Segment (uSID) and a Micro-Program.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<div id="sec-next-end">
<section id="section-4.1.1">
          <h4 id="name-end-with-next-c-sid">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-end-with-next-c-sid" class="section-name selfRef">End with NEXT-C-SID</a>
          </h4>
<p id="section-4.1.1-1">When processing an IPv6 packet that matches a FIB entry locally instantiated as an End SID with the NEXT-C-SID flavor, the procedure described in Section 4.1 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is executed with the following modifications.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">The below pseudocode is inserted between lines S01 and S02 of the SRH processing in Section 4.1 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>, and a second time before line S01 of the upper-layer header processing in Section 4.1.1 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>.<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.1-3">
<pre>
S01. If (DA.Argument != 0) {
S02.   If (IPv6 Hop Limit &lt;= 1) {
S03.     Send an ICMP Time Exceeded message to the Source Address,
           Code 0 (Hop limit exceeded in transit),
           interrupt packet processing and discard the packet.
S04.   }
S05.   Copy the value of DA.Argument into the bits [B..(B+A-1)]
         of the Destination Address.
S06.   Set the bits [(B+A)..127] of the Destination Address to
         zero.
S07.   Decrement Hop Limit by 1.
S08.   Submit the packet to the egress IPv6 FIB lookup for
         transmission to the next destination.
S09. }
</pre><a href="#section-4.1.1-3" class="pilcrow">¶</a>
</div>
<p id="section-4.1.1-4">Notes:<a href="#section-4.1.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1.1-5.1">
              <code>DA.Argument</code> identifies the bits <code>[(B+NF)..127]</code> in the Destination Address of the IPv6 header.<a href="#section-4.1.1-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-5.2">The value in the Segments Left field of the SRH is not modified when <code>DA.Argument</code> in the received packet has a non-zero value.<a href="#section-4.1.1-5.2" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="sec-next-endx">
<section id="section-4.1.2">
          <h4 id="name-endx-with-next-c-sid">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-endx-with-next-c-sid" class="section-name selfRef">End.X with NEXT-C-SID</a>
          </h4>
<p id="section-4.1.2-1">When processing an IPv6 packet that matches a FIB entry locally instantiated as an End.X SID with the NEXT-C-SID flavor, the procedure described in Section 4.2 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is executed with the same modifications as in <a href="#sec-next-end" class="xref">Section 4.1.1</a> of this document, except for line S08 that is replaced as follows.<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.1.2-2">
<pre>
S08.   Submit the packet to the IPv6 module for transmission to the
         new destination via a member of J.
</pre><a href="#section-4.1.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="combination-with-psp-usp-and-usd-flavors">
<section id="section-4.1.3">
          <h4 id="name-combination-with-psp-usp-an">
<a href="#section-4.1.3" class="section-number selfRef">4.1.3. </a><a href="#name-combination-with-psp-usp-an" class="section-name selfRef">Combination with PSP, USP and USD flavors</a>
          </h4>
<p id="section-4.1.3-1">PSP: The PSP flavor defined in Section 4.16.1 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is unchanged when combined with the NEXT-C-SID flavor.<a href="#section-4.1.3-1" class="pilcrow">¶</a></p>
<p id="section-4.1.3-2">USP: The USP flavor defined in Section 4.16.2 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is unchanged when combined with the NEXT-C-SID flavor.<a href="#section-4.1.3-2" class="pilcrow">¶</a></p>
<p id="section-4.1.3-3">USD: The USD flavor is unchanged when combined with the NEXT-C-SID flavor. The pseudocodes defined in <a href="#sec-next-end" class="xref">Section 4.1.1</a> and <a href="#sec-next-endx" class="xref">Section 4.1.2</a> of this document are inserted at the beginning of the modified upper-layer header processing defined in Section 4.16.3 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> for End and End.X, respectively.<a href="#section-4.1.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="replace-c-sid-flavor">
<section id="section-4.2">
        <h3 id="name-replace-c-sid-flavor">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-replace-c-sid-flavor" class="section-name selfRef">REPLACE-C-SID Flavor</a>
        </h3>
<p id="section-4.2-1">A SID instantiated with the REPLACE-C-SID flavor takes an argument that indicates the index of the next C-SID in the appropriate container.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">The length A of the argument should be at least ceil(log_2(128/NF)).<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">All SIDs that are part of a C-SID sequence using the REPLACE-C-SID flavor have the same C-SID length NF.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<span id="name-example-of-a-replace-c-sid-"></span><figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.2-4.1">
<pre>
+-------------------------------------------------------------------+
|     Locator-Block      |  Locator-Node  |Argument|       0        |
|                        |   + Function   |        |                |
+-------------------------------------------------------------------+
 &lt;--------- B ----------&gt; &lt;----- NF -----&gt; &lt;- A --&gt;
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-example-of-a-replace-c-sid-" class="selfRef">Example of a REPLACE-C-SID flavored SID structure using a 48-bit block, 32-bit combined locator and function, and 16-bit argument</a>
          </figcaption></figure>
<p id="section-4.2-5">The REPLACE-C-SID flavor has been previously documented in <span>[<a href="#I-D.cl-spring-generalized-srv6-for-cmpr" class="xref">I-D.cl-spring-generalized-srv6-for-cmpr</a>]</span> under the name "COC(Continue of Compression)" flavor. In that context, a C-SID and a C-SID-sequence are respectively named a G-SID and G-SRv6 compression sub-path.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<div id="sec-replace-end">
<section id="section-4.2.1">
          <h4 id="name-end-with-replace-c-sid">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-end-with-replace-c-sid" class="section-name selfRef">End with REPLACE-C-SID</a>
          </h4>
<p id="section-4.2.1-1">When processing an IPv6 packet that matches a FIB entry locally instantiated as an End SID with the REPLACE-C-SID flavor, the SRH processing described in Section 4.1 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is replaced as follows.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-2">
<pre>
S01. When an SRH is processed {
S02.   If (Segments Left == 0 and DA.Argument == 0) {
S03.      Stop processing the SRH, and proceed to process the next
            header in the packet, whose type is identified by
            the Next Header field in the routing header.
S04.   }
S05.   If (IPv6 Hop Limit &lt;= 1) {
S06.      Send an ICMP Time Exceeded message to the Source Address,
            Code 0 (Hop limit exceeded in transit),
            interrupt packet processing and discard the packet.
S07.   }
S08.   max_LE = (Hdr Ext Len / 2) - 1
S09.   If (DA.Argument != 0) {
S10.     If ((Last Entry &gt; max_LE) or (Segments Left &gt; Last Entry)) {
S11.        Send an ICMP Parameter Problem to the Source Address,
              Code 0 (Erroneous header field encountered),
              Pointer set to the Segments Left field,
              interrupt packet processing and discard the packet.
S11.     }
S12.     Decrement DA.Argument by 1.
S13.   } Else {
S14.     If((Last Entry &gt; max_LE) or (Segments Left &gt; Last Entry+1)){
S15.        Send an ICMP Parameter Problem to the Source Address,
              Code 0 (Erroneous header field encountered),
              Pointer set to the Segments Left field,
              interrupt packet processing and discard the packet.
S11.     }
S12.     Decrement Segments Left by 1.
S13.     Set DA.Argument to (128/NF - 1).
S14.   }
S15.   Decrement IPv6 Hop Limit by 1
S16.   Write Segment List[Segments Left][DA.Argument] into the bits
         [B..B+NF-1] of the Destination Address of the IPv6 header.
S17.   Write DA.Argument into the bits [B+NF..B+NF+A-1] of the
         Destination Address of the IPv6 header.
S18.   Submit the packet to the egress IPv6 FIB lookup for
          transmission to the new destination.
S19. }
</pre><a href="#section-4.2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-3">Notes:<a href="#section-4.2.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.1-4.1">
              <code>DA.Argument</code> identifies the bits <code>[(B+NF)..(B+NF+A-1)]</code> in the Destination Address of the IPv6 header.<a href="#section-4.2.1-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.2.1-4.2">
              <code>Segment List[Segments Left][DA.Argument]</code> identifies the bits <code>[DA.Argument*NF..(DA.Argument+1)*NF-1]</code> in the SRH Segment List entry at index Segments Left.<a href="#section-4.2.1-4.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.2.1-5">The upper-layer header processing described in Section 4.1.1 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is unchanged.<a href="#section-4.2.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-replace-endx">
<section id="section-4.2.2">
          <h4 id="name-endx-with-replace-c-sid">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-endx-with-replace-c-sid" class="section-name selfRef">End.X with REPLACE-C-SID</a>
          </h4>
<p id="section-4.2.2-1">When processing an IPv6 packet that matches a FIB entry locally instantiated as an End.X SID with the REPLACE-C-SID flavor, the procedure described in Section 4.2 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is executed with the same modifications as in <a href="#sec-replace-end" class="xref">Section 4.2.1</a> of this document, except for line S18 that is replaced as follows.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.2-2">
<pre>
S18.   Submit the packet to the IPv6 module for transmission to the
         new destination via a member of J.
</pre><a href="#section-4.2.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="combination-with-psp-usp-and-usd-flavors-1">
<section id="section-4.2.3">
          <h4 id="name-combination-with-psp-usp-and">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-combination-with-psp-usp-and" class="section-name selfRef">Combination with PSP, USP and USD flavors</a>
          </h4>
<p id="section-4.2.3-1">PSP:
When combined with the REPLACE-C-SID flavor, the additional PSP flavor instructions defined in Section 4.16.1.2 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> are inserted after line S17 of the pseudocode in <a href="#sec-replace-end" class="xref">Section 4.2.1</a>, and the first line of the inserted instructions is modified as follows.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.3-2">
<pre>
S17.1.   If (Segments Left == 0 and DA.Argument == 0) {
</pre><a href="#section-4.2.3-2" class="pilcrow">¶</a>
</div>
<p id="section-4.2.3-3">USP:
When combined with the REPLACE-C-SID flavor, the 
lines S02-S04 of the pseudocode in <a href="#sec-replace-end" class="xref">Section 4.2.1</a> are substituted by the USP flavor instructions defined in Section 4.16.2 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span>, with the following modification.<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.3-4">
<pre>
S02.   If (Segments Left == 0 and DA.Argument == 0) {
</pre><a href="#section-4.2.3-4" class="pilcrow">¶</a>
</div>
<p id="section-4.2.3-5">USD:
The USD flavor defined in Section 4.16.3 of <span>[<a href="#RFC8986" class="xref">RFC8986</a>]</span> is unchanged when combined with the REPLACE-C-SID flavor.<a href="#section-4.2.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="combined-next-and-replace-c-sid-flavor">
<section id="section-4.3">
        <h3 id="name-combined-next-and-replace-c">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-combined-next-and-replace-c" class="section-name selfRef">Combined NEXT-and-REPLACE-C-SID Flavor</a>
        </h3>
<p id="section-4.3-1">A SID instantiated with the NEXT-and-REPLACE-C-SID flavor takes a two-parts argument comprising, Arg.Next and Arg.Index, and encoded in the SID in this order.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The length A_I of Arg.Index should be at least ceil(log_2(128/NF)).<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">The length A_N of Arg.Next is equal to 128-B-NF-A_I and must be a multiple of NF.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">The total SID argument length A is the sum of A_I and A_N.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">The NEXT-and-REPLACE-C-SID flavor also leverages an additional variable, C_DA, that is equal to (1 + (A_N/NF)) and represents the number of C-SID's that can be encoded in the IPv6 Destination Address.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.3-6">All SIDs that are part of a C-SID sequence using the NEXT-and-REPLACE-C-SID flavor must have the same C-SID length NF. Furthermore, this NF must be a divisor of 128.<a href="#section-4.3-6" class="pilcrow">¶</a></p>
<span id="name-example-of-a-next-and-repla"></span><figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-4.3-7.1">
<pre>
+-------------------------------------------------------------------+
|     Locator-Block      |Loc-Node|        Arg.Next        |  Arg.  |
|                        |Function|                        | Index  |
+-------------------------------------------------------------------+
 &lt;--------- B ----------&gt; &lt;- NF -&gt; &lt;-------- A_N ---------&gt; &lt;- A_I -&gt;
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-of-a-next-and-repla" class="selfRef">Example of a NEXT-and-REPLACE-C-SID flavored SID structure using a 48-bit block, 16-bit combined locator and function, 48-bit Arg.Next and 16-bit Arg.Index</a>
          </figcaption></figure>
<p id="section-4.3-8">Pseudo-code:<a href="#section-4.3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-9">
<pre>
 1.   If (DA.Arg.Next != 0) {
 2.     Copy DA.Arg.Next into the bits [B..(B+A_N-1)] of the
          Destination Address of the IPv6 header.
 3.     Set the bits [(B+A_N)..(B+NF+A_N-1)] of the Destination Address
          of the IPv6 header to zero.
 4.   } Else If (DA.Arg.Index &gt;= C_DA) {
 5.     Decrement DA.Arg.Index by C_DA.
 6.     Copy C_DA*NF bits from Segment List[Segments Left][DA.Arg.Index]
          into the bits [B..B+C_DA*NF-1] of the Destination Address of
          the IPv6 header.
 7.   } Else If (Segments Left != 0) {
 8.     Decrement Segments Left by 1.
 9.     Set DA.Arg.Index to ((DA.Arg.Index - C_DA) % (128/NF)).
10.     Copy C_DA*NF bits from Segment List[Segments Left][DA.Arg.Index]
          into the bits [B..B+C_DA*NF-1] of the Destination Address of
          the IPv6 header.
11.   } Else {
12.     Copy DA.Arg.Index*NF bits from Segment List[0][0] into the bits
          [B..B+DA.Arg.Index*NF-1] of the Destination Address of the
          IPv6 header.
13.     Set the bits [B+DA.Arg.Index*NF..B+NF+A_N-1] of the Destination
          Address of the IPv6 header to zero.
14.     Set DA.Arg.Index to 0.
15.   }
</pre><a href="#section-4.3-9" class="pilcrow">¶</a>
</div>
<p id="section-4.3-10">Notes:<a href="#section-4.3-10" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.3-11.1">
            <code>DA.Arg.Next</code> identifies the bits <code>[(B+NF)..(B+NF+A_N-1)]</code> in the Destination Address of the IPv6 header.<a href="#section-4.3-11.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-11.2">
            <code>DA.Arg.Index</code> identifies the bits <code>[(B+NF+A_N)..(B+NF+A_N+A_I-1)]</code> in the Destination Address of the IPv6 header.<a href="#section-4.3-11.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.3-11.3">
            <code>Segment List[Segments Left][DA.Arg.Index]</code> identifies the bits <code>[DA.Arg.Index*NF..(DA.Arg.Index+1)*NF-1]</code> in the SRH Segment List entry at index Segments Left.<a href="#section-4.3-11.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="gib-lib-global-c-sid-and-local-c-sid">
<section id="section-5">
      <h2 id="name-gib-lib-global-c-sid-and-lo">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-gib-lib-global-c-sid-and-lo" class="section-name selfRef">GIB, LIB, global C-SID and local C-SID</a>
      </h2>
<p id="section-5-1">GIB: The set of IDs available for global C-SID allocation.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">LIB: The set of IDs available for local C-SID allocation.<a href="#section-5-2" class="pilcrow">¶</a></p>
<div id="global-c-sid">
<section id="section-5.1">
        <h3 id="name-global-c-sid">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-global-c-sid" class="section-name selfRef">Global C-SID</a>
        </h3>
<p id="section-5.1-1">A C-SID from the GIB.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">A Global C-SID typically identifies a shortest-path to a node in the SRv6 domain. An IP route is advertised by the parent node to each of its global C-SID's, under the associated C-SID block. The parent node executes a variant of the END behavior.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">A node can have multiple global C-SID's under the same C-SID blocks (e.g. one per IGP flexible algorithm). Multiple nodes may share the same global C-SID (anycast).<a href="#section-5.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="local-c-sid">
<section id="section-5.2">
        <h3 id="name-local-c-sid">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-local-c-sid" class="section-name selfRef">Local C-SID</a>
        </h3>
<p id="section-5.2-1">A C-SID from the LIB.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">A local C-SID may identify a cross-connect to a direct neighbor over a specific interface or a VPN context.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">No IP route is advertised by a parent node for its local C-SID's.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">If N1 and N2 are two different physical nodes of the SRv6 domain and I is a local C-SID value, then N1 and N2 may bind two different behaviors to I.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">The concept of LIB is applicable to SRv6 and specifically to its NEXT-C-SID and REPLACE-C-SID flavors. The shorter the SID/C-SID, the more benefit the LIB brings.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">The allocation of C-SID's from the GIB and LIB depends on the C-SID length (see <a href="#sec-c-sid-lib-recommendation" class="xref">Section 6.3</a>).<a href="#section-5.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="c-sid-and-block-length">
<section id="section-6">
      <h2 id="name-c-sid-and-block-length">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-c-sid-and-block-length" class="section-name selfRef">C-SID and Block Length</a>
      </h2>
<div id="sec-c-sid-length">
<section id="section-6.1">
        <h3 id="name-c-sid-length">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-c-sid-length" class="section-name selfRef">C-SID Length</a>
        </h3>
<p id="section-6.1-1">The NEXT-C-SID flavor supports both 16- and 32-bit C-SID lengths. A C-SID length of 16-bit is recommended.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">The REPLACE-C-SID flavor supports both 16- and 32-bit C-SID lengths. A C-SID length of 32-bit is recommended.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-c-sid-block">
<section id="section-6.2">
        <h3 id="name-block-length">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-block-length" class="section-name selfRef">Block Length</a>
        </h3>
<p id="section-6.2-1">The recommended SRv6 SID block sizes for the NEXT-C-SID flavor are  16, 32 or 48 bits. The smaller the block, the higher the compression efficiency.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">The recommended SRv6 SID block size for the REPLACE-C-SID flavor can be 48, 56, 64, 72 or 80 bits, depending on the needs of the operator.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-c-sid-lib-recommendation">
<section id="section-6.3">
        <h3 id="name-gib-lib-usage">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-gib-lib-usage" class="section-name selfRef">GIB/LIB Usage</a>
        </h3>
<p id="section-6.3-1">The previous block and C-SID length recommendations, call for the following GIB/LIB usage:<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-2.1">
            <p id="section-6.3-2.1.1">NEXT-C-SID:<a href="#section-6.3-2.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-2.1.2.1">GIB: END.NEXT-C-SID<a href="#section-6.3-2.1.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.3-2.1.2.2">LIB: END.X.NEXT-C-SID, END.DX.NEXT-C-SID, END.DT.NEXT-C-SID<a href="#section-6.3-2.1.2.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.3-2.1.2.3">LIB: END.DX.NEXT-C-SID for large-scale PW support<a href="#section-6.3-2.1.2.3" class="pilcrow">¶</a>
</li>
            </ul>
</li>
          <li class="normal" id="section-6.3-2.2">
            <p id="section-6.3-2.2.1">REPLACE-C-SID:<a href="#section-6.3-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-2.2.2.1">GIB: END.REPLACE-C-SID, END.X.REPLACE-C-SID, END.DX.REPLACE-C-SID, END.DT.REPLACE-C-SID<a href="#section-6.3-2.2.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.3-2.2.2.2">LIB: END.DX.REPLACE-C-SID for large-scale PW support<a href="#section-6.3-2.2.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="efficient-sid-list-encoding">
<section id="section-7">
      <h2 id="name-efficient-sid-list-encoding">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-efficient-sid-list-encoding" class="section-name selfRef">Efficient SID-list Encoding</a>
      </h2>
<p id="section-7-1">The compressed SID-list encoding logic is a local behavior of the SR Policy headend node and hence out of the scope of this document.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="inter-routing-domains-with-the-endxps-behavior">
<section id="section-8">
      <h2 id="name-inter-routing-domains-with-">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-inter-routing-domains-with-" class="section-name selfRef">Inter Routing Domains with the End.XPS behavior</a>
      </h2>
<p id="section-8-1">The End.XPS behavior described in this section is OPTIONAL.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">Some SRv6 traffic may need to cross multiple routing domains, such as different Autonomous Systems (ASes) or different routing areas. Different routing domains may use different addressing schema and SRv6 SID blocks.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">This section defines an optional solution and SID behavior allowing for the use of different SRv6 SID blocks between routing domains.<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">The solution requires a new SID behavior, called "Endpoint with cross-connect to an array of layer-3 adjacencies and SRv6 Prefix Swap" (End.XPS for short) allowing for this transition of SRv6 SID block between two routing domains.<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">End.XPS is a variant of End.X, performing both "End.X Layer-3 Cross-Connect" and the translation of the SRv6 SID block between the two routing domains.<a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">The processing takes as an additional parameter the prefix B2/m corresponding the SRv6 SID block in the second domain. This parameter is a property of the (received) SID and is given as a result of the lookup on the IPv6 destination address which identifies the SRv6 SID and its properties.<a href="#section-8-6" class="pilcrow">¶</a></p>
<p id="section-8-7">The End.XPS behavior is compatible with the NEXT-C-SID, REPLACE-C-SID, and NEXT-and-REPLACE-C-SID flavors described in this document.<a href="#section-8-7" class="pilcrow">¶</a></p>
<p id="section-8-8">When a router R receives a packet whose IPv6 DA matches a local End.XPS SID with the NEXT-C-SID flavor, that is associated with a set J of one or more Layer-3 adjacencies and the SRv6 SID block B2/m of the neighbor routing domain, R processes the packet as follows.<a href="#section-8-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-9">
<pre>
 1.   If (DA.Argument != 0) {
 2.     Write B2 into the most significant bits of the Destination
          Address of the IPv6 header.
 3.     Write DA.Argument into the bits [m..(m+A-1)] of the
          Destination Address of the IPv6 header.
 4.     Set the bits [(m+A)..127] of the Destination Address
          of the IPv6 header to zero.
 5.   } Else {
 6.     Decrement Segments Left by 1.
 7.     Copy Segment List[Segments Left] from the SRH to the
          Destination Address of the IPv6 header.
 8.   }
 9.   Submit the packet to the IPv6 module for transmission to the
        new destination via a member of J.
</pre><a href="#section-8-9" class="pilcrow">¶</a>
</div>
<p id="section-8-10">When a router R receives a packet whose IPv6 DA matches a local End.XPS SID with the REPLACE-C-SID flavor, that is associated with a set J of one or more Layer-3 adjacencies and the SRv6 SID block B2/m of the neighbor routing domain, R processes the packet as follows.<a href="#section-8-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8-11">
<pre>
 1.   If (DA.Argument != 0) {
 2.     Decrement DA.Argument by 1.
 3.   } Else {
 4.     Decrement Segments Left by 1.
 5.     Set DA.Argument to (128/NF - 1).
 6.   }
 7.   Write B2 into the most significant bits of the Destination
        Address of the IPv6 header.
 8.   Write Segment List[Segments Left][DA.Argument] into the bits
        [m..m+NF-1] of the Destination Address of the IPv6 header.
 9.   Write DA.Argument into the bits [m+NF..m+NF+A-1] of the
        Destination Address of the IPv6 header.
10.   Set the bits [(m+NF+A)..127] of the Destination Address
        of the IPv6 header to zero.
11.   Submit the packet to the IPv6 module for transmission to the
        new destination via a member of J.
</pre><a href="#section-8-11" class="pilcrow">¶</a>
</div>
<p id="section-8-12">Note: the way the SRv6 SID Block B2 of the next routing domain is known is out of scope of this document. As examples, it could be learnt via configuration, or using a signaling protocol either with the peer domain or with a central controller (e.g. PCE).<a href="#section-8-12" class="pilcrow">¶</a></p>
<p id="section-8-13">When End.XPS SID behavior is used, the restriction on the C-SID length for the REPLACE-C-SID and the NEXT-and-REPLACE-C-SID flavors is relaxed and becomes: all SID the are part of a C-SID sequence <strong>within a domain</strong> MUST have the same SID length NF.<a href="#section-8-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="control-plane">
<section id="section-9">
      <h2 id="name-control-plane">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-control-plane" class="section-name selfRef">Control Plane</a>
      </h2>
<p id="section-9-1">This document does not require any control plane modification.<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="illustrations">
<section id="section-10">
      <h2 id="name-illustrations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-illustrations" class="section-name selfRef">Illustrations</a>
      </h2>
<p id="section-10-1">Illustrations will be provided in a separate document.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="interoperability-status">
<section id="section-11">
      <h2 id="name-interoperability-status">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-interoperability-status" class="section-name selfRef">Interoperability Status</a>
      </h2>
<p id="section-11-1">In November 2020, China Mobile successfully validated multiple interoperable implementations of the NEXT-C-SID and REPLACE-C-SID flavors defined in this document.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">This testing covered two different implementations of the SRv6 endpoint flavors defined in this document:<a href="#section-11-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-3.1">Hardware implementation in Cisco ASR 9000 running IOS XR<a href="#section-11-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-11-3.2">Software implementation in Cisco IOS XRv9000 virtual appliance<a href="#section-11-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-11-3.3">Hardware implementation in Huawei NE40E and NE5000E running VRP<a href="#section-11-3.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-11-4">The interoperability was validated for the following scenario:<a href="#section-11-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-5.1">Packet forwarding through a traffic engineering segment list combining, in the same SRH (<span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span>), SRv6 SIDs bound to an endpoint behavior with the NEXT-C-SID flavor and SRv6 SIDs bound to an endpoint behavior with the REPLACE-C-SID flavor.<a href="#section-11-5.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-11-6">Further interoperability testing is ongoing and will be reported in this document as the work progresses.<a href="#section-11-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-12">
      <h2 id="name-security-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-12-1">The security requirements and mechanisms described in <span>[<a href="#RFC8402" class="xref">RFC8402</a>]</span> and <span>[<a href="#RFC8754" class="xref">RFC8754</a>]</span> also apply to this document.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">This document does not introduce any new security consideration.<a href="#section-12-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgements">
<section id="section-13">
      <h2 id="name-acknowledgements">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-13-1">The authors would like to thank Kamran Raza, Xing Jiang, YuanChao Su, Han Li and Yisong Liu.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-14">
      <h2 id="name-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-14.1">
        <h3 id="name-normative-references">
<a href="#section-14.1" class="section-number selfRef">14.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8402">[RFC8402]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Decraene, B.</span>, <span class="refAuthor">Litkowski, S.</span>, and <span class="refAuthor">R. Shakir</span>, <span class="refTitle">"Segment Routing Architecture"</span>, <span class="seriesInfo">RFC 8402</span>, <span class="seriesInfo">DOI 10.17487/RFC8402</span>, <time datetime="2018-07" class="refDate">July 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8402">https://www.rfc-editor.org/info/rfc8402</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8754">[RFC8754]</dt>
        <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Dukes, D., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"IPv6 Segment Routing Header (SRH)"</span>, <span class="seriesInfo">RFC 8754</span>, <span class="seriesInfo">DOI 10.17487/RFC8754</span>, <time datetime="2020-03" class="refDate">March 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8754">https://www.rfc-editor.org/info/rfc8754</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8986">[RFC8986]</dt>
      <dd>
<span class="refAuthor">Filsfils, C., Ed.</span>, <span class="refAuthor">Camarillo, P., Ed.</span>, <span class="refAuthor">Leddy, J.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Matsushima, S.</span>, and <span class="refAuthor">Z. Li</span>, <span class="refTitle">"Segment Routing over IPv6 (SRv6) Network Programming"</span>, <span class="seriesInfo">RFC 8986</span>, <span class="seriesInfo">DOI 10.17487/RFC8986</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8986">https://www.rfc-editor.org/info/rfc8986</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-14.2">
        <h3 id="name-informative-references">
<a href="#section-14.2" class="section-number selfRef">14.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="EMAIL1">[EMAIL1]</dt>
        <dd>
<span class="refTitle">"SPRING chairs email on the adoption of draft-filsfilscheng-spring-srv6-srh-compression-02"</span>, <time datetime="2021-10" class="refDate">October 2021</time>, <span>&lt;<a href="https://mailarchive.ietf.org/arch/msg/spring/VjVIxo7fZFhsIHJ5wFQXIBvvtNM/">https://mailarchive.ietf.org/arch/msg/spring/VjVIxo7fZFhsIHJ5wFQXIBvvtNM/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="EMAIL2">[EMAIL2]</dt>
        <dd>
<span class="refTitle">"SPRING chairs email on working group process"</span>, <time datetime="2022-02" class="refDate">February 2022</time>, <span>&lt;<a href="https://mailarchive.ietf.org/arch/msg/spring/vCc9Ckvwu5HA-RCleV712dsA5OA/">https://mailarchive.ietf.org/arch/msg/spring/vCc9Ckvwu5HA-RCleV712dsA5OA/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.cl-spring-generalized-srv6-for-cmpr">[I-D.cl-spring-generalized-srv6-for-cmpr]</dt>
        <dd>
<span class="refAuthor">(editor), W. C.</span>, <span class="refAuthor">Li, Z.</span>, <span class="refAuthor">(editor), C. L.</span>, <span class="refAuthor">Clad, F.</span>, <span class="refAuthor">Liu, A.</span>, <span class="refAuthor">Xie, C.</span>, <span class="refAuthor">Liu, Y.</span>, and <span class="refAuthor">S. Zadok</span>, <span class="refTitle">"Generalized SRv6 Network Programming for SRv6 Compression"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-cl-spring-generalized-srv6-for-cmpr-04</span>, <time datetime="2021-10-24" class="refDate">24 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-cl-spring-generalized-srv6-for-cmpr-04.txt">https://www.ietf.org/archive/id/draft-cl-spring-generalized-srv6-for-cmpr-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.filsfils-spring-net-pgm-extension-srv6-usid">[I-D.filsfils-spring-net-pgm-extension-srv6-usid]</dt>
        <dd>
<span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Garvia, P. C.</span>, <span class="refAuthor">Cai, D.</span>, <span class="refAuthor">Voyer, D.</span>, <span class="refAuthor">Meilik, I.</span>, <span class="refAuthor">Patel, K.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Jonnalagadda, P.</span>, <span class="refAuthor">Melman, D.</span>, <span class="refAuthor">Liu, Y.</span>, and <span class="refAuthor">J. Guichard</span>, <span class="refTitle">"Network Programming extension: SRv6 uSID instruction"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-filsfils-spring-net-pgm-extension-srv6-usid-12</span>, <time datetime="2021-12-13" class="refDate">13 December 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-filsfils-spring-net-pgm-extension-srv6-usid-12.txt">https://www.ietf.org/archive/id/draft-filsfils-spring-net-pgm-extension-srv6-usid-12.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.srcompdt-spring-compression-requirement">[I-D.srcompdt-spring-compression-requirement]</dt>
      <dd>
<span class="refAuthor">Cheng, W.</span>, <span class="refAuthor">Xie, C.</span>, <span class="refAuthor">Bonica, R.</span>, <span class="refAuthor">Dukes, D.</span>, <span class="refAuthor">Li, C.</span>, <span class="refAuthor">Shaofu, P.</span>, and <span class="refAuthor">W. Henderickx</span>, <span class="refTitle">"Compressed SRv6 SID List Requirements"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-srcompdt-spring-compression-requirement-07</span>, <time datetime="2021-07-11" class="refDate">11 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-srcompdt-spring-compression-requirement-07.txt">https://www.ietf.org/archive/id/draft-srcompdt-spring-compression-requirement-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="open-issues">
<section id="appendix-A">
      <h2 id="name-open-issues">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-open-issues" class="section-name selfRef">Open Issues</a>
      </h2>
<p id="appendix-A-1">This section was added as requested by the SPRING chair in <span>[<a href="#EMAIL1" class="xref">EMAIL1</a>]</span>.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<p id="appendix-A-2">Issues raised during and after the adoption call for this draft are 
tracked in an issue tracker. The remainder of this section identifies 
the most significant open issues, from the adoption call, for the 
working group to keep track of.<a href="#appendix-A-2" class="pilcrow">¶</a></p>
<p id="appendix-A-3">As a reminder to those reading this section, this document is a work in 
progress, and subject to change by the working group.  As noted at the 
front of this document, "It is inappropriate to use Internet-Drafts as 
reference material"<a href="#appendix-A-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-4.1">Given that the working group has said that it wants to standardize one
data plane solution, and given that the document contains multiple SRv6
EndPoint behaviors that some WG members have stated are multiple data
plane solutions, the working group will address whether this is valid
and coherent with its one data plane solution objective.<a href="#appendix-A-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-4.2">As reminded in the conclusion of the adoption call, this document is 
subject to the policy announced by the SPRING chairs in 
<span>[<a href="#EMAIL2" class="xref">EMAIL2</a>]</span>.
In particular, this means that this document can not go to WG last call 
until 6man completes handling of an Internet Draft that deals with the 
relationship of C-SIDs to RFC 4291.  It is hoped and expected that said 
resolution will be a WG last call and document approval in 6man of a 
document providing for the way that C-SIDs use the IPv6 destination 
address field.<a href="#appendix-A-4.2" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Weiqiang Cheng (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:chengweiqiang@chinamobile.com" class="email">chengweiqiang@chinamobile.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Clarence Filsfils</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc.</span></div>
<div dir="auto" class="left"><span class="country-name">Belgium</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:cf@cisco.com" class="email">cf@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Zhenbin Li</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lizhenbin@huawei.com" class="email">lizhenbin@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bruno Decraene</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bruno.decraene@orange.com" class="email">bruno.decraene@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Dennis Cai</span></div>
<div dir="auto" class="left"><span class="org">Alibaba</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:d.cai@alibaba-inc.com" class="email">d.cai@alibaba-inc.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Daniel Voyer</span></div>
<div dir="auto" class="left"><span class="org">Bell Canada</span></div>
<div dir="auto" class="left"><span class="country-name">Canada</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:daniel.voyer@bell.ca" class="email">daniel.voyer@bell.ca</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Francois Clad (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc.</span></div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fclad@cisco.com" class="email">fclad@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Shay Zadok</span></div>
<div dir="auto" class="left"><span class="org">Broadcom</span></div>
<div dir="auto" class="left"><span class="country-name">Israel</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:shay.zadok@broadcom.com" class="email">shay.zadok@broadcom.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">James N Guichard</span></div>
<div dir="auto" class="left"><span class="org">Futurewei Technologies Ltd.</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:james.n.guichard@futurewei.com" class="email">james.n.guichard@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Liu Aihua</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liu.aihua@zte.com.cn" class="email">liu.aihua@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Robert Raszuk</span></div>
<div dir="auto" class="left"><span class="org">NTT Network Innovations</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:robert@raszuk.net" class="email">robert@raszuk.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Cheng Li</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:chengli13@huawei.com" class="email">chengli13@huawei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
