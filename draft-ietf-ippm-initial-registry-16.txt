



Network Working Group                                          A. Morton
Internet-Draft                                                 AT&T Labs
Intended status: Standards Track                              M. Bagnulo
Expires: September 10, 2020                                         UC3M
                                                              P. Eardley
                                                                      BT
                                                              K. D'Souza
                                                               AT&T Labs
                                                           March 9, 2020


              Initial Performance Metrics Registry Entries
                  draft-ietf-ippm-initial-registry-16

Abstract

   This memo defines the set of Initial Entries for the IANA Performance
   Metrics Registry.  The set includes: UDP Round-trip Latency and Loss,
   Packet Delay Variation, DNS Response Latency and Loss, UDP Poisson
   One-way Delay and Loss, UDP Periodic One-way Delay and Loss, ICMP
   Round-trip Latency and Loss, and TCP round-trip Latency and Loss.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14[RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 10, 2020.





Morton, et al.         Expires September 10, 2020               [Page 1]

Internet-Draft              Initial Registry                  March 2020


Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   6
   2.  Scope . . . . . . . . . . . . . . . . . . . . . . . . . . . .   7
   3.  Registry Categories and Columns . . . . . . . . . . . . . . .   7
   4.  UDP Round-trip Latency and Loss Registry Entries  . . . . . .   8
     4.1.  Summary . . . . . . . . . . . . . . . . . . . . . . . . .   9
       4.1.1.  ID (Identifier) . . . . . . . . . . . . . . . . . . .   9
       4.1.2.  Name  . . . . . . . . . . . . . . . . . . . . . . . .   9
       4.1.3.  URI . . . . . . . . . . . . . . . . . . . . . . . . .   9
       4.1.4.  Description . . . . . . . . . . . . . . . . . . . . .   9
       4.1.5.  Change Controller . . . . . . . . . . . . . . . . . .   9
       4.1.6.  Version (of Registry Format)  . . . . . . . . . . . .   9
     4.2.  Metric Definition . . . . . . . . . . . . . . . . . . . .  10
       4.2.1.  Reference Definition  . . . . . . . . . . . . . . . .  10
       4.2.2.  Fixed Parameters  . . . . . . . . . . . . . . . . . .  10
     4.3.  Method of Measurement . . . . . . . . . . . . . . . . . .  11
       4.3.1.  Reference Method  . . . . . . . . . . . . . . . . . .  11
       4.3.2.  Packet Stream Generation  . . . . . . . . . . . . . .  12
       4.3.3.  Traffic Filtering (observation) Details . . . . . . .  13
       4.3.4.  Sampling Distribution . . . . . . . . . . . . . . . .  13
       4.3.5.  Run-time Parameters and Data Format . . . . . . . . .  13
       4.3.6.  Roles . . . . . . . . . . . . . . . . . . . . . . . .  14
     4.4.  Output  . . . . . . . . . . . . . . . . . . . . . . . . .  14
       4.4.1.  Type  . . . . . . . . . . . . . . . . . . . . . . . .  14
       4.4.2.  Reference Definition  . . . . . . . . . . . . . . . .  14
       4.4.3.  Metric Units  . . . . . . . . . . . . . . . . . . . .  15
       4.4.4.  Calibration . . . . . . . . . . . . . . . . . . . . .  15
     4.5.  Administrative items  . . . . . . . . . . . . . . . . . .  16
       4.5.1.  Status  . . . . . . . . . . . . . . . . . . . . . . .  16
       4.5.2.  Requester . . . . . . . . . . . . . . . . . . . . . .  16
       4.5.3.  Revision  . . . . . . . . . . . . . . . . . . . . . .  16
       4.5.4.  Revision Date . . . . . . . . . . . . . . . . . . . .  16



Morton, et al.         Expires September 10, 2020               [Page 2]

Internet-Draft              Initial Registry                  March 2020


     4.6.  Comments and Remarks  . . . . . . . . . . . . . . . . . .  16
   5.  Packet Delay Variation Registry Entry . . . . . . . . . . . .  16
     5.1.  Summary . . . . . . . . . . . . . . . . . . . . . . . . .  16
       5.1.1.  ID (Identifier) . . . . . . . . . . . . . . . . . . .  16
       5.1.2.  Name  . . . . . . . . . . . . . . . . . . . . . . . .  16
       5.1.3.  URI . . . . . . . . . . . . . . . . . . . . . . . . .  17
       5.1.4.  Description . . . . . . . . . . . . . . . . . . . . .  17
       5.1.5.  Change Controller . . . . . . . . . . . . . . . . . .  17
       5.1.6.  Version (of Registry Format)  . . . . . . . . . . . .  17
     5.2.  Metric Definition . . . . . . . . . . . . . . . . . . . .  17
       5.2.1.  Reference Definition  . . . . . . . . . . . . . . . .  17
       5.2.2.  Fixed Parameters  . . . . . . . . . . . . . . . . . .  18
     5.3.  Method of Measurement . . . . . . . . . . . . . . . . . .  19
       5.3.1.  Reference Method  . . . . . . . . . . . . . . . . . .  19
       5.3.2.  Packet Stream Generation  . . . . . . . . . . . . . .  19
       5.3.3.  Traffic Filtering (observation) Details . . . . . . .  20
       5.3.4.  Sampling Distribution . . . . . . . . . . . . . . . .  20
       5.3.5.  Run-time Parameters and Data Format . . . . . . . . .  20
       5.3.6.  Roles . . . . . . . . . . . . . . . . . . . . . . . .  21
     5.4.  Output  . . . . . . . . . . . . . . . . . . . . . . . . .  21
       5.4.1.  Type  . . . . . . . . . . . . . . . . . . . . . . . .  21
       5.4.2.  Reference Definition  . . . . . . . . . . . . . . . .  21
       5.4.3.  Metric Units  . . . . . . . . . . . . . . . . . . . .  22
       5.4.4.  Calibration . . . . . . . . . . . . . . . . . . . . .  22
     5.5.  Administrative items  . . . . . . . . . . . . . . . . . .  23
       5.5.1.  Status  . . . . . . . . . . . . . . . . . . . . . . .  23
       5.5.2.  Requester . . . . . . . . . . . . . . . . . . . . . .  23
       5.5.3.  Revision  . . . . . . . . . . . . . . . . . . . . . .  23
       5.5.4.  Revision Date . . . . . . . . . . . . . . . . . . . .  23
     5.6.  Comments and Remarks  . . . . . . . . . . . . . . . . . .  23
   6.  DNS Response Latency and Loss Registry Entries  . . . . . . .  23
     6.1.  Summary . . . . . . . . . . . . . . . . . . . . . . . . .  23
       6.1.1.  ID (Identifier) . . . . . . . . . . . . . . . . . . .  24
       6.1.2.  Name  . . . . . . . . . . . . . . . . . . . . . . . .  24
       6.1.3.  URI . . . . . . . . . . . . . . . . . . . . . . . . .  24
       6.1.4.  Description . . . . . . . . . . . . . . . . . . . . .  24
       6.1.5.  Change Controller . . . . . . . . . . . . . . . . . .  24
       6.1.6.  Version (of Registry Format)  . . . . . . . . . . . .  24
     6.2.  Metric Definition . . . . . . . . . . . . . . . . . . . .  24
       6.2.1.  Reference Definition  . . . . . . . . . . . . . . . .  24
       6.2.2.  Fixed Parameters  . . . . . . . . . . . . . . . . . .  25
     6.3.  Method of Measurement . . . . . . . . . . . . . . . . . .  27
       6.3.1.  Reference Method  . . . . . . . . . . . . . . . . . .  27
       6.3.2.  Packet Stream Generation  . . . . . . . . . . . . . .  28
       6.3.3.  Traffic Filtering (observation) Details . . . . . . .  29
       6.3.4.  Sampling Distribution . . . . . . . . . . . . . . . .  29
       6.3.5.  Run-time Parameters and Data Format . . . . . . . . .  29
       6.3.6.  Roles . . . . . . . . . . . . . . . . . . . . . . . .  30



Morton, et al.         Expires September 10, 2020               [Page 3]

Internet-Draft              Initial Registry                  March 2020


     6.4.  Output  . . . . . . . . . . . . . . . . . . . . . . . . .  30
       6.4.1.  Type  . . . . . . . . . . . . . . . . . . . . . . . .  30
       6.4.2.  Reference Definition  . . . . . . . . . . . . . . . .  31
       6.4.3.  Metric Units  . . . . . . . . . . . . . . . . . . . .  31
       6.4.4.  Calibration . . . . . . . . . . . . . . . . . . . . .  31
     6.5.  Administrative items  . . . . . . . . . . . . . . . . . .  32
       6.5.1.  Status  . . . . . . . . . . . . . . . . . . . . . . .  32
       6.5.2.  Requester . . . . . . . . . . . . . . . . . . . . . .  32
       6.5.3.  Revision  . . . . . . . . . . . . . . . . . . . . . .  32
       6.5.4.  Revision Date . . . . . . . . . . . . . . . . . . . .  32
     6.6.  Comments and Remarks  . . . . . . . . . . . . . . . . . .  32
   7.  UDP Poisson One-way Delay and Loss Registry Entries . . . . .  32
     7.1.  Summary . . . . . . . . . . . . . . . . . . . . . . . . .  32
       7.1.1.  ID (Identifier) . . . . . . . . . . . . . . . . . . .  33
       7.1.2.  Name  . . . . . . . . . . . . . . . . . . . . . . . .  33
       7.1.3.  URI . . . . . . . . . . . . . . . . . . . . . . . . .  33
       7.1.4.  Description . . . . . . . . . . . . . . . . . . . . .  33
     7.2.  Metric Definition . . . . . . . . . . . . . . . . . . . .  34
       7.2.1.  Reference Definition  . . . . . . . . . . . . . . . .  34
       7.2.2.  Fixed Parameters  . . . . . . . . . . . . . . . . . .  35
     7.3.  Method of Measurement . . . . . . . . . . . . . . . . . .  36
       7.3.1.  Reference Method  . . . . . . . . . . . . . . . . . .  36
       7.3.2.  Packet Stream Generation  . . . . . . . . . . . . . .  36
       7.3.3.  Traffic Filtering (observation) Details . . . . . . .  37
       7.3.4.  Sampling Distribution . . . . . . . . . . . . . . . .  37
       7.3.5.  Run-time Parameters and Data Format . . . . . . . . .  37
       7.3.6.  Roles . . . . . . . . . . . . . . . . . . . . . . . .  38
     7.4.  Output  . . . . . . . . . . . . . . . . . . . . . . . . .  38
       7.4.1.  Type  . . . . . . . . . . . . . . . . . . . . . . . .  38
       7.4.2.  Reference Definition  . . . . . . . . . . . . . . . .  38
       7.4.3.  Metric Units  . . . . . . . . . . . . . . . . . . . .  41
       7.4.4.  Calibration . . . . . . . . . . . . . . . . . . . . .  41
     7.5.  Administrative items  . . . . . . . . . . . . . . . . . .  42
       7.5.1.  Status  . . . . . . . . . . . . . . . . . . . . . . .  42
       7.5.2.  Requester . . . . . . . . . . . . . . . . . . . . . .  42
       7.5.3.  Revision  . . . . . . . . . . . . . . . . . . . . . .  42
       7.5.4.  Revision Date . . . . . . . . . . . . . . . . . . . .  43
     7.6.  Comments and Remarks  . . . . . . . . . . . . . . . . . .  43
   8.  UDP Periodic One-way Delay and Loss Registry Entries  . . . .  43
     8.1.  Summary . . . . . . . . . . . . . . . . . . . . . . . . .  43
       8.1.1.  ID (Identifier) . . . . . . . . . . . . . . . . . . .  43
       8.1.2.  Name  . . . . . . . . . . . . . . . . . . . . . . . .  43
       8.1.3.  URI . . . . . . . . . . . . . . . . . . . . . . . . .  44
       8.1.4.  Description . . . . . . . . . . . . . . . . . . . . .  44
     8.2.  Metric Definition . . . . . . . . . . . . . . . . . . . .  44
       8.2.1.  Reference Definition  . . . . . . . . . . . . . . . .  44
       8.2.2.  Fixed Parameters  . . . . . . . . . . . . . . . . . .  45
     8.3.  Method of Measurement . . . . . . . . . . . . . . . . . .  46



Morton, et al.         Expires September 10, 2020               [Page 4]

Internet-Draft              Initial Registry                  March 2020


       8.3.1.  Reference Method  . . . . . . . . . . . . . . . . . .  46
       8.3.2.  Packet Stream Generation  . . . . . . . . . . . . . .  47
       8.3.3.  Traffic Filtering (observation) Details . . . . . . .  48
       8.3.4.  Sampling Distribution . . . . . . . . . . . . . . . .  48
       8.3.5.  Run-time Parameters and Data Format . . . . . . . . .  48
       8.3.6.  Roles . . . . . . . . . . . . . . . . . . . . . . . .  48
     8.4.  Output  . . . . . . . . . . . . . . . . . . . . . . . . .  49
       8.4.1.  Type  . . . . . . . . . . . . . . . . . . . . . . . .  49
       8.4.2.  Reference Definition  . . . . . . . . . . . . . . . .  49
       8.4.3.  Metric Units  . . . . . . . . . . . . . . . . . . . .  52
       8.4.4.  Calibration . . . . . . . . . . . . . . . . . . . . .  52
     8.5.  Administrative items  . . . . . . . . . . . . . . . . . .  53
       8.5.1.  Status  . . . . . . . . . . . . . . . . . . . . . . .  53
       8.5.2.  Requester . . . . . . . . . . . . . . . . . . . . . .  53
       8.5.3.  Revision  . . . . . . . . . . . . . . . . . . . . . .  53
       8.5.4.  Revision Date . . . . . . . . . . . . . . . . . . . .  53
     8.6.  Comments and Remarks  . . . . . . . . . . . . . . . . . .  54
   9.  ICMP Round-trip Latency and Loss Registry Entries . . . . . .  54
     9.1.  Summary . . . . . . . . . . . . . . . . . . . . . . . . .  54
       9.1.1.  ID (Identifier) . . . . . . . . . . . . . . . . . . .  54
       9.1.2.  Name  . . . . . . . . . . . . . . . . . . . . . . . .  54
       9.1.3.  URI . . . . . . . . . . . . . . . . . . . . . . . . .  54
       9.1.4.  Description . . . . . . . . . . . . . . . . . . . . .  55
       9.1.5.  Change Controller . . . . . . . . . . . . . . . . . .  55
       9.1.6.  Version (of Registry Format)  . . . . . . . . . . . .  55
     9.2.  Metric Definition . . . . . . . . . . . . . . . . . . . .  55
       9.2.1.  Reference Definition  . . . . . . . . . . . . . . . .  55
       9.2.2.  Fixed Parameters  . . . . . . . . . . . . . . . . . .  56
     9.3.  Method of Measurement . . . . . . . . . . . . . . . . . .  57
       9.3.1.  Reference Method  . . . . . . . . . . . . . . . . . .  57
       9.3.2.  Packet Stream Generation  . . . . . . . . . . . . . .  58
       9.3.3.  Traffic Filtering (observation) Details . . . . . . .  59
       9.3.4.  Sampling Distribution . . . . . . . . . . . . . . . .  59
       9.3.5.  Run-time Parameters and Data Format . . . . . . . . .  59
       9.3.6.  Roles . . . . . . . . . . . . . . . . . . . . . . . .  59
     9.4.  Output  . . . . . . . . . . . . . . . . . . . . . . . . .  60
       9.4.1.  Type  . . . . . . . . . . . . . . . . . . . . . . . .  60
       9.4.2.  Reference Definition  . . . . . . . . . . . . . . . .  60
       9.4.3.  Metric Units  . . . . . . . . . . . . . . . . . . . .  62
       9.4.4.  Calibration . . . . . . . . . . . . . . . . . . . . .  62
     9.5.  Administrative items  . . . . . . . . . . . . . . . . . .  62
       9.5.1.  Status  . . . . . . . . . . . . . . . . . . . . . . .  62
       9.5.2.  Requester . . . . . . . . . . . . . . . . . . . . . .  63
       9.5.3.  Revision  . . . . . . . . . . . . . . . . . . . . . .  63
       9.5.4.  Revision Date . . . . . . . . . . . . . . . . . . . .  63
     9.6.  Comments and Remarks  . . . . . . . . . . . . . . . . . .  63
   10. TCP Round-Trip Delay and Loss Registry Entries  . . . . . . .  63
     10.1.  Summary  . . . . . . . . . . . . . . . . . . . . . . . .  63



Morton, et al.         Expires September 10, 2020               [Page 5]

Internet-Draft              Initial Registry                  March 2020


       10.1.1.  ID (Identifier)  . . . . . . . . . . . . . . . . . .  63
       10.1.2.  Name . . . . . . . . . . . . . . . . . . . . . . . .  63
       10.1.3.  URI  . . . . . . . . . . . . . . . . . . . . . . . .  64
       10.1.4.  Description  . . . . . . . . . . . . . . . . . . . .  64
       10.1.5.  Change Controller  . . . . . . . . . . . . . . . . .  64
       10.1.6.  Version (of Registry Format) . . . . . . . . . . . .  64
     10.2.  Metric Definition  . . . . . . . . . . . . . . . . . . .  65
       10.2.1.  Reference Definitions  . . . . . . . . . . . . . . .  65
       10.2.2.  Fixed Parameters . . . . . . . . . . . . . . . . . .  67
     10.3.  Method of Measurement  . . . . . . . . . . . . . . . . .  68
       10.3.1.  Reference Methods  . . . . . . . . . . . . . . . . .  68
       10.3.2.  Packet Stream Generation . . . . . . . . . . . . . .  70
       10.3.3.  Traffic Filtering (observation) Details  . . . . . .  70
       10.3.4.  Sampling Distribution  . . . . . . . . . . . . . . .  70
       10.3.5.  Run-time Parameters and Data Format  . . . . . . . .  70
       10.3.6.  Roles  . . . . . . . . . . . . . . . . . . . . . . .  71
     10.4.  Output . . . . . . . . . . . . . . . . . . . . . . . . .  71
       10.4.1.  Type . . . . . . . . . . . . . . . . . . . . . . . .  71
       10.4.2.  Reference Definition . . . . . . . . . . . . . . . .  71
       10.4.3.  Metric Units . . . . . . . . . . . . . . . . . . . .  73
       10.4.4.  Calibration  . . . . . . . . . . . . . . . . . . . .  73
     10.5.  Administrative items . . . . . . . . . . . . . . . . . .  73
       10.5.1.  Status . . . . . . . . . . . . . . . . . . . . . . .  73
       10.5.2.  Requester  . . . . . . . . . . . . . . . . . . . . .  73
       10.5.3.  Revision . . . . . . . . . . . . . . . . . . . . . .  74
       10.5.4.  Revision Date  . . . . . . . . . . . . . . . . . . .  74
     10.6.  Comments and Remarks . . . . . . . . . . . . . . . . . .  74
   11. Security Considerations . . . . . . . . . . . . . . . . . . .  74
   12. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  74
   13. Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .  74
   14. References  . . . . . . . . . . . . . . . . . . . . . . . . .  75
     14.1.  Normative References . . . . . . . . . . . . . . . . . .  75
     14.2.  Informative References . . . . . . . . . . . . . . . . .  77
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  78

1.  Introduction

   This memo proposes an initial set of entries for the Performance
   Metrics Registry.  It uses terms and definitions from the IPPM
   literature, primarily [RFC2330].

   Although there are several standard templates for organizing
   specifications of performance metrics (see [RFC7679] for an example
   of the traditional IPPM template, based to large extent on the
   Benchmarking Methodology Working Group's traditional template in
   [RFC1242], and see [RFC6390] for a similar template), none of these
   templates were intended to become the basis for the columns of an
   IETF-wide registry of metrics.  While examining aspects of metric



Morton, et al.         Expires September 10, 2020               [Page 6]

Internet-Draft              Initial Registry                  March 2020


   specifications which need to be registered, it became clear that none
   of the existing metric templates fully satisfies the particular needs
   of a registry.

   Therefore, [I-D.ietf-ippm-metric-registry] defines the overall format
   for a Performance Metrics Registry.  Section 5 of
   [I-D.ietf-ippm-metric-registry] also gives guidelines for those
   requesting registration of a Metric, that is the creation of entry(s)
   in the Performance Metrics Registry: "In essence, there needs to be
   evidence that a candidate Registered Performance Metric has
   significant industry interest, or has seen deployment, and there is
   agreement that the candidate Registered Performance Metric serves its
   intended purpose."  The process in [I-D.ietf-ippm-metric-registry]
   also requires that new entries are administered by IANA through
   Specification Required policy, which will ensure that the metrics are
   tightly defined.

2.  Scope

   This document defines a set of initial Performance Metrics Registry
   entries.  Most are Active Performance Metrics, which are based on
   RFCs prepared in the IPPM working group of the IETF, according to
   their framework [RFC2330] and its updates.

3.  Registry Categories and Columns

   This memo uses the terminology defined in
   [I-D.ietf-ippm-metric-registry].

   This section provides the categories and columns of the registry, for
   easy reference.  An entry (row) therefore gives a complete
   description of a Registered Metric.



















Morton, et al.         Expires September 10, 2020               [Page 7]

Internet-Draft              Initial Registry                  March 2020


Legend:
 Registry Categories and Columns, shown as
                                            Category
                                            ------------------
                                            Column |  Column |

Summary
------------------------------------------------------------------------
Identifier | Name | URI | Desc. | Reference | Change Controller | Ver |

Metric Definition
-----------------------------------------
Reference Definition | Fixed Parameters |

Method of Measurement
---------------------------------------------------------------------
Reference | Packet     | Traffic | Sampling     | Run-time   | Role |
Method    | Stream     | Filter  | Distribution | Parameters |      |
          | Generation |
Output
-----------------------------------------
Type | Reference  | Units | Calibration |
     | Definition |       |             |

Administrative Information
------------------------------------
Status |Requester | Rev | Rev.Date |

Comments and Remarks
--------------------


4.  UDP Round-trip Latency and Loss Registry Entries

   This section specifies an initial registry entry for the UDP Round-
   trip Latency, and another entry for UDP Round-trip Loss Ratio.

   Note: Each Registry entry only produces a "raw" output or a
   statistical summary.  To describe both "raw" and one or more
   statistics efficiently, the Identifier, Name, and Output Categories
   can be split and a single section can specify two or more closely-
   related metrics.  For example, this section specifies two Registry
   entries with many common columns.  See Section 7 for an example
   specifying multiple Registry entries with many common columns.

   All column entries beside the ID, Name, Description, and Output
   Reference Method categories are the same, thus this section proposes




Morton, et al.         Expires September 10, 2020               [Page 8]

Internet-Draft              Initial Registry                  March 2020


   two closely-related registry entries.  As a result, IANA is also
   asked to assign a corresponding URL to each Named Metric.

4.1.  Summary

   This category includes multiple indexes to the registry entry: the
   element ID and metric name.

4.1.1.  ID (Identifier)

   IANA is asked to assign different numeric identifiers to each of the
   two Named Metrics.

4.1.2.  Name

   RTDelay_Active_IP-UDP-Periodic_RFCXXXXsec4_Seconds_95Percentile

   RTLoss_Active_IP-UDP-Periodic_RFCXXXXsec4_Percent_LossRatio

4.1.3.  URI

   URL: https://www.iana.org/ ... <name>

4.1.4.  Description

   RTDelay: This metric assesses the delay of a stream of packets
   exchanged between two hosts (which are the two measurement points),
   and the Output is the Round-trip delay for all successfully exchanged
   packets expressed as the 95th percentile of their conditional delay
   distribution.

   RTLoss: This metric assesses the loss ratio of a stream of packets
   exchanged between two hosts (which are the two measurement points),
   and the Output is the Round-trip loss ratio for all successfully
   exchanged packets expressed as a percentage.

4.1.5.  Change Controller

   IETF

4.1.6.  Version (of Registry Format)

   1.0








Morton, et al.         Expires September 10, 2020               [Page 9]

Internet-Draft              Initial Registry                  March 2020


4.2.  Metric Definition

   This category includes columns to prompt the entry of all necessary
   details related to the metric definition, including the RFC reference
   and values of input factors, called fixed parameters.

4.2.1.  Reference Definition

   Almes, G., Kalidindi, S., and M.  Zekauskas, "A Round-trip Delay
   Metric for IPPM", RFC 2681, September 1999.

   [RFC2681]

   Section 2.4 of [RFC2681] provides the reference definition of the
   singleton (single value) Round-trip delay metric.  Section 3.4 of
   [RFC2681] provides the reference definition expanded to cover a
   multi-singleton sample.  Note that terms such as singleton and sample
   are defined in Section 11 of [RFC2330].

   Note that although the [RFC2681] definition of "Round-trip-Delay
   between Src and Dst" is directionally ambiguous in the text, this
   metric tightens the definition further to recognize that the host in
   the "Src" role will send the first packet to "Dst", and ultimately
   receive the corresponding return packet from "Dst" (when neither are
   lost).

   Finally, note that the variable "dT" is used in [RFC2681] to refer to
   the value of Round-trip delay in metric definitions and methods.  The
   variable "dT" has been re-used in other IPPM literature to refer to
   different quantities, and cannot be used as a global variable name.

   Morton, A., "Round-trip Packet Loss Metrics", RFC 6673, August 2012.

   [RFC6673]

   Both delay and loss metrics employ a maximum waiting time for
   received packets, so the count of lost packets to total packets sent
   is the basis for the loss ratio calculation as per Section 6.1 of
   [RFC6673].

4.2.2.  Fixed Parameters

   Type-P as defined in Section 13 of [RFC2330]:

   o  IPv4 header values:

      *  DSCP: set to 0




Morton, et al.         Expires September 10, 2020              [Page 10]

Internet-Draft              Initial Registry                  March 2020


      *  TTL: set to 255

      *  Protocol: set to 17 (UDP)

   o  IPv6 header values:

      *  DSCP: set to 0

      *  Hop Count: set to 255

      *  Next Header: set to 17 (UDP)

      *  Flow Label: set to zero

      *  Extension Headers: none

   o  UDP header values:

      *  Checksum: the checksum MUST be calculated and the non-zero
         checksum included in the header

   o  UDP Payload

      *  total of 100 bytes

   Other measurement parameters:

   o  Tmax: a loss threshold waiting time

      *  3.0, expressed in units of seconds, as a positive value of type
         decimal64 with fraction digits = 4 (see section 9.3 of
         [RFC6020]) and with resolution of 0.0001 seconds (0.1 ms), with
         lossless conversion to/from the 32-bit NTP timestamp as per
         section 6 of [RFC5905].

4.3.  Method of Measurement

   This category includes columns for references to relevant sections of
   the RFC(s) and any supplemental information needed to ensure an
   unambiguous methods for implementations.

4.3.1.  Reference Method

   The methodology for this metric is defined as Type-P-Round-trip-
   Delay-Poisson-Stream in section 2.6 of RFC 2681 [RFC2681] and section
   3.6 of RFC 2681 [RFC2681] using the Type-P and Tmax defined under
   Fixed Parameters.  However, the Periodic stream will be generated
   according to [RFC3432].



Morton, et al.         Expires September 10, 2020              [Page 11]

Internet-Draft              Initial Registry                  March 2020


   The reference method distinguishes between long-delayed packets and
   lost packets by implementing a maximum waiting time for packet
   arrival.  Tmax is the waiting time used as the threshold to declare a
   packet lost.  Lost packets SHALL be designated as having undefined
   delay, and counted for the RTLoss metric.

   The calculations on the delay (RTT) SHALL be performed on the
   conditional distribution, conditioned on successful packet arrival
   within Tmax.  Also, when all packet delays are stored, the process
   which calculates the RTT value MUST enforce the Tmax threshold on
   stored values before calculations.  See section 4.1 of [RFC3393] for
   details on the conditional distribution to exclude undefined values
   of delay, and Section 5 of [RFC6703] for background on this analysis
   choice.

   The reference method requires some way to distinguish between
   different packets in a stream to establish correspondence between
   sending times and receiving times for each successfully-arriving
   packet.  Sequence numbers or other send-order identification MUST be
   retained at the Src or included with each packet to disambiguate
   packet reordering if it occurs.

   If a standard measurement protocol is employed, then the measurement
   process will determine the sequence numbers or timestamps applied to
   test packets after the Fixed and Runtime parameters are passed to
   that process.  The chosen measurement protocol will dictate the
   format of sequence numbers and time-stamps, if they are conveyed in
   the packet payload.

   Refer to Section 4.4 of [RFC6673] for expanded discussion of the
   instruction to "send a Type-P packet back to the Src as quickly as
   possible" in Section 2.6 of RFC 2681 [RFC2681].  Section 8 of
   [RFC6673] presents additional requirements which MUST be included in
   the method of measurement for this metric.

4.3.2.  Packet Stream Generation

   This section gives the details of the packet traffic which is the
   basis for measurement.  In IPPM metrics, this is called the Stream,
   and can easily be described by providing the list of stream
   parameters.

   Section 3 of [RFC3432] prescribes the method for generating Periodic
   streams using associated parameters.

   incT  the nominal duration of inter-packet interval, first bit to
      first bit, with value 0.0200, expressed in units of seconds, as a
      positive value of type decimal64 with fraction digits = 4 (see



Morton, et al.         Expires September 10, 2020              [Page 12]

Internet-Draft              Initial Registry                  March 2020


      section 9.3 of [RFC6020]) and with resolution of 0.0001 seconds
      (0.1 ms).

   dT the duration of the interval for allowed sample start times, with
      value 1.0, expressed in units of seconds, as a positive value of
      type decimal64 with fraction digits = 4 (see section 9.3 of
      [RFC6020]) and with resolution of 0.0001 seconds (0.1 ms).

   NOTE: an initiation process with a number of control exchanges
   resulting in unpredictable start times (within a time interval) may
   be sufficient to avoid synchronization of periodic streams, and
   therefore a valid replacement for selecting a start time at random
   from a fixed interval.

   The T0 parameter will be reported as a measured parameter.
   Parameters incT and dT are Fixed Parameters.

4.3.3.  Traffic Filtering (observation) Details

   NA

4.3.4.  Sampling Distribution

   NA

4.3.5.  Run-time Parameters and Data Format

   Run-time Parameters are input factors that must be determined,
   configured into the measurement system, and reported with the results
   for the context to be complete.

   Src  the IP address of the host in the Src Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see Section 4 of [RFC6991])

   Dst  the IP address of the host in the Dst Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see section 4 of [RFC6991])

   T0 a time, the start of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a start time is unspecified
      and Tf is to be interpreted as the Duration of the measurement
      interval.  The start time is controlled through other means.

   Tf a time, the end of a measurement interval, (format "date-and-time"
      as specified in Section 5.6 of [RFC3339], see also Section 3 of



Morton, et al.         Expires September 10, 2020              [Page 13]

Internet-Draft              Initial Registry                  March 2020


      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a end time date is ignored and
      Tf is interpreted as the Duration of the measurement interval.

4.3.6.  Roles

   Src  launches each packet and waits for return transmissions from
      Dst.

   Dst  waits for each packet from Src and sends a return packet to Src.

4.4.  Output

   This category specifies all details of the Output of measurements
   using the metric.

4.4.1.  Type

   Percentile -- for the conditional distribution of all packets with a
   valid value of Round-trip delay (undefined delays are excluded), a
   single value corresponding to the 95th percentile, as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   The percentile = 95, meaning that the reported delay, "95Percentile",
   is the smallest value of Round-trip delay for which the Empirical
   Distribution Function (EDF), F(95Percentile) >= 95% of the singleton
   Round-trip delay values in the conditional distribution.  See section
   11.3 of [RFC2330] for the definition of the percentile statistic
   using the EDF.

   LossRatio -- the count of lost packets to total packets sent is the
   basis for the loss ratio calculation as per Section 6.1 of [RFC6673].

4.4.2.  Reference Definition

   For all outputs ---

   T0 the start of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   Tf the end of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of




Morton, et al.         Expires September 10, 2020              [Page 14]

Internet-Draft              Initial Registry                  March 2020


      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   TotalPkts  the count of packets sent by the Src to Dst during the
      measurement interval.

   For

   RTDelay_Active_IP-UDP-Periodic_RFCXXXXsec4_Seconds_95Percentile:

   95Percentile  The time value of the result is expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 9 (see section 9.3 of [RFC6020]) with resolution of
      0.000000001 seconds (1.0 ns).

   For

   RTLoss_Active_IP-UDP-Periodic_RFCXXXXsec4_Percent_LossRatio:

   Percentile  The numeric value of the result is expressed in units of
      lost packets to total packets times 100%, as a positive value of
      type decimal64 with fraction digits = 9 (see section 9.3 of
      [RFC6020]) with resolution of 0.0000000001.

4.4.3.  Metric Units

   The 95th Percentile of Round-trip Delay is expressed in seconds.

   The Round-trip Loss Ratio is expressed as a percentage of lost
   packets to total packets sent.

4.4.4.  Calibration

   Section 3.7.3 of [RFC7679] provides a means to quantify the
   systematic and random errors of a time measurement.  In-situ
   calibration could be enabled with an internal loopback at the Source
   host that includes as much of the measurement system as possible,
   performs address manipulation as needed, and provides some form of
   isolation (e.g., deterministic delay) to avoid send-receive interface
   contention.  Some portion of the random and systematic error can be
   characterized this way.

   When a measurement controller requests a calibration measurement, the
   loopback is applied and the result is output in the same format as a
   normal measurement with additional indication that it is a
   calibration result.





Morton, et al.         Expires September 10, 2020              [Page 15]

Internet-Draft              Initial Registry                  March 2020


   Both internal loopback calibration and clock synchronization can be
   used to estimate the available accuracy of the Output Metric Units.
   For example, repeated loopback delay measurements will reveal the
   portion of the Output result resolution which is the result of system
   noise, and thus inaccurate.

4.5.  Administrative items

4.5.1.  Status

   Current

4.5.2.  Requester

   This RFC number

4.5.3.  Revision

   1.0

4.5.4.  Revision Date

   YYYY-MM-DD

4.6.  Comments and Remarks

   None.

5.  Packet Delay Variation Registry Entry

   This section gives an initial registry entry for a Packet Delay
   Variation metric.

5.1.  Summary

   This category includes multiple indexes to the registry entries, the
   element ID and metric name.

5.1.1.  ID (Identifier)

   <insert numeric identifier, an integer>

5.1.2.  Name

   OWPDV_Active_IP-UDP-Periodic_RFCXXXXsec5_Seconds_95Percentile






Morton, et al.         Expires September 10, 2020              [Page 16]

Internet-Draft              Initial Registry                  March 2020


5.1.3.  URI

   URL: https://www.iana.org/ ... <name>

5.1.4.  Description

   An assessment of packet delay variation with respect to the minimum
   delay observed on the periodic stream, and the Output is expressed as
   the 95th percentile of the packet delay variation distribution.

5.1.5.  Change Controller

   IETF

5.1.6.  Version (of Registry Format)

   1.0

5.2.  Metric Definition

   This category includes columns to prompt the entry of all necessary
   details related to the metric definition, including the RFC reference
   and values of input factors, called fixed parameters.

5.2.1.  Reference Definition

   Paxson, V., Almes, G., Mahdavi, J., and M.  Mathis, "Framework for IP
   Performance Metrics", RFC 2330, May 1998.  [RFC2330]

   Demichelis, C. and P.  Chimento, "IP Packet Delay Variation Metric
   for IP Performance Metrics (IPPM)", RFC 3393, November 2002.
   [RFC3393]

   Morton, A. and B.  Claise, "Packet Delay Variation Applicability
   Statement", RFC 5481, March 2009.  [RFC5481]

   Mills, D., Martin, J., Burbank, J., and W.  Kasch, "Network Time
   Protocol Version 4: Protocol and Algorithms Specification", RFC 5905,
   June 2010.  [RFC5905]

   See sections 2.4 and 3.4 of [RFC3393].  Singleton delay differences
   measured are referred to by the variable name "ddT" (applicable to
   all forms of delay variation).  However, this metric entry specifies
   the PDV form defined in section 4.2 of [RFC5481], where the singleton
   PDV for packet i is referred to by the variable name "PDV(i)".






Morton, et al.         Expires September 10, 2020              [Page 17]

Internet-Draft              Initial Registry                  March 2020


5.2.2.  Fixed Parameters

   o  IPv4 header values:

      *  DSCP: set to 0

      *  TTL: set to 255

      *  Protocol: set to 17 (UDP)

   o  IPv6 header values:

      *  DSCP: set to 0

      *  Hop Count: set to 255

      *  Next Header: set to 17 (UDP)

      *  Flow Label: set to zero

      *  Extension Headers: none

   o  UDP header values:

      *  Checksum: the checksum MUST be calculated and the non-zero
         checksum included in the header

   o  UDP Payload

      *  total of 200 bytes

   Other measurement parameters:

   Tmax:  a loss threshold waiting time with value 3.0, expressed in
      units of seconds, as a positive value of type decimal64 with
      fraction digits = 4 (see section 9.3 of [RFC6020]) and with
      resolution of 0.0001 seconds (0.1 ms), with lossless conversion
      to/from the 32-bit NTP timestamp as per section 6 of [RFC5905].

   F  a selection function unambiguously defining the packets from the
      stream selected for the metric.  See section 4.2 of [RFC5481] for
      the PDV form.

   See the Packet Stream generation category for two additional Fixed
   Parameters.






Morton, et al.         Expires September 10, 2020              [Page 18]

Internet-Draft              Initial Registry                  March 2020


5.3.  Method of Measurement

   This category includes columns for references to relevant sections of
   the RFC(s) and any supplemental information needed to ensure an
   unambiguous methods for implementations.

5.3.1.  Reference Method

   See section 2.6 and 3.6 of [RFC3393] for general singleton element
   calculations.  This metric entry requires implementation of the PDV
   form defined in section 4.2 of [RFC5481].  Also see measurement
   considerations in section 8 of [RFC5481].

   The reference method distinguishes between long-delayed packets and
   lost packets by implementing a maximum waiting time for packet
   arrival.  Tmax is the waiting time used as the threshold to declare a
   packet lost.  Lost packets SHALL be designated as having undefined
   delay.

   The calculations on the one-way delay SHALL be performed on the
   conditional distribution, conditioned on successful packet arrival
   within Tmax.  Also, when all packet delays are stored, the process
   which calculates the one-way delay value MUST enforce the Tmax
   threshold on stored values before calculations.  See section 4.1 of
   [RFC3393] for details on the conditional distribution to exclude
   undefined values of delay, and Section 5 of [RFC6703] for background
   on this analysis choice.

   The reference method requires some way to distinguish between
   different packets in a stream to establish correspondence between
   sending times and receiving times for each successfully-arriving
   packet.  Sequence numbers or other send-order identification MUST be
   retained at the Src or included with each packet to disambiguate
   packet reordering if it occurs.

   If a standard measurement protocol is employed, then the measurement
   process will determine the sequence numbers or timestamps applied to
   test packets after the Fixed and Runtime parameters are passed to
   that process.  The chosen measurement protocol will dictate the
   format of sequence numbers and time-stamps, if they are conveyed in
   the packet payload.

5.3.2.  Packet Stream Generation

   This section gives the details of the packet traffic which is the
   basis for measurement.  In IPPM metrics, this is called the Stream,
   and can easily be described by providing the list of stream
   parameters.



Morton, et al.         Expires September 10, 2020              [Page 19]

Internet-Draft              Initial Registry                  March 2020


   Section 3 of [RFC3432] prescribes the method for generating Periodic
   streams using associated parameters.

   incT  the nominal duration of inter-packet interval, first bit to
      first bit, with value 0.0200, expressed in units of seconds, as a
      positive value of type decimal64 with fraction digits = 4 (see
      section 9.3 of [RFC6020]) and with resolution of 0.0001 seconds
      (0.1 ms).

   dT the duration of the interval for allowed sample start times, with
      value 1.0, expressed in units of seconds, as a positive value of
      type decimal64 with fraction digits = 4 (see section 9.3 of
      [RFC6020]) and with resolution of 0.0001 seconds (0.1 ms).

   NOTE: an initiation process with a number of control exchanges
   resulting in unpredictable start times (within a time interval) may
   be sufficient to avoid synchronization of periodic streams, and
   therefore a valid replacement for selecting a start time at random
   from a fixed interval.

   The T0 parameter will be reported as a measured parameter.
   Parameters incT and dT are Fixed Parameters.

5.3.3.  Traffic Filtering (observation) Details

   NA

5.3.4.  Sampling Distribution

   NA

5.3.5.  Run-time Parameters and Data Format

   Src  the IP address of the host in the Src Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see Section 4 of [RFC6991])

   Dst  the IP address of the host in the Dst Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see section 4 of [RFC6991])

   T0 a time, the start of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a start time is unspecified
      and Tf is to be interpreted as the Duration of the measurement
      interval.  The start time is controlled through other means.




Morton, et al.         Expires September 10, 2020              [Page 20]

Internet-Draft              Initial Registry                  March 2020


   Tf a time, the end of a measurement interval, (format "date-and-time"
      as specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a end time date is ignored and
      Tf is interpreted as the Duration of the measurement interval.

5.3.6.  Roles

   Src  launches each packet and waits for return transmissions from
      Dst.

   Dst  waits for each packet from Src and sends a return packet to Src.

5.4.  Output

   This category specifies all details of the Output of measurements
   using the metric.

5.4.1.  Type

   Percentile -- for the conditional distribution of all packets with a
   valid value of one-way delay (undefined delays are excluded), a
   single value corresponding to the 95th percentile, as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   The percentile = 95, meaning that the reported delay, "95Percentile",
   is the smallest value of one-way PDV for which the Empirical
   Distribution Function (EDF), F(95Percentile) >= 95% of the singleton
   one-way PDV values in the conditional distribution.  See section 11.3
   of [RFC2330] for the definition of the percentile statistic using the
   EDF.

5.4.2.  Reference Definition

   T0 the start of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   Tf the end of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].





Morton, et al.         Expires September 10, 2020              [Page 21]

Internet-Draft              Initial Registry                  March 2020


   95Percentile  The time value of the result is expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 9 (see section 9.3 of [RFC6020]) with resolution of
      0.000000001 seconds (1.0 ns), and with lossless conversion to/from
      the 64-bit NTP timestamp as per section 6 of RFC [RFC5905]

5.4.3.  Metric Units

   The 95th Percentile of one-way PDV is expressed in seconds.

5.4.4.  Calibration

   Section 3.7.3 of [RFC7679] provides a means to quantify the
   systematic and random errors of a time measurement.  In-situ
   calibration could be enabled with an internal loopback that includes
   as much of the measurement system as possible, performs address
   manipulation as needed, and provides some form of isolation (e.g.,
   deterministic delay) to avoid send-receive interface contention.
   Some portion of the random and systematic error can be characterized
   this way.

   For one-way delay measurements, the error calibration must include an
   assessment of the internal clock synchronization with its external
   reference (this internal clock is supplying timestamps for
   measurement).  In practice, the time offsets [RFC5905] of clocks at
   both the source and destination are needed to estimate the systematic
   error due to imperfect clock synchronization (the time offsets are
   smoothed, thus the random variation is not usually represented in the
   results).

   time_offset  The time value of the result is expressed in units of
      seconds, as a signed value of type decimal64 with fraction digits
      = 9 (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

   When a measurement controller requests a calibration measurement, the
   loopback is applied and the result is output in the same format as a
   normal measurement with additional indication that it is a
   calibration result.  In any measurement, the measurement function
   SHOULD report its current estimate of time offset [RFC5905] as an
   indicator of the degree of synchronization.

   Both internal loopback calibration and clock synchronization can be
   used to estimate the available accuracy of the Output Metric Units.
   For example, repeated loopback delay measurements will reveal the
   portion of the Output result resolution which is the result of system
   noise, and thus inaccurate.



Morton, et al.         Expires September 10, 2020              [Page 22]

Internet-Draft              Initial Registry                  March 2020


5.5.  Administrative items

5.5.1.  Status

   Current

5.5.2.  Requester

   This RFC number

5.5.3.  Revision

   1.0

5.5.4.  Revision Date

   YYYY-MM-DD

5.6.  Comments and Remarks

   Lost packets represent a challenge for delay variation metrics.  See
   section 4.1 of [RFC3393] and the delay variation applicability
   statement[RFC5481] for extensive analysis and comparison of PDV and
   an alternate metric, IPDV.

6.  DNS Response Latency and Loss Registry Entries

   This section gives initial registry entries for DNS Response Latency
   and Loss from a network user's perspective, for a specific named
   resource.  The metric can be measured repeatedly using different
   names.  RFC 2681 [RFC2681] defines a Round-trip delay metric.  We
   build on that metric by specifying several of the input parameters to
   precisely define two metrics for measuring DNS latency and loss.

   Note to IANA: Each Registry "Name" below specifies a single registry
   entry, whose output format varies in accordance with the name.

   All column entries beside the ID, Name, Description, and Output
   Reference Method categories are the same, thus this section proposes
   two closely-related registry entries.  As a result, IANA is also
   asked to assign corresponding URLs to each Named Metric.

6.1.  Summary

   This category includes multiple indexes to the registry entries, the
   element ID and metric name.





Morton, et al.         Expires September 10, 2020              [Page 23]

Internet-Draft              Initial Registry                  March 2020


6.1.1.  ID (Identifier)

   <insert numeric identifier, an integer>

   IANA is asked to assign different numeric identifiers to each of the
   two Named Metrics.

6.1.2.  Name

   RTDNS_Active_IP-UDP-Poisson_RFCXXXXsec6_Seconds_Raw

   RLDNS_Active_IP-UDP-Poisson_RFCXXXXsec6_Logical_Raw

6.1.3.  URI

   URL: https://www.iana.org/ ... <name>

6.1.4.  Description

   This is a metric for DNS Response performance from a network user's
   perspective, for a specific named resource.  The metric can be
   measured repeatedly using different resource names.

   RTDNS: This metric assesses the response time, the interval from the
   query transmission to the response.

   RLDNS: This metric indicates that the response was deemed lost.  In
   other words, the response time exceeded the maximum waiting time.

6.1.5.  Change Controller

   IETF

6.1.6.  Version (of Registry Format)

   1.0

6.2.  Metric Definition

   This category includes columns to prompt the entry of all necessary
   details related to the metric definition, including the RFC reference
   and values of input factors, called fixed parameters.

6.2.1.  Reference Definition

   Mockapetris, P., "Domain names - implementation and specification",
   STD 13, RFC 1035, November 1987. (and updates)




Morton, et al.         Expires September 10, 2020              [Page 24]

Internet-Draft              Initial Registry                  March 2020


   [RFC1035]

   Almes, G., Kalidindi, S., and M.  Zekauskas, "A Round-trip Delay
   Metric for IPPM", RFC 2681, September 1999.

   [RFC2681]

   Section 2.4 of [RFC2681] provides the reference definition of the
   singleton (single value) Round-trip delay metric.  Section 3.4 of
   [RFC2681] provides the reference definition expanded to cover a
   multi-singleton sample.  Note that terms such as singleton and sample
   are defined in Section 11 of [RFC2330].

   For DNS Response Latency, the entities in [RFC1035] must be mapped to
   [RFC2681].  The Local Host with its User Program and Resolver take
   the role of "Src", and the Foreign Name Server takes the role of
   "Dst".

   Note that although the [RFC2681] definition of "Round-trip-Delay
   between Src and Dst at T" is directionally ambiguous in the text,
   this metric tightens the definition further to recognize that the
   host in the "Src" role will send the first packet to "Dst", and
   ultimately receive the corresponding return packet from "Dst" (when
   neither are lost).

   Morton, A., "Round-trip Packet Loss Metrics", RFC 6673, August 2012.

   [RFC6673]

   Both response time and loss metrics employ a maximum waiting time for
   received responses, so the count of lost packets to total packets
   sent is the basis for the loss determination as per Section 4.3 of
   [RFC6673].

6.2.2.  Fixed Parameters

   Type-P as defined in Section 13 of [RFC2330]:

   o  IPv4 header values:

      *  DSCP: set to 0

      *  TTL set to 255

      *  Protocol: set to 17 (UDP)

   o  IPv6 header values:




Morton, et al.         Expires September 10, 2020              [Page 25]

Internet-Draft              Initial Registry                  March 2020


      *  DSCP: set to 0

      *  Hop Count: set to 255

      *  Next Header: set to 17 (UDP)

      *  Flow Label: set to zero

      *  Extension Headers: none

   o  UDP header values:

      *  Source port: 53

      *  Destination port: 53

      *  Checksum: the checksum must be calculated and the non-zero
         checksum included in the header

   o  Payload: The payload contains a DNS message as defined in RFC 1035
      [RFC1035] with the following values:

      *  The DNS header section contains:

         +  Identification (see the Run-time column)

         +  QR: set to 0 (Query)

         +  OPCODE: set to 0 (standard query)

         +  AA: not set

         +  TC: not set

         +  RD: set to one (recursion desired)

         +  RA: not set

         +  RCODE: not set

         +  QDCOUNT: set to one (only one entry)

         +  ANCOUNT: not set

         +  NSCOUNT: not set

         +  ARCOUNT: not set




Morton, et al.         Expires September 10, 2020              [Page 26]

Internet-Draft              Initial Registry                  March 2020


      *  The Question section contains:

         +  QNAME: the Fully Qualified Domain Name (FQDN) provided as
            input for the test, see the Run-time column

         +  QTYPE: the query type provided as input for the test, see
            the Run-time column

         +  QCLASS: set to 1 for IN

      *  The other sections do not contain any Resource Records.

   Other measurement parameters:

   o  Tmax: a loss threshold waiting time (and to help disambiguate
      queries)

      *  5.0, expressed in units of seconds, as a positive value of type
         decimal64 with fraction digits = 4 (see section 9.3 of
         [RFC6020]) and with resolution of 0.0001 seconds (0.1 ms), with
         lossless conversion to/from the 32-bit NTP timestamp as per
         section 6 of [RFC5905].

   Observation: reply packets will contain a DNS response and may
   contain RRs.

6.3.  Method of Measurement

   This category includes columns for references to relevant sections of
   the RFC(s) and any supplemental information needed to ensure an
   unambiguous methods for implementations.

6.3.1.  Reference Method

   The methodology for this metric is defined as Type-P-Round-trip-
   Delay-Poisson-Stream in section 2.6 of RFC 2681 [RFC2681] and section
   3.6 of RFC 2681 [RFC2681] using the Type-P and Timeout defined under
   Fixed Parameters.

   The reference method distinguishes between long-delayed packets and
   lost packets by implementing a maximum waiting time for packet
   arrival.  Tmax is the waiting time used as the threshold to declare a
   response packet lost.  Lost packets SHALL be designated as having
   undefined delay and counted for the RLDNS metric.

   The calculations on the delay (RTT) SHALL be performed on the
   conditional distribution, conditioned on successful packet arrival
   within Tmax.  Also, when all packet delays are stored, the process



Morton, et al.         Expires September 10, 2020              [Page 27]

Internet-Draft              Initial Registry                  March 2020


   which calculates the RTT value MUST enforce the Tmax threshold on
   stored values before calculations.  See section 4.1 of [RFC3393] for
   details on the conditional distribution to exclude undefined values
   of delay, and Section 5 of [RFC6703] for background on this analysis
   choice.

   The reference method requires some way to distinguish between
   different packets in a stream to establish correspondence between
   sending times and receiving times for each successfully-arriving
   reply.

   DNS Messages bearing Queries provide for random ID Numbers in the
   Identification header field, so more than one query may be launched
   while a previous request is outstanding when the ID Number is used.
   Therefore, the ID Number MUST be retained at the Src and included
   with each response packet to disambiguate packet reordering if it
   occurs.

   IF a DNS response does not arrive within Tmax, the response time
   RTDNS is undefined, and RLDNS = 1.  The Message ID SHALL be used to
   disambiguate the successive queries that are otherwise identical.

   Since the ID Number field is only 16 bits in length, it places a
   limit on the number of simultaneous outstanding DNS queries during a
   stress test from a single Src address.

   Refer to Section 4.4 of [RFC6673] for expanded discussion of the
   instruction to "send a Type-P packet back to the Src as quickly as
   possible" in Section 2.6 of RFC 2681 [RFC2681].  However, the DNS
   Server is expected to perform all required functions to prepare and
   send a response, so the response time will include processing time
   and network delay.  Section 8 of [RFC6673] presents additional
   requirements which SHALL be included in the method of measurement for
   this metric.

   In addition to operations described in [RFC2681], the Src MUST parse
   the DNS headers of the reply and prepare the query response
   information for subsequent reporting as a measured result, along with
   the Round-Trip Delay.

6.3.2.  Packet Stream Generation

   This section gives the details of the packet traffic which is the
   basis for measurement.  In IPPM metrics, this is called the Stream,
   and can easily be described by providing the list of stream
   parameters.





Morton, et al.         Expires September 10, 2020              [Page 28]

Internet-Draft              Initial Registry                  March 2020


   Section 11.1.3 of RFC 2681 [RFC2330] provides three methods to
   generate Poisson sampling intervals.  The reciprocal of lambda is the
   average packet spacing, thus the Run-time Parameter is
   Reciprocal_lambda = 1/lambda, in seconds.

   Method 3 is used, where given a start time (Run-time Parameter), the
   subsequent send times are all computed prior to measurement by
   computing the pseudo-random distribution of inter-packet send times,
   (truncating the distribution as specified in the Run-time
   Parameters), and the Src sends each packet at the computed times.

   Note that Trunc is the upper limit on inter-packet times in the
   Poisson distribution.  A random value greater than Trunc is set equal
   to Trunc instead.

6.3.3.  Traffic Filtering (observation) Details

   NA

6.3.4.  Sampling Distribution

   NA

6.3.5.  Run-time Parameters and Data Format

   Run-time Parameters are input factors that must be determined,
   configured into the measurement system, and reported with the results
   for the context to be complete.

   Src  the IP address of the host in the Src Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see Section 4 of [RFC6991])

   Dst  the IP address of the host in the Dst Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see section 4 of [RFC6991])

   T0 a time, the start of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a start time is unspecified
      and Tf is to be interpreted as the Duration of the measurement
      interval.  The start time is controlled through other means.

   Tf a time, the end of a measurement interval, (format "date-and-time"
      as specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of




Morton, et al.         Expires September 10, 2020              [Page 29]

Internet-Draft              Initial Registry                  March 2020


      [RFC2330].  When T0 is "all-zeros", a end time date is ignored and
      Tf is interpreted as the Duration of the measurement interval.

   Reciprocal_lambda  average packet interval for Poisson Streams
      expressed in units of seconds, as a positive value of type
      decimal64 with fraction digits = 4 (see section 9.3 of [RFC6020])
      with resolution of 0.0001 seconds (0.1 ms), and with lossless
      conversion to/from the 32-bit NTP timestamp as per section 6 of
      [RFC5905].

   Trunc  Upper limit on Poisson distribution expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 4 (see section 9.3 of [RFC6020]) with resolution of
      0.0001 seconds (0.1 ms), and with lossless conversion to/from the
      32-bit NTP timestamp as per section 6 of [RFC5905] (values above
      this limit will be clipped and set to the limit value).

   ID The 16-bit identifier assigned by the program that generates the
      query, and which must vary in successive queries (a list of IDs is
      needed), see Section 4.1.1 of [RFC1035].  This identifier is
      copied into the corresponding reply and can be used by the
      requester (Src) to match-up replies to outstanding queries.

   QNAME  The domain name of the Query, formatted as specified in
      section 4 of [RFC6991].

   QTYPE  The Query Type, which will correspond to the IP address family
      of the query (decimal 1 for IPv4 or 28 for IPv6, formatted as a
      uint16, as per section 9.2 of [RFC6020].

6.3.6.  Roles

   Src  launches each packet and waits for return transmissions from
      Dst.

   Dst  waits for each packet from Src and sends a return packet to Src.

6.4.  Output

   This category specifies all details of the Output of measurements
   using the metric.

6.4.1.  Type

   Raw -- for each DNS Query packet sent, sets of values as defined in
   the next column, including the status of the response, only assigning
   delay values to successful query-response pairs.




Morton, et al.         Expires September 10, 2020              [Page 30]

Internet-Draft              Initial Registry                  March 2020


6.4.2.  Reference Definition

   For all outputs:

   T  the time the DNS Query was sent during the measurement interval,
      (format "date-and-time" as specified in Section 5.6 of [RFC3339],
      see also Section 3 of [RFC6991]).  The UTC Time Zone is required
      by Section 6.1 of [RFC2330].

   dT The time value of the round-trip delay to receive the DNS
      response, expressed in units of seconds, as a positive value of
      type decimal64 with fraction digits = 9 (see section 9.3 of
      [RFC6020]) with resolution of 0.000000001 seconds (1.0 ns), and
      with lossless conversion to/from the 64-bit NTP timestamp as per
      section 6 of RFC [RFC5905].  This value is undefined when the
      response packet is not received at Src within waiting time Tmax
      seconds.

   Rcode  The value of the Rcode field in the DNS response header,
      expressed as a uint64 as specified in section 9.2 of [RFC6020].
      Non-zero values convey errors in the response, and such replies
      must be analyzed separately from successful requests.

6.4.3.  Metric Units

   RTDNS: Round-trip Delay, dT, is expressed in seconds.

   RTLDNS: the Logical value, where 1 = Lost and 0 = Received.

6.4.4.  Calibration

   Section 3.7.3 of [RFC7679] provides a means to quantify the
   systematic and random errors of a time measurement.  In-situ
   calibration could be enabled with an internal loopback at the Source
   host that includes as much of the measurement system as possible,
   performs address and payload manipulation as needed, and provides
   some form of isolation (e.g., deterministic delay) to avoid send-
   receive interface contention.  Some portion of the random and
   systematic error can be characterized this way.

   When a measurement controller requests a calibration measurement, the
   loopback is applied and the result is output in the same format as a
   normal measurement with additional indication that it is a
   calibration result.

   Both internal loopback calibration and clock synchronization can be
   used to estimate the available accuracy of the Output Metric Units.
   For example, repeated loopback delay measurements will reveal the



Morton, et al.         Expires September 10, 2020              [Page 31]

Internet-Draft              Initial Registry                  March 2020


   portion of the Output result resolution which is the result of system
   noise, and thus inaccurate.

6.5.  Administrative items

6.5.1.  Status

   Current

6.5.2.  Requester

   This RFC number

6.5.3.  Revision

   1.0

6.5.4.  Revision Date

   YYYY-MM-DD

6.6.  Comments and Remarks

   None

7.  UDP Poisson One-way Delay and Loss Registry Entries

   This section specifies five initial registry entries for the UDP
   Poisson One-way Delay, and one for UDP Poisson One-way Loss.

   IANA Note: Registry "Name" below specifies multiple registry entries,
   whose output format varies according to the <statistic> element of
   the name that specifies one form of statistical summary.  There is an
   additional metric name for the Loss metric.

   All column entries beside the ID, Name, Description, and Output
   Reference Method categories are the same, thus this section proposes
   six closely-related registry entries.  As a result, IANA is also
   asked to assign corresponding URLs to each Named Metric.

7.1.  Summary

   This category includes multiple indexes to the registry entries, the
   element ID and metric name.







Morton, et al.         Expires September 10, 2020              [Page 32]

Internet-Draft              Initial Registry                  March 2020


7.1.1.  ID (Identifier)

   IANA is asked to assign different numeric identifiers to each of the
   six Metrics.

7.1.2.  Name

   OWDelay_Active_IP-UDP-Poisson-
   Payload250B_RFCXXXXsec7_Seconds_<statistic>

   where <statistic> is one of:

   o  95Percentile

   o  Mean

   o  Min

   o  Max

   o  StdDev

   OWLoss_Active_IP-UDP-Poisson-
   Payload250B_RFCXXXXsec7_Percent_LossRatio

7.1.3.  URI

   URL: https://www.iana.org/ ... <name>

7.1.4.  Description

   OWDelay: This metric assesses the delay of a stream of packets
   exchanged between two hosts (or measurement points), and reports the
   <statistic> One-way delay for all successfully exchanged packets
   based on their conditional delay distribution.

   where <statistic> is one of:

   o  95Percentile

   o  Mean

   o  Min

   o  Max

   o  StdDev




Morton, et al.         Expires September 10, 2020              [Page 33]

Internet-Draft              Initial Registry                  March 2020


   OWLoss: This metric assesses the loss ratio of a stream of packets
   exchanged between two hosts (which are the two measurement points),
   and the Output is the One-way loss ratio for all successfully
   received packets expressed as a percentage.

7.2.  Metric Definition

   This category includes columns to prompt the entry of all necessary
   details related to the metric definition, including the RFC reference
   and values of input factors, called fixed parameters.

7.2.1.  Reference Definition

   For Delay:

   Almes, G., Kalidindi, S., Zekauskas, M., and A.  Morton, Ed., "A One-
   Way Delay Metric for IP Performance Metrics (IPPM)", STD 81, RFC
   7679, DOI 10.17487/RFC7679, January 2016, <http://www.rfc-
   editor.org/info/rfc7679>.

   [RFC7679]

   Morton, A., and Stephan, E., "Spatial Composition of Metrics", RFC
   6049, January 2011.

   [RFC6049]

   Section 3.4 of [RFC7679] provides the reference definition of the
   singleton (single value) One-way delay metric.  Section 4.4 of
   [RFC7679] provides the reference definition expanded to cover a
   multi-value sample.  Note that terms such as singleton and sample are
   defined in Section 11 of [RFC2330].

   Only successful packet transfers with finite delay are included in
   the sample, as prescribed in section 4.1.2 of [RFC6049].

   For loss:

   Almes, G., Kalidini, S., Zekauskas, M., and A.  Morton, Ed., "A One-
   Way Loss Metric for IP Performance Metrics (IPPM)", RFC 7680, DOI
   10.17487/RFC7680, January 2016, <http://www.rfc-editor.org/info/
   rfc7680>.

   Section 2.4 of [RFC7680] provides the reference definition of the
   singleton (single value) one-way loss metric.  Section 3.4 of
   [RFC7680] provides the reference definition expanded to cover a
   multi-singleton sample.  Note that terms such as singleton and sample
   are defined in Section 11 of [RFC2330].



Morton, et al.         Expires September 10, 2020              [Page 34]

Internet-Draft              Initial Registry                  March 2020


7.2.2.  Fixed Parameters

   Type-P:

   o  IPv4 header values:

      *  DSCP: set to 0

      *  TTL: set to 255

      *  Protocol: Set to 17 (UDP)

   o  IPv6 header values:

      *  DSCP: set to 0

      *  Hop Count: set to 255

      *  Next Header: set to 17 (UDP)

      *  Flow Label: set to zero

      *  Extension Headers: none

   o  UDP header values:

      *  Checksum: the checksum MUST be calculated and the non-zero
         checksum included in the header

   o  UDP Payload: TWAMP Test Packet Formats, Section 4.1.2 of [RFC5357]

      *  Security features in use influence the number of Padding
         octets.

      *  250 octets total, including the TWAMP format type, which MUST
         be reported.

   Other measurement parameters:

   Tmax:  a loss threshold waiting time with value 3.0, expressed in
      units of seconds, as a positive value of type decimal64 with
      fraction digits = 4 (see section 9.3 of [RFC6020]) and with
      resolution of 0.0001 seconds (0.1 ms), with lossless conversion
      to/from the 32-bit NTP timestamp as per section 6 of [RFC5905].

   See the Packet Stream generation category for two additional Fixed
   Parameters.




Morton, et al.         Expires September 10, 2020              [Page 35]

Internet-Draft              Initial Registry                  March 2020


7.3.  Method of Measurement

   This category includes columns for references to relevant sections of
   the RFC(s) and any supplemental information needed to ensure an
   unambiguous methods for implementations.

7.3.1.  Reference Method

   The methodology for this metric is defined as Type-P-One-way-Delay-
   Poisson-Stream in section 3.6 of [RFC7679] and section 4.6 of
   [RFC7679] using the Type-P and Tmax defined under Fixed Parameters.

   The reference method distinguishes between long-delayed packets and
   lost packets by implementing a maximum waiting time for packet
   arrival.  Tmax is the waiting time used as the threshold to declare a
   packet lost.  Lost packets SHALL be designated as having undefined
   delay, and counted for the OWLoss metric.

   The calculations on the one-way delay SHALL be performed on the
   conditional distribution, conditioned on successful packet arrival
   within Tmax.  Also, when all packet delays are stored, the process
   which calculates the one-way delay value MUST enforce the Tmax
   threshold on stored values before calculations.  See section 4.1 of
   [RFC3393] for details on the conditional distribution to exclude
   undefined values of delay, and Section 5 of [RFC6703] for background
   on this analysis choice.

   The reference method requires some way to distinguish between
   different packets in a stream to establish correspondence between
   sending times and receiving times for each successfully-arriving
   packet.

   Since a standard measurement protocol is employed [RFC5357], then the
   measurement process will determine the sequence numbers or timestamps
   applied to test packets after the Fixed and Runtime parameters are
   passed to that process.  The measurement protocol dictates the format
   of sequence numbers and time-stamps conveyed in the TWAMP-Test packet
   payload.

7.3.2.  Packet Stream Generation

   This section gives the details of the packet traffic which is the
   basis for measurement.  In IPPM metrics, this is called the Stream,
   and can easily be described by providing the list of stream
   parameters.

   Section 11.1.3 of RFC 2681 [RFC2330] provides three methods to
   generate Poisson sampling intervals.  The reciprocal of lambda is the



Morton, et al.         Expires September 10, 2020              [Page 36]

Internet-Draft              Initial Registry                  March 2020


   average packet spacing, thus the Run-time Parameter is
   Reciprocal_lambda = 1/lambda, in seconds.

   Method 3 SHALL be used, where given a start time (Run-time
   Parameter), the subsequent send times are all computed prior to
   measurement by computing the pseudo-random distribution of inter-
   packet send times, (truncating the distribution as specified in the
   Parameter Trunc), and the Src sends each packet at the computed
   times.

   Note that Trunc is the upper limit on inter-packet times in the
   Poisson distribution.  A random value greater than Trunc is set equal
   to Trunc instead.

   Reciprocal_lambda  average packet interval for Poisson Streams
      expressed in units of seconds, as a positive value of type
      decimal64 with fraction digits = 4 (see section 9.3 of [RFC6020])
      with resolution of 0.0001 seconds (0.1 ms), and with lossless
      conversion to/from the 32-bit NTP timestamp as per section 6 of
      [RFC5905].  Reciprocal_lambda = 1 second.

   Trunc  Upper limit on Poisson distribution expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 4 (see section 9.3 of [RFC6020]) with resolution of
      0.0001 seconds (0.1 ms), and with lossless conversion to/from the
      32-bit NTP timestamp as per section 6 of [RFC5905] (values above
      this limit will be clipped and set to the limit value).  Trunc =
      30.0000 seconds.

7.3.3.  Traffic Filtering (observation) Details

   NA

7.3.4.  Sampling Distribution

   NA

7.3.5.  Run-time Parameters and Data Format

   Run-time Parameters are input factors that must be determined,
   configured into the measurement system, and reported with the results
   for the context to be complete.

   Src  the IP address of the host in the Src Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see Section 4 of [RFC6991])





Morton, et al.         Expires September 10, 2020              [Page 37]

Internet-Draft              Initial Registry                  March 2020


   Dst  the IP address of the host in the Dst Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see section 4 of [RFC6991])

   T0 a time, the start of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a start time is unspecified
      and Tf is to be interpreted as the Duration of the measurement
      interval.  The start time is controlled through other means.

   Tf a time, the end of a measurement interval, (format "date-and-time"
      as specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a end time date is ignored and
      Tf is interpreted as the Duration of the measurement interval.

7.3.6.  Roles

   Src  launches each packet and waits for return transmissions from
      Dst. This is the TWAMP Session-Sender.

   Dst  waits for each packet from Src and sends a return packet to Src.
      This is the TWAMP Session-Reflector.

7.4.  Output

   This category specifies all details of the Output of measurements
   using the metric.

7.4.1.  Type

   See subsection titles below for Types.

7.4.2.  Reference Definition

   For all output types ---

   T0 the start of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   Tf the end of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].




Morton, et al.         Expires September 10, 2020              [Page 38]

Internet-Draft              Initial Registry                  March 2020


   For LossRatio -- the count of lost packets to total packets sent is
   the basis for the loss ratio calculation as per Section 4.1 of
   [RFC7680].

   For each <statistic>, one of the following sub-sections apply:

7.4.2.1.  Percentile95

   The 95th percentile SHALL be calculated using the conditional
   distribution of all packets with a finite value of One-way delay
   (undefined delays are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3 of [RFC3393] for details on the percentile statistic
   (where Round-trip delay should be substituted for "ipdv").

   The percentile = 95, meaning that the reported delay, "95Percentile",
   is the smallest value of one-way delay for which the Empirical
   Distribution Function (EDF), F(95Percentile) >= 95% of the singleton
   one-way delay values in the conditional distribution.  See section
   11.3 of [RFC2330] for the definition of the percentile statistic
   using the EDF.

   95Percentile  The time value of the result is expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 9 (see section 9.3 of [RFC6020]) with resolution of
      0.000000001 seconds (1.0 ns), and with lossless conversion to/from
      the 64-bit NTP timestamp as per section 6 of RFC [RFC5905]

7.4.2.2.  Mean

   The mean SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.2.2 of [RFC6049] for details on calculating this
   statistic, and 4.2.3 of [RFC6049].

   Mean  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001



Morton, et al.         Expires September 10, 2020              [Page 39]

Internet-Draft              Initial Registry                  March 2020


      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

7.4.2.3.  Min

   The minimum SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for details on calculating this
   statistic, and 4.3.3 of [RFC6049].

   Min  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

7.4.2.4.  Max

   The maximum SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for a closely related method for
   calculating this statistic, and 4.3.3 of [RFC6049].  The formula is
   as follows:

            Max = (FiniteDelay [j])

                  such that for some index, j, where 1 <= j <= N
                  FiniteDelay[j] >= FiniteDelay[n] for all n

   Max  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]





Morton, et al.         Expires September 10, 2020              [Page 40]

Internet-Draft              Initial Registry                  March 2020


7.4.2.5.  Std_Dev

   The Std_Dev SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 6.1.4 of [RFC6049] for a closely related method for
   calculating this statistic.  The formula is the classic calculation
   for standard deviation of a population.

   Define Population Std_Dev_Delay as follows:
   (where all packets n = 1 through N have a value for Delay[n],
   and MeanDelay calculated as in 7.4.2.2), and SQRT[] is the
   Square Root function:
                    _                                       _
                   |            N                            |
                   |           ---                           |
                   |     1     \                          2  |
   Std_Dev = SQRT  |  -------   >   (Delay[n] - MeanDelay)   |
                   |    (N)    /                             |
                   |           ---                           |
                   |          n = 1                          |
                   |_                                       _|

   Std_Dev  The time value of the result is expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 9 (see section 9.3 of [RFC6020]) with resolution of
      0.000000001 seconds (1.0 ns), and with lossless conversion to/from
      the 64-bit NTP timestamp as per section 6 of RFC [RFC5905]

7.4.3.  Metric Units

   The <statistic> of One-way Delay is expressed in seconds.

   The One-way Loss Ratio is expressed as a percentage of lost packets
   to total packets sent.

7.4.4.  Calibration

   Section 3.7.3 of [RFC7679] provides a means to quantify the
   systematic and random errors of a time measurement.  In-situ
   calibration could be enabled with an internal loopback that includes
   as much of the measurement system as possible, performs address
   manipulation as needed, and provides some form of isolation (e.g.,



Morton, et al.         Expires September 10, 2020              [Page 41]

Internet-Draft              Initial Registry                  March 2020


   deterministic delay) to avoid send-receive interface contention.
   Some portion of the random and systematic error can be characterized
   this way.

   For one-way delay measurements, the error calibration must include an
   assessment of the internal clock synchronization with its external
   reference (this internal clock is supplying timestamps for
   measurement).  In practice, the time offsets [RFC5905] of clocks at
   both the source and destination are needed to estimate the systematic
   error due to imperfect clock synchronization (the time offsets
   [RFC5905] are smoothed, thus the random variation is not usually
   represented in the results).

   time_offset  The time value of the result is expressed in units of
      seconds, as a signed value of type decimal64 with fraction digits
      = 9 (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

   When a measurement controller requests a calibration measurement, the
   loopback is applied and the result is output in the same format as a
   normal measurement with additional indication that it is a
   calibration result.  In any measurement, the measurement function
   SHOULD report its current estimate of time offset [RFC5905] as an
   indicator of the degree of synchronization.

   Both internal loopback calibration and clock synchronization can be
   used to estimate the available accuracy of the Output Metric Units.
   For example, repeated loopback delay measurements will reveal the
   portion of the Output result resolution which is the result of system
   noise, and thus inaccurate.

7.5.  Administrative items

7.5.1.  Status

   Current

7.5.2.  Requester

   This RFC number

7.5.3.  Revision

   1.0






Morton, et al.         Expires September 10, 2020              [Page 42]

Internet-Draft              Initial Registry                  March 2020


7.5.4.  Revision Date

   YYYY-MM-DD

7.6.  Comments and Remarks

   None

8.  UDP Periodic One-way Delay and Loss Registry Entries

   This section specifies five initial registry entries for the UDP
   Periodic One-way Delay, and one for UDP Periodic One-way Loss.

   IANA Note: Registry "Name" below specifies multiple registry entries,
   whose output format varies according to the <statistic> element of
   the name that specifies one form of statistical summary.  There is an
   additional metric name for the Loss metric.

   All column entries beside the ID, Name, Description, and Output
   Reference Method categories are the same, thus this section proposes
   six closely-related registry entries.  As a result, IANA is also
   asked to assign corresponding URLs to each Named Metric.

8.1.  Summary

   This category includes multiple indexes to the registry entries, the
   element ID and metric name.

8.1.1.  ID (Identifier)

   IANA is asked to assign a different numeric identifiers to each of
   the six Metrics.

8.1.2.  Name

   OWDelay_Active_IP-UDP-Periodic20m-
   Payload142B_RFCXXXXsec8_Seconds_<statistic>

   where <statistic> is one of:

   o  95Percentile

   o  Mean

   o  Min

   o  Max




Morton, et al.         Expires September 10, 2020              [Page 43]

Internet-Draft              Initial Registry                  March 2020


   o  StdDev

   OWLoss_Active_IP-UDP-Periodic-
   Payload142B_RFCXXXXsec8_Percent_LossRatio

8.1.3.  URI

   URL: https://www.iana.org/ ... <name>

8.1.4.  Description

   OWDelay: This metric assesses the delay of a stream of packets
   exchanged between two hosts (or measurement points), and reports the
   <statistic> One-way delay for all successfully exchanged packets
   based on their conditional delay distribution.

   where <statistic> is one of:

   o  95Percentile

   o  Mean

   o  Min

   o  Max

   o  StdDev

   OWLoss: This metric assesses the loss ratio of a stream of packets
   exchanged between two hosts (which are the two measurement points),
   and the Output is the One-way loss ratio for all successfully
   received packets expressed as a percentage.

8.2.  Metric Definition

   This category includes columns to prompt the entry of all necessary
   details related to the metric definition, including the RFC reference
   and values of input factors, called fixed parameters.

8.2.1.  Reference Definition

   For Delay:

   Almes, G., Kalidindi, S., Zekauskas, M., and A.  Morton, Ed., "A One-
   Way Delay Metric for IP Performance Metrics (IPPM)", STD 81, RFC
   7679, DOI 10.17487/RFC7679, January 2016, <http://www.rfc-
   editor.org/info/rfc7679>.




Morton, et al.         Expires September 10, 2020              [Page 44]

Internet-Draft              Initial Registry                  March 2020


   [RFC7679]

   Morton, A., and Stephan, E., "Spatial Composition of Metrics", RFC
   6049, January 2011.

   [RFC6049]

   Section 3.4 of [RFC7679] provides the reference definition of the
   singleton (single value) One-way delay metric.  Section 4.4 of
   [RFC7679] provides the reference definition expanded to cover a
   multi-value sample.  Note that terms such as singleton and sample are
   defined in Section 11 of [RFC2330].

   Only successful packet transfers with finite delay are included in
   the sample, as prescribed in section 4.1.2 of [RFC6049].

   For loss:

   Almes, G., Kalidini, S., Zekauskas, M., and A.  Morton, Ed., "A One-
   Way Loss Metric for IP Performance Metrics (IPPM)", RFC 7680, DOI
   10.17487/RFC7680, January 2016, <http://www.rfc-editor.org/info/
   rfc7680>.

   Section 2.4 of [RFC7680] provides the reference definition of the
   singleton (single value) one-way loss metric.  Section 3.4 of
   [RFC7680] provides the reference definition expanded to cover a
   multi-singleton sample.  Note that terms such as singleton and sample
   are defined in Section 11 of [RFC2330].

8.2.2.  Fixed Parameters

   Type-P:

   o  IPv4 header values:

      *  DSCP: set to 0

      *  TTL: set to 255

      *  Protocol: Set to 17 (UDP)

   o  IPv6 header values:

      *  DSCP: set to 0

      *  Hop Count: set to 255

      *  Next Header: set to 17 (UDP)



Morton, et al.         Expires September 10, 2020              [Page 45]

Internet-Draft              Initial Registry                  March 2020


      *  Flow Label: set to zero

      *  Extension Headers: none

   o  UDP header values:

      *  Checksum: the checksum MUST be calculated and the non-zero
         checksum included in the header

   o  UDP Payload: TWAMP Test Packet Formats, Section 4.1.2 of [RFC5357]

      *  Security features in use influence the number of Padding
         octets.

      *  142 octets total, including the TWAMP format (and format type
         MUST be reported, if used)

   Other measurement parameters:

   Tmax:  a loss threshold waiting time with value 3.0, expressed in
      units of seconds, as a positive value of type decimal64 with
      fraction digits = 4 (see section 9.3 of [RFC6020]) and with
      resolution of 0.0001 seconds (0.1 ms), with lossless conversion
      to/from the 32-bit NTP timestamp as per section 6 of [RFC5905].

   See the Packet Stream generation category for two additional Fixed
   Parameters.

8.3.  Method of Measurement

   This category includes columns for references to relevant sections of
   the RFC(s) and any supplemental information needed to ensure an
   unambiguous methods for implementations.

8.3.1.  Reference Method

   The methodology for this metric is defined as Type-P-One-way-Delay-
   Poisson-Stream in section 3.6 of [RFC7679] and section 4.6 of
   [RFC7679] using the Type-P and Tmax defined under Fixed Parameters.
   However, a Periodic stream is used, as defined in [RFC3432].

   The reference method distinguishes between long-delayed packets and
   lost packets by implementing a maximum waiting time for packet
   arrival.  Tmax is the waiting time used as the threshold to declare a
   packet lost.  Lost packets SHALL be designated as having undefined
   delay, and counted for the OWLoss metric.





Morton, et al.         Expires September 10, 2020              [Page 46]

Internet-Draft              Initial Registry                  March 2020


   The calculations on the one-way delay SHALL be performed on the
   conditional distribution, conditioned on successful packet arrival
   within Tmax.  Also, when all packet delays are stored, the process
   which calculates the one-way delay value MUST enforce the Tmax
   threshold on stored values before calculations.  See section 4.1 of
   [RFC3393] for details on the conditional distribution to exclude
   undefined values of delay, and Section 5 of [RFC6703] for background
   on this analysis choice.

   The reference method requires some way to distinguish between
   different packets in a stream to establish correspondence between
   sending times and receiving times for each successfully-arriving
   packet.

   Since a standard measurement protocol is employed [RFC5357], then the
   measurement process will determine the sequence numbers or timestamps
   applied to test packets after the Fixed and Runtime parameters are
   passed to that process.  The measurement protocol dictates the format
   of sequence numbers and time-stamps conveyed in the TWAMP-Test packet
   payload.

8.3.2.  Packet Stream Generation

   This section gives the details of the packet traffic which is the
   basis for measurement.  In IPPM metrics, this is called the Stream,
   and can easily be described by providing the list of stream
   parameters.

   Section 3 of [RFC3432] prescribes the method for generating Periodic
   streams using associated parameters.

   incT  the nominal duration of inter-packet interval, first bit to
      first bit, with value 0.0200 expressed in units of seconds, as a
      positive value of type decimal64 with fraction digits = 4 (see
      section 9.3 of [RFC6020]) and with resolution of 0.0001 seconds
      (0.1 ms), with lossless conversion to/from the 32-bit NTP
      timestamp as per section 6 of [RFC5905].

   dT the duration of the interval for allowed sample start times, with
      value 1.0000, expressed in units of seconds, as a positive value
      of type decimal64 with fraction digits = 4 (see section 9.3 of
      [RFC6020]) and with resolution of 0.0001 seconds (0.1 ms), with
      lossless conversion to/from the 32-bit NTP timestamp as per
      section 6 of [RFC5905].

   T0 the actual start time of the periodic stream, determined from T0
      and dT.




Morton, et al.         Expires September 10, 2020              [Page 47]

Internet-Draft              Initial Registry                  March 2020


   NOTE: an initiation process with a number of control exchanges
   resulting in unpredictable start times (within a time interval) may
   be sufficient to avoid synchronization of periodic streams, and
   therefore a valid replacement for selecting a start time at random
   from a fixed interval.

   These stream parameters will be specified as Run-time parameters.

8.3.3.  Traffic Filtering (observation) Details

   NA

8.3.4.  Sampling Distribution

   NA

8.3.5.  Run-time Parameters and Data Format

   Run-time Parameters are input factors that must be determined,
   configured into the measurement system, and reported with the results
   for the context to be complete.

   Src  the IP address of the host in the Src Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see Section 4 of [RFC6991])

   Dst  the IP address of the host in the Dst Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see section 4 of [RFC6991])

   T0 a time, the start of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a start time is unspecified
      and Tf is to be interpreted as the Duration of the measurement
      interval.  The start time is controlled through other means.

   Tf a time, the end of a measurement interval, (format "date-and-time"
      as specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a end time date is ignored and
      Tf is interpreted as the Duration of the measurement interval.

8.3.6.  Roles

   Src  launches each packet and waits for return transmissions from
      Dst. This is the TWAMP Session-Sender.




Morton, et al.         Expires September 10, 2020              [Page 48]

Internet-Draft              Initial Registry                  March 2020


   Dst  waits for each packet from Src and sends a return packet to Src.
      This is the TWAMP Session-Reflector.

8.4.  Output

   This category specifies all details of the Output of measurements
   using the metric.

8.4.1.  Type

   See subsection titles in Reference Definition for Latency Types.

8.4.2.  Reference Definition

   For all output types ---

   T0 the start of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   Tf the end of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   For LossRatio -- the count of lost packets to total packets sent is
   the basis for the loss ratio calculation as per Section 4.1 of
   [RFC7680].

   For each <statistic>, one of the following sub-sections apply:

8.4.2.1.  Percentile95

   The 95th percentile SHALL be calculated using the conditional
   distribution of all packets with a finite value of One-way delay
   (undefined delays are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3 of [RFC3393] for details on the percentile statistic
   (where Round-trip delay should be substituted for "ipdv").

   The percentile = 95, meaning that the reported delay, "95Percentile",
   is the smallest value of one-way delay for which the Empirical
   Distribution Function (EDF), F(95Percentile) >= 95% of the singleton



Morton, et al.         Expires September 10, 2020              [Page 49]

Internet-Draft              Initial Registry                  March 2020


   one-way delay values in the conditional distribution.  See section
   11.3 of [RFC2330] for the definition of the percentile statistic
   using the EDF.

   95Percentile  The time value of the result is expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 9 (see section 9.3 of [RFC6020]) with resolution of
      0.000000001 seconds (1.0 ns), and with lossless conversion to/from
      the 64-bit NTP timestamp as per section 6 of RFC [RFC5905]

8.4.2.2.  Mean

   The mean SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.2.2 of [RFC6049] for details on calculating this
   statistic, and 4.2.3 of [RFC6049].

   Mean  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

8.4.2.3.  Min

   The minimum SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for details on calculating this
   statistic, and 4.3.3 of [RFC6049].

   Min  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]




Morton, et al.         Expires September 10, 2020              [Page 50]

Internet-Draft              Initial Registry                  March 2020


8.4.2.4.  Max

   The maximum SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for a closely related method for
   calculating this statistic, and 4.3.3 of [RFC6049].  The formula is
   as follows:

            Max = (FiniteDelay [j])

                  such that for some index, j, where 1 <= j <= N
                  FiniteDelay[j] >= FiniteDelay[n] for all n

   Max  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

8.4.2.5.  Std_Dev

   The Std_Dev SHALL be calculated using the conditional distribution of
   all packets with a finite value of One-way delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for a closely related method for
   calculating this statistic, and 4.3.3 of [RFC6049].  The formula is
   the classic calculation for standard deviation of a population.













Morton, et al.         Expires September 10, 2020              [Page 51]

Internet-Draft              Initial Registry                  March 2020


   Define Population Std_Dev_Delay as follows:
   (where all packets n = 1 through N have a value for Delay[n],
   and MeanDelay calculated as in 7.4.2.2), and SQRT[] is the
   Square Root function:
                    _                                       _
                   |            N                            |
                   |           ---                           |
                   |     1     \                          2  |
   Std_Dev = SQRT  |  -------   >   (Delay[n] - MeanDelay)   |
                   |    (N)    /                             |
                   |           ---                           |
                   |          n = 1                          |
                   |_                                       _|

   Std_Dev  The time value of the result is expressed in units of
      seconds, as a positive value of type decimal64 with fraction
      digits = 9 (see section 9.3 of [RFC6020]) with resolution of
      0.000000001 seconds (1.0 ns), and with lossless conversion to/from
      the 64-bit NTP timestamp as per section 6 of RFC [RFC5905]

8.4.3.  Metric Units

   The <statistic> of One-way Delay is expressed in seconds, where
   <statistic> is one of:

   o  95Percentile

   o  Mean

   o  Min

   o  Max

   o  StdDev

   The One-way Loss Ratio is expressed as a percentage of lost packets
   to total packets sent.

8.4.4.  Calibration

   Section 3.7.3 of [RFC7679] provides a means to quantify the
   systematic and random errors of a time measurement.  In-situ
   calibration could be enabled with an internal loopback that includes
   as much of the measurement system as possible, performs address
   manipulation as needed, and provides some form of isolation (e.g.,
   deterministic delay) to avoid send-receive interface contention.
   Some portion of the random and systematic error can be characterized
   this way.



Morton, et al.         Expires September 10, 2020              [Page 52]

Internet-Draft              Initial Registry                  March 2020


   For one-way delay measurements, the error calibration must include an
   assessment of the internal clock synchronization with its external
   reference (this internal clock is supplying timestamps for
   measurement).  In practice, the time offsets [RFC5905] of clocks at
   both the source and destination are needed to estimate the systematic
   error due to imperfect clock synchronization (the time offsets
   [RFC5905] are smoothed, thus the random variation is not usually
   represented in the results).

   time_offset  The time value of the result is expressed in units of
      seconds, as a signed value of type decimal64 with fraction digits
      = 9 (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

   When a measurement controller requests a calibration measurement, the
   loopback is applied and the result is output in the same format as a
   normal measurement with additional indication that it is a
   calibration result.  In any measurement, the measurement function
   SHOULD report its current estimate of time offset [RFC5905] as an
   indicator of the degree of synchronization.

   Both internal loopback calibration and clock synchronization can be
   used to estimate the available accuracy of the Output Metric Units.
   For example, repeated loopback delay measurements will reveal the
   portion of the Output result resolution which is the result of system
   noise, and thus inaccurate.

8.5.  Administrative items

8.5.1.  Status

   Current

8.5.2.  Requester

   This RFC number

8.5.3.  Revision

   1.0

8.5.4.  Revision Date

   YYYY-MM-DD






Morton, et al.         Expires September 10, 2020              [Page 53]

Internet-Draft              Initial Registry                  March 2020


8.6.  Comments and Remarks

   None.

9.  ICMP Round-trip Latency and Loss Registry Entries

   This section specifies three initial registry entries for the ICMP
   Round-trip Latency, and another entry for ICMP Round-trip Loss Ratio.

   IANA Note: Registry "Name" below specifies multiple registry entries,
   whose output format varies according to the <statistic> element of
   the name that specifies one form of statistical summary.  There is an
   additional metric name for the Loss metric.

   All column entries beside the ID, Name, Description, and Output
   Reference Method categories are the same, thus this section proposes
   two closely-related registry entries.  As a result, IANA is also
   asked to assign corresponding URLs to each Named Metric.

9.1.  Summary

   This category includes multiple indexes to the registry entry: the
   element ID and metric name.

9.1.1.  ID (Identifier)

   IANA is asked to assign different numeric identifiers to each of the
   four Named Metrics.

9.1.2.  Name

   RTDelay_Active_IP-ICMP-SendOnRcv_RFCXXXXsec9_Seconds_<statistic>

   where <statistic> is one of:

   o  Mean

   o  Min

   o  Max

   RTLoss_Active_IP-ICMP-SendOnRcv_RFCXXXXsec9_Percent_LossRatio

9.1.3.  URI

   URL: https://www.iana.org/ ... <name>





Morton, et al.         Expires September 10, 2020              [Page 54]

Internet-Draft              Initial Registry                  March 2020


9.1.4.  Description

   RTDelay: This metric assesses the delay of a stream of ICMP packets
   exchanged between two hosts (which are the two measurement points),
   and the Output is the Round-trip delay for all successfully exchanged
   packets expressed as the <statistic> of their conditional delay
   distribution, where <statistic> is one of:

   o  Mean

   o  Min

   o  Max

   RTLoss: This metric assesses the loss ratio of a stream of ICMP
   packets exchanged between two hosts (which are the two measurement
   points), and the Output is the Round-trip loss ratio for all
   successfully exchanged packets expressed as a percentage.

9.1.5.  Change Controller

   IETF

9.1.6.  Version (of Registry Format)

   1.0

9.2.  Metric Definition

   This category includes columns to prompt the entry of all necessary
   details related to the metric definition, including the RFC reference
   and values of input factors, called fixed parameters.

9.2.1.  Reference Definition

   Almes, G., Kalidindi, S., and M.  Zekauskas, "A Round-trip Delay
   Metric for IPPM", RFC 2681, September 1999.

   [RFC2681]

   Section 2.4 of [RFC2681] provides the reference definition of the
   singleton (single value) Round-trip delay metric.  Section 3.4 of
   [RFC2681] provides the reference definition expanded to cover a
   multi-singleton sample.  Note that terms such as singleton and sample
   are defined in Section 11 of [RFC2330].

   Note that although the [RFC2681] definition of "Round-trip-Delay
   between Src and Dst" is directionally ambiguous in the text, this



Morton, et al.         Expires September 10, 2020              [Page 55]

Internet-Draft              Initial Registry                  March 2020


   metric tightens the definition further to recognize that the host in
   the "Src" role will send the first packet to "Dst", and ultimately
   receive the corresponding return packet from "Dst" (when neither are
   lost).

   Finally, note that the variable "dT" is used in [RFC2681] to refer to
   the value of Round-trip delay in metric definitions and methods.  The
   variable "dT" has been re-used in other IPPM literature to refer to
   different quantities, and cannot be used as a global variable name.

   Morton, A., "Round-trip Packet Loss Metrics", RFC 6673, August 2012.

   [RFC6673]

   Both delay and loss metrics employ a maximum waiting time for
   received packets, so the count of lost packets to total packets sent
   is the basis for the loss ratio calculation as per Section 6.1 of
   [RFC6673].

9.2.2.  Fixed Parameters

   Type-P as defined in Section 13 of [RFC2330]:

   o  IPv4 header values:

      *  DSCP: set to 0

      *  TTL: set to 255

      *  Protocol: Set to 01 (ICMP)

   o  IPv6 header values:

      *  DSCP: set to 0

      *  Hop Count: set to 255

      *  Next Header: set to 128 decimal (ICMP)

      *  Flow Label: set to zero

      *  Extension Headers: none

   o  ICMP header values:

      *  Type: 8 (Echo Request)

      *  Code: 0



Morton, et al.         Expires September 10, 2020              [Page 56]

Internet-Draft              Initial Registry                  March 2020


      *  Checksum: the checksum MUST be calculated and the non-zero
         checksum included in the header

      *  (Identifier and Sequence Number set at Run-Time)

   o  ICMP Payload

      *  total of 32 bytes of random info, constant per test.

   Other measurement parameters:

   o  Tmax: a loss threshold waiting time

      *  3.0, expressed in units of seconds, as a positive value of type
         decimal64 with fraction digits = 4 (see section 9.3 of
         [RFC6020]) and with resolution of 0.0001 seconds (0.1 ms), with
         lossless conversion to/from the 32-bit NTP timestamp as per
         section 6 of [RFC5905].

9.3.  Method of Measurement

   This category includes columns for references to relevant sections of
   the RFC(s) and any supplemental information needed to ensure an
   unambiguous methods for implementations.

9.3.1.  Reference Method

   The methodology for this metric is defined as Type-P-Round-trip-
   Delay-Poisson-Stream in section 2.6 of RFC 2681 [RFC2681] and section
   3.6 of RFC 2681 [RFC2681] using the Type-P and Tmax defined under
   Fixed Parameters.

   The reference method distinguishes between long-delayed packets and
   lost packets by implementing a maximum waiting time for packet
   arrival.  Tmax is the waiting time used as the threshold to declare a
   packet lost.  Lost packets SHALL be designated as having undefined
   delay, and counted for the RTLoss metric.

   The calculations on the delay (RTD) SHALL be performed on the
   conditional distribution, conditioned on successful packet arrival
   within Tmax.  Also, when all packet delays are stored, the process
   which calculates the RTD value MUST enforce the Tmax threshold on
   stored values before calculations.  See section 4.1 of [RFC3393] for
   details on the conditional distribution to exclude undefined values
   of delay, and Section 5 of [RFC6703] for background on this analysis
   choice.





Morton, et al.         Expires September 10, 2020              [Page 57]

Internet-Draft              Initial Registry                  March 2020


   The reference method requires some way to distinguish between
   different packets in a stream to establish correspondence between
   sending times and receiving times for each successfully-arriving
   packet.  Sequence numbers or other send-order identification MUST be
   retained at the Src or included with each packet to disambiguate
   packet reordering if it occurs.

   The measurement process will determine the sequence numbers applied
   to test packets after the Fixed and Runtime parameters are passed to
   that process.  The ICMP measurement process and protocol will dictate
   the format of sequence numbers and other identifiers.

   Refer to Section 4.4 of [RFC6673] for expanded discussion of the
   instruction to "send a Type-P packet back to the Src as quickly as
   possible" in Section 2.6 of RFC 2681 [RFC2681].  Section 8 of
   [RFC6673] presents additional requirements which MUST be included in
   the method of measurement for this metric.

9.3.2.  Packet Stream Generation

   This section gives the details of the packet traffic which is the
   basis for measurement.  In IPPM metrics, this is called the Stream,
   and can easily be described by providing the list of stream
   parameters.

   The ICMP metrics use a sending discipline called "SendOnRcv" or Send
   On Receive.  This is a modification of Section 3 of [RFC3432], which
   prescribes the method for generating Periodic streams using
   associated parameters as defined below for this description:

   incT  the nominal duration of inter-packet interval, first bit to
      first bit

   dT the duration of the interval for allowed sample start times

   The incT stream parameter will be specified as a Run-time parameter,
   and dT is not used in SendOnRcv.

   A SendOnRcv sender behaves exactly like a Periodic stream generator
   while all reply packets arrive with RTD < incT, and the inter-packet
   interval will be constant.

   If a reply packet arrives with RTD >= incT, then the inter-packet
   interval for the next sending time is nominally RTD.

   If a reply packet fails to arrive within Tmax, then the inter-packet
   interval for the next sending time is nominally Tmax.




Morton, et al.         Expires September 10, 2020              [Page 58]

Internet-Draft              Initial Registry                  March 2020


   If an immediate send on reply arrival is desired, then set incT=0.

9.3.3.  Traffic Filtering (observation) Details

   NA

9.3.4.  Sampling Distribution

   NA

9.3.5.  Run-time Parameters and Data Format

   Run-time Parameters are input factors that must be determined,
   configured into the measurement system, and reported with the results
   for the context to be complete.

   Src  the IP address of the host in the Src Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see Section 4 of [RFC6991])

   Dst  the IP address of the host in the Dst Role (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see section 4 of [RFC6991])

   incT  the nominal duration of inter-packet interval, first bit to
      first bit, expressed in units of seconds, as a positive value of
      type decimal64 with fraction digits = 4 (see section 9.3 of
      [RFC6020]) and with resolution of 0.0001 seconds (0.1 ms).

   T0 a time, the start of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a start time is unspecified
      and Tf is to be interpreted as the Duration of the measurement
      interval.  The start time is controlled through other means.

   Count  The total count of ICMP Echo Requests to send, formatted as a
      uint16, as per section 9.2 of [RFC6020].

   (see the Packet Stream Generation section for additional Run-time
   parameters)

9.3.6.  Roles

   Src  launches each packet and waits for return transmissions from
      Dst.

   Dst  waits for each packet from Src and sends a return packet to Src.



Morton, et al.         Expires September 10, 2020              [Page 59]

Internet-Draft              Initial Registry                  March 2020


9.4.  Output

   This category specifies all details of the Output of measurements
   using the metric.

9.4.1.  Type

   See subsection titles in Reference Definition for Latency Types.

   LossRatio -- the count of lost packets to total packets sent is the
   basis for the loss ratio calculation as per Section 6.1 of [RFC6673].

9.4.2.  Reference Definition

   For all output types ---

   T0 the start of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   Tf the end of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   TotalCount  the count of packets actually sent by the Src to Dst
      during the measurement interval.

   For LossRatio -- the count of lost packets to total packets sent is
   the basis for the loss ratio calculation as per Section 4.1 of
   [RFC7680].

   For each <statistic>, one of the following sub-sections apply:

9.4.2.1.  Mean

   The mean SHALL be calculated using the conditional distribution of
   all packets with a finite value of Round-trip delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.2.2 of [RFC6049] for details on calculating this
   statistic, and 4.2.3 of [RFC6049].




Morton, et al.         Expires September 10, 2020              [Page 60]

Internet-Draft              Initial Registry                  March 2020


   Mean  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

9.4.2.2.  Min

   The minimum SHALL be calculated using the conditional distribution of
   all packets with a finite value of Round-trip delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for details on calculating this
   statistic, and 4.3.3 of [RFC6049].

   Min  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

9.4.2.3.  Max

   The maximum SHALL be calculated using the conditional distribution of
   all packets with a finite value of Round-trip delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for a closely related method for
   calculating this statistic, and 4.3.3 of [RFC6049].  The formula is
   as follows:

            Max = (FiniteDelay [j])

                  such that for some index, j, where 1 <= j <= N
                  FiniteDelay[j] >= FiniteDelay[n] for all n

   Max  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001




Morton, et al.         Expires September 10, 2020              [Page 61]

Internet-Draft              Initial Registry                  March 2020


      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

9.4.3.  Metric Units

   The <statistic> of Round-trip Delay is expressed in seconds, where
   <statistic> is one of:

   o  Mean

   o  Min

   o  Max

   The Round-trip Loss Ratio is expressed as a percentage of lost
   packets to total packets sent.

9.4.4.  Calibration

   Section 3.7.3 of [RFC7679] provides a means to quantify the
   systematic and random errors of a time measurement.  In-situ
   calibration could be enabled with an internal loopback at the Source
   host that includes as much of the measurement system as possible,
   performs address manipulation as needed, and provides some form of
   isolation (e.g., deterministic delay) to avoid send-receive interface
   contention.  Some portion of the random and systematic error can be
   characterized this way.

   When a measurement controller requests a calibration measurement, the
   loopback is applied and the result is output in the same format as a
   normal measurement with additional indication that it is a
   calibration result.

   Both internal loopback calibration and clock synchronization can be
   used to estimate the available accuracy of the Output Metric Units.
   For example, repeated loopback delay measurements will reveal the
   portion of the Output result resolution which is the result of system
   noise, and thus inaccurate.

9.5.  Administrative items

9.5.1.  Status

   Current







Morton, et al.         Expires September 10, 2020              [Page 62]

Internet-Draft              Initial Registry                  March 2020


9.5.2.  Requester

   This RFC number

9.5.3.  Revision

   1.0

9.5.4.  Revision Date

   YYYY-MM-DD

9.6.  Comments and Remarks

   None

10.  TCP Round-Trip Delay and Loss Registry Entries

   This section specifies three initial registry entries for the Passive
   assessment of TCP Round-Trip Delay (RTD) and another entry for TCP
   Round-trip Loss Count.

   IANA Note: Registry "Name" below specifies multiple registry entries,
   whose output format varies according to the <statistic> element of
   the name that specifies one form of statistical summary.  There are
   two additional metric names for Singleton RT Delay and Packet Count
   metrics.

   All column entries beside the ID, Name, Description, and Output
   Reference Method categories are the same, thus this section proposes
   four closely-related registry entries.  As a result, IANA is also
   asked to assign corresponding URLs to each Named Metric.

10.1.  Summary

   This category includes multiple indexes to the registry entry: the
   element ID and metric name.

10.1.1.  ID (Identifier)

   IANA is asked to assign different numeric identifiers to each of the
   four Named Metrics.

10.1.2.  Name

   RTDelay_Passive_IP-TCP_RFCXXXXsec10_Seconds_<statistic>

   where <statistic> is one of:



Morton, et al.         Expires September 10, 2020              [Page 63]

Internet-Draft              Initial Registry                  March 2020


   o  Mean

   o  Min

   o  Max

   RTDelay_Passive_IP-TCP-HS_RFCXXXXsec10_Seconds_Singleton

   Note that a mid-point observer only has the opportunity to compose a
   single RTDelay on the TCP Hand Shake.

   RTLoss_Passive_IP-TCP_RFCXXXXsec10_Packet_Count

10.1.3.  URI

   URL: https://www.iana.org/ ... <name>

10.1.4.  Description

   RTDelay: This metric assesses the round-trip delay of TCP packets
   constituting a single connection, exchanged between two hosts.  We
   consider the measurement of round-trip delay based on a single
   Observation Point [RFC7011] somewhere in the network.  The Output is
   the Round-trip delay for all successfully exchanged packets expressed
   as the <statistic> of their conditional delay distribution, where
   <statistic> is one of:

   o  Mean

   o  Min

   o  Max

   RTLoss: This metric assesses the estimated loss count for TCP packets
   constituting a single connection, exchanged between two hosts.  We
   consider the measurement of round-trip delay based on a single
   Observation Point [RFC7011] somewhere in the network.  The Output is
   the estimated Loss Count for the measurement interval.

10.1.5.  Change Controller

   IETF

10.1.6.  Version (of Registry Format)

   1.0





Morton, et al.         Expires September 10, 2020              [Page 64]

Internet-Draft              Initial Registry                  March 2020


10.2.  Metric Definition

   This category includes columns to prompt the entry of all necessary
   details related to the metric definition, including the RFC reference
   and values of input factors, called fixed parameters.

10.2.1.  Reference Definitions

   Although there is no RFC that describes passive measurement of Round-
   Trip Delay, the parallel definition for Active measurement is:

   Almes, G., Kalidindi, S., and M.  Zekauskas, "A Round-trip Delay
   Metric for IPPM", RFC 2681, September 1999.

   [RFC2681]

   This metric definition uses the terms singleton and sample as defined
   in Section 11 of [RFC2330].  (Section 2.4 of [RFC2681] provides the
   reference definition of the singleton (single value) Round-trip delay
   metric.  Section 3.4 of [RFC2681] provides the reference definition
   expanded to cover a multi-singleton sample.)

   With the Observation Point [RFC7011] (OP) typically located between
   the hosts participating in the TCP connection, the Round-trip Delay
   metric requires two individual measurements between the OP and each
   host, such that the Spatial Composition [RFC6049]of the measurements
   yields a Round-trip Delay singleton (we are extending the composition
   of one-way subpath delays to subpath round-trip delay).

   Using the direction of TCP SYN transmission to anchor the
   nomenclature, host A sends the SYN and host B replies with SYN-ACK
   during connection establishment.  The direction of SYN transfer is
   considered the Forward direction of transmission, from A through OP
   to B (Reverse is B through OP to A).

   Traffic filters reduce the packet stream at the OP to a Qualified
   bidirectional flow of packets.

   In the definitions below, Corresponding Packets are transferred in
   different directions and convey a common value in a TCP header field
   that establishes correspondence (to the extent possible).  Examples
   may be found in the TCP timestamp fields.

   For a real number, RTD_fwd, >> the Round-trip Delay in the Forward
   direction from OP to host B at time T' is RTD_fwd << it is REQUIRED
   that OP observed a Qualified Packet to host B at wire-time T', that
   host B received that packet and sent a Corresponding Packet back to




Morton, et al.         Expires September 10, 2020              [Page 65]

Internet-Draft              Initial Registry                  March 2020


   host A, and OP observed the Corresponding Packet at wire-time T' +
   RTD_fwd.

   For a real number, RTD_rev, >> the Round-trip Delay in the Reverse
   direction from OP to host A at time T'' is RTD_rev << it is REQUIRED
   that OP observed a Qualified Packet to host A at wire-time T'', that
   host A received that packet and sent a Corresponding Packet back to
   host B, and that OP observed the Corresponding Packet at wire-time
   T'' + RTD_rev.

   Ideally, the packet sent from host B to host A in both definitions
   above SHOULD be the same packet (or, when measuring RTD_rev first,
   the packet from host A to host B in both definitions should be the
   same).

   The REQUIRED Composition Function for a singleton of Round-trip Delay
   at time T (where T is the earliest of T' and T'' above) is:

   RTDelay = RTD_fwd + RTD_rev

   Note that when OP is located at host A or host B, one of the terms
   composing RTDelay will be zero or negligible.

   When the Qualified and Corresponding Packets are a TCP-SYN and a TCP-
   SYN-ACK, then RTD_fwd == RTD_HS_fwd.

   When the Qualified and Corresponding Packets are a TCP-SYN-ACK and a
   TCP-ACK, then RTD_rev == RTD_HS_rev.

   The REQUIRED Composition Function for a singleton of Round-trip Delay
   for the connection Hand Shake:

   RTDelay_HS = RTD_HS_fwd + RTD_HS_rev

   The definition of Round-trip Loss Count uses the nomenclature
   developed above, based on observation of the TCP header sequence
   numbers and storing the sequence number gaps observed.  Packet Losses
   can be inferred from:

   o  Out-of-order segments: TCP segments are transmitted with
      monotonically increasing sequence numbers, but these segments may
      be received out of order.  Section 3 of [RFC4737] describes the
      notion of "next expected" sequence numbers which can be adapted to
      TCP segments (for the purpose of detecting reordered packets).
      Observation of out-of-order segments indicates loss on the path
      prior to the OP, and creates a gap.





Morton, et al.         Expires September 10, 2020              [Page 66]

Internet-Draft              Initial Registry                  March 2020


   o  Duplicate segments: Section 2 of [RFC5560] defines identical
      packets and is suitable for evaluation of TCP packets to detect
      duplication.  Observation of duplicate segments *without a
      corresponding gap* indicates loss on the path following the OP
      (because they overlap part of the delivered sequence numbers
      already observed at OP).

   Each observation of an out-of-order or duplicate infers a singleton
   of loss, but composition of Round-trip Loss Counts will be conducted
   over a measurement interval which is synonymous with a single TCP
   connection.

   With the above observations in the Forward direction over a
   measurement interval, the count of out-of-order and duplicate
   segments is defined as RTL_fwd.  Comparable observations in the
   Reverse direction are defined as RTL_rev.

   For a measurement interval (corresponding to a single TCP
   connection), T0 to Tf, the REQUIRED Composition Function for a the
   two single-direction counts of inferred loss is:

   RTLoss = RTL_fwd + RTL_rev

10.2.2.  Fixed Parameters

   Traffic Filters:

   o  IPv4 header values:

      *  DSCP: set to 0

      *  Protocol: Set to 06 (TCP)

   o  IPv6 header values:

      *  DSCP: set to 0

      *  Hop Count: set to 255

      *  Next Header: set to 6 (TCP)

      *  Flow Label: set to zero

      *  Extension Headers: none

   o  TCP header values:

      *  Flags: ACK, SYN, FIN, set as required



Morton, et al.         Expires September 10, 2020              [Page 67]

Internet-Draft              Initial Registry                  March 2020


      *  Timestamp Option (TSopt): Set

         +  Section 3.2 of [RFC7323]

10.3.  Method of Measurement

   This category includes columns for references to relevant sections of
   the RFC(s) and any supplemental information needed to ensure an
   unambiguous methods for implementations.

10.3.1.  Reference Methods

   The foundation methodology for this metric is defined in Section 4 of
   [RFC7323] using the Timestamp Option with modifications that allow
   application at a mid-path Observation Point (OP) [RFC7011].  Further
   details and applicable heuristics were derived from [Strowes] and
   [Trammell-14].

   The Traffic Filter at the OP is configured to observe a single TCP
   connection.  When the SYN, SYN-ACK, ACK handshake occurs, it offers
   the first opportunity to measure both RTD_fwd (on the SYN to SYN-ACK
   pair) and RTD_rev (on the SYN-ACK to ACK pair).  Label this singleton
   of RTDelay as RTDelay_HS (composed using the forward and reverse
   measurement pair).  RTDelay_HS SHALL be treated separately from other
   RTDelays on data-bearing packets and their ACKs.  The RTDelay_HS
   value MAY be used as a sanity check on other Composed values of
   RTDelay.

   For payload bearing packets, the OP measures the time interval
   between observation of a packet with Sequence Number s, and the
   corresponding ACK with same Sequence number.  When the payload is
   transferred from host A to host B, the observed interval is RTD_fwd.

   Because many data transfers are unidirectional (say, in the Forward
   direction from host A to host B), it is necessary to use pure ACK
   packets with Timestamp (TSval) and their Timestamp value echo to
   perform a RTD_rev measurement.  The time interval between observation
   of the ACK from B to A, and the corresponding packet with Timestamp
   echo (TSecr) is the RTD_rev.

   Delay Measurement Filtering Heuristics:

   If Data payloads were transferred in both Forward and Reverse
   directions, then the Round-Trip Time Measurement Rule in Section 4.1
   of [RFC7323] could be applied.  This rule essentially excludes any
   measurement using a packet unless it makes progress in the transfer
   (advances the left edge of the send window, consistent with
   [Strowes]).



Morton, et al.         Expires September 10, 2020              [Page 68]

Internet-Draft              Initial Registry                  March 2020


   A different heuristic from [Trammell-14] is to exclude any RTD_rev
   that is larger than previously observed values.  This would tend to
   exclude Reverse measurements taken when the Application has no data
   ready to send, because considerable time could be added to RTD_rev
   from this source of error.

   Note that the above Heuristic assumes that host A is sending data.
   Host A expecting a download would mean that this heuristic should be
   applied to RTD_fwd.

   The statistic calculations to summarize the delay (RTDelay) SHALL be
   performed on the conditional distribution, conditioned on successful
   Forward and Reverse measurements which follow the Heuristics.

   Method for Inferring Loss:

   The OP tracks sequence numbers and stores gaps for each direction of
   transmission, as well as the next-expected sequence number as in
   [Trammell-14] and [RFC4737].  Loss is inferred from Out-of-order
   segments and Duplicate segments.

   Loss Measurement Filtering Heuristics:

   [Trammell-14] adds a window of evaluation based on the RTDelay.

   Distinguish Re-ordered from OOO due to loss, because sequence number
   gap is filled during the same RTDelay window.  Segments detected as
   re-ordered according to [RFC4737] MUST reduce the Loss Count inferred
   from Out-of-order segments.

   Spurious (unneeded) retransmissions (observed as duplicates) can also
   be reduced this way, as described in [Trammell-14].

   Sources of Error:

   The principal source of RTDelay error is the host processing time to
   return a packet that defines the termination of a time interval.  The
   heuristics above intend to mitigate these errors by excluding
   measurements where host processing time is a significant part of
   RTD_fwd or RTD_rev.

   A key source of RTLoss error is observation loss, described in
   section 3 of [Trammell-14].








Morton, et al.         Expires September 10, 2020              [Page 69]

Internet-Draft              Initial Registry                  March 2020


10.3.2.  Packet Stream Generation

   NA

10.3.3.  Traffic Filtering (observation) Details

   The Fixed Parameters above give a portion of the Traffic Filter.
   Other aspects will be supplied as Run-time Parameters (below).

10.3.4.  Sampling Distribution

   This metric requires a complete sample of all packets that qualify
   according to the Traffic Filter criteria.

10.3.5.  Run-time Parameters and Data Format

   Run-time Parameters are input factors that must be determined,
   configured into the measurement system, and reported with the results
   for the context to be complete.

   Src  the IP address of the host in the host A Role (format ipv4-
      address-no-zone value for IPv4, or ipv6-address-no-zone value for
      IPv6, see Section 4 of [RFC6991])

   Dst  the IP address of the host in the host B (format ipv4-address-
      no-zone value for IPv4, or ipv6-address-no-zone value for IPv6,
      see section 4 of [RFC6991])

   T0 a time, the start of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  When T0 is "all-zeros", a start time is unspecified
      and Td is to be interpreted as the Duration of the measurement
      interval.  The start time is controlled through other means.

   Td Optionally, the end of a measurement interval, (format "date-and-
      time" as specified in Section 5.6 of [RFC3339], see also Section 3
      of [RFC6991]), or the duration (see T0).  The UTC Time Zone is
      required by Section 6.1 of [RFC2330].  Alternatively, the end of
      the measurement interval MAY be controlled by the measured
      connection, where the second pair of FIN and ACK packets exchanged
      between host A and B effectively ends the interval.

   TTL or Hop Limit  Set at desired value.







Morton, et al.         Expires September 10, 2020              [Page 70]

Internet-Draft              Initial Registry                  March 2020


10.3.6.  Roles

   host A  launches the SYN packet to open the connection, and
      synonymous with an IP address.

   host B  replies with the SYN-ACK packet to open the connection, and
      synonymous with an IP address.

10.4.  Output

   This category specifies all details of the Output of measurements
   using the metric.

10.4.1.  Type

   See subsection titles in Reference Definition for RTDelay Types.

   For RTLoss -- the count of lost packets.

10.4.2.  Reference Definition

   For all output types ---

   T0 the start of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].

   Tf the end of a measurement interval, (format "date-and-time" as
      specified in Section 5.6 of [RFC3339], see also Section 3 of
      [RFC6991]).  The UTC Time Zone is required by Section 6.1 of
      [RFC2330].  The end of the measurement interval MAY be controlled
      by the measured connection, where the second pair of FIN and ACK
      packets exchanged between host A and B effectively ends the
      interval.

   ...  ...

   For RTDelay_HS -- the Round trip delay of the Handshake.

   For RTLoss -- the count of lost packets.

   For each <statistic>, one of the following sub-sections apply:








Morton, et al.         Expires September 10, 2020              [Page 71]

Internet-Draft              Initial Registry                  March 2020


10.4.2.1.  Mean

   The mean SHALL be calculated using the conditional distribution of
   all packets with a finite value of Round-trip delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.2.2 of [RFC6049] for details on calculating this
   statistic, and 4.2.3 of [RFC6049].

   Mean  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

10.4.2.2.  Min

   The minimum SHALL be calculated using the conditional distribution of
   all packets with a finite value of Round-trip delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.

   See section 4.3.2 of [RFC6049] for details on calculating this
   statistic, and 4.3.3 of [RFC6049].

   Min  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

10.4.2.3.  Max

   The maximum SHALL be calculated using the conditional distribution of
   all packets with a finite value of Round-trip delay (undefined delays
   are excluded), a single value as follows:

   See section 4.1 of [RFC3393] for details on the conditional
   distribution to exclude undefined values of delay, and Section 5 of
   [RFC6703] for background on this analysis choice.




Morton, et al.         Expires September 10, 2020              [Page 72]

Internet-Draft              Initial Registry                  March 2020


   See section 4.3.2 of [RFC6049] for a closely related method for
   calculating this statistic, and 4.3.3 of [RFC6049].  The formula is
   as follows:

            Max = (FiniteDelay [j])

                  such that for some index, j, where 1 <= j <= N
                  FiniteDelay[j] >= FiniteDelay[n] for all n

   Max  The time value of the result is expressed in units of seconds,
      as a positive value of type decimal64 with fraction digits = 9
      (see section 9.3 of [RFC6020]) with resolution of 0.000000001
      seconds (1.0 ns), and with lossless conversion to/from the 64-bit
      NTP timestamp as per section 6 of RFC [RFC5905]

10.4.3.  Metric Units

   The <statistic> of Round-trip Delay is expressed in seconds, where
   <statistic> is one of:

   o  Mean

   o  Min

   o  Max

   The Round-trip Delay of the Hand Shake is expressed in seconds.

   The Round-trip Loss Count is expressed as a number of packets.

10.4.4.  Calibration

   Passive measurements at an OP could be calibrated against an active
   measurement (with loss emulation) at host A or B, where the active
   measurement represents the ground-truth.

10.5.  Administrative items

10.5.1.  Status

   Current

10.5.2.  Requester

   This RFC number






Morton, et al.         Expires September 10, 2020              [Page 73]

Internet-Draft              Initial Registry                  March 2020


10.5.3.  Revision

   1.0

10.5.4.  Revision Date

   YYYY-MM-DD

10.6.  Comments and Remarks

   None.

11.  Security Considerations

   These registry entries represent no known implications for Internet
   Security.  Each RFC referenced above contains a Security
   Considerations section.  Further, the LMAP Framework [RFC7594]
   provides both security and privacy considerations for measurements.

   There are potential privacy considerations for observed traffic,
   particularly for passive metrics in section 10.  An attacker that
   knows that its TCP connection is being measured can modify its
   behavior to skew the measurement results.

12.  IANA Considerations

   IANA is requested to populate The Performance Metrics Registry
   defined in [I-D.ietf-ippm-metric-registry] with the values defined in
   sections 4 through 10.

   See the IANA Considerations section of
   [I-D.ietf-ippm-metric-registry] for additional requests and
   considerations.

13.  Acknowledgements

   The authors thank Brian Trammell for suggesting the term "Run-time
   Parameters", which led to the distinction between run-time and fixed
   parameters implemented in this memo, for identifying the IPFIX metric
   with Flow Key as an example, for suggesting the Passive TCP RTD
   metric and supporting references, and for many other productive
   suggestions.  Thanks to Peter Koch, who provided several useful
   suggestions for disambiguating successive DNS Queries in the DNS
   Response time metric.

   The authors also acknowledge the constructive reviews and helpful
   suggestions from Barbara Stark, Juergen Schoenwaelder, Tim Carey,
   Yaakov Stein, and participants in the LMAP working group.  Thanks to



Morton, et al.         Expires September 10, 2020              [Page 74]

Internet-Draft              Initial Registry                  March 2020


   Michelle Cotton for her early IANA reviews, and to Amanda Barber for
   answering questions related to the presentation of the registry and
   accessibility of the complete template via URL.

14.  References

14.1.  Normative References

   [I-D.ietf-ippm-metric-registry]
              Bagnulo, M., Claise, B., Eardley, P., and A. Morton,
              "Registry for Performance Metrics", Internet Draft (work
              in progress) draft-ietf-ippm-metric-registry, 2019.

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, DOI 10.17487/RFC1035,
              November 1987, <https://www.rfc-editor.org/info/rfc1035>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC2330]  Paxson, V., Almes, G., Mahdavi, J., and M. Mathis,
              "Framework for IP Performance Metrics", RFC 2330,
              DOI 10.17487/RFC2330, May 1998,
              <https://www.rfc-editor.org/info/rfc2330>.

   [RFC2681]  Almes, G., Kalidindi, S., and M. Zekauskas, "A Round-trip
              Delay Metric for IPPM", RFC 2681, DOI 10.17487/RFC2681,
              September 1999, <https://www.rfc-editor.org/info/rfc2681>.

   [RFC3339]  Klyne, G. and C. Newman, "Date and Time on the Internet:
              Timestamps", RFC 3339, DOI 10.17487/RFC3339, July 2002,
              <https://www.rfc-editor.org/info/rfc3339>.

   [RFC3393]  Demichelis, C. and P. Chimento, "IP Packet Delay Variation
              Metric for IP Performance Metrics (IPPM)", RFC 3393,
              DOI 10.17487/RFC3393, November 2002,
              <https://www.rfc-editor.org/info/rfc3393>.

   [RFC3432]  Raisanen, V., Grotefeld, G., and A. Morton, "Network
              performance measurement with periodic streams", RFC 3432,
              DOI 10.17487/RFC3432, November 2002,
              <https://www.rfc-editor.org/info/rfc3432>.







Morton, et al.         Expires September 10, 2020              [Page 75]

Internet-Draft              Initial Registry                  March 2020


   [RFC4737]  Morton, A., Ciavattone, L., Ramachandran, G., Shalunov,
              S., and J. Perser, "Packet Reordering Metrics", RFC 4737,
              DOI 10.17487/RFC4737, November 2006,
              <https://www.rfc-editor.org/info/rfc4737>.

   [RFC5357]  Hedayat, K., Krzanowski, R., Morton, A., Yum, K., and J.
              Babiarz, "A Two-Way Active Measurement Protocol (TWAMP)",
              RFC 5357, DOI 10.17487/RFC5357, October 2008,
              <https://www.rfc-editor.org/info/rfc5357>.

   [RFC5481]  Morton, A. and B. Claise, "Packet Delay Variation
              Applicability Statement", RFC 5481, DOI 10.17487/RFC5481,
              March 2009, <https://www.rfc-editor.org/info/rfc5481>.

   [RFC5560]  Uijterwaal, H., "A One-Way Packet Duplication Metric",
              RFC 5560, DOI 10.17487/RFC5560, May 2009,
              <https://www.rfc-editor.org/info/rfc5560>.

   [RFC5905]  Mills, D., Martin, J., Ed., Burbank, J., and W. Kasch,
              "Network Time Protocol Version 4: Protocol and Algorithms
              Specification", RFC 5905, DOI 10.17487/RFC5905, June 2010,
              <https://www.rfc-editor.org/info/rfc5905>.

   [RFC6020]  Bjorklund, M., Ed., "YANG - A Data Modeling Language for
              the Network Configuration Protocol (NETCONF)", RFC 6020,
              DOI 10.17487/RFC6020, October 2010,
              <https://www.rfc-editor.org/info/rfc6020>.

   [RFC6049]  Morton, A. and E. Stephan, "Spatial Composition of
              Metrics", RFC 6049, DOI 10.17487/RFC6049, January 2011,
              <https://www.rfc-editor.org/info/rfc6049>.

   [RFC6673]  Morton, A., "Round-Trip Packet Loss Metrics", RFC 6673,
              DOI 10.17487/RFC6673, August 2012,
              <https://www.rfc-editor.org/info/rfc6673>.

   [RFC6991]  Schoenwaelder, J., Ed., "Common YANG Data Types",
              RFC 6991, DOI 10.17487/RFC6991, July 2013,
              <https://www.rfc-editor.org/info/rfc6991>.

   [RFC7011]  Claise, B., Ed., Trammell, B., Ed., and P. Aitken,
              "Specification of the IP Flow Information Export (IPFIX)
              Protocol for the Exchange of Flow Information", STD 77,
              RFC 7011, DOI 10.17487/RFC7011, September 2013,
              <https://www.rfc-editor.org/info/rfc7011>.






Morton, et al.         Expires September 10, 2020              [Page 76]

Internet-Draft              Initial Registry                  March 2020


   [RFC7323]  Borman, D., Braden, B., Jacobson, V., and R.
              Scheffenegger, Ed., "TCP Extensions for High Performance",
              RFC 7323, DOI 10.17487/RFC7323, September 2014,
              <https://www.rfc-editor.org/info/rfc7323>.

   [RFC7679]  Almes, G., Kalidindi, S., Zekauskas, M., and A. Morton,
              Ed., "A One-Way Delay Metric for IP Performance Metrics
              (IPPM)", STD 81, RFC 7679, DOI 10.17487/RFC7679, January
              2016, <https://www.rfc-editor.org/info/rfc7679>.

   [RFC7680]  Almes, G., Kalidindi, S., Zekauskas, M., and A. Morton,
              Ed., "A One-Way Loss Metric for IP Performance Metrics
              (IPPM)", STD 82, RFC 7680, DOI 10.17487/RFC7680, January
              2016, <https://www.rfc-editor.org/info/rfc7680>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [Strowes]  Strowes, S., "Passively Measuring TCP Round Trip Times,
              Communications of the ACM, Vol. 56 No. 10, Pages 57-64",
              September 2013.

   [Trammell-14]
              Trammell, B., "Inline Data Integrity Signals for Passive
              Measurement, In: Dainotti A., Mahanti A., Uhlig S. (eds)
              Traffic Monitoring and Analysis. TMA 2014. Lecture Notes
              in Computer Science, vol 8406.  Springer, Berlin,
              Heidelberg https://link.springer.com/
              chapter/10.1007/978-3-642-54999-1_2", March 2014.

14.2.  Informative References

   [RFC1242]  Bradner, S., "Benchmarking Terminology for Network
              Interconnection Devices", RFC 1242, DOI 10.17487/RFC1242,
              July 1991, <https://www.rfc-editor.org/info/rfc1242>.

   [RFC6390]  Clark, A. and B. Claise, "Guidelines for Considering New
              Performance Metric Development", BCP 170, RFC 6390,
              DOI 10.17487/RFC6390, October 2011,
              <https://www.rfc-editor.org/info/rfc6390>.

   [RFC6703]  Morton, A., Ramachandran, G., and G. Maguluri, "Reporting
              IP Network Performance Metrics: Different Points of View",
              RFC 6703, DOI 10.17487/RFC6703, August 2012,
              <https://www.rfc-editor.org/info/rfc6703>.





Morton, et al.         Expires September 10, 2020              [Page 77]

Internet-Draft              Initial Registry                  March 2020


   [RFC7594]  Eardley, P., Morton, A., Bagnulo, M., Burbridge, T.,
              Aitken, P., and A. Akhter, "A Framework for Large-Scale
              Measurement of Broadband Performance (LMAP)", RFC 7594,
              DOI 10.17487/RFC7594, September 2015,
              <https://www.rfc-editor.org/info/rfc7594>.

Authors' Addresses

   Al Morton
   AT&T Labs
   200 Laurel Avenue South
   Middletown,, NJ  07748
   USA

   Phone: +1 732 420 1571
   Fax:   +1 732 368 1192
   Email: acmorton@att.com


   Marcelo Bagnulo
   Universidad Carlos III de
         Madrid
   Av. Universidad 30
   Leganes, Madrid  28911
   SPAIN

   Phone: 34 91 6249500
   Email: marcelo@it.uc3m.es
   URI:   http://www.it.uc3m.es


   Philip Eardley
   BT
   Adastral Park, Martlesham Heath
   Ipswich
   ENGLAND

   Email: philip.eardley@bt.com


   Kevin D'Souza
   AT&T Labs
   200 Laurel Avenue South
   Middletown,, NJ  07748
   USA

   Phone: +1 732 420 xxxx
   Email: kld@att.com



Morton, et al.         Expires September 10, 2020              [Page 78]
