<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>TICTOC Problem Statement</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="TICTOC Problem Statement">
<meta name="keywords" content="timing, frequency, NTP, Internet-Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">TICTOC</td><td class="header">S. Bryant</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">Y(J). Stein</td></tr>
<tr><td class="header">Expires: October 11, 2008</td><td class="header">RAD Data Communications</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">April 09, 2008</td></tr>
</table></td></tr></table>
<h1><br />TICTOC Problem Statement<br />draft-bryant-tictoc-probstat-02.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on October 11, 2008.</p>

<h3>Abstract</h3>

<p>
  This Internet draft describes a number of applications that require accurate
  time and/or frequency, and elucidates difficulties related to the transfer of 
  high quality time and frequency across an IP or MPLS Packet Switched Network. 
  This issue is not addressed by any currently chartered IETF working group, 
  and we therefore propose the formation of a new working group 
  to be called Transmitting Timing over IP Connections and 
  Transfer of Clock (TICTOC).  
 
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Applications<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.</a>&nbsp;
Time Service Applications<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.2.</a>&nbsp;
Frequency Service Applications<br />
<a href="#anchor5">3.</a>&nbsp;
Existing Time and Frequency Transfer Mechanisms<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.</a>&nbsp;
Radio-based Timing Transfer Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.2.</a>&nbsp;
Dedicated Wire-based Timing Transfer Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.3.</a>&nbsp;
Transfer Using Packet Networks<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.3.1.</a>&nbsp;
The Packet Network Environment<br />
<a href="#anchor10">4.</a>&nbsp;
Problems with Existing Solutions<br />
<a href="#anchor11">5.</a>&nbsp;
Other Forums Working in this Problem Space<br />
<a href="#anchor12">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor13">7.</a>&nbsp;
Security Considerations<br />
<a href="#anchor14">8.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor15">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
  There is an emerging need to distribute highly accurate time and frequency information over IP 
  and over MPLS packet switched networks (PSNs). In this problem statement we give several examples 
  of applications that require time and/or frequency information, and explain why their needs 
  can not be satisfied by time/frequency transfer over PSNs using existing protocols. 
  We review these existing protocols and the work being carried out in the IETF and in other forums. 
  Finally, we list the objectives of a proposed Working Group.
 
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Applications</h3>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Time Service Applications</h3>

<p>
  There are many applications that need to know the time with greater precision than 
  provided by available mechanisms, such as the current version of NTP <a class='info' href='#RFC1305'>[RFC1305]<span> (</span><span class='info'>Mills, D., &ldquo;Network Time Protocol (Version 3) Specification, Implementation,&rdquo; March&nbsp;1992.</span><span>)</span></a>. 
  These applications span a range of industries: 
  telecommunications, financial, test and measurement, government, industrial etc. 
  Preliminary studies indicate that the availability of high accuracy time 
  as a commodity enables use of techniques that were previously considered impossible.  
  We can, therefore, expect that the provision of high quality time through the network 
  infrastructure 
will generate a spiral of new innovative applications that will in turn 
  make greater demands on the quality of time delivered to the end-user.
 
</p>
<p>
  The best-known example of an application that requires high quality time in the 
  telecommunications sector is the need to measure one-way packet delay.  
  Current implementations of NTP have accuracy of the order of 10 milliseconds. 
  When NTP is used to characterize packet delay and packet delay variation, 
  such a time-base cannot resolve any two party event 
  with a resolution of better than 20 milliseconds. 
  Contrast this with the characteristics of a 10 Gb/s link, 1 kilometer long. 
  On such a link, a minimum sized packet takes 50 nanoseconds to send, 
  and it takes 6 microseconds to traverse the link. 
  The performance of current NTP implementations is orders of magnitude worse 
  than the duration of network forwarding events, and clearly insufficient 
  to characterize them. 
 
</p>
<p>
  Although the measurement of the characteristics of a packet network is the 
  best-known telecommunications example, there are other operational needs, 
  notably synchronization at the MAC layer. 
  The cable industry has recently defined a new intra-PoP time transmission mechanism 
  for just this purpose (DOCSYS Timing Interface), 
  and WiMAX is looking for relative time delivery to its transmitter sites.
 
</p>
<p>
  In the test and measurement and industrial sector there is a desire to move 
  from special purpose communications infrastructure with calibrated wiring run back 
  to a centralize controller, to a distributed system, 
  in which instructions are distributed in advance to be executed at a predetermined time, 
  and in which measurements are taken remotely and communicated back to a common point 
  for later correlation and analysis. Two examples of this tendency are described below. 
 
</p>
<p>
  In the printing industry there is a need to control operations in multi-stand printing machines. 
  The paper travels through these machines at a speed of nearly 100 km/h. 
  At these speeds, co-ordination error of 1 microsecond between operations taking place at 
  different positions in the machine produces a 0.03mm color offset, 
  which is visible to the naked eye and results in an unacceptable degradation in quality. 
 
</p>
<p>
  In the electrical power industry there is a need to improve the measurement of power flows
  in order to monitor and predict usage patterns. 
  One proposal is to extensively deploy synchro-phasors in the power network 
  and to correlate their output to determine demand. 
  These devices need to be able to determine the time of measurement 
  with an accuracy of 1 microsecond.
 
</p>
<p>
  More generally, there is growing interest in clock synchronization
  in massively parallel sensor networks.
  Advances in wireless communications have enabled the development
  of low power miniature sensors that collect and disseminate data
  from their immediate environment.
  Although each sensor has limited processing power,
  through distributed processing the network becomes capable of
  performing various tasks of data fusion,
  but only assuming a common time base can be established.
 
</p>
<p>
  The examples cited above are a small illustration of a trend that will continue to grow 
  as designers realize that better scaling can be achieved with action-in-the-future, 
  measure-and-correlate-later approaches to systems design.
 
</p>
<p>
  Closer to the core interests and expertise of the IETF there is an emerging opinion that 
  the availability of time as a commodity may simplify the protocols that we use in 
  distributed systems.
 
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Frequency Service Applications</h3>

<p>
  There are applications that require time with a greater precision than can easily be provided using available mechanisms. 
  Cellular base-stations require a highly accurate frequency reference from which they derive 
  transmission frequencies and operational timing. 
  Conventionally GSM and WCDMA base stations obtain this reference frequency by locking on to the E1/T1 
  that links them to the base station controller. 
  With the replacement of TDM links with Packet Switched Networks (PSNs) 
  such as Ethernet, IP or MPLS, this simple method of providing a frequency reference is lost, 
  and frequency information must be made available in some other way.
 
</p>
<p>
  Why must the frequency reference be so accurate? 
  First and foremost the requirement is derived from the need for the radio frequencies 
  to be accurate. Radio spectrum is a limited and valuable commodity that needs to be 
  used as efficiently as possible. 
  In GSM, transmission frequencies are allocated to a given cellular base station and its neighbors 
  in such fashion as to ensure that they do not interfere with each other. 
  If the radio network designer cannot rely on the accuracy of these frequencies, 
  the spacing between the frequencies used by neighboring sites must be increased, 
  with significant economic consequences.
 
</p>
<p>
  There is an additional requirement derived from the need for smooth handover 
  when a mobile station crosses from one cell to another. 
  If the radio system designer can not guarantee that the preparations required for handover 
  occur in a few milliseconds, then they must allow the mobile station to 
  consume frequency resources simultaneously in both cells in order to avoid service disruption. 
  The preparations required involve agreement between the mobile and base stations on the 
  new frequencies and time offsets; these agreements can be accomplished quickly 
  when the two base stations' frequency references are the same to a high degree of accuracy.
 
</p>
<p>
  Another application requiring highly accurate frequency distribution is TDM pseudowires. 
  The PWE3 WG has produced three techniques for emulating traditional low-rate 
  (E1, T1, E3, T3) TDM services over PSNs, 
  namely SAToP <a class='info' href='#RFC4553'>[RFC4553]<span> (</span><span class='info'>Vainshtein, A. and YJ. Stein, &ldquo;Structure-Agnostic Time Division Multiplexing (TDM) over Packet (SAToP),&rdquo; June&nbsp;2006.</span><span>)</span></a>, CESoPSN, and TDMoIP. 
  The major technical barrier to universal acceptance of TDM pseudowires 
  is the accuracy of its clock recovery. 
 
</p>
<p>
  TDM network standards for timing accuracy and stability are extremely demanding. 
  These requirements are not capriciously dictated by standards bodies, 
  rather they are critical to the proper functioning of a high-speed TDM network. 
  Consider a TDM receiver utilizing its own clock when converting the physical signal back 
  into a bit-stream. If the receive clock runs at precisely the same rate as the source clock, 
  then the receiver need only determine the optimal sampling phase. 
  However, with any mismatch of clock rates, no matter how small, bit slips will eventually occur. 
  For example, if the receive clock is slower than the source clock by one part per million (ppm), 
  then the receiver will output 999,999 bits for every 1,000,000 bits sent, thus deleting one bit. 
  Similarly, if the receive clock is faster than the source clock by one part per billion (ppb), 
  the receiver will insert a spurious bit every billion bits. 
  One bit slip every million bits may seem acceptable at first glance, 
  but translates to a catastrophic two errors per second for a 2 Mb/s E1 signal. 
  ITU-T recommendations permit a few bit slips per day for a low-rate 64 kb/s channel, 
  but strive to prohibit bit slips entirely for higher-rate TDM signals.
 
</p>
<p>
  In certain cases, such as "toll-bypass" or "carrier's carrier" links, 
  the endpoints of the TDM PW are full TDM networks, and timing may (indeed must) 
  be derived from the respective network clocks. 
  Since each of these clocks is highly accurate, they necessarily agree to high order. 
  However, TDM PWs are expected to increasingly replace native TDM links delivering services 
  from core networks towards users, and here there is no alternative to provision of 
  accurate frequency information. 
 
</p>
<p>
  In this context there are two types of frequency distribution being studied. 
  In the first type the frequency reference used by the TDM source is distributed downstream, 
  as in the native TDM service. 
  In the "common clock" scenario highly accurate frequency information is distributed 
  from a central server to both ends of the emulated TDM link. 
  By placing in the protocol overhead timestamps based on the common clock, 
  the receiver can accurately recover the TDM source clock.
 
</p>
<p>
  While it is true that services designed for PSN (e.g. VoIP) transport are 
  less dependent on frequency accuracy, there are still cases where such services need 
  accurate frequency distribution. 
  For example, when interconnecting tradition telephones via VoIP links, 
  users expect these links to support legacy services, such as facsimile and dial-up data modems. 
  The optimal technique for supporting these services is by provision of relay functions, 
  e.g. T.38 fax-relay and V.150 modem-relay, that terminate the analog transmissions on both sides 
  and transfer data content over the PSN. 
  However, provision of relay services is computationally expensive, 
  often requires expensive DSP-capable media gateways, 
  and can only support known modem types. 
  In many deployments old fax machines or proprietary data modems or 
  secure voice telephones are used, and the modulations and handshake protocols 
  are not recognized by the relays provided. In such cases the solution is 
  to carry these transmissions over "clear channel" or Voice Band Data (VBD), 
  i.e. to send raw samples of the audio in packets over the PSN. 
 
</p>
<p>
  The problem with clear channel transfer of data over PSNs is that the end points 
  expect a non-intrusive analog channel between them, 
  over which they implicitly transfer timing information. 
  The receiver can thus continually lock onto the transmitter's frequency, 
  and the transmission can continue for an unlimited period without interruption. 
  When employing clear channel, the frequency signal seen by the receiver is 
  influenced by the destination gateway's clock used to convert the data samples 
  back to analog form. 
  If the source and destination gateways' clocks do not agree to a high degree of accuracy, 
  the receiver does not properly lock onto the transmitter's clock, 
  leading to disruption of the data reception. 
  In typical cases a modem conversation transferred over clear channel 
  may drop after only several minutes, and fax reception may be interrupted 
  after several pages have been received.
 
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Existing Time and Frequency Transfer Mechanisms</h3>

<p>
  In this section we will discuss existing mechanisms for transfer
  of time information, frequency information, or both.
  It should be noted that a sufficiently accurate time transfer service 
  may be used to derive an accurate frequency transfer. 
  Indeed, this is exactly what happens in a GPS disciplined frequency standard.  
  On the other hand, an accurate frequency transfer service, 
  while itself unable to transfer absolute time, 
  is usually used to support and improve the performance of the time transfer service. 
  Indeed, implementations of NTP or IEEE 1588 clients can be considered to consist of two phases. 
  First, a local oscillator is locked to the server's frequency using incoming
  information from the incoming packets, 
  and then the local time set based on the server's time and the propagation latency. 
  By maintaining a local frequency source, the client requires relatively infrequent updates, 
  and can continue functioning during short periods of network outage.
  Moreover, it can be shown that this method results in significantly better
  time transfer accuracy than methods that do not discipline a local clock.
 
</p>
<p>
  Time transfer mechanisms can be divided into three classes.
  The first class consists of mechanisms that use radio frequency transport, 
  while the second mechanism uses dedicated "wires" (which for our purposes include
  optical fibers). 
  The third, which will be our main focus, exploits a Packet Switched Network
  for transfer of timing information.
  Advantages and disadvantages of these three methods are discussed 
  in the following subsections.
 
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Radio-based Timing Transfer Methods</h3>

<p>
  The transfer of time by radio transmission is one of the oldest methods available, 
  and is still the most accurate wide area method. 
  In particular, there are two navigation in wide use that can be used for time transfer, 
  The LOng RAnge Navigation (LORAN) terrestrial radio system, 
  and the Global Navigation Satellite System (GNSS). 
  In both cases the user needs to be able to receive the transmitted signal, 
  requiring access to a suitable antenna.
  In certain situations, e.g. basement communications rooms and urban canyons,
  the required signal may not be receivable.
 
</p>
<p>
  Radio systems have high accuracy, far better than what we will later see
  can be achieved by existing PSN technologies. 
  However coverage is limited; eLORAN for example only covers North America, 
  and GPS does not have good coverage near the poles. 
 
</p>
<p>
  Although civilian use is sanctioned, the GPS was developed and is operated 
  by the U.S. Department of Defense as a military system.
  For this reason there are political concerns that rules out its use
  in certain countries. The European Union is working on an alternative
  system called Galileo, which will be run as a commercial enterprise.
  In addition, GPS has some well-documented multi-hour outages, 
  and is considered vulnerable to jamming. 
  One major PTT also reports that they see a 2% per year failure rate for the 
  antenna/receiver/clock-out chain.
 
</p>
<p>
  While a radio-based timing service may be acceptable for some sites, 
  it is frequently impractical to use on a per equipment basis. 
  Hence, some form of local timing distribution is usually also required.
 
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Dedicated Wire-based Timing Transfer Methods</h3>

<p>
  The use of dedicated networks in the wide area does not scale well. 
  Such services were available in the past, 
  but for reasons of cost and accuracy have been superseded by GPS based solutions.
 
</p>
<p>
  In the local area, one new technique is emerging as a mechanism for time transport, 
  namely DOCSIS Timing Interface / Telecommunications Timing Interface (DTI/TTI). 
  DTI was designed by DOCSIS for the distribution of time in a cable head-end 
  in support of media access control. 
  Time transfer is packet-based over a multi-stage hub and spoke dedicated network. 
  It uses a single twisted-pair in half-duplex to eliminate inaccuracies due to  
  the length differences between the pairs in a multi-pair cable. 
  TTI is a development of DTI designed to provide synchronization in a telephone local office. 
  Accuracy for DTI is better than 5 nanoseconds and range is 100 feet for DTI. 
  This increases to 600 feet for TTI at some reduction in packet rate and hence time quality.
 
</p>
<p>
  The DTI/TTI approach is applicable for special applications, 
  but the need for a dedicated network imposes significant drawbacks 
  for the general time transfer case. 
 
</p>
<p>
  Synchronous Ethernet is a technique that has recently been proposed for providing 
  frequency distribution over Ethernet links. Modern dedicated-media full-duplex Ethernet, 
  in both copper and optical physical layer variants, transmits continuously. 
  One can thus elect to derive the physical layer transmitter clock from a 
  high quality frequency reference, instead of the conventional 100 ppm 
  crystal-derived transmitter rate. 
  The receiver at the other end of the link automatically locks onto the physical layer clock 
  of the received signal, and thus itself gain access to a highly accurate and stable frequency reference. 
  Then, in TDM fashion, this receiver could lock the transmission clock of its other ports 
  to this frequency reference. 
 
</p>
<p>
  The ITU-T is presently working on a specification for synchronous Ethernet. 
  Apart from some necessary higher layer packet based configuration and OAM operations, 
  the solution is entirely physical layer, and has no impact on higher layers. 
 
</p>
<p>
  At first sight it would seem that the only application of synchronous Ethernet 
  was in frequency transfer (it has no intrinsic time transfer mechanism). 
  However, the quality of packet-based time transfer mechanism 
  can be considerably enhanced if used in conjunction with synchronous Ethernet
  as a frequency reference. 
 
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Transfer Using Packet Networks</h3>

<p>
  When using a PSN to transfer timing, a server sends timing information
  in the form of packets to one or multiple clients.
  When there are multiple clients, the timing packets may be multicast.
  Software in the client recovers the frequency and/or time of the server
  based on the packet arrival time and the packet contents.
 
</p>
<p>
  There are two well-known protocols capable of running over a general-purpose packet network, 
  NTP <a class='info' href='#RFC1305'>[RFC1305]<span> (</span><span class='info'>Mills, D., &ldquo;Network Time Protocol (Version 3) Specification, Implementation,&rdquo; March&nbsp;1992.</span><span>)</span></a>, and IEEE 1588 <a class='info' href='#1588'>[1588]<span> (</span><span class='info'>IEEE, &ldquo;1588-2002 Standard for        A Precision Clock Synchronization Protocol for Networked Measurement and Control Systems,&rdquo; .</span><span>)</span></a>.
  NTP is the product of the IETF, and is currently undergoing revision to version 4.
  IEEE 1588 (a product of the IEEE Test and Measurement community) is 
  specified in a limited first version, and the second version (1588v2)is
  in the detailed design stage.
 
</p>
<p>
  NTP is widely deployed, but existing implementations deliver accuracy 
  on the order of 10 milliseconds. 
  This accuracy is not adequate for the applications described above. 
  NTP suffers from the fact that it was designed to operate over the Internet, 
  and the routers and switches used in the best effort Internet 
  make no special concessions to NTP for preservation of time transfer accuracy. 
  Furthermore, typical update rates are low and can not be significantly increased 
  due to scalability issues in the server. 
  In addition most NTP time servers and time receivers have a relatively 
  unsophisticated implementation that further degrades the final time quality.  
 
</p>
<p>
  IEEE 1588v1 was a time transfer protocol that exclusively used a fairly crude multicast technique. 
  It is widely anticipated that wide scale deployment of IEEE1588 will be based on 1588v2. 
  The information exchange component of IEEE 1588 is a protocol known as Precision Time Protocol (PTP).
 
</p>
<p>
  IEEE 1588v2 can be considered to consist of several components:
  </p>
<ol class="text">
<li> A configuration and control protocol 
</li>
<li> A time transfer protocol 
</li>
<li> A time correction protocol 
</li>
<li> Physical mapping 
</li>
</ol><p>
 
</p>
<p>
  The configuration and control protocol is based on the multicast approach of IEEE 1588v1 
  (multicast IP with recommended TTL=1, UDP, IEEE1588 payload with equipment identifier 
  in the payload). The rationale for this approach was that the equipment needed to be "plug and play"
  (no configuration), was required to map to physical media other than Ethernet,
  and had to have a very low memory and processor footprint.
 
</p>
<p>
  The time transfer protocol is a standard two-way time transfer approach 
  used in other packet-based approaches. 
  Like all such approaches it is subject to inaccuracies due to 
  variable store and forward delays in the packet switches, 
  and due to the assumption of symmetric propagation delays. 
  The time transfer packets (in both directions) may be operated in a multicast  
  or unicast mode.
 
</p>
<p>
  The time correction protocol is used to correct for propagation, store and forward delays
  in the packet switches. This again may be operated multicast or unicast. 
  This mechanism requires some level of hop-by-hop hardware support. 
  This mechanism may also be considered a concept in its own right 
  and may be adapted to enhance other packet time transfer protocols such as NTP.
 
</p>
<p>
  The base 1588 specification describes how the PTP operates over the Ethernet/IP/UDP
  protocol stack. 
  Annexes are planned that describe PTP operation over pure layer 2 Ethernet,
  over IP without UDP, over MPLS, and over a number of specialist media.
 
</p>
<p>
  The mappings of interest for telecommunications are PTP over UDP/IP, PTP over MPLS , 
  and perhaps PTP over Ethernet, all in unicast mode only.  
  Issues of a suitable control management and OAM environment 
  for these applications are largely in abeyance, 
  as are considerations about the exact nature of the network environment.
 
</p>
<p>
  It is also worth noting the existence of a second IEEE effort, IEEE 802.1AS. 
  This group is specifying the protocol and procedures to ensure  
  synchronization across Bridged and Virtual Bridged Local Area Networks
  for time sensitive applications such as audio and video.
  For these LAN media the transmission delays are assumed to be fixed and symmetrical.
  IEEE 802.1AS specifies the use of IEEE 1588 specifications where applicable 
  in the context of IEEE Standards 802.1D and 802.1Q. 
  Synchronization to an externally provided timing signal 
  (e.g., a recognized timing standard such as UTC or TAI) 
  is not part of this standard but is not precluded. 
  IEEE 802.1AS will specify how stations attached to bridged LANs to meet 
  the respective jitter, wander, and time synchronization requirements 
  for time-sensitive applications.
 
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1"></a><h3>3.3.1.&nbsp;
The Packet Network Environment</h3>

<p>
  Packet delay variation, propagation asymmetry, and maximum permissible packet rate 
  all have a significant bearing on the accuracy with which the client is able to 
  determine absolute time. 
  Thus the network environment has a large bearing on the quality of time that can be delivered. 
 
</p>
<p>
  Packet delay variation can to some extent be addressed by traffic engineering, 
  thus time transfer with a service provider network in which suitable 
  traffic engineering techniques had been applied might reasonably be expected 
  to deliver a higher quality time service than can be achieved 
  between two arbitrary hosts connected to the Internet. 
  Greater gains can probably be obtained by deploying equipment that incorporates IEEE 1588 style 
  on-the-fly packet timestamp correction, or follow-up message mechanisms 
  that report the packet storage and forward delays to the client. 
  However one can only be sure that such techniques are available along the entire path 
  in a well-controlled environment.
 
</p>
<p>
  The packet rate between the time-server and its client also has a bearing on 
  the quality of the time transfer, because at a higher rate the smart filter has 
  a better chance of extracting the "good" packets. 
  In a controlled environment it is possible to ensure that there is adequate bandwidth, 
  and that the server is not overloaded. 
  In such an environment the onus moves from protecting the server from overload, 
  to ensuring that the server can satisfy the needs of all of the clients.
 
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Problems with Existing Solutions</h3>

<p>
  An obvious candidate for clock distribution is NTP or some upgrade thereof. 
  While the time resolution provided by NTP is extremely good, 
  the accuracy attainable by existing NTP implementations does not satisfy 
  the needs of the most demanding of the applications, 
  mainly due to update rate and the particular client/server method employed.  
 
</p>
<p>
  The new IEEE 1588v2 protocol also addresses these needs, 
  but has been largely designed around a well-controlled LAN environment. 
  A 1588 server in unicast mode needs to save state information for each client, 
  a solution that does not scale well to deployment sizes envisioned. 
  In addition, 1588 specifies hardware upgrades in order to perform well in an IP network.
 
</p>
<p>
  Synchronous Ethernet only satisfies the need for frequency distribution, 
  and even then only over one physical Ethernet link at a time. 
  In order to use synchronous Ethernet in a network,
  all network elements must be upgraded to support synchronous operation at the physical layer.
  Even when hardware can be upgraded, only frequency is delivered,
  and there is still a need to develop a time transfer protocol. 
 
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Other Forums Working in this Problem Space</h3>

<p>
  The NTP WG is the IETF group working on time distribution, 
  but is presently only documenting NTPv4 and is not working on new algorithms or protocols. 
  It is expected that many participants of the NTP WG will participate in the TICTOC effort.
 
</p>
<p>
  The PWE3 WG has discussed frequency distribution for the TDM PW application, 
  however it is not chartered to develop protocols for this purpose. 
  It is expected that participants of the PWE3 WG who were active in the TDM PW discussions 
  will participate in the TICTOC effort.
 
</p>
<p>
  The work that is underway outside the IETF is either complementary to this proposal, 
  or less general than the proposal proposed by the TICTOC work proposal.
 
</p>
<p>
  The IEEE 1588 task force is working on a new version of their protocol that will run over 
  more types of PSNs, and is planning to conclude its development work in the near future. 
  The protocol to be specified contains elements that will be of use in an IETF environment, 
  but is unlikely to be regarded as being a complete, robust solution in such an environment. 
  If the IEEE 1588 structure is deemed to be a suitable platform, 
  then the IETF could contribute an Internet profile, 
  including a complete distributed systems environment suitable for our purposes.
  Alternatively, the IETF could perhaps borrow some of the delay correction mechanisms and 
  incorporate them into a development of a new version of NTP. 
 
</p>
<p>
  In addition, IEEE 802.1AS is working on Timing and Synchronization for Time-Sensitive Applications 
  in Bridged Local Area Networks, basing itself on the IEEE 1588 standard. 
 
</p>
<p>
  ITU-T SG15 Question 13 has produced Recommendation G.8261 
  "Timing and synchronization aspects in packet networks" <a class='info' href='#G8261'>[G8261]<span> (</span><span class='info'>ITU-T, &ldquo;Recommendation G.8261/Y.1361 - Timing and synchronization aspects in packet networks,&rdquo; May&nbsp;2006.</span><span>)</span></a>. 
  This Recommendation defines requirements for various scenarios, 
  outlines the functionality of frequency distribution elements, 
  and provides measurement guidelines. 
  It does not specify algorithms to be used for attaining the performance needed. 
  It does define requirements for status synchronization messages, 
  but does not otherwise define a protocol
  (although work is in progress). 
  To date the ITU-T has focused on Ethernet infrastructure, 
  but this is likely to extend to an MPLS environment.
  Two new work items, G.paclock and G.pacmod extend the work, and in particular, 
  G.pacmod intends to introduce time transfer.   
  This is an area where the IETF, with its expertise in IP and MPLS networks, 
  may co-operate with the ITU. 
 
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
  Time and frequency services are a significant element of network infrastructure, 
  and are critical for certain emerging applications. 
  Hence time and frequency transfer services MUST be protected from being compromised. 
  The most significant threat is a false time or frequency server being
  accepted instead of a true one, thus enabling a hacker to bring down
  critical services.
 
</p>
<p>
  Any protection mechanism must be designed in such a way that it does not 
  degrade the quality of the time transfer. 
  Such a mechanism SHOULD also be relatively lightweight, 
  as client restrictions often dictate a low processing and memory footprint, 
  and because the server may have extensive fan-out.
 
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>
  Timing distribution is highly sensitive to packet delay, and can thus can deteriorate 
  under congestion conditions. 
  Furthermore the disciplining of the client's oscillator 
  (the sole component of frequency transfer, and a critical component of time transfer) 
  is a function that should not be disrupted. 
  When the service is disrupted the client needs to go into "holdover" mode,
  and its accuracy will consequently be degraded. 
  Depending on the relative quality of the client's clock and the required quality after disciplining, 
  a relatively high packet rate may be required. 
 
</p>
<p>
  Timing tranfer packets should always be sent using the highest class of service,
  and when possible should be sent over a traffic engineered path.
 
</p>
<p>
  When the network goes into congestion it should try to avoid discarding time transfer packets 
  until the situation is critical.  
  Work performed by the IETF PWE3 WG on congestion would seem to be applicable to this problem area.
 
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>
  No IANA actions are required as a result of the publication of this document.
 
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>
  The authors wish to thank Laurent Montini for valuable comments.
 
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="1588">[1588]</a></td>
<td class="author-text">IEEE, &ldquo;1588-2002 Standard for 
      A Precision Clock Synchronization Protocol for Networked Measurement and Control Systems.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="G8261">[G8261]</a></td>
<td class="author-text">ITU-T, &ldquo;Recommendation G.8261/Y.1361 - Timing and synchronization aspects in packet networks,&rdquo; May&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1305">[RFC1305]</a></td>
<td class="author-text"><a href="mailto:mills@udel.edu">Mills, D.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1305">Network Time Protocol (Version 3) Specification, Implementation</a>,&rdquo; RFC&nbsp;1305, March&nbsp;1992 (<a href="http://www.rfc-editor.org/rfc/rfc1305.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc1305.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4553">[RFC4553]</a></td>
<td class="author-text">Vainshtein, A. and YJ. Stein, &ldquo;<a href="http://tools.ietf.org/html/rfc4553">Structure-Agnostic Time Division Multiplexing (TDM) over Packet (SAToP)</a>,&rdquo; RFC&nbsp;4553, June&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4553.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Stewart Bryant</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">250 Longwater Ave., Green Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Reading  RG2 6GB</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">United Kingdom</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:stbryant@cisco.com">stbryant@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yaakov (Jonathan) Stein</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">RAD Data Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">24 Raoul Wallenberg St., Bldg C</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tel Aviv  69719</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ISRAEL</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+972 3 645-5389</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yaakov_s@rad.com">yaakov_s@rad.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
