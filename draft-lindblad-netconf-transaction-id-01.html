<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Transaction ID Mechanism for NETCONF</title>
<meta content="Jan Lindblad" name="author">
<meta content="
       NETCONF clients and servers often need to have a synchronized view of
the server's configuration data stores.  The volume of configuration 
data in a server may be very large, while data store changes typically
are small when observed at typical client resynchronization intervals. 
       Rereading the entire data store and analyzing the response for changes
is an inefficient mechanism for synchronization.  This document 
specifies an extension to NETCONF that allows clients and servers to
keep synchronized with a much smaller data exchange and without any
need for servers to store information about the clients. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-lindblad-netconf-transaction-id-01" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-lindblad-netconf-transaction-id-01-e67rxbok.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">NCTID</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Lindblad</td>
<td class="center">Expires 25 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">NETCONF</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-lindblad-netconf-transaction-id-01</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-22" class="published">22 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-25">25 April 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Lindblad</div>
<div class="org">Cisco Systems</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Transaction ID Mechanism for NETCONF</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">NETCONF clients and servers often need to have a synchronized view of
the server's configuration data stores.  The volume of configuration 
data in a server may be very large, while data store changes typically
are small when observed at typical client resynchronization intervals.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">Rereading the entire data store and analyzing the response for changes
is an inefficient mechanism for synchronization.  This document 
specifies an extension to NETCONF that allows clients and servers to
keep synchronized with a much smaller data exchange and without any
need for servers to store information about the clients.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Source for this draft and an issue tracker can be found at
  <span><a href="https://github.com/janlindblad/netconf-transaction-id">https://github.com/janlindblad/netconf-transaction-id</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 25 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-and-definitions" class="xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-netconf-transaction-id-exte" class="xref">NETCONF Transaction id Extension</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-general-principles" class="xref">General Principles</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-conditional-transactions" class="xref">Conditional Transactions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-other-netconf-operations" class="xref">Other NETCONF Operations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-etag-transaction-id-mechani" class="xref">ETag Transaction id Mechanism</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-etag-attribute" class="xref">ETag attribute</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-configuration-retreival" class="xref">Configuration Retreival</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-initial-configuration-respo" class="xref">Initial Configuration Response</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-configuration-response-prun" class="xref">Configuration Response Pruning</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-configuration-update" class="xref">Configuration Update</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-conditional-configuration-u" class="xref">Conditional Configuration Update</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-etags-with-other-netconf-op" class="xref">ETags with Other NETCONF Operations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-yang-modules" class="xref">YANG Modules</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-changes" class="xref">Changes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-major-changes-in-01-since-0" class="xref">Major changes in -01 since -00</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">When a NETCONF client connects with a NETCONF server, a frequently 
occurring use case is for the client to find out if the configuration 
has changed since it was last connected.  Such changes could occur for 
example if another NETCONF client has made changes, or another system 
or operator made changes through other means than NETCONF.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">One way of detecting a change for a client would be to 
retrieve the entire configuration from the server, then compare 
the result with a previously stored copy at the client side.  This 
approach is not popular with most NETCONF users, however, since it 
would often be very expensive in terms of communications and 
computation cost.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Furthermore, even if the configuration is reported to be unchanged, 
that will not guarantee that the configuration remains unchanged 
when a client sends a subsequent change request, a few moments later.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Evidence of a transaction id feature being demanded by clients is that 
several server implementors have built proprietary and mutually 
incompatible mechanisms for obtaining a transaction id from a NETCONF 
server.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">RESTCONF, <a href="https://tools.ietf.org/html/rfc8040">RFC 8040</a>, 
defines a mechanism for detecting changes in configuration subtrees 
based on Entity-tags (ETags).  In conjunction with this, RESTCONF 
provides a way to make configuration changes conditional on the server
confiuguration being untouched by others.  This mechanism leverages 
<a href="https://tools.ietf.org/html/rfc7232">RFC 7232</a> 
"Hypertext Transfer Protocol (HTTP/1.1): Conditional Requests".<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">This document defines similar functionality for NETCONF, 
<a href="https://tools.ietf.org/html/rfc6241">RFC 6241</a>.<a href="#section-1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>
when, and only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="netconf-transaction-id-extension">
<section id="section-3">
      <h2 id="name-netconf-transaction-id-exte">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-netconf-transaction-id-exte" class="section-name selfRef">NETCONF Transaction id Extension</a>
      </h2>
<p id="section-3-1">This document describes a NETCONF extension which modifies the 
behavior of get-config, get-data, edit-config, edit-data,
discard-changes, copy-config, delete-config and commit such
that clients are able to conditionally retrieve and update the 
configuration in a NETCONF server.  NETCONF servers that support 
this extension MUST announce the capability 
"urn:ietf:params:netconf:capability:txid:1.0".<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Several low level mechanisms could be defined to fulfill the 
requirements for efficient client-server transaction id 
synchronization.  This document defines only one mechanism, but 
additional mechanisms could be added in future versions of this 
document, or in separate documents.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The common use cases for such mecahnisms are briefly discussed here.<a href="#section-3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-3-4">
        <dt id="section-3-4.1">
Initial configuration retrieval  </dt>
        <dd style="margin-left: 1.5em" id="section-3-4.2">
          <p id="section-3-4.2.1">When the client initially connects to a server, it may be interested 
to acquire a current view of (parts of) the server's configuration.<br>
In order to be able to efficiently detect changes later, it may also 
be interested to store meta level transaction id information about 
subtrees of the configuration.<a href="#section-3-4.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-4.3">
Subsequent configuration retrieval  </dt>
        <dd style="margin-left: 1.5em" id="section-3-4.4">
          <p id="section-3-4.4.1">When a client needs to reread (parts of) the server's configuration, 
it may be interested to leverage the transaction id meta data it has 
stored by requesting the server to prune the response so that it does 
not repeat configuration data that the client is already aware of.<a href="#section-3-4.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-4.5">
Configuration update with transaction id return  </dt>
        <dd style="margin-left: 1.5em" id="section-3-4.6">
          <p id="section-3-4.6.1">When a client issues a transaction towards a server, it may be 
interested to also learn the new transaction id meta data the server 
has stored for the updated parts of the configuration.<a href="#section-3-4.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-4.7">
Configuration update with transaction id specification  </dt>
        <dd style="margin-left: 1.5em" id="section-3-4.8">
          <p id="section-3-4.8.1">When a client issues a transaction towards a server, it may be 
interested to also specify the new transaction id meta data that the 
server stores for the updated parts of the configuration.<a href="#section-3-4.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-4.9">
Conditional configuration update  </dt>
        <dd style="margin-left: 1.5em" id="section-3-4.10">
          <p id="section-3-4.10.1">When a client issues a transaction towards a server, it may specify 
transaction id data for the transaction in order to allow the server to 
verify that the client is up to date with any changes in the parts of 
the configuration that it is concerned with.  If the transaction id 
information in the server is different than the client expected, the 
server rejects the transaction with a specific error message.<a href="#section-3-4.10.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
<div id="general-principles">
<section id="section-3.1">
        <h3 id="name-general-principles">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-general-principles" class="section-name selfRef">General Principles</a>
        </h3>
<p id="section-3.1-1">All transaction id mechanisms SHALL maintain a transaction id value for 
each configuration datastore supported by the server.  Some transaction 
id mechanisms will also maintain transaction id values for elements 
deeper in the YANG data tree.  The elements for which the server 
maintains transaction ids are collectively referred to as the 
"versioned elements".<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">The server returning transaction id values for the versioned elements 
MUST ensure the transaction id values are changed every time there has 
been a configuration change at or below the element associated with 
the value.  This means any update of a config true element will result 
in a new transaction id value for all ancestor versioned elements, up 
to and including the datastore root itself.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">This also means a server MUST update the transaction id value for any 
elements that change as a result of a configuration change, regardless 
of source, even if the changed elements are not explicitly part 
of the change payload. An example of this is dependent data under 
YANG <a href="https://tools.ietf.org/html/rfc7950">RFC 7950</a> when- or 
choice-statements.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">The server MUST NOT change the transaction id value of a versioned 
element unless a child element of that element has been changed.  The 
server MUST NOT change any transaction id values due to changes in 
config false data.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conditional-transactions">
<section id="section-3.2">
        <h3 id="name-conditional-transactions">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-conditional-transactions" class="section-name selfRef">Conditional Transactions</a>
        </h3>
<p id="section-3.2-1">Conditional transactions are useful when a client is interested to
make a configuration change, being sure that the server configuration
has not changed since the client last inspected it.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">By supplying the latest transaction id values known to the client
in its change requests (edit-config etc.), it can request the server 
to reject the transaction in case any relevant changes have occurred 
at the server that the client is not yet aware of.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">This allows a client to reliably compute and send confiuguration 
changes to a server without either acquiring a global datastore lock 
for a potentially extended period of time, or risk that a change 
from another client disrupts the intent in the time window between a 
read (get-config etc.) and write (edit-config etc.) operation.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">If the server rejects the transaction because the configuration 
transaction id value differs from the client's expectation, the 
server MUST return an rpc-error with the following values:<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.2-5">
<pre>
   error-tag:      operation-failed
   error-type:     protocol
   error-severity: error
</pre><a href="#section-3.2-5" class="pilcrow">¶</a>
</div>
<p id="section-3.2-6">Additionally, the error-info tag SHOULD contain an sx:structure
containing relevant details about the mismatching transaction ids.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="other-netconf-operations">
<section id="section-3.3">
        <h3 id="name-other-netconf-operations">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-other-netconf-operations" class="section-name selfRef">Other NETCONF Operations</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-3.3-1">
          <dt id="section-3.3-1.1">
discard-changes  </dt>
          <dd style="margin-left: 1.5em" id="section-3.3-1.2">
            <p id="section-3.3-1.2.1">The discard-changes operation resets the candidate datastore to the 
contents of the running datastore.  The server MUST ensure the 
transaction id values in the candidate datastore get the same values 
as in the running datastore when this operation runs.<a href="#section-3.3-1.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-1.3">
copy-config  </dt>
          <dd style="margin-left: 1.5em" id="section-3.3-1.4">
            <p id="section-3.3-1.4.1">The copy-config operation can be used to copy contents between 
datastores.  The server MUST ensure the transaction id values retain 
the same values as in the soruce datastore.<a href="#section-3.3-1.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-1.5"></dt>
          <dd style="margin-left: 1.5em" id="section-3.3-1.6">
            <p id="section-3.3-1.6.1">If copy-config is used to copy from a file, URL or other source that 
is not a datastore, the server MUST ensure the transaction id values 
are changed.<a href="#section-3.3-1.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-1.7">
delete-config  </dt>
          <dd style="margin-left: 1.5em" id="section-3.3-1.8">
            <p id="section-3.3-1.8.1">The server MUST ensure the datastore transaction id value is changed.<a href="#section-3.3-1.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-3.3-1.9">
commit  </dt>
          <dd style="margin-left: 1.5em" id="section-3.3-1.10">
            <p id="section-3.3-1.10.1">At commit, with regards to the transaction id values, the server MUST 
treat the contents of the candidate datastore as if any transaction id 
value provided by the client when updating the candidate was provided 
in a single edit-config towards the running datastore.  If the 
transaction is rejected due to transaction id value mismatch, 
an rpc-error as described in section
<span><a href="#conditional-transactions" class="xref">Conditional Transactions</a> (<a href="#conditional-transactions" class="xref">Section 3.2</a>)</span> MUST be sent.<a href="#section-3.3-1.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="etag-transaction-id-mechanism">
<section id="section-4">
      <h2 id="name-etag-transaction-id-mechani">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-etag-transaction-id-mechani" class="section-name selfRef">ETag Transaction id Mechanism</a>
      </h2>
<div id="etag-attribute">
<section id="section-4.1">
        <h3 id="name-etag-attribute">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-etag-attribute" class="section-name selfRef">ETag attribute</a>
        </h3>
<p id="section-4.1-1">Central to the ETag configuration retrieval and update mechanism 
described in the following sections is a meta data XML attribute 
called "etag".  The etag attribute is defined in the namespace 
"urn:ietf:params:xml:ns:netconf:txid:1.0".<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">Servers MUST maintain a top-level etag value for each configuration 
datastore they implement.  Servers SHOULD maintain etag values for 
YANG containers that hold configuration for different subsystems.<br>
Servers MAY maintain etag values for any YANG container or list 
element they implement.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The etag attribute values are opaque UTF-8 strings chosen freely, 
except that the etag string must not contain space, backslash 
or double quotes. The point of this restriction is to make it easy to 
reuse implementations that adhere to section 2.3.1 in 
<a href="https://tools.ietf.org/html/rfc7232">RFC 7232</a>.  The probability 
SHOULD be made very low that an etag value that has been used 
historically by a server is used again by that server.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">The detailed rules for when to update the etag value are described in 
section <span><a href="#configuration-update" class="xref">Configuration Update</a> (<a href="#configuration-update" class="xref">Section 4.3</a>)</span>.  These rules 
are chosen to be consistent with the ETag mechanism in 
RESTCONF, <a href="https://tools.ietf.org/html/rfc8040">RFC 8040</a>, 
specifically sections 3.4.1.2, 3.4.1.3 and 3.5.2.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="configuration-retreival">
<section id="section-4.2">
        <h3 id="name-configuration-retreival">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-configuration-retreival" class="section-name selfRef">Configuration Retreival</a>
        </h3>
<p id="section-4.2-1">Clients MAY request the server to return etag attribute values in the 
response by adding one or more etag attributes in get-config or 
get-data requests.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">The etag attribute may be added directly on the get-config or get-data 
requests, in which case it pertains to the entire datastore.  A client
MAY also add etag attributes to zero or more individual elements in 
the get-config or get-data filter, in which case it pertains to the
subtree rooted at that element.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">For each element that the client requests etag attributes, the server 
MUST return etags for all versioned elements at or below that point 
that are part of the server's respone.  ETags are returned as 
attributes on the element they pertain to.  The datastore root etag 
value is returned on the top-level data tag in the response.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">If the client is requesting an etag value for an element that is not 
among the server's versioned elements, then the server MUST return the 
etag attribute on the closest ancestor that is a versioned element, 
and all children of that ancestor.  The datastore root is always a 
versioned element.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<div id="initial-configuration-response">
<section id="section-4.2.1">
          <h4 id="name-initial-configuration-respo">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-initial-configuration-respo" class="section-name selfRef">Initial Configuration Response</a>
          </h4>
<p id="section-4.2.1-1">When the client adds etag attributes to a get-config or get-data 
request, it should specify the last known etag values it has seen for 
the elements it is asking about.  Initially, the client will not know 
any etag value and should use "?".<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">To retrieve etag attributes across the entire NETCONF server 
configuration, a client might send:<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-3">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config txid:etag="?"/&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.2.1-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-4">To retrieve etag attributes for a specific interface using an xpath 
filter, a client might send:<a href="#section-4.2.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-5">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter type="xpath"
      xmlns:if="urn:ietf:params:xml:ns:yang:ietf-interfaces"
      select=
        "/if:interfaces/if:interface[if:name='GigabitEthernet-0/0']"
      txid:etag="?"/&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.2.1-5" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-6">To retrieve etag attributes for "ietf-interfaces", but not for "nacm",
a client might send:<a href="#section-4.2.1-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-7">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter&gt;
      &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
        txid:etag="?"/&gt;
      &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
    &lt;/filter&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.2.1-7" class="pilcrow">¶</a>
</div>
<p id="section-4.2.1-8">When a NETCONF server receives a get-config or get-data request 
containing txid:etag attributes with the value "?", it MUST return 
etag attributes for all versioned elements below this point included 
in the reply.<a href="#section-4.2.1-8" class="pilcrow">¶</a></p>
<p id="section-4.2.1-9">If the server considers the container "interfaces" and the list 
"interface" elements to be versioned elements, the server's response 
to the request above might look like:<a href="#section-4.2.1-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.1-10">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="def88884321"&gt;
    &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
                txid:etag="def88884321"&gt;
      &lt;interface txid:etag="def88884321"&gt;
        &lt;name&gt;GigabitEthernet-0/0&lt;/name&gt;
        &lt;description&gt;Management Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/interface&gt;
      &lt;interface txid:etag="abc12345678"&gt;
        &lt;name&gt;GigabitEthernet-0/1&lt;/name&gt;
        &lt;description&gt;Upward Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/interface&gt;
    &lt;/interfaces&gt;
    &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
      &lt;groups&gt;
        &lt;group&gt;
          &lt;name&gt;admin&lt;/name&gt;
          &lt;user-name&gt;sakura&lt;/user-name&gt;
          &lt;user-name&gt;joe&lt;/user-name&gt;
        &lt;/group&gt;
      &lt;/groups&gt;
    &lt;/nacm&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.2.1-10" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="configuration-response-pruning">
<section id="section-4.2.2">
          <h4 id="name-configuration-response-prun">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-configuration-response-prun" class="section-name selfRef">Configuration Response Pruning</a>
          </h4>
<p id="section-4.2.2-1">A NETCONF client that already knows some etag values MAY request that
the configuration retrieval request is pruned with respect to the 
client's prior knowledge.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">To retrieve only changes for "ietf-interfaces" that do not have the 
last known etag value "abc12345678", but include the entire 
configuration for "nacm", regardless of etags, a client might send:<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.2-3">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;get-config&gt;
    &lt;source&gt;
      &lt;running/&gt;
    &lt;/source&gt;
    &lt;filter&gt;
      &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
        txid:etag="abc12345678"/&gt;
      &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
    &lt;/filter&gt;
  &lt;/get-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.2.2-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.2-4">When a NETCONF server receives a get-config or get-data request 
containing an element with a client specified etag attribute, there 
are several different cases:<a href="#section-4.2.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.2-5.1">The element is not a versioned element, i.e. the server does not 
maintain an etag value for this element.  In this case, the server 
MUST look up the closest ancestor that is a versioned element, and 
proceed as if the client had specified the etag value for that 
element.<a href="#section-4.2.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.2.2-5.2">The element is a versioned element, and the client specified etag 
attribute value is different than the server's etag value for this
element.  In this case the server MUST return the contents as it would 
otherwise have done, adding the etag attributes of all child versioned 
elements to the response.  In case the client has specified etag 
attributes for some child elements, then these cases MUST be 
re-evaluated for those elements.<a href="#section-4.2.2-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.2.2-5.3">The element is a versioned element, and the client specified etag 
attribute value matches the server's etag value.  In this case the 
server MUST return the element decorated with an etag attribute with 
the value "=", and child elements pruned.<a href="#section-4.2.2-5.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.2.2-6">For list elements, pruning child elements means that key elements 
MUST be included in the response, and other child elements MUST NOT be 
included.  For containers, child elements MUST NOT be included.<a href="#section-4.2.2-6" class="pilcrow">¶</a></p>
<p id="section-4.2.2-7">For example, assuming the NETCONF server configuration is the same as 
in the previous rpc-reply example, the server's response to request 
above might look like:<a href="#section-4.2.2-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.2.2-8">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="def88884321"&gt;
    &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
                txid:etag="def88884321"&gt;
      &lt;interface txid:etag="def88884321"&gt;
        &lt;name&gt;GigabitEthernet-0/0&lt;/name&gt;
        &lt;description&gt;Management Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/interface&gt;
      &lt;interface txid:etag="="&gt;
        &lt;name&gt;GigabitEthernet-0/1&lt;/name&gt;
      &lt;/interface&gt;
    &lt;/interfaces&gt;
    &lt;nacm xmlns="urn:ietf:params:xml:ns:yang:ietf-netconf-acm"/&gt;
      &lt;groups&gt;
        &lt;group&gt;
          &lt;name&gt;admin&lt;/name&gt;
          &lt;user-name&gt;sakura&lt;/user-name&gt;
          &lt;user-name&gt;joe&lt;/user-name&gt;
        &lt;/group&gt;
      &lt;/groups&gt;
    &lt;/nacm&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.2.2-8" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="configuration-update">
<section id="section-4.3">
        <h3 id="name-configuration-update">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-configuration-update" class="section-name selfRef">Configuration Update</a>
        </h3>
<p id="section-4.3-1">Whenever the configuration on a server changes for any reason, the 
server MUST update the etag value for all versioned elements that 
have children that changed.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">If the change is due to a NETCONF client edit-config or edit-data 
request that includes the ietf-netconf-txid:with-etag presence 
container, the server MUST return the etag value of the targeted 
datastore as an attribute on the XML ok tag in the rpc-reply.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">The server MUST NOT change the etag value of a versioned element 
unless a child element of that element has been changed.  The server 
MUST NOT change any etag values due to changes in config false data.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">How the server selects a new etag value to use for the changed
elements is described in section <span><a href="#etag-attribute" class="xref">ETag attribute</a> (<a href="#etag-attribute" class="xref">Section 4.1</a>)</span>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">For example, if a client wishes to update the interface description
for interface "GigabitEthernet-0/1" to "Downward Interface", it might 
send:<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-6">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"&gt;
  &lt;edit-config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
               xmlns:ietf-netconf-txid=
                "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"&gt;
    &lt;target&gt;
      &lt;candidate/&gt;
    &lt;/target&gt;
    &lt;test-option&gt;test-then-set&lt;/test-option&gt;
    &lt;ietf-netconf-txid:with-etag/&gt;
    &lt;config&gt;
      &lt;interfaces
        xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"&gt;
        &lt;interface&gt;
          &lt;name&gt;GigabitEthernet-0/1&lt;/name&gt;
          &lt;description&gt;Downward Interface&lt;/description&gt;
        &lt;/interface&gt;
      &lt;/interfaces&gt;
    &lt;/config&gt;
  &lt;/edit-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.3-6" class="pilcrow">¶</a>
</div>
<p id="section-4.3-7">The server would update the description leaf in the candidate 
datastore, and return an rpc-reply as follows:<a href="#section-4.3-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-8">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;ok txid:etag="ghi55550101"/&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.3-8" class="pilcrow">¶</a>
</div>
<p id="section-4.3-9">A subsequent get-config request for "ietf-interfaces", with 
txid:etag="?" might then return:<a href="#section-4.3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-10">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="ghi55550101"&gt;
    &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
                txid:etag="ghi55550101"&gt;
      &lt;interface txid:etag="def88884321"&gt;
        &lt;name&gt;GigabitEthernet-0/0&lt;/name&gt;
        &lt;description&gt;Management Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/interface&gt;
      &lt;interface txid:etag="ghi55550101"&gt;
        &lt;name&gt;GigabitEthernet-0/1&lt;/name&gt;
        &lt;description&gt;Downward Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/interface&gt;
    &lt;/interfaces&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.3-10" class="pilcrow">¶</a>
</div>
<p id="section-4.3-11">In case the server at this point received a configuration change from 
another source, such as a CLI operator, adding an MTU value for the 
interface "GigabitEthernet-0/0", a subsequent get-config request for 
"ietf-interfaces", with txid:etag="?" might then return:<a href="#section-4.3-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-12">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="cli22223333"&gt;
    &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
                txid:etag="cli22223333"&gt;
      &lt;interface txid:etag="cli22223333"&gt;
        &lt;name&gt;GigabitEthernet-0/0&lt;/name&gt;
        &lt;description&gt;Management Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
        &lt;mtu&gt;768&lt;/mtu&gt;
      &lt;/interface&gt;
      &lt;interface txid:etag="ghi55550101"&gt;
        &lt;name&gt;GigabitEthernet-0/1&lt;/name&gt;
        &lt;description&gt;Downward Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/interface&gt;
    &lt;/interfaces&gt;
  &lt;/data&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.3-12" class="pilcrow">¶</a>
</div>
<div id="conditional-configuration-update">
<section id="section-4.3.1">
          <h4 id="name-conditional-configuration-u">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-conditional-configuration-u" class="section-name selfRef">Conditional Configuration Update</a>
          </h4>
<p id="section-4.3.1-1">When a NETCONF client sends an edit-config or edit-data request to a
NETCONF server that implements this specification, the client MAY 
specify expected etag values on the versioned elements touched by the
transaction.<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
<p id="section-4.3.1-2">If such an etag value differs from the etag value stored on the 
server, the server MUST reject the transaction and return an rpc-error 
as specified in section 
<span><a href="#conditional-transactions" class="xref">Conditional Transactions</a> (<a href="#conditional-transactions" class="xref">Section 3.2</a>)</span>.<a href="#section-4.3.1-2" class="pilcrow">¶</a></p>
<p id="section-4.3.1-3">Additionally, the error-info tag MUST contain an sx:structure
etag-value-mismatch-error-info as defined in the module 
ietf-netconf-txid, with mismatch-path set to the instance identifier 
value identifying one of the versioned elements that had an etag value 
mismatch, and mismatch-etag-value set to the server's current value of 
the etag attribute for that versioned element.<a href="#section-4.3.1-3" class="pilcrow">¶</a></p>
<p id="section-4.3.1-4">For example, if a client wishes to delete the interface 
"GigabitEthernet-0/1" if and only if its configuration has not been
altered since this client last synchronized its configuration with the
server (at which point it received the etag "ghi55550101"), 
regardless of any possible changes to other interfaces, it might send:<a href="#section-4.3.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3.1-5">
<pre>
&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:1.0" message-id="1"
     xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"
     xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"
     xmlns:ietf-netconf-txid=
       "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"&gt;
  &lt;edit-config&gt;
    &lt;target&gt;
      &lt;candidate/&gt;
    &lt;/target&gt;
    &lt;test-option&gt;test-then-set&lt;/test-option&gt;
    &lt;ietf-netconf-txid:with-etag/&gt;
    &lt;config&gt;
      &lt;interfaces
        xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"&gt;
        &lt;interface nc:operation="delete"
                   txid:etag="ghi55550101"&gt;
          &lt;name&gt;GigabitEthernet-0/1&lt;/name&gt;
        &lt;/interface&gt;
      &lt;/interfaces&gt;
    &lt;/config&gt;
  &lt;/edit-config&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.3.1-5" class="pilcrow">¶</a>
</div>
<p id="section-4.3.1-6">If interface "GigabitEthernet-0/1" has the etag value "ghi55550101",
as expected by the client, the transaction goes through, and the 
server responds something like:<a href="#section-4.3.1-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3.1-7">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;ok txid:etag="xyz77775511"/&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.3.1-7" class="pilcrow">¶</a>
</div>
<p id="section-4.3.1-8">A subsequent get-config request for "ietf-interfaces", with 
txid:etag="?" might then return:<a href="#section-4.3.1-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3.1-9">
<pre>
&lt;rpc-reply message-id="1"
           xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;data txid:etag="xyz77775511"&gt;
    &lt;interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces"
                txid:etag="xyz77775511"&gt;
      &lt;interface txid:etag="def88884321"&gt;
        &lt;name&gt;GigabitEthernet-0/0&lt;/name&gt;
        &lt;description&gt;Management Interface&lt;/description&gt;
        &lt;type&gt;ianaift:ethernetCsmacd&lt;/type&gt;
        &lt;enabled&gt;true&lt;/enabled&gt;
      &lt;/interface&gt;
    &lt;/interfaces&gt;
  &lt;/data&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.3.1-9" class="pilcrow">¶</a>
</div>
<p id="section-4.3.1-10">In case interface "GigabitEthernet-0/1" did not have the expected etag 
value "ghi55550101", the server rejects the transaction, and might 
send:<a href="#section-4.3.1-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3.1-11">
<pre>
&lt;rpc-reply xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
           xmlns:if="urn:ietf:params:xml:ns:yang:ietf-interfaces"
           xmlns:ietf-netconf-txid=
             "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"&gt;
           message-id="1"&gt;
  &lt;rpc-error&gt;
    &lt;error-type&gt;protocol&lt;/error-type&gt;
    &lt;error-tag&gt;operation-failed&lt;/error-tag&gt;
    &lt;error-severity&gt;error&lt;/error-severity&gt;
    &lt;error-info&gt;
      &lt;ietf-netconf-txid:etag-value-mismatch-error-info&gt;
        &lt;ietf-netconf-txid:mismatch-path&gt;
          /if:interfaces/if:interface[if:name="GigabitEthernet-0/0"]
        &lt;/ietf-netconf-txid:mismatch-path&gt;
        &lt;ietf-netconf-txid:mismatch-etag-value&gt;
          cli22223333
        &lt;/ietf-netconf-txid:mismatch-etag-value&gt;
      &lt;/ietf-netconf-txid:etag-value-mismatch-error-info&gt;
    &lt;/error-info&gt;
  &lt;/rpc-error&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.3.1-11" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="etags-with-other-netconf-operations">
<section id="section-4.4">
        <h3 id="name-etags-with-other-netconf-op">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-etags-with-other-netconf-op" class="section-name selfRef">ETags with Other NETCONF Operations</a>
        </h3>
<p id="section-4.4-1">The following NETCONF Operations also need some special considerations.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.4-2">
          <dt id="section-4.4-2.1">
discard-changes  </dt>
          <dd style="margin-left: 1.5em" id="section-4.4-2.2">
            <p id="section-4.4-2.2.1">The server MUST ensure the etag attributes in the candidate 
datastore get the same values as in the running datastore when this 
operation runs.<a href="#section-4.4-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.3">
copy-config  </dt>
          <dd style="margin-left: 1.5em" id="section-4.4-2.4">
            <p id="section-4.4-2.4.1">The server MUST ensure the etag attributes retain the same values as 
in the soruce datastore.<a href="#section-4.4-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.5"></dt>
          <dd style="margin-left: 1.5em" id="section-4.4-2.6">
            <p id="section-4.4-2.6.1">If copy-config is used to copy from a source that is not a datastore, 
the server MUST ensure etags are given new values.<a href="#section-4.4-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.7">
delete-config  </dt>
          <dd style="margin-left: 1.5em" id="section-4.4-2.8">
            <p id="section-4.4-2.8.1">The server MUST ensure the datastore etag is given a new value.<a href="#section-4.4-2.8.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-2.9">
commit  </dt>
          <dd style="margin-left: 1.5em" id="section-4.4-2.10">
            <p id="section-4.4-2.10.1">At commit, with regards to the etag values, the server MUST treat the 
contents of the candidate datastore as if any etag attributes provided
by the client were provided in a single edit-config towards the 
running datastore.  If the commit is rejected due to etag mismatch, 
the rpc-error message specified in section 
<span><a href="#conditional-configuration-update" class="xref">Conditional Configuration Update</a> (<a href="#conditional-configuration-update" class="xref">Section 4.3.1</a>)</span>
MUST be sent.<a href="#section-4.4-2.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.4-3">The client MAY request that the new etag value is returned as an 
attribute on the ok response for a successful commit.  The client 
requests this by adding with-etag to the commit operation.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<p id="section-4.4-4">For example, a client might send:<a href="#section-4.4-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4-5">
<pre>
&lt;rpc message-id="1"
    xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"&gt;
    xmlns:ietf-netconf-txid=
      "urn:ietf:params:xml:ns:yang:ietf-netconf-txid"
  &lt;commit&gt;
    &lt;ietf-netconf-txid:with-etag/&gt;
  &lt;/commit&gt;
&lt;/rpc&gt;
</pre><a href="#section-4.4-5" class="pilcrow">¶</a>
</div>
<p id="section-4.4-6">Assuming the server accepted the transaction, it might respond:<a href="#section-4.4-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.4-7">
<pre>
&lt;rpc-reply message-id="1"
    xmlns="urn:ietf:params:xml:ns:netconf:base:1.0"
    xmlns:txid="urn:ietf:params:xml:ns:netconf:txid:1.0"&gt;
  &lt;ok txid:etag="ghi55550101"/&gt;
&lt;/rpc-reply&gt;
</pre><a href="#section-4.4-7" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="yang-modules">
<section id="section-5">
      <h2 id="name-yang-modules">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-yang-modules" class="section-name selfRef">YANG Modules</a>
      </h2>
<div id="section-5-1">
<pre class="lang-yang sourcecode">
module ietf-netconf-txid {
  yang-version 1.1;
  namespace
    'urn:ietf:params:xml:ns:yang:ietf-netconf-txid';
  prefix ietf-netconf-txid;

  import ietf-netconf {
    prefix nc;
  }

  import ietf-netconf-nmda {
    prefix ncds;
  }

  import ietf-yang-structure-ext {
    prefix sx;
  }

  organization
    "IETF NETCONF (Network Configuration) Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/netconf/&gt;
     WG List:  &lt;netconf@ietf.org&gt;

     Author:   Jan Lindblad
               &lt;mailto:jlindbla@cisco.com&gt;";

  description
    "NETCONF Transaction ID aware operations for NMDA.

     Copyright (c) 2021 IETF Trust and the persons identified as
     the document authors.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2021-11-01 {
    description
      "Initial revision";
    reference
      "RFC XXXX: Xxxxxxxxx";
  }

  typedef etag-t {
    type string {
      pattern ".* .*" {
        modifier invert-match;
      }
      pattern ".*\".*" {
        modifier invert-match;
      }
      pattern ".*\\.*" {
        modifier invert-match;
      }
    }
    description
      "Unique Entity-tag value representing a specific transaction.
       Could be any string that does not contain spaces, double
       quotes or backslash.  The values '?' and '=' have special
       meaning.";
  }

  grouping transaction-id-grouping {
    container with-etag {
      presence
        "Indicates that the client requests the server to include a
         txid:etag transaction id in the rpc-reply";
    }
    description
      "Grouping for transaction id mechanisms, to be augmented into
       rpcs that modify configuration data stores.";
  }

  augment /nc:edit-config/nc:input {
    uses transaction-id-grouping;
    description
      "Injects the transaction id mechanisms into the
      edit-config operation";
  }

  augment /nc:commit/nc:input {
    uses transaction-id-grouping;
    description
      "Injects the transaction id mechanisms into the
      commit operation";
  }

  augment /ncds:edit-data/ncds:input {
    uses transaction-id-grouping;
    description
      "Injects the transaction id mechanisms into the
      edit-data operation";

  sx:structure etag-value-mismatch-error-info {
    container etag-value-mismatch-error-info {
      description
         "This error is returned by a NETCONF server when a client
          sends a configuration change request, with the additonal
          condition that the server aborts the transaction if the
          server's configuration has changed from what the client
          expects, and the configuration is found not to actually
          not match the client's expectation.";
      leaf mismatch-path {
        type instance-identifier;
        description
          "Indicates the YANG path to the element with a mismatching
           etag value.";
      }
      leaf mismatch-etag-value {
        type etag-t;
        description
          "Indicates server's value of the etag attribute for one
           mismatching element.";
      }
    }
  }
}
</pre><a href="#section-5-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">TODO Security<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document registers the following capability identifier URN in
the 'Network Configuration Protocol (NETCONF) Capability URNs' 
registry:<a href="#section-7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-2">
<pre>
  urn:ietf:params:netconf:capability:txid:1.0
</pre><a href="#section-7-2" class="pilcrow">¶</a>
</div>
<p id="section-7-3">This document registers two XML namespace URNs in the 'IETF XML
registry', following the format defined in 
<a href="https://tools.ietf.org/html/rfc3688">RFC 3688</a>.<a href="#section-7-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-4">
<pre>
  URI: urn:ietf:params:xml:ns:netconf:txid:1.0

  URI: urn:ietf:params:xml:ns:yang:ietf-netconf-txid

  Registrant Contact: The NETCONF WG of the IETF.

  XML: N/A, the requested URIs are XML namespaces.
</pre><a href="#section-7-4" class="pilcrow">¶</a>
</div>
<p id="section-7-5">This document registers one module name in the 'YANG Module Names'
registry, defined in <a href="https://tools.ietf.org/html/rfc6020">RFC 6020</a>.<a href="#section-7-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-6">
<pre>
  name: ietf-netconf-txid

  prefix: ietf-netconf-txid

  namespace: urn:ietf:params:xml:ns:yang:ietf-netconf-txid

  RFC: XXXX
</pre><a href="#section-7-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="changes">
<section id="section-8">
      <h2 id="name-changes">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-changes" class="section-name selfRef">Changes</a>
      </h2>
<div id="major-changes-in-01-since-00">
<section id="section-8.1">
        <h3 id="name-major-changes-in-01-since-0">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-major-changes-in-01-since-0" class="section-name selfRef">Major changes in -01 since -00</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-8.1-1.1">Updated the text on numerous points in order to answer questions 
that appeared on the mailing list.<a href="#section-8.1-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.2">Changed the document structure into a general transaction id part 
and one etag specific part.<a href="#section-8.1-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.3">Renamed entag attribute to etag, prefix to txid, namespace to
urn:ietf:params:xml:ns:yang:ietf-netconf-txid.<a href="#section-8.1-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.4">Set capability string to
urn:ietf:params:netconf:capability:txid:1.0<a href="#section-8.1-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.5">Changed YANG module name, namespace and prefix to match names above.<a href="#section-8.1-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.6">Harmonized/slightly adjusted etag value space with RFC 7232 and 
RFC 8040.<a href="#section-8.1-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.7">Removed all text discussing etag values provided by the client 
(although this is still an interesting idea, if you ask the author)<a href="#section-8.1-1.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.8">Clarified the etag attribute mechanism, especially when it comes to
matching against non-versioned elements, its cascading upwards in the 
tree and secondary effects from when- and choice-statements.<a href="#section-8.1-1.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.9">Added a mechanism for returning the server assigned etag value in
get-config and get-data.<a href="#section-8.1-1.9" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.10">Added section describing how the NETCONF discard-changes, 
copy-config, delete-config and commit operations work with respect to 
etags.<a href="#section-8.1-1.10" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.11">Added IANA Considerations section.<a href="#section-8.1-1.11" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-1.12">Removed all comments about open questions.<a href="#section-8.1-1.12" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<section id="section-9">
      <h2 id="name-normative-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
    <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The author wishes to thank Benoit Claise for making this work happen,
and the following individuals, who all provided helpful comments:
Per Andersson, Kent Watsen, Andy Bierman, Robert Wilton, Qiufang Ma.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jan Lindblad</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jlindbla@cisco.com" class="email">jlindbla@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
