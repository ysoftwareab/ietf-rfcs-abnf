Networking Working Group                                    A. Jiang, Ed.
                                                                    K. Hu
                                                                   J. Luo
Internet Draft                                                        ZTE
Intended status: Standard Track                             June 22, 2009
Expires: Nov 22, 2009



                    LDP Graceful Restart for Pseudowire
                      draft-jiang-pwe3-ldp-gr-00.txt


Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on Nov 22, 2009.

Abstract

   This document describes a LDP graceful restart(GR) mechanism that
   helps to minimize the negative effects on single or multi-segment
   pseudowire traffic caused by Provider Edge (PE) control plane restart,
   specifically by the restart of its Label Distribution Protocol (LDP)
   component.









Jiang                    Expires Nov 22, 2009                  [Page 1]

Internet-Draft                PW LDP GR                       June 2009


Table of Contents


   1. Introduction................................................2
   2. Conventions used in this document...........................3
   3. Single-segment Pseudowire LDP Graceful Restart Mechanism....3
   4. Multi-segment Pseudowire LDP Graceful Restart Mechanism.....3
   5. Virtual Private LAN Service LDP Graceful Restart Mechanism..3
   6. Security Considerations.....................................4
   7. IANA Considerations.........................................4
   8. Conclusions.................................................4
   9. References..................................................4
      9.1. Normative References...................................4
      9.2. Informative References.................................5
   10. Acknowledgments............................................5

1. Introduction

   Single-segment pseudowire defined in [RFC 3985] allows multi services
   to be carried over packet switching networks.

   [RFC 4447] defines extension to LDP for single-segment pseudowire
   setup and maintenance. The extended LDP is called Targeted LDP and
   runs between the end points.

   As defined in [RFC 5254], multi-segment pseudowire allows pseudowire
   traffic to transport over multiple PSN administrative or
   technological domains. And it also states three setup mechanisms of
   static configuration, signaled with pre-determined route and signaled
   with dynamic route.

   [DYNAMIC MS-PW] defines extension to LDP for multi-segment pseudowire
   setup using generalized FEC 129 which needs the relay of LDP
   signaling cross each pseudowire segment.

   [RFC 3478] defines graceful restart mechanism for LDP, in which LSRs
   are enhanced with the ability to preserve MPLS forwarding state
   during LDP restart.

   The mechanism defined in [RFC 3478] is for MPLS LSP and can be
   applied to pseudowire. The purpose of this draft is to specify the
   procedures and possible extensions to LDP for single-segment and
   multi-segment pseudowire control plane graceful restart.






Jiang                 Expires December 22, 2009               [Page 2]

Internet-Draft                PW LDP GR                       June 2009


2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC 2119].

3. Single-segment Pseudowire LDP Graceful Restart Mechanism

   LDP graceful restart procedure for single-segment pseudowire follows
   the same mechanism described in LDP graceful restart for MPLS [RFC
   3478]. The difference is that in pseudowire scenario, the preserved
   labels are pseudowire labels, while in the case of MPLS, the reserved
   labels are for MPLS LSPs.

   Also, pseudowire status is UP and forwarding state is preserved
   during the LDP graceful restart. While upon graceful restart failure,
   pseudowire will be torn down. Pseudowire can be set up again later.

   It should be noticed that pseudowire LDP graceful restart capability
   is decoupled from MPLS LSP LDP graceful restart capability, because
   the outer layer tunnel for pseudowire could be other than MPLS LSP.

4. Multi-segment Pseudowire LDP Graceful Restart Mechanism

   Multi-segment pseudowire is segmented into a number of single segment
   pseudowires. Each single segment pseudowire can have its own LDP
   graceful restart procedure, which can be independent from each other.
   For each affected segment, the procedure is very similar to that of
   single-segment pseudowire LDP graceful restart, while it has extra
   steps for failure handling.

   When LDP graceful restart failed, PEs in relevant segment will send
   PW label withdraw message to their upstream peers and PW label
   release message to their downstream peers so as to tear down the
   multi-segment pseudowire. After that, MS-PW could be re-established.

5. Virtual Private LAN Service LDP Graceful Restart Mechanism

   As defined in [RFC 4762], full mesh LDP sessions are established
   among all PEs for VPLS PWs. LDP graceful restart for VPLS follows the
   same mechanism as defined in LDP graceful restart for SS-PW.

   In H-VPLS model defined in [RFC 4762], spoke links between MTU and
   hub PE may span multiple administrative domain in which case LDP
   graceful restart procedure for MS-PW may be used.




Jiang                 Expires December 22, 2009               [Page 3]

Internet-Draft                PW LDP GR                       June 2009


6. Security Considerations

   [RFC5036] describes the security considerations that apply to the
   base LDP specification. The same security framework and
   considerations apply to the capability mechanism described in this
   document.

7. IANA Considerations

   None.

8. Conclusions

   In this document, LDP graceful restart mechanism for MPLS LSP defined in [RFC 3478]
   is extended to cover pseudowire, and scenarios of SS-PW,MS-PW,VPLS and H-VPLS are
   discussed.

   In next version, solution will be developed for P2MP pseudowire.

9. References

9.1. Normative References

   [RFC 5036] Andersson, L., Menei, I., and Thomas, B., Editors, "LDP
             Specification", RFC 5036, September 2007.

   [RFC 3478] Leelanivas, M., Aggarwal R., Editors, "Graceful Restart
             Mechanism for Label Distribution Protocol", RFC 3478,
             February 2003.

   [RFC 3479] Farrel, A., "Fault Tolerance for the Label
             Distribution Protocol (LDP)", RFC 3479, February 2003.

   [RFC 4447] Martini, L., Rosen, E., El-Aawar, N., Smith, T., Heron, G.,
             Editors, "Pseudowire Setup and Maintenance Using the Label
             Distribution Protocol (LDP)", RFC 4447, October 2008.

   [RFC 4762] Lasserre, M., Kompella, V., Editors, " Virtual Private LAN
             Service (VPLS) Using Label Distribution Protocol (LDP)
             Signaling", RFC 4762, January 2007.

   [RFC 2119] Bradner, S., Editor, "Key words for use in RFCs to
               Indicate Requirement Levels", BCP 14, RFC2119, March 1997.






Jiang                 Expires December 22, 2009               [Page 4]

Internet-Draft                PW LDP GR                       June 2009


9.2. Informative References

   [RFC 5254] Bitar, N., Bocci M., Martini, L., Editors, "Requirements
             for Multi-Segment Pseudowire Emulation Edge-to-Edge (PWE3)",
             RFC 5254, October 2008.

   [MS-PW_ARCH] Bocci M., Bryant, S., Editors, "An Architecture for
             Multi-Segment Pseudowire Emulation Edge-to-Edge" draft-
             ietf-pwe3-ms-pw-arch-06.txt, Work in Progress, February
             2009.

   [DYNAMIC MS-PW] Martini, L., Bocci M., Balus, F., Editors, "Dynamic
             Placement of Multi Segment Pseudo Wires" draft-ietf-pwe3-
             dynamic-ms-pw-09, Work in Progress, February 2009.

   [SEGMENTED PW] Martini, L., Metz, C., Nadeau, T., Bocci M., Balus,
             F., Aissaoui, M., Duckett, M., Editors, "Segmented
             Pseudowire" draft-ietf-pwe3-segmented-pw-11.txt, Work in
             Progress, February 2009.

   [LDP_CAPABILITY] Thomas, B., Aggarwal, S., Aggarwal, R., Le Roux,
             J.L., Syed Kamran Raza, Editors,  "LDP Capabilities" draft-
             ietf-mpls-ldp-capabilities-04.txt, Work in Progress, April
             2009.

10. Acknowledgments

   This document was prepared using 2-Word-v2.0.template.dot.




















Jiang                 Expires December 22, 2009               [Page 5]

Internet-Draft                PW LDP GR                       June 2009


Authors' Addresses

   Albert Jiang

   No.68 Zijinghua Road, Yuhuatai District
   Nanjing, China
   Phone: +86-15312021250
   Email: albert.john@zte.com.cn


   Kan Hu

   No.68 Zijinghua Road, Yuhuatai District
   Nanjing, China
   Phone: +86-52870000
   Email: hu.kan@zte.com.cn

   Jian Luo

   No.68 Zijinghua Road, Yuhuatai District
   Nanjing, China
   Phone: +86-52870000
   Email: luo.jian@zte.com.cn



Full Copyright Statement

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.












Jiang                 Expires December 22, 2009               [Page 6]

