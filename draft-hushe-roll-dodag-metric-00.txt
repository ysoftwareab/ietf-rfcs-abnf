



ROLL                                                              H. She
Internet-Draft                                                   L. Zhao
Intended status: Standards Track                              P. Thubert
Expires: 21 June 2021                                      Cisco Systems
                                                        18 December 2020


A DODAG Metric Used for DODAG Selection in Low-Power and Lossy Networks
                    draft-hushe-roll-dodag-metric-00

Abstract

   This document extends [RFC6551] by defining a new DODAG metric called
   DODAG size, which can be used for DODAG selection in Low-Power and
   Lossy Networks (LLNs).  DODAG size is an important metric for nodes
   to decide which DODAG to join, or which DODAG to migrate.  This
   document proposes methods to disseminate DODAG size from the Root to
   all nodes in the DODAG, so that the DODAG size can be advertised to
   new joining nodes.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 21 June 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.










She, et al.               Expires 21 June 2021                  [Page 1]

Internet-Draft                 DODAG size                  December 2020


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  References  . . . . . . . . . . . . . . . . . . . . . . .   3
     2.2.  Glossary  . . . . . . . . . . . . . . . . . . . . . . . .   3
     2.3.  Requirements Language . . . . . . . . . . . . . . . . . .   4
   3.  Disseminating DODAG size  . . . . . . . . . . . . . . . . . .   4
     3.1.  DODAG Size Object . . . . . . . . . . . . . . . . . . . .   4
     3.2.  Disserminating DODAG size through DIO . . . . . . . . . .   5
     3.3.  Disserminating DODAG size through DAO-ACK . . . . . . . .   5
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   6
   6.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   6
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   6
   8.  Informative References  . . . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   Low-power and Lossy Networks (LLNs) typically consist of large number
   of nodes connected by lossy and unstable links.  Such networks are
   typically compised of nodes that are constrained in CPU power,
   memory, and energy.

   RPL, the "Routing Protocol for LLNs" [RFC6550], is an IPv6 routing
   procotol with specific optimizations for such networks.  RPL builds
   routes proactively but maintains them on-demand based on their
   utilization.  Point-to-multipoint (P2MP) and multipoint-to-point
   (MP2P) routes to and from the Root are optimized, but other point-to-
   point (P2P) routes are stretched to minimize the control traffic and
   the state in every node.

   When used in conjunction with IEEE Std. 802.15.4 [IEEE802154], RPL
   can be used to form a Personal Area Network (PAN) composed by a
   6LoWPAN Border Router (6LBR) that is typically collocated with the
   DODAG Root, and multiple 6LoWPAN Nodes (6LN), that can be RPL routers
   of leaves.




She, et al.               Expires 21 June 2021                  [Page 2]

Internet-Draft                 DODAG size                  December 2020


   The PAN formation process starts from a DODAG Root.  Before a node
   joins a PAN, it has no information regarding available neighbors or
   PANs.  To discover available PANs, a joining node transmits PAN
   Advertisement Solicits and listens for PAN Advertisements from either
   the Root or other joined nodes.

   The PAN Advertisements contain minimum information (such as network
   name, DODAG size, etc.) for a node to select an appropriate PAN to
   join or migrate.  The DODAG size is the number of nodes in the DODAG
   and communicating through the Root.  The DODAG size thus is an
   important metric for a node to decide which PAN to join.  Therefore,
   it is essential to ensure the value of DODAG size advertised is up-
   to-date.

   At this early stage, this document propose two methods to
   disserminates the DODAG size to the PAN.

2.  Terminology

2.1.  References

   The terminology used in this document is consistent with and
   incorporates that described in "Terms Used in Routing for Low-Power
   and Lossy Networks (LLNs)" [RFC7102].  Other terms in use in LLNs are
   found in "Terminology for Constrained-Node Networks" [RFC7228].

   "RPL", the "RPL Packet Information" (RPI), and "RPL Instance"
   (indexed by a RPLInstanceID) are defined in "RPL: IPv6 Routing
   Protocol for Low-Power and Lossy Networks" [RFC6550].  The RPI is the
   abstract information that RPL defines to be placed in data packets,
   e.g., as the RPL Option [RFC6551] within the IPv6 Hop-By-Hop Header.
   By extension the term "RPI" is often used to refer to the RPL Option
   itself.  The DODAG Information Solicitation (DIS), Destination
   Advertisement Object (DAO) and DODAG Information Object (DIO)
   messages are also specified in [RFC6550].

2.2.  Glossary

   This document often uses the following acronyms:

   6LoWPAN:  IPv6 over Low-Power Wireless Personal Area Network
   6LoRH:  6LoWPAN Routing Header
   DIO:  DODAG Information Object (a RPL message)
   DODAG:  Directed Acyclic Graph
   DODAG:  Destination-Oriented Directed Acyclic Graph
   LLN:  Low-Power and Lossy Network
   PAN:  Personal Area Network
   RPL:  IPv6 Routing Protocol for Low-Power and Lossy Networks



She, et al.               Expires 21 June 2021                  [Page 3]

Internet-Draft                 DODAG size                  December 2020


2.3.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119][RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Disseminating DODAG size

   The value of DODAG size is collected by the Root, and disseminated to
   all nodes in the PAN.  To ensure timely delivering of DODAG size, it
   has to be contained in periodic PAN-wide messages that can reach
   every node in the PAN.

   The DODAG size is defined by the DODAG Size Object and MAY be present
   in the DODAG Metric Container option [RFC6551].

3.1.  DODAG Size Object

   [RFC6551] specifies a set of link and node routing metrics and
   constraints suitable to LLNs.  This document extends [RFC6551] by
   defining a new DODAG metric called DODAG size.

   The DODAG size object MAY be present in the DODAG Metric Container.
   There MUST NOT be more than one DODAG size object as a metric per
   DODAG Metric Container.

   The DODAG size object is made of DODAG size fields and MUST at least
   comprise one DODAG size field.  Each DODAG size field has a fixed
   length of 16 bits.

   The DODAG size object does not contain any additional TLVs.

   The DODAG size object Type has been assigned value TBD by IANA.

   The format of the ETX object body is as follows:

                         0                   1
                         0 1 2 3 4 5 6 7 8 9 0 1 2 3
                        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                        |  (field) .....       |
                        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                  Figure 1: DODAG Size Object Body Format






She, et al.               Expires 21 June 2021                  [Page 4]

Internet-Draft                 DODAG size                  December 2020


                      0                   1
                      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                     |            DODAG Size           |
                     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                     Figure 2: DODAG Size field Format

   DODAG Size: 16 bits.  It is encoded using 16 bits in unsigned integer
   format.

3.2.  Disserminating DODAG size through DIO

   According to [RFC6550], the DIO message is periodically sent to the
   PAN, and it MAY carry an option called DODAG Metric Container.  The
   DODAG size object can be present in this option.  Through the DIO
   message, the DODAG size is gradually disseminated to nodes in the PAN

3.3.  Disserminating DODAG size through DAO-ACK

   The DAO-ACK message [RFC6550] is sent as unicast packet by the DODAG
   Root in response to a unicast DAO message.

   It MAY carry the DODAG Metric Container option [RFC6550].  The DODAG
   size MAY be present in the DODAG Metric Container option.

   The nodes in a PAN might be able to get the DODAG size timely through
   the DAO-ACK messsage..  Compared with the DIO message, the DAO-ACK
   message is tyipcally sent more frequently.  Moreover, nodes deep in
   the DODAG can get the DODAG size more quickly since the DAO-ACK is
   directly sent by the Root in unicast.

4.  IANA Considerations

   This specification updates the "Routing Metric/Constraint Type"
   subregistry of the "Routing Protocol for Low Power and Lossy Networks
   (RPL) Routing Metric/Constraint" Registry that was created for
   [RFC6551].

   IANA is thereby requested to allocate one new value as follows:










She, et al.               Expires 21 June 2021                  [Page 5]

Internet-Draft                 DODAG size                  December 2020


              +---------------+-------------+---------------+
              | Value         | Description | Reference     |
              +---------------+-------------+---------------+
              | 9 (suggested) | DODAG size  | This document |
              +---------------+-------------+---------------+

                   Table 1: New DODAG Metric Object Type

5.  Security Considerations

   It is worth noting that in RPL [RFC6550], every node in the LLN that
   is RPL-aware and has access to the RPL domain can inject any RPL-
   based attack in the network, more in [RFC7416].  This document
   applies typically to an existing deployment and does not change its
   security requirements and operations.  It is assumed that the
   security mechanisms as defined for RPL are followed.

6.  Acknowledgments

   The authors wish to thank TBD.

7.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC6550]  Winter, T., Ed., Thubert, P., Ed., Brandt, A., Hui, J.,
              Kelsey, R., Levis, P., Pister, K., Struik, R., Vasseur,
              JP., and R. Alexander, "RPL: IPv6 Routing Protocol for
              Low-Power and Lossy Networks", RFC 6550,
              DOI 10.17487/RFC6550, March 2012,
              <https://www.rfc-editor.org/info/rfc6550>.

   [RFC6551]  Vasseur, JP., Ed., Kim, M., Ed., Pister, K., Dejean, N.,
              and D. Barthel, "Routing Metrics Used for Path Calculation
              in Low-Power and Lossy Networks", RFC 6551,
              DOI 10.17487/RFC6551, March 2012,
              <https://www.rfc-editor.org/info/rfc6551>.

   [RFC7102]  Vasseur, JP., "Terms Used in Routing for Low-Power and
              Lossy Networks", RFC 7102, DOI 10.17487/RFC7102, January
              2014, <https://www.rfc-editor.org/info/rfc7102>.



She, et al.               Expires 21 June 2021                  [Page 6]

Internet-Draft                 DODAG size                  December 2020


8.  Informative References

   [IEEE802154]
              IEEE standard for Information Technology, "IEEE Std.
              802.15.4, Part. 15.4: Wireless Medium Access Control (MAC)
              and Physical Layer (PHY) Specifications for Low-Rate
              Wireless Personal Area Networks".

   [RFC7228]  Bormann, C., Ersue, M., and A. Keranen, "Terminology for
              Constrained-Node Networks", RFC 7228,
              DOI 10.17487/RFC7228, May 2014,
              <https://www.rfc-editor.org/info/rfc7228>.

   [RFC7416]  Tsao, T., Alexander, R., Dohler, M., Daza, V., Lozano, A.,
              and M. Richardson, Ed., "A Security Threat Analysis for
              the Routing Protocol for Low-Power and Lossy Networks
              (RPLs)", RFC 7416, DOI 10.17487/RFC7416, January 2015,
              <https://www.rfc-editor.org/info/rfc7416>.

Authors' Addresses

   Huimin She
   Cisco Systems, Inc
   Xinsi Building
   No. 926 Yishan Road, Xuhui District
   SHANGHAI
   200233
   China

   Email: hushe@cisco.com


   Li Zhao
   Cisco Systems, Inc
   Xinsi Building
   No. 926 Yishan Road, Xuhui District
   SHANGHAI
   200233
   China

   Email: liz3@cisco.com










She, et al.               Expires 21 June 2021                  [Page 7]

Internet-Draft                 DODAG size                  December 2020


   Pascal Thubert
   Cisco Systems, Inc
   Building D
   45 Allee des Ormes - BP1200
   06254 MOUGINS - Sophia Antipolis
   France

   Phone: +33 497 23 26 34
   Email: pthubert@cisco.com










































She, et al.               Expires 21 June 2021                  [Page 8]
