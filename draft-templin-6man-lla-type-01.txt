



Network Working Group                                    F. Templin, Ed.
Internet-Draft                                        The Boeing Company
Intended status: Standards Track                       November 23, 2020
Expires: May 27, 2021


                 The IPv6 Link-Local Address Type Field
                     draft-templin-6man-lla-type-01

Abstract

   IPv6 link-local addresses are formed from the prefix fe80::/10 which
   is followed by 54 "zero" bits, then followed by a 64-bit Interface
   Identifier.  There are multiple methods for generating link-local
   addresses, and multiple may be in use by nodes on the same link (and
   sometimes even the same interface) at the same time.  This document
   defines an IPv6 link-local address "Type" field that identifies the
   type of link-local address being used.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 27, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Templin                   Expires May 27, 2021                  [Page 1]

Internet-Draft     IPv6 Link-Local Address Type Field      November 2020


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  The IPv6 Link-Local Address Type Field  . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   The IPv6 link-local address prefix is defined in [RFC4291] as the
   prefix fe80::/10 followed by 54 "zero" bits, then followed by a
   64-bit interface identifier.  There are multiple methods for
   generating link-local addresses, and multiple may be in use on the
   same link (and sometimes even the same interface) at the same time.

   For example, [I-D.ietf-6man-rfc4941bis], [RFC7217], [RFC4291],
   [RFC3972], [I-D.templin-6man-omni-interface] and possibly others
   define diverse methods for generating interface identifiers for
   constructing link-local addresses on a given interface.
   Administrative configuration (e.g., manually setting the interface
   ID) is also an option available to all interfaces.

   IPv6 multi-addressing allows each interface to assign multiple IPv6
   addresses, and even multiple IPv6 link-local addresses.  On some
   interfaces, it may even be the case that multiple link-local
   addresses of different types would be configured at the same time.
   But, since the diverse methods for generating interface identifiers
   are not coordinated with one another, some interfaces may need a way
   to differentiate the types of link-local addresses as well as to
   avoid collisions and duplication.

   This document defines a Type field in the link-local address prefix
   for differentiating link-local address construction types.  The Type
   field also has a companion Function field which can be used to
   perform Type-specific functions such as Prefix Delegation (PD).

   This document updates [RFC4291].





Templin                   Expires May 27, 2021                  [Page 2]

Internet-Draft     IPv6 Link-Local Address Type Field      November 2020


2.  Terminology

   The terminology in the normative references applies.

3.  The IPv6 Link-Local Address Type Field

   [RFC4291] defines the IPv6 link-local address format as the prefix
   fe80::/10, followed by 54 zero bits, then followed by a 64-bit
   Interface Identifier as shown in Figure 1:

     |   10     |
     |  bits    |         54 bits         |          64 bits           |
     +----------+-------------------------+----------------------------+
     |1111111010|           0             |       interface ID         |
     +----------+-------------------------+----------------------------+

                 Figure 1: IPv6 Link-Local Address Format

   In this format, there is currently no use for the 54 bits of 0s, and
   existing IPv6-over-(foo) documents such as [RFC2464] expect them
   always to be zero regardless of the method used in generating the
   Interface ID.

   However, new IPv6-over-(foo) documents could benefit from having a
   coded indication of the link-local address construction type.  This
   would not only allow the interface to differentiate between the
   address construction methods used by the sender in packets received
   with link-local addresses, but it would also provide a means for
   avoiding address duplication between diverse address
   autoconfiguration methods used on the same link.

   This document defines a new Type field in the IPv6 link-local address
   prefix.  The Type field and a companion Function field occupy the
   least significant 16 bits of the 64-bit link-local address prefix as
   shown in Figure 2:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |1|1|1|1|1|1|1|0|1|0|            zeros (22 bits)                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |       zeros (16 bits)         |    Function   |     Type      |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

             Figure 2: IPv6 Link-Local Prefix with Type Field

   In this format, Type is an 8-bit field that identifies the link-local
   address type on IPv6-over-(foo) interfaces that recognize the field,



Templin                   Expires May 27, 2021                  [Page 3]

Internet-Draft     IPv6 Link-Local Address Type Field      November 2020


   and Function is an 8-bit Type-specific field.  The Type and Function
   fields are present only when preceded by the prefix fe80::/48, and
   are not present when preceded by any other prefix.  The values for
   Type that are currently defined are:

        Link-Local Format              Type
        *****************              ****
        Unspecified (default)             0
        Administratively Configured       1
        RFC4941bis                        2
        RFC7217                           3
        RFC4291                           4
        RFC3972                           5
        OMNI                              6

                                 Figure 3

   For example, on IPv6-over-(foo) interface types that recognize the
   Type field, an IPv6 link-local address formed according to [RFC7217]
   would be written as: fe80:0:0:3::[Interface ID], while one formed
   according to [RFC3972] would be written as: fe80:0:0:5::[Interface
   ID].  For some link types, it is possible that multiple types would
   be assigned on the same link and possibly even on the same interface.

   For Types '2' (RFC4941bis) and '6' (OMNI), PD clients set the
   Function field to a non-zero prefix length value between 1 and 64 in
   the source addresses of messages used to request a PD.  For 'Type 6'
   (OMNI), PD servers set the Function field to a non-zero prefix length
   value between 1 and 64 in the destination addresses of messages used
   to deliver a PD.  For all other cases, the Function field is set to
   the value 0 unless otherwise specified in a new link-local address
   format specification, or in an update to this document.

   Note that for existing IPv6-over-(foo) link types, the Type and
   Function fields are always set to the value 0 (unspecified) and the
   link local address format fe80::/64 still applies as it always has.

4.  IANA Considerations

   This document defines a Type field for IPv6 link-local addresses, for
   which IANA is instructed to create and maintain a new registry
   entitled "IPv6 Link-Local Address Type values".  Initial values are
   given below; future assignments are to be made through Expert Review
   [RFC8126]:







Templin                   Expires May 27, 2021                  [Page 4]

Internet-Draft     IPv6 Link-Local Address Type Field      November 2020


        Link-Local Format              Type
        *****************              ****
        Unspecified (default)             0
        Administratively Configured       1
        RFC4941bis                        2
        RFC7217                           3
        RFC4291                           4
        RFC3972                           5
        OMNI                              6

           Figure 4: IANA IPv6 Link-Local Address Type Registry

5.  Security Considerations

   Security considerations for IPv6 [RFC8200] apply.

6.  Acknowledgements

   This document is aligned with the IETF 6man (IPv6) working group.

   .

7.  References

7.1.  Normative References

   [I-D.ietf-6man-rfc4941bis]
              Gont, F., Krishnan, S., Narten, T., and R. Draves,
              "Temporary Address Extensions for Stateless Address
              Autoconfiguration in IPv6", draft-ietf-6man-rfc4941bis-12
              (work in progress), November 2020.

   [I-D.templin-6man-omni-interface]
              Templin, F. and T. Whyman, "Transmission of IP Packets
              over Overlay Multilink Network (OMNI) Interfaces", draft-
              templin-6man-omni-interface-50 (work in progress), October
              2020.

   [RFC3972]  Aura, T., "Cryptographically Generated Addresses (CGA)",
              RFC 3972, DOI 10.17487/RFC3972, March 2005,
              <https://www.rfc-editor.org/info/rfc3972>.

   [RFC4291]  Hinden, R. and S. Deering, "IP Version 6 Addressing
              Architecture", RFC 4291, DOI 10.17487/RFC4291, February
              2006, <https://www.rfc-editor.org/info/rfc4291>.






Templin                   Expires May 27, 2021                  [Page 5]

Internet-Draft     IPv6 Link-Local Address Type Field      November 2020


   [RFC7217]  Gont, F., "A Method for Generating Semantically Opaque
              Interface Identifiers with IPv6 Stateless Address
              Autoconfiguration (SLAAC)", RFC 7217,
              DOI 10.17487/RFC7217, April 2014,
              <https://www.rfc-editor.org/info/rfc7217>.

   [RFC8126]  Cotton, M., Leiba, B., and T. Narten, "Guidelines for
              Writing an IANA Considerations Section in RFCs", BCP 26,
              RFC 8126, DOI 10.17487/RFC8126, June 2017,
              <https://www.rfc-editor.org/info/rfc8126>.

   [RFC8200]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", STD 86, RFC 8200,
              DOI 10.17487/RFC8200, July 2017,
              <https://www.rfc-editor.org/info/rfc8200>.

7.2.  Informative References

   [RFC2464]  Crawford, M., "Transmission of IPv6 Packets over Ethernet
              Networks", RFC 2464, DOI 10.17487/RFC2464, December 1998,
              <https://www.rfc-editor.org/info/rfc2464>.

Author's Address

   Fred L. Templin (editor)
   The Boeing Company
   P.O. Box 3707
   Seattle, WA  98124
   USA

   Email: fltemplin@acm.org




















Templin                   Expires May 27, 2021                  [Page 6]
