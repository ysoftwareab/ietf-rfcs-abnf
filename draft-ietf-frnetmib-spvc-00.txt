
INTERNET DRAFT                                                B. Coutts
<draft-ietf-frnetmib-spvc-00.txt>       Cascade Communications Corp.
                                                       February 1, 1997
                                                   Expires July 1, 1997



          Frame Relay Service Extensions MIB for Switched PVCs



1.  Status of this Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months.  Internet-Drafts may be updated, replaced, or obsoleted by
   other documents at any time.  It is not appropriate to use Internet-
   Drafts as reference material or to cite them other than as a
   ``working draft'' or ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
   Directories on ds.internic.net (US East Coast), nic.nordu.net
   (Europe), ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific
   Rim).

   This draft document will be submitted to the RFC editor as an
   extension to the SNMP MIB.  Please send comments to the author,
   copying iplpdn@cnri.reston.va.us.  It expires July 1997.

2.  Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in TCP/IP- based internets.
   In particular, it defines objects for managing Frame Relay Switched
   Permanent Virtual Circuits (SPVCs) as extensions to RFC 1604 [1].
   This memo does not specify a standard for the Internet community.

3.  The SNMPv2 Network Management Framework

   The major components of the SNMPv2 Network Management framework are
   described in the documents listed below.

   o    RFC 1902 [2] defines the Structure of Management



Coutts                    Expires July 1, 1997                  [Page 1]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


        Information (SMI), the mechanisms used for describing and
        naming objects for the purpose of management.

   o    STD 17, RFC 1213 [3] defines MIB-II, the core set of
        managed objects (MO) for the Internet suite of protocols.

   o    RFC 1905 [4] defines the protocol used for network access
        to managed objects.

   o    RFC 1604 [1] defines the protocol used for managing
        Frame Relay services.

   The framework is adaptable/extensible by defining new MIBs to suit
   the requirements of specific applications/protocols/situations.

   Managed objects are accessed via a virtual information store, the
   MIB.  Objects  in  the  MIB  are  defined  using the subset of
   Abstract Syntax Notation One (ASN.1) defined in the SMI. In
   particular, each object type is named by an OBJECT IDENTIFIER, which
   is an administratively assigned name. The object  type  together
   with  an  object  instance  serves  to uniquely  identify  a
   specific  instantiation  of the object.  For human convenience, often
   a textual string, termed the descriptor, is  used  to refer to the
   object type.

4.  Overview

   Section 3 "Overview" of RFC 1604 [1] and its subsections provide
   overview and background of how to use the Frame Relay Service MIB.
   This material is pertinent to the RFC 1604 extensions provided in
   this draft, and should be followed.

4.1.  Frame Relay Service MIB Extensions for SPVCs

   This MIB addresses the instances needed to manage the Frame Relay
   Forum's Implementation Agreement for SPVCs (FRF.10).  These instances
   are based on the ATM Forum Soft PVC MIB [5] objects to provide a
   consistent Switched PVC management model for both ATM and Frame Relay
   SPVCs.

   A Switched PVC (SPVC) is a virtual circuit that appears to the user
   to be a PVC but spans multiple networks as an SVC.  The originating
   network "ingress" endpoint is configured as one PVC endpoint and is
   configured with information (including a destination address)
   required to signal and establish an SVC across the NNI interfaces
   between networks.  The destination network "egress" endpoint is
   configured as the second PVC endpoint and is configured with the
   destination address.  The originating endpoint has the responsibility



Coutts                    Expires July 1, 1997                  [Page 2]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


   for establishing, releasing, and re-establishing the SPVC.

   Note that the MIB extensions defined herein allow either or both ends
   of the SPVC to be configured as originating endpoints.  Note, also,
   that these SPVC MIB extensions define configuration of only the
   originating endpoint SPVC parameters.

   In order to configure the originating endpoint SPVC parameters, an
   entry in the PVC End-Point table and an entry in the Switched PVC
   table must be defined.  The PVC End-Point table entry (see the PVC
   End-Point Group in RFC 1604 [1]) identifies the bi-directional
   traffic parameters for the originating endpoint of the SPVC.  The
   Switched PVC table entry (defined in these SPVC MIB Extensions)
   identifies the destination address information (e.g., E.164 address)
   of the SPVC.  Together these two entries provide the information
   required (by the network originating the SPVC) to signal an SVC
   across the NNI.

   A row in the PVC End-Point table must be created prior to creating a
   row in the Switched PVC table.  And the corresponding row in the PVC
   End-Point table must be active prior to activating the Switched PVC
   table row.  When the Switched PVC table row is made active, an
   attempt is made to set up a switched connection to an interface at
   the destination switch.

   Presently, the Frame Relay Service MIB does not include an SVC
   cross-connect table.  Once such a table is defined, an SVC cross-
   connect table entry should be created at the time the SPVC table row
   is made active;  and deleted at the time the SPVC table row is made
   inactive.





















Coutts                    Expires July 1, 1997                  [Page 3]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


5.  Definitions

   FRNETSERV-MIB DEFINITIONS ::= BEGIN

   IMPORTS
           MODULE-IDENTITY, OBJECT-TYPE, NOTIFICATION-TYPE
           Counter32, Integer32,
           TimeTicks                               FROM SNMPv2-SMI
           TEXTUAL-CONVENTION, DisplayString, PhysAddress,
           TimeStamp, RowStatus                    FROM SNMPv2-TC
           MODULE-COMPLIANCE, OBJECT-GROUP         FROM SNMPv2-CONF
           ifIndex, transmission                   FROM RFC-1213

   frnetservMIB MODULE-IDENTITY
           .
           .
           .

   IfIndex ::= TEXTUAL-CONVENTION
           .
           .
           .

   frnetservObjects        OBJECT IDENTIFIER ::= { frnetservMIB 1 }
   frnetservTraps          OBJECT IDENTIFIER ::= { frnetservMIB 2 }

           .
           .
           .

   --
   -- Switched PVC Extensions
   --
   --
   -- A Switched PVC (SPVC) is a virtual circuit that appears to the user to be a
   -- PVC but spans multiple networks as an SVC.
   -- The PVC End-Point table entry (see the PVC End-Point Group) identifies the
   -- bi-directional traffic parameters for the originating endpoint of the SPVC;
   -- and the Switched PVC table entry (of these Switched PVC Extensions)
   -- identifies the destination address information (e.g., E.164 address) of the
   -- SPVC.  Together these two entries provide the information required (by the
   -- network originating the SPVC) to signal an SVC across the NNI.
   --
   -- To create and activate an SPVC, the following procedures shall be followed:
   -- 1).  Create an entry in the frPVCEndptTable.
   -- 2).  Create an entry in the frSwitchedPVCTable.
   -- 3).  Activate the frPVCEndptTable entry.
   -- 4).  When the corresponding row in the frSwitchedPVCTable (i.e., the rows with



Coutts                    Expires July 1, 1997                  [Page 4]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


   --      matching UNI/NNI logical port and matching DLCI index values) is set to
   --      'active', an attempt is made to set up a switched connection to an
   --      interface at the destination switch.

   -- The Frame Relay Switched PVC Table

   frSwitchedPVCTable OBJECT-TYPE
           SYNTAX  SEQUENCE OF FrSwitchedPVCEntry
           MAX-ACCESS      not-accessible
           STATUS  current
           DESCRIPTION
                   "The (conceptual) table used to manage Switched Permanent
                    Virtual Connections (SPVCs). The SPVC table is applicable
                    only to switches."
           ::= { frnetservObjects 8 }

   frSwitchedPVCEntry OBJECT-TYPE
           SYNTAX  FrSwitchedPVCEntry
           MAX-ACCESS      not-accessible
           STATUS  current
           DESCRIPTION
                   "Each entry in this table represents a Switched Permanent
                    Virtual Connection (SPVC) Originating at a switch interface.
                    An SPVC is a VC that is :
                    - provisioned at the originating (source) interface of the
                      connection.
                    - established by signalling procedures across a network to a
                      destination interface.

                    A row in the frPVCEndptTable must be created, defining a PVC
                    endpoint on the source interface, prior to creating an
                    frSwitchedPVCEntry row.  The row in the frPVCEndptTable must
                    be active prior to activating the frSwitchedPVCEntry row. The
                    contents of this table reflect only the characteristics unique
                    to a Switched PVC. The traffic and signalling parameters are
                    defined in the PVC endpoint row for the source interface.
                    Since the Low Layer Compatibility, Called Party Subaddress,
                    and Calling Party Subaddress information elements are used to
                    carry end-to-end information, they are not used in the
                    configuration of Switched PVC. Note that the User-User
                    Information information element may be used to contain the
                    frSwitchedPVCTargetDlci if 'specificSPVCCorrelator' is
                    selected in the frSwitchedPVCTargetSelectType.  For Switched
                    PVC configuration, all  parameters in the bearer capability
                    parameters shall be set to their default values.

                    When a row is made active, an attempt is made to set up a
                    switched connection to an interface at the destination switch.



Coutts                    Expires July 1, 1997                  [Page 5]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


                    No objects (other that frSwitchedPVCRowStatus) can be set
                    while the row is active.

                    The combination of frSwitchedPVCIfIndex and
                    frSwitchedPVCDlciIndex specified in index clause of this entry
                    serves to identify the PVC endpoint on the source interface.

                    In accordance with ITU-T X.76 Annex A, if the
                    frSwitchedPVCTargetSelectType is provisioned for either
                    'specificDLCI' or 'specificSPVCCorrelator', SPVC
                    establishment can be attempted from either one or both
                    endpoints. Otherwise, SPVC establishment must be
                    attempted from a single endpoint chosen through bilateral
                    agreement - that is, the SPVC need only be provisioned at a
                    single endpoint"
           INDEX { frSwitchedPVCIfIndex, frSwitchedPVCDlciIndex }
           ::= { frSwitchedPVCTable 1 }

   FrSwitchedPVCEntry ::=
           SEQUENCE {
                   frSwitchedPVCIfIndex
                           ifIndex,
                   frSwitchedPVCDlciIndex
                           Integer32,
                   frSwitchedPVCTargetAddress
                           OCTET STRING,
                   frSwitchedPVCTargetAddressType
                           INTEGER,
                   frSwitchedPVCTargetSelectType
                           INTEGER,
                   frSwitchedPVCTargetDlci
                           Integer32,
                   frSwitchedPVCLastReleaseCause
                           INTEGER,
                   frSwitchedPVCLastReleaseDiagnostic
                           OCTET STRING,
                   frSwitchedPVCOperStatus
                           INTEGER,
                   frSwitchedPVCRestart
                           INTEGER,
                   frSwitchedPVCRetryInterval
                           INTEGER,
                   frSwitchedPVCRetryTimer
                           INTEGER,
                   frSwitchedPVCRetryFailures
                           INTEGER,
                   frSwitchedPVCRetryLimit
                           INTEGER,



Coutts                    Expires July 1, 1997                  [Page 6]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


                   frSwitchedPVCRowStatus
                           RowStatus
                   }

   frSwitchedPVCIfIndex OBJECT-TYPE
           SYNTAX  IfIndex
           MAX-ACCESS      not-accessible
           STATUS  current
           DESCRIPTION
                   "The value of this object is equal to MIB II's ifIndex value of
                    the UNI/NNI logical port for thisPVC endpoint."
           ::= { frSwitchedPVCEntry 1 }

   frSwitchedPVCDlciIndex OBJECT-TYPE
           SYNTAX  Integer32
           MAX-ACCESS      not-accessible
           STATUS  current
           DESCRIPTION
                   "The value of this object is equal to the DLCI value for this
                    PVC endpoint."
           ::= { frSwitchedPVCEntry 2 }

   frSwitchedPVCTargetAddress OBJECT-TYPE
           SYNTAX  OCTET STRING
           MAX-ACCESS      read-create
           STATUS  current
           DESCRIPTION
                   "The target Address of this SPVC."
           ::= { frSwitchedPVCEntry 3 }

   frSwitchedPVCTargetAddressType OBJECT-TYPE
           SYNTAX  INTEGER {
                   e164 (2)                -- E.164 addressing format
           }
           MAX-ACCESS      read-create
           STATUS  current
           DESCRIPTION
                   "The target Address Type of this SPVC."
           ::= { frSwitchedPVCEntry 4 }

   frSwitchedPVCTargetSelectType OBJECT-TYPE
           SYNTAX  INTEGER {
                   anyDLCI(1),
                   specificDLCI(2),
                   specificSPVCCorrelator(3)
           }
           MAX-ACCESS      read-create
           STATUS  current



Coutts                    Expires July 1, 1997                  [Page 7]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


           DESCRIPTION
                   "Indicates whether the target DLCI value or SPVC correlator is
                    to be used at the destination.  If the value 'anyDLCI' is
                    specified, the destination switch will choose the DLCI value.
                    In such a case, once the SPVC frSwitchedPvcOperStatus value is
                    'connected', the DLCI value chosen will be available for
                    reading in frSwitchedPVCTargetDlci.  If the value
                    'specificDLCI' or 'specificSPVCCorrelator' is specified, then
                    a value must be supplied for object frSwitchedPVCTargetDlci
                    prior to activation of the row.  This value is then to be used
                    at the destination."
           DEFVAL { specificDLCI }
           ::= { frSwitchedPVCEntry 5 }

   frSwitchedPVCTargetDlci OBJECT-TYPE
           SYNTAX  INTEGER  (0..8388607)
           MAX-ACCESS      read-create
           STATUS  current
           DESCRIPTION
                   "The DLCI value of the SPVC used at the target interface when
                    the frSwitchedPVCTargetSelectType is set to 'specificDLCI'.
                    Or the value of the specific SPVC correlator to be passed in
                    the SETUP message User-User information element and to be used
                    at the target interface when the frSwitchedPVCTargetSelectType
                    is set to 'specificSPVCCorrelator'."
           ::= { frSwitchedPVCEntry 6 }

   frSwitchedPVCLastReleaseCause   OBJECT-TYPE
           SYNTAX  INTEGER(1..127)
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION
                   "Value of the Cause field of the Cause Information Element in
                    the last Release Signalling message received for this SPVC.
                    Indicates the reason for the Disconnect."
           ::= { frSwitchedPVCEntry 7 }

   frSwitchedPVCLastReleaseDiagnostic      OBJECT-TYPE
           SYNTAX  OCTET STRING (SIZE(0..8))
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION
                   "Value of the first 8 bytes of diagnostic information from the
                    Cause field of the Cause Information Element in the last
                    Release Signalling message received for this SPVC."
           ::= { frSwitchedPVCEntry 8 }

   frSwitchedPVCOperStatus     OBJECT-TYPE



Coutts                    Expires July 1, 1997                  [Page 8]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


           SYNTAX  INTEGER {
                   other(1),
                   setupInProgress(2),
                   connected(3),
                   failed(4)
                   }
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION
                   "Describes the status of the SPVC. If the row is not active,
                    the value of this object is 'other'."
           ::= { frSwitchedPVCEntry 9 }

   frSwitchedPVCRestart    OBJECT-TYPE
           SYNTAX  INTEGER {
                   restart(1),
                   noop(2)
                   }
           MAX-ACCESS      read-create
           STATUS  current
           DESCRIPTION
                   "When the value is set to 'noop' then no action is taken;
                    otherwise, when the value is set to 'restart', the PVC is
                    released if necessary and a new setup procedure is begun. As a
                    result of this action, the frSwitchedPVCOperStatus object
                    transitions to 'setupInProgress' (either from the 'connected'
                    or 'failed' state). When read, the value 'noop' is returned."
           ::= { frSwitchedPVCEntry 10 }

   frSwitchedPVCRetryInterval      OBJECT-TYPE
           SYNTAX  INTEGER (0..3600)
           UNITS           "seconds"
           MAX-ACCESS      read-create
           STATUS  current
           DESCRIPTION
                   "Defines the period to wait (in seconds) before attempting to
                    establish the SPVC connection after the first failed call
                    attempt.  Zero represents an infinite interval indicating no
                    retries."
           DEFVAL { 0 }
           ::= { frSwitchedPVCEntry 11 }

   frSwitchedPVCRetryTimer OBJECT-TYPE
           SYNTAX  INTEGER
           UNITS           "seconds"
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION



Coutts                    Expires July 1, 1997                  [Page 9]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


                   "Indicates the current value of the retry timer (in seconds)
                    for this connection. When the value reaches zero, an attempt
                    will be made to establish the SPVC connection"
           ::= { frSwitchedPVCEntry 12 }

   frSwitchedPVCRetryFailures      OBJECT-TYPE
           SYNTAX  INTEGER
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION
                   "Indicates how many attempts to establish the connection have
                    failed.  This counter is reset whenever a connection is
                    successfully established or the SPVC is restarted."
           ::= { frSwitchedPVCEntry 13 }

   frSwitchedPVCRetryLimit OBJECT-TYPE
           SYNTAX  INTEGER
           MAX-ACCESS      read-create
           STATUS  current
           DESCRIPTION
                   "Sets a maximum limit on how many consecutive unsuccessful call
                    setup attempts can be made before stopping the attempt to set
                    up the connection. If this limit is reached then management
                    action will be required to initiate a new attempt to establish
                    the connection. A value of zero indicates no limit - the
                    attempt will continue until successful."
           DEFVAL { 0 }
           ::= { frSwitchedPVCEntry 14 }

   frSwitchedPVCRowStatus  OBJECT-TYPE
           SYNTAX  RowStatus
           MAX-ACCESS      read-create
           STATUS  current
           DESCRIPTION
                   "Used to create and delete an SPVC. When this object is set to
                    'active' an attempt is made to set up the SPVC. When this
                    object has the value 'active' and is set to another value, any
                    set-up or connection in-progress is released."
           ::= { frSwitchedPVCEntry 15 }

   --
   -- Currently Failing Switched PVC table.
   --

   frCurrentlyFailingSwitchedPVCTable      OBJECT-TYPE
           SYNTAX  SEQUENCE OF FrCurrentlyFailingSwitchedPVCEntry
           MAX-ACCESS      not-accessible
           STATUS  current



Coutts                    Expires July 1, 1997                 [Page 10]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


           DESCRIPTION
                   "A table indicating all Switched Permanent Virtual Connections
                    (Switched PVCs) for which the frSwitchedPVCRowStatus is
                    'active' and the frSwitchedPVCOperStatus is other than
                    'connected'."
           ::= { frSwitchedPvcMIBObjects 11 }

   frCurrentlyFailingSwitchedPVCEntry      OBJECT-TYPE
           SYNTAX  FrCurrentlyFailingSwitchedPVCEntry
           MAX-ACCESS      not-accessible
           STATUS  current
           DESCRIPTION
                   "Each entry in this table represents a Switched Permanent
                    Virtual Connection (Switched PVC) for which the
                    frSwitchedPVCRowStatus is 'active' and the
                    frSwitchedPVCOperStatus is other than 'connected'."
           INDEX { ifIndex, frDlci }
           ::= { frCurrentlyFailingSwitchedPVCTable 1 }

   FrCurrentlyFailingSwitchedPVCEntry ::=
           SEQUENCE {
                   frCurrentlyFailingSwitchedPVCTimeStamp
                           TimeStamp
                   }

   frCurrentlyFailingSwitchedPVCTimeStamp  OBJECT-TYPE
           SYNTAX  TimeStamp
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION
                   "The time at which this Switched PVC began to fail."
           ::= { frCurrentlyFailingSwitchedPVCEntry 1 }


   --
   -- Switched PVC MIB Definitions
   --

   frSwitchedPvcBaseGroup  OBJECT IDENTIFIER ::= { frnetservObjects 12 }

   frSwitchedPvcCallFailuresTrapEnable     OBJECT-TYPE
           SYNTAX  TruthValue
           MAX-ACCESS      read-write
           STATUS  current
           DESCRIPTION
                   "Allows the generation of traps in response to call failures."
           ::= { frSwitchedPvcBaseGroup 1 }




Coutts                    Expires July 1, 1997                 [Page 11]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


   frSwitchedPvcCallFailures       OBJECT-TYPE
           SYNTAX  TruthValue
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION
                   "The number of times a series of call attempts has failed to
                    establish a Switched PVC."
           ::= { frSwitchedPvcBaseGroup 2 }

   frSwitchedPvcCurrentlyFailingSwitchedPVCs       OBJECT-TYPE
           SYNTAX  Gauge32
           MAX-ACCESS      read-only
           STATUS  current
           DESCRIPTION
                   "The current number of Switched-PVC connections for which the
                    frSwitchedPVCOperStatus does not have the value 'connected'."
           ::= { frSwitchedPvcBaseGroup 3 }

   frSwitchedPvcNotificationInterval               OBJECT-TYPE
           SYNTAX  Integer32 (0..3600)
           UNITS   "seconds"
           MAX-ACCESS      read-write
           DESCRIPTION
                   "The minimum interval in seconds between the sending of
                    frSwitchedPvcCallFailuresTrap notifications."
           ::= { frSwitchedPvcBaseGroup 4 }

   END























Coutts                    Expires July 1, 1997                 [Page 12]

INTERNET DRAFT       FR SPVC Service Extensions MIB     February 1, 1997


6.  Acknowledgments

   Special thanks to Andy Malis and Ron Parker of Cascade
   Communications and Dave Sinicrope of IBM for their
   valuable comments.

7.  References

   [1]  Brown, T., "Definitions of Managed Objects for Frame
        Relay Service", RFC 1604, Bell Communications Research,
        March 1994.

   [2]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M.,
        and S. Waldbusser, "Structure of Management Information
        for Version 2 of the Simple Network Management Protocol
        (SNMPv2)", RFC 1902, January 1996.

   [3]  McCloghrie, K., and M. Rose, Editors, "Management
        Information Base for Network Management of TCP/IP-based
        internets: MIB-II", STD 17, RFC 1213, Hughes LAN Systems,
        Performance Systems International, March 1991.

   [4]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M.,
        and S. Waldbusser, "Protocol Operations for Version 2 of
        the Simple Network Management Protocol (SNMPv2)", RFC
        1905, January 1996.

   [5]  ATM Forum Technical Committee, "Private Network-Network
        Specification Version 1.0 Addendum (Soft PVC MIB)",
        af-pnni-0066.000, July 1996.

8.  Author's Address

   Bill Coutts
   Cascade Communications Corp
   5 Carlisle Road
   Westford, MA  01886
   USA

   Phone:  +1 508 692 2600 x1516
   Email:  bcoutts@casc.com










Coutts                    Expires July 1, 1997                 [Page 13]

