


Network Working Group                                          A. Newton
Internet-Draft                                            VeriSign, Inc.
Expires: December 9, 2005                                   June 7, 2005


   A Common Schema for Internet Registry Information Service Transfer
                               Protocols
               draft-ietf-crisp-iris-common-transport-01

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 9, 2005.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   This document describes an XML Schema for use by Internet Registry
   Information Service (IRIS) application transfer protocols that share
   common characteristics.








Newton                  Expires December 9, 2005                [Page 1]

Internet-Draft            iris-common-transport                June 2005


Table of Contents

   1.   Introduction . . . . . . . . . . . . . . . . . . . . . . . .   3
   2.   Document Terminology . . . . . . . . . . . . . . . . . . . .   4
   3.   Formal XML Syntax  . . . . . . . . . . . . . . . . . . . . .   5
   4.   Version Information  . . . . . . . . . . . . . . . . . . . .   8
   5.   Size Information . . . . . . . . . . . . . . . . . . . . . .   9
   6.   Authentication Success Information . . . . . . . . . . . . .  10
   7.   Authentication Failure Information . . . . . . . . . . . . .  11
   8.   Other Information  . . . . . . . . . . . . . . . . . . . . .  12
   9.   Internationalization Considerations  . . . . . . . . . . . .  13
   10.  IANA Considerations  . . . . . . . . . . . . . . . . . . . .  14
     10.1   XML Namespace URN Registration . . . . . . . . . . . . .  14
   11.  Security Considerations  . . . . . . . . . . . . . . . . . .  15
   12.  References . . . . . . . . . . . . . . . . . . . . . . . . .  16
     12.1   Normative References . . . . . . . . . . . . . . . . . .  16
     12.2   Informative References . . . . . . . . . . . . . . . . .  16
        Author's Address . . . . . . . . . . . . . . . . . . . . . .  17
   A.   Contributors . . . . . . . . . . . . . . . . . . . . . . . .  18
        Intellectual Property and Copyright Statements . . . . . . .  19































Newton                  Expires December 9, 2005                [Page 2]

Internet-Draft            iris-common-transport                June 2005


1.  Introduction

   IRIS [8] has two transfer protocols, LWZ [9] and XPC [10], that share
   common negotiation mechanisms.  Both transfer protocols have a need
   for the server to provide rich status information to clients during
   protocol negotiation.  In many cases, this status information would
   be too complex to describe using simple bit fields and length-
   specifed octet sequences.  This document defines an XML Schema for
   this rich status information and describes the usage of comforant XML
   for conveying this status information.









































Newton                  Expires December 9, 2005                [Page 3]

Internet-Draft            iris-common-transport                June 2005


2.  Document Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [6].














































Newton                  Expires December 9, 2005                [Page 4]

Internet-Draft            iris-common-transport                June 2005


3.  Formal XML Syntax

   The following is the XML Schema used to define transfer protocol
   status information.  See the following specifications: [2], [3], [4],
   [5].

   <?xml version="1.0"?>
   <schema xmlns="http://www.w3.org/2001/XMLSchema"
           xmlns:iristrans="urn:ietf:params:xml:ns:iris-transport"
           targetNamespace="urn:ietf:params:xml:ns:iris-transport"
           elementFormDefault="qualified" >

     <annotation>
       <documentation>
         A schema for describing status information
         for use by multiple transfer protocols.
       </documentation>
     </annotation>

     <element name="versions">
       <complexType>
         <sequence>
           <element name="transferProtocol" maxOccurs="unbounded">
             <complexType>
               <sequence>
                 <element name="application" minOccurs="0"
                   maxOccurs="unbounded">
                   <complexType>
                     <sequence>
                       <element name="dataModel" minOccurs="0"
                         maxOccurs="unbounded">
                         <complexType>
                           <attribute name="protocolId" type="token"
                             use="required" />
                           <attribute name="extensionIds"
                             type="normalizedString" />
                         </complexType>
                       </element>
                     </sequence>
                     <attribute name="protocolId" type="token"
                       use="required" />
                     <attribute name="extensionIds"
                       type="normalizedString" />
                   </complexType>
                 </element>
               </sequence>
               <attribute name="protocolId" type="token" use="required"
                 />



Newton                  Expires December 9, 2005                [Page 5]

Internet-Draft            iris-common-transport                June 2005


               <attribute name="extensionIds" type="normalizedString" />
               <attribute name="authenticationIds"
                 type="normalizedString" />
               <attribute name="responseSizeOctets"
                 type="positiveInteger" />
               <attribute name="requestSizeOctets"
                 type="positiveInteger" />
             </complexType>
           </element>
         </sequence>
       </complexType>
     </element>

     <element name="size">
       <complexType>
         <sequence>
           <element name="request"
             minOccurs="0"
             type="iristrans:octetsType" />
           <element name="response"
             minOccurs="0"
             type="iristrans:octetsType" />
         </sequence>
       </complexType>
     </element>

     <complexType name="octetsType">
       <choice>
         <element name="exceedsMaximum">
           <complexType/>
         </element>
         <element name="octets" type="positiveInteger" />
       </choice>
     </complexType>

     <element name="authenticationSuccess">
       <complexType>
         <sequence>
           <element name="description" minOccurs="0"
             maxOccurs="unbounded">
             <complexType>
               <simpleContent>
                 <extension base="string">
                   <attribute name="language" type="language"
                     use="required"/>
                 </extension>
               </simpleContent>
             </complexType>



Newton                  Expires December 9, 2005                [Page 6]

Internet-Draft            iris-common-transport                June 2005


           </element>
         </sequence>
       </complexType>
     </element>

     <element name="authenticationFailure">
       <complexType>
         <sequence>
           <element name="description" minOccurs="0"
             maxOccurs="unbounded">
             <complexType>
               <simpleContent>
                 <extension base="string">
                   <attribute name="language" type="language"
                     use="required"/>
                 </extension>
               </simpleContent>
             </complexType>
           </element>
         </sequence>
       </complexType>
     </element>

     <element name="other">
       <complexType>
         <sequence>
           <element name="description" minOccurs="0"
             maxOccurs="unbounded">
             <complexType>
               <simpleContent>
                 <extension base="string">
                   <attribute name="language" type="language"
                     use="required"/>
                 </extension>
               </simpleContent>
             </complexType>
           </element>
         </sequence>
         <attribute type="token" name="type" use="required"/>
       </complexType>
     </element>

   </schema>








Newton                  Expires December 9, 2005                [Page 7]

Internet-Draft            iris-common-transport                June 2005


4.  Version Information

   The <versions> element is used to describe version information about
   the transfer protocol, the application protocol, and data models used
   by the application protocol.

   The <versions> element has one or more <transferProtocol> child
   elements. <transferProtocol> elements have zero or more <application>
   child elements.  And <application> elements have zero or more
   <dataModel> elements.  Each of these element types has a 'protocolId'
   attribute identifying the protocol they represent and an optional
   'extensionIds' attribute identifying the protocol extensions they
   support.

   Additionally, the <transferProtocol> element has optionalal
   'authenticationIds', 'responseSizeOctets', and 'requestSizeOctets'
   attributes.  The 'authenticationIds' attribute identifies
   authentication mechanisms supported by the associated transfer
   protocol.  The 'responseSizeOctets' attribute describes the maximum
   response size in octets the server will give.  The
   'requestSizeOctets' attribute describes the maximum request size in
   octets the server will accept.

   The protocol, extension, and authentication mechanism identifiers are
   of no specific type, and this document defines none.  Specifications
   using this XML Schema MUST define the identifers for use with the
   <versions> element and its children.

   The meaning of octets for the transfer of data is counted in
   different ways for different transfer protocols.  Some transfer
   protocols need only to specify the octets of the data being
   transfered while other transfer protocols need to account for
   additional octets used to transfer the data.  Specifications using
   this XML Schema MUST describe how these octet counts are calculated.

   The following is example XML describing version information.

   <versions xmlns="urn:ietf:params:xml:ns:iris-transport">
     <transferProtocol protocolId="iris.lwz"
       authenticationIds="SASL/PLAIN SASL/EXTERNAL">
       <application protocolId="urn:ietf:params:xml:ns:iris1"
         extensionIds="http://example.com/SIMPLEBAG">
         <dataModel protocolId="urn:ietf:params:xml:ns:dchk1"/>
         <dataModel protocolId="urn:ietf:params:xml:ns:dreg1"/>
       </application>
     </transferProtocol>
   </versions>




Newton                  Expires December 9, 2005                [Page 8]

Internet-Draft            iris-common-transport                June 2005


5.  Size Information

   The <size> element provides a means for a server to communicate to a
   client that a given request has exceeded a negotiated size
   (<request>) or that a response to a given request will exceed a
   negotiated size (<response>).

   A server may indicate one of two size conditions by specifying the
   following child elements:

      <exceedsMaximum> - this child element simply indicates that the
      size exceeded the negotiated size.

      <octets> - this child element indicates that the size exceeded the
      negotiated size and conveys the number of octets that is the
      maximum for a request if the parent element is a <request> element
      or the number of octets needed to provide the response if the
      parent element is a <response> element.

   The meaning of octets for the transfer of data is counted in
   different ways for different transfer protocols.  Some transfer
   protocols need only to specify the octets of the data being
   transfered while other transfer protocols need to account for
   additional octets used to transfer the data.  Specifications using
   this XML Schema MUST describe how these octet counts are calculated.

   The following is example XML describing size information.

   <size xmlns="urn:ietf:params:xml:ns:iris-transport">
     <response>
       <octets>1211</octets>
     </response>
   </size>


















Newton                  Expires December 9, 2005                [Page 9]

Internet-Draft            iris-common-transport                June 2005


6.  Authentication Success Information

   The <authenticationSuccess> element indicates that a client has
   successfully authenticated to a server.  Along with this indication,
   it can provide text that may be presented to a user with regard to
   this successful authentication using child <description> elements.

   Each <description> element MUST have a 'language' attribute
   describing the language of the content of the <description> element.
   Clients are not expected to concatenate multiple descriptions,
   therefore servers MUST NOT provide multiple <description> elements
   with the same language descriptor.

   The following is example XML describing authentication success
   information.

   <authenticationSuccess
     xmlns="urn:ietf:params:xml:ns:iris-transport">
     <description language="en">
       user 'bob' authenticates via password
     </description>
   </authenticationSuccess>





























Newton                  Expires December 9, 2005               [Page 10]

Internet-Draft            iris-common-transport                June 2005


7.  Authentication Failure Information

   The <authenticationFailure> element indicates that a client has
   failed to properly authenticate to a server.  Along with this
   indication, it can provide text that may be presented to a user with
   regard to this authentication failure using child <description>
   elements.

   Each <description> element MUST have a 'language' attribute
   describing the language of the content of the <description> element.
   Clients are not expected to concatenate multiple descriptions,
   therefore servers MUST NOT provide multiple <description> elements
   with the same language descriptor.

   The following is example XML describing authentication failure
   information.

   <authenticationFailure
     xmlns="urn:ietf:params:xml:ns:iris-transport">
     <description language="en">
       please consult your admin if you have forgotten your password
     </description>
   </authenticationFailure>




























Newton                  Expires December 9, 2005               [Page 11]

Internet-Draft            iris-common-transport                June 2005


8.  Other Information

   The <other> element conveys status information that may require
   interpretation by a human to be meaningful.  This element has a
   required 'type' attribute which contains an identifier regarding the
   nature of the information.  This document does not define any
   identifiers for use in this attribute, but the intent is that these
   identifiers are well-known so that clients may take different classes
   of action based on the content of this attribute.  Therefore,
   specifications making use of this XML Schema MUST define these
   identifiers.

   The <other> element may have zero or more <description> elements.
   Each <description> element MUST have a 'language' attribute
   describing the language of the content of the <description> element.
   Servers may use these child elements to convey textual information to
   clients regarding the class (or type) of status information being
   specified by the <other> element.  Clients are not expected to
   concatenate multiple descriptions, therefore servers MUST NOT provide
   multiple <description> elements with the same language descriptor.

   The following is example XML describing other information.

   <other xmlns="urn:ietf:params:xml:ns:iris-transport" type="system">
     <description language="en">unavailable, come back
       later</description>
   </other>
























Newton                  Expires December 9, 2005               [Page 12]

Internet-Draft            iris-common-transport                June 2005


9.  Internationalization Considerations

   XML processors are obliged to recognize both UTF-8 and UTF-16 [1]
   encodings.  XML provides for mechanisms to identify and use other
   character encodings.  Application transfer protocols MUST define
   which additional character encodings, if any, are to be allowed in
   the use of the XML defined in this document.












































Newton                  Expires December 9, 2005               [Page 13]

Internet-Draft            iris-common-transport                June 2005


10.  IANA Considerations

10.1  XML Namespace URN Registration

   This document makes use of the XML namespace and schema registry
   specified in XML_URN [7].  Accordingly, the following registration
   information is provided for the IANA:

   o  URN/URI:

      *  urn:ietf:params:xml:ns:iris-transport

   o  Contact:

      *  Andrew  Newton <andy@hxr.us>

   o  XML:

      *  The XML Schema specified in Section 3
































Newton                  Expires December 9, 2005               [Page 14]

Internet-Draft            iris-common-transport                June 2005


11.  Security Considerations

   This document has not applicable security considerations.
















































Newton                  Expires December 9, 2005               [Page 15]

Internet-Draft            iris-common-transport                June 2005


12.  References

12.1  Normative References

   [1]  The Unicode Consortium, "The Unicode Standard, Version  3",
        ISBN 0-201-61633-5, 2000, <The Unicode Standard, Version 3>.

   [2]  World Wide Web  Consortium, "Extensible Markup Language (XML)
        1.0", W3C XML, February 1998,
        <http://www.w3.org/TR/1998/REC-xml-19980210>.

   [3]  World Wide Web  Consortium, "Namespaces in XML", W3C XML
        Namespaces, January 1999,
        <http://www.w3.org/TR/1999/REC-xml-names-19990114>.

   [4]  World Wide Web  Consortium, "XML Schema Part 2: Datatypes",
        W3C XML Schema, October 2000,
        <http://www.w3.org/TR/2001/REC-xmlschema-2-20010502/>.

   [5]  World Wide Web  Consortium, "XML Schema Part 1: Structures",
        W3C XML Schema, October 2000,
        <http://www.w3.org/TR/2001/REC-xmlschema-1-20010502/>.

   [6]  Bradner, S., "Key words for use in RFCs to  Indicate Requirement
        Levels", RFC 2119, BCP 14, March 1997.

   [7]  Mealling, M., "The IETF XML Registry", RFC 3688, BCP 81,
        February 2004.

12.2  Informative References

   [8]   Newton, A. and M. Sanz, "Internet Registry Information
         Service", RFC 3891, January 2004.

   [9]   Newton, A., "A Lightweight UDP Transfer Protocol for the
         Internet  Registry Information Service",
         draft-ietf-crips-iris-lwz-02 (work in progress), April 2005.

   [10]  Newton, A., "XML Pipelining with Chunks for the Internet
         Registry  Information Service", draft-ietf-crips-iris-xpc-00
         (work in progress), April 2005.










Newton                  Expires December 9, 2005               [Page 16]

Internet-Draft            iris-common-transport                June 2005


Author's Address

   Andrew L. Newton
   VeriSign, Inc.
   21345 Ridgetop Circle
   Sterling, VA  20166
   USA

   Phone: +1 703 948 3382
   Email: anewton@verisignlabs.com; andy@hxr.us
   URI:   http://www.verisignlabs.com/








































Newton                  Expires December 9, 2005               [Page 17]

Internet-Draft            iris-common-transport                June 2005


Appendix A.  Contributors

   Substantive contributions to this document have been provided by the
   members of the IETF's CRISP Working Group, especially Robert Martin-
   Legene and David Blacka.














































Newton                  Expires December 9, 2005               [Page 18]

Internet-Draft            iris-common-transport                June 2005


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Newton                  Expires December 9, 2005               [Page 19]

