



PCE Working Group                                                A. Wang
Internet-Draft                                             China Telecom
Intended status: Standards Track                             B. Khasanov
Expires: February 19, 2021                                       S. Fang
                                                                  Huawei
                                                                  C. Zhu
                                                         ZTE Corporation
                                                         August 18, 2020


                  PCEP Extension for Native IP Network
               draft-ietf-pce-pcep-extension-native-ip-06

Abstract

   This document defines the Path Computation Element Communication
   Protocol (PCEP) extension for Central Control Dynamic Routing (CCDR)
   based application in Native IP network.  The scenario and framework
   of CCDR in native IP is described in [RFC8735] and
   [I-D.ietf-teas-pce-native-ip].  This draft describes the key
   information that is transferred between Path Computation Element
   (PCE) and Path Computation Clients (PCC) to accomplish the End to End
   (E2E) traffic assurance in Native IP network under central control
   mode.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on February 19, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.





Wang, et al.            Expires February 19, 2021               [Page 1]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  New Objects Extension . . . . . . . . . . . . . . . . . . . .   3
   5.  Objects Formats . . . . . . . . . . . . . . . . . . . . . . .   3
     5.1.  Peer Address List Object  . . . . . . . . . . . . . . . .   4
     5.2.  Peer Prefix Association Object  . . . . . . . . . . . . .   6
     5.3.  Explicit Peer Route Object  . . . . . . . . . . . . . . .   7
   6.  Management Consideration  . . . . . . . . . . . . . . . . . .   8
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   8
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
     8.1.  PCEP Object Types . . . . . . . . . . . . . . . . . . . .   8
   9.  Acknowledgement . . . . . . . . . . . . . . . . . . . . . . .   9
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   Traditionally, Multiprotocol Label Switching Traffic Engineering
   (MPLS-TE) traffic assurance requires the corresponding network
   devices support Multiprotocol Label Switching (MPLS) or the complex
   Resource ReSerVation Protocol (RSVP)/Label Distribution Protocol
   (LDP) /Segment Routing etc. technologies to assure the End-to-End
   (E2E) traffic performance.  But in native IP network, there will be
   no such signaling protocol to synchronize the action among different
   network devices.  It is necessary to use the central control mode
   that described in [RFC8283] to correlate the forwarding behavior
   among different network devices.  Draft [I-D.ietf-teas-pce-native-ip]
   describes the architecture and solution philosophy for the E2E
   traffic assurance in Native IP network via Dual/Multi Border Gateway
   Protocol (BGP) solution.  This draft describes the corresponding Path
   Computation Element Communication Protocol (PCEP) extensions to
   transfer the key information about peer address list, peer prefix
   association and the explicit peer route on on-path router.





Wang, et al.            Expires February 19, 2021               [Page 2]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

3.  Terminology

   .This document uses the following terms defined in [RFC5440]: PCE,
   PCEP

   The following terms are defined in this document:

   o  CCDR: Central Control Dynamic Routing

   o  E2E: End to End

   o  EPR: Explicit Peer Route

   o  PAL: Peer Address List

   o  PPA: Peer Prefix Association

   o  QoS: Quality of Service

4.  New Objects Extension

   Three new objects are defined in this draft:

   o  PAL Object: Peer Address List Object, used to tell the network
      device which peer it should be peered with dynamically.

   o  PPA Object: Peer Prefix Association Object, used to tell which
      prefixes should be advertised via the corresponding peer.

   o  EPR Object: Explicit Peer Route object, used to point out which
      route should be taken into to arrive to the peer.

5.  Objects Formats

   Each extension object takes the similar format, that is to say, it
   began with the common object header defined in [RFC5440] as the
   following:








Wang, et al.            Expires February 19, 2021               [Page 3]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


    0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |  Object-Class |   OT  |Res|P|I|        Object Length(bytes)   |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       (Object body)                           |
      //                                                             //
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    Figure 1: PCEP Object Format

   Different object-class, object type and the corresponding object body
   is defined separately in the following section .

5.1.  Peer Address List Object

   The Peer Address List object is used in a PCE Initiate message
   [RFC8281] defined to specify the IP address of peer that the received
   network device should establish the BGP relationship with.  This
   Object should only be included and sent to the head and end router of
   the E2E path in case there is no Route Reflection (RR) involved.  If
   the RR is used between the head and end routers, then such
   information should be sent to head router, RR and end router
   respectively.

   Peer Address List Object-Class is TBD

   Peer Address List Object-Type is 1 for IPv4 and 2 for IPv6

   The format of the Peer Address List object body for IPv4(Object-
   Type=1) is as follows:




















Wang, et al.            Expires February 19, 2021               [Page 4]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Peer Num            |           Peer Id             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Local AS Number                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Peer AS Number                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ETTL        |              Peer Cookie                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Local IP Address                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Peer IP Address                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Additional Peer Info.                        |
   //           (From Peer ID to Peer IP Address)                 //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         Figure 2: Peer Address List Object Body Format for IPv4

   The format of the Peer Address List object body for IPv6(Object-
   Type=2) is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Peer Num            |           Peer ID             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Local AS Number                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Peer AS Number                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ETTL        |              Peer Cookie                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Local IP Address (16 bytes)                |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Peer IP Address  (16 bytes)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Additional Peer Info.                        |
   //           (From Peer ID to Peer IP Address)                 //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         Figure 3: Peer Address List Object Body Format for IPv6

   Peer Num : 2 Bytes, Peer Address Number on the advertised router.

   Peer-ID: 2 Bytes, to distinguish the different peer pair, will be
   referenced in Peer Prefix Association, if the PCE use multi-BGP
   solution for different QoS assurance requirement.



Wang, et al.            Expires February 19, 2021               [Page 5]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


   Local AS Number: 4 Bytes, to indicate the AS number of the Local
   Peer.

   Peer AS Number: 4 Bytes, to indicate the AS number of Remote Peer.

   ETTL: 1 Bytes, to indicate the multi hop count for EBGP session.  It
   should be 0 and ignored when Local AS and Peer AS is same.

   Peer Cookie: Used for establishing the secure BGP session between two
   peers.  The PCEP client should use the MD5 algorithm to generate the
   encrypted message.

   Local IP Address(4/16 Bytes): IP address of the local router, used to
   peer with other end router.  When Object-Type is 1, length is 4
   bytes; when Object-Type is 2, length is 16 bytes.

   Peer IP Address(4/16 Bytes): IP address of the peer router, used to
   peer with the local router.  When Object-Type is 1, length is 4
   bytes; when Object-Type is 2, length is 16 bytes;

5.2.  Peer Prefix Association Object

   The Peer Prefix Association object is defined to specify the IP
   prefixes that should be advertised by the corresponding Peer.  This
   object should only be included and sent to the head/end router of the
   end2end path in case there is no RR involved.  If the RR is used
   between the head and end routers, then such information should be
   sent to head router,RR and end router respectively.

   Peer Prefix Association Object-Class is TBD

   Peer Prefix Association Object-Type is 1 for IPv4 and 2 for IPv6

   The format of the Peer Prefix Association object body is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Peer ID            |         Prefixes Num          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Prefix Length            |        Prefix Value           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                            Prefix Value                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
          Figure 4: Peer Prefix Association Object Body Format






Wang, et al.            Expires February 19, 2021               [Page 6]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


   Peer-ID: 2 Bytes, to indicate which peer should be used to advertise
   the following IP Prefix TLV.  This value is assigned in the Peer
   Address List object and is referred in this object.

   Prefixes Num: 2 Bytes, number of prefixes that advertised by the
   corresponding Peer.  It should be equal to number of the following IP
   prefix sub TLV.

   Prefix Length: 2 Bytes, the prefix length.  For example, for
   10.0.0.0/8, this field will be equal to 8; for 2001:DB8::/32, this
   field will be equal to 32.

   Prefix Value: Variable length, the value of the prefix.  For example,
   for 10.0.0.0/8, this field will be 10.0.0.0; for 2001:DB8::/32, this
   field will be equal to 2001:DB8::.

5.3.  Explicit Peer Route Object

   The Explicit Peer Route object is defined to specify the explicit
   peer route to the corresponding peer address on each device that is
   on the E2E assurance path.  This Object should be sent to all the
   devices that locates on the E2E assurance path that calculated by
   PCE.

   Explicit Peer Route Object-Class is TBD.

   Explicit Peer Route Object-Type is 1 for IPv4 and 2 for IPv6

   The format of Explicit Peer Route object body for IPv4(Object-Type=1)
   is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Route Priority        |           Path Identifier       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Peer Address                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Next Hop Address to the Peer                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       Figure 6: Explicit Peer Route Object Body Format for IPv4

   The format of Explicit Peer Route object body for IPv6(Object-Type=2)
   is as follows:







Wang, et al.            Expires February 19, 2021               [Page 7]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Route Priority        |           Path Identifier       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Peer Address (16 bytes)                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Next Hop Address to the Peer(16 bytes)             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       Figure 6: Explicit Peer Route Object Body Format for IPv4

   Route Priority: 2 Bytes, The priority of this explicit route.  The
   higher priority should be preferred by the device.

   Path Identifier: To indicate the path to peer address, especially for
   the same peer.

   Peer Address: To indicate the peer address.

   Next Hop Address to the Peer: To indicate the next hop address to the
   corresponding peer.

6.  Management Consideration

   The information transferred in this draft is mainly used for the
   light weight BGP session setup, the prefix distribution and the
   explicit route deployment.  The planning, allocation and distribution
   of the peer addresses within IGP should be accomplished in advanced
   and they are out of the scope of this draft.

7.  Security Considerations

   Service provider should consider the protection of PCE and their
   communication with the underlay devices, which is described in
   document [RFC5440] and [RFC8253]

8.  IANA Considerations

8.1.  PCEP Object Types

   IANA is requested to allocate new registry for the PCEP Object Type:










Wang, et al.            Expires February 19, 2021               [Page 8]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


   Object-Type Value       Name                    Reference
   TBD               Peer Address List               This document
                     Object-Type
                        1: IPv4 address
                        2: IPv6 address

   TBD               Peer Prefix Association         This document
                     Object-Type
                        1: IPv4 address
                        2: IPv6 address

   TBD               Explicit Peer Route             This document
                     Object-Type
                        1: IPv4 address
                        2: IPv6 address

9.  Acknowledgement

   Thanks Dhruv Dhody for his valuable suggestions and comments.

10.  Normative References

   [I-D.ietf-teas-pce-native-ip]
              Wang, A., Khasanov, B., Zhao, Q., and H. Chen, "PCE in
              Native IP Network", draft-ietf-teas-pce-native-ip-10 (work
              in progress), August 2020.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

   [RFC8253]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              RFC 8253, DOI 10.17487/RFC8253, October 2017,
              <https://www.rfc-editor.org/info/rfc8253>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.








Wang, et al.            Expires February 19, 2021               [Page 9]

Internet-Draft    PCEP Extension for Native IP Network       August 2020


   [RFC8283]  Farrel, A., Ed., Zhao, Q., Ed., Li, Z., and C. Zhou, "An
              Architecture for Use of PCE and the PCE Communication
              Protocol (PCEP) in a Network with Central Control",
              RFC 8283, DOI 10.17487/RFC8283, December 2017,
              <https://www.rfc-editor.org/info/rfc8283>.

   [RFC8735]  Wang, A., Huang, X., Kou, C., Li, Z., and P. Mi,
              "Scenarios and Simulation Results of PCE in a Native IP
              Network", RFC 8735, DOI 10.17487/RFC8735, February 2020,
              <https://www.rfc-editor.org/info/rfc8735>.

Authors' Addresses

   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing, Beijing  102209
   China

   Email: wangaj3@chinatelecom.cn


   Boris Khasanov
   Huawei Technologies,Co.,Ltd
   Moskovskiy Prospekt 97A
   St.Petersburg  196084
   Russia

   Email: khasanov.boris@huawei.com


   Sheng Fang
   Huawei Technologies, Co.,
         Ltd
   Huawei Bld., No.156 Beiqing Rd.
   Beijing
   China

   Email: fsheng@huawei.com


   Chun Zhu
   ZTE Corporation
   50 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: zhu.chun1@zte.com.cn



Wang, et al.            Expires February 19, 2021              [Page 10]
