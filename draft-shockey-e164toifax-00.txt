Internet Draft                                       Richard Shockey
Expires June 2000                             Shockey Consulting LLC
INFORMATIONAL                                       December 9, 1999


    The use of DNS based e164 Resolution Services by Internet Fax

                 <draft-shockey-e164toifax-00.txt>


Status of this Memo

This document is an Internet-Draft and is in full conformance with all 
provisions of Section 10 of RFC2026.

This document is an Internet Draft.  Internet Drafts are working 
documents of the Internet Engineering Task Force (IETF), its Areas, and 
its Working Groups.  Note that other groups may also distribute working 
documents as Internet Drafts.

Internet Drafts are valid for a maximum of six months and may be
updated, replaced, or obsoleted by other documents at any time.  It is 
inappropriate to use Internet Drafts as reference material or to cite 
them other than as a "work in progress".

The list of current Internet-Drafts can be accessed at
http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
http://www.ietf.org/shadow.html.

To learn the current status of any Internet-Draft, please check the"1id-
abstracts.txt" listing contained in the Internet-Drafts Shadow 
Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
ftp.isi.edu (US West Coast).


Copyright Notice
Copyright (C) The Internet Society (1999).  All Rights Reserved.
This Internet-Draft is in conformance with Section 10 of RFC2026.

Overview

Work has begun within the IETF ENUM Work Group to define a DNS based 
service for mapping an e164 telephone number to a single or set of 
Internet resources associated with that number. This service may offer 
solutions to a number of difficulties associated with Internet Fax as 
defined by RFC 2305, RFC 2532 and other existing or emerging standards 
such as ITU T.38 or the Internet Print Protocol.


Shockey				 Expires June 2000               Page 1


Internet Draft		   E164 DNS and Internet Fax	  December 1999


This document is offered as INFORMATIONAL only.

1. ABSTRACT

There has been substantial work within the IETF to define Internet Fax 
services based on an SMTP based store and forward model. This 
transmission model has imposed some limitations of the quality and type 
of content transmitted. 

A secondary issue with email based Internet fax is the inherent 
difficulty of ascertaining the capabilities of a recipient in advance of 
sending.

Additional work with the ITU has defined a real time fax standard [T.38] 
based on the transmission of classic T.30 frame and data information 
within a H.323 session.

Typical fax terminal devices or multifunction peripherals with fax 
capability are relatively compact in size. There is often insufficient 
space on the device to accommodate an ergonomically correct keyboard 
necessary to enter an e-mail address or other URL's, however 12 button 
numeric telephony keypads on fax devices are universal.

Emerging classes of fax terminal devices, multifunction peripherals are 
multi-modal as well, meaning that they can send and receive facsimile 
messages either over the General Switched Telephone Network or a variety 
Internet services.

Telephone numbers are natural identifiers for devices or endpoints 
capable of sending and receiving facsimile messages. It is therefore 
useful to explore how clients and devices might discover via some form of 
directory,Internet based facsimile resources based on existing e164 
numbers.

2. THE E164 RESOLUTION SERVICE
   
The Internet Domain Name System provides an ideal technology for this 
directory due to it's fast, hierarchical structure and distributed 
administrative model.  

Earlier experimentation with the TPC.INT [TPC1] remote printing 
experiment has shown how the hierarchical assignment of telephone numbers 
can be mapped directly to the hierarchy of domains within the DNS. 

Work on a DNS based the E164 resolution model is being undertaken in the 
IETF ENUM Work Group [E164RES][E164RQMTS]. 


Shockey				 Expires June 2000               Page 2


Internet Draft		   E164 DNS and Internet Fax	  December 1999


Its potential use in Voice Mail systems is described in several documents 
listed in the appendix of this document [VPIMARS] [VPIMLDAP].


3. INTERNET FAX CALL MODEL USING E164 RESOLUTION

The fundamental assumption of this call model is that Internet Fax 
devices or clients would, given a phone number, first execute a DNS query 
of the before any transmission or call setup to determine the preferred 
mode of transmission by the recipient.

3.1 DNS QUERY
The remainder of this section describes how this scheme may be used in 
the context of Internet Fax. A full description of this technique is 
described in [E164RES].

A typical fully qualified e164 fax number in typical use in North 
American (1 314 918-9015) is translated into a DNS query based on 
reversing the order of the digits in the phone number and placing dots in 
between, to make delegation of numbers possible in the DNS.

Example:  (where 1 is the NANP Country Code)


3.2 USAGE EXAMPLES

Example 1:

Once the number has been suitably prepared for DNS query, the facsimile 
device then executes a DNS query to the NAPTR [NAPTR] record within the 
DNS entry for (5.1.0.9.8.1.9.4.1.3.1.e164.int) and a response is 
generated such as the following:

IN NAPTR  10 10 "a" "ifax+N2R"     "" "mailto:rshockey@ix.netcom.com".
IN NAPTR 102 10 "s" "faxcall+N2R"  "" _potscall._phoneco.net.

The result of this query is to define a preference that the fax should be 
sent by email due to the low order preference field [10] and the service 
defined ["ifax+N2R"] to a destination mailto: URI (the "a" flag in the 
NAPTR record). 

The second part of the response indicates that a traditional fax call may 
also be used but its priority is lower due to the higher preference field 
[102]. As an example, classic fax service is defined by ["faxcall+N2R"]. 
The record "potscall" is a placeholder. DNS would return the e164 record 
number normally as part of the response. 


Shockey				 Expires June 2000               Page 3


Internet Draft		   E164 DNS and Internet Fax	  December 1999



The fax device would then transmit the fax to the email address indicated 
using the rules defined for Internet Fax in [RFC 2305]. No GSTN T.30 fax 
transaction would take place unless the SMTP service was discovered to be 
unavailable.

Example 2:

A more complex query response might indicate a rank ordering of 
preferences by the recipient.

IN NAPTR  10 10 "a" "T38+N2R"      "" "t38:faxserver.mydomain.com".
IN NAPTR 100 10 "a" "ifax+N2R"     "" "mailto:rshockey@ix.netcom.com".
IN NAPTR 200 10 "s" "faxcall+N2R"  "" _potscall._mydomain.net.

In this case the preferred method is T.38 (preference 10) as indicated in 
the NAPTR service field, with alternatives being IFAX (preference 100) 
and traditional fax telephone call (preference 200). It is then the 
sender's task to determine the best available method of transmission.

Various forms of fax transmission services would need to be registered as 
valid NAPTR services fields with IANA to facilitate this process. 
Possible service records would include:

T.30 GSTNfax  = "faxcall" 
T.38 Realtine = "T38"
IFAX RFC 2305 = "ifax
EIFAX RFC     = "eifax"
IPP           = "ipp"

Example 3:

IN NAPTR  10 10 "a" "ipp+N2R"      "" "ipp:ipp.printer3.mydomain.com".
IN NAPTR 100 10 "a" "ifax+N2R"     "" "mailto:faxmachine@mydomain.com".
IN NAPTR 200 10 "s" "faxcall+N2R"  "" _potscall._mydomain.net.

In this example the preferred method of reception uses the Internet Print 
Protocol and E-Mail and T.30 fax are secondary options.

4. ADDRESS CAPABILITIES QUERY

A problem for fax transmissions based on SMTP is determining the 
capabilities of the recipient in advance of sending the document. 
Internet Fax [RFC 2305, RFC 2532] outline such a requirement without 
actually suggesting how it should be accomplished.



Shockey				 Expires June 2000               Page 4


Internet Draft		   E164 DNS and Internet Fax	  December 1999



New IETF work within RESCAP may provide one way to do this. The DNS phone 
number mapping scheme described above might also provide an additional 
URL, perhaps in the form of a SRV record that could be accessed for 
determination of recipient capabilities. 

5. REFERENCES

[DNS1] Mockapetris, P., "Domain names - implementation and 
specification", RFC1035, Nov 1987.

[DNS2] Mockapetris, P., "Domain names - concepts and facilities", RFC 
1034, Nov 1987.

[E164] CCITT Recommendation E.164 (1991), Telephone Network and ISDN 
Operation, Numbering, Routing and Mobile Service - Numbering Plan for the 
ISDN Era.

[E164RES] Falstrom, Patrik, "E.164 Number and DNS" draft-faltstron-e164-
xx.txt, work-in progress

[E164RQMTS] Brown, A., "ENUM Requirements", draft-ietf-enum-rqmts-xx.txt" 
work-in-progress.

[IFAX] [RFC2305] K.Toyoda, H. Ohno, J. Murai, D. Wing, "A Simple 
Mode of Facsimile Using Internet Mail", RFC 2305, March 1998.

[TPC1] Malamud, Carl, Rose, Marshall, "Principles of Operation for the 
TPC.INT Subdomain: Remote Printing -- Technical Procedures", RFC 1530, 
October 1993.

[T.38] ITU-T, "Procedures for real time Group 3 facsimile 
communications over IP networks"" ITU-T Recommendation T.38, July 
1998

[NAPTR] Mealing,M., Daniel,R., "The Naming Authority Pointer (NAPTR) DNS 
Resource Record", draft-ietf-urn-naptr-rr-xx.txt, work-in-progress

[VPIMARS] Vaudreuil, Greg, "Voice Messaging Directory Service:
DNS-based", work-in-progress.

[VPIMLDAP] Vaudreuil, Greg, " Voice Messaging Directory Service: Address 
Validation Schema", work-in-progress.

[SRV] Gulbrandsen, A., Vixie, P., "A DNS RR for specifying the location 
of services (DNS SRV)", RFC 2052, October 1996.


Shockey				 Expires June 2000               Page 5


Internet Draft		   E164 DNS and Internet Fax	  December 1999



6. ACKNOWLEDGMENTS

This document shamelessly and without remorse, swipes text and concepts 
from the work of Patrik Falstrom and Greg Vandreuil. Thanks to Graham 
Klyne for suggestions and comments.

7. AUTHORS' ADDRESSES

Richard Shockey
Shockey Consulting LLC
8045 Big Bend Blvd. Suite 110
St. Louis, MO 63119
Voice 314.918.9020
Fax to EMail 815.333.1237 (Preferred for Fax)
INTERNET Mail & IFAX : rshockey@ix.netcom.com
GSTN Fax 314.918.9015

8. COPYRIGHT NOTICE

"Copyright (C) The Internet Society (1998). All Rights Reserved.

This document and translations of it may be copied and furnished to 
others, and derivative works that comment on or otherwise explain it or 
assist in its implementation may be prepared, copied, published and, 
distributed, in whole or in part, without restriction of any kind, 
provided that the above copyright notice and this paragraph are included 
on all such copies and derivative works.  However, this document itself 
may not be modified in any way, such as by removing the copyright notice 
or references to the Internet Society or other Internet organizations, 
except as needed for the purpose of developing Internet standards in 
which case the procedures for copyrights defined in the Internet 
Standards process must be followed, or as required to translate it into 
languages other than English.

The limited permissions granted above are perpetual and will not be 
revoked by the Internet Society or its successors or assigns.

This document and the information contained herein is provided on an "AS 
IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT 
NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL 
NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR 
FITNESS FOR A PARTICULAR PURPOSE."


Shockey				 Expires June 2000               Page 6





















     Vaudreuil, Parsons       Expires 5/1/00                   [Page 12]


