<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BGP YANG Model for Service Provider Networks</title>
<meta content="Mahesh Jethanandani" name="author">
<meta content="Keyur Patel" name="author">
<meta content="Susan Hares" name="author">
<meta content="Jeffrey Haas" name="author">
<meta content="
       This document defines a YANG data model for configuring and managing
      BGP, including protocol, policy, and operational aspects, such as RIB,
      based on data center, carrier, and content provider operational
      requirements. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="bgp" name="keyword">
<meta content="yang" name="keyword">
<meta content="draft-ietf-idr-bgp-model-12" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-idr-bgp-model-12-xh_6k49i.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">BGP YANG Model</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Jethanandani, et al.</td>
<td class="center">Expires 28 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Interdomain Routing</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-idr-bgp-model-12</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-25" class="published">25 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-28">28 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Jethanandani</div>
<div class="org">Kloud Services</div>
</div>
<div class="author">
      <div class="author-name">K. Patel</div>
<div class="org">Arrcus</div>
</div>
<div class="author">
      <div class="author-name">S. Hares</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">J. Haas</div>
<div class="org">Juniper Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BGP YANG Model for Service Provider Networks</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines a YANG data model for configuring and managing
      BGP, including protocol, policy, and operational aspects, such as RIB,
      based on data center, carrier, and content provider operational
      requirements.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 28 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-goals-and-approach" class="xref">Goals and approach</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-note-to-rfc-editor" class="xref">Note to RFC Editor</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="xref">1.4</a>.  <a href="#name-abbreviations" class="xref">Abbreviations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-model-overview" class="xref">Model overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-bgp-protocol-configuration" class="xref">BGP protocol configuration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-policy-configuration-overvi" class="xref">Policy configuration overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-bgp-rib-overview" class="xref">BGP RIB overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="xref">2.3.1</a>.  <a href="#name-local-routing" class="xref">Local Routing</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="xref">2.3.2</a>.  <a href="#name-pre-updates-per-neighbor" class="xref">Pre updates per-neighbor</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.3">
                    <p id="section-toc.1-1.2.2.3.2.3.1"><a href="#section-2.3.3" class="xref">2.3.3</a>.  <a href="#name-post-updates-per-neighbor" class="xref">Post updates per-neighbor</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.4">
                    <p id="section-toc.1-1.2.2.3.2.4.1"><a href="#section-2.3.4" class="xref">2.3.4</a>.  <a href="#name-pre-route-advertisements-pe" class="xref">Pre route advertisements per-neighbor</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3.2.5">
                    <p id="section-toc.1-1.2.2.3.2.5.1"><a href="#section-2.3.5" class="xref">2.3.5</a>.  <a href="#name-post-route-advertisements-p" class="xref">Post route advertisements per-neighbor</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-relation-to-other-yang-data" class="xref">Relation to other YANG data models</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-uri-registration" class="xref">URI Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-yang-module-name-registrati" class="xref">YANG Module Name Registration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-yang-modules" class="xref">YANG modules</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-structure-of-the-yang-modul" class="xref">Structure of the YANG modules</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-main-module-and-submodules-" class="xref">Main module and submodules for base items</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-bgp-types" class="xref">BGP types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-bgp-policy-data" class="xref">BGP policy data</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-rib-modules" class="xref">RIB modules</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative references</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative references</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-examples" class="xref">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-creating-bgp-instance" class="xref">Creating BGP Instance</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-neighbor-address-family-con" class="xref">Neighbor Address Family Configuration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-ipv6-neighbor-configuration" class="xref">IPv6 Neighbor Configuration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#appendix-A.4" class="xref">A.4</a>.  <a href="#name-vrf-configuration" class="xref">VRF Configuration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="xref">Appendix B</a>.  <a href="#name-how-to-add-a-new-afi-and-au" class="xref">How to add a new AFI and Augment a Module</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-C" class="xref">Appendix C</a>.  <a href="#name-how-to-deviate-a-module" class="xref">How to deviate a module</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-D" class="xref">Appendix D</a>.  <a href="#name-complete-tree-diagram" class="xref">Complete tree diagram</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-E" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document describes a <span><a href="#RFC7950" class="xref">YANG</a> [<a href="#RFC7950" class="xref">RFC7950</a>]</span> data
      model for the <span><a href="#RFC4271" class="xref">BGP-4</a> [<a href="#RFC4271" class="xref">RFC4271</a>]</span> protocol, including
      various protocol extensions, policy configuration, as well as defining
      key operational state data, including a Routing Information Base (RIB).
      The model is intended to be vendor-neutral, in order to allow operators
      to manage BGP configuration in heterogeneous environments with routers
      supplied by multiple vendors. The model is also intended to be readily
      mapped to existing implementations to facilitate support from as large a
      set of routing hardware and software vendors as possible. This module
      does not support previous versions of BGP, and cannot support
      establishing and maintaining state information of neighbors with
      previous versions of BGP.<a href="#section-1-1" class="pilcrow">¶</a></p>
<div id="goals">
<section id="section-1.1">
        <h3 id="name-goals-and-approach">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-goals-and-approach" class="section-name selfRef">Goals and approach</a>
        </h3>
<p id="section-1.1-1">The model covers the base BGP features that are deployed across
        major implementations and the common BGP configurations in use across
        a number of operator network deployments. In particular, this model
        attempts to cover BGP features defined in <span><a href="#RFC4271" class="xref">BGP</a> [<a href="#RFC4271" class="xref">RFC4271</a>]</span>, <span><a href="#RFC1997" class="xref">BGP Communities
        Attribute</a> [<a href="#RFC1997" class="xref">RFC1997</a>]</span>, <span><a href="#RFC4456" class="xref">BGP Route Reflection</a> [<a href="#RFC4456" class="xref">RFC4456</a>]</span>,
        <span><a href="#RFC4760" class="xref">Multiprotocol Extensions for BGP-4</a> [<a href="#RFC4760" class="xref">RFC4760</a>]</span>,
        <span><a href="#RFC5065" class="xref">Autonomous System Confederations for BGP</a> [<a href="#RFC5065" class="xref">RFC5065</a>]</span>, <span><a href="#RFC2439" class="xref">BGP Route Flap Damping</a> [<a href="#RFC2439" class="xref">RFC2439</a>]</span>, <span><a href="#RFC4724" class="xref">Graceful Restart Mechanism for BGP</a> [<a href="#RFC4724" class="xref">RFC4724</a>]</span>, <span><a href="#RFC6811" class="xref">BGP Prefix Origin Validation</a> [<a href="#RFC6811" class="xref">RFC6811</a>]</span>, and <span><a href="#RFC7911" class="xref">Advertisement of Multiple Paths in BGP</a> [<a href="#RFC7911" class="xref">RFC7911</a>]</span>.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">Along with configuration of base BGP features, this model also
        addresses policy configuration, by providing "hooks" for applying
        policies, and also defining BGP-specific policy features. The BGP
        policy features are intended to be used with the general routing
        policy model defined in <span><a href="#RFC9067" class="xref">A
        YANG Data Model for Routing Policy Management</a> [<a href="#RFC9067" class="xref">RFC9067</a>]</span>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">The model conforms to the <span><a href="#RFC8342" class="xref">NMDA</a> [<a href="#RFC8342" class="xref">RFC8342</a>]</span>
        architecture. It has support for securing BGP sessions using <span><a href="#RFC5925" class="xref">TCP-AO</a> [<a href="#RFC5925" class="xref">RFC5925</a>]</span> or TCP-MD5, and for configuring <span><a href="#RFC5880" class="xref">Bidirectional Forward Detection (BFD)</a> [<a href="#RFC5880" class="xref">RFC5880</a>]</span> for
        fast next hop liveliness checking.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">For the base BGP features, the focus of the model described in this
        document is on providing configuration and operational state
        information relating to:<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1.1-5.1">The global BGP instance, and neighbors whose configuration is
            specified individually, or templated with the use of
            peer-groups.<a href="#section-1.1-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-5.2">The address families that are supported by peers, and the
            global configuration which relates to them.<a href="#section-1.1-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-5.3">The policy configuration "hooks" and BGP-specific policy
            features that relate to a neighbor - controlling the import and
            export of NLRIs.<a href="#section-1.1-5.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-1.1-5.4">BGP RIB contents.<a href="#section-1.1-5.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-1.1-6">As mentioned earlier, any configuration items that are deemed to be
        widely available in existing major BGP implementations are included in
        the model. Additional, more esoteric, configuration items that are not
        commonly used, or only available from a single implementation, are
        omitted from the model with an expectation that they will be available
        in companion modules that augment or extend the current model. This
        allows clarity in identifying data that is part of the vendor-neutral
        base model.<a href="#section-1.1-6" class="pilcrow">¶</a></p>
<p id="section-1.1-7">Where possible, naming in the model follows conventions used in
        available standards documents, and otherwise tries to be
        self-explanatory with sufficient descriptions of the intended
        behavior. Similarly, configuration data value constraints and default
        values, where used, are based on recommendations in current standards
        documentation, or those commonly used in multiple implementations.
        Since implementations can vary widely in this respect, this version of
        the model specifies only a limited set of defaults and ranges with the
        expectation of being more prescriptive in future versions based on
        actual operator use.<a href="#section-1.1-7" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-1.2">
        <h3 id="name-note-to-rfc-editor">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-note-to-rfc-editor" class="section-name selfRef">Note to RFC Editor</a>
        </h3>
<p id="section-1.2-1">This document uses several placeholder values throughout the
        document. Please replace them as follows and remove this note before
        publication.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">RFC XXXX, where XXXX is the number assigned to this document at the
        time of publication.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<p id="section-1.2-3">2021-10-25 with the actual date of the publication of this
        document.<a href="#section-1.2-3" class="pilcrow">¶</a></p>
<p id="section-1.2-4">RFC ZZZZ, where ZZZZ is the number assigned to <span><a href="#RFC9067" class="xref">A YANG Data Model for Routing
        Policy Management</a> [<a href="#RFC9067" class="xref">RFC9067</a>]</span>.<a href="#section-1.2-4" class="pilcrow">¶</a></p>
<p id="section-1.2-5">RFC BBBB, where BBBB is the number assigned to <span><a href="#RFC9127" class="xref">YANG Data Model for Bidirectional Forward
        Detection</a> [<a href="#RFC9127" class="xref">RFC9127</a>]</span>.<a href="#section-1.2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-1.3">
        <h3 id="name-terminology">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.3-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
        "OPTIONAL" in this document are to be interpreted as described in
        <span><a href="#RFC2119" class="xref">BCP 14</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when,
        and only when, they appear in all capitals, as shown here.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-1.4">
        <h3 id="name-abbreviations">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-abbreviations" class="section-name selfRef">Abbreviations</a>
        </h3>
<table class="center" id="table-1">
          <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Abbreviation</th>
              <th class="text-left" rowspan="1" colspan="1"></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">AFI</td>
              <td class="text-left" rowspan="1" colspan="1">Address Family Identifier</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">BFD</td>
              <td class="text-left" rowspan="1" colspan="1">Bidirectional Forward Detection</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">NLRI</td>
              <td class="text-left" rowspan="1" colspan="1">Network Layer Reachability Information</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">NMDA</td>
              <td class="text-left" rowspan="1" colspan="1">Network Management Datastore Architecture</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">RIB</td>
              <td class="text-left" rowspan="1" colspan="1">Routing Information Base</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">SAFI</td>
              <td class="text-left" rowspan="1" colspan="1">Subsequent Address Family Identifier</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">VRF</td>
              <td class="text-left" rowspan="1" colspan="1">Virtual Routing and Forwarding</td>
            </tr>
          </tbody>
        </table>
</section>
</section>
</div>
<div id="overview">
<section id="section-2">
      <h2 id="name-model-overview">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-model-overview" class="section-name selfRef">Model overview</a>
      </h2>
<p id="section-2-1">The BGP model is defined across several YANG modules and submodules,
      but at a high level is organized into six elements:<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">base protocol configuration -- configuration affecting BGP
          protocol-related operations, defined at various levels of
          hierarchy.<a href="#section-2-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.2">multiprotocol configuration -- configuration affecting individual
          address-families within BGP <span><a href="#RFC4760" class="xref">Multiprotocol
          Extensions for BGP-4</a> [<a href="#RFC4760" class="xref">RFC4760</a>]</span>.<a href="#section-2-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.3">neighbor configuration -- configuration affecting an individual
          neighbor within BGP.<a href="#section-2-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.4">neighbor multiprotocol configuration -- configuration affecting
          individual address-families for a neighbor within BGP.<a href="#section-2-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.5">policy configuration -- hooks for application of the policies
          defined in <span><a href="#RFC9067" class="xref">A YANG Data
          Model for Routing Policy Management</a> [<a href="#RFC9067" class="xref">RFC9067</a>]</span> that act on routes sent
          (received) to (from) peers or other routing protocols and
          BGP-specific policy features.<a href="#section-2-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.6">operational state -- variables used for monitoring and management
          of BGP operations.<a href="#section-2-2.6" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-3">These modules also make use of standard Internet types, such as IP
      addresses and prefixes, autonomous system numbers, etc., defined in
      <span><a href="#RFC6991" class="xref">Common YANG Data Types</a> [<a href="#RFC6991" class="xref">RFC6991</a>]</span>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<div id="overview.protocol">
<section id="section-2.1">
        <h3 id="name-bgp-protocol-configuration">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-bgp-protocol-configuration" class="section-name selfRef">BGP protocol configuration</a>
        </h3>
<p id="section-2.1-1">The BGP protocol configuration model is organized hierarchically,
        much like the majority of router implementations. That is,
        configuration items can be specified at multiple levels, as shown
        below.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1-2">
<pre>
module: ietf-bgp

  augment /rt:routing/rt:control-plane-protocols/rt:control-plane-proto
col:
    +--rw bgp
       +--rw global!
       |  +--rw as                         inet:as-number
       |  +--rw identifier?                yang:dotted-quad
       |  +--rw distance
       |  +--rw confederation
       |  +--rw graceful-restart {bt:graceful-restart}?
       |  +--rw use-multiple-paths
       |  +--rw route-selection-options
       |  +--rw afi-safis
       |  +--rw apply-policy
       |  +--ro total-paths?               uint32
       |  +--ro total-prefixes?            uint32
       +--rw neighbors
       |  +--rw neighbor* [remote-address]
       |  +---n established
       |  +---n backward-transition
       |  +---x clear                   {bt:clear-neighbors}?
       +--rw peer-groups
       |  +--rw peer-group* [name]
       +--rw interfaces
       |  +--rw interface* [name]
       +--ro rib
          +--ro attr-sets
          +--ro communities
          +--ro ext-communities
          +--ro afi-safis

</pre><a href="#section-2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1-3">Users may specify configuration at a higher level and have it apply
        to all lower-level items, or provide overriding configuration at a
        lower level of the hierarchy. Overriding configuration items are
        optional, with neighbor-specific configuration being the most specific
        or lowest level, followed by peer-group, and finally global. Global
        configuration options reflect a subset of the peer-group or
        neighbor-specific configuration options which are relevant to the
        entire BGP instance.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4">The model makes the simplifying assumption that most of the
        configuration items are available at all levels of the hierarchy. That
        is, very little configuration is specific to a particular level in the
        hierarchy, other than obvious items such as "group-name" only being
        available for the peer group-level config. A notable exception is for
        sub-address family configuration where some items are only applicable
        for a given AFI-SAFI combination.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5">In order to allow common configuration to be applied to a set of
        neighbors, all neighbor configuration options are available within a
        peer-group. A neighbor is associated to a particular peer-group
        through the use of a peer-group leaf (which provides a reference to a
        configured item in the peer-group list).<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">Address-family configuration is made available in multiple points
        within the model - primarily within the global container, where
        instance-wide configuration can be set (for example, global protocol
        parameters, the BGP best-path route selection options, or global
        policies relating to the address-family); and on a per-neighbor or
        per-peer-group basis, where address-families can be enabled or
        disabled, and policy associated with the parent entity applied. Within
        the afi-safi container, generic configuration that applies to all
        address-families (e.g., whether the AFI-SAFI is enabled) is presented
        at the top-level, with address-family specific containers made
        available for options relating to only that AFI-SAFI. Within the
        current revision of the model a generic set of address-families, and
        common configuration and state options are included - further work is
        expected to add additional parameters to this area of the model.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7">The model supports ipv4-unicast and ipv6-unicast address-families
        and defers the remaining AFI/SAFI to other or future drafts:<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1-8">
<pre>
        +--rw bgp
          +--rw global!
             +--rw afi-safis
                +--rw afi-safi* [afi-safi-name]
                   +--rw afi-safi-name              identityref
                   |
                   +--rw ipv4-unicast
                   |     ...
                   +--rw ipv6-unicast
                   |     ...
                   +--rw ipv4-labeled-unicast
                   |     ...
                   +--rw ipv6-labeled-unicast
                   |     ...
                   +--rw l3vpn-ipv4-unicast
                   |     ...
                   +--rw l3vpn-ipv6-unicast
                   |     ...
                   +--rw l3vpn-ipv4-multicast
                   |     ...
                   +--rw l3vpn-ipv6-multicast
                   |     ...
                   +--rw l2vpn-vpls
                   |     ...
                   +--rw l2vpn-evpn
                   |     ...
</pre><a href="#section-2.1-8" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="overview.policy">
<section id="section-2.2">
        <h3 id="name-policy-configuration-overvi">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-policy-configuration-overvi" class="section-name selfRef">Policy configuration overview</a>
        </h3>
<p id="section-2.2-1">The BGP policy configuration model augments the generic YANG
        routing policy model described in <span><a href="#RFC9067" class="xref">A YANG Data Model for Routing
        Policy Management</a> [<a href="#RFC9067" class="xref">RFC9067</a>]</span>, which represents a condition-action policy
        framework for routing. This model adds BGP-specific conditions (e.g.,
        matching on the community attribute), and actions (e.g., setting local
        preference) to the generic policy framework.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">Policies that are defined in the routing-policy model are
        referenced in multiple places within the model:<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.2-3.1">within the global instance, where a policy applies to all
            address-families for all peers.<a href="#section-2.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.2-3.2">on a global AFI-SAFI basis, where policies apply to all peers
            for a particular address-family.<a href="#section-2.2-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.2-3.3">on a per-peer-group or per-neighbor basis - where the policy
            applies to all address-families for the particular group or
            neighbor.<a href="#section-2.2-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-2.2-3.4">on a per-afi-safi basis within a neighbor or peer-group
            context, where the policy is specific to the AFI-SAFI for a a
            specific neighbor or group.<a href="#section-2.2-3.4" class="pilcrow">¶</a>
</li>
        </ul>
<div class="alignLeft art-text artwork" id="section-2.2-4">
<pre>
module: ietf-bgp-policy

  augment /rt-pol:routing-policy/rt-pol:defined-sets:
    +--rw bgp-defined-sets
          ...
  augment /rt-pol:routing-policy/rt-pol:policy-definitions
            /rt-pol:policy-definition/rt-pol:statements
            /rt-pol:statement/rt-pol:conditions:
    +--rw bgp-conditions
          ...
  augment /rt-pol:routing-policy/rt-pol:policy-definitions
            /rt-pol:policy-definition/rt-pol:statements
            /rt-pol:statement/rt-pol:actions:
    +--rw bgp-actions
          ...
</pre><a href="#section-2.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-2.3">
        <h3 id="name-bgp-rib-overview">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-bgp-rib-overview" class="section-name selfRef">BGP RIB overview</a>
        </h3>
<p id="section-2.3-1">The RIB data model represents the BGP RIB contents. The model
        supports five logical RIBs per address family.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">An abridged version of the tree shows the RIB portion of the tree
        diagram.<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.3-3">
<pre>
module: ietf-bgp

  augment /rt:routing/rt:control-plane-protocols
            /rt:control-plane-protocol:
    +--rw bgp
       +--ro rib
          +--ro afi-safis
             +--ro afi-safi* [name]
                +--ro name            identityref
                +--ro ipv4-unicast
                |  +--ro loc-rib
                |  |  +--ro routes
                |  |     +--ro route* [prefix origin path-id]
                |  |     |     ...
                |  |     +--ro clear-routes {bt:clear-routes}?
                |  |           ...
                |  +--ro neighbors
                |     +--ro neighbor* [neighbor-address]
                |        +--ro neighbor-address    inet:ip-address
                |        +--ro adj-rib-in-pre
                |        |     ...
                |        +--ro adj-rib-in-post
                |        |     ...
                |        +--ro adj-rib-out-pre
                |        |     ...
                |        +--ro adj-rib-out-post
                |              ...
                +--ro ipv6-unicast
                   +--ro loc-rib
                   |  +--ro routes
                   |     +--ro route* [prefix origin path-id]
                   |     |     ...
                   |     +--ro clear-routes {bt:clear-routes}?
                   |           ...
                   +--ro neighbors
                      +--ro neighbor* [neighbor-address]
                         +--ro neighbor-address    inet:ip-address
                         +--ro adj-rib-in-pre
                         |     ...
                         +--ro adj-rib-in-post
                         |     ...
                         +--ro adj-rib-out-pre
                         |     ...
                         +--ro adj-rib-out-post
                               ...

</pre><a href="#section-2.3-3" class="pilcrow">¶</a>
</div>
<section id="section-2.3.1">
          <h4 id="name-local-routing">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-local-routing" class="section-name selfRef">Local Routing</a>
          </h4>
<p id="section-2.3.1-1">The loc-rib is the main BGP routing table for the local routing
          instance, containing best-path selections for each prefix. The
          loc-rib table may contain multiple routes for a given prefix, with
          an attribute to indicate which was selected as the best-path. Note
          that multiple paths may be used or advertised even if only one path
          is marked as best, e.g., when using BGP add-paths. An implementation
          may choose to mark multiple paths in the RIB as best-path by setting
          the flag to true for multiple entries.<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.2">
          <h4 id="name-pre-updates-per-neighbor">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-pre-updates-per-neighbor" class="section-name selfRef">Pre updates per-neighbor</a>
          </h4>
<p id="section-2.3.2-1">The adj-rib-in-pre table is a per-neighbor table containing the
          NLRI updates received from the neighbor before any local input
          policy rules or filters have been applied. This can be considered
          the 'raw' updates from a given neighbor.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.3">
          <h4 id="name-post-updates-per-neighbor">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-post-updates-per-neighbor" class="section-name selfRef">Post updates per-neighbor</a>
          </h4>
<p id="section-2.3.3-1">The adj-rib-in-post table is a per-neighbor table containing the
          routes received from the neighbor that are eligible for best-path
          selection after local input policy rules have been applied.<a href="#section-2.3.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.4">
          <h4 id="name-pre-route-advertisements-pe">
<a href="#section-2.3.4" class="section-number selfRef">2.3.4. </a><a href="#name-pre-route-advertisements-pe" class="section-name selfRef">Pre route advertisements per-neighbor</a>
          </h4>
<p id="section-2.3.4-1">The adj-rib-out-pre table is a per-neighbor table containing
          routes eligible for sending (advertising) to the neighbor before
          output policy rules have been applied.<a href="#section-2.3.4-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.5">
          <h4 id="name-post-route-advertisements-p">
<a href="#section-2.3.5" class="section-number selfRef">2.3.5. </a><a href="#name-post-route-advertisements-p" class="section-name selfRef">Post route advertisements per-neighbor</a>
          </h4>
<p id="section-2.3.5-1">The adj-rib-out-post table is a per-neighbor table containing
          routes eligible for sending (advertising) to the neighbor after
          output policy rules have been applied.<a href="#section-2.3.5-1" class="pilcrow">¶</a></p>
</section>
</section>
</section>
</div>
<section id="section-3">
      <h2 id="name-relation-to-other-yang-data">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-relation-to-other-yang-data" class="section-name selfRef">Relation to other YANG data models</a>
      </h2>
<p id="section-3-1">The BGP model augments the Routing Management model <span><a href="#RFC8349" class="xref">A YANG Data Model for Routing Management</a> [<a href="#RFC8349" class="xref">RFC8349</a>]</span> which
      defines the notion of routing, routing protocols, and RIBs. The notion
      of Virtual Routing and Forwarding (VRF) is derived by using the <span><a href="#RFC8528" class="xref">YANG Schema Mount</a> [<a href="#RFC8528" class="xref">RFC8528</a>]</span> to mount the Routing
      Management module under the <span><a href="#RFC8529" class="xref">YANG Data Model for
      Network Instances</a> [<a href="#RFC8529" class="xref">RFC8529</a>]</span>.<a href="#section-3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-security-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-4-1">The YANG module specified in this document defines a schema for data
      that is designed to be accessed via network management protocols such as
      <span><a href="#RFC6241" class="xref">NETCONF</a> [<a href="#RFC6241" class="xref">RFC6241</a>]</span> or <span><a href="#RFC8040" class="xref">RESTCONF</a> [<a href="#RFC8040" class="xref">RFC8040</a>]</span>. The lowest NETCONF layer is the secure
      transport layer, and the mandatory-to-implement secure transport is
      <span><a href="#RFC6242" class="xref">Secure Shell (SSH)</a> [<a href="#RFC6242" class="xref">RFC6242</a>]</span>. The lowest RESTCONF
      layer is HTTPS, and the mandatory-to-implement secure transport is <span><a href="#RFC8446" class="xref">TLS</a> [<a href="#RFC8446" class="xref">RFC8446</a>]</span>. The <span><a href="#RFC8341" class="xref">NETCONF Access
      Control Model (NACM)</a> [<a href="#RFC8341" class="xref">RFC8341</a>]</span> provides the means to restrict access for
      particular NETCONF or RESTCONF users to a preconfigured subset of all
      available NETCONF or RESTCONF protocol operations and content.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">There are a number of data nodes defined in this YANG module that are
      writable/creatable/deletable (i.e., config true, which is the default).
      These data nodes may be considered sensitive or vulnerable in some
      network environments. Write operations (e.g., edit-config) to these data
      nodes without proper protection can have a negative effect on network
      operations. Some of the subtrees and data nodes and their
      sensitivity/vulnerability are described here.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">- The attribute 'as'. If a user is allowed to change this attribute,
      it will have the net effect of bringing down the entire routing
      instance, causing it to delete all the current routing entries, and
      learning new ones.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">- The attribute 'identifier'. If a user is allowed to change this
      attribute, it will have the net effect of this routing instance
      re-advertising all its routes.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">- The attribute 'distance'. If a user is allowed to change this
      attribute, it will cause the preference for routes, e.g. external vs
      internal to change.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">- The attribute 'enabled' in the 'confederation' container. This
      attribute defines whether a local-AS is part of a BGP federation.<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">- Finally, there are a whole set of route selection options such as
      'always-compare-med', 'ignore-as-path-length' that affect the way the
      system picks up a particular route. Being able to change will adversely
      affect how the route selection happens.<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">Some of the readable data nodes in this YANG module may be considered
      sensitive or vulnerable in some network environments. It is thus
      important to control read access (e.g., via get, get-config, or
      notification) to these data nodes. Some of the subtrees and data nodes
      and their sensitivity/vulnerability are:<a href="#section-4-8" class="pilcrow">¶</a></p>
<p id="section-4-9">- The list of neighbors, and their attributes. Allowing a user to
      read these attributes, in particular the address/port information may
      allow a malicious user to launch an attack at the particular
      address/port.<a href="#section-4-9" class="pilcrow">¶</a></p>
<p id="section-4-10">- The 'rib' container. This container contains sensitive information
      such as attribute sets, communities and external communities. Being able
      to read the contents of this container will allow a malicious user to
      understand how the system decide how to route a packet, and thus try to
      affect a change.<a href="#section-4-10" class="pilcrow">¶</a></p>
<p id="section-4-11">Some of the RPC operations in this YANG module may be considered
      sensitive or vulnerable in some network environments. It is thus
      important to control access to these operations. These are the
      operations and their sensitivity/vulnerability:<a href="#section-4-11" class="pilcrow">¶</a></p>
<p id="section-4-12">- The model allows for routes to be cleared using the 'clear' RPC
      operations, causing the entire RIB table to be cleared.<a href="#section-4-12" class="pilcrow">¶</a></p>
<p id="section-4-13">- The model allows for statistics to be cleared by the 'clear' RPC
      operation, causing all the individual statistics to be cleared.<a href="#section-4-13" class="pilcrow">¶</a></p>
<p id="section-4-14">- The model also allows for neighbors that have been learnt by the
      system to be cleared by using the 'clear' RPC operation.<a href="#section-4-14" class="pilcrow">¶</a></p>
<p id="section-4-15"><span><a href="#RFC7454" class="xref">BGP OPSEC</a> [<a href="#RFC7454" class="xref">RFC7454</a>]</span> describes several policies
      that can be used to secure a BGP. In particular, it recommends securing
      the underlying TCP session and to use <span><a href="#RFC5082" class="xref">Generalized
      TTL Security Mechanism (GTSM)</a> [<a href="#RFC5082" class="xref">RFC5082</a>]</span> capability to make it harder to
      spoof a BGP session. This module allows implementations that want to
      support the capability to configure a TTL value, under a feature flag.
      It also defines a container 'secure-session' that can be augmented with
      <span><a href="#RFC5925" class="xref">TCP-Authentication Option (TCP-AO)</a> [<a href="#RFC5925" class="xref">RFC5925</a>]</span>, or
      other methods to secure a BGP session, and will be developed in a future
      version of this draft.<a href="#section-4-15" class="pilcrow">¶</a></p>
</section>
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">This document registers three URIs and three YANG modules.<a href="#section-5-1" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-uri-registration">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-uri-registration" class="section-name selfRef">URI Registration</a>
        </h3>
<p id="section-5.1-1">Following the format in the <span><a href="#RFC3688" class="xref">IETF XML
        registry</a> [<a href="#RFC3688" class="xref">RFC3688</a>]</span> [RFC3688], the following registration is requested to
        be made:<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1-2">
<pre>URI: urn:ietf:params:xml:ns:yang:ietf-bgp
URI: urn:ietf:params:xml:ns:yang:ietf-bgp-policy
URI: urn:ietf:params:xml:ns:yang:ietf-bgp-types
</pre><a href="#section-5.1-2" class="pilcrow">¶</a>
</div>
<p id="section-5.1-3">Registrant Contact: The IESG. XML: N/A, the requested URI is an XML
        namespace.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-yang-module-name-registrati">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-yang-module-name-registrati" class="section-name selfRef">YANG Module Name Registration</a>
        </h3>
<p id="section-5.2-1">This document registers three YANG modules in the YANG Module Names
        registry <span><a href="#RFC6020" class="xref">YANG</a> [<a href="#RFC6020" class="xref">RFC6020</a>]</span>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2-2">
<pre>name: ietf-bgp
namespace: urn:ietf:params:xml:ns:yang:ietf-bgp
prefix: bgp
reference: RFC XXXX

name: ietf-bgp-policy
namespace: urn:ietf:params:xml:ns:yang:ietf-bgp-policy
prefix: bp
reference: RFC XXXX

name: ietf-bgp-types
namespace: urn:ietf:params:xml:ns:yang:ietf-bgp-types
prefix: bt
reference: RFC XXXX
</pre><a href="#section-5.2-2" class="pilcrow">¶</a>
</div>
</section>
</section>
<div id="models">
<section id="section-6">
      <h2 id="name-yang-modules">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-yang-modules" class="section-name selfRef">YANG modules</a>
      </h2>
<p id="section-6-1">The modules comprising the BGP configuration and operational model
      are described by the YANG modules and submodules in the sections
      below.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The main module, ietf-bgp.yang, includes the following submodules:<a href="#section-6-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-3.1">ietf-bgp-common - defines the groupings that are common across
          more than one context (where contexts are neighbor, group,
          global)<a href="#section-6-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-3.2">ietf-bgp-common-multiprotocol - defines the groupings that are
          common across more than one context, and relate to multiprotocol
          BGP<a href="#section-6-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-3.3">ietf-bgp-common-structure - defines groupings that are shared by
          multiple contexts, but are used only to create structural elements,
          i.e., containers (leaf nodes are defined in separate groupings)<a href="#section-6-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-3.4">ietf-bgp-peer-group - groupings with data specific to the peer
          group context<a href="#section-6-3.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-3.5">ietf-bgp-neighbor - groupings with data specific to the neighbor
          context<a href="#section-6-3.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-3.6">ietf-bgp-rib - grouping for representing BGP RIB.<a href="#section-6-3.6" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-6-4">Additionally, modules include:<a href="#section-6-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-5.1">ietf-bgp-types - common type and identity definitions for BGP,
          including BGP policy<a href="#section-6-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-5.2">ietf-bgp-policy - BGP-specific policy data definitions for use
          with <span>[<a href="#RFC9067" class="xref">RFC9067</a>]</span> (described in more
          detail <a href="#overview.policy" class="xref">Section 2.2</a>)<a href="#section-6-5.2" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<section id="section-7">
      <h2 id="name-structure-of-the-yang-modul">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-structure-of-the-yang-modul" class="section-name selfRef">Structure of the YANG modules</a>
      </h2>
<p id="section-7-1">The YANG model can be subdivided between the main module for base
      items, types, policy data, and the RIB module. It references <span><a href="#RFC1997" class="xref">BGP Communities Attribute</a> [<a href="#RFC1997" class="xref">RFC1997</a>]</span>, <span><a href="#RFC2918" class="xref">Route Refresh Capability for BGP-4</a> [<a href="#RFC2918" class="xref">RFC2918</a>]</span>, <span><a href="#RFC3765" class="xref">NOPEER Community for BGP</a> [<a href="#RFC3765" class="xref">RFC3765</a>]</span>, <span><a href="#RFC4364" class="xref">BGP/MPLS IP Virtual Private Networks (VPNs)</a> [<a href="#RFC4364" class="xref">RFC4364</a>]</span>,
      <span><a href="#RFC4659" class="xref">BGP-MPLS IP Virtual Private Network (VPN)
      Extension for IPv6 VPN</a> [<a href="#RFC4659" class="xref">RFC4659</a>]</span>, <span><a href="#RFC4724" class="xref">Graceful Restart
      Mechanism for BGP</a> [<a href="#RFC4724" class="xref">RFC4724</a>]</span>, <span><a href="#RFC4760" class="xref">Multiprotocol
      Extentions for BGP-4</a> [<a href="#RFC4760" class="xref">RFC4760</a>]</span>, <span><a href="#RFC4761" class="xref">Virtual Private LAN
      Service (VPLS) Using BGP for Auto-Discovery and Signaling</a> [<a href="#RFC4761" class="xref">RFC4761</a>]</span>, <span><a href="#RFC5065" class="xref">Autonomous System Configuration for BGP</a> [<a href="#RFC5065" class="xref">RFC5065</a>]</span>, <span><a href="#RFC5082" class="xref">The Generalized TTL Security Mechanism (GTSM)</a> [<a href="#RFC5082" class="xref">RFC5082</a>]</span>,
      <span><a href="#RFC5880" class="xref">Bidirectional Forward Detection (BFD)</a> [<a href="#RFC5880" class="xref">RFC5880</a>]</span>,
      <span><a href="#RFC5881" class="xref">Bidirectional Forward Detection for IPv4 and IPv6
      (Single Hop)</a> [<a href="#RFC5881" class="xref">RFC5881</a>]</span>, <span><a href="#RFC5883" class="xref">Bidirectional Forwarding
      Detection (BFD) for Multihop Paths</a> [<a href="#RFC5883" class="xref">RFC5883</a>]</span>, <span><a href="#RFC5925" class="xref">The
      TCP Authentication Option</a> [<a href="#RFC5925" class="xref">RFC5925</a>]</span>, <span><a href="#RFC6514" class="xref">BGP Encodings
      and Procedures for Multicast in MPLS/BGP IP VPNs</a> [<a href="#RFC6514" class="xref">RFC6514</a>]</span>, <span><a href="#RFC6793" class="xref">BGP Support for Four-Octet Autonomous System (AS)
      Number Space</a> [<a href="#RFC6793" class="xref">RFC6793</a>]</span>, <span><a href="#RFC7911" class="xref">Advertisement of Multiple
      Paths in BGP</a> [<a href="#RFC7911" class="xref">RFC7911</a>]</span>, <span><a href="#RFC8177" class="xref">YANG Key Chain</a> [<a href="#RFC8177" class="xref">RFC8177</a>]</span>,
      <span><a href="#I-D.ietf-tcpm-yang-tcp" class="xref">YANG Model for Transmission
      Control Protocol (TCP) Configuration</a> [<a href="#I-D.ietf-tcpm-yang-tcp" class="xref">I-D.ietf-tcpm-yang-tcp</a>]</span>, <span><a href="#RFC9127" class="xref">YANG Data Model for Bidirectional Forward
      Detection</a> [<a href="#RFC9127" class="xref">RFC9127</a>]</span>, and <span><a href="#RFC8277" class="xref">Carrying Label
      Information in BGP-4</a> [<a href="#RFC8277" class="xref">RFC8277</a>]</span>.<a href="#section-7-1" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-main-module-and-submodules-">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-main-module-and-submodules-" class="section-name selfRef">Main module and submodules for base items</a>
        </h3>
<div id="section-7.1-1">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp@2021-10-25.yang"

module ietf-bgp {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-bgp";
  prefix bgp;

  /*
   * Import and Include
   */

  import ietf-routing {
    prefix rt;
    reference
      "RFC 8349, A YANG Data Model for Routing Management
       (NMDA Version).";
  }
  import ietf-routing-policy {
    prefix rt-pol;
    reference
      "RFC ZZZZ, A YANG Data Model for Routing Policy Management.";
  }
  import ietf-interfaces {
    prefix if;
    reference
      "RFC 8343, A YANG Data Model for Interface Management.";
  }
  import ietf-bgp-types {
    prefix bt;
    reference
      "RFC XXXX, BGP YANG Model for Service Provider Network.";
  }
  import ietf-bfd-types {
    prefix bfd-types;
    reference
      "RFC BBBB, YANG Data Model for Bidirectional Forward
       Detection.";
  }
  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types.";
  }
  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Data Types.";
  }
  import ietf-key-chain {
    prefix key-chain;
    reference
      "RFC 8177: YANG Key Chain.";
  }
  import ietf-tcp {
    prefix tcp;
    reference
      "I-D.ietf-tcpm-yang-tcp: Transmission Control Protocol (TCP)
       YANG Model.";
  }
  include ietf-bgp-common {
    revision-date 2021-10-25;
  }
  include ietf-bgp-common-multiprotocol {
    revision-date 2021-10-25;
  }
  include ietf-bgp-common-structure {
    revision-date 2021-10-25;
  }
  include ietf-bgp-neighbor {
    revision-date 2021-10-25;
  }
  include ietf-bgp-peer-group {
    revision-date 2021-10-25;
  }
  include ietf-bgp-rib-types {
    revision-date 2021-10-25;
  }
  include ietf-bgp-rib {
    revision-date 2021-10-25;
  }
  include ietf-bgp-rib-attributes {
    revision-date 2021-10-25;
  }
  include ietf-bgp-rib-tables {
    revision-date 2021-10-25;
  }

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This module describes a YANG model for BGP protocol
     configuration. It is a limited subset of all of the
     configuration parameters available in the variety of vendor
     implementations, hence it is expected that it would be augmented
     with vendor-specific configuration data as needed. Additional
     modules or submodules to handle other aspects of BGP
     configuration, including policy, VRFs, VPNs, and additional
     address families are also expected.

     This model supports the following BGP configuration level
     hierarchy:

      BGP
        |
        +-&gt; [ global BGP configuration ]
          +-&gt; AFI / SAFI global
        +-&gt; peer group
          +-&gt; [ peer group config ]
          +-&gt; AFI / SAFI [ per-AFI overrides ]
        +-&gt; neighbor
          +-&gt; [ neighbor config ]
          +-&gt; [ optional pointer to peer-group ]
          +-&gt; AFI / SAFI [ per-AFI overrides ]

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXXX, BGP Model for Service Provider Network ";
  }

  /*
   * Identity
   */

  identity bgp {
    base rt:routing-protocol;
    description
      "BGP protocol.";
  }

  /*
   * Containers
   */

  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol" {
    when "derived-from-or-self(rt:type, 'bgp')" {
      description
        "This augmentation is valid for a routing protocol
         instance of BGP.";
    }
    description
      "BGP protocol augmentation of ietf-routing module
       control-plane-protocol.";
    container bgp {
      description
        "Top-level configuration for the BGP router.";
      container global {
        presence "Enables global configuration of BGP";
        description
          "Global configuration for the BGP router.";
        leaf as {
          type inet:as-number;
          mandatory true;
          description
            "Local autonomous system number of the router.  Uses
             the 32-bit as-number type from the model in RFC 6991.";
        }
        leaf identifier {
          type yang:dotted-quad;
          description
            "BGP Identifier of the router - an unsigned 32-bit,
             non-zero integer that should be unique within an AS.
             The value of the BGP Identifier for a BGP speaker is
             determined upon startup and is the same for every local
             interface and BGP peer.";
          reference
            "RFC 6286: AS-Wide Unique BGP ID for BGP-4. Section 2.1";
        }
        container distance {
          description
            "Administrative distances (or preferences) assigned to
             routes received from different sources (external, and
             internal).";
          leaf external {
            type uint8 {
              range "1..255";
            }
            description
              "Administrative distances for routes learned from
               external BGP (eBGP).";
          }
          leaf internal {
            type uint8 {
              range "1..255";
            }
            description
              "Administrative distances for routes learned from
               internal BGP (iBGP).";
          }
        }
        container confederation {
          description
            "Configuration options specifying parameters when the
             local router is within an autonomous system which is
             part of a BGP confederation.";
          leaf enabled {
            type boolean;
            description
              "When this leaf is set to true it indicates that
               the local-AS is part of a BGP confederation.";
          }
          leaf identifier {
            type inet:as-number;
            description
              "Confederation identifier for the autonomous system.";
          }
          leaf-list member-as {
            type inet:as-number;
            description
              "Remote autonomous systems that are to be treated
               as part of the local confederation.";
          }
        }
        container graceful-restart {
          if-feature "bt:graceful-restart";
          description
            "Parameters relating the graceful restart mechanism for
             BGP.";
          uses graceful-restart-config;
        }
        uses global-group-use-multiple-paths;
        uses route-selection-options;
        container afi-safis {
          description
            "List of address-families associated with the BGP
             instance.";
          list afi-safi {
            key "name";
            description
              "AFI,SAFI configuration available for the
               neighbor or group.";
            uses mp-afi-safi-config;
            uses state;
            container graceful-restart {
              if-feature "bt:graceful-restart";
              description
                "Parameters relating to BGP graceful-restart";
              uses mp-afi-safi-graceful-restart-config;
            }
            uses route-selection-options;
            uses global-group-use-multiple-paths;
            uses mp-all-afi-safi-list-contents;
          }
        }
        uses rt-pol:apply-policy-group;
        uses state;
      }

      container neighbors {
        description
          "Configuration for BGP neighbors.";

        list neighbor {
          key "remote-address";

          description
            "List of BGP neighbors configured on the local system,
             uniquely identified by remote IPv[46] address.";

          leaf local-address {
            type inet:ip-address;
            config false;
            description
              "The local IP address of this entry's BGP connection.";
          }

          leaf local-port {
            type inet:port-number;
            config false;
            description
              "The local port for the TCP connection between
               the BGP peers.";
          }

          leaf remote-address {
            type inet:ip-address;
            description
              "The remote IP address of this entry's BGP peer.";
          }

          leaf remote-port {
            type inet:port-number;
            config false;
            description
              "The remote port for the TCP connection
               between the BGP peers.  Note that the
               objects local-addr, local-port, remote-addr, and
               reemote-port provide the appropriate
               reference to the standard MIB TCP
               connection table.";
          }

          leaf peer-type {
            type bt:peer-type;
            config false;
            description
              "The type of peering session associated with this
               neighbor.";
            reference
              "RFC 4271: A Border Gateway Protocol 4 (BGP-4)
                         Section 1.1 for iBGP and eBGP.
               RFC 5065: Autonomous System Configuration
                         for Confederation internal and external.";
          }

          leaf peer-group {
            type leafref {
              path "../../../peer-groups/peer-group/name";
            }
            description
              "The peer-group with which this neighbor is
               associated.";
          }

          leaf identifier {
            type yang:dotted-quad;
            config false;
            description
              "The BGP Identifier of this entry's BGP peer.
               This entry MUST be 0.0.0.0 unless the
               session state is in the openconfirm or the
               established state.";
            reference
              "RFC 4271, Section 4.2, 'BGP Identifier'.";
          }

          leaf enabled {
            type boolean;
            default "true";
            description
              "Whether the BGP peer is enabled. In cases where the
               enabled leaf is set to false, the local system should
               not initiate connections to the neighbor, and should
               not respond to TCP connections attempts from the
               neighbor. If the state of the BGP session is
               ESTABLISHED at the time that this leaf is set to
               false, the BGP session should be ceased.

               A transition from 'false' to 'true' will cause
               the BGP Manual Start Event to be generated.
               A transition from 'true' to 'false' will cause
               the BGP Manual Stop Event to be generated.
               This parameter can be used to restart BGP peer
               connections. Care should be used in providing
               write access to this object without adequate
               authentication.";
            reference
              "RFC 4271, Section 8.1.2.";
          }

          leaf secure-session-enable {
            type boolean;
            default "false";
            description
              "Does this session need to be secured?";
          }

          container secure-session {
            when "../secure-session-enable = 'true'";
            description
              "Container for describing how a particular BGP session
               is to be secured.";

            choice option {
              case ao {
                uses tcp:ao;
                leaf ao-keychain {
                  type key-chain:key-chain-ref;
                  description
                    "Reference to the key chain that will be used by
                     this model. Applicable for TCP-AO and TCP-MD5
                     only";
                  reference
                    "RFC 8177: YANG Key Chain.";
                }
                description
                  "Uses TCP-AO to secure the session. Parameters for
                   those are defined as a grouping in the TCP YANG
                   model.";
                reference
                  "RFC 5925 - The TCP Authentication Option.";
              }

              case md5 {
                uses tcp:md5;
                leaf md5-keychain {
                  type key-chain:key-chain-ref;
                  description
                    "Reference to the key chain that will be used by
                     this model. Applicable for TCP-AO and TCP-MD5
                     only";
                  reference
                    "RFC 8177: YANG Key Chain.";
                }
                description
                  "Uses TCP-MD5 to secure the session. Parameters for
                   those are defined as a grouping in the TCP YANG
                   model.";
                reference
                  "RFC 5925: The TCP Authentication Option.";
              }

              case ipsec {
                leaf sa {
                  type string;
                  description
                    "Security Association (SA) name.";
                }
                description
                  "Currently, the IPsec/IKE YANG model has no
                   grouping defined that this model can use. When
                   such a grouping is defined, this model can import
                   the grouping to add the key parameters
                   needed to kick of IKE.";
              }
              description
                "Choice of authentication options.";
            }
          }
          leaf ttl-security {
            if-feature "bt:ttl-security";
            type uint8;
            default "255";
            description
              "BGP Time To Live (TTL) security check.";
            reference
              "RFC 5082: The Generalized TTL Security Mechanism
               (GTSM),
               RFC 7454: BGP Operations and Security.";
          }
          uses neighbor-group-config;
          leaf session-state {
            type enumeration {
              enum idle {
                description
                  "Neighbor is down, and in the Idle state of the
                   FSM.";
              }
              enum connect {
                description
                  "Neighbor is down, and the session is waiting for
                   the underlying transport session to be
                   established.";
              }
              enum active {
                description
                  "Neighbor is down, and the local system is awaiting
                   a connection from the remote peer.";
              }
              enum opensent {
                description
                  "Neighbor is in the process of being established.
                   The local system has sent an OPEN message.";
              }
              enum openconfirm {
                description
                  "Neighbor is in the process of being established.
                   The local system is awaiting a NOTIFICATION or
                   KEEPALIVE message.";
              }
              enum established {
                description
                  "Neighbor is up - the BGP session with the peer is
                   established.";
              }
            }
            //  notification does not like a non-config statement.
            //  config false;
            description
              "The BGP peer connection state.";
            reference
              "RFC 4271, Section 8.1.2.";
          }
          leaf last-established {
            type yang:date-and-time;
            config false;
            description
              "This timestamp indicates the time that the BGP session
               last transitioned in or out of the Established state.
               The value is the timestamp in seconds relative to the
               Unix Epoch (Jan 1, 1970 00:00:00 UTC).

               The BGP session uptime can be computed by clients as
               the difference between this value and the current time
               in UTC (assuming the session is in the ESTABLISHED
               state, per the session-state leaf).";
          }
          leaf-list negotiated-capabilities {
            type identityref {
              base bt:bgp-capability;
            }
            config false;
            description
              "Negotiated BGP capabilities.";
          }
          leaf negotiated-hold-time {
            type uint16;
            config false;
            description
              "The negotiated hold-time for the BGP session";
          }
          leaf last-error {
            type binary {
              length "2";
            }
            // notification does not like non-config statement.
            // config false;
            description
              "The last error code and subcode seen by this
               peer on this connection.  If no error has
               occurred, this field is zero.  Otherwise, the
               first byte of this two byte OCTET STRING
               contains the error code, and the second byte
               contains the subcode.";
            reference
              "RFC 4271, Section 4.5.";
          }
          leaf fsm-established-time {
            type yang:gauge32;
            units "seconds";
            config false;
            description
              "This timer indicates how long (in
               seconds) this peer has been in the
               established state or how long
               since this peer was last in the
               established state.  It is set to zero when
               a new peer is configured or when the router is
               booted.";
            reference
              "RFC 4271, Section 8.";
          }
          container timers {
            description
              "Timers related to a BGP neighbor";
            uses neighbor-group-timers-config;
          }
          container transport {
            description
              "Transport session parameters for the BGP neighbor";
            uses neighbor-group-transport-config;
          }
          leaf treat-as-withdraw {
            type boolean;
            default "false";
            description
              "Specify whether erroneous UPDATE messages for which
               the NLRI can be extracted are treated as though the
               NLRI is withdrawn - avoiding session reset";
            reference
              "RFC 7606: Revised Error Handling for BGP UPDATE
               Messages.";
          }
          leaf erroneous-update-messages {
            type uint32;
            config false;
            description
              "The number of BGP UPDATE messages for which the
               treat-as-withdraw mechanism has been applied based on
               erroneous message contents";
          }
          container graceful-restart {
            if-feature "bt:graceful-restart";
            description
              "Parameters relating the graceful restart mechanism for
               BGP";
            uses graceful-restart-config;
            leaf peer-restart-time {
              type uint16 {
                range "0..4096";
              }
              config false;
              description
                "The period of time (advertised by the peer) that the
                 peer expects a restart of a BGP session to take.";
            }
            leaf peer-restarting {
              type boolean;
              config false;
              description
                "This flag indicates whether the remote neighbor is
                 currently in the process of restarting, and hence
                 received routes are currently stale.";
            }
            leaf local-restarting {
              type boolean;
              config false;
              description
                "This flag indicates whether the local neighbor is
                 currently restarting. The flag is cleared after all
                 NLRI have been advertised to the peer, and the
                 End-of-RIB (EOR) marker has been cleared.";
            }
            leaf mode {
              type enumeration {
                enum helper-only {
                  description
                    "The local router is operating in helper-only
                     mode, and hence will not retain forwarding state
                     during a local session restart, but will do so
                     during a restart of the remote peer";
                }
                enum bilateral {
                  description
                    "The local router is operating in both helper
                     mode, and hence retains forwarding state during
                     a remote restart, and also maintains forwarding
                     state during local session restart";
                }
                enum remote-helper {
                  description
                    "The local system is able to retain routes during
                     restart but the remote system is only able to
                     act as a helper";
                }
              }
              config false;
              description
                "This leaf indicates the mode of operation of BGP
                 graceful restart with the peer";
            }
          }
          uses structure-neighbor-group-logging-options;
          uses structure-neighbor-group-ebgp-multihop;
          uses structure-neighbor-group-route-reflector;
          uses structure-neighbor-group-as-path-options;
          uses structure-neighbor-group-add-paths;
          uses bgp-neighbor-use-multiple-paths;
          uses rt-pol:apply-policy-group;
          container afi-safis {
            description
              "Per-address-family configuration parameters associated
               with the neighbor";
            uses bgp-neighbor-afi-safi-list;
          }
          container statistics {
            description
              "Statistics per neighbor.";

            leaf peer-fsm-established-transitions {
              type yang:counter64;
              config false;
              description
                "Number of transitions to the Established state for
                 the neighbor session. This value is analogous to the
                 bgpPeerFsmEstablishedTransitions object from the
                 standard BGP-4 MIB";
              reference
                "RFC 4273, Definitions of Managed Objects for
                 BGP-4.";
            }
            leaf fsm-established-transitions {
              type yang:counter32;
              config false;
              description
                "The total number of times the BGP FSM
                 transitioned into the established state
                 for this peer.";
              reference
                "RFC 4271, Section 8.";
            }
            container messages {
              config false;
              description
                "Counters for BGP messages sent and received from the
                 neighbor";
              leaf in-total-messages {
                type yang:counter32;
                config false;
                description
                  "The total number of messages received
                   from the remote peer on this connection.";
                reference
                  "RFC 4271, Section 4.";
              }
              leaf out-total-messages {
                type yang:counter32;
                config false;
                description
                  "The total number of messages transmitted to
                   the remote peer on this connection.";
                reference
                  "RFC 4271, Section 4.";
              }
              leaf in-update-elapsed-time {
                type yang:gauge32;
                units "seconds";
                config false;
                description
                  "Elapsed time (in seconds) since the last BGP
                   UPDATE message was received from the peer.
                   Each time in-updates is incremented,
                   the value of this object is set to zero (0).";
                reference
                  "RFC 4271, Section 4.3.
                   RFC 4271, Section 8.2.2, Established state.";
              }
              container sent {
                description
                  "Counters relating to BGP messages sent to the
                   neighbor";
                uses bgp-neighbor-counters-message-types-state;
              }
              container received {
                description
                  "Counters for BGP messages received from the
                   neighbor";
                uses bgp-neighbor-counters-message-types-state;
              }
            }
            container queues {
              config false;
              description
                "Counters related to queued messages associated with
                 the BGP neighbor";
              leaf input {
                type uint32;
                description
                  "The number of messages received from the peer
                   currently queued";
              }
              leaf output {
                type uint32;
                description
                  "The number of messages queued to be sent to the
                   peer";
              }
            }
            action clear {
              if-feature "bt:clear-statistics";
              description
                "Clear statistics action command.

                 Execution of this command should result in all the
                 counters to be cleared and set to 0.";

              input {
                leaf clear-at {
                  type yang:date-and-time;
                  description
                    "Time when the clear action needs to be
                     executed.";
                }
              }
              output {
                leaf clear-finished-at {
                  type yang:date-and-time;
                  description
                    "Time when the clear action command completed.";
                }
              }
            }
          }
        }
        notification established {
          leaf remote-address {
            type leafref {
              path "../../neighbor/remote-address";
            }
            description
              "IP address of the neighbor that went into established
               state.";
          }
          leaf last-error {
            type leafref {
              path "../../neighbor/last-error";
            }
            description
              "The last error code and subcode seen by this
               peer on this connection.  If no error has
               occurred, this field is zero.  Otherwise, the
               first octet of this two byte OCTET STRING
               contains the error code, and the second octet
               contains the subcode.";
            reference
              "RFC 4271, Section 4.5.";
          }
          leaf session-state {
            type leafref {
              path "../../neighbor/session-state";
            }
            description
              "The BGP peer connection state.";
            reference
              "RFC 4271, Section 8.2.2.";
          }
          description
            "The established event is generated
             when the BGP FSM enters the established state.";
        }

        notification backward-transition {
          leaf remote-addr {
            type leafref {
              path "../../neighbor/remote-address";
            }
            description
              "IP address of the neighbor that changed its state from
               established state.";
          }
          leaf last-error {
            type leafref {
              path "../../neighbor/last-error";
            }
            description
              "The last error code and subcode seen by this
               peer on this connection.  If no error has
               occurred, this field is zero.  Otherwise, the
               first byte of this two byte OCTET STRING
               contains the error code, and the second byte
               contains the subcode.";
            reference
              "RFC 4271, Section 4.5.";
          }
          leaf session-state {
            type leafref {
              path "../../neighbor/session-state";
            }
            description
              "The BGP peer connection state.";
            reference
              "RFC 4271, Section 8.2.2.";
          }
          description
            "The backward-transition event is
             generated when the BGP FSM moves from a higher
             numbered state to a lower numbered state.";
        }
        action clear {
          if-feature "bt:clear-neighbors";
          description
            "Clear neighbors action.";

          input {
            choice operation {
              default operation-admin;
              description
                "The type of operation for the clear action.";
              case operation-admin {
                leaf admin {
                  type empty;
                  description
                    "Closes the Established BGP session with a BGP
                     NOTIFICATION message with the Administrative
                     Reset error subcode.";
                  reference
                    "RFC 4486 - Subcodes for BGP Cease Notification
                     Message.";
                }
              }
              case operation-hard {
                leaf hard {
                  type empty;
                  description
                    "Closes the Established BGP session with a BGP
                     NOTIFICATION message with the Hard Reset error
                     subcode.";
                  reference
                    "RFC 8538, Section 3 - Notification Message
                     Support for BGP Graceful Restart.";
                }
              }
              case operation-soft {
                leaf soft {
                  type empty;
                  description
                    "Re-sends the current Adj-Rib-Out to this
                     neighbor.";
                }
              }
              case operation-soft-inbound {
                leaf soft-inbound {
                  if-feature "bt:route-refresh";
                  type empty;
                  description
                    "Requests the Adj-Rib-In for this neighbor to be
                     re-sent using the BGP Route Refresh feature.";
                }
              }
            }


            leaf clear-at {
              type yang:date-and-time;
              description
                "Time when the clear action command needs to be
                 executed.";
            }
          }
          output {
            leaf clear-finished-at {
              type yang:date-and-time;
              description
                "Time when the clear action command completed.";
            }
          }
        }
      }
      container peer-groups {
        description
          "Configuration for BGP peer-groups";
        uses bgp-peer-group-list;
      }
      container interfaces {
        list interface {
          key "name";
          leaf name {
            type if:interface-ref;
            description
              "Reference to the interface within the routing
               instance.";
          }
          container bfd {
            if-feature "bt:bfd";
            uses bfd-types:client-cfg-parms;
            description
              "BFD client configuration.";
            reference
              "RFC 9127, YANG Data Model for Bidirectional Forwarding
               Detection.";
          }
          description
            "List of interfaces within the routing instance.";
        }
        description
          "Interface specific parameters.";
      }
      uses rib;
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.1-1" class="pilcrow">¶</a>
</div>
<div id="section-7.1-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-common@2021-10-25.yang"

submodule ietf-bgp-common {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix bgp;
  }

  import ietf-bgp-types {
    prefix bt;
    reference
      "RFC XXXX: BGP Model for Service Provider Network.";
  }
  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types.";
  }

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com,
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This sub-module contains common groupings that are common across
     multiple contexts within the BGP module. That is to say that
     they may be application to a subset of global, peer-group, or
     neighbor contexts.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXXX, BGP Model for Service Provider Network.";
  }

  grouping neighbor-group-timers-config {
    description
      "Config parameters related to timers associated with the BGP
       peer";
    leaf connect-retry-interval {
      type uint16 {
        range "1..max";
      }
      units "seconds";
      default "120";
      description
        "Time interval (in seconds) for the ConnectRetryTimer. The
         suggested value for this timer is 120 seconds.";
      reference
        "RFC 4271, Section 8.2.2.  This is the value used
         to initialize the 'ConnectRetryTimer'.";
    }
    leaf hold-time {
      type uint16 {
        range "0 | 3..65535";
      }
      units "seconds";
      default "90";
      description
        "Time interval (in seconds) for the HoldTimer established
         with the peer.  When read as operational data (ro), the
         value of this object is calculated by this BGP speaker,
         using the smaller of the values in hold-time that was
         configured (rw) in the running datastore and the Hold Time
         received in the OPEN message.

         This value must be at least three seconds
         if it is not zero (0).

         If the Hold Timer has not been established
         with the peer this object MUST have a value
         of zero (0).

         If the configured value of hold-time object was
         a value of (0), then when read this object MUST have a
         value of (0) also.";
      reference
        "RFC 4271, Section 4.2.
         RFC 4271, Section 10.";
    }
    leaf keepalive {
      type uint16 {
        range "0..21845";
      }
      units "seconds";
      description
        "When used as a configuration (rw) value, this Time interval
         (in seconds) for the KeepAlive timer configured for this BGP
         speaker with this peer.  A reasonable maximum value for this
         timer would be one-third of the configured hold-time.

         In the absence of explicit configuration of the keepalive
         value, operationally it SHOULD have a value of one-third of
         the negotiated hold-time.

         If the value of this object is zero (0), no periodic
         KEEPALIVE messages are sent to the peer after the BGP
         connection has been established.

         The actual time interval for the KEEPALIVE messages is
         indicated by operational value of keepalive.";
      reference
        "RFC 4271, Section 4.4.
         RFC 4271, Section 10.";
    }
    leaf min-as-origination-interval {
      type uint16 {
        range "0..max";
      }
      units "seconds";
      description
        "Time interval (in seconds) for the MinASOriginationInterval
         timer. The suggested value for this timer is 15 seconds.";
      reference
        "RFC 4271, Section 9.2.1.2.
         RFC 4271, Section 10.";
    }
    leaf min-route-advertisement-interval {
      type uint16 {
        range "0..max";
      }
      units "seconds";
      description
        "Time interval (in seconds) for the
         MinRouteAdvertisementInterval timer.
         The suggested value for this timer is 30
         seconds for EBGP connections and 5
         seconds for IBGP connections.";
      reference
        "RFC 4271, Section 9.2.1.1.
         RFC 4271, Section 10.";
    }
  }

  grouping neighbor-group-config {
    description
      "Neighbor level configuration items.";
    leaf peer-as {
      type inet:as-number;
      description
        "AS number of the peer.";
    }
    leaf local-as {
      type inet:as-number;
      description
        "The local autonomous system number that is to be used when
         establishing sessions with the remote peer or peer group, if
         this differs from the global BGP router autonomous system
         number.";
    }

    leaf remove-private-as {
      type bt:remove-private-as-option;
      description
        "When this leaf is specified, remove private AS numbers from
         updates sent to peers.";
    }
    container route-flap-damping {
      if-feature "bt:damping";
      leaf enable {
        type boolean;
        default "false";
        description
          "Enable route flap damping.";
      }
      leaf suppress-above {
        type decimal64 {
          fraction-digits 1;
        }
        default "3.0";
        description
          "This is the value of the instability metric at which
           route suppression takes place. A route is not installed
           in the forwarding information base (FIB), or announced
           even if it is reachable during the period that it is
           suppressed.";
      }
      leaf reuse-above {
        type decimal64 {
          fraction-digits 1;
        }
        default "2.0";
        description
          "This is the value of the instability metric at which a
           suppressed route becomes unsuppressed if it is reachable
           but currently suppressed. The value assigned to
           reuse-below must be less than suppress-above.";
      }
      leaf max-flap {
        type decimal64 {
          fraction-digits 1;
        }
        default "16.0";
        description
          "This is the upper limit of the instability metric. This
           value must be greater than the larger of 1 and
           suppress-above.";
      }
      leaf reach-decay {
        type uint32;
        units "seconds";
        default "300";
        description
          "This value specifies the time desired for the instability
           metric value to reach one-half of its current value when
           the route is reachable. This half-life value determines
           the rate at which the metric value is decayed. A smaller
           half-life value makes a suppressed route reusable sooner
           than a larger value.";
      }
      leaf unreach-decay {
        type uint32;
        units "seconds";
        default "900";
        description
          "This value acts the same as reach-decay except that it
           specifies the rate at which the instability metric is
           decayed when a route is unreachable. It should have a
           value greater than or equal to reach-decay.";
      }
      leaf keep-history {
        type uint32;
        units "seconds";
        default "1800";
        description
          "This value specifies the period over which the route
           flapping history is to be maintained for a given route.
           The size of the configuration arrays described below is
           directly affected by this value.";
      }
      description
        "Routes learned via BGP are subject to weighted route
         dampening.";
    }
    leaf send-community {
      if-feature "bt:send-communities";
      type bt:community-type;
      description
        "When supported, this tells the router to propagate any
         prefixes that are attached to these community-types.
         The value of 0 implies 'none'.";
    }
    leaf description {
      type string;
      description
        "An optional textual description (intended primarily for use
         with a peer or group";
    }
  }

  grouping neighbor-group-transport-config {
    description
      "Configuration parameters relating to the transport protocol
       used by the BGP session to the peer.";
    leaf tcp-mss {
      type uint16;
      description
        "Sets the max segment size for BGP TCP sessions.";
    }
    leaf mtu-discovery {
      type boolean;
      default "true";
      description
        "Turns path mtu discovery for BGP TCP sessions on (true) or
         off (false).";
      reference
        "RFC 1191: Path MTU discovery.";
    }
    leaf passive-mode {
      type boolean;
      default "false";
      description
        "Wait for peers to issue requests to open a BGP session,
         rather than initiating sessions from the local router.";
    }
    leaf local-address {
      type union {
        type inet:ip-address;
        type leafref {
          path "../../../../interfaces/interface/name";
        }
      }
      description
        "Set the local IP (either IPv4 or IPv6) address to use for
         the session when sending BGP update messages.  This may be
         expressed as either an IP address or reference to the name
         of an interface.";
    }

    leaf md5-auth-password {
      type string;
      description
        "Configures an MD5 authentication password for use with
         neighboring devices.";
      reference
        "RFC 2385: Protection of BGP Sessions via the TCP MD5
                   Signature Option.";
    }
  }

  grouping graceful-restart-config {
    description
      "Configuration parameters relating to BGP graceful restart.";
    leaf enabled {
      type boolean;
      description
        "Enable or disable the graceful-restart capability.";
    }
    leaf restart-time {
      type uint16 {
        range "0..4096";
      }
      description
        "Estimated time (in seconds) for the local BGP speaker to
         restart a session. This value is advertise in the graceful
         restart BGP capability.  This is a 12-bit value, referred to
         as Restart Time in RFC4724.  Per RFC4724, the suggested
         default value is &lt;= the hold-time value.";
      reference
        "RFC 4724: Graceful Restart Mechanism for BGP.";
    }
    leaf stale-routes-time {
      type uint32;
      description
        "An upper-bound on the time that stale routes will be
         retained by a router after a session is restarted. If an
         End-of-RIB (EOR) marker is received prior to this timer
         expiring, stale-routes will be flushed upon its receipt - if
         no EOR is received, then when this timer expires stale paths
         will be purged. This timer is referred to as the
         Selection_Deferral_Timer in RFC4724";
      reference
        "RFC 4724: Graceful Restart Mechanism for BGP.";
    }
    leaf helper-only {
      type boolean;
      default "true";
      description
        "Enable graceful-restart in helper mode only. When this leaf
         is set, the local system does not retain forwarding its own
         state during a restart, but supports procedures for the
         receiving speaker, as defined in RFC4724.";
      reference
        "RFC 4724: Graceful Restart Mechanism for BGP.";
    }
  }

  grouping global-group-use-multiple-paths {
    description
      "Common grouping used for both global and groups which provides
       configuration and state parameters relating to use of multiple
       paths";
    container use-multiple-paths {
      description
        "Parameters related to the use of multiple paths for the
         same NLRI";
      leaf enabled {
        type boolean;
        default "false";
        description
          "Whether the use of multiple paths for the same NLRI is
           enabled for the neighbor. This value is overridden by any
           more specific configuration value.";
      }
      container ebgp {
        description
          "Multi-Path parameters for eBGP";
        leaf allow-multiple-as {
          type boolean;
          default "false";
          description
            "Allow multi-path to use paths from different neighboring
             ASes.  The default is to only consider multiple paths
             from the same neighboring AS.";
        }
        leaf maximum-paths {
          type uint32;
          default "1";
          description
            "Maximum number of parallel paths to consider when using
             BGP multi-path. The default is use a single path.";
        }
      }
      container ibgp {
        description
          "Multi-Path parameters for iBGP";
        leaf maximum-paths {
          type uint32;
          default "1";
          description
            "Maximum number of parallel paths to consider when using
             iBGP multi-path. The default is to use a single path";
        }
      }
    }
  }

  grouping route-selection-options {
    description
      "Configuration and state relating to route selection options";
    container route-selection-options {
      description
        "Parameters relating to options for route selection";
      leaf always-compare-med {
        type boolean;
        default "false";
        description
          "Compare multi-exit discriminator (MED) value from
           different ASes when selecting the best route.  The default
           behavior is to only compare MEDs for paths received from
           the same AS.";
      }
      leaf ignore-as-path-length {
        type boolean;
        default "false";
        description
          "Ignore the AS path length when selecting the best path.
           The default is to use the AS path length and prefer paths
           with a shorter length.";
      }
      leaf external-compare-router-id {
        type boolean;
        default "true";
        description
          "When comparing similar routes received from external BGP
           peers, use the router-id as a criterion to select the
           active path.";
      }
      leaf advertise-inactive-routes {
        type boolean;
        default "false";
        description
          "Advertise inactive routes to external peers.  The default
           is to only advertise active routes.";
        reference
          "I-D.ietf-idr-best-external: Advertisement of the best
           external route in BGP.";
      }
      leaf enable-aigp {
        type boolean;
        default "false";
        description
          "Flag to enable sending / receiving accumulated IGP
           attribute in routing updates";
        reference
          "RFC 7311: AIGP Metric Attribute for BGP.";
      }
      leaf ignore-next-hop-igp-metric {
        type boolean;
        default "false";
        description
          "Ignore the IGP metric to the next-hop when calculating BGP
           best-path. The default is to select the route for which
           the metric to the next-hop is lowest";
      }
      leaf enable-med {
        type boolean;
        default "false";
        description
          "Flag to enable sending/receiving of MED metric attribute
           in routing updates.";
      }
    }
  }

  grouping state {
    description
      "Grouping containing common counters relating to prefixes and
       paths";
    leaf total-paths {
      type uint32;
      config false;
      description
        "Total number of BGP paths (BGP routes) within the context";
    }
    leaf total-prefixes {
      type uint32;
      config false;
      description
        "Total number of BGP prefixes (destinations) received within
         the context";
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.1-2" class="pilcrow">¶</a>
</div>
<div id="section-7.1-3">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-common-multiprotocol@2021-10-25.yang"

submodule ietf-bgp-common-multiprotocol {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix bgp;
  }

  import ietf-bgp-types {
    prefix bt;
  }
  import ietf-routing-policy {
    prefix rt-pol;
  }
  import ietf-routing-types {
    prefix rt-types;
  }
  include ietf-bgp-common;

  // meta

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This sub-module contains groupings that are related to support
     for multiple protocols in BGP. The groupings are common across
     multiple contexts.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXX, BGP Model for Service Provider Network.";
  }

  grouping mp-afi-safi-graceful-restart-config {
    description
      "BGP graceful restart parameters that apply on a per-AFI-SAFI
       basis";
    leaf enabled {
      type boolean;
      default "false";
      description
        "This leaf indicates whether graceful-restart is enabled for
         this AFI-SAFI.";
    }
  }

  grouping mp-afi-safi-config {
    description
      "Configuration parameters used for all BGP AFI-SAFIs";
    leaf name {
      type identityref {
        base bt:afi-safi-type;
      }
      description
        "AFI,SAFI";
    }
    leaf enabled {
      type boolean;
      default "false";
      description
        "This leaf indicates whether this AFI,SAFI is enabled for
         the neighbor or group";
    }
  }

  grouping mp-all-afi-safi-list-contents {
    description
      "A common grouping used for contents of the list that is used
       for AFI-SAFI entries";
    // import and export policy included for the afi/safi
    uses rt-pol:apply-policy-group;
    container ipv4-unicast {
      when "../name = 'bt:ipv4-unicast'" {
        description
          "Include this container for IPv4 Unicast specific
           configuration";
      }
      description
        "IPv4 unicast configuration options";
      // include common IPv[46] unicast options
      uses mp-ipv4-ipv6-unicast-common;
      // placeholder for IPv4 unicast  specific configuration
    }
    container ipv6-unicast {
      when "../name = 'bt:ipv6-unicast'" {
        description
          "Include this container for IPv6 Unicast specific
           configuration";
      }
      description
        "IPv6 unicast configuration options";
      // include common IPv[46] unicast options
      uses mp-ipv4-ipv6-unicast-common;
      // placeholder for IPv6 unicast specific configuration
      // options
    }
    container ipv4-labeled-unicast {
      when "../name = 'bt:ipv4-labeled-unicast'" {
        description
          "Include this container for IPv4 Labeled Unicast specific
           configuration";
      }
      description
        "IPv4 Labeled Unicast configuration options";
      uses mp-all-afi-safi-common;
      // placeholder for IPv4 Labeled Unicast specific config
      // options
    }
    container ipv6-labeled-unicast {
      when "../name = 'bt:ipv6-labeled-unicast'" {
        description
          "Include this container for IPv6 Labeled Unicast specific
           configuration";
      }
      description
        "IPv6 Labeled Unicast configuration options";
      uses mp-all-afi-safi-common;
      // placeholder for IPv6 Labeled Unicast specific config
      // options.
    }
    container l3vpn-ipv4-unicast {
      when "../name = 'bt:l3vpn-ipv4-unicast'" {
        description
          "Include this container for IPv4 Unicast L3VPN specific
           configuration";
      }
      description
        "Unicast IPv4 L3VPN configuration options";
      // include common L3VPN configuration options
      uses mp-l3vpn-ipv4-ipv6-unicast-common;
      // placeholder for IPv4 Unicast L3VPN specific config options.
    }
    container l3vpn-ipv6-unicast {
      when "../name = 'bt:l3vpn-ipv6-unicast'" {
        description
          "Include this container for unicast IPv6 L3VPN specific
           configuration";
      }
      description
        "Unicast IPv6 L3VPN configuration options";
      // include common L3VPN configuration options
      uses mp-l3vpn-ipv4-ipv6-unicast-common;
      // placeholder for IPv6 Unicast L3VPN specific configuration
      // options
    }
    container l3vpn-ipv4-multicast {
      when "../name = 'bt:l3vpn-ipv4-multicast'" {
        description
          "Include this container for multicast IPv6 L3VPN specific
           configuration";
      }
      description
        "Multicast IPv4 L3VPN configuration options";
      // include common L3VPN multicast options
      uses mp-l3vpn-ipv4-ipv6-multicast-common;
      // placeholder for IPv4 Multicast L3VPN specific configuration
      // options
    }
    container l3vpn-ipv6-multicast {
      when "../name = 'bt:l3vpn-ipv6-multicast'" {
        description
          "Include this container for multicast IPv6 L3VPN specific
           configuration";
      }
      description
        "Multicast IPv6 L3VPN configuration options";
      // include common L3VPN multicast options
      uses mp-l3vpn-ipv4-ipv6-multicast-common;
      // placeholder for IPv6 Multicast L3VPN specific configuration
      // options
    }
    container l2vpn-vpls {
      when "../name = 'bt:l2vpn-vpls'" {
        description
          "Include this container for BGP-signalled VPLS specific
           configuration";
      }
      description
        "BGP-signalled VPLS configuration options";
      // include common L2VPN options
      uses mp-l2vpn-common;
      // placeholder for BGP-signalled VPLS specific configuration
      // options
    }
    container l2vpn-evpn {
      when "../name = 'bt:l2vpn-evpn'" {
        description
          "Include this container for BGP EVPN specific
           configuration";
      }
      description
        "BGP EVPN configuration options";
      // include common L2VPN options
      uses mp-l2vpn-common;
      // placeholder for BGP EVPN specific configuration options
    }
  }

  // Common groupings across multiple AFI,SAFIs

  grouping mp-all-afi-safi-common {
    description
      "Grouping for configuration common to all AFI,SAFI";
    container prefix-limit {
      description
        "Parameters relating to the prefix limit for the AFI-SAFI";
      leaf max-prefixes {
        type uint32;
        description
          "Maximum number of prefixes that will be accepted from the
           neighbor";
      }
      leaf shutdown-threshold-pct {
        type rt-types:percentage;
        description
          "Threshold on number of prefixes that can be received from
           a neighbor before generation of warning messages or log
           entries. Expressed as a percentage of max-prefixes";
      }
      leaf restart-timer {
        type uint32;
        units "seconds";
        description
          "Time interval in seconds after which the BGP session is
           re-established after being torn down due to exceeding the
           max-prefix limit.";
      }
    }
  }

  grouping mp-ipv4-ipv6-unicast-common {
    description
      "Common configuration that is applicable for IPv4 and IPv6
       unicast";
    // include common afi-safi options.
    uses mp-all-afi-safi-common;
    // configuration options that are specific to IPv[46] unicast
    leaf send-default-route {
      type boolean;
      default "false";
      description
        "If set to true, send the default-route to the neighbor(s)";
    }
  }

  grouping mp-l3vpn-ipv4-ipv6-unicast-common {
    description
      "Common configuration applied across L3VPN for IPv4
       and IPv6";
    // placeholder -- specific configuration options that are generic
    // across IPv[46] unicast address families.
    uses mp-all-afi-safi-common;
  }

  grouping mp-l3vpn-ipv4-ipv6-multicast-common {
    description
      "Common configuration applied across L3VPN for IPv4
       and IPv6";
    // placeholder -- specific configuration options that are
    // generic across IPv[46] multicast address families.
    uses mp-all-afi-safi-common;
  }

  grouping mp-l2vpn-common {
    description
      "Common configuration applied across L2VPN address
       families";
    // placeholder -- specific configuration options that are
    // generic across L2VPN address families
    uses mp-all-afi-safi-common;
  }

  // Config groupings for common groups

  grouping mp-all-afi-safi-common-prefix-limit-config {
    description
      "Configuration parameters relating to prefix-limits for an
       AFI-SAFI";
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.1-3" class="pilcrow">¶</a>
</div>
<div id="section-7.1-4">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-common-structure@2021-10-25.yang"

submodule ietf-bgp-common-structure {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix bgp;
  }

  import ietf-routing-policy {
    prefix rt-pol;
    reference
      "RFC ZZZZ, A YANG Data Model for Routing Policy Management";
  }
  import ietf-bgp-types {
    prefix bt;
    reference
      "RFC XXXX, BGP YANG Model for Service Provider Network.";
  }
  include ietf-bgp-common-multiprotocol;
  include ietf-bgp-common;

  // meta

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This sub-module contains groupings that are common across
     multiple BGP contexts and provide structure around other
     primitive groupings.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXX, BGP Model for Service Provider Network.";
  }

  grouping structure-neighbor-group-logging-options {
    description
      "Structural grouping used to include error handling
       configuration and state for both BGP neighbors and groups";
    container logging-options {
      description
        "Logging options for events related to the BGP neighbor or
         group";
      leaf log-neighbor-state-changes {
        type boolean;
        default "true";
        description
          "Configure logging of peer state changes.  Default is to
           enable logging of peer state changes.

           Note: Documenting demotion from ESTABLISHED state is
                 desirable, but documenting all backward transitions
                 is problematic, and should be avoided.";
      }
    }
  }

  grouping structure-neighbor-group-ebgp-multihop {
    description
      "Structural grouping used to include eBGP multi-hop
       configuration and state for both BGP neighbors and peer
       groups";
    container ebgp-multihop {
      description
        "eBGP multi-hop parameters for the BGP peer-group";
      leaf enabled {
        type boolean;
        default "false";
        description
          "When enabled, the referenced group or neighbors are
           permitted to be indirectly connected - including cases
           where the TTL can be decremented between the BGP peers";
      }
      leaf multihop-ttl {
        type uint8;
        description
          "Time-to-live value to use when packets are sent to the
           referenced group or neighbors and ebgp-multihop is
           enabled";
      }
    }
  }

  grouping structure-neighbor-group-route-reflector {
    description
      "Structural grouping used to include route reflector
       configuration and state for both BGP neighbors and peer
       groups";
    container route-reflector {
      description
        "Route reflector parameters for the BGP peer-group";
      reference
        "RFC 4456: BGP Route Reflection.";
      leaf cluster-id {
        type bt:rr-cluster-id-type;
        description
          "Route Reflector cluster id to use when local router is
           configured as a route reflector.  Commonly set at the
           group level, but allows a different cluster id to be set
           for each neighbor.";
        reference
          "RFC 4456: BGP Route Reflection: An Alternative to
                     Full Mesh.";
      }
      leaf no-client-reflect {
        type boolean;
        default "false";
        description
          "When set to 'true', this disables route redistribution
           by the Route Reflector. It is set 'true' when the client
           is fully meshed in its peer-group to prevent sending of
           redundant route advertisements.";
      }
      leaf client {
        type boolean;
        default "false";
        description
          "Configure the neighbor as a route reflector client.";
        reference
          "RFC 4456: BGP Route Reflection: An Alternative to
                     Full Mesh.";
      }
    }
  }

  grouping structure-neighbor-group-as-path-options {
    description
      "Structural grouping used to include AS_PATH manipulation
       configuration and state for both BGP neighbors and peer
       groups";
    container as-path-options {
      description
        "AS_PATH manipulation parameters for the BGP neighbor or
         group";
      leaf allow-own-as {
        type uint8;
        default "0";
        description
          "Specify the number of occurrences of the local BGP
           speaker's AS that can occur within the AS_PATH before it
           is rejected as looped.";
      }
      leaf replace-peer-as {
        type boolean;
        default "false";
        description
          "Replace occurrences of the peer's AS in the AS_PATH with
           the local autonomous system number";
      }
    }
  }

  grouping structure-neighbor-group-add-paths {
    description
      "Structural grouping used to include ADD-PATHs configuration
       and state for both BGP neighbors and peer groups";
    container add-paths {
      if-feature "bt:add-paths";
      description
        "Parameters relating to the advertisement and receipt of
         multiple paths for a single NLRI (add-paths)";
      reference
        "RFC 7911: Advertisements of Multiple Paths in BGP.";
      leaf receive {
        type boolean;
        default "false";
        description
          "Enable ability to receive multiple path advertisements for
           an NLRI from the neighbor or group";
      }
      choice send {
        description
          "Choice of sending the max. number of paths or to send
           all.";
        case max {
          leaf max {
            type uint8;
            description
              "The maximum number of paths to advertise to neighbors
               for a single NLRI";
          }
        }
        case all {
          leaf all {
            type empty;
            description
              "Send all the path advertisements to neighbors for a
               single NLRI.";
          }
        }
      }
      leaf eligible-prefix-policy {
        type leafref {
          path "/rt-pol:routing-policy/rt-pol:policy-definitions/"
             + "rt-pol:policy-definition/rt-pol:name";
        }
        description
          "A reference to a routing policy which can be used to
           restrict the prefixes for which add-paths is enabled";
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.1-4" class="pilcrow">¶</a>
</div>
<div id="section-7.1-5">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-peer-group@2021-10-25.yang"

submodule ietf-bgp-peer-group {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix bgp;
  }

  import ietf-routing-policy {
    prefix rt-pol;
  }
  import ietf-bgp-types {
    prefix bt;
    reference
      "RFC XXXX, BGP Model for Service Provider Network.";
  }

  // Include the common submodule

  include ietf-bgp-common;
  include ietf-bgp-common-multiprotocol;
  include ietf-bgp-common-structure;

  // meta

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This sub-module contains groupings that are specific to the
     peer-group context of the BGP module.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXX, BGP Model for Service Provider Network.";
  }

  grouping bgp-peer-group-afi-safi-list {
    description
      "List of address-families associated with the BGP peer-group";
    list afi-safi {
      key "name";
      description
        "AFI, SAFI configuration available for the
         neighbor or group";
      uses mp-afi-safi-config;
      container graceful-restart {
        if-feature "bt:graceful-restart";
        description
          "Parameters relating to BGP graceful-restart";
        uses mp-afi-safi-graceful-restart-config;
      }
      uses route-selection-options;
      uses global-group-use-multiple-paths;
      uses mp-all-afi-safi-list-contents;
    }
  }

  grouping bgp-peer-group-base {
    description
      "Parameters related to a BGP peer-group.";
    leaf name {
      type string;
      description
        "Name of the BGP peer-group";
    }
    uses neighbor-group-config;
    container timers {
      description
        "Timers related to a BGP peer-group.";
      uses neighbor-group-timers-config;
    }
    container transport {
      description
        "Transport session parameters for the BGP peer-group.";
      uses neighbor-group-transport-config;
    }
    container graceful-restart {
      if-feature "bt:graceful-restart";
      description
        "Parameters relating the graceful restart mechanism for
         BGP.";
      uses graceful-restart-config;
    }
    uses structure-neighbor-group-ebgp-multihop;
    uses structure-neighbor-group-route-reflector;
    uses structure-neighbor-group-as-path-options;
    uses structure-neighbor-group-add-paths;
    uses global-group-use-multiple-paths;
    uses rt-pol:apply-policy-group;
    container afi-safis {
      description
        "Per-address-family configuration parameters associated with
         the peer-group.";
      uses bgp-peer-group-afi-safi-list;
    }
  }

  grouping bgp-peer-group-list {
    description
      "The list of BGP peer groups";
    list peer-group {
      key "name";
      description
        "List of BGP peer-groups configured on the local system -
         uniquely identified by peer-group name";
      uses bgp-peer-group-base;
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.1-5" class="pilcrow">¶</a>
</div>
<div id="section-7.1-6">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-neighbor@2021-10-25.yang"

submodule ietf-bgp-neighbor {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix bgp;
  }

  import ietf-bgp-types {
    prefix bt;
    reference
      "RFC XXXX, BGP Model for Service Provider Network.";
  }

  // Include the common submodule

  include ietf-bgp-common;
  include ietf-bgp-common-multiprotocol;
  include ietf-bgp-peer-group;
  include ietf-bgp-common-structure;

  // meta

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This sub-module contains groupings that are specific to the
     neighbor context of the BGP module.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXX, BGP Model for Service Provider Network.";
  }

  grouping bgp-neighbor-use-multiple-paths {
    description
      "Multi-path configuration and state applicable to a BGP
       neighbor";
    container use-multiple-paths {
      description
        "Parameters related to the use of multiple-paths for the same
         NLRI when they are received only from this neighbor";
      leaf enabled {
        type boolean;
        default "false";
        description
          "Whether the use of multiple paths for the same NLRI is
           enabled for the neighbor.";
      }
      container ebgp {
        description
          "Multi-path configuration for eBGP";
        leaf allow-multiple-as {
          type boolean;
          default "false";
          description
            "Allow multi-path to use paths from different neighboring
             ASes. The default is to only consider multiple paths
             from the same neighboring AS.";
        }
      }
    }
  }

  grouping bgp-neighbor-counters-message-types-state {
    description
      "Grouping of BGP message types, included for re-use across
       counters";
    leaf updates-received {
      type uint64;
      description
        "Number of BGP UPDATE messages received from this neighbor.";
      reference
        "RFC 4273: bgpPeerInUpdates.";
    }
    leaf updates-sent {
      type uint64;
      description
        "Number of BGP UPDATE messages sent to this neighbor";
      reference
        "RFC 4273 - bgpPeerOutUpdates";
    }
    leaf messages-received {
      type uint64;
      description
        "Number of BGP messages received from thsi neighbor";
      reference
        "RFC 4273 - bgpPeerInTotalMessages";
    }
    leaf messages-sent {
      type uint64;
      description
        "Number of BGP messages received from thsi neighbor";
      reference
        "RFC 4273 - bgpPeerOutTotalMessages";
    }
    leaf notification {
      type uint64;
      description
        "Number of BGP NOTIFICATION messages indicating an error
         condition has occurred exchanged.";
    }
  }

  grouping bgp-neighbor-afi-safi-list {
    description
      "List of address-families associated with the BGP neighbor";
    list afi-safi {
      key "name";
      description
        "AFI, SAFI configuration available for the neighbor or
         group";
      uses mp-afi-safi-config;
      leaf active {
        type boolean;
        config false;
        description
          "This value indicates whether a particular AFI-SAFI has
           been successfully negotiated with the peer. An AFI-SAFI may
           be enabled in the current running configuration, but a
           session restart may be required in order to negotiate the
           new capability.";
      }
      container prefixes {
        config false;
        description
          "Prefix counters for the AFI/SAFI in this BGP session";
        leaf received {
          type uint32;
          description
            "The number of prefixes received from the neighbor";
        }
        leaf sent {
          type uint32;
          description
            "The number of prefixes advertised to the neighbor";
        }
        leaf installed {
          type uint32;
          description
            "The number of advertised prefixes installed in the
             Loc-RIB";
        }
      }
      container graceful-restart {
        if-feature "bt:graceful-restart";
        description
          "Parameters relating to BGP graceful-restart";
        uses mp-afi-safi-graceful-restart-config;
        leaf received {
          type boolean;
          config false;
          description
            "This leaf indicates whether the neighbor advertised the
             ability to support graceful-restart for this AFI-SAFI";
        }
        leaf advertised {
          type boolean;
          config false;
          description
            "This leaf indicates whether the ability to support
             graceful-restart has been advertised to the peer";
        }
      }
      uses mp-all-afi-safi-list-contents;
      uses bgp-neighbor-use-multiple-paths;
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.1-6" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.2">
        <h3 id="name-bgp-types">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-bgp-types" class="section-name selfRef">BGP types</a>
        </h3>
<div id="section-7.2-1">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-types@2021-10-25.yang"

module ietf-bgp-types {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-bgp-types";
  prefix bt;

  import ietf-inet-types {
    prefix inet;
  }

  // meta

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This module contains general data definitions for use in BGP.
     It can be imported by modules that make use of BGP attributes.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXX, BGP Model for Service Provider Network.";
  }

  /*
   * Features.
   */

  feature graceful-restart {
    description
      "Graceful restart as defined in RFC 4724 is supported.";
  }

  feature clear-neighbors {
    description
      "Clearing of BGP neighbors is supported.";
  }

  feature clear-statistics {
    description
      "Clearing of BGP statistics is supported.";
  }

  feature send-communities {
    description
      "Enable the propagation of communities.";
  }

  feature ttl-security {
    description
      "BGP Time To Live (TTL) security check support.";
    reference
      "RFC 5082, The Generalized TTL Security Mechanism (GTSM).";
  }

  feature bfd {
    description
      "Support for BFD detection of BGP neighbor reachability.";
    reference
      "RFC 5880, Bidirectional Forward Detection (BFD),
       RFC 5881, Bidirectional Forward Detection for IPv4 and IPv6
                 (Single Hop),
       RFC 5883, Bidirectional Forwarding Detection (BFD) for
                 Multihop Paths.";
  }

  feature damping {
    description
      "Weighted route dampening is supported.";
  }

  feature clear-routes {
    description
      "Clearing of BGP routes is supported.";
  }

  feature add-paths {
    description
      "Advertisement of multiple paths for the same address prefix
       without the new paths implicitly replacing any previous
       ones.";
    reference
      "RFC 7911: Advertisement of Multiple Paths in BGP.";
  }

  feature route-refresh {
    description
      "Support for the BGP Route Refresh capability.";
    reference
      "RFC 2918: Route Refresh Capability for BGP-4.";
  }

  /*
   * Identities.
   */

  identity bgp-capability {
    description
      "Base identity for a BGP capability";
  }

  identity mp-bgp {
    base bgp-capability;
    description
      "Multi-protocol extensions to BGP";
    reference
      "RFC 4760: Multiprotocol Extentions for BGP-4.";
  }

  identity route-refresh {
    base bgp-capability;
    description
      "The BGP route-refresh functionality";
    reference
      "RFC 2918: Route Refresh Capability for BGP-4.";
  }

  identity asn32 {
    base bgp-capability;
    description
      "4-byte (32-bit) AS number functionality";
    reference
      "RFC6793: BGP Support for Four-Octet Autonomous System (AS)
                Number Space.";
  }

  identity graceful-restart {
    if-feature "graceful-restart";
    base bgp-capability;
    description
      "Graceful restart functionality";
    reference
      "RFC 4724: Graceful Restart Mechanism for BGP.";
  }

  identity add-paths {
    if-feature "add-paths";
    base bgp-capability;
    description
      "Advertisement of multiple paths for the same address prefix
       without the new paths implicitly replacing any previous
       ones.";
    reference
      "RFC 7911: Advertisement of Multiple Paths in BGP.";
  }

  identity afi-safi-type {
    description
      "Base identity type for AFI,SAFI tuples for BGP-4";
    reference
      "RFC4760: Multiprotocol Extentions for BGP-4";
  }

  identity ipv4-unicast {
    base afi-safi-type;
    description
      "IPv4 unicast (AFI,SAFI = 1,1)";
    reference
      "RFC4760: Multiprotocol Extentions for BGP-4";
  }

  identity ipv6-unicast {
    base afi-safi-type;
    description
      "IPv6 unicast (AFI,SAFI = 2,1)";
    reference
      "RFC4760: Multiprotocol Extentions for BGP-4";
  }

  identity ipv4-labeled-unicast {
    base afi-safi-type;
    description
      "Labeled IPv4 unicast (AFI,SAFI = 1,4)";
    reference
      "RFC 3107: Carrying Label Information in BGP-4.";
  }

  identity ipv6-labeled-unicast {
    base afi-safi-type;
    description
      "Labeled IPv6 unicast (AFI,SAFI = 2,4)";
    reference
      "RFC 3107: Carrying Label Information in BGP-4.";
  }

  identity l3vpn-ipv4-unicast {
    base afi-safi-type;
    description
      "Unicast IPv4 MPLS L3VPN (AFI,SAFI = 1,128)";
    reference
      "RFC 4364: BGP/MPLS IP Virtual Private Networks (VPNs).";
  }

  identity l3vpn-ipv6-unicast {
    base afi-safi-type;
    description
      "Unicast IPv6 MPLS L3VPN (AFI,SAFI = 2,128)";
    reference
      "RFC 4659: BGP-MPLS IP Virtual Private Network (VPN) Extension
                 for IPv6 VPN.";
  }

  identity l3vpn-ipv4-multicast {
    base afi-safi-type;
    description
      "Multicast IPv4 MPLS L3VPN (AFI,SAFI = 1,129)";
    reference
      "RFC 6514: BGP Encodings and Procedures for Multicast in
                 MPLS/BGP IP VPNs.";
  }

  identity l3vpn-ipv6-multicast {
    base afi-safi-type;
    description
      "Multicast IPv6 MPLS L3VPN (AFI,SAFI = 2,129)";
    reference
      "RFC 6514: BGP Encodings and Procedures for Multicast in
                 MPLS/BGP IP VPNs.";
  }

  identity l2vpn-vpls {
    base afi-safi-type;
    description
      "BGP-signalled VPLS (AFI,SAFI = 25,65)";
    reference
      "RFC 4761: Virtual Private LAN Service (VPLS) Using BGP for
                 Auto-Discovery and Signaling.";
  }

  identity l2vpn-evpn {
    base afi-safi-type;
    description
      "BGP MPLS Based Ethernet VPN (AFI,SAFI = 25,70)";
  }

  identity bgp-well-known-std-community {
    description
      "Base identity for reserved communities within the standard
       community space defined by RFC 1997. These communities must
       fall within the range 0xFFFF0000 to 0xFFFFFFFF";
    reference
      "RFC 1997: BGP Communities Attribute.";
  }

  identity no-export {
    base bgp-well-known-std-community;
    description
      "Do not export NLRI received carrying this community outside
       the bounds of this autonomous system, or this confederation
       (if the local autonomous system is a confederation member AS).
        This community has a value of 0xFFFFFF01.";
    reference
      "RFC 1997: BGP Communities Attribute.";
  }

  identity no-advertise {
    base bgp-well-known-std-community;
    description
      "All NLRI received carrying this community must not be
       advertised to other BGP peers. This community has a value of
       0xFFFFFF02.";
    reference
      "RFC 1997: BGP Communities Attribute.";
  }

  identity no-export-subconfed {
    base bgp-well-known-std-community;
    description
      "All NLRI received carrying this community must not be
       advertised to external BGP peers - including over
       confederation sub-AS boundaries. This community has a value of
       0xFFFFFF03.";
    reference
      "RFC 1997: BGP Communities Attribute.";
  }

  identity no-peer {
    base bgp-well-known-std-community;
    description
      "An autonomous system receiving NLRI tagged with this community
       is advised not to re-advertise the NLRI to external bilateral
       peer autonomous systems. An AS may also filter received NLRI
       from bilateral peer sessions when they are tagged with this
       community value. This community has a value of 0xFFFFFF04.";
    reference
      "RFC 3765: NOPEER Community for BGP.";
  }

  identity as-path-segment-type {
    description
      "Base AS Path Segment Type. In [BGP-4], the path segment type
       is a 1-octet field with the following values defined.";
    reference
      "RFC 4271: A Border Gateway Protocol 4 (BGP-4), Section 4.3.";
  }

  identity as-set {
    base as-path-segment-type;
    description
      "Unordered set of autonomous systems that a route in the UPDATE
       message has traversed.";
    reference
      "RFC 4271: A Border Gateway Protocol 4 (BGP-4), Section 4.3.";
  }

  identity as-sequence {
    base as-path-segment-type;
    description
      "Ordered set of autonomous systems that a route in the UPDATE
       message has traversed.";
    reference
      "RFC 4271: A Border Gateway Protocol 4 (BGP-4), Section 4.3.";
  }

  identity as-confed-sequence {
    base as-path-segment-type;
    description
      "Ordered set of Member Autonomous Systems in the local
       confederation that the UPDATE message has traversed.";
    reference
      "RFC 5065, Autonomous System Configuration for BGP.";
  }

  identity as-confed-set {
    base as-path-segment-type;
    description
      "Unordered set of Member Autonomous Systems in the local
       confederation that the UPDATE message has traversed.";
    reference
      "RFC 5065, Autonomous System Configuration for BGP.";
  }

  /*
   * Typedefs.
   */

  typedef bgp-session-direction {
    type enumeration {
      enum inbound {
        description
          "Refers to all NLRI received from the BGP peer";
      }
      enum oubound {
        description
          "Refers to all NLRI advertised to the BGP peer";
      }
    }
    description
      "Type to describe the direction of NLRI transmission";
  }

  typedef bgp-well-known-community-type {
    type identityref {
      base bgp-well-known-std-community;
    }
    description
      "Type definition for well-known IETF community attribute
       values.";
    reference
      "IANA Border Gateway Protocol (BGP) Well Known Communities";
  }

  typedef bgp-std-community-type {
    type union {
      type uint32;
      type string {
        pattern '([0-9]|[1-9][0-9]{1,3}|[1-5][0-9]{4}|'
              + '6[0-5][0-9]{3}|66[0-4][0-9]{2}|'
              + '665[0-2][0-9]|6653[0-5]):'
              + '([0-9]|[1-9][0-9]{1,3}|[1-5][0-9]{4}|'
              + '6[0-5][0-9]{3}|66[0-4][0-9]{2}|'
              + '665[0-2][0-9]|6653[0-5])';
      }
    }
    description
      "Type definition for standard community attributes.";
    reference
      "RFC 1997 - BGP Communities Attribute";
  }

  typedef bgp-ext-community-type {
    type union {
      type string {
        // Type 1: 2-octet global and 4-octet local
        //         (AS number)        (Integer)
        pattern '(6[0-5][0-5][0-3][0-5]|[1-5][0-9]{4}|'
              + '[1-9][0-9]{1,4}|[0-9]):'
              + '(4[0-2][0-9][0-4][0-9][0-6][0-7][0-2][0-9][0-6]|'
              + '[1-3][0-9]{9}|[1-9]([0-9]{1,7})?[0-9]|[1-9])';
      }

      type string {
        // Type 2: 4-octet global and 2-octet local
        //         (ipv4-address)     (integer)
        pattern '(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|'
              + '25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|'
              + '2[0-4][0-9]|25[0-5]):'
              + '(6[0-5][0-5][0-3][0-5]|[1-5][0-9]{4}|'
              + '[1-9][0-9]{1,4}|[0-9])';
      }

      type string {
        // route-target with Type 1
        // route-target:(ASN):(local-part)
        // 2 octets global and 4 octets local.
        pattern 'route\-target:(6[0-5][0-5][0-3][0-5]|'
              + '[1-5][0-9]{4}|[1-9][0-9]{1,4}|[0-9]):'
              + '(4[0-2][0-9][0-4][0-9][0-6][0-7][0-2][0-9][0-6]|'
              + '[1-3][0-9]{9}|[1-9]([0-9]{1,7})?[0-9]|[1-9])';
      }

      type string {
        // route-target with Type 2
        // route-target:(IPv4):(local-part)
        // 4 bytes of IP address, and 2 bytes for local.
        pattern 'route\-target:'
              + '(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|'
              + '25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|'
              + '2[0-4][0-9]|25[0-5]):'
              + '(6[0-5][0-5][0-3][0-5]|[1-5][0-9]{4}|'
              + '[1-9][0-9]{1,4}|[0-9])';
      }

      type string {
        // route-origin with Type 1
        // All 6 octets are open.
        pattern 'route\-origin:(6[0-5][0-5][0-3][0-5]|'
              + '[1-5][0-9]{4}|[1-9][0-9]{1,4}|[0-9]):'
              + '(4[0-2][0-9][0-4][0-9][0-6][0-7][0-2][0-9][0-6]|'
              + '[1-3][0-9]{9}|[1-9]([0-9]{1,7})?[0-9]|[1-9])';
      }

      type string {
        // route-origin with Type 2
        // 4 octets of IP address and two octets of local.
        pattern 'route\-origin:'
              + '(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|'
              + '25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|'
              + '2[0-4][0-9]|25[0-5]):'
              + '(6[0-5][0-5][0-3][0-5]|[1-5][0-9]{4}|'
              + '[1-9][0-9]{1,4}|[0-9])';
      }
    }
    description
      "Type definition for extended community attributes";
    reference
      "RFC 4360 - BGP Extended Communities Attribute";
  }

  typedef bgp-community-regexp-type {
    type string;
    description
      "Type definition for communities specified as regular
       expression patterns";
  }

  typedef bgp-origin-attr-type {
    type enumeration {
      enum igp {
        description
          "Origin of the NLRI is internal";
      }
      enum egp {
        description
          "Origin of the NLRI is EGP";
      }
      enum incomplete {
        description
          "Origin of the NLRI is neither IGP or EGP";
      }
    }
    description
      "Type definition for standard BGP origin attribute";
    reference
      "RFC 4271 - A Border Gateway Protocol 4 (BGP-4), Sec 4.3";
  }

  typedef peer-type {
    type enumeration {
      enum internal {
        description
          "Internal (IBGP) peer";
      }
      enum external {
        description
          "External (EBGP) peer";
      }
      enum confederation-internal {
        description
          "Confederation Internal (IBGP) peer.";
      }
      enum confederation-external {
        description
          "Confederation External (EBGP) peer.";
      }
    }
    description
      "Labels a peer or peer group as explicitly internal,
       external, or the related confederation type.";
    reference
      "RFC 4271 - A Border Gateway Protocol 4 (BGP-4), Sec 1.1.
       RFC 5065, Autonomous System Configuration for BGP.";
  }

  identity remove-private-as-option {
    description
      "Base identity for options for removing private autonomous
       system numbers from the AS_PATH attribute";
  }

  identity private-as-remove-all {
    base remove-private-as-option;
    description
      "Strip all private autonomous system numbers from the AS_PATH.
       This action is performed regardless of the other content of
       the AS_PATH attribute, and for all instances of private AS
       numbers within that attribute.";
  }

  identity private-as-replace-all {
    base remove-private-as-option;
    description
      "Replace all instances of private autonomous system numbers in
       the AS_PATH with the local BGP speaker's autonomous system
       number. This action is performed regardless of the other
       content of the AS_PATH attribute, and for all instances of
       private AS number within that attribute.";
  }

  typedef remove-private-as-option {
    type identityref {
      base remove-private-as-option;
    }
    description
      "Set of options for configuring how private AS path numbers
       are removed from advertisements";
  }

  typedef rr-cluster-id-type {
    type union {
      type uint32;
      type inet:ipv4-address;
    }
    description
      "Union type for route reflector cluster ids:
       option 1: 4-byte number
       option 2: IP address";
  }

  typedef community-type {
    type bits {
      bit standard {
        position 0;
        description
          "Send standard communities.";
        reference
          "RFC 1997: BGP Communities Attribute.";
      }
      bit extended {
        description
          "Send extended communities.";
        reference
          "RFC 4360: BGP Extended Communities Attribute.";
      }
      bit large {
        description
          "Send large communities.";
        reference
          "RFC 8092: BGP Large Communities Attribute.";
      }
    }
    description
      "Type describing variations of community attributes.
       The community types can be combined and a value of 0
       implies 'none'";
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.2-1" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.3">
        <h3 id="name-bgp-policy-data">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-bgp-policy-data" class="section-name selfRef">BGP policy data</a>
        </h3>
<div id="section-7.3-1">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-policy@2021-10-25.yang"

module ietf-bgp-policy {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-bgp-policy";
  prefix bp;

  // import some basic types

  import ietf-inet-types {
    prefix inet;
  }
  import ietf-routing-policy {
    prefix rt-pol;
  }
  import ietf-bgp-types {
    prefix bt;
  }
  import ietf-routing-types {
    prefix rt-types;
  }

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This module contains data definitions for BGP routing policy.
     It augments the base routing-policy module with BGP-specific
     options for conditions and actions.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXX, BGP Model for Service Provider Network.";
  }

  // typedef statements

  typedef bgp-set-community-option-type {
    type enumeration {
      enum add {
        description
          "Add the specified communities to the existing
           community attribute";
      }
      enum remove {
        description
          "Remove the specified communities from the
           existing community attribute";
      }
      enum replace {
        description
          "Replace the existing community attribute with
           the specified communities. If an empty set is
           specified, this removes the community attribute
           from the route.";
      }
    }
    description
      "Type definition for options when setting the community
       attribute in a policy action";
  }

  typedef bgp-next-hop-type {
    type union {
      type inet:ip-address-no-zone;
      type enumeration {
        enum self {
          description
            "Special designation for local router's own
             address, i.e., next-hop-self";
        }
      }
    }
    description
      "Type definition for specifying next-hop in policy actions";
  }

  typedef bgp-set-med-type {
    type union {
      type uint32;
      type string {
        pattern '^[+-]([0-9]{1,8}|[0-3][0-9]{1,9}|4[0-1][0-9]{1,8}|'
              + '428[0-9]{1,7}|429[0-3][0-9]{1,6}|42948[0-9]{1,5}|'
              + '42949[0-5][0-9]{1,4}|429496[0-6][0-9]{1,3}|'
              + '4294971[0-9]{1,2}|42949728[0-9]|42949729[0-5])$';
      }
      type enumeration {
        enum igp {
          description
            "Set the MED value to the IGP cost toward the
             next hop for the route";
        }
        enum med-plus-igp {
          description
            "Before comparing MED values for path selection, adds to
             the MED the cost of the IGP route to the BGP next-hop
             destination.

             This option replaces the MED value for the router,
             but does not affect the IGP metric comparison. As a
             result, when multiple routes have the same value
             after the MED-plus-IPG comparison, and route selection
             continues, the IGP route metric is also compared, even
             though it was added to the MED value and compared
             earlier in the selection process.

             Useful when the downstream AS requires the complete
             cost of a certain route that is received across
             multiple ASs.";
        }
      }
    }
    description
      "Type definition for specifying how the BGP MED can
       be set in BGP policy actions. The three choices are to set
       the MED directly, increment/decrement using +/- notation,
       and setting it to the IGP cost (predefined value).";
  }

  // augment statements

  augment "/rt-pol:routing-policy/rt-pol:defined-sets" {
    description
      "Adds BGP defined sets container to routing policy model.";
    container bgp-defined-sets {
      description
        "BGP-related set definitions for policy match conditions.";
      container community-sets {
        description
          "Enclosing container for list of defined BGP community
           sets.";
        list community-set {
          key "name";
          description
            "List of defined BGP community sets.";
          leaf name {
            type string;
            mandatory true;
            description
              "Name / label of the community set -- this is used to
               reference the set in match conditions.";
          }
          leaf-list member {
            type union {
              type bt:bgp-std-community-type;
              type bt:bgp-community-regexp-type;
              type bt:bgp-well-known-community-type;
            }
            description
              "Members of the community set";
          }
        }
      }
      container ext-community-sets {
        description
          "Enclosing container for list of extended BGP community
           sets";
        list ext-community-set {
          key "name";
          description
            "List of defined extended BGP community sets";
          leaf name {
            type string;
            description
              "Name / label of the extended community set -- this is
               used to reference the set in match conditions";
          }
          leaf-list member {
            type union {
              type rt-types:route-target;
              type bt:bgp-community-regexp-type;
            }
            description
              "Members of the extended community set.";
          }
        }
      }
      container as-path-sets {
        description
          "Enclosing container for list of define AS path sets.";
        list as-path-set {
          key "name";
          description
            "List of defined AS path sets.";
          leaf name {
            type string;
            description
              "Name of the AS path set -- this is used to reference
               the set in match conditions.";
          }
          leaf-list member {
            type string;
            description
              "AS path regular expression -- list of ASes in the
               set.";
          }
        }
      }
    }
  }

  augment "/rt-pol:routing-policy/rt-pol:policy-definitions/" +
          "rt-pol:policy-definition/rt-pol:statements/" +
          "rt-pol:statement/rt-pol:conditions" {
    description
      "BGP policy conditions added to routing policy module.";

    container bgp-conditions {
      description
        "Top-level container for BGP specific policy conditions.";

      leaf med-eq {
        type uint32;
        description
          "Condition to check if the received MED value is equal to
           the specified value.";
      }

      leaf origin-eq {
        type bt:bgp-origin-attr-type;
        description
          "Condition to check if the route origin is equal to the
           specified value.";
      }

      leaf-list next-hop-in-eq {
        type inet:ip-address-no-zone;
        description
          "List of next hop addresses to check for in the route
           update.";
      }

      leaf-list afi-safi-in {
        type identityref {
          base bt:afi-safi-type;
        }
        description
          "List of address families which the NLRI may be within.";
      }

      leaf local-pref-eq {
        type uint32;
        description
          "Condition to check if the local pref attribute is equal to
           the specified value.";
      }

      leaf route-type {
        type enumeration {
          enum internal {
            description
              "route type is internal.";
          }
          enum external {
            description
              "route type is external.";
          }
        }
        description
          "Condition to check the route type in the route update.";
      }

      container community-count {
        description
          "Value and comparison operations for conditions based on
           the number of communities in the route update.";

        leaf community-count {
          type uint32;
          description
            "Value for the number of communities in the route
             update.";
        }

        choice operation {
          case eq {
            leaf eq {
              type empty;
              description
                "Check to see if the value is equal.";
            }
          }

          case lt-or-eq {
            leaf lt-or-eq {
              type empty;
              description
                "Check to see if the value is less than or equal.";
            }
          }

          case gt-or-eq {
            leaf gt-or-eq {
              type empty;
              description
                "Check to see if the value is greater than or
                 equal.";
            }
          }
          description
            "Choice of operations on the value of community-count.";
        }
      }

      container as-path-length {
        description
          "Value and comparison operations for conditions based on
           the length of the AS path in the route update.

           The as-path-length SHALL be calculated and SHALL follow
           RFC 4271 rules.";
        reference
          "RFC 4271: BGP-4.";

        leaf as-path-length {
          type uint32;
          description
            "Value of the AS path length in the route update.";
        }

        choice operation {
          case eq {
            leaf eq {
              type empty;
              description
                "Check to see if the value is equal.";
            }
          }

          case lt-or-eq {
            leaf lt-or-eq {
              type empty;
              description
                "Check to see if the value is less than or equal.";
            }
          }

          case gt-or-eq {
            leaf gt-or-eq {
              type empty;
              description
                "Check to see if the value is greater than or
                 equal.";
            }
          }
          description
            "Choice of operations on the value of as-path-len.";
        }
      }

      container match-community-set {
        description
          "Top-level container for match conditions on communities.
           Match a referenced community-set according to the logic
           defined in the match-set-options leaf.";
        leaf community-set {
          type leafref {
            path "/rt-pol:routing-policy/rt-pol:defined-sets/"
               + "bp:bgp-defined-sets/bp:community-sets/"
               + "bp:community-set/bp:name";
          }
          description
            "References a defined community set.";
        }
        uses rt-pol:match-set-options-group;
      }

      container match-ext-community-set {
        description
          "Match a referenced extended community-set according to the
           logic defined in the match-set-options leaf.";
        leaf ext-community-set {
          type leafref {
            path "/rt-pol:routing-policy/rt-pol:defined-sets/"
               + "bp:bgp-defined-sets/bp:ext-community-sets/"
               + "bp:ext-community-set/bp:name";
          }
          description
            "References a defined extended community set.";
        }
        uses rt-pol:match-set-options-group;
      }
      container match-as-path-set {
        description
          "Match a referenced as-path set according to the logic
           defined in the match-set-options leaf.";
        leaf as-path-set {
          type leafref {
            path "/rt-pol:routing-policy/rt-pol:defined-sets/"
               + "bp:bgp-defined-sets/bp:as-path-sets/"
               + "bp:as-path-set/bp:name";
          }
          description
            "References a defined AS path set";
        }
        uses rt-pol:match-set-options-group;
      }
    }
  }

  augment "/rt-pol:routing-policy/rt-pol:policy-definitions/" +
          "rt-pol:policy-definition/rt-pol:statements/" +
          "rt-pol:statement/rt-pol:actions" {
    description
      "BGP policy actions added to routing policy module.";
    container bgp-actions {
      description
        "Top-level container for BGP-specific actions";
      leaf set-route-origin {
        type bt:bgp-origin-attr-type;
        description
          "Set the origin attribute to the specified value";
      }
      leaf set-local-pref {
        type uint32;
        description
          "Set the local pref attribute on the route.";
      }
      leaf set-next-hop {
        type bgp-next-hop-type;
        description
          "Set the next-hop attribute in the route.";
      }
      leaf set-med {
        type bgp-set-med-type;
        description
          "Set the med metric attribute in the route.";
      }
      container set-as-path-prepend {
        description
          "Action to prepend local AS number to the AS-path a
           specified number of times";
        leaf repeat-n {
          type uint8 {
            range "1..max";
          }
          description
            "Number of times to prepend the local AS number to the AS
             path.  The value should be between 1 and the maximum
             supported by the implementation.";
        }
      }

      container set-community {
        description
          "Action to set the community attributes of the route, along
           with options to modify how the community is modified.
           Communities may be set using an inline list OR
           reference to an existing defined set (not both).";

        leaf options {
          type bgp-set-community-option-type;
          description
            "Options for modifying the community attribute with
             the specified values.  These options apply to both
             methods of setting the community attribute.";
        }

        choice method {
          description
            "Indicates the method used to specify the extended
             communities for the set-community action";
          case inline {
            leaf-list communities {
              type union {
                type bt:bgp-std-community-type;
                type bt:bgp-well-known-community-type;
              }
              description
                "Set the community values for the update inline with
                 a list.";
            }
          }

          case reference {
            leaf community-set-ref {
              type leafref {
                path "/rt-pol:routing-policy/rt-pol:defined-sets/"
                   + "bp:bgp-defined-sets/"
                   + "bp:community-sets/bp:community-set/bp:name";
              }
              description
                "References a defined community set by name";
            }
          }
        }
      }

      container set-ext-community {
        description
          "Action to set the extended community attributes of the
           route, along with options to modify how the community is
           modified. Extended communities may be set using an inline
           list OR a reference to an existing defined set (but not
           both).";

        leaf options {
          type bgp-set-community-option-type;
          description
            "Options for modifying the community attribute with
             the specified values.  These options apply to both
             methods of setting the community attribute.";
        }

        choice method {
          description
            "Indicates the method used to specify the extended
             communities for the set-ext-community action";
          case  inline {
            leaf-list communities {
              type union {
                type rt-types:route-target;
                type bt:bgp-well-known-community-type;
              }
              description
                "Set the extended community values for the update
                 inline with a list.";
            }
          }
          case reference {
            leaf ext-community-set-ref {
              type leafref {
                path "/rt-pol:routing-policy/rt-pol:defined-sets/"
                   + "bp:bgp-defined-sets/bp:ext-community-sets/"
                   + "bp:ext-community-set/bp:name";
              }
              description
                "References a defined extended community set by
                 name.";
            }
          }
        }
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.3-1" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.4">
        <h3 id="name-rib-modules">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-rib-modules" class="section-name selfRef">RIB modules</a>
        </h3>
<div id="section-7.4-1">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-rib@2021-10-25.yang"

submodule ietf-bgp-rib {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix br;
  }

  /*
   * Import and Include
   */

  import ietf-bgp-types {
    prefix bt;
    reference
      "RFC XXXX: BGP YANG Model for Service Provider Networks.";
  }
  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Types.";
  }
  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Types.";
  }
  import ietf-routing-types {
    prefix rt;
    reference
      "RFC 8294: Routing Area YANG Types.";
  }
  include ietf-bgp-rib-types;
  include ietf-bgp-rib-tables;

  // groupings of attributes in three categories:
  //  - shared across multiple routes
  //  - common to LOC-RIB and Adj-RIB, but not shared across routes
  //  - specific to LOC-RIB or Adj-RIB
  // groupings of annotations for each route or table
  include ietf-bgp-rib-attributes;

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper dot net).";

  description
    "Defines a submodule for representing BGP routing table (RIB)
     contents.  The submodule supports 5 logical RIBs per address
     family:

     loc-rib: This is the main BGP routing table for the local
     routing instance, containing best-path selections for each
     prefix. The loc-rib table may contain multiple routes for a
     given prefix, with an attribute to indicate which was selected
     as the best path.  Note that multiple paths may be used or
     advertised even if only one path is marked as best, e.g., when
     using BGP add-paths.  An implementation may choose to mark
     multiple paths in the RIB as best path by setting the flag to
     true for multiple entries.

     adj-rib-in-pre: This is a per-neighbor table containing the NLRI
     updates received from the neighbor before any local input policy
     rules or filters have been applied.  This can be considered the
     'raw' updates from a given neighbor.

     adj-rib-in-post: This is a per-neighbor table containing the
     routes received from the neighbor that are eligible for
     best-path selection after local input policy rules have been
     applied.

     adj-rib-out-pre: This is a per-neighbor table containing routes
     eligible for sending (advertising) to the neighbor before output
     policy rules have been applied.

     adj-rib-out-post: This is a per-neighbor table containing routes
     eligible for sending (advertising) to the neighbor after output
     policy rules have been applied.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXXX, BGP YANG Model for Service Provider Network.";
  }

  grouping attr-set-attributes {
    description
      "A grouping for all attribute set parameters.";

    container attributes {
      description
        "A container for attribute set parameters.";

      leaf origin {
        type bt:bgp-origin-attr-type;
        description
          "BGP attribute defining the origin of the path
           information.";
      }
      leaf atomic-aggregate {
        type boolean;
        description
          "BGP attribute indicating that the prefix is an atomic
           aggregate; i.e., the peer selected is a less specific
           route without selecting a more specific route that is
           subsumed by it.";
        reference
          "RFC 4271: Section 5.1.6.";
      }
      leaf next-hop {
        type inet:ip-address;
        description
          "BGP next hop attribute defining the IP address of the
           router that should be used as the next hop to the
           destination.";
        reference
          "RFC 4271: Section 5.1.3.";
      }
      leaf med {
        type uint32;
        description
          "BGP multi-exit discriminator attribute used in the BGP
           route selection process.";
        reference
          "RFC 4271: Section 5.1.4.";
      }
      leaf local-pref {
        type uint32;
        description
          "BGP local preference attribute sent to internal peers to
           indicate the degree of preference for externally learned
           routes.  The route with the highest local preference
           value is preferred.";
        reference
          "RFC 4271: Section 5.1.5.";
      }
      leaf originator-id {
        type yang:dotted-quad;
        description
          "BGP attribute that provides the id as an IPv4 address
           of the originator of the announcement.";
        reference
          "RFC 4456 - BGP Route Reflection: An Alternative to Full
           Mesh Internal BGP (IBGP)";
      }
      leaf-list cluster-list {
        type yang:dotted-quad;
        description
          "Represents the reflection path that the route has
           passed.";
        reference
          "RFC 4456 - BGP Route Reflection: An Alternative to Full
           Mesh Internal BGP (IBGP)";
      }
      leaf aigp-metric {
        type uint64;
        description
          "BGP path attribute representing the accumulated IGP
           metric for the path";
        reference
          "RFC 7311 - The Accumulated IGP Metric Attribute for BGP";
      }
      container aggregator {
        config false;
        description
          "BGP attribute indicating the prefix has been
           aggregated by the specified AS and router.";
        reference
          "RFC 4271: Section 5.1.7.
           RFC 6793 - BGP Support for Four-octet AS Number Space.";
        leaf as {
          type inet:as-number;
          description
            "AS number of the autonomous system that performed the
             aggregation.";
        }
        leaf address {
          type inet:ipv4-address;
          description
            "IP address of the router that performed the
             aggregation.";
        }
      }
      container aggregator4 {
        config false;
        description
          "BGP attribute indicating the prefix has been
           aggregated by the specified AS and router.
           This value is populated with the received or sent
           attribute in Adj-RIB-In or Adj-RIB-Out, respectively.
           It should not be populated in Loc-RIB since the Loc-RIB
           is expected to store the effective AGGREGATOR in the
           aggregator/as leaf regardless of being 4-octet or
           2-octet.";
        reference
          "RFC 4271: Section 5.1.7.";
        leaf as4 {
          type inet:as-number;
          description
            "AS number of the autonomous system that performed the
             aggregation (4-octet representation).  This value is
             populated if an upstream router is not 4-octet capable.
             Its semantics are similar to the AS4_PATH optional
             transitive attribute";
          reference
            "RFC 6793 - BGP Support for Four-octet AS Number Space";
        }
        leaf address {
          type inet:ipv4-address;
          description
            "IP address of the router that performed the
             aggregation.";
        }
      }
      container as-path {
        description
          "Enclosing container for the list of AS path segments.

           In the Adj-RIB-In or Adj-RIB-Out, this list should show
           the received or sent AS_PATH, respectively.  For
           example, if the local router is not 4-byte capable, this
           value should consist of 2-octet ASNs or the AS_TRANS
           (AS 23456) values received or sent in route updates.

           In the Loc-RIB, this list should reflect the effective
           AS path for the route, e.g., a 4-octet value if the
           local router is 4-octet capable.";
        reference
          "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)
           RFC 6793 - BGP Support for Four-octet AS Number Space
           RFC 5065 - Autonomous System Confederations for BGP";
        list segment {
          config false;
          uses bgp-as-path-attr;
          description
            "List of AS PATH segments";
        }
      }
      container as4-path {
        description
          "This is the path encoded with 4-octet
           AS numbers in the optional transitive AS4_PATH attribute.
           This value is populated with the received or sent
           attribute in Adj-RIB-In or Adj-RIB-Out, respectively.
           It should not be populated in Loc-RIB since the Loc-RIB
           is expected to store the effective AS-Path in the
           as-path leaf regardless of being 4-octet or 2-octet.";
        reference
          "RFC 6793 - BGP Support for Four-octet AS Number Space";
        list segment {
          config false;
          uses bgp-as-path-attr;
          description
            "List of AS PATH segments";
        }
      }
    }
  }

  grouping attr-set {
    description
      "A grouping for all path attributes.";

    list attr-set {
      key "index";
      description
        "List of path attributes that may be in use by multiple
         routes in the table";
      leaf index {
        type uint64;
        description
          "System generated index for each attribute set.  The
           index is used to reference an attribute set from a
           specific path.  Multiple paths may reference the same
           attribute set.";
      }
      uses attr-set-attributes;
    }
  }

  grouping attr-sets {
    description
      "A grouping for all sets of path attributes.";

    container attr-sets {
      description
        "Enclosing container for the list of path attribute sets";
      uses attr-set;
    }
  }

  grouping ext-community-attributes {
    description
      "A grouping for all external community parameters.";

    leaf-list ext-community {
      type rt:route-target;
      description
        "List of BGP extended community attributes. The received
         extended community may be an explicitly modeled
         type or unknown, represented by an 8-octet value
         formatted according to RFC 4360.";
      reference
        "RFC 4360 - BGP Extended Communities Attribute";
    }
  }

  grouping rib {
    description
      "Grouping for rib.";
    container rib {
      config false;
      uses attr-sets;
      container communities {
        description
          "Enclosing container for the list of community attribute
           sets.";
        list community {
          key "index";
          config false;
          description
            "List of path attributes that may be in use by multiple
             routes in the table.";
          leaf index {
            type uint64;
            description
              "System generated index for each attribute set.  The
               index is used to reference an attribute set from a
               specific path.  Multiple paths may reference the same
               attribute set.";
          }
          uses bgp-community-attr-state;
        }
      }
      container ext-communities {
        description
          "Enclosing container for the list of extended community
           attribute sets.";
        list ext-community {
          key "index";
          config false;
          description
            "List of path attributes that may be in use by multiple
             routes in the table.";
          leaf index {
            type uint64;
            description
              "System generated index for each attribute set.  The
               index is used to reference an attribute set from a
               specific path.  Multiple paths may reference the same
               attribute set.";
          }
          uses ext-community-attributes;
        }
      }

      container afi-safis {
        config false;
        description
          "Enclosing container for address family list.";
        list afi-safi {
          key "name";
          description
            "List of afi-safi types.";
          leaf name {
            type identityref {
              base bt:afi-safi-type;
            }
            description
              "AFI,SAFI name.";
          }
          container ipv4-unicast {
            when "../name = 'bt:ipv4-unicast'" {
              description
                "Include this container for IPv4 unicast RIB.";
            }
            description
              "Routing tables for IPv4 unicast -- active when the
               afi-safi name is ipv4-unicast.";
            uses ipv4-loc-rib;
            uses ipv4-adj-rib;
          }
          container ipv6-unicast {
            when "../name = 'bt:ipv6-unicast'" {
              description
                "Include this container for IPv6 unicast RIB.";
            }
            description
              "Routing tables for IPv6 unicast -- active when the
               afi-safi name is ipv6-unicast.";
            uses ipv6-loc-rib;
            uses ipv6-adj-rib;
          }
        }
      }
      description
        "Top level container for BGP RIB.";
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.4-1" class="pilcrow">¶</a>
</div>
<div id="section-7.4-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-rib-types@2021-10-25.yang"

submodule ietf-bgp-rib-types {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix br;
  }

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "Defines identity and type definitions associated with
     the BGP RIB modules.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXXX, BGP Model for Service Provider Network.";
  }

  identity ineligible-route-reason {
    description
      "Base identity for reason code for routes that are rejected as
       ineligible. Some derived entities are based on BMP v3.";
    reference
      "RFC 7854: BGP Monitoring Protocol.";
  }

  identity ineligible-cluster-loop {
    base ineligible-route-reason;
    description
      "Route was ineligible due to CLUSTER_LIST loop";
  }

  identity ineligible-as-loop {
    base ineligible-route-reason;
    description
      "Route was ineligible due to AS_PATH loop";
  }

  identity ineligible-originator {
    base ineligible-route-reason;
    description
      "Route was ineligible due to ORIGINATOR_ID. For example, update
       has local router as originator";
  }

  identity ineligible-confed {
    base ineligible-route-reason;
    description
      "Route was ineligible due to a loop in the AS_CONFED_SEQUENCE
       or AS_CONFED_SET attributes";
  }

  identity bgp-not-selected-bestpath {
    description
      "Base identity for indicating reason a route was was not
       selected by BGP route selection algorithm";
    reference
      "RFC 4271 - Section 9.1";
  }

  identity local-pref-lower {
    base bgp-not-selected-bestpath;
    description
      "Route has a lower localpref attribute than current best path";
    reference
      "RFC 4271 - Section 9.1.2";
  }

  identity as-path-longer {
    base bgp-not-selected-bestpath;
    description
      "Route has a longer AS path attribute than current best path";
    reference
      "RFC 4271 - Section 9.1.2.2 (a)";
  }

  identity origin-type-higher {
    base bgp-not-selected-bestpath;
    description
      "Route has a higher origin type, i.e., IGP origin is preferred
       over EGP or incomplete";
    reference
      "RFC 4271 - Section 9.1.2.2 (b)";
  }

  identity med-higher {
    base bgp-not-selected-bestpath;
    description
      "Route has a higher MED, or metric, attribute than the current
       best path";
    reference
      "RFC 4271 - Section 9.1.2.2 (c)";
  }

  identity prefer-external {
    base bgp-not-selected-bestpath;
    description
      "Route source is via IBGP, rather than EGP.";
    reference
      "RFC 4271 - Section 9.1.2.2 (d)";
  }

  identity nexthop-cost-higher {
    base bgp-not-selected-bestpath;
    description
      "Route has a higher interior cost to the next hop.";
    reference
      "RFC 4271 - Section 9.1.2.2 (e)";
  }

  identity higher-router-id {
    base bgp-not-selected-bestpath;
    description
      "Route was sent by a peer with a higher BGP Identifier value.";
    reference
      "RFC 4271 - Section 9.1.2.2 (f)";
  }

  identity higher-peer-address {
    base bgp-not-selected-bestpath;
    description
      "Route was sent by a peer with a higher IP address";
    reference
      "RFC 4271 - Section 9.1.2.2 (g)";
  }

  identity bgp-not-selected-policy {
    description
      "Base identity for reason code for routes that are rejected
       due to policy";
  }

  identity rejected-import-policy {
    base bgp-not-selected-policy;
    description
      "Route was rejected after applying import policies.";
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.4-2" class="pilcrow">¶</a>
</div>
<div id="section-7.4-3">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-rib-attributes@2021-10-25.yang"

submodule ietf-bgp-rib-attributes {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix br;
  }

  // import some basic types

  import ietf-bgp-types {
    prefix bgpt;
  }
  import ietf-inet-types {
    prefix inet;
  }
  include ietf-bgp-rib-types;

  // meta

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com),
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This submodule contains common data definitions for BGP
     attributes for use in BGP RIB tables.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial version";
    reference
      "RFC XXXX: BGP YANG Model for Service Provider Network";
  }

  grouping bgp-as-path-attr {
    description
      "Data for representing BGP AS-PATH attribute";

    leaf type {
      type identityref {
        base bgpt:as-path-segment-type;
      }
      description
        "The type of AS-PATH segment";
    }
    leaf-list member {
      type inet:as-number;
      description
        "List of the AS numbers in the AS-PATH segment";
    }
  }

  grouping bgp-community-attr-state {
    description
      "Common definition of BGP community attributes";
    leaf-list community {
      type union {
        type bgpt:bgp-well-known-community-type;
        type bgpt:bgp-std-community-type;
      }
      description
        "List of standard or well-known BGP community
         attributes.";
    }
  }

  grouping bgp-unknown-attr-top {
    description
      "Unknown path attributes that are not expected to be shared
       across route entries, common to LOC-RIB and Adj-RIB";
    container unknown-attributes {
      description
        "Unknown path attributes that were received in the UPDATE
         message which contained the prefix.";

      list unknown-attribute {
        key "attr-type";
        description
          "This list contains received attributes that are
           unrecognized or unsupported by the local router. The list
           may be empty.";

        leaf optional {
          type boolean;
          description
            "Defines whether the attribute is optional (if
             set to true) or well-known (if set to false).
             Set in the high-order bit of the BGP attribute
             flags octet.";
          reference
            "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)";
        }

        leaf transitive {
          type boolean;
          description
            "Defines whether an optional attribute is transitive
             (if set to true) or non-transitive (if set to false).
             For well-known attributes, the transitive flag must be
             set to true. Set in the second high-order bit of the BGP
             attribute flags octet.";
          reference
            "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)";
        }

        leaf partial {
          type boolean;
          description
            "Defines whether the information contained in the
             optional transitive attribute is partial (if set to
             true) or complete (if set to false). For well-known
             attributes and for optional non-transitive attributes,
             the partial flag must be set to false. Set in the third
             high-order bit of the BGP attribute flags octet.";
          reference
            "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)";
        }

        leaf extended {
          type boolean;
          description
            "Defines whether the attribute length is one octet
             (if set to false) or two octets (if set to true). Set in
             the fourth high-order bit of the BGP attribute flags
             octet.";
          reference
            "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)";
        }

        leaf attr-type {
          type uint8;
          description
            "1-octet value encoding the attribute type code";
          reference
            "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)";
        }

        leaf attr-len {
          type uint16;
          description
            "One or two octet attribute length field indicating the
             length of the attribute data in octets.  If the Extended
             Length attribute flag is set, the length field is 2
             octets, otherwise it is 1 octet";
          reference
            "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)";
        }

        leaf attr-value {
          type binary {
            length "0..65535";
          }
          description
            "Raw attribute value, not including the attribute
             flags, type, or length.  The maximum length
             of the attribute value data is 2^16-1 per the max value
             of the attr-len field (2 octets).";
          reference
            "RFC 4271 - A Border Gateway Protocol 4 (BGP-4)";
        }
      }
    }
  }

  grouping bgp-adj-rib-attr-state {
    description
      "Path attributes that are not expected to be shared across
       route entries, specific to Adj-RIB";
    leaf path-id {
      type uint32;
      description
        "When the BGP speaker supports advertisement of multiple
         paths for a prefix, the path identifier is used to
         uniquely identify a route based on the combination of the
         prefix and path id.  In the Adj-RIB-In, the path-id value is
         the value received in the update message.   In the Loc-RIB,
         if used, it should represent a locally generated path-id
         value for the corresponding route.  In Adj-RIB-Out, it
         should be the value sent to a neighbor when add-paths is
         used, i.e., the capability has been negotiated.";
      reference
        "RFC 7911: Advertisement of Multiple Paths in BGP";
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.4-3" class="pilcrow">¶</a>
</div>
<div id="section-7.4-4">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-bgp-rib-tables@2021-10-25.yang"

submodule ietf-bgp-rib-tables {
  yang-version 1.1;
  belongs-to ietf-bgp {
    prefix br;
  }

  // import some basic types

  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types.";
  }
  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Data Types.";
  }
  import ietf-routing {
    prefix rt;
    reference
      "RFC 8022: A YANG Data Model for Routing Management.";
  }
  import ietf-bgp-types {
    prefix bt;
    reference
      "RFC XXXX: BGP YANG Model for Service Provider Network.";
  }
  include ietf-bgp-rib-attributes;

  organization
    "IETF IDR Working Group";
  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/idr&gt;
     WG List:  &lt;idr@ietf.org&gt;

     Authors: Mahesh Jethanandani (mjethanandani at gmail.com),
              Keyur Patel (keyur at arrcus.com),
              Susan Hares (shares at ndzh.com,
              Jeffrey Haas (jhaas at juniper.net).";

  description
    "This submodule contains structural data definitions for
     BGP routing tables.

     Copyright (c) 2021 IETF Trust and the persons identified as
     authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL
     NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED', 'NOT RECOMMENDED',
     'MAY', and 'OPTIONAL' in this document are to be interpreted as
     described in BCP 14 (RFC 2119) (RFC 8174) when, and only when,
     they appear in all capitals, as shown here.";

  revision 2021-10-25 {
    description
      "Initial Version";
    reference
      "RFC XXXX, BGP YANG Model for Service Provider Network.";
  }

  grouping bgp-common-route-annotations-state {
    description
      "Data definitions for flags and other information attached
       to routes in both LOC-RIB and Adj-RIB";
    leaf last-modified {
      type yang:timeticks;
      description
        "Timestamp when this path was last modified.

         The value is the timestamp in seconds relative to
         the Unix Epoch (Jan 1, 1970 00:00:00 UTC).";
    }
    leaf eligible-route {
      type boolean;
      description
        "Indicates that the route is eligible for selection for the
         best route in the Loc-Rib in BGP's Decision Process.";
      reference
        "RFC 4271, Section 9.1.";
    }
    leaf ineligible-reason {
      type identityref {
        base ineligible-route-reason;
      }
      description
        "If the route is ineligible for selection for the best route
         in the Loc-Rib in BGP's Decision process, this indicates the
         reason.";
      reference
        "RFC 4271, Section 9.1.";
    }
  }

  grouping bgp-adj-rib-in-post-route-annotations-state {
    description
      "Data definitions for information attached to routes in the
       Adj-RIB-in post-policy table";
    leaf best-path {
      type boolean;
      description
        "Current path was selected as the best path.";
    }
  }

  grouping rib-ext-route-annotations {
    description
      "Extended annotations for routes in the routing tables";
    leaf reject-reason {
      type union {
        type identityref {
          base bgp-not-selected-bestpath;
        }
        type identityref {
          base bgp-not-selected-policy;
        }
      }
      description
        "Indicates the reason the route is not used, either due to
         policy filtering or bestpath selection";
    }
  }

  grouping bgp-adj-rib-common-attr-refs {
    description
      "Definitions of common references to attribute sets for
       multiple AFI-SAFIs for Adj-RIB tables.";
    leaf attr-index {
      type leafref {
        path "../../../../../../../../../attr-sets/"
           + "attr-set/index";
      }
      description
        "Reference to the common attribute group for the
         route.";
    }
    leaf community-index {
      type leafref {
        path "../../../../../../../../../communities/community/"
           + "index";
      }
      description
        "Reference to the community attribute for the route.";
    }
    leaf ext-community-index {
      type leafref {
        path "../../../../../../../../../ext-communities/"
           + "ext-community/index";
      }
      description
        "Reference to the extended community attribute for the
         route.";
    }
  }

  grouping bgp-loc-rib-common-attr-refs {
    description
      "Definitions of common references to attribute sets for
       multiple AFI-SAFIs for LOC-RIB tables.";
    leaf attr-index {
      type leafref {
        path "../../../../../../../attr-sets/attr-set/"
           + "index";
      }
      description
        "Reference to the common attribute group for the
         route.";
    }
    leaf community-index {
      type leafref {
        path "../../../../../../../communities/community/"
           + "index";
      }
      description
        "Reference to the community attribute for the route.";
    }
    leaf ext-community-index {
      type leafref {
        path "../../../../../../../ext-communities/"
           + "ext-community/index";
      }
      description
        "Reference to the extended community attribute for the
         route.";
    }
  }

  grouping bgp-loc-rib-common-keys {
    description
      "Common references used in keys for IPv4 and IPv6
       LOC-RIB entries.";
    leaf origin {
      type union {
        type inet:ip-address;
        type identityref {
          base rt:routing-protocol;
        }
      }
      description
        "Indicates the origin of the route.  If the route is learned
         from a neighbor, this value is the neighbor address.  If
         the route was injected or redistributed from another
         protocol, the origin indicates the source protocol for the
         route.";
    }
    leaf path-id {
      type uint32;
      description
        "If the route is learned from a neighbor, the path-id
         corresponds to the path-id for the route in the
         corresponding adj-rib-in-post table.  If the route is
         injected from another protocol, or the neighbor does not
         support BGP add-paths, the path-id should be set
         to zero, also the default value.

         However, YANG does not allow default values to be set
         for parameters that form the key, so a default value
         cannot be set here.";
    }
  }

  grouping clear-routes {
    description
      "Action to clear BGP routes.";
    container clear-routes {
      if-feature "bt:clear-routes";
      action clear {
        input {
          leaf clear-at {
            type yang:date-and-time;
            description
              "The time, in the future when the clear operation will
               be initiated.";
          }
        }
        output {
          leaf clear-finished-at {
            type yang:date-and-time;
            description
              "The time when the clear operation finished.";
          }
        }
      }
      description
        "Action commands to clear routes governed by a if-feature.";
    }
  }

  grouping ipv4-loc-rib {
    description
      "Top-level grouping for IPv4 routing tables.";
    container loc-rib {
      config false;
      description
        "Container for the IPv4 BGP LOC-RIB data.";
      container routes {
        description
          "Enclosing container for list of routes in the routing
           table.";
        list route {
          key "prefix origin path-id";
          description
            "List of routes in the table, keyed by the route
             prefix, the route origin, and path-id.  The route
             origin can be either the neighbor address from which
             the route was learned, or the source protocol that
             injected the route.  The path-id distinguishes routes
             for the same prefix received from a neighbor (e.g.,
             if add-paths is enabled).";
          leaf prefix {
            type inet:ipv4-prefix;
            description
              "The IPv4 prefix corresponding to the route.";
          }
          uses bgp-loc-rib-common-keys;
          uses bgp-loc-rib-common-attr-refs;
          uses bgp-common-route-annotations-state;
          uses bgp-unknown-attr-top;
          uses rib-ext-route-annotations;
        }
        uses clear-routes;
      }
    }
  }

  grouping ipv6-loc-rib {
    description
      "Top-level grouping for IPv6 routing tables.";
    container loc-rib {
      config false;
      description
        "Container for the IPv6 BGP LOC-RIB data.";
      container routes {
        description
          "Enclosing container for list of routes in the routing
           table.";
        list route {
          key "prefix origin path-id";
          description
            "List of routes in the table, keyed by the route
             prefix, the route origin, and path-id.  The route
             origin can be either the neighbor address from which
             the route was learned, or the source protocol that
             injected the route.  The path-id distinguishes routes
             for the same prefix received from a neighbor (e.g.,
             if add-paths is enabled).";
          leaf prefix {
            type inet:ipv6-prefix;
            description
              "The IPv6 prefix corresponding to the route.";
          }
          uses bgp-loc-rib-common-keys;
          uses bgp-loc-rib-common-attr-refs;
          uses bgp-common-route-annotations-state;
          uses bgp-unknown-attr-top;
          uses rib-ext-route-annotations;
        }
        uses clear-routes;
      }
    }
  }

  grouping ipv4-adj-rib-common {
    description
      "Common structural grouping for each IPv4 adj-RIB table.";
    container routes {
      config false;
      description
        "Enclosing container for list of routes in the routing
         table.";
      list route {
        key "prefix path-id";
        description
          "List of routes in the table, keyed by a combination of
           the route prefix and path-id to distinguish multiple
           routes received from a neighbor for the same prefix,
           e.g., when BGP add-paths is enabled.";
        leaf prefix {
          type inet:ipv4-prefix;
          description
            "Prefix for the route.";
        }
        uses bgp-adj-rib-attr-state;
        uses bgp-adj-rib-common-attr-refs;
        uses bgp-common-route-annotations-state;
        uses bgp-unknown-attr-top;
        uses rib-ext-route-annotations;
      }
      uses clear-routes;
    }
  }

  grouping ipv4-adj-rib-in-post {
    description
      "Common structural grouping for the IPv4 adj-rib-in
       post-policy table.";
    container routes {
      config false;
      description
        "Enclosing container for list of routes in the routing
         table.";
      list route {
        key "prefix path-id";
        description
          "List of routes in the table, keyed by a combination of
           the route prefix and path-id to distinguish multiple
           routes received from a neighbor for the same prefix,
           e.g., when BGP add-paths is enabled.";
        leaf prefix {
          type inet:ipv4-prefix;
          description
            "Prefix for the route.";
        }
        uses bgp-adj-rib-attr-state;
        uses bgp-adj-rib-common-attr-refs;
        uses bgp-common-route-annotations-state;
        uses bgp-adj-rib-in-post-route-annotations-state;
        uses bgp-unknown-attr-top;
        uses rib-ext-route-annotations;
      }
    }
  }

  grouping ipv4-adj-rib {
    description
      "Top-level grouping for Adj-RIB table.";
    container neighbors {
      config false;
      description
        "Enclosing container for neighbor list.";
      list neighbor {
        key "neighbor-address";
        description
          "List of neighbors (peers) of the local BGP speaker.";
        leaf neighbor-address {
          type inet:ip-address;
          description
            "IP address of the BGP neighbor or peer.";
        }
        container adj-rib-in-pre {
          description
            "Per-neighbor table containing the NLRI updates
             received from the neighbor before any local input
             policy rules or filters have been applied.  This can
             be considered the 'raw' updates from the neighbor.";
          uses ipv4-adj-rib-common;
        }
        container adj-rib-in-post {
          description
            "Per-neighbor table containing the paths received from
             the neighbor that are eligible for best-path selection
             after local input policy rules have been applied.";
          uses ipv4-adj-rib-in-post;
        }
        container adj-rib-out-pre {
          description
            "Per-neighbor table containing paths eligible for
             sending (advertising) to the neighbor before output
             policy rules have been applied.";
          uses ipv4-adj-rib-common;
        }
        container adj-rib-out-post {
          description
            "Per-neighbor table containing paths eligible for
             sending (advertising) to the neighbor after output
             policy rules have been applied.";
          uses ipv4-adj-rib-common;
        }
      }
    }
  }

  grouping ipv6-adj-rib-common {
    description
      "Common structural grouping for each IPv6 adj-RIB table.";
    container routes {
      config false;
      description
        "Enclosing container for list of routes in the routing
         table.";
      list route {
        key "prefix path-id";
        description
          "List of routes in the table.";
        leaf prefix {
          type inet:ipv6-prefix;
          description
            "Prefix for the route.";
        }
        uses bgp-adj-rib-attr-state;
        uses bgp-adj-rib-common-attr-refs;
        uses bgp-common-route-annotations-state;
        uses bgp-unknown-attr-top;
        uses rib-ext-route-annotations;
      }
      uses clear-routes;
    }
  }

  grouping ipv6-adj-rib-in-post {
    description
      "Common structural grouping for the IPv6 adj-rib-in
       post-policy table.";
    container routes {
      config false;
      description
        "Enclosing container for list of routes in the routing
         table.";
      list route {
        key "prefix path-id";
        description
          "List of routes in the table.";
        leaf prefix {
          type inet:ipv6-prefix;
          description
            "Prefix for the route.";
        }
        uses bgp-adj-rib-attr-state;
        uses bgp-adj-rib-common-attr-refs;
        uses bgp-common-route-annotations-state;
        uses bgp-adj-rib-in-post-route-annotations-state;
        uses bgp-unknown-attr-top;
        uses rib-ext-route-annotations;
      }
    }
  }

  grouping ipv6-adj-rib {
    description
      "Top-level grouping for Adj-RIB table.";
    container neighbors {
      config false;
      description
        "Enclosing container for neighbor list.";
      list neighbor {
        key "neighbor-address";
        description
          "List of neighbors (peers) of the local BGP speaker.";
        leaf neighbor-address {
          type inet:ip-address;
          description
            "IP address of the BGP neighbor or peer.";
        }
        container adj-rib-in-pre {
          description
            "Per-neighbor table containing the NLRI updates
             received from the neighbor before any local input
             policy rules or filters have been applied.  This can
             be considered the 'raw' updates from the neighbor.";
          uses ipv6-adj-rib-common;
        }
        container adj-rib-in-post {
          description
            "Per-neighbor table containing the paths received from
             the neighbor that are eligible for best-path selection
             after local input policy rules have been applied.";
          uses ipv6-adj-rib-in-post;
        }
        container adj-rib-out-pre {
          description
            "Per-neighbor table containing paths eligible for
             sending (advertising) to the neighbor before output
             policy rules have been applied.";
          uses ipv6-adj-rib-common;
        }
        container adj-rib-out-post {
          description
            "Per-neighbor table containing paths eligible for
             sending (advertising) to the neighbor after output
             policy rules have been applied.";
          uses ipv6-adj-rib-common;
        }
      }
    }
  }
}

&lt;CODE ENDS&gt;</pre><a href="#section-7.4-4" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-8">
      <h2 id="name-contributors">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-8-1">Previous versions of this document saw contributions from Anees
      Shaikh, Rob Shakir, Kevin D'Souza, Alexander Clemm, Aleksandr Zhadkin,
      and Xyfeng Liu.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-acknowledgements">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-9-1">The authors are grateful for valuable contributions to this document
      and the associated models from: Ebben Aires, Pavan Beeram, Chris Chase,
      Ed Crabbe, Luyuan Fang, Bill Fenner, Akshay Gattani, Josh George, Vijay
      Gill, Matt John, Jeff Haas, Dhanendra Jain, Acee Lindem, Ina Minei, Carl
      Moberg, Ashok Narayanan, Einar Nilsen-Nygaard, Adam Simpson, Puneet
      Sood, Jason Sterne, Jeff Tantsura, Jim Uttaro, and Gunter
      Vandevelde.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">Credit is also due to authors of the OpenConfig, whose model was
      relied upon to come up with this model.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">Special thanks to Robert Wilton who helped convert the YANG models to
      a NMDA compatible model.<a href="#section-9-3" class="pilcrow">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative references</a>
        </h3>
<dl class="references">
<dt id="RFC1997">[RFC1997]</dt>
        <dd>
<span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Traina, P.</span>, and <span class="refAuthor">T. Li</span>, <span class="refTitle">"BGP Communities Attribute"</span>, <span class="seriesInfo">RFC 1997</span>, <span class="seriesInfo">DOI 10.17487/RFC1997</span>, <time datetime="1996-08" class="refDate">August 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1997">https://www.rfc-editor.org/info/rfc1997</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2439">[RFC2439]</dt>
        <dd>
<span class="refAuthor">Villamizar, C.</span>, <span class="refAuthor">Chandra, R.</span>, and <span class="refAuthor">R. Govindan</span>, <span class="refTitle">"BGP Route Flap Damping"</span>, <span class="seriesInfo">RFC 2439</span>, <span class="seriesInfo">DOI 10.17487/RFC2439</span>, <time datetime="1998-11" class="refDate">November 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2439">https://www.rfc-editor.org/info/rfc2439</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2918">[RFC2918]</dt>
        <dd>
<span class="refAuthor">Chen, E.</span>, <span class="refTitle">"Route Refresh Capability for BGP-4"</span>, <span class="seriesInfo">RFC 2918</span>, <span class="seriesInfo">DOI 10.17487/RFC2918</span>, <time datetime="2000-09" class="refDate">September 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2918">https://www.rfc-editor.org/info/rfc2918</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time datetime="2006-01" class="refDate">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4364">[RFC4364]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span> and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP/MPLS IP Virtual Private Networks (VPNs)"</span>, <span class="seriesInfo">RFC 4364</span>, <span class="seriesInfo">DOI 10.17487/RFC4364</span>, <time datetime="2006-02" class="refDate">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4364">https://www.rfc-editor.org/info/rfc4364</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4456">[RFC4456]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chen, E.</span>, and <span class="refAuthor">R. Chandra</span>, <span class="refTitle">"BGP Route Reflection: An Alternative to Full Mesh Internal BGP (IBGP)"</span>, <span class="seriesInfo">RFC 4456</span>, <span class="seriesInfo">DOI 10.17487/RFC4456</span>, <time datetime="2006-04" class="refDate">April 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4456">https://www.rfc-editor.org/info/rfc4456</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4659">[RFC4659]</dt>
        <dd>
<span class="refAuthor">De Clercq, J.</span>, <span class="refAuthor">Ooms, D.</span>, <span class="refAuthor">Carugi, M.</span>, and <span class="refAuthor">F. Le Faucheur</span>, <span class="refTitle">"BGP-MPLS IP Virtual Private Network (VPN) Extension for IPv6 VPN"</span>, <span class="seriesInfo">RFC 4659</span>, <span class="seriesInfo">DOI 10.17487/RFC4659</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4659">https://www.rfc-editor.org/info/rfc4659</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4724">[RFC4724]</dt>
        <dd>
<span class="refAuthor">Sangli, S.</span>, <span class="refAuthor">Chen, E.</span>, <span class="refAuthor">Fernando, R.</span>, <span class="refAuthor">Scudder, J.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Graceful Restart Mechanism for BGP"</span>, <span class="seriesInfo">RFC 4724</span>, <span class="seriesInfo">DOI 10.17487/RFC4724</span>, <time datetime="2007-01" class="refDate">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4724">https://www.rfc-editor.org/info/rfc4724</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4760">[RFC4760]</dt>
        <dd>
<span class="refAuthor">Bates, T.</span>, <span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Katz, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"Multiprotocol Extensions for BGP-4"</span>, <span class="seriesInfo">RFC 4760</span>, <span class="seriesInfo">DOI 10.17487/RFC4760</span>, <time datetime="2007-01" class="refDate">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4760">https://www.rfc-editor.org/info/rfc4760</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4761">[RFC4761]</dt>
        <dd>
<span class="refAuthor">Kompella, K., Ed.</span> and <span class="refAuthor">Y. Rekhter, Ed.</span>, <span class="refTitle">"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling"</span>, <span class="seriesInfo">RFC 4761</span>, <span class="seriesInfo">DOI 10.17487/RFC4761</span>, <time datetime="2007-01" class="refDate">January 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4761">https://www.rfc-editor.org/info/rfc4761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5065">[RFC5065]</dt>
        <dd>
<span class="refAuthor">Traina, P.</span>, <span class="refAuthor">McPherson, D.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"Autonomous System Confederations for BGP"</span>, <span class="seriesInfo">RFC 5065</span>, <span class="seriesInfo">DOI 10.17487/RFC5065</span>, <time datetime="2007-08" class="refDate">August 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5065">https://www.rfc-editor.org/info/rfc5065</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5880">[RFC5880]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 5880</span>, <span class="seriesInfo">DOI 10.17487/RFC5880</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5880">https://www.rfc-editor.org/info/rfc5880</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5881">[RFC5881]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) for IPv4 and IPv6 (Single Hop)"</span>, <span class="seriesInfo">RFC 5881</span>, <span class="seriesInfo">DOI 10.17487/RFC5881</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5881">https://www.rfc-editor.org/info/rfc5881</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5883">[RFC5883]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) for Multihop Paths"</span>, <span class="seriesInfo">RFC 5883</span>, <span class="seriesInfo">DOI 10.17487/RFC5883</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5883">https://www.rfc-editor.org/info/rfc5883</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6020">[RFC6020]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6020</span>, <span class="seriesInfo">DOI 10.17487/RFC6020</span>, <time datetime="2010-10" class="refDate">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6020">https://www.rfc-editor.org/info/rfc6020</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6242">[RFC6242]</dt>
        <dd>
<span class="refAuthor">Wasserman, M.</span>, <span class="refTitle">"Using the NETCONF Protocol over Secure Shell (SSH)"</span>, <span class="seriesInfo">RFC 6242</span>, <span class="seriesInfo">DOI 10.17487/RFC6242</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6514">[RFC6514]</dt>
        <dd>
<span class="refAuthor">Aggarwal, R.</span>, <span class="refAuthor">Rosen, E.</span>, <span class="refAuthor">Morin, T.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP Encodings and Procedures for Multicast in MPLS/BGP IP VPNs"</span>, <span class="seriesInfo">RFC 6514</span>, <span class="seriesInfo">DOI 10.17487/RFC6514</span>, <time datetime="2012-02" class="refDate">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6514">https://www.rfc-editor.org/info/rfc6514</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6793">[RFC6793]</dt>
        <dd>
<span class="refAuthor">Vohra, Q.</span> and <span class="refAuthor">E. Chen</span>, <span class="refTitle">"BGP Support for Four-Octet Autonomous System (AS) Number Space"</span>, <span class="seriesInfo">RFC 6793</span>, <span class="seriesInfo">DOI 10.17487/RFC6793</span>, <time datetime="2012-12" class="refDate">December 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6793">https://www.rfc-editor.org/info/rfc6793</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6811">[RFC6811]</dt>
        <dd>
<span class="refAuthor">Mohapatra, P.</span>, <span class="refAuthor">Scudder, J.</span>, <span class="refAuthor">Ward, D.</span>, <span class="refAuthor">Bush, R.</span>, and <span class="refAuthor">R. Austein</span>, <span class="refTitle">"BGP Prefix Origin Validation"</span>, <span class="seriesInfo">RFC 6811</span>, <span class="seriesInfo">DOI 10.17487/RFC6811</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6811">https://www.rfc-editor.org/info/rfc6811</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6991">[RFC6991]</dt>
        <dd>
<span class="refAuthor">Schoenwaelder, J., Ed.</span>, <span class="refTitle">"Common YANG Data Types"</span>, <span class="seriesInfo">RFC 6991</span>, <span class="seriesInfo">DOI 10.17487/RFC6991</span>, <time datetime="2013-07" class="refDate">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6991">https://www.rfc-editor.org/info/rfc6991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7911">[RFC7911]</dt>
        <dd>
<span class="refAuthor">Walton, D.</span>, <span class="refAuthor">Retana, A.</span>, <span class="refAuthor">Chen, E.</span>, and <span class="refAuthor">J. Scudder</span>, <span class="refTitle">"Advertisement of Multiple Paths in BGP"</span>, <span class="seriesInfo">RFC 7911</span>, <span class="seriesInfo">DOI 10.17487/RFC7911</span>, <time datetime="2016-07" class="refDate">July 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7911">https://www.rfc-editor.org/info/rfc7911</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time datetime="2017-01" class="refDate">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8177">[RFC8177]</dt>
        <dd>
<span class="refAuthor">Lindem, A., Ed.</span>, <span class="refAuthor">Qu, Y.</span>, <span class="refAuthor">Yeung, D.</span>, <span class="refAuthor">Chen, I.</span>, and <span class="refAuthor">J. Zhang</span>, <span class="refTitle">"YANG Data Model for Key Chains"</span>, <span class="seriesInfo">RFC 8177</span>, <span class="seriesInfo">DOI 10.17487/RFC8177</span>, <time datetime="2017-06" class="refDate">June 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8177">https://www.rfc-editor.org/info/rfc8177</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8277">[RFC8277]</dt>
        <dd>
<span class="refAuthor">Rosen, E.</span>, <span class="refTitle">"Using BGP to Bind MPLS Labels to Address Prefixes"</span>, <span class="seriesInfo">RFC 8277</span>, <span class="seriesInfo">DOI 10.17487/RFC8277</span>, <time datetime="2017-10" class="refDate">October 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8277">https://www.rfc-editor.org/info/rfc8277</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8341">[RFC8341]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span> and <span class="refAuthor">M. Bjorklund</span>, <span class="refTitle">"Network Configuration Access Control Model"</span>, <span class="seriesInfo">STD 91</span>, <span class="seriesInfo">RFC 8341</span>, <span class="seriesInfo">DOI 10.17487/RFC8341</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8349">[RFC8349]</dt>
        <dd>
<span class="refAuthor">Lhotka, L.</span>, <span class="refAuthor">Lindem, A.</span>, and <span class="refAuthor">Y. Qu</span>, <span class="refTitle">"A YANG Data Model for Routing Management (NMDA Version)"</span>, <span class="seriesInfo">RFC 8349</span>, <span class="seriesInfo">DOI 10.17487/RFC8349</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8349">https://www.rfc-editor.org/info/rfc8349</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8528">[RFC8528]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span> and <span class="refAuthor">L. Lhotka</span>, <span class="refTitle">"YANG Schema Mount"</span>, <span class="seriesInfo">RFC 8528</span>, <span class="seriesInfo">DOI 10.17487/RFC8528</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8528">https://www.rfc-editor.org/info/rfc8528</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8529">[RFC8529]</dt>
        <dd>
<span class="refAuthor">Berger, L.</span>, <span class="refAuthor">Hopps, C.</span>, <span class="refAuthor">Lindem, A.</span>, <span class="refAuthor">Bogdanovic, D.</span>, and <span class="refAuthor">X. Liu</span>, <span class="refTitle">"YANG Data Model for Network Instances"</span>, <span class="seriesInfo">RFC 8529</span>, <span class="seriesInfo">DOI 10.17487/RFC8529</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8529">https://www.rfc-editor.org/info/rfc8529</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9067">[RFC9067]</dt>
        <dd>
<span class="refAuthor">Qu, Y.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Lindem, A.</span>, and <span class="refAuthor">X. Liu</span>, <span class="refTitle">"A YANG Data Model for Routing Policy"</span>, <span class="seriesInfo">RFC 9067</span>, <span class="seriesInfo">DOI 10.17487/RFC9067</span>, <time datetime="2021-10" class="refDate">October 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9067">https://www.rfc-editor.org/info/rfc9067</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9127">[RFC9127]</dt>
        <dd>
<span class="refAuthor">Rahman, R., Ed.</span>, <span class="refAuthor">Zheng, L., Ed.</span>, <span class="refAuthor">Jethanandani, M., Ed.</span>, <span class="refAuthor">Pallagatti, S.</span>, and <span class="refAuthor">G. Mirsky</span>, <span class="refTitle">"YANG Data Model for Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 9127</span>, <span class="seriesInfo">DOI 10.17487/RFC9127</span>, <time datetime="2021-10" class="refDate">October 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9127">https://www.rfc-editor.org/info/rfc9127</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-tcpm-yang-tcp">[I-D.ietf-tcpm-yang-tcp]</dt>
      <dd>
<span class="refAuthor">Scharf, M.</span>, <span class="refAuthor">Jethanandani, M.</span>, and <span class="refAuthor">V. Murgai</span>, <span class="refTitle">"YANG Model for Transmission Control Protocol (TCP) Configuration"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tcpm-yang-tcp-03</span>, <time datetime="2021-10-19" class="refDate">19 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-tcpm-yang-tcp-03.txt">https://www.ietf.org/archive/id/draft-ietf-tcpm-yang-tcp-03.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative references</a>
        </h3>
<dl class="references">
<dt id="RFC3765">[RFC3765]</dt>
        <dd>
<span class="refAuthor">Huston, G.</span>, <span class="refTitle">"NOPEER Community for Border Gateway Protocol (BGP) Route Scope Control"</span>, <span class="seriesInfo">RFC 3765</span>, <span class="seriesInfo">DOI 10.17487/RFC3765</span>, <time datetime="2004-04" class="refDate">April 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3765">https://www.rfc-editor.org/info/rfc3765</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5082">[RFC5082]</dt>
        <dd>
<span class="refAuthor">Gill, V.</span>, <span class="refAuthor">Heasley, J.</span>, <span class="refAuthor">Meyer, D.</span>, <span class="refAuthor">Savola, P., Ed.</span>, and <span class="refAuthor">C. Pignataro</span>, <span class="refTitle">"The Generalized TTL Security Mechanism (GTSM)"</span>, <span class="seriesInfo">RFC 5082</span>, <span class="seriesInfo">DOI 10.17487/RFC5082</span>, <time datetime="2007-10" class="refDate">October 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5082">https://www.rfc-editor.org/info/rfc5082</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5925">[RFC5925]</dt>
        <dd>
<span class="refAuthor">Touch, J.</span>, <span class="refAuthor">Mankin, A.</span>, and <span class="refAuthor">R. Bonica</span>, <span class="refTitle">"The TCP Authentication Option"</span>, <span class="seriesInfo">RFC 5925</span>, <span class="seriesInfo">DOI 10.17487/RFC5925</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5925">https://www.rfc-editor.org/info/rfc5925</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7454">[RFC7454]</dt>
        <dd>
<span class="refAuthor">Durand, J.</span>, <span class="refAuthor">Pepelnjak, I.</span>, and <span class="refAuthor">G. Doering</span>, <span class="refTitle">"BGP Operations and Security"</span>, <span class="seriesInfo">BCP 194</span>, <span class="seriesInfo">RFC 7454</span>, <span class="seriesInfo">DOI 10.17487/RFC7454</span>, <time datetime="2015-02" class="refDate">February 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7454">https://www.rfc-editor.org/info/rfc7454</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8342">[RFC8342]</dt>
      <dd>
<span class="refAuthor">Bjorklund, M.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, <span class="refAuthor">Shafer, P.</span>, <span class="refAuthor">Watsen, K.</span>, and <span class="refAuthor">R. Wilton</span>, <span class="refTitle">"Network Management Datastore Architecture (NMDA)"</span>, <span class="seriesInfo">RFC 8342</span>, <span class="seriesInfo">DOI 10.17487/RFC8342</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8342">https://www.rfc-editor.org/info/rfc8342</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-examples">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
      </h2>
<p id="appendix-A-1">This section tries to show some examples in how the model can be
      used.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<section id="appendix-A.1">
        <h3 id="name-creating-bgp-instance">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-creating-bgp-instance" class="section-name selfRef">Creating BGP Instance</a>
        </h3>
<p id="appendix-A.1-1">This example shows how to enable BGP with the IPv4 unicast address
        family, while adding one network to advertise.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.1-2">
<pre>
[note: '\' line wrapping for formatting only]

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;routing
    xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
  &lt;control-plane-protocols&gt;
    &lt;control-plane-protocol&gt;
      &lt;type
          xmlns:bgp="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;bgp:bgp&lt;/\
type&gt;
      &lt;name&gt;BGP&lt;/name&gt;
      &lt;bgp
          xmlns="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;
        &lt;global&gt;
          &lt;as&gt;64496&lt;/as&gt;
          &lt;afi-safis&gt;
            &lt;afi-safi&gt;
              &lt;name
                  xmlns:bt=
                  "urn:ietf:params:xml:ns:yang:ietf-bgp-types"&gt;bt:ip\
v4-unicast&lt;/name&gt;
            &lt;/afi-safi&gt;
          &lt;/afi-safis&gt;
        &lt;/global&gt;
      &lt;/bgp&gt;
    &lt;/control-plane-protocol&gt;
  &lt;/control-plane-protocols&gt;
&lt;/routing&gt;

</pre><a href="#appendix-A.1-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-A.2">
        <h3 id="name-neighbor-address-family-con">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-neighbor-address-family-con" class="section-name selfRef">Neighbor Address Family Configuration</a>
        </h3>
<p id="appendix-A.2-1">This example shows how to configure a BGP peer, where the remote
        address is 192.0.2.1, the remote AS number is 64497, and the address
        family of the peer is IPv4 unicast.<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.2-2">
<pre>
[note: '\' line wrapping for formatting only]

&lt;!--
    This example shows a neighbor configuration with damping.
--&gt;

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;routing
    xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
  &lt;control-plane-protocols&gt;
    &lt;control-plane-protocol&gt;
      &lt;type
          xmlns:bgp="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;bgp:bgp&lt;/\
type&gt;
      &lt;name&gt;name:BGP&lt;/name&gt;
      &lt;bgp
          xmlns="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;
        &lt;global&gt;
          &lt;as&gt;64496&lt;/as&gt;
          &lt;afi-safis&gt;
            &lt;afi-safi&gt;
              &lt;name
                  xmlns:bt=
                  "urn:ietf:params:xml:ns:yang:ietf-bgp-types"&gt;bt:ip\
v4-unicast&lt;/name&gt;
            &lt;/afi-safi&gt;
          &lt;/afi-safis&gt;
        &lt;/global&gt;
        &lt;neighbors&gt;
          &lt;neighbor&gt;
            &lt;remote-address&gt;192.0.2.1&lt;/remote-address&gt;
            &lt;peer-as&gt;64497&lt;/peer-as&gt;
            &lt;route-flap-damping&gt;
              &lt;enable&gt;true&lt;/enable&gt;
              &lt;suppress-above&gt;4.0&lt;/suppress-above&gt;
              &lt;reuse-above&gt;3.0&lt;/reuse-above&gt;
              &lt;max-flap&gt;15.0&lt;/max-flap&gt;
              &lt;reach-decay&gt;100&lt;/reach-decay&gt;
              &lt;unreach-decay&gt;500&lt;/unreach-decay&gt;
              &lt;keep-history&gt;1000&lt;/keep-history&gt;
            &lt;/route-flap-damping&gt;
            &lt;description&gt;"Peer Router B"&lt;/description&gt;
            &lt;afi-safis&gt;
              &lt;afi-safi&gt;
                &lt;name
                    xmlns:bt=
                    "urn:ietf:params:xml:ns:yang:ietf-bgp-types"&gt;bt:\
ipv4-unicast&lt;/name&gt;
              &lt;/afi-safi&gt;
            &lt;/afi-safis&gt;
          &lt;/neighbor&gt;
        &lt;/neighbors&gt;
      &lt;/bgp&gt;
    &lt;/control-plane-protocol&gt;
  &lt;/control-plane-protocols&gt;
&lt;/routing&gt;

</pre><a href="#appendix-A.2-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-A.3">
        <h3 id="name-ipv6-neighbor-configuration">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-ipv6-neighbor-configuration" class="section-name selfRef">IPv6 Neighbor Configuration</a>
        </h3>
<p id="appendix-A.3-1">This example shows how to configure a BGP peer, where the remote
        peer has a IPv6 address, uses TCP-AO to secure the session with the
        peer, and uses non-default timers for hold-time and keepalive.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.3-2">
<pre>
[note: '\' line wrapping for formatting only]

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;key-chains
    xmlns="urn:ietf:params:xml:ns:yang:ietf-key-chain"&gt;
  &lt;key-chain&gt;
    &lt;name&gt;bgp-key-chain&lt;/name&gt;
  &lt;/key-chain&gt;
&lt;/key-chains&gt;
&lt;routing
    xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
  &lt;control-plane-protocols&gt;
    &lt;control-plane-protocol&gt;
      &lt;type
          xmlns:bgp="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;bgp:bgp&lt;/\
type&gt;
      &lt;name&gt;name:BGP&lt;/name&gt;
      &lt;bgp
          xmlns="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;
        &lt;global&gt;
          &lt;as&gt;64496&lt;/as&gt;
          &lt;afi-safis&gt;
            &lt;afi-safi&gt;
              &lt;name
                  xmlns:bt=
                  "urn:ietf:params:xml:ns:yang:ietf-bgp-types"&gt;bt:ip\
v6-unicast&lt;/name&gt;
            &lt;/afi-safi&gt;
          &lt;/afi-safis&gt;
        &lt;/global&gt;
        &lt;neighbors&gt;
          &lt;neighbor&gt;
            &lt;remote-address&gt;2001:db8::&lt;/remote-address&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;secure-session-enable&gt;true&lt;/secure-session-enable&gt;
            &lt;secure-session&gt;
              &lt;ao-keychain&gt;bgp-key-chain&lt;/ao-keychain&gt;
            &lt;/secure-session&gt;
            &lt;peer-as&gt;64497&lt;/peer-as&gt;
            &lt;description&gt;"Peer Router B"&lt;/description&gt;
            &lt;timers&gt;
              &lt;hold-time&gt;120&lt;/hold-time&gt;
              &lt;keepalive&gt;70&lt;/keepalive&gt;
            &lt;/timers&gt;
            &lt;afi-safis&gt;
              &lt;afi-safi&gt;
                &lt;name
                    xmlns:bt=
                    "urn:ietf:params:xml:ns:yang:ietf-bgp-types"&gt;bt:\
ipv6-unicast&lt;/name&gt;
              &lt;/afi-safi&gt;
            &lt;/afi-safis&gt;
          &lt;/neighbor&gt;
        &lt;/neighbors&gt;
      &lt;/bgp&gt;
    &lt;/control-plane-protocol&gt;
  &lt;/control-plane-protocols&gt;
&lt;/routing&gt;

</pre><a href="#appendix-A.3-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-A.4">
        <h3 id="name-vrf-configuration">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-vrf-configuration" class="section-name selfRef">VRF Configuration</a>
        </h3>
<p id="appendix-A.4-1">This example shows how BGP can be configured for two VRFs, red and
        blue. In this case, the two network instances share a common AS, and
        distinguish between the instances using the router id.<a href="#appendix-A.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.4-2">
<pre>
[note: '\' line wrapping for formatting only]

&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;network-instances
    xmlns="urn:ietf:params:xml:ns:yang:ietf-network-instance"&gt;
  &lt;network-instance&gt;
    &lt;name&gt;vrf-red&lt;/name&gt;
    &lt;vrf-root&gt;
      &lt;routing
          xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
        &lt;router-id&gt;192.0.2.1&lt;/router-id&gt;
        &lt;control-plane-protocols&gt;
          &lt;control-plane-protocol&gt;
            &lt;type
                xmlns:bgp=
                "urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;bgp:bgp&lt;/type\
&gt;
            &lt;name&gt;BGP&lt;/name&gt;
            &lt;bgp
                xmlns="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;
              &lt;global&gt;
                &lt;as&gt;64496&lt;/as&gt;
                &lt;afi-safis&gt;
                  &lt;afi-safi&gt;
                    &lt;name
                        xmlns:bt=
                        "urn:ietf:params:xml:ns:yang:ietf-bgp-types"\
&gt;bt:ipv4-unicast&lt;/name&gt;
                  &lt;/afi-safi&gt;
                &lt;/afi-safis&gt;
              &lt;/global&gt;
            &lt;/bgp&gt;
          &lt;/control-plane-protocol&gt;
        &lt;/control-plane-protocols&gt;
      &lt;/routing&gt;
    &lt;/vrf-root&gt;
  &lt;/network-instance&gt;
  &lt;network-instance&gt;
    &lt;name&gt;vrf-blue&lt;/name&gt;
    &lt;vrf-root&gt;
      &lt;routing
          xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
        &lt;router-id&gt;192.0.2.2&lt;/router-id&gt;
        &lt;control-plane-protocols&gt;
          &lt;control-plane-protocol&gt;
            &lt;type
                xmlns:bgp=
                "urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;bgp:bgp&lt;/type\
&gt;
            &lt;name&gt;BGP&lt;/name&gt;
            &lt;bgp
                xmlns="urn:ietf:params:xml:ns:yang:ietf-bgp"&gt;
              &lt;global&gt;
                &lt;as&gt;64496&lt;/as&gt;
                &lt;afi-safis&gt;
                  &lt;afi-safi&gt;
                    &lt;name
                        xmlns:bt=
                        "urn:ietf:params:xml:ns:yang:ietf-bgp-types"\
&gt;bt:ipv4-unicast&lt;/name&gt;
                  &lt;/afi-safi&gt;
                &lt;/afi-safis&gt;
              &lt;/global&gt;
            &lt;/bgp&gt;
          &lt;/control-plane-protocol&gt;
        &lt;/control-plane-protocols&gt;
      &lt;/routing&gt;
    &lt;/vrf-root&gt;
  &lt;/network-instance&gt;
&lt;/network-instances&gt;

</pre><a href="#appendix-A.4-2" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="appendix-B">
      <h2 id="name-how-to-add-a-new-afi-and-au">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-how-to-add-a-new-afi-and-au" class="section-name selfRef">How to add a new AFI and Augment a Module</a>
      </h2>
<p id="appendix-B-1">This section explains how a new AFI can be defined in a new module
      and how that module can then be augmented. Assume that the new AFI being
      defined is called 'foo' which extends the base identity of
      'afi-safi-type', and the augmentation is to add a new container for
      'foo' under two different XPaths. The example shows how the base
      identity can be extended to add this new AFI, and then use the augmented
      containers be used to add 'foo' specific information.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-B-2">
<pre>
module example-newafi-bgp {
  yang-version 1.1;
  namespace "http://example.com/ns/example-newafi-bgp";
  prefix example-newafi-bgp;

  import ietf-inet-types {
    prefix inet;
    reference
      "RFC 6991: Common YANG Data Types.";
  }

  import ietf-routing {
    prefix rt;
    reference
      "RFC 8349, A YANG Data Model for Routing Management
       (NMDA Version)";
  }

  import ietf-bgp {
    prefix "bgp";
    reference
      "RFC XXXX: BGP YANG module for Service Provider Network.";
  }

  import ietf-bgp-types {
    prefix "bt";
  }

  organization
    "Newafi model group.";

  contact
    "abc@newafi.com";
  description
    "This YANG module defines and uses new AFI.";

  revision 2021-10-25 {
    description
      "Creating new AFI and using in this model";

    reference
      "RFC XXXX: BGP YANG Model for Service Provider Network.";
  }

  identity foo {
    base bt:afi-safi-type;
    description
      "New AFI type foo.";
  }

  augment "/rt:routing/rt:control-plane-protocols/" +
          "rt:control-plane-protocol/bgp:bgp/bgp:global/" +
          "bgp:afi-safis/bgp:afi-safi" {
    when "derived-from-or-self(bgp:name, 'foo')" {
      description
        "This augmentation is valid for a AFI/SAFI instance
         of 'foo'";
    }
    container foo {
      description
        "Container to add 'foo' specific AFI/SAFI information.
         First add the common stuff.";
      uses bgp:mp-all-afi-safi-common;
    }
  }

  augment "/rt:routing/rt:control-plane-protocols/" +
          "rt:control-plane-protocol/bgp:bgp/" +
          "bgp:rib/bgp:afi-safis/bgp:afi-safi" {
    when "derived-from-or-self(bgp:name, 'foo')" {
      description
        "This augmentation is valid for a AFI/SAFI instance
         of 'foo'";
    }

    container foo {
      description
        "Container to add 'foo' rib specific information.
         First add the common stuff.";
      container loc-rib {
        config false;
        description
          "Container for the 'foo' BGP LOC-RIB data.";
        container routes {
          description
            "Enclosing container for list of routes in the routing
             table.";
          list route {
            key "prefix origin path-id";
            description
              "List of routes in the table, keyed by the route
               prefix, the route origin, and path-id.  The route
               origin can be either the neighbor address from which
               the route was learned, or the source protocol that
               injected the route.  The path-id distinguishes routes
               for the same prefix received from a neighbor (e.g.,
               if add-paths is enabled).";
            leaf prefix {
              type inet:ip-address;
              description
                "The 'foo' prefix corresponding to the route.";
            }
            uses bgp:bgp-loc-rib-common-keys;
            uses bgp:bgp-loc-rib-common-attr-refs;
            uses bgp:bgp-common-route-annotations-state;
            uses bgp:bgp-unknown-attr-top;
            uses bgp:rib-ext-route-annotations;
          }
          uses bgp:clear-routes;
        }
      }

      container neighbors {
        config false;
        description
          "Enclosing container for neighbor list.";
        list neighbor {
          key "neighbor-address";
          description
            "List of neighbors (peers) of the local BGP speaker.";
          leaf neighbor-address {
            type inet:ip-address;
            description
              "IP address of the BGP neighbor or peer.";
          }
          container adj-rib-in-pre {
            description
              "Per-neighbor table containing the NLRI updates
             received from the neighbor before any local input
             policy rules or filters have been applied.  This can
             be considered the 'raw' updates from the neighbor.";
            uses bgp:ipv4-adj-rib-common;
          }
          container adj-rib-in-post {
            description
              "Per-neighbor table containing the paths received from
             the neighbor that are eligible for best-path selection
             after local input policy rules have been applied.";
            uses bgp:ipv4-adj-rib-in-post;
          }
          container adj-rib-out-pre {
            description
              "Per-neighbor table containing paths eligible for
             sending (advertising) to the neighbor before output
             policy rules have been applied.";
            uses bgp:ipv4-adj-rib-common;
          }
          container adj-rib-out-post {
            description
              "Per-neighbor table containing paths eligible for
             sending (advertising) to the neighbor after output
             policy rules have been applied.";
            uses bgp:ipv4-adj-rib-common;
          }
        }
      }
    }
  }
}

</pre><a href="#appendix-B-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-C">
      <h2 id="name-how-to-deviate-a-module">
<a href="#appendix-C" class="section-number selfRef">Appendix C. </a><a href="#name-how-to-deviate-a-module" class="section-name selfRef">How to deviate a module</a>
      </h2>
<p id="appendix-C-1">This example shows how the BGP can be deviated to indicate two nodes
      that the particular implementation is choosing not to support.<a href="#appendix-C-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-C-2">
<pre>
module example-newco-bgp {
  yang-version 1.1;
  namespace "http://example.com/ns/example-newco-bgp";
  prefix example-newco-bgp;

  import ietf-bgp {
    prefix "bgp";
  }

  organization
    "Newco model group.";

  contact
    "abc@newco.com";
  description
    "This YANG module deviates IETF BGP YANG module.";

  revision 2021-10-25 {
    description
      "Creating NewCo deviations to ietf-bgp model";

    reference
      "RFC XXXX: BGP YANG module for Service Provider Network.";
  }

  deviation "/bgp:bgp/bgp:global/bgp:graceful-restart/" +
            "bgp:restart-time" {
    deviate not-supported;
  }

  deviation "/bgp:bgp/bgp:global/bgp:graceful-restart/" +
            "bgp:stale-route-time" {
    deviate not-supported;
  }
}

</pre><a href="#appendix-C-2" class="pilcrow">¶</a>
</div>
</section>
<section id="appendix-D">
      <h2 id="name-complete-tree-diagram">
<a href="#appendix-D" class="section-number selfRef">Appendix D. </a><a href="#name-complete-tree-diagram" class="section-name selfRef">Complete tree diagram</a>
      </h2>
<p id="appendix-D-1">Here is a complete tree diagram for the model.<a href="#appendix-D-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-D-2">
<pre>
module: ietf-bgp

  augment /rt:routing/rt:control-plane-protocols
            /rt:control-plane-protocol:
    +--rw bgp
       +--rw global!
       |  +--rw as                         inet:as-number
       |  +--rw identifier?                yang:dotted-quad
       |  +--rw distance
       |  |  +--rw external?   uint8
       |  |  +--rw internal?   uint8
       |  +--rw confederation
       |  |  +--rw enabled?      boolean
       |  |  +--rw identifier?   inet:as-number
       |  |  +--rw member-as*    inet:as-number
       |  +--rw graceful-restart {bt:graceful-restart}?
       |  |  +--rw enabled?             boolean
       |  |  +--rw restart-time?        uint16
       |  |  +--rw stale-routes-time?   uint32
       |  |  +--rw helper-only?         boolean
       |  +--rw use-multiple-paths
       |  |  +--rw enabled?   boolean
       |  |  +--rw ebgp
       |  |  |  +--rw allow-multiple-as?   boolean
       |  |  |  +--rw maximum-paths?       uint32
       |  |  +--rw ibgp
       |  |     +--rw maximum-paths?   uint32
       |  +--rw route-selection-options
       |  |  +--rw always-compare-med?           boolean
       |  |  +--rw ignore-as-path-length?        boolean
       |  |  +--rw external-compare-router-id?   boolean
       |  |  +--rw advertise-inactive-routes?    boolean
       |  |  +--rw enable-aigp?                  boolean
       |  |  +--rw ignore-next-hop-igp-metric?   boolean
       |  |  +--rw enable-med?                   boolean
       |  +--rw afi-safis
       |  |  +--rw afi-safi* [name]
       |  |     +--rw name                       identityref
       |  |     +--rw enabled?                   boolean
       |  |     +--ro total-paths?               uint32
       |  |     +--ro total-prefixes?            uint32
       |  |     +--rw graceful-restart {bt:graceful-restart}?
       |  |     |  +--rw enabled?   boolean
       |  |     +--rw route-selection-options
       |  |     |  +--rw always-compare-med?           boolean
       |  |     |  +--rw ignore-as-path-length?        boolean
       |  |     |  +--rw external-compare-router-id?   boolean
       |  |     |  +--rw advertise-inactive-routes?    boolean
       |  |     |  +--rw enable-aigp?                  boolean
       |  |     |  +--rw ignore-next-hop-igp-metric?   boolean
       |  |     |  +--rw enable-med?                   boolean
       |  |     +--rw use-multiple-paths
       |  |     |  +--rw enabled?   boolean
       |  |     |  +--rw ebgp
       |  |     |  |  +--rw allow-multiple-as?   boolean
       |  |     |  |  +--rw maximum-paths?       uint32
       |  |     |  +--rw ibgp
       |  |     |     +--rw maximum-paths?   uint32
       |  |     +--rw apply-policy
       |  |     |  +--rw import-policy*           leafref
       |  |     |  +--rw default-import-policy?   default-policy-type
       |  |     |  +--rw export-policy*           leafref
       |  |     |  +--rw default-export-policy?   default-policy-type
       |  |     +--rw ipv4-unicast
       |  |     |  +--rw prefix-limit
       |  |     |  |  +--rw max-prefixes?             uint32
       |  |     |  |  +--rw shutdown-threshold-pct?
       |  |     |  |  |       rt-types:percentage
       |  |     |  |  +--rw restart-timer?            uint32
       |  |     |  +--rw send-default-route?   boolean
       |  |     +--rw ipv6-unicast
       |  |     |  +--rw prefix-limit
       |  |     |  |  +--rw max-prefixes?             uint32
       |  |     |  |  +--rw shutdown-threshold-pct?
       |  |     |  |  |       rt-types:percentage
       |  |     |  |  +--rw restart-timer?            uint32
       |  |     |  +--rw send-default-route?   boolean
       |  |     +--rw ipv4-labeled-unicast
       |  |     |  +--rw prefix-limit
       |  |     |     +--rw max-prefixes?             uint32
       |  |     |     +--rw shutdown-threshold-pct?
       |  |     |     |       rt-types:percentage
       |  |     |     +--rw restart-timer?            uint32
       |  |     +--rw ipv6-labeled-unicast
       |  |     |  +--rw prefix-limit
       |  |     |     +--rw max-prefixes?             uint32
       |  |     |     +--rw shutdown-threshold-pct?
       |  |     |     |       rt-types:percentage
       |  |     |     +--rw restart-timer?            uint32
       |  |     +--rw l3vpn-ipv4-unicast
       |  |     |  +--rw prefix-limit
       |  |     |     +--rw max-prefixes?             uint32
       |  |     |     +--rw shutdown-threshold-pct?
       |  |     |     |       rt-types:percentage
       |  |     |     +--rw restart-timer?            uint32
       |  |     +--rw l3vpn-ipv6-unicast
       |  |     |  +--rw prefix-limit
       |  |     |     +--rw max-prefixes?             uint32
       |  |     |     +--rw shutdown-threshold-pct?
       |  |     |     |       rt-types:percentage
       |  |     |     +--rw restart-timer?            uint32
       |  |     +--rw l3vpn-ipv4-multicast
       |  |     |  +--rw prefix-limit
       |  |     |     +--rw max-prefixes?             uint32
       |  |     |     +--rw shutdown-threshold-pct?
       |  |     |     |       rt-types:percentage
       |  |     |     +--rw restart-timer?            uint32
       |  |     +--rw l3vpn-ipv6-multicast
       |  |     |  +--rw prefix-limit
       |  |     |     +--rw max-prefixes?             uint32
       |  |     |     +--rw shutdown-threshold-pct?
       |  |     |     |       rt-types:percentage
       |  |     |     +--rw restart-timer?            uint32
       |  |     +--rw l2vpn-vpls
       |  |     |  +--rw prefix-limit
       |  |     |     +--rw max-prefixes?             uint32
       |  |     |     +--rw shutdown-threshold-pct?
       |  |     |     |       rt-types:percentage
       |  |     |     +--rw restart-timer?            uint32
       |  |     +--rw l2vpn-evpn
       |  |        +--rw prefix-limit
       |  |           +--rw max-prefixes?             uint32
       |  |           +--rw shutdown-threshold-pct?
       |  |           |       rt-types:percentage
       |  |           +--rw restart-timer?            uint32
       |  +--rw apply-policy
       |  |  +--rw import-policy*           leafref
       |  |  +--rw default-import-policy?   default-policy-type
       |  |  +--rw export-policy*           leafref
       |  |  +--rw default-export-policy?   default-policy-type
       |  +--ro total-paths?               uint32
       |  +--ro total-prefixes?            uint32
       +--rw neighbors
       |  +--rw neighbor* [remote-address]
       |  |  +--ro local-address?               inet:ip-address
       |  |  +--ro local-port?                  inet:port-number
       |  |  +--rw remote-address               inet:ip-address
       |  |  +--ro remote-port?                 inet:port-number
       |  |  +--ro peer-type?                   bt:peer-type
       |  |  +--rw peer-group?
       |  |  |       -&gt; ../../../peer-groups/peer-group/name
       |  |  +--ro identifier?                  yang:dotted-quad
       |  |  +--rw enabled?                     boolean
       |  |  +--rw secure-session-enable?       boolean
       |  |  +--rw secure-session
       |  |  |  +--rw (option)?
       |  |  |     +--:(ao)
       |  |  |     |  +--rw enable-ao?             boolean
       |  |  |     |  +--rw send-id?               uint8
       |  |  |     |  +--rw recv-id?               uint8
       |  |  |     |  +--rw include-tcp-options?   boolean
       |  |  |     |  +--rw accept-key-mismatch?   boolean
       |  |  |     |  +--rw ao-keychain?
       |  |  |     |          key-chain:key-chain-ref
       |  |  |     +--:(md5)
       |  |  |     |  +--rw enable-md5?            boolean
       |  |  |     |  +--rw md5-keychain?
       |  |  |     |          key-chain:key-chain-ref
       |  |  |     +--:(ipsec)
       |  |  |        +--rw sa?                    string
       |  |  +--rw ttl-security?                uint8
       |  |  |       {bt:ttl-security}?
       |  |  +--rw peer-as?                     inet:as-number
       |  |  +--rw local-as?                    inet:as-number
       |  |  +--rw remove-private-as?
       |  |  |       bt:remove-private-as-option
       |  |  +--rw route-flap-damping {bt:damping}?
       |  |  |  +--rw enable?           boolean
       |  |  |  +--rw suppress-above?   decimal64
       |  |  |  +--rw reuse-above?      decimal64
       |  |  |  +--rw max-flap?         decimal64
       |  |  |  +--rw reach-decay?      uint32
       |  |  |  +--rw unreach-decay?    uint32
       |  |  |  +--rw keep-history?     uint32
       |  |  +--rw send-community?              bt:community-type
       |  |  |       {bt:send-communities}?
       |  |  +--rw description?                 string
       |  |  +--rw session-state?               enumeration
       |  |  +--ro last-established?            yang:date-and-time
       |  |  +--ro negotiated-capabilities*     identityref
       |  |  +--ro negotiated-hold-time?        uint16
       |  |  +--rw last-error?                  binary
       |  |  +--ro fsm-established-time?        yang:gauge32
       |  |  +--rw timers
       |  |  |  +--rw connect-retry-interval?             uint16
       |  |  |  +--rw hold-time?                          uint16
       |  |  |  +--rw keepalive?                          uint16
       |  |  |  +--rw min-as-origination-interval?        uint16
       |  |  |  +--rw min-route-advertisement-interval?   uint16
       |  |  +--rw transport
       |  |  |  +--rw tcp-mss?             uint16
       |  |  |  +--rw mtu-discovery?       boolean
       |  |  |  +--rw passive-mode?        boolean
       |  |  |  +--rw local-address?       union
       |  |  |  +--rw md5-auth-password?   string
       |  |  +--rw treat-as-withdraw?           boolean
       |  |  +--ro erroneous-update-messages?   uint32
       |  |  +--rw graceful-restart {bt:graceful-restart}?
       |  |  |  +--rw enabled?             boolean
       |  |  |  +--rw restart-time?        uint16
       |  |  |  +--rw stale-routes-time?   uint32
       |  |  |  +--rw helper-only?         boolean
       |  |  |  +--ro peer-restart-time?   uint16
       |  |  |  +--ro peer-restarting?     boolean
       |  |  |  +--ro local-restarting?    boolean
       |  |  |  +--ro mode?                enumeration
       |  |  +--rw logging-options
       |  |  |  +--rw log-neighbor-state-changes?   boolean
       |  |  +--rw ebgp-multihop
       |  |  |  +--rw enabled?        boolean
       |  |  |  +--rw multihop-ttl?   uint8
       |  |  +--rw route-reflector
       |  |  |  +--rw cluster-id?          bt:rr-cluster-id-type
       |  |  |  +--rw no-client-reflect?   boolean
       |  |  |  +--rw client?              boolean
       |  |  +--rw as-path-options
       |  |  |  +--rw allow-own-as?      uint8
       |  |  |  +--rw replace-peer-as?   boolean
       |  |  +--rw add-paths {bt:add-paths}?
       |  |  |  +--rw receive?                  boolean
       |  |  |  +--rw (send)?
       |  |  |  |  +--:(max)
       |  |  |  |  |  +--rw max?                uint8
       |  |  |  |  +--:(all)
       |  |  |  |     +--rw all?                empty
       |  |  |  +--rw eligible-prefix-policy?   leafref
       |  |  +--rw use-multiple-paths
       |  |  |  +--rw enabled?   boolean
       |  |  |  +--rw ebgp
       |  |  |     +--rw allow-multiple-as?   boolean
       |  |  +--rw apply-policy
       |  |  |  +--rw import-policy*           leafref
       |  |  |  +--rw default-import-policy?   default-policy-type
       |  |  |  +--rw export-policy*           leafref
       |  |  |  +--rw default-export-policy?   default-policy-type
       |  |  +--rw afi-safis
       |  |  |  +--rw afi-safi* [name]
       |  |  |     +--rw name                    identityref
       |  |  |     +--rw enabled?                boolean
       |  |  |     +--ro active?                 boolean
       |  |  |     +--ro prefixes
       |  |  |     |  +--ro received?    uint32
       |  |  |     |  +--ro sent?        uint32
       |  |  |     |  +--ro installed?   uint32
       |  |  |     +--rw graceful-restart {bt:graceful-restart}?
       |  |  |     |  +--rw enabled?      boolean
       |  |  |     |  +--ro received?     boolean
       |  |  |     |  +--ro advertised?   boolean
       |  |  |     +--rw apply-policy
       |  |  |     |  +--rw import-policy*           leafref
       |  |  |     |  +--rw default-import-policy?
       |  |  |     |  |       default-policy-type
       |  |  |     |  +--rw export-policy*           leafref
       |  |  |     |  +--rw default-export-policy?
       |  |  |     |          default-policy-type
       |  |  |     +--rw ipv4-unicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |  |  +--rw max-prefixes?             uint32
       |  |  |     |  |  +--rw shutdown-threshold-pct?
       |  |  |     |  |  |       rt-types:percentage
       |  |  |     |  |  +--rw restart-timer?            uint32
       |  |  |     |  +--rw send-default-route?   boolean
       |  |  |     +--rw ipv6-unicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |  |  +--rw max-prefixes?             uint32
       |  |  |     |  |  +--rw shutdown-threshold-pct?
       |  |  |     |  |  |       rt-types:percentage
       |  |  |     |  |  +--rw restart-timer?            uint32
       |  |  |     |  +--rw send-default-route?   boolean
       |  |  |     +--rw ipv4-labeled-unicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw ipv6-labeled-unicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw l3vpn-ipv4-unicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw l3vpn-ipv6-unicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw l3vpn-ipv4-multicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw l3vpn-ipv6-multicast
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw l2vpn-vpls
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw l2vpn-evpn
       |  |  |     |  +--rw prefix-limit
       |  |  |     |     +--rw max-prefixes?             uint32
       |  |  |     |     +--rw shutdown-threshold-pct?
       |  |  |     |     |       rt-types:percentage
       |  |  |     |     +--rw restart-timer?            uint32
       |  |  |     +--rw use-multiple-paths
       |  |  |        +--rw enabled?   boolean
       |  |  |        +--rw ebgp
       |  |  |           +--rw allow-multiple-as?   boolean
       |  |  +--rw statistics
       |  |     +--ro peer-fsm-established-transitions?
       |  |     |       yang:counter64
       |  |     +--ro fsm-established-transitions?
       |  |     |       yang:counter32
       |  |     +--ro messages
       |  |     |  +--ro in-total-messages?        yang:counter32
       |  |     |  +--ro out-total-messages?       yang:counter32
       |  |     |  +--ro in-update-elapsed-time?   yang:gauge32
       |  |     |  +--ro sent
       |  |     |  |  +--ro updates-received?    uint64
       |  |     |  |  +--ro updates-sent?        uint64
       |  |     |  |  +--ro messages-received?   uint64
       |  |     |  |  +--ro messages-sent?       uint64
       |  |     |  |  +--ro notification?        uint64
       |  |     |  +--ro received
       |  |     |     +--ro updates-received?    uint64
       |  |     |     +--ro updates-sent?        uint64
       |  |     |     +--ro messages-received?   uint64
       |  |     |     +--ro messages-sent?       uint64
       |  |     |     +--ro notification?        uint64
       |  |     +--ro queues
       |  |     |  +--ro input?    uint32
       |  |     |  +--ro output?   uint32
       |  |     +---x clear {bt:clear-statistics}?
       |  |        +---w input
       |  |        |  +---w clear-at?   yang:date-and-time
       |  |        +--ro output
       |  |           +--ro clear-finished-at?   yang:date-and-time
       |  +---n established
       |  |  +-- remote-address?   -&gt; ../../neighbor/remote-address
       |  |  +-- last-error?       -&gt; ../../neighbor/last-error
       |  |  +-- session-state?    -&gt; ../../neighbor/session-state
       |  +---n backward-transition
       |  |  +-- remote-addr?     -&gt; ../../neighbor/remote-address
       |  |  +-- last-error?      -&gt; ../../neighbor/last-error
       |  |  +-- session-state?   -&gt; ../../neighbor/session-state
       |  +---x clear {bt:clear-neighbors}?
       |     +---w input
       |     |  +---w (operation)?
       |     |  |  +--:(operation-admin)
       |     |  |  |  +---w admin?          empty
       |     |  |  +--:(operation-hard)
       |     |  |  |  +---w hard?           empty
       |     |  |  +--:(operation-soft)
       |     |  |  |  +---w soft?           empty
       |     |  |  +--:(operation-soft-inbound)
       |     |  |     +---w soft-inbound?   empty {bt:route-refresh}?
       |     |  +---w clear-at?             yang:date-and-time
       |     +--ro output
       |        +--ro clear-finished-at?   yang:date-and-time
       +--rw peer-groups
       |  +--rw peer-group* [name]
       |     +--rw name                  string
       |     +--rw peer-as?              inet:as-number
       |     +--rw local-as?             inet:as-number
       |     +--rw remove-private-as?    bt:remove-private-as-option
       |     +--rw route-flap-damping {bt:damping}?
       |     |  +--rw enable?           boolean
       |     |  +--rw suppress-above?   decimal64
       |     |  +--rw reuse-above?      decimal64
       |     |  +--rw max-flap?         decimal64
       |     |  +--rw reach-decay?      uint32
       |     |  +--rw unreach-decay?    uint32
       |     |  +--rw keep-history?     uint32
       |     +--rw send-community?       bt:community-type
       |     |       {bt:send-communities}?
       |     +--rw description?          string
       |     +--rw timers
       |     |  +--rw connect-retry-interval?             uint16
       |     |  +--rw hold-time?                          uint16
       |     |  +--rw keepalive?                          uint16
       |     |  +--rw min-as-origination-interval?        uint16
       |     |  +--rw min-route-advertisement-interval?   uint16
       |     +--rw transport
       |     |  +--rw tcp-mss?             uint16
       |     |  +--rw mtu-discovery?       boolean
       |     |  +--rw passive-mode?        boolean
       |     |  +--rw local-address?       union
       |     |  +--rw md5-auth-password?   string
       |     +--rw graceful-restart {bt:graceful-restart}?
       |     |  +--rw enabled?             boolean
       |     |  +--rw restart-time?        uint16
       |     |  +--rw stale-routes-time?   uint32
       |     |  +--rw helper-only?         boolean
       |     +--rw ebgp-multihop
       |     |  +--rw enabled?        boolean
       |     |  +--rw multihop-ttl?   uint8
       |     +--rw route-reflector
       |     |  +--rw cluster-id?          bt:rr-cluster-id-type
       |     |  +--rw no-client-reflect?   boolean
       |     |  +--rw client?              boolean
       |     +--rw as-path-options
       |     |  +--rw allow-own-as?      uint8
       |     |  +--rw replace-peer-as?   boolean
       |     +--rw add-paths {bt:add-paths}?
       |     |  +--rw receive?                  boolean
       |     |  +--rw (send)?
       |     |  |  +--:(max)
       |     |  |  |  +--rw max?                uint8
       |     |  |  +--:(all)
       |     |  |     +--rw all?                empty
       |     |  +--rw eligible-prefix-policy?   leafref
       |     +--rw use-multiple-paths
       |     |  +--rw enabled?   boolean
       |     |  +--rw ebgp
       |     |  |  +--rw allow-multiple-as?   boolean
       |     |  |  +--rw maximum-paths?       uint32
       |     |  +--rw ibgp
       |     |     +--rw maximum-paths?   uint32
       |     +--rw apply-policy
       |     |  +--rw import-policy*           leafref
       |     |  +--rw default-import-policy?   default-policy-type
       |     |  +--rw export-policy*           leafref
       |     |  +--rw default-export-policy?   default-policy-type
       |     +--rw afi-safis
       |        +--rw afi-safi* [name]
       |           +--rw name                       identityref
       |           +--rw enabled?                   boolean
       |           +--rw graceful-restart {bt:graceful-restart}?
       |           |  +--rw enabled?   boolean
       |           +--rw route-selection-options
       |           |  +--rw always-compare-med?           boolean
       |           |  +--rw ignore-as-path-length?        boolean
       |           |  +--rw external-compare-router-id?   boolean
       |           |  +--rw advertise-inactive-routes?    boolean
       |           |  +--rw enable-aigp?                  boolean
       |           |  +--rw ignore-next-hop-igp-metric?   boolean
       |           |  +--rw enable-med?                   boolean
       |           +--rw use-multiple-paths
       |           |  +--rw enabled?   boolean
       |           |  +--rw ebgp
       |           |  |  +--rw allow-multiple-as?   boolean
       |           |  |  +--rw maximum-paths?       uint32
       |           |  +--rw ibgp
       |           |     +--rw maximum-paths?   uint32
       |           +--rw apply-policy
       |           |  +--rw import-policy*           leafref
       |           |  +--rw default-import-policy?
       |           |  |       default-policy-type
       |           |  +--rw export-policy*           leafref
       |           |  +--rw default-export-policy?
       |           |          default-policy-type
       |           +--rw ipv4-unicast
       |           |  +--rw prefix-limit
       |           |  |  +--rw max-prefixes?             uint32
       |           |  |  +--rw shutdown-threshold-pct?
       |           |  |  |       rt-types:percentage
       |           |  |  +--rw restart-timer?            uint32
       |           |  +--rw send-default-route?   boolean
       |           +--rw ipv6-unicast
       |           |  +--rw prefix-limit
       |           |  |  +--rw max-prefixes?             uint32
       |           |  |  +--rw shutdown-threshold-pct?
       |           |  |  |       rt-types:percentage
       |           |  |  +--rw restart-timer?            uint32
       |           |  +--rw send-default-route?   boolean
       |           +--rw ipv4-labeled-unicast
       |           |  +--rw prefix-limit
       |           |     +--rw max-prefixes?             uint32
       |           |     +--rw shutdown-threshold-pct?
       |           |     |       rt-types:percentage
       |           |     +--rw restart-timer?            uint32
       |           +--rw ipv6-labeled-unicast
       |           |  +--rw prefix-limit
       |           |     +--rw max-prefixes?             uint32
       |           |     +--rw shutdown-threshold-pct?
       |           |     |       rt-types:percentage
       |           |     +--rw restart-timer?            uint32
       |           +--rw l3vpn-ipv4-unicast
       |           |  +--rw prefix-limit
       |           |     +--rw max-prefixes?             uint32
       |           |     +--rw shutdown-threshold-pct?
       |           |     |       rt-types:percentage
       |           |     +--rw restart-timer?            uint32
       |           +--rw l3vpn-ipv6-unicast
       |           |  +--rw prefix-limit
       |           |     +--rw max-prefixes?             uint32
       |           |     +--rw shutdown-threshold-pct?
       |           |     |       rt-types:percentage
       |           |     +--rw restart-timer?            uint32
       |           +--rw l3vpn-ipv4-multicast
       |           |  +--rw prefix-limit
       |           |     +--rw max-prefixes?             uint32
       |           |     +--rw shutdown-threshold-pct?
       |           |     |       rt-types:percentage
       |           |     +--rw restart-timer?            uint32
       |           +--rw l3vpn-ipv6-multicast
       |           |  +--rw prefix-limit
       |           |     +--rw max-prefixes?             uint32
       |           |     +--rw shutdown-threshold-pct?
       |           |     |       rt-types:percentage
       |           |     +--rw restart-timer?            uint32
       |           +--rw l2vpn-vpls
       |           |  +--rw prefix-limit
       |           |     +--rw max-prefixes?             uint32
       |           |     +--rw shutdown-threshold-pct?
       |           |     |       rt-types:percentage
       |           |     +--rw restart-timer?            uint32
       |           +--rw l2vpn-evpn
       |              +--rw prefix-limit
       |                 +--rw max-prefixes?             uint32
       |                 +--rw shutdown-threshold-pct?
       |                 |       rt-types:percentage
       |                 +--rw restart-timer?            uint32
       +--rw interfaces
       |  +--rw interface* [name]
       |     +--rw name    if:interface-ref
       |     +--rw bfd {bt:bfd}?
       |        +--rw enabled?                          boolean
       |        +--rw local-multiplier?                 multiplier
       |        +--rw (interval-config-type)?
       |           +--:(tx-rx-intervals)
       |           |  +--rw desired-min-tx-interval?    uint32
       |           |  +--rw required-min-rx-interval?   uint32
       |           +--:(single-interval) {single-minimum-interval}?
       |              +--rw min-interval?               uint32
       +--ro rib
          +--ro attr-sets
          |  +--ro attr-set* [index]
          |     +--ro index         uint64
          |     +--ro attributes
          |        +--ro origin?             bt:bgp-origin-attr-type
          |        +--ro atomic-aggregate?   boolean
          |        +--ro next-hop?           inet:ip-address
          |        +--ro med?                uint32
          |        +--ro local-pref?         uint32
          |        +--ro originator-id?      yang:dotted-quad
          |        +--ro cluster-list*       yang:dotted-quad
          |        +--ro aigp-metric?        uint64
          |        +--ro aggregator
          |        |  +--ro as?        inet:as-number
          |        |  +--ro address?   inet:ipv4-address
          |        +--ro aggregator4
          |        |  +--ro as4?       inet:as-number
          |        |  +--ro address?   inet:ipv4-address
          |        +--ro as-path
          |        |  +--ro segment* []
          |        |     +--ro type?     identityref
          |        |     +--ro member*   inet:as-number
          |        +--ro as4-path
          |           +--ro segment* []
          |              +--ro type?     identityref
          |              +--ro member*   inet:as-number
          +--ro communities
          |  +--ro community* [index]
          |     +--ro index        uint64
          |     +--ro community*   union
          +--ro ext-communities
          |  +--ro ext-community* [index]
          |     +--ro index            uint64
          |     +--ro ext-community*   rt:route-target
          +--ro afi-safis
             +--ro afi-safi* [name]
                +--ro name            identityref
                +--ro ipv4-unicast
                |  +--ro loc-rib
                |  |  +--ro routes
                |  |     +--ro route* [prefix origin path-id]
                |  |     |  +--ro prefix
                |  |     |  |       inet:ipv4-prefix
                |  |     |  +--ro origin                 union
                |  |     |  +--ro path-id                uint32
                |  |     |  +--ro attr-index?            leafref
                |  |     |  +--ro community-index?       leafref
                |  |     |  +--ro ext-community-index?   leafref
                |  |     |  +--ro last-modified?
                |  |     |  |       yang:timeticks
                |  |     |  +--ro eligible-route?        boolean
                |  |     |  +--ro ineligible-reason?     identityref
                |  |     |  +--ro unknown-attributes
                |  |     |  |  +--ro unknown-attribute* [attr-type]
                |  |     |  |     +--ro optional?     boolean
                |  |     |  |     +--ro transitive?   boolean
                |  |     |  |     +--ro partial?      boolean
                |  |     |  |     +--ro extended?     boolean
                |  |     |  |     +--ro attr-type     uint8
                |  |     |  |     +--ro attr-len?     uint16
                |  |     |  |     +--ro attr-value?   binary
                |  |     |  +--ro reject-reason?         union
                |  |     +--ro clear-routes {bt:clear-routes}?
                |  |        +---x clear
                |  |           +---w input
                |  |           |  +---w clear-at?
                |  |           |          yang:date-and-time
                |  |           +--ro output
                |  |              +--ro clear-finished-at?
                |  |                      yang:date-and-time
                |  +--ro neighbors
                |     +--ro neighbor* [neighbor-address]
                |        +--ro neighbor-address    inet:ip-address
                |        +--ro adj-rib-in-pre
                |        |  +--ro routes
                |        |     +--ro route* [prefix path-id]
                |        |     |  +--ro prefix
                |        |     |  |       inet:ipv4-prefix
                |        |     |  +--ro path-id                uint32
                |        |     |  +--ro attr-index?            leafref
                |        |     |  +--ro community-index?       leafref
                |        |     |  +--ro ext-community-index?   leafref
                |        |     |  +--ro last-modified?
                |        |     |  |       yang:timeticks
                |        |     |  +--ro eligible-route?
                |        |     |  |       boolean
                |        |     |  +--ro ineligible-reason?
                |        |     |  |       identityref
                |        |     |  +--ro unknown-attributes
                |        |     |  |  +--ro unknown-attribute*
                |        |     |  |          [attr-type]
                |        |     |  |     +--ro optional?     boolean
                |        |     |  |     +--ro transitive?   boolean
                |        |     |  |     +--ro partial?      boolean
                |        |     |  |     +--ro extended?     boolean
                |        |     |  |     +--ro attr-type     uint8
                |        |     |  |     +--ro attr-len?     uint16
                |        |     |  |     +--ro attr-value?   binary
                |        |     |  +--ro reject-reason?         union
                |        |     +--ro clear-routes {bt:clear-routes}?
                |        |        +---x clear
                |        |           +---w input
                |        |           |  +---w clear-at?
                |        |           |          yang:date-and-time
                |        |           +--ro output
                |        |              +--ro clear-finished-at?
                |        |                      yang:date-and-time
                |        +--ro adj-rib-in-post
                |        |  +--ro routes
                |        |     +--ro route* [prefix path-id]
                |        |        +--ro prefix
                |        |        |       inet:ipv4-prefix
                |        |        +--ro path-id                uint32
                |        |        +--ro attr-index?            leafref
                |        |        +--ro community-index?       leafref
                |        |        +--ro ext-community-index?   leafref
                |        |        +--ro last-modified?
                |        |        |       yang:timeticks
                |        |        +--ro eligible-route?
                |        |        |       boolean
                |        |        +--ro ineligible-reason?
                |        |        |       identityref
                |        |        +--ro best-path?
                |        |        |       boolean
                |        |        +--ro unknown-attributes
                |        |        |  +--ro unknown-attribute*
                |        |        |          [attr-type]
                |        |        |     +--ro optional?     boolean
                |        |        |     +--ro transitive?   boolean
                |        |        |     +--ro partial?      boolean
                |        |        |     +--ro extended?     boolean
                |        |        |     +--ro attr-type     uint8
                |        |        |     +--ro attr-len?     uint16
                |        |        |     +--ro attr-value?   binary
                |        |        +--ro reject-reason?         union
                |        +--ro adj-rib-out-pre
                |        |  +--ro routes
                |        |     +--ro route* [prefix path-id]
                |        |     |  +--ro prefix
                |        |     |  |       inet:ipv4-prefix
                |        |     |  +--ro path-id                uint32
                |        |     |  +--ro attr-index?            leafref
                |        |     |  +--ro community-index?       leafref
                |        |     |  +--ro ext-community-index?   leafref
                |        |     |  +--ro last-modified?
                |        |     |  |       yang:timeticks
                |        |     |  +--ro eligible-route?
                |        |     |  |       boolean
                |        |     |  +--ro ineligible-reason?
                |        |     |  |       identityref
                |        |     |  +--ro unknown-attributes
                |        |     |  |  +--ro unknown-attribute*
                |        |     |  |          [attr-type]
                |        |     |  |     +--ro optional?     boolean
                |        |     |  |     +--ro transitive?   boolean
                |        |     |  |     +--ro partial?      boolean
                |        |     |  |     +--ro extended?     boolean
                |        |     |  |     +--ro attr-type     uint8
                |        |     |  |     +--ro attr-len?     uint16
                |        |     |  |     +--ro attr-value?   binary
                |        |     |  +--ro reject-reason?         union
                |        |     +--ro clear-routes {bt:clear-routes}?
                |        |        +---x clear
                |        |           +---w input
                |        |           |  +---w clear-at?
                |        |           |          yang:date-and-time
                |        |           +--ro output
                |        |              +--ro clear-finished-at?
                |        |                      yang:date-and-time
                |        +--ro adj-rib-out-post
                |           +--ro routes
                |              +--ro route* [prefix path-id]
                |              |  +--ro prefix
                |              |  |       inet:ipv4-prefix
                |              |  +--ro path-id                uint32
                |              |  +--ro attr-index?            leafref
                |              |  +--ro community-index?       leafref
                |              |  +--ro ext-community-index?   leafref
                |              |  +--ro last-modified?
                |              |  |       yang:timeticks
                |              |  +--ro eligible-route?
                |              |  |       boolean
                |              |  +--ro ineligible-reason?
                |              |  |       identityref
                |              |  +--ro unknown-attributes
                |              |  |  +--ro unknown-attribute*
                |              |  |          [attr-type]
                |              |  |     +--ro optional?     boolean
                |              |  |     +--ro transitive?   boolean
                |              |  |     +--ro partial?      boolean
                |              |  |     +--ro extended?     boolean
                |              |  |     +--ro attr-type     uint8
                |              |  |     +--ro attr-len?     uint16
                |              |  |     +--ro attr-value?   binary
                |              |  +--ro reject-reason?         union
                |              +--ro clear-routes {bt:clear-routes}?
                |                 +---x clear
                |                    +---w input
                |                    |  +---w clear-at?
                |                    |          yang:date-and-time
                |                    +--ro output
                |                       +--ro clear-finished-at?
                |                               yang:date-and-time
                +--ro ipv6-unicast
                   +--ro loc-rib
                   |  +--ro routes
                   |     +--ro route* [prefix origin path-id]
                   |     |  +--ro prefix
                   |     |  |       inet:ipv6-prefix
                   |     |  +--ro origin                 union
                   |     |  +--ro path-id                uint32
                   |     |  +--ro attr-index?            leafref
                   |     |  +--ro community-index?       leafref
                   |     |  +--ro ext-community-index?   leafref
                   |     |  +--ro last-modified?
                   |     |  |       yang:timeticks
                   |     |  +--ro eligible-route?        boolean
                   |     |  +--ro ineligible-reason?     identityref
                   |     |  +--ro unknown-attributes
                   |     |  |  +--ro unknown-attribute* [attr-type]
                   |     |  |     +--ro optional?     boolean
                   |     |  |     +--ro transitive?   boolean
                   |     |  |     +--ro partial?      boolean
                   |     |  |     +--ro extended?     boolean
                   |     |  |     +--ro attr-type     uint8
                   |     |  |     +--ro attr-len?     uint16
                   |     |  |     +--ro attr-value?   binary
                   |     |  +--ro reject-reason?         union
                   |     +--ro clear-routes {bt:clear-routes}?
                   |        +---x clear
                   |           +---w input
                   |           |  +---w clear-at?
                   |           |          yang:date-and-time
                   |           +--ro output
                   |              +--ro clear-finished-at?
                   |                      yang:date-and-time
                   +--ro neighbors
                      +--ro neighbor* [neighbor-address]
                         +--ro neighbor-address    inet:ip-address
                         +--ro adj-rib-in-pre
                         |  +--ro routes
                         |     +--ro route* [prefix path-id]
                         |     |  +--ro prefix
                         |     |  |       inet:ipv6-prefix
                         |     |  +--ro path-id                uint32
                         |     |  +--ro attr-index?            leafref
                         |     |  +--ro community-index?       leafref
                         |     |  +--ro ext-community-index?   leafref
                         |     |  +--ro last-modified?
                         |     |  |       yang:timeticks
                         |     |  +--ro eligible-route?
                         |     |  |       boolean
                         |     |  +--ro ineligible-reason?
                         |     |  |       identityref
                         |     |  +--ro unknown-attributes
                         |     |  |  +--ro unknown-attribute*
                         |     |  |          [attr-type]
                         |     |  |     +--ro optional?     boolean
                         |     |  |     +--ro transitive?   boolean
                         |     |  |     +--ro partial?      boolean
                         |     |  |     +--ro extended?     boolean
                         |     |  |     +--ro attr-type     uint8
                         |     |  |     +--ro attr-len?     uint16
                         |     |  |     +--ro attr-value?   binary
                         |     |  +--ro reject-reason?         union
                         |     +--ro clear-routes {bt:clear-routes}?
                         |        +---x clear
                         |           +---w input
                         |           |  +---w clear-at?
                         |           |          yang:date-and-time
                         |           +--ro output
                         |              +--ro clear-finished-at?
                         |                      yang:date-and-time
                         +--ro adj-rib-in-post
                         |  +--ro routes
                         |     +--ro route* [prefix path-id]
                         |        +--ro prefix
                         |        |       inet:ipv6-prefix
                         |        +--ro path-id                uint32
                         |        +--ro attr-index?            leafref
                         |        +--ro community-index?       leafref
                         |        +--ro ext-community-index?   leafref
                         |        +--ro last-modified?
                         |        |       yang:timeticks
                         |        +--ro eligible-route?
                         |        |       boolean
                         |        +--ro ineligible-reason?
                         |        |       identityref
                         |        +--ro best-path?
                         |        |       boolean
                         |        +--ro unknown-attributes
                         |        |  +--ro unknown-attribute*
                         |        |          [attr-type]
                         |        |     +--ro optional?     boolean
                         |        |     +--ro transitive?   boolean
                         |        |     +--ro partial?      boolean
                         |        |     +--ro extended?     boolean
                         |        |     +--ro attr-type     uint8
                         |        |     +--ro attr-len?     uint16
                         |        |     +--ro attr-value?   binary
                         |        +--ro reject-reason?         union
                         +--ro adj-rib-out-pre
                         |  +--ro routes
                         |     +--ro route* [prefix path-id]
                         |     |  +--ro prefix
                         |     |  |       inet:ipv6-prefix
                         |     |  +--ro path-id                uint32
                         |     |  +--ro attr-index?            leafref
                         |     |  +--ro community-index?       leafref
                         |     |  +--ro ext-community-index?   leafref
                         |     |  +--ro last-modified?
                         |     |  |       yang:timeticks
                         |     |  +--ro eligible-route?
                         |     |  |       boolean
                         |     |  +--ro ineligible-reason?
                         |     |  |       identityref
                         |     |  +--ro unknown-attributes
                         |     |  |  +--ro unknown-attribute*
                         |     |  |          [attr-type]
                         |     |  |     +--ro optional?     boolean
                         |     |  |     +--ro transitive?   boolean
                         |     |  |     +--ro partial?      boolean
                         |     |  |     +--ro extended?     boolean
                         |     |  |     +--ro attr-type     uint8
                         |     |  |     +--ro attr-len?     uint16
                         |     |  |     +--ro attr-value?   binary
                         |     |  +--ro reject-reason?         union
                         |     +--ro clear-routes {bt:clear-routes}?
                         |        +---x clear
                         |           +---w input
                         |           |  +---w clear-at?
                         |           |          yang:date-and-time
                         |           +--ro output
                         |              +--ro clear-finished-at?
                         |                      yang:date-and-time
                         +--ro adj-rib-out-post
                            +--ro routes
                               +--ro route* [prefix path-id]
                               |  +--ro prefix
                               |  |       inet:ipv6-prefix
                               |  +--ro path-id                uint32
                               |  +--ro attr-index?            leafref
                               |  +--ro community-index?       leafref
                               |  +--ro ext-community-index?   leafref
                               |  +--ro last-modified?
                               |  |       yang:timeticks
                               |  +--ro eligible-route?
                               |  |       boolean
                               |  +--ro ineligible-reason?
                               |  |       identityref
                               |  +--ro unknown-attributes
                               |  |  +--ro unknown-attribute*
                               |  |          [attr-type]
                               |  |     +--ro optional?     boolean
                               |  |     +--ro transitive?   boolean
                               |  |     +--ro partial?      boolean
                               |  |     +--ro extended?     boolean
                               |  |     +--ro attr-type     uint8
                               |  |     +--ro attr-len?     uint16
                               |  |     +--ro attr-value?   binary
                               |  +--ro reject-reason?         union
                               +--ro clear-routes {bt:clear-routes}?
                                  +---x clear
                                     +---w input
                                     |  +---w clear-at?
                                     |          yang:date-and-time
                                     +--ro output
                                        +--ro clear-finished-at?
                                                yang:date-and-time

</pre><a href="#appendix-D-2" class="pilcrow">¶</a>
</div>
</section>
<div id="authors-addresses">
<section id="appendix-E">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mahesh Jethanandani</span></div>
<div dir="auto" class="left"><span class="org">Kloud Services</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mjethanandani@gmail.com" class="email">mjethanandani@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Keyur Patel</span></div>
<div dir="auto" class="left"><span class="org">Arrcus</span></div>
<div dir="auto" class="left">
<span class="region">CA</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:keyur@arrcus.com" class="email">keyur@arrcus.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Susan Hares</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="street-address">7453 Hickory Hill</span></div>
<div dir="auto" class="left">
<span class="locality">Saline</span>, <span class="region">MI</span> <span class="postal-code">48176</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:shares@ndzh.com" class="email">shares@ndzh.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jeffrey Haas</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jhaas@pfrc.org" class="email">jhaas@pfrc.org</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
