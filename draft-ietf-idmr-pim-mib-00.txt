    IDMR Working Group                                   Keith McCloghrie
    INTERNET-DRAFT                                         Dino Farinacci
    Expires January 1995                                    Cisco Systems
                                                             15 July 1994


                       Protocol Independent Multicast MIB
                        <draft-ietf-idmr-pim-mib-00.txt>




    Status of this Memo

    This document is an Internet Draft.  Internet Drafts are working
    documents of the Internet Engineering Task Force (IETF), its Areas, and
    its Working Groups.  Note that other groups may also distribute working
    documents as Internet Drafts.

    Internet Drafts are valid for a maximum of six months and may be
    updated, replaced, or obsoleted by other documents at any time.  It is
    inappropriate to use Internet Drafts as reference material or to cite
    them other than as a "work in progress".


    1.  Introduction

    This memo defines an experimental portion of the Management Information
    Base (MIB) for use with network management protocols in the Internet
    community.  In particular, it describes managed objects used for
    managing the Protocol Independent Multicast (PIM) protocol [5,6,7].
    This MIB module is applicable to IP multicast routers which implement
    PIM.






















    Draft                           PIM MIB                        July 1994


    2.  The SNMPv2 Network Management Framework

    The SNMPv2 Network Management Framework consists of four major
    components.  They are:

    o    RFC 1442 [1] which defines the SMI, the mechanisms used for
         describing and naming objects for the purpose of management.

    o    STD 17, RFC 1213 [2] defines MIB-II, the core set of managed
         objects for the Internet suite of protocols.

    o    RFC 1445 [3] which defines the administrative and other
         architectural aspects of the framework.

    o    RFC 1448 [4] which defines the protocol used for network access to
         managed objects.

    The Framework permits new objects to be defined for the purpose of
    experimentation and evaluation.


    2.1.  Object Definitions

    Managed objects are accessed via a virtual information store, termed the
    Management Information Base or MIB.  Objects in the MIB are defined
    using the subset of Abstract Syntax Notation One (ASN.1) defined in the
    SMI.  In particular, each object type is named by an OBJECT IDENTIFIER,
    an administratively assigned name.  The object type together with an
    object instance serves to uniquely identify a specific instantiation of
    the object.  For human convenience, we often use a textual string,
    termed the descriptor, to refer to the object type.


    3.  Overview

    This MIB module contains one scalar and three tables.  The tables are:

    (1)  the PIM Interface Table which contains one row for each of the
         router's PIM interfaces;

    (2)  the PIM Neighbor Table which contains one row for each of the
         router's PIM neighbors; and

    (3)  the PIM Group Table which contains PIM information for IP multicast
         groups.





    Expires 15 January 1994                                         [Page 2]





    Draft                           PIM MIB                        July 1994


    4.  Definitions

    PIM-MIB DEFINITIONS ::= BEGIN

    IMPORTS
        MODULE-IDENTITY, OBJECT-TYPE, experimental,
        Integer32, IpAddress, TimeTicks  FROM SNMPv2-SMI
        RowStatus                        FROM SNMPv2-TC
        MODULE-COMPLIANCE, OBJECT-GROUP  FROM SNMPv2-CONF;

    pimMIB MODULE-IDENTITY
        LAST-UPDATED "9407152359Z"
        ORGANIZATION "IETF IDMR Working Group."
        CONTACT-INFO
                " Keith McCloghrie
                  cisco Systems, Inc.
                  1525 O'Brien Dr.
                  Menlo Park, CA 94025
                  EMail: kzm@cisco.com"
        DESCRIPTION
                "The MIB module for management of PIM routers."
        ::= { experimental xx }

    pimMIBObjects OBJECT IDENTIFIER ::= { pimMIB 1 }

    pim           OBJECT IDENTIFIER ::= { pimMIBObjects 1 }


    pimMessageInterval OBJECT-TYPE
        SYNTAX     Integer32
        UNITS      "seconds"
        MAX-ACCESS read-write
        STATUS     current
        DESCRIPTION

                "The interval at which PIM sparse-mode messages are to be
                sent."
        ::= { pim 1 }












    Expires 15 January 1994                                         [Page 3]





    Draft                           PIM MIB                        July 1994


    -- The PIM Interface Table

    pimInterfaceTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF PimInterfaceEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table listing the router's PIM interfaces.
                IGMP and PIM are enabled on all interfaces listed in this
                table."
        ::= { pim 2 }

    pimInterfaceEntry OBJECT-TYPE
        SYNTAX     PimInterfaceEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) in the pimInterfaceTable."
        INDEX      { pimInterfaceIfIndex }
        ::= { pimInterfaceTable 1 }

    PimInterfaceEntry ::= SEQUENCE {
        pimInterfaceIfIndex            Integer32,
        pimInterfaceAddress            IpAddress,
        pimInterfaceNetMask            IpAddress,
        pimInterfaceMode               INTEGER,
        pimInterfaceDR                 IpAddress,
        pimInterfaceQueryInterval      Integer32,
        pimInterfaceStatus             RowStatus
    }

    pimInterfaceIfIndex OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The ifIndex value of this PIM interface."
        ::= { pimInterfaceEntry 1 }

    pimInterfaceAddress OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The IP address of the PIM interface."





    Expires 15 January 1994                                         [Page 4]





    Draft                           PIM MIB                        July 1994


        ::= { pimInterfaceEntry 2 }

    pimInterfaceNetMask OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The network mask for the IP address of the PIM interface."
        ::= { pimInterfaceEntry 3 }

    pimInterfaceMode OBJECT-TYPE
        SYNTAX     INTEGER { dense(1), sparse(2) }
        MAX-ACCESS read-create
        STATUS     current
        DESCRIPTION
                "The configured mode of this PIM interface."
        DEFVAL     { dense }
        ::= { pimInterfaceEntry 4 }

    pimInterfaceDR OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The Designated Router on this PIM interface.  For point-
                to-point interfaces, this object has the value 0.0.0.0."
        ::= { pimInterfaceEntry 5 }

    pimInterfaceQueryInterval OBJECT-TYPE
        SYNTAX     Integer32
        UNITS      "seconds"
        MAX-ACCESS read-create
        STATUS     current
        DESCRIPTION
                "The frequency at which PIM Router-Query messages are
                transmitted on this PIM interface."
        DEFVAL     { 30 }
        ::= { pimInterfaceEntry 6 }

    pimInterfaceStatus OBJECT-TYPE
        SYNTAX     RowStatus
        MAX-ACCESS read-create
        STATUS     current
        DESCRIPTION
                "The status of this entry.  Creating the entry enables PIM





    Expires 15 January 1994                                         [Page 5]





    Draft                           PIM MIB                        July 1994


                on the interface; destroying the entry diables PIM on the
                interface."
        ::= { pimInterfaceEntry 7 }


    -- The PIM Neighbor Table

    pimNeighborTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF PimNeighborEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table listing the router's PIM neighbors."
        ::= { pim 3 }

    pimNeighborEntry OBJECT-TYPE
        SYNTAX     PimNeighborEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) in the pimNeighborTable."
        INDEX      { pimNeighborAddress }
        ::= { pimNeighborTable 1 }

    PimNeighborEntry ::= SEQUENCE {
        pimNeighborAddress      IpAddress,
        pimNeighborIfIndex      Integer32,
        pimNeighborUpTime       TimeTicks,
        pimNeighborExpiryTime   TimeTicks
    }

    pimNeighborAddress OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The IP address of the PIM neighbor for which this entry
                contains information."
        ::= { pimNeighborEntry 1 }

    pimNeighborIfIndex OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION





    Expires 15 January 1994                                         [Page 6]





    Draft                           PIM MIB                        July 1994


                "The value of ifIndex for the interface used to reach this
                PIM neighbor."
        ::= { pimNeighborEntry 2 }

    pimNeighborUpTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The time since this PIM neighbor (last) became a neighbor
                of the local router."
        ::= { pimNeighborEntry 3 }

    pimNeighborExpiryTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The minimum time remaining before this PIM neighbor will be
                aged out."
        ::= { pimNeighborEntry 4 }



    -- The PIM Group Table

    pimGroupTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF PimGroupEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table listing PIM information for IP
                multicast groups."
        ::= { pim 4 }
















    Expires 15 January 1994                                         [Page 7]





    Draft                           PIM MIB                        July 1994


    pimGroupEntry OBJECT-TYPE
        SYNTAX     PimGroupEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) in the pimGroupTable."
        INDEX      { pimGroupAddress }
        ::= { pimGroupTable 1 }

    PimGroupEntry ::= SEQUENCE {
        pimGroupAddress      IpAddress,
        pimGroupRP           IpAddress,
        pimGroupMode         INTEGER
    }

    pimGroupAddress OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The IP multicast group address for which this entry
                contains information."
        ::= { pimGroupEntry 1 }

    pimGroupRP OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS read-write
        STATUS     current
        DESCRIPTION
                "The Rendezvous Point address known by this router.  If no
                RP is known, this object will have the value 0.0.0.0."
        ::= { pimGroupEntry 2 }

    pimGroupMode OBJECT-TYPE
        SYNTAX     INTEGER { dense(1), sparse(2) }
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The active PIM mode of this group, as learned by the
                router."
        ::= { pimGroupEntry 3 }









    Expires 15 January 1994                                         [Page 8]





    Draft                           PIM MIB                        July 1994


    -- conformance information

    pimMIBConformance OBJECT IDENTIFIER ::= { pimMIB 2 }
    pimMIBCompliances OBJECT IDENTIFIER ::= { pimMIBConformance 1 }
    pimMIBGroups      OBJECT IDENTIFIER ::= { pimMIBConformance 2 }


    -- compliance statements

    pimMIBCompliance MODULE-COMPLIANCE
        STATUS  current
        DESCRIPTION
                "The compliance statement for the PIM MIB."
        MODULE  -- this module
            MANDATORY-GROUPS { pimMIBGroup }

        ::= { pimMIBCompliances 1 }


    -- units of conformance

    pimMIBGroup OBJECT-GROUP
        OBJECTS { pimMessageInterval, pimNeighborIfIndex,
                  pimNeighborUpTime, pimNeighborExpiryTime,
                  pimInterfaceAddress, pimInterfaceNetMask,
                  pimInterfaceMode, pimInterfaceDR,
                  pimInterfaceQueryInterval,
                  pimGroupRP, pimGroupMode
                }
        STATUS  current
        DESCRIPTION
                "A collection of objects to support management of PIM
                routers."
        ::= { pimMIBGroups 1 }

    END














    Expires 15 January 1994                                         [Page 9]





    Draft                           PIM MIB                        July 1994


    5.  Acknowledgements

    This MIB module will be presented to the IETF's Inter-Domain Multicast
    Routing (IDMR) Working Group.



    6.  References

    [1]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Structure
         of Management Information for version 2 of the Simple Network
         Management Protocol (SNMPv2)", RFC 1442, SNMP Research,Inc., Hughes
         LAN Systems, Dover Beach Consulting, Inc., Carnegie Mellon
         University, April 1993.

    [2]  McCloghrie, K., and M. Rose, Editors, "Management Information Base
         for Network Management of TCP/IP-based internets: MIB-II", STD 17,
         RFC 1213, Hughes LAN Systems, Performance Systems International,
         March 1991.

    [3]  Galvin, J., and K. McCloghrie, "Administrative Model for version 2
         of the Simple Network Management Protocol (SNMPv2)", RFC 1445,
         Trusted Information Systems, Hughes LAN Systems, April 1993.

    [4]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Protocol
         Operations for version 2 of the Simple Network Management Protocol
         (SNMPv2)", RFC 1448, SNMP Research,Inc., Hughes LAN Systems, Dover
         Beach Consulting, Inc., Carnegie Mellon University, April 1993.

    [5]  Deering, S., Estrin, D., Farinacci, D., Jacobson, V., Liu, G., and
         L. Wei, "Protocol Independent Multicast: Motivation and
         Architecture", March 1994.

    [6]  Deering, S., Estrin, D., Farinacci, D., Jacobson, V., Liu, G., and
         L. Wei, "Protocol Independent Multicast: Dense Mode Protocol
         Specification", March 1994.

    [7]  Deering, S., Estrin, D., Farinacci, D., Jacobson, V., Liu, G., and
         L. Wei, "Protocol Independent Multicast: Sparse Mode Protocol
         Specification", March 1994.










    Expires 15 January 1994                                        [Page 10]





    Draft                           PIM MIB                        July 1994


    7.  Security Considerations

    Security issues are not discussed in this memo.



    8.  Author's Address

         Keith McCloghrie
         cisco Systems, Inc.
         1525 O'Brien Dr.
         Menlo Park, CA 94025
         Phone: (415) 324-5260
         EMail: kzm@cisco.com

         Dino Farinacci
         cisco Systems, Inc.
         1525 O'Brien Dr.
         Menlo Park, CA 94025
         Phone: (415) 688-4696
         EMail: dino@cisco.com





























    Expires 15 January 1994                                        [Page 11]





    Draft                           PIM MIB                        July 1994


    Table of Contents


    1 Introduction ....................................................    1
    2 The SNMPv2 Network Management Framework .........................    2
    2.1 Object Definitions ............................................    2
    3 Overview ........................................................    2
    4 Definitions .....................................................    3
    5 Acknowledgements ................................................   10
    6 References ......................................................   10
    7 Security Considerations .........................................   11
    8 Author's Address ................................................   11






































    Expires 15 January 1994                                        [Page 12]


