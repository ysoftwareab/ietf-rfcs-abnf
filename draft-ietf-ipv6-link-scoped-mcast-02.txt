





INTERNET DRAFT                                             Jung-Soo Park
Expires: April 2003                                        Myung-Ki Shin
                                                                    ETRI
                                                            October 2002


                  Link Scoped IPv6 Multicast Addresses
               <draft-ietf-ipv6-link-scoped-mcast-02.txt>


Status of this Memo

     This document is an Internet-Draft and is in full conformance with
     all provisions of Section 10 of RFC2026.

     Internet-Drafts are working documents of the Internet Engineering
     Task Force (IETF), its areas, and working groups. Note that other
     groups may also distribute working documents as Internet-Drafts.

     Internet-Drafts are draft documents valid for a maximum of six
     months and may be updated, replaced, or made obsolete by other documents
     at anytime. It is inappropriate to use Internet-Drafts as reference
     material or to cite them other than as "works in progress."

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt.

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


Abstract

     This document specifies an extension to the multicast addressing
     architecture of the IPv6 protocol.  The extension allows for the 
     use of interface-IDs to allocate multicast addresses.  When the 
     link-local unicast address is configured at each interface of a host, 
     an interface ID is uniquely determined.  By delegating multicast 
     addresses at the same time as the interface ID, each host can identify 
     their multicast addresses automatically at Layer 1 without running 
     an intra- or inter-domain allocation protocol in serverless 
     environments.



Table of Contents:

     1. Introduction
     2. Terminology
     3. Applicability
     4. Link scoped multicast address format
     5. Source-specific multicast addresses



Park, Shin                Expires  April  2003                   [Page 1]


Internet-Draft    Link scoped IPv6 Multicast Addresses      October 2002


     6. Examples
     7. Considerations
     8. Security considerations
     9. References
    10. Acknowledgements


1. Introduction

     This specification defines an extension to the multicast portion of
     the IPv6 addressing architecture [ADDRARCH].  The current
     architecture does not contain any built-in support for dynamic
     address allocation.  The extension allows for use of interface-IDs to
     allocate multicast addresses.  When the link-local unicast address
     is configured at each interface of a host, an interface ID is uniquely
     determined.  By delegating multicast addresses at the same time as
     the interface ID, each host can identify its multicast addresses
     automatically without running an intra- or inter-domain allocation 
     protocol in serveless environments.

     The current multicast address allocation architecture [RFC 2908] is
     based on a multi-layered, multi-protocol system.  The goal of this
     proposal is to reduce the number of protocols and servers to get 
     dynamic multicast address allocation.

     The use of interface ID-based multicast address allocation will, at
     a minimum, remove the need to run the Multicast Address Allocation
     Protocol (AAP) [AAP WORK][RFC 2909] and the Multicast Address
     Allocation servers [RFC 2908].

     This document specifies encoded information in the link scoped 
     multicast address to allow for dynamic allocation of IPv6 multicast
     addresses.


2. Terminology

     The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
     "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
     this document are to be interpreted as described in [RFC 2119].


3. Applicability
     The allocation technique in this document is designed to be used in
     any environment in which link-local scope IPv6 multicast addresses 
     are assigned or selected. Especially, this method goes well with 
     nodes supplying multicast services in a zeroconf environment. For 
     example, multicast addresses less than or equal to link-local scope 
     are themselves generated by nodes supplying multicast services.
     
     Consequently, this technique is limited to use by multicast scope.
     If you want to use multicast addresses greater than link-local, you
     need other methods.
      
     
 
Park, Shin                Expires  April  2003                   [Page 2]


Internet-Draft     Link scoped IPv6 Multicast Addresses     October 2002


4. Link scoped multicast address format

     Section 2.7 of [ADDRARCH] defines the following operational format
     of IPv6 multicast addresses:
     

     |    8   |  4 |  4 |                     112                     |
     +--------+----+----+---------------------------------------------+
     |11111111|flgs|scop|                  group ID                   |
     +--------+----+----+---------------------------------------------+

              Figure 1:  Generic IPv6 multicast address format


     This document introduces new formats that incorporate interface ID
     information in the multicast address.  The idea of delegating
     multicast addresses at the same time as the interface ID, can be
     applicable to link-local. 

     Figure 2  illustrates the new format for link-local multicast
     addresses.


     |   8    | 4  | 4  |     16     |       64       |       32      |
     +--------+----+----+------------+----------------+---------------+
     |11111111|flgs|scop|  reserved  |  Interface ID  |    group ID   |
     +--------+----+----+------------+----------------+---------------+

       Figure 2: link scoped multicast address format


                                     +-+-+-+-+ 
     flgs is a set of 4 flags:       |0|0|P|T|
                                     +-+-+-+-+

         o P = 0 indicates a multicast address that is not assigned
                 on the basis of the interface ID.
         o P = 1 indicates a multicast address that is assigned
                 on the basis of the interface ID.
         o If P = 1, T MUST be set to 1, otherwise the setting of
                     the T bit is defined in Section 2.7 of RFC 2373.

     flgs should use the same flag defined in section 3 of [UNIMULTI].
     That is, this document proposes the third bit of 'flgs' field to
     indicates an Interface ID-based multicast addresses. Additionally, 
     it is necessary to distinguish between an Inteface ID-based multicast 
     address and a unicast-prefix-based multicast address.

     scop <= 2. The scope of this multicast address MUST be independent 
     of the scope of the unicast address, which derives the interface ID 
     embedded in the multicast address.

     The reserved field MUST be zero.



Park, Shin                Expires  April  2003                   [Page 3]


Internet-Draft     Link scoped IPv6 Multicast Addresses     October 2002


     interface ID field is used to distinguish each host from others.
     And this value is obtained from the IEEE EUI-64 based interface 
     identifier of the link-local unicast IPv6 address.

     group ID is generated to indicate multicast application and is used
     to guarantee its uniqueness only in the host. It may also be set on 
     the basis of the guidelines outlined in [IPV6 GID].

     The lifetime of an Interface ID-based multicast address has no 
     dependency on the Valid Lifetime field in the Prefix Information 
     option, corresponding to the unicast address being used, contained 
     in the Router Advertisement message [RFC 2461].
   
5. Source-specific multicast addresses

     The link scoped multicast address format supports source-specific 
     multicast addresses, as defined by [SSM ARCH].  To accomplish this, 
     a node MUST: 
    
           o Set P = 1. 
           o Set interface ID = 0. 
    
     These settings create an SSM range of FF32::/96.  The source address 
     field in the IPv6 header identifies the owner of the multicast 
     address. 
   
6. Examples

     This is an example of an interface ID-based multicast address with
     link-local scope. For example in an ethernet environment, if the  
     link-local unicast address is FE80::12:34:56:78:90:AB, 
     the mutlicast prefix of the host is FF32:0:1234:56FF:FE78:90AB::/96.
     For SSM, multicast adrress will be FF32::/96.
          
7. Considerations

     This draft considers only link-local multicast addresses. For
     this purpose, P flag is used in figure 2. The [UNIMULTI] draft also 
     uses the P flag to indicate a multicast address that is assigned on 
     the basis of the network prefix. For consistency, some modifications 
     in the [UNIMULTI] draft are required. For example, by restrictng the 
     syntax to scope > 2 in [UNIMULTI].

8. Security considerations

     [RFC3041] describes the privacy extension to IPv6 stateless 
     address autoconfiguration for an interface ID. So, [RFC3041] 
     satisfied our requirements.
     
     Using source-specific multicast addresses can sometimes aid in the 
     prevention of denial-of-service attacks by arbitrary sources, 
     although no guarantee is provided.  A more in-depth discussion of 
     the security considerations for SSM can be found in [SSM ARCH]. 



Park, Shin                Expires  April  2003                   [Page 4]


Internet-Draft     Link scoped IPv6 Multicast Addresses     October 2002

   
9. References

[RFC 2373]
     R. Hinden and S. Deering, "IP Version 6 Addressing Architecture",
     RFC 2373, October 1998.

[RFC 2461]
     Narten, T., Nordmark, E., Simpson, W., "Neighbor Discovery for IP
     Version 6 (IPv6)", RFC 2461, December 1998.
     
[RFC 2908]
     D. Thaler, M. Handley and D. Estrin, "Th Internet Multicast Address
     Allocation Architecture," RFC2908, September 2000.

[RFC 2909]
     Radoslavov, P., Estrin, D., Govindan, R., Handley, M., Kumar, S.
     and D. Thaler, "The Multicast Address-Set Claim (MASC) Protocol",
     RFC 2909, September 2000.

[RFC 3041]
     T. Narten and R. Draves, "Privacy Extensions for Stateless Address
     Autoconfiguration in IPv6," RFC 3041, April 2001.
     
[AAP WORK]
     Handley, M. and S. Hanna, "Multicast Address Allocation Protocol
     (AAP)", Work in Progress.

[ADDRARCH]
     R. Hinden and S. Deering, "IP Version 6 Addressing Architecture",
     Work In Progress, October 2001.

[UNIMULTI]
     B. Haberman and D. Thaler, "Unicast-Prefix-based IPv6 Multicast
     Addresses," Work In Progress, December 2001.

[IPV6 GID]
     B. Haberman, "Dynamic Allocation Guidelines for IPv6 Multicast
     Addresses," Work In Progress, October 2001.

[SSM ARCH] 
     H. Holbrook and B. Cain, "Source-Specific Multicast for IP", 
     Work In Progress, March 2001.     
 
     
10. Acknowledgements

     We would like to thank Dave Thaler for his comments related to the
     consistency between the unicast prefix-based multicast draft and
     this one.







Park, Shin                Expires  April  2003                   [Page 5]


Internet-Draft     Link scoped IPv6 Multicast Addresses     October 2002


Authors Addresses

  Jung-Soo Park
  ETRI PEC
  161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
  Tel : +82 42 860 6514
  Fax : +82 42 861 5404
  E-mail : jspark@pec.etri.re.kr
  
  Myung-Ki Shin
  ETRI PEC
  161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
  Tel : +82 42 860 4847
  Fax : +82 42 861 5404
  E-mail : mkshin@pec.etri.re.kr

 
 
 
 
 
 
  

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
Park, Shin                Expires  April  2003                   [Page 6]