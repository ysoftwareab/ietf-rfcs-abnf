<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>RPL Objective Function 0</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Goal">
<link href="#rfc.section.4" rel="Chapter" title="4 Selection of the Preferred Parent">
<link href="#rfc.section.5" rel="Chapter" title="5 Selection of the Backup next_hop">
<link href="#rfc.section.6" rel="Chapter" title="6 Abstract Interface with RPL core">
<link href="#rfc.section.7" rel="Chapter" title="7 OF0 Constants and Variables">
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Considerations">
<link href="#rfc.section.9" rel="Chapter" title="9 Security Considerations">
<link href="#rfc.section.10" rel="Chapter" title="10 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="11 References">
<link href="#rfc.references.1" rel="Chapter" title="11.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="11.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="The Routing Protocol for Low Power and Lossy Networks (RPL) defines a generic Distance Vector protocol for Low Power and Lossy Networks (LLNs). RPL is instantiated to honor a particular routing objective/constraint by the adding a specific Objective Function (OF) that is designed to solve that problem. This specification defines a basic OF, OF0, that uses only the abstract properties exposed in RPL messages with no metric container.  " />
  <meta name="description" content="The Routing Protocol for Low Power and Lossy Networks (RPL) defines a generic Distance Vector protocol for Low Power and Lossy Networks (LLNs). RPL is instantiated to honor a particular routing objective/constraint by the adding a specific Objective Function (OF) that is designed to solve that problem. This specification defines a basic OF, OF0, that uses only the abstract properties exposed in RPL messages with no metric container.  " />
  <meta name="keywords" content="Draft" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">ROLL</td>
<td class="right">P. Thubert, Ed.</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Cisco Systems</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">March 13, 2011</td>
</tr>
<tr>
<td class="left">Expires: September 14, 2011</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">RPL Objective Function 0<br />
  <span class="filename">draft-ietf-roll-of0-06</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>The Routing Protocol for Low Power and Lossy Networks (RPL) defines a generic Distance Vector protocol for Low Power and Lossy Networks (LLNs). RPL is instantiated to honor a particular routing objective/constraint by the adding a specific Objective Function (OF) that is designed to solve that problem. This specification defines a basic OF, OF0, that uses only the abstract properties exposed in RPL messages with no metric container.  </p>
<h1><a>Requirements Language</a></h1>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 14, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Goal</a>
</li>
<li>4.   <a href="#rfc.section.4">Selection of the Preferred Parent</a>
</li>
<li>5.   <a href="#rfc.section.5">Selection of the Backup next_hop</a>
</li>
<li>6.   <a href="#rfc.section.6">Abstract Interface with RPL core</a>
</li>
<li>7.   <a href="#rfc.section.7">OF0 Constants and Variables</a>
</li>
<li>8.   <a href="#rfc.section.8">IANA Considerations</a>
</li>
<li>9.   <a href="#rfc.section.9">Security Considerations</a>
</li>
<li>10.   <a href="#rfc.section.10">Acknowledgements</a>
</li>
<li>11.   <a href="#rfc.references">References</a>
</li>
<li>11.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>11.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">The IETF ROLL Working Group has defined application-specific routing requirements for a Low Power and Lossy Network (LLN) routing protocol, specified in <a href="#I-D.ietf-roll-building-routing-reqs">[I-D.ietf-roll-building-routing-reqs]</a>, <a href="#I-D.ietf-roll-home-routing-reqs">[I-D.ietf-roll-home-routing-reqs]</a>, <a href="#RFC5673">[RFC5673]</a>, and <a href="#RFC5548">[RFC5548]</a>.  </p>
<p id="rfc.section.1.p.2">Considering the wide variety of use cases, link types and metrics, <a href="#I-D.ietf-roll-rpl">the Routing Protocol for Low Power and Lossy Networks </a> <cite title="NONE">[I-D.ietf-roll-rpl]</cite> was designed as a generic core that is agnostic to metrics and instantiated using Objective Functions.</p>
<p id="rfc.section.1.p.3">RPL forms Destination Oriented Directed Acyclic Graphs (DODAGs) within instances of the protocol, each instance being set up to honor a particular routing objective/constraint of a given deployment.  This instantiation is achieved by plugging into the RPL core a specific Objective Function (OF) that is designed to solve that problem to be addressed by that instance.</p>
<p id="rfc.section.1.p.4">An Objective Function selects the DODAG version that a device joins, and a number of neighbor routers within that version as parents and siblings.  The OF is also responsible for computing the Rank of the device, that abstracts a relative position within the DODAG and is used by the RPL core to enable a degree of loop avoidance and verify forward progression towards a destination, as specified in <a href="#I-D.ietf-roll-rpl">[I-D.ietf-roll-rpl]</a>.</p>
<p id="rfc.section.1.p.5">Since there is no default OF or metric container in the RPL main specification, it might happen that, unless given two implementations follow a same guidance for a specific problem or environment, those implementations will not support a common OF with which they could interoperate.  This specification fills the need for an Objective Function that can be used as a common denominator between all generic implementations.  This is why OF0 is very abstract as to how the link properties are transformed into a Rank, giving only normalized values for what a normal link and what the acceptable range is for a step of Rank are, as opposed to formulating the details of the step of Rank computation.  </p>
<p id="rfc.section.1.p.6">Indeed, it is the general design in RPL that the metrics are passed from parent to children in a specific container and that the OF will derive the Rank from the natural metric. The separation of Rank and metrics avoids a loss of information as the various metrics are propagated down the DAG.  This specification can be used when the link properties that are considered are such that they can be turned in a scalar step of Rank in a reversible fashion and the resulting step of rank is additive over multiple hops. </p>
<p id="rfc.section.1.p.7">The Objective Function 0 (OF0) corresponds to the Objective Code Point 0 (OCP0).  OF0 does not leverage metric containers such as described in <a href="#I-D.ietf-roll-routing-metrics">the metrics draft</a> <cite title="NONE">[I-D.ietf-roll-routing-metrics]</cite>.  OF0 does not require information in the RPL messages but the abstract information from the DIO base container, such as Rank and an administrative preference, that is transported in DIOs as DODAGPreference in <a href="#I-D.ietf-roll-rpl">[I-D.ietf-roll-rpl]</a>.  The Rank of a node is obtained by adding a step of Rank multiplied by a Rank Factor to the Rank of a selected preferred parent.  OF0 uses a MinHopRankIncrease of 0x100 so that Rank value can be stored in one octet.  This allows up to at least 28 hops even when each hop has the worst step of Rank of 9 and a Rank Factor of 1.  How the link properties are transformed into a step of Rank for a given hop depends on the link type and on the implementation. It can be as simple as an administrative cost, but might also derive from a statistical metric with some hysteresis.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#Terminology" id="Terminology">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The terminology used in this document is consistent with and incorporates that described in `Terminology in Low power And Lossy Networks' <a href="#I-D.ietf-roll-terminology">[I-D.ietf-roll-terminology]</a> and <a href="#I-D.ietf-roll-rpl">[I-D.ietf-roll-rpl]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Goal</h1>
<p id="rfc.section.3.p.1">The Goal of the OF0 is to join a DODAG version that offers connectivity to a specific set of nodes or to a larger routing infrastructure.  For the purpose of OF0, Grounded thus means that the root provides such connectivity. How that connectivity is asserted and maintained is out of scope.</p>
<p id="rfc.section.3.p.2">Objective Function 0 is designed to find the nearest Grounded root. In the absence of a Grounded root, LLN inner connectivity is still desirable and floating DAGs will form, rooted at the nodes with the highest administrative preference.</p>
<p id="rfc.section.3.p.3">The metric used in OF0 can be an administratively defined scalar cost that is trivially added up along a path to compute the RPL Rank, as defined in <a href="#I-D.ietf-roll-rpl">[I-D.ietf-roll-rpl]</a>. Depending on how the step of Rank is computed by an implementation, the Rank of a node might be analogous to a weighted hop count of the path to the root.  Using a metric that in essence is similar to hop count implies that the quality of the connectivity should be asserted so that only neighbors with a good enough connectivity are presented to the OF.  How that connectivity is asserted and maintained is not covered by this specification.  </p>
<p id="rfc.section.3.p.4">In wireless networks, Hop Count will tend to favor paths with long distance links and non optimal connectivity properties. In some situations, this might end up partitioning the network. As a result, the link selection must be very conservative, and the available link set is thus constrained.  For those reasons, though it can be used on wired links and wired link emulations such as WIFI infrastructure mode, a metric derived from hop count is generally not recommended for wireless networks. Instead, careful thinking should be applied to determine how the step of Rank is computed from the link properties and attention should be paid to maintain a certain stability in the resulting Rank.  </p>
<p id="rfc.section.3.p.5">The default step of Rank is DEFAULT_RANK_INCREMENT for each hop. An implementation MAY allow a step between MINIMUM_RANK_INCREMENT and MAXIMUM_RANK_INCREMENT to reflect a large variation of link quality by units of MINIMUM_RANK_INCREMENT.  In other words, the least significant octet in the Rank is not used.</p>
<p id="rfc.section.3.p.6">A node MAY stretch its step of Rank by up to MAXIMUM_RANK_STRETCH in order to enable the selection of a sibling when only one parent is available.  For instance, say that a node computes a step of Rank of 4 units of MINIMUM_RANK_INCREMENT from a preferred parent with a Rank of 6 units resulting in a Rank of 10 units for this node.  Say that with that Rank of 10 units, this node would end up with only one parent and no sibling, though there is a neighbor with a Rank of 12 units.  In that case, the node is entitled to stretch its step of Rank by a value of 2 units, thus using a step of Rank of 6 units so as to reach a Rank of 12 units and find a sibling.  But the node is not entitled to use a step of Rank larger than 6 units since that would be a greedy behavior that would deprive the neighbor of this node of a successor.  Also, if the neighbor had exposed a Rank of 16 units, the stretch of Rank from 10 to 16 units would have exceeded MAXIMUM_RANK_STRETCH of 5 units and thus the neighbor would not have been selectable even as a sibling.  </p>
<p id="rfc.section.3.p.7">The gap between MINIMUM_RANK_INCREMENT and MAXIMUM_RANK_STRETCH may not be sufficient in every case to strongly distinguish links of different types or categories in order to favor, say, powered over battery-operated or wired over wireless, within a same DAG. An implementation SHOULD allow a configurable factor called Rank Factor and to apply the factor on all links and peers.  An implementation MAY recognizes sub-categories of peers and links, such as different MAC types, in which case it SHOULD be able to configure a more specific Rank Factor to those categories.  The Rank Factor SHOULD be set between MINIMUM_RANK_FACTOR and MAXIMUM_RANK_FACTOR.  Once a step of Rank is computed along the rules specified in this document, the result of the computation is multipled by the Rank Factor and the result is what gets added to the Rank of preferred parent in order to obtain the Rank of this node.  </p>
<p id="rfc.section.3.p.8">Optionally, the administrative preference of a root MAY be configured to supercede the goal to reach Grounded root. In that case, nodes will associate to the root with the highest preference available, regardless of whether that root is Grounded or not. Compared to a deployment with a multitude of Grounded roots that would result in a same multitude of DODAGs, such a configuration may result in possibly less but larger DODAGs, as many as roots configured with the highest priority in the reachable vincinity.</p>
<p id="rfc.section.3.p.9">OF0 selects a preferred parent and a backup next_hop if one is available. The backup next_hop might be a parent or a sibling. All the traffic is routed via the preferred parent. When the link conditions do not let a packet through the preferred parent, the packet is passed to the backup next_hop.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Selection of the Preferred Parent</h1>
<p id="rfc.section.4.p.1">As it scans all the candidate neighbors, OF0 keeps the parent that is the best for the following criteria (in order):</p>
<p></p>

<ol>
<li>
<a href="#I-D.ietf-roll-rpl">[I-D.ietf-roll-rpl]</a> spells out the generic rules for a node to reparent and in particular the boundaries to augment its Rank within a DODAG version.  A candidate that would not satisfy those rules MUST NOT be considered.</li>
<li>An implementation should validate a router prior to selecting it as preferred. This validation process is implementation and link type dependent, and is out of scope. A router that has been validated is preferrable.</li>
<li>When multiple interfaces are available, a policy might be locally configured to prioritize them and that policy applies first; that is a router on a higher order interface is preferable.</li>
<li>In the absence of a Grounded DODAG version, the router with a higher administrative preference SHOULD be preferred. Optionally, this selection applies regardless of whether the DODAG is Grounded or not.</li>
<li>A router that offers connectivity to a grounded DODAG version SHOULD be preferred over one that does not.</li>
<li>When comparing 2 routers that belong to the same DODAG, a router that offers connectivity to the freshest sequence SHOULD be preferred.</li>
<li>When computing a resulting Rank for this node from a parent Rank and a Step of Rank from that parent, the parent that causes the lesser resulting Rank SHOULD be preferred.</li>
<li>A DODAG version for which there is an alternate parent SHOULD be preferred.  This check is optional. It is performed by computing the backup next_hop while assuming that the router that is currently examined is finally selected as preferred parent.</li>
<li>The DODAG version that was in use already SHOULD be preferred.</li>
<li>The preferred parent that was in use already SHOULD be preferred.</li>
<li>A router that has announced a DIO message more recently SHOULD be preferred.</li>
</ol>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Selection of the Backup next_hop</h1>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Abstract Interface with RPL core</h1>
<p id="rfc.section.6.p.1">Objective Function 0 interacts with the core RPL in the following ways: </p>

<dl>
<dt>Processing DIO:</dt>
<dd style="margin-left: 11">This core RPL triggers the OF when a new DIO was received. OF0 analyses the information in the DIO and may select the source as a parent or sibling.</dd>
<dt>Providing DAG information</dt>
<dd style="margin-left: 11">The OF0 support can be required to provide the DAG information for a given instance to the RPL core. This includes the material that is contained in a DIO base header.</dd>
<dt>Providing a Parent List</dt>
<dd style="margin-left: 11">The OF0 support can be required to provide the list of the parents for a given instance to the RPL core.  This includes the material that is contained in the transit option for that parent.</dd>
<dt>Trigger</dt>
<dd style="margin-left: 11">The OF0 support may trigger the RPL core to inform it that a change occurred. This can be used to indicate whether the change requires a new DIO to be fired or whether trickle timers need to be reset.</dd>
</dl>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#const" id="const">OF0 Constants and Variables</a>
</h1>
<p id="rfc.section.7.p.1">OF0 uses the following constants: </p>

<dl>
<dt>MinHopRankIncrease:</dt>
<dd style="margin-left: 8">256</dd>
<dt>DEFAULT_RANK_INCREMENT:</dt>
<dd style="margin-left: 8">3 * MinHopRankIncrease</dd>
<dt>MINIMUM_RANK_INCREMENT:</dt>
<dd style="margin-left: 8">1 * MinHopRankIncrease</dd>
<dt>MAXIMUM_RANK_INCREMENT:</dt>
<dd style="margin-left: 8">9 * MinHopRankIncrease</dd>
<dt>MAXIMUM_RANK_STRETCH:</dt>
<dd style="margin-left: 8">5 * MinHopRankIncrease</dd>
<dt>DEFAULT_RANK_FACTOR:</dt>
<dd style="margin-left: 8">1</dd>
<dt>MINIMUM_RANK_FACTOR:</dt>
<dd style="margin-left: 8">1</dd>
<dt>MAXIMUM_RANK_FACTOR:</dt>
<dd style="margin-left: 8">4</dd>
</dl>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.8.p.1">IThis specification requires the assignment of an OCP for OF0. The value of 0 is suggested.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#Sec" id="Sec">Security Considerations</a>
</h1>
<p id="rfc.section.9.p.1">Security Considerations for OCP/OF are to be developed in accordance with recommendations laid out in, for example, <a href="#I-D.tsao-roll-security-framework">[I-D.tsao-roll-security-framework]</a>.</p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.10.p.1">Most specific thanks to Philip Levis for his help in finalizing this document, in particular WRT wireless links, to Tim Winter, JP Vasseur, Julien Abeille, Mathilde Durvy, Teco Boot, Navneet Agarwal and Henning Rogge for in-depth review and first hand implementer's feedback.</p>
<h1 id="rfc.references">
<a href="#rfc.references">11.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">11.1.</a> Normative References</h1>
<table><tbody><tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr></tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">11.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="I-D.ietf-roll-building-routing-reqs">[I-D.ietf-roll-building-routing-reqs]</b></td>
<td class="top">
<a>Martocci, J</a>, <a>Riou, N</a>, <a>Mil, P</a> and <a>W Vermeylen</a>, "<a href="http://tools.ietf.org/html/draft-ietf-roll-building-routing-reqs-07">Building Automation Routing Requirements in Low Power and Lossy Networks</a>", Internet-Draft draft-ietf-roll-building-routing-reqs-07, September 2009.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-roll-home-routing-reqs">[I-D.ietf-roll-home-routing-reqs]</b></td>
<td class="top">
<a>Brandt, A</a>, <a>Buron, J</a> and <a>G Porcu</a>, "<a href="http://tools.ietf.org/html/draft-ietf-roll-home-routing-reqs-08">Home Automation Routing Requirements in Low Power and Lossy Networks</a>", Internet-Draft draft-ietf-roll-home-routing-reqs-08, September 2009.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-roll-rpl">[I-D.ietf-roll-rpl]</b></td>
<td class="top">
<a>Winter, T</a>, <a>Thubert, P</a>, <a>Brandt, A</a>, <a>Clausen, T</a>, <a>Hui, J</a>, <a>Kelsey, R</a>, <a>Levis, P</a>, <a>Pister, K</a>, <a>Struik, R</a> and <a>J Vasseur</a>, "<a href="http://tools.ietf.org/html/draft-ietf-roll-rpl-19">RPL: IPv6 Routing Protocol for Low power and Lossy Networks</a>", Internet-Draft draft-ietf-roll-rpl-19, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5548">[RFC5548]</b></td>
<td class="top">
<a>Dohler, M.</a>, <a>Watteyne, T.</a>, <a>Winter, T.</a> and <a>D. Barthel</a>, "<a href="http://tools.ietf.org/html/rfc5548">Routing Requirements for Urban Low-Power and Lossy Networks</a>", RFC 5548, May 2009.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-roll-terminology">[I-D.ietf-roll-terminology]</b></td>
<td class="top">
<a>Vasseur, J</a>, "<a href="http://tools.ietf.org/html/draft-ietf-roll-terminology-06">Terminology in Low power And Lossy Networks</a>", Internet-Draft draft-ietf-roll-terminology-06, September 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5673">[RFC5673]</b></td>
<td class="top">
<a>Pister, K.</a>, <a>Thubert, P.</a>, <a>Dwars, S.</a> and <a>T. Phinney</a>, "<a href="http://tools.ietf.org/html/rfc5673">Industrial Routing Requirements in Low-Power and Lossy Networks</a>", RFC 5673, October 2009.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-roll-routing-metrics">[I-D.ietf-roll-routing-metrics]</b></td>
<td class="top">
<a>Vasseur, J</a>, <a>Kim, M</a>, <a>Pister, K</a>, <a>Dejean, N</a> and <a>D Barthel</a>, "<a href="http://tools.ietf.org/html/draft-ietf-roll-routing-metrics-19">Routing Metrics used for Path Calculation in Low Power and Lossy Networks</a>", Internet-Draft draft-ietf-roll-routing-metrics-19, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.tsao-roll-security-framework">[I-D.tsao-roll-security-framework]</b></td>
<td class="top">
<a>Tsao, T</a>, <a>Alexander, R</a>, <a>Daza, V</a> and <a>A Lozano</a>, "<a href="http://tools.ietf.org/html/draft-tsao-roll-security-framework-02">A Security Framework for Routing over Low Power and Lossy Networks</a>", Internet-Draft draft-tsao-roll-security-framework-02, March 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Pascal Thubert</span> editor
	  <span class="n hidden">
		<span class="family-name">Thubert</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems</span>
	<span class="adr">
	  <span>Village d'Entreprises Green Side</span>
<span>400, Avenue de Roumanille</span>
<span>Batiment T3</span>

	  <span class="vcardline">
		<span class="locality">Biot - Sophia Antipolis</span>,  
		<span class="region"></span>
		<span class="code">06410</span>
	  </span>
	  <span class="country-name vcardline">FRANCE</span>
	</span>
	<span class="vcardline">Phone: +33 497 23 26 34</span>

<span class="vcardline">EMail: <a href="mailto:pthubert@cisco.com">pthubert@cisco.com</a></span>

  </address>
</div>

</body>
</html>