<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Micro-burst Decreasing in Layer3 Network for Low-Latency Traffic</title>
<meta content="Zongpeng Du" name="author">
<meta content="Peng Liu" name="author">
<meta content="
       It is complex to support deterministic forwarding in a large scale
      network because there is too much dynamic traffic in the network and the
      data model becomes hard to predict after aggregation in the intermediate
      nodes. This document introduces the problem of micro-bursts in layer3
      network, and analyses the method to decrease the micro-bursts in layer3
      network for low-latency traffic. 
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="DetNet, Micro-burst, Low-latency" name="keyword">
<meta content="draft-du-detnet-layer3-low-latency-04" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-du-detnet-layer3-low-latency-04-odwxg2cu.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">L3 Low-latency Traffic</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Du &amp; Liu</td>
<td class="center">Expires 28 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-du-detnet-layer3-low-latency-04</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10" class="published">October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-28">28 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">Z. Du</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">P. Liu</div>
<div class="org">China Mobile</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Micro-burst Decreasing in Layer3 Network for Low-Latency Traffic</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">It is complex to support deterministic forwarding in a large scale
      network because there is too much dynamic traffic in the network and the
      data model becomes hard to predict after aggregation in the intermediate
      nodes. This document introduces the problem of micro-bursts in layer3
      network, and analyses the method to decrease the micro-bursts in layer3
      network for low-latency traffic.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 4 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-gaps-for-large-scale-layer-" class="xref">Gaps for Large-scale Layer 3 Deterministic Network</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-micro-burst-problem-in-ip-f" class="xref">Micro-burst Problem in IP Forwarding</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-analysis-of-the-method-to-d" class="xref">Analysis of the Method to Decrease Micro-bursts</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-an-example-of-method-to-dec" class="xref">An Example of Method to Decrease Micro-bursts</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-working-flow-of-the-method" class="xref">Working Flow of the Method</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-process-of-edge-node" class="xref">Process of Edge Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-process-of-forwarding-node" class="xref">Process of Forwarding Node</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-analysis-of-the-proposed-me" class="xref">Analysis of the Proposed Method</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The DetNet architecture <span>[<a href="#RFC8655" class="xref">RFC8655</a>]</span> is supposed to work
      in campus-wide networks and private WANs, including the large-scale ISP
      network scenario, such as the 5G bearing network, as mentioned in <span>[<a href="#RFC8578" class="xref">RFC8578</a>]</span>. It is essential for the large-scale ISP network to
      be able to provide the low-latency service. The low-latency requirement
      exists in both L2 and L3 networks, and in both small and large
      networks.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">However, as talked in <span>[<a href="#I-D.qiang-detnet-large-scale-detnet" class="xref">I-D.qiang-detnet-large-scale-detnet</a>]</span>, deploying deterministic
      services in a large-scale network brings a lot of new challenges. A
      novel method called LDN (Large-scale Deterministic Network) is
      introduced in <span>[<a href="#I-D.qiang-detnet-large-scale-detnet" class="xref">I-D.qiang-detnet-large-scale-detnet</a>]</span> and
      <span>[<a href="#I-D.dang-queuing-with-multiple-cyclic-buffers" class="xref">I-D.dang-queuing-with-multiple-cyclic-buffers</a>]</span>, which
      explore the deterministic forwarding over a large-scale network.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This document also explores the deterministic service in the
      large-scale layer 3 network, and analyses the method based on
      micro-burst decreasing, which can benefit the forwarding of low-latency
      traffic in the large-scale network.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-gaps-for-large-scale-layer-">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-gaps-for-large-scale-layer-" class="section-name selfRef">Gaps for Large-scale Layer 3 Deterministic Network</a>
      </h2>
<p id="section-2-1">In this document, the large-scale network means that there are many
      dynamic flows in the network, but it is hard to do per-flow shaping on
      the intermediate nodes because they have high pressure on forwarding on
      the data plane.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">According to <span>[<a href="#RFC8655" class="xref">RFC8655</a>]</span>, DetNet operates at the IP
      layer and delivers service over lower-layer technologies such as MPLS
      and IEEE 802.1 Time-Sensitive Networking <span>[<a href="#TSN" class="xref">TSN</a>]</span>. However,
      the TSN mechanisms are designed for L2 network originally, and cannot be
      directly used in the large-scale layer 3 network because of various
      reasons. Some of them are described as below.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">Some TSN mechanisms need synchronization of the network equipments,
      which is easier in a small network, but hard in a large network. It
      brings in some complex maintenance jobs across a long distance that are
      not needed before.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">Some TSN mechanisms need a per-flow state in the forwarding plane,
      which is un-scalable. Aggregation methods need to be considered.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">Some TSN mechanisms need a constant and forecastable traffic
      characteristics, which is more complicated in a large network which
      includes much more flows joining in or leaving randomly and the traffic
      characteristics are more dynamic.<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">The main aspects of the problems are the simplicity and the
      scalability. The former can ensure that the mechanism is easy to deploy,
      and the second can ensure that the mechanism is able to bear a large
      number of deterministic services.<a href="#section-2-6" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-micro-burst-problem-in-ip-f">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-micro-burst-problem-in-ip-f" class="section-name selfRef">Micro-burst Problem in IP Forwarding</a>
      </h2>
<p id="section-3-1"></p>
<p id="section-3-2">The current IP forwarding mechanism is considered to be a good
      example fulfilling the requirements of simplicity and scalability.
      However, the traditional IP network is based on statistical
      multiplexing, and can only provide Best Effort service, short of SLA
      guaranteed mechanisms.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">When we rethink the problem in the current IP forwarding mechanism,
      we can find that in the current IP network, a long delay in queuing, or
      some packet losses due to burst are acceptable; however, it may be
      unacceptable in the deterministic forwarding. Therefore, they have
      different design principles in the low layer.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4"></p>
<p id="section-3-5">The current forwarding mechanism in an IP router, which is based on
      statistical multiplexing, can not provide the deterministic service
      because of various reasons. Even be given a high priority, a critical
      packet can experience a long congestion delay or be lost in a relatively
      light-loaded network, which is caused by micro-bursts in the
      network.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">Micro-burst is a special case of network congestion, which typically
      lasts a short period, at the granularity of millisecond. In a
      micro-burst, a lot of data are received on the interface suddenly, and
      the temporary bandwidth requirement would be tens of or hundreds of the
      average bandwidth requirement, or even exceed the interface
      bandwidth.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">In most cases, the buffer on the equipment can handle the
      micro-bursts. However, in some corner cases, micro-bursts bring in a
      long delay (for example, at the granularity of millisecond) or even
      packet loss.<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">The following paragraphs introduce the causes of the micro-burst.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">Firstly, IP traffic has an instinct of burstiness no matter in the
      macro or micro aspect, i.e., it does not have a constant traffic model
      even after aggregations.<a href="#section-3-9" class="pilcrow">¶</a></p>
<p id="section-3-10">Secondly, IP network has a flexible topology, where the incoming
      traffic may exceed the bandwidth of the outgoing interface. For example,
      an interface with a large bandwidth may need to send traffic to an
      interface with a smaller bandwidth, or multiple flows from several
      incoming interfaces may need to occupy the same outgoing interface.<a href="#section-3-10" class="pilcrow">¶</a></p>
<p id="section-3-11">Thirdly, the IP node has been designed to send traffic as quickly as
      possible, and it is not aware whether the downstream node's buffer
      can handle the traffic. For example, Figure 1 below shows the problem of
      the current IP scheduling mechanism. Before the scheduling in an IP
      network, the packets are well paced, but after the scheduling, the
      packets will be gathered even the total traffic rate is unchanged. When
      an IP outgoing interface receives multiple critical flows from several
      incoming interfaces, the situation becomes worse. However, an IP router
      will try to send them as soon as possible, so occasionally, in some
      later hops, micro-bursts will emerge.<a href="#section-3-11" class="pilcrow">¶</a></p>
<p id="section-3-12"></p>
<div class="alignLeft art-text artwork" id="section-3-13">
<pre>
    _     _     _     _     _     _     _     _     _     _     _
   | |   | |   | |   | |   | |   | |   | |   | |   | |   | |   | |
---------------------------------------------------------------------
                   Before scheduling in an IP network

    _  _  _  _  _  _                 _  _  _  _  _
   | || || || || || |               | || || || || |
---------------------------------------------------------------------
                   After scheduling in an IP network

   Figure 1: Change of the traffic characteristics in an IP network

</pre><a href="#section-3-13" class="pilcrow">¶</a>
</div>
<p id="section-3-14"></p>
<p id="section-3-15"></p>
</section>
<section id="section-4">
      <h2 id="name-analysis-of-the-method-to-d">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-analysis-of-the-method-to-d" class="section-name selfRef">Analysis of the Method to Decrease Micro-bursts</a>
      </h2>
<p id="section-4-1"></p>
<p id="section-4-2">This document analyses the method to support the low latency traffic
      bearing in an IP network, such as the 5G bearing network, by avoiding
      micro-bursts in the network as much as possible. The principle in this
      method is to forward critical and BE traffic separately, and do not
      distinguish different critical flows on the forwarding plane on the
      intermediate nodes.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">As talked before, the target method should be scalable and easy to
      deploy. As the intermediate nodes have high pressure on forwarding
      packets, the target method should not bring in too much complex process
      on the data plane. Several requirements are listed as follows.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">The first is that the DetNet traffic should support aggregation. The
      intermediate nodes should not do per-flow process on the date plane.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">The second is that separation process of the control plane and data
      plane on the intermediate nodes. The status of the aggregated DetNet
      traffic on the control plane may change frequently in the large-scale
      network. We should not assume that the control plane on an intermediate
      node can interact with the data plane frequently, for example, to change
      a shaper parameter frequently. On the data plane, some self-decision
      process should be supported.<a href="#section-4-5" class="pilcrow">¶</a></p>
</section>
<section id="section-5">
      <h2 id="name-an-example-of-method-to-dec">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-an-example-of-method-to-dec" class="section-name selfRef">An Example of Method to Decrease Micro-bursts</a>
      </h2>
<p id="section-5-1">In this section, we describes an example of method fulfilling the
      requirements mentioned in the last section. It needs the cooperation of
      the edge nodes and the forwarding/intermediate nodes in an IP
      network.<a href="#section-5-1" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-working-flow-of-the-method">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-working-flow-of-the-method" class="section-name selfRef">Working Flow of the Method</a>
        </h3>
<p id="section-5.1-1">Generally, the method contains two steps:<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">Step1: per flow schedule on the edge node. The purpose is to make
        sure that each critical traffic has a constant traffic model.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">Step2: per interface schedule on the intermediate node. Traffic are
        aggregated to ensure the scalability, and the pacing also makes sure
        that they do not gather. The purpose is to make the critical traffic
        be forwarded as the shape when outgoing the edge, not as quickly as
        possible. We assume that the sending rate of the buffer for the
        critical traffic is the same as the receiving rate (how to achieve
        this is out of scope of this document). If all work well, the buffer
        will be maintained with a proper depth.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">Other requirements include an RSVP-TE liked mechanism with a good
        scalability, which should be used to make sure the bandwidth is not
        exceeded on the interface.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5"></p>
<p id="section-5.1-6"></p>
</section>
<section id="section-5.2">
        <h3 id="name-process-of-edge-node">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-process-of-edge-node" class="section-name selfRef">Process of Edge Node</a>
        </h3>
<p id="section-5.2-1">The edge node of the IP network can recognize each critical flows
        just as in the TSN network, and then give them individually a good
        shaping. In fact, in TSN mechanisms, no micro-burst will emerge for
        critical traffic, and each TSN mechanism is proved to be effective
        under certain conditions.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">This document suggests the edge node to shape the critical traffic
        by using the CBS method in <span>[<a href="#IEEE802.1Qav" class="xref">IEEE802.1Qav</a>]</span>, or the
        shaping methods in <span>[<a href="#IEEE802.1Qcr" class="xref">IEEE802.1Qcr</a>]</span>. Generally, the
        shaping methods can generate a paced traffic for each critical
        flow.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">The parameters of the shaper, such as the sending rate, can be
        configured for each flow by some means.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4"></p>
</section>
<section id="section-5.3">
        <h3 id="name-process-of-forwarding-node">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-process-of-forwarding-node" class="section-name selfRef">Process of Forwarding Node</a>
        </h3>
<p id="section-5.3-1">For the forwarding node, it is uneasy to recognize each critical
        flow because of the high pressure of forwarding a large amount of
        packets. It is suggested that no per-flow state is maintained on the
        forwarding node. It is to say that, on the forwarding node, the
        critical flows should be aggregated and handled together.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">This document suggests that the forwarding node can deploy a
        specific queue on each outgoing interface. The queue will buffer all
        critical traffic that need to go out through that interface, and will
        pace them by using methods mentioned in the last section.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">A shaping method in TSN is used here instead of the original
        forwarding method in an IP router, which can make the critical traffic
        be forwarded orderly instead of as soon as possible. Therefore,
        micro-bursts can be decreased in the network.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3-4">If all the forwarding nodes can do their jobs properly, i.e., they
        can well pace the critical traffic, no or rare micro-bursts for the
        critical traffic would take place. In this way, the critical traffic
        will have a relatively low latency in the IP network with less
        uncertainty of micro-bursts.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<p id="section-5.3-5">As no per-flow state is maintained on the forwarding node, the
        sending rate of the shaper is hard to decide. As said in the last
        session, the sending rate is suggested to be adjusted referring to the
        incoming rate of the queue. The purpose is to maintain a proper buffer
        depth for the queue.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">Although it is claimed that the proposed method is simpler than the
        TSN mechanisms, forwarding/intermediate nodes also need to be updated.
        The detailed realization of the method on the intermediate nodes is
        out of scope of this document.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
</section>
<section id="section-5.4">
        <h3 id="name-analysis-of-the-proposed-me">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-analysis-of-the-proposed-me" class="section-name selfRef">Analysis of the Proposed Method</a>
        </h3>
<p id="section-5.4-1">The method proposed does not need synchronization, just as the
        asynchronous mechanisms studied in <span>[<a href="#IEEE802.1Qcr" class="xref">IEEE802.1Qcr</a>]</span>.
        Furthermore, the method has a larger aggregation granularity, which
        can fulfill the requirements of simplicity and scalability as much as
        possible. However, in theory, it has a larger uncertainty on the
        forwarding than the zero congestion loss target in the TSN
        mechanisms.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">We compare three mechanisms in the following paragraphs. The first
        is the priority based light-load mechanism, i.e., the traditional
        method. The second is the TSN mechanism, such as CQF. The third is the
        proposed mechanism.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
<p id="section-5.4-3">In the first mechanism, we only give a high priority to the
        critical traffic, and thus the scalability of the deterministic system
        is good. However, the uncertainty on the forwarding plane perhaps can
        not fulfill the requirements in the industry network where SLA
        requirements are very essential. Perhaps, it is only able to work well
        when a small amount of critical traffic exist in the network.<a href="#section-5.4-3" class="pilcrow">¶</a></p>
<p id="section-5.4-4">If we use the scheduling method in the TSN, such as CQF. Its
        uncertainty is very low, but its scalability is not very good as said
        in Section 2. It should be noted that in a large deterministic system,
        the ISP normally will not guarantee the user 100 percent reliability,
        instead of which it perhaps is a value very close to.<a href="#section-5.4-4" class="pilcrow">¶</a></p>
<p id="section-5.4-5">The proposed method has a better scalability than the TSN
        mechanisms, and a better reliability than the priority based method.
        If we assume that different services need different deterministic
        levels, this method may be helpful for the service that does not need
        a very high deterministic level. For example, the method can be used
        in the consumption Internet, in which the deterministic service needs
        a relatively lower deterministic level than the industry Internet.<a href="#section-5.4-5" class="pilcrow">¶</a></p>
<p id="section-5.4-6"></p>
</section>
</section>
<div id="IANA">
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-6-1">This document has no IANA actions.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">Detailed security considerations can refer to <span>[<a href="#I-D.ietf-detnet-bounded-latency" class="xref">I-D.ietf-detnet-bounded-latency</a>]</span> and <span>[<a href="#I-D.ietf-detnet-security" class="xref">I-D.ietf-detnet-security</a>]</span>.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Acknowledgements">
<section id="section-8">
      <h2 id="name-acknowledgements">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-8-1">Thanks for the valuable comments from Janos Farkas, Lou
      Berger, and David Black.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8655">[RFC8655]</dt>
      <dd>
<span class="refAuthor">Finn, N.</span>, <span class="refAuthor">Thubert, P.</span>, <span class="refAuthor">Varga, B.</span>, and <span class="refAuthor">J. Farkas</span>, <span class="refTitle">"Deterministic Networking Architecture"</span>, <span class="seriesInfo">RFC 8655</span>, <span class="seriesInfo">DOI 10.17487/RFC8655</span>, <time datetime="2019-10" class="refDate">October 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8655">https://www.rfc-editor.org/info/rfc8655</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.dang-queuing-with-multiple-cyclic-buffers">[I-D.dang-queuing-with-multiple-cyclic-buffers]</dt>
        <dd>
<span class="refAuthor">Liu, B.</span> and <span class="refAuthor">J. Dang</span>, <span class="refTitle">"A Queuing Mechanism with Multiple Cyclic Buffers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-dang-queuing-with-multiple-cyclic-buffers-00</span>, <time datetime="2021-02-22" class="refDate">22 February 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-dang-queuing-with-multiple-cyclic-buffers-00.txt">https://www.ietf.org/archive/id/draft-dang-queuing-with-multiple-cyclic-buffers-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-detnet-bounded-latency">[I-D.ietf-detnet-bounded-latency]</dt>
        <dd>
<span class="refAuthor">Finn, N.</span>, <span class="refAuthor">Boudec, J. L.</span>, <span class="refAuthor">Mohammadpour, E.</span>, <span class="refAuthor">Zhang, J.</span>, <span class="refAuthor">Varga, B.</span>, and <span class="refAuthor">J. Farkas</span>, <span class="refTitle">"DetNet Bounded Latency"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-bounded-latency-07</span>, <time datetime="2021-09-01" class="refDate">1 September 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-detnet-bounded-latency-07.txt">https://www.ietf.org/archive/id/draft-ietf-detnet-bounded-latency-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-detnet-security">[I-D.ietf-detnet-security]</dt>
        <dd>
<span class="refAuthor">Grossman, E.</span>, <span class="refAuthor">Mizrahi, T.</span>, and <span class="refAuthor">A. J. Hacker</span>, <span class="refTitle">"Deterministic Networking (DetNet) Security Considerations"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-detnet-security-16</span>, <time datetime="2021-03-02" class="refDate">2 March 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-detnet-security-16.txt">https://www.ietf.org/archive/id/draft-ietf-detnet-security-16.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.qiang-detnet-large-scale-detnet">[I-D.qiang-detnet-large-scale-detnet]</dt>
        <dd>
<span class="refAuthor">Qiang, L.</span>, <span class="refAuthor">Geng, X.</span>, <span class="refAuthor">Liu, B.</span>, <span class="refAuthor">Eckert, T.</span>, <span class="refAuthor">Geng, L.</span>, and <span class="refAuthor">G. Li</span>, <span class="refTitle">"Large-Scale Deterministic IP Network"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-qiang-detnet-large-scale-detnet-05</span>, <time datetime="2019-09-02" class="refDate">2 September 2019</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-qiang-detnet-large-scale-detnet-05.txt">https://www.ietf.org/archive/id/draft-qiang-detnet-large-scale-detnet-05.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE802.1Qav">[IEEE802.1Qav]</dt>
        <dd>
<span class="refAuthor">IEEE 802.1</span>, <span class="refTitle">"IEEE 802.1Qav-2009 - IEEE Standard for Local and metropolitan area networks-- Virtual Bridged Local Area Networks Amendment 12: Forwarding and Queuing Enhancements for Time-Sensitive Streams"</span>, <time datetime="2009" class="refDate">2009</time>, <span>&lt;<a href="https://standards.ieee.org/standard/802_1Qav-2009.html">https://standards.ieee.org/standard/802_1Qav-2009.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IEEE802.1Qcr">[IEEE802.1Qcr]</dt>
        <dd>
<span class="refAuthor">IEEE 802.1</span>, <span class="refTitle">"IEEE 802.1Qcr-2020 - IEEE Standard for Local and Metropolitan Area Networks--Bridges and Bridged Networks - Amendment 34: Asynchronous Traffic Shaping"</span>, <time datetime="2020" class="refDate">2020</time>, <span>&lt;<a href="https://standards.ieee.org/standard/802_1Qcr-2020.html">https://standards.ieee.org/standard/802_1Qcr-2020.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8578">[RFC8578]</dt>
        <dd>
<span class="refAuthor">Grossman, E., Ed.</span>, <span class="refTitle">"Deterministic Networking Use Cases"</span>, <span class="seriesInfo">RFC 8578</span>, <span class="seriesInfo">DOI 10.17487/RFC8578</span>, <time datetime="2019-05" class="refDate">May 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8578">https://www.rfc-editor.org/info/rfc8578</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TSN">[TSN]</dt>
      <dd>
<span class="refAuthor">IEEE 802.1</span>, <span class="refTitle">"Time-Sensitive Networking (TSN) Task Group"</span>, <time datetime="2012" class="refDate">2012</time>, <span>&lt;<a href="https://1.ieee802.org/tsn/">https://1.ieee802.org/tsn/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Zongpeng Du</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div dir="auto" class="left"><span class="street-address">No.32 XuanWuMen West Street</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100053</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:duzongpeng@foxmail.com" class="email">duzongpeng@foxmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Peng Liu</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div dir="auto" class="left"><span class="street-address">No.32 XuanWuMen West Street</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">100053</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liupengyjy@chinamobile.com" class="email">liupengyjy@chinamobile.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
