<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>A Network Address
    Translator (NAT) Traversal mechanism for media controlled by Real-Time
    Streaming Protocol (RTSP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="A Network Address
    Translator (NAT) Traversal mechanism for media controlled by Real-Time
    Streaming Protocol (RTSP)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Goldberg</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">M. Westerlund</td></tr>
<tr><td class="header">Expires: January 14, 2010</td><td class="header">Ericsson</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">T. Zeng</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nextwave Wireless, Inc.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 13, 2009</td></tr>
</table></td></tr></table>
<h1><br />A Network Address
    Translator (NAT) Traversal mechanism for media controlled by Real-Time
    Streaming Protocol (RTSP)<br />draft-ietf-mmusic-rtsp-nat-08</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 14, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document defines a solution for Network Address Translation
      (NAT) traversal for datagram based media streams setup and controlled
      with Real-time Streaming Protocol version 2 (RTSP 2.0). It uses
      Interactive Connectivity Establishment (ICE) adapted to use RTSP as a
      signalling channel, defining the necessary extra RTSP extensions and
      procedures.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Solution Overview<br />
<a href="#anchor3">3.</a>&nbsp;
RTSP Extensions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-ice-tll">3.1.</a>&nbsp;
ICE Transport Lower Layer<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-ice-cand">3.2.</a>&nbsp;
ICE Candidate Transport Header Parameter<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-ice-pwd">3.3.</a>&nbsp;
ICE Password and Username Transport Header Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ice-feature-tag">3.4.</a>&nbsp;
ICE Feature Tag<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.5.</a>&nbsp;
Status Codes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-sc-150">3.5.1.</a>&nbsp;
150 ICE connectivity checks in progress<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-sc-480">3.5.2.</a>&nbsp;
480 ICE Processing Failed<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-notify-reason">3.6.</a>&nbsp;
New Reason for PLAY_NOTIFY<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.7.</a>&nbsp;
Server Side SDP Attribute for ICE Support <br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.8.</a>&nbsp;
ICE Features Not Required in RTSP<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.8.1.</a>&nbsp;
ICE-Lite<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.8.2.</a>&nbsp;
ICE-Mismatch<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.8.3.</a>&nbsp;
ICE Remote Candidate Transport Header Parameter<br />
<a href="#anchor10">4.</a>&nbsp;
Detailed Solution<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">4.1.</a>&nbsp;
Session description and RTSP DESCRIBE (optional)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">4.2.</a>&nbsp;
Setting up the Media Streams<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">4.3.</a>&nbsp;
RTSP SETUP Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#server-gather">4.4.</a>&nbsp;
Gathering Candidates<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">4.5.</a>&nbsp;
RTSP Server Response<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">4.6.</a>&nbsp;
Server to Client ICE Connectivity Checks<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">4.7.</a>&nbsp;
Client to Server ICE Connectivity Check<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">4.8.</a>&nbsp;
Client Connectivity Checks Complete<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">4.9.</a>&nbsp;
Server Connectivity Checks Complete<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">4.10.</a>&nbsp;
Releasing Candidates<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">4.11.</a>&nbsp;
Steady State<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">4.12.</a>&nbsp;
re-SETUP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">4.13.</a>&nbsp;
Server Side Changes After Steady State<br />
<a href="#anchor23">5.</a>&nbsp;
ICE and Proxies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">5.1.</a>&nbsp;
Media Handling Proxies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">5.2.</a>&nbsp;
Signalling Only Proxies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">5.3.</a>&nbsp;
Non-supporting Proxies<br />
<a href="#rtp-mux">6.</a>&nbsp;
RTP and RTCP Multiplexing<br />
<a href="#anchor27">7.</a>&nbsp;
Open Issues<br />
<a href="#IANA">8.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">8.1.</a>&nbsp;
RTSP Feature Tags<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">8.2.</a>&nbsp;
Transport Protocol Specifications<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">8.3.</a>&nbsp;
RTSP Transport Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">8.4.</a>&nbsp;
RTSP Status Codes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">8.5.</a>&nbsp;
Notify-Reason value<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor33">8.6.</a>&nbsp;
SDP Attribute<br />
<a href="#Security">9.</a>&nbsp;
Security Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">9.1.</a>&nbsp;
ICE and RTSP<br />
<a href="#Acknowledgements">10.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">11.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">11.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">11.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Real-time Streaming Protocol (RTSP) <a class='info' href='#RFC2326'>[RFC2326]<span> (</span><span class='info'>Schulzrinne, H., Rao, A., and R. Lanphier, &ldquo;Real Time Streaming Protocol (RTSP),&rdquo; April&nbsp;1998.</span><span>)</span></a><a class='info' href='#I-D.ietf-mmusic-rfc2326bis'>[I&#8209;D.ietf&#8209;mmusic&#8209;rfc2326bis]<span> (</span><span class='info'>Schulzrinne, H., Rao, A., Lanphier, R., Westerlund, M., and M. Stiemerling, &ldquo;Real Time Streaming Protocol 2.0 (RTSP),&rdquo; March&nbsp;2010.</span><span>)</span></a> is a protocol used to setup
      and control one or more media streams delivering media to receivers. It
      is RTSP's functionality of setting up media streams that cause serious
      issues with Network Address Translators (NAT) <a class='info' href='#RFC3022'>[RFC3022]<span> (</span><span class='info'>Srisuresh, P. and K. Egevang, &ldquo;Traditional IP Network Address Translator (Traditional NAT),&rdquo; January&nbsp;2001.</span><span>)</span></a> unless extra provisions are taken by the
      protocol. There is thus a need for a NAT traversal mechanism for the
      media setup using RTSP.
</p>
<p>RTSP 1.0 <a class='info' href='#RFC2326'>[RFC2326]<span> (</span><span class='info'>Schulzrinne, H., Rao, A., and R. Lanphier, &ldquo;Real Time Streaming Protocol (RTSP),&rdquo; April&nbsp;1998.</span><span>)</span></a> has suffered from the lack of
      a standardized NAT traversal mechanism for a long time, however due to
      quality of the RTSP 1.0 specification, the work has had to wait on the
      recently defined RTSP 2.0 <a class='info' href='#I-D.ietf-mmusic-rfc2326bis'>[I&#8209;D.ietf&#8209;mmusic&#8209;rfc2326bis]<span> (</span><span class='info'>Schulzrinne, H., Rao, A., Lanphier, R., Westerlund, M., and M. Stiemerling, &ldquo;Real Time Streaming Protocol 2.0 (RTSP),&rdquo; March&nbsp;2010.</span><span>)</span></a>. RTSP 2.0 is similar to RTSP
      1.0 in many respects but significantly for this work, it contains a well
      defined extension mechanism so allowing a NAT traversal extension to be
      defined that is backwards compatible with RTSP 2.0 peers not supporting
      the extension. This extension mechanism was not possible in RTSP 1.0 as
      it would break RTSP 1.0 syntax so causing compatibility issues.
</p>
<p>There have been a number of suggested ways of resolving the
      NAT-traversal of media for RTSP of which a large number are already used
      in implementations. The evaluation of these NAT traversal solutions
      in<a class='info' href='#I-D.ietf-mmusic-rtsp-nat-evaluation'>[I&#8209;D.ietf&#8209;mmusic&#8209;rtsp&#8209;nat&#8209;evaluation]<span> (</span><span class='info'>Westerlund, M. and T. Zeng, &ldquo;The evaluation of different NAT traversal Techniques for media controlled by Real-time Streaming Protocol (RTSP),&rdquo; January&nbsp;2010.</span><span>)</span></a> has shown
      that there are many issues to consider, so after extensive evaluation,
      we selected a mechanism based on Interactive Connectivity Establishment
      (ICE). This was mainly two reasons: Firstly the mechanism supports RTSP
      servers behind NATs and secondly the mechanism solves the security
      threat that uses RTSP servers as Distributed Denial of Service (DDoS)
      attack tools.
</p>
<p>This document specifies an ICE based solution that is optimized for
      media delivery server to client. If in the future extensions are
      specified for other delivery modes than PLAY, then the optimizations in
      regards to when PLAY request are sent needs to be reconsidered.
</p>
<p>The NAT problem for RTSP signalling traffic itself is beyond the
      scope of this document and is left for future study should the need
      arise, because it is a less prevalent problem than the NAT problem for
      RTSP media streams.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Solution Overview</h3>

<p>This overview assumes that the reader has some familiarity with how
      ICE <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a> works, as it primarily
      points out how the different ICE steps are accomplished in RTSP.
</p>
<p></p>
<ol class="text">
<li>RTSP server can indicate it has support for ICE via an SDP <a class='info' href='#RFC4566'>[RFC4566]<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a> attribute in, for example, the SDP returned
          in RTSP DESCRIBE message. This allows RTSP clients to only send the
          new ICE interchanges with servers that support ICE so as to limit
          the overhead on current non-ICE supporting RTSP servers. If RTSP
          DESCRIBE is used the normal capability determination mechanism can
          be used, i.e. "Supported" header and the defined feature tag.
</li>
<li>RTSP client reviews the session description returned, for example
          by an RTSP DESCRIBE message, to determine what media streams need to
          be setup. For each of these media streams where the transport
          protocol supports Session Traversal Utilities for (NAT) (STUN) <a class='info' href='#RFC5389'>[RFC5389]<span> (</span><span class='info'>Rosenberg, J., Mahy, R., Matthews, P., and D. Wing, &ldquo;Session Traversal Utilities for NAT (STUN),&rdquo; October&nbsp;2008.</span><span>)</span></a> based connectivity checks, the client
          gathers candidate addresses. See section 4.1.1 in <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>. The client also installs the
          STUN servers on each of the local candidates.
</li>
<li>RTSP client sends SETUP requests with both a transport
          specification with a lower layer indicating ICE and a new RTSP
          Transport header parameter listing the ICE candidates for each media
          stream.
</li>
<li>After receiving the list of candidates from a client, the RTSP
          server gathers its own candidates. If the server has a public IP
          address, then a single candidate per address family (e.g. IPv4 and
          IPv6), media stream and media component tuple can be included to
          reduce the number of combinations and speed up the completion.
</li>
<li>The server sets up the media and if successful responds to the
          SETUP request with a 200 OK response. In that response the server
          selects the transport specification using ICE and includes its
          candidates in the server candidate parameter.
</li>
<li>The server starts the connectivity checks following the
          procedures described in Section 5.7 and 5.8 of <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>. If the server has a public IP
          address with a single candidate per media stream, component and
          address family then one may configure the server to not initiate
          connectivity checks.
</li>
<li>The client receives the SETUP response and learns the candidate
          address to use for the connectivity checks, and then initiates its
          connectivity check, following the procedures in Section 6 of <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>.
</li>
<li>When a connectivity check from the client reaches the server it
          will result in a triggered check from the server. This is why
          servers with a public IP address can wait until this triggered check
          to send out any checks for itself so saving resources and mitigating
          the DDoS potential from server connectivity checks.
</li>
<li>When the client has concluded its connectivity checks and has
          correspondingly received the server connectivity checks on the
          promoted candidates for all mandatory components of all media
          streams, it can issue a PLAY request. If the connectivity checks
          have not concluded successfully then the client may send a new SETUP
          request assuming it has any new information or believes the server
          may be able to do more that can result in successful checks.
</li>
<li>When the RTSP servers receives a PLAY request it checks to see
          the connectivity checks has concluded successfully and only then can
          play the stream. If there is a problem with the checks then the
          server sends to the client either a 150 (ICE connectivity checks in
          progress) response to show that it is still working on the
          connectivity checks or a 480 (ICE Processing Failed) response to
          indicate a failure of the checks. If the checks are successful then
          the server sends a 200 OK response and starts delivering media.
</li>
</ol><p>The client and server may release unused candidates when the
      ICE processing has concluded and a single candidate per component has
      been promoted.
</p>
<p>The client shall continue to use STUN to send keep-alive for the used
      bindings. This is important as often RTSP media sessions only contain
      media traffic from the server to the client so the bindings in the NAT
      needs to be refreshed by the client to server traffic provided by the
      STUN keep-alive.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
RTSP Extensions</h3>

<p>This section defines the necessary RTSP extensions for performing ICE
      with RTSP. Note that these extensions are based on the SDP attributes in
      the ICE specification unless expressly indicated.
</p>
<a name="sec-ice-tll"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
ICE Transport Lower Layer</h3>

<p>A new lower layer "D-ICE" for transport specifications is defined.
        This lower layer is datagram clean except that the protocol used must
        be demultiplexiable with STUN messages (see STUN <a class='info' href='#RFC5389'>[RFC5389]<span> (</span><span class='info'>Rosenberg, J., Mahy, R., Matthews, P., and D. Wing, &ldquo;Session Traversal Utilities for NAT (STUN),&rdquo; October&nbsp;2008.</span><span>)</span></a>). With datagram clean we mean that it must be
        capable of describing the length of the datagram, transport that
        datagram (as a binary chunk of data) and provide it at the receiving
        side as one single item. This lower layer can be any transport type
        defined for ICE which does provide datagram transport capabilities.
        Though only UDP is defined at present, however DCCP or TCP with
        framing may be specified and used in the future.
</p>
<p>This lower layer uses ICE to determine which of the different
        candidates shall be used and then when the ICE processing has
        concluded, uses the selected candidate to transport the datagrams over
        this transport.
</p>
<p>This lower layer transport can be combined with all upper layer
        media transport protocols that are possible to demultiplex with STUN
        and which use datagrams. This specification defines the following
        combinations:
</p>
<p></p>
<ul class="text">
<li>RTP/AVP/D-ICE
</li>
<li>RTP/AVPF/D-ICE
</li>
<li>RTP/SAVP/D-ICE
</li>
<li>RTP/SAVPF/D-ICE
</li>
</ul>

<p>This list can easily be extended with more transport specifications
        after having performed the evaluation that they are compatible with
        D-ICE as lower layer.
</p>
<p>The lower-layer "D-ICE" has the following rules for the inclusion
        of transport parameters:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>unicast:</dt>
<dd>As ICE only supports unicast operations,
            thus it is REQUIRED that one include the unicast indicator
            parameter, see section 16.46 in <a class='info' href='#I-D.ietf-mmusic-rfc2326bis'>[I&#8209;D.ietf&#8209;mmusic&#8209;rfc2326bis]<span> (</span><span class='info'>Schulzrinne, H., Rao, A., Lanphier, R., Westerlund, M., and M. Stiemerling, &ldquo;Real Time Streaming Protocol 2.0 (RTSP),&rdquo; March&nbsp;2010.</span><span>)</span></a>.
</dd>
<dt>candidates:</dt>
<dd>The "candidates" parameter SHALL be
            included as this specify at least one candidate to try to
            establish a working transport path with.
</dd>
<dt>dest_addr:</dt>
<dd>This parameter SHALL NOT be included as
            "candidates" is used instead to provide the necessary address
            information.
</dd>
<dt>ICE-Password:</dt>
<dd>This parameter SHALL be included.
</dd>
<dt>ICE-ufrag:</dt>
<dd>This parameter SHALL be included.
</dd>
</dl></blockquote>

<a name="sec-ice-cand"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
ICE Candidate Transport Header Parameter</h3>

<p>This section defines a new RTSP transport parameter for carrying
        ICE candidates related to the transport specification they appear
        within, which may then be validated with an end-to-end connectivity
        check using <a class='info' href='#RFC5389'>STUN<span> (</span><span class='info'>Rosenberg, J., Mahy, R., Matthews, P., and D. Wing, &ldquo;Session Traversal Utilities for NAT (STUN),&rdquo; October&nbsp;2008.</span><span>)</span></a> [RFC5389]. Transport parameters
        may only occur once in each transport specification. For transport
        specification using "D-ICE" as lower layer, this parameter needs to be
        present. The parameter can contain one or more ICE candidates. In the
        SETUP response there is only a single transport specification, and if
        that uses the "D-ICE" lower layer this parameter MUST be present and
        include the server side candidates.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>trns-parameter = &lt;Defined in Section 20.2.3 of
                  [I-D.ietf-mmusic-rfc2326bis]&gt;
trns-parameter =/ SEMI ice-trn-par
ice-trn-par    = "candidates" EQUAL DQ SWS ice-candidate
                                    *(SEMI ice-candidate) SWS DQ
ice-candidate  = foundation SP
                 component-id SP
                 transport SP
                 priority SP
                 connection-address SP
                 port SP
                 cand-type
                 [SP rel-addr]
                 [SP rel-port]
                 *(SP extension-att-name SP extension-att-value)

foundation            = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
component-id          = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
transport             = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
transport-extension   = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
priority              = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
cand-type             = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
candidate-types       = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
rel-addr              = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
rel-port              = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
extension-att-name    = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
extension-att-value   = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
ice-char              = &lt;See section 15.1 of [I-D.ietf-mmusic-ice]&gt;
connection-address    = &lt;See [RFC4566]&gt;
port                  = &lt;See [RFC4566]&gt;
EQUAL                 = &lt;Defined in [I-D.ietf-mmusic-rfc2326bis]&gt;
DQ                    = &lt;Defined in [I-D.ietf-mmusic-rfc2326bis]&gt;
SWS                   = &lt;Defined in [I-D.ietf-mmusic-rfc2326bis]&gt;
SEMI                  = &lt;Defined in [I-D.ietf-mmusic-rfc2326bis]&gt;
</pre></div><p>

</p>
<p>&lt;connection-address&gt;: is the IP address of the candidate,
        allowing for IPv4 addresses, IPv6 addresses and Fully qualified domain
        names (FQDN), taken from <a class='info' href='#RFC4566'>[RFC4566]<span> (</span><span class='info'>Handley, M., Jacobson, V., and C. Perkins, &ldquo;SDP: Session Description Protocol,&rdquo; July&nbsp;2006.</span><span>)</span></a>. The
        connection address SHOULD be on the same format (explicit IP or FQDN)
        as in the dest_addr parameter used to express fallbacks. An IP address
        SHOULD be used, but an FQDN MAY be used in place of an IP address. In
        that case, when receiving an SETUP request or response containing an
        FQDN in an candidate parameter, the FQDN is looked up in the DNS first
        using an AAAA record (assuming the agent supports IPv6), and if no
        result is found or the agent only supports IPv4, using an A record. If
        the DNS query returns more than one IP address, one is chosen, and
        then used for the remainder of ICE processing which in RTSP is
        subsequent RTSP SETUPs for the same RTSP session.
</p>
<p>&lt;port&gt;: is the port of the candidate taken from RFC 4566
        [RFC4566].
</p>
<p>&lt;transport&gt;: indicates the transport protocol for the
        candidate. The ICE specification only defines UDP. However,
        extensibility is provided to allow for future transport protocols to
        be used with ICE, such as TCP or the Datagram Congestion Control
        Protocol (DCCP) [RFC4340].
</p>
<p>&lt;foundation&gt;: is an identifier that is equivalent for two
        candidates that are of the same type, share the same base, and come
        from the same STUN server, and is composed of one to thirty two
        &lt;ice-char&gt;. The foundation is used to optimize ICE performance
        in the Frozen algorithm.
</p>
<p>&lt;component-id&gt;: identifies the specific component of the
        media stream for which this is a candidate and os a positive integer
        between 1 and 256. It MUST start at 1 and MUST increment by 1 for each
        component of a particular candidate. For media streams based on RTP,
        candidates for the actual RTP media MUST have a component ID of 1, and
        candidates for RTCP MUST have a component ID of 2. Other types of
        media streams which require multiple components MUST develop
        specifications which define the mapping of components to component
        IDs. See Section 14 for additional discussion on extending ICE to new
        media streams.
</p>
<p>&lt;priority&gt;: is a positive integer between 1 and (2**31 -
        1).
</p>
<p>&lt;cand-type&gt;: encodes the type of candidate. The ICE
        specification defines the values "host", "srflx", "prflx" and "relay"
        for host, server reflexive, peer reflexive and relayed candidates,
        respectively. The set of candidate types is extensible for the
        future.
</p>
<p>&lt;rel-addr&gt; and &lt;rel-port&gt;: convey transport addresses
        related to the candidate, useful for diagnostics and other purposes.
        &lt;rel-addr&gt; and &lt;rel-port&gt; MUST be present for server
        reflexive, peer reflexive and relayed candidates. If a candidate is
        server or peer reflexive, &lt;rel-addr&gt; and &lt;rel-port&gt; is
        equal to the base for that server or peer reflexive candidate. If the
        candidate is relayed, &lt;rel-addr&gt; and &lt;rel-port&gt; is equal
        to the mapped address in the Allocate Response that provided the
        client with that relayed candidate (see Appendix B.3 of <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a> for a discussion of its purpose).
        If the candidate is a host candidate &lt;rel-addr&gt; and
        &lt;rel-port&gt; MUST be omitted.
</p>
<a name="sec-ice-pwd"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
ICE Password and Username Transport Header Parameters</h3>

<p>The ICE password and username for each agent needs to be
        transported using RTSP. For that purpose new transport header
        parameters are defined.
</p>
<p>There MUST be an "ICE-Password" and "ICE-ufrag" parameter for each
        media stream. If two SETUP requests in the same RTSP session have
        identical ICE-ufrag's, they MUST have identical ICE-Password's. The
        ICE-ufrag and ICE-Password attributes MUST be chosen randomly at the
        beginning of a session. The ICE-ufrag attribute MUST contain at least
        24 bits of randomness, and the ICE-Password attribute MUST contain at
        least 128 bits of randomness. This means that the ICE-ufrag attribute
        will be at least 4 characters long, and the ICE-Password at least 22
        characters long, since the grammar for these attributes allows for 6
        bits of randomness per character. The attributes MAY be longer than 4
        and 22 characters respectively, of course, up to 256 characters. The
        upper limit allows for buffer sizing in implementations. Its large
        upper limit allows for increased amounts of randomness to be added
        over time.
</p>
<p>The <a class='info' href='#RFC5234'>ABNF<span> (</span><span class='info'>Crocker, D. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a> [RFC5234] for these parameters
        are:
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>trns-parameter   =/ SEMI ice-password-par
trns-parameter   =/ SEMI ice-ufrag-par
ice-password-par = "ICE-Password" EQUAL password
ice-ufrag-par    = "ICE-ufrag" EQUAL ufrag
password         = &lt;Defined in [I-D.ietf-mmusic-ice]&gt;
ufrag            = &lt;Defined in [I-D.ietf-mmusic-ice]&gt;
EQUAL            = &lt;Defined in [I-D.ietf-mmusic-rfc2326bis]&gt;
SEMI             = &lt;Defined in [I-D.ietf-mmusic-rfc2326bis]&gt;
</pre></div><p>

</p>
<a name="ice-feature-tag"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
ICE Feature Tag</h3>

<p>A feature tag is defined for use in the RTSP capabilities mechanism
        for ICE support of media transport using datagrams: "setup.ice-d-m".
        This feature tag indicates that one supports all the mandatory
        functions of this specification. It is applicable to all types of RTSP
        agents; clients, servers and proxies.
</p>
<p>The RTSP client SHOULD send the feature tag "setup.ice-d-m" in the
        "Supported" header in all SETUP requests that contain the "D-ICE"
        lower layer transport.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Status Codes</h3>

<p>ICE needs two new RTSP response codes to indicate correctly
        progress and errors.
</p>
<p>
</p><br /><hr class="insert" />
<a name="tab-status"></a>

<p style='text-align: center'>
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">Code</th><th align="left">Reason</th><th align="left">Method</th></tr>
<tr>
<td align="left">150</td>
<td align="left">Server still working on ICE connectivity checks</td>
<td align="left">PLAY</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">480</td>
<td align="left">ICE Connectivity check failure</td>
<td align="left">PLAY, SETUP</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: New Status codes and their usage with RTSP methods&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-sc-150"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5.1"></a><h3>3.5.1.&nbsp;
150 ICE connectivity checks in progress</h3>

<p>The 150 response code indicates that ICE connectivity checks are
          still in progress and haven't concluded. This response SHALL be sent
          within 200 milliseconds of receiving a PLAY request that currently
          can't be fulfilled because ICE connectivity checks are still
          running. Subsequently, every 3 seconds after the previous sent one,
          a 150 reply shall be sent until the ICE connectivity checks conclude
          either successfully or in failure, and a final response for the
          request can be provided.
</p>
<a name="sec-sc-480"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5.2"></a><h3>3.5.2.&nbsp;
480 ICE Processing Failed</h3>

<p>The 480 client error response code is used in cases when the
          request can't be fulfilled due to a failure in the ICE processing,
          such as that all the connectivity checks have timed out. This error
          message can appear either in response to a SETUP request to indicate
          that no candidate pair can be constructed or to a PLAY request that
          the server's connectivity checks resulted in failure.
</p>
<a name="sec-notify-reason"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
New Reason for PLAY_NOTIFY</h3>

<p>A new value used in the PLAY_NOTIFY methods Notify-Reason header is
        defined: "ice-restart". This reason indicates that a ICE restart needs
        to happen on the identified resource and session. </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Notify-Reas-val =/ "ice-restart"
</pre></div><p>

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.7"></a><h3>3.7.&nbsp;
Server Side SDP Attribute for ICE Support </h3>

<p>If the server supports the media NAT traversal for RTSP controlled
        sessions, as described in this RFC, then the Server SHOULD include the
        "a=rtsp-ice-d-m" SDP attribute in any SDP (if used) describing content
        served by the server. This is an session level attribute.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>rtsp-ice-d-m-attr = "a=" "rtsp-ice-d-m"
</pre></div><p>

</p>
<p>
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.8"></a><h3>3.8.&nbsp;
ICE Features Not Required in RTSP</h3>

<p>A number of ICE signalling features are not needed with RTSP and
        are discussed below.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.8.1"></a><h3>3.8.1.&nbsp;
ICE-Lite</h3>

<p>The ICE-Lite attribute shall not be used in the context of RTSP.
          The ICE specification describes two implementations of ICE: Full and
          Lite, where hosts that are not behind a NAT are allowed to implement
          only Lite. For RTSP, the Lite implementation is insufficient because
          it does not cause the media server to send a connectivity check,
          which are used to protect against making the RTSP server a denial of
          service tool. This document defines another variation implementation
          of ICE, called ICE-RTSP. It has its own set of simplifications
          suitable to RTSP. Conceptually, this implementation of ICE-RTSP is
          between ICE-FULL and ICE-LITE for a server and simpler than ICE-FULL
          for clients.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.8.2"></a><h3>3.8.2.&nbsp;
ICE-Mismatch</h3>

<p>The ice-mismatch parameter indicates that the offer arrived with
          a default destination for a media component that didn't have a
          corresponding candidate attribute. This is not needed for RTSP as
          the ICE based lower layer transport specification either is
          supported or another alternative transport is used. This is always
          explicitly indicated in the SETUP request and response.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.8.3"></a><h3>3.8.3.&nbsp;
ICE Remote Candidate Transport Header Parameter</h3>

<p>The Remote candidate attribute is not needed for RTSP for the
          following reasons. Each SETUP results in a independent ICE
          processing chain which either fails or results in promoting a single
          candidate pair to usage. If a new SETUP request for the same media
          is sent this needs to use a new userfragment and password to avoid
          any race conditions or uncertainty for which processing round the
          STUN requests relate to.
</p>
<p>
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Detailed Solution</h3>

<p>This section describes in detail how the interaction and flow of ICE
      works with RTSP messages.
</p>
<p>
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Session description and RTSP DESCRIBE (optional)</h3>

<p>The RTSP server should indicate it has support for ICE by sending
        the "rtsp-ice-d-m" SDP attribute in the response to the RTSP DESCRIBE
        message if SDP is used. This allows RTSP clients to only send the new
        ICE interchanges with servers that support ICE so limiting the
        overhead on current non-ICE supporting RTSP servers. When not using
        RTSP DESCRIBE it is still recommended to use the SDP attribute for
        session description.
</p>
<p>A Client can also use the DESCRIBE request to determine explicitly
        if both server and any proxies support ICE. The client includes the
        "Supported" header with its supported feature tags, including
        "setup.ice-d-m". Any proxy upon seeing the "Supported" header will
        include the "Proxy-Supported" header with the feature tags it
        supports. The server will echo back the "Proxy-Supported" header and
        its own version of the Supported header so enabling a client to
        determine if all involved parties support ICE or not. Note that even
        if a proxy is present in the chain that doesn't indicate support for
        ICE, it may still work.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>For example:
     C-&gt;S: DESCRIBE rtsp://server.example.com/fizzle/foo RTSP/2.0
           CSeq: 312
           User-Agent: PhonyClient 1.2
           Accept: application/sdp, application/example
           Supported: setup.ice-d-m

     S-&gt;C: RTSP/2.0 200 OK
           CSeq: 312
           Date: 23 Jan 1997 15:35:06 GMT
           Server: PhonyServer 1.1
           Content-Type: application/sdp
           Content-Length: 367
           Supported: setup.ice-d-m

           v=0
           o=mhandley 2890844526 2890842807 IN IP4 192.0.2.46
           s=SDP Seminar
           i=A Seminar on the session description protocol
           u=http://www.example.com/lectures/sdp.ps
           e=seminar@example.com (Seminar Management)
           t=2873397496 2873404696
           a=recvonly
           a=rtsp-ice-d-m
           a=control: *
           m=audio 3456 RTP/AVP 0
           a=control: /audio
           m=video 2232 RTP/AVP 31
           a=control: /video
</pre></div><p>

</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Setting up the Media Streams</h3>

<p>The RTSP client reviews the session description returned, for
        example by an RTSP DESCRIBE message, to determine what media resources
        that need to be setup. For each of these media streams where the
        transport protocol supports ICE connectivity checks, the client shall
        gather candidate addresses as described in section 4.1.1 in <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a> according to standard ICE rather
        than the ICE-Lite implementation.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
RTSP SETUP Request</h3>

<p>The RTSP client will then send at least one SETUP request per media
        stream to establish the media streams required for the desired
        session. For each media stream where it desires to use ICE it will
        include a transport specification with "D-ICE" as the lower layer, and
        each media stream SHALL have its own unique ICE candidates. This
        transport specification SHOULD be placed first in the list to give it
        highest priority. It is RECOMMENDED that additional transport
        specifications are provided as a fallback in case of non ICE
        supporting proxies. For example (Note that some lines are broken in
        contradiction with the defined syntax due to space restrictions in the
        documenting format:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
C-&gt;S: SETUP rtsp://server.example.com/fizzle/foo/audio RTSP/2.0
      CSeq: 302
      Transport: RTP/AVP/D-ICE; unicast; ICE-ufrag=8hhY;
                ICE-Password=asd88fgpdd777uzjYhagZg; candidates="
                1 1 UDP 2130706431 10.0.1.17 8998 typ host;
                2 1 UDP 1694498815 192.0.2.3 45664 typ srflx
                         raddr 10.0.1.17 rport 9002",
                RTP/AVP/UDP; unicast; dest_addr=":6970"/":6971",
                RTP/AVP/TCP;unicast;interleaved=0-1
      Accept-Ranges: NPT, UTC
      User-Agent: PhonyClient/1.2
      Supported: setup.ice-d-m

</pre></div>
<p>The RTSP client will be initiating and thus the controlling party
        in the ICE processing.
</p>
<a name="server-gather"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Gathering Candidates</h3>

<p>Upon receiving a SETUP request the server can determine what media
        resource should be delivered and which transport alternatives that the
        client supports. If one based on D-ICE is on the list of supported
        transports and prefered among the support, the below applies.
</p>
<p>The transport specification will provide which media protocol is to
        be used and based on this and the clients candidates, the server
        determines the protocol and if it supports ICE with that protocol. The
        server shall then gather its candidates according to section 4.1.1 in
        <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>. Servers that have an
        address that is generally reachable by any clients within the address
        scope the server intends to serve MAY be specially configured
        (high-reachability configuration). This special configuration has the
        goal of reducing the server side candidate to preferably a single one
        per (address family, media stream, media component) tuple. Instead of
        gathering all possible addresses including relayed and server
        reflexive addresses, the server uses a single address per address
        family that it knows it should be reachable by a client behind one or
        more NATs. The reason for this special configuration is two fold:
        Firstly it reduces the load on the server in address gathering and in
        ICE processing during the connectivity checks. Secondly it will reduce
        the number of permutations for candidate pairs significantly thus
        potentially speeding up the conclusion of the ICE processing. Note
        however that using this option on a server that doesn't fulfill the
        requirement of being reachable is counter-productive and it is
        important that this is correctly configured.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
RTSP Server Response</h3>

<p>The server determines if the SETUP request is successful from the
        other perspectives and will return a 200 OK response, otherwise
        returning an error code from the list in Table 4 in <a class='info' href='#I-D.ietf-mmusic-rfc2326bis'>[I&#8209;D.ietf&#8209;mmusic&#8209;rfc2326bis]<span> (</span><span class='info'>Schulzrinne, H., Rao, A., Lanphier, R., Westerlund, M., and M. Stiemerling, &ldquo;Real Time Streaming Protocol 2.0 (RTSP),&rdquo; March&nbsp;2010.</span><span>)</span></a>. At that point the server,
        having selected a transport specification using the "D-ICE" lower
        layer, will need to include that transport specification in the
        response message. The transport specification shall include the
        candidates gathered in Section<a class='info' href='#server-gather'>Section&nbsp;4.4<span> (</span><span class='info'>Gathering Candidates</span><span>)</span></a> in
        the "candidates" transport header parameter as well as the server's
        username and password. In the case that there are no valid candidate
        pairs with the combination of the client and servers candidates, a 480
        (ICE Processing Failed) error response shall be returned which must
        include the servers' candidates. The return of a 480 error allows both
        the server and client to release its candidates.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>S-&gt;C: RTSP/2.0 200 OK
      CSeq: 302
      Session: 12345678
      Transport: RTP/AVP/D-ICE; unicast; ICE-ufrag=MkQ3;
                ICE-Password=pos12Dgp9FcAjpq82ppaF; candidates="
                 1 1 UDP 2130706431 192.0.2.56 50234 typ host"
      Accept-Ranges: NPT
      Date: 23 Jan 1997 15:35:06 GMT
      Server: PhonyServer 1.1
      Supported: setup.ice-d-m
</pre></div><p>

</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
Server to Client ICE Connectivity Checks</h3>

<p>The server shall start the connectivity checks following the
        procedures described in Section 5.7 and 5.8 of <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a> unless it is configured to use
        the high-reachability option. If it is then it can suppress its own
        checks until the servers checks are triggered by the client's
        connectivity checks.
</p>
<p>Please note that section 5.8 does specify that the start of
        initiation of the checks are paced and new ones are only started every
        Ta seconds. The motivation for this is documented in Appendix B.1 of
        <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a> as for SIP/SDP all media
        streams within an offer/answer dialog are running using the same
        queue. To ensure the same behavior with RTSP, the server SHALL use a
        single pacer queue for all media streams within each RTSP session.
</p>
<p>The values for the pacing of STUN and TURN transactions Ta and RTO
        can be configured but have some minimum values defined in the ICE
        specification.
</p>
<p>When a connectivity check from the client reaches the server it
        will result in a triggered check from the server as specified in
        section 7.2.1.4 of <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>. This is
        why servers with a high reachability address can wait until this
        triggered check to send out any checks for itself so saving resources
        and mitigating the DDoS potential.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.7"></a><h3>4.7.&nbsp;
Client to Server ICE Connectivity Check</h3>

<p>The client receives the SETUP response and learns the candidate
        address to use for the connectivity checks. The client shall initiate
        its connectivity check, following the procedures in Section 6 of <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>. The STUN transaction pacer SHALL
        be used across all media streams part of the same RTSP session.
</p>
<p>Aggressive nomination SHALL be used with RTSP. This doesn't have
        the negative impact that it has in offer/answer as media playing only
        starts after issuing a PLAY request.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.8"></a><h3>4.8.&nbsp;
Client Connectivity Checks Complete</h3>

<p>When the client has concluded all of its connectivity checks and
        has nominated its desired candidate for a particular media stream, it
        MAY issue a PLAY request for that stream. Note, that due to the
        aggressive nomination, there is a risk that any outstanding check may
        nominate another pair than what was already nominated. If the client
        has locally determined that its checks have failed it may try
        providing an extended set of candidates and update the server
        candidate list by issuing a new SETUP request for the media
        stream.
</p>
<p>If the client concluded its connectivity checks successfully and
        therefore sent a PLAY request but the server cannot conclude
        successfully, the server will respond with a 480 (ICE Processing
        Failed). Upon receiving the 480 (ICE Processing Failed) response, the
        client may send a new SETUP request assuming it has any new
        information that can be included in the candidate list. If the server
        is still performing the checks it will respond with a 150 (CE
        connectivity checks in progress) response to indicate this.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.9"></a><h3>4.9.&nbsp;
Server Connectivity Checks Complete</h3>

<p>When the RTSP server receives a PLAY request, it checks to see that
        the connectivity checks have concluded successfully and only then will
        it play the stream. If the PLAY request is for a particular media
        stream, the server only needs to check that the connectivity checks
        for that stream completely successfully. If the server has not
        concluded its connectivity checks the server indicates that by sending
        the <a class='info' href='#sec-sc-150'>150 (ICE connectivity checks in
        progress)<span> (</span><span class='info'>150 ICE connectivity checks in progress</span><span>)</span></a>. If there is a problem with the checks then the
        server sends to the client a 480 response to indicate a failure of the
        checks. If the checks are successful then the server sends a 200 OK
        response and starts delivering media.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.10"></a><h3>4.10.&nbsp;
Releasing Candidates</h3>

<p>Both server and client may release its non nominated candidates as
        soon as a 200 PLAY response has been issued/received and no
        outstanding connectivity checks exist.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.11"></a><h3>4.11.&nbsp;
Steady State</h3>

<p>The client will continue to use STUN to send keep-alive for the
        used bindings. This is important as normally RTSP play mode sessions
        only contain traffic from the server to the client so the bindings in
        the NAT need to be refreshed by the client to server traffic provided
        by the STUN keep-alive.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.12"></a><h3>4.12.&nbsp;
re-SETUP</h3>

<p>The server SHALL support SETUP requests in PLAYING state, as long
        as the SETUP changes only the ICE parameters, which are: ICE-Password,
        ICE-ufrag and the content of ICE candidates.
</p>
<p>If the client decides to change any parameter related to the media
        stream SETUP it will send a new SETUP request. In this new SETUP
        request the client SHALL include a new different username and password
        to use in the ICE processing. This request will also cause the ICE
        processing to start from the beginning again.
</p>
<p>If the RTSP session is in playing state at the time of sending the
        SETUP request, the ICE connectivity checks SHALL use Regular
        nomination. Any ongoing media delivery continues on the previously
        nominated candidate pairs until the new pairs have been nominated for
        the individual candidate. Once the nomination of the new candidate
        pair has completed, all unused candidates may be released.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.13"></a><h3>4.13.&nbsp;
Server Side Changes After Steady State</h3>

<p>A Server may require an ICE restart because of server side load
        balancing or a failure resulting in an IP address and a port number
        change. It shall use the PLAY_NOTIFY method to inform the client
        (<a class='info' href='#I-D.ietf-mmusic-rfc2326bis'>Section 13.5<span> (</span><span class='info'>Schulzrinne, H., Rao, A., Lanphier, R., Westerlund, M., and M. Stiemerling, &ldquo;Real Time Streaming Protocol 2.0 (RTSP),&rdquo; March&nbsp;2010.</span><span>)</span></a> [I&#8209;D.ietf&#8209;mmusic&#8209;rfc2326bis]) with a
        new Notify-Reason header: ice-restart. The server will identify if the
        change is for a single media or for the complete session by including
        the corresponding URI in the PLAY_NOTIFY request.
</p>
<p>Upon receiving and responding to this PLAY_NOTIFY with ice-restart
        reason the client SHALL gather new ICE candidates, send SETUP requests
        for each media stream part of the session. The server provides its
        candidates in the SETUP response the same way as for the first time
        ICE processing. Both server and client shall provide new ICE usernames
        and passwords. The client MAY issue the SETUP request while the
        session is in PLAYING state.
</p>
<p>If the RTSP session is in PLAYING state when the client issues the
        SETUP request the client SHALL use regular nomination. If not the
        client will use the same procedures as for when first creating the
        session.
</p>
<p>Note that keepalives on the previous set of candidate pairs should
        continue until all new candidate pairs have been nominated. After
        having nominated a new set of candidate pairs, the client may continue
        to receive media for some additional time. Even if the server stops
        delivering media over that candidate pair at the time of nomination,
        media may arrive for up to one maximum segment lifetime as defined in
        TCP (2 minutes). Unfortuntately, if the RTSP server is divided into a
        separate controller and media streame, a failure may result in
        continued media delivery for a longer time than the maximum segment
        liftime, thus source filtering is recommended.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>For example:

S-&gt;C: PLAY_NOTIFY rtsp://example.com/fizzle/foo RTSP/2.0
      CSeq: 854
      Notify-Reason: ice-restart
      Session: uZ3ci0K+Ld
      Server: PhonyServer 1.1

C-&gt;S: RTSP/2.0 200 OK
      CSeq: 854
      User-Agent: PhonyClient/1.2

C-&gt;S: SETUP rtsp://server.example.com/fizzle/foo/audio RTSP/2.0
      CSeq: 302
      Session: uZ3ci0K+Ld
      Transport: RTP/AVP/D-ICE; unicast; ICE-ufrag=Kl1C;
                 ICE-Password=H4sICGjBsEcCA3Rlc3RzLX; candidates ="
                 1 1 UDP 2130706431 10.0.1.17 8998 typ host;
                 2 1 UDP 1694498815 192.0.2.3 51456 typ srflx
                         raddr 10.0.1.17 rport 9002",
                 RTP/AVP/UDP; unicast; dest_addr=":6970"/":6971",
                 RTP/AVP/TCP;unicast;interleaved=0-1
      Accept-Ranges: NPT, UTC
      User-Agent: PhonyClient/1.2

C-&gt;S: SETUP rtsp://server.example.com/fizzle/foo/video RTSP/2.0
      CSeq: 303
      Session: uZ3ci0K+Ld
      Transport: RTP/AVP/D-ICE; unicast; ICE-ufrag=hZv9;
                 ICE-Password=JAhA9myMHETTFNCrPtg+kJ; candidates="
                 1 1 UDP 2130706431 10.0.1.17 9000 typ host;
                 2 1 UDP 1694498815 192.0.2.3 51576 typ srflx
                         raddr 10.0.1.17 rport 9004",
                 RTP/AVP/UDP; unicast; dest_addr=":6972"/":6973",
                 RTP/AVP/TCP;unicast;interleaved=0-1
      Accept-Ranges: NPT, UTC
      User-Agent: PhonyClient/1.2

S-&gt;C: RTSP/2.0 200 OK
      CSeq: 302
      Session: uZ3ci0K+Ld
      Transport: RTP/AVP/D-ICE; unicast; ICE-ufrag=CbDm;
                 ICE-Password=OfdXHws9XX0eBr6j2zz9Ak; candidates="
                 1 1 UDP 2130706431 192.0.2.56 50234 typ host"
      Accept-Ranges: NPT
      Date: 23 Jan 1997 15:43:12 GMT
      Server: PhonyServer 1.1

S-&gt;C: RTSP/2.0 200 OK
      CSeq: 303
      Session: uZ3ci0K+Ld
      Transport: RTP/AVP/D-ICE; unicast; ICE-ufrag=jigs;
                 ICE-Password=Dgx6fPj2lsa2WI8b7oJ7+s; candidates="
                 1 1 UDP 2130706431 192.0.2.56 47233 typ host"
      Accept-Ranges: NPT
      Date: 23 Jan 1997 15:43:13 GMT
      Server: PhonyServer 1.1
</pre></div><p>

</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
ICE and Proxies</h3>

<p>RTSP allows for proxies which can be of two fundamental types
      depending if they relay and potentially cache the media or not. Their
      differing impact on the RTSP NAT traversal solution, including backwards
      compatibility, is explained below.
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Media Handling Proxies</h3>

<p>An RTSP proxy that relays or caches the media stream for a
        particular media session can be considered to split the media
        transport into two parts: A media transport between the server and the
        proxy according to the proxies need, and delivery from the proxy to
        the client. This split means that the NAT traversal solution will need
        to be run on each individual media leg according to need.
</p>
<p>It is RECOMMENDED that any media handling proxy support the media
        NAT traversal defined within this specification. This is for two
        reasons: Firstly to enable clients to perform NAT traversal for the
        media between the proxy and itself and secondly to allow the proxy to
        be topology independent so able to support performing NAT traversal
        for non-NAT traversal capable clients present in the same address
        domain.
</p>
<p>For a proxy to support the media NAT traversal defined in this
        specification a proxy will need to implement the solution fully and be
        ready as both a controlling and a controlled ICE peer. The proxy also
        SHALL include the "setup.ice-d-m" feature tag in any applicable
        capability negotiation headers, such as "Proxy-Supported."
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Signalling Only Proxies</h3>

<p>A signalling only proxy handles only the RTSP signalling and does
        not have the media relayed through proxy functions. This type of proxy
        is not likely to work unless the media NAT traversal solution is in
        place between the client and the server, because the DoS protection
        measures usually prevent media delivery to other addresses other than
        from where the RTSP signalling arrives at the server.
</p>
<p>The solution for the Signalling Only proxy is that it must forward
        the RTSP SETUP requests including any transport specification with the
        "D-ICE" lower layer and the related transport parameters. A proxy
        supporting this functionality SHOULD indicate its capability by always
        including the "setup.ice-d-m" feature tag in the "Proxy-Supported"
        header.
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Non-supporting Proxies</h3>

<p>A media handling proxy that doesn't support the ICE media NAT
        traversal specified here is assumed to remove the transport
        specification and use any of the lower prioritized transport
        specifications if provided by the requester. The specification of such
        a non ICE transport enables the negotiation to complete, although with
        a less prefered method as a NAT between the proxy and the client will
        likely result in failure of the media path.
</p>
<p>A non-media handling transport proxy is expected to ignore and
        simply forward all unknown transport specifications, however, this can
        only be guaranteed for proxies following the published RTSP 2.0
        specification.
</p>
<p>Unfortunately the usage of the "setup.ice-d-m" feature tag in the
        proxy-require will have contradicting results. For a non ICE
        supporting media handling proxy, the inclusion of the feature tag will
        result in aborting the setup and indicating that it isn't supported,
        which is desirable if you want to provide other fallbacks or other
        transport configurations to handle the situation. For non-supporting
        non-media handling proxies the result will also result in aborting the
        setup, however, setup might have worked if the proxy-require tag
        wasn't present. This variance in results is the reason we don't
        recommend the usage of the Proxy-Require header. Instead we recommend
        the usage of the Supported header to force proxies to include the
        feature tags they support in the proxy-supported which will provide a
        positive indication when all proxies in the chain between the client
        and server support the functionality. Even if not explicitly
        indicating support, any SETUP response including a transport
        specification with "D-ICE" will be implicit indication that the proxy
        chain supports at least passthrough of this media.
</p>
<a name="rtp-mux"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
RTP and RTCP Multiplexing</h3>

<p><a class='info' href='#I-D.ietf-avt-rtp-and-rtcp-mux'>[I&#8209;D.ietf&#8209;avt&#8209;rtp&#8209;and&#8209;rtcp&#8209;mux]<span> (</span><span class='info'>Perkins, C. and M. Westerlund, &ldquo;Multiplexing RTP Data and Control Packets on a Single Port,&rdquo; August&nbsp;2007.</span><span>)</span></a> specifies how
      and when RTP and RTCP can be multiplexed on the same port. This
      multiplexing SHALL be combined with ICE as it makes RTP and RTCP need
      only a single component per media stream instead of two, so reducing the
      load on the connectivity checks. For details on how one negotiate RTP
      and RTCP multiplexing, see <a class='info' href='#I-D.ietf-mmusic-rfc2326bis'>Appendix B<span> (</span><span class='info'>Schulzrinne, H., Rao, A., Lanphier, R., Westerlund, M., and M. Stiemerling, &ldquo;Real Time Streaming Protocol 2.0 (RTSP),&rdquo; March&nbsp;2010.</span><span>)</span></a> [I&#8209;D.ietf&#8209;mmusic&#8209;rfc2326bis].
</p>
<p>Multiplexing RTP and RTCP has the benefit that it avoids the need for
      handling two components per media stream when RTP is used as the media
      transport protocol. This eliminates at least one STUN check per media
      stream and will also reduce the time needed to complete the ICE
      processing by at least the time it takes to pace out the additional STUN
      checks of up to one complete round trip time fpr a single media stream.
      In addition to the protocol performance improvements, the server and
      client side complexities are reduced as multiplexing halves the total
      number of STUN instances and holding the associate state. Multiplexing
      will also reduce the combinations and length of the list of possible
      candidates.
</p>
<p>The implementation of RTP and RTCP multiplexing is additional work
      required for this solution. However, when implementing the ICE solution
      a server or client will need to implement a de-multiplexer between the
      STUN, and RTP or RTCP packets below the RTP/RTCP implementation anyway,
      so the additional work of one new demultiplexing point directly
      connected to the STUN and RTP/RTCP seems small relative to the benefits
      provided.
</p>
<p>Due to the above mentioned benefits, RTSP servers and clients that
      supports "D-ICE" lower layer transport in combination with RTP SHALL
      also implement RTP and RTCP multiplexing as specified in this section
      and <a class='info' href='#I-D.ietf-avt-rtp-and-rtcp-mux'>[I&#8209;D.ietf&#8209;avt&#8209;rtp&#8209;and&#8209;rtcp&#8209;mux]<span> (</span><span class='info'>Perkins, C. and M. Westerlund, &ldquo;Multiplexing RTP Data and Control Packets on a Single Port,&rdquo; August&nbsp;2007.</span><span>)</span></a>.
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Open Issues</h3>

<p>Below is listed the known open issues and questions that needs to be
      resolved:
</p>
<p></p>
<ol class="text">
<li>None
</li>
</ol>

<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>This document request registration in a number of registries, both
      for RTSP and SDP.
</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
RTSP Feature Tags</h3>

<p>This document request that one RTSP 2.0 feature tags are registered
        in the "RTSP feature tag" registry:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>setup.ice-d-m</dt>
<dd>See Section <a class='info' href='#ice-feature-tag'>Section&nbsp;3.4<span> (</span><span class='info'>ICE Feature Tag</span><span>)</span></a>.
</dd>
</dl></blockquote>

<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
Transport Protocol Specifications</h3>

<p>This document needs to register a number of transport protocol
        combinations are registered in RTSP's "Transport Protocol
        Specifications" registry.
</p>
<p></p>
<blockquote class="text"><dl>
<dt>&quot;RTP/AVP/D-ICE&quot;</dt>
<dd>
</dd>
<dt>&quot;RTP/AVPF/D-ICE&quot;</dt>
<dd>
</dd>
<dt>&quot;RTP/SAVP/D-ICE&quot;</dt>
<dd>
</dd>
<dt>&quot;RTP/SAVPF/D-ICE&quot;</dt>
<dd>
</dd>
</dl></blockquote>

<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3"></a><h3>8.3.&nbsp;
RTSP Transport Parameters</h3>

<p>This document requests that 3 transport parameters are registered
        in RTSP's "Transport Parameters":
</p>
<p></p>
<blockquote class="text"><dl>
<dt>&quot;candidates&quot;:</dt>
<dd>See Section <a class='info' href='#sec-ice-cand'>Section&nbsp;3.2<span> (</span><span class='info'>ICE Candidate Transport Header Parameter</span><span>)</span></a>.
</dd>
<dt>&quot;ICE-Password&quot;:</dt>
<dd>See Section <a class='info' href='#sec-ice-pwd'>Section&nbsp;3.3<span> (</span><span class='info'>ICE Password and Username Transport Header Parameters</span><span>)</span></a>.
</dd>
<dt>&quot;ICE-ufrag&quot;:</dt>
<dd>See Section <a class='info' href='#sec-ice-pwd'>Section&nbsp;3.3<span> (</span><span class='info'>ICE Password and Username Transport Header Parameters</span><span>)</span></a>.
</dd>
</dl></blockquote>

<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4"></a><h3>8.4.&nbsp;
RTSP Status Codes</h3>

<p>This document requests that 2 assignments are done in the "RTSP
        Status Codes" registry. The suggested values are:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>150:</dt>
<dd>See Section <a class='info' href='#sec-sc-150'>Section&nbsp;3.5.1<span> (</span><span class='info'>150 ICE connectivity checks in progress</span><span>)</span></a>.
</dd>
<dt>480:</dt>
<dd>See Section <a class='info' href='#sec-sc-480'>Section&nbsp;3.5.2<span> (</span><span class='info'>480 ICE Processing Failed</span><span>)</span></a>.
</dd>
</dl></blockquote>

<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.5"></a><h3>8.5.&nbsp;
Notify-Reason value</h3>

<p>This document requests that one assignment is done in the
        Notify-Reason header value registry. The suggested value is:
</p>
<p></p>
<blockquote class="text"><dl>
<dt>ice-restart:</dt>
<dd>See section <a class='info' href='#sec-notify-reason'>Section&nbsp;3.6<span> (</span><span class='info'>New Reason for PLAY_NOTIFY</span><span>)</span></a>.
</dd>
</dl></blockquote>

<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.6"></a><h3>8.6.&nbsp;
SDP Attribute</h3>

<p>The registration of one SDP attribute is requested: </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>   SDP Attribute ("att-field"):

     Attribute name:     rtsp-ice-d-m
     Long form:          ICE for RTSP datagram media NAT traversal
     Type of name:       att-field
     Type of attribute:  Session level only
     Subject to charset: No
     Purpose:            RFC XXXX
     Reference:          RFC XXXX
     Values:             No values defined.
     Contact:            Magnus Westerlund
                         E-mail: magnus.westerlund@ericsson.com
                         phone: +46 10 714 82 87
</pre></div><p>

</p>
<p>
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>ICE <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a> provides an extensive
      discussion on security considerations which applies here as well.
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
ICE and RTSP</h3>

<p>A long-standing risk with transmitting a packet stream over UDP is
        that the host may not be interested in receiving the stream. On
        today's Internet many hosts are behind NATs or operate host firewalls
        which do not respond to unsolicited packets with an ICMP port
        unreachable error. Thus, an attacker can construct SDP with a victim's
        IP address and cause a flood of media packets to be sent to a victim.
        The addition of ICE, as described in this document, provides
        protection from the attack described above. By performing the ICE
        connectivity check, the media server receives confirmation that the
        RTSP client wants the media. While this protection could also be
        implemented by requiring the IP addresses in the SDP match the IP
        address of the RTSP signaling packet, such a mechanism does not
        protect other hosts with the same IP address (such as behind the same
        NAT), and such a mechanism would prohibit separating the RTSP
        controller from the media playout device (e.g., an IP-enabled remote
        control and an IP-enabled television).
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Acknowledgements</h3>

<p>The authors would like to thank R&eacute;mi Denis-Courmont for
      suggesting the method of integrating ICE in RTSP signalling, Dan Wing
      for help with the security section and numerous other issues.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-avt-rtp-and-rtcp-mux">[I-D.ietf-avt-rtp-and-rtcp-mux]</a></td>
<td class="author-text">Perkins, C. and M. Westerlund, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-avt-rtp-and-rtcp-mux-07.txt">Multiplexing RTP Data and Control Packets on a Single Port</a>,&rdquo; draft-ietf-avt-rtp-and-rtcp-mux-07 (work in progress), August&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-avt-rtp-and-rtcp-mux-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mmusic-ice">[I-D.ietf-mmusic-ice]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-ice-19.txt">Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols</a>,&rdquo; draft-ietf-mmusic-ice-19 (work in progress), October&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-ice-19.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mmusic-rfc2326bis">[I-D.ietf-mmusic-rfc2326bis]</a></td>
<td class="author-text">Schulzrinne, H., Rao, A., Lanphier, R., Westerlund, M., and M. Stiemerling, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-rfc2326bis-23.txt">Real Time Streaming Protocol 2.0 (RTSP)</a>,&rdquo; draft-ietf-mmusic-rfc2326bis-23 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-rfc2326bis-23.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4566">[RFC4566]</a></td>
<td class="author-text">Handley, M., Jacobson, V., and C. Perkins, &ldquo;<a href="http://tools.ietf.org/html/rfc4566">SDP: Session Description Protocol</a>,&rdquo; RFC&nbsp;4566, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4566.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text">Crocker, D. and P. Overell, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5234.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5389">[RFC5389]</a></td>
<td class="author-text">Rosenberg, J., Mahy, R., Matthews, P., and D. Wing, &ldquo;<a href="http://tools.ietf.org/html/rfc5389">Session Traversal Utilities for NAT (STUN)</a>,&rdquo; RFC&nbsp;5389, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5389.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mmusic-rtsp-nat-evaluation">[I-D.ietf-mmusic-rtsp-nat-evaluation]</a></td>
<td class="author-text">Westerlund, M. and T. Zeng, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-rtsp-nat-evaluation-02.txt">The evaluation of different NAT traversal Techniques for media controlled by Real-time Streaming Protocol (RTSP)</a>,&rdquo; draft-ietf-mmusic-rtsp-nat-evaluation-02 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-rtsp-nat-evaluation-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2326">[RFC2326]</a></td>
<td class="author-text"><a href="mailto:schulzrinne@cs.columbia.edu">Schulzrinne, H.</a>, <a href="mailto:anup@netscape.com">Rao, A.</a>, and <a href="mailto:robla@real.com">R. Lanphier</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2326">Real Time Streaming Protocol (RTSP)</a>,&rdquo; RFC&nbsp;2326, April&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2326.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3022">[RFC3022]</a></td>
<td class="author-text">Srisuresh, P. and K. Egevang, &ldquo;<a href="http://tools.ietf.org/html/rfc3022">Traditional IP Network Address Translator (Traditional NAT)</a>,&rdquo; RFC&nbsp;3022, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3022.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4340">[RFC4340]</a></td>
<td class="author-text">Kohler, E., Handley, M., and S. Floyd, &ldquo;<a href="http://tools.ietf.org/html/rfc4340">Datagram Congestion Control Protocol (DCCP)</a>,&rdquo; RFC&nbsp;4340, March&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4340.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jeff Goldberg</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">11 New Square, Bedfont Lakes</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Feltham,, Middx  TW14 8HA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">United Kingdom</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+44 20 8824 1000</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jgoldber@cisco.com">jgoldber@cisco.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Magnus Westerlund</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Torshamsgatan 23</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Stockholm,   SE-164 80</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sweden</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+46 8 719 0000</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:magnus.westerlund@ericsson.com">magnus.westerlund@ericsson.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Thomas Zeng</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nextwave Wireless, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">12670 High Bluff Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Diego, CA  92130</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 858 480 3100</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:thomas.zeng@gmail.com">thomas.zeng@gmail.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
</table>
</body></html>
