<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Validation of Locations Around a Planned Change</title>
<meta content="Brian Rosen" name="author">
<meta content="
       This document defines an extension to the Location to Service Translation (LoST) protocol (RFC5222) that allows  planned changes to the data to be handled smoothly.  This extension is only useful with the validation function of LoST.  It is beneficial for LoST validation clients to be aware of planned changes, as records that previously were valid may become invalid at a known future date, and new locations may become valid after the date.  This extension adds an element to the &lt;findService&gt; request: a date that allows the LoST client to request that the server perform validation as of the date specified.  It adds an optional Time-To-Live element to the response, which informs clients of the current expected lifetime of a validation.  It also adds a separate interface to the LoST server that allows a client to poll for planned changes.  Additionally, this document provides a conventional XML schema for LoST, as a backwards compatible alternative to the RelaxNG schema in RFC5222.
       
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-ecrit-lost-planned-changes-05" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-ecrit-lost-planned-changes-05-dp58w07h.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">LoST Planned Changes</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Rosen</td>
<td class="center">Expires 14 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ecrit</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-ecrit-lost-planned-changes-05</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfcRFC5222" class="eref">RFC5222</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-11" class="published">11 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-14">14 April 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Rosen</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Validation of Locations Around a Planned Change</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines an extension to the Location to Service Translation (LoST) protocol (RFC5222) that allows  planned changes to the data to be handled smoothly.  This extension is only useful with the validation function of LoST.  It is beneficial for LoST validation clients to be aware of planned changes, as records that previously were valid may become invalid at a known future date, and new locations may become valid after the date.  This extension adds an element to the &lt;findService&gt; request: a date that allows the LoST client to request that the server perform validation as of the date specified.  It adds an optional Time-To-Live element to the response, which informs clients of the current expected lifetime of a validation.  It also adds a separate interface to the LoST server that allows a client to poll for planned changes.  Additionally, this document provides a conventional XML schema for LoST, as a backwards compatible alternative to the RelaxNG schema in RFC5222.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 14 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-used-in-this-do" class="xref">Conventions used in this document</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-planned-change-poll-interfa" class="xref">Planned Change Poll Interface</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-plannedchange-element" class="xref">&lt;plannedChange&gt; element</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-time-to-live-ttl-in-respons" class="xref">Time-To-Live (TTL) in Response</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-replacement-xml-schema" class="xref">Replacement XML schema</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-extension-xml-schema" class="xref">Extension XML Schema</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-plannedchangepoll-interface" class="xref">plannedChangePoll Interface Description</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-replacement-xml-schema-regi" class="xref">Replacement XML Schema Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-planned-change-extension-xm" class="xref">Planned Change Extension XML Schema Registration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Validation of civic locations involves dealing with data that may change over time.  A typical example is when a portion of a county or district that was not part of a municipality is "annexed" to a municipality.  Prior to the change, a Presence Information Data Format Location Object (PIDF-LO) specifying a civic location in the affected area would have a blank A3 element, or would contain some other value; after the change, a PIDF-LO specifying the same location would contain an A3 element set to the name of the municipality that annexed that part of the county/district.  This kind of annexation has an effective date and time (typically 00:00 on the first or last day of a month), known in advance.  Other kinds of changes may also occur, and these will almost always also have an effective date that is known in advance.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Records in a LIS must change around these kinds of events.  The old record must be discarded, and a new, validated record must be loaded into the LIS.  It is often difficult for the LIS operator to know that records must be changed around such events.  There are other circumstances where locations that were previously valid become invalid, such as a street renaming or renumbering event.  Using <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span> validation, the only way for a LIS to discover such changes is to periodically revalidate its entire database.  Of course, this does not facilitate timely changes, is not coordinated with the actual change event, and also adds significant load to the LoST server as well as the LIS.  Even if re-validation is contemplated, the server has no mechanism to control, or even suggest the time period for revalidation.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This extension allows a LoST client to obtain from the LoST server sets of locations which may change.  It makes use of "partial location information" which is a set of location elements and values that, when compared against the client's location records, identify which of the clients records may change as a result of the planned change.  A set of such partial locations is termed a "ChangeSet". ChangeSets have an ID, and a date when the change is effective.  IDs are ordered.  The planned change interface is a REST/JSON interface that allows the client to poll the server using the last ID that it obtained from that server.  The response to the poll is a list of all the newer planned changes the server knows about beyond the ChangeSet whose ID was included in the poll.  The ID for the last ChangeSet in the returned list will be used by the client for the next poll.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">When a LIS receives a new ChangeSet, it may prepare one or more new records so that, at the precise planned event date and time, it may insert the new records into in its active database and delete the old records.  As part of preparing the new records in advance of the change, the LIS may use the "as of" date component of this extension to perform a LoST validation of the new record as of the effective date.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">The "asOf" date component of this extension in a &lt;FindService&gt; request allow a LIS to be prepared for and smoothly transition to planned changes, without the overhead and delay inherent in performing periodic revalidation of each location.  The notification URI allows a LIS to be alerted to planned changes, while the "as of" date allows the LIS to verify the validity of locations before they become active.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">In situations where it is not practical or advisable for the LIS to maintain a stable URI for each of its records, periodic revalidation can still be used to maintain the data in the LIS.  However, the LoST server should be able to influence the rate of such revalidation.  For this purpose, this extension adds a  Time to Live (TTL) attribute to the &lt;findServiceResponse&gt; which provides advice from the server to the LIS of when validation is suggested.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">There are quite a few implementations of LoST.  Experience with these implementations indicates that the RelaxNG schema is very difficult to deal with, both because many commonly used development tools don't support it, and development staff is often unfamiliar with it.  Informal alternative schemas have been circulated, which is undesirable as they may not be in conformance with the RelaxNG schema in <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>.  This document provides an XML schema that replaces the RelaxNG schema.  It can be used by any implementation interchangeably with the RelaxNG schema.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
<div id="conventions">
<section id="section-2">
      <h2 id="name-conventions-used-in-this-do">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions used in this document</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">"Server" in this document refers to the LoST server and "Client" is the LoST client, even when the server is performing an operation on the client.<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3">
      <h2 id="name-planned-change-poll-interfa">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-planned-change-poll-interfa" class="section-name selfRef">Planned Change Poll Interface</a>
      </h2>
<p id="section-3-1"> This document defines a new interface to the LoST server.  The interface has three entry points.  One, Versions, returns the current version(s) the interface supports.  This allows the interface to evolve over time.  Another entry point, PlannedChangePoll, is a poll.  The poll returns a list of changeSetIds which identify ChangeSet objects.  The third, GetChangeSet, accepts a changeSetId and returns the ChangeSet object which contains the identifier (changeSetId), a date (changeSetEffective) and an array of partial locations.  A partial location is an array of location information element name and value pairs.  The client compares the location elements with its records.  For each of the clients records where all of the location elements provided in the partial location have the same values as those in the partial location, that client record may be affected by the planned change.  The client's records may have other location elements, but those are not considered in the comparison.  So, for example, a partial location may have a Country, A1, A2, A3 and A4 location elements, which means that any address with that Country, A1, A2, A3 and A4 values may be affected by the planned change regardless of street name and number.  As another example, a partial location with Country, A1, A2, A3, A4, RD and POD but not HN means any address number on the specified street.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2"> The changeSetId is string, which the server maintains as an ordered list of changeSetIds.  The id itself may not show the ordering.  For example, it could be a hashed timestamp, or a hashed sequence number.  Given a changeSetId returned by it in a prior poll, the server can identify which ChangeSets it has that come after, in order, after the one with the proffered changeSetId.  A new client does not know any ids, or a client may lose the id that it had.  The client would poll omitting the changeSetId in the poll query, and it response, the server returns all the ChangeSets it knows about.  The effective date of a ChangeSet returned by the server need not always be in the future.  Tardy clients may not keep up.  On the other hand, the server is not obligated to keep change sets whoose changeSetEffective date has past for more than some arbitrary time.  A 12 month time period may be appropriate for a server whose service area doesn't have many changes, where a 3 month time period may be needed in a fast changing service area where many changes occur regularly. A tardy client in a fast changing environment may recieve a large number of ChangSets in response to a poll.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">Polls are expected every few minutes.  A new client omits the ID in its first poll, and the server responds with all the changeSetsIds that it knows about.  Thereafter, the client retains the last changeSetId in its most recent poll and uses that in the next poll.  If the response to that poll is no changeSetIds, it means the changeSetId the client has is the latest change the server knows about, and that same changeSetId will be used in subsequent polls until the server returns a new one.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">The version mechanism returns a list of versions of the web service it supports.  This document describes version 1.0. Versions are described as a major version, the period "." and a minor version, where major and minor versions are integers.  A backwards compatible change within a major version MAY increment only the minor version number.  A non-backwards compatible change MUST increment the major version number.  To achieve backwards compatibility, implementations MUST ignore any object members they do not implement.  Minor version definitions SHALL only add objects, non-required members of existing objects, and non-mandatory-to use functions and SHALL NOT delete any objects, members of objects or functions.  This means an implementation of a specific major version and minor version is backwards compatible with all minor versions of the major version.  The versions mechanism returns an array of supported versions, one for each major version supported, with the minor version listed being the highest supported minor version.<a href="#section-3-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-plannedchange-element">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-plannedchange-element" class="section-name selfRef">&lt;plannedChange&gt; element</a>
      </h2>
<p id="section-4-1">This document defines a new element in the &lt;findService&gt; request called "plannedChange".  This element contains an attribute: 'asOf'.  The 'asOf' attribute contains a date and time in dateTime format with a required timezone.  The server validates the location in the request as of the date and time specified, taking into account planned changes.  This allows a client to verify that it can make changes in the LIS commensurate with changes in the LoST server by validating locations in advance of a change.<a href="#section-4-1" class="pilcrow">¶</a></p>
</section>
<section id="section-5">
      <h2 id="name-time-to-live-ttl-in-respons">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-time-to-live-ttl-in-respons" class="section-name selfRef">Time-To-Live (TTL) in Response</a>
      </h2>
<p id="section-5-1">This extension adds the 'ttl' element to the &lt;findServiceResponse&gt;.  The 'ttl'; element
contains a date and time after which the client may wish to revalidate the location
at the server.  A server MAY add this attribute to the response if validation is requested.  This element takes the form of the 'expires' attribute pattern of <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>, which allows
the values "NO-CACHE" or "NO-EXPIRATION" to be returned instead of a dateTime value.  However, for the 'ttl'; attribute "NO-CACHE" has no
meaning and MUST NOT be returned.  "NO-EXPIRATION" means the server does
not have a suggested revalidation period.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Selecting a revalidation interval is a complex balancing of timeliness, server load, stability of the underlying data, and policy of the LoST server.  Too short, and load on the server may overwhelm it.  Too long and invalid data may persist in the server for unacceptable lengths of time.  The URI notification mechanism provides timely notice to coordinate changes, but even with it, it is often advisable to revalidate data eventually.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">In areas that have little change in data, such as fully built out, stable communities already part of a municipality, it may be reasonable to set revalidation periods of 6 months or longer, especially if the URI mechanism is widely deployed at both the server and the clients.  In areas that are quickly growing, 20-30 day revalidation may be more appropriate even though such revalidation would be the majority of the traffic on the LoST server.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">When a planned change is made, typically the TTL value for the affected records is lowered, so that revalidation is forced soon after the change is implemented.   It is not advisable to set the expiration precisely at the planned change time if a large number of records will be changed, since that would cause a large spike in traffic at the change time.  Rather, the expiration time should have a random additional time added to it to spread out the load.<a href="#section-5-4" class="pilcrow">¶</a></p>
</section>
<div id="schema">
<section id="section-6">
      <h2 id="name-replacement-xml-schema">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-replacement-xml-schema" class="section-name selfRef">Replacement XML schema</a>
      </h2>
<p id="section-6-1">This schema is an alternative to The Relax NG schema in <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>.  Future extensions to LoST are exected to use this schema as the base for the extensions, rather than the Relax NG schema.  Existing extensions described using the Relax NG schema continue to be valid.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-2">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns="urn:ietf:params:xml:ns:lost1"
           targetNamespace="urn:ietf:params:xml:ns:lost1"
           elementFormDefault="qualified"&gt;

  &lt;xs:element name="findService"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:group ref="requestLocation"/&gt;
        &lt;xs:group ref="commonRequestPattern"/&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attribute name="validateLocation" type="xs:boolean"/&gt;
      &lt;xs:attribute name="serviceBoundary"&gt;
        &lt;xs:simpleType&gt;
          &lt;xs:restriction base="xs:token"&gt;
            &lt;xs:enumeration value="reference"/&gt;
            &lt;xs:enumeration value="value"/&gt;
          &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
      &lt;/xs:attribute&gt;
      &lt;xs:attribute name="recursive" type="xs:boolean"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="listServices"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:group ref="commonRequestPattern"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="listServicesByLocation"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:group ref="requestLocation"/&gt;
        &lt;xs:group ref="commonRequestPattern"/&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attribute name="recursive" type="xs:boolean"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="getServiceBoundary"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:group ref="extensionPoint"/&gt;
      &lt;xs:attributeGroup ref="serviceBoundaryKey"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="findServiceResponse"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref="mapping" maxOccurs="unbounded"/&gt;
        &lt;xs:element ref="locationValidation" minOccurs="0"/&gt;
        &lt;xs:group ref="commonResponsePattern"/&gt;
        &lt;xs:group ref="locationUsed"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="listServicesResponse"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref="serviceList"/&gt;
        &lt;xs:group ref="commonResponsePattern"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="listServicesByLocationResponse"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref="serviceList"/&gt;
        &lt;xs:group ref="commonResponsePattern"/&gt;
        &lt;xs:group ref="locationUsed"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="getServiceBoundaryResponse"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:group ref="serviceBoundary"/&gt;
        &lt;xs:group ref="commonResponsePattern"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:group name="commonRequestPattern"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:group ref="service"/&gt;
      &lt;xs:element ref="path" minOccurs="0"/&gt;
      &lt;xs:group ref="extensionPoint"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

  &lt;xs:group name="commonResponsePattern"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="warnings" minOccurs="0" maxOccurs="unbounded"/&gt;
      &lt;xs:element ref="path"/&gt;
      &lt;xs:group ref="extensionPoint"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

  &lt;xs:group name="requestLocation"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="location" maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

  &lt;xs:element name="location"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:complexContent&gt;
        &lt;xs:extension base="locationInformation"&gt;
          &lt;xs:attribute name="id" type="xs:token" use="required"/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:complexContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:complexType name="locationInformation"&gt;
    &lt;xs:group ref="extensionPoint" maxOccurs="unbounded"/&gt;
    &lt;xs:attribute name="profile" type="xs:NMTOKEN"/&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:group name="serviceBoundary"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="serviceBoundary" maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

  &lt;xs:element name="serviceBoundary" type="locationInformation"/&gt;

  &lt;xs:element name="serviceBoundaryReference"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:group ref="extensionPoint"/&gt;
      &lt;xs:attributeGroup ref="source"/&gt;
      &lt;xs:attributeGroup ref="serviceBoundaryKey"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:attributeGroup name="serviceBoundaryKey"&gt;
    &lt;xs:attribute name="key" type="xs:token" use="required"/&gt;
  &lt;/xs:attributeGroup&gt;

  &lt;xs:element name="path"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref="via" maxOccurs="unbounded"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="via"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:group ref="extensionPoint"/&gt;
      &lt;xs:attributeGroup ref="source"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:group name="locationUsed"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="locationUsed" minOccurs="0"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

  &lt;xs:element name="locationUsed"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name="id" type="xs:token" use="required"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:attributeGroup name="expires"&gt;
    &lt;xs:attribute name="expires" use="required"&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:union memberTypes="xs:dateTime"&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base="xs:token"&gt;
              &lt;xs:enumeration value="NO-CACHE"/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
          &lt;xs:simpleType&gt;
            &lt;xs:restriction base="xs:token"&gt;
              &lt;xs:enumeration value="NO-EXPIRATION"/&gt;
            &lt;/xs:restriction&gt;
          &lt;/xs:simpleType&gt;
        &lt;/xs:union&gt;
      &lt;/xs:simpleType&gt;
    &lt;/xs:attribute&gt;
  &lt;/xs:attributeGroup&gt;

  &lt;xs:simpleType name="qnameList"&gt;
    &lt;xs:list itemType="xs:QName"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:element name="mapping"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref="displayName"
             minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;xs:group ref="service"/&gt;
        &lt;xs:choice minOccurs="0"&gt;
          &lt;xs:group ref="serviceBoundary"/&gt;
          &lt;xs:element ref="serviceBoundaryReference"/&gt;
        &lt;/xs:choice&gt;
        &lt;xs:element ref="uri"
             minOccurs="0" maxOccurs="unbounded"/&gt;
        &lt;xs:element ref="serviceNumber" minOccurs="0"/&gt;
        &lt;xs:group ref="extensionPoint"/&gt;
      &lt;/xs:sequence&gt;
      &lt;xs:attributeGroup ref="expires"/&gt;
      &lt;xs:attribute name="lastUpdated" type="xs:dateTime"
            use="required"/&gt;
      &lt;xs:attributeGroup ref="source"/&gt;
      &lt;xs:attribute name="sourceId" type="xs:token"
            use="required"/&gt;
      &lt;xs:attributeGroup ref="message"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="displayName"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:simpleContent&gt;
        &lt;xs:extension base="xs:string"&gt;
          &lt;xs:attribute ref="xml:lang" use="required"/&gt;
        &lt;/xs:extension&gt;
      &lt;/xs:simpleContent&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="uri" type="xs:anyURI"/&gt;

  &lt;xs:element name="serviceNumber"&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:token"&gt;
        &lt;xs:pattern value="[0-9*#]+"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="locationValidation"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref="valid" minOccurs="0"/&gt;
        &lt;xs:element ref="invalid" minOccurs="0"/&gt;
        &lt;xs:element ref="unchecked" minOccurs="0"/&gt;
        &lt;xs:group ref="extensionPoint"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name="valid" type="qnameList"/&gt;

  &lt;xs:element name="invalid" type="qnameList"/&gt;

  &lt;xs:element name="unchecked" type="qnameList"/&gt;

  &lt;xs:complexType name="exceptionContainer"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:choice minOccurs="0" maxOccurs="unbounded"&gt;
        &lt;xs:element ref="badRequest"/&gt;
        &lt;xs:element ref="internalError"/&gt;
        &lt;xs:element ref="serviceSubstitution"/&gt;
        &lt;xs:element ref="defaultMappingReturned"/&gt;
        &lt;xs:element ref="forbidden"/&gt;
        &lt;xs:element ref="notFound"/&gt;
        &lt;xs:element ref="loop"/&gt;
        &lt;xs:element ref="serviceNotImplemented"/&gt;
        &lt;xs:element ref="serverTimeout"/&gt;
        &lt;xs:element ref="serverError"/&gt;
        &lt;xs:element ref="locationInvalid"/&gt;
        &lt;xs:element ref="locationProfileUnrecognized"/&gt;
      &lt;/xs:choice&gt;
      &lt;xs:group ref="extensionPoint"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attributeGroup ref="source"/&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:element name="errors" type="exceptionContainer"/&gt;

  &lt;xs:element name="warnings" type="exceptionContainer"/&gt;

  &lt;xs:complexType name="basicException"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
        Exception pattern.
      &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:group ref="extensionPoint"/&gt;
    &lt;xs:attributeGroup ref="message"/&gt;
  &lt;/xs:complexType&gt;

  &lt;xs:element name="badRequest" type="basicException"/&gt;

  &lt;xs:element name="internalError" type="basicException"/&gt;

  &lt;xs:element name="serviceSubstitution" type="basicException"/&gt;

  &lt;xs:element name="defaultMappingReturned" type="basicException"/&gt;

  &lt;xs:element name="forbidden" type="basicException"/&gt;

  &lt;xs:element name="notFound" type="basicException"/&gt;

  &lt;xs:element name="loop" type="basicException"/&gt;

  &lt;xs:element name="serviceNotImplemented" type="basicException"/&gt;

  &lt;xs:element name="serverTimeout" type="basicException"/&gt;

  &lt;xs:element name="serverError" type="basicException"/&gt;

  &lt;xs:element name="SRSinvalid" type="basicException"/&gt;

  &lt;xs:element name="locationInvalid" type="basicException"/&gt;

  &lt;xs:element name="locationValidationUnavailable"
          type="basicException"/&gt;

  &lt;xs:element name="locationProfileUnrecognized"&gt;
          type="basicException"/&gt;

  &lt;xs:element name="redirect"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:group ref="extensionPoint"/&gt;
      &lt;xs:attribute name="target" type="appUniqueString"
          use="required"/&gt;
      &lt;xs:attributeGroup ref="source"/&gt;
      &lt;xs:attributeGroup ref="message"/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:attributeGroup name="message"&gt;
    &lt;xs:attribute name="message" type="xs:token"/&gt;
    &lt;xs:attribute ref="xml:lang"/&gt;
  &lt;/xs:attributeGroup&gt;

  &lt;xs:group name="service"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="service" minOccurs="0"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

  &lt;xs:element name="service" type="xs:anyURI"/&gt;

  &lt;xs:simpleType name="appUniqueString"&gt;
    &lt;xs:restriction base="xs:token"&gt;
      &lt;xs:pattern value="([a-zA-Z0-9\-]+\.)+[a-zA-Z0-9]+"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:attributeGroup name="source"&gt;
    &lt;xs:attribute name="source" type="appUniqueString" use="required"/&gt;
  &lt;/xs:attributeGroup&gt;

  &lt;xs:element name="serviceList"&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:list itemType="xs:anyURI"/&gt;
    &lt;/xs:simpleType&gt;
  &lt;/xs:element&gt;

  &lt;xs:group name="notLost"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
        Any element not in the LoST namespace.
      &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:choice&gt;
      &lt;xs:any namespace="##other" processContents="skip"/&gt;
      &lt;xs:any namespace="##local" processContents="skip"/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:group&gt;

  &lt;xs:group name="anyElement"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
        A wildcard pattern for including any element
        from any other namespace.
      &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:sequence&gt;
      &lt;xs:any processContents="skip"
          minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

  &lt;xs:attributeGroup name="anyElement"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
        A wildcard pattern for including any element
        from any other namespace.
      &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:anyAttribute processContents="skip"/&gt;
  &lt;/xs:attributeGroup&gt;

  &lt;xs:group name="extensionPoint"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;
        A point where future extensions
        (elements from other namespaces)
        can be added.
      &lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:sequence&gt;
      &lt;xs:group ref="notLost"
           minOccurs="0" maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:group&gt;

&lt;/xs:schema&gt;
</pre><a href="#section-6-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="extSchema">
<section id="section-7">
      <h2 id="name-extension-xml-schema">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-extension-xml-schema" class="section-name selfRef">Extension XML Schema</a>
      </h2>
<p id="section-7-1">This schema provides the extension to the prior section schema for planned changes:<a href="#section-7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-2">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns="urn:ietf:params:xml:ns:lostPlannedChange1"
           targetNamespace="urn:ietf:params:xml:ns:lostPlannedChange1"
           elementFormDefault="qualified"&gt;
     &lt;!-- Import base Lost --&gt;
     &lt;xs:import namespace="urn:ietf:params:xml:ns:lost1"/&gt;
&lt;!-- extend the extensionPoint of commonRequestPattern of findService
                                                       to include:  --&gt;
        xs:group ref="plannedChange" minOccurs="1"/&gt;

&lt;!-- where --&gt;
       &lt;xs:group name="plannedChange"&gt;
           &lt;xs:sequence&gt;
              &lt;xs:element ref="asOf" type="xs:dateTime" minOccurs=
              "1"/&gt;
              &lt;xs:any namespace="##other" processContents="lax"
                 minOccurs="0" maxOccurs="unbounded"/&gt;
           &lt;/xs:sequence&gt;
        &lt;/xs:group&gt;

&lt;!-- extend the extensionPoint of commonResponsePattern in
                          findServiceResponse to include: --&gt;
           &lt;xs:element ref="ttl" type="expires" minOccurs="0" /&gt;

&lt;!-- extend the extensionPoint of extensionContainer to include: --&gt;
           &lt;xs:element ref="uriNotStored"/&gt;
&lt;!-- where --&gt;
           &lt;xs:element name="uriNotStored" type="basicException"/&gt;



&lt;/xs:schema&gt;
</pre><a href="#section-7-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="poll">
<section id="section-8">
      <h2 id="name-plannedchangepoll-interface">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-plannedchangepoll-interface" class="section-name selfRef">plannedChangePoll Interface Description</a>
      </h2>
<div class="alignLeft art-text artwork" id="section-8-1">
<pre>
            openapi: 3.0.1
        info:
          title: LoST plannedChange
          version: "1.0"
        servers:
          - url: http://localhost/LoST/v1
        paths:
          /PlannedChangePoll:
            get:
              summary: Get a list of planned changeSetIds
              operationId: getPlannedChangeIds
              responses:
                '200':
                  description: Planned Changes
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/PlannedChangeIdList'
          /GetChangeSet:
            get:
              summary: Get a changeSet
              operationId: getChangeSet
              parameters:
                - in: query
                  name: changeSetId
                  schema:
                    type: string
                  description: Id of a changeSet
              responses:
                '200':
                  description: changeSet object
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/ChangeSet'
          /Versions:
            servers:
              - url: https://api.example.com/rum
                description: Override base path for Versions query
            get:
              summary: Retrieves all supported versions
              operationId: RetrieveVersions
              responses:
                '200':
                  description: Versions supported
                  content:
                    application/json:
                      schema:
                        $ref: '#/components/schemas/VersionsArray'
        components:
          schemas:
            PlannedChangeIdList:
              type: array
              items:
                type: string
            ChangeSet:
              type: object
              properties:
                changeSetId:
                  type: string
                  description: Id of the changeSet
                changeSetEffective:
                  type: string
                  format: datetime
                  description: date and time change will come into
                     effect in dateTime format with a required timezone
                partialLocationList:
                  type: array
                  items:
                    type: object
                    properties:
                      caType:
                        type: string
                        description: CAtype name from IANA registry
                      value:
                        type: string
                        description: value for this caType
            VersionsArray:
              type: object
              required:
                - versions
              properties:
                versions:
                  type: array
                  items:
                    type: object
                    required:
                      - major
                      - minor
                    properties:
                      major:
                        type: integer
                        format: int32
                        description: Version major number
                      minor:
                        type: integer
                        format: int32
                        description: Version minor number

</pre><a href="#section-8-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="security">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">As an extension to LoST, this document inherits the security issues raised in <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>.  The server could be tricked into storing a malicious URI which, when sent the revalidateLocation object could trigger something untoward.  The server MUST NOT accept any data from the client in response to POSTing the revalidateLocation.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">The server is subject to abuse by clients because it is being asked to store something and may need to send data to an uncontrolled URI.  Clients could request many URIs for the same location, for example.  The server MUST have policy that limits use of this mechanism by a given client.  If the policy is exceeded, the server returns the &lt;uriNotStored&gt; warning.  The server MUST validate that the content of the 'uri' attribute sent is syntactically valid and meets the 256 bytes limit.  When sending the &lt;revalidateLocation&gt; object to the URI stored, the server MUST protect itself against common HTTP vulnerabilities.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">The mutual authentication between client and server is RECOMMENDED for both the initial &lt;findServiceRequest&gt; operation that requests storing the URI and the sending of the &lt;revalidateLocation&gt; object.  The server should be well known to the client, and its credential should be learned in a reliable way.  For example, a public safety system operating the LoST server may have a credential traceable to a well known Certificate Authority known to provide credentials for public safety agencies.  Clients may be operated by local ISPs or other service providers that can reasonably obtain a good credential to use for the server side of the LoST server's POST transaction using the URI.  Where the loST server does not recognize the client, its policy MAY limit the use of this feature beyond what it would limit a client it recognizes.<a href="#section-9-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-replacement-xml-schema-regi">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-replacement-xml-schema-regi" class="section-name selfRef">Replacement XML Schema Registration</a>
        </h3>
<div class="alignLeft art-text artwork" id="section-10.1-1">
<pre>
   URI:  urn:ietf:params:xml:schema:lost3
   Registrant Contact:  IETF ECRIT Working Group, Brian Rosen
      (br@brianrosen.net).
   XML:
      BEGIN
      &lt;?xml version="2.0"?&gt;
      &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
      "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
      &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
      &lt;head&gt;
      &lt;meta http-equiv="content-type"
          content="text/html;charset=iso-8859-1"/&gt;
      &lt;title&gt;LoST Namespace&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
      &lt;h1&gt;Namespace for LoST&lt;/h1&gt;
      &lt;h2&gt;urn:ietf:params:xml:ns:lost3&lt;/h2&gt;
      &lt;p&gt;See &lt;a href="http://www.rfc-editor.org/rfc/rfc????.txt"&gt;
      RFC????&lt;/a&gt;.&lt;/p&gt;
      &lt;/body&gt;
      &lt;/html&gt;
      END
</pre><a href="#section-10.1-1" class="pilcrow">¶</a>
</div>
<p id="section-10.1-2">  The XML Schema is found in <a href="#schema" class="xref">Section 6</a>.<a href="#section-10.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-10.2">
        <h3 id="name-planned-change-extension-xm">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-planned-change-extension-xm" class="section-name selfRef">Planned Change Extension XML Schema Registration</a>
        </h3>
<div class="alignLeft art-text artwork" id="section-10.2-1">
<pre>
   URI:  urn:ietf:params:xml:schema:lostPlannedChange1
   Registrant Contact:  IETF ECRIT Working Group, Brian Rosen
      (br@brianrosen.net).
   XML:

   BEGIN
   &lt;?xml version="2.0"?&gt;
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
     "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
   &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
   &lt;head&gt;
     &lt;meta http-equiv="content-type"
           content="text/html;charset=iso-8859-1"/&gt;
     &lt;title&gt;LoST Planned Change Namespace&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
     &lt;h1&gt;Namespace for LoST &lt;/h1&gt;
     &lt;h2&gt;urn:ietf:params:xml:ns:lostPlannedChange1&lt;/h2&gt;
   &lt;p&gt;See &lt;a href="http://www.rfc-editor.org/rfc/rfc????.txt"&gt;
      RFC????&lt;/a&gt;.&lt;/p&gt;
   &lt;/body&gt;
   &lt;/html&gt;
   END

</pre><a href="#section-10.2-1" class="pilcrow">¶</a>
</div>
<p id="section-10.2-2">  The XML Schema is found in <a href="#extSchema" class="xref">Section 7</a>.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-11">
      <h2 id="name-normative-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5222">[RFC5222]</dt>
    <dd>
<span class="refAuthor">Hardie, T.</span>, <span class="refAuthor">Newton, A.</span>, <span class="refAuthor">Schulzrinne, H.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"LoST: A Location-to-Service Translation Protocol"</span>, <span class="seriesInfo">RFC 5222</span>, <span class="seriesInfo">DOI 10.17487/RFC5222</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5222">https://www.rfc-editor.org/info/rfc5222</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Brian Rosen</span></div>
<div dir="auto" class="left"><span class="street-address">470 Conrad Dr</span></div>
<div dir="auto" class="left">
<span class="locality">Mars</span>, <span class="region">PA</span> <span class="postal-code">16046</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:br@brianrosen.net" class="email">br@brianrosen.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
