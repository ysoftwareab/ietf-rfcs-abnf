
Fax                                                           D. Crocker
Internet-Draft                               Brandenburg InternetWorking
Expires: December 25, 2004                                       G. Klyne
                                                            Nine by Nine
                                                            June 25, 2004


            Full-mode Fax Profile for Internet Mail:  FFPIM
                        draft-ietf-fax-ffpim-05

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 6, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

Abstract

   Classic facsimile document exchange represents both a set of
   technical specifications and a class of service. Previous work has
   replicated some of that service class as a profile within Internet
   mail.  The current specification defines "full mode" carriage of
   facsimile data over the Internet, building upon that previous work
   and adding the remaining functionality necessary for achieving
   reliability and capability negotiation for Internet mail, on a par
   with classic T.30 facsimile.  These additional features are designed
   to provide the highest level of interoperability with the
   standards-compliant email infrastructure and mail user agents, while



Crocker & Klyne         Expires December 6, 2004                [Page 1]

Internet-Draft                   FFPIM                         June 2004


   providing a level of service that approximates what is currently
   enjoyed by fax users.

   The IETF has been notified of intellectual property rights claimed in
   regard to some or all of the specification contained in this
   document.  For more information, consult the online list of claimed
   rights in <http://www.ietf.org/ipr.html>.

Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Content Negotiation  . . . . . . . . . . . . . . . . . . . . .  3
   2.1 UA-based content negotiation . . . . . . . . . . . . . . . . .  4
   2.2 ESMTP-based content negotiation  . . . . . . . . . . . . . . .  4
   2.3 Interactions between UA and ESMTP negotiation mechanisms . . .  4
   3.  Content Format . . . . . . . . . . . . . . . . . . . . . . . .  4
   4.  Security Considerations  . . . . . . . . . . . . . . . . . . .  5
   5.  References . . . . . . . . . . . . . . . . . . . . . . . . . .  5
   5.1 References - Normative . . . . . . . . . . . . . . . . . . . .  5
   5.2 References - Informative . . . . . . . . . . . . . . . . . . .  6
       Authors' Addresses . . . . . . . . . . . . . . . . . . . . . .  6
   A.  Direct Mode  . . . . . . . . . . . . . . . . . . . . . . . . .  6
   B.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . .  7
       Intellectual Property and Copyright Statements . . . . . . . .  8



























Crocker & Klyne         Expires December 6, 2004                [Page 2]

Internet-Draft                   FFPIM                         June 2004


1.  Introduction

   The current specification defines "full mode" carriage of facsimile
   data over the Internet, building upon previous work in A Simple Mode
   of Facsimile Using Internet Mail [RFC2305] and Extended Facsimile
   Using Internet Mail [RFC2532], and adding the remaining functionality
   necessary for achieving reliability and capability negotiation for
   Internet mail that is on a par with classic [T30] facsimile.  These
   additional features are designed to provide the highest level of
   interoperability with the standards-compliant email infrastructure
   and mail user agents, while providing a level of service that closely
   approximates the level of service currently enjoyed by fax users.

   Basic terminology is discussed in [RFC2542].  Implementations which
   conform to this specification MUST also conform to [RFC2305] and
   [RFC2532].

   The new features are designed to be interoperable with the existing
   base of mail transfer agents (MTAs) and mail user agents (MUAs), and
   to take advantage of existing standards for optional functionality,
   such as positive delivery confirmation and disposition notification.
   Enhancements described in this document utilize the existing Internet
   email messaging infrastructure, where possible, instead of creating
   fax-specific features that are unlikely to be implemented in non-fax
   messaging software.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.  Content Negotiation

   Classic facsimile service is interactive, so that a sending station
   can discover the capabilities of the receiving station, prior to
   sending a facsimile of a document.  This permits the sender to
   transmit the best quality of facsimile that is supported by both the
   sending station and the receiving station.  Internet mail is
   store-and-forward, with potentially long latency, so that
   before-the-fact negotiation is problematic.

   Use of a negotiation mechanism permits senders to transfer a richer
   document form than is permitted when using the safer-but-universal
   default form.  Without this mechanism, the sender of a document
   cannot be certain that the receiving station will support be able to
   support the form.

   The capabilities that can be negotiated by an FFPIM participant are
   specified in [RFC2534] and [RFC2879].  Implementations that are



Crocker & Klyne         Expires December 6, 2004                [Page 3]

Internet-Draft                   FFPIM                         June 2004


   conformant to FFPIM MUST support content negotiation as described
   there.

2.1  UA-based content negotiation

   One method of exchanging capabilities information uses a post-hoc
   technique that permits an originator to send the best version known
   by the originator to be supported by the recipient and then to send a
   version that is better suited to the recipient if the recipient
   requests it.  This mechanism is specified in [RFC3297].  FFPIM
   implementations MUST support this mechanism.

2.2  ESMTP-based content negotiation

   Another method uses an ESMTP option specified in [ID-Conneg].  It
   requires support for content negotiation along the entire path that
   the email travels.  Using this mechanism, receiving ESMTP servers are
   able to report capabilities of the addresses (mailboxes) that they
   support.

   FFPIM participants MAY support this mechanism.

2.3  Interactions between UA and ESMTP negotiation mechanisms

   FFPIM participants must ensure that their use of the UA and ESMTP
   methods for content negotiation is compatible.  For example, the two
   mechanisms might consult two different repositories of capabilities
   information, and those repositories might contain different
   information.  Presumably this means that at least one of the
   repositories is inaccurate, so the larger problem is one of
   correctness, rather than synchronization.

   This specification does not require a particular method of using the
   mechanisms together.

3.  Content Format

   FFPIM allows the transfer of enhanced TIFF data relative to [RFC2305]
   and [RFC2532].  The details for these enhancements are contained in
   [ID-TIFF-FX].  Implementations that are conformant to FFPIM SHOULD
   support TIFF enhancements.

   It should also be noted that the content negotiation mechanism
   permits a sender to know the full range of content types that are
   supported by the recipient.  Therefore, requirements for support of
   TIFF represent a functional minimum for FFPIM.





Crocker & Klyne         Expires December 6, 2004                [Page 4]

Internet-Draft                   FFPIM                         June 2004


4.  Security Considerations

   As this document is an extension of [RFC2305] and [RFC2532], the
   Security Considerations sections of [RFC2305] and [RFC2532] apply to
   this document, including discussion of PGP and S/MIME use for
   authentication and privacy.

   It appears that the mechanisms added by this specification do not
   introduce new security considerations, however the concerns raised in
   [RFC2532] are particularly salient for these new mechanisms.

   Use of this specification should occur with particular attention to
   the following security concerns:

   * Negotiation can be used as a denial of service attack

   * Negotiating may lead to the use of an unsafe data format

   * Negotiation discloses information and therefore raises privacy
     concerns

5.  References

5.1  References - Normative

   [ID-Conneg]
              Toyoda, K. and D. Crocker, "SMTP and MIME Extensions For
              Content Conversion", draft-ietf-fax-esmtp-conneg-09 (work
              in progress), December 2003.

   [ID-TIFF-FX]
              Buckley, R., Venable, D., McIntyre, L., Parsons, G. and J.
              Rafferty, "File Format for Internet Fax",
              draft-ietf-fax-tiff-fx-13 (work in progress), February
              2004.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2305]  Toyoda, K., Ohno, H., Murai, J. and D. Wing, "A Simple
              Mode of Facsimile Using Internet Mail", RFC 2305, March
              1998.

   [RFC2532]  Masinter, L. and D. Wing, "Extended Facsimile Using
              Internet Mail", RFC 2532, March 1999.

   [RFC2534]  Masinter, L., Wing, D., Mutz, A. and K. Holtman, "Media
              Features for Display, Print, and Fax", RFC 2534, March



Crocker & Klyne         Expires December 6, 2004                [Page 5]

Internet-Draft                   FFPIM                         June 2004


              1999.

   [RFC2542]  Masinter, L., "Terminology and Goals for Internet Fax",
              RFC 2542, March 1999.

   [RFC2879]  Klyne, G. and L. McIntyre, "Content Feature Schema for
              Internet Fax (V2)", RFC 2879, August 2000.

   [RFC3297]  Klyne, G., Iwazaki, R. and D. Crocker, "Content
              Negotiation for Messaging Services based on Email", RFC
              3297, July 2002.

5.2  References - Informative

   [T30]  ITU-T (CCITT), "Procedures for Document Facsimile Transmission
          in the General Switched Telephone Network", Recommendation
          T.30, July 1996.


Authors' Addresses

   Dave Crocker
   Brandenburg InternetWorking
   675 Spruce Drive
   Sunnyvale, CA  94086
   USA

   Phone: +1.408.246.8253
   EMail: dcrocker@brandenburg.com


   Graham Klyne
   Nine by Nine

   UK

   Phone:
   EMail: GK-IETF@ninebynine.org

Appendix A.  Direct Mode

   Email is a store-and-forward service, typically with delay between
   the time a message leaves the sender's realm and the time it arrives
   in the receiver's realm.  The number of relays between sender and
   receiver is also unknown and variable.  By contrast, facsimile is
   generally perceived as direct and immediate.

   An email profile that fully emulates facsimile must solve several



Crocker & Klyne         Expires December 6, 2004                [Page 6]

Internet-Draft                   FFPIM                         June 2004


   different problems.  One is to ensure that the document
   representation semantics are faithful.  Another is that the
   interaction between sender and receiver is similar to that of
   telephony-based facsimile.  In particular it must ensure the
   timeliness of the interaction.  The specifications for FFPIM and its
   predecessors create the ability to have email emulate the information
   (semantics) activities of facsimile.

   The ESMTP CONNEG option sets the stage for achieving email-based
   facsimile transfer that has interactive negotiations that are on a
   par with telephony-based facsimile.  The key, additional requirement
   is to achieve timeliness.  Ultimately, this requires configuring
   sender and receiving email servers to interact directly.  That is,
   the sender's MTA must directly contact the receiver's MTA.  With
   typical email service configurations, the content and interaction
   semantics of facsimile can be emulated quite well, but the timeliness
   cannot be assured.

   To achieve direct sending, the originating MTA must be configured to
   do transmissions to hosts specified in email addresses, based on DNS
   queries.  To achieve direct receiving, the target MTAs must have DNS
   A records without MX records.  That is, they must be configured to
   use no intermediaries.

   The sender may then use ESMTP Conneg to determine the capabilities of
   the receiver.  Afterwards the sender will use the capabilities
   information to tailor the TIFF message content that it sends.

Appendix B.  Acknowledgements

   The IETF Fax working group has diligently participated in a
   multi-year effort to produce Internet-based emulation of classic
   facsimile via email profiles, as collaboration between the IETF and
   the ITU.  The effort benefited from the group's willingness to
   provide an initial, minimal mechanism, and then grow the
   specification to include more facsimile features, as implementation
   and operations experience was gained.














Crocker & Klyne         Expires December 6, 2004                [Page 7]

Internet-Draft                   FFPIM                         June 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Crocker & Klyne         Expires December 6, 2004                [Page 8]

Internet-Draft                   FFPIM                         June 2004


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Crocker & Klyne         Expires December 6, 2004                [Page 9]


