<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BIER Egress Protection</title>
<meta content="Huaimo Chen" name="author">
<meta content="Mike McBride" name="author">
<meta content="Aijun Wang" name="author">
<meta content="Gyan S. Mishra" name="author">
<meta content="Yisong Liu" name="author">
<meta content="Boris Khasanov" name="author">
<meta content="Yanhe Fan" name="author">
<meta content="Lei Liu" name="author">
<meta content="Xufeng Liu" name="author">
<meta content="
       This document describes a mechanism for fast  
         protection against the failure of an egress node of 
         a &quot;Bit Index Explicit Replication&quot; (BIER) domain.
         It does not have any per-flow state in the core of the domain.
         For a multicast packet to an egress node of the domain,
         when the egress node fails, its upstream hop as a PLR sends 
         the packet to the egress' backup node  
         once the PLR detects the failure. 
    " name="description">
<meta content="xml2rfc 3.9.1" name="generator">
<meta content="draft-chen-bier-egress-protect-02" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.1
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 57.4.0
    six 1.16.0
-->
<link href="/tmp/draft-chen-bier-egress-protect-02-94fhyi2_.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">BIER Egress Protect</td>
<td class="right">August 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Chen, et al.</td>
<td class="center">Expires 27 February 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-chen-bier-egress-protect-02</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-08-26" class="published">26 August 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-02-27">27 February 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">H. Chen</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">M. McBride</div>
<div class="org">Futurewei</div>
</div>
<div class="author">
      <div class="author-name">A. Wang</div>
<div class="org">China Telecom</div>
</div>
<div class="author">
      <div class="author-name">G. Mishra</div>
<div class="org">Verizon Inc.</div>
</div>
<div class="author">
      <div class="author-name">Y. Liu</div>
<div class="org">China Mobile</div>
</div>
<div class="author">
      <div class="author-name">B. Khasanov</div>
<div class="org">Yandex LLC</div>
</div>
<div class="author">
      <div class="author-name">Y. Fan</div>
<div class="org">Casa Systems</div>
</div>
<div class="author">
      <div class="author-name">L. Liu</div>
<div class="org">Fujitsu</div>
</div>
<div class="author">
      <div class="author-name">X. Liu</div>
<div class="org">Volta Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BIER Egress Protection</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes a mechanism for fast  
         protection against the failure of an egress node of 
         a "Bit Index Explicit Replication" (BIER) domain.
         It does not have any per-flow state in the core of the domain.
         For a multicast packet to an egress node of the domain,
         when the egress node fails, its upstream hop as a PLR sends 
         the packet to the egress' backup node  
         once the PLR detects the failure.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in 
      <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> 
      when, and only when, they appear in all capitals, as shown here.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 27 February 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc ulBare compact">
<li class="ulEmpty toc ulBare compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="ulEmpty toc ulBare compact">
<li class="ulEmpty toc ulBare compact" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-of-bier-egress-pro" class="xref">Overview of BIER Egress Protection</a></p>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-protocol-extensions" class="xref">Protocol Extensions</a></p>
<ul class="ulEmpty toc ulBare compact">
<li class="ulEmpty toc ulBare compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-extensions-to-ospf" class="xref">Extensions to OSPF</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-extensions-to-is-is" class="xref">Extensions to IS-IS</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-bier-extensions" class="xref">BIER Extensions</a></p>
<ul class="ulEmpty toc ulBare compact">
<li class="ulEmpty toc ulBare compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-egress-protection-bit-index" class="xref">Egress Protection Bit Index Routing Tables</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-egress-protection-bit-index-" class="xref">Egress Protection Bit Index Forwarding Tables</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-updated-forwarding-procedur" class="xref">Updated Forwarding Procedure</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-switching-between-ep-and-no" class="xref">Switching between EP and Normal Forwarding</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-example-application-of-bier" class="xref">Example Application of BIER Egress Protection</a></p>
<ul class="ulEmpty toc ulBare compact">
<li class="ulEmpty toc ulBare compact" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-example-bier-topology" class="xref">Example BIER Topology</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-birt-and-bift-on-a-bfr" class="xref">BIRT and BIFT on a BFR</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-ep-birts-and-ep-bifts-on-a-" class="xref">EP-BIRTs and EP-BIFTs on a BFR</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-forwarding-using-ep-bift" class="xref">Forwarding using EP-BIFT</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="ulEmpty toc ulBare compact">
<li class="ulEmpty toc ulBare compact" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc ulBare compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span> specifies 
         "Bit Index Explicit Replication" (BIER). 
         It provides optimal forwarding of multicast data
         packets through a "multicast/BIER domain". It
         does not require the use of a protocol for explicitly 
         building multicast distribution trees, and it does not
         require intermediate nodes to maintain any per-flow state.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">This document describes a mechanism for fast  
         protection against the failure of an egress node of 
         a "Bit Index Explicit Replication" (BIER) domain,
         which is called BIER Egress Protection.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This BIER Egress Protection does not require intermediate 
         nodes to maintain
         any per-flow state for fast protection against the failure of 
         an egress node of the flow.<a href="#section-1-3" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-1.1-1">
          <dt id="section-1.1-1.1">BFR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.2">Bit-Forwarding Router.<a href="#section-1.1-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.3">BFIR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.4">Bit-Forwarding Ingress Router.<a href="#section-1.1-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.5">BFER:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.6">Bit-Forwarding Egress Router.<a href="#section-1.1-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.7">BFR-id:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.8">BFR Identifier. 
          It is a number in the range [1,65535].<a href="#section-1.1-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.9">BFR-NBR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.10">BFR Neighbor.<a href="#section-1.1-1.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.11">F-BM:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.12">Forwarding Bit Mask.<a href="#section-1.1-1.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.13">BFR-prefix:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.14">An IP address (either IPv4 or IPv6) of a BFR.<a href="#section-1.1-1.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.15">BIRT:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.16">Bit Index Routing Table. 
          It is a table that maps from the BFR-id (in a particular sub-domain)
          of a BFER to the BFR-prefix of that BFER, and to the BFR-NBR 
          on the path to that BFER.<a href="#section-1.1-1.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.17">BIFT:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.18">Bit Index Forwarding Table.<a href="#section-1.1-1.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.19">FRR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.20">Fast Re-Route.<a href="#section-1.1-1.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.21">PLR:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.22">Point of Local Repair.<a href="#section-1.1-1.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.23">LFA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.24">Loop-Free Alternate.<a href="#section-1.1-1.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.25">RLFA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.26">Remote LFA.<a href="#section-1.1-1.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.27">DLFA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.28">Remote LFA with Directed forwarding.<a href="#section-1.1-1.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.29">IGP:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.30">Interior Gateway Protocol.<a href="#section-1.1-1.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.31">LSDB:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.32">Link State DataBase.<a href="#section-1.1-1.32" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.33">SPF:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.34">Shortest Path First.<a href="#section-1.1-1.34" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.35">SPT:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.36">Shortest Path Tree.<a href="#section-1.1-1.36" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.37">OSPF:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.38">Open Shortest Path First.<a href="#section-1.1-1.38" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.39">IS-IS:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.40">Intermediate System to Intermediate System.<a href="#section-1.1-1.40" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.41">LSA:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.42">Link State Advertisement in OSPF.<a href="#section-1.1-1.42" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.43">LSP:</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.44">Link State Protocol Data Unit (PDU) in IS-IS.<a href="#section-1.1-1.44" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.45">SPT-old(R):</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.46">The SPT rooted at node R using LSDB 
          before X fails (i.e., old LSDB).<a href="#section-1.1-1.46" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.47">SPT-new(R, X):</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.48">The SPT rooted at node R using LSDB 
          without X after X fails (i.e., new LSDB).<a href="#section-1.1-1.48" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.49">P-Space P(R,X):</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.50">The set of nodes that are reachable 
          from R without going through X. In other words, it is the set of
          nodes that are not downstream of X in SPT-old(R).<a href="#section-1.1-1.50" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.51">Extended P-Space P'(R,X):</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.52">The set of nodes that are 
          reachable from R or a neighbor of R, without going through X.<a href="#section-1.1-1.52" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.53">Q-Space Q(D,X):</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.54">The set of nodes that do not use X 
          to reach destination D using the old LSDB.<a href="#section-1.1-1.54" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.1-1.55">PQ node(R,X):</dt>
          <dd style="margin-left: 3.0em" id="section-1.1-1.56">
          A member of both the P-Space P(R, X) (or the extended
          P-Space P'(R, X)) and the Q-Space (D, X).<a href="#section-1.1-1.56" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-2">
      <h2 id="name-overview-of-bier-egress-pro">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-of-bier-egress-pro" class="section-name selfRef">Overview of BIER Egress Protection</a>
      </h2>
<p id="section-2-1">For fast protecting an egress node of a BIER domain, 
         a backup egress node is configured on the egress node.
         After the configuration, the egress node distributes 
         the information about the backup egress to its direct neighbors.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">For clearly distinguishing between an egress node and a backup 
         egress node, an egress node is called a primary egress node
         sometimes.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">For a multicast packet to a primary egress node of the domain,
         when the primary egress node fails, its upstream hop as a 
         point of local repair (PLR) sends the packet
         to the backup egress node configured to protect the primary  
         egress node once the PLR detects the failure.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">A Bit-Forwarding Router (BFR) in a BIER sub-domain builds 
          and maintains an "Egress Protection Bit Index Routing Table" 
          (EP-BIRT) for each of its BFR Neighbors (BFR-NBRs) that
          are egress nodes of the domain
          to provide fast protection against the failure of an egress
          node.
          The BFR builds each EP-BIRT based on a BIRT defined in 
          <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>.
          An "Egress Protection Bit Index Forwarding Table" (EP-BIFT) is  
          derived from an EP-BIRT in a way that is similar to the way 
          in which a BIFT is derived 
          from a BIRT, which is defined in <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">Once the BFR as a PLR detects the failure of its BFR-NBR X
          that is a primary egress node of the domain,
          for a multicast packet targeting to the primary egress node, 
          the PLR uses the EP-BIFT for X to send the packet to the  
          backup egress node configured to protect the primary  
          egress node.<a href="#section-2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-protocol-extensions">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-protocol-extensions" class="section-name selfRef">Protocol Extensions</a>
      </h2>
<p id="section-3-1">This section defines extensions to OSPF and IS-IS for advertising 
         the backup information 
         (including the backup egress node for protecting a primary egress node)
         to its direct neighbors.<a href="#section-3-1" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-extensions-to-ospf">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-extensions-to-ospf" class="section-name selfRef">Extensions to OSPF</a>
        </h3>
<p id="section-3.1-1">When a node P (as a primary egress node) has a backup egress
         node configured to protect against its failure,
         node P advertises the information about the backup egress 
         node to its neighbors  
         in its router information opaque LSA of LS type 9 or 10. 
         The information is included in a
         backup egress node TLV. The format of the TLV is shown in
         <a href="#ospf-backup-egress-tlv" class="xref">Figure 1</a>.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">After each of the neighbors receives the backup egress node TLV,
         it knows that node P as a primary egress node
         will be protected by the backup egress node in the TLV.
         Once detecting the failure of node P, it sends the packet
         targeting to node P towards the backup egress node.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<span id="name-ospf-backup-egress-tlv"></span><div id="ospf-backup-egress-tlv">
<figure id="figure-1">
          <div class="artwork art-text alignLeft" id="section-3.1-3.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |         Type (TBD1)           |             Length            |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |         Reserved              | BFR-id of backup egress node  |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |                       Sub-TLVs (Optional)                     |
 :                                                               :
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-ospf-backup-egress-tlv" class="selfRef">OSPF Backup Egress TLV</a>
          </figcaption></figure>
</div>
<p id="section-3.1-4">
         Type: 2 octets, its value (TBD1) is to be assigned by IANA.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">Length: 2 octets, its value is 4 plus the length of the 
         Sub-TLVs included. If no Sub-TLV is included, its value is 4.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">Reserved: 2 octets, it MUST be set to zero when sending 
         and be ignored while receiving.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">BFR-id of backup egress node: 2 octets, its value is the BFR-id
         of the backup egress node configured to protect against 
         the failure of the primary egress node.<a href="#section-3.1-7" class="pilcrow">¶</a></p>
<p id="section-3.1-8">Sub-TLVs (Optional): No Sub-TLV is defined now.<a href="#section-3.1-8" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-extensions-to-is-is">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-extensions-to-is-is" class="section-name selfRef">Extensions to IS-IS</a>
        </h3>
<p id="section-3.2-1">For supporting fast protection against the failure of 
         a primary egress node in a BIER domain, 
         a new IS-IS TLV, called IS-IS backup egress node TLV, is defined.
         It contains the BFR-id of a backup egress node.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">When a node P (as a primary egress node) has a backup egress
         node configured to protect against its failure,
         node P advertises the information about the backup egress 
         node to its neighbors using a IS-IS backup egress node TLV.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">This TLV may be advertised in IS-IS Hello (IIH) PDUs, 
         LSPs, or in Circuit Scoped Link State PDUs (CS-LSP) 
         <span>[<a href="#RFC7356" class="xref">RFC7356</a>]</span>.
         The format of the TLV is shown in
         <a href="#isis-backup-egress-tlv" class="xref">Figure 2</a>.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<span id="name-is-is-backup-egress-tlv"></span><div id="isis-backup-egress-tlv">
<figure id="figure-2">
          <div class="artwork art-text alignCenter" id="section-3.2-4.1">
<pre>
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |  Type (TBD2)  |     Length    | BFR-id of backup egress node  |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 ~                      Sub-TLVs (Optional)                      ~
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-is-is-backup-egress-tlv" class="selfRef">IS-IS Backup Egress TLV</a>
          </figcaption></figure>
</div>
<p id="section-3.2-5">
         Type: 1 octet, its value (TBD2) is to be assigned by IANA.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<p id="section-3.2-6">Length: 1 octet, its value is 2 plus the length of the 
         Sub-TLVs included. If no Sub-TLV is included, its value is 2.<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<p id="section-3.2-7">BFR-id of backup egress node: 2 octets, its value is the BFR-id
         of the backup egress node configured to protect against 
         the failure of the primary egress node.<a href="#section-3.2-7" class="pilcrow">¶</a></p>
<p id="section-3.2-8">Sub-TLVs (Optional): No Sub-TLV is defined now.<a href="#section-3.2-8" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4">
      <h2 id="name-bier-extensions">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-bier-extensions" class="section-name selfRef">BIER Extensions</a>
      </h2>
<section id="section-4.1">
        <h3 id="name-egress-protection-bit-index">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-egress-protection-bit-index" class="section-name selfRef">Egress Protection Bit Index Routing Tables</a>
        </h3>
<p id="section-4.1-1">If a BFR is a direct neighbor of an egress node 
         in a BIER sub-domain, it builds and maintains a number
         of "Egress Protection Bit Index Routing Tables" (EP-BIRTs).         
         There is an EP-BIRT for each of the BFR's neighbors 
         that are egress nodes of the domain.
         The BFR builds each EP-BIRT based on its BIRT.
         Comparing to the BIRT, an EP-BIRT has a piece of 
         new backup information for each BFER.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The new backup information for a BFER indicates 
         if the BFER as an egress node is protected by the BFR.
         If so, the information further includes the backup egress
         node configured to protect the BFER.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">In one implementation, the new backup information is represented
         by {EP, BE-BFER}. 
         EP (short for Egress Protection) is a flag, indicating
         whether the BFER as an egress node is protected. 
         EP = 1 means that the BFER is protected. 
         EP = 0 means that the BFER is not protected.  
         BE-BFER (short for Backup Egress BFER) is the BFER 
         (i.e., BFER-id) of the backup egress node when EP = 1.
         BE-BFER is NULL (0) when EP = 0.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">In the EP-BIRT for BFR-NBR X that is an egress node,
          the row having X as BFER and as its next hop BFR-NBR
          contains the new backup information {EP = 1, BE-BFER},
          where BE-BFER is the BFER (i.e., BFER-id) of backup egress 
          node for protecting the egress node.
          Each of the other rows in the EP-BIRT contains 
          the new backup information {EP = 0, BE-BFER = NULL}.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">When the egress node fails, 
          for a multicast packet targeting to the primary egress node BFER
          (PE-BFER), the BFR sends the packet to the BE-BFER
          through using the route to the backup egress node. 
          The BFR clears the bit for PE-BFER and 
          adds the bit for BE-BFER in the packet's BitString first, 
          and then forwards the packet according to the forwarding entry
          for BE-BFER.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">The EP-BIRT for BFR-NBR X that is an egress node considers
          the failure of X. It has a route or say a next hop 
          (i.e., BFR-NBR N on the path, where N is not X) 
          to every BFER except for X.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">The BFR may build the EP-BIRT for BFR-NBR X 
          by copying its BIRT to the EP-BIRT and 
          sets the new information for each BFER to empty 
          such as {EP = 0, BE-BFER = NULL} first.
          And then it updates each of the rows in the EP-BIRT 
          that has X as BFER or next hop BFR-NBR X.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<p id="section-4.1-8">For the BFR-id of a BFER in the EP-BIRT for egress node X, 
          when the next hop BFR-NBR on the path to the BFER is X,
          the BFR checks whether the BFER is X. 
          If the BFER is not X,  
          the BFR changes next hop BFR-NBR X to a backup next hop (BNH) 
          when there is a BNH on a backup path to the BFER without 
          going through X and the link from the BFR to X.
          If the BFER is X, 
          the BFR adds the new backup information {EP = 1, BE-BFER} 
          for the BFER as PE-BFER.<a href="#section-4.1-8" class="pilcrow">¶</a></p>
<p id="section-4.1-9">If there is not any BNH to a BFER to protect against the failure of X,
          the next hop BFR-NBR X to the BFER in the EP-BIRT for BFR-NBR X 
          is changed to NULL. 

          For a multicast packet having the BFER as one of its destinations,
          if the next hop BFR-NBR to the BFER is NULL,
          the BFR does not send the packet to the next hop BFR-NBR NULL 
          but drops it when X fails.<a href="#section-4.1-9" class="pilcrow">¶</a></p>
<p id="section-4.1-10">Note: In another option, 
         the next hop BFR-NBR X to the BFER in the EP-BIRT for BFR-NBR X 
         keeps unchanged when there is not any BNH to the BFER to protect 
         against the failure of X. 

         In this case, 
         for a multicast packet having the BFER as one of its destinations,
         the BFR sends the packet to X when X fails.<a href="#section-4.1-10" class="pilcrow">¶</a></p>
<p id="section-4.1-11">In one implementation, the BNH is the Loop-Free 
          Node-Protecting Alternate defined in <span>[<a href="#RFC5286" class="xref">RFC5286</a>]</span>
          to protect against the failure of X and link from the BFR to X.
          In another implementation, the BNH is the virtual 
          Loop-Free Alternate (LFA), i.e., PQ node, 
          defined in <span>[<a href="#RFC7490" class="xref">RFC7490</a>]</span>. 
          In a special case, a PQ node is a Loop-Free 
          Node-Protecting Alternate defined in <span>[<a href="#RFC5286" class="xref">RFC5286</a>]</span>.<a href="#section-4.1-11" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-egress-protection-bit-index-">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-egress-protection-bit-index-" class="section-name selfRef">Egress Protection Bit Index Forwarding Tables</a>
        </h3>
<p id="section-4.2-1">From each EP-BIRT on the BFR, 
          an "Egress Protection Bit Index Forwarding Table"  
          (EP-BIFT) is derived.
          In addition to having a route to a BFER in each row of the EP-BIFT
          which is the same as the EP-BIRT,  
          it has a "Forwarding Bit Mask" (F-BM) in its each row.
          For the rows in the EP-BIRT that have the same SI and 
          the same BFR-NBR and the same new backup information {EP, BE-BFER},
          the F-BM for each of these rows in the EP-BIFT is 
          the logical OR of the BitStrings of these rows.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">This EP-BIFT is programmed into the data plane and 
          is not used to forward any packet in normal operations.
          It is activated to forward a packet with a BIER header
          once the BFR detects the failure of BFR-NBR. 
          The header contains SI, BitString, BitStringLength, 
          and sub-domain.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-updated-forwarding-procedur">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-updated-forwarding-procedur" class="section-name selfRef">Updated Forwarding Procedure</a>
        </h3>
<p id="section-4.3-1">The forwarding procedure defined in <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>
          is updated/enhanced for an EP-BIFT to consider the egress 
          protection (i.e., the new information {EP, BE-BFER} 
          in the EP-BIFT).

          For a multicast packet with the BitString indicating a BFER 
          as one of its destinations, the updated forwarding procedure
          sends the packet towards the backup egress node of the BFER
          if the BFER is protected.
          It checks whether EP = 1 in the forwarding entry for the BFER. 
          If EP = 1, the procedure clears the bit for the BFER as PE-BFER and 
          adds the bit for BE-BFER in the packet's BitString first, 
          and then forwards the packet using the row (i.e., forwarding entry)
          for BE-BFER.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The updated procedure is described in 
          <a href="#proc4-frr-bift" class="xref">Figure 3</a>.
          It is used with an EP-BIFT for BFR-NBR X as egress node
          on a BFR to forward multicast packets when X fails. 
          It can also be used with a BIFT on the BFR
          to forward multicast packets in normal operations 
          if the new backup information in each row of the BIFT is empty
          such as {EP = 0, BE-BFER = NULL}.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<span id="name-updated-forwarding-procedure"></span><div id="proc4-frr-bift">
<figure id="figure-3">
          <div class="artwork art-text alignLeft" id="section-4.3-3.1">
<pre>
  Packet = the packet received by BFR;
  FOR each BFER k (from the rightmost in Packet's BitString) {
     IF BFER k is the BFR itself {
        copies Packet, sends the copy to the multicast
        flow overlay and clears bit k in Packet's BitString
     } ELSE {
        finds the row in the EP-BIFT for the sub-domain using
        Packet's SI and BitString as the key/index
        IF EP == 1 {
           clears bit k in Packet's BitString; //BFER k is PE-BFER
           adds bit j in Packet's BitString; //BFER j is BE-BFER
        } ELSE {
           IF BFR-NBR in the row is not NULL {
              Copies Packet, updates the copy's BitString by ANDing
              it with F-BM in the row,sends updated copy to BFR-NBR
           } // BFR-NBR == NULL, not sent Packet to BFR-NBR
           updates Packet's BitString by ANDing it with the INVERSE
           of the F-BM in the row
        }
     }
  }</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-updated-forwarding-procedure" class="selfRef">Updated Forwarding Procedure</a>
          </figcaption></figure>
</div>
</section>
<section id="section-4.4">
        <h3 id="name-switching-between-ep-and-no">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-switching-between-ep-and-no" class="section-name selfRef">Switching between EP and Normal Forwarding</a>
        </h3>
<p id="section-4.4-1">The EP-BIFTs will be pre-computed and installed ready 
          for activation when an egress node failure is detected.

          Once the BFR detects the failure of its BFR-NBR X as an egress,
          it activates the EP-BIFT for X to forward packets with BIER headers 
          and de-activates its BIFT.

          After activation of the EP-BIFT, it remains in effect
          until it is no longer required.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">In general, when the routing protocol has re-converged 
          on the new topology taking into account the failure of X, 
          the BIRT is re-computed using the updated LSDB and
          the BIFT is re-derived from the BIRT.

          Once the BIFT is installed ready for activation, 
          it is activated to forward packets with BIER headers
          and the EP-BIFT for X is de-activated.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">From the new topology, the BFR computes/re-computes 
          the EP-BIRT for each BFR-NBR Y as an egress of the BFR and 
          the EP-BIFT for Y is derived/re-derived from the EP-BIRT for Y.

          The EP-BIFT is installed/re-installed ready 
          for activation when Y fails.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-5">
      <h2 id="name-example-application-of-bier">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-example-application-of-bier" class="section-name selfRef">Example Application of BIER Egress Protection</a>
      </h2>
<p id="section-5-1">This section illustrates an example application of 
         BIER Egress Protection on a BFR in a BIER topology 
         in <a href="#bier-top-1" class="xref">Figure 4</a>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-example-bier-topology">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-example-bier-topology" class="section-name selfRef">Example BIER Topology</a>
        </h3>
<p id="section-5.1-1">An example BIER topology for a BIER sub-domain is shown
           in <a href="#bier-top-1" class="xref">Figure 4</a>.

           It has 8 nodes/BFRs A, B, C, D, E, F, G and H. 
           Each of the links connecting these nodes/BFRs has a cost. 
           The link cost of 1 is default and is not indicated in the figure.
           The link costs of other values such as 2 and 3 
           are indicated in the figure.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<span id="name-example-bier-topology-2"></span><div id="bier-top-1">
<figure id="figure-4">
          <div class="artwork art-text alignLeft" id="section-5.1-2.1">
<pre>
                                                4 (0:01000)
                      /--------( G )--------- ( H ) Backup Egress for D
                    2/           2\______      /    \
                    /               _____)____/      \
                   /               /     (____        (CE) Receiver
                  /               /           \      /
                 /               /             \    /
( A )----------( B )-----------( C )----------( D ) Primary Egress
  5 (0:10000)    \               \              1 (0:00001)
                 3\               \
                   \               \
                  ( E )-----------( F )
                    3 (0:00100)     2 (0:00010)</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-example-bier-topology-2" class="selfRef">Example BIER Topology</a>
          </figcaption></figure>
</div>
<p id="section-5.1-3">

           Nodes/BFRs D, F, E, H and A are BFERs and have 
           BFR-ids 1, 2, 3, 4, and 5 respectively.
           For simplicity, these BFR-ids are represented by (SI:BitString),
           where SI = 0 and BitString is of 5 bits. 
           BFR-ids 1, 2, 3, 4, and 5 are represented by
           (0:00001), (0:00010), (0:00100), (0:01000) and (0:10000)
           respectively.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">BFER H is configured to protect BFER D on BFR D. 
           Suppose that this information is distributed to BFR D's
           neighbors BFR C and BFR G by IGP. BFR C and BFR G know
           that H is the backup egress to protect the primary 
           egress D.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">CE is a multicast traffic Receiver, which is dual homed to
          primary egress node D and backup egress node H for 
          protecting primary egress D.
          During normal operations, there is no multicast traffic 
          to CE from backup egress node H and CE receives
          the multicast traffic only from primary egress node D.
          There is no duplicated traffic to receiver CE. 
          This is different from MoFRR in <span>[<a href="#RFC7431" class="xref">RFC7431</a>]</span>,
          where the same traffic is sent through two separated paths/trees 
          to both primary egress node D and backup egress node H, 
          to which the receiver CE is dual homed. 
          When primary egress node D fails, 
          the multicast traffic is sent to CE from backup egress node H.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">The fast egress protection mechanism in this document will 
          use less network resources such as link bandwidth than MoFRR
          in <span>[<a href="#RFC7431" class="xref">RFC7431</a>]</span>.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-birt-and-bift-on-a-bfr">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-birt-and-bift-on-a-bfr" class="section-name selfRef">BIRT and BIFT on a BFR</a>
        </h3>
<p id="section-5.2-1">Every BFR in a BIER sub-domain/topology builds and maintains 
           a Bit Index Routing Table (BIRT). 
           For the BIER topology in <a href="#bier-top-1" class="xref">Figure 4</a>,
           each of 8 nodes/BFRs A, B, C, D, E, F, G and H 
           builds and maintains a BIRT using the LSDB for the topology.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">The BIRT built on BFR C (i.e. node C) is shown in
           <a href="#birt-bfr-c" class="xref">Figure 5</a>.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<span id="name-bit-index-routing-table-on-"></span><div id="birt-bfr-c">
<figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-5.2-3.1">
<pre>
           +----------------+--------------+------------+
           |     BFR-id     |  BFR-Prefix  |  BFR-NBR   |
           | (SI:BitString) | of Dest BFER | (Next Hop) |
           +================+==============+============+
           |  1 (0:00001)   |     D        |     D      |
           +----------------+--------------+------------+
           |  2 (0:00010)   |     F        |     F      |
           +----------------+--------------+------------+
           |  3 (0:00100)   |     E        |     F      |
           +----------------+--------------+------------+
           |  4 (0:01000)   |     H        |     H      |
           +----------------+--------------+------------+
           |  5 (0:10000)   |     A        |     B      |
           +----------------+--------------+------------+</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-bit-index-routing-table-on-" class="selfRef">Bit Index Routing Table on BFR C</a>
          </figcaption></figure>
</div>
<p id="section-5.2-4">
            The 1st row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER D with BFR-id 1 is BFR D.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">The 2nd row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER F with BFR-id 2 is BFR F.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">The 3rd row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER E with BFR-id 3 is BFR F.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2-7">The 4-th row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER H with BFR-id 4 is BFR H.<a href="#section-5.2-7" class="pilcrow">¶</a></p>
<p id="section-5.2-8">The 5-th row in the BIRT indicates that the next hop BFR-NBR
            on the shortest path to BFER A with BFR-id 5 is BFR B.<a href="#section-5.2-8" class="pilcrow">¶</a></p>
<p id="section-5.2-9">From this BIRT on BFR C, 
            a Bit Index Forwarding Table (BIFT) is derived. 
            This BIFT is shown in
            <a href="#bift-bfr-c" class="xref">Figure 6</a>.<a href="#section-5.2-9" class="pilcrow">¶</a></p>
<p id="section-5.2-10">The 2nd and 3-th rows in the BIRT have 
            the same SI = 0 and next hop BFR-NBR = F.
            The F-BM for each of these two rows in the
            BIFT is the logical OR of the BitStrings of these rows,
            which is 00110 (00010 OR 00100 = 00110).<a href="#section-5.2-10" class="pilcrow">¶</a></p>
<p id="section-5.2-11">The F-BM for 1st row in the BIFT is 00001.<a href="#section-5.2-11" class="pilcrow">¶</a></p>
<p id="section-5.2-12">The F-BM for 4-th row in the BIFT is 01000.<a href="#section-5.2-12" class="pilcrow">¶</a></p>
<p id="section-5.2-13">The F-BM for 5-th row in the BIFT is 10000.<a href="#section-5.2-13" class="pilcrow">¶</a></p>
<span id="name-bit-index-forwarding-table-"></span><div id="bift-bfr-c">
<figure id="figure-6">
          <div class="artwork art-text alignLeft" id="section-5.2-14.1">
<pre>
              +----------------+---------+------------+
              |     BFR-id     |  F-BM   |  BFR-NBR   |
              | (SI:BitString) |         | (Next Hop) |
              +================+=========+============+
              |  1 (0:00001)   |  00001  |     D      |
              +----------------+---------+------------+
              |  2 (0:00010)   |  00110  |     F      |
              +----------------+---------+------------+
              |  3 (0:00100)   |  00110  |     F      |
              +----------------+---------+------------+
              |  4 (0:01000)   |  01000  |     H      |
              +----------------+---------+------------+
              |  5 (0:10000)   |  10000  |     B      |
              +----------------+---------+------------+</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-bit-index-forwarding-table-" class="selfRef">Bit Index Forwarding Table on BFR C</a>
          </figcaption></figure>
</div>
</section>
<section id="section-5.3">
        <h3 id="name-ep-birts-and-ep-bifts-on-a-">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-ep-birts-and-ep-bifts-on-a-" class="section-name selfRef">EP-BIRTs and EP-BIFTs on a BFR</a>
        </h3>
<p id="section-5.3-1">Each of the BFRs that are neighbors of egress nodes 
           (i.e., BFERs) in a BIER sub-domain/topology 
           builds and maintains a number of 
           Egress Protection Bit Index Routing Tables (EP-BIRTs).<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">For the BIER topology in <a href="#bier-top-1" class="xref">Figure 4</a>,<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3-3">
<pre>
           BFR B is the neighbor of BFERs A and E;
           BFR C is the neighbor of BFERs D, F and H;
           BFR E is the neighbor of BFER F;
           BFR F is the neighbor of BFER E;
           BFR G is the neighbor of BFERs D and H.</pre><a href="#section-5.3-3" class="pilcrow">¶</a>
</div>
<p id="section-5.3-4">Each of 5 nodes/BFRs B, C, E, F and G 
           builds and maintains a number of EP-BIRTs using the LSDB 
           for the topology for its every BFR-NBR as an egress node.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<p id="section-5.3-5">For example, BFR C (i.e., node C) in the BIER topology
           builds and maintains three EP-BIRTs for its three BFR-NBRs
           (BFERs D, F and H) that are egress nodes respectively.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">The EP-BIRT for BEFR D built by BFR C based on the BIRT
           on BFR C (refer to <a href="#birt-bfr-c" class="xref">Figure 5</a>)
           is shown in <a href="#ep-birt4d-bfr-c" class="xref">Figure 7</a>.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
<p id="section-5.3-7">The BIRT is copied to the EP-BIRT for BFER D 
          (i.e., the first three columns of the EP-BIRT).
          The new backup information (i.e., the 4-th column) 
          for every row in the EP-BIRT
          is initialized to {EP = 0, BE-BFER = 0/NULL}.<a href="#section-5.3-7" class="pilcrow">¶</a></p>
<span id="name-ep-birt-for-bfer-d-on-bfr-c"></span><div id="ep-birt4d-bfr-c">
<figure id="figure-7">
          <div class="artwork art-text alignLeft" id="section-5.3-8.1">
<pre>
     +--------------+--------------+----------+----------------+
     |    BFR-id    |  BFR-Prefix  |  BFR-NBR |  {EP,BE-BFER}  |
     |(SI:BitString)| of Dest BFER |(Next Hop)|  (Backup Info) |
     +==============+==============+==========+================+
     |  1 (0:00001) |      D       |  D/NULL  |EP=1, BE-BFER=H |
     +--------------+--------------+----------+----------------+
     |  2 (0:00010) |      F       |    F     |EP=0, BE-BFER=0 |
     +--------------+--------------+----------+----------------+
     |  3 (0:00100) |      E       |    F     |EP=0, BE-BFER=0 |
     +--------------+--------------+----------+----------------+
     |  4 (0:01000) |      H       |    H     |EP=0, BE-BFER=0 |
     +--------------+--------------+----------+----------------+
     |  5 (0:10000) |      A       |    B     |EP=0, BE-BFER=0 |
     +--------------+--------------+----------+----------------+</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-ep-birt-for-bfer-d-on-bfr-c" class="selfRef">EP-BIRT for BFER D on BFR C</a>
          </figcaption></figure>
</div>
<p id="section-5.3-9">
            In the EP-BIRT for BFER D, the row that has 
            BFR-NBR == D is the 1st row. This row has the new backup information 
            {EP = 1, BE-BFER = H}, which indicates that
            BFER D (i.e., primary egress node D) is protected by 
            BFER H (i.e., backup egress node H).
            Each of the other rows has the new backup information 
            {EP = 0, BE-BFER = 0/NULL}.<a href="#section-5.3-9" class="pilcrow">¶</a></p>
<p id="section-5.3-10">The 1st row in the EP-BIRT indicates that the next hop BFR-NBR
            on the path to BFER D with BFR-id 1 is NULL 
            (changed to NULL from D). 
            There is no backup next hop (BNH) to D when D fails.<a href="#section-5.3-10" class="pilcrow">¶</a></p>
<p id="section-5.3-11">The 2nd row in the EP-BIRT indicates that the next hop BFR-NBR
            on the path to BFER F with BFR-id 2 is BFR F.<a href="#section-5.3-11" class="pilcrow">¶</a></p>
<p id="section-5.3-12">The 3rd row in the EP-BIRT indicates that the next hop BFR-NBR
            on the path to BFER E with BFR-id 3 is BFR F.<a href="#section-5.3-12" class="pilcrow">¶</a></p>
<p id="section-5.3-13">The 4-th row in the EP-BIRT indicates that the next hop BFR-NBR
            on the path to BFER H with BFR-id 4 is BFR H.<a href="#section-5.3-13" class="pilcrow">¶</a></p>
<p id="section-5.3-14">The 5-th row in the EP-BIRT indicates that the next hop BFR-NBR
            on the path to BFER A with BFR-id 5 is BFR B.<a href="#section-5.3-14" class="pilcrow">¶</a></p>
<p id="section-5.3-15">From this EP-BIRT for BFER D on BFR C, 
            an Egress Protection Bit Index Forwarding Table (EP-BIFT) is derived. 
            This EP-BIFT for BFER D is shown in
            <a href="#ep-bift4d-bfr-c" class="xref">Figure 8</a>.<a href="#section-5.3-15" class="pilcrow">¶</a></p>
<p id="section-5.3-16">The 2nd and 3rd rows in the EP-BIRT have 
            the same SI = 0, the same next hop BFR-NBR = E and 
            the same backup information {EP=0, BE-BFER=0}.
            The F-BM for each of these two rows in the
            EP-BIFT is the logical OR of the BitStrings of these rows,
            which is 00110 (00010 OR 00100 = 00110).<a href="#section-5.3-16" class="pilcrow">¶</a></p>
<span id="name-ep-bift-for-bfer-d-on-bfr-c"></span><div id="ep-bift4d-bfr-c">
<figure id="figure-8">
          <div class="artwork art-text alignLeft" id="section-5.3-17.1">
<pre>
      +----------------+---------+------------+----------------+
      |     BFR-id     |  F-BM   |  BFR-NBR   |  {EP,BE-BFER}  |
      | (SI:BitString) |         | (Next Hop) |  (Backup Info) |
      +================+=========+============+================+
      |  1 (0:00001)   |  00001  |    NULL    |EP=1, BE-BFER=H |
      +----------------+---------+------------+----------------+
      |  2 (0:00010)   |  00110  |     F      |EP=0, BE-BFER=0 |
      +----------------+---------+------------+----------------+
      |  3 (0:00100)   |  00110  |     F      |EP=0, BE-BFER=0 |
      +----------------+---------+------------+----------------+
      |  4 (0:01000)   |  01000  |     H      |EP=0, BE-BFER=0 |
      +----------------+---------+------------+----------------+
      |  5 (0:10000)   |  10000  |     B      |EP=0, BE-BFER=0 |
      +----------------+---------+------------+----------------+</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-ep-bift-for-bfer-d-on-bfr-c" class="selfRef">EP-BIFT for BFER D on BFR C</a>
          </figcaption></figure>
</div>
<div class="artwork art-text alignLeft" id="section-5.3-18">
<pre>
The F-BM for 1st row in the EP-BIFT  is 00001.
The F-BM for 4-th row in the EP-BIFT is 01000.
The F-BM for 5-th row in the EP-BIFT is 10000.</pre><a href="#section-5.3-18" class="pilcrow">¶</a>
</div>
</section>
<section id="section-5.4">
        <h3 id="name-forwarding-using-ep-bift">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-forwarding-using-ep-bift" class="section-name selfRef">Forwarding using EP-BIFT</a>
        </h3>
<p id="section-5.4-1">Suppose that there is a multicast traffic from
           BFR A as ingress/BFIR to egresses/BFERs D, F and E.
           For every packet of the traffic, after receiving it, 
           BFR A adds a BIER header into the packet and 
           sends the packet with the BIER header to BFR B, 
           which sends the packet BFR C.
           The BIER header contains (SI:BitString) = (0:00111) for 
           egresses/BFERs D, F and E.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">In normal operations, after receiving the packet from BFR B,
           BFR C copies, updates and sends the packet to
           BFR D and BFR F using the BIFT on BFR C according to
           the forwarding procedure defined in 
           <span>[<a href="#RFC8279" class="xref">RFC8279</a>]</span>.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
<p id="section-5.4-3">Once BFR C detects the failure of its BFR-NBR D,
           which is a BFER,
           after receiving the packet from BFR B,
           BFR C copies, updates and sends the packet 
           using the EP-BIFT for BFER D on BFR C according to the 
           updated forwarding procedure.<a href="#section-5.4-3" class="pilcrow">¶</a></p>
<p id="section-5.4-4">For the packet targeting to BFER D (i.e., primary egress node),
           BFR C sends it towards BFER H (i.e., backup egress node),
           which is configured to protect BFER D.<a href="#section-5.4-4" class="pilcrow">¶</a></p>
<p id="section-5.4-5">For example, 
           once BFR C detects the failure of its BFR-NBR D,  
           after receiving the packet from BFR B,
           BFR C copies, updates and sends the packet to 
           BFR H and BFR F using the EP-BIFT for BFER D on BFR C.<a href="#section-5.4-5" class="pilcrow">¶</a></p>
<p id="section-5.4-6">The packet received by BFR C from BFR B contains 
           (SI:BitString) = (0:00111). 
           The rightmost one bit in BitString is bit 1.
           For BFER 1 (0:00001) (i.e., BFR D as BFER), 
           BFR C gets the 1st row (i.e., forwarding entry) in the 
           EP-BIFT for BFER D. 
           EP = 1 in the row indicates that BFER D is protected against 
           the failure of D.
           BFR C clears bit 1 in Packet's BitString 
           and sets bit 4 (i.e., the bit for BE-BFER = H) 
           in Packet's BitString to one. 
           The BitString in Packet is 01110 now.
           This lets BFR C send Packet to BE-BFER H.<a href="#section-5.4-6" class="pilcrow">¶</a></p>
<p id="section-5.4-7">For the packet containing BitString = 01110, 
           the rightmost one bit in BitString is bit 2.
           For BFER 2 (0:00010) (i.e., BFR F as BFER), 
           BFR C gets the 2nd row (i.e., forwarding entry) in the 
           EP-BIFT for BFER D. 
           EP = 0 and the next hop BFR-NBR is F in the row.
           BFR C copies, updates and sends the packet to F.<a href="#section-5.4-7" class="pilcrow">¶</a></p>
<p id="section-5.4-8">The packet sent to F contains the updated 
           BitString = 00110, 
           which is 01110 &amp; F-BM in the 2nd row = 01110 &amp; 00110
           = 00110.<a href="#section-5.4-8" class="pilcrow">¶</a></p>
<p id="section-5.4-9">After sending the packet to F, 
           BFR C updates the original packet by ANDing its BitString with the
           INVERSE of the F-BM in the 2nd row. 
           The updated BitString = 01000,
           which is 01110 &amp; ~F-BM in the row = 01110 &amp; 11001 = 01000.<a href="#section-5.4-9" class="pilcrow">¶</a></p>
<p id="section-5.4-10">For the packet containing BitString = 01000, 
           the rightmost one bit in BitString is bit 4.
           For BFER 4 (0:01000) (i.e., BFR H as BFER), 
           BFR C gets the 4-th row (i.e., forwarding entry) in the 
           EP-BIFT for BFER D. 
           EP = 0 and the next hop BFR-NBR is H in the row.
           BFR C copies, updates and sends the packet to H.
           The packet sent to H contains BitString = 01000.<a href="#section-5.4-10" class="pilcrow">¶</a></p>
<p id="section-5.4-11">After sending the packet to H, 
           BFR C updates the original packet by ANDing its BitString with
           the INVERSE of the F-BM in the 4-th row. 
           The updated BitString = 00000,
           which is 01000 &amp; ~F-BM in the row = 01000 &amp; 10111 
           = 00000.<a href="#section-5.4-11" class="pilcrow">¶</a></p>
<p id="section-5.4-12">The updated packet has BitString without any one bit.
           BFR C finishes forwarding the packet to F 
           and H (backup for D). 
           BFR F will sends the packet to E.<a href="#section-5.4-12" class="pilcrow">¶</a></p>
</section>
</section>
<div id="Security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">TBD.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">No requirements for IANA.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Acknowledgements">
<section id="section-8">
      <h2 id="name-acknowledgements">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-8-1">The authors would like to thank people
      for their comments to this work.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5226">[RFC5226]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5226">https://www.rfc-editor.org/info/rfc5226</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5250">[RFC5250]</dt>
        <dd>
<span class="refAuthor">Berger, L.</span>, <span class="refAuthor">Bryskin, I.</span>, <span class="refAuthor">Zinin, A.</span>, and <span class="refAuthor">R. Coltun</span>, <span class="refTitle">"The OSPF Opaque LSA Option"</span>, <span class="seriesInfo">RFC 5250</span>, <span class="seriesInfo">DOI 10.17487/RFC5250</span>, <time datetime="2008-07" class="refDate">July 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5250">https://www.rfc-editor.org/info/rfc5250</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5286">[RFC5286]</dt>
        <dd>
<span class="refAuthor">Atlas, A., Ed.</span> and <span class="refAuthor">A. Zinin, Ed.</span>, <span class="refTitle">"Basic Specification for IP Fast Reroute: Loop-Free Alternates"</span>, <span class="seriesInfo">RFC 5286</span>, <span class="seriesInfo">DOI 10.17487/RFC5286</span>, <time datetime="2008-09" class="refDate">September 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5286">https://www.rfc-editor.org/info/rfc5286</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5714">[RFC5714]</dt>
        <dd>
<span class="refAuthor">Shand, M.</span> and <span class="refAuthor">S. Bryant</span>, <span class="refTitle">"IP Fast Reroute Framework"</span>, <span class="seriesInfo">RFC 5714</span>, <span class="seriesInfo">DOI 10.17487/RFC5714</span>, <time datetime="2010-01" class="refDate">January 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5714">https://www.rfc-editor.org/info/rfc5714</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5880">[RFC5880]</dt>
        <dd>
<span class="refAuthor">Katz, D.</span> and <span class="refAuthor">D. Ward</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD)"</span>, <span class="seriesInfo">RFC 5880</span>, <span class="seriesInfo">DOI 10.17487/RFC5880</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5880">https://www.rfc-editor.org/info/rfc5880</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7356">[RFC7356]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L.</span>, <span class="refAuthor">Previdi, S.</span>, and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"IS-IS Flooding Scope Link State PDUs (LSPs)"</span>, <span class="seriesInfo">RFC 7356</span>, <span class="seriesInfo">DOI 10.17487/RFC7356</span>, <time datetime="2014-09" class="refDate">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7356">https://www.rfc-editor.org/info/rfc7356</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7490">[RFC7490]</dt>
        <dd>
<span class="refAuthor">Bryant, S.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Shand, M.</span>, and <span class="refAuthor">N. So</span>, <span class="refTitle">"Remote Loop-Free Alternate (LFA) Fast Reroute (FRR)"</span>, <span class="seriesInfo">RFC 7490</span>, <span class="seriesInfo">DOI 10.17487/RFC7490</span>, <time datetime="2015-04" class="refDate">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7490">https://www.rfc-editor.org/info/rfc7490</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7684">[RFC7684]</dt>
        <dd>
<span class="refAuthor">Psenak, P.</span>, <span class="refAuthor">Gredler, H.</span>, <span class="refAuthor">Shakir, R.</span>, <span class="refAuthor">Henderickx, W.</span>, <span class="refAuthor">Tantsura, J.</span>, and <span class="refAuthor">A. Lindem</span>, <span class="refTitle">"OSPFv2 Prefix/Link Attribute Advertisement"</span>, <span class="seriesInfo">RFC 7684</span>, <span class="seriesInfo">DOI 10.17487/RFC7684</span>, <time datetime="2015-11" class="refDate">November 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7684">https://www.rfc-editor.org/info/rfc7684</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7770">[RFC7770]</dt>
        <dd>
<span class="refAuthor">Lindem, A., Ed.</span>, <span class="refAuthor">Shen, N.</span>, <span class="refAuthor">Vasseur, JP.</span>, <span class="refAuthor">Aggarwal, R.</span>, and <span class="refAuthor">S. Shaffer</span>, <span class="refTitle">"Extensions to OSPF for Advertising Optional Router Capabilities"</span>, <span class="seriesInfo">RFC 7770</span>, <span class="seriesInfo">DOI 10.17487/RFC7770</span>, <time datetime="2016-02" class="refDate">February 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7770">https://www.rfc-editor.org/info/rfc7770</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8279">[RFC8279]</dt>
        <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Przygienda, T.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"Multicast Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8279</span>, <span class="seriesInfo">DOI 10.17487/RFC8279</span>, <time datetime="2017-11" class="refDate">November 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8279">https://www.rfc-editor.org/info/rfc8279</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8556">[RFC8556]</dt>
      <dd>
<span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Sivakumar, M.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">A. Dolganow</span>, <span class="refTitle">"Multicast VPN Using Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8556</span>, <span class="seriesInfo">DOI 10.17487/RFC8556</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8556">https://www.rfc-editor.org/info/rfc8556</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-rtgwg-segment-routing-ti-lfa">[I-D.ietf-rtgwg-segment-routing-ti-lfa]</dt>
        <dd>
<span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Bashandy, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Francois, P.</span>, <span class="refAuthor">Decraene, B.</span>, and <span class="refAuthor">D. Voyer</span>, <span class="refTitle">"Topology Independent Fast Reroute using Segment Routing"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rtgwg-segment-routing-ti-lfa-07</span>, <time datetime="2021-06-29" class="refDate">29 June 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-rtgwg-segment-routing-ti-lfa-07.txt">https://www.ietf.org/archive/id/draft-ietf-rtgwg-segment-routing-ti-lfa-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-spring-segment-protection-sr-te-paths">[I-D.ietf-spring-segment-protection-sr-te-paths]</dt>
        <dd>
<span class="refAuthor">Hegde, S.</span>, <span class="refAuthor">Bowers, C.</span>, <span class="refAuthor">Litkowski, S.</span>, <span class="refAuthor">Xu, X.</span>, and <span class="refAuthor">F. Xu</span>, <span class="refTitle">"Segment Protection for SR-TE Paths"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-spring-segment-protection-sr-te-paths-01</span>, <time datetime="2021-07-11" class="refDate">11 July 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-spring-segment-protection-sr-te-paths-01.txt">https://www.ietf.org/archive/id/draft-ietf-spring-segment-protection-sr-te-paths-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7431">[RFC7431]</dt>
        <dd>
<span class="refAuthor">Karan, A.</span>, <span class="refAuthor">Filsfils, C.</span>, <span class="refAuthor">Wijnands, IJ., Ed.</span>, and <span class="refAuthor">B. Decraene</span>, <span class="refTitle">"Multicast-Only Fast Reroute"</span>, <span class="seriesInfo">RFC 7431</span>, <span class="seriesInfo">DOI 10.17487/RFC7431</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7431">https://www.rfc-editor.org/info/rfc7431</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8296">[RFC8296]</dt>
        <dd>
<span class="refAuthor">Wijnands, IJ., Ed.</span>, <span class="refAuthor">Rosen, E., Ed.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Tantsura, J.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">I. Meilik</span>, <span class="refTitle">"Encapsulation for Bit Index Explicit Replication (BIER) in MPLS and Non-MPLS Networks"</span>, <span class="seriesInfo">RFC 8296</span>, <span class="seriesInfo">DOI 10.17487/RFC8296</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8296">https://www.rfc-editor.org/info/rfc8296</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8401">[RFC8401]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Aldrin, S.</span>, and <span class="refAuthor">Z. Zhang</span>, <span class="refTitle">"Bit Index Explicit Replication (BIER) Support via IS-IS"</span>, <span class="seriesInfo">RFC 8401</span>, <span class="seriesInfo">DOI 10.17487/RFC8401</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8401">https://www.rfc-editor.org/info/rfc8401</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8444">[RFC8444]</dt>
      <dd>
<span class="refAuthor">Psenak, P., Ed.</span>, <span class="refAuthor">Kumar, N.</span>, <span class="refAuthor">Wijnands, IJ.</span>, <span class="refAuthor">Dolganow, A.</span>, <span class="refAuthor">Przygienda, T.</span>, <span class="refAuthor">Zhang, J.</span>, and <span class="refAuthor">S. Aldrin</span>, <span class="refTitle">"OSPFv2 Extensions for Bit Index Explicit Replication (BIER)"</span>, <span class="seriesInfo">RFC 8444</span>, <span class="seriesInfo">DOI 10.17487/RFC8444</span>, <time datetime="2018-11" class="refDate">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8444">https://www.rfc-editor.org/info/rfc8444</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Huaimo Chen</span></div>
<div dir="auto" class="left"><span class="org">Futurewei</span></div>
<div dir="auto" class="left">
<span class="locality">Boston, MA</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Huaimo.chen@futurewei.com" class="email">Huaimo.chen@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mike McBride</span></div>
<div dir="auto" class="left"><span class="org">Futurewei</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:michael.mcbride@futurewei.com" class="email">michael.mcbride@futurewei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Aijun Wang</span></div>
<div dir="auto" class="left"><span class="org">China Telecom</span></div>
<div dir="auto" class="left"><span class="street-address">Beiqijia Town, Changping District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left"><span class="postal-code">102209</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wangaj3@chinatelecom.cn" class="email">wangaj3@chinatelecom.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gyan S. Mishra</span></div>
<div dir="auto" class="left"><span class="org">Verizon Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">13101 Columbia Pike</span></div>
<div dir="auto" class="left">
<span class="locality">Silver Spring</span>,  <span class="postal-code">MD 20904</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:301%20502-1347" class="tel">301 502-1347</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:gyan.s.mishra@verizon.com" class="email">gyan.s.mishra@verizon.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yisong Liu</span></div>
<div dir="auto" class="left"><span class="org">China Mobile</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liuyisong@chinamobile.com" class="email">liuyisong@chinamobile.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Boris Khasanov</span></div>
<div dir="auto" class="left"><span class="org">Yandex LLC</span></div>
<div dir="auto" class="left"><span class="locality">Moscow</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bhassanov@yahoo.com" class="email">bhassanov@yahoo.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yanhe Fan</span></div>
<div dir="auto" class="left"><span class="org">Casa Systems</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yfan@casa-systems.com" class="email">yfan@casa-systems.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lei Liu</span></div>
<div dir="auto" class="left"><span class="org">Fujitsu</span></div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:liulei.kddi@gmail.com" class="email">liulei.kddi@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Xufeng Liu</span></div>
<div dir="auto" class="left"><span class="org">Volta Networks</span></div>
<div dir="auto" class="left">
<span class="locality">McLean</span>, <span class="region">VA</span> </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:xufeng.liu.ietf@gmail.com" class="email">xufeng.liu.ietf@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
