<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Configuration of pro-active MPLS-TP Operations, Administration, and Maintenance (OAM) Functions Using RSVP-TE or LSP Ping</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Configuration of pro-active MPLS-TP Operations, Administration, and Maintenance (OAM) Functions Using RSVP-TE or LSP Ping">
<meta name="keywords" content="RSVP-TE, GMPLS, MPLS, MPLS-TP">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">CCAMP Working Group</td><td class="header">E. Bellagamba, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">L. Andersson, Ed.</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Ericsson</td></tr>
<tr><td class="header">Expires: September 6, 2010</td><td class="header">P. Skoldstrom, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Acreo AB</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">D. Ward</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Juniper</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 05, 2010</td></tr>
</table></td></tr></table>
<h1><br />Configuration of pro-active MPLS-TP Operations, Administration, and Maintenance (OAM) Functions Using RSVP-TE or LSP Ping<br />draft-ietf-ccamp-rsvp-te-mpls-tp-oam-ext-01</h1>

<h3>Abstract</h3>

<p>This specification describes the configuration of pro-active MPLS-TP Operations, 
	Administration, and Maintenance (OAM) Functions for a given LSP using a common set 
	of TLVs that is carried on either RSVP-TE or LSP Ping.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 6, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Contributing Authors<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Requirements Language<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">1.3.</a>&nbsp;
Overview of BFD OAM operation<br />
<a href="#anchor5">2.</a>&nbsp;
Overview of MPLS OAM for Transport Applications<br />
<a href="#anchor6">3.</a>&nbsp;
Theory of Operations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.1.</a>&nbsp;
MPLS OAM Configuration Operation Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.2.</a>&nbsp;
OAM Configuration TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.3.</a>&nbsp;
BFD Configuration TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.3.1.</a>&nbsp;
Local Discriminator sub-TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">3.3.2.</a>&nbsp;
Negotiation Timer Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">3.4.</a>&nbsp;
MPLS OAM PM Loss TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">3.5.</a>&nbsp;
MPLS OAM PM Delay TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">3.6.</a>&nbsp;
MPLS OAM FMS TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">3.7.</a>&nbsp;
MPLS OAM SOURCE MEP-ID TLV for LSP Ping<br />
<a href="#IANA">4.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor16">5.</a>&nbsp;
BFD OAM configuration errors<br />
<a href="#anchor17">6.</a>&nbsp;
Acknowledgements<br />
<a href="#Security">7.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#app-additional">Appendix&nbsp;A.</a>&nbsp;
Additional Stuff<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document describes the configuration of pro-active MPLS-TP Operations, 
	Administration, and Maintenance (OAM) Functions for a given LSP using a common 
	set of TLVs carried on either RSVP-TE [RFC3209] or LSP Ping [BFD-Ping].  
	In particular it specifies the mechanisms necessary to establish MPLS-TP OAM 
	entities monitoring an LSP and defines information elements and procedures to 
	configure pro-active MPLS OAM functions.  Initialization and control of on-demand 
	MPLS OAM functions are expected to be carried out by directly accessing network nodes 
	via a management interface; hence configuration and control of on-demand OAM functions 
	are out-of-scope for this document.
</p>
<p>Because the Transport Profile of MPLS, by definition [RFC5654], must be capable 
	of operating without a control plane, there are two options for in-band OAM: by using 
	an NMS or by using LSP-Ping if a control plane is not instantiated.
</p>
<p>Pro-active MPLS OAM is based on the Bidirectional Forwarding
	Detection (BFD) protocol [BFD].  Bidirectional Forwarding Detection
	(BFD), as described in [BFD], defines a protocol that provides low-
	overhead, short-duration detection of failures in the path between
	two forwarding engines, including the interfaces, data link(s), and
	to the extent possible the forwarding engines themselves.  BFD can be
	used to track the liveliness and detect data plane failures of MPLS-TP point-to-point 
	and might also be extended to p2mp connections.
</p>
<p>MPLS Transport Profile (MPLS-TP) describes a profile of MPLS that
	enables operational models typical in transport networks, while
	providing additional OAM, survivability and other maintenance
	functions not currently supported by MPLS.  [MPLS-TP-OAM-REQ] defines the requirements 
	for the OAM functionality of MPLS-TP.
</p>
<p>BFD has been chosen to be the basis of pro-active MPLS-TP OAM functions. 
	MPLS-TP OAM extensions for transport applications, for which this document specifies 
	the configuration, are specified in [BFD-CCCV], [MPLS-PM], and [MPLS-FMS].
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Contributing Authors</h3>

<p>The editors gratefully acknowledge the contributions of John Drake, Attila Takacs and 
	  Benoit Tremblay.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Requirements Language</h3>

<p>
	  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
	  "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
	  document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
	
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Overview of BFD OAM operation</h3>

<p>BFD is a simple hello protocol that in many respects is similar to
	  the detection components of well-known routing protocols.  A pair of systems transmits BFD packets periodically over each path between the
	  two systems, and if a system stops receiving BFD packets for long
	  enough, some component in that particular bidirectional path to the
	  neighboring system is assumed to have failed.  Systems may also
	  negotiate to not send periodic BFD packets in order to reduce
	  overhead.
</p>
<p>A path is only declared to be operational when two-way communication 
	  has been established between systems, though this does not preclude
	  the use of unidirectional links to support bidirectional paths 
	  (co-routed or bidirectional or associated bidirectional).
</p>
<p>Each system estimates how quickly it can send and receive BFD packets
	  in order to come to an agreement with its neighbor about how rapidly
	  detection of failure will take place.  These estimates can be
	  modified in real time in order to adapt to unusual situations.  This
	  design also allows for fast systems on a shared medium with a slow
	  system to be able to more rapidly detect failures between the fast
	  systems while allowing the slow system to participate to the best of
	  its ability.
</p>
<p>The ability of each system to control the BFD packet transmission
	  rate in both directions provides a mechanism for congestion control,
	  particularly when BFD is used across multiple network hops.
</p>
<p>As recommended in [BFD-CCCV], the BFD tool needs to be extended for the
	  proactive CV functionality by the addition of an unique identifier in order to meet the requirements.  The document in [BFD-CCCV] specifies the BFD
	  extension and behavior to meet the requirements for MPLS-TP proactive
	  Continuity Check and Connectivity Verification functionality and the
	  RDI functionality as defined in [MPLS-TP-OAM-REQ].
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Overview of MPLS OAM for Transport Applications</h3>

<p>[MPLS-TP-OAM-FWK] describes how MPLS OAM mechanisms are operated 
	to meet transport requirements outlined in [MPLS-TP-OAM-REQ].
</p>
<p>[BFD-CCCV] specifies two BFD operation modes: 1) "CC mode", 
	which uses periodic BFD message exchanges with symmetric timer settings, 
	supporting Continuity Check, 2) "CV/CC mode" which sends unique 
	maintenance entity identifiers in the periodic BFD messages supporting 
	Connectivity Verification as well as Continuity Check.
</p>
<p>[MPLS-PM] specifies mechanisms for performance monitoring of LSPs, 
	in particular it specifies loss and delay measurement OAM functions.
</p>
<p>[MPLS-FMS] specifies fault management signals with which a server 
	LSP can notify client LSPs about various fault conditions to suppress 
	alarms or to be used as triggers for actions in the client LSPs. 
	The following signals are defined: Alarm Indication Signal (AIS),
	Link Down Indication (LDI) and Locked Report (LKR). To indicate client 
	faults associated with the attachment circuits Client Signal Failure 
	Indication (CSF) can be used. CSF is described in [MPLS-TP-OAM-FWK]
	and in the context of this document is for further study.
</p>
<p>[MPLS-TP-OAM-FWK] describes the mapping of fault conditions to 
	consequent actions. Some of these mappings may be configured by the 
	operator, depending on the application of the LSP. The following defects 
	are identified: Loss Of Continuity (LOC), Misconnectivity, 
	MEP Misconfiguration and Period Misconfiguration. Out of these defect 
	conditions, the following consequent actions may be configurable: 
	1) whether or not the LOC defect should result in blocking the outgoing 
	data traffic; 2) whether or not the "Period Misconfiguration defect" 
	should result a signal fail condition.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Theory of Operations</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
MPLS OAM Configuration Operation Overview</h3>

<p>RSVP-TE or LSP Ping can be used to simply establish (i.e., bootstrap) a BFD session 
	  or it can selectively enable and configure all pro-active MPLS OAM functions.  
	  For this specification, BFD MUST be run in asynchronous mode and both sides should 
	  be in active mode.
</p>
<p>In the simplest scenario RSVP-TE or LSP Ping is used only to bootstrap the BFD session.  
	  In this case the initiating node includes an 'OAM Configuration TLV' in the message it 
	  sends to the receiving node at the other end of the LSP. The OAM Type in the 
	  'OAM Configuration TLV' is set to 'MPLS OAM', the CC OAM Function flag is set, 
	  and a 'BFD Configuration sub-TLV' is included.  The sub-TLV carries a 'Local Discriminator 
	  sub-TLV' with the discriminator value selected by the initiating node for the BFD session 
	  associated with the LSP. The N flag in the 'BFD Configuration sub-TLV' MUST be set to enable 
	  timer negotiation/re-negotiation via BFD Control Messages.
</p>
<p>The receiving node MUST use the Local Discriminator value it receives to 
	  identify the remote end of the BFD session.  The receiving node must send a 
	  message to the initiating node that includes an 'OAM Configuration TLV' containing 
	  the same values as it received, except for the 'Local Discriminator sub-TLV', which 
	  contains the local discriminator value selected by the receiving node for the BFD session.
</p>
<p>Timer negotiation is performed in subsequent BFD control messages.  
	  This operation is similar to LSP Ping based bootstrapping described in [BFD-MPLS].
</p>
<p>If timer negotiation is to be done using the TLVs defined in this document rather 
	  than with BFD Control Messages, the N flag MUST be cleared and a 'Timer Negotiation 
	  Parameters sub-TLV' MUST be present in the 'BFD Configuration sub-TLV'.  
	  In this case, there are two configuration options, symmetric and asymmetric.  
	  If symmetric configuration is used, the S flag in 'BFD Configuration sub-TLV' MUST be set.  
	  If the flag is cleared, the configuration is completed asymmetrically in the two directions.  
	  Section 3.3.2 includes a detailed explanation of such configuration.
</p>
<p>In the case of the "CV/CC mode" OAM [BFD-CCCV], the "CV" flag MUST be set in 
	  addition to the CC flag in the "OAM Configuration TLV".  The information required 
	  to support this functionality is defined in [MPLS-TP-IDENTIF]. If RSVP-TE is used, 
	  this information is found respectively in the SESSION and SENDER_TEMPLATE object with 
	  no need of further sub-TLV as described in section 3.2. In case of LSP Ping configuration 
	  this information is supplied by an additional sub-TLV as described in section 3.2.
</p>
<p>Additional OAM functions can be requested by setting the PM/Loss and
	  PM/Delay OAM Function flags in the "OAM Configuration TLV". If these
	  flags are set, corresponding sub-TLVs may be included in the "OAM
	  Configuration TLV".
</p>
<p>If Fault Management Signals [MPLS-FMS] are required, the Fault Management Signals 
	  (FMS) OAM Function is set in the 'OAM Configuration TLV'. If this flag is set, 
	  the corresponding sub-TLV may be included in the 'OAM Configuration TLV'.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
OAM Configuration TLV</h3>

<p>The "OAM Configuration TLV" is depicted in the following figure. 
	  It specifies the OAM functions that are to be used for the subject LSP and it is defined in 
	  [OAM-CONF-FWK].  For RSVP-TE, the "OAM Configuration TLV" is carried in the LSP_ATTRIBUTES 
	  object in Path and Resv messages.
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type (2) (IANA)     |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    OAM Type   |                Reserved                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                           sub-TLVs                            ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div><p>
                                                                                                  
	
</p>
<p>Type: indicates the "OAM Configuration TLV" (2) (IANA to assign).
</p>
<p>OAM Type: one octet that specifies the technology specific OAM Type.
	  If the requested OAM Type is not supported, an error must be
	  generated: "OAM Problem/Unsupported OAM Type".
</p>
<p>This document defines a new OAM Type: "MPLS OAM" (suggested value 2, IANA to assign) 
	  from the "RSVP-TE OAM Configuration Registry".  The "MPLS OAM" type is set to request 
	  the establishment of OAM functions for MPLS-TP LSPs.  The specific OAM functions are 
	  specified in the "Function Flags" sub-TLV as depicted in [OAM-CONF-FWK].
</p>
<p>The receiving edge LSR when the MPLS-TP OAM Type is requested should check
	  which OAM Function Flags are set in the "Function Flags TLV" and look
	  for the corresponding technology specific configuration TLV.
</p>
<p>Additional corresponding sub-TLVs are as follows:
</p>
<p></p>
<blockquote class="text">
<p>- "BFD Configuration sub-TLV", which MUST be included if the 
	      CC OAM Function flag is set. This sub-TLV MUST carry a 
	      "BFD Local Discriminator sub-TLV" and a "Timer Negotiation 
	      Parameters sub-TLV" if the N flag is cleared.
</p>
<p>- "MPLS OAM PM Loss sub-TLV", which MAY be included if 
	      the PM/Loss OAM Function flag is set. If the "MPLS OAM PM 
	      Loss sub-TLV" is not included, default configuration values
	      are used.
</p>
<p>- "MPLS OAM PM Delay sub-TLV", which MAY be included 
	      if the PM/Delay OAM Function flag is set. If the "MPLS 
	      OAM PM Delay sub-TLV" is not included, default configuration 
	      values are used.
</p>
<p>- "MPLS OAM FMS sub-TLV", which MAY be included if the FMS 
	      OAM Function flag is set. If the "MPLS OAM FMS sub-TLV" 
	      is not included, default configuration values are used.
</p>
<p>- "Unique MEP-ID of Source", which MUST be included in case 
	      the configuration is done with LSP Ping and CV flag is set.
</p>
</blockquote>

<p>Moreover, if the CV flag is set, the CC flag MUST be set at the 
	  same time. The format of an MPLS-TP CV/CC message is shown in 
	  [BFD-CCCV] and it requires, together with the BFD control packet 
	  information, the "Unique MEP-ID of source of BFD packet". 
	  [MPLS-TP-IDENTIF] defines the composition of such identifier as:
</p>
<p>&lt;"Unique MEP-ID of source of BFD packet"&gt; ::= &lt;src_node_id&gt;&lt;src_tunnel_num&gt;&lt;lsp_num&gt;
</p>
<p>GMPLS signaling [RFC 3473] uses a 5-tuple to uniquely identify an 
	  LSP within an operator's network.  This tuple is composed of a Tunnel 
	  Endpoint Address, Tunnel_ID, Extended Tunnel ID, and Tunnel Sender 
	  Address and (GMPLS) LSP_ID.
</p>
<p>Hence, the following mapping is used without the need of redefining 
	  a new TLV for MPLS-TP proactive CV purpose.
</p>
<p>
	  </p>
<blockquote class="text">
<p>- Tunnel ID = src_tunnel_num
</p>
<p>- Tunnel Sender Address = src_node_id
</p>
<p>- LSP ID = LSP_Num
</p>
</blockquote><p>
	
</p>
<p>"Tunnel ID" and "Tunnel Sender Address" are included in 
	  the "SESSION" object [RFC 3209], which is mandatory in both Path 
	  and Resv messages.
</p>
<p>"LSP ID" will be the same on both directions and it is 
	  included in the "SENDER_TEMPLATE" object [RFC 3209] which 
	  is mandatory in Path messages.
</p>
<p>In case the configuration is done via LSP Ping the "Unique MEP-ID of Source" 
	  is needed to supply this information.
</p>
<p>[Author's note: the same "Unique MEP-ID of source" 
	  will be likely required for Performance monitoring purposes. 
	  However for the moment in [MPLS-PM] it is stated: "The question 
	  of ACH TLV usage and the manner of supporting metadata such as authentication 
	  keys and node identifiers is deliberately omitted.  These issues will be addressed 
	  in a future version of the document."]
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
BFD Configuration TLV</h3>

<p>The "BFD Configuration TLV" (depicted below) is defined for BFD OAM
	  specific configuration parameters.  The "BFD Configuration TLV" is
	  carried as a sub-TLV of the "OAM Configuration TLV".
</p>
<p>This new TLV accommodates generic BFD OAM information and carries
	  sub-TLVs.
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type (3) (IANA)     |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Vers.| PHB |N|S|      Reserved (set to all 0s)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   ~                           sub TLVs                            ~
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre></div><p>
                                                                                                  
	
</p>
<p>Type: indicates a new type, the "BFD 
	  Configuration TLV" (IANA to define).
</p>
<p>Length: indicates the total length including sub-TLVs.
</p>
<p>Version: identifies the BFD protocol version. If a node does not 
	  support a specific BFD version an error must be generated: 
	   "OAM Problem/Unsupported OAM Version &rdquo".
</p>
<p>PHB: Identifies the Per-Hop Behavior (PHB) to be used for 
	  periodic continuity monitoring messages.
</p>
<p>BFD Negotiation (N): If set timer negotiation/re-negotiation 
	  via BFD Control Messages is enabled, when cleared it is disabled.
</p>
<p>The "BFD Configuration TLV" MUST include the following sub-TLVs
	  in the Path message:
</p>
<p></p>
<blockquote class="text">
<p>- "Local Discriminator sub-TLV";
</p>
<p>- "Negotiation Timer Parameters sub-TLV" if N flag is cleared.
</p>
</blockquote>

<p>The "BFD Configuration TLV" MUST include the following 
	  sub-TLVs in the Resv message:
</p>
<p></p>
<blockquote class="text">
<p>- "Local Discriminator sub-TLV;"
</p>
<p>- "Negotiation Timer Parameters sub-TLV" if:
	      </p>
<blockquote class="text">
<p>- N flag and S are cleared 
</p>
<p>- N flag is cleared and S flag is set and a timing value 
		  higher than the one received needs to be used
</p>
</blockquote>
	    

</blockquote>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1"></a><h3>3.3.1.&nbsp;
Local Discriminator sub-TLV</h3>

<p>The "Local Discriminator sub-TLV" is carried as a sub-TLV of the BFD
	  Configuration sub-TLV.  It is depicted below.
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type (1) (IANA)     |         Length = 8            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    		  Local Discriminator                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>
                                                                                                  
	
</p>
<p>Type: indicates a new type, the Local Discriminator sub TLV (1) 
	  (IANA to define).
</p>
<p>Length: indicates the TLV total length in octets.
</p>
<p>Local Discriminator: A unique, nonzero discriminator value generated
	  by the transmitting system and referring to itself, used to
	  demultiplex multiple BFD sessions between the same pair of systems.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2"></a><h3>3.3.2.&nbsp;
Negotiation Timer Parameters</h3>

<p>The "Negotiation Timer Parameters sub-TLV" is depicted below.
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  Req. TX int. Type (2) (IANA) |          Length = 20          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |         Acceptable Min. Asynchronous TX interval              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |         Acceptable Min. Asynchronous RX interval              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |               Required Echo TX Interval                       |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  Detect. Mult.|           Reserved                            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>

	
</p>
<p>Type: indicates a new type, the "Negotiation Timer Parameters 
	  sub-TLV" (IANA to define).
</p>
<p>Length: indicates the TLV total length in octets.
</p>
<p>Acceptable Min. Asynchronous TX interval: in case of S 
	  (symmetric) flag set in the "BFD Configuration" TLV, 
	  it expresses the desired time interval (in microseconds) at
	  which the LER initiating the signaling intends to both transmit 
	  and receive BFD periodic control packets. If the receiving edge LSR can 
	  not support such value, it is allowed to reply back with an interval 
	  greater than the one proposed.
</p>
<p>In case of S (symmetric) flag cleared in the "BFD 
	  Configuration TLV", this field expresses the desired 
	  time interval (in microseconds) at which a edge LSR intends to 
	  transmit BFD periodic control packets in its transmitting direction.
</p>
<p>Acceptable Min. Asynchronous RX interval: in case of S 
	  (symmetric) flag set in the "BFD Configuration TLV", this 
	  field MUST be equal to "Acceptable Min. Asynchronous TX interval" 
	  and has no additional meaning respect to the one described for 
	  "Acceptable Min. Asynchronous TX interval".
</p>
<p>In case of S (symmetric) flag cleared in the "BFD Configuration 
	  TLV", it expresses the minimum time interval (in microseconds) 
	  at which edge LSRs can receive BFD periodic control packets. In case 
	  this value is greater than the "Acceptable Min. Asynchronous TX 
	  interval" received from the other edge LSR, such edge LSR MUST adopt the 
	  interval expressed in this "Acceptable Min. Asynchronous RX interval".
</p>
<p>Required Echo TX Interval: the minimum interval, in microseconds,
	  between received BFD Echo packets that this system is capable of
	  supporting, less any jitter applied by the sender as described in
	  [BFD] sect. 6.8.9.  This value is also an indication for the
	  receiving system of the minimum interval between transmitted BFD Echo
	  packets.  If this value is zero, the transmitting system does not
	  support the receipt of BFD Echo packets.  If the receiving system can
	  not support this value an error MUST be generated "Unsupported BFD TX
	  rate interval".
</p>
<p>Detection time multiplier: The negotiated transmit interval,
	  multiplied by this value, provides the Detection Time for the
	  receiving system in Asynchronous mode.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
MPLS OAM PM Loss TLV</h3>

<p>The "MPLS OAM PM Loss TLV" depicted below is carried 
	  as a sub-TLV of the "OAM Configuration TLV".
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  PM Loss Type (3) (IANA)      |          Length = 16          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |Vers.|E|C|     |           Reserved                      | PHB |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                    Measurement Interval                       |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                      Loss Threshold                           |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>
                                                                                                  
	
</p>
<p>Type: indicates a new type, the "PM Loss" (IANA to define).
</p>
<p>Length: indicates the TLV total length in octets.
</p>
<p>Version: indicates the Loss measurement protocol version.
</p>
<p>Configuration Flags:
	  </p>
<blockquote class="text">
<p>- E: exclude from the Loss Measurement all G-ACh messages
</p>
<p>- C: require the use of a counter in the "Querier Context" 
	      field described in [MPLS-PM]
</p>
<p>- Remaining bits: Reserved for future specification and set to 0.
</p>
</blockquote><p>
	
</p>
<p>PHB: identifies the per-hop behavior of packets with 
	  loss information.
</p>
<p>Measurement Interval: the time interval (in microseconds) 
	  at which Loss Measurement query messages MUST be sent on both 
	  directions. If the edge LSR receiving the Path message can not support 
	  such value, it can reply back with a higher interval.
</p>
<p>Loss Threshold: the threshold value of lost packets over 
	  which protections MUST be triggered.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
MPLS OAM PM Delay TLV</h3>

<p>The "MPLS OAM PM Delay TLV" depicted below is 
	    carried as a sub-TLV of the "OAM Configuration TLV".
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  PM Delay Type (4) (IANA)     |          Length = 16          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |Vers.| Flags   |           Reserved                      | PHB |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                    Measurement Interval                       |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                      Delay Threshold                          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>
                                                                                                  
	
</p>
<p>Type: indicates a new type, the "PM Delay" (IANA to define).
</p>
<p>Length: indicates the TLV total length in octets.
</p>
<p>Version: indicates the Delay measurement protocol version.
</p>
<p>Configuration Flags:
	    </p>
<blockquote class="text">
<p>- E: exclude from the Loss Measurement all G-ACh messages
</p>
<p>- C: require the use of a counter in the "Querier Context" field 
		described in [MPLS-PM]
</p>
<p>- Remaining bits: Reserved for future specification and set to 0.
</p>
</blockquote><p>
	  
</p>
<p>PHB: - identifies the per-hop behavior of packets with delay 
	    information.
</p>
<p>Measurement Interval: the time interval (in microseconds) 
	    at which Delay Measurement query messages MUST be sent on both 
	    directions. If the edge LSR receiving the Path message can not support 
	    such value, it can reply back with a higher interval.
</p>
<p>Delay Threshold: the threshold value of lost packets over which 
	    protections MUST be triggered.
</p>
<p>[Author's note: TBD if we want to include the timestamp 
	    format negotiation as in [MPLS-PM] 4.2.5.]
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
MPLS OAM FMS TLV</h3>

<p>The "MPLS OAM FMS TLV" depicted below is carried as a sub-TLV of the 
	    "OAM Configuration TLV".
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Type (5)  (IANA)    |        Length (12)            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |A|D|L|C|                      Reserved       |         |E| PHB |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                      Refresh Timer                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>
                                                                                                  
	
</p>
<p>Type: indicates a new type, the "PM Delay" (IANA to define).
</p>
<p>Length: indicates the TLV total length in octets.
</p>
<p>Signal Flags: are used to enable the following signals:
	    </p>
<blockquote class="text">
<p>- A: Alarm Indication Signal (AIS) as described in [MPLS-FMS]
</p>
<p>- D: Link Down Indication (LDI) as described in [MPLS-FMS]
</p>
<p>- L: Locked Report (LKR) as described in [MPLS-FMS]
</p>
<p>- C: Client Signal Failure (CSF) as described in [MPLS-CSF]
</p>
</blockquote><p>
	  
</p>
<p>Configuration Flags:
	    </p>
<blockquote class="text">
<p>- E: used to enable/disable explicitly clearing faults
</p>
<p>- PHB: identifies the per-hop behavior of packets with fault
		management information
</p>
</blockquote><p>
	  
</p>
<p>Refresh Timer: indicates the refresh timer (in microseconds) 
	    of fault indication messages. If the edge LSR receiving the Path message 
	    can not support such value, it can reply back with a higher interval.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.7"></a><h3>3.7.&nbsp;
MPLS OAM SOURCE MEP-ID TLV for LSP Ping</h3>

<p>The "MPLS OAM SOURCE MEP-ID TLV for LSP Ping" depicted below is carried as a sub-TLV of the 
	    "OAM Configuration TLV" in case LSP Ping is used.
</p>
<p>
          </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |           Type (6)  (IANA)    |        Length = 12            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                         SRC NODE ID                           |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |           TUNNEL ID           |           LSP ID              |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>
                                                                                                  
	
</p>
<p>Type: indicates a new type, the "MPLS OAM SOURCE MEP-ID" (IANA to define).
</p>
<p>Length: indicates the TLV total length in octets.
</p>
<p>SRC NODE ID: 32-bit node identifier as defined in [MPLS-TP-IDENTIF].
</p>
<p>TUNNEL ID: a 16-bit unsigned integer unique to the node as defined in [MPLS-TP-IDENTIF].
</p>
<p>LSP ID: a 16-bit unsigned integer unique within the Tunnel_ID as defined in [MPLS-TP-IDENTIF].
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
IANA Considerations</h3>

<p>This document specifies the following new TLV types:
</p>
<p></p>
<blockquote class="text">
<p>- "BFD Configuration" type: 2;
</p>
<p>- "MPLS OAM PM Loss" type: 3;
</p>
<p>- "MPLS OAM PM Delay" type: 4;
</p>
<p>- "MPLS OAM PM FMS" type: 5.
</p>
</blockquote><p> 
</p>
<p>sub-TLV types to be carried in the "BFD Configuration sub-TLV":
	</p>
<blockquote class="text">
<p>- "Local Discriminator" sub-TLV type: 1;
</p>
<p>- "Negotiation Timer Parameters" sub-TLV type: 2.
</p>
</blockquote><p>
      
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
BFD OAM configuration errors</h3>

<p>In addition to error values specified in [OAM-CONF-FWK] and [ETH-OAM] 
	this document defines the following values for the "OAM Problem" Error Code:
</p>
<p></p>
<blockquote class="text">
<p>- "MPLS OAM Unsupported Functionality";
</p>
<p>- "OAM Problem/Unsupported TX rate interval".
</p>
</blockquote><p>
      
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgements</h3>

<p>The authors would like to thank David Allan, 
	Lou Berger, Annamaria Fulignoli, Eric Gray, Andras Kern, David Jocha and David Sinicrope 
	for their useful comments.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>The signaling of OAM related parameters and the automatic establishment of OAM 
	entities introduces additional security
	considerations to those discussed in [RFC3473].  In particular, a
	network element could be overloaded, if an attacker would request
	liveliness monitoring, with frequent periodic messages, for a high
	number of LSPs, targeting a single network element.
</p>
<p>Security aspects will be covered in more detailed in subsequent
	versions of this document.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="BFD">[BFD]</a></td>
<td class="author-text">Katz, D. and D. Ward, &ldquo;<a href="draft-ietf-bfd-base">Bidirectional Forwarding Detection</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-CSF">[MPLS-CSF]</a></td>
<td class="author-text">He, J. and H. Li, &ldquo;<a href="draft-he-mpls-tp-csf">Indication of Client Failure in MPLS-TP</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-FMS">[MPLS-FMS]</a></td>
<td class="author-text">Swallow, G., Fulignoli, A., and M. Vigoureux, &ldquo;<a href="draft-sfv-mpls-tp-fault">MPLS Fault Management OAM</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-PM">[MPLS-PM]</a></td>
<td class="author-text">Bryant, S. and D. Frost, &ldquo;<a href="draft-frost-mpls-tp-loss-delay">Packet Loss and Delay Measurement for the 
	    MPLS Transport Profile</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-IDENTIF">[MPLS-TP-IDENTIF]</a></td>
<td class="author-text">Bocci, M. and G. Swallow, &ldquo;<a href="draft-swallow-mpls-tp-identifiers">MPLS-TP Identifiers</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-OAM-REQ">[MPLS-TP-OAM-REQ]</a></td>
<td class="author-text">Vigoureux, M., Ward, D., and M. Betts, &ldquo;<a href="draft-ietf-mpls-tp-oam-requirements">Requirements for OAM in MPLS Transport Networks</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="OAM-CONF-FWK">[OAM-CONF-FWK]</a></td>
<td class="author-text">Takacs, A., Fedyk, D., and J. van He, &ldquo;<a href="draft-ietf-ccamp-oam-configuration-fwk">OAM Configuration Framework for GMPLS RSVP-TE</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3471">[RFC3471]</a></td>
<td class="author-text">Berger, L., &ldquo;<a href="http://tools.ietf.org/html/rfc3471">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description</a>,&rdquo; RFC&nbsp;3471, January&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3471.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5586">[RFC5586]</a></td>
<td class="author-text">Bocci, M., Vigoureux, M., and S. Bryant, &ldquo;<a href="http://tools.ietf.org/html/rfc5586">MPLS Generic Associated Channel</a>,&rdquo; RFC&nbsp;5586, June&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5586.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5654">[RFC5654]</a></td>
<td class="author-text">Niven-Jenkins, B., Brungard, D., Betts, M., Sprecher, N., and S. Ueno, &ldquo;<a href="http://tools.ietf.org/html/rfc5654">Requirements of an MPLS Transport Profile</a>,&rdquo; RFC&nbsp;5654, September&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5654.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="BFD-CCCV">[BFD-CCCV]</a></td>
<td class="author-text">Fulignoli, A., Boutros, S., and M. Vigoreux, &ldquo;<a href="draft-asm-mpls-tp-bfd-cc-cv">MPLS-TP BFD for Proactive CC-CV and RDI</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="BFD-Ping">[BFD-Ping]</a></td>
<td class="author-text">Bahadur, N., Aggarwal, R., Ward, D., Nadeau, T., Sprecher, N., and Y. Weingarten, &ldquo;<a href="draft-nitinb-mpls-tp-lsp-ping-bfd-procedures-02">LSP-Ping and BFD encapsulation over ACH</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="ETH-OAM">[ETH-OAM]</a></td>
<td class="author-text">Takacs, A., Gero, B., Fedyk, D., Mohan, D., and D. Long, &ldquo;<a href="draft-ietf-ccamp-rsvp-te-eth-oam-ext">GMPLS RSVP-TE Extensions for Ethernet OAM</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="LSP Ping">[LSP Ping]</a></td>
<td class="author-text">Kompella, K. and G. Swallow, &ldquo;<a href="RFC 3479">Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures</a>,&rdquo; 2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP OAM Analysis">[MPLS-TP OAM Analysis]</a></td>
<td class="author-text">Sprecher, N., Nadeau, T., van Helvoort, H., and Weingarten, &ldquo;<a href="draft-sprecher-mpls-tp-oam-analysis">MPLS-TP OAM Analysis</a>,&rdquo; 2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-FWK">[MPLS-TP-FWK]</a></td>
<td class="author-text">Bocci, M., Bryant, S., Frost, D., and L. Levrau, &ldquo;<a href="draft-ietf-mpls-tp-framework">OAM Configuration Framework for GMPLS RSVP-TE</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP-OAM-FWK">[MPLS-TP-OAM-FWK]</a></td>
<td class="author-text">Busi, I. and B. Niven-Jenkins, &ldquo;<a href="draft-ietf-mpls-tp-oam-framework">MPLS-TP OAM Framework and Overview</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4447">[RFC4447]</a></td>
<td class="author-text">Martini, L., Rosen, E., El-Aawar, N., Smith, T., and G. Heron, &ldquo;<a href="http://tools.ietf.org/html/rfc4447">Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP)</a>,&rdquo; RFC&nbsp;4447, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4447.txt">TXT</a>).</td></tr>
</table>

<a name="app-additional"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Additional Stuff</h3>

<p>This becomes an Appendix.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Elisa Bellagamba (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Farogatan 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kista,   164 40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sweden</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+46 761440785</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:elisa.bellagamba@ericsson.com">elisa.bellagamba@ericsson.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Loa Andersson (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Farogatan 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kista,   164 40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sweden</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:loa.andersson@ericsson.com">loa.andersson@ericsson.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Pontus Skoldstrom (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Acreo AB</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Electrum 236</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kista,   164 40</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sweden</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+46 8 6327731</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:pontus.skoldstrom@acreo.se">pontus.skoldstrom@acreo.se</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dave Ward</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Juniper</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dward@juniper.net">dward@juniper.net</a></td></tr>
</table>
</body></html>
