<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A YANG Data Model for a Keystore</title>
<meta content="Kent Watsen" name="author">
<meta content='
       This document defines a YANG module called "ietf-keystore"
          that enables centralized configuration of both symmetric and
          asymmetric keys.  The secret value for both key types may be
          encrypted or hidden.  Asymmetric keys may be associated with
          certificates.  Notifications are sent when certificates are
          about to expire. 
    ' name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="draft-ietf-netconf-keystore-23" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.4
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.26.0
    setuptools 59.5.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-netconf-keystore-23.v2v3-tmwayskk.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">A YANG Data Model for a Keystore</td>
<td class="right">December 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Watsen</td>
<td class="center">Expires 17 June 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">NETCONF Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-netconf-keystore-23</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-12-14" class="published">14 December 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-06-17">17 June 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Watsen</div>
<div class="org">Watsen Networks</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A YANG Data Model for a Keystore</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document defines a YANG module called "ietf-keystore"
          that enables centralized configuration of both symmetric and
          asymmetric keys.  The secret value for both key types may be
          encrypted or hidden.  Asymmetric keys may be associated with
          certificates.  Notifications are sent when certificates are
          about to expire.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-editorial-note-to-be-remove">
<a href="#name-editorial-note-to-be-remove" class="section-name selfRef">Editorial Note (To be removed by RFC Editor)</a>
      </h2>
<p id="section-note.1-1">This draft contains placeholder values that need to be replaced
          with finalized values at the time of publication.  This note summarizes
          all of the substitutions that are needed.  No other RFC Editor
          instructions are specified elsewhere in this document.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Artwork in this document contains shorthand references to drafts in
          progress.  Please apply the following replacements:<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<ul class="normal note">
<li class="normal note" id="section-note.1-3.1">
          <code>AAAA</code> --&gt; the assigned RFC value for draft-ietf-netconf-crypto-types<a href="#section-note.1-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal note" id="section-note.1-3.2">
          <code>CCCC</code> --&gt; the assigned RFC value for this draft<a href="#section-note.1-3.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-note.1-4">Artwork in this document contains placeholder values for the date of publication of this
          draft.  Please apply the following replacement:<a href="#section-note.1-4" class="pilcrow">¶</a></p>
<ul class="normal note">
<li class="normal note" id="section-note.1-5.1">
          <code>2021-12-14</code> --&gt; the publication date of this draft<a href="#section-note.1-5.1" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-note.1-6">The following Appendix section is to be removed prior to publication:<a href="#section-note.1-6" class="pilcrow">¶</a></p>
<ul class="normal note">
<li class="normal note" id="section-note.1-7.1">
          <a href="#change-log" class="xref">Appendix A</a>.  Change Log<a href="#section-note.1-7.1" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 17 June 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-relation-to-other-rfcs" class="xref">Relation to other RFCs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-specification-language" class="xref">Specification Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.4">
                <p id="section-toc.1-1.1.2.4.1"><a href="#section-1.4" class="xref">1.4</a>.  <a href="#name-adherence-to-the-nmda" class="xref">Adherence to the NMDA</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.5">
                <p id="section-toc.1-1.1.2.5.1"><a href="#section-1.5" class="xref">1.5</a>.  <a href="#name-conventions" class="xref">Conventions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-the-ietf-keystore-module" class="xref">The "ietf-keystore" Module</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-data-model-overview" class="xref">Data Model Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-example-usage" class="xref">Example Usage</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-yang-module" class="xref">YANG Module</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-support-for-built-in-keys" class="xref">Support for Built-in Keys</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-encrypting-keys-in-configur" class="xref">Encrypting Keys in Configuration</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-security-of-data-at-rest" class="xref">Security of Data at Rest</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-unconstrained-private-key-u" class="xref">Unconstrained Private Key Usage</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-the-ietf-keystore-yang-modu" class="xref">The "ietf-keystore" YANG Module</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-the-ietf-xml-registry" class="xref">The "IETF XML" Registry</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-the-yang-module-names-regis" class="xref">The "YANG Module Names" Registry</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-change-log" class="xref">Change Log</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-00-to-01" class="xref">00 to 01</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-01-to-02" class="xref">01 to 02</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-02-to-03" class="xref">02 to 03</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#appendix-A.4" class="xref">A.4</a>.  <a href="#name-03-to-04" class="xref">03 to 04</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a href="#appendix-A.5" class="xref">A.5</a>.  <a href="#name-04-to-05" class="xref">04 to 05</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.6">
                <p id="section-toc.1-1.8.2.6.1"><a href="#appendix-A.6" class="xref">A.6</a>.  <a href="#name-05-to-06" class="xref">05 to 06</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.7">
                <p id="section-toc.1-1.8.2.7.1"><a href="#appendix-A.7" class="xref">A.7</a>.  <a href="#name-06-to-07" class="xref">06 to 07</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.8">
                <p id="section-toc.1-1.8.2.8.1"><a href="#appendix-A.8" class="xref">A.8</a>.  <a href="#name-07-to-08" class="xref">07 to 08</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.9">
                <p id="section-toc.1-1.8.2.9.1"><a href="#appendix-A.9" class="xref">A.9</a>.  <a href="#name-08-to-09" class="xref">08 to 09</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.10">
                <p id="section-toc.1-1.8.2.10.1"><a href="#appendix-A.10" class="xref">A.10</a>. <a href="#name-09-to-10" class="xref">09 to 10</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.11">
                <p id="section-toc.1-1.8.2.11.1"><a href="#appendix-A.11" class="xref">A.11</a>. <a href="#name-10-to-11" class="xref">10 to 11</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.12">
                <p id="section-toc.1-1.8.2.12.1"><a href="#appendix-A.12" class="xref">A.12</a>. <a href="#name-11-to-12" class="xref">11 to 12</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.13">
                <p id="section-toc.1-1.8.2.13.1"><a href="#appendix-A.13" class="xref">A.13</a>. <a href="#name-12-to-13" class="xref">12 to 13</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.14">
                <p id="section-toc.1-1.8.2.14.1"><a href="#appendix-A.14" class="xref">A.14</a>. <a href="#name-13-to-14" class="xref">13 to 14</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.15">
                <p id="section-toc.1-1.8.2.15.1"><a href="#appendix-A.15" class="xref">A.15</a>. <a href="#name-14-to-15" class="xref">14 to 15</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.16">
                <p id="section-toc.1-1.8.2.16.1"><a href="#appendix-A.16" class="xref">A.16</a>. <a href="#name-15-to-16" class="xref">15 to 16</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.17">
                <p id="section-toc.1-1.8.2.17.1"><a href="#appendix-A.17" class="xref">A.17</a>. <a href="#name-16-to-17" class="xref">16 to 17</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.18">
                <p id="section-toc.1-1.8.2.18.1"><a href="#appendix-A.18" class="xref">A.18</a>. <a href="#name-17-to-18" class="xref">17 to 18</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.19">
                <p id="section-toc.1-1.8.2.19.1"><a href="#appendix-A.19" class="xref">A.19</a>. <a href="#name-18-to-19" class="xref">18 to 19</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.20">
                <p id="section-toc.1-1.8.2.20.1"><a href="#appendix-A.20" class="xref">A.20</a>. <a href="#name-19-to-20" class="xref">19 to 20</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.21">
                <p id="section-toc.1-1.8.2.21.1"><a href="#appendix-A.21" class="xref">A.21</a>. <a href="#name-20-to-21" class="xref">20 to 21</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.22">
                <p id="section-toc.1-1.8.2.22.1"><a href="#appendix-A.22" class="xref">A.22</a>. <a href="#name-21-to-22" class="xref">21 to 22</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.23">
                <p id="section-toc.1-1.8.2.23.1"><a href="#appendix-A.23" class="xref">A.23</a>. <a href="#name-22-to-23" class="xref">22 to 23</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-B" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document defines a YANG 1.1 <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>  module called
          "ietf-keystore" that enables centralized configuration of both symmetric
          and asymmetric keys.  The secret value for both key types may be
          encrypted or hidden (see <span>[<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.
          Asymmetric keys may be associated with certificates.  Notifications are
          sent when certificates are about to expire.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The "ietf-keystore" module defines many "grouping" statements
          intended for use by other modules that may import it.  For instance,
          there are groupings that define enabling a key to be either configured
          locally (within the defining data model) or be a reference to a key
          in the keystore.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Special consideration has been given for systems that have cryptographic
          hardware, such as a Trusted Platform Module (TPM).  These systems are
          unique in that the cryptographic hardware hides the secret key values.
          Additionally, such hardware is commonly initialized when manufactured
          to protect a "built-in" asymmetric key for which the public half is
          conveyed in an identity certificate (e.g., an IDevID
          <span>[<a href="#Std-802.1AR-2018" class="xref">Std-802.1AR-2018</a>]</span> certificate).  Please see
          <a href="#built-ins" class="xref">Section 3</a> to see how built-in keys are supported.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document intends to support existing practices; it does not
          intend to define new behavior for systems to implement.  To simplify
          implementation, advanced key formats may be selectively implemented.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">Implementations may utilize zero or more operating system level
          keystore utilities and/or hardware security modules (HSMs).<a href="#section-1-5" class="pilcrow">¶</a></p>
<div id="collective-effort">
<section id="section-1.1">
        <h3 id="name-relation-to-other-rfcs">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-relation-to-other-rfcs" class="section-name selfRef">Relation to other RFCs</a>
        </h3>
<p id="section-1.1-1">This document presents one or more YANG modules <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>
            that are part of a collection of RFCs that work together to,
            ultimately, enable the configuration of the clients and
            servers of both the NETCONF <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> and RESTCONF
            <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span> protocols.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">The modules have been defined in a modular fashion to enable
            their use by other efforts, some of which are known to be in
            progress at the time of this writing, with many more expected
            to be defined in time.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">The normative dependency relationship between the various RFCs in the collection
            is presented in the below diagram. The labels in the diagram
            represent the primary purpose provided by each RFC.  Hyperlinks to
            each RFC are provided below the diagram.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-1.1-4">
<pre>
                               crypto-types
                                 ^      ^
                                /        \
                               /          \
                      truststore         keystore
                       ^     ^             ^  ^
                       |     +---------+   |  |
                       |               |   |  |
                       |      +------------+  |
tcp-client-server      |     /         |      |
   ^    ^        ssh-client-server     |      |
   |    |           ^            tls-client-server
   |    |           |              ^     ^        http-client-server
   |    |           |              |     |                 ^
   |    |           |        +-----+     +---------+       |
   |    |           |        |                     |       |
   |    +-----------|--------|--------------+      |       |
   |                |        |              |      |       |
   +-----------+    |        |              |      |       |
               |    |        |              |      |       |
               |    |        |              |      |       |
            netconf-client-server       restconf-client-server

</pre><a href="#section-1.1-4" class="pilcrow">¶</a>
</div>
<span id="name-label-to-rfc-mapping"></span><table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-label-to-rfc-mapping" class="selfRef">Label to RFC Mapping</a>
          </caption>
<tbody>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Label in Diagram</th>
              <th class="text-left" rowspan="1" colspan="1">Originating RFC</th>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">crypto-types</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">truststore</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-trust-anchors" class="xref">I-D.ietf-netconf-trust-anchors</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">keystore</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-keystore" class="xref">I-D.ietf-netconf-keystore</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">tcp-client-server</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-tcp-client-server" class="xref">I-D.ietf-netconf-tcp-client-server</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">ssh-client-server</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-ssh-client-server" class="xref">I-D.ietf-netconf-ssh-client-server</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">tls-client-server</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-tls-client-server" class="xref">I-D.ietf-netconf-tls-client-server</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">http-client-server</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-http-client-server" class="xref">I-D.ietf-netconf-http-client-server</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">netconf-client-server</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-netconf-client-server" class="xref">I-D.ietf-netconf-netconf-client-server</a>]</span>
</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">restconf-client-server</td>
              <td class="text-left" rowspan="1" colspan="1">
                <span>[<a href="#I-D.ietf-netconf-restconf-client-server" class="xref">I-D.ietf-netconf-restconf-client-server</a>]</span>
</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
<section id="section-1.2">
        <h3 id="name-specification-language">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-specification-language" class="section-name selfRef">Specification Language</a>
        </h3>
<p id="section-1.2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
            NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
            "MAY", and "OPTIONAL" in this document are to be interpreted as
            described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>
            when, and only when, they appear in all capitals, as shown here.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-1.3">
        <h3 id="name-terminology">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.3-1">The terms "client" and "server" are defined in <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> and are not redefined here.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3-2">The term "keystore" is defined in this draft as a mechanism that intends safeguard secrets placed
            into it for protection.<a href="#section-1.3-2" class="pilcrow">¶</a></p>
<p id="section-1.3-3">The nomenclature "&lt;running&gt;" and "&lt;operational&gt;" are defined in <span>[<a href="#RFC8342" class="xref">RFC8342</a>]</span>.<a href="#section-1.3-3" class="pilcrow">¶</a></p>
<p id="section-1.3-4">The sentence fragments "augmented" and "augmented in" are used herein as the past tense verbified form of the "augment"
            statement defined in <span><a href="https://rfc-editor.org/rfc/rfc7950#section-7.17" class="relref">Section 7.17</a> of [<a href="#RFC7950" class="xref">RFC7950</a>]</span>.<a href="#section-1.3-4" class="pilcrow">¶</a></p>
</section>
<section id="section-1.4">
        <h3 id="name-adherence-to-the-nmda">
<a href="#section-1.4" class="section-number selfRef">1.4. </a><a href="#name-adherence-to-the-nmda" class="section-name selfRef">Adherence to the NMDA</a>
        </h3>
<p id="section-1.4-1">This document is compliant with Network Management Datastore Architecture
            (NMDA) <span>[<a href="#RFC8342" class="xref">RFC8342</a>]</span>.  For instance, keys and associated
            certificates installed during manufacturing (e.g., for an IDevID
            certificate) are expected to appear in &lt;operational&gt;
            (see <a href="#built-ins" class="xref">Section 3</a>).<a href="#section-1.4-1" class="pilcrow">¶</a></p>
</section>
<section id="section-1.5">
        <h3 id="name-conventions">
<a href="#section-1.5" class="section-number selfRef">1.5. </a><a href="#name-conventions" class="section-name selfRef">Conventions</a>
        </h3>
<p id="section-1.5-1">Various examples used in this document use a placeholder
            value for binary data that has been base64 encoded (e.g.,
            "BASE64VALUE=").  This placeholder value is used as real
            base64 encoded structures are often many lines long and
            hence distracting to the example being presented.<a href="#section-1.5-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-2">
      <h2 id="name-the-ietf-keystore-module">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-the-ietf-keystore-module" class="section-name selfRef">The "ietf-keystore" Module</a>
      </h2>
<p id="section-2-1">This section defines a YANG 1.1 <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> module called
          "ietf-keystore".  A high-level overview of the module is provided in
          <a href="#overview" class="xref">Section 2.1</a>. Examples illustrating the module's use
          are provided in <a href="#examples" class="xref">Section 2.2</a>. The YANG module itself is
          defined in <a href="#keystore-yang-module" class="xref">Section 2.3</a>.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="overview">
<section id="section-2.1">
        <h3 id="name-data-model-overview">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-data-model-overview" class="section-name selfRef">Data Model Overview</a>
        </h3>
<p id="section-2.1-1">This section provides an overview of the "ietf-keystore" module
            in terms of its features, typedefs, groupings, and protocol-accessible
            nodes.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<div id="features">
<section id="section-2.1.1">
          <h4 id="name-features">
<a href="#section-2.1.1" class="section-number selfRef">2.1.1. </a><a href="#name-features" class="section-name selfRef">Features</a>
          </h4>
<p id="section-2.1.1-1">The following diagram lists all the "feature" statements
              defined in the "ietf-keystore" module:<a href="#section-2.1.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.1-2">
<pre>
Features:
  +-- central-keystore-supported
  +-- local-definitions-supported
</pre><a href="#section-2.1.1-2" class="pilcrow">¶</a>
</div>
<aside id="section-2.1.1-3">
            <p id="section-2.1.1-3.1">The diagram above uses syntax that is similar to but not
                defined in <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>.<a href="#section-2.1.1-3.1" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
<div id="typedefs">
<section id="section-2.1.2">
          <h4 id="name-typedefs">
<a href="#section-2.1.2" class="section-number selfRef">2.1.2. </a><a href="#name-typedefs" class="section-name selfRef">Typedefs</a>
          </h4>
<p id="section-2.1.2-1">The following diagram lists the "typedef" statements defined in
              the "ietf-keystore" module:<a href="#section-2.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.2-2">
<pre>
Typedefs:
  leafref
    +-- symmetric-key-ref
    +-- asymmetric-key-ref
</pre><a href="#section-2.1.2-2" class="pilcrow">¶</a>
</div>
<aside id="section-2.1.2-3">
            <p id="section-2.1.2-3.1">The diagram above uses syntax that is similar to but not
                defined in <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>.<a href="#section-2.1.2-3.1" class="pilcrow">¶</a></p>
</aside>
<p id="section-2.1.2-4">Comments:<a href="#section-2.1.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.2-5.1">All the typedefs defined in the "ietf-keystore" module
                extend the base "leafref" type defined in <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>.<a href="#section-2.1.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.1.2-5.2">The leafrefs refer to symmetric and asymmetric keys in the
                central keystore, when this module is implemented.<a href="#section-2.1.2-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.1.2-5.3">These typedefs are provided as an aid to downstream
                modules that import the "ietf-keystore" module.<a href="#section-2.1.2-5.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<section id="section-2.1.3">
          <h4 id="name-groupings">
<a href="#section-2.1.3" class="section-number selfRef">2.1.3. </a><a href="#name-groupings" class="section-name selfRef">Groupings</a>
          </h4>
<p id="section-2.1.3-1">The "ietf-keystore" module defines the following "grouping" statements:<a href="#section-2.1.3-1" class="pilcrow">¶</a></p>
<ul class="compact">
<li class="compact" id="section-2.1.3-2.1">encrypted-by-choice-grouping<a href="#section-2.1.3-2.1" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.3-2.2">asymmetric-key-certificate-ref-grouping<a href="#section-2.1.3-2.2" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.3-2.3">local-or-keystore-symmetric-key-grouping<a href="#section-2.1.3-2.3" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.3-2.4">local-or-keystore-asymmetric-key-grouping<a href="#section-2.1.3-2.4" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.3-2.5">local-or-keystore-asymmetric-key-with-certs-grouping<a href="#section-2.1.3-2.5" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.3-2.6">local-or-keystore-end-entity-cert-with-key-grouping<a href="#section-2.1.3-2.6" class="pilcrow">¶</a>
</li>
            <li class="compact" id="section-2.1.3-2.7">keystore-grouping<a href="#section-2.1.3-2.7" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-2.1.3-3">Each of these groupings are presented in the following subsections.<a href="#section-2.1.3-3" class="pilcrow">¶</a></p>
<div id="encrypted-by-choice-grouping">
<section id="section-2.1.3.1">
            <h5 id="name-the-encrypted-by-choice-gro">
<a href="#section-2.1.3.1" class="section-number selfRef">2.1.3.1. </a><a href="#name-the-encrypted-by-choice-gro" class="section-name selfRef">The "encrypted-by-choice-grouping" Grouping</a>
            </h5>
<p id="section-2.1.3.1-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> illustrates the
                "encrypted-by-choice-grouping" grouping:<a href="#section-2.1.3.1-1" class="pilcrow">¶</a></p>
<aside id="section-2.1.3.1-2">
              <p id="section-2.1.3.1-2.1">The grouping's name is intended to be parsed "(encrypted-by)-(choice)-(grouping)",
                not as "(encrypted)-(by-choice)-(grouping)".<a href="#section-2.1.3.1-2.1" class="pilcrow">¶</a></p>
</aside>
<div class="alignLeft art-text artwork" id="section-2.1.3.1-3">
<pre>
  grouping encrypted-by-choice-grouping
    +-- (encrypted-by-choice)
       +--:(symmetric-key-ref)
       |  +-- symmetric-key-ref?    ks:symmetric-key-ref
       +--:(asymmetric-key-ref)
          +-- asymmetric-key-ref?   ks:asymmetric-key-ref
</pre><a href="#section-2.1.3.1-3" class="pilcrow">¶</a>
</div>
<p id="section-2.1.3.1-4">Comments:<a href="#section-2.1.3.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.3.1-5.1">This grouping defines a "choice" statement with options to reference
                  either a symmetric or an asymmetric key configured in the keystore.<a href="#section-2.1.3.1-5.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.1-5.2">This grouping is usable only when the keystore module is implemented.
                  Servers defining custom keystore locations MUST augment in alternate
                  "encrypted-by" references to the alternate locations.<a href="#section-2.1.3.1-5.2" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="asymmetric-key-certificate-ref-grouping">
<section id="section-2.1.3.2">
            <h5 id="name-the-asymmetric-key-certific">
<a href="#section-2.1.3.2" class="section-number selfRef">2.1.3.2. </a><a href="#name-the-asymmetric-key-certific" class="section-name selfRef">The "asymmetric-key-certificate-ref-grouping" Grouping</a>
            </h5>
<p id="section-2.1.3.2-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> illustrates the
                "asymmetric-key-certificate-ref-grouping" grouping:<a href="#section-2.1.3.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.3.2-2">
<pre>
  grouping asymmetric-key-certificate-ref-grouping
    +-- asymmetric-key?   ks:asymmetric-key-ref
    +-- certificate?      leafref
</pre><a href="#section-2.1.3.2-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.3.2-3">Comments:<a href="#section-2.1.3.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.3.2-4.1">This grouping defines a reference to a certificate in two parts: the
                  first being the name of the asymmetric key the certificate is associated
                  with, and the second being the name of the certificate itself.<a href="#section-2.1.3.2-4.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.2-4.2">This grouping is usable only when the keystore module is implemented.
                  Servers defining custom keystore locations MAY define an alternate grouping
                  for references to the alternate locations.<a href="#section-2.1.3.2-4.2" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="local-or-keystore-symmetric-key-grouping">
<section id="section-2.1.3.3">
            <h5 id="name-the-local-or-keystore-symme">
<a href="#section-2.1.3.3" class="section-number selfRef">2.1.3.3. </a><a href="#name-the-local-or-keystore-symme" class="section-name selfRef">The "local-or-keystore-symmetric-key-grouping" Grouping</a>
            </h5>
<p id="section-2.1.3.3-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> illustrates the
                "local-or-keystore-symmetric-key-grouping" grouping:<a href="#section-2.1.3.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.3.3-2">
<pre>
  grouping local-or-keystore-symmetric-key-grouping
    +-- (local-or-keystore)
       +--:(local) {local-definitions-supported}?
       |  +-- local-definition
       |     +---u ct:symmetric-key-grouping
       +--:(keystore) {central-keystore-supported}?
          +-- keystore-reference?   ks:symmetric-key-ref
</pre><a href="#section-2.1.3.3-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.3.3-3">Comments:<a href="#section-2.1.3.3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.3.3-4.1">The "local-or-keystore-symmetric-key-grouping" grouping is provided
                  soley as convenience to downstream modules that wish to offer
                  an option for whether a symmetric key is defined locally
                  or as a reference to a symmetric key in the keystore.<a href="#section-2.1.3.3-4.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.3-4.2">A "choice" statement is used to expose the various options.
                  Each option is enabled by a "feature" statement.  Additional
                  "case" statements MAY be augmented in if, e.g., there is a
                  need to reference a symmetric key in an alternate location.<a href="#section-2.1.3.3-4.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.3-4.3">For the "local-definition" option, the definition uses the
                  "symmetric-key-grouping" grouping discussed in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21#section-2.1.4.3" class="relref">Section 2.1.4.3</a> of [<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.<a href="#section-2.1.3.3-4.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.3-4.4">For the "keystore" option, the "keystore-reference" is an
                  instance of the "symmetric-key-ref" discussed in <a href="#typedefs" class="xref">Section 2.1.2</a>.<a href="#section-2.1.3.3-4.4" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="local-or-keystore-asymmetric-key-grouping">
<section id="section-2.1.3.4">
            <h5 id="name-the-local-or-keystore-asymm">
<a href="#section-2.1.3.4" class="section-number selfRef">2.1.3.4. </a><a href="#name-the-local-or-keystore-asymm" class="section-name selfRef">The "local-or-keystore-asymmetric-key-grouping" Grouping</a>
            </h5>
<p id="section-2.1.3.4-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> illustrates the
                "local-or-keystore-asymmetric-key-grouping" grouping:<a href="#section-2.1.3.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.3.4-2">
<pre>
  grouping local-or-keystore-asymmetric-key-grouping
    +-- (local-or-keystore)
       +--:(local) {local-definitions-supported}?
       |  +-- local-definition
       |     +---u ct:asymmetric-key-pair-grouping
       +--:(keystore) {central-keystore-supported}?
          +-- keystore-reference?   ks:asymmetric-key-ref
</pre><a href="#section-2.1.3.4-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.3.4-3">Comments:<a href="#section-2.1.3.4-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.3.4-4.1">The "local-or-keystore-asymmetric-key-grouping" grouping is provided
                  soley as convenience to downstream modules that wish to offer
                  an option for whether an asymmetric key is defined locally
                  or as a reference to an asymmetric key in the keystore.<a href="#section-2.1.3.4-4.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.4-4.2">A "choice" statement is used to expose the various options.
                  Each option is enabled by a "feature" statement.  Additional
                  "case" statements MAY be augmented in if, e.g., there is a
                  need to reference an asymmetric key in an alternate location.<a href="#section-2.1.3.4-4.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.4-4.3">For the "local-definition" option, the definition uses the
                  "asymmetric-key-pair-grouping" grouping discussed in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21#section-2.1.4.5" class="relref">Section 2.1.4.5</a> of [<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.<a href="#section-2.1.3.4-4.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.4-4.4">For the "keystore" option, the "keystore-reference" is an
                  instance of the "asymmetric-key-ref" typedef discussed in
                  <a href="#typedefs" class="xref">Section 2.1.2</a>.<a href="#section-2.1.3.4-4.4" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="local-or-keystore-asymmetric-key-with-certs-grouping">
<section id="section-2.1.3.5">
            <h5 id="name-the-local-or-keystore-asymme">
<a href="#section-2.1.3.5" class="section-number selfRef">2.1.3.5. </a><a href="#name-the-local-or-keystore-asymme" class="section-name selfRef">The "local-or-keystore-asymmetric-key-with-certs-grouping" Grouping</a>
            </h5>
<p id="section-2.1.3.5-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> illustrates the
                "local-or-keystore-asymmetric-key-with-certs-grouping" grouping:<a href="#section-2.1.3.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.3.5-2">
<pre>
  grouping local-or-keystore-asymmetric-key-with-certs-grouping
    +-- (local-or-keystore)
       +--:(local) {local-definitions-supported}?
       |  +-- local-definition
       |     +---u ct:asymmetric-key-pair-with-certs-grouping
       +--:(keystore) {central-keystore-supported}?
          +-- keystore-reference?   ks:asymmetric-key-ref
</pre><a href="#section-2.1.3.5-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.3.5-3">Comments:<a href="#section-2.1.3.5-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.3.5-4.1">The "local-or-keystore-asymmetric-key-with-certs-grouping" grouping is provided
                  soley as convenience to downstream modules that wish to offer
                  an option for whether an asymmetric key is defined locally
                  or as a reference to an asymmetric key in the keystore.<a href="#section-2.1.3.5-4.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.5-4.2">A "choice" statement is used to expose the various options.
                  Each option is enabled by a "feature" statement.  Additional
                  "case" statements MAY be augmented in if, e.g., there is a
                  need to reference an asymmetric key in an alternate location.<a href="#section-2.1.3.5-4.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.5-4.3">For the "local-definition" option, the definition uses the
                  "asymmetric-key-pair-with-certs-grouping" grouping discussed in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21#section-2.1.4.11" class="relref">Section 2.1.4.11</a> of [<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.<a href="#section-2.1.3.5-4.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.5-4.4">For the "keystore" option, the "keystore-reference" is an
                  instance of the "asymmetric-key-ref" typedef discussed in
                  <a href="#typedefs" class="xref">Section 2.1.2</a>.<a href="#section-2.1.3.5-4.4" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="local-or-keystore-end-entity-cert-with-key-grouping">
<section id="section-2.1.3.6">
            <h5 id="name-the-local-or-keystore-end-e">
<a href="#section-2.1.3.6" class="section-number selfRef">2.1.3.6. </a><a href="#name-the-local-or-keystore-end-e" class="section-name selfRef">The "local-or-keystore-end-entity-cert-with-key-grouping" Grouping</a>
            </h5>
<p id="section-2.1.3.6-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> illustrates the
                "local-or-keystore-end-entity-cert-with-key-grouping" grouping:<a href="#section-2.1.3.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.3.6-2">
<pre>
  grouping local-or-keystore-end-entity-cert-with-key-grouping
    +-- (local-or-keystore)
       +--:(local) {local-definitions-supported}?
       |  +-- local-definition
       |     +---u ct:asymmetric-key-pair-with-cert-grouping
       +--:(keystore) {central-keystore-supported}?
          +-- keystore-reference
             +---u asymmetric-key-certificate-ref-grouping
</pre><a href="#section-2.1.3.6-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.3.6-3">Comments:<a href="#section-2.1.3.6-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.3.6-4.1">The "local-or-keystore-end-entity-cert-with-key-grouping" grouping is provided
                  soley as convenience to downstream modules that wish to offer
                  an option for whether a symmetric key is defined locally
                  or as a reference to a symmetric key in the keystore.<a href="#section-2.1.3.6-4.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.6-4.2">A "choice" statement is used to expose the various options.
                  Each option is enabled by a "feature" statement.  Additional
                  "case" statements MAY be augmented in if, e.g., there is a
                  need to reference a symmetric key in an alternate location.<a href="#section-2.1.3.6-4.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.6-4.3">For the "local-definition" option, the definition uses the
                  "asymmetric-key-pair-with-certs-grouping" grouping discussed in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21#section-2.1.4.11" class="relref">Section 2.1.4.11</a> of [<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.<a href="#section-2.1.3.6-4.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.6-4.4">For the "keystore" option, the "keystore-reference" uses the
                  "asymmetric-key-certificate-ref-grouping" grouping discussed in
                  <a href="#asymmetric-key-certificate-ref-grouping" class="xref">Section 2.1.3.2</a>.<a href="#section-2.1.3.6-4.4" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
<div id="keystore-grouping">
<section id="section-2.1.3.7">
            <h5 id="name-the-keystore-grouping-group">
<a href="#section-2.1.3.7" class="section-number selfRef">2.1.3.7. </a><a href="#name-the-keystore-grouping-group" class="section-name selfRef">The "keystore-grouping" Grouping</a>
            </h5>
<p id="section-2.1.3.7-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> illustrates the
                "keystore-grouping" grouping:<a href="#section-2.1.3.7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.3.7-2">
<pre>
  grouping keystore-grouping
    +-- asymmetric-keys
    |  +-- asymmetric-key* [name]
    |     +-- name?                                         string
    |     +---u ct:asymmetric-key-pair-with-certs-grouping
    +-- symmetric-keys
       +-- symmetric-key* [name]
          +-- name?                        string
          +---u ct:symmetric-key-grouping
</pre><a href="#section-2.1.3.7-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.3.7-3">Comments:<a href="#section-2.1.3.7-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.3.7-4.1">The "keystore-grouping" grouping defines a keystore instance
                  as being composed of symmetric and asymmetric keys.  The structure
                  for the symmetric and asymmetric keys is essentially the same,
                  being a "list" inside a "container".<a href="#section-2.1.3.7-4.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.7-4.2">For asymmetric keys, each "asymmetric-key" uses the
                  "asymmetric-key-pair-with-certs-grouping" grouping discussed in
                  <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21#section-2.1.4.11" class="relref">Section 2.1.4.11</a> of [<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.<a href="#section-2.1.3.7-4.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.1.3.7-4.3">For symmetric keys, each "symmetric-key" uses the
                  "symmetric-key-grouping" grouping discussed in
                  <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21#section-2.1.4.3" class="relref">Section 2.1.4.3</a> of [<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.<a href="#section-2.1.3.7-4.3" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
</section>
<div id="proto-access-nodes">
<section id="section-2.1.4">
          <h4 id="name-protocol-accessible-nodes">
<a href="#section-2.1.4" class="section-number selfRef">2.1.4. </a><a href="#name-protocol-accessible-nodes" class="section-name selfRef">Protocol-accessible Nodes</a>
          </h4>
<p id="section-2.1.4-1">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> lists all the
              protocol-accessible nodes defined in the "ietf-keystore" module, without
              expanding the "grouping" statements:<a href="#section-2.1.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.4-2">
<pre>
module: ietf-keystore
  +--rw keystore
     +---u keystore-grouping
</pre><a href="#section-2.1.4-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1.4-3">The following tree diagram <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span> lists all the
              protocol-accessible nodes defined in the "ietf-keystore" module, with
              all "grouping" statements expanded, enabling the keystore's full
              structure to be seen:<a href="#section-2.1.4-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.1.4-4">
<pre>
module: ietf-keystore
  +--rw keystore
     +--rw asymmetric-keys
     |  +--rw asymmetric-key* [name]
     |     +--rw name                                    string
     |     +--rw public-key-format                       identityref
     |     +--rw public-key                              binary
     |     +--rw private-key-format?                     identityref
     |     +--rw (private-key-type)
     |     |  +--:(cleartext-private-key)
     |     |  |  +--rw cleartext-private-key?            binary
     |     |  +--:(hidden-private-key)
     |     |  |  +--rw hidden-private-key?               empty
     |     |  +--:(encrypted-private-key) {private-key-encryption}?
     |     |     +--rw encrypted-private-key
     |     |        +--rw encrypted-by
     |     |        |  +--rw (encrypted-by-choice)
     |     |        |     +--:(symmetric-key-ref)
     |     |        |     |  +--rw symmetric-key-ref?
     |     |        |     |          ks:symmetric-key-ref
     |     |        |     +--:(asymmetric-key-ref)
     |     |        |        +--rw asymmetric-key-ref?
     |     |        |                ks:asymmetric-key-ref
     |     |        +--rw encrypted-value-format    identityref
     |     |        +--rw encrypted-value           binary
     |     +--rw certificates
     |     |  +--rw certificate* [name]
     |     |     +--rw name                      string
     |     |     +--rw cert-data                 end-entity-cert-cms
     |     |     +---n certificate-expiration
     |     |             {certificate-expiration-notification}?
     |     |        +-- expiration-date    yang:date-and-time
     |     +---x generate-certificate-signing-request
     |             {certificate-signing-request-generation}?
     |        +---w input
     |        |  +---w csr-info    ct:csr-info
     |        +--ro output
     |           +--ro certificate-signing-request    ct:csr
     +--rw symmetric-keys
        +--rw symmetric-key* [name]
           +--rw name                   string
           +--rw key-format?            identityref
           +--rw (key-type)
              +--:(cleartext-key)
              |  +--rw cleartext-key?   binary
              +--:(hidden-key)
              |  +--rw hidden-key?      empty
              +--:(encrypted-key) {symmetric-key-encryption}?
                 +--rw encrypted-key
                    +--rw encrypted-by
                    |  +--rw (encrypted-by-choice)
                    |     +--:(symmetric-key-ref)
                    |     |  +--rw symmetric-key-ref?
                    |     |          ks:symmetric-key-ref
                    |     +--:(asymmetric-key-ref)
                    |        +--rw asymmetric-key-ref?
                    |                ks:asymmetric-key-ref
                    +--rw encrypted-value-format    identityref
                    +--rw encrypted-value           binary
</pre><a href="#section-2.1.4-4" class="pilcrow">¶</a>
</div>
<p id="section-2.1.4-5">Comments:<a href="#section-2.1.4-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.1.4-6.1">Protocol-accessible nodes are those nodes that are accessible
                when the module is "implemented", as described in <span><a href="https://rfc-editor.org/rfc/rfc7950#section-5.6.5" class="relref">Section 5.6.5</a> of [<a href="#RFC7950" class="xref">RFC7950</a>]</span>.<a href="#section-2.1.4-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.1.4-6.2">The protocol-accessible nodes for the "ietf-keystore" module
                are an instance of the "keystore-grouping" grouping discussed in
                <a href="#keystore-grouping" class="xref">Section 2.1.3.7</a>.<a href="#section-2.1.4-6.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-2.1.4-6.3">The reason for why "keystore-grouping" exists separate from
                the protocol-accessible nodes definition is so as to enable
                instances of the keystore to be instantiated in other
                locations, as may be needed or desired by some modules.<a href="#section-2.1.4-6.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="examples">
<section id="section-2.2">
        <h3 id="name-example-usage">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-example-usage" class="section-name selfRef">Example Usage</a>
        </h3>
<p id="section-2.2-1">The examples in this section are encoded using XML, such as might
            be the case when using the NETCONF protocol. Other encodings MAY
            be used, such as JSON when using the RESTCONF protocol.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<div id="ks-inst">
<section id="section-2.2.1">
          <h4 id="name-a-keystore-instance">
<a href="#section-2.2.1" class="section-number selfRef">2.2.1. </a><a href="#name-a-keystore-instance" class="section-name selfRef">A Keystore Instance</a>
          </h4>
<p id="section-2.2.1-1">The following example illustrates keys in &lt;running&gt;.
              Please see <a href="#built-ins" class="xref">Section 3</a> for an example illustrating
              built-in values in &lt;operational&gt;.<a href="#section-2.2.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.2.1-2">
<pre>
=============== NOTE: '\' line wrapping per RFC 8792 ================

&lt;keystore xmlns="urn:ietf:params:xml:ns:yang:ietf-keystore"
   xmlns:ct="urn:ietf:params:xml:ns:yang:ietf-crypto-types"&gt;

   &lt;symmetric-keys&gt;
      &lt;symmetric-key&gt;
         &lt;name&gt;cleartext-symmetric-key&lt;/name&gt;
         &lt;key-format&gt;ct:octet-string-key-format&lt;/key-format&gt;
         &lt;cleartext-key&gt;BASE64VALUE=&lt;/cleartext-key&gt;
      &lt;/symmetric-key&gt;
      &lt;symmetric-key&gt;
         &lt;name&gt;hidden-symmetric-key&lt;/name&gt;
         &lt;hidden-key/&gt;
      &lt;/symmetric-key&gt;
      &lt;symmetric-key&gt;
         &lt;name&gt;encrypted-symmetric-key&lt;/name&gt;
         &lt;key-format&gt;ct:one-symmetric-key-format&lt;/key-format&gt;
         &lt;encrypted-key&gt;
           &lt;encrypted-by&gt;
             &lt;asymmetric-key-ref&gt;hidden-asymmetric-key&lt;/asymmetric-k\
ey-ref&gt;
           &lt;/encrypted-by&gt;
           &lt;encrypted-value-format&gt;
             ct:cms-enveloped-data-format
           &lt;/encrypted-value-format&gt;
           &lt;encrypted-value&gt;BASE64VALUE=&lt;/encrypted-value&gt;
         &lt;/encrypted-key&gt;
      &lt;/symmetric-key&gt;
   &lt;/symmetric-keys&gt;

   &lt;asymmetric-keys&gt;
      &lt;asymmetric-key&gt;
         &lt;name&gt;ssh-rsa-key&lt;/name&gt;
         &lt;public-key-format&gt;
            ct:ssh-public-key-format
         &lt;/public-key-format&gt;
         &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
         &lt;private-key-format&gt;
            ct:rsa-private-key-format
         &lt;/private-key-format&gt;
         &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
      &lt;/asymmetric-key&gt;
      &lt;asymmetric-key&gt;
         &lt;name&gt;ssh-rsa-key-with-cert&lt;/name&gt;
         &lt;public-key-format&gt;
            ct:subject-public-key-info-format
         &lt;/public-key-format&gt;
         &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
         &lt;private-key-format&gt;
            ct:rsa-private-key-format
         &lt;/private-key-format&gt;
         &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
         &lt;certificates&gt;
            &lt;certificate&gt;
               &lt;name&gt;ex-rsa-cert2&lt;/name&gt;
               &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
            &lt;/certificate&gt;
         &lt;/certificates&gt;
      &lt;/asymmetric-key&gt;
      &lt;asymmetric-key&gt;
         &lt;name&gt;raw-private-key&lt;/name&gt;
         &lt;public-key-format&gt;
            ct:subject-public-key-info-format
         &lt;/public-key-format&gt;
         &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
         &lt;private-key-format&gt;
            ct:rsa-private-key-format
         &lt;/private-key-format&gt;
         &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
      &lt;/asymmetric-key&gt;
      &lt;asymmetric-key&gt;
         &lt;name&gt;rsa-asymmetric-key&lt;/name&gt;
         &lt;public-key-format&gt;
            ct:subject-public-key-info-format
         &lt;/public-key-format&gt;
         &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
         &lt;private-key-format&gt;
            ct:rsa-private-key-format
         &lt;/private-key-format&gt;
         &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
         &lt;certificates&gt;
            &lt;certificate&gt;
               &lt;name&gt;ex-rsa-cert&lt;/name&gt;
               &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
            &lt;/certificate&gt;
         &lt;/certificates&gt;
      &lt;/asymmetric-key&gt;
      &lt;asymmetric-key&gt;
         &lt;name&gt;ec-asymmetric-key&lt;/name&gt;
         &lt;public-key-format&gt;
            ct:subject-public-key-info-format
         &lt;/public-key-format&gt;
         &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
         &lt;private-key-format&gt;
            ct:ec-private-key-format
         &lt;/private-key-format&gt;
         &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
         &lt;certificates&gt;
            &lt;certificate&gt;
               &lt;name&gt;ex-ec-cert&lt;/name&gt;
               &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
            &lt;/certificate&gt;
         &lt;/certificates&gt;
      &lt;/asymmetric-key&gt;
      &lt;asymmetric-key&gt;
         &lt;name&gt;hidden-asymmetric-key&lt;/name&gt;
         &lt;public-key-format&gt;
            ct:subject-public-key-info-format
         &lt;/public-key-format&gt;
         &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
         &lt;hidden-private-key/&gt;
         &lt;certificates&gt;
            &lt;certificate&gt;
               &lt;name&gt;builtin-idevid-cert&lt;/name&gt;
               &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
            &lt;/certificate&gt;
            &lt;certificate&gt;
               &lt;name&gt;my-ldevid-cert&lt;/name&gt;
               &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
            &lt;/certificate&gt;
         &lt;/certificates&gt;
      &lt;/asymmetric-key&gt;
      &lt;asymmetric-key&gt;
         &lt;name&gt;encrypted-asymmetric-key&lt;/name&gt;
         &lt;public-key-format&gt;
            ct:subject-public-key-info-format
         &lt;/public-key-format&gt;
         &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
         &lt;private-key-format&gt;
            ct:one-asymmetric-key-format
         &lt;/private-key-format&gt;
         &lt;encrypted-private-key&gt;
           &lt;encrypted-by&gt;
             &lt;symmetric-key-ref&gt;encrypted-symmetric-key&lt;/symmetric-k\
ey-ref&gt;
           &lt;/encrypted-by&gt;
           &lt;encrypted-value-format&gt;
             ct:cms-encrypted-data-format
           &lt;/encrypted-value-format&gt;
           &lt;encrypted-value&gt;BASE64VALUE=&lt;/encrypted-value&gt;
         &lt;/encrypted-private-key&gt;
      &lt;/asymmetric-key&gt;
   &lt;/asymmetric-keys&gt;
&lt;/keystore&gt;

</pre><a href="#section-2.2.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-2.2.2">
          <h4 id="name-a-certificate-expiration-no">
<a href="#section-2.2.2" class="section-number selfRef">2.2.2. </a><a href="#name-a-certificate-expiration-no" class="section-name selfRef">A Certificate Expiration Notification</a>
          </h4>
<p id="section-2.2.2-1">The following example illustrates a "certificate-expiration"
              notification for a certificate associated with a key configured
              in the keystore.<a href="#section-2.2.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.2.2-2">
<pre>
=============== NOTE: '\' line wrapping per RFC 8792 ================

&lt;notification
  xmlns="urn:ietf:params:xml:ns:netconf:notification:1.0"&gt;
  &lt;eventTime&gt;2018-05-25T00:01:00Z&lt;/eventTime&gt;
  &lt;keystore xmlns="urn:ietf:params:xml:ns:yang:ietf-keystore"&gt;
    &lt;asymmetric-keys&gt;
      &lt;asymmetric-key&gt;
        &lt;name&gt;hidden-asymmetric-key&lt;/name&gt;
        &lt;certificates&gt;
          &lt;certificate&gt;
            &lt;name&gt;my-ldevid-cert&lt;/name&gt;
            &lt;certificate-expiration&gt;
              &lt;expiration-date&gt;2018-08-05T14:18:53-05:00&lt;/expiration\
-date&gt;
            &lt;/certificate-expiration&gt;
          &lt;/certificate&gt;
        &lt;/certificates&gt;
      &lt;/asymmetric-key&gt;
    &lt;/asymmetric-keys&gt;
  &lt;/keystore&gt;
&lt;/notification&gt;

</pre><a href="#section-2.2.2-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-2.2.3">
          <h4 id="name-the-local-or-keystore-group">
<a href="#section-2.2.3" class="section-number selfRef">2.2.3. </a><a href="#name-the-local-or-keystore-group" class="section-name selfRef">The "Local or Keystore" Groupings</a>
          </h4>
<p id="section-2.2.3-1">This section illustrates the various "local-or-keystore" groupings
              defined in the "ietf-keystore" module, specifically the
              "local-or-keystore-symmetric-key-grouping"
              (<a href="#local-or-keystore-symmetric-key-grouping" class="xref">Section 2.1.3.3</a>),
              "local-or-keystore-asymmetric-key-grouping"
              (<a href="#local-or-keystore-asymmetric-key-grouping" class="xref">Section 2.1.3.4</a>),
              "local-or-keystore-asymmetric-key-with-certs-grouping"
              (<a href="#local-or-keystore-asymmetric-key-with-certs-grouping" class="xref">Section 2.1.3.5</a>), and
              "local-or-keystore-end-entity-cert-with-key-grouping"
              (<a href="#local-or-keystore-end-entity-cert-with-key-grouping" class="xref">Section 2.1.3.6</a>) groupings.<a href="#section-2.2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.2.3-2">These examples assume the existence of an example module called "ex-keystore-usage"
              having the namespace "http://example.com/ns/example-keystore-usage".<a href="#section-2.2.3-2" class="pilcrow">¶</a></p>
<p id="section-2.2.3-3">The ex-keystore-usage module is first presented using tree diagrams
              <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>, followed by an instance example illustrating
              all the "local-or-keystore" groupings in use, followed by the YANG
              module itself.<a href="#section-2.2.3-3" class="pilcrow">¶</a></p>
<p id="section-2.2.3-4">The following tree diagram illustrates "ex-keystore-usage" without
              expanding the "grouping" statements:<a href="#section-2.2.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.2.3-5">
<pre>
module: ex-keystore-usage
  +--rw keystore-usage
     +--rw symmetric-key* [name]
     |  +--rw name                                           string
     |  +---u ks:local-or-keystore-symmetric-key-grouping
     +--rw asymmetric-key* [name]
     |  +--rw name                                            string
     |  +---u ks:local-or-keystore-asymmetric-key-grouping
     +--rw asymmetric-key-with-certs* [name]
     |  +--rw name
     |  |       string
     |  +---u ks:local-or-keystore-asymmetric-key-with-certs-grouping
     +--rw end-entity-cert-with-key* [name]
        +--rw name
        |       string
        +---u ks:local-or-keystore-end-entity-cert-with-key-grouping
</pre><a href="#section-2.2.3-5" class="pilcrow">¶</a>
</div>
<p id="section-2.2.3-6">The following tree diagram illustrates the "ex-keystore-usage"
              module, with all "grouping" statements expanded, enabling the
              usage's full structure to be seen:<a href="#section-2.2.3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.2.3-7">
<pre>
module: ex-keystore-usage
  +--rw keystore-usage
     +--rw symmetric-key* [name]
     |  +--rw name                        string
     |  +--rw (local-or-keystore)
     |     +--:(local) {local-definitions-supported}?
     |     |  +--rw local-definition
     |     |     +--rw key-format?            identityref
     |     |     +--rw (key-type)
     |     |        +--:(cleartext-key)
     |     |        |  +--rw cleartext-key?   binary
     |     |        +--:(hidden-key)
     |     |        |  +--rw hidden-key?      empty
     |     |        +--:(encrypted-key) {symmetric-key-encryption}?
     |     |           +--rw encrypted-key
     |     |              +--rw encrypted-by
     |     |              +--rw encrypted-value-format    identityref
     |     |              +--rw encrypted-value           binary
     |     +--:(keystore) {central-keystore-supported}?
     |        +--rw keystore-reference?   ks:symmetric-key-ref
     +--rw asymmetric-key* [name]
     |  +--rw name                        string
     |  +--rw (local-or-keystore)
     |     +--:(local) {local-definitions-supported}?
     |     |  +--rw local-definition
     |     |     +--rw public-key-format              identityref
     |     |     +--rw public-key                     binary
     |     |     +--rw private-key-format?            identityref
     |     |     +--rw (private-key-type)
     |     |        +--:(cleartext-private-key)
     |     |        |  +--rw cleartext-private-key?   binary
     |     |        +--:(hidden-private-key)
     |     |        |  +--rw hidden-private-key?      empty
     |     |        +--:(encrypted-private-key)
     |     |                 {private-key-encryption}?
     |     |           +--rw encrypted-private-key
     |     |              +--rw encrypted-by
     |     |              +--rw encrypted-value-format    identityref
     |     |              +--rw encrypted-value           binary
     |     +--:(keystore) {central-keystore-supported}?
     |        +--rw keystore-reference?   ks:asymmetric-key-ref
     +--rw asymmetric-key-with-certs* [name]
     |  +--rw name                        string
     |  +--rw (local-or-keystore)
     |     +--:(local) {local-definitions-supported}?
     |     |  +--rw local-definition
     |     |     +--rw public-key-format
     |     |     |       identityref
     |     |     +--rw public-key                              binary
     |     |     +--rw private-key-format?
     |     |     |       identityref
     |     |     +--rw (private-key-type)
     |     |     |  +--:(cleartext-private-key)
     |     |     |  |  +--rw cleartext-private-key?            binary
     |     |     |  +--:(hidden-private-key)
     |     |     |  |  +--rw hidden-private-key?               empty
     |     |     |  +--:(encrypted-private-key)
     |     |     |           {private-key-encryption}?
     |     |     |     +--rw encrypted-private-key
     |     |     |        +--rw encrypted-by
     |     |     |        +--rw encrypted-value-format    identityref
     |     |     |        +--rw encrypted-value           binary
     |     |     +--rw certificates
     |     |     |  +--rw certificate* [name]
     |     |     |     +--rw name                      string
     |     |     |     +--rw cert-data
     |     |     |     |       end-entity-cert-cms
     |     |     |     +---n certificate-expiration
     |     |     |             {certificate-expiration-notification}?
     |     |     |        +-- expiration-date    yang:date-and-time
     |     |     +---x generate-certificate-signing-request
     |     |             {certificate-signing-request-generation}?
     |     |        +---w input
     |     |        |  +---w csr-info    ct:csr-info
     |     |        +--ro output
     |     |           +--ro certificate-signing-request    ct:csr
     |     +--:(keystore) {central-keystore-supported}?
     |        +--rw keystore-reference?   ks:asymmetric-key-ref
     +--rw end-entity-cert-with-key* [name]
        +--rw name                        string
        +--rw (local-or-keystore)
           +--:(local) {local-definitions-supported}?
           |  +--rw local-definition
           |     +--rw public-key-format
           |     |       identityref
           |     +--rw public-key                              binary
           |     +--rw private-key-format?
           |     |       identityref
           |     +--rw (private-key-type)
           |     |  +--:(cleartext-private-key)
           |     |  |  +--rw cleartext-private-key?            binary
           |     |  +--:(hidden-private-key)
           |     |  |  +--rw hidden-private-key?               empty
           |     |  +--:(encrypted-private-key)
           |     |           {private-key-encryption}?
           |     |     +--rw encrypted-private-key
           |     |        +--rw encrypted-by
           |     |        +--rw encrypted-value-format    identityref
           |     |        +--rw encrypted-value           binary
           |     +--rw cert-data?
           |     |       end-entity-cert-cms
           |     +---n certificate-expiration
           |     |       {certificate-expiration-notification}?
           |     |  +-- expiration-date    yang:date-and-time
           |     +---x generate-certificate-signing-request
           |             {certificate-signing-request-generation}?
           |        +---w input
           |        |  +---w csr-info    ct:csr-info
           |        +--ro output
           |           +--ro certificate-signing-request    ct:csr
           +--:(keystore) {central-keystore-supported}?
              +--rw keystore-reference
                 +--rw asymmetric-key?   ks:asymmetric-key-ref
                 +--rw certificate?      leafref
</pre><a href="#section-2.2.3-7" class="pilcrow">¶</a>
</div>
<p id="section-2.2.3-8">The following example provides two equivalent instances of
              each grouping, the first being a reference to a keystore
              and the second being locally-defined.  The instance having
              a reference to a keystore is consistent with the keystore
              defined in <a href="#ks-inst" class="xref">Section 2.2.1</a>.  The two instances are
              equivalent, as the locally-defined instance example contains
              the same values defined by the keystore instance referenced
              by its sibling example.<a href="#section-2.2.3-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.2.3-9">
<pre>
&lt;keystore-usage
  xmlns="http://example.com/ns/example-keystore-usage"
  xmlns:ct="urn:ietf:params:xml:ns:yang:ietf-crypto-types"&gt;

  &lt;!-- The following two equivalent examples illustrate the --&gt;
  &lt;!-- "local-or-keystore-symmetric-key-grouping" grouping: --&gt;

  &lt;symmetric-key&gt;
    &lt;name&gt;example 1a&lt;/name&gt;
    &lt;keystore-reference&gt;cleartext-symmetric-key&lt;/keystore-reference&gt;
  &lt;/symmetric-key&gt;

  &lt;symmetric-key&gt;
    &lt;name&gt;example 1b&lt;/name&gt;
    &lt;local-definition&gt;
      &lt;key-format&gt;ct:octet-string-key-format&lt;/key-format&gt;
      &lt;cleartext-key&gt;BASE64VALUE=&lt;/cleartext-key&gt;
    &lt;/local-definition&gt;
  &lt;/symmetric-key&gt;


  &lt;!-- The following two equivalent examples illustrate the  --&gt;
  &lt;!-- "local-or-keystore-asymmetric-key-grouping" grouping: --&gt;

  &lt;asymmetric-key&gt;
    &lt;name&gt;example 2a&lt;/name&gt;
    &lt;keystore-reference&gt;rsa-asymmetric-key&lt;/keystore-reference&gt;
  &lt;/asymmetric-key&gt;

  &lt;asymmetric-key&gt;
    &lt;name&gt;example 2b&lt;/name&gt;
    &lt;local-definition&gt;
      &lt;public-key-format&gt;
        ct:subject-public-key-info-format
      &lt;/public-key-format&gt;
      &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
      &lt;private-key-format&gt;
        ct:rsa-private-key-format
      &lt;/private-key-format&gt;
      &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
    &lt;/local-definition&gt;
  &lt;/asymmetric-key&gt;


  &lt;!-- the following two equivalent examples illustrate        --&gt;
  &lt;!-- "local-or-keystore-asymmetric-key-with-certs-grouping": --&gt;

  &lt;asymmetric-key-with-certs&gt;
    &lt;name&gt;example 3a&lt;/name&gt;
    &lt;keystore-reference&gt;rsa-asymmetric-key&lt;/keystore-reference&gt;
  &lt;/asymmetric-key-with-certs&gt;

  &lt;asymmetric-key-with-certs&gt;
    &lt;name&gt;example 3b&lt;/name&gt;
    &lt;local-definition&gt;
      &lt;public-key-format&gt;
          ct:subject-public-key-info-format
      &lt;/public-key-format&gt;
      &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
      &lt;private-key-format&gt;
        ct:rsa-private-key-format
      &lt;/private-key-format&gt;
      &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
      &lt;certificates&gt;
        &lt;certificate&gt;
          &lt;name&gt;a locally-defined cert&lt;/name&gt;
          &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
        &lt;/certificate&gt;
      &lt;/certificates&gt;
    &lt;/local-definition&gt;
  &lt;/asymmetric-key-with-certs&gt;


  &lt;!-- The following two equivalent examples illustrate       --&gt;
  &lt;!-- "local-or-keystore-end-entity-cert-with-key-grouping": --&gt;

  &lt;end-entity-cert-with-key&gt;
    &lt;name&gt;example 4a&lt;/name&gt;
    &lt;keystore-reference&gt;
      &lt;asymmetric-key&gt;rsa-asymmetric-key&lt;/asymmetric-key&gt;
      &lt;certificate&gt;ex-rsa-cert&lt;/certificate&gt;
    &lt;/keystore-reference&gt;
  &lt;/end-entity-cert-with-key&gt;

  &lt;end-entity-cert-with-key&gt;
    &lt;name&gt;example 4b&lt;/name&gt;
    &lt;local-definition&gt;
      &lt;public-key-format&gt;
        ct:subject-public-key-info-format
      &lt;/public-key-format&gt;
      &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
      &lt;private-key-format&gt;
        ct:rsa-private-key-format
      &lt;/private-key-format&gt;
      &lt;cleartext-private-key&gt;BASE64VALUE=&lt;/cleartext-private-key&gt;
      &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
    &lt;/local-definition&gt;
  &lt;/end-entity-cert-with-key&gt;

&lt;/keystore-usage&gt;
</pre><a href="#section-2.2.3-9" class="pilcrow">¶</a>
</div>
<p id="section-2.2.3-10">Following is the "ex-keystore-usage" module's YANG definition:<a href="#section-2.2.3-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.2.3-11">
<pre>
module ex-keystore-usage {
  yang-version 1.1;
  namespace "http://example.com/ns/example-keystore-usage";
  prefix eku;

  import ietf-keystore {
    prefix ks;
    reference
      "RFC CCCC: A YANG Data Model for a Keystore";
  }

  organization
    "Example Corporation";

  contact
    "Author: YANG Designer &lt;mailto:yang.designer@example.com&gt;";

  description
    "This module illustrates notable groupings defined in
     the 'ietf-keystore' module.";

  revision 2021-12-14 {
    description
      "Initial version";
    reference
      "RFC CCCC: A YANG Data Model for a Keystore";
  }

  container keystore-usage {
    description
      "An illustration of the various keystore groupings.";
    list symmetric-key {
      key "name";
      leaf name {
        type string;
        description
          "An arbitrary name for this key.";
      }
      uses ks:local-or-keystore-symmetric-key-grouping;
      description
        "An symmetric key that may be configured locally or be a
         reference to a symmetric key in the keystore.";
    }
    list asymmetric-key {
      key "name";
      leaf name {
        type string;
        description
          "An arbitrary name for this key.";
      }
      uses ks:local-or-keystore-asymmetric-key-grouping;
      description
        "An asymmetric key, with no certs, that may be configured
         locally or be a reference to an asymmetric key in the
         keystore.  The intent is to reference just the asymmetric
         key, not any certificates that may also be associated
         with the asymmetric key.";
    }
    list asymmetric-key-with-certs {
      key "name";
      leaf name {
        type string;
        description
          "An arbitrary name for this key.";
      }
      uses ks:local-or-keystore-asymmetric-key-with-certs-grouping;
      description
        "An asymmetric key and its associated certs, that may be
         configured locally or be a reference to an asymmetric key
         (and its associated certs) in the keystore.";
    }
    list end-entity-cert-with-key {
      key "name";
      leaf name {
        type string;
        description
          "An arbitrary name for this key.";
      }
      uses ks:local-or-keystore-end-entity-cert-with-key-grouping;
      description
        "An end-entity certificate and its associated asymmetric
         key, that may be configured locally or be a reference
         to another certificate (and its associated asymmetric
         key) in the keystore.";
    }
  }
}
</pre><a href="#section-2.2.3-11" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<div id="keystore-yang-module">
<section id="section-2.3">
        <h3 id="name-yang-module">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-yang-module" class="section-name selfRef">YANG Module</a>
        </h3>
<p id="section-2.3-1">This YANG module has normative references to <span>[<a href="#RFC8341" class="xref">RFC8341</a>]</span>
          and <span>[<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2" class="keepWithNext">&lt;CODE BEGINS&gt; file "ietf-keystore@2021-12-14.yang"<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-2.3-3">
<pre>
module ietf-keystore {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-keystore";
  prefix ks;

  import ietf-netconf-acm {
    prefix nacm;
    reference
      "RFC 8341: Network Configuration Access Control Model";
  }

  import ietf-crypto-types {
    prefix ct;
    reference
      "RFC AAAA: YANG Data Types and Groupings for Cryptography";
  }

  organization
    "IETF NETCONF (Network Configuration) Working Group";

  contact
    "WG Web:   &lt;http://datatracker.ietf.org/wg/netconf/&gt;
     WG List:  &lt;mailto:netconf@ietf.org&gt;
     Author:   Kent Watsen &lt;mailto:kent+ietf@watsen.net&gt;";

  description
    "This module defines a 'keystore' to centralize management
     of security credentials.

     Copyright (c) 2021 IETF Trust and the persons identified
     as authors of the code. All rights reserved.

     Redistribution and use in source and binary forms, with
     or without modification, is permitted pursuant to, and
     subject to the license terms contained in, the Simplified
     BSD License set forth in Section 4.c of the IETF Trust's
     Legal Provisions Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC CCCC
     (https://www.rfc-editor.org/info/rfcCCCC); see the RFC
     itself for full legal notices.

     The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL',
     'SHALL NOT', 'SHOULD', 'SHOULD NOT', 'RECOMMENDED',
     'NOT RECOMMENDED', 'MAY', and 'OPTIONAL' in this document
     are to be interpreted as described in BCP 14 (RFC 2119)
     (RFC 8174) when, and only when, they appear in all
     capitals, as shown here.";

  revision 2021-12-14 {
    description
      "Initial version";
    reference
      "RFC CCCC: A YANG Data Model for a Keystore";
  }

  /****************/
  /*   Features   */
  /****************/

  feature central-keystore-supported {
    description
      "The 'central-keystore-supported' feature indicates that
       the server supports the keystore.";
  }

  feature local-definitions-supported {
    description
      "The 'local-definitions-supported' feature indicates that
       the server supports locally-defined keys.";
  }

  /****************/
  /*   Typedefs   */
  /****************/

  typedef symmetric-key-ref {
    type leafref {
      path "/ks:keystore/ks:symmetric-keys/ks:symmetric-key"
         + "/ks:name";
    }
    description
      "This typedef enables modules to easily define a reference
       to a symmetric key stored in the keystore, when this
       module is implemented.";
  }

  typedef asymmetric-key-ref {
    type leafref {
      path "/ks:keystore/ks:asymmetric-keys/ks:asymmetric-key"
         + "/ks:name";
    }
    description
      "This typedef enables modules to easily define a reference
       to an asymmetric key stored in the keystore, when this
       module is implemented.";
  }

  /*****************/
  /*   Groupings   */
  /*****************/

  grouping encrypted-by-choice-grouping {
    description
      "A grouping that defines a 'choice' statement that can be
       augmented into the 'encrypted-by' node, present in the
       'symmetric-key-grouping' and 'asymmetric-key-pair-grouping'
       groupings defined in RFC AAAA, enabling references to keys
       in the keystore, when this module is implemented.";
    choice encrypted-by-choice {
      nacm:default-deny-write;
      mandatory true;
      description
        "A choice amongst other symmetric or asymmetric keys.";
      case symmetric-key-ref {
        leaf symmetric-key-ref {
          type ks:symmetric-key-ref;
          description
            "Identifies the symmetric key used to encrypt the
             associated key.";
        }
      }
      case asymmetric-key-ref {
        leaf asymmetric-key-ref {
          type ks:asymmetric-key-ref;
          description
            "Identifies the asymmetric key whose public key
             encrypted the associated key.";
        }
      }
    }
  }

  grouping asymmetric-key-certificate-ref-grouping {
    description
      "This grouping defines a reference to a specific certificate
       associated with an asymmetric key stored in the keystore,
       when this module is implemented.";
    leaf asymmetric-key {
      nacm:default-deny-write;
      type ks:asymmetric-key-ref;
      must '../certificate';
      description
        "A reference to an asymmetric key in the keystore.";
    }
    leaf certificate {
      nacm:default-deny-write;
      type leafref {
        path "/ks:keystore/ks:asymmetric-keys/ks:asymmetric-key"
           + "[ks:name = current()/../asymmetric-key]/"
           + "ks:certificates/ks:certificate/ks:name";
      }
      must '../asymmetric-key';
      description
        "A reference to a specific certificate of the
         asymmetric key in the keystore.";
    }
  }

  // local-or-keystore-* groupings

  grouping local-or-keystore-symmetric-key-grouping {
    description
      "A grouping that expands to allow the symmetric key to be
       either stored locally, i.e., within the using data model,
       or a reference to a symmetric key stored in the keystore.

       Servers that do not 'implement' this module, and hence
       'central-keystore-supported' is not defined, SHOULD
       augment in custom 'case' statements enabling references
       to the alternate keystore locations.";
    choice local-or-keystore {
      nacm:default-deny-write;
      mandatory true;
      description
        "A choice between an inlined definition and a definition
         that exists in the keystore.";
      case local {
        if-feature "local-definitions-supported";
        container local-definition {
          description
            "Container to hold the local key definition.";
          uses ct:symmetric-key-grouping;
        }
      }
      case keystore {
        if-feature "central-keystore-supported";
        leaf keystore-reference {
          type ks:symmetric-key-ref;
          description
            "A reference to an symmetric key that exists in
             the keystore, when this module is implemented.";
        }
      }
    }
  }

  grouping local-or-keystore-asymmetric-key-grouping {
    description
      "A grouping that expands to allow the asymmetric key to be
       either stored locally, i.e., within the using data model,
       or a reference to an asymmetric key stored in the keystore.

       Servers that do not 'implement' this module, and hence
       'central-keystore-supported' is not defined, SHOULD
       augment in custom 'case' statements enabling references
       to the alternate keystore locations.";
    choice local-or-keystore {
      nacm:default-deny-write;
      mandatory true;
      description
        "A choice between an inlined definition and a definition
         that exists in the keystore.";
      case local {
        if-feature "local-definitions-supported";
        container local-definition {
          description
            "Container to hold the local key definition.";
          uses ct:asymmetric-key-pair-grouping;
        }
      }
      case keystore {
        if-feature "central-keystore-supported";
        leaf keystore-reference {
          type ks:asymmetric-key-ref;
          description
            "A reference to an asymmetric key that exists in
             the keystore, when this module is implemented.  The
             intent is to reference just the asymmetric key
             without any regard for any certificates that may
             be associated with it.";
        }
      }
    }
  }

  grouping local-or-keystore-asymmetric-key-with-certs-grouping {
    description
      "A grouping that expands to allow an asymmetric key and
       its associated certificates to be either stored locally,
       i.e., within the using data model, or a reference to an
       asymmetric key (and its associated certificates) stored
       in the keystore.

       Servers that do not 'implement' this module, and hence
       'central-keystore-supported' is not defined, SHOULD
       augment in custom 'case' statements enabling references
       to the alternate keystore locations.";
    choice local-or-keystore {
      nacm:default-deny-write;
      mandatory true;
      description
        "A choice between an inlined definition and a definition
         that exists in the keystore.";
      case local {
        if-feature "local-definitions-supported";
        container local-definition {
          description
            "Container to hold the local key definition.";
          uses ct:asymmetric-key-pair-with-certs-grouping;
        }
      }
      case keystore {
        if-feature "central-keystore-supported";
        leaf keystore-reference {
          type ks:asymmetric-key-ref;
          description
            "A reference to an asymmetric-key (and all of its
             associated certificates) in the keystore, when
             this module is implemented.";
        }
      }
    }
  }

  grouping local-or-keystore-end-entity-cert-with-key-grouping {
    description
      "A grouping that expands to allow an end-entity certificate
       (and its associated asymmetric key pair) to be either stored
       locally, i.e., within the using data model, or a reference
       to a specific certificate in the keystore.

       Servers that do not 'implement' this module, and hence
       'central-keystore-supported' is not defined, SHOULD
       augment in custom 'case' statements enabling references
       to the alternate keystore locations.";
    choice local-or-keystore {
      nacm:default-deny-write;
      mandatory true;
      description
        "A choice between an inlined definition and a definition
         that exists in the keystore.";
      case local {
        if-feature "local-definitions-supported";
        container local-definition {
          description
            "Container to hold the local key definition.";
          uses ct:asymmetric-key-pair-with-cert-grouping;
        }
      }
      case keystore {
        if-feature "central-keystore-supported";
        container keystore-reference {
          uses asymmetric-key-certificate-ref-grouping;
          description
            "A reference to a specific certificate associated with
             an asymmetric key stored in the keystore, when this
             module is implemented.";
        }
      }
    }
  }

  grouping keystore-grouping {
    description
      "Grouping definition enables use in other contexts.  If ever
       done, implementations MUST augment new 'case' statements
       into the various local-or-keystore 'choice' statements to
       supply leafrefs to the model-specific location(s).";
    container asymmetric-keys {
      nacm:default-deny-write;
      description
        "A list of asymmetric keys.";
      list asymmetric-key {
        key "name";
        description
          "An asymmetric key.";
        leaf name {
          type string;
          description
            "An arbitrary name for the asymmetric key.";
        }
        uses ct:asymmetric-key-pair-with-certs-grouping;
      }
    }
    container symmetric-keys {
      nacm:default-deny-write;
      description
        "A list of symmetric keys.";
      list symmetric-key {
        key "name";
        description
          "A symmetric key.";
        leaf name {
          type string;
          description
            "An arbitrary name for the symmetric key.";
        }
        uses ct:symmetric-key-grouping;
      }
    }
  }

  /*********************************/
  /*   Protocol accessible nodes   */
  /*********************************/

  container keystore {
    description
      "A central keystore containing a list of symmetric keys and
       a list of asymmetric keys.";
    nacm:default-deny-write;
    uses keystore-grouping {
      augment "symmetric-keys/symmetric-key/key-type/encrypted-key/"
            + "encrypted-key/encrypted-by" {
        description
          "Augments in a choice statement enabling the encrypting
           key to be any other symmetric or asymmetric key in the
           central keystore.";
        uses encrypted-by-choice-grouping;
      }
      augment "asymmetric-keys/asymmetric-key/private-key-type/"
            + "encrypted-private-key/encrypted-private-key/"
            + "encrypted-by" {
        description
          "Augments in a choice statement enabling the encrypting
           key to be any other symmetric or asymmetric key in the
           central keystore.";
        uses encrypted-by-choice-grouping;
      }
    }
  }
}
</pre><a href="#section-2.3-3" class="pilcrow">¶</a>
</div>
<p id="section-2.3-4" class="keepWithPrevious">&lt;CODE ENDS&gt;<a href="#section-2.3-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<div id="built-ins">
<section id="section-3">
      <h2 id="name-support-for-built-in-keys">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-support-for-built-in-keys" class="section-name selfRef">Support for Built-in Keys</a>
      </h2>
<p id="section-3-1">In some implementations, a server may support built-in keys.  Built-in
          keys MAY be set during the manufacturing process or be dynamically
          generated the first time the server is booted or a particular service
          (e.g., SSH) is enabled.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">The primary characteristic of the built-in keys is that they are provided
          by the system, as opposed to configuration.  As such, they are present in
          &lt;operational&gt;. The example below illustrates what the keystore in
          &lt;operational&gt; might look like for a server in its factory default
          state.<a href="#section-3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-3">
<pre>
&lt;keystore xmlns="urn:ietf:params:xml:ns:yang:ietf-keystore"
  xmlns:ct="urn:ietf:params:xml:ns:yang:ietf-crypto-types"
  xmlns:or="urn:ietf:params:xml:ns:yang:ietf-origin"
  or:origin="or:intended"&gt;
  &lt;asymmetric-keys&gt;
    &lt;asymmetric-key or:origin="or:system"&gt;
      &lt;name&gt;Manufacturer-Generated Hidden Key&lt;/name&gt;
      &lt;public-key-format&gt;
        ct:subject-public-key-info-format
      &lt;/public-key-format&gt;
      &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
      &lt;hidden-private-key/&gt;
      &lt;certificates&gt;
        &lt;certificate&gt;
          &lt;name&gt;Manufacturer-Generated IDevID Cert&lt;/name&gt;
          &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
        &lt;/certificate&gt;
      &lt;/certificates&gt;
    &lt;/asymmetric-key&gt;
  &lt;/asymmetric-keys&gt;
&lt;/keystore&gt;
</pre><a href="#section-3-3" class="pilcrow">¶</a>
</div>
<p id="section-3-4">In order for the built-in keys (and their associated built-in
          certificates) to be referenced by configuration, the referenced keys
          and associated certificates MUST first be copied into &lt;running&gt;.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">Built-in keys that are "hidden" MUST be copied into &lt;running&gt;
          using the same key values, so that the server can bind them to the
          built-in entries.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">Built-in keys that are "encrypted" MAY be copied into other parts
          of the configuration so long as they are otherwise unmodified (e.g.,
          the "encrypted-by" reference cannot be altered).<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">Built-in keys that are "cleartext" MAY be copied into other parts
          of the configuration but, by doing so, they lose their association
          to the built-in entries and any assurances afforded by knowing they
          are/were built-in.<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">The built-in keys and built-in associated certificates are immutable
          by configuration operations.  With exception to additional/custom
          certificates associated to a built-in key, servers MUST ignore
          attempts to modify any aspect of built-in keys and/or built-in
          associated certificates.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">The following example illustrates how a single built-in key definition
          from the previous example has been propagated to &lt;running&gt;:<a href="#section-3-9" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-10">
<pre>
&lt;keystore xmlns="urn:ietf:params:xml:ns:yang:ietf-keystore"
  xmlns:ct="urn:ietf:params:xml:ns:yang:ietf-crypto-types"&gt;
  &lt;asymmetric-keys&gt;
    &lt;asymmetric-key&gt;
      &lt;name&gt;Manufacturer-Generated Hidden Key&lt;/name&gt;
      &lt;public-key-format&gt;
        ct:subject-public-key-info-format
      &lt;/public-key-format&gt;
      &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
      &lt;hidden-private-key/&gt;
      &lt;certificates&gt;
        &lt;certificate&gt;
          &lt;name&gt;Manufacturer-Generated IDevID Cert&lt;/name&gt;
          &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
        &lt;/certificate&gt;
        &lt;certificate&gt;
          &lt;name&gt;Deployment-Specific LDevID Cert&lt;/name&gt;
          &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
        &lt;/certificate&gt;
      &lt;/certificates&gt;
    &lt;/asymmetric-key&gt;
  &lt;/asymmetric-keys&gt;
&lt;/keystore&gt;
</pre><a href="#section-3-10" class="pilcrow">¶</a>
</div>
<p id="section-3-11">After the above configuration is applied, &lt;operational&gt; should appear
          as follows:<a href="#section-3-11" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3-12">
<pre>
&lt;keystore xmlns="urn:ietf:params:xml:ns:yang:ietf-keystore"
  xmlns:ct="urn:ietf:params:xml:ns:yang:ietf-crypto-types"
  xmlns:or="urn:ietf:params:xml:ns:yang:ietf-origin"
  or:origin="or:intended"&gt;
  &lt;asymmetric-keys&gt;
    &lt;asymmetric-key or:origin="or:system"&gt;
      &lt;name&gt;Manufacturer-Generated Hidden Key&lt;/name&gt;
      &lt;public-key-format&gt;
        ct:subject-public-key-info-format
      &lt;/public-key-format&gt;
      &lt;public-key&gt;BASE64VALUE=&lt;/public-key&gt;
      &lt;hidden-private-key/&gt;
      &lt;certificates&gt;
        &lt;certificate&gt;
          &lt;name&gt;Manufacturer-Generated IDevID Cert&lt;/name&gt;
          &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
        &lt;/certificate&gt;
        &lt;certificate or:origin="or:intended"&gt;
          &lt;name&gt;Deployment-Specific LDevID Cert&lt;/name&gt;
          &lt;cert-data&gt;BASE64VALUE=&lt;/cert-data&gt;
        &lt;/certificate&gt;
      &lt;/certificates&gt;
    &lt;/asymmetric-key&gt;
  &lt;/asymmetric-keys&gt;
&lt;/keystore&gt;
</pre><a href="#section-3-12" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-4">
      <h2 id="name-encrypting-keys-in-configur">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-encrypting-keys-in-configur" class="section-name selfRef">Encrypting Keys in Configuration</a>
      </h2>
<p id="section-4-1">This section describes an approach that enables both the symmetric
          and asymmetric keys on a server to be encrypted, such that traditional
          backup/restore procedures can be used without concern for the keys
          being compromised when in transit.<a href="#section-4-1" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-key-encryption-key">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-key-encryption-key" class="section-name selfRef">Key Encryption Key</a>
        </h3>
<p id="section-4.1-1">The ability to encrypt configured keys is predicated on the
            existence of a "key encryption key" (KEK).  There may be any
            number of KEKs in a system.  A KEK, by its namesake, is a key
            that is used to encrypt other keys. A KEK MAY be either a
            symmetric key or an asymmetric key.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">If a KEK is a symmetric key, then the server MUST provide an API for
            administrators to encrypt other keys without needing to know
            the symmetric key's value.  If the KEK is an asymmetric key, then
            the server MAY provide an API enabling the encryption of other
            keys or, alternatively, let the administrators do so themselves
            using the asymmetric key's public half.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">A server MUST possess (or be able to possess, in case the KEK has
            been encrypted by another KEK) a KEK's cleartext value so that it
            can decrypt the other keys in the configuration at runtime.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-configuring-encrypted-keys">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-configuring-encrypted-keys" class="section-name selfRef">Configuring Encrypted Keys</a>
        </h3>
<p id="section-4.2-1">Each time a new key is configured, it SHOULD be encrypted by
            a KEK.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">In "ietf-crypto-types" <span>[<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>,
            the format for encrypted values is described by identity statements
            derived from the "symmetrically-encrypted-value-format" and
            "symmetrically-encrypted-value-format" identity statements.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Implementations SHOULD provide an API that simultaneously generates
            and encrypts a key (symmetric or asymmetric) using a KEK.  Thusly
            newly generated key cleartext values may never known to the
            administrators generating the keys.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">In case the server implementation does not provide such an API, then
            the generating and encrypting steps MAY be performed outside the
            server, e.g., by an administrator with special access control rights
            (e.g., an organization's crypto officer).<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">In either case, the encrypted key can be configured into the keystore
            using either the "encrypted-key" (for symmetric keys) or the
            "encrypted-private-key" (for asymmetric keys) nodes.  These two nodes
            contain both the encrypted value as well as a reference to the KEK
            that encrypted the key.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-migrating-configuration-to-">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-migrating-configuration-to-" class="section-name selfRef">Migrating Configuration to Another Server</a>
        </h3>
<p id="section-4.3-1">When a KEK is used to encrypt other keys, migrating the configuration
            to another server is only possible if the second server has the same KEK.
            How the second server comes to have the same KEK is discussed in this
            section.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">In some deployments, mechanisms outside the scope of this document
            may be used to migrate a KEK from one server to another.  That said,
            beware that the ability to do so typically entails having access to
            the first server but, in many scenarios, the first server may no
            longer be operational.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">In other deployments, an organization's crypto officer, possessing a
            KEK's cleartext value, configures the same KEK on the second server,
            presumably as a hidden key or a key protected by access-control
            (e.g., NACM's "default-deny-all"), so that the cleartext value is not
            disclosed to regular administrators.  However, this approach creates
            high-coupling to and dependency on the crypto officers that does not
            scale in production environments.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">In order to decouple the crypto officers from the regular administrators,
            a special KEK, called the "master key" (MK), may be used.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">A MK is commonly a globally-unique built-in (see <a href="#built-ins" class="xref">Section 3</a>)
            asymmetric key. The private key, due to its long lifetime, is hidden
            (i.e., "hidden-private-key" in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21#section-2.1.4.5." class="relref">Section 2.1.4.5.</a> of [<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>). The public key is often
            contained in an identity certificate (e.g., IDevID).  How to
            configure a MK during the manufacturing process is outside the
            scope of this document.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.3-6">It is RECOMMENDED that MKs are built-in and hidden but, if
            this is not possible, access control mechanisms like NACM SHOULD 
            be used to limit access to the MK's secret data only to the most
            trusted authorized clients (e.g., an organization's crypto officer).
            In this case, it is RECOMMENDED that the MK is not built-in and hence
            is, effectively, just like a KEK.<a href="#section-4.3-6" class="pilcrow">¶</a></p>
<p id="section-4.3-7">Assuming the server has a MK, the MK can be used to encrypt a
            "shared KEK", which is then used to encrypt the keys configured
            by regular administrators.<a href="#section-4.3-7" class="pilcrow">¶</a></p>
<p id="section-4.3-8">With this extra level of indirection, it is possible for a
            crypto officer to encrypt the same KEK for a multiplicity of
            servers offline using the public key contained in their identity
            certificates.  The crypto officer can then safely handoff
            the encrypted KEKs to the regular administrators responsible for
            server installations, including migrations.<a href="#section-4.3-8" class="pilcrow">¶</a></p>
<p id="section-4.3-9">In order to migrate the configuration from a first server, an
            administrator would need to make just a single modification to
            the configuration before loading it onto a second server, which
            is to replace the encrypted KEK keystore entry from the first
            server with the encrypted KEK for the second server.  Upon doing
            this, the configuration (containing many encrypted keys) can be
            loaded into the second server while enabling the second server
            to decrypt all the encrypted keys in the configuration.<a href="#section-4.3-9" class="pilcrow">¶</a></p>
<p id="section-4.3-10">The following diagram illustrates this idea:<a href="#section-4.3-10" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-4.3-11">
<pre>
 +-------------+                                 +-------------+
 | shared KEK  |                                 | shared KEK  |
 |(unencrypted)|-------------------------------&gt; | (encrypted) |
 +-------------+     encrypts offline using      +-------------+
        ^            each server's MK                |
        |                                            |
        |                                            |
        |  possesses    \o                           |
        +--------------  |\                          |
                        / \         shares with      |
                      crypto    +--------------------+
                      officer   |
                                |
                                |
+----------------------+        |         +----------------------+
|       server-1       |        |         |       server-2       |
|    configuration     |        |         |    configuration     |
|                      |        |         |                      |
|                      |        |         |                      |
|  +----------------+  |        |         |  +----------------+  |
|  |      MK-1      |  |        |         |  |      MK-2      |  |
|  |    (hidden)    |  |        |         |  |    (hidden)    |  |
|  +----------------+  |        |         |  +----------------+  |
|      ^               |        |         |      ^               |
|      |               |        |         |      |               |
|      |               |        |         |      |               |
|      |  encrypted    |        |         |      |  encrypted    |
|      |  by           |        |         |      |  by           |
|      |               |        |         |      |               |
|      |               |        |         |      |               |
|  +----------------+  |        |         |  +----------------+  |
|  |  shared KEK    |  |        |         |  |  shared KEK    |  |
|  |  (encrypted)   |  |        v         |  |  (encrypted)   |  |
|  +----------------+  |                  |  +----------------+  |
|      ^               |     regular      |      ^               |
|      |               |      admin       |      |               |
|      |               |                  |      |               |
|      |  encrypted    |       \o         |      |  encrypted    |
|      |  by           |        |\        |      |  by           |
|      |               |       / \        |      |               |
|      |               |                  |      |               |
|  +----------------+  |-----------------&gt;|  +----------------+  |
|  | all other keys |  |     migrate      |  | all other keys |  |
|  |  (encrypted)   |  |  configuration   |  |  (encrypted)   |  |
|  +----------------+  |                  |  +----------------+  |
|                      |                  |                      |
+----------------------+                  +----------------------+
</pre><a href="#section-4.3-11" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-5">
      <h2 id="name-security-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<section id="section-5.1">
        <h3 id="name-security-of-data-at-rest">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-security-of-data-at-rest" class="section-name selfRef">Security of Data at Rest</a>
        </h3>
<p id="section-5.1-1">The YANG module defined in this document defines a mechanism called a
            "keystore" that, by its name, suggests that it will protect its
            contents from unauthorized disclosure and modification.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">Security controls for the API (i.e., data in motion) are
            discussed in <a href="#sec-mod" class="xref">Section 5.3</a>, but controls for the
            data at rest cannot be specified by the YANG module.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">In order to satisfy the expectations of a "keystore", it
            is RECOMMENDED that implementations ensure that the keystore
            contents are encrypted when persisted to non-volatile memory.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-unconstrained-private-key-u">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-unconstrained-private-key-u" class="section-name selfRef">Unconstrained Private Key Usage</a>
        </h3>
<p id="section-5.2-1">This module enables the configuration of private keys without
            constraints on their usage, e.g., what operations the key is
            allowed to be used for (e.g., signature, decryption, both).<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">This module also does not constrain the usage of the associated
            public keys, other than in the context of a configured certificate
            (e.g., an identity certificate), in which case the key usage is
            constrained by the certificate.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
<div id="sec-mod">
<section id="section-5.3">
        <h3 id="name-the-ietf-keystore-yang-modu">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-the-ietf-keystore-yang-modu" class="section-name selfRef">The "ietf-keystore" YANG Module</a>
        </h3>
<p id="section-5.3-1">The YANG module defined in this document is designed to be accessed via YANG
            based management protocols, such as NETCONF <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> and
            RESTCONF <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span>.  Both of these protocols have mandatory-to-implement
            secure transport layers (e.g., SSH, TLS) with mutual authentication.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">The NETCONF access control model (NACM) <span>[<a href="#RFC8341" class="xref">RFC8341</a>]</span> provides the means
            to restrict access for particular users to a pre-configured subset of all available
            protocol operations and content.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">None of the readable data nodes defined in this YANG module are considered sensitive
            or vulnerable in network environments. The NACM "default-deny-all" extension
            has not been set for any data nodes defined in this module.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<aside id="section-5.3-4">
          <p id="section-5.3-4.1">Please be aware that this module uses the "cleartext-key" and "cleartext-private-key"
              nodes from the "ietf-crypto-types" module <span>[<a href="#I-D.ietf-netconf-crypto-types" class="xref">I-D.ietf-netconf-crypto-types</a>]</span>,
              where said nodes have the NACM extension "default-deny-all" set, thus
              preventing uncontrolled read-access to the cleartext key values.<a href="#section-5.3-4.1" class="pilcrow">¶</a></p>
</aside>
<p id="section-5.3-5">All the writable data nodes defined by this module, both in the
            "grouping" statements as well as the protocol-accessible "keystore"
            instance, may be considered sensitive or vulnerable in some network
            environments..  For instance, any modification to a key or reference
            to a key  may dramatically alter the implemented security policy.
            For this reason, the NACM extension "default-deny-write" has been
            set for all data nodes defined in this module.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">This module does not define any "rpc" or "action" statements, and
            thus the security considerations for such is not provided here.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<section id="section-6">
      <h2 id="name-iana-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-the-ietf-xml-registry">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-the-ietf-xml-registry" class="section-name selfRef">The "IETF XML" Registry</a>
        </h3>
<p id="section-6.1-1">This document registers one URI in the "ns" subregistry of the
          IETF XML Registry <span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>.  Following the format
          in <span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>, the following registration is
          requested:<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1-2">
<pre>
   URI: urn:ietf:params:xml:ns:yang:ietf-keystore
   Registrant Contact: The IESG
   XML: N/A, the requested URI is an XML namespace.
</pre><a href="#section-6.1-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-6.2">
        <h3 id="name-the-yang-module-names-regis">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-the-yang-module-names-regis" class="section-name selfRef">The "YANG Module Names" Registry</a>
        </h3>
<p id="section-6.2-1">This document registers one YANG module in the
          YANG Module Names registry <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>.
          Following the format in <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>, the
          following registration is requested:<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2-2">
<pre>
   name:         ietf-keystore
   namespace:    urn:ietf:params:xml:ns:yang:ietf-keystore
   prefix:       ks
   reference:    RFC CCCC
</pre><a href="#section-6.2-2" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-7">
      <h2 id="name-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-7.1">
        <h3 id="name-normative-references">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-netconf-crypto-types">[I-D.ietf-netconf-crypto-types]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"YANG Data Types and Groupings for Cryptography"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-crypto-types-21</span>, <time datetime="2021-09-14" class="refDate">14 September 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-crypto-types-21</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6020">[RFC6020]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6020</span>, <span class="seriesInfo">DOI 10.17487/RFC6020</span>, <time datetime="2010-10" class="refDate">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6020">https://www.rfc-editor.org/info/rfc6020</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8341">[RFC8341]</dt>
      <dd>
<span class="refAuthor">Bierman, A.</span> and <span class="refAuthor">M. Bjorklund</span>, <span class="refTitle">"Network Configuration Access Control Model"</span>, <span class="seriesInfo">STD 91</span>, <span class="seriesInfo">RFC 8341</span>, <span class="seriesInfo">DOI 10.17487/RFC8341</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-7.2">
        <h3 id="name-informative-references">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-netconf-http-client-server">[I-D.ietf-netconf-http-client-server]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"YANG Groupings for HTTP Clients and HTTP Servers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-http-client-server-07</span>, <time datetime="2021-05-18" class="refDate">18 May 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-http-client-server-07">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-http-client-server-07</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netconf-keystore">[I-D.ietf-netconf-keystore]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"A YANG Data Model for a Keystore"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-keystore-22</span>, <time datetime="2021-05-18" class="refDate">18 May 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-keystore-22">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-keystore-22</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netconf-netconf-client-server">[I-D.ietf-netconf-netconf-client-server]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"NETCONF Client and Server Models"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-netconf-client-server-23</span>, <time datetime="2021-05-18" class="refDate">18 May 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-netconf-client-server-23">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-netconf-client-server-23</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netconf-restconf-client-server">[I-D.ietf-netconf-restconf-client-server]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"RESTCONF Client and Server Models"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-restconf-client-server-23</span>, <time datetime="2021-05-18" class="refDate">18 May 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-restconf-client-server-23">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-restconf-client-server-23</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netconf-ssh-client-server">[I-D.ietf-netconf-ssh-client-server]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"YANG Groupings for SSH Clients and SSH Servers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-ssh-client-server-25</span>, <time datetime="2021-06-18" class="refDate">18 June 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-ssh-client-server-25">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-ssh-client-server-25</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netconf-tcp-client-server">[I-D.ietf-netconf-tcp-client-server]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span> and <span class="refAuthor">M. Scharf</span>, <span class="refTitle">"YANG Groupings for TCP Clients and TCP Servers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-tcp-client-server-10</span>, <time datetime="2021-05-18" class="refDate">18 May 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-tcp-client-server-10">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-tcp-client-server-10</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netconf-tls-client-server">[I-D.ietf-netconf-tls-client-server]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"YANG Groupings for TLS Clients and TLS Servers"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-tls-client-server-25</span>, <time datetime="2021-06-18" class="refDate">18 June 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-tls-client-server-25">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-tls-client-server-25</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-netconf-trust-anchors">[I-D.ietf-netconf-trust-anchors]</dt>
        <dd>
<span class="refAuthor">Watsen, K.</span>, <span class="refTitle">"A YANG Data Model for a Truststore"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netconf-trust-anchors-15</span>, <time datetime="2021-05-18" class="refDate">18 May 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-netconf-trust-anchors-15">https://datatracker.ietf.org/doc/html/draft-ietf-netconf-trust-anchors-15</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time datetime="2017-01" class="refDate">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8340">[RFC8340]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span> and <span class="refAuthor">L. Berger, Ed.</span>, <span class="refTitle">"YANG Tree Diagrams"</span>, <span class="seriesInfo">BCP 215</span>, <span class="seriesInfo">RFC 8340</span>, <span class="seriesInfo">DOI 10.17487/RFC8340</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8342">[RFC8342]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span>, <span class="refAuthor">Schoenwaelder, J.</span>, <span class="refAuthor">Shafer, P.</span>, <span class="refAuthor">Watsen, K.</span>, and <span class="refAuthor">R. Wilton</span>, <span class="refTitle">"Network Management Datastore Architecture (NMDA)"</span>, <span class="seriesInfo">RFC 8342</span>, <span class="seriesInfo">DOI 10.17487/RFC8342</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8342">https://www.rfc-editor.org/info/rfc8342</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Std-802.1AR-2018">[Std-802.1AR-2018]</dt>
      <dd>
<span class="refAuthor">IEEE SA-Standards Board</span>, <span class="refTitle">"IEEE Standard for Local and metropolitan area networks - Secure Device Identity"</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://standards.ieee.org/standard/802_1AR-2018.html">https://standards.ieee.org/standard/802_1AR-2018.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="change-log">
<section id="appendix-A">
      <h2 id="name-change-log">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<p id="appendix-A-1">This section is to be removed before publishing as an RFC.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<section id="appendix-A.1">
        <h3 id="name-00-to-01">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-00-to-01" class="section-name selfRef">00 to 01</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.1-1.1">Replaced the 'certificate-chain' structures with PKCS#7 structures.
              (Issue #1)<a href="#appendix-A.1-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-1.2">Added 'private-key' as a configurable data node, and removed the
              'generate-private-key' and 'load-private-key' actions.  (Issue #2)<a href="#appendix-A.1-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.1-1.3">Moved 'user-auth-credentials' to the ietf-ssh-client module.
              (Issues #4 and #5)<a href="#appendix-A.1-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.2">
        <h3 id="name-01-to-02">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-01-to-02" class="section-name selfRef">01 to 02</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.2-1.1">Added back 'generate-private-key' action.<a href="#appendix-A.2-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-1.2">Removed 'RESTRICTED' enum from the 'private-key' leaf type.<a href="#appendix-A.2-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-1.3">Fixed up a few description statements.<a href="#appendix-A.2-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.3">
        <h3 id="name-02-to-03">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-02-to-03" class="section-name selfRef">02 to 03</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.3-1.1">Changed draft's title.<a href="#appendix-A.3-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-1.2">Added missing references.<a href="#appendix-A.3-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-1.3">Collapsed sections and levels.<a href="#appendix-A.3-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-1.4">Added RFC 8174 to Requirements Language Section.<a href="#appendix-A.3-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-1.5">Renamed 'trusted-certificates' to 'pinned-certificates'.<a href="#appendix-A.3-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-1.6">Changed 'public-key' from config false to config true.<a href="#appendix-A.3-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.3-1.7">Switched 'host-key' from OneAsymmetricKey to definition from RFC 4253.<a href="#appendix-A.3-1.7" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.4">
        <h3 id="name-03-to-04">
<a href="#appendix-A.4" class="section-number selfRef">A.4. </a><a href="#name-03-to-04" class="section-name selfRef">03 to 04</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.4-1.1">Added typedefs around leafrefs to common keystore paths<a href="#appendix-A.4-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-1.2">Now tree diagrams reference ietf-netmod-yang-tree-diagrams<a href="#appendix-A.4-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-1.3">Removed Design Considerations section<a href="#appendix-A.4-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.4-1.4">Moved key and certificate definitions from data tree to groupings<a href="#appendix-A.4-1.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.5">
        <h3 id="name-04-to-05">
<a href="#appendix-A.5" class="section-number selfRef">A.5. </a><a href="#name-04-to-05" class="section-name selfRef">04 to 05</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.5-1.1">Removed trust anchors (now in their own draft)<a href="#appendix-A.5-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.5-1.2">Added back global keystore structure<a href="#appendix-A.5-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.5-1.3">Added groupings enabling keys to either be locally defined or a reference to the keystore.<a href="#appendix-A.5-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.6">
        <h3 id="name-05-to-06">
<a href="#appendix-A.6" class="section-number selfRef">A.6. </a><a href="#name-05-to-06" class="section-name selfRef">05 to 06</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.6-1.1">Added feature "local-keys-supported"<a href="#appendix-A.6-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-1.2">Added nacm:default-deny-all and nacm:default-deny-write<a href="#appendix-A.6-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-1.3">Renamed generate-asymmetric-key to generate-hidden-key<a href="#appendix-A.6-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-1.4">Added an install-hidden-key action<a href="#appendix-A.6-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-1.5">Moved actions inside fo the "asymmetric-key" container<a href="#appendix-A.6-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.6-1.6">Moved some groupings to draft-ietf-netconf-crypto-types<a href="#appendix-A.6-1.6" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.7">
        <h3 id="name-06-to-07">
<a href="#appendix-A.7" class="section-number selfRef">A.7. </a><a href="#name-06-to-07" class="section-name selfRef">06 to 07</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.7-1.1">Removed a "require-instance false"<a href="#appendix-A.7-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.7-1.2">Clarified some description statements<a href="#appendix-A.7-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.7-1.3">Improved the keystore-usage examples<a href="#appendix-A.7-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.8">
        <h3 id="name-07-to-08">
<a href="#appendix-A.8" class="section-number selfRef">A.8. </a><a href="#name-07-to-08" class="section-name selfRef">07 to 08</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.8-1.1">Added "local-definition" containers to avoid posibility of the
                action/notification statements being under a "case" statement.<a href="#appendix-A.8-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.8-1.2">Updated copyright date, boilerplate template, affiliation,
                folding algorithm, and reformatted the YANG module.<a href="#appendix-A.8-1.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.9">
        <h3 id="name-08-to-09">
<a href="#appendix-A.9" class="section-number selfRef">A.9. </a><a href="#name-08-to-09" class="section-name selfRef">08 to 09</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.9-1.1">Added a 'description' statement to the 'must' in the
                /keystore/asymmetric-key node explaining that the descendant
                values may exist in &lt;operational&gt; only, and that
                implementation MUST assert that the values are either
                configured or that they exist in &lt;operational&gt;.<a href="#appendix-A.9-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.9-1.2">Copied above 'must' statement (and description) into
                the local-or-keystore-asymmetric-key-grouping,
                local-or-keystore-asymmetric-key-with-certs-grouping,
                and local-or-keystore-end-entity-cert-with-key-grouping
                statements.<a href="#appendix-A.9-1.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.10">
        <h3 id="name-09-to-10">
<a href="#appendix-A.10" class="section-number selfRef">A.10. </a><a href="#name-09-to-10" class="section-name selfRef">09 to 10</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.10-1.1">Updated draft title to match new truststore draft title<a href="#appendix-A.10-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.10-1.2">Moved everything under a top-level 'grouping' to enable use in other contexts.<a href="#appendix-A.10-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.10-1.3">Renamed feature from 'local-keys-supported' to 'local-definitions-supported' (same name used in truststore)<a href="#appendix-A.10-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.10-1.4">Removed the either-all-or-none 'must' expressions for the key's 3-tuple values (since the values are now 'mandatory true' in crypto-types)<a href="#appendix-A.10-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.10-1.5">Example updated to reflect 'mandatory true' change in crypto-types draft<a href="#appendix-A.10-1.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.11">
        <h3 id="name-10-to-11">
<a href="#appendix-A.11" class="section-number selfRef">A.11. </a><a href="#name-10-to-11" class="section-name selfRef">10 to 11</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.11-1.1">Replaced typedef asymmetric-key-certificate-ref with grouping asymmetric-key-certificate-ref-grouping.<a href="#appendix-A.11-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.11-1.2">Added feature feature 'key-generation'.<a href="#appendix-A.11-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.11-1.3">Cloned groupings symmetric-key-grouping, asymmetric-key-pair-grouping,
                 asymmetric-key-pair-with-cert-grouping, and asymmetric-key-pair-with-certs-grouping
                 from crypto-keys, augmenting into each new case statements for values that
                 have been encrypted by other keys in the keystore.  Refactored keystore model
                 to use these groupings.<a href="#appendix-A.11-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.11-1.4">Added new 'symmetric-keys' lists, as a sibling to the existing 'asymmetric-keys' list.<a href="#appendix-A.11-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.11-1.5">Added RPCs (not actions) 'generate-symmetric-key' and 'generate-asymmetric-key' to
                 *return* a (potentially encrypted) key.<a href="#appendix-A.11-1.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.12">
        <h3 id="name-11-to-12">
<a href="#appendix-A.12" class="section-number selfRef">A.12. </a><a href="#name-11-to-12" class="section-name selfRef">11 to 12</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.12-1.1">Updated to reflect crypto-type's draft using enumerations over identities.<a href="#appendix-A.12-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.12-1.2">Added examples for the 'generate-symmetric-key' and 'generate-asymmetric-key' RPCs.<a href="#appendix-A.12-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.12-1.3">Updated the Introduction section.<a href="#appendix-A.12-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.13">
        <h3 id="name-12-to-13">
<a href="#appendix-A.13" class="section-number selfRef">A.13. </a><a href="#name-12-to-13" class="section-name selfRef">12 to 13</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.13-1.1">Updated examples to incorporate new "key-format" identities.<a href="#appendix-A.13-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.13-1.2">Made the two "generate-*-key" RPCs be "action" statements instead.<a href="#appendix-A.13-1.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.14">
        <h3 id="name-13-to-14">
<a href="#appendix-A.14" class="section-number selfRef">A.14. </a><a href="#name-13-to-14" class="section-name selfRef">13 to 14</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.14-1.1">Updated YANG module and examples to incorporate the new iana-*-algorithm modules in the crypto-types draft..<a href="#appendix-A.14-1.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.15">
        <h3 id="name-14-to-15">
<a href="#appendix-A.15" class="section-number selfRef">A.15. </a><a href="#name-14-to-15" class="section-name selfRef">14 to 15</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.15-1.1">Added new "Support for Built-in Keys" section.<a href="#appendix-A.15-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.15-1.2">Added 'must' expressions asserting that the 'key-format' leaf whenever an encrypted key is specified.<a href="#appendix-A.15-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.15-1.3">Added local-or-keystore-symmetric-key-grouping for PSK support.<a href="#appendix-A.15-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.16">
        <h3 id="name-15-to-16">
<a href="#appendix-A.16" class="section-number selfRef">A.16. </a><a href="#name-15-to-16" class="section-name selfRef">15 to 16</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.16-1.1">Moved the generate key actions to ietf-crypt-types as RPCs, which are
                augmented by ietf-keystore to support encrypted keys.  Examples updated
                accordingly.<a href="#appendix-A.16-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.16-1.2">Added a SSH certificate-based key (RFC 6187) and a raw private key to
                the example instance document (partly so they could be referenced by
                examples in the SSH and TLS client/server drafts.<a href="#appendix-A.16-1.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.17">
        <h3 id="name-16-to-17">
<a href="#appendix-A.17" class="section-number selfRef">A.17. </a><a href="#name-16-to-17" class="section-name selfRef">16 to 17</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.17-1.1">Removed augments to the "generate-symmetric-key" and "generate-asymmetric-key" groupings.<a href="#appendix-A.17-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.17-1.2">Removed "generate-symmetric-key" and "generate-asymmetric-key" examples.<a href="#appendix-A.17-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.17-1.3">Removed the "algorithm" nodes from remaining examples.<a href="#appendix-A.17-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.17-1.4">Updated the "Support for Built-in Keys" section.<a href="#appendix-A.17-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.17-1.5">Added new section "Encrypting Keys in Configuration".<a href="#appendix-A.17-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.17-1.6">Added a "Note to Reviewers" note to first page.<a href="#appendix-A.17-1.6" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.18">
        <h3 id="name-17-to-18">
<a href="#appendix-A.18" class="section-number selfRef">A.18. </a><a href="#name-17-to-18" class="section-name selfRef">17 to 18</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.18-1.1">Removed dangling/unnecessary ref to RFC 8342.<a href="#appendix-A.18-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.18-1.2">r/MUST/SHOULD/ wrt strength of keys being configured over transports.<a href="#appendix-A.18-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.18-1.3">Added an example for the "certificate-expiration" notification.<a href="#appendix-A.18-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.18-1.4">Clarified that OS MAY have a multiplicity of underlying keystores and/or HSMs.<a href="#appendix-A.18-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.18-1.5">Clarified expected behavior for "built-in" keys in &lt;operational&gt;<a href="#appendix-A.18-1.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.18-1.6">Clarified the "Migrating Configuration to Another Server" section.<a href="#appendix-A.18-1.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.18-1.7">Expanded "Data Model Overview section(s) [remove "wall" of tree diagrams].<a href="#appendix-A.18-1.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.18-1.8">Updated the Security Considerations section.<a href="#appendix-A.18-1.8" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.19">
        <h3 id="name-18-to-19">
<a href="#appendix-A.19" class="section-number selfRef">A.19. </a><a href="#name-18-to-19" class="section-name selfRef">18 to 19</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.19-1.1">Updated examples to reflect new "cleartext-" prefix in the crypto-types draft.<a href="#appendix-A.19-1.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.20">
        <h3 id="name-19-to-20">
<a href="#appendix-A.20" class="section-number selfRef">A.20. </a><a href="#name-19-to-20" class="section-name selfRef">19 to 20</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.20-1.1">Addressed SecDir comments from Magnus Nystroem and Sandra Murphy.<a href="#appendix-A.20-1.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.21">
        <h3 id="name-20-to-21">
<a href="#appendix-A.21" class="section-number selfRef">A.21. </a><a href="#name-20-to-21" class="section-name selfRef">20 to 21</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.21-1.1">Added a "Unconstrained Private Key Usage" Security Consideration to address
                concern raised by SecDir.<a href="#appendix-A.21-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.21-1.2">(Editorial) Removed the output of "grouping" statements in the tree diagrams
                for the "ietf-keystore" and "ex-keystore-usage" modules.<a href="#appendix-A.21-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.21-1.3">Addressed comments raised by YANG Doctor.<a href="#appendix-A.21-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.22">
        <h3 id="name-21-to-22">
<a href="#appendix-A.22" class="section-number selfRef">A.22. </a><a href="#name-21-to-22" class="section-name selfRef">21 to 22</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.22-1.1">Added prefixes to 'path' statements per trust-anchors/issues/1<a href="#appendix-A.22-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.22-1.2">Renamed feature "keystore-supported" to "central-keystore-supported".<a href="#appendix-A.22-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.22-1.3">Associated with above, generally moved text to refer to a "central" keystore.<a href="#appendix-A.22-1.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.22-1.4">Aligned modules with `pyang -f` formatting.<a href="#appendix-A.22-1.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.22-1.5">Fixed nits found by YANG Doctor reviews.<a href="#appendix-A.22-1.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="appendix-A.23">
        <h3 id="name-22-to-23">
<a href="#appendix-A.23" class="section-number selfRef">A.23. </a><a href="#name-22-to-23" class="section-name selfRef">22 to 23</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-A.23-1.1">Updated 802.1AR ref to latest version<a href="#appendix-A.23-1.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.23-1.2">Replaced "base64encodedvalue==" with "BASE64VALUE=" in examples.<a href="#appendix-A.23-1.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.23-1.3">Minor editorial nits<a href="#appendix-A.23-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
</div>
<section id="appendix-B">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="appendix-B-1">The authors would like to thank for following for
        lively discussions on list and in the halls (ordered
        by first name):
       Alan Luchuk,
          Andy Bierman,
          Benoit Claise,
       Bert Wijnen,
       Balazs Kovacs,
       David Lamparter,
          Eric Voit,
       Ladislav Lhotka,
       Liang Xia,
       Juergen Schoenwaelder,
          Mahesh Jethanandani,
          Magnus Nystroem,
          Martin Bjoerklund,
          Mehmet Ersue,
          Phil Shafer,
       Radek Krejci,
          Ramkumar Dhanapal,
          Reshad Rahman,
          Sandra Murphy,
          Sean Turner,
          and Tom Petch.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kent Watsen</span></div>
<div dir="auto" class="left"><span class="org">Watsen Networks</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kent+ietf@watsen.net" class="email">kent+ietf@watsen.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
