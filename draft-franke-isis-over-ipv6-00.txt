



Network Working Group                                          C. Franke
Internet-Draft                                                    NetDEF
Intended status: Standards Track                            July 3, 2015
Expires: January 4, 2016


                            IS-IS over IPv6
                     draft-franke-isis-over-ipv6-00

Abstract

   In this draft, a method to transmit IS-IS PDUs as IPv6 packets is
   described.  While the default encapsulation of IS-IS is specified
   directly on top of the link-layer, making it necessary for IS-IS to
   be specified for each link-layer it should be used on, the proposed
   method allows for IS-IS to run on any link-layers supporting IPv6.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 4, 2016.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Franke                   Expires January 4, 2016                [Page 1]

Internet-Draft               IS-IS over IPv6                   July 2015


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   2
   2.  Transmitting IS-IS PDUs over IPv6 . . . . . . . . . . . . . .   2
     2.1.  Addressing  . . . . . . . . . . . . . . . . . . . . . . .   2
     2.2.  IPv6 header . . . . . . . . . . . . . . . . . . . . . . .   3
     2.3.  Packet format . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Considerations for using IS-IS over IPv6  . . . . . . . . . .   3
     3.1.  SNPA  . . . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.2.  MTU . . . . . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   The original specification of IS-IS [ISO.10589.2002] defines that
   PDUs are transmitted directly on the link-layer.  With this design
   comes the problem that specification work is required each time a new
   link-layer should be supported by IS-IS.  By transmitting IS-IS PDUs
   as IPv6 packets, this specification work can be avoided and any link-
   layer supporting IPv6 can be used.  Among other things, this allows
   to route IPv6 with IS-IS [RFC5308] on any link supporting IPv6.

   This specification does not make changes to the general operation of
   IS-IS and any existing mechanisms should be kept as-is.  The only
   change made by this draft is the format of IS-IS PDUs on the wire.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  Transmitting IS-IS PDUs over IPv6

2.1.  Addressing

   Link-local IPv6 addresses are used to transmit and receive IS-IS
   PDUs.  Routers SHALL set the source address of transmitted the PDUs
   to the link-local address of the outgoing interface.





Franke                   Expires January 4, 2016                [Page 2]

Internet-Draft               IS-IS over IPv6                   July 2015


   IPv6 link-local multicast is used as destination for the packets.
   The PDUs that would be sent to ALL-L1-IS when sending them directly
   on top of the link-layer MUST be sent to the IPv6 multicast group
   <TBD1> instead.  Respectively, PDUs that would be sent to ALL-L2-IS
   MUST be sent to the multicast group <TBD2>.

2.2.  IPv6 header

   The packets SHOULD be transmitted with type of service set to
   Internetwork control.

2.3.  Packet format

   To transmit IS-IS PDUs over IPv6, they are encapsulated as IPv6
   payload without any transport layer protocol.  For that purpose,
   protocol number 124 is used.  That number was assigned by IANA for
   IS-IS over IPv4.  [I-D.ietf-isis-wg-over-ip] The PDUs are transmitted
   as IPv6 payload starting at the NLPI.

3.  Considerations for using IS-IS over IPv6

3.1.  SNPA

   Using the ethernet MAC address as SNPA on LAN links is not practical
   for this application since the goal of this extension is to become
   independent from specific link-layer properties.

   While the IS-IS over IPv4 draft constructs the SNPA by padding the
   IPv4 address, we are facing the issue that an IPv6 address will not
   fit into a standard sized SNPA.

   There are multiple options to address this, so this is still TBD.

   Option a) Treat the whole 16 byte of the IPv6 address as SNPA.  Since
   the SNPA is only used internally to each router and not put into any
   IS-IS PDUs, no protocol datastructures need to be modified for this,
   but implemenations need to deal with this new SNPA length internally.

   Option b) Convert the 64-bit interface identifier of the IPv6 link-
   local address of nodes back to an EUI48 format by using bytes 8
   through 10 and bytes 13 through 15 of a nodes IPv6 address and
   flipping bit 0x02 in the first byte.

   This is not an ideal solution since SNPA conflicts may arrise on link
   layers that use other methods for generation of interface identifiers
   or for manually configured addresses.





Franke                   Expires January 4, 2016                [Page 3]

Internet-Draft               IS-IS over IPv6                   July 2015


3.2.  MTU

   All transmitted IPv6 packets SHALL have a maximum size of 1280 bytes.
   This allows for the protocol to run on any link supporting IPv6.
   Fragmentation SHALL not be used, therefore the lsp-mtu may have to be
   adjusted for the LSPs to fit into 1280 byte packets.

   Hello PDUs SHOULD be padded so that the total packet size is 1280
   bytes.

4.  Acknowledgements

   There has been previous work to specify operation of IS-IS over IPv4
   [I-D.ietf-isis-wg-over-ip] which has been used as a reference for
   this work.

5.  IANA Considerations

   For this protocol, IANA should assign two IPv6 multicast group IDs
   <TBD1> and <TBD2> in the IPv6 Multicast Address Space Registry.
   [RFC3307]

6.  Security Considerations

   Routers implementing this encapsulation of IS-IS over IPv6 can be
   susceptible to receiving and processing IS-IS over IPv6 packets that
   have not been originated by a router that is on-link.  For example,
   someone with malicious intent could send IS-IS over IPv6 packets to a
   global unicast address of a router via multiple hops.

   For this reason, routers implementing IS-IS over IPv6 SHOULD verify
   that both source and destination of received packets are link-local.

7.  References

7.1.  Normative References

   [ISO.10589.2002]
              International Organization for Standardization,
              "Intermediate system to intermediate system intra-domain-
              routing routine information exchange protocol for use in
              conjunction with the protocol for providing the
              connectionless-mode Network Service (ISO 8473)", ISO
              Standard 10589, 2002.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.




Franke                   Expires January 4, 2016                [Page 4]

Internet-Draft               IS-IS over IPv6                   July 2015


   [RFC5308]  Hopps, C., "Routing IPv6 with IS-IS", RFC 5308, October
              2008.

7.2.  Informative References

   [I-D.ietf-isis-wg-over-ip]
              Przygienda, T., Patel, A., and A. Bansal, "IS-IS over
              IPv4", draft-ietf-isis-wg-over-ip-02 (work in progress),
              October 1999.

   [RFC3307]  Haberman, B., "Allocation Guidelines for IPv6 Multicast
              Addresses", RFC 3307, August 2002.

Author's Address

   Christian Franke
   NetDEF
   Leipzig
   DE

   Email: chris@opensourcerouting.org






























Franke                   Expires January 4, 2016                [Page 5]
