



Network Working Group                                             J. Xie
Internet-Draft                                       Huawei Technologies
Intended status: Standards Track                                 A. Wang
Expires: January 2, 2020                                   China Telecom
                                                                  G. Yan
                                                             S. Dhanaraj
                                                     Huawei Technologies
                                                            July 1, 2019


           BIER IPv6 Encapsulation (BIERv6) Support via IS-IS
                 draft-xie-bier-ipv6-isis-extension-00

Abstract

   This document defines IS-IS extensions to support multicast
   forwarding using the Bit Index Explicit Replication (BIER) with IPv6
   encapsulation (BIERv6).

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119] and
   [RFC8174].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 2, 2020.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Xie, et al.              Expires January 2, 2020                [Page 1]

Internet-Draft              BIERv6 Via IS-IS                   July 2019


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Specification . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Function sub-TLV for BIERv6 . . . . . . . . . . . . . . .   3
     3.2.  Encapsulation sub-sub-TLV for BIERv6  . . . . . . . . . .   4
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
     5.1.  Function sub-TLV Type Code  . . . . . . . . . . . . . . .   4
     5.2.  Encapsulation sub-sub-TLV Type Code . . . . . . . . . . .   5
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   This document defines IS-IS extensions to support multicast
   forwarding using the Bit Index Explicit Replication (BIER) with IPv6
   encapsulation (BIERv6).

   Familiarity with the concept of "BIER specific" IPv6 address
   introduced in [I-D.xie-bier-ipv6-encapsulation] is necessary to
   understand the extensions specified in this document.

   The [I-D.ietf-spring-srv6-network-programming] describes how a
   function can be bound to a special "IPv6 Address" within a special
   "IPv6 Address Block".  The function bound to a special "IPv6 Address"
   can be used to indicate a special forwarding process in data-plane.

   The BIER IPv6 encapsulation [I-D.xie-bier-ipv6-encapsulation] uses a
   "BIER specific" IPv6 unicast address configured locally on a BIER
   Forwarding Router (BFR) to indicate a "BIER specific handling" in
   Forwarding Information Base (FIB).  This BIER specific IPv6 address
   is also required to use as the BFR prefix as defined in [RFC8279].




Xie, et al.              Expires January 2, 2020                [Page 2]

Internet-Draft              BIERv6 Via IS-IS                   July 2019


   The indication of BFR prefix is a BIER Sub-TLV within the extended IP
   reachability TLV as specified by in [RFC8401].

   The indication of BIER specific function is a "Function Sub-TLV"
   within the extended IP reachability as specified by in this document.

   Note the extended IP reachability only includes the TLV 236 (IPv6 IP
   Reach TLV) [RFC5308] and TLV 237 (MT IPv6 IP Reach TLVs) [RFC5120] in
   this document.

   The following restrictions defined for BIER Sub-TLV in section 4.2 of
   [RFC8401] apply equally to Function Sub-TLV:

   o  Prefix length MUST be 128 for an IPv6 prefix.

   o  When the Prefix Attributes Flags sub-TLV [RFC7794] is present, the
      N flag MUST be set and the R flag MUST NOT be set.

   o  BIER sub-TLVs and Function Sub-TLVs MUST be included when a prefix
      reachability advertisement is leaked between levels.

2.  Terminology

   Readers of this document are assumed to be familiar with the
   terminology and concepts of the documents listed as Normative
   References.

3.  Specification

3.1.  Function sub-TLV for BIERv6

   The Function sub-TLV is introduced to advertise a specified function
   bound to an IPv6 prefix with 128 bit prefix length.  This new sub-TLV
   is advertised in the TLV 236 or TLV 237.  The sub-TLV has the
   following format:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    Type       |     Length    |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    Function                   |     Flags                     |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Type: 1 octet value indicating "Function Information" this IPv6
   prefix bound to.  To be assigned by IANA.

   Length: 1 octet length in octets.  Value 4 is set to this field.



Xie, et al.              Expires January 2, 2020                [Page 3]

Internet-Draft              BIERv6 Via IS-IS                   July 2019


   Function: 2 octets value indicating function.  A BIER function value
   called End.BIER defined in [I-D.xie-bier-ipv6-encapsulation] is
   expected to be the only function in the TLV.

   Flags: 1 octet value indicating the Flags for the function preceding
   this field.  No flags are currently defined and 0 should be set for
   this field.

3.2.  Encapsulation sub-sub-TLV for BIERv6

   The Encapsulation sub-sub-TLV carries the information for the BIER
   IPv6 encapsulation of a specific BitString length.  It is advertised
   within the BIER Info sub-TLV defined in [RFC8401] which in-turn is
   carried within the TLVs 236 or 237.  This sub-sub-TLV MAY appear
   multiple times within a single BIER Info sub-TLV.  If the same
   BitString length is repeated in multiple sub-sub-TLVs inside the same
   BIER Info sub- TLV, the BIER Info sub-TLV MUST be ignored.

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |    Type       |   Length      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   Max SI      |BS Len |                  BIFT-id              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The Type field is a 1 octet value indicating BIER IPv6 encapsulation.
   To be assigned by IANA.

   The Length field is a 1 octet length in octets.  Value 4 is set to
   this field.

   Other fields can be referred to [RFC8401] for MPLS encapsulation, or
   [I-D.ietf-bier-lsr-ethernet-extensions] for Ethernet encapsulation.

4.  Security Considerations

   The procedures of this document do not, in themselves, provide
   privacy, integrity, or authentication for the control plane or the
   data plane.

5.  IANA Considerations

5.1.  Function sub-TLV Type Code

   Allocation is expected from IANA for a IS-IS Sub-TLV Type codepoint
   from the "Sub-TLVs for TLVs 135, 235, 236, and 237" sub-registry.




Xie, et al.              Expires January 2, 2020                [Page 4]

Internet-Draft              BIERv6 Via IS-IS                   July 2019


   Type: To be assigned by IANA.

   Description: Function Info.

   Reference: This document.

         Type  135 235 236 237 Reference
         32     y   y   y   y  RFC8401
         TBD    n   n   y   y  This document

5.2.  Encapsulation sub-sub-TLV Type Code

   Allocation is expected from IANA for a BIER IPv6 encapsulation sub-
   sub-TLV codepoint from the "sub-sub-TLVs for BIER Info sub-TLV" sub-
   registry.

   Type: To be assigned by IANA.

   Name: BIER IPv6 Encapsulation.

   Reference: This document.

6.  Acknowledgements

   TBD.

7.  References

7.1.  Normative References

   [I-D.ietf-bier-lsr-ethernet-extensions]
              Dhanaraj, S., Wijnands, I., Psenak, P., Zhang, Z., Yan,
              G., and J. Xie, "LSR Extensions for BIER over Ethernet",
              draft-ietf-bier-lsr-ethernet-extensions-00 (work in
              progress), May 2019.

   [I-D.ietf-spring-srv6-network-programming]
              Filsfils, C., Camarillo, P., Leddy, J.,
              daniel.voyer@bell.ca, d., Matsushima, S., and Z. Li, "SRv6
              Network Programming", draft-ietf-spring-srv6-network-
              programming-00 (work in progress), April 2019.

   [I-D.xie-bier-ipv6-encapsulation]
              Xie, J., Geng, L., McBride, M., Dhanaraj, S., Yan, G., and
              Y. Xia, "Encapsulation for BIER in Non-MPLS IPv6
              Networks", draft-xie-bier-ipv6-encapsulation-01 (work in
              progress), June 2019.




Xie, et al.              Expires January 2, 2020                [Page 5]

Internet-Draft              BIERv6 Via IS-IS                   July 2019


   [RFC5120]  Przygienda, T., Shen, N., and N. Sheth, "M-ISIS: Multi
              Topology (MT) Routing in Intermediate System to
              Intermediate Systems (IS-ISs)", RFC 5120,
              DOI 10.17487/RFC5120, February 2008,
              <https://www.rfc-editor.org/info/rfc5120>.

   [RFC5308]  Hopps, C., "Routing IPv6 with IS-IS", RFC 5308,
              DOI 10.17487/RFC5308, October 2008,
              <https://www.rfc-editor.org/info/rfc5308>.

   [RFC7794]  Ginsberg, L., Ed., Decraene, B., Previdi, S., Xu, X., and
              U. Chunduri, "IS-IS Prefix Attributes for Extended IPv4
              and IPv6 Reachability", RFC 7794, DOI 10.17487/RFC7794,
              March 2016, <https://www.rfc-editor.org/info/rfc7794>.

   [RFC8279]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Przygienda, T., and S. Aldrin, "Multicast Using Bit Index
              Explicit Replication (BIER)", RFC 8279,
              DOI 10.17487/RFC8279, November 2017,
              <https://www.rfc-editor.org/info/rfc8279>.

7.2.  Informative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

Authors' Addresses

   Jingrong Xie
   Huawei Technologies

   Email: xiejingrong@huawei.com


   Aijun Wang
   China Telecom

   Email: wangaj.bri@chinatelecom.cn







Xie, et al.              Expires January 2, 2020                [Page 6]

Internet-Draft              BIERv6 Via IS-IS                   July 2019


   Gang Yan
   Huawei Technologies

   Email: yangang@huawei.com


   Senthil Dhanaraj
   Huawei Technologies

   Email: senthil.dhanaraj@huawei.com









































Xie, et al.              Expires January 2, 2020                [Page 7]
