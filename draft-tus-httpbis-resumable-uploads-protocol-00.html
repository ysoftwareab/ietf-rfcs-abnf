<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>tus - Resumable Uploads Protocol</title>
<meta content="Marius Kleidl" name="author">
<meta content="Jiten Mehta" name="author">
<meta content="Guoye Zhang" name="author">
<meta content="Lucas Pardue" name="author">
<meta content="Stefan Matsson" name="author">
<meta content="
       HTTP clients often encounter interrupted data transfers as a result of canceled requests or dropped connections. Prior to interruption, part of a representation may have been exchanged. To complete the data transfer of the entire representation, it is often desirable to issue subsequent requests that transfer only the remainder of the representation. HTTP range requests support this concept of resumable downloads from server to client. This document describes a mechanism that supports resumable uploads from client to server using HTTP. 
    " name="description">
<meta content="xml2rfc 3.12.2" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-tus-httpbis-resumable-uploads-protocol-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.2
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-tus-httpbis-resumable-uploads-protocol-00-z9ysnz2v.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Resumable Uploads</td>
<td class="right">February 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Kleidl, et al.</td>
<td class="center">Expires 28 August 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">HTTP</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-tus-httpbis-resumable-uploads-protocol-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-02-24" class="published">24 February 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-08-28">28 August 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Kleidl</div>
<div class="org">Transloadit Ltd</div>
</div>
<div class="author">
      <div class="author-name">J. Mehta</div>
<div class="org">Apple Inc.</div>
</div>
<div class="author">
      <div class="author-name">G. Zhang</div>
<div class="org">Apple Inc.</div>
</div>
<div class="author">
      <div class="author-name">L. Pardue</div>
<div class="org">Cloudflare</div>
</div>
<div class="author">
      <div class="author-name">S. Matsson</div>
<div class="org">JellyHive</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">tus - Resumable Uploads Protocol</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">HTTP clients often encounter interrupted data transfers as a result of canceled requests or dropped connections. Prior to interruption, part of a representation may have been exchanged. To complete the data transfer of the entire representation, it is often desirable to issue subsequent requests that transfer only the remainder of the representation. HTTP range requests support this concept of resumable downloads from server to client. This document describes a mechanism that supports resumable uploads from client to server using HTTP.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this document takes place on the
  tus-v2 GitHub repository at
  <span><a href="https://github.com/tus/tus-v2">https://github.com/tus/tus-v2</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 28 August 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions-and-definitions" class="xref">Conventions and Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-uploading-overview" class="xref">Uploading Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-example-1-complete-upload-o" class="xref">Example 1: Complete upload of file with known size</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-example-2-upload-as-a-serie" class="xref">Example 2: Upload as a series of parts</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-upload-transfer-procedure" class="xref">Upload Transfer Procedure</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-feature-detection" class="xref">Feature Detection</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-draft-version-identificatio" class="xref">Draft Version Identification</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-offset-retrieving-procedure-2" class="xref">Offset Retrieving Procedure</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-upload-cancellation-procedur" class="xref">Upload Cancellation Procedure</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-header-fields" class="xref">Header Fields</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-upload-token" class="xref">Upload-Token</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-upload-offset" class="xref">Upload-Offset</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-upload-incomplete" class="xref">Upload-Incomplete</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-redirection" class="xref">Redirection</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-B" class="xref"></a><a href="#name-appendix" class="xref">Appendix</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#appendix-B.1" class="xref"></a><a href="#name-informational-response" class="xref">Informational Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#appendix-B.2" class="xref"></a><a href="#name-feature-detection-2" class="xref">Feature Detection</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.3">
                <p id="section-toc.1-1.13.2.3.1"><a href="#appendix-B.3" class="xref"></a><a href="#name-upload-metadata" class="xref">Upload Metadata</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4">
                <p id="section-toc.1-1.13.2.4.1"><a href="#appendix-B.4" class="xref"></a><a href="#name-faq" class="xref">FAQ</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-C" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">HTTP clients often encounter interrupted data transfers as a result of canceled requests or dropped connections. Prior to interruption, part of a representation (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-19#section-3.2" class="relref">Section 3.2</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>) might have been exchanged. To complete the data transfer of the entire representation, it is often desirable to issue subsequent requests that transfer only the remainder of the representation. HTTP range requests (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-19#section-14" class="relref">Section 14</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>) support this concept of resumable downloads from server to client.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">HTTP methods such as POST or PUT can be used by clients to request processing of representation data enclosed in the request message. The transfer of representation data from client to server is often referred to as an upload. Uploads are just as likely as downloads to suffer from the effects of data transfer interruption. Humans can play a role in upload interruptions through manual actions such as pausing an upload. Regardless of the cause of an interruption, servers may have received part of the representation before its occurrence and it is desirable if clients can complete the data transfer by sending only the remainder of the representation. The process of sending additional parts of a representation using subsequent HTTP requests from client to server is herein referred to as a resumable upload.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Connection interruptions are common and the absence of a standard mechanism for resumable uploads has lead to a proliferation of custom solutions. Some of those use HTTP, while others rely on other transfer mechanisms entirely. An HTTP-based standard solution is desirable for such a common class of problem.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document defines the Resumable Uploads Protocol, an optional mechanism for resumable uploads using HTTP that is backwards-compatible with conventional HTTP uploads. When an upload is interrupted, clients can send subsequent requests to query the server state and use this information to the send remaining data. Alternatively, they can cancel the upload entirely.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions-and-definitions">
<section id="section-2">
      <h2 id="name-conventions-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions-and-definitions" class="section-name selfRef">Conventions and Definitions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">The terms byte sequence, Item, string, sf-binary, sf-boolean, sf-integer, sf-string, and sf-token are imported from
<span>[<a href="#STRUCTURED-FIELDS" class="xref">STRUCTURED-FIELDS</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">The terms client and server are imported from <span>[<a href="#HTTP" class="xref">HTTP</a>]</span>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">Upload: A sequence of one or more procedures, uniquely identified by a token chosen by a client.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">Procedure: An HTTP message exchange for that can be used for resumable uploads.<a href="#section-2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="uploading-overview">
<section id="section-3">
      <h2 id="name-uploading-overview">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-uploading-overview" class="section-name selfRef">Uploading Overview</a>
      </h2>
<p id="section-3-1">The Resumable Uploads Protocol consists of several procedures that rely on HTTP message exchanges. The following procedures are defined:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-2.1">Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>)<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-2.2">Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>)<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-3-2.3">Upload Cancellation Procedure (<a href="#upload-cancellation" class="xref">Section 6</a>)<a href="#section-3-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-3">A single upload is a sequence of one or more procedures. Each upload is uniquely
identified by a token chosen by a client. The token is carried in the Upload-Token header field; see <a href="#upload-token" class="xref">Section 7.1</a>.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">The remainder of this section uses examples of a file upload to illustrate permutations of procedure sequence. Note, however, that HTTP message exchanges use representation data (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-19#section-8.1" class="relref">Section 8.1</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>), which means that procedures can apply to many forms of content.<a href="#section-3-4" class="pilcrow">¶</a></p>
<div id="example-1-complete-upload-of-file-with-known-size">
<section id="section-3.1">
        <h3 id="name-example-1-complete-upload-o">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-example-1-complete-upload-o" class="section-name selfRef">Example 1: Complete upload of file with known size</a>
        </h3>
<p id="section-3.1-1">In this example, the client first attempts to upload a file with a known size in a single HTTP request. An interruption occurs and the client then attempts to resume the upload using subsequent HTTP requests.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">1) The Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>) can be used to notify the server that the client wants to begin an upload. The server should then reserve the required resources to accept the upload from the client. The client also begins transferring the entire file in the request body. The request includes the Upload-Token header, which is used for identifying future requests related to this upload. An informational response can be sent to the client to signal the support of resumable upload on the server.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<span id="name-upload-transfer-procedure-i"></span><div id="fig-upload-transfer-procedure-init">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-3.1-3.1">
<pre>
Client                                  Server
|                                            |
| POST with Upload-Token                     |
|-------------------------------------------&gt;|
|                                            |
|                                            | Reserve resources
|                                            | for Upload-Token
|                                            |------------------
|                                            |                 |
|                                            |&lt;-----------------
|                                            |
|            104 Upload Resumption Supported |
|&lt;-------------------------------------------|
|                                            |
| Flow Interrupted                           |
|-------------------------------------------&gt;|
|                                            |
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-upload-transfer-procedure-i" class="selfRef">Upload Transfer Procedure Initiation</a>
          </figcaption></figure>
</div>
<p id="section-3.1-4">2) If the connection to the server gets interrupted during the Upload Transfer Procedure, the client may want to resume the upload. Before this is possible, the client must know the amount of data that the server was able to receive before the connection got interrupted. To achieve this, the client uses the Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>) to obtain the upload's offset.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<span id="name-offset-retrieving-procedure"></span><div id="fig-offset-retrieving-procedure">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-3.1-5.1">
<pre>
Client                                      Server
|                                                |
| HEAD with Upload-Token                         |
|-----------------------------------------------&gt;|
|                                                |
|              204 No Content with Upload-Offset |
|&lt;-----------------------------------------------|
|                                                |
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-offset-retrieving-procedure" class="selfRef">Offset Retrieving Procedure</a>
          </figcaption></figure>
</div>
<p id="section-3.1-6">3) After the Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>) completes, the client can resume the upload by sending the remaining file content to the server, appending to the already stored data in the upload. The <code>Upload-Offset</code> value is included to ensure that the client and server agree on the offset that the upload resumes from.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<span id="name-resuming-upload"></span><div id="fig-resuming-upload">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-3.1-7.1">
<pre>
Client                                      Server
|                                                |
| POST with Upload-Token and Upload-Offset       |
|-----------------------------------------------&gt;|
|                                                |
|                      201 Created on completion |
|&lt;-----------------------------------------------|
|                                                |
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-resuming-upload" class="selfRef">Resuming Upload</a>
          </figcaption></figure>
</div>
<p id="section-3.1-8">4) If the client is not interesting in completing the upload anymore, it can instruct the server to delete the upload and free all related resources using the Upload Cancellation Procedure (<a href="#upload-cancellation" class="xref">Section 6</a>).<a href="#section-3.1-8" class="pilcrow">¶</a></p>
<span id="name-upload-cancellation-procedu"></span><div id="fig-upload-cancellation-procedure">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-3.1-9.1">
<pre>
Client                                      Server
|                                                |
| DELETE with Upload-Token                       |
|-----------------------------------------------&gt;|
|                                                |
|                   204 No Content on completion |
|&lt;-----------------------------------------------|
|                                                |
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-upload-cancellation-procedu" class="selfRef">Upload Cancellation Procedure</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="example-2-upload-as-a-series-of-parts">
<section id="section-3.2">
        <h3 id="name-example-2-upload-as-a-serie">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-example-2-upload-as-a-serie" class="section-name selfRef">Example 2: Upload as a series of parts</a>
        </h3>
<p id="section-3.2-1">In some cases clients might prefer to upload a file as a series of parts sent across multiple HTTP messages. One use case is to overcome server limits on HTTP message content size. Another use case is where the client does not know the final size, such as when file data originates from a streaming source.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">This example shows how the client, with prior knowledge about the server's resumable upload support, can upload parts of a file over a sequence of procedures.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">1) If the client is aware that the server supports resumable upload, it can use the Upload Transfer Procedure with the <code>Upload-Incomplete</code> header to start an upload.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<span id="name-upload-transfer-procedure-u"></span><div id="fig-upload-cancellation-procedure-usage">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-3.2-4.1">
<pre>
Client                                      Server
|                                                |
| POST with Upload-Token, Upload-Offset,         |
| and Upload-Incomplete                          |
|-----------------------------------------------&gt;|
|                                                |
|             201 Created with Upload-Incomplete |
|              on completion                     |
|&lt;-----------------------------------------------|
|                                                |
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-upload-transfer-procedure-u" class="selfRef">Upload Transfer Procedure Usage</a>
          </figcaption></figure>
</div>
<p id="section-3.2-5">2) The last part of the upload does not have the <code>Upload-Incomplete</code> header.<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<span id="name-upload-transfer-procedure-l"></span><div id="fig-upload-cancellation-procedure-last-chunk">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-3.2-6.1">
<pre>
Client                                      Server
|                                                |
| POST with Upload-Token and Upload-Offset       |
|-----------------------------------------------&gt;|
|                                                |
|                      201 Created on completion |
|&lt;-----------------------------------------------|
|                                                |
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-upload-transfer-procedure-l" class="selfRef">Upload Transfer Procedure Last Chunk</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="upload-transfer">
<section id="section-4">
      <h2 id="name-upload-transfer-procedure">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-upload-transfer-procedure" class="section-name selfRef">Upload Transfer Procedure</a>
      </h2>
<p id="section-4-1">The Upload Transfer Procedure is intended for transferring the data chunk. As such, it can be used for either resuming an existing upload, or starting a new upload. A limited form of this procedure <span class="bcp14">MAY</span> be used by the client to start a new upload without the knowledge of server support.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">This procedure is designed to be compatible with a regular upload. Therefore all methods are allowed with the exception of <code>GET</code>, <code>HEAD</code>, <code>DELETE</code>, and <code>OPTIONS</code>. All response status codes are allowed. The client is <span class="bcp14">RECOMMENDED</span> to use the <code>POST</code> method if not otherwise intended. The server <span class="bcp14">MAY</span> only support a limited number of methods.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">The client <span class="bcp14">MUST</span> use the same method throughout an entire upload. The server <span class="bcp14">SHOULD</span> reject the attempt to resume an upload with a different method with <code>400 (Bad Request)</code> response.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">The request <span class="bcp14">MUST</span> include the <code>Upload-Token</code> header field (<a href="#upload-token" class="xref">Section 7.1</a>) which uniquely identifies an upload. The client <span class="bcp14">MUST NOT</span> reuse the token for a different upload.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">When resuming an upload, the <code>Upload-Offset</code> header field (<a href="#upload-offset" class="xref">Section 7.2</a>) <span class="bcp14">MUST</span> be set to the resumption offset. The resumption offset 0 indicates a new upload. The absence of the <code>Upload-Offset</code> header field implies the resumption offset of 0.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">If the end of the request body is not the end of the upload, the <code>Upload-Incomplete</code> header field (<a href="#upload-incomplete" class="xref">Section 7.3</a>) <span class="bcp14">MUST</span> be set to true.<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">If the server does not consider the upload associated with the token in the <code>Upload-Token</code> header field active, but the resumption offset is non-zero, it <span class="bcp14">MUST</span> respond with <code>404 (Not Found)</code> status code.<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">The client <span class="bcp14">MUST NOT</span> perform multiple Upload Transfer Procedures (<a href="#upload-transfer" class="xref">Section 4</a>) for the same token in parallel to avoid race conditions and data loss or corruption. The server is <span class="bcp14">RECOMMENDED</span> to take measures to avoid parallel Upload Transfer Procedures: The server <span class="bcp14">MAY</span> terminate any ongoing Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>) for the same token. Since the client is not allowed to perform multiple transfers in parallel, the server can assume that the previous attempt has already failed. Therefore, the server <span class="bcp14">MAY</span> abruptly terminate the previous HTTP connection or stream.<a href="#section-4-8" class="pilcrow">¶</a></p>
<p id="section-4-9">If the offset in the <code>Upload-Offset</code> header field does not match the value 0, the offset provided by the immediate previous Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>), or the end offset of the immediate previous incomplete transfer, the server <span class="bcp14">MUST</span> respond with <code>409 (Conflict)</code> status code.<a href="#section-4-9" class="pilcrow">¶</a></p>
<p id="section-4-10">The server <span class="bcp14">MUST</span> send the <code>Upload-Offset</code> header in the response if it considers the upload active, either when the response is a success (e.g. <code>201 (Created)</code>), or when the response is a failure (e.g. <code>409 (Conflict)</code>). The value <span class="bcp14">MUST</span> be equal to the end offset of the entire upload, or the begin offset of the next chunk if the upload is still incomplete. The client <span class="bcp14">SHOULD</span> consider the upload failed if the response status code indicates a success but the offset in the <code>Upload-Offset</code> header field in the response does not equal to the begin offset plus the number of bytes uploaded in the request.<a href="#section-4-10" class="pilcrow">¶</a></p>
<p id="section-4-11">If the request completes successfully and the entire upload is complete, the server <span class="bcp14">MUST</span> acknowledge it by responding with a successful status code between 200 and 299 (inclusive). Server is <span class="bcp14">RECOMMENDED</span> to use <code>201 (Created)</code> response if not otherwise specified. The response <span class="bcp14">MUST NOT</span> include the <code>Upload-Incomplete</code> header with the value of true.<a href="#section-4-11" class="pilcrow">¶</a></p>
<p id="section-4-12">If the request completes successfully but the entire upload is not yet complete indicated by the <code>Upload-Incomplete</code> header, the server <span class="bcp14">MUST</span> acknowledge it by responding with the <code>201 (Created)</code> status code, the <code>Upload-Incomplete</code> header set to true.<a href="#section-4-12" class="pilcrow">¶</a></p>
<div id="section-4-13">
<pre class="lang-example sourcecode">
:method: POST
:scheme: https
:authority: example.com
:path: /upload
upload-token: :SGVs…SGU=:
upload-draft-interop-version: 1
content-length: 100
[content (100 bytes)]

:status: 104
upload-draft-interop-version: 1

:status: 201
upload-offset: 100
</pre><a href="#section-4-13" class="pilcrow">¶</a>
</div>
<div id="section-4-14">
<pre class="lang-example sourcecode">
:method: POST
:scheme: https
:authority: example.com
:path: /upload
upload-token: :SGVs…SGU=:
upload-draft-interop-version: 1
upload-offset: 0
upload-incomplete: ?1
content-length: 25
[partial content (25 bytes)]

:status: 201
upload-incomplete: ?1
upload-offset: 25
</pre><a href="#section-4-14" class="pilcrow">¶</a>
</div>
<p id="section-4-15">The client <span class="bcp14">MAY</span> automatically attempt upload resumption when the connection is terminated unexpectedly, or if a server error status code between 500 and 599 (inclusive) is received. The client <span class="bcp14">SHOULD NOT</span> automatically retry if a client error status code between 400 and 499 (inclusive) is received.<a href="#section-4-15" class="pilcrow">¶</a></p>
<p id="section-4-16">File metadata can affect how servers might act on the uploaded file. Clients can send Representation Metadata (see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-19#section-8.3" class="relref">Section 8.3</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>) in the Upload Transfer Procedure request that starts an upload. Servers <span class="bcp14">MAY</span> interpret this metadata or <span class="bcp14">MAY</span> ignore it. Clients <span class="bcp14">SHOULD NOT</span> send representation metadata in subsequent Upload Transfer Procedure requests and servers <span class="bcp14">SHOULD</span> ignore representation received in subsequent requests. The <code>Content-Type</code> header can be used to indicate the MIME type of the file. The <code>Content-Disposition</code> header can be used to transmit a filename. If included, the parameters <span class="bcp14">SHOULD</span> be either <code>filename</code>, <code>filename*</code> or <code>boundary</code>.<a href="#section-4-16" class="pilcrow">¶</a></p>
<div id="feature-detection">
<section id="section-4.1">
        <h3 id="name-feature-detection">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-feature-detection" class="section-name selfRef">Feature Detection</a>
        </h3>
<p id="section-4.1-1">If the client has no knowledge of whether the server supports resumable upload, the Upload Transfer Procedure <span class="bcp14">MAY</span> be used with some additional constraints. In particular, the <code>Upload-Offset</code> header field (<a href="#upload-offset" class="xref">Section 7.2</a>) and the <code>Upload-Incomplete</code> header field (<a href="#upload-incomplete" class="xref">Section 7.3</a>) <span class="bcp14">MUST NOT</span> be sent in the request if the server support is unclear. This allows the upload to function as if it is a regular upload.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">If the server detects the Upload Transfer Procedure with neither the <code>Upload-Offset</code> header nor the <code>Upload-Incomplete</code> header, and it supports resumable upload, an informational response with <code>104 (Upload Resumption Supported)</code> status <span class="bcp14">MAY</span> be sent to the client while the request body is being uploaded.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">The client <span class="bcp14">MUST NOT</span> attempt to resume an upload if it did not receive the <code>104 (Upload Resumption Supported)</code> informational response, and it does not have other signals of whether the server supporting resumable upload.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">If the client is aware of the server support, it <span class="bcp14">SHOULD</span> start an upload with the <code>Upload-Offset</code> header set to 0 in order to prevent the unnecessary informational response.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="draft-version-identification">
<section id="section-4.2">
        <h3 id="name-draft-version-identificatio">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-draft-version-identificatio" class="section-name selfRef">Draft Version Identification</a>
        </h3>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-4.2-1.1">
            <p id="section-4.2-1.1.1"><strong>RFC Editor's Note:</strong>  Please remove this section and <code>Upload-Draft-Interop-Version</code> from all examples prior to publication of a final version of this document.<a href="#section-4.2-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.2-2">The current interop version is 1.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Client implementations of draft versions of the protocol <span class="bcp14">MUST</span> send a header field <code>Upload-Draft-Interop-Version</code> with the interop version as its value to its requests. Its ABNF is<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<div id="section-4.2-4">
<pre class="lang-abnf sourcecode">
Upload-Draft-Interop-Version = sf-integer
</pre><a href="#section-4.2-4" class="pilcrow">¶</a>
</div>
<p id="section-4.2-5">Server implementations of draft versions of the protocol <span class="bcp14">MUST NOT</span> send a <code>104 (Upload Resumption Supported)</code> informational response when the interop version indicated by the <code>Upload-Draft-Interop-Version</code> header field in the request is missing or mismatching.<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<p id="section-4.2-6">Server implementations of draft versions of the protocol <span class="bcp14">MUST</span> also send a header field <code>Upload-Draft-Interop-Version</code> with the interop version as its value to the <code>104 (Upload Resumption Supported)</code> informational response.<a href="#section-4.2-6" class="pilcrow">¶</a></p>
<p id="section-4.2-7">Client implementations of draft versions of the protocol <span class="bcp14">MUST</span> ignore a <code>104 (Upload Resumption Supported)</code> informational response with missing or mismatching interop version indicated by the <code>Upload-Draft-Interop-Version</code> header field.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
<p id="section-4.2-8">The reason both the client and the server are sending and checking the draft version is to ensure that implementations of the final RFC will not accidentally interop with draft implementations, as they will not check the existence of the <code>Upload-Draft-Interop-Version</code> header field.<a href="#section-4.2-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="offset-retrieving">
<section id="section-5">
      <h2 id="name-offset-retrieving-procedure-2">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-offset-retrieving-procedure-2" class="section-name selfRef">Offset Retrieving Procedure</a>
      </h2>
<p id="section-5-1">If an upload is interrupted, the client <span class="bcp14">MAY</span> attempt to fetch the offset of the incomplete upload by sending a <code>HEAD</code> request to the server with the same <code>Upload-Token</code> header field (<a href="#upload-token" class="xref">Section 7.1</a>). The client <span class="bcp14">MUST NOT</span> initiate this procedure without the knowledge of server support.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">The request <span class="bcp14">MUST</span> use the <code>HEAD</code> method and include the <code>Upload-Token</code> header. The request <span class="bcp14">MUST NOT</span> include the <code>Upload-Offset</code> header or the <code>Upload-Incomplete</code> header. The server <span class="bcp14">MUST</span> reject the request with the <code>Upload-Offset</code> header or the <code>Upload-Incomplete</code> header by sending a <code>400 (Bad Request)</code> response.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">If the server considers the upload associated with this token active, it <span class="bcp14">MUST</span> send back a <code>204 (No Content)</code> response. The response <span class="bcp14">MUST</span> include the <code>Upload-Offset</code> header set to the current resumption offset for the client. The response <span class="bcp14">MUST</span> include the <code>Upload-Incomplete</code> header which is set to true if and only if the upload is incomplete. An upload is considered complete if and only if the server completely and successfully received a corresponding Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>) request with the <code>Upload-Incomplete</code> header being omitted or set to false.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">The client <span class="bcp14">MUST NOT</span> perform the Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>) while the Upload Transfer Procedures (<a href="#upload-transfer" class="xref">Section 4</a>) is in progress.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">The offset <span class="bcp14">MUST</span> be accepted by a subsequent Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>). Due to network delay and reordering, the server might still be receiving data from an ongoing transfer for the same token, which in the client perspective has failed. The server <span class="bcp14">MAY</span> terminate any transfers for the same token before sending the response by abruptly terminating the HTTP connection or stream. Alternatively, the server <span class="bcp14">MAY</span> keep the ongoing transfer alive but ignore further bytes received past the offset.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">The client <span class="bcp14">MUST NOT</span> start more than one Upload Transfer Procedures (<a href="#upload-transfer" class="xref">Section 4</a>) based on the resumption offset from a single Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>).<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">The response <span class="bcp14">SHOULD</span> include <code>Cache-Control: no-store</code> header to prevent HTTP caching.<a href="#section-5-7" class="pilcrow">¶</a></p>
<p id="section-5-8">If the server does not consider the upload associated with this token active, it <span class="bcp14">MUST</span> respond with <code>404 (Not Found)</code> status code.<a href="#section-5-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-9">
<pre>
:method: HEAD
:scheme: https
:authority: example.com
:path: /upload
upload-token: :SGVs…SGU=:
upload-draft-interop-version: 1

:status: 204
upload-offset: 100
cache-control: no-store
</pre><a href="#section-5-9" class="pilcrow">¶</a>
</div>
<p id="section-5-10">The client <span class="bcp14">MAY</span> automatically start uploading from the beginning using Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>) if <code>404 (Not Found)</code> status code is received. The client <span class="bcp14">SHOULD NOT</span> automatically retry if a status code other than 204 and 404 is received.<a href="#section-5-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="upload-cancellation">
<section id="section-6">
      <h2 id="name-upload-cancellation-procedur">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-upload-cancellation-procedur" class="section-name selfRef">Upload Cancellation Procedure</a>
      </h2>
<p id="section-6-1">If the client wants to terminate the transfer without the ability to resume, it <span class="bcp14">MAY</span> send a <code>DELETE</code> request to the server along with the <code>Upload-Token</code> which is an indication that the client is no longer interested in uploading this body and the server can release resources associated with this token. The client <span class="bcp14">MUST NOT</span> initiate this procedure without the knowledge of server support.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The request <span class="bcp14">MUST</span> use the <code>DELETE</code> method and include the <code>Upload-Token</code> header. The request <span class="bcp14">MUST NOT</span> include the <code>Upload-Offset</code> header or the <code>Upload-Incomplete</code> header. The server <span class="bcp14">MUST</span> reject the request with the <code>Upload-Offset</code> header or the <code>Upload-Incomplete</code> header by sending a <code>400 (Bad Request)</code> response.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">If the server has successfully deactivated this token, it <span class="bcp14">MUST</span> send back a <code>204 (No Content)</code> response.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">The server <span class="bcp14">MAY</span> terminate any ongoing Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>) for the same token before sending the response by abruptly terminating the HTTP connection or stream.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">If the server does not consider the upload associated with this token active, it <span class="bcp14">MUST</span> respond with <code>404 (Not Found)</code> status code.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">If the server does not support cancellation, it <span class="bcp14">MUST</span> respond with <code>405 (Method Not Allowed)</code> status code.<a href="#section-6-6" class="pilcrow">¶</a></p>
<div id="section-6-7">
<pre class="lang-example sourcecode">
:method: DELETE
:scheme: https
:authority: example.com
:path: /upload
upload-token: :SGVs…SGU=:
upload-draft-interop-version: 1

:status: 204
</pre><a href="#section-6-7" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="header-fields">
<section id="section-7">
      <h2 id="name-header-fields">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-header-fields" class="section-name selfRef">Header Fields</a>
      </h2>
<div id="upload-token">
<section id="section-7.1">
        <h3 id="name-upload-token">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-upload-token" class="section-name selfRef">Upload-Token</a>
        </h3>
<p id="section-7.1-1">The <code>Upload-Token</code> request header field is an Item Structured Header (see <span><a href="https://rfc-editor.org/rfc/rfc8941#section-3.3" class="relref">Section 3.3</a> of [<a href="#STRUCTURED-FIELDS" class="xref">STRUCTURED-FIELDS</a>]</span>) carrying the token used for identification of a specific upload. Its value <span class="bcp14">MUST</span> be a byte sequence. Its ABNF is<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<div id="section-7.1-2">
<pre class="lang-abnf sourcecode">
Upload-Token = sf-binary
</pre><a href="#section-7.1-2" class="pilcrow">¶</a>
</div>
<p id="section-7.1-3">If not otherwise specified by the server, the client is <span class="bcp14">RECOMMENDED</span> to use 256-bit (32 bytes) cryptographically-secure random binary data as the value of the <code>Upload-Token</code>, in order to ensure that it is globally unique and non-guessable.<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<p id="section-7.1-4">A conforming implementation <span class="bcp14">MUST</span> be able to handle a <code>Upload-Token</code> field value of at least 128 octets.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="upload-offset">
<section id="section-7.2">
        <h3 id="name-upload-offset">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-upload-offset" class="section-name selfRef">Upload-Offset</a>
        </h3>
<p id="section-7.2-1">The <code>Upload-Offset</code> request and response header field is an Item Structured Header indicating the resumption offset of corresponding upload, counted in bytes. Its value <span class="bcp14">MUST</span> be an integer. Its ABNF is<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<div id="section-7.2-2">
<pre class="lang-abnf sourcecode">
Upload-Offset = sf-integer
</pre><a href="#section-7.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="upload-incomplete">
<section id="section-7.3">
        <h3 id="name-upload-incomplete">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-upload-incomplete" class="section-name selfRef">Upload-Incomplete</a>
        </h3>
<p id="section-7.3-1">The <code>Upload-Incomplete</code> request and response header field is an Item Structured Header indicating whether the corresponding upload is considered complete. Its value <span class="bcp14">MUST</span> be a boolean. Its ABNF is<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div id="section-7.3-2">
<pre class="lang-abnf sourcecode">
Upload-Incomplete = sf-boolean
</pre><a href="#section-7.3-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="redirection">
<section id="section-8">
      <h2 id="name-redirection">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-redirection" class="section-name selfRef">Redirection</a>
      </h2>
<p id="section-8-1">The <code>301 (Moved Permanently)</code> status code and the <code>302 (Found)</code> status code <span class="bcp14">MUST NOT</span> be used in Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>) and Upload Cancellation Procedure (<a href="#upload-cancellation" class="xref">Section 6</a>) responses. A <code>308 (Permanent Redirect)</code> response <span class="bcp14">MAY</span> be persisted for all subsequent procedures. If client receives a <code>307 (Temporary Redirect)</code> response in the Offset Retrieving Procedure (<a href="#offset-retrieving" class="xref">Section 5</a>), it <span class="bcp14">MAY</span> apply the redirection directly in the immediate subsequent Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>).<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">The tokens inside the <code>Upload-Token</code> header field can be selected by the client which has no knowledge of tokens picked by other client, so uniqueness cannot be guaranteed. If the token is guessable, an attacker can append malicious data to ongoing uploads. To mitigate these issues, 256-bit cryptographically-secure random binary data is recommended for the token.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">It is <span class="bcp14">OPTIONAL</span> for the server to partition upload tokens based on client identity established through other channels, such as Cookie or TLS client authentication. The client <span class="bcp14">MAY</span> relax the token strength if it is aware of server-side partitioning.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-10-1">This specification registers the following entry in the Permanent Message Header Field Names registry established by <span>[<a href="#RFC3864" class="xref">RFC3864</a>]</span>:<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">Header field name: Upload-Token, Upload-Offset, Upload-Incomplete<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">Applicable protocol: http<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">Status: standard<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">Author/change controller: IETF<a href="#section-10-5" class="pilcrow">¶</a></p>
<p id="section-10-6">Specification: This document<a href="#section-10-6" class="pilcrow">¶</a></p>
<p id="section-10-7">Related information: n/a<a href="#section-10-7" class="pilcrow">¶</a></p>
<p id="section-10-8">This specification registers the following entry in the "HTTP Status Codes" registry:<a href="#section-10-8" class="pilcrow">¶</a></p>
<p id="section-10-9">Code: 104<a href="#section-10-9" class="pilcrow">¶</a></p>
<p id="section-10-10">Description: Upload Resumption Supported<a href="#section-10-10" class="pilcrow">¶</a></p>
<p id="section-10-11">Specification: This document<a href="#section-10-11" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-normative-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="HTTP">[HTTP]</dt>
      <dd>
<span class="refAuthor">Fielding, R. T.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">J. Reschke</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-semantics-19</span>, <time datetime="2021-09-12" class="refDate">12 September 2021</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-19">https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics-19</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3864">[RFC3864]</dt>
      <dd>
<span class="refAuthor">Klyne, G.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">J. Mogul</span>, <span class="refTitle">"Registration Procedures for Message Header Fields"</span>, <span class="seriesInfo">BCP 90</span>, <span class="seriesInfo">RFC 3864</span>, <span class="seriesInfo">DOI 10.17487/RFC3864</span>, <time datetime="2004-09" class="refDate">September 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3864">https://www.rfc-editor.org/rfc/rfc3864</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="STRUCTURED-FIELDS">[STRUCTURED-FIELDS]</dt>
    <dd>
<span class="refAuthor">Nottingham, M.</span> and <span class="refAuthor">P-H. Kamp</span>, <span class="refTitle">"Structured Field Values for HTTP"</span>, <span class="seriesInfo">RFC 8941</span>, <span class="seriesInfo">DOI 10.17487/RFC8941</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8941">https://www.rfc-editor.org/rfc/rfc8941</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">TODO acknowledge.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="appendix">
<section id="appendix-B">
      <h2 id="name-appendix">
<a href="#name-appendix" class="section-name selfRef">Appendix</a>
      </h2>
<div id="informational-response">
<section id="appendix-B.1">
        <h3 id="name-informational-response">
<a href="#name-informational-response" class="section-name selfRef">Informational Response</a>
        </h3>
<p id="appendix-B.1-1">The server is allowed to respond to Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>) requests with a <code>104 (Upload Resumption Supported)</code> intermediate response as soon as the server has validated the request. This way, the client knows that the server supports resumable uploads before the complete response for the Upload Transfer Procedure is received. The benefit is the clients can defer starting the actual data transfer until the server indicates full support of the incoming Upload Transfer Procedure (i.e. resumable are supported, the provided upload token is active etc).<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<p id="appendix-B.1-2">On the contrary, support for intermediate responses (the <code>1XX</code> range) in existing software is limited or not at all present. Such software includes proxies, firewalls, browsers, and HTTP libraries for clients and server. Therefore, the <code>104 (Upload Resumption Supported)</code> status code is optional and not mandatory for the successful completion of an upload. Otherwise, it might be impossible in some cases to implement resumable upload servers using existing software packages. Furthermore, as parts of the current internet infrastructure currently have limited support for intermediate responses, a successful delivery of a <code>104 (Upload Resumption Supported)</code> from the server to the client should be assumed.<a href="#appendix-B.1-2" class="pilcrow">¶</a></p>
<p id="appendix-B.1-3">We hope that support for intermediate responses increases in the near future, to allow a wider usage of <code>104 (Upload Resumption Supported)</code>.<a href="#appendix-B.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="feature-detection-1">
<section id="appendix-B.2">
        <h3 id="name-feature-detection-2">
<a href="#name-feature-detection-2" class="section-name selfRef">Feature Detection</a>
        </h3>
<p id="appendix-B.2-1">This specification includes a section about feature detection (it was called service discovery in earlier discussions, but this name is probably ill-suited). The idea is to allow resumable uploads to be transparently implemented by HTTP clients. This means that application developers just keep using the same API of their HTTP library as they have done in the past with traditional, non-resumable uploads. Once the HTTP library gets updated (e.g. because mobile OS or browsers start implementing resumable uploads), the HTTP library can transparently decide to use resumable uploads without explicit configuration by the application developer. Of course, in order to use resumable uploads, the HTTP library needs to know whether the server supports resumable uploads. If no support is detected, the HTTP library should use the traditional, non-resumable upload technique. We call this process feature detection.<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
<p id="appendix-B.2-2">Ideally, the technique used for feature detection meets following <strong>criteria</strong> (there might not be one approach which fits all requirements, so we have to prioritize them):<a href="#appendix-B.2-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="appendix-B.2-3">
<li id="appendix-B.2-3.1">Avoid additional roundtrips by the client, if possible (i.e. an additional HTTP request by the client should be avoided).<a href="#appendix-B.2-3.1" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.2-3.2">Be backwards compatible to HTTP/1.1 and existing network infrastructure: This means to avoid using new features in HTTP/2, or features which might require changes to existing network infrastructure (e.g. nginx or HTTP libraries)<a href="#appendix-B.2-3.2" class="pilcrow">¶</a>
</li>
          <li id="appendix-B.2-3.3">Conserve the user's privacy (i.e. the feature detection should not leak information to other third-parties about which URLs have been connected to)<a href="#appendix-B.2-3.3" class="pilcrow">¶</a>
</li>
        </ol>
<p id="appendix-B.2-4">Following <strong>approaches</strong> have already been considered in the past. All except the last approaches have not been deemed acceptable and are therefore not included in the specification. This follow list is a reference for the advantages and disadvantages of some approaches:<a href="#appendix-B.2-4" class="pilcrow">¶</a></p>
<p id="appendix-B.2-5"><strong>Include a support statement in the SETTINGS frame.</strong> The SETTINGS frame is a HTTP/2 feature and is sent by the server to the client to exchange information about the current connection. The idea was to include an additional statement in this frame, so the client can detect support for resumable uploads without an additional roundtrip. The problem is that this is not compatible with HTTP/1.1. Furthermore, the SETTINGS frame is intended for information about the current connection (not bound to a request/response) and might not be persisted when transmitted through a proxy.<a href="#appendix-B.2-5" class="pilcrow">¶</a></p>
<p id="appendix-B.2-6"><strong>Include a support statement in the DNS record.</strong> The client can detect support when resolving a domain name. Of course, DNS is not semantically the correct layer. Also, DNS might not be involved if the record is cached or retrieved from a hosts files.<a href="#appendix-B.2-6" class="pilcrow">¶</a></p>
<p id="appendix-B.2-7"><strong>Send a HTTP request to ask for support.</strong> This is the easiest approach where the client sends an OPTIONS request and uses the response to determine if the server indicates support for resumable uploads. An alternative is that the client sends the request to a well-known URL to obtain this response, e.g. <code>/.well-known/resumable-uploads</code>. Of course, while being fully backwards-compatible, it requires an additional roundtrip.<a href="#appendix-B.2-7" class="pilcrow">¶</a></p>
<p id="appendix-B.2-8"><strong>Include a support statement in previous responses.</strong> In many cases, the file upload is not the first time that the client connects to the server. Often additional requests are sent beforehand for authentication, data retrieval etc. The responses for those requests can also include a header which indicates support for resumable uploads. There are two options:
- Use the standardized <code>Alt-Svc</code> response header. However, it has been indicated to us that this header might be reworked in the future and could also be semantically different from our intended usage.
- Use a new response header <code>Resumable-Uploads: https://example.org/files/*</code> to indicate under which endpoints support for resumable uploads is available.<a href="#appendix-B.2-8" class="pilcrow">¶</a></p>
<p id="appendix-B.2-9"><strong>Send a 104 intermediate response to indicate support.</strong> The clients normally starts a traditional upload and includes a header indicate that it supports resumable uploads (e.g. <code>Upload-Offset: 0</code>). If the server also supports resumable uploads, it will immediately respond with a 104 intermediate response to indicate its support, before further processing the request. This way the client is informed during the upload whether it can resume from possible connection errors or not. While an additional roundtrip is avoided, the problem with that solution is that many HTTP server libraries do not support sending custom 1XX responses and that some proxies may not be able to handle new 1XX status codes correctly.<a href="#appendix-B.2-9" class="pilcrow">¶</a></p>
<p id="appendix-B.2-10"><strong>Send a 103 Early Hint response to indicate support.</strong> This approach is the similar to the above one, with one exception: Instead of a new <code>104 (Upload Resumption Supported)</code> status code, the existing <code>103 (Early Hint)</code> status code is used in the intermediate response. The 103 code would then be accompanied by a header indicating support for resumable uploads (e.g. <code>Resumable-Uploads: 1</code>). It is unclear whether the Early Hints code is appropriate for that, as it is currently only used to indicate resources for prefetching them.<a href="#appendix-B.2-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="upload-metadata">
<section id="appendix-B.3">
        <h3 id="name-upload-metadata">
<a href="#name-upload-metadata" class="section-name selfRef">Upload Metadata</a>
        </h3>
<p id="appendix-B.3-1">The Upload Transfer Procedure (<a href="#upload-transfer" class="xref">Section 4</a>) allows the <code>Content-Type</code> and <code>Content-Disposition</code> header to be included. They are intended to be a standardized way of communicating the file name and file type, if available. However, this is not without controversy. Some argue that since these headers are already defined in other specifications, it is not necessary to include them here again. Furthermore, the <code>Content-Disposition</code> header field's format is not clearly enough defined. For example, it is left open which disposition value should be used in the header. There needs to be more discussion whether this approach is suited or not.<a href="#appendix-B.3-1" class="pilcrow">¶</a></p>
<p id="appendix-B.3-2">However, from experience with the tus project, users are often asking for a way to communicate the file name and file type. Therefore, we believe it is help to explicitly include an approach for doing so.<a href="#appendix-B.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="faq">
<section id="appendix-B.4">
        <h3 id="name-faq">
<a href="#name-faq" class="section-name selfRef">FAQ</a>
        </h3>
<ul class="normal">
<li class="normal" id="appendix-B.4-1.1">
            <strong>Are multipart requests supported?</strong> Yes, requests whose body is encoded using the <code>multipart/form-data</code> are implicitly supported. The entire encoded body can be considered as a single file, which is then uploaded using the resumable protocol. The server, of course, must store the delimiter ("boundary") separating each part and must be able to parse the multipart format once the upload is completed.<a href="#appendix-B.4-1.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marius Kleidl</span></div>
<div dir="auto" class="left"><span class="org">Transloadit Ltd</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marius@transloadit.com" class="email">marius@transloadit.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jiten Mehta</span></div>
<div dir="auto" class="left"><span class="org">Apple Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jmehta@apple.com" class="email">jmehta@apple.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Guoye Zhang</span></div>
<div dir="auto" class="left"><span class="org">Apple Inc.</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:guoye_zhang@apple.com" class="email">guoye_zhang@apple.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lucas Pardue</span></div>
<div dir="auto" class="left"><span class="org">Cloudflare</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lucaspardue.24.7@gmail.com" class="email">lucaspardue.24.7@gmail.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Stefan Matsson</span></div>
<div dir="auto" class="left"><span class="org">JellyHive</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:s.matsson@gmail.com" class="email">s.matsson@gmail.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
