<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Guidelines for Choosing RTP Control
    Protocol (RTCP) Canonical Names (CNAMEs)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Guidelines for Choosing RTP Control
    Protocol (RTCP) Canonical Names (CNAMEs)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">AVT</td><td class="header">A. Begen</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc3550'>3550</a> (if&nbsp;approved)</td><td class="header">C. Perkins</td></tr>
<tr><td class="header">Intended status:  Standards Track</td><td class="header">University of Glasgow</td></tr>
<tr><td class="header">Expires:  July 15, 2011</td><td class="header">D. Wing</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Cisco</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">January 11, 2011</td></tr>
</table></td></tr></table>
<h1><br />Guidelines for Choosing RTP Control
    Protocol (RTCP) Canonical Names (CNAMEs)<br />draft-ietf-avt-rtp-cnames-04</h1>

<h3>Abstract</h3>

<p>The RTP Control Protocol (RTCP) Canonical Name (CNAME) is a
      persistent transport-level identifier for an RTP endpoint. While the
      Synchronization Source (SSRC) identifier of an RTP endpoint may change
      if a collision is detected, or when the RTP application is restarted,
      its RTCP CNAME is meant to stay unchanged, so that RTP endpoints can be
      uniquely identified and associated with their RTP media streams. For
      proper functionality, RTCP CNAMEs should be unique within the
      participants of an RTP session. However, the existing guidelines for
      choosing the RTCP CNAME provided in the RTP standard are insufficient to
      achieve this uniqueness. This memo updates those guidelines to allow
      endpoints to choose unique RTCP CNAMEs.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on July 15, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2011 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#sec_introduction">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Requirements Notation<br />
<a href="#anchor2">3.</a>&nbsp;
Deficiencies with Earlier Guidelines for Choosing an RTCP CNAME<br />
<a href="#sec_cname">4.</a>&nbsp;
Choosing an RTCP CNAME<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec_types">4.1.</a>&nbsp;
Persistent RTCP CNAMEs vs. Per-Session RTCP CNAMEs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">4.2.</a>&nbsp;
Requirements<br />
<a href="#identifier">5.</a>&nbsp;
Procedure to Generate a Unique Identifier<br />
<a href="#sec_security_considerations">6.</a>&nbsp;
Security Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">6.1.</a>&nbsp;
Considerations on Uniqueness of RTCP CNAMEs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">6.2.</a>&nbsp;
Session Correlation Based on RTCP CNAMEs<br />
<a href="#sec_iana_considerations">7.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor6">8.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="sec_introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>In Section 6.5.1 of the RTP specification, <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>, there are a number of recommendations for
      choosing a unique RTCP CNAME for an RTP endpoint. However, in practice,
      some of these methods are not guaranteed to produce a unique RTCP CNAME.
      This memo updates guidelines for choosing RTCP CNAMEs, superceding those
      presented in Section 6.5.1 of <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Requirements Notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Deficiencies with Earlier Guidelines for Choosing an RTCP CNAME</h3>

<p>The recommendation in <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> is to generate
      an RTCP CNAME of the form "user@host" for multiuser systems, or "host"
      if the username is not available. The "host" part is specified to be the
      fully qualified domain name (FQDN) of the host from which the real-time
      data originates. While this guidance was appropriate at the time <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> was written, FQDNs are no longer necessarily
      unique, and can sometimes be common across several endpoints in large
      service provider networks. This document replaces the use of FQDN as an
      RTCP CNAME by alternative mechanisms.
</p>
<p>IPv4 addresses are also suggested for use in RTCP CNAMEs in <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>, where the "host" part of the RTCP CNAME is the
      numeric representation of the IPv4 address of the interface from which
      the RTP data originates. As noted in <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>, the
      use of private network address space <a class='info' href='#RFC1918'>[RFC1918]<span> (</span><span class='info'>Rekhter, Y., Moskowitz, R., Karrenberg, D., Groot, G., and E. Lear, &ldquo;Address Allocation for Private Internets,&rdquo; February&nbsp;1996.</span><span>)</span></a> can
      result in hosts having network addresses that are not globally unique.
      Additionally, this shared use of the same IPv4 address can also occur
      with public IPv4 addresses if multiple hosts are assigned the same
      public IPv4 address and connected to a Network Address Translation (NAT)
      device <a class='info' href='#RFC3022'>[RFC3022]<span> (</span><span class='info'>Srisuresh, P. and K. Egevang, &ldquo;Traditional IP Network Address Translator (Traditional NAT),&rdquo; January&nbsp;2001.</span><span>)</span></a>. When multiple hosts share the
      same IPv4 address, whether private or public, using the IPv4 address as
      the RTCP CNAME leads to RTCP CNAMEs that are not necessarily unique.
</p>
<p>It is also noted in <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> that if hosts with
      private addresses and no direct IP connectivity to the public Internet
      have their RTP packets forwarded to the public Internet through an
      RTP-level translator, they may end up having non-unique RTCP CNAMEs. The
      suggestion in <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> is that such applications
      provide a configuration option to allow the user to choose a unique RTCP
      CNAME, and puts the burden on the translator to translate RTCP CNAMEs
      from private addresses to public addresses if necessary to keep private
      addresses from being exposed. Experience has shown that this does not
      work well in practice.
</p>
<a name="sec_cname"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Choosing an RTCP CNAME</h3>

<p>It is difficult, and in some cases impossible, for a host to
      determine if there is a NAT between itself and its RTP peer.
      Furthermore, even some public IPv4 addresses can be shared by multiple
      hosts in the Internet. Using the numeric representation of the IPv4
      address as the "host" part of the RTCP CNAME is NOT RECOMMENDED.
</p>
<a name="sec_types"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Persistent RTCP CNAMEs vs. Per-Session RTCP CNAMEs</h3>

<p>The RTCP CNAME can either be persistent across different RTP
        sessions for an RTP endpoint, or it can be unique per session, meaning
        that an RTP endpoint chooses a different RTCP CNAME for each RTP
        session.
</p>
<p>An RTP endpoint that is emitting multiple related RTP streams that
        require synchronization at the other endpoint(s) MUST use the same
        RTCP CNAME for all streams that are to be synchronized. This requires
        a short-term persistent RTCP CNAME that is common across several RTP
        flows, and potentially across several related RTP sessions. A common
        example of such use occurs when lip-syncing audio and video streams in
        a multimedia session, where a single participant has to use the same
        RTCP CNAME for its audio RTP session and for its video RTP session.
        Another example might be to synchronize the layers of a layered audio
        codec, where the same RTCP CNAME has to be used for each layer.
</p>
<p>A longer-term persistent RTCP CNAME is sometimes useful to
        facilitate third-party monitoring. One such use might be to allow
        network management tools to correlate the ongoing quality of service
        for a participant across multiple RTP sessions for fault diagnosis,
        and to understand long-term network performance statistics. Other,
        less benign, uses can also be envisaged. An implementation that wishes
        to discourage this type of third-party monitoring can generate a
        unique RTCP CNAME for each RTP session, or group of related RTP
        sessions, that it joins. Such a per-session RTCP CNAME cannot be used
        for traffic analysis, and so provides some limited form of privacy
        (note that there are non-RTP means that can be used by a third-party
        to correlate RTP sessions, so the use of per-session RTCP CNAMEs will
        not prevent a determined traffic analyst).
</p>
<p>This memo defines several different ways by which an implementation
        can choose an RTCP CNAME. It is possible, and legitimate, for
        independent implementations to make different choices of RTCP CNAME
        when running on the same host. This can hinder third-party monitoring,
        unless some external means is provided to configure a persistent
        choice of RTCP CNAME for those implementations.
</p>
<p>Note that there is no backwards compatibility issue (with <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>-compatible implementations) introduced in
        this memo, since the RTCP CNAMEs are opaque strings to remote
        peers.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Requirements</h3>

<p>RTP endpoints will choose to generate RTCP CNAMEs that are
        persistent or per-session. An RTP endpoint that wishes to generate a
        persistent RTCP CNAME MUST use one of the following two methods:
</p>
<p></p>
<ul class="text">
<li>To produce a long-term persistent RTCP CNAME, an RTP endpoint
            MUST generate and store a Universally Unique IDentifier (UUID)
            <a class='info' href='#RFC4122'>[RFC4122]<span> (</span><span class='info'>Leach, P., Mealling, M., and R. Salz, &ldquo;A Universally Unique IDentifier (UUID) URN Namespace,&rdquo; July&nbsp;2005.</span><span>)</span></a> for use as the "host" part of its
            RTCP CNAME. The UUID MUST be version 1, 2 or 4 described in <a class='info' href='#RFC4122'>[RFC4122]<span> (</span><span class='info'>Leach, P., Mealling, M., and R. Salz, &ldquo;A Universally Unique IDentifier (UUID) URN Namespace,&rdquo; July&nbsp;2005.</span><span>)</span></a>, with the "urn:uuid:" stripped, resulting
            in a 36-octet printable string representation.
</li>
<li>To produce a short-term persistent RTCP CNAME, an RTP endpoint
            MUST use either (a) the numeric representation of the layer-2
            (MAC) address of the interface that is used to initiate the RTP
            session as the "host" part of its RTCP CNAME or (b) generate an
            identifier by following the procedure described in <a class='info' href='#identifier'>Section&nbsp;5<span> (</span><span class='info'>Procedure to Generate a Unique Identifier</span><span>)</span></a>. In either case, the procedure is
            performed once per initialization of the software. After obtaining
            a identifier by doing (a) or (b), the least significant 48 bits
            are converted to the standard colon-separated hexadecimal format
            <a class='info' href='#RFC5342'>[RFC5342]<span> (</span><span class='info'>Eastlake, D., &ldquo;IANA Considerations and IETF Protocol Usage for IEEE 802 Parameters,&rdquo; September&nbsp;2008.</span><span>)</span></a>, e.g., "00:23:32:af:9b:aa",
            resulting in a 17-octet printable string representation.
</li>
</ul>

<p>In the two cases above, the "user@" part of the RTCP CNAME MAY be
        omitted on single-user systems, and MAY be replaced by an opaque token
        on multi-user systems, to preserve privacy.
</p>
<p>An RTP endpoint that wishes to generate a per-session RTCP CNAME
        MUST use the following method:
</p>
<p></p>
<ul class="text">
<li>For every new RTP session, a new CNAME is generated following
            the procedure described in <a class='info' href='#identifier'>Section&nbsp;5<span> (</span><span class='info'>Procedure to Generate a Unique Identifier</span><span>)</span></a>.
            After performing that procedure, the least significant 96 bits are
            used to generate an identifier (to compromise between packet size
            and security) which is converted ASCII using Base64 encoding <a class='info' href='#RFC4648'>[RFC4648]<span> (</span><span class='info'>Josefsson, S., &ldquo;The Base16, Base32, and Base64 Data Encodings,&rdquo; October&nbsp;2006.</span><span>)</span></a>. This results in a 16-octet string
            representation. The RTCP CNAME cannot change over the life of an
            RTP session <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>, hence, only the
            initial SSRC value chosen by the endpoint is used. The "user@"
            part of the RTCP CNAME is omitted when generating per-session RTCP
            CNAMEs.
</li>
</ul>

<p>It is believed that obtaining uniqueness (with a high probability)
        is an important property that requires careful evaluation of the
        method. This document provides a number of methods, at least one of
        which would be suitable for all deployment scenarios. This document
        therefore does not provide for the implementor to define and select an
        alternative method.
</p>
<p>A future specification might define an alternative method for
        generating RTCP CNAMEs as long as the proposed method has appropriate
        uniqueness, and there is consistency between the methods used for
        multiple RTP sessions that are to be correlated. However, such a
        specification needs to be reviewed and approved before deployment.
</p>
<p>The mechanisms described in this document are to be used to
        generate RTCP CNAMEs, and they are not to be used for generating
        general-purpose unique identifiers.
</p>
<a name="identifier"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Procedure to Generate a Unique Identifier</h3>

<p>The algorithm described below is intended to be used for
      locally-generated unique identifier.
</p>
<p></p>
<ol class="text">
<li>Obtain the current time of day in 64-bit NTP format <a class='info' href='#RFC5905'>[RFC5905]<span> (</span><span class='info'>Mills, D., Martin, J., Burbank, J., and W. Kasch, &ldquo;Network Time Protocol Version 4: Protocol and Algorithms Specification,&rdquo; June&nbsp;2010.</span><span>)</span></a>.
</li>
<li>Obtain a modified EUI-64 identifier from the system running this
          algorithm <a class='info' href='#RFC4291'>[RFC4291]<span> (</span><span class='info'>Hinden, R. and S. Deering, &ldquo;IP Version 6 Addressing Architecture,&rdquo; February&nbsp;2006.</span><span>)</span></a>. If this does not exist,
          one can be created from a 48-bit MAC address as specified in <a class='info' href='#RFC4291'>[RFC4291]<span> (</span><span class='info'>Hinden, R. and S. Deering, &ldquo;IP Version 6 Addressing Architecture,&rdquo; February&nbsp;2006.</span><span>)</span></a>. If one cannot be obtained or created, a
          suitably unique identifier, local to the node, should be used (e.g.,
          system serial number).
</li>
<li>Concatenate the time of day with the system-specific identifier
          in order to create a key.
</li>
<li>If generating a per-session CNAME, also concatenate RTP
          endpoint's initial SSRC, the source and destination IP addresses,
          and ports to the key.
</li>
<li>Compute an SHA-256 digest on the key as specified in <a class='info' href='#RFC4634'>[RFC4634]<span> (</span><span class='info'>Eastlake, D. and T. Hansen, &ldquo;US Secure Hash Algorithms (SHA and HMAC-SHA),&rdquo; July&nbsp;2006.</span><span>)</span></a>, which outputs 256 bits.
</li>
</ol>

<a name="sec_security_considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>The security considerations of <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> apply
      to this memo.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Considerations on Uniqueness of RTCP CNAMEs</h3>

<p>The recommendations on RTCP CNAME generation in this document
        ensure that a set of cooperating participants in an RTP session will
        have unique RTCP CNAMEs with very high probability. However, neither
        <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> nor this document provides any way to
        ensure that participants will choose RTCP CNAMEs appropriately, and
        thus implementations MUST NOT rely on the uniqueness of CNAMEs for any
        essential security services. This is consistent with <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>, which does not require that RTCP CNAMEs are
        unique within a session, but instead says that condition SHOULD hold.
        As described in the Security Considerations section of <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>, because each participant in a session is
        free to choose its own RTCP CNAME, they can do so in such a way as to
        impersonate another participant. That is, participants are trusted to
        not impersonate each other. No recommendation for generating RTCP
        CNAMEs can prevent this impersonation, because an attacker can neglect
        the stipulation. Secure RTP (SRTP) <a class='info' href='#RFC3711'>[RFC3711]<span> (</span><span class='info'>Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;The Secure Real-time Transport Protocol (SRTP),&rdquo; March&nbsp;2004.</span><span>)</span></a>
        keeps unauthorized entities out of an RTP session, but it does not not
        aim to prevent impersonation attacks from unauthorized entities. 
</p>
<p>This document uses a hash function to ensure the uniqueness of RTCP
        CNAMEs. A cryptographic hash function is used because such functions
        provide the randomness properties that are needed. However, no
        security assumptions are made on the hash function. The hash function
        is not assumed to be collision-resistant or second-preimage resistant
        in an adversarial setting; as described above, an attacker attempting
        an impersonation attack could merely set the RTCP CNAME directly
        rather than attacking the hash function. Similarly, the hash function
        is not assumed to be a one-way function, or pseudorandom in a
        cryptographic sense.
</p>
<p>No confidentiality is provided on the data used as input to the
        RTCP CNAME generation algorithm. It might be possible for an attacker
        who observes an RTCP CNAME to determine the inputs that were used to
        generate that value.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Session Correlation Based on RTCP CNAMEs</h3>

<p>In some environments, notably telephony, a fixed RTCP CNAME value
        allows separate RTP sessions to be correlated and eliminates the
        obfuscation provided by IPv6 privacy addresses <a class='info' href='#RFC4941'>[RFC4941]<span> (</span><span class='info'>Narten, T., Draves, R., and S. Krishnan, &ldquo;Privacy Extensions for Stateless Address Autoconfiguration in IPv6,&rdquo; September&nbsp;2007.</span><span>)</span></a> or IPv4 NAPT <a class='info' href='#RFC3022'>[RFC3022]<span> (</span><span class='info'>Srisuresh, P. and K. Egevang, &ldquo;Traditional IP Network Address Translator (Traditional NAT),&rdquo; January&nbsp;2001.</span><span>)</span></a>.
        SRTP <a class='info' href='#RFC3711'>[RFC3711]<span> (</span><span class='info'>Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;The Secure Real-time Transport Protocol (SRTP),&rdquo; March&nbsp;2004.</span><span>)</span></a> can help prevent such correlation
        by encrypting Secure RTCP (SRTCP) but it should be noted that SRTP
        only mandates SRTCP integrity protection (not encryption). Thus, RTP
        applications used in such environments should consider encrypting
        their SRTCP or generate a per-session RTCP CNAME as discussed in <a class='info' href='#sec_types'>Section&nbsp;4.1<span> (</span><span class='info'>Persistent RTCP CNAMEs vs. Per-Session RTCP CNAMEs</span><span>)</span></a>.
</p>
<a name="sec_iana_considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>No IANA actions are required.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgments</h3>

<p>Thanks to Marc Petit-Huguenin who suggested to use UUIDs in
      generating RTCP CNAMEs. Also thanks to David McGrew for providing text
      for the Security Considerations section.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4122">[RFC4122]</a></td>
<td class="author-text"><a href="mailto:paulle@microsoft.com">Leach, P.</a>, <a href="mailto:michael@refactored-networks.com">Mealling, M.</a>, and <a href="mailto:rsalz@datapower.com">R. Salz</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4122">A Universally Unique IDentifier (UUID) URN Namespace</a>,&rdquo; RFC&nbsp;4122, July&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4122.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc4122.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc4122.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4634">[RFC4634]</a></td>
<td class="author-text">Eastlake, D. and T. Hansen, &ldquo;<a href="http://tools.ietf.org/html/rfc4634">US Secure Hash Algorithms (SHA and HMAC-SHA)</a>,&rdquo; RFC&nbsp;4634, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4634.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4648">[RFC4648]</a></td>
<td class="author-text">Josefsson, S., &ldquo;<a href="http://tools.ietf.org/html/rfc4648">The Base16, Base32, and Base64 Data Encodings</a>,&rdquo; RFC&nbsp;4648, October&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4648.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5905">[RFC5905]</a></td>
<td class="author-text">Mills, D., Martin, J., Burbank, J., and W. Kasch, &ldquo;<a href="http://tools.ietf.org/html/rfc5905">Network Time Protocol Version 4: Protocol and Algorithms Specification</a>,&rdquo; RFC&nbsp;5905, June&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5905.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4291">[RFC4291]</a></td>
<td class="author-text">Hinden, R. and S. Deering, &ldquo;<a href="http://tools.ietf.org/html/rfc4291">IP Version 6 Addressing Architecture</a>,&rdquo; RFC&nbsp;4291, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4291.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5342">[RFC5342]</a></td>
<td class="author-text">Eastlake, D., &ldquo;<a href="http://tools.ietf.org/html/rfc5342">IANA Considerations and IETF Protocol Usage for IEEE 802 Parameters</a>,&rdquo; BCP&nbsp;141, RFC&nbsp;5342, September&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5342.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1918">[RFC1918]</a></td>
<td class="author-text"><a href="mailto:yakov@cisco.com">Rekhter, Y.</a>, <a href="mailto:rgm3@is.chrysler.com">Moskowitz, R.</a>, <a href="mailto:Daniel.Karrenberg@ripe.net">Karrenberg, D.</a>, <a href="mailto:GeertJan.deGroot@ripe.net">Groot, G.</a>, and <a href="mailto:lear@sgi.com">E. Lear</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1918">Address Allocation for Private Internets</a>,&rdquo; BCP&nbsp;5, RFC&nbsp;1918, February&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1918.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3022">[RFC3022]</a></td>
<td class="author-text">Srisuresh, P. and K. Egevang, &ldquo;<a href="http://tools.ietf.org/html/rfc3022">Traditional IP Network Address Translator (Traditional NAT)</a>,&rdquo; RFC&nbsp;3022, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3022.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3711">[RFC3711]</a></td>
<td class="author-text">Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP)</a>,&rdquo; RFC&nbsp;3711, March&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3711.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4941">[RFC4941]</a></td>
<td class="author-text">Narten, T., Draves, R., and S. Krishnan, &ldquo;<a href="http://tools.ietf.org/html/rfc4941">Privacy Extensions for Stateless Address Autoconfiguration in IPv6</a>,&rdquo; RFC&nbsp;4941, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4941.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ali Begen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">181 Bay Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Toronto, ON  M5J 2T3</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CANADA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:abegen@cisco.com">abegen@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Colin Perkins</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Glasgow</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">School of Computing Science</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Glasgow,   G12 8QQ</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:csp@csperkins.org">csp@csperkins.org</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dan Wing</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 West Tasman Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dwing@cisco.com">dwing@cisco.com</a></td></tr>
</table>
</body></html>
