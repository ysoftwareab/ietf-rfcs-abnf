



Network Working Group                                           D. Dukes
Internet-Draft                                                 J. Arango
Intended status: Standards Track                           Cisco Systems
Expires: September 12, 2017                               March 11, 2017


                   LISP Colored Engineered Underlays
          draft-dukes-lisp-colored-engineered-underlays-00.txt

Abstract

   This document defines a LISP control plane extension that associates
   a locator record with a color that can be used to select an
   engineered underlay path to the corresponding RLOC.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 12, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





Dukes & Arango         Expires September 12, 2017               [Page 1]

Internet-Draft      LISP Colored Engineered Underlays         March 2017


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Requirements Notation . . . . . . . . . . . . . . . . . . . .   3
   3.  Color LCAF  . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     6.1.  Informative References  . . . . . . . . . . . . . . . . .   4
     6.2.  Normative References  . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   LISP [RFC6830] provides reachability to overlay addresses called
   Endpoint Indentifiers (EIDs) via one or more underlay addresses
   called Routing Locators (RLOCs).  For each destination RLOC, it may
   be desirable for the control plane to select one of potentially
   multiple underlay paths.

   For traffic traversing an Ingress Transit Router (ITR) to an Egress
   Transit Router (ETR), the ITR may be able to reach a particular ETR
   RLOC through multiple underlay paths available via one or more
   locally connected service providers.  Furthermore, the ITR may be
   able to select which of these paths per provider to use, for example
   different paths may have unique bandwidth and latency metrics making
   them more or less suitable for traffic destined to some EIDs.  When
   the ITR requests and obtains an EID mapping, it needs to know how to
   choose an underlay path for each remote RLOC.  If the ETR can provide
   a hint in terms of an opaque color attribute for each RLOC that the
   EID maps to, then the ITR would be able to select a policy matching
   that (color, RLOC) tuple to satisfy the needs of the application or
   endpoint associated with this particular EID.  The expected use of
   the (color,RLOC) tuple is to select a Segment Routing policy as
   defined in [I-D.filsfils-spring-segment-routing-policy].

   This draft specifies an LCAF type [RFC8060] that encodes the color
   for each RLOC in an EID mapping record.  The ITR MAY use the color to
   determine the underlay path to reach the EID via the corresponding
   RLOC.

   A locator record now has an RLOC and color, and both fields are part
   of the comparison to determine if two locator records are the same.

   The definition of how the color is chosen or configured at the ETR,
   or how policies are distributed and configured at the ITR is outside
   the scope of this document.




Dukes & Arango         Expires September 12, 2017               [Page 2]

Internet-Draft      LISP Colored Engineered Underlays         March 2017


2.  Requirements Notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

3.  Color LCAF

   When a color is stored in the LISP Mapping Database System for
   selection of an appropriate policy to reach an EID via a destination
   RLOC it MAY be encoded in a LISP Canonical Address.


   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      AFI = LCAF (16887)       |     Rsvd1     |     Flags     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type = TBD   |C|O|  Rsvd2    |            Length             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                             Color ...                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                           ... Color                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |             AFI               |            Address            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   CO Flags:   The CO Flags are as defined in
      [I-D.filsfils-spring-segment-routing-policy] and have the
      following impact on how the subsequent Color is interpreted. 00 is
      their default value.

      When 00, the traffic destined to EID is preferably steered onto a
      valid policy (N, C) where N is the IPv4/6 destination RLOC address
      and C is a color value, else it is steered on the shortest path to
      the next-hop N.

      When 01, the traffic destined to EID is preferably steered onto a
      valid policy (N, C) else onto a valid policy (null endpoint, C)
      else on the shortest path to the next-hop N.

      When 10, the traffic destined to EID is preferably steered onto a
      valid policy (N, C) else onto a valid policy (null endpoint, C)
      else on any valid SR-TE policy (any endpoint, C) else on the IGP
      path to the next-hop N

      The null endpoint is 0.0.0.0 for IPv4 and ::0 for IPv6 (all bits
      set to 0).




Dukes & Arango         Expires September 12, 2017               [Page 3]

Internet-Draft      LISP Colored Engineered Underlays         March 2017


   Color:   A 64-bit color value.

   AFI:   The address family of the locator.  Valid values are 1 for
      IPv4 and 2 for IPv6.

   Address:   The address of the locator.

   The Color Canonical Address Type can be used to encode RLOC
   addresses.

   Usage: This encoding can be used in RLOC records in Map-Requests,
   Map-Replies, Map-Registers, and Map-Notify messages.  When LISP-DDT
   [I-D.ietf-lisp-ddt] is used as the mapping system mechanism, extended
   EIDs are used in Map-Referral messages.

4.  IANA Considerations

   An assignment is requested from IANA "LISP LCAF Type" registry for
   the "Color LCAF", value is TBD.

5.  Security Considerations

   The Color LCAF may indirectly indicate association of the type of
   service offered by some subsets of endpoints to ITRs that was not
   previously disclosed to the ITR.

6.  References

6.1.  Informative References

   [I-D.filsfils-spring-segment-routing-policy]
              Filsfils, C., Sivabalan, S., Yoyer, D., Nanduri, M., Lin,
              S., bogdanov@google.com, b., Horneffer, M., Clad, F.,
              Steinberg, D., Decraene, B., and S. Litkowski, "Segment
              Routing Policy for Traffic Engineering", draft-filsfils-
              spring-segment-routing-policy-00 (work in progress),
              February 2017.

6.2.  Normative References

   [I-D.ietf-lisp-ddt]
              Fuller, V., Lewis, D., Ermagan, V., Jain, A., and A.
              Smirnov, "LISP Delegated Database Tree", draft-ietf-lisp-
              ddt-09 (work in progress), January 2017.







Dukes & Arango         Expires September 12, 2017               [Page 4]

Internet-Draft      LISP Colored Engineered Underlays         March 2017


   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC6830]  Farinacci, D., Fuller, V., Meyer, D., and D. Lewis, "The
              Locator/ID Separation Protocol (LISP)", RFC 6830,
              DOI 10.17487/RFC6830, January 2013,
              <http://www.rfc-editor.org/info/rfc6830>.

   [RFC8060]  Farinacci, D., Meyer, D., and J. Snijders, "LISP Canonical
              Address Format (LCAF)", RFC 8060, DOI 10.17487/RFC8060,
              February 2017, <http://www.rfc-editor.org/info/rfc8060>.

Authors' Addresses

   Darren Dukes
   Cisco Systems
   Canada

   Email: ddukes@cisco.com


   Jesus Arango
   Cisco Systems
   USA

   Email: jearango@cisco.com























Dukes & Arango         Expires September 12, 2017               [Page 5]
