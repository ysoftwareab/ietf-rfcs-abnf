



PIM Working Group                                            O. Komolafe
Internet-Draft                                           Arista Networks
Intended status: Informational                        September 29, 2020
Expires: April 2, 2021


                     IGMPv3 and MLDv2 Survey Report
              draft-komolafe-pim-igmp-mld-survey-report-00

Abstract

   The PIM WG intends to progress IGMPv3 and MLDv2 from Proposed
   Standards to Internet Standards.  The WG decided to conduct a survey
   of operators, vendors and implementors of these and related protocols
   to gather information about their implementation and deployment.
   This document presents the results of the survey and briefly
   summarizes the key findings.  The survey indicates that there is
   widespread deployment and usage of of IGMPv3 and MLDv2, with numerous
   independent implementations interoperating successfully.  No major
   issues with either protocol were identified and, similarly, no major
   unused features in the specifications were highlighted.  These
   findings suggest that IGMPv3 and MLDv2 are indeed ready for
   progression to Internet Standards.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 2, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Komolafe                  Expires April 2, 2021                 [Page 1]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Approach  . . . . . . . . . . . . . . . . . . . . . . . . . .   3
     2.1.  Methodology . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Responses for Vendors or Host Implementors  . . . . . . . . .   4
     3.1.  Protocols Implemented . . . . . . . . . . . . . . . . . .   4
     3.2.  Features Supported  . . . . . . . . . . . . . . . . . . .   4
     3.3.  Issues Identified . . . . . . . . . . . . . . . . . . . .   4
     3.4.  Suggestions . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  Responses for Network Operators . . . . . . . . . . . . . . .   5
     4.1.  Protocols Deployed  . . . . . . . . . . . . . . . . . . .   5
     4.2.  Features Enabled  . . . . . . . . . . . . . . . . . . . .   5
     4.3.  Interoperability Issues . . . . . . . . . . . . . . . . .   5
     4.4.  Fallback Mechanism  . . . . . . . . . . . . . . . . . . .   5
     4.5.  Strengths and Weaknesses of IGMPv3 and MLDv2  . . . . . .   5
   5.  Conclusions . . . . . . . . . . . . . . . . . . . . . . . . .   6
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   6
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   6
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   6
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   7
   Appendix A.  Questionnaire  . . . . . . . . . . . . . . . . . . .   7
     A.1.  Questionnaire for Vendors or Host Implementors  . . . . .   7
       A.1.1.  Implementation Status . . . . . . . . . . . . . . . .   7
       A.1.2.  Implementation Specifics  . . . . . . . . . . . . . .   7
       A.1.3.  Implementation Perspectives . . . . . . . . . . . . .   8
     A.2.  Questionnaire for Network Operators . . . . . . . . . . .   8
       A.2.1.  Deployment Status . . . . . . . . . . . . . . . . . .   8
       A.2.2.  Deployment Specifics  . . . . . . . . . . . . . . . .   9
       A.2.3.  Deployment Perspectives . . . . . . . . . . . . . . .  10
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   Internet Group Management Protocol Version 3 (IGMPv3) [RFC3376] and
   Multicast Listener Discovery Version 2 (MLDv2) for IPv6 [RFC3810] are
   currently Proposed Standards.  Given the fact that multiple
   independent implementations of these protocols exist and they have
   been successfully and widely used operationally, the PIM WG is keen
   to progress these protocols to Internet Standards.  As such, it is



Komolafe                  Expires April 2, 2021                 [Page 2]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


   critical to establish if there are features specified in [RFC3376]
   and [RFC3810] that have not been widely used and also to determine
   any interoperability issues that have arisen from using the
   protocols.

   Following approach taken for PIM-SM, documented in [RFC7063], the PIM
   WG has decided that conducting a comprehensive survey on
   implementations and deployment of IGMPv3 and MLDv2 will provide
   valuable information to facilitate their progression to Internet
   Standard.

   This document summarizes the findings of the survey.

2.  Approach

2.1.  Methodology

   The raw survey questions are shown in Appendix A.  In order to make
   the submission and processing of responses as convenient as possible,
   Tim Chown kindly formatted and posted the survey online using the
   JISC online surveys tool.  The PIM WG chairs subsequently announced
   the survey, publicizing the URL at which the survey could be
   completed.  In addition to announcing the survey on the relevant IETF
   WG mailing lists, effort was made to distribute the survey to other
   forums such as NANOG.

   The survey was targeted at:

      Network operators

      Router vendors

      Switch vendors

      Host implementors

   Once the deadline for the survey elapsed, Tim Chown collated the
   responses, anonymizing the data so the responses from a specific
   operator, vendor or implementor could not be identified.

   The questions targeted at vendors or host implementors were answered
   by 10 respondents.  The network operators questions were answered by
   14 respondents.  (These numbers are comparable with the number of
   responses to the PIM-SM survey [RFC7063].)







Komolafe                  Expires April 2, 2021                 [Page 3]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


3.  Responses for Vendors or Host Implementors

3.1.  Protocols Implemented

   80% or more of the respondents had implemented each of IGMPv1,
   IGMPv2, IGMPv3, MLDv1 and MLDv2, with IGMPv3 being the only protocol
   that had been implemented by all the respondents.  In contrast,
   Lightweight IGMPv3 and Lightweight MLDv2 had been implemented by only
   20% of the respondents.

3.2.  Features Supported

   All the respondents supported source filtering with include list.
   Snooping querier was also a popular feature, with 80% of respondents
   supporting it.  Source filtering with exclude list, snooping proxy,
   snooping filtering, L2 report flooding, host proxy were moderately
   popular, with 40%-70% of respondents supporting each of these
   features.  Unicast queries/reports were supported by only 20% of the
   respondents.

3.3.  Issues Identified

   No ambiguities or inconsistencies in [RFC3376] and [RFC3810] that
   made the implementation challenging were identified by any
   respondent.

3.4.  Suggestions

   A number of respondents made suggestions to the PIM WG regarding
   progressing IGMPv3 and MLDv2 to full standards:

   o  Add source discovery mechanism to SSM in addition to existing
      application-based source discovery

   o  Improve scalability of query/response messages

   o  Deprecate older versions and streamline IGMPv3

   o  Allow reports to be sent without a querier

   o  Remove source filtering with exclude list as it is not widely used
      and makes state machine unnecessarily complicated

   Each of these points was raised by a different respondent, apart from
   the last point which was raised by two separate respondents.






Komolafe                  Expires April 2, 2021                 [Page 4]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


4.  Responses for Network Operators

4.1.  Protocols Deployed

   IGMPv2 was the most widely deployed protocol, with 86% of respondents
   indicating it is running in their network.  Next was IGMPv3 with 79%
   of respondents indicating it is deployed.  However, between only 20%
   and 36% of respondents indicated they had deployed IGMPv1, MLDv1 and
   MLDv2.  Lightweight IGMPv3 and Lightweight MLDv2 were undeployed.

4.2.  Features Enabled

   Between 20% and 30% of respondents indicated that had enabled Source
   filtering with include list, source filtering with exclude list,
   snooping querier, snooping filtering or unicast queries/reports.
   Snooping proxy and L2 report flooding were enabled by 7% of
   respondents.  No respondent was using host proxy.

4.3.  Interoperability Issues

   Half the respondents indicated they were using equipment with multi-
   vendor implementations in their network.  No interoperability issues
   were identified.

4.4.  Fallback Mechanism

   36% of respondents indicated there are dependent on the fallback
   mechanisms between the different protocol versions.  7% of
   respondents have experienced issues related to this fallback
   mechanism.

4.5.  Strengths and Weaknesses of IGMPv3 and MLDv2

   A respondent indicated that a significant strength of IGMPv3 was the
   simplicity introduced by using SSM, avoiding the complexities
   associated with ASM.  The weaknesses associated with IGMPv3 which
   were identified were:

   o  No CPE implementations

   o  Automatic fallback makes deployments challenging

   o  ASM provides better source filtering (by potentially restricting
      the acceptance of register messages at the RP) whereas SSM allows
      only data plane filtering using multicast boundary






Komolafe                  Expires April 2, 2021                 [Page 5]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


5.  Conclusions

   There were a total of 24 respondents to the survey which asked
   vendors/implementors and network operators questions about IGMPv1,
   IGMPv2, IGMPv3, Lightweight IGMPv3, MLDv1, MLDv2 and Lightweight
   MLDv2.  A reasonable number of responses were gathered to the survey,
   allowing some interesting observations to be made.  Firstly, and
   perhaps unsurprisingly, operators use a lower number of protocols and
   protocol features than have been implemented.  Furthermore, there is
   a relatively lower deployment of the different MLD versions,
   suggesting that IPv6 multicast is less widely used than IPv4
   multicast.  No major flaws, inconsistencies or ambiguity in the
   IGMPv3 [RFC3376] and MLDv2 [RFC3810] specifications were identified.
   However, a number of issues were raised about the usage of these
   protocols, notably concerns about the automatic fallback from IGMPv3
   to IGMPv2 being sometimes problematic and the loss of certain useful
   features offered by the ASM control plane with the transition to SSM.

   These findings suggest that IGMPv3 and MLDv2 are indeed ready for
   progression to Internet Standards.

6.  Acknowledgements

   The authors are grateful to Tim Chown for posting the survey online,
   and for collating and anonymizing the responses.

7.  References

7.1.  Normative References

   [RFC1112]  Deering, S., "Host Extensions for IP Multicasting",
              RFC 1112, August 1989.

   [RFC2236]  Fenner, W., "Internet Group Management Protocol, Version
              2", RFC 2236, November 1997.

   [RFC3376]  Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A.
              Thyagarajan, "Internet Group Management Protocol, Version
              3", RFC 3376, October 2002.

   [RFC2710]  Deering, S., Fenner, W., and B. Haberman, "Multicast
              Listener Discovery (MLD) for IPv6", RFC 2710, October
              1999.

   [RFC3810]  Vida, R. and L. Costa, "Multicast Listener Discovery
              Version 2 (MLDv2) for IPv6", RFC 3810, June 2004.





Komolafe                  Expires April 2, 2021                 [Page 6]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


   [RFC5790]  Liu, H., Cao, W., and H. Asaeda, "Lightweight Internet
              Group Management Protocol Version 3 (IGMPv3) and Multicast
              Listener Discovery Version 2 (MLDv2) Protocols", RFC 5790,
              February 2010.

7.2.  Informative References

   [RFC7063]  Zheng, L., Zhang, Z., and R. Parekh, "Survey Report on
              Protocol Independent Multicast - Sparse Mode (PIM-SM)
              Implementations and Deployments", RFC 7063, December 2013.

Appendix A.  Questionnaire

A.1.  Questionnaire for Vendors or Host Implementors

   Name:

   Affiliation/Organization:

   Contact Email:

   Do you wish to complete the survey anonymously?: Y/N

A.1.1.  Implementation Status

   Which of the following have you implemented?

   1.  IGMPv1 [RFC1112]?

   2.  IGMPv2 [RFC2236]?

   3.  IGMPv3 [RFC3376]?

   4.  Lightweight IGMPv3 [RFC5790]?

   5.  MLDv1 [RFC2710]?

   6.  MLDv2 [RFC3810]?

   7.  Lightweight MLDv2 [RFC5790]?

A.1.2.  Implementation Specifics

   1.  Which IGMPv3 and MLDv2 features have you implemented?

       A.  Source filtering with include list?

       B.  Source filtering with exclude list?



Komolafe                  Expires April 2, 2021                 [Page 7]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


       C.  Snooping proxy?

       D.  Snooping querier?

       E.  Snooping filtering?

       F.  L2 Report flooding?

       G.  Host proxy?

       H.  Unicast queries/reports?

   2.  Have you carried out IGMPv3 or MLDv2 interoperability tests with
       other implementations?

       A.  What issues, if any, arose during these tests?

       B.  How could [RFC3376] and [RFC3810] have helped minimize these
           issues?

A.1.3.  Implementation Perspectives

   1.  Which ambiguities or inconsistencies in RFC 3376 or RFC 3810 made
       the implementation challenging?

   2.  What suggestions would you make to the PIM WG as it seeks to
       progress IGMPv3 and MLDv2 to Internet Standard?

A.2.  Questionnaire for Network Operators

   Name:

   Affiliation/Organization:

   Contact Email:

   Do you wish to complete the survey anonymously?: Y/N:

A.2.1.  Deployment Status

   Which of the following have you deployed in your network?

   1.  IGMPv1 [RFC1112]?

   2.  IGMPv2 [RFC2236]?

   3.  IGMPv3 [RFC3376]?




Komolafe                  Expires April 2, 2021                 [Page 8]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


   4.  Lightweight IGMPv3 [RFC5790]?

   5.  MLDv1 [RFC2710]?

   6.  MLDv2 [RFC3810]?

   7.  Lightweight MLDv2 [RFC5790]?

A.2.2.  Deployment Specifics

   1.  Which IGMPv3 and MLDv2 features do you use?

       A.  Source filtering with include list?

       B.  Source filtering with exclude list?

       C.  Snooping proxy?

       D.  Snooping querier?

       E.  Snooping filtering?

       F.  L2 Report flooding?

       G.  Host proxy?

       H.  Unicast queries/reports?

   2.  Are you using equipment with multi-vendor implementations in your
       IGMPv3/MLDv2 deployment?

       A.  What inter-operability issues, if any, have you experienced?

       B.  How could [RFC3376] and [RFC3810] have helped minimize these
           issues?

   3.  Are you using different IGMP versions or different MLD versions
       in your network?

       A.  Are you dependent on the fallback mechanism between the
           different versions?

       B.  Have you experienced any issues related to the fallback
           mechanism between the different versions?

       C.  How could [RFC3376] and [RFC3810] have helped minimize these
           issues?




Komolafe                  Expires April 2, 2021                 [Page 9]

Internet-Draft       IGMPv3 and MLDv2 Survey Report       September 2020


A.2.3.  Deployment Perspectives

   1.  Based on your operational experience, What have you found to be
       the strengths of IGMPv3 or MLDv2?

   2.  What have you found to be the weaknesses of IGMPv3 or MLDv2?

   3.  What suggestions would you make to the PIM WG as it seeks to
       progress IGMPv3 and MLDv2 to Internet Standard?

Author's Address

   Olufemi Komolafe
   Arista Networks
   UK

   Email: femi@arista.com


































Komolafe                  Expires April 2, 2021                [Page 10]
