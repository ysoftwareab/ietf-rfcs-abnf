<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Virtual Router Redundancy Protocol (VRRP) Version 3 for IPv4 and IPv6</title>
<meta content="Acee Lindem" name="author">
<meta content="Aditya Dogra" name="author">
<meta content="Stephen Nadas" name="author">
<meta content='
       
        This document defines the Virtual Router Redundancy Protocol (VRRP) for
        IPv4 and IPv6.  It is version three (3) of the protocol, and it is
        based on VRRP (version 2) for IPv4 that is defined in RFC 3768 and in
        "Virtual Router Redundancy Protocol for IPv6".  VRRP specifies an
        election protocol that dynamically assigns responsibility for a
        virtual router to one of the VRRP routers on a LAN.  The VRRP router
        controlling the IPv4 or IPv6 address(es) associated with a virtual
        router is called the Active router, and it forwards packets sent to these
        IPv4 or IPv6 addresses.  VRRP Active routers are configured with
        virtual IPv4 or IPv6 addresses, and VRRP Backup routers infer the
        address family of the virtual addresses being carried based on the
        transport protocol.  Within a VRRP router, the virtual routers in
        each of the IPv4 and IPv6 address families are a domain unto
        themselves and do not overlap.  The election process provides dynamic
        failover in the forwarding responsibility should the Active become
        unavailable.  For IPv4, the advantage gained from using VRRP is a
        higher-availability default path without requiring configuration of
        dynamic routing or router discovery protocols on every end-host.  For
        IPv6, the advantage gained from using VRRP for IPv6 is a quicker
        switchover to Backup routers than can be obtained with standard IPv6
        Neighbor Discovery mechanisms.
       
       
 The VRRP terminology has been updated be in line with inclusive language
        used in the industry. This document obsoletes VRRP Version 3
         .
       
    ' name="description">
<meta content="xml2rfc 3.12.3" name="generator">
<meta content="RFC" name="keyword">
<meta content="VRRP" name="keyword">
<meta content="draft-addogra-rtgwg-vrrp-rfc5798bis-01" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.3
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.8.0
    MarkupSafe 2.0.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-addogra-rtgwg-vrrp-rfc5798bis-g0f6sag8.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">VRRP Version 3</td>
<td class="right">March 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Lindem, et al.</td>
<td class="center">Expires 8 September 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-addogra-rtgwg-vrrp-rfc5798bis.xml</dd>
<dt class="label-obsoletes">Obsoletes:</dt>
<dd class="obsoletes">
<a href="https://www.rfc-editor.org/rfc/rfc5798" class="eref">5798</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-03-07" class="published">7 March 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-09-08">8 September 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">A. Lindem</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">A. Dogra</div>
<div class="org">Cisco Systems</div>
</div>
<div class="author">
      <div class="author-name">S. Nadas</div>
<div class="org">Boston University</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Virtual Router Redundancy Protocol (VRRP) Version 3 for IPv4 and IPv6</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
        This document defines the Virtual Router Redundancy Protocol (VRRP) for
        IPv4 and IPv6.  It is version three (3) of the protocol, and it is
        based on VRRP (version 2) for IPv4 that is defined in RFC 3768 and in
        "Virtual Router Redundancy Protocol for IPv6".  VRRP specifies an
        election protocol that dynamically assigns responsibility for a
        virtual router to one of the VRRP routers on a LAN.  The VRRP router
        controlling the IPv4 or IPv6 address(es) associated with a virtual
        router is called the Active router, and it forwards packets sent to these
        IPv4 or IPv6 addresses.  VRRP Active routers are configured with
        virtual IPv4 or IPv6 addresses, and VRRP Backup routers infer the
        address family of the virtual addresses being carried based on the
        transport protocol.  Within a VRRP router, the virtual routers in
        each of the IPv4 and IPv6 address families are a domain unto
        themselves and do not overlap.  The election process provides dynamic
        failover in the forwarding responsibility should the Active become
        unavailable.  For IPv4, the advantage gained from using VRRP is a
        higher-availability default path without requiring configuration of
        dynamic routing or router discovery protocols on every end-host.  For
        IPv6, the advantage gained from using VRRP for IPv6 is a quicker
        switchover to Backup routers than can be obtained with standard IPv6
        Neighbor Discovery mechanisms.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
 The VRRP terminology has been updated be in line with inclusive language
        used in the industry. This document obsoletes VRRP Version 3
        <span>[<a href="#RFC5798" class="xref">RFC5798</a>]</span>.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo-8">
<a href="#name-status-of-this-memo-8" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 8 September 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice-8">
<a href="#name-copyright-notice-8" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents-8">
<a href="#name-table-of-contents-8" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction-8" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-a-note-on-terminology" class="xref">A Note on Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-ipv4" class="xref">IPv4</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-ipv6" class="xref">IPv6</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-requirements-language-4" class="xref">Requirements Language</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-scope" class="xref">Scope</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-definitions" class="xref">Definitions</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-required-features" class="xref">Required Features</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-ipvx-address-backup" class="xref">IPvX Address Backup</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-preferred-path-indication" class="xref">Preferred Path Indication</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-minimization-of-unnecessary" class="xref">Minimization of Unnecessary Service Disruptions</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.4">
                <p id="section-toc.1-1.8.2.4.1"><a href="#section-8.4" class="xref">8.4</a>.  <a href="#name-efficient-operation-over-ex" class="xref">Efficient Operation over Extended LANs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.5">
                <p id="section-toc.1-1.8.2.5.1"><a href="#section-8.5" class="xref">8.5</a>.  <a href="#name-sub-second-operation-for-ip" class="xref">Sub-Second Operation for IPv4 and IPv6</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-vrrp-overview" class="xref">VRRP Overview</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-sample-configurations" class="xref">Sample Configurations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-sample-configuration-1" class="xref">Sample Configuration 1</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-sample-configuration-2" class="xref">Sample Configuration 2</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-protocol" class="xref">Protocol</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-vrrp-packet-format" class="xref">VRRP Packet Format</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1">
                    <p id="section-toc.1-1.11.2.1.2.1.1"><a href="#section-11.1.1" class="xref">11.1.1</a>.  <a href="#name-ipv4-field-descriptions" class="xref">IPv4 Field Descriptions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1.2.1">
                        <p id="section-toc.1-1.11.2.1.2.1.2.1.1"><a href="#section-11.1.1.1" class="xref">11.1.1.1</a>.  <a href="#name-source-address" class="xref">Source Address</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1.2.2">
                        <p id="section-toc.1-1.11.2.1.2.1.2.2.1"><a href="#section-11.1.1.2" class="xref">11.1.1.2</a>.  <a href="#name-destination-address" class="xref">Destination Address</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1.2.3">
                        <p id="section-toc.1-1.11.2.1.2.1.2.3.1"><a href="#section-11.1.1.3" class="xref">11.1.1.3</a>.  <a href="#name-ttl" class="xref">TTL</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.1.2.4">
                        <p id="section-toc.1-1.11.2.1.2.1.2.4.1"><a href="#section-11.1.1.4" class="xref">11.1.1.4</a>.  <a href="#name-protocol-2" class="xref">Protocol</a></p>
</li>
                    </ul>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2">
                    <p id="section-toc.1-1.11.2.1.2.2.1"><a href="#section-11.1.2" class="xref">11.1.2</a>.  <a href="#name-ipv6-field-descriptions" class="xref">IPv6 Field Descriptions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2.2.1">
                        <p id="section-toc.1-1.11.2.1.2.2.2.1.1"><a href="#section-11.1.2.1" class="xref">11.1.2.1</a>.  <a href="#name-source-address-2" class="xref">Source Address</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2.2.2">
                        <p id="section-toc.1-1.11.2.1.2.2.2.2.1"><a href="#section-11.1.2.2" class="xref">11.1.2.2</a>.  <a href="#name-destination-address-2" class="xref">Destination Address</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2.2.3">
                        <p id="section-toc.1-1.11.2.1.2.2.2.3.1"><a href="#section-11.1.2.3" class="xref">11.1.2.3</a>.  <a href="#name-hop-limit" class="xref">Hop Limit</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1.2.2.2.4">
                        <p id="section-toc.1-1.11.2.1.2.2.2.4.1"><a href="#section-11.1.2.4" class="xref">11.1.2.4</a>.  <a href="#name-next-header" class="xref">Next Header</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-vrrp-field-descriptions" class="xref">VRRP Field Descriptions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.1">
                    <p id="section-toc.1-1.11.2.2.2.1.1"><a href="#section-11.2.1" class="xref">11.2.1</a>.  <a href="#name-version" class="xref">Version</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.2">
                    <p id="section-toc.1-1.11.2.2.2.2.1"><a href="#section-11.2.2" class="xref">11.2.2</a>.  <a href="#name-type" class="xref">Type</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.3">
                    <p id="section-toc.1-1.11.2.2.2.3.1"><a href="#section-11.2.3" class="xref">11.2.3</a>.  <a href="#name-virtual-rtr-id-vrid" class="xref">Virtual Rtr ID (VRID)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.4">
                    <p id="section-toc.1-1.11.2.2.2.4.1"><a href="#section-11.2.4" class="xref">11.2.4</a>.  <a href="#name-priority" class="xref">Priority</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.5">
                    <p id="section-toc.1-1.11.2.2.2.5.1"><a href="#section-11.2.5" class="xref">11.2.5</a>.  <a href="#name-count-ipvx-addr" class="xref">Count IPvX Addr</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.6">
                    <p id="section-toc.1-1.11.2.2.2.6.1"><a href="#section-11.2.6" class="xref">11.2.6</a>.  <a href="#name-rsvd" class="xref">Rsvd</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.7">
                    <p id="section-toc.1-1.11.2.2.2.7.1"><a href="#section-11.2.7" class="xref">11.2.7</a>.  <a href="#name-maximum-advertisement-inter" class="xref">Maximum Advertisement Interval (Max Adver Int)</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.8">
                    <p id="section-toc.1-1.11.2.2.2.8.1"><a href="#section-11.2.8" class="xref">11.2.8</a>.  <a href="#name-checksum" class="xref">Checksum</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2.2.9">
                    <p id="section-toc.1-1.11.2.2.2.9.1"><a href="#section-11.2.9" class="xref">11.2.9</a>.  <a href="#name-ipvx-addresses" class="xref">IPvX Address(es)</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-protocol-state-machine" class="xref">Protocol State Machine</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-parameters-per-virtual-rout" class="xref">Parameters Per Virtual Router</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-timers" class="xref">Timers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#section-12.3" class="xref">12.3</a>.  <a href="#name-state-transition-diagram" class="xref">State Transition Diagram</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1"><a href="#section-12.4" class="xref">12.4</a>.  <a href="#name-state-descriptions" class="xref">State Descriptions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.4.2.1">
                    <p id="section-toc.1-1.12.2.4.2.1.1"><a href="#section-12.4.1" class="xref">12.4.1</a>.  <a href="#name-initialize" class="xref">Initialize</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.5">
                <p id="section-toc.1-1.12.2.5.1"><a href="#section-12.5" class="xref">12.5</a>.  <a href="#name-backup" class="xref">Backup</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.6">
                <p id="section-toc.1-1.12.2.6.1"><a href="#section-12.6" class="xref">12.6</a>.  <a href="#name-active" class="xref">Active</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.7">
                <p id="section-toc.1-1.12.2.7.1"><a href="#section-12.7" class="xref">12.7</a>.  <a href="#name-virtual-router-mac-address" class="xref">Virtual Router MAC Address</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.8">
                <p id="section-toc.1-1.12.2.8.1"><a href="#section-12.8" class="xref">12.8</a>.  <a href="#name-ipv6-interface-identifiers" class="xref">IPv6 Interface Identifiers</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-operational-issues" class="xref">Operational Issues</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="xref">13.1</a>.  <a href="#name-ipv4-2" class="xref">IPv4</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1.2.1">
                    <p id="section-toc.1-1.13.2.1.2.1.1"><a href="#section-13.1.1" class="xref">13.1.1</a>.  <a href="#name-icmp-redirects" class="xref">ICMP Redirects</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1.2.2">
                    <p id="section-toc.1-1.13.2.1.2.2.1"><a href="#section-13.1.2" class="xref">13.1.2</a>.  <a href="#name-host-arp-requests" class="xref">Host ARP Requests</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1.2.3">
                    <p id="section-toc.1-1.13.2.1.2.3.1"><a href="#section-13.1.3" class="xref">13.1.3</a>.  <a href="#name-proxy-arp" class="xref">Proxy ARP</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="xref">13.2</a>.  <a href="#name-ipv6-2" class="xref">IPv6</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.1">
                    <p id="section-toc.1-1.13.2.2.2.1.1"><a href="#section-13.2.1" class="xref">13.2.1</a>.  <a href="#name-icmpv6-redirects" class="xref">ICMPv6 Redirects</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.2">
                    <p id="section-toc.1-1.13.2.2.2.2.1"><a href="#section-13.2.2" class="xref">13.2.2</a>.  <a href="#name-nd-neighbor-solicitation" class="xref">ND Neighbor Solicitation</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2.2.3">
                    <p id="section-toc.1-1.13.2.2.2.3.1"><a href="#section-13.2.3" class="xref">13.2.3</a>.  <a href="#name-router-advertisements" class="xref">Router Advertisements</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.3">
                <p id="section-toc.1-1.13.2.3.1"><a href="#section-13.3" class="xref">13.3</a>.  <a href="#name-ipvx" class="xref">IPvX</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.3.2.1">
                    <p id="section-toc.1-1.13.2.3.2.1.1"><a href="#section-13.3.1" class="xref">13.3.1</a>.  <a href="#name-potential-forwarding-loop" class="xref">Potential Forwarding Loop</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.3.2.2">
                    <p id="section-toc.1-1.13.2.3.2.2.1"><a href="#section-13.3.2" class="xref">13.3.2</a>.  <a href="#name-recommendations-regarding-s" class="xref">Recommendations Regarding Setting Priority Values</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4">
                <p id="section-toc.1-1.13.2.4.1"><a href="#section-13.4" class="xref">13.4</a>.  <a href="#name-vrrpv3-and-vrrpv2-interoper" class="xref">VRRPv3 and VRRPv2 Interoperation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4.2.1">
                    <p id="section-toc.1-1.13.2.4.2.1.1"><a href="#section-13.4.1" class="xref">13.4.1</a>.  <a href="#name-assumptions" class="xref">Assumptions</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4.2.2">
                    <p id="section-toc.1-1.13.2.4.2.2.1"><a href="#section-13.4.2" class="xref">13.4.2</a>.  <a href="#name-vrrpv3-support-of-vrrpv2" class="xref">VRRPv3 Support of VRRPv2</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4.2.3">
                    <p id="section-toc.1-1.13.2.4.2.3.1"><a href="#section-13.4.3" class="xref">13.4.3</a>.  <a href="#name-vrrpv3-support-of-vrrpv2-co" class="xref">VRRPv3 Support of VRRPv2 Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4.2.3.2.1">
                        <p id="section-toc.1-1.13.2.4.2.3.2.1.1"><a href="#section-13.4.3.1" class="xref">13.4.3.1</a>.  <a href="#name-slow-high-priority-actives" class="xref">Slow, High-Priority Actives</a></p>
</li>
                      <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.4.2.3.2.2">
                        <p id="section-toc.1-1.13.2.4.2.3.2.2.1"><a href="#section-13.4.3.2" class="xref">13.4.3.2</a>.  <a href="#name-overwhelming-vrrpv2-backups" class="xref">Overwhelming VRRPv2 Backups</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-contributors-and-acknowledg" class="xref">Contributors and Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-iana-considerations-8" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="xref">16</a>. <a href="#name-security-considerations-8" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-17" class="xref">17</a>. <a href="#name-normative-references-7" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#section-18" class="xref">18</a>. <a href="#name-informative-references-8" class="xref">Informative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19">
            <p id="section-toc.1-1.19.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-operation-over-fddi-token-r" class="xref">Operation over FDDI, Token Ring, and ATM LANE</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19.2.1">
                <p id="section-toc.1-1.19.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-operation-over-fddi" class="xref">Operation over FDDI</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19.2.2">
                <p id="section-toc.1-1.19.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-operation-over-token-ring" class="xref">Operation over Token Ring</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.19.2.3">
                <p id="section-toc.1-1.19.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-operation-over-atm-lane" class="xref">Operation over ATM LANE</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.20">
            <p id="section-toc.1-1.20.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses-8" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="sect-1">
<section id="section-1">
      <h2 id="name-introduction-8">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction-8" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
        This document defines the Virtual Router Redundancy Protocol (VRRP) for
        IPv4 and IPv6.  It is version three (3) of the protocol.  It is based
        on VRRP (version 2) for IPv4 that is defined in [RFC3768] and in
        <span>[<a href="#VRRP-IPv6" class="xref">VRRP-IPv6</a>]</span>.  VRRP specifies an election protocol that dynamically
        assigns responsibility for a virtual router to one of the VRRP
        routers on a LAN.  The VRRP router controlling the IPv4 or IPv6
        address(es) associated with a virtual router is called the Active router,
        and it forwards packets sent to these IPv4 or IPv6 addresses.  VRRP
        Active routers are configured with virtual IPv4 or IPv6 addresses,
        and VRRP Backup routers infer the address family of the virtual
        addresses being carried based on the transport protocol.  Within a
        VRRP router, the virtual routers in each of the IPv4 and IPv6 address
        families are a domain unto themselves and do not overlap.  The
        election process provides dynamic failover in the forwarding
        responsibility should the Active become unavailable.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
        VRRP provides a function similar to the proprietary protocols "Hot Standby Router Protocol (HSRP)"
        <span>[<a href="#RFC2281" class="xref">RFC2281</a>]</span> and "IP Standby Protocol" <span>[<a href="#IPSTB" class="xref">IPSTB</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-1.1">
<section id="section-2">
      <h2 id="name-a-note-on-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-a-note-on-terminology" class="section-name selfRef">A Note on Terminology</a>
      </h2>
<p id="section-2-1">
 This document discusses both IPv4 and IPv6 operations, and with
        respect to the VRRP protocol, many of the descriptions and procedures
        are common.  In this document, it would be less verbose to be able to
        refer to "IP" to mean either "IPv4 or IPv6".  However, historically,
        the term "IP" usually refers to IPv4.  For this reason, in this
        specification, the term "IPvX" (where X is 4 or 6) is introduced to
        mean either "IPv4" or "IPv6".  In this text, where the IP version
        matters, the appropriate term is used and the use of the term "IP" is
        avoided.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
        The terms "Active" and "Backup" are concise terms for "Active VRRP Router"
        and "Backup VRRP Router".<a href="#section-2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-1.2">
<section id="section-3">
      <h2 id="name-ipv4">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-ipv4" class="section-name selfRef">IPv4</a>
      </h2>
<p id="section-3-1">
 There are a number of methods that an IPv4 end-host can use to
        determine its first-hop router towards a particular IPv4 destination.
        These include running (or snooping) a dynamic routing protocol such
        as Routing Information Protocol <span>[<a href="#RFC2453" class="xref">RFC2453</a>]</span> or OSPF version 2
 <span>[<a href="#RFC2328" class="xref">RFC2328</a>]</span>, running an ICMP router discovery client <span>[<a href="#RFC1256" class="xref">RFC1256</a>]</span>, or
      using a statically configured default route.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">
 Running a dynamic routing protocol on every end-host may be
        infeasible for a number of reasons, including administrative
        overhead, processing overhead, security issues, or lack of a protocol
        implementation for some platforms.  Neighbor or router discovery
        protocols may require active participation by all hosts on a network,
        leading to large timer values to reduce protocol overhead in the face
        of large numbers of hosts.  This can result in a significant delay in
        the detection of a lost (i.e., dead) neighbor; such a delay may
      introduce unacceptably long "black hole" periods.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">
 The use of a statically configured default route is quite popular; it
        minimizes configuration and processing overhead on the end-host and
        is supported by virtually every IPv4 implementation.  This mode of
        operation is likely to persist as dynamic host configuration
        protocols <span>[<a href="#RFC2131" class="xref">RFC2131</a>]</span> are deployed, which typically provide
        configuration for an end-host IPv4 address and default gateway.
        However, this creates a single point of failure.  Loss of the default
        router results in a catastrophic event, isolating all end-hosts that
      are unable to detect any alternate path that may be available.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">
 The Virtual Router Redundancy Protocol (VRRP) is designed to
        eliminate the single point of failure inherent in the static default-
        routed environment.  VRRP specifies an election protocol that
        dynamically assigns responsibility for a virtual router to one of the
        VRRP routers on a LAN.  The VRRP router controlling the IPv4
        address(es) associated with a virtual router is called the Active and
        forwards packets sent to these IPv4 addresses.  The election process
        provides dynamic failover in the forwarding responsibility should the
        Active become unavailable.  Any of the virtual router's IPv4
      addresses on a LAN can then be used as the default first hop<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
 router by end-hosts.  The advantage gained from using VRRP is a
        higher availability default path without requiring configuration of
      dynamic routing or router discovery protocols on every end-host.<a href="#section-3-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-1.3">
<section id="section-4">
      <h2 id="name-ipv6">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-ipv6" class="section-name selfRef">IPv6</a>
      </h2>
<p id="section-4-1">
 IPv6 hosts on a LAN will usually learn about one or more default
        routers by receiving Router Advertisements sent using the IPv6
        Neighbor Discovery (ND) protocol <span>[<a href="#RFC4861" class="xref">RFC4861</a>]</span>.  The Router
        Advertisements are multicast periodically at a rate that the hosts
        will learn about the default routers in a few minutes.  They are not
        sent frequently enough to rely on the absence of the Router
      Advertisement to detect router failures.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
 Neighbor Discovery (ND) includes a mechanism called Neighbor
        Unreachability Detection to detect the failure of a neighbor node
        (router or host) or the forwarding path to a neighbor.  This is done
        by sending unicast ND Neighbor Solicitation messages to the neighbor
        node.  To reduce the overhead of sending Neighbor Solicitations, they
        are only sent to neighbors to which the node is actively sending
        traffic and only after there has been no positive indication that the
        router is up for a period of time.  Using the default parameters in
        ND, it will take a host about 38 seconds to learn that a router is
        unreachable before it will switch to another default router.  This
        delay would be very noticeable to users and cause some transport
      protocol implementations to time out.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">
 While the ND unreachability detection could be made quicker by
        changing the parameters to be more aggressive (note that the current
        lower limit for this is 5 seconds), this would have the downside of
        significantly increasing the overhead of ND traffic, especially when
        there are many hosts all trying to determine the reachability of one
      of more routers.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">
 The Virtual Router Redundancy Protocol for IPv6 provides a much
        faster switchover to an alternate default router than can be obtained
        using standard ND procedures.  Using VRRP, a Backup router can take
        over for a failed default router in around three seconds (using VRRP
        default parameters).  This is done without any interaction with the
      hosts and a minimum amount of VRRP traffic.<a href="#section-4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-1.4">
<section id="section-5">
      <h2 id="name-requirements-language-4">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-requirements-language-4" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-5-1">
 The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-1.5">
<section id="section-6">
      <h2 id="name-scope">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-scope" class="section-name selfRef">Scope</a>
      </h2>
<p id="section-6-1">
 The remainder of this document describes the features, design goals,
        and theory of operation of VRRP.  The message formats, protocol
        processing rules, and state machine that guarantee convergence to a
        single Virtual Router Active are presented.  Finally, operational
        issues related to MAC address mapping, handling of ARP requests,
        generation of ICMP redirect messages, and security issues are
      addressed.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-1.6">
<section id="section-7">
      <h2 id="name-definitions">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-definitions" class="section-name selfRef">Definitions</a>
      </h2>
<span class="break"></span><dl class="dlParallel" id="section-7-1">
        <dt id="section-7-1.1">VRRP Router</dt>
        <dd style="margin-left: 12.0em" id="section-7-1.2">
          <p id="section-7-1.2.1">
     A router running the Virtual Router
     Redundancy Protocol.  It may participate as
            one or more virtual routers.<a href="#section-7-1.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-7-1.3">Virtual Router</dt>
        <dd style="margin-left: 12.0em" id="section-7-1.4">
          <p id="section-7-1.4.1">
     An abstract object managed by VRRP that acts
     as a default router for hosts on a shared
            LAN.  It consists of a Virtual Router
            Identifier and either a set of associated
            IPv4 addresses or a set of associated IPv6
            addresses across a common LAN.  A VRRP Router
            may back up one or more virtual routers.<a href="#section-7-1.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-7-1.5">IP Address Owner</dt>
        <dd style="margin-left: 12.0em" id="section-7-1.6">
          <p id="section-7-1.6.1">
     The VRRP router that has the virtual router's
     IPvX address(es) as real interface
            address(es).  This is the router that, when
            up, will respond to packets addressed to one
            of these IPvX addresses for ICMP pings, TCP
            connections, etc.<a href="#section-7-1.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-7-1.7">Primary IP Address</dt>
        <dd style="margin-left: 12.0em" id="section-7-1.8">
          <p id="section-7-1.8.1">
     In IPv4, an IPv4 address selected from the
     set of real interface addresses.  One
            possible selection algorithm is to always
            select the first address.  In IPv4 mode, VRRP
            advertisements are always sent using the
            primary IPv4 address as the source of the
            IPv4 packet.  In IPv6, the link-local address
            of the interface over which the packet is
            transmitted is used.<a href="#section-7-1.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-7-1.9">Virtual Router Active</dt>
        <dd style="margin-left: 12.0em" id="section-7-1.10">
          <p id="section-7-1.10.1">
     The VRRP router that is assuming the
     responsibility of forwarding packets sent to
            the IPvX address(es) associated with the
            virtual router, answering ARP requests<a href="#section-7-1.10.1" class="pilcrow">¶</a></p>
<p id="section-7-1.10.2">
     for the IPv4 address(es), and answering ND
            requests for the IPv6 address(es).  Note that
            if the IPvX address owner is available, then
            it will always become the Active.<a href="#section-7-1.10.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-7-1.11">Virtual Router Backup</dt>
        <dd style="margin-left: 12.0em" id="section-7-1.12">
          <p id="section-7-1.12.1">
     The set of VRRP routers available to assume
     forwarding responsibility for a virtual
            router should the current Active fail.<a href="#section-7-1.12.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sect-2">
<section id="section-8">
      <h2 id="name-required-features">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-required-features" class="section-name selfRef">Required Features</a>
      </h2>
<p id="section-8-1">
 This section outlines the set of features that were considered
      mandatory and that guided the design of VRRP.<a href="#section-8-1" class="pilcrow">¶</a></p>
<div id="sect-2.1">
<section id="section-8.1">
        <h3 id="name-ipvx-address-backup">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-ipvx-address-backup" class="section-name selfRef">IPvX Address Backup</a>
        </h3>
<p id="section-8.1-1">
   Backup of an IPvX address or addresses is the active function of
          VRRP.  While providing election of a Virtual Router Active and the
          additional functionality described below, the protocol should
        strive to:<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-2.1">Minimize the duration of black holes.<a href="#section-8.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.2">Minimize the steady-state bandwidth overhead and processing
          complexity.<a href="#section-8.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.3">Function over a wide variety of multiaccess LAN technologies
          capable of supporting IPvX traffic.<a href="#section-8.1-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.4">Allow multiple virtual routers on a network for load balancing.<a href="#section-8.1-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.1-2.5">Support multiple logical IPvX subnets on a single LAN segment.<a href="#section-8.1-2.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="sect-2.2">
<section id="section-8.2">
        <h3 id="name-preferred-path-indication">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-preferred-path-indication" class="section-name selfRef">Preferred Path Indication</a>
        </h3>
<p id="section-8.2-1">
   A simple model of Active election among a set of redundant routers is
          to treat each router with equal preference and claim victory after
          converging to any router as Active.  However, there are likely to be
          many environments where there is a distinct preference (or range of
          preferences) among the set of redundant routers.  For example, this
          preference may be based upon access link cost or speed, router
          performance or reliability, or other policy considerations.  The
          protocol should allow the expression of this relative path preference
          in an intuitive manner and guarantee Active convergence to the most
        preferential router currently available.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-2.3">
<section id="section-8.3">
        <h3 id="name-minimization-of-unnecessary">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-minimization-of-unnecessary" class="section-name selfRef">Minimization of Unnecessary Service Disruptions</a>
        </h3>
<p id="section-8.3-1">
   Once Active election has been performed, any unnecessary transitions
          between Active and Backup routers can result in a disruption in
          service.  The protocol should ensure after Active election that no
          state transition is triggered by any Backup router of equal or lower
        preference as long as the Active continues to function properly.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<p id="section-8.3-2">
   Some environments may find it beneficial to avoid the state
          transition triggered when a router that is preferred over the current
          Active becomes available.  It may be useful to support an override of
        the immediate convergence to the preferred path.<a href="#section-8.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-2.4">
<section id="section-8.4">
        <h3 id="name-efficient-operation-over-ex">
<a href="#section-8.4" class="section-number selfRef">8.4. </a><a href="#name-efficient-operation-over-ex" class="section-name selfRef">Efficient Operation over Extended LANs</a>
        </h3>
<p id="section-8.4-1">
   Sending IPvX packets (that is, sending either IPv4 or IPv6) on a
          multiaccess LAN requires mapping from an IPvX address to a MAC
          address.  The use of the virtual router MAC address in an extended
          LAN employing learning bridges can have a significant effect on the
          bandwidth overhead of packets sent to the virtual router.  If the
          virtual router MAC address is never used as the source address in a
          link-level frame, then the station location is never learned,
          resulting in flooding of all packets sent to the virtual router.  To
          improve the efficiency in this environment, the protocol should:
          1) use the virtual router MAC address as the source in a packet sent
          by the Active to trigger station learning; 2) trigger a message
          immediately after transitioning to the Active to update the station
          learning; and 3) trigger periodic messages from the Active to
        maintain the station learning cache.<a href="#section-8.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-2.5">
<section id="section-8.5">
        <h3 id="name-sub-second-operation-for-ip">
<a href="#section-8.5" class="section-number selfRef">8.5. </a><a href="#name-sub-second-operation-for-ip" class="section-name selfRef">Sub-Second Operation for IPv4 and IPv6</a>
        </h3>
<p id="section-8.5-1">
   Sub-second detection of Active VRRP router failure is needed in both
          IPv4 and IPv6 environments.  Earlier work proposed that sub-second
          operation was for IPv6; this specification leverages that earlier
        approach for IPv4 and IPv6.<a href="#section-8.5-1" class="pilcrow">¶</a></p>
<p id="section-8.5-2">
   One possible problematic scenario when using small
          VRRP_Advertisement_Intervals may occur when a router is delivering
          more packets onto the LAN than can be accommodated, and so a queue
          builds up in the router.  It is possible that packets being
          transmitted onto the VRRP-protected LAN could see larger queueing
          delay than the smallest VRRP Advertisement_Interval.  In this case,
          the Active_Down_Interval will be small enough so that normal queuing
          delays might cause a VRRP Backup to conclude that the Active is down,
          and therefore promote itself to Active.  Very shortly afterwards, the
          delayed VRRP packets from the Active cause a switch back to Backup
          status.  Furthermore, this process can repeat many times per second,
          causing significant disruption to traffic.  To mitigate this problem,
          priority forwarding of VRRP packets should be considered.  It should
          be possible for a VRRP Active to observe that this situation is
        occurring frequently and at least log the problem.<a href="#section-8.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-3">
<section id="section-9">
      <h2 id="name-vrrp-overview">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-vrrp-overview" class="section-name selfRef">VRRP Overview</a>
      </h2>
<p id="section-9-1">
 VRRP specifies an election protocol to provide the virtual router
        function described earlier.  All protocol messaging is performed
        using either IPv4 or IPv6 multicast datagrams; thus, the protocol can
        operate over a variety of multiaccess LAN technologies supporting
        IPvX multicast.  Each link of a VRRP virtual router has a single
        well-known MAC address allocated to it.  This document currently only
        details the mapping to networks using the IEEE 802 48-bit MAC
        address.  The virtual router MAC address is used as the source in all
        periodic VRRP messages sent by the Active router to enable bridge
      learning in an extended LAN.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">
 A virtual router is defined by its virtual router identifier (VRID)
        and a set of either IPv4 or IPv6 address(es).  A VRRP router may
        associate a virtual router with its real address on an interface.
        The scope of each virtual router is restricted to a single LAN.  A
        VRRP router may be configured with additional virtual router mappings
        and priority for virtual routers it is willing to back up.  The
        mapping between the VRID and its IPvX address(es) must be coordinated
      among all VRRP routers on a LAN.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">
 There is no restriction against reusing a VRID with a different
        address mapping on different LANs, nor is there a restriction against
        using the same VRID number for a set of IPv4 addresses and a set of
      IPv6 addresses; however, these are two different virtual routers.<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">
 To minimize network traffic, only the Active for each virtual router
        sends periodic VRRP Advertisement messages.  A Backup router will not
        attempt to preempt the Active unless it has higher priority.  This
        eliminates service disruption unless a more preferred path becomes
        available.  It's also possible to administratively prohibit all
        preemption attempts.  The only exception is that a VRRP router will
        always become Active of any virtual router associated with addresses
        it owns.  If the Active becomes unavailable, then the highest-
        priority Backup will transition to Active after a short delay,
        providing a controlled transition of the virtual router
      responsibility with minimal service interruption.<a href="#section-9-4" class="pilcrow">¶</a></p>
<p id="section-9-5">
 The VRRP protocol design provides rapid transition from Backup to
        Active to minimize service interruption and incorporates
        optimizations that reduce protocol complexity while guaranteeing
        controlled Active transition for typical operational scenarios.  The
        optimizations result in an election protocol with minimal runtime
        state requirements, minimal active protocol states, and a single
        message type and sender.  The typical operational scenarios are
        defined to be two redundant routers and/or distinct path preferences
        among each router.  A side effect when these assumptions are violated
        (i.e., more than two redundant paths, all with equal preference) is
        that duplicate packets may be forwarded for a brief period during
        Active election.  However, the typical scenario assumptions are
        likely to cover the vast majority of deployments, loss of the Active
        router is infrequent, and the expected duration in Active election
      convergence is quite small ( &lt;&lt; 1 second ).  Thus, the VRRP optimizations represent significant simplifications in the protocol design while incurring an insignificant probability of brief network degradation.<a href="#section-9-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-4">
<section id="section-10">
      <h2 id="name-sample-configurations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-sample-configurations" class="section-name selfRef">Sample Configurations</a>
      </h2>
<div id="sect-4.1">
<section id="section-10.1">
        <h3 id="name-sample-configuration-1">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-sample-configuration-1" class="section-name selfRef">Sample Configuration 1</a>
        </h3>
<p id="section-10.1-1">
   The following figure shows a simple network with two VRRP routers
        implementing one virtual router.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.1-2">
<pre>
        +-----------+ +-----------+
        |   Rtr1    | |   Rtr2    |
        |(MR VRID=1)| |(BR VRID=1)|
        |           | |           |
        VRID=1  +-----------+ +-----------+
        IPvX A---------&gt;*            *&lt;---------IPvX B
        |            |
        |            |
        ----------------+------------+-----+----------+----------+----------+--
        ^          ^          ^          ^
        |          |          |          |
        default rtr IPvX addrs-------&gt; (IPvX A)   (IPvX A)   (IPvX A)   (IPvX A)
        |          |          |          |
        IPvX H1-&gt;* IpvX H2-&gt;* IPvX H3-&gt;* IpvX H4-&gt;*
        +--+--+    +--+--+    +--+--+    +--+--+
        |  H1 |    |  H2 |    |  H3 |    |  H4 |
        +-----+    +-----+    +--+--+    +--+--+
        Legend:
        --+---+---+-- = Ethernet, Token Ring, or FDDI
        H = Host computer
        MR = Active Router
        BR = Backup Router
        *  =  IPvX Address; X is 4 everywhere in IPv4 case
        X is 6 everywhere in IPv6 case
        (IPvX) = default router for hosts
        Eliminating all mention of VRRP (VRID=1) from the figure above leaves
        it as a typical deployment.
</pre><a href="#section-10.1-2" class="pilcrow">¶</a>
</div>
<p id="section-10.1-3">
   In the IPv4 case (that is, IPvX is IPv4 everywhere in the figure),
          each router is permanently assigned an IPv4 address on the LAN
          interface (Rtr1 is assigned IPv4 A and Rtr2 is assigned IPv4 B), and
          each host installs a static default route through one of the routers
        (in this example they all use Rtr1's IPv4 A).<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<p id="section-10.1-4">
   In the IPv6 case (that is, IPvX is IPv6 everywhere in the figure),
          each router has a link-local IPv6 address on the LAN interface (Rtr1
          is assigned IPv6 Link-Local A and Rtr2 is assigned IPv6 Link-
          Local B), and each host learns a default route from Router
          Advertisements through one of the routers (in this example, they all
        use Rtr1's IPv6 Link-Local A).<a href="#section-10.1-4" class="pilcrow">¶</a></p>
<p id="section-10.1-5">
   Moving to an IPv4 VRRP environment, each router has the exact same
          permanently assigned IPv4 address.  Rtr1 is said to be the IPv4
          address owner of IPv4 A, and Rtr2 is the IPv4 address owner of
          IPv4 B.  A virtual router is then defined by associating a unique
          identifier (the virtual router ID) with the address owned by a
        router.<a href="#section-10.1-5" class="pilcrow">¶</a></p>
<p id="section-10.1-6">
   Moving to an IPv6 VRRP environment, each router has the exact same
          Link-Local IPv6 address.  Rtr1 is said to be the IPv6 address owner
          of IPv6 A, and Rtr2 is the IPv6 address owner of IPv6 B.  A virtual
          router is then defined by associating a unique identifier (the
        virtual router ID) with the address owned by a router.<a href="#section-10.1-6" class="pilcrow">¶</a></p>
<p id="section-10.1-7">
   Finally, in both the IPv4 and IPv6 cases, the VRRP protocol manages
        virtual router failover to a Backup router.<a href="#section-10.1-7" class="pilcrow">¶</a></p>
<p id="section-10.1-8">
   The IPv4 example above shows a virtual router configured to cover the
          IPv4 address owned by Rtr1 (VRID=1, IPv4_Address=A).  When VRRP is
          enabled on Rtr1 for VRID=1, it will assert itself as Active, with
          priority = 255, since it is the IP address owner for the virtual
          router IP address.  When VRRP is enabled on Rtr2 for VRID=1, it will
          transition to Backup, with priority = 100 (the default priority is
          100), since it is not the IPv4 address owner.  If Rtr1 should fail,
          then the VRRP protocol will transition Rtr2 to Active, temporarily
          taking over forwarding responsibility for IPv4 A to provide
          uninterrupted service to the hosts.  When Rtr1 returns to service, it
        will re-assert itself as Active.<a href="#section-10.1-8" class="pilcrow">¶</a></p>
<p id="section-10.1-9">
   The IPv6 example above shows a virtual router configured to cover the
          IPv6 address owned by Rtr1 (VRID=1, IPv6_Address=A).  When VRRP is
          enabled on Rtr1 for VRID=1, it will assert itself as Active, with
          priority = 255, since it is the IPv6 address owner for the virtual
          router IPv6 address.  When VRRP is enabled on Rtr2 for VRID=1, it
          will transition to Backup, with priority = 100 (the default priority
          is 100), since it is not the IPv6 address owner.  If Rtr1 should
          fail, then the VRRP protocol will transition Rtr2 to Active,
          temporarily taking over forwarding responsibility for IPv6 A to
        provide uninterrupted service to the hosts.<a href="#section-10.1-9" class="pilcrow">¶</a></p>
<p id="section-10.1-10">
   Note that in both cases, in this example IPvX B is not backed up; it
          is only used by Rtr2 as its interface address.  In order to back up
          IPvX B, a second virtual router must be configured.  This is shown in
        the next section.<a href="#section-10.1-10" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-4.2">
<section id="section-10.2">
        <h3 id="name-sample-configuration-2">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-sample-configuration-2" class="section-name selfRef">Sample Configuration 2</a>
        </h3>
<p id="section-10.2-1">
   The following figure shows a configuration with two virtual routers
        with the hosts splitting their traffic between them.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-10.2-2">
<pre>
        +-----------+      +-----------+
        |   Rtr1    |      |   Rtr2    |
        |(MR VRID=1)|      |(BR VRID=1)|
        |(BR VRID=2)|      |(MR VRID=2)|
        VRID=1  +-----------+      +-----------+  VRID=2
        IPvX A --------&gt;*            *&lt;---------- IPvX B
        |            |
        |            |
        ----------------+------------+-----+----------+----------+----------+--
        ^          ^          ^          ^
        |          |          |          |
        default rtr IPvX addrs -----&gt; (IPvX A)   (IPvX A)   (IPvX B)   (IPvX B)
        |          |          |          |
        IPvX H1-&gt;* IpvX H2-&gt;* IPvX H3-&gt;* IpvX H4-&gt;*
        +--+--+    +--+--+    +--+--+    +--+--+
        |  H1 |    |  H2 |    |  H3 |    |  H4 |
        +-----+    +-----+    +--+--+    +--+--+
        Legend:
        ---+---+---+--  =  Ethernet, Token Ring, or FDDI
        H  =  Host computer
        MR  =  Active Router
        BR  =  Backup Router
        *  =  IPvX Address; X is 4 everywhere in IPv4 case
        X is 6 everywhere in IPv6 case
        (IPvX)  =  default router for hosts
</pre><a href="#section-10.2-2" class="pilcrow">¶</a>
</div>
<p id="section-10.2-3">
   In the IPv4 example above (that is, IPvX is IPv4 everywhere in the
          figure), half of the hosts have configured a static route through
          Rtr1's IPv4 A, and half are using Rtr2's IPv4 B.  The configuration
          of virtual router VRID=1 is exactly the same as in the first example
          (see <a href="#sect-4.1" class="xref">Section 10.1</a>), and a second virtual router has been added to
          cover the IPv4 address owned by Rtr2 (VRID=2, IPv4_Address=B).  In
          this case, Rtr2 will assert itself as Active for VRID=2 while Rtr1
          will act as a Backup.  This scenario demonstrates a deployment
          providing load splitting when both routers are available, while
        providing full redundancy for robustness.<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<p id="section-10.2-4">
   In the IPv6 example above (that is, IPvX is IPv6 everywhere in the
          figure), half of the hosts have learned a default route through
          Rtr1's IPv6 A, and half are using Rtr2's IPv6 B.  The configuration
          of virtual router VRID=1 is exactly the same as in the first example
          (see <a href="#sect-4.1" class="xref">Section 10.1</a>), and a second virtual router has been added to
          cover the IPv6 address owned by Rtr2 (VRID=2, IPv6_Address=B).  In
          this case, Rtr2 will assert itself as Active for VRID=2 while Rtr1
          will act as a Backup.  This scenario demonstrates a deployment
          providing load splitting when both routers are available, while
        providing full redundancy for robustness.<a href="#section-10.2-4" class="pilcrow">¶</a></p>
<p id="section-10.2-5">
   Note that the details of load balancing are out of scope of this
          document.  However, in a case where the servers need different
          weights, it may not make sense to rely on router advertisements alone
        to balance the host load between the routers.<a href="#section-10.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-5">
<section id="section-11">
      <h2 id="name-protocol">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-protocol" class="section-name selfRef">Protocol</a>
      </h2>
<p id="section-11-1">
 The purpose of the VRRP packet is to communicate to all VRRP routers
        the priority and the state of the Active router associated with the
      VRID.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">
 When VRRP is protecting an IPv4 address, VRRP packets are sent
        encapsulated in IPv4 packets.  They are sent to the IPv4 multicast
      address assigned to VRRP.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">
 When VRRP is protecting an IPv6 address, VRRP packets are sent
        encapsulated in IPv6 packets.  They are sent to the IPv6 multicast
      address assigned to VRRP.<a href="#section-11-3" class="pilcrow">¶</a></p>
<div id="sect-5.1">
<section id="section-11.1">
        <h3 id="name-vrrp-packet-format">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-vrrp-packet-format" class="section-name selfRef">VRRP Packet Format</a>
        </h3>
<p id="section-11.1-1">
   This section defines the format of the VRRP packet and the relevant
        fields in the IP header.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.1-2">
<pre>
        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |                    IPv4 Fields or IPv6 Fields                 |
        ...                                                             ...
        |                                                               |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |Version| Type  | Virtual Rtr ID|   Priority    |Count IPvX Addr|
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |(rsvd) |     Max Adver Int     |          Checksum             |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        |                                                               |
        +                                                               +
        |                       IPvX Address(es)                        |
        +                                                               +
        +                                                               +
        +                                                               +
        +                                                               +
        |                                                               |
        +                                                               +
        |                                                               |
        +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-11.1-2" class="pilcrow">¶</a>
</div>
<div id="sect-5.1.1">
<section id="section-11.1.1">
          <h4 id="name-ipv4-field-descriptions">
<a href="#section-11.1.1" class="section-number selfRef">11.1.1. </a><a href="#name-ipv4-field-descriptions" class="section-name selfRef">IPv4 Field Descriptions</a>
          </h4>
<div id="sect-5.1.1.1">
<section id="section-11.1.1.1">
            <h5 id="name-source-address">
<a href="#section-11.1.1.1" class="section-number selfRef">11.1.1.1. </a><a href="#name-source-address" class="section-name selfRef">Source Address</a>
            </h5>
<p id="section-11.1.1.1-1">
       This is the primary IPv4 address of the interface the packet is being
            sent from.<a href="#section-11.1.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.1.1.2">
<section id="section-11.1.1.2">
            <h5 id="name-destination-address">
<a href="#section-11.1.1.2" class="section-number selfRef">11.1.1.2. </a><a href="#name-destination-address" class="section-name selfRef">Destination Address</a>
            </h5>
<p id="section-11.1.1.2-1">
     The IPv4 multicast address as assigned by the IANA for VRRP is:<a href="#section-11.1.1.2-1" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-2">
     224.0.0.18<a href="#section-11.1.1.2-2" class="pilcrow">¶</a></p>
<p id="section-11.1.1.2-3">
       This is a link-local scope multicast address.  Routers MUST NOT
              forward a datagram with this destination address, regardless of its
            TTL.<a href="#section-11.1.1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.1.1.3">
<section id="section-11.1.1.3">
            <h5 id="name-ttl">
<a href="#section-11.1.1.3" class="section-number selfRef">11.1.1.3. </a><a href="#name-ttl" class="section-name selfRef">TTL</a>
            </h5>
<p id="section-11.1.1.3-1">
       The TTL MUST be set to 255.  A VRRP router receiving a packet with
            the TTL not equal to 255 MUST discard the packet.<a href="#section-11.1.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.1.1.4">
<section id="section-11.1.1.4">
            <h5 id="name-protocol-2">
<a href="#section-11.1.1.4" class="section-number selfRef">11.1.1.4. </a><a href="#name-protocol-2" class="section-name selfRef">Protocol</a>
            </h5>
<p id="section-11.1.1.4-1">
       The IPv4 protocol number assigned by the IANA for VRRP is 112
            (decimal).<a href="#section-11.1.1.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-5.1.2">
<section id="section-11.1.2">
          <h4 id="name-ipv6-field-descriptions">
<a href="#section-11.1.2" class="section-number selfRef">11.1.2. </a><a href="#name-ipv6-field-descriptions" class="section-name selfRef">IPv6 Field Descriptions</a>
          </h4>
<div id="sect-5.1.2.1">
<section id="section-11.1.2.1">
            <h5 id="name-source-address-2">
<a href="#section-11.1.2.1" class="section-number selfRef">11.1.2.1. </a><a href="#name-source-address-2" class="section-name selfRef">Source Address</a>
            </h5>
<p id="section-11.1.2.1-1">
       This is the IPv6 link-local address of the interface the packet is
            being sent from.<a href="#section-11.1.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.1.2.2">
<section id="section-11.1.2.2">
            <h5 id="name-destination-address-2">
<a href="#section-11.1.2.2" class="section-number selfRef">11.1.2.2. </a><a href="#name-destination-address-2" class="section-name selfRef">Destination Address</a>
            </h5>
<span class="break"></span><dl class="dlNewline" id="section-11.1.2.2-1">
              <dt id="section-11.1.2.2-1.1">The IPv6 multicast address assigned by the IANA for VRRP is:</dt>
              <dd style="margin-left: 1.5em" id="section-11.1.2.2-1.2">
 FF02:0:0:0:0:0:0:12<a href="#section-11.1.2.2-1.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
<p id="section-11.1.2.2-2">
       This is a link-local scope multicast address.  Routers MUST NOT
              forward a datagram with this destination address, regardless of its
            Hop Limit.<a href="#section-11.1.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.1.2.3">
<section id="section-11.1.2.3">
            <h5 id="name-hop-limit">
<a href="#section-11.1.2.3" class="section-number selfRef">11.1.2.3. </a><a href="#name-hop-limit" class="section-name selfRef">Hop Limit</a>
            </h5>
<p id="section-11.1.2.3-1">
       The Hop Limit MUST be set to 255.  A VRRP router receiving a packet
            with the Hop Limit not equal to 255 MUST discard the packet.<a href="#section-11.1.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.1.2.4">
<section id="section-11.1.2.4">
            <h5 id="name-next-header">
<a href="#section-11.1.2.4" class="section-number selfRef">11.1.2.4. </a><a href="#name-next-header" class="section-name selfRef">Next Header</a>
            </h5>
<p id="section-11.1.2.4-1">
       The IPv6 Next Header protocol assigned by the IANA for VRRP is 112
            (decimal).<a href="#section-11.1.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sect-5.2">
<section id="section-11.2">
        <h3 id="name-vrrp-field-descriptions">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-vrrp-field-descriptions" class="section-name selfRef">VRRP Field Descriptions</a>
        </h3>
<div id="sect-5.2.1">
<section id="section-11.2.1">
          <h4 id="name-version">
<a href="#section-11.2.1" class="section-number selfRef">11.2.1. </a><a href="#name-version" class="section-name selfRef">Version</a>
          </h4>
<p id="section-11.2.1-1">
     The version field specifies the VRRP protocol version of this packet.
          This document defines version 3.<a href="#section-11.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.2">
<section id="section-11.2.2">
          <h4 id="name-type">
<a href="#section-11.2.2" class="section-number selfRef">11.2.2. </a><a href="#name-type" class="section-name selfRef">Type</a>
          </h4>
<p id="section-11.2.2-1">
     The type field specifies the type of this VRRP packet.  The only
          packet type defined in this version of the protocol is:<a href="#section-11.2.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2.2-2">
   1 ADVERTISEMENT<a href="#section-11.2.2-2" class="pilcrow">¶</a></p>
<p id="section-11.2.2-3">
   A packet with unknown type MUST be discarded.<a href="#section-11.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.3">
<section id="section-11.2.3">
          <h4 id="name-virtual-rtr-id-vrid">
<a href="#section-11.2.3" class="section-number selfRef">11.2.3. </a><a href="#name-virtual-rtr-id-vrid" class="section-name selfRef">Virtual Rtr ID (VRID)</a>
          </h4>
<p id="section-11.2.3-1">
     The Virtual Rtr ID field identifies the virtual router this packet is
          reporting status for.<a href="#section-11.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.4">
<section id="section-11.2.4">
          <h4 id="name-priority">
<a href="#section-11.2.4" class="section-number selfRef">11.2.4. </a><a href="#name-priority" class="section-name selfRef">Priority</a>
          </h4>
<p id="section-11.2.4-1">
     The priority field specifies the sending VRRP router's priority for
            the virtual router.  Higher values equal higher priority.  This field
          is an 8-bit unsigned integer field.<a href="#section-11.2.4-1" class="pilcrow">¶</a></p>
<p id="section-11.2.4-2">
     The priority value for the VRRP router that owns the IPvX address
          associated with the virtual router MUST be 255 (decimal).<a href="#section-11.2.4-2" class="pilcrow">¶</a></p>
<p id="section-11.2.4-3">
     VRRP routers backing up a virtual router MUST use priority values
            between 1-254 (decimal).  The default priority value for VRRP routers
          backing up a virtual router is 100 (decimal).<a href="#section-11.2.4-3" class="pilcrow">¶</a></p>
<p id="section-11.2.4-4">
     The priority value zero (0) has special meaning, indicating that the
            current Active has stopped participating in VRRP.  This is used to
            trigger Backup routers to quickly transition to Active without having
          to wait for the current Active to time out.<a href="#section-11.2.4-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.5">
<section id="section-11.2.5">
          <h4 id="name-count-ipvx-addr">
<a href="#section-11.2.5" class="section-number selfRef">11.2.5. </a><a href="#name-count-ipvx-addr" class="section-name selfRef">Count IPvX Addr</a>
          </h4>
<p id="section-11.2.5-1">
     This is the number of either IPv4 addresses or IPv6 addresses
          contained in this VRRP advertisement.  The minimum value is 1.<a href="#section-11.2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.6">
<section id="section-11.2.6">
          <h4 id="name-rsvd">
<a href="#section-11.2.6" class="section-number selfRef">11.2.6. </a><a href="#name-rsvd" class="section-name selfRef">Rsvd</a>
          </h4>
<p id="section-11.2.6-1">
     This field MUST be set to zero on transmission and ignored on
          reception.<a href="#section-11.2.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.7">
<section id="section-11.2.7">
          <h4 id="name-maximum-advertisement-inter">
<a href="#section-11.2.7" class="section-number selfRef">11.2.7. </a><a href="#name-maximum-advertisement-inter" class="section-name selfRef">Maximum Advertisement Interval (Max Adver Int)</a>
          </h4>
<p id="section-11.2.7-1">
     The Maximum Advertisement Interval is a 12-bit field that indicates
            the time interval (in centiseconds) between ADVERTISEMENTS.  The
          default is 100 centiseconds (1 second).<a href="#section-11.2.7-1" class="pilcrow">¶</a></p>
<p id="section-11.2.7-2">
     Note that higher-priority Active routers with slower transmission
            rates than their Backup routers are unstable.  This is because low-
            priority nodes configured to faster rates could come online and
            decide they should be Actives before they have heard anything from
            the higher-priority Active with a slower rate.  When this happens, it
            is temporary: once the lower-priority node does hear from the higher-
          priority Active, it will relinquish Activeship.<a href="#section-11.2.7-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.8">
<section id="section-11.2.8">
          <h4 id="name-checksum">
<a href="#section-11.2.8" class="section-number selfRef">11.2.8. </a><a href="#name-checksum" class="section-name selfRef">Checksum</a>
          </h4>
<p id="section-11.2.8-1">
     The checksum field is used to detect data corruption in the VRRP
          message.<a href="#section-11.2.8-1" class="pilcrow">¶</a></p>
<p id="section-11.2.8-2">
     The checksum is the 16-bit one's complement of the one's complement
            sum of the entire VRRP message starting with the version field and a
            "pseudo-header" as defined in Section 8.1 of <span>[<a href="#RFC2460" class="xref">RFC2460</a>]</span>.  The next
            header field in the "pseudo-header" should be set to 112 (decimal)
            for VRRP.  For computing the checksum, the checksum field is set to
          zero.  See RFC1071 for more detail <span>[<a href="#RFC1071" class="xref">RFC1071</a>]</span>.<a href="#section-11.2.8-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-5.2.9">
<section id="section-11.2.9">
          <h4 id="name-ipvx-addresses">
<a href="#section-11.2.9" class="section-number selfRef">11.2.9. </a><a href="#name-ipvx-addresses" class="section-name selfRef">IPvX Address(es)</a>
          </h4>
<p id="section-11.2.9-1">
     This refers to one or more IPvX addresses associated with the virtual
            router.  The number of addresses included is specified in the "Count IP Addr" field.  These fields are used for troubleshooting
            misconfigured routers.  If more than one address is sent, it is
            recommended that all routers be configured to send these addresses in
          the same order to make it easier to do this comparison.<a href="#section-11.2.9-1" class="pilcrow">¶</a></p>
<p id="section-11.2.9-2">
     For IPv4 addresses, this refers to one or more IPv4 addresses that
          are backed up by the virtual router.<a href="#section-11.2.9-2" class="pilcrow">¶</a></p>
<p id="section-11.2.9-3">
     For IPv6, the first address must be the IPv6 link-local address
          associated with the virtual router.<a href="#section-11.2.9-3" class="pilcrow">¶</a></p>
<p id="section-11.2.9-4">
     This field contains either one or more IPv4 addresses, or one or more
            IPv6 addresses, that is, IPv4 and IPv6 MUST NOT both be carried in
          one IPvX Address field.<a href="#section-11.2.9-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="sect-6">
<section id="section-12">
      <h2 id="name-protocol-state-machine">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-protocol-state-machine" class="section-name selfRef">Protocol State Machine</a>
      </h2>
<div id="sect-6.1">
<section id="section-12.1">
        <h3 id="name-parameters-per-virtual-rout">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-parameters-per-virtual-rout" class="section-name selfRef">Parameters Per Virtual Router</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-12.1-1">
          <dt id="section-12.1-1.1">VRID</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.2">
            <p id="section-12.1-1.2.1">
       Virtual Router Identifier.  Configurable
       item in the range 1-255 (decimal).  There
              is no default.<a href="#section-12.1-1.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.3">Priority</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.4">
            <p id="section-12.1-1.4.1">
       Priority value to be used by this VRRP<a href="#section-12.1-1.4.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.4.2">
       router in Active election for this
              virtual router.  The value of 255
              (decimal) is reserved for the router that
              owns the IPvX address associated with the
              virtual router.  The value of 0 (zero) is
              reserved for the Active router to
              indicate it is releasing responsibility
              for the virtual router.  The range 1-254
              (decimal) is available for VRRP routers
              backing up the virtual router.  Higher
              values indicate higher priorities.  The
              default value is 100 (decimal).<a href="#section-12.1-1.4.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.5">IPv4_Addresses</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.6">
            <p id="section-12.1-1.6.1">
       One or more IPv4 addresses associated<a href="#section-12.1-1.6.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.6.2">
       with this virtual router.  Configured
              item with no default.<a href="#section-12.1-1.6.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.7">IPv6_Addresses</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.8">
            <p id="section-12.1-1.8.1">
       One or more IPv6 addresses associated<a href="#section-12.1-1.8.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.8.2">
       with this virtual router.  Configured
              item with no default.  The first address
              must be the Link-Local address associated
              with the virtual router.<a href="#section-12.1-1.8.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.9">Advertisement_Interval</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.10">
            <p id="section-12.1-1.10.1">
       Time interval between ADVERTISEMENTS<a href="#section-12.1-1.10.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.10.2">
       (centiseconds).  Default is 100
              centiseconds (1 second).<a href="#section-12.1-1.10.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.11">Active_Adver_Interval</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.12">
            <p id="section-12.1-1.12.1">
       Advertisement interval contained in<a href="#section-12.1-1.12.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.12.2">
       ADVERTISEMENTS received from the Active
              (centiseconds).  This value is saved by
              virtual routers in the Backup state and
              used to compute Skew_Time and
              Active_Down_Interval.  The initial value
              is the same as Advertisement_Interval.<a href="#section-12.1-1.12.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.13">Skew_Time</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.14">
            <p id="section-12.1-1.14.1">
       Time to skew Active_Down_Interval in<a href="#section-12.1-1.14.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.14.2">
       centiseconds.  Calculated as<a href="#section-12.1-1.14.2" class="pilcrow">¶</a></p>
<p id="section-12.1-1.14.3">
       (((256 - priority) * Active_Adver_Interval) / 256)<a href="#section-12.1-1.14.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.15">Active_Down_Interval</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.16">
            <p id="section-12.1-1.16.1">
       Time interval for Backup to declare<a href="#section-12.1-1.16.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.16.2">
       Active down (centiseconds).
              Calculated as<a href="#section-12.1-1.16.2" class="pilcrow">¶</a></p>
<p id="section-12.1-1.16.3">
       (3 * Active_Adver_Interval) + Skew_time<a href="#section-12.1-1.16.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.17">Preempt_Mode</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.18">
            <p id="section-12.1-1.18.1">
       Controls whether a (starting or<a href="#section-12.1-1.18.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.18.2">
       restarting) higher-priority Backup router
              preempts a lower-priority Active router.
              Values are True to allow preemption and
              False to prohibit preemption.  Default is
              True.<a href="#section-12.1-1.18.2" class="pilcrow">¶</a></p>
<p id="section-12.1-1.18.3">
       Note: The exception is that the router
              that owns the IPvX address associated
              with the virtual router always preempts,
              independent of the setting of this flag.<a href="#section-12.1-1.18.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.19">Accept_Mode</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.20">
            <p id="section-12.1-1.20.1">
       Controls whether a virtual router in<a href="#section-12.1-1.20.1" class="pilcrow">¶</a></p>
<p id="section-12.1-1.20.2">
       Active state will accept packets
              addressed to the address owner's IPvX
              address as its own if it is not the IPvX
              address owner.  The default is False.
              Deployments that rely on, for example,
              pinging the address owner's IPvX address
              may wish to configure Accept_Mode to
              True.<a href="#section-12.1-1.20.2" class="pilcrow">¶</a></p>
<p id="section-12.1-1.20.3">
       Note: IPv6 Neighbor Solicitations and
              Neighbor Advertisements MUST NOT be
              dropped when Accept_Mode is False.<a href="#section-12.1-1.20.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.1-1.21">Virtual_Router_MAC_Address</dt>
          <dd style="margin-left: 14.0em" id="section-12.1-1.22">
            <p id="section-12.1-1.22.1">
       The MAC address used for the source MAC
       address in VRRP advertisements and
              advertised in ARP responses as the MAC
              address to use for IP_Addresses.<a href="#section-12.1-1.22.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sect-6.2">
<section id="section-12.2">
        <h3 id="name-timers">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-timers" class="section-name selfRef">Timers</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-12.2-1">
          <dt id="section-12.2-1.1">Active_Down_Timer</dt>
          <dd style="margin-left: 12.5em" id="section-12.2-1.2">
            <p id="section-12.2-1.2.1">
       Timer that fires when ADVERTISEMENT has not
       been heard for Active_Down_Interval.<a href="#section-12.2-1.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-12.2-1.3">Adver_Timer</dt>
          <dd style="margin-left: 12.5em" id="section-12.2-1.4">
            <p id="section-12.2-1.4.1">
       Timer that fires to trigger sending of
       ADVERTISEMENT based on
              Advertisement_Interval.<a href="#section-12.2-1.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="sect-6.3">
<section id="section-12.3">
        <h3 id="name-state-transition-diagram">
<a href="#section-12.3" class="section-number selfRef">12.3. </a><a href="#name-state-transition-diagram" class="section-name selfRef">State Transition Diagram</a>
        </h3>
<div class="alignLeft art-text artwork" id="section-12.3-1">
<pre>
                   +---------------+
        +---------&gt;|               |&lt;-------------+
        |          |  Initialize   |              |
        |   +------|               |----------+   |
        |   |      +---------------+          |   |
        |   |                                 |   |
        |   V                                 V   |
        +---------------+                       +---------------+
        |               |----------------------&gt;|               |
        |    Active     |                       |    Backup     |
        |               |&lt;----------------------|               |
        +---------------+                       +---------------+
</pre><a href="#section-12.3-1" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="sect-6.4">
<section id="section-12.4">
        <h3 id="name-state-descriptions">
<a href="#section-12.4" class="section-number selfRef">12.4. </a><a href="#name-state-descriptions" class="section-name selfRef">State Descriptions</a>
        </h3>
<p id="section-12.4-1">
   In the state descriptions below, the state names are identified by
          {state-name}, and the packets are identified by all-uppercase
          characters.<a href="#section-12.4-1" class="pilcrow">¶</a></p>
<p id="section-12.4-2">
     A VRRP router implements an instance of the state machine for each
            virtual router election it is participating in.<a href="#section-12.4-2" class="pilcrow">¶</a></p>
<div id="sect-6.4.1">
<section id="section-12.4.1">
          <h4 id="name-initialize">
<a href="#section-12.4.1" class="section-number selfRef">12.4.1. </a><a href="#name-initialize" class="section-name selfRef">Initialize</a>
          </h4>
<p id="section-12.4.1-1">
 The purpose of this state is to wait for a Startup event, that is, an
                implementation-defined mechanism that initiates the protocol once it
                has been configured.  The configuration mechanism is out of scope of
                this specification.<a href="#section-12.4.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-12.4.1-2">
<pre>
 (100) If a Startup event is received, then:

      (105) - If the Priority = 255 (i.e., the router owns the IPvX
      address associated with the virtual router), then:

         (110) + Send an ADVERTISEMENT

         (115) + If the protected IPvX address is an IPv4 address, then:

            (120) * Broadcast a gratuitous ARP request containing the
            virtual router MAC address for each IP address associated
            with the virtual router.

         (125) + else // IPv6

            (130) * For each IPv6 address associated with the virtual
            router, send an unsolicited ND Neighbor Advertisement with
            the Router Flag (R) set, the Solicited Flag (S) unset, the
            Override flag (O) set, the target address set to the IPv6
            address of the virtual router, and the target link-layer
            address set to the virtual router MAC address.

         (135) +endif // was protected addr IPv4?

         (140) + Set the Adver_Timer to Advertisement_Interval

         (145) + Transition to the {Master} state

      (150) - else // rtr does not own virt addr

         (155) + Set Master_Adver_Interval to Advertisement_Interval

         (160) + Set the Master_Down_Timer to Master_Down_Interval

         (165) + Transition to the {Backup} state

      (170) -endif // priority was not 255

  (175) endif // startup event was recv
</pre><a href="#section-12.4.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="sect-6.4.2">
<section id="section-12.5">
        <h3 id="name-backup">
<a href="#section-12.5" class="section-number selfRef">12.5. </a><a href="#name-backup" class="section-name selfRef">Backup</a>
        </h3>
<p id="section-12.5-1">
  The purpose of the {Backup} state is to monitor the availability and
  state of the Active router. The Solicited-Node multicast address
  <span>[<a href="#RFC4291" class="xref">RFC4291</a>]</span> is referenced in the psuedo-code below.<a href="#section-12.5-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-12.5-2">
<pre>
(300) While in this state, a VRRP router MUST do the following:

      (305) - If the protected IPvX address is an IPv4 address, then:

         (310) + MUST NOT respond to ARP requests for the IPv4
         address(es) associated with the virtual router.

      (315) - else // protected addr is IPv6

         (320) + MUST NOT respond to ND Neighbor Solicitation messages
         for the IPv6 address(es) associated with the virtual router.

         (325) + MUST NOT send ND Router Advertisement messages for the
         virtual router.

      (330) -endif // was protected addr IPv4?

      (335) - MUST discard packets with a destination link-layer MAC
      address equal to the virtual router MAC address.

      (340) - MUST NOT accept packets addressed to the IPvX address(es)
      associated with the virtual router.

      (345) - If a Shutdown event is received, then:

         (350) + Cancel the Master_Down_Timer

         (355) + Transition to the {Initialize} state

      (360) -endif // shutdown recv

      (365) - If the Master_Down_Timer fires, then:

         (370) + Send an ADVERTISEMENT

         (375) + If the protected IPvX address is an IPv4 address, then:

            (380) * Broadcast a gratuitous ARP request on that interface
            containing the virtual router MAC address for each IPv4
            address associated with the virtual router.

         (385) + else // ipv6

            (390) * Compute and join the Solicited-Node multicast
            address [RFC4291] for the IPv6 address(es) associated with
            the virtual router.

            (395) * For each IPv6 address associated with the virtual
            router, send an unsolicited ND Neighbor Advertisement with
            the Router Flag (R) set, the Solicited Flag (S) unset, the
            Override flag (O) set, the target address set to the IPv6
            address of the virtual router, and the target link-layer
            address set to the virtual router MAC address.

         (400) +endif // was protected addr ipv4?

         (405) + Set the Adver_Timer to Advertisement_Interval

         (410) + Transition to the {Master} state

      (415) -endif // Master_Down_Timer fired

      (420) - If an ADVERTISEMENT is received, then:

         (425) + If the Priority in the ADVERTISEMENT is zero, then:

            (430) * Set the Master_Down_Timer to Skew_Time

         (440) + else // priority non-zero

            (445) * If Preempt_Mode is False, or if the Priority in the
            ADVERTISEMENT is greater than or equal to the local
            Priority, then:

               (450) @ Set Master_Adver_Interval to Adver Interval
               contained in the ADVERTISEMENT

               (455) @ Recompute the Master_Down_Interval

               (460) @ Reset the Master_Down_Timer to
               Master_Down_Interval

            (465) * else // preempt was true and priority was less

               (470) @ Discard the ADVERTISEMENT

            (475) *endif // preempt test

         (480) +endif // was priority zero?

      (485) -endif // was advertisement recv?

   (490) endwhile // Backup state
</pre><a href="#section-12.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="sect-6.4.3">
<section id="section-12.6">
        <h3 id="name-active">
<a href="#section-12.6" class="section-number selfRef">12.6. </a><a href="#name-active" class="section-name selfRef">Active</a>
        </h3>
<p id="section-12.6-1">
  While in the {Active} state, the router functions as the forwarding
router for the IPvX address(es) associated with the virtual router.<a href="#section-12.6-1" class="pilcrow">¶</a></p>
<p id="section-12.6-2">
  Note that in the Active state, the Preempt_Mode Flag is not
considered.<a href="#section-12.6-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-12.6-3">
<pre>
(600) While in this state, a VRRP router MUST do the following:

      (605) - If the protected IPvX address is an IPv4 address, then:

         (610) + MUST respond to ARP requests for the IPv4 address(es)
         associated with the virtual router.

      (615) - else // ipv6

         (620) + MUST be a member of the Solicited-Node multicast
         address for the IPv6 address(es) associated with the virtual
         router.

         (625) + MUST respond to ND Neighbor Solicitation message for
         the IPv6 address(es) associated with the virtual router.

         (630) + MUST send ND Router Advertisements for the virtual
         router.

         (635) + If Accept_Mode is False:  MUST NOT drop IPv6 Neighbor
         Solicitations and Neighbor Advertisements.

      (640) +-endif // ipv4?

      (645) - MUST forward packets with a destination link-layer MAC
      address equal to the virtual router MAC address.

      (650) - MUST accept packets addressed to the IPvX address(es)
      associated with the virtual router if it is the IPvX address owner
      or if Accept_Mode is True.  Otherwise, MUST NOT accept these
      packets.

      (655) - If a Shutdown event is received, then:

         (660) + Cancel the Adver_Timer

         (665) + Send an ADVERTISEMENT with Priority = 0

         (670) + Transition to the {Initialize} state

      (675) -endif // shutdown recv

      (680) - If the Adver_Timer fires, then:

         (685) + Send an ADVERTISEMENT

         (690) + Reset the Adver_Timer to Advertisement_Interval

      (695) -endif // advertisement timer fired

      (700) - If an ADVERTISEMENT is received, then:

         (705) + If the Priority in the ADVERTISEMENT is zero, then:

            (710) * Send an ADVERTISEMENT

            (715) * Reset the Adver_Timer to Advertisement_Interval

         (720) + else // priority was non-zero

            (725) * If the Priority in the ADVERTISEMENT is greater
            than the local Priority,

            (730) * or

            (735) * If the Priority in the ADVERTISEMENT is equal to
            the local Priority and the primary IPvX Address of the
            sender is greater than the local primary IPvX Address, then:

               (740) @ Cancel Adver_Timer

               (745) @ Set Master_Adver_Interval to Adver Interval
               contained in the ADVERTISEMENT

               (750) @ Recompute the Skew_Time

               (755) @ Recompute the Master_Down_Interval

               (760) @ Set Master_Down_Timer to Master_Down_Interval

               (765) @ Transition to the {Backup} state

            (770) * else // new Master logic

               (775) @ Discard ADVERTISEMENT

            (780) *endif // new Master detected

         (785) +endif // was priority zero?

      (790) -endif // advert recv

   (795) endwhile // in Master
</pre><a href="#section-12.6-3" class="pilcrow">¶</a>
</div>
<p id="section-12.6-4">
  Note: VRRP packets are transmitted with the virtual router MAC
  address as the source MAC address to ensure that learning bridges
  correctly determine the LAN segment the virtual router is
attached to.<a href="#section-12.6-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-7.3">
<section id="section-12.7">
        <h3 id="name-virtual-router-mac-address">
<a href="#section-12.7" class="section-number selfRef">12.7. </a><a href="#name-virtual-router-mac-address" class="section-name selfRef">Virtual Router MAC Address</a>
        </h3>
<p id="section-12.7-1">
  The virtual router MAC address associated with a virtual router is an
IEEE 802 MAC Address in the following format:<a href="#section-12.7-1" class="pilcrow">¶</a></p>
<p id="section-12.7-2">
  IPv4 case: 00-00-5E-00-01-{VRID} (in hex, in Internet-standard bit-
order)<a href="#section-12.7-2" class="pilcrow">¶</a></p>
<p id="section-12.7-3">
  The first three octets are derived from the IANA's Organizational
  Unique Identifier (OUI).  The next two octets (00-01) indicate the
  address block assigned to the VRRP for IPv4 protocol. {VRID} is the
  VRRP Virtual Router Identifier.  This mapping provides for up to 255
IPv4 VRRP routers on a network.<a href="#section-12.7-3" class="pilcrow">¶</a></p>
<p id="section-12.7-4">
  IPv6 case: 00-00-5E-00-02-{VRID} (in hex, in Internet-standard bit-
order)<a href="#section-12.7-4" class="pilcrow">¶</a></p>
<p id="section-12.7-5">
  The first three octets are derived from the IANA's OUI.  The next two
  octets (00-02) indicate the address block assigned to the VRRP for
  IPv6 protocol. {VRID} is the VRRP Virtual Router Identifier.  This
mapping provides for up to 255 IPv6 VRRP routers on a network.<a href="#section-12.7-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-7.4">
<section id="section-12.8">
        <h3 id="name-ipv6-interface-identifiers">
<a href="#section-12.8" class="section-number selfRef">12.8. </a><a href="#name-ipv6-interface-identifiers" class="section-name selfRef">IPv6 Interface Identifiers</a>
        </h3>
<p id="section-12.8-1">
  IPv6 routers running VRRP MUST create their Interface Identifiers in
  the normal manner (e.g., "Transmission of IPv6 Packets over Ethernet Networks" <span>[<a href="#RFC2464" class="xref">RFC2464</a>]</span>).  They MUST NOT use the virtual router MAC
  address to create the Modified Extended Unique Identifier (EUI)-64
identifiers.<a href="#section-12.8-1" class="pilcrow">¶</a></p>
<p id="section-12.8-2">
  This VRRP specification describes how to advertise and resolve the
  VRRP router's IPv6 link-local address and other associated IPv6
addresses into the virtual router MAC address.<a href="#section-12.8-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-8">
<section id="section-13">
      <h2 id="name-operational-issues">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-operational-issues" class="section-name selfRef">Operational Issues</a>
      </h2>
<div id="sect-8.1">
<section id="section-13.1">
        <h3 id="name-ipv4-2">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-ipv4-2" class="section-name selfRef">IPv4</a>
        </h3>
<div id="sect-8.1.1">
<section id="section-13.1.1">
          <h4 id="name-icmp-redirects">
<a href="#section-13.1.1" class="section-number selfRef">13.1.1. </a><a href="#name-icmp-redirects" class="section-name selfRef">ICMP Redirects</a>
          </h4>
<p id="section-13.1.1-1">
  ICMP redirects may be used normally when VRRP is running between a
  group of routers.  This allows VRRP to be used in environments where
the topology is not symmetric.<a href="#section-13.1.1-1" class="pilcrow">¶</a></p>
<p id="section-13.1.1-2">
  The IPv4 source address of an ICMP redirect should be the address
  that the end-host used when making its next-hop routing decision.  If
  a VRRP router is acting as Active for virtual router(s) containing
  addresses it does not own, then it must determine which virtual
  router the packet was sent to when selecting the redirect source
  address.  One method to deduce the virtual router used is to examine
  the destination MAC address in the packet that triggered the
redirect.<a href="#section-13.1.1-2" class="pilcrow">¶</a></p>
<p id="section-13.1.1-3">
  It may be useful to disable redirects for specific cases where VRRP
  is being used to load-share traffic between a number of routers in a
symmetric topology.<a href="#section-13.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-8.1.2">
<section id="section-13.1.2">
          <h4 id="name-host-arp-requests">
<a href="#section-13.1.2" class="section-number selfRef">13.1.2. </a><a href="#name-host-arp-requests" class="section-name selfRef">Host ARP Requests</a>
          </h4>
<p id="section-13.1.2-1">
  When a host sends an ARP request for one of the virtual router IPv4
  addresses, the Virtual Router Active MUST respond to the ARP request
  with an ARP response that indicates the virtual MAC address for the
  virtual router.  Note that the source address of the Ethernet frame
  of this ARP response is the physical MAC address of the physical
  router.  The Virtual Router Active MUST NOT respond with its physical
  MAC address in the ARP response.  This allows the client to always
use the same MAC address regardless of the current Active router.<a href="#section-13.1.2-1" class="pilcrow">¶</a></p>
<p id="section-13.1.2-2">
  When a VRRP router restarts or boots, it SHOULD NOT send any ARP
  messages using its physical MAC address for the IPv4 address it owns;
it should only send ARP messages that include virtual MAC addresses.<a href="#section-13.1.2-2" class="pilcrow">¶</a></p>
<p id="section-13.1.2-3">
This may entail the following:<a href="#section-13.1.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-13.1.2-4.1">When configuring an interface, Virtual Router Active routers
  should broadcast a gratuitous ARP request containing the virtual
router MAC address for each IPv4 address on that interface.<a href="#section-13.1.2-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-13.1.2-4.2">At system boot, when initializing interfaces for VRRP operation,
delay gratuitous ARP requests and ARP responses until both the
IPv4 address and the virtual router MAC address are configured.<a href="#section-13.1.2-4.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-13.1.2-4.3">When, for example, ssh access to a particular VRRP router is
required, an IP address known to belong to that router must be
used.<a href="#section-13.1.2-4.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="sect-8.1.3">
<section id="section-13.1.3">
          <h4 id="name-proxy-arp">
<a href="#section-13.1.3" class="section-number selfRef">13.1.3. </a><a href="#name-proxy-arp" class="section-name selfRef">Proxy ARP</a>
          </h4>
<p id="section-13.1.3-1">
  If Proxy ARP is to be used on a VRRP router, then the VRRP router
  must advertise the virtual router MAC address in the Proxy ARP
  message.  Doing otherwise could cause hosts to learn the real MAC
address of the VRRP router.<a href="#section-13.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-8.2">
<section id="section-13.2">
        <h3 id="name-ipv6-2">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-ipv6-2" class="section-name selfRef">IPv6</a>
        </h3>
<div id="sect-8.2.1">
<section id="section-13.2.1">
          <h4 id="name-icmpv6-redirects">
<a href="#section-13.2.1" class="section-number selfRef">13.2.1. </a><a href="#name-icmpv6-redirects" class="section-name selfRef">ICMPv6 Redirects</a>
          </h4>
<p id="section-13.2.1-1">
  ICMPv6 redirects may be used normally when VRRP is running between a
  group of routers <span>[<a href="#RFC4443" class="xref">RFC4443</a>]</span>.  This allows VRRP to be used in
  environments where the topology is not symmetric (e.g., the VRRP
routers do not connect to the same destinations).<a href="#section-13.2.1-1" class="pilcrow">¶</a></p>
<p id="section-13.2.1-2">
  The IPv6 source address of an ICMPv6 redirect should be the address
  that the end-host used when making its next-hop routing decision.  If
  a VRRP router is acting as Active for virtual router(s) containing
  addresses it does not own, then it must determine which virtual
  router the packet was sent to when selecting the redirect source
  address.  A method to deduce the virtual router used is to examine
  the destination MAC address in the packet that triggered the
redirect.<a href="#section-13.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-8.2.2">
<section id="section-13.2.2">
          <h4 id="name-nd-neighbor-solicitation">
<a href="#section-13.2.2" class="section-number selfRef">13.2.2. </a><a href="#name-nd-neighbor-solicitation" class="section-name selfRef">ND Neighbor Solicitation</a>
          </h4>
<p id="section-13.2.2-1">
  When a host sends an ND Neighbor Solicitation message for the virtual
  router IPv6 address, the Virtual Router Active MUST respond to the ND
  Neighbor Solicitation message with the virtual MAC address for the
  virtual router.  The Virtual Router Active MUST NOT respond with its
  physical MAC address.  This allows the client to always use the same
MAC address regardless of the current Active router.<a href="#section-13.2.2-1" class="pilcrow">¶</a></p>
<p id="section-13.2.2-2">
  When a Virtual Router Active sends an ND Neighbor Solicitation
  message for a host's IPv6 address, the Virtual Router Active MUST
  include the virtual MAC address for the virtual router if it sends a
  source link-layer address option in the neighbor solicitation
  message.  It MUST NOT use its physical MAC address in the source
link-layer address option.<a href="#section-13.2.2-2" class="pilcrow">¶</a></p>
<p id="section-13.2.2-3">
  When a VRRP router restarts or boots, it SHOULD NOT send any ND
  messages with its physical MAC address for the IPv6 address it owns;
it should only send ND messages that include virtual MAC addresses.<a href="#section-13.2.2-3" class="pilcrow">¶</a></p>
<p id="section-13.2.2-4">
This may entail the following:<a href="#section-13.2.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-13.2.2-5.1">When configuring an interface, Virtual Router Active routers
  should send an unsolicited ND Neighbor Advertisement message
  containing the virtual router MAC address for the IPv6 address on
that interface.<a href="#section-13.2.2-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-13.2.2-5.2">At system boot, when initializing interfaces for VRRP operation,
all ND Router and Neighbor Advertisements and Solicitation
messages must be delayed until both the IPv6 address and the
virtual router MAC address are configured.<a href="#section-13.2.2-5.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-13.2.2-6">
  Note that on a restarting Active router where the VRRP protected
  address is the interface address, (that is, priority 255) duplicate
  address detection (DAD) may fail, as the Backup router may answer
  that it owns the address.  One solution is to not run DAD in this
case.<a href="#section-13.2.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-8.2.3">
<section id="section-13.2.3">
          <h4 id="name-router-advertisements">
<a href="#section-13.2.3" class="section-number selfRef">13.2.3. </a><a href="#name-router-advertisements" class="section-name selfRef">Router Advertisements</a>
          </h4>
<p id="section-13.2.3-1">
  When a Backup VRRP router has become Active for a virtual router, it
  is responsible for sending Router Advertisements for the virtual
  router as specified in <a href="#sect-6.4.3" class="xref">Section 12.6</a>.  The Backup routers must be
  configured to send the same Router Advertisement options as the
address owner.<a href="#section-13.2.3-1" class="pilcrow">¶</a></p>
<p id="section-13.2.3-2">
  Router Advertisement options that advertise special services (e.g.,
  Home Agent Information Option) that are present in the address owner
  should not be sent by the address owner unless the Backup routers are
  prepared to assume these services in full and have a complete and
synchronized database for this service.<a href="#section-13.2.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-8.3">
<section id="section-13.3">
        <h3 id="name-ipvx">
<a href="#section-13.3" class="section-number selfRef">13.3. </a><a href="#name-ipvx" class="section-name selfRef">IPvX</a>
        </h3>
<div id="sect-8.3.1">
<section id="section-13.3.1">
          <h4 id="name-potential-forwarding-loop">
<a href="#section-13.3.1" class="section-number selfRef">13.3.1. </a><a href="#name-potential-forwarding-loop" class="section-name selfRef">Potential Forwarding Loop</a>
          </h4>
<p id="section-13.3.1-1">
  If it is not the address owner, a VRRP router SHOULD NOT forward
  packets addressed to the IPvX address for which it becomes Active.
  Forwarding these packets would result in unnecessary traffic.  Also,
  in the case of LANs that receive packets they transmit (e.g., Token
  Ring), this can result in a forwarding loop that is only terminated
when the IPvX TTL expires.<a href="#section-13.3.1-1" class="pilcrow">¶</a></p>
<p id="section-13.3.1-2">
  One such mechanism for VRRP routers is to add/delete a reject host
  route for each adopted IPvX address when transitioning to/from Active
state.<a href="#section-13.3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-8.3.2">
<section id="section-13.3.2">
          <h4 id="name-recommendations-regarding-s">
<a href="#section-13.3.2" class="section-number selfRef">13.3.2. </a><a href="#name-recommendations-regarding-s" class="section-name selfRef">Recommendations Regarding Setting Priority Values</a>
          </h4>
<p id="section-13.3.2-1">
  A priority value of 255 designates a particular router as the "IPvX address owner".  Care must be taken not to configure more than one
router on the link in this way for a single VRID.<a href="#section-13.3.2-1" class="pilcrow">¶</a></p>
<p id="section-13.3.2-2">
  Routers with priority 255 will, as soon as they start up, preempt all
  lower-priority routers.  No more than one router on the link is to be
  configured with priority 255, especially if preemption is set.  If no
  router has this priority, and preemption is disabled, then no
preemption will occur.<a href="#section-13.3.2-2" class="pilcrow">¶</a></p>
<p id="section-13.3.2-3">
  When there are multiple Backup routers, their priority values should
  be uniformly distributed.  For example, if one Backup router has the
  default priority of 100 and another Backup Router is added, a
  priority of 50 would be a better choice for it than 99 or 100, in
order to facilitate faster convergence.<a href="#section-13.3.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="sect-8.4">
<section id="section-13.4">
        <h3 id="name-vrrpv3-and-vrrpv2-interoper">
<a href="#section-13.4" class="section-number selfRef">13.4. </a><a href="#name-vrrpv3-and-vrrpv2-interoper" class="section-name selfRef">VRRPv3 and VRRPv2 Interoperation</a>
        </h3>
<div id="sect-8.4.1">
<section id="section-13.4.1">
          <h4 id="name-assumptions">
<a href="#section-13.4.1" class="section-number selfRef">13.4.1. </a><a href="#name-assumptions" class="section-name selfRef">Assumptions</a>
          </h4>
<ol start="1" type="1" class="normal type-1" id="section-13.4.1-1">
<li id="section-13.4.1-1.1">VRRPv2 and VRRPv3 interoperation is optional.<a href="#section-13.4.1-1.1" class="pilcrow">¶</a>
</li>
            <li id="section-13.4.1-1.2">Mixing VRRPv2 and VRRPv3 should only be done when transitioning
from VRRPv2 to VRRPv3.  Mixing the two versions should not be
considered a permanent solution.<a href="#section-13.4.1-1.2" class="pilcrow">¶</a>
</li>
          </ol>
</section>
</div>
<div id="sect-8.4.2">
<section id="section-13.4.2">
          <h4 id="name-vrrpv3-support-of-vrrpv2">
<a href="#section-13.4.2" class="section-number selfRef">13.4.2. </a><a href="#name-vrrpv3-support-of-vrrpv2" class="section-name selfRef">VRRPv3 Support of VRRPv2</a>
          </h4>
<p id="section-13.4.2-1">
  As mentioned above, this support is intended for upgrade scenarios
and is NOT recommended for permanent deployments.<a href="#section-13.4.2-1" class="pilcrow">¶</a></p>
<p id="section-13.4.2-2">
  An implementation MAY implement a configuration flag that tells it to
listen for and send both VRRPv2 and VRRPv3 advertisements.<a href="#section-13.4.2-2" class="pilcrow">¶</a></p>
<p id="section-13.4.2-3">
  When a virtual router is configured this way and is the Active, it
MUST send both types at the configured rate, even if sub-second.<a href="#section-13.4.2-3" class="pilcrow">¶</a></p>
<p id="section-13.4.2-4">
  When a virtual router is configured this way and is the Backup, it
  should time out based on the rate advertised by the Active; in the
  case of a VRRPv2 Active, this means it must translate the timeout
  value it receives (in seconds) into centiseconds.  Also, a Backup
  should ignore VRRPv2 advertisements from the current Active if it is
  also receiving VRRPv3 packets from it.  It MAY report when a VRRPv3
  Active is *not* sending VRRPv2 packets: that suggests they don't
agree on whether they're supporting VRRPv2 routers.<a href="#section-13.4.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-8.4.3">
<section id="section-13.4.3">
          <h4 id="name-vrrpv3-support-of-vrrpv2-co">
<a href="#section-13.4.3" class="section-number selfRef">13.4.3. </a><a href="#name-vrrpv3-support-of-vrrpv2-co" class="section-name selfRef">VRRPv3 Support of VRRPv2 Considerations</a>
          </h4>
<div id="sect-8.4.3.1">
<section id="section-13.4.3.1">
            <h5 id="name-slow-high-priority-actives">
<a href="#section-13.4.3.1" class="section-number selfRef">13.4.3.1. </a><a href="#name-slow-high-priority-actives" class="section-name selfRef">Slow, High-Priority Actives</a>
            </h5>
<p id="section-13.4.3.1-1">
    See also <a href="#sect-5.2.7" class="xref">Section 11.2.7</a>, "Maximum Advertisement Interval (Max Adver Int)".<a href="#section-13.4.3.1-1" class="pilcrow">¶</a></p>
<p id="section-13.4.3.1-2">
      The VRRPv2 Active router interacting with a sub-second VRRPv3 Backup
    router is the most important example of this.<a href="#section-13.4.3.1-2" class="pilcrow">¶</a></p>
<p id="section-13.4.3.1-3">
      A VRRPv2 implementation should not be given a higher priority than a
      VRRPv2/VRRPv3 implementation it is interacting with if the VRRPv2/
    VRRPv3 rate is sub-second.<a href="#section-13.4.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-8.4.3.2">
<section id="section-13.4.3.2">
            <h5 id="name-overwhelming-vrrpv2-backups">
<a href="#section-13.4.3.2" class="section-number selfRef">13.4.3.2. </a><a href="#name-overwhelming-vrrpv2-backups" class="section-name selfRef">Overwhelming VRRPv2 Backups</a>
            </h5>
<p id="section-13.4.3.2-1">
      It seems possible that a VRRPv3 Active router sending at centisecond
      rates could potentially overwhelm a VRRPv2 Backup router with
    potentially unclear results.<a href="#section-13.4.3.2-1" class="pilcrow">¶</a></p>
<p id="section-13.4.3.2-2">
      In this upgrade case, a deployment should initially run the VRRPv3
      Active routers with lower frequencies (e.g., 100 centiseconds) until
      the VRRPv2 routers are upgraded.  Then, once the deployment has
      convinced itself that VRRPv3 is working properly, the VRRPv2 support
    may be unconfigured and then the desired sub-second rates configured.<a href="#section-13.4.3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="Acknowledgments">
<section id="section-14">
      <h2 id="name-contributors-and-acknowledg">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-contributors-and-acknowledg" class="section-name selfRef">Contributors and Acknowledgments</a>
      </h2>
<p id="section-14-1">
    The IPv6 text in this specification is based on <span>[<a href="#RFC2338" class="xref">RFC2338</a>]</span>.  The
    authors of RFC2338 are S. Knight, D. Weaver, D. Whipple, R. Hinden,
    D. Mitzel, P. Hunt, P. Higginson, M. Shand, and A. Lindem.<a href="#section-14-1" class="pilcrow">¶</a></p>
<p id="section-14-2">
    The author of <span>[<a href="#VRRP-IPv6" class="xref">VRRP-IPv6</a>]</span> would also like to thank Erik Nordmark,
    Thomas Narten, Steve Deering, Radia Perlman, Danny Mitzel, Mukesh
    Gupta, Don Provan, Mark Hollinger, John Cruz, and Melissa Johnson for
    their helpful suggestions.<a href="#section-14-2" class="pilcrow">¶</a></p>
<p id="section-14-3">
    The IPv4 text in this specification is based on <span>[<a href="#RFC3768" class="xref">RFC3768</a>]</span>.  The
    authors of that specification would like to thank Glen Zorn, Michael
    Lane, Clark Bremer, Hal Peterson, Tony Li, Barbara Denny, Joel
    Halpern, Steve Bellovin, Thomas Narten, Rob Montgomery, Rob Coltun,
    Radia Perlman, Russ Housley, Harald Alvestrand, Steve Bellovin, Ned
    Freed, Ted Hardie, Russ Housley, Bert Wijnen, Bill Fenner, and Alex
    Zinin for their comments and suggestions.<a href="#section-14-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANA">
<section id="section-15">
      <h2 id="name-iana-considerations-8">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-iana-considerations-8" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-15-1">
    IANA has assigned an IPv6 link-local scope multicast address for VRRP
    for IPv6.  The IPv6 multicast address is FF02:0:0:0:0:0:0:12.<a href="#section-15-1" class="pilcrow">¶</a></p>
<p id="section-15-2">
    IANA has reserved a block of IANA Ethernet unicast addresses for
    VRRP for IPv6 in the range 00-00-5E-00-02-00 to 00-00-5E-00-02-FF (in hex).<a href="#section-15-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="Security">
<section id="section-16">
      <h2 id="name-security-considerations-8">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-security-considerations-8" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-16-1">
    VRRP for IPvX does not currently include any type of authentication.
    Earlier versions of the VRRP (for IPv4) specification included<a href="#section-16-1" class="pilcrow">¶</a></p>
<p id="section-16-2">
    Some L2 switches provide the capability to filter out, for example,
    ARP and/or ND messages from end-hosts on a switch-port basis.  This
    mechanism could also filter VRRP messages from switch ports
    associated with end-hosts and can be considered for deployments with
    untrusted hosts.<a href="#section-16-2" class="pilcrow">¶</a></p>
<p id="section-16-3">
    It should be noted that these attacks are not worse and are a subset
    of the attacks that any node attached to a LAN can do independently
    of VRRP.  The kind of attacks a malicious node on a LAN can do
    include promiscuously receiving packets for any router's MAC address;
    sending packets with the router's MAC address as the source MAC
    address in the L2 header to tell the L2 switches to send packets
    addressed to the router to the malicious node instead of the router;
    send redirects to tell the hosts to send their traffic somewhere
    else; send unsolicited ND replies; answer ND requests; etc.  All of
    this can be done independently of implementing VRRP.  VRRP does not
    add to these vulnerabilities.<a href="#section-16-3" class="pilcrow">¶</a></p>
<p id="section-16-4">
    Independent of any authentication type, VRRP includes a mechanism
    (setting TTL = 255, checking on receipt) that protects against VRRP
    packets being injected from another remote network.  This limits most
    vulnerabilities to local attacks.<a href="#section-16-4" class="pilcrow">¶</a></p>
<p id="section-16-5">
    VRRP does not provide any confidentiality.  Confidentiality is not
    necessary for the correct operation of VRRP, and there is no
    information in the VRRP messages that must be kept secret from other
    nodes on the LAN.<a href="#section-16-5" class="pilcrow">¶</a></p>
<p id="section-16-6">
    In the context of IPv6 operation, if SEcure Neighbor Discovery (SEND)
    is deployed, VRRP is compatible with the "trust anchor" and "trust
    anchor or cga" modes of SEND <span>[<a href="#RFC3971" class="xref">RFC3971</a>]</span>.  The SEND configuration needs
    to give the Active and Backup routers the same prefix delegation in
    the certificates so that Active and Backup routers advertise the same
    set of subnet prefixes.  However, the Active and Backup routers
    should have their own key pairs to avoid private key sharing.<a href="#section-16-6" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-17">
      <h2 id="name-normative-references-7">
<a href="#section-17" class="section-number selfRef">17. </a><a href="#name-normative-references-7" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="ISO.10038.1993">[ISO.10038.1993]</dt>
      <dd>
<span class="refAuthor">International Organization for Standardization</span>, <span class="refTitle">"Information technology - Telecommunications and information exchange between systems - Local area networks - Media access control (MAC) bridges"</span>, <span class="seriesInfo">ISO Standard 10038</span>, <time datetime="1993" class="refDate">1993</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <time datetime="1997" class="refDate">1997</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2460">[RFC2460]</dt>
      <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <time datetime="1998" class="refDate">1998</time>. </dd>
<dd class="break"></dd>
<dt id="RFC3768">[RFC3768]</dt>
      <dd>
<span class="refAuthor">Hinden, R.</span>, <span class="refTitle">"Virtual Router Redundancy Protocol"</span>, <time datetime="2004" class="refDate">2004</time>. </dd>
<dd class="break"></dd>
<dt id="RFC4291">[RFC4291]</dt>
      <dd>
<span class="refAuthor">Deering, S.</span> and <span class="refAuthor">R. Hinden</span>, <span class="refTitle">"IP Version 6 Addressing Architecture"</span>, <time datetime="2006" class="refDate">2006</time>. </dd>
<dd class="break"></dd>
<dt id="RFC4443">[RFC4443]</dt>
      <dd>
<span class="refAuthor">Deering, S.</span>, <span class="refAuthor">Conta, A.</span>, and <span class="refAuthor">M. Gupta</span>, <span class="refTitle">"Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification"</span>, <time datetime="2006" class="refDate">2006</time>. </dd>
<dd class="break"></dd>
<dt id="RFC4861">[RFC4861]</dt>
      <dd>
<span class="refAuthor">Narten, T.</span>, <span class="refAuthor">Nordmark, E.</span>, <span class="refAuthor">Simpson, M.</span>, and <span class="refAuthor">H. Soliman</span>, <span class="refTitle">"Neighbor Discovery for IP version 6"</span>, <time datetime="2007" class="refDate">2007</time>. </dd>
<dd class="break"></dd>
<dt id="RFC5798">[RFC5798]</dt>
    <dd>
<span class="refAuthor">Nadas, S.</span>, <span class="refTitle">"Virtual Router Redundancy Protocol (VRRP) Version 3 for IPv4 and IPv6"</span>, <span class="seriesInfo">RFC 5798</span>, <time datetime="2010" class="refDate">2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5798">https://www.rfc-editor.org/rfc/rfc5798</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-18">
      <h2 id="name-informative-references-8">
<a href="#section-18" class="section-number selfRef">18. </a><a href="#name-informative-references-8" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="IPSTB">[IPSTB]</dt>
      <dd>
<span class="refAuthor">Higginson, P. and M. Shand</span>, <span class="refTitle">"Development of Router Clusters to Provide Fast Failover in IP Networks", Digital Technical Journal, Volume 9 Number 3"</span>, <time datetime="1997" class="refDate">1997</time>. </dd>
<dd class="break"></dd>
<dt id="IPX">[IPX]</dt>
      <dd>
<span class="refAuthor">Novell Incorporated</span>, <span class="refTitle">"IPX Router Specification Version 1.10"</span>, <time datetime="1992-10" class="refDate">October 1992</time>. </dd>
<dd class="break"></dd>
<dt id="RFC1071">[RFC1071]</dt>
      <dd>
<span class="refAuthor">Braden, R.</span>, <span class="refAuthor">Borman, D.</span>, and <span class="refAuthor">C. Partridge</span>, <span class="refTitle">"Computing the Internet Checksum"</span>, <time datetime="1988-09" class="refDate">September 1988</time>. </dd>
<dd class="break"></dd>
<dt id="RFC1256">[RFC1256]</dt>
      <dd>
<span class="refAuthor">Deering, S.</span>, <span class="refTitle">"ICMP Router Discovery Messages"</span>, <time datetime="1991-09" class="refDate">September 1991</time>. </dd>
<dd class="break"></dd>
<dt id="RFC1469">[RFC1469]</dt>
      <dd>
<span class="refAuthor">Pusateri, T.</span>, <span class="refTitle">"IP Multicast over Token-Ring Local Area Networks"</span>, <time datetime="1993-06" class="refDate">June 1993</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2131">[RFC2131]</dt>
      <dd>
<span class="refAuthor">Droms, T.</span>, <span class="refTitle">"Dynamic Host Configuration Protocol"</span>, <time datetime="1997-03" class="refDate">March 1997</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2281">[RFC2281]</dt>
      <dd>
<span class="refAuthor">Li, T.</span>, <span class="refAuthor">Cole, B.</span>, <span class="refAuthor">Morton, P.</span>, and <span class="refAuthor">D. Lo</span>, <span class="refTitle">"Cisco Hot Standby Router Protocol (HSRP)"</span>, <time datetime="1998-03" class="refDate">March 1998</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2328">[RFC2328]</dt>
      <dd>
<span class="refAuthor">Moy, J.</span>, <span class="refTitle">"OSPF Version 2"</span>, <time datetime="1998-04" class="refDate">April 1998</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2338">[RFC2338]</dt>
      <dd>
<span class="refAuthor">Knight, S.</span>, <span class="refAuthor">Weaver, D.</span>, <span class="refAuthor">Whipple, D.</span>, <span class="refAuthor">Hinden, R.</span>, <span class="refAuthor">Mitzel, D.</span>, <span class="refAuthor">Hunt, P.</span>, <span class="refAuthor">Higginson, P.</span>, <span class="refAuthor">Shand, M.</span>, <span class="refAuthor">Lindem, A.</span>, and <span class="refAuthor">G. Malkin</span>, <span class="refTitle">"Virtual Router Redundancy Protocol"</span>, <time datetime="1998-04" class="refDate">April 1998</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2453">[RFC2453]</dt>
      <dd>
<span class="refAuthor">Malkin, G.</span>, <span class="refTitle">"RIP Version 2"</span>, <time datetime="1998-11" class="refDate">November 1998</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2464">[RFC2464]</dt>
      <dd>
<span class="refAuthor">Crawford, M.</span>, <span class="refTitle">"Transmission of IPv6 Packets over Ethernet Networks"</span>, <time datetime="1998-12" class="refDate">December 1998</time>. </dd>
<dd class="break"></dd>
<dt id="RFC3971">[RFC3971]</dt>
      <dd>
<span class="refAuthor">Arkko, J.</span>, <span class="refAuthor">Kempf, J.</span>, <span class="refAuthor">Zill, B.</span>, and <span class="refAuthor">P. Nikander</span>, <span class="refTitle">"SEcure Neighbor Discovery (SEND)"</span>, <time datetime="2005-03" class="refDate">March 2005</time>. </dd>
<dd class="break"></dd>
<dt id="TKARCH">[TKARCH]</dt>
      <dd>
<span class="refAuthor">IBM Incorporated</span>, <span class="refTitle">"IBM Token-Ring Network, Architecture Specification, Publication SC30-3374-02, Third Edition"</span>, <time datetime="1989-09" class="refDate">September 1989</time>. </dd>
<dd class="break"></dd>
<dt id="VRRP-IPv6">[VRRP-IPv6]</dt>
    <dd>
<span class="refAuthor">Hinden, R.</span> and <span class="refAuthor">J. Cruz</span>, <span class="refTitle">"Virtual Router Redundancy Protocol for IPv6"</span>, <span class="seriesInfo">Work in Progress</span>, <time datetime="2007-03" class="refDate">March 2007</time>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="sect-a">
<section id="appendix-A">
      <h2 id="name-operation-over-fddi-token-r">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-operation-over-fddi-token-r" class="section-name selfRef">Operation over FDDI, Token Ring, and ATM LANE</a>
      </h2>
<div id="sect-a.1">
<section id="appendix-A.1">
        <h3 id="name-operation-over-fddi">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-operation-over-fddi" class="section-name selfRef">Operation over FDDI</a>
        </h3>
<p id="appendix-A.1-1">
  FDDI interfaces remove from the FDDI ring frames that have a source
  MAC address matching the device's hardware address.  Under some
  conditions, such as router isolations, ring failures, protocol
  transitions, etc., VRRP may cause there to be more than one Active
  router.  If a Active router installs the virtual router MAC address
  as the hardware address on a FDDI device, then other Actives'
  ADVERTISEMENTS will be removed from the ring during the Active
convergence, and convergence will fail.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<p id="appendix-A.1-2">
  To avoid this, an implementation SHOULD configure the virtual router
  MAC address by adding a unicast MAC filter in the FDDI device, rather
  than changing its hardware MAC address.  This will prevent a Active
router from removing any ADVERTISEMENTS it did not originate.<a href="#appendix-A.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-a.2">
<section id="appendix-A.2">
        <h3 id="name-operation-over-token-ring">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-operation-over-token-ring" class="section-name selfRef">Operation over Token Ring</a>
        </h3>
<p id="appendix-A.2-1">
    Token Ring has several characteristics that make running VRRP
  difficult.  These include the following:<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A.2-2.1">In order to switch to a new Active located on a different bridge
    Token-Ring segment from the previous Active when using source-
    route bridges, a mechanism is required to update cached source-
    route information.<a href="#appendix-A.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="appendix-A.2-2.2">No general multicast mechanism is supported across old and new
    Token-Ring adapter implementations.  While many newer Token-Ring
    adapters support group addresses, Token-Ring functional-address
    support is the only generally available multicast mechanism.  Due
    to the limited number of Token-Ring functional addresses, these
    may collide with other usage of the same Token-Ring functional
    addresses.<a href="#appendix-A.2-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="appendix-A.2-3">
    Due to these difficulties, the preferred mode of operation over Token
    Ring will be to use a Token-Ring functional address for the VRID
    virtual MAC address.  Token-Ring functional addresses have the two
    high-order bits in the first MAC address octet set to B'1'.  They
    range from 03-00-00-00-00-80 to 03-00-02-00-00-00 (canonical format).
    However, unlike multicast addresses, there is only one unique
    functional address per bit position.  The functional addresses
    03-00-00-10-00-00 through 03-00-02-00-00-00 are reserved by the
    Token-Ring Architecture <span>[<a href="#TKARCH" class="xref">TKARCH</a>]</span> for user-defined applications.
    However, since there are only 12 user-defined Token-Ring functional
    addresses, there may be other non-IPvX protocols using the same
    functional address.  Since the Novell IPX <span>[<a href="#IPX" class="xref">IPX</a>]</span> protocol uses the
    03-00-00-10-00-00 functional address, operation of VRRP over Token
    Ring will avoid use of this functional address.  In general, Token-
    Ring VRRP users will be responsible for resolution of other user-
  defined Token-Ring functional address conflicts.<a href="#appendix-A.2-3" class="pilcrow">¶</a></p>
<p id="appendix-A.2-4">
    VRIDs are mapped directly to Token-Ring functional addresses.  In
    order to decrease the likelihood of functional-address conflicts,
    allocation will begin with the largest functional address.  Most non-
    IPvX protocols use the first or first couple user-defined functional
    addresses, and it is expected that VRRP users will choose VRIDs
  sequentially, starting with 1.<a href="#appendix-A.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.2-5">
<pre>
  VRID      Token-Ring Functional Address
  ----      -----------------------------
  1             03-00-02-00-00-00
  2             03-00-04-00-00-00
  3             03-00-08-00-00-00
  4             03-00-10-00-00-00
  5             03-00-20-00-00-00
  6             03-00-40-00-00-00
  7             03-00-80-00-00-00
  8             03-00-00-01-00-00
  9             03-00-00-02-00-00
  10            03-00-00-04-00-00
  11            03-00-00-08-00-00
</pre><a href="#appendix-A.2-5" class="pilcrow">¶</a>
</div>
<p id="appendix-A.2-6">
    Or, more succinctly, octets 3 and 4 of the functional address are
  equal to (0x4000 &gt;&gt; (VRID - 1)) in non-canonical format.<a href="#appendix-A.2-6" class="pilcrow">¶</a></p>
<p id="appendix-A.2-7">
    Since a functional address cannot be used as a MAC-level source
    address, the real MAC address is used as the MAC source address in
    VRRP advertisements.  This is not a problem for bridges, since
    packets addressed to functional addresses will be sent on the
  spanning-tree explorer path <span>[<a href="#ISO.10038.1993" class="xref">ISO.10038.1993</a>]</span>.<a href="#appendix-A.2-7" class="pilcrow">¶</a></p>
<p id="appendix-A.2-8">
    The functional-address mode of operation MUST be implemented by
  routers supporting VRRP on Token Ring.<a href="#appendix-A.2-8" class="pilcrow">¶</a></p>
<p id="appendix-A.2-9">
    Additionally, routers MAY support the unicast mode of operation to
    take advantage of newer Token-Ring adapter implementations that
    support non-promiscuous reception for multiple unicast MAC addresses
    and to avoid both the multicast traffic and usage conflicts
    associated with the use of Token-Ring functional addresses.  Unicast
    mode uses the same mapping of VRIDs to virtual MAC addresses as
    Ethernet.  However, one important difference exists.  ND
    request/reply packets contain the virtual MAC address as the source
    MAC address.  The reason for this is that some Token-Ring driver
    implementations keep a cache of MAC address/source-routing
  information independent of the ND cache.<a href="#appendix-A.2-9" class="pilcrow">¶</a></p>
<p id="appendix-A.2-10">
    Hence, these implementations have to receive a packet with the
    virtual MAC address as the source address in order to transmit to
  that MAC address in a source-route-bridged network.<a href="#appendix-A.2-10" class="pilcrow">¶</a></p>
<p id="appendix-A.2-11">
    Unicast mode on Token Ring has one limitation that should be
    considered.  If there are VRID routers on different source-route-
    bridge segments, and there are host implementations that keep their
    source-route information in the ND cache and do not listen to
    gratuitous NDs, these hosts will not update their ND source-route
    information correctly when a switchover occurs.  The only possible
    solution is to put all routers with the same VRID on the same source-
    route-bridge segment and use techniques to prevent that bridge
    segment from being a single point of failure.  These techniques are
  beyond the scope of this document.<a href="#appendix-A.2-11" class="pilcrow">¶</a></p>
<p id="appendix-A.2-12">
    For both the multicast and unicast mode of operation, VRRP
    advertisements sent to 224.0.0.18 should be encapsulated as described
  in <span>[<a href="#RFC1469" class="xref">RFC1469</a>]</span>.<a href="#appendix-A.2-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sect-a.3">
<section id="appendix-A.3">
        <h3 id="name-operation-over-atm-lane">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-operation-over-atm-lane" class="section-name selfRef">Operation over ATM LANE</a>
        </h3>
<p id="appendix-A.3-1">
    Operation of VRRP over ATM LANE on routers with ATM LANE interfaces
    and/or routers behind proxy LAN Emulation Clients (LECs) are beyond
  the scope of this document.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses-8">
<a href="#name-authors-addresses-8" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Acee Lindem</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="street-address">301 Midenhall Way</span></div>
<div dir="auto" class="left">
<span class="locality">Cary</span>, <span class="region">NC</span> <span class="postal-code">27513</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:acee@cisco.com" class="email">acee@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Aditya Dogra</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems</span></div>
<div dir="auto" class="left"><span class="street-address">Sarjapur Outer Ring Road</span></div>
<div dir="auto" class="left">
<span class="locality">Bangalore</span> <span class="postal-code">560103</span>
</div>
<div dir="auto" class="left"><span class="region">Karnataka</span></div>
<div dir="auto" class="left"><span class="country-name">India</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:addogra@cisco.com" class="email">addogra@cisco.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Stephen Nadas</span></div>
<div dir="auto" class="left"><span class="org">Boston University</span></div>
<div dir="auto" class="left"><span class="street-address">Greater Boston Area</span></div>
<div dir="auto" class="left">
<span class="locality">Boston</span>, <span class="region">MA</span> <span class="postal-code">02215</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:nadas@bu.edu" class="email">nadas@bu.edu</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
