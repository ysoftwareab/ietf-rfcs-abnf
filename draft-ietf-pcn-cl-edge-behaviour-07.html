<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>PCN Boundary Node
    Behaviour for the Controlled Load (CL) Mode of Operation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="PCN Boundary Node
    Behaviour for the Controlled Load (CL) Mode of Operation">
<meta name="keywords" content="PCN, controlled load, CL, boundary node behaviour">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">A. Charny</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">F. Huang</td></tr>
<tr><td class="header">Expires: March 8, 2011</td><td class="header">Huawei Technologies</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">G. Karagiannis</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">U. Twente</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Menth</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">University of Wuerzburg</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">T. Taylor, Ed.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Huawei Technologies</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">September 4, 2010</td></tr>
</table></td></tr></table>
<h1><br />PCN Boundary Node
    Behaviour for the Controlled Load (CL) Mode of Operation<br />draft-ietf-pcn-cl-edge-behaviour-07</h1>

<h3>Abstract</h3>

<p>Pre-congestion notification (PCN) is a means for protecting
    the quality of service for inelastic traffic admitted to a
    Diffserv domain. The overall PCN architecture is described in RFC
    5559. This memo is one of a series describing possible boundary
    node behaviours for a PCN-domain. The behaviour described here is
    that for a form of measurement-based load control using three PCN
    marking states, not-marked, threshold-marked, and 
    excess-traffic-marked. This behaviour is known informally as the
    Controlled Load (CL) PCN-boundary-node behaviour. 
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on March 8, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#terms">1.1.</a>&nbsp;
Terminology<br />
<a href="#coreAssum">2.</a>&nbsp;
Assumed Core Network Behaviour for CL<br />
<a href="#behaviours">3.</a>&nbsp;
Node Behaviours<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#overBehav">3.1.</a>&nbsp;
Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#egressBehav">3.2.</a>&nbsp;
Behaviour of the PCN-Egress-Node<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#egrColl">3.2.1.</a>&nbsp;
Data Collection<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#egrSig">3.2.2.</a>&nbsp;
Reporting the PCN Data<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#repSuppress">3.2.3.</a>&nbsp;
Optional Report Suppression<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#decisBehav">3.3.</a>&nbsp;
Behaviour at the Decision Point<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#decisAdmit">3.3.1.</a>&nbsp;
Flow Admission<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#decisTerm">3.3.2.</a>&nbsp;
Flow Termination<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#decisSig">3.3.3.</a>&nbsp;
Decision Point Action For Missing 
		PCN-Boundary-Node Reports<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ingrBehav">3.4.</a>&nbsp;
Behaviour of the Ingress Node<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#timers">3.5.</a>&nbsp;
Summary of Timers<br />
<a href="#aggregates">4.</a>&nbsp;
Identifying Ingress and Egress
	Nodes for PCN Traffic<br />
<a href="#PDBSpec">5.</a>&nbsp;
Specification of Diffserv Per-Domain Behaviour<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBApplic">5.1.</a>&nbsp;
Applicability<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBTechSpec">5.2.</a>&nbsp;
Technical Specification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBAttrib">5.3.</a>&nbsp;
Attributes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBParms">5.4.</a>&nbsp;
Parameters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBAssum">5.5.</a>&nbsp;
Assumptions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBExamp">5.6.</a>&nbsp;
Example Uses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBEnv">5.7.</a>&nbsp;
Environmental Concerns<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PDBSec">5.8.</a>&nbsp;
Security Considerations<br />
<a href="#secur">6.</a>&nbsp;
Security Considerations<br />
<a href="#iana">7.</a>&nbsp;
IANA Considerations<br />
<a href="#Acknowledgements">8.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>   The objective of Pre-Congestion Notification (PCN) is to protect
    the quality of service of inelastic flows within a Diffserv domain, in a
    simple, scalable, and robust fashion.  Two mechanisms are used: admission
    control, to decide whether to admit or block a new flow request, and (in
    abnormal circumstances) flow termination to decide whether to terminate 
    some of the existing flows. To achieve this, the overall rate of PCN-traffic
    is metered on every link in the PCN-domain, and PCN-packets are 
    appropriately marked when certain configured rates are exceeded.  These
    configured rates are below the rate of the link thus providing notification
    to PCN-boundary-nodes about incipient overloads before any congestion occurs
    (hence the "pre" part of pre-congestion notification).  The level of marking
    allows decisions to be made on whether to admit or terminate PCN-flows. For
    more details see <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>. 
</p>
<p>PCN-boundary-node behaviours specify a detailed set of algorithms and
    procedures used to implement the PCN mechanisms. Since the algorithms
    depend on specific metering and marking behaviour at the interior nodes,
    it is also necessary to specify the assumptions made about
    PCN-interior-node behaviour. Finally, because PCN uses DSCP values to carry
    its markings, a specification of PCN-boundary-node behaviour must include
    the per domain behaviour (PDB) template specified in
    <a class='info' href='#RFC3086'>[RFC3086]<span> (</span><span class='info'>Nichols, K. and B. Carpenter, &ldquo;Definition of Differentiated Services Per Domain Behaviors and Rules for their Specification,&rdquo; April&nbsp;2001.</span><span>)</span></a>, filled out with the appropriate content. The
    present document accomplishes these tasks for the controlled load (CL)
    mode of operation. 
</p>
<a name="terms"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
      document are to be interpreted as described in RFC2119 [RFC2119].
</p>
<p>In addition to the terms defined in <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>,
      this document uses the following terms:
      </p>
<blockquote class="text"><dl>
<dt>Decision Point</dt>
<dd>
				 
				The node that makes the decision about which flows to admit and to
				terminate. In a given network deployment, this may be the 
				PCN-ingress-node or a centralized control node.  Regardless of the 
				location of the Decision Point, the ingress node is the point where 
				the decisions are enforced.
</dd>
<dt>NM-rate</dt>
<dd>
				
				The rate of not-marked PCN-traffic received at a PCN-egress-node
				for a given ingress-egress-aggregate in octets per second. For
				further details see <a class='info' href='#egrColl'>Section&nbsp;3.2.1<span> (</span><span class='info'>Data Collection</span><span>)</span></a>.
</dd>
<dt>ThM-rate</dt>
<dd>
         
        The rate of threshold-marked PCN-traffic received at a 
        PCN-egress-node for a given ingress-egress-aggregate in octets per
        second. For further details see <a class='info' href='#egrColl'>Section&nbsp;3.2.1<span> (</span><span class='info'>Data Collection</span><span>)</span></a>.
</dd>
<dt>ETM-rate</dt>
<dd>
         
        The rate of excess-traffic-marked PCN-traffic received at a 
        PCN-egress-node for a given ingress-egress-aggregate in octets per
        second. For further details see <a class='info' href='#egrColl'>Section&nbsp;3.2.1<span> (</span><span class='info'>Data Collection</span><span>)</span></a>.
</dd>
<dt>PCN-sent-rate</dt>
<dd>
        
        The rate of PCN-traffic received at a PCN-ingress-node and destined
        for a given ingress-egress-aggregate in octets per second. For further
        details see <a class='info' href='#ingrBehav'>Section&nbsp;3.4<span> (</span><span class='info'>Behaviour of the Ingress Node</span><span>)</span></a>.
</dd>
<dt>Congestion level estimate (CLE)</dt>
<dd>
        
        A value derived from the measurement of PCN packets
        received at a PCN-egress-node for a given ingress-egress-aggregate,
        representing the ratio of marked to total PCN-traffic (measured in
        octets) over a short period. The CLE is used to derive the 
        PCN-admission-state (<a class='info' href='#decisAdmit'>Section&nbsp;3.3.1<span> (</span><span class='info'>Flow Admission</span><span>)</span></a>) and also by the
        report suppression procedure (<a class='info' href='#repSuppress'>Section&nbsp;3.2.3<span> (</span><span class='info'>Optional Report Suppression</span><span>)</span></a>) if 
        report suppression is activated.
</dd>
<dt>PCN-admission-state</dt>
<dd> 
         
        The state ("admit" or "block") derived by the Decision Point for a given
        ingress-egress-aggregate based on PCN packet marking statistics. The 
        Decision Point decides to admit or block new flows offered to the 
        aggregate based on the current value of the PCN-admission-state. For 
        further details see <a class='info' href='#decisAdmit'>Section&nbsp;3.3.1<span> (</span><span class='info'>Flow Admission</span><span>)</span></a>.
</dd>
<dt>Sustainable aggregate rate (SAR)</dt>
<dd> 
         
        The estimated maximum rate of PCN-traffic that can be admitted to a given
        ingress-egress-aggregate at a given moment without risking degradation of
        quality of service for the admitted flows. The intention is that if the 
        PCN-sent-rate of every ingress-egress-aggregate passing through a given
        link is limited to its sustainable aggregate rate, the total rate of 
        PCN-traffic flowing through the link will be limited to the
        PCN-supportable-rate for that link. An estimate of the sustainable aggregate
        rate for a given ingress-egress-aggregate is derived as part of the flow
        termination procedure, and is used to determine how much PCN-traffic must
        be terminated. For further details see <a class='info' href='#decisTerm'>Section&nbsp;3.3.2<span> (</span><span class='info'>Flow Termination</span><span>)</span></a>.
</dd>
<dt>CLE-reporting-threshold</dt>
<dd> 
         
        A configurable value against which the CLE is compared as part of the
        report suppression procedure. For further details, see 
        <a class='info' href='#repSuppress'>Section&nbsp;3.2.3<span> (</span><span class='info'>Optional Report Suppression</span><span>)</span></a>.
</dd>
<dt>CLE-limit</dt>
<dd> 
         
        A configurable value against which the CLE is compared in order to 
        derive the PCN-admission-state for a given ingress-egress-aggregate.
        For further details, see <a class='info' href='#decisAdmit'>Section&nbsp;3.3.1<span> (</span><span class='info'>Flow Admission</span><span>)</span></a>.
</dd>
<dt>T-meas</dt>
<dd> 
         
        An interval, the value of which is configurable, defining the measurement
        period at the PCN-egress-node during which statistics relating to 
        PCN-traffic marking are collected. At the end of the interval the values 
        NM-rate, ThM-rate, and ETM-rate as defined above are calculated and a
        report is sent to the Decision Point, subject to the operation of the 
        report suppression feature. For further details see 
        <a class='info' href='#egressBehav'>Section&nbsp;3.2<span> (</span><span class='info'>Behaviour of the PCN-Egress-Node</span><span>)</span></a>.
</dd>
<dt>T-maxsuppress</dt>
<dd> 
         
        An interval, the value of which is configurable, after which the 
        PCN-egress-node must send a report to the Decision Point for a given 
        ingress-egress-aggregate regardless of the most recent values of the 
        CLE. This is used as a keep-alive mechanism for signalling between the
        PCN-egress-node and the Decision Point when report suppression is
        activated. For further details, see <a class='info' href='#repSuppress'>Section&nbsp;3.2.3<span> (</span><span class='info'>Optional Report Suppression</span><span>)</span></a>.
</dd>
<dt>T-fail</dt>
<dd> 
         
        An interval, the value of which is configurable, after which the Decision
        Point concludes that communication from a given PCN-egress-node has failed
        if it has received no reports from the PCN-egress-node during that 
        interval. For further details see <a class='info' href='#decisSig'>Section&nbsp;3.3.3<span> (</span><span class='info'>Decision Point Action For Missing  		PCN-Boundary-Node Reports</span><span>)</span></a>.
</dd>
</dl></blockquote><p>
      
</p>
<a name="coreAssum"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Assumed Core Network Behaviour for CL</h3>

<p> This section describes the assumed behaviour for nodes of the PCN-domain
	when acting in their role as PCN-interior-nodes. The CL mode of operation
	assumes that:
	</p>
<ul class="text">
<li> PCN-interior-nodes perform threshold-marking and excess-traffic-marking
		of packets according to the rules specified in <a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a>, and
		any additional rules specified in the applicable encoding extension document;
		
</li>
<li> encoding of PCN status within individual packets is based on 
		<a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>, extended to provide a third PCN encoding state.
		A possible extension is documented in <a class='info' href='#ID.PCN3in1'>[ID.PCN3in1]<span> (</span><span class='info'>Briscoe, B., &ldquo;PCN 3-State Encoding Extension in a single DSCP (Work in progress),&rdquo; July&nbsp;2010.</span><span>)</span></a>; 
</li>
<li> the PCN-domain satisfies the conditions specified in the applicable
		encoding extension document; 
</li>
<li> on each link the reference rate for the threshold-meter is configured
		to be equal to the PCN-admissible-rate for the link; 
</li>
<li> on each link the reference rate for the excess traffic meter is
		configured to be equal to the PCN-supportable-rate for the link; 
</li>
</ul><p>
	
</p>
<p> According to <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>, the encoding extension documents 
	should specify the allowable transitions between marking states. However, to
	be absolutely clear, these allowable transitions are specified here. At any
	interior node, the only permitted transitions are these: 
	</p>
<ul class="text">
<li>a PCN-packet that is not-marked (NM) MAY be threshold-marked (ThM)
		or excess-traffic-marked (ETM);
</li>
<li>a PCN-packet that is threshold-marked (ThM) MAY be 
		excess-traffic-marked (ETM).
</li>
</ul><p>

	An interior node MUST NOT perform any of the following:
	</p>
<ul class="text">
<li>re-mark a packet from PCN to non-PCN, or from non-PCN to PCN;
</li>
<li>re-mark a PCN-packet from threshold-marked (ThM) to not-marked (NM);
</li>
<li>re-mark a PCN-packet from excess-traffic-marked (ETM) to not-marked (NM) 
		or threshold-marked (ThM).
</li>
</ul><p>
	
</p>
<a name="behaviours"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Node Behaviours</h3>

<a name="overBehav"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Overview</h3>

<p>This section describes the behaviour of the PCN-ingress-node, 
		PCN-egress-node, and the Decision Point (which may be collocated with the 
		PCN-ingress-node). 
</p>
<p>The PCN-egress-node collects the rates of not-marked, threshold-marked, 
		and excess-traffic-marked PCN-traffic for each ingress-egress-aggregate and
		reports them to the Decision Point. It may also identify PCN-flows that have
		experienced excess-traffic-marking. For a detailed description, see 
		<a class='info' href='#egressBehav'>Section&nbsp;3.2<span> (</span><span class='info'>Behaviour of the PCN-Egress-Node</span><span>)</span></a>.
</p>
<p>The PCN-ingress-node enforces flow admission and termination decisions. 
		It also reports the rate of PCN-traffic sent to a given ingress-egress-aggregate
		when requested by the Decision Point. For details, see 
		<a class='info' href='#ingrBehav'>Section&nbsp;3.4<span> (</span><span class='info'>Behaviour of the Ingress Node</span><span>)</span></a>.
</p>
<p>Finally, the Decision Point makes flow admission decisions and selects 
		flows to terminate based on the information provided by the PCN-ingress-node 
		and PCN-egress-node for a given ingress-egress-aggregate. For details, see 
		<a class='info' href='#decisBehav'>Section&nbsp;3.3<span> (</span><span class='info'>Behaviour at the Decision Point</span><span>)</span></a>.
</p>
<a name="egressBehav"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Behaviour of the PCN-Egress-Node</h3>

<a name="egrColl"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Data Collection</h3>

<p>The PCN-egress-node MUST meter received PCN-traffic in order to derive
			periodically the following rates for each ingress-egress-aggregate passing
			through it: 
			</p>
<ul class="text">
<li>NM-rate: octets per second of PCN-traffic in PCN-packets that are 
				not-marked;
</li>
<li>ThM-rate: octets per second of PCN-traffic in PCN-packets that are
				threshold-marked;
</li>
<li>ETM-rate: octets per second of PCN-traffic in PCN-packets that are 
				excess-traffic-marked.
</li>
</ul><p> 
			It is RECOMMENDED that the measurement interval, T-meas, between successive
			calculations of these quantities be in the range of 100 to 500 ms to provide
			a reasonable tradeoff between signalling demands on the network and the time
			taken to react to impending congestion. 
</p>
<p>The PCN-traffic SHOULD be metered continuously and the intervals 
			themselves SHOULD be of equal length, to minimize the statistical variance
			introduced by the measurement process itself. The starting and ending times
			of the measurement intervals for different ingress-egress-aggregates MAY be
			the same or MAY be different.
</p>
<p>As a configurable option, the PCN-egress-node MAY record flow identifiers
			of the PCN-flows for which excess-traffic-marked packets have been observed.
			These can be used by the Decision Point when it selects flows for termination.
			</p>
<blockquote class="text">
<p>In networks using multipath routing it is possible that congestion is
				not occurring on all paths carrying a given ingress-egress-aggregate.
				Assuming that specific PCN-flows are routed via specific paths, identifying
				the PCN-flows that are experiencing excess-traffic-marking helps to avoid
				termination of PCN-flows not contributing to congestion.
</p>
</blockquote><p>
			
</p>
<a name="egrSig"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Reporting the PCN Data</h3>

<p>If the report suppression option described in the next sub-section is not
			activated, the PCN-egress-node MUST report the latest values of NM-rate, 
			ThM-rate, and ETM-rate to the Decision Point each time that it calculates 
			them.
</p>
<p>If so configured (e.g., because multipath routing is being used, as
			explained in the previous section), the PCN-egress-node MUST also report the
			set of flow identifiers of PCN-flows for which excess-traffic-marking was
			observed in the most recent measurement interval. If this set is large, the
			PCN-egress-node MAY report only the most recently excess-traffic-marked 
			PCN-flows rather than the complete set. 
</p>
<a name="repSuppress"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
Optional Report Suppression</h3>

<p>Report suppression MUST be provided as a configurable option, along with 
			two configurable parameters, the CLE-reporting-threshold and the maximum 
			report suppression interval T-maxsuppress. The default value of the 
			CLE-reporting-threshold is zero. T-maxsuppress is discussed further at the 
			end of this sub-section, but functions as a keep-alive mechanism for 
			signalling between the PCN-egress-node and the Decision Point.
</p>
<p>If the report suppression option is enabled, the PCN-egress-node MUST 
			apply the following procedure to decide whether to send a report to the
			Decision Point, rather than sending a report automatically at the end of
			each measurement interval. 
			</p>
<ol class="text">
<li>As well as the quantities NM-rate, ThM-rate, and ETM-rate, the 
				PCN-egress-node MUST calculate the congestion level estimate (CLE) for 
				each measurement interval. The CLE is equal to the ratio: 
				
<blockquote class="text">
<p>(ThM-rate + ETM-rate) / (NM-rate + ThM-rate + ETM-rate)
</p>
</blockquote> 
				if any PCN-traffic was observed, or zero otherwise.
				
</li>
<li>If the calculated CLE for the latest measurement interval or for the
				immediately previous interval is greater than the CLE-reporting-threshold,
				then the PCN-egress-node MUST send a report to the Decision Point. The
				contents of the report are described below.
</li>
<li>If an interval T-maxsuppress has elapsed since the last report was sent
				to the Decision Point, then the PCN-egress-node MUST send a report to the 
				Decision Point regardless of the CLE value. 
</li>
<li>If neither of the preceding conditions holds, the PCN-egress-node MUST
				NOT send a report for the latest measurement interval.
</li>
</ol><p>
			
</p>
<p>Each report sent to the Decision Point when report suppression has been
			activated MUST contain the values of NM-rate, ThM-rate, ETM-rate, and CLE 
			that were calculated for the most recent measurement interval. If so
			configured, the PCN-egress-node MUST also report the set of flow identifiers
			of PCN-flows for which excess-traffic-marking was observed in the most recent
			measurement interval.
</p>
<p>The above procedure ensures that at least one report is sent per interval
			(T-maxsuppress + T-meas). This provides some protection against loss of 
			egress reports and also demonstrates to the Decision Point that both the 
			PCN-egress-node and the communication path between the two nodes are in
			operation. However, depending on the transport used for reporting, the
			operator may choose to set T-maxsuppress to an effectively infinite value.
			For example, the transport may include its own keep-alive signalling at a
			frequency such that PCN keep-alive signalling is redundant. 
</p>
<a name="decisBehav"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Behaviour at the Decision Point</h3>

<p>Operators may choose to use PCN procedures just for flow admission, or just
		for flow termination, or for both. The Decision Point MUST implement both
		mechanisms, but configurable options MUST be provided to activate or deactivate
		PCN-based flow admission and flow termination independently of each other at a
		given Decision Point.
</p>
<p>If PCN-based flow termination is enabled but PCN-based flow admission is not,
		flow termination operates as specified in this document. Logically, some other
		system of flow admission control must be in operation, but the description of
		such a system is out of scope of this document and depends on local 
		arrangements.
</p>
<a name="decisAdmit"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1"></a><h3>3.3.1.&nbsp;
Flow Admission</h3>

<p>The Decision Point determines the PCN-admission-state for a given 
			ingress-egress-aggregate each time it receives a report from the egress node.
			It makes this determination on the basis of the congestion level estimate
			(CLE). If the CLE is provided in the egress node report, the Decision Point
			SHOULD use the reported value. If the CLE was not provided in the report, the
			Decision Point MUST calculate it based on the other values provided in the
			report, using the formula 
			</p>
<blockquote class="text">
<p>CLE = (ThM-rate + ETM-rate) / (NM-rate + ThM-rate + ETM-rate)
</p>
</blockquote><p> 
			if any PCN-traffic was observed, or CLE = 0 if all the rates are zero.
</p>
<p>The Decision Point MUST compare the reported or calculated CLE to a
			configurable value, the CLE-limit. If the CLE is less than the CLE-limit,
			the PCN-admission-state for that aggregate MUST be set to "admit"; otherwise
			it MUST be set to "block". 
			</p>
<blockquote class="text">
<p>The outcome of the comparison is not very sensitive to the value of the
				CLE-limit in practice, because when threshold-marking occurs it tends to
				persist long enough that threshold-marked traffic becomes a large 
				proportion of the received traffic in a given interval.
</p>
</blockquote><p>
			
</p>
<p>If the PCN-admission-state for a given ingress-egress-aggregate is "admit",
			the Decision Point SHOULD allow new flows to be admitted to that aggregate. 
			If the PCN-admission-state for a given ingress-egress-aggregate is "block", 
			the Decision Point SHOULD NOT allow new flows to be admitted to that 
			aggregate. These actions MAY be modified by policy in specific cases, but 
			such policy intervention risks defeating the purpose of using PCN. 
</p>
<a name="decisTerm"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2"></a><h3>3.3.2.&nbsp;
Flow Termination</h3>

<p>When the report from the PCN-egress-node includes a non-zero value of the
			ETM-rate for some ingress-egress-aggregate, the Decision Point MUST request 
			the PCN-ingress-node to provide an estimate of the rate (PCN-sent-rate) at
			which the PCN-ingress-node is receiving PCN-traffic that is destined for the
			given ingress-egress-aggregate. 
			</p>
<blockquote class="text">
<p>If the Decision Point is collocated with the PCN-ingress-node, the 
				request and response are internal operations.
</p>
</blockquote><p> 
			The Decision Point MUST then wait for both the requested rate from the
			PCN-ingress-node and the next report from the PCN-egress-node for the 
			ingress-egress-aggregate concerned. If the next egress node report also
			includes a non-zero value for the ETM-rate, the Decision Point MUST determine
			an amount of flow to terminate using the following steps: 
			</p>
<ol class="text">
<li>The sustainable aggregate rate (SAR) for the given 
				ingress-egress-aggregate is estimated by the sum:
				
<blockquote class="text">
<p>SAR = NM-rate + ThM-rate
</p>
</blockquote>
				for the latest reported interval.
</li>
<li>The amount of traffic that should be terminated is the difference:
				
<blockquote class="text">
<p>PCN-sent-rate - SAR,
</p>
</blockquote>
				where PCN-sent-rate is the value provided by the PCN-ingress-node.
				
</li>
</ol><p>
			
</p>
<p>If the difference calculated in the second step is positive, the Decision
			Point SHOULD select PCN-flows to terminate, until it determines that the 
			PCN-traffic admission rate will no longer be greater than the estimated
			sustainable aggregate rate. If the Decision Point knows the bandwidth 
			required by individual PCN-flows (e.g., from resource signalling used to 
			establish the flows), it MAY choose to complete its selection of PCN-flows to
			terminate in a single round of decisions.
</p>
<p>Alternatively, the Decision Point MAY spread flow termination over 
			multiple rounds to avoid over-termination.  If this is done, it is 
			RECOMMENDED that enough time elapse between successive rounds of termination 
			to allow the effects of previous rounds to be reflected in the measurements
			upon which the termination decisions are based (see <a class='info' href='#IEEE-Satoh'>[IEEE&#8209;Satoh]<span> (</span><span class='info'>Satoh, D. and H. Ueno, &ldquo;&quot;Cause and Countermeasure of Overtermination for PCN-Based Flow     		Termination&quot;, Proceedings of IEEE Symposium on Computers and      		Communications (ISCC '10), pp. 155-161, Riccione, Italy,&rdquo; June&nbsp;2010.</span><span>)</span></a>
			and sections 4.2 and 4.3 of <a class='info' href='#Menth08-sub-9'>[Menth08&#8209;sub&#8209;9]<span> (</span><span class='info'>Menth, M. and F. Lehrieder, &ldquo;PCN-Based Measured Rate Termination,&rdquo; July&nbsp;2009.</span><span>)</span></a>).
</p>
<p>If the egress node has supplied a list of PCN-flow identifiers 
			(<a class='info' href='#egressBehav'>Section&nbsp;3.2<span> (</span><span class='info'>Behaviour of the PCN-Egress-Node</span><span>)</span></a>), the Decision Point SHOULD first consider
			terminating PCN-flows in that list. In general, the selection of flows for
			termination MAY be guided by policy.
</p>
<a name="decisSig"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.3"></a><h3>3.3.3.&nbsp;
Decision Point Action For Missing 
		PCN-Boundary-Node Reports</h3>

<p>If the Decision Point fails to receive any report from a given 
			PCN-egress-node for a configurable interval T-fail, it SHOULD raise an alarm
			to management. A Decision Point collocated with a PCN-ingress-node SHOULD 
			cease to admit PCN-flows to the ingress-egress-aggregate passing from the 
			PCN-ingress-node to the given PCN-egress-node, until it again receives a 
			report from that node. A centralized Decision Point MAY cease to admit 
			PCN-flows to all ingress-egress-aggregates destined to the PCN-egress-node
			concerned, until it again receives a report from that node.
</p>
<p>If a centralized Decision Point fails to receive a reply within a 
			reasonable period of time to a request for a PCN-sent-rate value sent to 
			a given PCN-ingress-node, it SHOULD raise an alarm to management.
</p>
<a name="ingrBehav"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Behaviour of the Ingress Node</h3>

<p>The PCN-ingress-node MUST provide the estimated rate of PCN-traffic received
		at  that node and destined for a given ingress-egress-aggregate in octets per
		second (the PCN-sent-rate) when the Decision Point requests it.  The way this
		rate estimate is derived is a matter of implementation. 
		</p>
<blockquote class="text">
<p>For example, the rate that the PCN-ingress-node supplies MAY be based on
			a quick sample taken at the time the information is required. It is 
			RECOMMENDED that such a sample be based on observation of at least 30 
			PCN-packets to achieve reasonable statistical reliability. 
</p>
</blockquote><p>
		
</p>
<a name="timers"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Summary of Timers</h3>

<p><a class='info' href='#tab_Timers'>Table&nbsp;1<span> (</span><span class='info'>Timers Used For the CL Boundary Node 		Behaviour</span><span>)</span></a> summarizes the timers implied by the preceding
		procedures. The three limits T-meas, T-maxsuppress, and T-fail apply to the
		three timers t-meas, t-maxsuppress, and t-fail respectively. t-meas and 
		t-maxsuppress are reset upon expiry. t-fail is reset by management action or
		by receipt of a report from the PCN-egress-node concerned.
</p><br /><hr class="insert" />
<a name="tab_Timers"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left"><col align="left"><col align="left">
<tr><th align="left">Timer</th><th align="left">Location</th><th align="left">Incidence</th><th align="left">Limit</th><th align="left">Action on Expiry</th></tr>
<tr>
<td align="left">t-meas</td>
<td align="left">Egress node</td>
<td align="left">One per node</td>
<td align="left">T-meas</td>
<td align="left">Calculate and possibly report NM-rate, ThM-rate, ETM-rate and 
			conditionally CLE for each IEA.</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">t-maxsuppress</td>
<td align="left">Egress node</td>
<td align="left">One per IEA if report suppression is enabled.</td>
<td align="left">T-maxsuppress</td>
<td align="left">Send a report for that IEA at the next expiry of T-meas.</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">t-fail</td>
<td align="left">Decision point</td>
<td align="left">One per egress node</td>
<td align="left">T-fail</td>
<td align="left">Assume failure and cease to admit flows passing through that egress 
			node.</td>
</tr>
</table>
<br clear="all" />

<p style='text-align: center'>IEA = ingress-egress-aggregate
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Timers Used For the CL Boundary Node
		Behaviour&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The value of T-meas SHOULD be configurable, and is RECOMMENDED to be of
		the order of 100 to 500 ms.
</p>
<p>t-maxsuppress is active only when report suppression is enabled. The value
		of T-maxsuppress SHOULD be configurable. The appropriate value depends on the
		transport used to carry the egress node reports. For unreliable transport, 
		T-maxsuppress is RECOMMENDED to be of the order of one second.
</p>
<p>The value of T-fail MUST be configurable. When unreliable transport is 
		used, the value of T-fail is RECOMMENDED to be of the order of 
		3 * T-maxsuppress if report suppression is enabled, and of the order of 
		3 * T-meas if report suppression is not enabled. When reliable transport is
		used, the operator may choose to provide similar values for T-fail or may
		choose to disable report timing by setting an effectively infinite value for
		T-fail.
</p>
<a name="aggregates"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Identifying Ingress and Egress
	Nodes for PCN Traffic</h3>

<p>The operation of PCN depends on the ability of the PCN-ingress-node to identify 
	the ingress-egress-aggregate to which each new PCN-flow belongs and the ability of
	the egress node to identify the ingress-egress-aggregate to which each received
	PCN-packet belongs. If the Decision Point is collocated with the PCN-ingress-node,
	the PCN-egress-node also needs to associate each ingress-egress-aggregate with the
	address of the PCN-ingress-node to which it must send its reports.
</p>
<p>The means by which this is done depends on the packet routing technology in 
	use in the network. The procedure to provide the required information is out of the
	scope of this document.
</p>
<a name="PDBSpec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Specification of Diffserv Per-Domain Behaviour</h3>

<p>This section provides the specification required by <a class='info' href='#RFC3086'>[RFC3086]<span> (</span><span class='info'>Nichols, K. and B. Carpenter, &ldquo;Definition of Differentiated Services Per Domain Behaviors and Rules for their Specification,&rdquo; April&nbsp;2001.</span><span>)</span></a>
	for a per-domain behaviour.
</p>
<a name="PDBApplic"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Applicability</h3>

<p>This section draws heavily upon points made in the PCN architecture document,
		<a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>.  
</p>
<p>The PCN CL boundary node behaviour specified in this document is applicable
		to inelastic traffic (particularly video and voice) where quality of service for
		admitted flows is protected primarily by admission control at the ingress to the
		domain. In exceptional circumstances (e.g. due to network failures) 
		already-admitted flows may be terminated to protect the quality of service of 
		the remaining flows. The CL boundary node behaviour is less likely to terminate
		too many flows under such circumstances than the SM boundary node behaviour
		(<a class='info' href='#I-D.SM-edge-behaviour'>[I&#8209;D.SM&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Zhang, J., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Single Marking (SM)      		Mode of Operation (Work in progress),&rdquo; June&nbsp;2010.</span><span>)</span></a>).
</p>
<a name="PDBTechSpec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Technical Specification</h3>

<p>The technical specification of the PCN CL per domain behaviour is provided
		by the contents of <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>, 
		<a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a>, the specification of the encoding extension 
		(e.g., <a class='info' href='#ID.PCN3in1'>[ID.PCN3in1]<span> (</span><span class='info'>Briscoe, B., &ldquo;PCN 3-State Encoding Extension in a single DSCP (Work in progress),&rdquo; July&nbsp;2010.</span><span>)</span></a>), and the present document. 
</p>
<a name="PDBAttrib"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Attributes</h3>

<p>The purpose of this per-domain behaviour is to achieve low loss and jitter
		for the target class of traffic. The design requirement for PCN was that 
		recovery from overloads through the use of flow termination should happen 
		within 1-3 seconds. PCN probably performs better than that.
</p>
<a name="PDBParms"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Parameters</h3>

<p>In the list that follows, note that most PCN-ingress-nodes are also 
		PCN-egress-nodes, and vice versa. Furthermore, the PCN-ingress-nodes may be
		collocated with Decision Points.
</p>
<p>Parameters at the PCN-ingress-node: <br />
 
		-----------------------------------
		</p>
<ul class="text">
<li>Filters for distinguishing PCN from non-PCN inbound traffic.
</li>
<li>The markings to be applied to PCN-traffic.
</li>
<li>Reference rates on each inward link for the PCN-threshold-rate and 
			PCN-excess-rate; see <a class='info' href='#coreAssum'>Section&nbsp;2<span> (</span><span class='info'>Assumed Core Network Behaviour for CL</span><span>)</span></a>.
</li>
<li>The information needed to distinguish PCN-traffic belonging to a given
			ingress-egress-aggregate.
</li>
</ul><p>
		
</p>
<p>Parameters at the PCN-egress-node: <br />
 
		----------------------------------
		</p>
<ul class="text">
<li>The measurement interval T-meas. 
</li>
<li>Whether report suppression is enabled and, if so, the values of the 
			CLE-reporting-threshold and T-maxsuppress.
</li>
<li>Whether individual flow identifiers must be reported for 
			excess-traffic-marked PCN-traffic.
</li>
<li>The information needed to distinguish PCN-traffic belonging to a given
			ingress-egress-aggregate.
</li>
<li>The marking rules for re-marking PCN-traffic leaving the PCN domain.
</li>
</ul><p>
		
</p>
<p>Parameters at each interior node: <br />
 
		---------------------------------
		</p>
<ul class="text">
<li>Reference rates on each link for the PCN-threshold-rate and 
			PCN-excess-rate; see <a class='info' href='#coreAssum'>Section&nbsp;2<span> (</span><span class='info'>Assumed Core Network Behaviour for CL</span><span>)</span></a>.
</li>
<li>The markings to be applied to PCN-traffic, including the identification
			of PCN-packets and the encodings to indicate threshold-marking and 
			excess-traffic-marking..
</li>
</ul><p>
		
</p>
<p>Parameters at the Decision Point: <br />
 
		---------------------------------
		</p>
<ul class="text">
<li>Activation/deactivation of PCN-based flow admission.
</li>
<li>Activation/deactivation of PCN-based flow termination.
</li>
<li>The value of CLE-limit.
</li>
<li>The maximum interval T-fail between reports from a given PCN-egress-node,
			for detecting failure of communications with that node.
</li>
<li>The information needed to map between each ingress-egress-aggregate and the
			corresponding PCN-ingress-node and PCN-egress-node. 
</li>
</ul><p>
		
</p>
<a name="PDBAssum"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Assumptions</h3>

<p>Assumed that a specific portion of link capacity has been reserved for
		PCN-traffic. 
</p>
<a name="PDBExamp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6"></a><h3>5.6.&nbsp;
Example Uses</h3>

<p>The PCN CL behaviour may be used to carry real-time traffic, particularly
		voice and video.
</p>
<a name="PDBEnv"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.7"></a><h3>5.7.&nbsp;
Environmental Concerns</h3>

<p>The PCN CL per-domain behaviour may interfere with the use of end-to-end 
		ECN due to reuse of ECN bits for PCN marking. See the applicable PCN marking
		specifications for details.
</p>
<a name="PDBSec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.8"></a><h3>5.8.&nbsp;
Security Considerations</h3>

<p>Please see the security considerations in <a class='info' href='#secur'>Section&nbsp;6<span> (</span><span class='info'>Security Considerations</span><span>)</span></a> as well
		as those in <a class='info' href='#RFC2474'>[RFC2474]<span> (</span><span class='info'>Nichols, K., Blake, S., Baker, F., and D. Black, &ldquo;Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers,&rdquo; December&nbsp;1998.</span><span>)</span></a> and <a class='info' href='#RFC2475'>[RFC2475]<span> (</span><span class='info'>Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z., and W. Weiss, &ldquo;An Architecture for Differentiated Services,&rdquo; December&nbsp;1998.</span><span>)</span></a>.
</p>
<a name="secur"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p><a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a> provides a general description of the security
	considerations for PCN. This memo introduces no new considerations.
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgements</h3>

<p>The content of this memo bears a family resemblance to 
	<a class='info' href='#ID.briscoe-CL'>[ID.briscoe&#8209;CL]<span> (</span><span class='info'>Briscoe, B., &ldquo;An edge-to-edge Deployment Model for Pre-Congestion Notification: 			Admission Control over a DiffServ Region (expired Internet Draft),&rdquo; 2006.</span><span>)</span></a>. The authors of that document were Bob Briscoe, 
	Philip Eardley, and Dave Songhurst of BT, Anna Charny and Francois Le Faucheur
	of Cisco, Jozef Babiarz, Kwok Ho Chan, and Stephen Dudley of Nortel, Giorgios
	Karagiannis of U. Twente and Ericsson, and Attila Bader and Lars Westberg of
	Ericsson.
</p>
<p>Ruediger Geib, Philip Eardley, and Bob Briscoe have helped to shape the 
	present document with their comments. Toby Moncaster gave a careful review to
	get it into shape for Working Group Last Call.
</p>
<p>Amongst the authors, Michael Menth deserves special mention for his constant
	and careful attention to both the technical content of this document and the 
	manner in which it was expressed.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2474">[RFC2474]</a></td>
<td class="author-text"><a href="mailto:kmn@cisco.com">Nichols, K.</a>, <a href="mailto:slblake@torrentnet.com">Blake, S.</a>, <a href="mailto:fred@cisco.com">Baker, F.</a>, and <a href="mailto:black_david@emc.com">D. Black</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2474">Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers</a>,&rdquo; RFC&nbsp;2474, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2474.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2474.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2474.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2475">[RFC2475]</a></td>
<td class="author-text"><a href="mailto:slblake@torrentnet.com">Blake, S.</a>, <a href="mailto:black_david@emc.com">Black, D.</a>, <a href="mailto:mark.carlson@sun.com">Carlson, M.</a>, <a href="mailto:elwynd@nortel.co.uk">Davies, E.</a>, <a href="mailto:zhwang@bell-labs.com">Wang, Z.</a>, and <a href="mailto:wweiss@lucent.com">W. Weiss</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2475">An Architecture for Differentiated Services</a>,&rdquo; RFC&nbsp;2475, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2475.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2475.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2475.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5559">[RFC5559]</a></td>
<td class="author-text">Eardley, P., &ldquo;<a href="http://tools.ietf.org/html/rfc5559">Pre-Congestion Notification (PCN) Architecture</a>,&rdquo; RFC&nbsp;5559, June&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5559.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5670">[RFC5670]</a></td>
<td class="author-text">Eardley, P., &ldquo;<a href="http://tools.ietf.org/html/rfc5670">Metering and Marking Behaviour of PCN-Nodes</a>,&rdquo; RFC&nbsp;5670, November&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5670.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5696">[RFC5696]</a></td>
<td class="author-text">Moncaster, T., Briscoe, B., and M. Menth, &ldquo;<a href="http://tools.ietf.org/html/rfc5696">Baseline Encoding and Transport of Pre-Congestion Information</a>,&rdquo; RFC&nbsp;5696, November&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5696.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.SM-edge-behaviour">[I-D.SM-edge-behaviour]</a></td>
<td class="author-text">Charny, A., Zhang, J., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Single Marking (SM) 
    		Mode of Operation (Work in progress),&rdquo; June&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="ID.PCN3in1">[ID.PCN3in1]</a></td>
<td class="author-text">Briscoe, B., &ldquo;PCN 3-State Encoding Extension in a single DSCP (Work in progress),&rdquo; July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="ID.briscoe-CL">[ID.briscoe-CL]</a></td>
<td class="author-text">Briscoe, B., &ldquo;An edge-to-edge Deployment Model for Pre-Congestion Notification:
			Admission Control over a DiffServ Region (expired Internet Draft),&rdquo; 2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="IEEE-Satoh">[IEEE-Satoh]</a></td>
<td class="author-text">Satoh, D. and H. Ueno, &ldquo;"Cause and Countermeasure of Overtermination for PCN-Based Flow
    		Termination", Proceedings of IEEE Symposium on Computers and 
    		Communications (ISCC '10), pp. 155-161, Riccione, Italy,&rdquo; June&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="Menth08-sub-9">[Menth08-sub-9]</a></td>
<td class="author-text">Menth, M. and F. Lehrieder, &ldquo;<a href="http://www3.informatik.uni-wuerzburg.de/
							~menth/Publications/papers/Menth08-Sub-9.pdf">PCN-Based Measured Rate Termination</a>,&rdquo; July&nbsp;2009 (<a href="http://www3.informatik.uni-wuerzburg.de/
			~menth/Publications/papers/Menth08-Sub-9.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3086">[RFC3086]</a></td>
<td class="author-text">Nichols, K. and B. Carpenter, &ldquo;<a href="http://tools.ietf.org/html/rfc3086">Definition of Differentiated Services Per Domain Behaviors and Rules for their Specification</a>,&rdquo; RFC&nbsp;3086, April&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3086.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Anna Charny</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">300 Apollo Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chelmsford, MA  01824</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:acharny@cisco.com">acharny@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Fortune Huang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Section F, Huawei Industrial Base,</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bantian Longgang, Shenzhen  518129</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R. China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86 15013838060</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:fqhuang@huawei.com">fqhuang@huawei.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Georgios Karagiannis</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">U. Twente</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:karagian@cs.utwente.nl">karagian@cs.utwente.nl</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael Menth</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Wuerzburg</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Am Hubland</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Wuerzburg  D-97074</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49-931-888-6644</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:menth@informatik.uni-wuerzburg.de">menth@informatik.uni-wuerzburg.de</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tom Taylor (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1852 Lorraine Ave</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ottawa, Ontario  K1H 6Z8</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Canada</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 613 680 2675</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tom111.taylor@bell.net">tom111.taylor@bell.net</a></td></tr>
</table>
</body></html>
