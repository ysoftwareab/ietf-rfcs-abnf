

Internet-Draft               WWW Service MIB              September 1997


            Definitions of Managed Objects for WWW Services

                           September 26, 1997

                   <draft-ietf-applmib-wwwmib-05.txt>

                           Harrie Hazewinkel
                   Joint Research Centre of the E.C.
                        harrie.hazewinkel@jrc.it

                          Carl W. Kalbfleisch
                              Verio, Inc.
                             cwk@verio.net

                         Juergen Schoenwaelder
                          University of Twente
                         schoenw@cs.utwente.nl





Status of this Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet-Drafts Shadow
   Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

   Distribution of this document is unlimited. Please send comments to
   the Application MIB Working Group, <applmib@emi-summit.com>.










Expires March 1998                                              [Page 1]

Internet-Draft               WWW Service MIB              September 1997


1.  Abstract

   This memo defines an experimental portion of the Management
   Information Base (MIB) for use with network management protocols in
   the Internet Community. In particular it describes a set of objects
   for managing World-Wide Web (WWW) services. This MIB extends the
   application management framework defined by the System Application
   Management MIB (SYSAPPL-MIB) and the Application Management MIB
   (APPLICATION-MIB). The protocol statistics defined in the WWW Service
   MIB are based on an abstract document transfer protocol (DTP). This
   memo also defines a mapping of the abstract DTP to HTTP and FTP.
   Additional mappings may be defined in the future in order to use this
   MIB with other document transfer protocols. It is anticipated that
   such future mappings will be defined in separate RFCs.


2.  The SNMPv2 Network Management Framework

   The SNMP Network Management Framework presently consists of three
   major components. They are:

   o    the SMI, described in RFC 1902 [1] - the mechanisms used for
        describing and naming objects for the purpose of management.

   o    the MIB-II, STD 17, RFC 1213 [2] - the core set of managed
        objects for the Internet suite of protocols.

   o    the protocol, RFC 1157 [3] and/or RFC 1905 [4], - the protocol
        for accessing managed objects.

   The Framework permits new objects to be defined for the purpose of
   experimentation and evaluation.



2.1.  Object Definitions

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB. Objects in the MIB are
   defined using the subset of Abstract Syntax Notation One (ASN.1)
   defined in the SMI [1]. In particular, each object type is named by
   an OBJECT IDENTIFIER, an administratively assigned name. The object
   type together with an object instance serves to uniquely identify a
   specific instantiation of the object. For human convenience, we often
   use a textual string, termed the object descriptor, to refer to the
   object type.






Expires March 1998                                              [Page 2]

Internet-Draft               WWW Service MIB              September 1997


3.  Terminology

   This section defines the terminology used throughout this document.

   o    The 'World-Wide Web' (WWW) is a world wide information system
        which is based on the concept of documents that are linked
        together by embedding references (links) to other local or
        remote documents.

   o    A 'document' is a coherent piece of data which is accessible in
        the World-Wide Web. No assumptions are made about the content or
        the type of a document.

   o    A 'Uniform Resource Locator' (URL) is a formatted string
        representation for a document available via the Internet. URLs
        are used to express references between documents. For the syntax
        and semantics of the URL string representation is referred to
        RFC 1630 [5] and RFC 1738 [6]

   o    A 'Document Transfer Protocol' (DTP) is a protocol used within
        the World-Wide Web to invoke actions on documents. The DTP is an
        abstraction from real protocols, such as HTTP [7,8] or FTP [9].

   o    A 'request' is a DTP protocol operation which is targeted to a
        'document' and invokes an action on the target document.  The
        request type specifies the action that should be performed. A
        request can have a document associated to it.

   o    A 'response' is a DTP protocol operation which is returned as a
        result of a previous (and associated) request. The response
        status indicates if the requested action was successful or if
        errors occurred. A response can have a document associated to
        it.

   o    A 'WWW service' is a set of actions that can be invoked on a
        document. Typical actions are the transfer of documents or the
        retrieval of administrative information about documents. WWW
        services are provided by means of a DTP. A WWW service can be
        identified by the DTP protocol used to invoke services and the
        transport endpoint used by that protocol.

   o    A 'client' is a program which establishes connections for the
        purpose of sending requests and receiving responses.

   o    A 'server' is a program that accepts connections in order to
        service requests by sending back responses.






Expires March 1998                                              [Page 3]

Internet-Draft               WWW Service MIB              September 1997


   o    A 'proxy' is an intermediary program which acts as both a server
        and a client for the purpose of making requests on behalf of
        other clients.  Requests are serviced internally or by passing
        them on, with possible translation, to other servers.

   o    A 'caching proxy' is a proxy with the capability of locally
        storing responses to associated requests. A caching proxy can
        respond to similar requests with a previously stored response.


4.  Overview

   The World-Wide Web (WWW) is a global network of information.
   Information is stored in documents, which can have various formats,
   including hyper-text and multi-media documents. Access to these
   documents is provided by servers which are located all around the
   world and are linked to each other via hyper-links embedded in
   documents.

   The usability of the World-Wide Web depends largely on the
   performance of the services realized by these servers. The services
   are typically monitored through log files. This becomes a difficult
   task when a single organization is responsible for a large number of
   services. It is therefore desirable to treat WWW services as objects
   that can be managed by using the Internet network management
   framework [10].


4.1.  Purpose and Requirements

   The goal of this MIB is to define a standardized set of objects which
   lead to integrated and improved performance and fault management in a
   heterogenous environment of WWW services. This MIB focuses on the
   service oriented view. It does not deal with the process oriented
   view, which is covered by the System Application MIB [11] and the
   Application MIB [12].

   This document defines a set of managed objects to monitor WWW
   services for short-term operational purposes, such as problem
   detection and troubleshooting. No attempts are made here to cover
   accounting or hit metering issues.

   The scope of the MIB is further limited by the requirement that an
   implementation conforming to this MIB must be possible without
   putting a huge CPU or memory burden on the WWW server implementation.

   In addition, this MIB does not cover WWW service configuration.





Expires March 1998                                              [Page 4]

Internet-Draft               WWW Service MIB              September 1997


   Server software has become an open market where competing vendors
   constantly invent new features in order to shape their products. It
   is therefore not possible to reach consensus on a common way to
   configure WWW services at this point in time.


4.2.  Relationship to other Standards Efforts

   The WWW service MIB fits into the application management architecture
   defined in the System Application MIB [11]. The System Application
   MIB and the Application MIB [12] use a process oriented view, where
   an application is viewed as a collection of processes. The WWW
   service MIB described in this memo uses a service oriented view,
   which looks at the services provided by a set of processes.

   The relationship between the process oriented view and the service
   oriented view is a many-to-many relationship, because one process can
   implement multiple services and multiple services can be implemented
   by a single set of processes. The Application Management MIB [12]
   contains generic mapping tables, which map back and forth between
   both views.


4.3.  WWW Services

   The MIB is organized around the concept of WWW services. WWW services
   are a set of actions that can be invoked on a document. A WWW service
   is provided or used by either a client, a server or a proxy. Clients
   send out requests for information to server or proxy server. Servers
   receive, process and respond to requests received from clients.
   Servers usually have access to local documents, which can be
   transfered to clients.

   A proxy is a special server, who acts as both a server and a client
   for the purpose of making requests on behalf of other clients. A
   proxy is able to translate between the client and the origin server.
   A proxy might also interact with other information retrieval system,
   like for example databases.

   The MIB defined in this memo distinguishes between outgoing and
   incoming requests and responses. This allows to obtain statistics for
   clients, servers and proxies with a single set of objects.

   A special proxy server is the caching proxy, which maintains a cache
   of previously received documents in order to reduce the bandwidth
   used by World-Wide Web clients. One interesting piece of management
   information is the percentage of requests that were served from the





Expires March 1998                                              [Page 5]

Internet-Draft               WWW Service MIB              September 1997


   cache of the caching proxy (hits/miss-ratio). This ratio is not
   contained explicitly in this MIB. Instead, the ratio can be derived
   from the objects that count incoming and outgoing requests and
   responses.


4.4.  Document Transfer Protocol

   The MIB is based on the concept of an abstract document transfer
   protocol (DTP). The purpose of the abstract document transfer
   protocol is to make the MIB definitions independent from concrete
   protocols, like the Hypertext Transfer Protocol (HTTP) [7,8] or the
   File Transfer Protocol (FTP) [9].

   The abstract document transfer protocol makes the following
   assumptions about a concrete transfer protocol:

   o    The transfer protocol uses a request/response style of
        interactions.

   o    Every request contains a request type, which defines the
        operations performed by the receiving server. The request type
        is represented by an OCTET STRING. It might be necessary to
        define a translation into an OCTET STRING value for protocols
        that use numbers to identify request types.

   o    A response contains a status code, which indicates if the
        request was processed successfully or which error occured. The
        status code is represented as an INTEGER value. It might be
        necessary to define a mapping for protocols that do not use an
        INTEGER status code.

   o    A transfer protocol can send multiple responses for a single
        request.  Multiple responses are counted separately in the
        protocol statistics group.

        A primary response has to be identified for the document
        statistics. The primary response is the response that indicates
        whether the request was successful.

   Section 7 of this memo defines a mapping of the document transfer
   protocol to the HTTP protocol and the FTP protocol. Mappings to other
   protocols, like NNTP [13] or WebNFS [14,15] might be defined in the
   future.








Expires March 1998                                              [Page 6]

Internet-Draft               WWW Service MIB              September 1997


5.  Structure of the MIB

   This section presents the structure of the MIB. The objects are
   arranged into the following groups:

   o    service information

   o    protocol statistics

   o    document statistics


5.1.  Service Information Group

   The service information group consists of a single table describing
   all the WWW services managed by the SNMP agent. The service table
   contains administrative network management information for
   (potentially) multiple WWW services running on a single host. It also
   contains information for all services within virtual domains of a
   host. The columnar objects in the table can be divided into two main
   groups:

   o    global administrative information of the service, such as
        service contact person, and

   o    network information, such as the transfer protocol.


5.2.  Protocol Statistics Group

   The protocol statistics group provides network management information
   about the traffic received or transmitted by a WWW service. This
   group contains counters related to DTP protocol operations and
   consists of five tables:

   o    The wwwSummaryTable contains a set of network traffic related
        counters. The table provides a summarization of the network
        traffic and protocol operations related to a WWW service. It is
        well recognized that certain variables are redundant with
        respect to the request and response tables, but they are added
        to provide an operator a quick overview and to reduce SNMP
        network traffic.

   o    The wwwRequestInTable contains detailed information about
        incoming requests. Every particular request type is counted
        separately.






Expires March 1998                                              [Page 7]

Internet-Draft               WWW Service MIB              September 1997


   o    The wwwRequestOutTable contains detailed information about
        outgoing requests. Every particular request type is counted
        separately.

   o    The wwwResponseInTable contains detailed information about
        incoming responses. Every particular response type is counted
        separately.

   o    The wwwResponseOutTable contains detailed information about
        outgoing responses. Every particular response type is counted
        separately.


5.3.  Document Statistics Group

   The document group contains information about the documents which
   were accessed in the past. The group provides four types of
   statistics.

   1.   Details about the last N attempts to invoke actions on
        documents.

   2.   The Top N documents sorted by the number of actions invoked on
        them computed over a time interval.

   3.   The Top N documents sorted by the number of content bytes
        transferred computed over a time interval.

   4.   Summary statistics computed over a time interval.

   The Top N document statistics are collected in buckets in order to
   reduce agent resources and to allow a manager to detect changes in
   the service usage pattern. Buckets are filled over a configurable
   time interval. The agent computes the Top N statistics and starts a
   new bucket once the time interval for the bucket has passed. The time
   interval if configurable for each WWW service.

   The document statistics group associates a response type to the
   request which invoked an action. In case a DTP sends multiple
   responses, the primary response must be used to derive the response
   type of the request/response interaction.

   The group consist of the following tables:

   o    The wwwDocCtrlTable provides the manager a means to limit the
        document statistic tables in size and to control the expiration
        and creation of buckets.





Expires March 1998                                              [Page 8]

Internet-Draft               WWW Service MIB              September 1997


   o    The wwwDocLastNTable provides the manager information about the
        last N documents which where accessed. The table lists the
        documents attempted to read together with the request and
        response type of the DTP and a status message. The request and
        response types provide a manager information of how attempts to
        invoke actions were handled by the DTP. The status message
        object provides human readable text to further describe the
        response type.

        The number of documents in the wwwDocLastNTable is controlled by
        the wwwDocCtrlLastNSize object in the wwwDocCtrlTable. The
        wwwDocCtrlLastNStatus object of the wwwDocCtrlTable allows the
        management application to disable table updates so that it can
        read a consistent snapshot of a fast changing wwwDocLastNTable.

   o    The wwwDocBucketTable lists the buckets of statistical
        information that have been collected. An entry in the
        wwwDocBucketTable contains the creation timestamp of the bucket
        as well as summary information (number of accesses, number of
        documents accessed and number of bytes transferred).

        The time interval is controlled by the
        wwwDocCtrlBucketTimeInterval object of the wwwDocCtrlTable. The
        maximum number of buckets maintained by the SNMP agent for a
        particular WWW service is controlled by the wwwDocCtrlBuckets
        object of the wwwDocCtrlTable.

   o    The wwwDocAccessTopNTable provides the manager an overview of
        the top N documents which were accessed while statistics were
        collected for a particular bucket. The wwwDocAccessTopNTable is
        sorted by the number of read attempts per document. The maximum
        number of entries in the wwwDocAccessTopNTable is controlled by
        the wwwDocCtrlTopNSize object.

   o    The wwwDocBytesTopNTable provides the manager an overview of the
        top N documents which caused most of the network traffic while
        statistics were collected for a particular bucket. The
        wwwDocBytesTopNTable is sorted by the number of bytes
        transfered. The maximum number of entries in the
        wwwDocBytesTopNTable is controlled by the wwwDocCtrlTopNSize
        object.


   The Top N statistics and the parameters of the underlying bucket are
   not visible in the MIB as long as the bucket is filled up. Instead,
   the following steps must be taken when the time interval for a
   buckets has passed:





Expires March 1998                                              [Page 9]

Internet-Draft               WWW Service MIB              September 1997


   1.   A new entry in the wwwDocBucketTable is created to summarize the
        document statistics for that time interval.

   2.   The corresponding entries in the wwwDocAccessTopNTable and the
        wwwDocBytesTopNTable are computed and made available.

   3.   If the resulting number of entries in the wwwDocBucketTable for
        the WWW service now exceeds wwwDocCtrlBuckets, then the oldest
        bucket for this WWW service and all corresponding entries in the
        wwwDocBucketTable, wwwDocAccessTopNTable, and
        wwwDocBytesTopNTable are deleted.


   Note that a bucket usually contains much more data than displayed in
   the Top N tables. The number of entries in the Top N table for a
   bucket is controlled by wwwDocCtrlTopNSize, while the number of
   entries in a bucket depends on the number of actions invoked on
   documents within the time interval over which a bucket is filled up.
   It is therefore suggested to discard the data associated with a
   bucket once the entries for the wwwDocBucketTable,
   wwwDocAccessTopNTable and wwwDocBytesTopNTable have been calculated.


6.  Definitions

   WWW-MIB DEFINITIONS ::= BEGIN

   IMPORTS
       mib-2,
       MODULE-IDENTITY,
       OBJECT-TYPE,
       Counter32,
       Counter64,
       Integer32,
       Unsigned32
           FROM SNMPv2-SMI

       TEXTUAL-CONVENTION,
       DisplayString,
       TimeStamp,
       DateAndTime,
       TimeInterval
           FROM SNMPv2-TC

       MODULE-COMPLIANCE,
       OBJECT-GROUP
           FROM SNMPv2-CONF





Expires March 1998                                             [Page 10]

Internet-Draft               WWW Service MIB              September 1997


       Utf8String
           FROM SYSAPPL-MIB;

   wwwMIB MODULE-IDENTITY
       LAST-UPDATED "9709260000Z"
       ORGANIZATION "Application MIB Working Group"
       CONTACT-INFO
           "        Harrie Hazewinkel

            Postal: MUSIQ/DESIRE/CEO Program
                    Centre for Earth Observation
                    Institute for Space Applications
                    Joint Research Centre of the E.C.
                    via Fermi - Ispra 21020 (VA)
                    Italy

               Tel: +39+(0)332+789384
               Fax: +39+(0)332+785500
            E-mail: harrie.hazewinkel@jrc.it

                    Carl W. Kalbfleisch

            Postal: Verio, Inc.
                    1950 Stemmons Freeway
                    Suite 2004 - Infomart
                    Dallas, TX 75207
                    US

               Tel: +1 972 238-8303
               Fax: +1 972 238-0268
            E-mail: cwk@verio.net

                    Juergen Schoenwaelder

            Postal: Computer Science Department
                    University of Twente
                    P.O. Box 217, NL-7500 AE Enschede
                    The Netherlands.

               Tel: +31 53 489-3678
               Fax: +31 53 489-3247
            E-mail: schoenw@cs.utwente.nl"
       DESCRIPTION
           "This WWW service MIB module is applicable to services
            realized by a family of 'Document Transfer Protocols'
            (DTP). Examples of DTPs are HTTP and FTP."
       REVISION "9709260000Z"





Expires March 1998                                             [Page 11]

Internet-Draft               WWW Service MIB              September 1997


       DESCRIPTION
           "The initial revision."

       ::= { mib-2 8080 } -- TBD

   --
   --  Object Identifier Assignments
   --

   wwwMIBObjects     OBJECT IDENTIFIER ::= { wwwMIB 1 }
   wwwMIBConformance OBJECT IDENTIFIER ::= { wwwMIB 2 }

   --
   -- Textual Conventions
   --

   WwwRequestType ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The WwwRequestType defines the textual identification of
            request types used by a document transfer protocol. For
            the proper values for a given DTP, refer to the protocol
            mappings for that DTP."
       SYNTAX      OCTET STRING (SIZE (1..40))

   WwwResponseType ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The WwwResponseType defines the different response values
            used by document transfer protocols. For the proper values
            for a given DTP, refer to the protocol mappings for that
            DTP."
       SYNTAX      Integer32 (0..2147483647)

   WwwOperStatus ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The operational status of a WWW service. 'down' indicates
            that the service is not available. 'running' indicates
            that the service is operational and available. 'halted'
            indicates that the service is operational but not
            available. 'congested' indicates that the service is
            operational but no additional inbound associations can be
            accommodated. 'restarting' indicates that the service is
            currently unavailable but is in the process of restarting
            and will be available soon."
       SYNTAX      INTEGER {





Expires March 1998                                             [Page 12]

Internet-Draft               WWW Service MIB              September 1997


                       down(1),
                       running(2),
                       halted(3),
                       congested(4),
                       restarting(5)
                   }

   WwwDocName ::= TEXTUAL-CONVENTION
       STATUS      current
       DESCRIPTION
           "The server relative name of a document. If the URL were
            http://www.x.org/standards/search/search.cgi?string=test
            then the value of this textual convention would resolve
            to '/standards/search/search.cgi'."
       SYNTAX      DisplayString


   -- The WWW Service Information Group
   --
   -- The WWW service information group contains information about
   -- the WWW services known by the SNMP agent.

   wwwService OBJECT IDENTIFIER ::= { wwwMIBObjects 1 }

   wwwServiceTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwServiceEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table of the WWW services known by the SNMP agent."
       ::= { wwwService 1 }

   wwwServiceEntry OBJECT-TYPE
       SYNTAX      WwwServiceEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Details about a particular WWW service."
       INDEX       { wwwServiceIndex }
       ::= { wwwServiceTable 1 }

   WwwServiceEntry ::= SEQUENCE {
       wwwServiceIndex             Unsigned32,
       wwwServiceDescription       Utf8String,
       wwwServiceContact           Utf8String,
       wwwServiceProtocol          OBJECT IDENTIFIER,
       wwwServiceName              DisplayString,





Expires March 1998                                             [Page 13]

Internet-Draft               WWW Service MIB              September 1997


       wwwServiceType              INTEGER,
       wwwServiceUptime            TimeStamp,
       wwwServiceOperStatus        WwwOperStatus,
       wwwServiceLastChange        TimeStamp
   }

   wwwServiceIndex OBJECT-TYPE
       SYNTAX      Unsigned32      -- needs to be aligned to applSrvInst
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An integer used to uniquely identify a WWW service. The
            value must be the same as the corresponding value of the
            applSrvInst defined in the Application Management MIB
            (APPLICATION-MIB) if the applSrvInst object is available.
            It might be necessary to manually configure sub-agents in
            order to meet this requirement."
       ::= { wwwServiceEntry 1 }

   wwwServiceDescription OBJECT-TYPE
       SYNTAX      Utf8String
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Textual description of the WWW service. This shall include
            at least the vendor and version number of the application
            realizing the WWW service. In a minimal case, this might
            be the Product Token (see RFC 2086) for the application."
       ::= { wwwServiceEntry 2 }

   wwwServiceContact OBJECT-TYPE
       SYNTAX      Utf8String
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The textual identification of the contact person for this
            service, together with information on how to contact this
            person. For instance, this might be a string containing an
            email address, e.g. '<webmaster@domain.name>'."
       ::= { wwwServiceEntry 3 }

   wwwServiceProtocol OBJECT-TYPE
       SYNTAX      OBJECT IDENTIFIER
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "An identification of the primary protocol in use by this





Expires March 1998                                             [Page 14]

Internet-Draft               WWW Service MIB              September 1997


            service. For Internet applications, the IANA maintains
            a registry of the OIDs which correspond to well-known
            application protocols.  If the application protocol is not
            listed in the registry, an OID value of the form
            {applTCPProtoID port} or {applUDProtoID port} are used for
            TCP-based and UDP-based protocols, respectively. In either
            case 'port' corresponds to the primary port number being
            used by the protocol."
       ::= { wwwServiceEntry 4 }

   wwwServiceName OBJECT-TYPE
       SYNTAX      DisplayString
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The fully qualified domain name by which this service is
            known. This object must contain the virtual host name if
            the service is realized for a virtual host."
       ::= { wwwServiceEntry 5 }

   wwwServiceType OBJECT-TYPE
       SYNTAX      INTEGER {
                       wwwServer(1),
                       wwwClient(2),
                       wwwProxy(3),
                       wwwCachingProxy(4),
                       wwwOther(5)
                   }
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The application type using or realizing this WWW service."
       ::= { wwwServiceEntry 6 }

   wwwServiceUptime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime at the time the WWW service was last
            initialized. If the application was last initialized prior
            to the last initialization of the network management
            subsystem, then this object contains a zero value."
       ::= { wwwServiceEntry 7 }

   wwwServiceOperStatus OBJECT-TYPE
       SYNTAX      WwwOperStatus





Expires March 1998                                             [Page 15]

Internet-Draft               WWW Service MIB              September 1997


       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Indicates the operational status of the WWW service."
       ::= { wwwServiceEntry 8 }

   wwwServiceLastChange OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime at the time the WWW service entered
            its current operational state. If the current state was
            entered prior to the last initialization of the local
            network management subsystem, then this object contains
            a zero value."
       ::= { wwwServiceEntry 9 }


   -- The WWW Protocol Statistics Group
   --
   -- The WWW protocol statistics group contains statistics about
   -- the DTP requests and responses send or received.

   wwwProtocolStatistics OBJECT IDENTIFIER ::= { wwwMIBObjects 2 }

   wwwSummaryTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwSummaryEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing overview statistics for the
            WWW services on this system."
       ::= { wwwProtocolStatistics 1 }

   wwwSummaryEntry OBJECT-TYPE
       SYNTAX      WwwSummaryEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Overview statistics for an individual service."
       INDEX       { wwwServiceIndex }
       ::= { wwwSummaryTable 1 }

   WwwSummaryEntry ::= SEQUENCE {
       wwwSummaryInRequests        Counter32,
       wwwSummaryOutRequests       Counter32,





Expires March 1998                                             [Page 16]

Internet-Draft               WWW Service MIB              September 1997


       wwwSummaryInResponses       Counter32,
       wwwSummaryOutResponses      Counter32,
       wwwSummaryInBytes           Counter64,
       wwwSummaryInBytesLow        Counter32,
       wwwSummaryOutBytes          Counter64,
       wwwSummaryOutBytesLow       Counter32
   }

   wwwSummaryInRequests OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of requests successfully received."
       ::= { wwwSummaryEntry 1 }

   wwwSummaryOutRequests OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of requests generated."
       ::= { wwwSummaryEntry 2 }

   wwwSummaryInResponses OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of responses successfully received."
       ::= { wwwSummaryEntry 3 }

   wwwSummaryOutResponses OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of responses generated."
       ::= { wwwSummaryEntry 4 }

   wwwSummaryInBytes OBJECT-TYPE
       SYNTAX      Counter64
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes received."
       ::= { wwwSummaryEntry 5 }





Expires March 1998                                             [Page 17]

Internet-Draft               WWW Service MIB              September 1997


   wwwSummaryInBytesLow OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The lowest thirty-two bits of wwwSummaryInBytes."
       ::= { wwwSummaryEntry 6 }

   wwwSummaryOutBytes OBJECT-TYPE
       SYNTAX      Counter64
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes transmitted."
       ::= { wwwSummaryEntry 7 }

   wwwSummaryOutBytesLow OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The lowest thirty-two bits of wwwSummaryOutBytes."
       ::= { wwwSummaryEntry 8 }

   -- The WWW request tables contain detailed information about
   -- requests send or received by WWW services.

   wwwRequestInTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwRequestInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed statistics for requests
            received by WWW services on this system."
       ::= { wwwProtocolStatistics 2 }

   wwwRequestInEntry OBJECT-TYPE
       SYNTAX      WwwRequestInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Request statistics for an individual service."
       INDEX       { wwwServiceIndex, wwwRequestInIndex }
       ::= { wwwRequestInTable 1 }

   WwwRequestInEntry ::= SEQUENCE {
       wwwRequestInIndex           WwwRequestType,





Expires March 1998                                             [Page 18]

Internet-Draft               WWW Service MIB              September 1997


       wwwRequestInCount           Counter32,
       wwwRequestInBytes           Counter32,
       wwwRequestInLastTime        TimeStamp
   }

   wwwRequestInIndex OBJECT-TYPE
       SYNTAX      WwwRequestType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular request type the statistics apply to."
       ::= { wwwRequestInEntry 1 }

   wwwRequestInCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of requests of this type received by this
            WWW service."
       ::= { wwwRequestInEntry 2 }

   wwwRequestInBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per request type received
            by this WWW service."
       ::= { wwwRequestInEntry 3 }

   wwwRequestInLastTime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the last byte of the last
            complete request of this type was received by this WWW
            service."
       ::= { wwwRequestInEntry 4 }

   wwwRequestOutTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwRequestOutEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed statistics for requests





Expires March 1998                                             [Page 19]

Internet-Draft               WWW Service MIB              September 1997


            generated by the services on this system."
       ::= { wwwProtocolStatistics 3 }

   wwwRequestOutEntry OBJECT-TYPE
       SYNTAX      WwwRequestOutEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Request statistics for an individual service."
       INDEX       { wwwServiceIndex, wwwRequestOutIndex }
       ::= { wwwRequestOutTable 1 }

   WwwRequestOutEntry ::= SEQUENCE {
       wwwRequestOutIndex          WwwRequestType,
       wwwRequestOutCount          Counter32,
       wwwRequestOutBytes          Counter32,
       wwwRequestOutLastTime       TimeStamp
   }

   wwwRequestOutIndex OBJECT-TYPE
       SYNTAX      WwwRequestType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular request type the statistics apply to."
       ::= { wwwRequestOutEntry 1 }

   wwwRequestOutCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of requests of this type generated by this
            WWW service."
       ::= { wwwRequestOutEntry 2 }

   wwwRequestOutBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per requests type generated
            by this WWW service."
       ::= { wwwRequestOutEntry 3 }

   wwwRequestOutLastTime OBJECT-TYPE
       SYNTAX      TimeStamp





Expires March 1998                                             [Page 20]

Internet-Draft               WWW Service MIB              September 1997


       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the first byte of the last
            request of this type was send by this WWW service."
       ::= { wwwRequestOutEntry 4 }

   -- The WWW response tables contain detailed information about
   -- responses send or received by WWW services.

   wwwResponseInTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwResponseInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed statistics for responses
            received by WWW services on this system."
       ::= { wwwProtocolStatistics 4 }

   wwwResponseInEntry OBJECT-TYPE
       SYNTAX      WwwResponseInEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Response statistics for an individual service."
       INDEX       { wwwServiceIndex, wwwResponseInIndex }
       ::= { wwwResponseInTable 1 }

   WwwResponseInEntry ::= SEQUENCE {
       wwwResponseInIndex          WwwResponseType,
       wwwResponseInCount          Counter32,
       wwwResponseInBytes          Counter32,
       wwwResponseInLastTime       TimeStamp
   }

   wwwResponseInIndex OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular response type the statistics apply to."
       ::= { wwwResponseInEntry 1 }

   wwwResponseInCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current





Expires March 1998                                             [Page 21]

Internet-Draft               WWW Service MIB              September 1997


       DESCRIPTION
           "The number of responses of this type received by this
            WWW service."
       ::= { wwwResponseInEntry 2 }

   wwwResponseInBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per response type received
            by this WWW service."
       ::= { wwwResponseInEntry 3 }

   wwwResponseInLastTime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the last byte of the last
            complete response of this type was received by this WWW
            service."
       ::= { wwwResponseInEntry 4 }

   wwwResponseOutTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwResponseOutEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table providing detailed statistics for responses
            generated by services on this system."
       ::= { wwwProtocolStatistics 5 }

   wwwResponseOutEntry OBJECT-TYPE
       SYNTAX      WwwResponseOutEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "Response statistics for an individual service."
       INDEX       { wwwServiceIndex, wwwResponseOutIndex }
       ::= { wwwResponseOutTable 1 }

   WwwResponseOutEntry ::= SEQUENCE {
       wwwResponseOutIndex         WwwResponseType,
       wwwResponseOutCount         Counter32,
       wwwResponseOutBytes         Counter32,
       wwwResponseOutLastTime      TimeStamp





Expires March 1998                                             [Page 22]

Internet-Draft               WWW Service MIB              September 1997


   }

   wwwResponseOutIndex OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The particular response type the statistics apply to."
       ::= { wwwResponseOutEntry 1 }

   wwwResponseOutCount OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of responses of this type generated by this
            WWW service."
       ::= { wwwResponseOutEntry 2 }

   wwwResponseOutBytes OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes per response type generated
            by this WWW service."
       ::= { wwwResponseOutEntry 3 }

   wwwResponseOutLastTime OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the first byte of the last
            response of this type was sent by this WWW service."
       ::= { wwwResponseOutEntry 4 }


   -- The WWW Document Statistics Group
   --
   -- The WWW document statistics group contains statistics about
   -- document read attempts.

   wwwDocumentStatistics OBJECT IDENTIFIER ::= { wwwMIBObjects 3 }

   wwwDocCtrlTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocCtrlEntry





Expires March 1998                                             [Page 23]

Internet-Draft               WWW Service MIB              September 1997


       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table which controls how the MIB implementation
            collects and maintains document statistics."
       ::= { wwwDocumentStatistics 1 }

   wwwDocCtrlEntry OBJECT-TYPE
       SYNTAX      WwwDocCtrlEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry which allows to configure the wwwDocLastNTable,
            the wwwDocBucketTable, the wwwDocAccessTopNTable, and
            the wwwDocBytesTopNTable."
       INDEX       { wwwServiceIndex }
       ::= { wwwDocCtrlTable 1 }

   WwwDocCtrlEntry ::= SEQUENCE {
       wwwDocCtrlLastNSize           Unsigned32,
       wwwDocCtrlLastNStatus         INTEGER,
       wwwDocCtrlBuckets             Unsigned32,
       wwwDocCtrlBucketTimeInterval  TimeInterval,
       wwwDocCtrlTopNSize            Unsigned32
   }

   wwwDocCtrlLastNSize OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The maximum number of entries in the wwwDocLastNTable."
       DEFVAL { 25 }
       ::= { wwwDocCtrlEntry 1 }

   wwwDocCtrlLastNStatus OBJECT-TYPE
       SYNTAX      INTEGER { enabled(1), disabled(2) }
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "Indicates whether the wwwDocLastNTable is currently updated
            by the agent or not. This object allows a manager to
            suspend the update process in order to retrieve the
            wwwDocLastNTable in a consistent state. The agent is
            expected to take a snapshot of the wwwDocLastNTable and to
            continue updating the table so that recent information is
            available as soon as the value is changed back to enabled.





Expires March 1998                                             [Page 24]

Internet-Draft               WWW Service MIB              September 1997


            Setting this object to enabled if it has not been set to
            disabled previously by the same manager can interfere with
            an operation in progress initiated by another manager. It
            is therefore necessary that managers synchronize their
            usage of this object."
       DEFVAL { enabled }
       ::= { wwwDocCtrlEntry 2 }

   wwwDocCtrlBuckets OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The maximum number of buckets maintained by the agent
            before the oldest bucket is deleted. The buckets are used
            to populate the wwwDocAccessTopNTable and the
            wwwDocBytesTopNTable."
       DEFVAL { 2 }
       ::= { wwwDocCtrlEntry 3 }

   wwwDocCtrlBucketTimeInterval OBJECT-TYPE
       SYNTAX      TimeInterval
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The time interval after which a new bucket is created.
            Changing this object has no effect on existing buckets."
       DEFVAL { 90000 }    -- 15 minutes (resolution .01 s)
       ::= { wwwDocCtrlEntry 4 }

   wwwDocCtrlTopNSize OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-write
       STATUS      current
       DESCRIPTION
           "The maximum number of entries shown in the
            wwwDocAccessTopNTable of the wwwDocBytesTopNTable.
            Changing this object has no effect on existing buckets."
       DEFVAL { 25 }
       ::= { wwwDocCtrlEntry 5 }


   wwwDocLastNTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocLastNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION





Expires March 1998                                             [Page 25]

Internet-Draft               WWW Service MIB              September 1997


           "The table which logs the last N access attempts."
       ::= { wwwDocumentStatistics 2 }

   wwwDocLastNEntry OBJECT-TYPE
       SYNTAX      WwwDocLastNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry which describes a recent access attempt."
       INDEX       { wwwServiceIndex, wwwDocLastNIndex }
       ::= { wwwDocLastNTable 1 }

   WwwDocLastNEntry ::= SEQUENCE {
       wwwDocLastNIndex            Unsigned32,
       wwwDocLastNName             WwwDocName,
       wwwDocLastNTimeStamp        DateAndTime,
       wwwDocLastNRequestType      WwwRequestType,
       wwwDocLastNResponseType     WwwResponseType,
       wwwDocLastNStatusMsg        DisplayString,
       wwwDocLastNBytes            Unsigned32
   }

   wwwDocLastNIndex OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An arbitrary monotonically increasing integer number used
            for indexing the wwwDocLastNTable. The first document
            accessed appears in the table with this index value equal
            to one. Each subsequent document is indexed with the next
            sequential index value. The Nth document accessed will be
            indexed by N. This table presents a sliding window of the
            last N documents accessed where N is the value of
            wwwDocCtrlLastNSize. Thus at any given time, the entries in
            this table will be indexed by N-wwwDocCtrlLastNSize thru
            N. The wwwDocCtrlLastNStatus attribute should be used to
            control the updating of this table to allow the manager to
            read its contents."
       ::= { wwwDocLastNEntry 1 }

   wwwDocLastNName OBJECT-TYPE
       SYNTAX      WwwDocName
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The name of the document which was attempted to access."





Expires March 1998                                             [Page 26]

Internet-Draft               WWW Service MIB              September 1997


       ::= { wwwDocLastNEntry 2 }

   wwwDocLastNTimeStamp OBJECT-TYPE
       SYNTAX      DateAndTime
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The date and time that this document was attempted
            to access."
       ::= { wwwDocLastNEntry 3 }

   wwwDocLastNRequestType OBJECT-TYPE
       SYNTAX      WwwRequestType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The protocol request type which was received by the
            server when this document access was attempted."
       ::= { wwwDocLastNEntry 4 }

   wwwDocLastNResponseType OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The protocol response type which was sent to the client
            as a result of this attempt to access a document. This
            object contains the type of the primary response in case
            there were multiple responses to a single request."
       ::= { wwwDocLastNEntry 5 }

   wwwDocLastNStatusMsg OBJECT-TYPE
       SYNTAX      DisplayString
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "This object contains a human readable description of the
            reason why the wwwDocLastNResponseType has been returned to
            the client. This object defines the implementation specific
            reason if the value of wwwDocLastNResponseType indicates an
            error. For example, this object can indicate that the
            requested document could not be transferred due to a
            timeout condition or the document could not be transferred
            because a 'soft link' pointing to the document could not be
            resolved."
       ::= { wwwDocLastNEntry 6 }






Expires March 1998                                             [Page 27]

Internet-Draft               WWW Service MIB              September 1997


   wwwDocLastNBytes OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of content bytes that were returned as a
            result of this attempt to access a document."
       ::= { wwwDocLastNEntry 7 }


   wwwDocBucketTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocBucketEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "This table provides administrative summary information for
            the buckets maintained per WWW service."
       ::= { wwwDocumentStatistics 3 }

   wwwDocBucketEntry OBJECT-TYPE
       SYNTAX      WwwDocBucketEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry which describes the parameters associated with a
            particular bucket."
       INDEX       { wwwServiceIndex, wwwDocBucketIndex }
       ::= { wwwDocBucketTable 1 }

   WwwDocBucketEntry ::= SEQUENCE {
       wwwDocBucketIndex           Unsigned32,
       wwwDocBucketTimeStamp       TimeStamp,
       wwwDocBucketAccesses        Unsigned32,
       wwwDocBucketDocuments       Unsigned32,
       wwwDocBucketBytes           Unsigned32
   }

   wwwDocBucketIndex OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An arbitrary monotonically increasing integer number
            used for indexing the wwwDocBucketTable. The index number
            wraps to 1 whenever the maximum value is reached."
       ::= { wwwDocBucketEntry 1 }






Expires March 1998                                             [Page 28]

Internet-Draft               WWW Service MIB              September 1997


   wwwDocBucketTimeStamp OBJECT-TYPE
       SYNTAX      TimeStamp
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The value of sysUpTime when the bucket was made available."
       ::= { wwwDocBucketEntry 2 }

   wwwDocBucketAccesses OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of access attempts for any document
            provided by this WWW service during the time interval
            over which this bucket was created."
       ::= { wwwDocBucketEntry 3 }

   wwwDocBucketDocuments OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of different documents which were
            attempted to be read from this this WWW service during
            the time interval over which this bucket was created."
       ::= { wwwDocBucketEntry 4 }

   wwwDocBucketBytes OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of content bytes which were transferred
            from this WWW service during the time interval over which
            this bucket was created."
       ::= { wwwDocBucketEntry 5 }


   wwwDocAccessTopNTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocAccessTopNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table of the most frequently accessed documents in a
            given bucket."
       ::= { wwwDocumentStatistics 4 }





Expires March 1998                                             [Page 29]

Internet-Draft               WWW Service MIB              September 1997


   wwwDocAccessTopNEntry OBJECT-TYPE
       SYNTAX      WwwDocAccessTopNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry in the top N table sorted by document accesses."
       INDEX       { wwwServiceIndex, wwwDocBucketIndex,
                     wwwDocAccessTopNIndex }
       ::= { wwwDocAccessTopNTable 1 }

   WwwDocAccessTopNEntry ::= SEQUENCE {
       wwwDocAccessTopNIndex             Unsigned32,
       wwwDocAccessTopNName              WwwDocName,
       wwwDocAccessTopNAccesses          Unsigned32,
       wwwDocAccessTopNBytes             Unsigned32,
       wwwDocAccessTopNLastResponseType  WwwResponseType
   }

   wwwDocAccessTopNIndex OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An arbitrary monotonically increasing integer number
            used for indexing the wwwDocAccessTopNTable. The index is
            inversely correlated to the sorting order of the table. The
            document with the highest access count will get the index
            value 1."
       ::= { wwwDocAccessTopNEntry 1 }

   wwwDocAccessTopNName OBJECT-TYPE
       SYNTAX      WwwDocName
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The name of the document which was attempted to access."
       ::= { wwwDocAccessTopNEntry 2 }

   wwwDocAccessTopNAccesses OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of access attempts for this document."
       ::= { wwwDocAccessTopNEntry 3 }

   wwwDocAccessTopNBytes OBJECT-TYPE





Expires March 1998                                             [Page 30]

Internet-Draft               WWW Service MIB              September 1997


       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of content bytes that were transmitted
            as a result of attempts to access this document."
       ::= { wwwDocAccessTopNEntry 4 }

   wwwDocAccessTopNLastResponseType OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The protocol response type which was sent to the client
            as a result of the last attempt to access this document.
            This object contains the type of the primary response in
            case there were multiple responses to a single request."
       ::= { wwwDocAccessTopNEntry 5 }


   wwwDocBytesTopNTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF WwwDocBytesTopNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "The table of the documents which caused most of the network
            traffic in a given bucket."
       ::= { wwwDocumentStatistics 5 }

   wwwDocBytesTopNEntry OBJECT-TYPE
       SYNTAX      WwwDocBytesTopNEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An entry in the top N table sorted by network traffic."
       INDEX       { wwwServiceIndex, wwwDocBucketIndex,
                     wwwDocBytesTopNIndex }
       ::= { wwwDocBytesTopNTable 1 }

   WwwDocBytesTopNEntry ::= SEQUENCE {
       wwwDocBytesTopNIndex             Unsigned32,
       wwwDocBytesTopNName              WwwDocName,
       wwwDocBytesTopNAccesses          Unsigned32,
       wwwDocBytesTopNBytes             Unsigned32,
       wwwDocBytesTopNLastResponseType  WwwResponseType
   }






Expires March 1998                                             [Page 31]

Internet-Draft               WWW Service MIB              September 1997


   wwwDocBytesTopNIndex OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "An arbitrary monotonically increasing integer number
            used for indexing the wwwDocBytesTopNTable. The index is
            inversely correlated to the sorting order of the table. The
            document with the highest byte count will get the index
            value 1."
       ::= { wwwDocBytesTopNEntry 1 }

   wwwDocBytesTopNName OBJECT-TYPE
       SYNTAX      WwwDocName
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The name of the document which was attempted to access."
       ::= { wwwDocBytesTopNEntry 2 }

   wwwDocBytesTopNAccesses OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of access attempts for this document."
       ::= { wwwDocBytesTopNEntry 3 }

   wwwDocBytesTopNBytes OBJECT-TYPE
       SYNTAX      Unsigned32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of content bytes that were transmitted
            as a result of attempts to access this document."
       ::= { wwwDocBytesTopNEntry 4 }

   wwwDocBytesTopNLastResponseType OBJECT-TYPE
       SYNTAX      WwwResponseType
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The protocol response type which was sent to the client
            as a result of the last attempt to access this document.
            This object contains the type of the primary response in
            case there were multiple responses to a single request."
       ::= { wwwDocBytesTopNEntry 5 }





Expires March 1998                                             [Page 32]

Internet-Draft               WWW Service MIB              September 1997


   --
   -- Conformance Definitions
   --

   wwwMIBCompliances OBJECT IDENTIFIER ::= { wwwMIBConformance 1 }
   wwwMIBGroups      OBJECT IDENTIFIER ::= { wwwMIBConformance 2 }

   wwwMinimalCompliance MODULE-COMPLIANCE
       STATUS      current
       DESCRIPTION
           "The compliance statement for SNMP agents which implement
            the minimal subset of the WWW-MIB. Implementors might
            choose this subset for high-performance server where
            full compliance might be to expensive."
       MODULE  -- this module
       MANDATORY-GROUPS {
           wwwServiceGroup,
           wwwSummaryGroup
       }
       ::= { wwwMIBCompliances 1 }

   wwwFullCompliance MODULE-COMPLIANCE
       STATUS      current
       DESCRIPTION
           "The compliance statement for SNMP agents which implement
            the full WWW-MIB.

            The wwwRequestInTable and wwwResponseOutTable tables will
            always be empty for a pure WWW client implementation and
            wwwSummaryInRequests and wwwSummaryOutResponses will both
            be zero.

            The wwwRequestOutTable and wwwResponseInTable tables will
            always be empty for a pure WWW server implementation and
            wwwSummaryOutRequests and wwwSummaryInResponses will both
            be zero.

            An implementation for a WWW proxy must be capable to
            populate all tables."
       MODULE  -- this module
       MANDATORY-GROUPS {
           wwwServiceGroup,
           wwwSummaryGroup,
           wwwRequestInGroup,
           wwwRequestOutGroup,
           wwwResponseInGroup,
           wwwResponseOutGroup,





Expires March 1998                                             [Page 33]

Internet-Draft               WWW Service MIB              September 1997


           wwwDocumentGroup
       }
       ::= { wwwMIBCompliances 2 }

   wwwServiceGroup OBJECT-GROUP
       OBJECTS {
           wwwServiceDescription,
           wwwServiceContact,
           wwwServiceProtocol,
           wwwServiceName,
           wwwServiceType,
           wwwServiceUptime,
           wwwServiceOperStatus,
           wwwServiceLastChange
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing information about
            the WWW services known by the SNMP agent."
       ::= { wwwMIBGroups 1 }

   wwwSummaryGroup OBJECT-GROUP
       OBJECTS {
           wwwSummaryInRequests,
           wwwSummaryOutRequests,
           wwwSummaryInResponses,
           wwwSummaryOutResponses,
           wwwSummaryInBytes,
           wwwSummaryInBytesLow,
           wwwSummaryOutBytes,
           wwwSummaryOutBytesLow
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing summary statistics
            about requests and responses generated and received
            by a WWW service."
       ::= { wwwMIBGroups 2 }

   wwwRequestInGroup OBJECT-GROUP
       OBJECTS {
           wwwRequestInCount,
           wwwRequestInBytes,
           wwwRequestInLastTime
       }
       STATUS      current
       DESCRIPTION





Expires March 1998                                             [Page 34]

Internet-Draft               WWW Service MIB              September 1997


           "A collection of objects providing detailed statistics
            about requests received by a WWW service."
       ::= { wwwMIBGroups 3 }

   wwwRequestOutGroup OBJECT-GROUP
       OBJECTS {
           wwwRequestOutCount,
           wwwRequestOutBytes,
           wwwRequestOutLastTime
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing detailed statistics
            about requests generated by a WWW service."
       ::= { wwwMIBGroups 4 }

   wwwResponseInGroup OBJECT-GROUP
       OBJECTS {
           wwwResponseInCount,
           wwwResponseInBytes,
           wwwResponseInLastTime
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing detailed statistics
            about responses received by a WWW service."
       ::= { wwwMIBGroups 5 }

   wwwResponseOutGroup OBJECT-GROUP
       OBJECTS {
           wwwResponseOutCount,
           wwwResponseOutBytes,
           wwwResponseOutLastTime
       }
       STATUS      current
       DESCRIPTION
           "A collection of objects providing detailed statistics
            about responses generated by a WWW service."
       ::= { wwwMIBGroups 6 }

   wwwDocumentGroup OBJECT-GROUP
       OBJECTS {
           wwwDocCtrlLastNSize,
           wwwDocCtrlLastNStatus,
           wwwDocCtrlBuckets,
           wwwDocCtrlBucketTimeInterval,
           wwwDocCtrlTopNSize,





Expires March 1998                                             [Page 35]

Internet-Draft               WWW Service MIB              September 1997


           wwwDocLastNName,
           wwwDocLastNTimeStamp,
           wwwDocLastNRequestType,
           wwwDocLastNResponseType,
           wwwDocLastNStatusMsg,
           wwwDocLastNBytes,
           wwwDocBucketTimeStamp,
           wwwDocBucketAccesses,
           wwwDocBucketDocuments,
           wwwDocBucketBytes,
           wwwDocAccessTopNName,
           wwwDocAccessTopNAccesses,
           wwwDocAccessTopNBytes,
           wwwDocAccessTopNLastResponseType,
           wwwDocBytesTopNName,
           wwwDocBytesTopNAccesses,
           wwwDocBytesTopNBytes,
           wwwDocBytesTopNLastResponseType
       }
       STATUS  current
       DESCRIPTION
           "A collection of objects providing information about
            accesses to documents."
       ::= { wwwMIBGroups 7 }

   END


7.  Document Transfer Protocol Mappings

   This section describes how existing protocols such as HTTP [7,8] and
   FTP [9] can be mapped on the abstract Document Transfer Protocol
   (DTP) used within the definitions of the WWW MIB. Every mapping must
   define the identifier which is used to uniquely identify the transfer
   protocol. In addition, the mappings must define how requests and
   responses are identified.


7.1.  The HyperText Transfer Protocol

   The HyperText Transfer Protocol (HTTP) [7,8] is an application-level
   protocol used to transfer hypermedia documents in a distributed
   networked environment. HTTP is based on the request/response paradigm
   and can be mapped on the abstract DTP easily.

   The HTTP protocol usually runs over TCP and uses the well-known TCP
   port 80. Therefore, the default value for the wwwServiceProtocol





Expires March 1998                                             [Page 36]

Internet-Draft               WWW Service MIB              September 1997


   object is { applTCPProtoID 80 }.

   HTTP allows for both requests and responses an open-ended set of
   message types. The general messages syntax of HTTP is therefore used
   for the protocol mapping. The BNF specification of the general HTTP
   message syntax as defined in [8] is as follows:

       HTTP-message = start-line
                      *message-header
                      CRLF
                      [ message-body ]

       start-line   = Request-Line | Status-Line

       Request-Line = Method SP Request-URI SP HTTP-Version CRLF

       Status-Line  = HTTP-Version SP Status-Code SP Reason-Phrase CRLF

   Every HTTP-message where the start-line is a Request-Line is
   considered a request in the abstract DTP. Every HTTP-message where
   the start-line is a Status-Line is considered a response in the
   abstract DTP. The mappings of wwwRequestType and wwwResponseType are
   defined as follows:

   o    The wwwRequestType corresponds to the method token in the
        Request-Line.

   o    The wwwResponseType corresponds to the Status-Code in the
        Status-Line.


7.2.  The File Transfer Protocol

   The File Transfer Protocol (FTP) [9] is an application-level protocol
   used to transfer files between hosts connected by the TCP/IP suite of
   protocols. FTP is based on a request/response paradigm and is mapped
   on the abstract DTP as defined in this section. The FTP model as
   defined in [9] is depicted below.














Expires March 1998                                             [Page 37]

Internet-Draft               WWW Service MIB              September 1997


                                              -------------
                                              |+---------+|
                                              ||   User  ||    --------
                                              ||Interface|<--->| User |
                                              |+----|----+|    --------
                ----------                    |     |     |
                |+------+| control connection |+----|----+|
                ||Server|<------------------->||  Client ||
                ||  PI  ||  Commands/Replies  ||    PI   ||
                |+--|---+|                    |+----|----+|
                |   |    |                    |     |     |
    --------    |+--|---+|        Data        |+----|----+|    --------
    | File |<--->|Server|<------------------->||  Client |<--->| File |
    |System|    || DTP  ||     Connection     ||   DTP   ||    |System|
    --------    |+------+|                    |+---------+|    --------
                ----------                    -------------

   FTP uses two different connection types between a client and a server
   to transfer files. The control connection is persistent during a FTP
   session and used to exchange FTP commands and associated replies. The
   data connection is only available when bulk data has to be
   transferred.

   The FTP protocol usually runs over TCP and uses the well-known TCP
   port 21 to setup the control connection. Therefore, the default value
   for the wwwServiceProtocol object is { applTCPProtoID 21 }.

   Every FTP command is considered a request in the abstract DTP. Every
   FTP reply is considered a response in the abstract DTP. It should be
   noted that a single FTP command can result in multiple FTP replies
   (e.g. preliminary positive replies). The primary response for a FTP
   request contains a status code of the form 2xy, 3xy, 4xy or 5xy.  See
   section 4.2 in [9] for the exact meaning of these status codes.  The
   mappings for wwwRequestType and wwwResponseType are defined as
   follows:

   o    The wwwRequestType corresponds to the FTP command token.

   o    The wwwResponseType corresponds to the three-digit code which
        starts a reply. Multi-line replies with the same three-digit
        code are counted as a single DTP response.


8.  Security Considerations

   The MIB objects defined in the memo might disclose information that
   should be protected. In particular, the document statistics group





Expires March 1998                                             [Page 38]

Internet-Draft               WWW Service MIB              September 1997


   contains traffic information, which includes the names of documents
   that were a target of protocol operations. It is therefore adviced to
   use SNMP access control and SNMP security mechanism (where available)
   in order to protect this information in sensitive environments.

   The protocol statistics are less sensitive, because they do not
   contain details about the target of individual requests/responses.
   However, it is suggested that sites configure MIB views so that a
   user of this MIB can only see the portion of the statistics that
   belong to the WWW services managed by that user.


9.  Acknowledgments

   This document was produced by the Application MIB working group.  The
   editors gratefully acknowledge the comments of the following
   individuals:

       Mark Gamble, Cheryl Krupczak, Randy Preshun, John Saperia,
       Bob Stewart, Martin Toet, Chris Wellens


10.  Editors' Address


     Harrie Hazewinkel
     MUSIQ/DESIRE/CEO Program
     Institute for Space Applications
     Joint Research Centre of the E.C.
     via Fermi - Ispra 21020 (VA)
     Italy                               Tel: +39 (0)332 789384
     harrie.hazewinkel@jrc.it            Fax: +39 (0)332 785500

     Carl W. Kalbfleisch
     Verio, Inc.
     1950 Stemmons Frwy
     2004 INFOMART
     Dallas, TX 75207
     USA                                 Tel: +1 972 238-8303
     cwk@verio.net                       Fax: +1 972 238-0268

     Juergen Schoenwaelder
     Computer Science Department
     University of Twente
     P.O. Box 217, NL-7500 AE Enschede
     The Netherlands                     Tel: +31 53 489-3678
     schoenw@cs.utwente.nl               Fax: +31 53 489-3247





Expires March 1998                                             [Page 39]

Internet-Draft               WWW Service MIB              September 1997


11.  References

[1]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and S.
     Waldbusser, "Structure of Management Information for Version 2 of
     the Simple Network Management Protocol (SNMPv2)", RFC1902, SNMP
     Research,Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc.,
     International Network Services, January 1996.

[2]  McCloghrie, K., and M. Rose, Editors, "Management Information Base
     for Network Management of TCP/IP-based internets: MIB-II", STD 17,
     RFC 1213, Hughes LAN Systems, Performance Systems International,
     March 1991.

[3]  Case, J., Fedor, M., Schoffstall, M., and J. Davin, "Simple Network
     Management Protocol", RFC 1157, SNMP Research, Performance Systems
     International, Performance Systems International, MIT Laboratory
     for Computer Science, May 1990.

[4]  SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and S.
     Waldbusser, "Protocol Operations for Version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC1905, SNMP Research,Inc.,
     Cisco Systems, Inc., Dover Beach Consulting, Inc., International
     Network Services, January 1996.

[5]  T. Berners-Lee, "Universal Resource Identifiers in WWW", RFC 1630,
     CERN, June 1994.

[6]  Berners-Lee, T., Masinter, L., and M. McCahill, "Uniform Resource
     Locators (URL)", RFC 1738, CERN, Xerox Corporation, University of
     Minnesota, December 1994.

[7]  Berners-Lee, T., Fielding, R., and H. Frystyk, "Hypertext Transfer
     Protocol -- HTTP/1.0", RFC 1945, MIT/LCS, UC Irvine, MIT/LCS, May
     1996.

[8]  Fielding, R., Gettys, J., Mogul, J., Frystyk, H., and T. Berners-
     Lee, "Hypertext Transfer Protocol -- HTTP/1.1", RFC 2068, UC
     Irvine, DEC, DEC, MIT/LCS, January 1997.

[9]  Postel, J., and J.K. Reynolds, "File Transfer Protocol (FTP)", STD
     9, RFC 959, USC/ISI, October 1985.

[10] C. Kalbfleisch, "Applicability of Standards Track MIBs to
     Management of World Wide Web Servers", RFC 2039, OnRamp
     Technologies, November 1996.







Expires March 1998                                             [Page 40]

Internet-Draft               WWW Service MIB              September 1997


[11] Krupczak, C., and J. Saperia, "Definitions of System-Level Managed
     Objects for Applications", draft-ietf-applmib-sysapplmib-08.txt,
     Empire Technologies, BGS Systems, March 1997.

[12] Kalbfleisch, C., Krupczak, C., Preshun, R., and J. Saperia,
     "Application Management MIB", draft-ietf-applmib-mib-04.txt, Verio,
     Empire Technologies, BMC Software, BGS Systems, July 1997.

[13] Kantor, B., and P. Lapsley, "Network News Transfer Protocol: A
     Proposed Standard for the Stream-Based Transmission of News", RFC
     977, UC San Diego & UC Berkeley, February 1986.

[14] Callaghan, B., "WebNFS Client Specification", RFC 2054, Sun
     Microsystems, October 1996

[15] Callaghan, B., "WebNFS Server Specification", RFC 2055, Sun
     Microsystems, October 1996



































Expires March 1998                                             [Page 41]

Internet-Draft               WWW Service MIB              September 1997


   Table of Contents


   1 Abstract .....................................................    2
   2 The SNMPv2 Network Management Framework ......................    2
   2.1 Object Definitions .........................................    2
   3 Terminology ..................................................    3
   4 Overview .....................................................    4
   4.1 Purpose and Requirements ...................................    4
   4.2 Relationship to other Standards Efforts ....................    5
   4.3 WWW Services ...............................................    5
   4.4 Document Transfer Protocol .................................    6
   5 Structure of the MIB .........................................    7
   5.1 Service Information Group ..................................    7
   5.2 Protocol Statistics Group ..................................    7
   5.3 Document Statistics Group ..................................    8
   6 Definitions ..................................................   10
   7 Document Transfer Protocol Mappings ..........................   36
   7.1 The HyperText Transfer Protocol ............................   36
   7.2 The File Transfer Protocol .................................   37
   8 Security Considerations ......................................   38
   9 Acknowledgments ..............................................   39
   10 Editors' Address ............................................   39
   11 References ..................................................   40




























Expires March 1998                                             [Page 42]

