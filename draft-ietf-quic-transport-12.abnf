smallest = largest - ack_block

largest = previous_smallest - gap - 2

