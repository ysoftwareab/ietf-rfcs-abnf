Pseudo-Wire Emulation Edge-to-Edge(PWE3)                        Zi Kang 
                                                                Liu Jun 
Internet Draft                           Huawei Technologies Co., Ltd. 
Expires: April 2006                                   October 17, 2005 
                                   
 
                                      
              Link Aggregation Member Interface Status Signal 
               draft-zi-pwe3-link-aggr-member-status-00.txt 


    

    

    

Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on April 17, 2005. 

Copyright Notice 

      Copyright (C) The Internet Society (2005).  All Rights Reserved. 

    

 
 
 
Zi                     Expires April 17, 2006                 [Page 1] 

Internet-DraftLink Aggregation Member Interface Status Signal   October 
2005 
    

Abstract 

   Link Aggregation can be used as Attachment Circuit (AC) of the PWE3 
   service. Link Aggregation is treated as a single interface. But 
   changes in the the member interface may affect use of the aggregated 
   link. 

   This draft suggests a method to signal the status of the member 
   interface of Link Aggregation AC to remote Provider Edge (PE) device. 
   With this status information, the remote PE can decide to discard 
   traffic over bandwidth, avoid congestion at local PE and avoid wasted 
   bandwidth of the Packet Switched Network (PSN).  

   This mechanism is required in PWE3 applications because pseudo-wires 
   provide layer 1/layer 2 services, carrying traffic that may not 
   respond to loss events by executing congestion avoidance 

    

Conventions used in this document 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119 [1]. 

Table of Contents 

    
   1. Introduction................................................2 
   2. AC Sub-interface Status......................................3 
   3. Security Considerations......................................5 
   4. IANA Considerations.........................................5 
   5. Acknowledgments.............................................6 
   6. Normative References.........................................6 
   7. Informative References.......................................6 
   8. Author's Addresses..........................................7 
   Intellectual Property Statement.................................7 
   Disclaimer of Validity.........................................8 
   Copyright Statement............................................8 
   Acknowledgment.................................................8 
    
1. Introduction 

   A Link Aggregation interface can be used as an Attachment Circuit (AC) 
   of PWE3 service. A Link Aggregation interface is treated as a single 
   interface.  
 
 
Zi                     Expires April 17, 2006                 [Page 2] 

Internet-DraftLink Aggregation Member Interface Status Signal   October 
2005 
    

   If, for example, a Link Aggregation includes two operational 100 Mb 
   Ethernet ports, the Link Aggregation interface can pass through 200 
   Mb traffic. 

   If one of the two ports changes it's status to 'down', the Link 
   Aggregation interface can pass through only 100 Mb traffic. 

   Because the Link Aggregation interface is still up, so the remote 
   Customer Edge (CE) device continues to send out 200 Mb traffic. The 
   200 Mb traffic may be forwarded to this PE which must discard one 
   half of the traffic. 

   So we need a mechanism to communicate the status of the member 
   interface of the Link Aggregation interface to the remote PE. 

    

2. AC Sub-interface Status 

   The member interface of the Link Aggregation interface can be 
   regarded as a sub-interface of AC.  

   The format of the AC Sub-interface Status TLV is as follows: 

    

      0                   1                   2                   3 

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  

     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

     |1 0|  AC Sub-interface Status  |              0x0C             | 

     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

     |  Number of up Sub-interface   |         Bandwidth Unit        | 

     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

     |                           Bandwidth                           | 

     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

   The values of Bandwidth Unit are specified below: 

 
 
Zi                     Expires April 17, 2006                 [Page 3] 

Internet-DraftLink Aggregation Member Interface Status Signal   October 
2005 
    

       0x01    bps 

       0x02    Kbps 

       0x03    Mbps 

       0x04    Gbps 

    

   So the bandwidth of Link Aggregation interface is equal to 
   "Bandwidth" multiplied by "Bandwidth Unit".  

   This TLV is transported to the remote PW peer via the LDP 
   notification message ([PWE3-CRTL] 5.4.2), with the PW Status TLV. The 
   general format of the Notification Message is: 

    

       0                   1                   2                   3 

       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

      |0|   Notification (0x0001)     |      Message Length           | 

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

      |                       Message ID                              | 

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

      |                       Status (TLV)                            | 

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

      |                      PW Status TLV                            | 

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

      |                 AC Sub-interface Status TLV                   | 

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

      |                 PWId FEC or Generalized ID FEC                | 
 
 
Zi                     Expires April 17, 2006                 [Page 4] 

Internet-DraftLink Aggregation Member Interface Status Signal   October 
2005 
    

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

    

   When one of the member interfaces of the Link Aggregation changes to 
   down or up, a PE that supports this mechanism MUST send the AC Sub-
   interface Status TLV via a notification message to the remote PE. 

   If the remote PE does not know how to process this TLV, it MUST 
   ignore this TLV because the U bit of this TLV is set [RFC3031].  

   A remote PE that does know how to process this TLV MAY perform flow 
   control mechanism using the new bandwidth. The number of up Sub-
   interface may also be used for flow control mechanism. 

   If one of the member interfaces of the Link Aggregation changes to 
   down, but at the same time another member interfaces of the Link 
   Aggregation changes to up, and the bandwidth of Link Aggregation not 
   change, the PE MAY send the AC Sub-interface Status TLV to the remote 
   PE, but is not required to do so if the aggregate bandwidth and 
   number of active member interfaces remain constant. 

    

3. Security Considerations 

   This document does not introduce any new security concerns beyond 
   those specified in [PWE3-CRTL].   

    

4. IANA Considerations 

   The code of AC Sub-interface Status TLV must be assigned by IANA. 
   (Spencer - is there a value you could suggest? May not need.) 

    








 
 
Zi                     Expires April 17, 2006                 [Page 5] 

Internet-DraftLink Aggregation Member Interface Status Signal   October 
2005 
    

5. Acknowledgments 

   None. 

    

6. Normative References 

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement 
         Levels", BCP 14, RFC 2119, March 1997. 

   [2]  Crocker, D. and Overell, P.(Editors), "Augmented BNF for Syntax 
         Specifications: ABNF", RFC 2234, Internet Mail Consortium and 
         Demon Internet Ltd., November 1997. 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC 2119, March 1997. 

   [RFC2234] Crocker, D. and Overell, P.(Editors), "Augmented BNF for 
             Syntax Specifications: ABNF", RFC 2234, Internet Mail 
             Consortium and Demon Internet Ltd., November 1997. 

   [PWE3-CRTL] "Pseudowire Setup and Maintenance using the Label 
             Distribution Protocol", Martini L., et al draft-ietf-pwe3-
             control-protocol-17.txt, ( work in progress ), June 2005. 

   [RFC3031] E. Rosen, et al., RFC 3031, MPLS Architecture, January 2001. 

    

7. Informative References 

   [RFC3985] "PWE3 Architecture" Bryant, et al., RFC3985. 

     










 
 
Zi                     Expires April 17, 2006                 [Page 6] 

Internet-DraftLink Aggregation Member Interface Status Signal   October 
2005 
    

8. Author's Addresses 

   Zi Kang 
   Huawei Technologies Co., Ltd. 
   Floor 10, HuiHong Mansion, No.91 BaiXia Rd. 
   NanJing, P.R. of China 
    
   Phone: ( 86)25-84565325 
   Email: zikang@huawei.com 
    
    
   Liu Jun 
   Huawei Technologies Co., Ltd. 
   Floor 10, HuiHong Mansion, No.91 BaiXia Rd. 
   NanJing, P.R. of China 
    
   Phone: ( 86)25-84565327 
   Email: liujn@huawei.com 
    
    

Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org 


 
 
Zi                     Expires April 17, 2006                 [Page 7] 

Internet-DraftLink Aggregation Member Interface Status Signal   October 
2005 
    

Disclaimer of Validity 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 

Copyright Statement 

   Copyright (C) The Internet Society (2005). 

   This document is subject to the rights, licenses and restrictions 
   contained in BCP 78, and except as set forth therein, the authors 
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 























 
 
Zi                     Expires April 17, 2006                 [Page 8] 

