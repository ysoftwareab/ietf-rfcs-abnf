<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>BGP Community Container Attribute</title>
<meta content="Robert Raszuk" name="author">
<meta content="Jeffrey Haas" name="author">
<meta content="Andrew Lange" name="author">
<meta content="Bruno Decraene" name="author">
<meta content="Shane Amante" name="author">
<meta content="Paul Jakma" name="author">
<meta content="
       Route tagging plays an important role in external
 BGP  relations,
in communicating various routing policies between peers. It
is also a very common best practice among operators to propagate
various additional information about routes intra-domain. The
most common tool used today to attach various information about
routes is through the use of
 BGP communities . 
       This document defines a new encoding which will enhance
and simplify what can be accomplished today with the use of
BGP communities. The most important addition this specification
makes over currently defined BGP communities is the ability to
specify, carry as well as use for execution an operator's defined
set of parameters. It also provides an extensible platform
for any new community encoding needs in the future. 
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="I-D" name="keyword">
<meta content="Internet-Draft" name="keyword">
<meta content="IDR" name="keyword">
<meta content="BGP" name="keyword">
<meta content="draft-ietf-idr-wide-bgp-communities-06" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-idr-wide-bgp-communities-dp5ntey4.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">BGP Community Container</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Raszuk, et al.</td>
<td class="center">Expires 14 July 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">IDR Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-idr-wide-bgp-communities-06</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01-10" class="published">10 January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-07-14">14 July 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Raszuk, <span class="editor">Ed.</span>
</div>
<div class="org">Bloomberg LP</div>
</div>
<div class="author">
      <div class="author-name">J. Haas, <span class="editor">Ed.</span>
</div>
<div class="org">Juniper Networks</div>
</div>
<div class="author">
      <div class="author-name">A. Lange, <span class="editor">Ed.</span>
</div>
<div class="org">Nokia</div>
</div>
<div class="author">
      <div class="author-name">B. Decraene, <span class="editor">Ed.</span>
</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">S. Amante</div>
<div class="org">Apple, Inc.</div>
</div>
<div class="author">
      <div class="author-name">P. Jakma</div>
<div class="org">Hewlett Packard Enterprise</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">BGP Community Container Attribute</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Route tagging plays an important role in external
<span><a href="#RFC4271" class="xref">BGP</a> [<a href="#RFC4271" class="xref">RFC4271</a>]</span> relations,
in communicating various routing policies between peers. It
is also a very common best practice among operators to propagate
various additional information about routes intra-domain. The
most common tool used today to attach various information about
routes is through the use of
<span><a href="#RFC1997" class="xref">BGP communities</a> [<a href="#RFC1997" class="xref">RFC1997</a>]</span>.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document defines a new encoding which will enhance
and simplify what can be accomplished today with the use of
BGP communities. The most important addition this specification
makes over currently defined BGP communities is the ability to
specify, carry as well as use for execution an operator's defined
set of parameters. It also provides an extensible platform
for any new community encoding needs in the future.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-requirements-language">
<a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
      </h2>
<p id="section-note.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <span><a href="#RFC2119" class="xref">RFC 2119</a> [<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 14 July 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-protocol-summary" class="xref">Protocol Summary</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-bgp-community-container-com" class="xref">BGP Community Container Common Header</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-community-containers" class="xref">Community Containers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2.2.1">
                    <p id="section-toc.1-1.2.2.2.2.1.1" class="keepWithNext"><a href="#section-2.2.1" class="xref">2.2.1</a>.  <a href="#name-type-1-bgp-wide-community" class="xref">Type 1: BGP Wide Community</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-bgp-community-container-ato" class="xref">BGP Community Container Atoms</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-bgp-community-container-att" class="xref">BGP Community Container Attribute</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-bgp-community-container-attr" class="xref">BGP Community Container Attribute Common Header</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-bgp-community-container-typ" class="xref">BGP Community Container, Type 1: BGP Wide Community</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-community-value" class="xref">Community Value</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-source-as-number" class="xref">Source AS Number</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-context-as-number" class="xref">Context AS Number</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-bgp-wide-community-tlvs" class="xref">BGP Wide Community TLVs</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="xref">4.4.1</a>.  <a href="#name-sub-type-1-bgp-wide-communi" class="xref">Sub-Type 1, BGP Wide Community Target(s) TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="xref">4.4.2</a>.  <a href="#name-sub-type-2-bgp-wide-communi" class="xref">Sub-Type 2, BGP Wide Community Exclude Target(s) TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a href="#section-4.4.3" class="xref">4.4.3</a>.  <a href="#name-sub-type-3-bgp-wide-communi" class="xref">Sub-Type 3, BGP Wide Community Parameter(s) TLV</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4.2.4">
                    <p id="section-toc.1-1.4.2.4.2.4.1"><a href="#section-4.4.4" class="xref">4.4.4</a>.  <a href="#name-usage" class="xref">Usage</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-bgp-community-container-atom" class="xref">BGP Community Container Atoms</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-atom-type-1-the-autonomous-" class="xref">Atom Type 1, The Autonomous System Number List</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-atom-types-2-and-3-the-ipv4" class="xref">Atom Types 2 and 3, The IPv4 and IPv6 Prefix Lists</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-atom-type-4-the-integer32-l" class="xref">Atom Type 4, The Integer32 List</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="xref">5.4</a>.  <a href="#name-atom-type-5-the-ieee-floati" class="xref">Atom Type 5, The IEEE Floating Point Number List</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="xref">5.5</a>.  <a href="#name-atom-type-6-the-neighbor-cl" class="xref">Atom Type 6, The Neighbor Class List</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="xref">5.6</a>.  <a href="#name-atom-type-7-the-user-define" class="xref">Atom Type 7, The User-defined Class List</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="xref">5.7</a>.  <a href="#name-atom-type-8-the-utf-8-strin" class="xref">Atom Type 8, the UTF-8 String</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-well-known-standard-bgp-com" class="xref">Well Known Standard BGP Communities</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-operational-considerations" class="xref">Operational Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-error-handling" class="xref">Error Handling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-general-error-handling-for-" class="xref">General Error Handling for BGP Community Containers</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-bgp-wide-community-containe" class="xref">BGP Wide Community Container Error Handling</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-example" class="xref">Example</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-example-type-1-wide-communi" class="xref">Example Type 1 Wide Community Definition</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-example-type-1-bgp-wide-com" class="xref">Example Type 1 BGP Wide Community Encoding</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-security-considerations" class="xref">Security considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-bgp-community-container-sec" class="xref">BGP Community Container Security Considerations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-bgp-wide-community-security" class="xref">BGP Wide Community Security Considerations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-bgp-community-container-attri" class="xref">BGP Community Container Attribute</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-bgp-community-container-atoms" class="xref">BGP Community Container Atoms Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-11.3" class="xref">11.3</a>.  <a href="#name-bgp-community-container-nei" class="xref">BGP Community Container Neighbor Class List Atom Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#section-11.4" class="xref">11.4</a>.  <a href="#name-bgp-community-container-type" class="xref">BGP Community Container Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.5">
                <p id="section-toc.1-1.11.2.5.1"><a href="#section-11.5" class="xref">11.5</a>.  <a href="#name-registered-type-1-bgp-wide-" class="xref">Registered Type 1 BGP Wide Communities Community Types</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.6">
                <p id="section-toc.1-1.11.2.6.1"><a href="#section-11.6" class="xref">11.6</a>.  <a href="#name-registered-type-1-bgp-wide-c" class="xref">Registered Type 1 BGP Wide Community Optional Sub-Types</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-change-history" class="xref">Change History</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-working-group-draft" class="xref">Working Group draft</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-individual-draft" class="xref">Individual draft</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#section-15.1" class="xref">15.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#section-15.2" class="xref">15.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"><span><a href="#RFC1997" class="xref">RFC 1997</a> [<a href="#RFC1997" class="xref">RFC1997</a>]</span> defines the BGP
Community Attribute.  This attribute is used as a tool to
carry additional information in BGP routes
which may help to automate peering administration.
The BGP Communities
Attribute consists of a set of one or more four-octet values,
where each specifies a different community. Except for
two reserved ranges, the encoding of community values mandates
that the first two octets are to contain the Autonomous System
number, with the next two octets containing some locally defined
value.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Since the introduction of <span>[<a href="#RFC1997" class="xref">RFC1997</a>]</span>, numerous additional
mechanisms have been introduced to provide BGP Community-like functionality.
Each of these mechanisms introduce a new syntax, typically covered by its
encoding with the BGP Path Attribute that defines it, and a semantic
space.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The authors
believe that defining a new BGP Path Attribute, with the ability
to contain locally defined parameters will enhance the current 
level of network policies, as well as simplify BGP policy 
management. The proposed encoding will also facilitate 
the delivery of new network services without a need to define 
a new BGP extension each time.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">When defining any new type of tool there is always a
unique opportunity to specify a subset of well recognized
behaviors. Lists of the current most commonly used BGP communities,
as well as provision for a new registry for future definitions
will be contained in a separate document.<a href="#section-1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-protocol-summary">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-protocol-summary" class="section-name selfRef">Protocol Summary</a>
      </h2>
<p id="section-2-1">This specification defines a new BGP Path Attribute, the BGP Community
Container.  It carries a series of BGP Community Container types, each
prefaced with the BGP Community Container Common Header.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">This specification also defines the BGP Wide Community Container.<a href="#section-2-2" class="pilcrow">¶</a></p>
<section id="section-2.1">
        <h3 id="name-bgp-community-container-com">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-bgp-community-container-com" class="section-name selfRef">BGP Community Container Common Header</a>
        </h3>
<p id="section-2.1-1">The BGP Community Container Common Header permits Community-like
 attributes to be grouped under a single BGP Path Attribute.  This
 provides hierarchy for future Community-like features.  It permits
 implementations without knowledge of a specific Community
 Container's format to address that Community Container by its code
 point.  It also permits common enforcement of the Community
 Container's transitivity across AS boundaries without need for the
 implementation to understand a specific Container's implementation.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">The BGP Community Container Common Header is defined in <a href="#container_header_def" class="xref">Section 3.1</a>
 and contains following encoding:<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.1-3">
          <dt id="section-2.1-3.1">Container Type:</dt>
          <dd style="margin-left: 2.0em" id="section-2.1-3.2">
      Container Type 1, BGP Wide Community
      is defined in this document.<a href="#section-2.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.3">Flags:</dt>
          <dd style="margin-left: 2.0em" id="section-2.1-3.4"> 
      Flags control common behavior including the transitivity of the
      Container.<a href="#section-2.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.5">Length:</dt>
          <dd style="margin-left: 2.0em" id="section-2.1-3.6">
      Length of the Container contents.<a href="#section-2.1-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-2.2">
        <h3 id="name-community-containers">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-community-containers" class="section-name selfRef">Community Containers</a>
        </h3>
<p id="section-2.2-1">This document defines one Community Container with the following 
 encoding:<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<section id="section-2.2.1">
          <h4 id="name-type-1-bgp-wide-community">
<a href="#section-2.2.1" class="section-number selfRef">2.2.1. </a><a href="#name-type-1-bgp-wide-community" class="section-name selfRef">Type 1: BGP Wide Community</a>
          </h4>
<p id="section-2.2.1-1"> The container type 1 "BGP Wide Community TLVs" is defined in <a href="#container_def_1" class="xref">Section 4</a>.<a href="#section-2.2.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.2.1-2">
            <dt id="section-2.2.1-2.1">Community Value:</dt>
            <dd style="margin-left: 2.0em" id="section-2.2.1-2.2">
    This section defines the action that an operator
    wishes a router to take.<a href="#section-2.2.1-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.2.1-2.3">Source AS:</dt>
            <dd style="margin-left: 2.0em" id="section-2.2.1-2.4">
    This is the AS originating the community.<a href="#section-2.2.1-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.2.1-2.5">Context AS:</dt>
            <dd style="margin-left: 2.0em" id="section-2.2.1-2.6">
    AS that defines and provides the semantics to interpret this
    Community.<a href="#section-2.2.1-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.2.1-2.7">Target(s):</dt>
            <dd style="margin-left: 2.0em" id="section-2.2.1-2.8">
    This is an optional list that encodes where the
    community's action should be taken.<a href="#section-2.2.1-2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.2.1-2.9">Exclude Target(s):</dt>
            <dd style="margin-left: 2.0em" id="section-2.2.1-2.10">
    This is an optional list that encodes where the
    community's actions should not be taken.<a href="#section-2.2.1-2.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-2.2.1-2.11">Parameters:</dt>
            <dd style="margin-left: 2.0em" id="section-2.2.1-2.12">
    This is an optional list of Atoms that encodes additional
    information that the community's action needs to execute properly.<a href="#section-2.2.1-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-2.3">
        <h3 id="name-bgp-community-container-ato">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-bgp-community-container-ato" class="section-name selfRef">BGP Community Container Atoms</a>
        </h3>
<p id="section-2.3-1">Atoms provide data types that can be used to encode contents
     of BGP Community Containers.  They are in the format of TLVs and
     are defined later in this document in <a href="#atoms" class="xref">Section 5</a>.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-3">
      <h2 id="name-bgp-community-container-att">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-bgp-community-container-att" class="section-name selfRef">BGP Community Container Attribute</a>
      </h2>
<p id="section-3-1">This document defines a new BGP Path Attribute, the BGP Community
Container.  The attribute type code is TBD.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">The BGP Community Container attribute is an optional, transitive BGP
attribute, and may be present only once in the BGP UPDATE message.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The attribute contains a set of typed containers. Any given
container type may appear multiple times, unless that container
type's definition specifies otherwise.<a href="#section-3-3" class="pilcrow">¶</a></p>
<div id="container_header_def">
<section id="section-3.1">
        <h3 id="name-bgp-community-container-attr">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-bgp-community-container-attr" class="section-name selfRef">BGP Community Container Attribute Common Header</a>
        </h3>
<p id="section-3.1-1" class="keepWithNext">Containers always start with the following common header:<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<span id="name-common-container-header"></span><div id="container_header">
<figure id="figure-1">
          <div class="alignCenter art-text artwork" id="section-3.1-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             Type              |    Flags  |C|T|   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-common-container-header" class="selfRef">Common container header</a>
          </figcaption></figure>
</div>
<p id="section-3.1-3">This document defines container type 1. See the <a href="#iana_considerations" class="xref">Section 11</a> for information on additional type
registration policies.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<span id="name-flags"></span><div id="bitdefs">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-flags" class="selfRef">Flags</a>
          </caption>
<thead>
            <tr>
              <th class="text-center" rowspan="1" colspan="1">Bit</th>
              <th class="text-center" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">T</td>
              <td class="text-center" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Not Transitive across administrative boundary.</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1"></td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Transitive across AS and administrative boundary.</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">C</td>
              <td class="text-center" rowspan="1" colspan="1">0</td>
              <td class="text-left" rowspan="1" colspan="1">Not transitive across confederation boundaries.</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1"></td>
              <td class="text-center" rowspan="1" colspan="1">1</td>
              <td class="text-left" rowspan="1" colspan="1">Transitive across confederation boundaries.</td>
            </tr>
            <tr>
              <td class="text-center" rowspan="1" colspan="1">3..7</td>
              <td class="text-center" rowspan="1" colspan="1">-</td>
              <td class="text-left" rowspan="1" colspan="1">RESERVED - MUST be zero when originated and SHOULD be ignored
           upon receipt.</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-3.1-5" class="keepWithPrevious"></p>
<p id="section-3.1-6">Flags are defined globally and apply to all container types.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">Bit 0 (T bit) Transitivity bit:<a href="#section-3.1-7" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.1-8.1">
When not set (value 0), the community in 
the container is transitive across AS boundaries, but not across an
administrative boundary.<a href="#section-3.1-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.1-8.2">When set (value 1), the community in the container is
transitive across all ASes.
An administrative boundary, in this sense, is an 
arbitrary set of connected ASes, possibly under control of a single entity.
How such an administrative boundary is determined is out of scope of this
document.<a href="#section-3.1-8.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-9">Bit 1 (C bit) Confederation bit:<a href="#section-3.1-9" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3.1-10.1">The confederation bit is used to manage the propagation 
scope of a given BGP Wide Community across confederation boundaries.<a href="#section-3.1-10.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-3.1-10.2">When not set (value 0) community 
is not transitive across confederation sub-AS boundary. 
When set (value of 1) indicates that community in a given container is 
transitive across confederation boundary.<a href="#section-3.1-10.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-11">The Reserved field MUST be set to zero when originated and SHOULD be
ignored upon receipt.<a href="#section-3.1-11" class="pilcrow">¶</a></p>
<p id="section-3.1-12">The Length field represents the total length of a given container's contents
in octets.<a href="#section-3.1-12" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<div id="container_def_1">
<section id="section-4">
      <h2 id="name-bgp-community-container-typ">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-bgp-community-container-typ" class="section-name selfRef">BGP Community Container, Type 1: BGP Wide Community</a>
      </h2>
<p id="section-4-1" class="keepWithNext">
The Type 1 BGP Community Container, the BGP Wide Community, is of variable size
(but minimum length 12). It is composed of a fixed 12-octets - containing the
Community Value, the Source AS Number, and the Context AS Number - followed
by optional TLVs:<a href="#section-4-1" class="pilcrow">¶</a></p>
<span id="name-type-1-bgp-wide-community-2"></span><div id="container1">
<figure id="figure-2">
        <div class="alignCenter art-text artwork" id="section-4-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|I|                      Community Value                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source AS Number                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Context AS Number                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
|                        TLVs (optional)                        |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-type-1-bgp-wide-community-2" class="selfRef">Type 1, BGP Wide Community</a>
        </figcaption></figure>
</div>
<section id="section-4.1">
        <h3 id="name-community-value">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-community-value" class="section-name selfRef">Community Value</a>
        </h3>
<p id="section-4.1-1">Community Value: 4 octets<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">The Community Value indicates what set of actions a router is
requested to take upon reception of a route containing this community.  The
semantics of this value depend on whether this is a private/local community
or IANA registered.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">When the high order bit of the Community Value field - I - is set, the value
is IANA Registered and has a well defined meaning with underlying semantics.
See the documentation for each Registered BGP Wide Community for its
semantics and validation requirements.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">When the high order bit of the Community Value field is clear, the value
is Locally defined and has semantics solely within the control of the AS
defining that community.  The Context AS Number provides the namespace in
which this Community Value is interpreted.  It is that AS's responsibility
to provide the semantics and validation requirements for that BGP Wide
Community.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.1-5">See <a href="#type1_community_types" class="xref">Section 11.5</a> for code point space
partitioning.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-source-as-number">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-source-as-number" class="section-name selfRef">Source AS Number</a>
        </h3>
<p id="section-4.2-1">Source Autonomous System Number: 4 octets<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">The Autonomous System number indicates the AS originating this BGP Wide
Community.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-context-as-number">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-context-as-number" class="section-name selfRef">Context AS Number</a>
        </h3>
<p id="section-4.3-1">Context Autonomous System Number: 4 octets<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">This identifies the AS that provides the semantics to interpret this
Community.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4">
        <h3 id="name-bgp-wide-community-tlvs">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-bgp-wide-community-tlvs" class="section-name selfRef">BGP Wide Community TLVs</a>
        </h3>
<p id="section-4.4-1">Optional type 1 container TLVs are encoded in the following format:<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2" class="keepWithNext"></p>
<span id="name-type-1-container-tlvs"></span><div id="type1_container_TLV">
<figure id="figure-3">
          <div class="alignCenter art-text artwork" id="section-4.4-3.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+
|   Sub-Type    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Value (variable)                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-type-1-container-tlvs" class="selfRef">Type 1 Container TLVs</a>
          </figcaption></figure>
</div>
<p id="section-4.4-4" class="keepWithPrevious"></p>
<span class="break"></span><dl class="dlNewline" id="section-4.4-5">
          <dt id="section-4.4-5.1">Sub-Type:</dt>
          <dd style="margin-left: 2.0em" id="section-4.4-5.2">
The sub-type of the BGP Wide Community TLV.  A given Sub-Type
MUST NOT appear more than once.<a href="#section-4.4-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-5.3">Length:</dt>
          <dd style="margin-left: 2.0em" id="section-4.4-5.4">
Length of the "Value" field in octets.<a href="#section-4.4-5.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-5.5">Value:</dt>
          <dd style="margin-left: 2.0em" id="section-4.4-5.6">
Specific to the underlying Sub-Type.<a href="#section-4.4-5.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<section id="section-4.4.1">
          <h4 id="name-sub-type-1-bgp-wide-communi">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-sub-type-1-bgp-wide-communi" class="section-name selfRef">Sub-Type 1, BGP Wide Community Target(s) TLV</a>
          </h4>
<p id="section-4.4.1-1">The value field of the Wide Community Target(s) TLV (Sub-Type 1) is a series
of Atom TLVs.  The semantics of any given Atom TLV MUST be part of the
definition of a given Wide Community.<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.4.1-2">BGP Wide Community Targets define the matching criteria for the community.
A given wide community may have a number of targets that it applies to.  The
semantics of these targets will vary on a per community basis.  Depending on
the definition of the community, targets may be optional.<a href="#section-4.4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.4.1-3">Wide Community Targets consist of a series of Atoms that have
"match any" semantics.  Thus, if any given target matches per the semantics of
that Atom for the community, the community is considered to match and the
action defined by the community should be executed.<a href="#section-4.4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.4.1-4">When no Target(s) TLV is specified, it is considered "match all".<a href="#section-4.4.1-4" class="pilcrow">¶</a></p>
<p id="section-4.4.1-5">If the semantics of a given Atom is undefined for the community in question,
this Atom MUST be ignored.<a href="#section-4.4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.4.1-6">When no targets are required by the definition of a given Wide Community,
the Wide Community Target(s) TLV SHOULD NOT be encoded in the community.
Implementations MUST be prepared to accept a Wide Community Target(s) TLV with an
empty value field.<a href="#section-4.4.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4.2">
          <h4 id="name-sub-type-2-bgp-wide-communi">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-sub-type-2-bgp-wide-communi" class="section-name selfRef">Sub-Type 2, BGP Wide Community Exclude Target(s) TLV</a>
          </h4>
<p id="section-4.4.2-1">The BGP Wide Community Exclude Target(s) TLV (Sub-Type 2) contains a list of a 
Atoms.<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.4.2-2">Wide Community Exclude Targets define criteria by which the community is 
considered to NOT match. Depending on the semantics of the BGP Wide Community, 
Exclude Target(s) may be optional.<a href="#section-4.4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.4.2-3">The semantic of the BGP Wide Community Exclude Target(s) is to match all
specified Target(s) with the exception of those listed in this TLV.<a href="#section-4.4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.4.2-4">The value field of the BGP Wide Community Exclude Target(s) TLV is a
series of BGP Wide Community Atom TLVs.  The semantics of any given Atom TLV
MUST be part of the definition of a given Wide Community.<a href="#section-4.4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.4.2-5">If the semantics of a given Atom is undefined for the community in question,
this Atom MUST be ignored.<a href="#section-4.4.2-5" class="pilcrow">¶</a></p>
<p id="section-4.4.2-6">If the BGP Wide Community Target(s) TLV and the BGP Wide Community Exclude
Target(s) TLV have conflicting semantics, priority MUST be given to the Wide
Community Exclude Target(s) TLV.<a href="#section-4.4.2-6" class="pilcrow">¶</a></p>
<p id="section-4.4.2-7">When no exclude targets are required by the definition of a given BGP Wide
Community, the BGP Wide Community Exclude Target(s) TLV SHOULD NOT be encoded in
the community.  Implementations MUST be prepared to accept a BGP Wide Community
Exclude Target(s) TLV with an empty value field.<a href="#section-4.4.2-7" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4.3">
          <h4 id="name-sub-type-3-bgp-wide-communi">
<a href="#section-4.4.3" class="section-number selfRef">4.4.3. </a><a href="#name-sub-type-3-bgp-wide-communi" class="section-name selfRef">Sub-Type 3, BGP Wide Community Parameter(s) TLV</a>
          </h4>
<p id="section-4.4.3-1">The BGP Wide Community Parameter(s) TLV (Sub-Type 3) contains a list of a
Atoms.<a href="#section-4.4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.4.3-2">A given BGP Wide Community may have parameters that are used as inputs for
executing actions defined for that community.  These parameters, and any
constraints implied by the parameters, MUST be defined by the wide community
definition.  Parameters consist of an ordered set of Atom sub-TLVs.  The
semantics of any specific positional instance of an Atom MUST be defined by the
wide community.<a href="#section-4.4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.4.3-3">Care must be taken when using Atoms with list semantics.  If the desired
behavior is a single or limited number of instances of that type, this
should be documented as part of the use case of that BGP Wide Community.<a href="#section-4.4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.4.3-4">If it is the case that a parameter for a given community is of an unexpected
type or length, the BGP Wide Community MUST be ignored.<a href="#section-4.4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.4.3-5">If it is the case that there are too many or two few parameters for a given
community, the BGP Wide Community MUST be ignored.<a href="#section-4.4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.4.3-6">When no parameters are required by the definition of a given Wide Community,
the Wide Community Parameters TLV SHOULD NOT be encoded in the community.
Implementations MUST be prepared to accept a Wide Community Parameter TLV with
an empty value field.<a href="#section-4.4.3-6" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4.4">
          <h4 id="name-usage">
<a href="#section-4.4.4" class="section-number selfRef">4.4.4. </a><a href="#name-usage" class="section-name selfRef">Usage</a>
          </h4>
<p id="section-4.4.4-1"> The detailed interpretation of the targets or parameters SHALL be provided
when describing given community type in a separate document or when locally
defined by an operator.<a href="#section-4.4.4-1" class="pilcrow">¶</a></p>
</section>
</section>
</section>
</div>
<div id="atoms">
<section id="section-5">
      <h2 id="name-bgp-community-container-atom">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-bgp-community-container-atom" class="section-name selfRef">BGP Community Container Atoms</a>
      </h2>
<p id="section-5-1">Some types of BGP Community Contaners, for example BGP Wide Communities,
will act on and hence need to encode some distinct Atoms of data. Use of
Atoms is solely subject to definition of the specific BGP Container type.  
Atoms are encoded as TLVs, where each TLV has the following format:<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2" class="keepWithNext"></p>
<span id="name-atoms-tlvs"></span><div id="atoms_TLV">
<figure id="figure-4">
        <div class="alignCenter art-text artwork" id="section-5-3.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+
|     Type      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Length             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Value (variable)                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-atoms-tlvs" class="selfRef">Atoms TLVs</a>
        </figcaption></figure>
</div>
<p id="section-5-4" class="keepWithPrevious"></p>
<p id="section-5-5">The Type field contains a value of 1-254.  The values 0 and 255 are
reserved for future use. The TLV types are to be assigned and maintained by
IANA registry; see <a href="#iana_atoms" class="xref">Section 11.2</a>.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">The Length represents the length of the "Value" field
in octets.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">The Value field contains the TLV value.<a href="#section-5-7" class="pilcrow">¶</a></p>
<p id="section-5-8">Supported format of the TLVs can be:<a href="#section-5-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5-9">
<pre>
  Type  1: Autonomous System Number List.
  Type  2: IPv4 Prefix (1 octet prefix length + prefix) List.
  Type  3: IPv6 Prefix (1 octet prefix length + prefix) List.
  Type  4: Integer32 List.
  Type  5: IEEE Floating Point Number List.
  Type  6: Neighbor Class List.
  Type  7: User-defined Class List.
  Type  8: UTF-8 String.
</pre><a href="#section-5-9" class="pilcrow">¶</a>
</div>
<p id="section-5-10">The semantics of a given Atom will depend upon the context in which it is
used, as defined by the containing wide community.<a href="#section-5-10" class="pilcrow">¶</a></p>
<p id="section-5-11">In the following sections defining the different Atoms, validation rules for
the Length of the Atom will be presented.  If the Length of the Atom does not
match the rules for that Atom, it SHALL be considered malformed.  (See
<a href="#error_handling" class="xref">Section 8</a>.)<a href="#section-5-11" class="pilcrow">¶</a></p>
<p id="section-5-12">In general, Atoms of List type have the semantics of sets.  Duplicate
entries SHOULD NOT be present and MAY be removed by BGP Speaker propagating
the Lists.  The presence of duplicate entries have no additional
semantics.<a href="#section-5-12" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-atom-type-1-the-autonomous-">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-atom-type-1-the-autonomous-" class="section-name selfRef">Atom Type 1, The Autonomous System Number List</a>
        </h3>
<p id="section-5.1-1">This Atom represents a list of Autonomous System numbers, each 4 octets in
size.  When encoding two octet ASes, the first two octets of this four octet
value MUST be filled with zeros. The minimum Length of this Atom is 4 octets. The Length MUST be a
multiple of 4.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">Two special values are reserved for the Autonomous
System Atoms:<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1-3">
<pre>
  0x00000000 - to indicate "No Autonomous Systems".
  0xFFFFFFFF - to indicate "All Autonomous Systems".
</pre><a href="#section-5.1-3" class="pilcrow">¶</a>
</div>
</section>
<section id="section-5.2">
        <h3 id="name-atom-types-2-and-3-the-ipv4">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-atom-types-2-and-3-the-ipv4" class="section-name selfRef">Atom Types 2 and 3, The IPv4 and IPv6 Prefix Lists</a>
        </h3>
<p id="section-5.2-1">This Atom represents a list of IPv4 or IPv6 prefixes. IPv4 and IPv6 Prefix
Atom values are encoded in the same format used by BGP NLRI in Section 4.3 of
<span>[<a href="#RFC4271" class="xref">RFC4271</a>]</span>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<span id="name-ip-prefix-atoms"></span><div id="IP_atoms">
<figure id="figure-5">
          <div class="alignCenter art-text artwork" id="section-5.2-2.1">
<pre>

+---------------------------+
|  Prefix Length (1 octet)  |
+---------------------------+
|  Prefix (variable)        |
+---------------------------+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-ip-prefix-atoms" class="selfRef">IP prefix atoms</a>
          </figcaption></figure>
</div>
<p id="section-5.2-3">The Prefix Length for IPv4 prefixes MUST be in the range of 0..32.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">The Prefix Length for IPv6 prefixes MUST be in the range of 0..128.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">The Length field must be able to accommodate the list of
prefixes according to the encoding rules.  If the Length cannot fully
accommodate the required number of octets to encode the Prefix Length and the
Prefix, the Atom is considered malformed.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
</section>
<section id="section-5.3">
        <h3 id="name-atom-type-4-the-integer32-l">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-atom-type-4-the-integer32-l" class="section-name selfRef">Atom Type 4, The Integer32 List</a>
        </h3>
<p id="section-5.3-1">This Atom represents a list of four-octet Integers. These Integers are
stored in network byte order.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">The minimum Length of the Integer32 list Atom is 4 octets. The Length MUST be
a multiple of 4.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
</section>
<section id="section-5.4">
        <h3 id="name-atom-type-5-the-ieee-floati">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-atom-type-5-the-ieee-floati" class="section-name selfRef">Atom Type 5, The IEEE Floating Point Number List</a>
        </h3>
<p id="section-5.4-1">This Atom represents a list of floating point numbers.  Floating point
numbers are a fixed Length of 4 octets and are stored in
<span>[<a href="#IEEE.754.1985" class="xref">IEEE.754.1985</a>]</span> format.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">The minimum Length of the Floating Point Number list Atom is 4 octets. The
Length MUST be a multiple of 4.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
</section>
<section id="section-5.5">
        <h3 id="name-atom-type-6-the-neighbor-cl">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-atom-type-6-the-neighbor-cl" class="section-name selfRef">Atom Type 6, The Neighbor Class List</a>
        </h3>
<p id="section-5.5-1">The Neighbor Class list Atom represents a list of Neighbor classes, each 4 octets in size.  Neighbor class currently can contain three values:<a href="#section-5.5-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-5.5-2">
          <dt id="section-5.5-2.1">Peer (1):</dt>
          <dd style="margin-left: 2.0em" id="section-5.5-2.2">
This class is typically applied to sessions where a transit-free
relationship exists between two providers.<a href="#section-5.5-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.5-2.3">Customer (2):</dt>
          <dd style="margin-left: 2.0em" id="section-5.5-2.4">
This class is typically applied to sessions where the remote end of the
session is operated by a customer.<a href="#section-5.5-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-5.5-2.5">Upstream (3):</dt>
          <dd style="margin-left: 2.0em" id="section-5.5-2.6">
This class is typically applied to sessions where the remote end of the
session is operated by a network from which you receive transit routes.<a href="#section-5.5-2.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-5.5-3">The minimum Length of the Neighbor Class list Atom is 4 octets.  The
Length MUST be a multiple of 4.<a href="#section-5.5-3" class="pilcrow">¶</a></p>
</section>
<section id="section-5.6">
        <h3 id="name-atom-type-7-the-user-define">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-atom-type-7-the-user-define" class="section-name selfRef">Atom Type 7, The User-defined Class List</a>
        </h3>
<p id="section-5.6-1">The User-defined Class list Atom represents a list of user-defined class,
each 4 octets in size.  The exact property definition is up to the semantics of
the defining Autonomous System.  The semantics governing a given User-defined
Class list are defined by the Context AS Number and the Community Value.<a href="#section-5.6-1" class="pilcrow">¶</a></p>
<p id="section-5.6-2">Examples of User-defined Class properties include geography (East, West),
continent (North America, Asia, Europe), etc.  Similar to the 
<span>[<a href="#RFC1997" class="xref">RFC1997</a>]</span> BGP Communities, it is necessary that the Context AS
provide a registry of the value and the semantics of a given community.<a href="#section-5.6-2" class="pilcrow">¶</a></p>
<p id="section-5.6-3">The minimum Length of the User-defined Class list Atom is 4 octets.  The
Length of this Atom MUST be a multiple of 4.<a href="#section-5.6-3" class="pilcrow">¶</a></p>
</section>
<section id="section-5.7">
        <h3 id="name-atom-type-8-the-utf-8-strin">
<a href="#section-5.7" class="section-number selfRef">5.7. </a><a href="#name-atom-type-8-the-utf-8-strin" class="section-name selfRef">Atom Type 8, the UTF-8 String</a>
        </h3>
<p id="section-5.7-1">The UTF-8 String Atom represents an arbitrary Unicode string in <span><a href="#RFC3629" class="xref">UTF-8</a> [<a href="#RFC3629" class="xref">RFC3629</a>]</span> format.  The Length is required to be of
sufficient size to carry the UTF-8 string in the Value field.<a href="#section-5.7-1" class="pilcrow">¶</a></p>
<p id="section-5.7-2">Implementations MUST be prepared for truncated/improperly formed  UTF-8
strings.  When detecting such a string, the implementation should remove
trailing octets of a multi-octet sequence in order to have a well-formed
string.<a href="#section-5.7-2" class="pilcrow">¶</a></p>
<p id="section-5.7-3">Implementations MUST be prepared to receive empty (zero-Length) UTF-8 String
Atoms as they may be used as Parameters.<a href="#section-5.7-3" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-6">
      <h2 id="name-well-known-standard-bgp-com">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-well-known-standard-bgp-com" class="section-name selfRef">Well Known Standard BGP Communities</a>
      </h2>
<p id="section-6-1">According to RFC 1997, as well as IANA's
Well-Known BGP Communities registry, the following
BGP communities are defined to have global significance:<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2" class="keepWithNext"></p>
<div class="alignLeft art-text artwork" id="section-6-3">
<pre>
     0xFFFF0000   planned-shut         [draft-francois-bgp-gshut]
     0xFFFFFF01   NO_EXPORT            [RFC1997]
     0xFFFFFF02   NO_ADVERTISE         [RFC1997]
     0xFFFFFF03   NO_EXPORT_SUBCONFED  [RFC1997]
     0xFFFFFF04   NOPEER               [RFC3765]
</pre><a href="#section-6-3" class="pilcrow">¶</a>
</div>
<p id="section-6-4" class="keepWithPrevious"></p>
<p id="section-6-5">This document recommends for simplicity as well as for avoidance of
backward compatibility issues the continued use of BGP Standard Community
Path Attribute, type 8, as defined in RFC 1997 to distribute non-Autonomous
System specific Well-Known BGP Communities.<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">For the same reason, this document does not intend to
obsolete the currently defined and deployed BGP Extended Communities.<a href="#section-6-6" class="pilcrow">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-operational-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-operational-considerations" class="section-name selfRef">Operational Considerations</a>
      </h2>
<p id="section-7-1">Having multiple ways to propagate locally assigned BGP Communities -
via the use of Standard, Extended or Large BGP Communities versus the use of
BGP Wide Communities - may seem to potentially cause problems when considering
propagation of conflicting actions.  However, even at present, an operator may
append such Communities with conflicting information.  It is therefore
recommended that any implementation, in supporting both standard and BGP
Wide Communities, allow for their easy inbound and outbound processing. The actual
execution of all communities should be treated as a union and, if supported by
an implementation, their execution permissions are to be a local configuration
matter.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
<div id="error_handling">
<section id="section-8">
      <h2 id="name-error-handling">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-error-handling" class="section-name selfRef">Error Handling</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-general-error-handling-for-">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-general-error-handling-for-" class="section-name selfRef">General Error Handling for BGP Community Containers</a>
        </h3>
<p id="section-8.1-1"><span>[<a href="#RFC7606" class="xref">RFC7606</a>]</span> "treat as withdraw" behavior is expected for any
malformed Community Containers or malformation of their contents.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">Each Community Container type may have additional validation rules,
including permitted length of Atoms.  Failure to conform to those additional
rules MUST also be treated as a malformed Community Container.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-8.2">
        <h3 id="name-bgp-wide-community-containe">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-bgp-wide-community-containe" class="section-name selfRef">BGP Wide Community Container Error Handling</a>
        </h3>
<p id="section-8.2-1">If any Atom in a BGP Wide Community container's Exclude Targets TLV is
unrecognized, that Wide Community MUST NOT be considered a match and no actions
for that community should be processed.  While the
Targets TLV is meant to be inclusive, the Exclude Targets TLV is meant to be
proscriptive of applying the action.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-9">
      <h2 id="name-example">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-example" class="section-name selfRef">Example</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-example-type-1-wide-communi">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-example-type-1-wide-communi" class="section-name selfRef">Example Type 1 Wide Community Definition</a>
        </h3>
<p id="section-9.1-1">An operator of an AS 64496, wishes to locally define a Wide Community 
with the semantics of permitting AS_PATH prepending with targets that 
include AS numbers of peer ASes and peers who have been marked with 
a set of enumerated city locations.  AS 64496 has selected Community Value 1
to represent this functionality.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">AS 64496 has established a registered set of values to use for its User-defined Class:<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-9.1-3.1">100 - Amsterdam<a href="#section-9.1-3.1" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-9.1-3.2">101 - New York<a href="#section-9.1-3.2" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-9.1-3.3">102 - San Francisco<a href="#section-9.1-3.3" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-9.1-3.4">103 - Tokyo<a href="#section-9.1-3.4" class="pilcrow">¶</a>
</li>
          <li class="compact ulEmpty" id="section-9.1-3.5">104 - Moscow<a href="#section-9.1-3.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.1-4">Target semantics:<a href="#section-9.1-4" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-9.1-5.1">The Autonomous System Number list Atom refers to the target peer AS Numbers.<a href="#section-9.1-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-9.1-5.2">The User-defined Class for AS 64496 has been defined elsewhere and the
values 100..104 may be used for this locally defined Wide Community.<a href="#section-9.1-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-9.1-5.3">The Targets TLV MUST contain at least one entry.<a href="#section-9.1-5.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-9.1-5.4">The Exclude Targets TLV MAY contain entries of the above supported Atoms.<a href="#section-9.1-5.4" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-9.1-5.5">The semantics of all other Atoms are undefined for this community.<a href="#section-9.1-5.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.1-6">Parameter semantics:<a href="#section-9.1-6" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-9.1-7.1">The parameter TLV shall consist of exactly one Integer32 Atom value that is
constrained to have a value of 2..8.<a href="#section-9.1-7.1" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="section-9.2">
        <h3 id="name-example-type-1-bgp-wide-com">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-example-type-1-bgp-wide-com" class="section-name selfRef">Example Type 1 BGP Wide Community Encoding</a>
        </h3>
<p id="section-9.2-1">AS_PATH prepend 4 TIMES TO AS 2424, AS 8888, to peers marked as
  Amsterdam (100) or to peers marked Moscow (104), but not to peers 
  in New York (101).<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">The T Flag (transitive) is set to prevent propagation of this
   community.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<p id="section-9.2-3" class="keepWithNext"></p>
<span id="name-example-1"></span><div id="Example1">
<figure id="figure-6">
          <div class="alignCenter art-text artwork" id="section-9.2-4.1">
<pre>

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Type (1, Wide)        |    Flags  |0|1|  Reserved(0)  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Length: 53                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Community: LOCAL PREPEND ACTION CATEGORY                    1 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Source AS 64496                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Context AS 64496                                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Target TLV (1)|   Length: 18                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| ASN List (1)  |   Length: 8                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Target ASN# 2424                                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Target ASN# 8888                                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  User List(7) |   Length: 8                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Amsterdam (100)                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Moscow (104)                                                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|ExcTargetTLV(2)|   Length: 5                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  User List(7) |   Length: 4                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| New York (101)                                                |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Param TLV (3) |   Length: 5                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Integer32 (4) |   Length: 4                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Prepend # 4                                                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-example-1" class="selfRef">Example 1</a>
          </figcaption></figure>
</div>
<p id="section-9.2-5" class="keepWithPrevious"></p>
</section>
</section>
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security considerations</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-bgp-community-container-sec">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-bgp-community-container-sec" class="section-name selfRef">BGP Community Container Security Considerations</a>
        </h3>
<p id="section-10.1-1">Transitive BGP Community Container communities could unintentionally
spread far from their origin. If a router receives many routes from multiple
sources on the Internet with different communities, it could cause
significant memory usage. To prevent excessive memory usage, routers should
be configured to strip unexpected communities from received routes.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<p id="section-10.1-2">All the security considerations for <span><a href="#RFC1997" class="xref">BGP
Communities</a> [<a href="#RFC1997" class="xref">RFC1997</a>]</span> or <span><a href="#RFC4360" class="xref">BGP Extended
Communities</a> [<a href="#RFC4360" class="xref">RFC4360</a>]</span> apply to BGP Community Containers.<a href="#section-10.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-10.2">
        <h3 id="name-bgp-wide-community-security">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-bgp-wide-community-security" class="section-name selfRef">BGP Wide Community Security Considerations</a>
        </h3>
<p id="section-10.2-1">For BGP Wide Communities, the Community Value the Source AS may provide
sufficient context to strip unwanted or unexpected communities.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<p id="section-10.2-2">Given the flexibility and power offered by BGP Wide communities, it is
important to consider the additional possibilities allowed by their definition.
In particular, for locally defined BGP Wide Communities, it may be wise to
restrict the range of parameters. For registered BGP Wide Communities, the
security considerations of the document defining them MUST address issues
specific to those newly defined Communities.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
</section>
</section>
<div id="iana_considerations">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-bgp-community-container-attri">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-bgp-community-container-attri" class="section-name selfRef">BGP Community Container Attribute</a>
        </h3>
<p id="section-11.1-1">This document defines a new BGP Path Attribute called BGP
Community Container Attribute. For this new type IANA is requested to
allocate a new value in the corresponding registry:<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<p id="section-11.1-2">Registry Name: BGP Path Attributes<a href="#section-11.1-2" class="pilcrow">¶</a></p>
<p id="section-11.1-3">This document makes the following assignments for the optional,
transitive BGP Community Container Attribute:<a href="#section-11.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.1-4">
<pre>
  Name                                     Type Value
  ----                                     ----------
  BGP Community Container Attribute            TBD
</pre><a href="#section-11.1-4" class="pilcrow">¶</a>
</div>
</section>
<div id="iana_atoms">
<section id="section-11.2">
        <h3 id="name-bgp-community-container-atoms">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-bgp-community-container-atoms" class="section-name selfRef">BGP Community Container Atoms Types</a>
        </h3>
<p id="section-11.2-1">This document requests IANA to define and maintain a new registry
named: "BGP Community Container Atom Types".  The pool of 0x00-0xFF has
been defined for its allocations.<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2-2" class="keepWithNext">Registration procedures:<a href="#section-11.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.2-3">
<pre>
         0x00: Reserved.
    0x01-0x08: Defined in this document.
    0x09-0xFE: IETF Consensus.
         0xFF: Reserved.
</pre><a href="#section-11.2-3" class="pilcrow">¶</a>
</div>
<p id="section-11.2-4" class="keepWithNext">This document makes the following assignments for the
BGP Community Container Atom Type values registry:<a href="#section-11.2-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.2-5">
<pre>
    Name                             Type Value
    ----                             ----------
    Autonomous System Number List      0x01
    IPv4 Prefix list                   0x02
    IPv6 Prefix list                   0x03
    Integer32 list                     0x04
    IEEE Floating Point Number list    0x05
    Neighbor Class list                0x06
    User-defined Class list            0x07
    UTF-8 string                       0x08
</pre><a href="#section-11.2-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-11.3">
        <h3 id="name-bgp-community-container-nei">
<a href="#section-11.3" class="section-number selfRef">11.3. </a><a href="#name-bgp-community-container-nei" class="section-name selfRef">BGP Community Container Neighbor Class List Atom Types</a>
        </h3>
<p id="section-11.3-1">This document requests IANA to define and maintain a new registry named:
"BGP Community Container Neighbor Class List Atom Types".  The pool of
0x00000000-0xFFFFFFFF has been defined for its allocations.<a href="#section-11.3-1" class="pilcrow">¶</a></p>
<p id="section-11.3-2" class="keepWithNext">Registration procedures:<a href="#section-11.3-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.3-3">
<pre>
               0x00000000 : Reserved.
    0x00000001-0x00000003 : Defined in this document.
    0x00000004-0xFFFFFFFE : IETF Consensus.
               0xFFFFFFFF : Reserved.
</pre><a href="#section-11.3-3" class="pilcrow">¶</a>
</div>
<p id="section-11.3-4" class="keepWithNext">This document makes the following assignments for the BGP
Community Container Neighbor Class List Atom Types registry:<a href="#section-11.3-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.3-5">
<pre>
    Name                             Type Value
    ----                             ----------
    Peer                                 1
    Customer                             2
    Upstream                             3
</pre><a href="#section-11.3-5" class="pilcrow">¶</a>
</div>
</section>
<section id="section-11.4">
        <h3 id="name-bgp-community-container-type">
<a href="#section-11.4" class="section-number selfRef">11.4. </a><a href="#name-bgp-community-container-type" class="section-name selfRef">BGP Community Container Types</a>
        </h3>
<p id="section-11.4-1"> This document requests IANA to define and maintain a new registry
named: "BGP Community Container Types".<a href="#section-11.4-1" class="pilcrow">¶</a></p>
<p id="section-11.4-2">The pool of: 0x0000..0xFFFF has been defined for its allocations.<a href="#section-11.4-2" class="pilcrow">¶</a></p>
<p id="section-11.4-3" class="keepWithNext">Registration procedures:<a href="#section-11.4-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.4-4">
<pre>
                   0x0000 : Reserved.
                   0x0001 : BGP Wide Community (defined in this
                            document).
            0x0002-0x0004 : Reserved.
            0x0005-0x00FF : IETF Consensus.
            0x0100-0xFF00 : First Come, First Served.
            0xFF01-0xFFFE : Experimental.
                   0xFFFF : Reserved.
</pre><a href="#section-11.4-4" class="pilcrow">¶</a>
</div>
</section>
<div id="type1_community_types">
<section id="section-11.5">
        <h3 id="name-registered-type-1-bgp-wide-">
<a href="#section-11.5" class="section-number selfRef">11.5. </a><a href="#name-registered-type-1-bgp-wide-" class="section-name selfRef">Registered Type 1 BGP Wide Communities Community Types</a>
        </h3>
<p id="section-11.5-1">This document requests IANA to define and maintain a new registry
named: "Registered Type 1 BGP Wide Community Community Types".  The pool of
0x00000000..0xFFFFFFFF has been defined for its allocation.<a href="#section-11.5-1" class="pilcrow">¶</a></p>
<p id="section-11.5-2" class="keepWithNext">Registration procedures:<a href="#section-11.5-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.5-3">
<pre>
               0x00000000 : Reserved.
    0x00000001-0x7FFFFFFF : Available for private/local use.
               0x80000000 : Reserved.
    0x80000001-0xFFFFFEFF : First Come, First Served for
                            registered use.
    0xFFFFFF00-0xFFFFFFFE : Experimental.
               0xFFFFFFFF : Reserved.
</pre><a href="#section-11.5-3" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-11.6">
        <h3 id="name-registered-type-1-bgp-wide-c">
<a href="#section-11.6" class="section-number selfRef">11.6. </a><a href="#name-registered-type-1-bgp-wide-c" class="section-name selfRef">Registered Type 1 BGP Wide Community Optional Sub-Types</a>
        </h3>
<p id="section-11.6-1">This document requests IANA to define and maintain a new registry named:
"Registered Type 1 BGP Wide Community Optional Sub-Types".  The pool of
0x00..0xFF has been defined for its allocation.<a href="#section-11.6-1" class="pilcrow">¶</a></p>
<p id="section-11.6-2" class="keepWithNext">Registration procedures:<a href="#section-11.6-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.6-3">
<pre>
                        0 : Reserved.
                     1..3 : Defined in this document.
                   4..254 : IETF Consensus.
                      255 : Reserved.
</pre><a href="#section-11.6-3" class="pilcrow">¶</a>
</div>
<p id="section-11.6-4" class="keepWithNext">This document makes the following assignments for the 
Registered Type 1 BGP Wide Community Optional Sub-Types registry:<a href="#section-11.6-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-11.6-5">
<pre>
    Name                             Type Value
    ----                             ----------
    Targets                              1
    Exclude Targets                      2
    Parameters                           3
</pre><a href="#section-11.6-5" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<section id="section-12">
      <h2 id="name-change-history">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-change-history" class="section-name selfRef">Change History</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-working-group-draft">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-working-group-draft" class="section-name selfRef">Working Group draft</a>
        </h3>
<p id="section-12.1-1">Changes from -03 to -04:<a href="#section-12.1-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-12.1-2.1">Many editorial changes.<a href="#section-12.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.2">Restored the structure of the common header to accommodate prior
implementations from Huawei. However, do not keep the Hop count per prior
IDR and author discussion.<a href="#section-12.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.3">Adopt the name BGP Community Container for the general feature and common
header after discussion on IDR regarding Large BGP Communities.  Wide
communities now specifically refer to the Type 1 container.<a href="#section-12.1-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.4">Updated the Common Container Header's definition of Length to only cover the
length of the contents, and not the header.<a href="#section-12.1-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.5">Hide the Type 2 (4:4), Type 3 (Nx4), Type 4 (16+Nx4) containers for now.<a href="#section-12.1-2.5" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.6">Outstanding issues addresses and section removed.<a href="#section-12.1-2.6" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.7">Type 1 container renamed from "Wide community" to "Wide community TLVs".<a href="#section-12.1-2.7" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.8">Rename Integer Atom to Integer32.<a href="#section-12.1-2.8" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-2.9">Example changed, following previous specification change.<a href="#section-12.1-2.9" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.1-3">Changes from -02 to -03:<a href="#section-12.1-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-12.1-4.1">Many editorial change.<a href="#section-12.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-4.2">Introduction of new type of containers: Type 2 (4:4), Type 3 (Nx4), Type 4 (16+Nx4)<a href="#section-12.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-4.3">Common container header: Type length changed from 2-octets to 1 octet, "Hop Count" removed, "Context AS number" moved from type 1 to the generic header.<a href="#section-12.1-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.1-4.4">Remove community "AS-4 List Generic Wide BGP Community"<a href="#section-12.1-4.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.1-5">Changes from -00 to -02: no change<a href="#section-12.1-5" class="pilcrow">¶</a></p>
<p id="section-12.1-6">00: no change<a href="#section-12.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-12.2">
        <h3 id="name-individual-draft">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-individual-draft" class="section-name selfRef">Individual draft</a>
        </h3>
<p id="section-12.2-1">Changes from -03 via -04 to -05:<a href="#section-12.2-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-12.2-2.1">Update the Introduction.<a href="#section-12.2-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-2.2">Substantial re-work of Atom types removing proposed Group container and
moving Atoms to be lists.<a href="#section-12.2-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-2.3">Added the Exclude Targets TLV to the Wide Community container.<a href="#section-12.2-2.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-2.4">Added a section on error handling.<a href="#section-12.2-2.4" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-2.5">Updated the example.<a href="#section-12.2-2.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.2-3">Changes from -02 to -03:<a href="#section-12.2-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-12.2-4.1">Removed C and R named bit fields originally from -00.<a href="#section-12.2-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-4.2">Rename Target AS field to Context AS.<a href="#section-12.2-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-4.3">Make Integer Atom a fixed 4 octets in length.<a href="#section-12.2-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-4.4">Add Neighbor Class Atom<a href="#section-12.2-4.4" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-4.5">Rename TTL to Hop Count<a href="#section-12.2-4.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-12.2-5">Changes from -01 to -02:<a href="#section-12.2-5" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-12.2-6.1">The Type field has been expanded to 2 octets.<a href="#section-12.2-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-6.2">The Length field has been moved to the common header.<a href="#section-12.2-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-6.3">Changed format to use TLVs.<a href="#section-12.2-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-6.4">Added Atom TLV to define well defined syntactic items.<a href="#section-12.2-6.4" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-6.5">Added TLVs to distinguish targets from parameters.<a href="#section-12.2-6.5" class="pilcrow">¶</a>
</li>
          <li class="normal ulEmpty" id="section-12.2-6.6">Various editorial changes to language.<a href="#section-12.2-6.6" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</section>
<section id="section-13">
      <h2 id="name-contributors">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-13-1">The following people contributed significantly to the
content of the document:<a href="#section-13-1" class="pilcrow">¶</a></p>
<p id="section-13-2" class="keepWithNext"></p>
<div class="alignLeft art-text artwork" id="section-13-3">
<pre>
Shintaro Kojima
OTEMACHI 1st. SQUARE EAST TOWER, 3F
1-5-1, Otemachi,
Chiyoda-ku, Tokyo 100-0004
Japan
Email: koji@mfeed.ad.jp
</pre><a href="#section-13-3" class="pilcrow">¶</a>
</div>
<p id="section-13-4" class="keepWithPrevious"></p>
<p id="section-13-5" class="keepWithNext"></p>
<div class="alignLeft art-text artwork" id="section-13-6">
<pre>
Juan Alcaide
Cisco Systems
Research Triangle Park, NC
United States
Email: jalcaide@cisco.com
</pre><a href="#section-13-6" class="pilcrow">¶</a>
</div>
<p id="section-13-7" class="keepWithPrevious"></p>
<p id="section-13-8" class="keepWithNext"></p>
<div class="alignLeft art-text artwork" id="section-13-9">
<pre>
Burjiz Pithawala
Cisco Systems
170 West Tasman Dr
San Jose, CA
United States
Email: bpithaw@cisco.com
</pre><a href="#section-13-9" class="pilcrow">¶</a>
</div>
<p id="section-13-10" class="keepWithPrevious"></p>
<p id="section-13-11" class="keepWithNext"></p>
<div class="alignLeft art-text artwork" id="section-13-12">
<pre>
Saku Ytti
TDC Oy
Mechelininkatu 1a
00094 TDC
Finland
Email: ytti@tdc.net
</pre><a href="#section-13-12" class="pilcrow">¶</a>
</div>
<p id="section-13-13" class="keepWithPrevious"></p>
</section>
<section id="section-14">
      <h2 id="name-acknowledgments">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-14-1">This document owes draft-lange-flexible-bgp-communities a debt
for the inspiration of many features contained herein.<a href="#section-14-1" class="pilcrow">¶</a></p>
<p id="section-14-2">The authors would like to thank Enke Chen, Pedro Marques, Alton 
Lo, Igor Gashinsky and Job Snijders for their valuable input.<a href="#section-14-2" class="pilcrow">¶</a></p>
</section>
<section id="section-15">
      <h2 id="name-references">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-15.1">
        <h3 id="name-normative-references">
<a href="#section-15.1" class="section-number selfRef">15.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="IEEE.754.1985">[IEEE.754.1985]</dt>
        <dd>
<span class="refAuthor">Institute of Electrical and Electronics Engineers</span>, <span class="refTitle">"Standard for Binary Floating-Point Arithmetic"</span>, <span class="seriesInfo">IEEE Standard 754</span>, <time datetime="1985-08" class="refDate">August 1985</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3629">[RFC3629]</dt>
        <dd>
<span class="refAuthor">Yergeau, F.</span>, <span class="refTitle">"UTF-8, a transformation format of ISO 10646"</span>, <span class="seriesInfo">STD 63</span>, <span class="seriesInfo">RFC 3629</span>, <span class="seriesInfo">DOI 10.17487/RFC3629</span>, <time datetime="2003-11" class="refDate">November 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3629">https://www.rfc-editor.org/info/rfc3629</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4271">[RFC4271]</dt>
        <dd>
<span class="refAuthor">Rekhter, Y., Ed.</span>, <span class="refAuthor">Li, T., Ed.</span>, and <span class="refAuthor">S. Hares, Ed.</span>, <span class="refTitle">"A Border Gateway Protocol 4 (BGP-4)"</span>, <span class="seriesInfo">RFC 4271</span>, <span class="seriesInfo">DOI 10.17487/RFC4271</span>, <time datetime="2006-01" class="refDate">January 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4271">https://www.rfc-editor.org/info/rfc4271</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7606">[RFC7606]</dt>
      <dd>
<span class="refAuthor">Chen, E., Ed.</span>, <span class="refAuthor">Scudder, J., Ed.</span>, <span class="refAuthor">Mohapatra, P.</span>, and <span class="refAuthor">K. Patel</span>, <span class="refTitle">"Revised Error Handling for BGP UPDATE Messages"</span>, <span class="seriesInfo">RFC 7606</span>, <span class="seriesInfo">DOI 10.17487/RFC7606</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7606">https://www.rfc-editor.org/info/rfc7606</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-15.2">
        <h3 id="name-informative-references">
<a href="#section-15.2" class="section-number selfRef">15.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC1997">[RFC1997]</dt>
        <dd>
<span class="refAuthor">Chandra, R.</span>, <span class="refAuthor">Traina, P.</span>, and <span class="refAuthor">T. Li</span>, <span class="refTitle">"BGP Communities Attribute"</span>, <span class="seriesInfo">RFC 1997</span>, <span class="seriesInfo">DOI 10.17487/RFC1997</span>, <time datetime="1996-08" class="refDate">August 1996</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1997">https://www.rfc-editor.org/info/rfc1997</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4360">[RFC4360]</dt>
      <dd>
<span class="refAuthor">Sangli, S.</span>, <span class="refAuthor">Tappan, D.</span>, and <span class="refAuthor">Y. Rekhter</span>, <span class="refTitle">"BGP Extended Communities Attribute"</span>, <span class="seriesInfo">RFC 4360</span>, <span class="seriesInfo">DOI 10.17487/RFC4360</span>, <time datetime="2006-02" class="refDate">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4360">https://www.rfc-editor.org/info/rfc4360</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Robert Raszuk (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Bloomberg LP</span></div>
<div dir="auto" class="left"><span class="street-address">731 Lexington Ave</span></div>
<div dir="auto" class="left">
<span class="locality">New York City</span>, <span class="region">NY</span> <span class="postal-code">10022</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:robert@raszuk.net" class="email">robert@raszuk.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jeffrey Haas (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div dir="auto" class="left"><span class="street-address">1194 N.Mathilda Ave</span></div>
<div dir="auto" class="left">
<span class="locality">Sunnyvale</span>, <span class="region">CA</span> <span class="postal-code">94089</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jhaas@juniper.net" class="email">jhaas@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Andrew Lange (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Nokia</span></div>
<div dir="auto" class="left"><span class="street-address">777 E. Middlefield Road</span></div>
<div dir="auto" class="left">
<span class="locality">Mountain View</span>, <span class="region">CA</span> <span class="postal-code">94043</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:andrew.lange@nokia.com" class="email">andrew.lange@nokia.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bruno Decraene (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bruno.decraene@orange.com" class="email">bruno.decraene@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Shane Amante</span></div>
<div dir="auto" class="left"><span class="org">Apple, Inc.</span></div>
<div dir="auto" class="left"><span class="street-address">1 Infinite Loop</span></div>
<div dir="auto" class="left">
<span class="locality">Cupertino</span>, <span class="region">CA</span> <span class="postal-code">95014</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:amante@apple.com" class="email">amante@apple.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Paul Jakma</span></div>
<div dir="auto" class="left"><span class="org">Hewlett Packard Enterprise</span></div>
<div dir="auto" class="left"><span class="street-address">CSA02, Erskine Ferry Road</span></div>
<div dir="auto" class="left"><span class="locality">Bishopton</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:paul.jakma@hpe.com" class="email">paul.jakma@hpe.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
