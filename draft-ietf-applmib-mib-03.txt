
INTERNET-DRAFT                                            C. Kalbfleisch
                                                             Verio, Inc.
                                                             C. Krupczak
                                               Empire Technologies, Inc.
                                                              R. Presuhn
                                                      BMC Software, Inc.
                                                              J. Saperia
                                                       BGS Systems, Inc.
                                                            10 July 1997


                       Application Management MIB
                    <draft-ietf-applmib-mib-03.txt>

Status of this Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet- Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).

Abstract

   This memo defines an experimental portion of the Management
   Information Base (MIB) for use with network management protocols in
   the Internet Community.  In particular, it defines objects used for
   the management of applications.  This MIB complements the System
   Application MIB, providing for the management of applications' common
   attributes which could not typically be observed without the
   cooperation of the software being managed.



1.  Introduction

   This draft furthers the work begun in the systems application mib
   [11].  See the issues list at the end of this document for issues



Applmib Working Group     Expires December 1997                 [Page 1]

Internet Draft         Application Management MIB           10 July 1997


   that remain to be worked out.

   The development of [1], [2], [3], [4], [8] and [9] provides us with a
   base of experience in making a variety of applications visible to
   management; this specification abstracts out the common aspects of
   applications management and provides a generic base usable for the
   management of almost any application.


2.  Overview

   Due to the design decision to not require application
   instrumentation, many important topics were not handled in system
   application MIB [11].  The following topics are within the scope of
   the this document:


      -  Support for generic application throughput measurements;

      -  Providing MIB definitions that allow managed entities to report
         what they considered to be units of work;

      -  Providing support for generic application response time
         monitoring capabilities;

      -  Provide explicit support for the management of applications
         distributed within a single managed system ("local"
         distribution);

      -  Address generic resource management issues, including:

         -  files in use;

         -  I/O statistics (from the application's perspective, not at
            the operating system or device driver level);

         -  application-layer networking resource usage

         -  Providing access to dependency information, both in the form
            of MIB objects to report dependencies on "mission critical"
            processes, as well as the logging of failures due to
            dependencies.

      -  Provide a generic logging (stderr) capability:

         -  Identify common log entries of use with multiple
            applications;




Applmib Working Group     Expires December 1997                 [Page 2]

Internet Draft         Application Management MIB           10 July 1997


         -  Permit use of specialized log entries where appropriate;

         -  Provide generic facility for the management of this log;

         -  Provide generic facility to control notification generation
            by the application;

      -  Facilities for the control of applications, including:

         -  Starting and stopping applications and their elements;

         -  Suspending and resuming applications and their elements;

         -  Configuration of application parameters;

         -  A "mission critical process" MIB to identify processes that
            are of particular interest;

         -  Reconfiguration (e.g., SIGHUP) request capability.

      Note that these issues are addressed at least in part by other
      (non-IETF) standards work, including [12] and [13].

      Some topics were identified as being of interest to the applmib
      working group, but outside the scope of this document.

      -  Providing MIB definitions that allow management to define what
         is to be considered an error.  This includes mechanisms for
         filtering and selective forwarding of information from
         notifications or log entries.

      Topics identified as specifically out of scope include:


      -  Providing MIB definitions to allow dynamic control of the
         definition of units of work;

      -  Explicit support for the management of applications distributed
         across multiple systems; (The indexing structure and semantics
         of the system application MIB [11] are not sufficient for this
         task.)

      -  Issues of backup and recovery;

      -  Issues of software request, delivery, installation, activation,
         patching, version update, reversion, and removal;

      -  Issues of software validation and integrity checks;



Applmib Working Group     Expires December 1997                 [Page 3]

Internet Draft         Application Management MIB           10 July 1997


      -  Issues of software licensing.


3.  Architecture

   To emulate the object-oriented modeling techniques of subclassing and
   multiple inheritance, the SNMP information model provides for the use
   of tables with common indexes.  The challenge for the developer of
   management applications is to recognize those situations in which
   various aspects of a single logical resource are represented in
   several different tables, possibly defined in different MIBs.

   Most of the management information defined here may pertain to any
   number of applications in a managed system.  The simplest way of
   supporting this requirement within the SNMP information model is to
   use tables.  This means that the management information for a
   particular resource may be found in one or more rows of one or more
   tables; the fact that this information pertains to a single resource
   may be deduced from the index values used, possibly with the support
   of mapping tables.  This also means that a single table may contain
   management information relevant to a number of applications.  This
   has significant implementation implications; see the implementation
   issues section below for more information.


3.1.  Relationships to other MIBs

   This section will outline the relationships of the components of this
   MIB (usually in the form of common indexing structures) to:

      -  the systems applications MIB [11]

      -  the host resources MIB [1]

      -  the entity MIB [8]

      -  the network services monitoring MIB [2]


3.1.1.  Relationship to NSM

   The Network Services Monitoring MIB [2] is defined as the base set of
   attributes for managing network applications.  The Application MIB
   extends includes information normally obtainable only from the
   managed resource itself, rather than the supporting system.  Due to
   differences in index representation, the relationship between the
   Network Services Monitoring MIB and the Application MIB is not
   formally defined.



Applmib Working Group     Expires December 1997                 [Page 4]

Internet Draft         Application Management MIB           10 July 1997


3.1.2.  Relationship to the System Application MIB

   The system application MIB defines attributes for management of
   applications which can be realized without instrumenting an
   application.  This specification extends that framework to include
   additional attributes which will typically require instrumentation
   within the managed resource.  The sysApplRunElmtIndex is the key
   connection between these two MIBs; it is essential that
   implementations of this MIB and of the system applications MIB
   running concurrently on a given platform employ a consistent policy
   for assigning this value to running application elements.


4.  MIB Structure

   This MIB is organized into several tables.  Information for a
   particular running managed application would appear in the form of
   entries in the appropriate tables.  The tables are:

      -  the open files table

      -  the open files cross-reference table

      -  the open connections table

      -  the transaction statistics tables

      -  the running application element status table

      -  the running application element control table

      -  the application component details table

      In order to support SNMPv1, SNMPv2, and SNMPv3 environments, in
      cases where counter objects may potentially advance very rapidly,
      both a sixty-four bit counter and two thirty-two bit counters have
      been defined.


4.1.  The open files table

   The open files table contains one entry for each file in use by a
   manageable running application element.  (See [11] for a detailed
   definition of a running application element.)  The purpose of this
   table is to identify the files in use and to record I/O activity on
   each file attributable to a particular running application element.

   If multiple running application elements open the same file, there



Applmib Working Group     Expires December 1997                 [Page 5]

Internet Draft         Application Management MIB           10 July 1997


   will be an entry for each running application element opening that
   file.  Similarly, if a running application element opens a file
   multiple times, there will be an entry in this table for the file
   corresponding to each open.

   The task of combining the information for file activity from this
   table (organized by running application element) into per-application
   statistics can be accomplished by a manager using the System
   Application MIB's [11] sysApplInstallPkgTable to find the installed
   application, the sysApplRunTable to find the running instances of
   that application, and the sysApplElmtRunTable to find the relevant
   values of sysApplElmtRunIndex.  The manager, armed with a set of
   values for sysApplElmtRunIndex, is now able to retrieve the relevant
   portions of the applOpenFileTable and other tables in this MIB.

   Entries in this table are indexed by the application run index and an
   arbitrary integer, chosen so that taken together the application run
   index and this integer yield a unique key for each open file.  The
   following information is available in this table:

      -  file name

      -  number of read requests

      -  number of bytes read

      -  time at which most recent read operation was initiated

      -  number of write requests

      -  number of bytes written

      -  time at which most recnt write operation was initiated

      -  number of seek operations

      -  file size

      -  permissions with which file was opened

      Special cases to consider: stdin, stdout, stderr, etc. may require
      some special handling.


4.2.  The open files cross-reference table

   This table provides a way to efficiently determine which processes
   are currently holding a file open.  It introduces no new attributes



Applmib Working Group     Expires December 1997                 [Page 6]

Internet Draft         Application Management MIB           10 July 1997


   of its own, and merely provides an alternative indexing to the open
   file table.


4.3.  The open connections table

   This table extends the capabilities provided by the network services
   monitoring MIB [2].  It includes:

      -  time at which the connection was opened

      -  identification of the transport protocol in use

      -  near-end address and port

      -  far-end address and port

      -  identification of the application layer protocol in use

      -  number of read requests

      -  number of bytes received

      -  time at which the most recent read request was initiated

      -  number of write requests

      -  number of bytes transmitted

      -  time at which most recent write request was initiated


4.4.  The transaction statistics tables

   Entries in the transaction statistics table are indexed by the
   application element run index and an arbitrary integer, chosen so
   that taken together the application run index and this integer yield
   a unique key for each transaction stream associated with the running
   application element.  A transaction stream may be a file or a
   connection; a column in this table contains the OBJECT IDENTIFIER of
   the instance of applOpenConnectionOpenTime or applOpenFileOpenTime,
   in the open files table or open connections table respectively.  The
   information recorded in the entries of this table includes:

      -  Number of requests issued

      -  Bytes of requests issued




Applmib Working Group     Expires December 1997                 [Page 7]

Internet Draft         Application Management MIB           10 July 1997


      -  Time at which most recent request was issued

      -  Number of responses issued

      -  Bytes of responses issued

      -  Time at which most recent response was issued

      -  Number of requests received

      -  Bytes of requests received

      -  Time at which most recent request was received

      -  Number of responses received

      -  Bytes of responses received

      -  Time at which most recent response was received

      -  Cumulative time between transmission of requests and receipt of
         corresponding responses

      -  Cumulative time between receipt of requests and transmission of
         corresponding responses


4.5.  The running application element status table

   This table provides information for a running application element.
   Indexed by the sysApplElmtRunIndex, an entry in this table reports
   useful information on that running element's resource usage.  Entries
   in this table contain:

      -  current heap usage for this running application element

      -  current number of open network connections for this running
         application element

      Note that other information, such as the current number of open
      files for this running application element, is available from the
      sysapplElmtRunTable in [11].


4.6.  The running application element control table

   This table provides rudimentary control over a running application
   element.  Indexed by the sysApplElmtRunIndex, an entry in this table



Applmib Working Group     Expires December 1997                 [Page 8]

Internet Draft         Application Management MIB           10 July 1997


   gives a manager with appropriate permissions the ability to suspend
   and resume processing by this running element, the ability to request
   reconfiguration, and the ability to terminate the running element.

   Variables in this table include:

      -  a suspend/resume control

      -  a reconfiguration request control

      -  a termination request control


4.7.  The application component details table

   This table provides time stamps, current size, ownership, and other
   information as it extends the sysApplInstallElmt table.


5.  Definitions


   APPLICATION-MIB DEFINITIONS ::= BEGIN

   IMPORTS
       MODULE-IDENTITY, OBJECT-TYPE,
           Counter64, Counter32, Gauge32, mib-2,
           Unsigned32                      FROM SNMPv2-SMI

       DateAndTime, RowPointer,
           TAddress, TestAndIncr, TDomain, TimeStamp,
           TruthValue                      FROM SNMPv2-TC

       MODULE-COMPLIANCE, OBJECT-GROUP
                                            FROM SNMPv2-CONF

       LongUtf8String,
            sysApplElmtRunIndex,
            Utf8String                      FROM SYSAPPL-MIB;

   applicationMib MODULE-IDENTITY
       LAST-UPDATED "9707080910Z"
       ORGANIZATION "Application MIB Working Group"
       CONTACT-INFO
           "Randy Presuhn
            BMC Software, Inc.
            1190 Saratoga Avenue, Suite 100
            San Jose, CA 95129



Applmib Working Group     Expires December 1997                 [Page 9]

Internet Draft         Application Management MIB           10 July 1997


            USA

            Telephone: +1 800 841-2031
            Facsimile: +1 408 556-0735
            Email: rpresuhn@bmc.com
           "
       DESCRIPTION
           "This MIB defines objects representing generic
            aspects of applications that are of interest to
            management but typically require instrumentation
            within the managed application element.
           "
       ::= { mib-2 3333333333 }
   --ISSUE: need to get assignment for registration

   --
   --      Registration hierarchy for this MIB
   --
   applicationMibObjects OBJECT IDENTIFIER ::=
                            { applicationMib 1 }

   applicationMibTraps OBJECT IDENTIFIER ::=
                            { applicationMib 2 }

   applicationMibConformance OBJECT IDENTIFIER ::=
                            { applicationMib 3 }


   --
   --      Groups defined in this MIB
   --
   applFileGroup OBJECT IDENTIFIER ::=
                            { applicationMibObjects 1 }

   applConnectionGroup OBJECT IDENTIFIER ::=
                            { applicationMibObjects 2 }

   applExConnectionGroup OBJECT IDENTIFIER ::=
                            { applicationMibObjects 3 }

   applTransactionGroup OBJECT IDENTIFIER ::=
                            { applicationMibObjects 4 }

   applElmtRunControlGroup OBJECT IDENTIFIER ::=
                            { applicationMibObjects 5 }


   -- *************************************************************



Applmib Working Group     Expires December 1997                [Page 10]

Internet Draft         Application Management MIB           10 July 1997


   --
   --      applOpenFileTable - Table of Open Files
   --
   -- *************************************************************

   applOpenFileTable OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplOpenFileEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "The applOpenFileTable reports information on open
              files for running application elements.   This table
              is indexed by sysApplElmtRunIndex [11], effectively
              grouping all entries for a given running application
              element together, and by applOpenFileId, uniquely
              identifying an open file within the context of a
              particular running application element.

              Several of this table's columnar objects appear in
              sixty-four and thirty-two bit pairs.  The sixty-four
              bit counters are not accessible in protocols that
              do not support this data type."
           ::= { applFileGroup 1 }

   ApplOpenFileEntry  ::= SEQUENCE
           {
                   applOpenFileId                  Unsigned32,
                   applOpenFileOpenTime            TimeStamp,
                   applOpenFileName                LongUtf8String,
                   applOpenFileReadRequests        Counter64,
                   applOpenFileReadRequestsLow     Counter32,
                   applOpenFileBytesRead           Counter64,
                   applOpenFileBytesReadLow        Counter32,
                   applOpenFileLastReadTime        DateAndTime,
                   applOpenFileWriteRequests       Counter64,
                   applOpenFileWriteRequestsLow    Counter32,
                   applOpenFileBytesWritten        Counter64,
                   applOpenFileBytesWrittenLow     Counter32,
                   applOpenFileLastWriteTime       DateAndTime,
                   applOpenFileSeekRequests        Counter64,
                   applOpenFileSeekRequestsLow     Counter32,
                   applOpenFileSizeHigh            Unsigned32,
                   applOpenFileSizeLow             Unsigned32,
                   applOpenFileOpenMode            OCTET STRING
           }

   applOpenFileEntry       OBJECT-TYPE
           SYNTAX          ApplOpenFileEntry



Applmib Working Group     Expires December 1997                [Page 11]

Internet Draft         Application Management MIB           10 July 1997


           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applOpenFileEntry indicates that a file has been
              opened by this running application element and is
              still open.  Note that if a file has been opened
              multiple times, even by the same process, it may
              have multiple entries."
           INDEX           { sysApplElmtRunIndex, applOpenFileId }
           ::= { applOpenFileTable 1 }

   applOpenFileId          OBJECT-TYPE
           SYNTAX          Unsigned32
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "This attribute serves to uniquely identify this
              open file in the context of the running application
              element.  When practical, the native file descriptor
              number shall be used."
           ::= { applOpenFileEntry 1 }

   applOpenFileOpenTime    OBJECT-TYPE
           SYNTAX          TimeStamp
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute records the value of sysUptime.0
              when this file was opened and this entry was
              added to this table.  This attribute serves as a
              discontinuity indicator for the counter attributes
              in this entry."
           ::= { applOpenFileEntry 2 }

   applOpenFileName        OBJECT-TYPE
           SYNTAX          LongUtf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the name of this open file.
              Wherever practical, a fully qualified path name
              should be reported.

              The values 'stdin', 'stdout', and 'stderr' are
              reserved in accordance with common usage."
           ::= { applOpenFileEntry 3 }

   applOpenFileReadRequests        OBJECT-TYPE



Applmib Working Group     Expires December 1997                [Page 12]

Internet Draft         Application Management MIB           10 July 1997


           SYNTAX          Counter64
           UNITS           "read requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of read requests
              for this file made by this running application
              element.  All read requests for this file by
              this running application element, regardless of
              completion status, are included in this count.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 4 }

   applOpenFileReadRequestsLow     OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "read requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the low thirty-two
              bits of applOpenFileReadRequests.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 5 }

   applOpenFileBytesRead   OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of bytes read
              from this file by this running application element.
              Only bytes successfully read are included in
              this count.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 6 }

   applOpenFileBytesReadLow   OBJECT-TYPE
           SYNTAX          Counter32



Applmib Working Group     Expires December 1997                [Page 13]

Internet Draft         Application Management MIB           10 July 1997


           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-
              two bits of applOpenFileBytesRead.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 7 }

   applOpenFileLastReadTime        OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the time of the most
              recent read request made by this running application
              element, regardless of completion status, for this
              open file.

              If no read requests have been made by this running
              application element, the value of this attribute
              shall be '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applOpenFileEntry 8 }

   applOpenFileWriteRequests       OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "write requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of write requests
              for this file made by this running application
              element.  All write requests for this file by
              this running application element, regardless of
              completion status, are included in this count.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 9 }


   applOpenFileWriteRequestsLow       OBJECT-TYPE
           SYNTAX          Counter32



Applmib Working Group     Expires December 1997                [Page 14]

Internet Draft         Application Management MIB           10 July 1997


           UNITS           "write requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-
              two bits of applOpenFileWriteRequests.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 10 }

   applOpenFileBytesWritten        OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of bytes written
              to this file by this running application
              element.  Only bytes successfully written (no errors
              reported by the API in use by the application)
              are included in this count.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 11 }

   applOpenFileBytesWrittenLow        OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-
              two bits of applOpenFileBytesWritten.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 12 }

   applOpenFileLastWriteTime       OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION



Applmib Working Group     Expires December 1997                [Page 15]

Internet Draft         Application Management MIB           10 July 1997


             "This attribute reports the time of the most
              recent write request made by this running
              application element, regardless of completion
              status, for this open file.

              If no write requests have been made by this running
              application element, the value of this attribute
              shall be '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applOpenFileEntry 13 }

   applOpenFileSeekRequests        OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "seek requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of seek requests
              made on this open file.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 14 }

   applOpenFileSeekRequestsLow        OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "seek requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-
              two bits of applOpenFileSeekRequests.

              Discontinuities in this counter can be detected
              by monitoring the applOpenFileOpenTime value for
              this entry."
           ::= { applOpenFileEntry 15 }

   applOpenFileSizeHigh    OBJECT-TYPE
           SYNTAX          Unsigned32
           UNITS           "2^32 byte blocks"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This file's current size in 2^32 byte blocks.

              For example, for a file with a total size of



Applmib Working Group     Expires December 1997                [Page 16]

Internet Draft         Application Management MIB           10 July 1997


              4,294,967,296 bytes, this attribute would have
              a value of 1; for a file with a total size of
              4,294,967,295 bytes this attribute's value would
              be 0."
           ::= { applOpenFileEntry 16 }

   applOpenFileSizeLow     OBJECT-TYPE
           SYNTAX          Unsigned32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This file's current size modulo 2^32 bytes.

              For example, for a file with a total size of
              4,294,967,296 bytes this attribute would have
              a value of 0; for a file with a total size of
              4,294,967,295 bytes this attribute's value would
              be 4,294,967,295."
           ::= { applOpenFileEntry 17 }

   applOpenFileOpenMode    OBJECT-TYPE
           SYNTAX          BITS { read(0),
                                  write(1) }
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the mode in which the file
              was most recently opened by this running application
              element.

              These bits correspond to the Posix/ANSI C library
              function fopen() 'type' parameter, using the
              following mappings:

                   r -> read(0)
                   w -> write(1)
                   a -> write(1)
                   + -> read(0), write(1)

              These bits have the following meanings:

                   read(0) - the file was opened for reading
                   write(1) - the file was opened for writing."
           ::= { applOpenFileEntry 18 }






Applmib Working Group     Expires December 1997                [Page 17]

Internet Draft         Application Management MIB           10 July 1997


   -- *************************************************************
   --
   --      applOpenFileXrefTable - Open File cross-reference table
   --
   -- *************************************************************

   applOpenFileXrefTable OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplOpenFileXrefEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "The applOpenFileXrefTable provides an alternative
              indexing to the information in the
              applOpenFileTable.  Rather than grouping entries by
              sysApplElmtRunIndex, it groups them by their names
              (applOpenXrefFileName is a potentially truncated
              applOpenFileName).  Since in many environments
              multiple processes may concurrently open a file,
              and a single process may open a file multiple
              times, entries in this table are also indexed by
              sysApplElmtRunIndex and applOpenFileId."
           ::= { applFileGroup 2 }

   ApplOpenFileXrefEntry  ::= SEQUENCE
           {
                   applOpenFileXrefName    Utf8String,
                   applOpenFileXrefId      Unsigned32
           }

   applOpenFileXrefEntry   OBJECT-TYPE
           SYNTAX          ApplOpenFileXrefEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applOpenFileXrefEntry indicates that a file
              has been opened by a running application element.
              Note that if a file has been opened multiple
              times, even by the same process, it may have
              multiple entries.

              Note that the SMI limitation on the maximum number
              of components in an OBJECT IDENTIFIERS means that
              the full name of an open file may be too long to
              use directly as an index.  In such cases, the name
              is truncated for purposes of indexing."
           INDEX           { applOpenFileXrefName,
                             sysApplElmtRunIndex,
                             applOpenFileXrefId }



Applmib Working Group     Expires December 1997                [Page 18]

Internet Draft         Application Management MIB           10 July 1997


           ::= { applOpenFileXrefTable 1 }

   applOpenFileXrefName    OBJECT-TYPE
           SYNTAX          Utf8String (SIZE (0 .. 114 ))
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "This index corresponds to applOpenFileName.
              This index's value is equal to that of
              applOpenFileName after truncation to this
              attribute's maximum length.  This length
              limitation is made necessary by SNMP's limits
              on maximum object identifier length."
           ::= { applOpenFileXrefEntry 1 }

   applOpenFileXrefId      OBJECT-TYPE
           SYNTAX          Unsigned32
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute serves to uniquely identify this
              open file in the context of the running application
              element.  Where suitable, the native file descriptor
              number may be used.  This attribute is like
              applOpenFileId, only accessible."
           ::= { applOpenFileXrefEntry 2 }




   -- *************************************************************
   --
   --      applOpenConnectionTable - Open Connection Table
   --
   -- *************************************************************

   applOpenConnectionTable OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplOpenConnectionEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionTable provides information
              about open connections from the perspective of
              the running application element.  Entries in this
              table are indexed by sysApplElmtRunIndex and by
              applOpenConnectionId, which serves to uniquely
              identify each connection in the context of a
              running application element."



Applmib Working Group     Expires December 1997                [Page 19]

Internet Draft         Application Management MIB           10 July 1997


           ::= { applConnectionGroup 1 }

   ApplOpenConnectionEntry  ::= SEQUENCE
           {
                   applOpenConnectionId            Unsigned32,
                   applOpenConnectionOpenTime      TimeStamp,
                   applOpenConnectionTransport     TDomain,
                   applOpenConnectionNearEndAddr   TAddress,
                   applOpenConnectionNearEndFqdn   Utf8String,
                   applOpenConnectionFarEndAddr    TAddress,
                   applOpenConnectionFarEndFqdn    Utf8String,
                   applOpenConnectionApplication   Utf8String,
                   applOpenConnectionReadRequests  Counter64,
                   applOpenConnectionReadReqsLow   Counter32,
                   applOpenConnectionBytesRead     Counter64,
                   applOpenConnectionBytesReadLow  Counter32,
                   applOpenConnectionLastReadTime  DateAndTime,
                   applOpenConnectionWriteRequests Counter64,
                   applOpenConnectionWriteReqsLow  Counter32,
                   applOpenConnectionBytesWritten  Counter64,
                   applOpenConnectionBytesWritLow  Counter32,
                   applOpenConnectionLastWriteTime DateAndTime
           }

   applOpenConnectionEntry OBJECT-TYPE
           SYNTAX          ApplOpenConnectionEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applOpenConnectionEntry indicates that a
              running application element has an open connection.
              The entry has information describing that
              connection."
           INDEX           { sysApplElmtRunIndex,
                             applOpenConnectionId }
           ::= { applOpenConnectionTable 1 }

   applOpenConnectionId    OBJECT-TYPE
           SYNTAX          Unsigned32
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "This attribute serves to uniquely identify this open
              connection in the context of the running application
              element.  Where suitable, the application's native
              descriptor number may be used."
           ::= { applOpenConnectionEntry 1 }




Applmib Working Group     Expires December 1997                [Page 20]

Internet Draft         Application Management MIB           10 July 1997


   applOpenConnectionOpenTime      OBJECT-TYPE
           SYNTAX          TimeStamp
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute records the value of sysUptime.0
              when this connection was opened and this entry was
              added to this table.  This attribute serves as a
              discontinuity indicator for the counter attributes
              in this entry."
           ::= { applOpenConnectionEntry 2 }

   applOpenConnectionTransport     OBJECT-TYPE
           SYNTAX          TDomain
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionTransport attribute
              identifies the transport protocol in use for
              this connection.  If it is not practical
              to determine the underlying transport, this
              attribute's value shall have a value of {0 0}."
           DEFVAL { { 0 0 } }
           ::= { applOpenConnectionEntry 3 }

   applOpenConnectionNearEndAddr       OBJECT-TYPE
           SYNTAX          TAddress
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionNearEndAddr attribute reports
              the transport address and port information for
              the near end of this connection.

              If the value is not known, the value has a  length
              of zero."
           DEFVAL { "" }
           ::= { applOpenConnectionEntry 4 }

   applOpenConnectionNearEndFqdn       OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionNearEndFqdn attribute reports
              the fully-qualified domain name and port information
              for the near end of this connection.




Applmib Working Group     Expires December 1997                [Page 21]

Internet Draft         Application Management MIB           10 July 1997


              If the value is not known, the value has a  length
              of zero."
           DEFVAL { "" }
           ::= { applOpenConnectionEntry 5 }

   applOpenConnectionFarEndAddr        OBJECT-TYPE
           SYNTAX          TAddress
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionFarEndAddr attribute reports
              the transport address and port information for
              the far end of this connection.

              If not known, as in the case of a connectionless
              transport, the value of this attribute shall be
              a zero-length string."
           DEFVAL { "" }
           ::= { applOpenConnectionEntry 6 }

   applOpenConnectionFarEndFqdn        OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionFarEndFqdn attribute reports
              the fully-qualified domain name for
              the far end of this connection.

              If not known, as in the case of a connectionless
              transport, the value of this attribute shall be
              a zero-length string."
           DEFVAL { "" }
           ::= { applOpenConnectionEntry 7 }

   applOpenConnectionApplication   OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionApplication attribute
              identifies the application layer protocol in use.
              If not known, the value of this attribute shall
              be a zero-length string.

              When possible, protocol names should be
              those used in the 'ASSIGNED NUMBERS' [16].
              For example, an SMTP mail server would use 'SMTP'."



Applmib Working Group     Expires December 1997                [Page 22]

Internet Draft         Application Management MIB           10 July 1997


           DEFVAL { "" }
           ::= { applOpenConnectionEntry 8 }

   applOpenConnectionReadRequests  OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "read requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of read requests
              for this connection made by this running application
              element.  All read requests for this connection
              by this running application element, regardless
              of completion status, are included in this count.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."
           ::= { applOpenConnectionEntry 9 }

   applOpenConnectionReadReqsLow  OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "read requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applOpenConnectionReadReqs.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."
           ::= { applOpenConnectionEntry 10 }

   applOpenConnectionBytesRead     OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of bytes read
              from this connection by this running application
              element.  Only bytes successfully read are included
              in this count.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."



Applmib Working Group     Expires December 1997                [Page 23]

Internet Draft         Application Management MIB           10 July 1997


           ::= { applOpenConnectionEntry 11 }

   applOpenConnectionBytesReadLow     OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applOpenConnectionBytesRead.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."
           ::= { applOpenConnectionEntry 12 }

   applOpenConnectionLastReadTime  OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the time of the most
              recent read request made by this running application
              element, regardless of completion status, for this
              open connection.

              If no read requests have been made by this running
              application element for this connection, the value
              of this attribute shall be '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applOpenConnectionEntry 13 }

   applOpenConnectionWriteRequests OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "write requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applOpenConnectionWriteRequests attribute
              reports the number of write requests, regardless of
              completion status, made by this running application
              element for this open connection.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."
           ::= { applOpenConnectionEntry 14 }




Applmib Working Group     Expires December 1997                [Page 24]

Internet Draft         Application Management MIB           10 July 1997


   applOpenConnectionWriteReqsLow OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "write requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applOpenConnectionWriteRequests.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."
           ::= { applOpenConnectionEntry 15 }

   applOpenConnectionBytesWritten  OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of bytes written
              to this connection by this running application
              element.  Only bytes successfully written (no errors
              reported by the API in use by the application)
              are included in this count.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."
           ::= { applOpenConnectionEntry 16 }

   applOpenConnectionBytesWritLow  OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applOpenConnectionBytesWritten.

              Discontinuities in this counter can be detected by
              monitoring the applOpenConnectionOpenTime attribute
              for this entry."
           ::= { applOpenConnectionEntry 17 }

   applOpenConnectionLastWriteTime OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only



Applmib Working Group     Expires December 1997                [Page 25]

Internet Draft         Application Management MIB           10 July 1997


           STATUS          current
           DESCRIPTION
             "The applOpenConnectionLastWriteTime attribute
              reports the time of the most recent write request
              made by this running application element, regardless
              of completion status, for this open connection.

              If no write requests have been made by this running
              application element for this connection, the value
              of this attribute shall be '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applOpenConnectionEntry 18 }


   -- *************************************************************
   --
   --      applExConnectionGroup - history information for former
   --      connections.  These tables control the collection of
   --      of connection history information and represent the
   --      accumlated historical data.
   --
   -- *************************************************************


   applExConnectionControlTable    OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplExConnectionControlEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "The applExConnectionControlTable controls the
              accumulation of history information about
              connections from the perspective of the running
              application element.  Entries in this table are
              indexed by sysApplElmtRunIndex, giving control
              of connection history accumulation at the
              level of each running application element."
           ::= { applExConnectionGroup 1 }

   ApplExConnectionControlEntry  ::= SEQUENCE
           {
                   applExConnectionControlCollect  INTEGER,
                   applExConnectionControlMaxRows  Unsigned32,
                   applExConnectionControlTimeLimit Unsigned32,
                   applExConnectionControlRemItems Counter32
           }

   applExConnectionControlEntry    OBJECT-TYPE
           SYNTAX          ApplExConnectionControlEntry



Applmib Working Group     Expires December 1997                [Page 26]

Internet Draft         Application Management MIB           10 July 1997


           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applExConnectionControlEntry provides the
              ability to control the retention of connection
              history information by a running application."
           INDEX           { sysApplElmtRunIndex }
           ::= { applExConnectionControlTable 1 }

   applExConnectionControlCollect  OBJECT-TYPE
           SYNTAX          INTEGER { enabled (1),
                                     frozen (2),
                                     disabled (3) }
           MAX-ACCESS      read-write
           STATUS          current
           DESCRIPTION
             "When the value of applExConnectionControlCollect is
              'enabled', each time the corresponding running
              application element closes an open connection a new
              entry will be added to the applExConnectionTable.

              When the value of applExConnectionControlCollect
              is 'frozen', no new entries are added to the
              applExConnectionTable for this running application
              element, and old entries are not aged out.

              When the value of applExConnectionControlCollect
              is 'disabled', all entries are removed from
              applExConnectionTable for this running application,
              and no new entries are added."
           ::= { applExConnectionControlEntry 1 }

   applExConnectionControlMaxRows  OBJECT-TYPE
           SYNTAX          Unsigned32
           UNITS           "connection history entries"
           MAX-ACCESS      read-write
           STATUS          current
           DESCRIPTION
             "The maximum number of entries allowed in the
              applExConnectionTable for this running application
              element.  Once the number of rows for this running
              application element in the applExConnectionTable
              reaches this value, the management subsystem will
              remove the oldest entry to make room for the new
              entry to be added.  Entries will be removed on
              the basis of oldest applExconnectionCloseTime
              value first."
           DEFVAL          { 500 }



Applmib Working Group     Expires December 1997                [Page 27]

Internet Draft         Application Management MIB           10 July 1997


           ::= { applExConnectionControlEntry 2 }

   applExConnectionControlTimeLimit        OBJECT-TYPE
           SYNTAX          Unsigned32
           UNITS           "seconds"
           MAX-ACCESS      read-write
           STATUS          current
           DESCRIPTION
             "The maximum time in seconds which an entry for this
              running application elementmay exist in the
              applExconnectionTable before it is removed.
              Any entry that is older than this value will be
              removed (aged out) from the table, unless the
              applExConnectionControlCollect is set to 'frozen'.

              Note that an entry may be aged out prior to
              reaching this time limit if it is the oldest
              entry in the table and must be removed to
              make space for a new entry so as to not
              exceed applExconnectionControlMaxRows, or if
              the applExConnectionControlCollect is set to
              'disabled'."
           DEFVAL          { 7200 }
           ::= { applExConnectionControlEntry 3 }

   applExConnectionControlRemItems OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "connection history entries"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExConnectionControlRemItems attribute
              reports the number of applExConnectionControlTable
              entries for this running application element
              that were deleted in order to make room for a new
              history entry.

              This count does NOT include entries deleted for the
              following reasons:
                   - the corresponding
                     applExConnectionControlCollect attribute
                     has been set to 'disabled'

                   - the entry has been in the table longer
                     that the time limit indicated
                     by the corresponding
                     applExConnectionControlTimeLimit.
             "



Applmib Working Group     Expires December 1997                [Page 28]

Internet Draft         Application Management MIB           10 July 1997


           ::= { applExConnectionControlEntry 4 }


   -- *************************************************************
   --
   --      applExConnectionTable - Table of former connections
   --
   -- *************************************************************

   applExConnectionTable OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplExConnectionEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "The applExConnectionTable provides history
              information about connections from the perspective
              of the running application element.  Entries in
              this table are indexed by sysApplElmtRunIndex and
              by applExConnectionId, which serves to uniquely
              identify each former connection in the context of
              a running application element.

              Entries for closed connections for a given running
              application element can be added to this table only
              if the running application element's entry in the
              applExConnectionControlTable has the value 'enabled'
              for the attribute applExConnectionControlCollect.

              Entries for closed connections are removed under
              the following circumstances:

                   - the running application element no longer
                     exists

                   - the corresponding
                     applExConnectionControlCollect attribute
                     has been set to 'disabled'

                   - the entry has been in the table longer
                     that the time limit
                     indicated by the corresponding
                     applExConnectionControlTimeLimit and the
                     value of applExConnectionControlCollect is
                     not 'frozen'

                   - this is the oldest entry for the running
                     application element in question and the
                     addition of a new element would otherwise



Applmib Working Group     Expires December 1997                [Page 29]

Internet Draft         Application Management MIB           10 July 1997


                     cause applExConnectionControlMaxRows to
                     be exceeded for this running application
                     element.

                   - a value of applExConnectionId has been re-
                     used.  Note that under normal circumstances,
                     this is unlikely.

              Removal/replacement of an entry under the
              two conditions causes the corresponding
              applExConnectionControlRemItems to be
              incremented."

           ::= { applExConnectionGroup 2 }

   ApplExConnectionEntry  ::= SEQUENCE
           {
                   applExConnectionId              Unsigned32,
                   applExConnectionOpenTime        DateAndTime,
                   applExConnectionCloseTime       DateAndTime,
                   applExConnectionTransport       TDomain,
                   applExConnectionNearEndAddr     TAddress,
                   applExConnectionNearEndFqdn     Utf8String,
                   applExConnectionFarEndAddr      TAddress,
                   applExConnectionFarEndFqdn      Utf8String,
                   applExConnectionApplication     Utf8String,
                   applExConnectionReadRequests    Counter64,
                   applExConnectionReadReqsLow     Counter32,
                   applExConnectionBytesRead       Counter64,
                   applExConnectionBytesReadLow    Counter32,
                   applExConnectionLastReadTime    DateAndTime,
                   applExConnectionWriteRequests   Counter64,
                   applExConnectionWriteReqsLow    Counter32,
                   applExConnectionBytesWritten    Counter64,
                   applExConnectionBytesWritLow    Counter32,
                   applExConnectionLastWriteTime   DateAndTime
           }

   applExConnectionEntry   OBJECT-TYPE
           SYNTAX          ApplExConnectionEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applExConnectionEntry indicates that a running
              application element once had an open connection,
              which is now closed.  The entry has information
              describing that connection."
           INDEX           { sysApplElmtRunIndex,



Applmib Working Group     Expires December 1997                [Page 30]

Internet Draft         Application Management MIB           10 July 1997


                             applExConnectionId }
           ::= { applExConnectionTable 1 }

   applExConnectionId      OBJECT-TYPE
           SYNTAX          Unsigned32
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute serves to uniquely identify this
              closed connection in the context of the running
              application element.  This attribute has no other
              semantics.

              In issuing this index value, the implementation
              must avoid re-issuing an index value which has
              already been assigned to an entry which has not yet
              been deleted due to age or space considerations."
           ::= { applExConnectionEntry 1 }

   applExConnectionOpenTime        OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute records the time when this
              connection was originally opened."
           ::= { applExConnectionEntry 2 }

   applExConnectionCloseTime       OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute records the time when this
              connection was closed."
           ::= { applExConnectionEntry 3 }

   applExConnectionTransport       OBJECT-TYPE
           SYNTAX          TDomain
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExConnectionTransport attribute identifies
              the transport protocol that was in use for this
              former connection.  If the trasport protocol could
              not be determined, the value { 0 0 } is used."
           DEFVAL { { 0 0 } }
           ::= { applExConnectionEntry 4 }



Applmib Working Group     Expires December 1997                [Page 31]

Internet Draft         Application Management MIB           10 July 1997


   applExConnectionNearEndAddr OBJECT-TYPE
           SYNTAX          TAddress
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExConnectionNearEndAddr attribute reports
              the transport address and port information for
              the near end of this former connection.

              If the information could not be determined, the
              value shall be a zero-length string."
           DEFVAL { "" }
           ::= { applExConnectionEntry 5 }

   applExConnectionNearEndFqdn OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExConnectionNearEndFqdn attribute reports
              the fully-qualified domain name for
              the near end of this former connection.

              If the information could not be determined, the
              value shall be a zero-length string."
           DEFVAL { "" }
           ::= { applExConnectionEntry 6 }

   applExConnectionFarEndAddr  OBJECT-TYPE
           SYNTAX          TAddress
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExConnectionFarEnd attribute reports
              the transport address and port information for
              the far end of this former connection.

              If not known, as in the case of a connectionless
              transport, the value of this attribute shall be
              a zero-length string."
           DEFVAL { "" }
           ::= { applExConnectionEntry 7 }

   applExConnectionFarEndFqdn  OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION



Applmib Working Group     Expires December 1997                [Page 32]

Internet Draft         Application Management MIB           10 July 1997


             "The applExConnectionFarEnd attribute reports
              the transport address and port information for
              the far end of this former connection.

              If not known, as in the case of a connectionless
              transport, the value of this attribute shall be
              a zero-length string."
           DEFVAL { "" }
           ::= { applExConnectionEntry 8 }

   applExConnectionApplication     OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExConnectionApplication attribute
              identifies the application layer protocol that was
              in use.  Where possible, the values defined in [16]
              shall be used.  If not known, the value of this
              attribute shall be a zero-length string."
           DEFVAL { "" }
           ::= { applExConnectionEntry 9 }

   applExConnectionReadRequests    OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "read requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of read requests
              for this connection made by this running application
              element.  All read requests for this connection
              by this running application element, regardless
              of completion status, are included in this count."
           ::= { applExConnectionEntry 10 }

   applExConnectionReadReqsLow    OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "read requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applExConnectionReadRequests."
           ::= { applExConnectionEntry 11 }

   applExConnectionBytesRead       OBJECT-TYPE
           SYNTAX          Counter64



Applmib Working Group     Expires December 1997                [Page 33]

Internet Draft         Application Management MIB           10 July 1997


           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of bytes read
              from this connection by this running application
              element.  Only bytes successfully read are included
              in this count. "
           ::= { applExConnectionEntry 12 }

   applExConnectionBytesReadLow       OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applExConnectionBytesRead."
           ::= { applExConnectionEntry 13 }

   applExConnectionLastReadTime    OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the time of the most
              recent read request made by this running application
              element, regardless of completion status, for this
              former connection.

              If no read requests have been made by this running
              application element for this connection, the value
              of this attribute shall be '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applExConnectionEntry 14 }

   applExConnectionWriteRequests   OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "write requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExconnectionWriteRequests attribute
              reports the number of write requests, regardless of
              completion status, made by this running application
              element for this former connection."
           ::= { applExConnectionEntry 15 }




Applmib Working Group     Expires December 1997                [Page 34]

Internet Draft         Application Management MIB           10 July 1997


   applExConnectionWriteReqsLow   OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "write requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applExconnectionWriteRequests."
           ::= { applExConnectionEntry 16 }

   applExConnectionBytesWritten    OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute reports the number of bytes written
              to this former connection by this running
              application element.  Only bytes successfully
              written (no errors reported by the API in use by
              the application) are included in this count."
           ::= { applExConnectionEntry 17 }

   applExConnectionBytesWritLow    OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applExconnectionBytesWritten."
           ::= { applExConnectionEntry 18 }

   applExConnectionLastWriteTime   OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applExConnectionLastWriteTime attribute reports
              the time of the most recent write request made by
              this running application element, regardless of
              completion status, for this former connection.

              If no write requests have been made by this running
              application element for this connection, the value
              of this attribute shall be '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applExConnectionEntry 19 }



Applmib Working Group     Expires December 1997                [Page 35]

Internet Draft         Application Management MIB           10 July 1997


   -- *************************************************************
   --
   --      applTransactionControlTable - common and control
   --      information for transaction stream monitoring
   --
   -- *************************************************************

   applTransactionControlTable     OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplTransactionControlEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "The applTransactionControlTable contains common
              information for the control of transaction
              statistic accumulation."
           ::= { applTransactionGroup 1 }

   ApplTransactionControlEntry ::= SEQUENCE {
           applTransactStreamId         Unsigned32,
           applTransactStreamPointer    RowPointer,
           applTransactStreamDescr      Utf8String,
           applTransactStreamUnitOfWork Utf8String
                                                           }

   applTransactionControlEntry OBJECT-TYPE
           SYNTAX  ApplTransactionControlEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applTransactionControlentry contains control
              information for a single transaction stream.  A
              transaction stream can be a network connection,
              file, or other source of transactions."
           INDEX           { sysApplElmtRunIndex,
                             applTransactStreamId }
           ::= { applTransactionControlTable 1 }

   applTransactStreamId OBJECT-TYPE
           SYNTAX          Unsigned32
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applTransactStreamId serves to uniquely
              identify a transaction stream in the context of
              a given running application element."
           ::= { applTransactionControlEntry 1 }

   applTransactStreamPointer            OBJECT-TYPE



Applmib Working Group     Expires December 1997                [Page 36]

Internet Draft         Application Management MIB           10 July 1997


           SYNTAX          RowPointer
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamPointer attribute
              identifies the network connection or file
              I/O stream over which these transactions are
              carried.  This will normally point to an entry
              in the applOpenFilesTable or to an entry in the
              applOpenConnectionsTable.  If this transaction
              stream is not associated with a specific file or
              connection, this attribute's value shall be
              { 0 0 }."
           ::= { applTransactionControlEntry 2 }

   applTransactStreamDescr              OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamDescr attribute provides
              a human-readable description of this transaction
              stream.

              If no descriptive information is available, this
              attribute's value shall be a zero-length string."
           DEFVAL { "" }
           ::= { applTransactionControlEntry 3 }

   applTransactStreamUnitOfWork         OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamUnitOfWork attribute
              provides a human-readable definition of what the
              unit of work is for this transaction stream.

              If no descriptive information is available, this
              attribute's value shall be a zero-length string."
           DEFVAL { "" }
           ::= { applTransactionControlEntry 4 }



   -- *************************************************************
   --
   --      applTransactStreamTable



Applmib Working Group     Expires December 1997                [Page 37]

Internet Draft         Application Management MIB           10 July 1997


   --
   -- *************************************************************

   applTransactStreamTable      OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplTransactStreamEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "The applTransactStreamTable contains entries,
              organized by running application element, for each
              open transaction stream.

              The simple model of a transaction used here looks
              like this:

                   invoker  |   Request     | performer
                            | - - - - - - > |
                            |               |
                            |   Response    |
                            | < - - - - - - |
                            |               |

              Since in some protocols it is possible for an entity
              to take on both the invoker and performer roles,
              information here is accumulated for transmitted
              and received requests, as well as for transmitted
              and received responses.  Counts are maintained
              for both transactions and bytes transferred."
           ::= { applTransactionGroup 2 }

   ApplTransactStreamEntry ::= SEQUENCE {
           applTransactStreamUpTime        TimeStamp,
           applTransactStreamTxReqs        Counter64,
           applTransactStreamTxReqsLow     Counter32,
           applTransactStreamTxReqBytes    Counter64,
           applTransactStreamTxReqBytesLow Counter32,
           applTransactStreamTxReqTime     DateAndTime,
           applTransactStreamTxRsps        Counter64,
           applTransactStreamTxRspsLow     Counter32,
           applTransactStreamTxRspBytes    Counter64,
           applTransactStreamTxRspBytesLow Counter32,
           applTransactStreamTxRspTime     DateAndTime,
           applTransactStreamRxReqs        Counter64,
           applTransactStreamRxReqsLow     Counter32,
           applTransactStreamRxReqBytes    Counter64,
           applTransactStreamRxReqBytesLow Counter32,
           applTransactStreamRxReqTime     DateAndTime,
           applTransactStreamRxRsps        Counter64,



Applmib Working Group     Expires December 1997                [Page 38]

Internet Draft         Application Management MIB           10 July 1997


           applTransactStreamRxRspsLow     Counter32,
           applTransactStreamRxRspBytes    Counter64,
           applTransactStreamRxRspBytesLow Counter32,
           applTransactStreamRxRspTime     DateAndTime,
           applTransactStreamInvCumTime    Counter32,
           applTransactStreamPrfCumTime    Counter32    }


   applTransactStreamEntry OBJECT-TYPE
           SYNTAX  ApplTransactStreamEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applTransactStreamEntry reports transaction
              throughput information for a transaction stream.
              Entries in this table are indexed identically to
              those in the applTransactionControlTable."

           INDEX           { sysApplElmtRunIndex,
                             applTransactStreamId }
           ::= { applTransactStreamTable 1 }

   applTransactStreamUpTime             OBJECT-TYPE
           SYNTAX          TimeStamp
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamUpTime attribute records
              the value of sysUpTime.0 when this transaction
              stream entry was created and serves as a
              discontinuity indicator for all of the counters
              in this row."
           ::= { applTransactStreamEntry 1 }


   applTransactStreamTxReqs             OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamTxReqs attribute reports
              the number of requests transmitted by this running
              application element over this transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."



Applmib Working Group     Expires December 1997                [Page 39]

Internet Draft         Application Management MIB           10 July 1997


           ::= { applTransactStreamEntry 2 }

   applTransactStreamTxReqsLow          OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamTxReqs.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 3 }


   applTransactStreamTxReqBytes         OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamTxReqBytes attribute
              reports the number of bytes transmitted by this
              running application element in requests over this
              transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 4 }

   applTransactStreamTxReqBytesLow      OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamTxReqBytes.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 5 }

   applTransactStreamTxReqTime          OBJECT-TYPE



Applmib Working Group     Expires December 1997                [Page 40]

Internet Draft         Application Management MIB           10 July 1997


           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamTxReqTime attribute reports
              the time of the most recent transmission of a
              request over this transaction stream.

              If no requests have been sent by this running
              application element over this transaction
              stream, the value of this attribute shall be
              '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applTransactStreamEntry 6 }

   applTransactStreamTxRsps             OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "responses"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamTxRsps attribute reports
              the number of responses sent by this running
              application element over this transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 7 }

   applTransactStreamTxRspsLow          OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "responses"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamTxRsps.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 8 }

   applTransactStreamTxRspBytes         OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only



Applmib Working Group     Expires December 1997                [Page 41]

Internet Draft         Application Management MIB           10 July 1997


           STATUS          current
           DESCRIPTION
             "The applTransactStreamTxRspBytes attribute
              reports the number of bytes sent by this running
              application element in responses over this
              transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 9 }

   applTransactStreamTxRspBytesLow        OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamTxRspBytes.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 10 }

   applTransactStreamTxRspTime          OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamTxRspTime attribute
              reports the time the most recent response was
              transmitted over this transaction stream by this
              running application element.

              If no responses have been sent by this running
              application element over this transaction
              stream, the value of this attribute shall be
              '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applTransactStreamEntry 11 }

   applTransactStreamRxReqs             OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "requests"
           MAX-ACCESS      read-only
           STATUS          current



Applmib Working Group     Expires December 1997                [Page 42]

Internet Draft         Application Management MIB           10 July 1997


           DESCRIPTION
             "The applTransactStreamRxReqs attribute reports
              the number requests received by this running
              application element over this transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 12 }

   applTransactStreamRxReqsLow          OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "requests"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamRxReqs.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 13 }

   applTransactStreamRxReqBytes         OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamRxReqBytes attribute
              reports the number of bytes received by this
              running application element in requests on this
              transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 14 }

   applTransactStreamRxReqBytesLow        OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamRxReqBytes.



Applmib Working Group     Expires December 1997                [Page 43]

Internet Draft         Application Management MIB           10 July 1997


              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 15 }

   applTransactStreamRxReqTime          OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamRxReqTime attribute reports
              the time of the most recent receipt by this
              running application element of a request on this
              transaction stream.

              If no requests have been received by this running
              application element over this transaction
              stream, the value of this attribute shall be
              '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applTransactStreamEntry 16 }

   applTransactStreamRxRsps             OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "responses"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamRxRsps attribute reports
              the number of responses received by this running
              application element on this transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 17 }

   applTransactStreamRxRspsLow          OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "responses"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamRxRsps.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for



Applmib Working Group     Expires December 1997                [Page 44]

Internet Draft         Application Management MIB           10 July 1997


              this row."
           ::= { applTransactStreamEntry 18 }

   applTransactStreamRxRspBytes         OBJECT-TYPE
           SYNTAX          Counter64
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamRxRspBytes attribute
              reports the number of bytes in responses received
              by this running application element on this
              transaction stream.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 19 }


   applTransactStreamRxRspBytesLow      OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "This attribute corresponds to the low thirty-two
              bits of applTransactStreamRxRspBytes.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 20 }

   applTransactStreamRxRspTime          OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamRxRspTime attribute records
              the time of the receipt by this running application
              element of the most recent response on this
              transaction stream.

              If no responses have been received by this
              running application element over this transaction
              stream, the value of this attribute shall be
              '0000000000000000'H "



Applmib Working Group     Expires December 1997                [Page 45]

Internet Draft         Application Management MIB           10 July 1997


           DEFVAL { '0000000000000000'H }
           ::= { applTransactStreamEntry 21 }

   applTransactStreamInvCumTime         OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "milliseconds"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamInvCumTime attribute
              reports the cumulative sum of the times measured
              between the transmission of requests and the
              receipt of the corresponding responses.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 22 }

   applTransactStreamPrfCumTime         OBJECT-TYPE
           SYNTAX          Counter32
           UNITS           "milliseconds"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applTransactStreamPrfCumTime attribute
              reports the cumulative sum of the times measured
              between receipt of requests and the transmission
              of the corresponding responses.

              Discontinuities in this counter can be detected
              by monitoring the applTransactStreamUpTime for
              this row."
           ::= { applTransactStreamEntry 23 }


   --
   --ISSUE: More detailed statistics from the ARM mib to come...
   --


   -- *************************************************************
   --
   --      applElmtRunControlGroup - monitor and control running
   --      application elements
   --
   -- *************************************************************




Applmib Working Group     Expires December 1997                [Page 46]

Internet Draft         Application Management MIB           10 July 1997


   applElmtRunStatusTable OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplElmtRunStatusEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "This table provies information on running
              application elements, complementing information
              avilable in the correspondingly indexed
              sysApplelmtRunTable [11]."
           ::= { applElmtRunControlGroup 1 }

   ApplElmtRunStatusEntry ::= SEQUENCE {
           applElmtRunStatusSuspended              TruthValue,
           applElmtRunStatusHeapUsage              Gauge32,
           applElmtRunStatusOpenConnections        Gauge32,
           applElmtRunStatusLastErrorMsg           Utf8String,
           applElmtRunStatusLastErrorTime          DateAndTime }

   applElmtRunStatusEntry OBJECT-TYPE
           SYNTAX          ApplElmtRunStatusEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applElmtRunStatusEntry contains information
              to support the control and monitoring of a single
              running application element."
           INDEX { sysApplElmtRunIndex }
           ::= { applElmtRunStatusTable 1 }

   applElmtRunStatusSuspended      OBJECT-TYPE
           SYNTAX          TruthValue
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applElmtRunStatusSuspended attribute reports
              whether processing by this running application
              element has been suspended, whether by management
              request or by other means."
           ::= { applElmtRunStatusEntry 1 }

   applElmtRunStatusHeapUsage      OBJECT-TYPE
           SYNTAX          Gauge32
           UNITS           "bytes"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applElmtRunStatusHeapUsage reports the
              current approximate heap usage by this running



Applmib Working Group     Expires December 1997                [Page 47]

Internet Draft         Application Management MIB           10 July 1997


              application element."
           ::= { applElmtRunStatusEntry 2 }

   applElmtRunStatusOpenConnections        OBJECT-TYPE
           SYNTAX          Gauge32
           UNITS           "connections"
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applElmtRunStatusOpenConnections reports
              the current number of open connections in use
              by this running application element."
           ::= { applElmtRunStatusEntry 3 }

   applElmtRunStatusLastErrorMsg   OBJECT-TYPE
           SYNTAX          Utf8String
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applElmtRunStatusLastErrorMessage attribute
              reports the most recent error message (typically
              written to stderr or a system error logging
              facility) from this running application element.
              If no such message has yet been generated, the value
              of this attribute shall be a zero-length string."
           DEFVAL { "" }
           ::= { applElmtRunStatusEntry 4 }

   applElmtRunStatusLastErrorTime  OBJECT-TYPE
           SYNTAX          DateAndTime
           MAX-ACCESS      read-only
           STATUS          current
           DESCRIPTION
             "The applElmtRunStatusLastErrorTime attribute
              reports the time of the most recent error message
              in applElmtRunStatusLastErrorMsg.

              If no such message has yet been generated, the value
              of this attribute shall be '0000000000000000'H "
           DEFVAL { '0000000000000000'H }
           ::= { applElmtRunStatusEntry 5 }


   -- *************************************************************
   --
   --      applElmtRunControlTable - control running application
   --      elements
   --



Applmib Working Group     Expires December 1997                [Page 48]

Internet Draft         Application Management MIB           10 July 1997


   -- *************************************************************


   applElmtRunControlTable OBJECT-TYPE
           SYNTAX          SEQUENCE OF ApplElmtRunControlEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "This table provides the ability to control
              application elements, complementing information
              avilable in the correspondingly indexed
              sysApplelmtRunTable [11]."
           ::= { applElmtRunControlGroup 2 }

   ApplElmtRunControlEntry ::= SEQUENCE {
                   applElmtRunControlSuspend       TruthValue,
                   applElmtRunControlReconfigure   TestAndIncr,
                   applElmtRunControlTerminate     TruthValue }

   applElmtRunControlEntry OBJECT-TYPE
           SYNTAX          ApplElmtRunControlEntry
           MAX-ACCESS      not-accessible
           STATUS          current
           DESCRIPTION
             "An applElmtRunControlEntry contains information
              to support the control of a single running
              application element."
           INDEX { sysApplElmtRunIndex }
           ::= { applElmtRunControlTable 1 }

   applElmtRunControlSuspend       OBJECT-TYPE
           SYNTAX          TruthValue
           MAX-ACCESS      read-write
           STATUS          current
           DESCRIPTION
             "Setting this variable to 'true' requests the
              suspension of processing by this running application
              element.  Setting this variable to 'false' requests
              that processing be resumed.  The effect, if any,
              will be reported by the applElmtRunStatusSuspended
              attribute."
           DEFVAL { false }
           ::= { applElmtRunControlEntry 1 }

   applElmtRunControlReconfigure   OBJECT-TYPE
           SYNTAX          TestAndIncr
           MAX-ACCESS      read-write
           STATUS          current



Applmib Working Group     Expires December 1997                [Page 49]

Internet Draft         Application Management MIB           10 July 1997


           DESCRIPTION
             "Changing the value of this variable requests
              that the running application element re-load
              its configuration (like SIGHUP for many
              UNIX-based daemons)."
           ::= { applElmtRunControlEntry 2 }

   applElmtRunControlTerminate     OBJECT-TYPE
           SYNTAX          TruthValue
           MAX-ACCESS      read-write
           STATUS          current
           DESCRIPTION
             "Setting the value of applElmtRunControlTerminate
              to 'true' requests that the running application
              element terminate processing and exit in an
              orderly manner.  This is a 'polite' shutdown
              request."
           DEFVAL { false }
           ::= { applElmtRunControlEntry 3 }


   END



6.  Implementation Issues

   Unlike the system application MIB [11], in many environments support
   for much of this MIB requires instrumentation built into the managed
   resource.  Some tables may be implemented by a single monitor
   process; for others, the implementation may be distributed within the
   managed system with the resources being managed.

   As a practical matter, this means that the management infrastructure
   of the managed system must support different subagents taking
   responsibility for different rows of a single table.  This can be
   supported by Agentx [14], as well as some other subagent protocols
   [15].

   The sysApplRunElmtIndex is the key connection between this MIB and
   the systems application MIB.  Implementations of these two MIBs
   intended to run concurrently on a given platform must employ a
   consistent policy for assigning this value to running application
   elements.

   Some of the objects defined in this MIB may carry a high run-time
   cost in some environments.  For example, tracking transaction elapsed
   time could be expensive if it required a two kernel calls (start and



Applmib Working Group     Expires December 1997                [Page 50]

Internet Draft         Application Management MIB           10 July 1997


   finish) per transaction.  Similarly, maintaining tables of per-
   transaction information, rather than aggregating information by
   transaction type or transaction stream, could have significant
   storage and performance impacts.



7.  Security Considerations

   By making potentially sensitive information externally accessible,
   the capabilities supported by the MIB have the potential of becoming
   security problems.

   The tables in this MIB are organized to separate sensitive control
   capabilities from less sensitive usage information.  The MIB is
   structured to be useful for managers with read-only access rights.

   The capabilities supported by this MIB include several that may be of
   value to a security administrator.  These include the ability to
   monitor the level of usage of a given application, to verify
   licenses, and to check the integrity of application components.


8.  Acknowledgements

   This document was produced by the Application MIB working group.

   The author gratefully acknowledges the comments and contributions of
   the following individuals:

             Harrie Hazewinkel
             Carl Kalbfleisch
             Cheryl Krupczak
             John Saperia
             Juergen Schoenwaelder


9.  Editors' Addresses

   Carl Kalbfleisch
   Verio, Inc.
   1950 Stemmons Frwy
   2026 INFOMART
   Dallas, TX 75207
   USA

   Phone: +1 972 238-8303
   Fax:   +1 214 672-7275



Applmib Working Group     Expires December 1997                [Page 51]

Internet Draft         Application Management MIB           10 July 1997


   E-Mail: cwk@verio.net


   Cheryl Krupczak
   Empire Technologies, Inc.
   541 Tenth Street, NW Suite 169
   Atlanta, GA 30318

   Phone: +1 770 384-0184

   E-Mail: cheryl@empiretech.com


   Randy Presuhn
   BMC Software, Inc.
   Silicon Valley Division
   (formerly PEER Networks)
   1190 Saratoga Avenue
   San Jose, CA 95129
   USA

   Phone: +1 408 556-0720
   Fax:   +1 408 556-0735

   E-Mail: rpresuhn@bmc.com


   Jon Saperia
   BGS Systems, Inc.
   One First Avenue
   Waltham, MA 02254
   USA

   Phone: +1 617 663-4682
   Fax:   +1 617 890-0000

   E-Mail: saperia@networks.bgs.com


10.  References

   [1]  Grillo, P., and S. Waldbusser, "Host Resources MIB", RFC 1514,
   September 1993.

   [2]  Freed, N., and S. Kille, "Network Services Monitoring MIB", RFC
   1565, January 1994.

   [3]  Freed, N., and S. Kille, "Mail Monitoring MIB", RFC 1566,



Applmib Working Group     Expires December 1997                [Page 52]

Internet Draft         Application Management MIB           10 July 1997


   January 1994.

   [4]  Brower, D., Purvy, R., Daniel, A., Sinykin, M., and J. Smith,
   "Relational Database Management System (RDBMS) Management Information
   Base (MIB) using SMIv2", RFC 1697, August 1994.

   [5]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
   "Structure of Management Information for Version 2 of the Simple
   Network Management Protocol (SNMPv2)", RFC 1902, January 1996.

   [6]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Textual
   Conventions for Version 2 of the Simple Network Management Protocol
   (SNMPv2)", RFC 1903, January 1996.

   [7]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
   "Conformance Statements for Version 2 of the Simple Network
   Management Protocol (SNMPv2)", RFC 1904, January 1996.

   [8]  McCloghrie, K. and A. Bierman, "Entity MIB", RFC 2037, October
   1996.

   [9]  C. Kalbfleisch, "Applicability of Standards Track MIBs to
   Management of World Wide Web Servers", RFC 2039, November 1996.

   [10] Yergeau, F., "UTF-8, a transformation format of Unicode and ISO
   10646", RFC 2044, October 1996.

   [11] Krupczak, C., and J. Saperia, "Definitions of System-Level
   Managed Objects for Applications",
   <draft-ietf-applmib-sysapplmib-08.txt>, April 1997.

   [12] ITU-T Recommendation X.744 | ISO/IEC IS 10164-18:1996,
   Information Technology - Open Systems Interconnection - Systems
   Management: Software Management Function, 1996.

   [13] IEEE P1387.2, POSIX System Administration - Part 2: Software
   Administration.  (Draft)

   [14] Daniele, M., Francisco, D., and B. Wijnen, "Agent Extensibility
   (AgentX) Protocol", <draft-ietf-agentx-pro-03.txt>, April, 1997.

   [15] Rose, M., "SNMP MUX Protocol and MIB", RFC 1227, May 1991.

   [16] Reynolds, J. and J. Postel, "ASSIGNED NUMBERS", RFC 1700, STD 2,
   October, 1994.






Applmib Working Group     Expires December 1997                [Page 53]

Internet Draft         Application Management MIB           10 July 1997


11.  Issues and List of Things Left To Be Done

   The following issues remain to be resolved.

      -  Should applOpenConnectionApplication be a human-readable thing
         or something like an RMON protocol identifier?

      -  Is the truncation of the file name used as an index for
         applOpenFileXrefEntry a problem?

      -  Decide which object definitions should be borrowed or reference
         from the ARM work.

      -  Do we need to report current mode in addition to open mode?
         For example, fcntl() can change append mode.  (With this
         revision of the draft, we've reduced the alternatives to read
         and write, but the issue remains.)

      -  The syntax for the identifiers for transport and application
         protocol identifiers should be narrowed down a bit.

      -  MIB definitions to support the following capabilities are still
         needed:

         -  system calls?
            Strawman: close this issue, no one has argued that we need
            these.

         -  stack penetration?
            Strawman: close this issue, no one has argued that we really
            need this.

         -  other networking resources?
            Strawman: close this issue, what is in the MIB appears to be
            enough.

         -  dependency information

         -  logging capability

      -  align with stdguide requirements

      -  add conformance clauses

      -  Should applOpenconnectionNearEnd (and similar attributes) be
         Taddress or fqdn?

      -  should control capabilities be defined at an application,



Applmib Working Group     Expires December 1997                [Page 54]

Internet Draft         Application Management MIB           10 July 1997


         service, or process level in this MIB?


   The following items were removed from the document's scope section:

      -  other resources are open to discussion, possibilities include:

         -  various system calls;

         -  stack penetration;

         -  networking resources.


   Some of the tables, e.g., the applTransactStreamTable, currently have
   lots of remarkably similar attributes.  By breaking this information
   into multiple tables and using more indexes, we can achieve what
   appears to be an overall simplification:

   Indexes: element, stream
           applTransactStreamUpTime        TimeStamp
           applTransactStreamInvCumTime    Counter32
           applTransactStreamPrfCumTime    Counter32

   Indexes: element, stream, direction (tx/rx), request/response
           applTransactFlowTrans           Counter64,
           applTransactFlowTransLow        Counter32,
           applTransactFlowBytes           Counter64,
           applTransactFlowBytesLow        Counter32,
           applTransactFlowTime            DateAndTime,

   This makes adding a new, fine-grained table easy:
   Indexes: element, stream, direction (tx/rx), request/response, kind
   (where "kind" is the protocol specific transaction type)
           applTransactKindTrans           Counter64,
           applTransactKindTransLow        Counter32,
           applTransactKindBytes           Counter64,
           applTransactKindBytesLow        Counter32,
           applTransactKindTime            DateAndTime,

   There are two tradeoffs here: this approach may be harder to describe,
   and it would behave differently under get-next/bulk.









Applmib Working Group     Expires December 1997                [Page 55]

                            Table of Contents




1. Introduction ...................................................    1

2. Overview .......................................................    2

3. Architecture ...................................................    4

3.1. Relationships to other MIBs ..................................    4

3.1.1. Relationship to NSM ........................................    4

3.1.2. Relationship to the System Application MIB .................    5

4. MIB Structure ..................................................    5

4.1. The open files table .........................................    5

4.2. The open files cross-reference table .........................    6

4.3. The open connections table ...................................    7

4.4. The transaction statistics tables ............................    7

4.5. The running application element status table .................    8

4.6. The running application element control table ................    8

4.7. The application component details table ......................    9

5. Definitions ....................................................    9

6. Implementation Issues ..........................................   50

7. Security Considerations ........................................   51

8. Acknowledgements ...............................................   51

9. Editors' Addresses .............................................   51

10. References ....................................................   52




Applmib Working Group     Expires December 1997                 [Page 1]

Internet Draft         Application Management MIB           10 July 1997


11. Issues and List of Things Left To Be Done .....................   54


















































Applmib Working Group     Expires December 1997                 [Page 2]
