



Network Working Group                                             Y. Zhu
Internet-Draft                                                   H. Chen
Intended status: Standards Track                           China Telecom
Expires: December 27, 2018                                       M. Chen
                                                                   Z. Du
                                                                  Huawei
                                                           June 25, 2018


          ISIS Extensions for Flex Ethernet Link Advertisement
              draft-zhu-ccamp-flexe-link-advertisement-00

Abstract

   This document specifies the extensions to the IS-IS routing protocol
   to carry and flood Flex Ethernet (FlexE) link state information.  The
   FlexE link state information is necessary for a node or a controller
   to compute a path that is required to over FlexE links.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 27, 2018.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.





Zhu, et al.             Expires December 27, 2018               [Page 1]

Internet-Draft          FlexE Link Advertisement               June 2018


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  FlexE Link  . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  FlexE Sub-link  . . . . . . . . . . . . . . . . . . . . . . .   4
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
     4.1.  FlexE Interface Sub-TLV . . . . . . . . . . . . . . . . .   5
   5.  Security Consideration  . . . . . . . . . . . . . . . . . . .   5
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   Flex Ethernet (FlexE) [I-D.izh-ccamp-flexe-fwk] provides a generic
   mechanism for supporting a variety of Ethernet MAC rates that may or
   may not correspond to any existing Ethernet PHY rate.  This includes
   MAC rates that are both greater than (through bonding) and less than
   (through sub-rate and channelization) the Ethernet PHY rates used to
   carry Ethernet traffic.

   FlexE supports interface bonding, a bonded interface is consisted of
   from 1 to n 100GBASE-R Ethernet interfaces (other rates of interface
   will be supported in the future), the bonded interface is called
   FlexE interface in this document.  FlexE also supports interface
   channelization, a FlexE interface can be channelized into multiple
   sub-interfaces, the sub-interface is called FlexE sub-interface in
   the rest of this document.

   The FlexE mechanism operates using a calendar which assigns 66B block
   positions on sub-calendars on each PHY of a FlexE interface to each
   of the FlexE flows.  The calendar has a granularity of 5G, and has a
   length of 20 slots for a 100G interface.  Currently, only 100GBASE-R
   PHY and 5G granularity are supported in FlexE implementation
   agreement version 1.0 [FlexE], other types (e.g., 200G, 400G) of PHY
   and granularities (e.g., 25G) will be supported in the future.



Zhu, et al.             Expires December 27, 2018               [Page 2]

Internet-Draft          FlexE Link Advertisement               June 2018


   A FlexE interface has a number of time slots resource.  These time
   slots can be transparent to the upper layer application, the upper
   layer application (e.g., RSVP-TE) can just treat the FlexE interface
   as a normal Ethernet interface or the time slots can be allocated to
   form a FlexE sub-interface though configuration or some dynamic
   protocols.  The later is called channelization.  How to signal or
   configure the FlexE sub-interface is out of the scope of this
   document.

   The logical link that connects two FlexE interfaces residing in two
   adjacent nodes is called FlexE link, and the logical link that
   connects two FlexE sub-interfaces residing in two adjacent nodes is
   call FlexE sub-link.

   More details about FlexE can be found in FlexE framework document
   [I-D.izh-ccamp-flexe-fwk].

   This document defines extensions to ISIS protocol to advertise the
   FlexE link and sub-link state information.

2.  FlexE Link

   A FlexE link is a logical link that connects two FlexE interfaces, it
   looks like a LAG (Link Aggregation Group).

   This document defines a new sub-TLV, which is referred to as FlexE
   Interface sub-TLV, to the extended IS reachability TLV [RFC5307].  It
   is defined to describes the resources and attributes of a FlexE
   interface.  The format of FlexE Interface sub-TLV is as below:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |         Type = TBD1           |          Length               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |           FlexE Group Number        |  Granularity  | Reserved|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                        Available Slots                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                      Figure 2: FlexE Interface sub-TLV


   The Type field is 2 octets in length and the value is TBD1.

   The Length field is 2 octets in length that indicates the total
   length of the TLV in octet.





Zhu, et al.             Expires December 27, 2018               [Page 3]

Internet-Draft          FlexE Link Advertisement               June 2018


   FlexE Group Number field is 20 bits in length and carries the FlexE
   Group [FlexE]number of the FlexE Group that the FlexE interface
   belongs.

   The Granularity is 1 octet in length and its value identifies the
   granularity of the FlexE time slots of a FlexE interface.  Current
   OIF agreement only allows the "5G" granularity, other granularities
   may be defined in the future.

   Value    Granularity
   -----    --------------
   0        Reserved
   1        5G
   2-254    Unassigned
   255      Reserved

   For each PHY of a FlexE interface, there are two calendars, one is
   called Active calendar and the other is called Backup calendar.  The
   two calendars are used to facilitate reconfiguration, for example,
   FlexE flow resizing can be achieved through calendar updates.  More
   detail about FlexE calendar can be found [FlexE].

   The Available Slots fields is 4-octet in length that indicates the
   maximum number of slots available on the active calendar of the FlexE
   interface.

      For each PHY of a FlexE interface, there are two calendars, one is
      called Active calendar and the other is called Backup calendar.
      The two calendars are used to facilitate reconfiguration, for
      example, FlexE flow resizing can be achieved through calendar
      updates.  More detail about FlexE calendar can be found [FlexE].

   For a FlexE interface, 5G granularity is only supported in [FlexE],
   more granularities may be supported in the future.  To support this,
   FlexE Interface sub-TLV can occur multiple times in an extended IS
   reachability TLV, but for each granularity, only one FlexE Interface
   sub-TLV can be included and it carries the available time slots of
   the granularity of the FlexE interface.  When multiple FlexE
   Interface sub-TLVs for the same granularity occur, only the first
   FlexE Interface sub-TLV is considered to be valid, the rests MUST be
   ignored.

3.  FlexE Sub-link

   Through channelization, a FlexE interface can be sliced into a number
   of FlexE sub-interfaces, each FlexE sub-interface has dedicated
   bandwidth and is isolated from other FlexE sub-interfaces.  A set of
   FlexE sub-interfaces can be allocated to a specific application/user



Zhu, et al.             Expires December 27, 2018               [Page 4]

Internet-Draft          FlexE Link Advertisement               June 2018


   to form a sliced network.  Or a series of FlexE sub-interfaces can be
   concatenated (e.g., through Segment Routing) to form a leased line.

   A FlexE sub-link connects two FlexE sub-interfaces.  From link
   characteristic point of view, a FlexE sub-link is same as an Ethernet
   link, it can be advertised and used as a normal link.

4.  IANA Considerations

4.1.  FlexE Interface Sub-TLV

   IANA is requested to allocate the following new sub-TLV types of top-
   level TLV 22 that have been reflected in the IS-IS sub-TLV registry
   for TLV 22:

   Value  sub-TLV Name      Reference
   -----  ---------------   -------------
   TBD1   FlexE Interface   This document

5.  Security Consideration

   This document describes a mechanism for advertising FlexE link state
   information through IS-IS LSPs and does not introduce any new
   security issues.

6.  Acknowledgements

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5029]  Vasseur, JP. and S. Previdi, "Definition of an IS-IS Link
              Attribute Sub-TLV", RFC 5029, DOI 10.17487/RFC5029,
              September 2007, <https://www.rfc-editor.org/info/rfc5029>.

   [RFC5307]  Kompella, K., Ed. and Y. Rekhter, Ed., "IS-IS Extensions
              in Support of Generalized Multi-Protocol Label Switching
              (GMPLS)", RFC 5307, DOI 10.17487/RFC5307, October 2008,
              <https://www.rfc-editor.org/info/rfc5307>.







Zhu, et al.             Expires December 27, 2018               [Page 5]

Internet-Draft          FlexE Link Advertisement               June 2018


7.2.  Informative References

   [FlexE]    OIF, "Flex Ethernet Implementation Agreement Version 1.0
              (OIF-FLEXE-01.0)", March 2016.

   [I-D.izh-ccamp-flexe-fwk]
              Hussain, I., Valiveti, R., Wang, Q., Andersson, L., Chen,
              M., and z. zhenghaomian@huawei.com, "GMPLS Routing and
              Signaling Framework for Flexible Ethernet (FlexE)", draft-
              izh-ccamp-flexe-fwk-05 (work in progress), March 2018.

Authors' Addresses

   Yongqing Zhu
   China Telecom
   109, West Zhongshan Road, Tianhe District, Guangzhou,China

   Email: zhuyq@gsta.com


   Huanan Chen
   China Telecom
   109, West Zhongshan Road, Tianhe District, Guangzhou,China

   Email: chenhuanan@gsta.com


   Mach(Guoyi) Chen
   Huawei

   Email: mach.chen@huawei.com


   Zongpeng Du
   Huawei

   Email: duzongpeng@huawei.com














Zhu, et al.             Expires December 27, 2018               [Page 6]
