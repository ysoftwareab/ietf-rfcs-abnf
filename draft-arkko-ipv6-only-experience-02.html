<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Experiences from an IPv6-Only Network</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Experiences from an IPv6-Only Network">
<meta name="keywords" content="IPv6, NAT64">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Arkko</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">A. Keranen</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">Ericsson</td></tr>
<tr><td class="header">Expires: April 29, 2011</td><td class="header">October 26, 2010</td></tr>
</table></td></tr></table>
<h1><br />Experiences from an IPv6-Only Network<br />draft-arkko-ipv6-only-experience-02</h1>

<h3>Abstract</h3>

<p>This document discusses our experiences from moving a small
      number of users to an IPv6-only network, with access to the
      IPv4-only parts of the Internet via a NAT64 device.  The
      document covers practical experiences as well as road blocks and
      opportunities for this type of a network setup. The document
      also makes some recommendations about where such networks are
      applicable and what should be taken into account in the network
      design. The document also discusses further work that is needed
      to make IPv6-only networking applicable in all environments.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on April 29, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#tech">2.</a>&nbsp;
Technology and Terminology<br />
<a href="#setup">3.</a>&nbsp;
Network Setup<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">3.1.</a>&nbsp;
The IPv6-Only Network<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#dnsop">3.2.</a>&nbsp;
DNS Operation<br />
<a href="#exp-gen">4.</a>&nbsp;
General Experiences<br />
<a href="#exp-ipv6">5.</a>&nbsp;
Experiences with IPv6-Only Networking<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">5.1.</a>&nbsp;
Operating Systems<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">5.2.</a>&nbsp;
Programming Languages and APIs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">5.3.</a>&nbsp;
Instant Messaging and VoIP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">5.4.</a>&nbsp;
Gaming<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">5.5.</a>&nbsp;
Music Services<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.6.</a>&nbsp;
Appliances<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.7.</a>&nbsp;
Other Differences<br />
<a href="#exp-nat64">6.</a>&nbsp;
Experiences with NAT64<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#litstudy">6.1.</a>&nbsp;
IPv4 Address Literals<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">6.2.</a>&nbsp;
Comparison of Web Access via NAT64 to Other Methods<br />
<a href="#future-work">7.</a>&nbsp;
Future Work<br />
<a href="#concl">8.</a>&nbsp;
Conclusions and Recommendations<br />
<a href="#seccons">9.</a>&nbsp;
Security Considerations<br />
<a href="#ianacons">10.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">11.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">11.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">11.2.</a>&nbsp;
Informative References<br />
<a href="#ack">Appendix&nbsp;A.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document discusses our experiences from moving a small
      number of users to an IPv6-only network, with access to the
      IPv4-only parts of the Internet via a NAT64 device. This
      arrangement has been done with a permanent change in mind rather
      than as a temporary experiment, involves both office and home
      users, heterogeneous computing equipment, and varied
      applications. We have learned both practical details, road
      blocks and opportunities, as well as more general understanding
      of when such a configuration can be recommended and what should
      be taken into account in the network design. 
</p>
<p>The networks involved in this setup have been in dual stack
      mode for considerable amount of time, in one case for over ten
      years. Our IPv6 connectivity is stable and in constant use with
      no significant problems. Given that the IETF is working on
      technology such as NAT64 <a class='info' href='#I-D.ietf-behave-v6v4-framework'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;framework]<span> (</span><span class='info'>Baker, F., Li, X., Bao, C., and K. Yin, &ldquo;Framework for IPv4/IPv6 Translation,&rdquo; August&nbsp;2010.</span><span>)</span></a> and several network
      providers are discussing the possibility of employing IPv6-only
      networking, we decided to take our network beyond the "comfort
      zone" and make sure that we understand the implications of
      having no IPv4 connectivity at all. This also allowed us to test
      a NAT64 device that is being developed by Ericsson.
</p>
<p>The main conclusion is that it is possible to employ
      IPv6-only networking, though there are a number of issues such
      as lack of IPv6 support in some applications and bugs in
      untested parts of code. As a result, dual-stack <a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a> remains as our recommended model for general
      purpose networking at this time, but IPv6-only networking can be
      employed by early adopters or highly controlled networks. The
      document also suggests actions to make IPv6-only networking
      applicable in all environments. In particular, resolving
      problems with a few key applications would have a significant
      impact for enabling IPv6-only networking for large classes of
      users and networks. It is important that the Internet community
      understands these deployment barriers and works to remove
      them.
</p>
<p>The rest of this document is organized as follows. <a class='info' href='#tech'>Section&nbsp;2<span> (</span><span class='info'>Technology and Terminology</span><span>)</span></a> introduces some relevant technology and terms,
      <a class='info' href='#setup'>Section&nbsp;3<span> (</span><span class='info'>Network Setup</span><span>)</span></a> describes the network setup, <a class='info' href='#exp-gen'>Section&nbsp;4<span> (</span><span class='info'>General Experiences</span><span>)</span></a> discusses our general experiences, <a class='info' href='#exp-ipv6'>Section&nbsp;5<span> (</span><span class='info'>Experiences with IPv6-Only Networking</span><span>)</span></a> discusses experiences related to having only
      IPv6 networking available, and <a class='info' href='#exp-nat64'>Section&nbsp;6<span> (</span><span class='info'>Experiences with NAT64</span><span>)</span></a>
      discusses experiences related to NAT64 use. Finally, <a class='info' href='#future-work'>Section&nbsp;7<span> (</span><span class='info'>Future Work</span><span>)</span></a> presents some of our ideas for future
      work and <a class='info' href='#concl'>Section&nbsp;8<span> (</span><span class='info'>Conclusions and Recommendations</span><span>)</span></a> draws conclusions and makes
      recommendations on when and how one should employ IPv6-only
      networks.
</p>
<a name="tech"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Technology and Terminology</h3>

<p>In this document, the following terms are used. "NAT44"
      refers to any IPv4-to-IPv4 network address translation
      algorithm, both "Basic NAT" and "Network Address/Port Translator
      (NAPT)", as defined by <a class='info' href='#RFC2663'>[RFC2663]<span> (</span><span class='info'>Srisuresh, P. and M. Holdrege, &ldquo;IP Network Address Translator (NAT) Terminology and Considerations,&rdquo; August&nbsp;1999.</span><span>)</span></a>.
</p>
<p>"Dual Stack" refers to a technique for providing complete
      support for both Internet protocols -- IPv4 and IPv6 -- in hosts
      and routers <a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a>.
</p>
<p>"NAT64" refers to a Network Address Translator - Protocol
      Translator defined in <a class='info' href='#I-D.ietf-behave-v6v4-framework'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;framework]<span> (</span><span class='info'>Baker, F., Li, X., Bao, C., and K. Yin, &ldquo;Framework for IPv4/IPv6 Translation,&rdquo; August&nbsp;2010.</span><span>)</span></a>, <a class='info' href='#I-D.ietf-behave-v6v4-xlate'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate]<span> (</span><span class='info'>Li, X., Bao, C., and F. Baker, &ldquo;IP/ICMP Translation Algorithm,&rdquo; September&nbsp;2010.</span><span>)</span></a>, <a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>, <a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a>, <a class='info' href='#I-D.ietf-behave-dns64'>[I&#8209;D.ietf&#8209;behave&#8209;dns64]<span> (</span><span class='info'>Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers,&rdquo; October&nbsp;2010.</span><span>)</span></a>, and <a class='info' href='#I-D.ietf-behave-ftp64'>[I&#8209;D.ietf&#8209;behave&#8209;ftp64]<span> (</span><span class='info'>Beijnum, I., &ldquo;An FTP ALG for IPv6-to-IPv4 translation,&rdquo; September&nbsp;2010.</span><span>)</span></a>.
</p>
<a name="setup"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Network Setup</h3>

<p>We have tested IPv6-only networking in two different network
      environments: office and home. In both environments all hosts
      had normal dual stack native IPv4 and IPv6 Internet access
      already in place. The networks were also already employing IPv6
      in their servers and DNS records. Similarly, the network was a
      part of whitelisting arrangement to ensure that IPv6-capable
      content providers would be able to serve their content to the
      network over IPv6.
</p>
<p>The office environment has heterogeneous hardware with PCs,
      laptops, and routers running Linux, Mac OS X, and Microsoft
      Windows operating systems.  Common uses of the network include
      e-mail, Secure Shell (SSH), web browsing, and various instant
      messaging and Voice over IP (VoIP) applications. The hardware in
      the home environment consists of PCs, laptops and a number of
      server, camera, and sensor appliances. The primary operating
      systems in this environment are Linux and Microsoft Windows
      operating systems. Common applications include web browsing,
      streaming, instant messaging and VoIP applications, gaming, file
      storage, and various home control applications.  Both
      environments employ extensive firewalling practices, and
      filtering is applied for both IPv4 and IPv6 traffic. However,
      firewall capabilities, especially with older versions of
      firewall software, dictate some differences between the
      filtering applied for IPv4 and IPv6 since some features commonly
      supported for IPv4 were not yet implemented for IPv6. In
      addition, in the home environment the individual devices are
      directly accessible from the Internet on IPv6 (on select
      protocols such as SSH) but not on IPv4 due to lack of available
      public IPv4 addresses.
</p>
<p>In both environments, volunteers had the possibility to
      opt-in for the IPv6-only network. The number of users is small:
      there are roughly five permanent users and a dozen users who
      have been in the network at least for some amount of time. Each
      user had to connect to the IPv6-only wired or wireless network,
      and depending on their software, possibly configure their
      computer by indicating that there is no IPv4 and/or setting DNS
      server addresses. The users were also asked to report their
      experiences back to the organizers.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
The IPv6-Only Network</h3>

<p>The IPv6-only network was provided as a parallel network on
      the side of the already existing dual stack network. It was
      important to retain the dual stack network for the benefit of
      those users who did not decide to opt-in and also because we
      knew that there were some IPv4-only devices in the network. A
      separate wired access network was created using Virtual Local
      Area Networks (VLANs).  This network had its own IPv6 prefix.  A
      separate wireless network, bridged to the wired network, was
      also created. With the devices that were used in our environment
      the new wireless network required additional access point
      hardware in order to accommodate advertising multiple wireless
      networks.  The simple access point model that we employed in
      these networks did not allow this on a single device. All the
      secondary infrastructure resulted in some additional management
      burden and cost, however. An added complexity was that the home
      network already employed two types of infrastructure, one for
      family members and another one for visitors. In order to
      duplicate this model for the IPv6-only network there are now
      four separate networks, with several access points on each.
</p>
<p>A NAT64 with integrated DNS64 was installed on the edge of
      the IPv6-only networks. No IPv4 routing or Dynamic Host
      Configuration Protocol (DHCP) was offered on these networks. The
      NAT64 device sends Router Advertisements (RAs) <a class='info' href='#RFC4861'>[RFC4861]<span> (</span><span class='info'>Narten, T., Nordmark, E., Simpson, W., and H. Soliman, &ldquo;Neighbor Discovery for IP version 6 (IPv6),&rdquo; September&nbsp;2007.</span><span>)</span></a> from which the hosts learn the IPv6 prefix
      and can automatically configure IPv6 addresses for them. Each
      new IPv6-only network needed one new /64 prefix to be used in
      these advertisements. In addition, each NAT64 device needed
      another /64 prefix to be used for the representation of IPv4
      destinations in the IPv6-only network. As a result, one
      IPv6-only network requires an additional /63 of address space.
      This space was easily available in our networks, as IPv6
      allocations are on purpose made in sufficiently large blocks.
      Additional address space needs can be accommodated from the
      existing block without registry involvement. Another option
      would have been to use the Well-Known Prefix <a class='info' href='#I-D.ietf-behave-address-format'>[I&#8209;D.ietf&#8209;behave&#8209;address&#8209;format]<span> (</span><span class='info'>Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;IPv6 Addressing of IPv4/IPv6 Translators,&rdquo; August&nbsp;2010.</span><span>)</span></a> for the representation
      of IPv4 destinations in the IPv6-only network. In any case, the
      prefixes have to be listed in the intra-domain
      routing system so that they can be reached. In one case the
      increase from one block to multiple also made it necessary to
      employ an improved routing configuration. In addition to
      routing, the new prefixes have to be listed in the appropriate
      firewall rules.
</p>
<a name="dnsop"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
DNS Operation</h3>

<p>The RAs are also used to carry DNS Configuration options
      <a class='info' href='#RFC5006'>[RFC5006]<span> (</span><span class='info'>Jeong, J., Park, S., Beloeil, L., and S. Madanapalli, &ldquo;IPv6 Router Advertisement Option for DNS Configuration,&rdquo; September&nbsp;2007.</span><span>)</span></a>, listing the DNS64 as the DNS server
      the hosts should use. In addition, aliases were added to the
      DNS64 device to allow it to receive packets on the well-known
      DNS server addresses that Windows operating systems use
      (fec0:0:0:ffff::1, fec0:0:0:ffff::2, and
      fec0:0:0:ffff::3). At a later stage support for stateless
      DHCPv6 <a class='info' href='#RFC3736'>[RFC3736]<span> (</span><span class='info'>Droms, R., &ldquo;Stateless Dynamic Host Configuration Protocol (DHCP) Service for IPv6,&rdquo; April&nbsp;2004.</span><span>)</span></a> was added.
      We do recommend enabling RFC 5006, well-known
      addresses, and stateless DHCPv6 in order to maximize the likelihood of
      different types of IPv6-only hosts being able to use DNS without manual
      configuration. DNS server discovery was never a problem in dual
      stack networks, because DNS servers on the IPv4 side can easily
      provide IPv6 information (AAAA records) as well. With IPv6-only
      networking, it becomes crucial that the local DNS server can be
      reached via IPv6 as well.
</p>
<p>When a host served by the DNS64 asks for a domain name that
      does not have an AAAA (IPv6 address) record, but has an A (IPv4
      address) record, an AAAA record is synthesized from the A record
      (as defined for DNS64 in <a class='info' href='#I-D.ietf-behave-dns64'>[I&#8209;D.ietf&#8209;behave&#8209;dns64]<span> (</span><span class='info'>Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers,&rdquo; October&nbsp;2010.</span><span>)</span></a>)
      and sent in the DNS response to the host. IP packets sent to
      this synthesized address are routed via the NAT64, translated to
      IPv4 by the NAT64, and forwarded to the queried host's IPv4
      address; return traffic is translated back from IPv4 to IPv6 and
      forwarded to the host behind the NAT64 (as described in <a class='info' href='#I-D.ietf-behave-v6v4-framework'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;framework]<span> (</span><span class='info'>Baker, F., Li, X., Bao, C., and K. Yin, &ldquo;Framework for IPv4/IPv6 Translation,&rdquo; August&nbsp;2010.</span><span>)</span></a>). This allows the
      hosts in the IPv6-only network to contact any host in the IPv4
      Internet as long as the hosts in the IPv4 Internet have DNS
      address records. 
</p>
<p>The NAT64 devices have standard dual stack connectivity and
      their DNS64 function can use both IPv4 and IPv6 when requesting
      information from DNS. A destination that has both an A and AAAA
      records is not treated in any special manner, because the hosts
      in the IPv6-only network can contact the destination over IPv6.
      Destinations with only an A record will be given a synthesized
      AAAA record as explained above. However, in one of our open
      visitor networks that is sharing the infrastructure with the
      home network we needed a special arrangement.  Currently, the
      home network obtains its IPv6 connectivity through a tunnel via
      the office network, and it is undesirable to allow outsiders
      using the visitor network to generate traffic through the office
      network, even if the traffic is just passing by and forwarded to
      the IPv6 Internet. As a result, in the visitor network there is
      a special IPv6-only to IPv4-only configuration where the DNS64
      never asks for AAAA records and always generates synthesized
      records. Therefore no traffic from the visitor network, even if
      it is destined to the IPv6 Internet, is routed via the office
      network but traffic from the home network can still use the IPv6
      connectivity provided by the office network.

      </p>
<blockquote class="text">
<p>Note: This configuration may also be useful for other
      purposes. For instance, one drawback of standard behavior is
      that if a destination publishes AAAA records but has bad IPv6
      connectivity, the hosts in the IPv6-only network have no
      fallback.  In the dual stack model a host can always try IPv4 if
      the IPv6 connection fails. In the special configuration IPv6 is
      only used internally at the site but never across the Internet,
      eliminating this problem. This is not a recommended mode of
      operation, but it is interesting to note that it may solve some
      issues.
</p>
</blockquote>

<p>Note that in NAT64 (unlike in its older variant <a class='info' href='#RFC4966'>[RFC4966]<span> (</span><span class='info'>Aoun, C. and E. Davies, &ldquo;Reasons to Move the Network Address Translator - Protocol Translator (NAT-PT) to Historic Status,&rdquo; July&nbsp;2007.</span><span>)</span></a>) it is possible to decouple the packet
      translation, IPv6 routing, and DNS64 functions. Since clients
      are configured to use a DNS64 as their DNS server, there is no
      need for having an Application Layer Gateway (ALG) on the path
      sniffing and spoofing DNS packets. This decoupling possibility
      was used by one of our users, as he is outside of our physical
      network and wants to communicate directly on IPv6 where it is
      possible without having to go through our central network
      equipment. His DNS queries go to our DNS64 and to establish
      communications to an IPv4 destination our central NAT64 is
      used. If there is a need to translate some packets, these
      packets find the translator device through normal IPv6 routing
      means since the synthesized addresses have our NAT64's
      prefix. However, for non-synthesized IPv6 addresses the packets
      are routed directly to the destination. 
</p>
<a name="exp-gen"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
General Experiences</h3>

<p>Based on our experiences, it is possible to live (and work)
      with an IPv6-only network. For instance, at the time of this
      writing, one of the authors has been in an IPv6-only network for
      about six months and has had no major problems. Most things work
      well in the new environment; for example, we have been unable to
      spot any practical difference in the web browsing
      experience. Also e-mail, software upgrades, operating system
      services, many chat systems and media streaming work well. On
      certain mobile handsets that we tried all applications work
      flawlessly even on an IPv6-only network.
</p>
<p>However, there is some pain involved and thus it is not
      suitable for everyone just yet. Switching IPv4 off does break
      many things as well. Some of the users in our environment left
      due to these issues, as they missed some key feature that they
      needed from their computing environment. These issues fall in
      several categories:

      </p>
<blockquote class="text"><dl>
<dt>Bugs</dt>
<dd><br />
We saw many issues
      that can be classified as bugs, likely related to so few people
      having tried the software in question in an IPv6-only network.
      For instance, some operating system facilities support IPv6 but
      have annoying problems that are only uncovered in IPv6-only
      networking.
</dd>
<dt>Lack of IPv6 Support</dt>
<dd><br />
We
      also saw many applications that do not support IPv6 at all.
      These range from minor, old tools (such as the Unix dict(1)
      command) to major applications that are important to our users
      (such as Skype) and even to entire classes of applications (many
      games have issues).
</dd>
<dt>Protocol, Format, and Content Problems</dt>
<dd><br />
There are many protocols that carry IP addresses
      in them, and using these protocols through a translator can lead
      to problems. In our current network setup we did not employ any
      ALGs except for FTP <a class='info' href='#I-D.ietf-behave-ftp64'>[I&#8209;D.ietf&#8209;behave&#8209;ftp64]<span> (</span><span class='info'>Beijnum, I., &ldquo;An FTP ALG for IPv6-to-IPv4 translation,&rdquo; September&nbsp;2010.</span><span>)</span></a>. However, we have observed a
      number of protocol issues with IPv4 addresses. For instance,
      some instant messaging services do not work due to
      this. Finally, content on some web pages may refer to IPv4
      address literals (i.e., plain IP addresses instead of host and
      domain names). This renders some links inaccessible in an
      IPv6-only network. While this problem is easily quantifiable in
      measurements, the authors have only run into it once during
      real-life web browsing.
</dd>
<dt>Firewall Issues</dt>
<dd><br />
 We also
      saw a number of issues related to lack of features in IPv6
      support in firewalls. In particular, while we did not experience
      any Maximum Transmission Unit (MTU) and fragmentation problems
      in our networks, there is potential for generating problems, as
      the support for IPv6 fragment headers is not complete in all
      firewalls and the NAT64 specifications call for use of the
      fragment header (even in situations where fragmentation has not
      yet occurred, e.g., if an IPv4 packet that is not a fragment
      does not have the Don't Fragment (DF) bit set).
</dd>
</dl></blockquote>

<p>In general, most of the issues relate to poor testing and
      lack of IPv6 support in some applications. IPv6 itself and NAT64
      did not cause any major issues for us, once our setup and NAT64
      software was stable. In general, the authors feel that with the
      exception of some applications, our experience with translation
      to reach the IPv4 Internet has been equal to our past
      experiences with NAT44-based Internet access. While translation
      implies loss of end-to-end connectivity, in practice direct
      connectivity has not been available to the authors in the IPv4
      Internet either for a number of years.
</p>
<p>It should be noted that the experience with a properly
      configured set of ALGs and work-arounds such as proxies may be
      different. Some of the problems we encountered can be solved
      through these means. For instance, a problematic application can
      be configured to use a proxy that in turn has both IPv4 and IPv6
      access.
</p>
<a name="exp-ipv6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Experiences with IPv6-Only Networking</h3>

<p>The overall experience was as explained above. The remainder of this
      section discusses specific issues with different operating systems,
      programming languages, applications, and appliances.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Operating Systems</h3>

<p>Even operating systems have some minor problems with IPv6.
        For example, in Linux RA information was not automatically
        updated when the network changes while the computer is on and
        required an unnecessary suspend/resume cycle to restore its
        proper state. We have also had issues with the rdnssd deamon,
        which first does not come as a default feature in Ubuntu
        and does not always appear to work reliably. To resolve these
        issues we had to configure the network manager to use a specific
        server address.
</p>
<p>In Mac OS X the network manager needed to be explicitly
        told to not expect IPv4. A more annoying issue was that in
        order to switch between an IPv6-only and IPv4-only networks,
        these settings had to be manually changed, making it
        undesirable for Mac OS X users to employ IPv6-only
        networks.
</p>
<p>Also on Microsoft Windows 7 we experienced problems when
        relying on default, well-known DNS server addresses: without
        manual configuration, the host was unable to use the DNS
        addresses, even though the system displays them as current DNS
        server addresses.
</p>
<p>Latest versions of the Android operating system support
        IPv6 on its wireless LAN interface, but due to lack of DNS
        discovery mechanisms, this does not work in IPv6-only
        networks. We corrected this, however, and prototype phones in
        our networks work now well even in an IPv6-only environment.
        Interestingly, all applications that we have tried so far seem
        to work without problems with IPv6-only connectivity.
</p>
<p>While all these operating systems (or their predecessors)
        have supported IPv6 already for a number of years, these kind
        of small glitches seem to imply that they have not been
        thoroughly tested in networks lacking IPv4 connectivity. At
        the very least their usability leaves something to be
        desired.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Programming Languages and APIs</h3>

<p> For applications to be able to support IPv6, they need
        access to the necessary APIs.  Luckily, IPv6 seems to be well
        supported by majority of the commonly used APIs, but there is
        one notable exception: the Perl programming language (current
        version 5.12) does not yet have support for IPv6 sockets in
        its core libraries. While IPv6 socket support is available as
        an extension module, it may not be possible to install this
        module without administrative rights. This has also resulted
        in other networking core libraries (such as FTP and SMTP) not
        being able to fully support IPv6 and thus Perl programs using
        network functionality may not work in an IPv6-only
        environment. 
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Instant Messaging and VoIP</h3>

<p>By far the biggest complaint from our group of users was that
      Skype stopped working. In some environments even Skype can be
      made to work through a proxy configuration, and this was
      verified in our setting but not used as a permanent solution.
      More generally, we tested a number of instance messaging
      applications in an IPv6-only network with NAT64 and the test
      results can be found from Table 1.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  SYSTEM                                 STATUS

  Facebook on the web (http)               OK
  Facebook via a client (xmpp)             OK
  Jabber.org chat service (xmpp)           OK
  Gmail chat on the web (http)             OK
  Gmail chat via a client (xmpp)           OK
  Gtalk client                           NOT OK
  AIM (AOL)                              NOT OK
  ICQ (AOL)                              NOT OK
  Skype                                  NOT OK
  MSN                                    NOT OK


Table 1. Instant Messaging Applications in an IPv6-Only Network
</pre></div>
<p>Packet tracing revealed that the issues in AIM, ICQ, and MSN
      appear to be related to passing literal IPv4 addresses in the
      protocol. It remains to be determined whether this can be solved
      through configuration, proxies, or ALGs. The problem with the
      Gtalk client is that the software does not support IPv6
      connections at this moment. We are continuing our tests with
      additional applications such as Webex and Sametime, but have
      either not completed the work or have so far inconclusive
      results. One problem in running these tests is to ensure that we
      can distinguish IPv6 and NAT64 issues from other issues, such as
      a generic issue on a given operating system platform.
</p>
<p>Some of this problems are solvable, however. For instance, we
      used localhost as a proxy for Skype, and then used SSH to tunnel
      to an external web proxy, bypassing Skype's limitations with
      regards to connecting to IPv6 destinations or even IPv6
      proxies.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Gaming</h3>

<p>Another class of applications that we tried was games. We
      tried both web-based gaming and standalone gaming applications
      that have a "network" / "Internet" or "LAN" gaming modes. The
      results are shown in Table 2.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  SYSTEM                                           STATUS

  Web-based (e.g. armorgames)                        OK
  Runescape (on the web)                           NOT OK
  Flat out 2                                       NOT OK
  Battlefield                                      NOT OK
  Secondlife                                       NOT OK
  Guild Wars                                       NOT OK
  Age of Empires                                   NOT OK
  Star Wars: Empire at War                         NOT OK
  Crysis                                           NOT OK
  Lord of the Rings: Conquest                      NOT OK
  Rome Total War                                   NOT OK
  Lord of the Rings: Battle for Middle Earth 2     NOT OK

Table 2. Gaming Applications in an IPv6-Only Network
</pre></div>
<p>Most web-based games worked well, as expected from our
      earlier good general web experience. However, we were also able
      to find one web-based game that failed to work (Runescape). This
      particular game is a Java application that fails on an attempt
      to perform a HTTP GET request. The reason remains unclear, but a
      likely theory is the use of an IPv4-literal in the application
      itself.
</p>
<p>The experience with standalone games was far more
      discouraging. Without exception all games failed to enable
      either connections to ongoing games in the Internet or even
      LAN-based connections to other computers in the same IPv6-only
      LAN segment. This is somewhat surprising, and the result require
      further verification. Unfortunately, the games provide no
      diagnostics about their operation, so it is hard to guess what
      is going on. It is possible that their networking code employs
      older APIs that cannot use IPv6 addresses <a class='info' href='#RFC4038'>[RFC4038]<span> (</span><span class='info'>Shin, M-K., Hong, Y-G., Hagino, J., Savola, P., and E. Castro, &ldquo;Application Aspects of IPv6 Transition,&rdquo; March&nbsp;2005.</span><span>)</span></a>. The inability to provide any LAN-based
      connectivity is even more surprising, as this must mean that
      they are unable to use IPv4 link local connectivity, which
      should have been available to the devices (IPv4 was not
      blocked; just that no DHCP answers were provided on IPv4).
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Music Services</h3>

<p>Most of the web-based music services appear to work fine,
      presumably because they employ TCP and HTTP as a transport. One
      notable exception is Spotify, which requires communication to
      specific IPv4 addresses. A proxy configuration similar to the
      one we used for Skype makes it possible to use Spotify as
      well.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6"></a><h3>5.6.&nbsp;
Appliances</h3>

<p>There are also problems with different appliances such as
      webcams. Many of them do not support IPv6 and hence will not
      work in an IPv6-only network. Also not all firewalls support
      IPv6. Or even if they do, they may still experience issues with
      some aspects of IPv6 such as fragments. 
</p>
<p>Some of these issues are easily solved when the appliance
      works as a server, such as what most webcams and our sensor
      gateway devices do. We placed the appliance in the IPv4 part of
      the network (in this case, in private address space), added its
      name to the local DNS, and simply allowed devices from the
      IPv6-only network reach it through NAT64.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.7"></a><h3>5.7.&nbsp;
Other Differences</h3>

<p>One thing that becomes simplified in an IPv6-only network is
      source address selection <a class='info' href='#RFC3484'>[RFC3484]<span> (</span><span class='info'>Draves, R., &ldquo;Default Address Selection for Internet Protocol version 6 (IPv6),&rdquo; February&nbsp;2003.</span><span>)</span></a>. As there is
      no IPv4 connectivity, the host only needs to consider its IPv6
      source address. For global communications there is typically
      just one possible source address.
</p>
<a name="exp-nat64"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Experiences with NAT64</h3>

<p>After correcting some initial bugs and stability issues, the
      NAT64 operation itself has been relatively problem free. There
      have been no unexplained DNS problems or lost sessions. With the
      exception of the specific applications mentioned above and IPv4
      literals, the user experience has been in line with using IPv4
      Internet through a NAT44 device. These failures with the
      specific applications are clearly very different from the IPv4
      experience, however.
</p>
<p>The rest of this section discusses our measurements on
      specific issues.
</p>
<a name="litstudy"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
IPv4 Address Literals</h3>

<p>While browsing in general works, IPv4 literals embedded in
      the HTML code may break some parts of the web pages when using
      IPv6-only access. This happens because the DNS64 can not
      synthesize AAAA records for the literals since the addresses are
      not queried from the DNS. Luckily, the IPv4 literals seem to be
      fairly rarely encountered, at least so that they would be
      noticed, with regular web surfing. 
</p>
<p>We have attempted to measure the likelihood of running into
      an IPv4 literal in the web. To do this, we took the top 1,000
      and 10,000 web sites from the Alexa popular web site list. With
      1,000 top sites, 0.2% needed an IPv4 literal to render all
      components in their top page (e.g., images, videos, JavaScript,
      and Cascading Style Sheet (CSS) files). With 10,000 top sites,
      this number increases to 2%.
</p>
<p>However, it is not clear what conclusions can be made about
      this.  It is often the case that there are unresolvable or
      inaccessible components on a web page anyway for various
      reasons, and to understand the true impact we would have to know
      how "important" a given page component was. Also, we did not
      measure the number of links with IPv4 literals on these pages,
      nor did we attempt to search the site in any thorough manner for
      these literals.
</p>
<p>As noted, personal anecdotal evidence says that IPv4 literals
      are not a big problem. But clearly, cleaning the most important
      parts of the web from IPv4 literals would be useful. With tools
      such as the popular web site list, some user pressure, and
      co-operation from the content providers the most urgent part of
      the problem could hopefully be solved as a one-time effort.
      While IPv4 literals still exist in the web, using a suitable
      HTTP proxy (e.g., <a class='info' href='#I-D.wing-behave-http-ip-address-literals'>[I&#8209;D.wing&#8209;behave&#8209;http&#8209;ip&#8209;address&#8209;literals]<span> (</span><span class='info'>Wing, D., &ldquo;Coping with IP Address Literals in HTTP URIs with IPv6/IPv4 Translators,&rdquo; March&nbsp;2010.</span><span>)</span></a>) can help to
      cope with them. 
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Comparison of Web Access via NAT64 to Other Methods</h3>

<p>We also compared how well the web works behind a NAT64
      compared to IPv4-only and native IPv6 access. For this purpose,
      we used wget to go through the same top web site lists as
      described in <a class='info' href='#litstudy'>Section&nbsp;6.1<span> (</span><span class='info'>IPv4 Address Literals</span><span>)</span></a>, again downloading
      everything needed to render their front page. The tests were
      repeated and an average was calculated over all of the
      runs. Separate tests were conducted with an IPv4-only network,
      an IPv6-only network, and an IPv6-only network with NAT64.
</p>
<p>When accessed with the IPv4-only network, our tests show that
      1.9% of the sites experienced some sort of error or failure. The
      failure could be that the whole site was not accessible, or just
      that a single image (e.g., an advertisement banner) was not
      loaded properly. It should also be noted that access through
      wget is somewhat different from a regular browser: some web
      sites refuse to serve content to wget, browsers typically have
      DNS heuristics to fill in "www." in front of a domain name where
      needed, and so on. In addition to missing advertisement banners,
      temporary routing glitches and other mistakes, these differences
      also help to explain the reason for the high baseline error rate
      in this test. It should also be noted that variations in wget
      configuration options produced highly different results, but we
      believe that the options we settled on bear closest resemblance
      to real world browsing.
</p>
<p>When we tried to access the same sites with native IPv6
      (without NAT64), 96% of the sites failed to load correctly. This
      was as expected, given that most of the Internet content is not
      available on IPv6. The few exceptions included, for instance,
      sites managed by Google.
</p>
<p>When the sites were accessed from the IPv6-only network via a
      NAT64 device, the failure rate increased to 2.1%. Most of these
      failures appear to be due to IPv4 address literals, and the
      increased failure rate matches that of IPv4 literal occurrence
      in the same set of top web sites.  With the top 10,000 sites the
      failure rate with NAT64 increases similarly to our test on IPv4
      address literals.
</p>
<a name="future-work"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Future Work</h3>

<p>One important set of measurements remains for future work. It
      would be useful to understand the effect of DNS64 and NAT64 to
      response time and end-to-end communication delays.  Some users
      have anecdotal reports of slow web browsing response times, but
      we have been unable to determine if this was due to the
      IPv6-only network mechanisms or for some other reason.
      Measurements on pure DNS response times and packet round-trip
      delays does not show a significant difference to a NAT44
      environment. It would be particularly interesting to measure
      delays in the context of dual stack vs. NAT64-based IPv6-only
      networking. When using dual stack, broken IPv6 connectivity can
      be repaired by falling back to IPv4 use. With NAT64, this is not
      always possible as discussed in <a class='info' href='#dnsop'>Section&nbsp;3.2<span> (</span><span class='info'>DNS Operation</span><span>)</span></a>.
</p>
<p>Also more programs, especially VoIP and Peer-to-Peer (P2P)
      applications should be tested with NAT64. In addition, tunneling
      and mobility protocols should be tested and especially Virtual
      Private Network (VPN) protocols and applications would deserve
      more thorough investigation. 
</p>
<a name="concl"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Conclusions and Recommendations</h3>

<p>The main conclusion is that it is possible to employ
      IPv6-only networking. For large classes of applications there
      are no downsides or the downsides are negligible. We have been
      unable to spot any practical difference in the web browsing
      experience, for instance. And IPv6 usage -- be it in dual stack
      or IPv6-only form -- comes with inherent advantages, such as
      enabling direct end-to-end connectivity. In our case, we
      employed this by enabling direct connectivity to devices in a
      home network from anywhere in the (IPv6) Internet. There are,
      however, a number of issues as well, such as lack of IPv6
      support in some applications or bugs in untested parts of the
      code.
</p>
<p>Our experience with IPv6-only networking confirms that dual
      stack should still be our recommended model for general purpose
      networking at this point of time. However, IPv6-only networking
      can be employed by early adopters or highly controlled networks.
      One example of such controlled network is a mobile network with
      operator-driven selection of handsets. For instance, on some
      handsets that we tested, we were unable to see any functional
      difference between IPv4 and IPv6, today.
</p>
<p>Our recommendations apply at the present time. With effort
      and time, deployment barriers can be removed and IPv6-only
      networking becomes applicable in all networking situations.
</p>
<p>Some of the improvements are already in process in the form
      of new products and additional IPv6 support. For instance, we
      expect that the handset market will have a much higher number of
      IPv6-capable devices next year. But some of the changes do not
      come without the community spending additional effort. We have
      identified a number of actions that should be taken to improve
      the state of IPv6-only networking. These include:

      </p>
<blockquote class="text"><dl>
<dt>DNS Discovery</dt>
<dd><br />
The state of
      DNS discovery continues to be one of the main barriers for easy
      adoption of IPv6-only networking. Since DNS discovery is not a
      problem in dual stack networking, there has been too little
      effort in testing and deploying the necessary components. For
      instance, it would be useful if RA-based DNS discovery came as a
      standard feature and not as an option in Linux
      distributions. Our hope is that ongoing standardization of the
      RA-based DNS discovery at the IETF will help this
      happen. Similar issues face other operating systems. The authors
      believe that at this time, prudent operational practices call
      for maximizing the number of offered automatic configuration
      mechanisms on the network side. It might be useful for an IETF
      document to provide guidance on operating DNS in IPv6-only
      networks.
</dd>
<dt>Network Managers</dt>
<dd><br />
Other key
      software components are the various network management and
      attachment tools in operating systems. These tools generally
      have the required functionality, but do not always appear to
      have been tested very extensively on IPv6, or let alone
      IPv6-only networks. Further work is required here.
</dd>
<dt>Application Support</dt>
<dd><br />
 But
      by far the most important action, for at least our group of
      users, would be to bring some key applications (e.g., instant
      messaging and VoIP applications and also games) to a state where
      they can be easily run on IPv6-only networks and behind a
      NAT64. In some cases, it may also be necessary to add support
      for new types of ALGs.
</dd>
<dt>IPv4 Literals</dt>
<dd><br />
The web
      should be cleaned from IPv4 literals. 
</dd>
<dt>Measurements and Analysis</dt>
<dd><br />

      It is also important to continue with testing, measurements, and
      analysis of what Internet technology works in IPv6-only
      networks, to what extent, at what speed, and where the remaining
      problems are.
</dd>
<dt>Guidelines</dt>
<dd><br />
It is also
      useful to provide guidance for network administrators and users
      on how to turn on IPv6-only networking.
</dd>
</dl></blockquote>

<p>As can be seen from the above list, there are only minor
      things that can be done through standardization. Most of the
      effort is practical and centers around improving various
      implementations.
</p>
<a name="seccons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>The use of IPv6 instead of IPv4 by itself does not make a big
      security difference. The main security requirement is that,
      naturally, network security devices need to be able to deal with
      IPv6 in these networks. This is though already required in all
      dual-stack networks. As noted, it is important, e.g., to ensure
      firewall capabilities.
</p>
<p>In our experience many of the critical security functions in
      a network end up being on the dual stack part of the network
      anyway. For instance, our mail servers obviously still have to
      be able to communicate with both the IPv4 and IPv6 Internet, and
      as a result they and the associated spam & filtering components
      are not in the IPv6-only part of the network.
</p>
<a name="ianacons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>This document has no IANA implications.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2663">[RFC2663]</a></td>
<td class="author-text"><a href="mailto:srisuresh@lucent.com">Srisuresh, P.</a> and <a href="mailto:holdrege@lucent.com">M. Holdrege</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2663">IP Network Address Translator (NAT) Terminology and Considerations</a>,&rdquo; RFC&nbsp;2663, August&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2663.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3484">[RFC3484]</a></td>
<td class="author-text">Draves, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3484">Default Address Selection for Internet Protocol version 6 (IPv6)</a>,&rdquo; RFC&nbsp;3484, February&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3484.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3736">[RFC3736]</a></td>
<td class="author-text">Droms, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3736">Stateless Dynamic Host Configuration Protocol (DHCP) Service for IPv6</a>,&rdquo; RFC&nbsp;3736, April&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3736.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4213">[RFC4213]</a></td>
<td class="author-text">Nordmark, E. and R. Gilligan, &ldquo;<a href="http://tools.ietf.org/html/rfc4213">Basic Transition Mechanisms for IPv6 Hosts and Routers</a>,&rdquo; RFC&nbsp;4213, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4213.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5006">[RFC5006]</a></td>
<td class="author-text">Jeong, J., Park, S., Beloeil, L., and S. Madanapalli, &ldquo;<a href="http://tools.ietf.org/html/rfc5006">IPv6 Router Advertisement Option for DNS Configuration</a>,&rdquo; RFC&nbsp;5006, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5006.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC4038">[RFC4038]</a></td>
<td class="author-text">Shin, M-K., Hong, Y-G., Hagino, J., Savola, P., and E. Castro, &ldquo;<a href="http://tools.ietf.org/html/rfc4038">Application Aspects of IPv6 Transition</a>,&rdquo; RFC&nbsp;4038, March&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4038.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4861">[RFC4861]</a></td>
<td class="author-text">Narten, T., Nordmark, E., Simpson, W., and H. Soliman, &ldquo;<a href="http://tools.ietf.org/html/rfc4861">Neighbor Discovery for IP version 6 (IPv6)</a>,&rdquo; RFC&nbsp;4861, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4861.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4966">[RFC4966]</a></td>
<td class="author-text">Aoun, C. and E. Davies, &ldquo;<a href="http://tools.ietf.org/html/rfc4966">Reasons to Move the Network Address Translator - Protocol Translator (NAT-PT) to Historic Status</a>,&rdquo; RFC&nbsp;4966, July&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4966.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-v6v4-framework">[I-D.ietf-behave-v6v4-framework]</a></td>
<td class="author-text">Baker, F., Li, X., Bao, C., and K. Yin, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-framework-10.txt">Framework for IPv4/IPv6 Translation</a>,&rdquo; draft-ietf-behave-v6v4-framework-10 (work in progress), August&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-framework-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-address-format">[I-D.ietf-behave-address-format]</a></td>
<td class="author-text">Bao, C., Huitema, C., Bagnulo, M., Boucadair, M., and X. Li, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-address-format-10.txt">IPv6 Addressing of IPv4/IPv6 Translators</a>,&rdquo; draft-ietf-behave-address-format-10 (work in progress), August&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-address-format-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-dns64">[I-D.ietf-behave-dns64]</a></td>
<td class="author-text">Bagnulo, M., Sullivan, A., Matthews, P., and I. Beijnum, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-dns64-11.txt">DNS64: DNS extensions for Network Address Translation from IPv6 Clients to IPv4 Servers</a>,&rdquo; draft-ietf-behave-dns64-11 (work in progress), October&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-dns64-11.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-v6v4-xlate">[I-D.ietf-behave-v6v4-xlate]</a></td>
<td class="author-text">Li, X., Bao, C., and F. Baker, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-23.txt">IP/ICMP Translation Algorithm</a>,&rdquo; draft-ietf-behave-v6v4-xlate-23 (work in progress), September&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-23.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-v6v4-xlate-stateful">[I-D.ietf-behave-v6v4-xlate-stateful]</a></td>
<td class="author-text">Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-stateful-12.txt">Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers</a>,&rdquo; draft-ietf-behave-v6v4-xlate-stateful-12 (work in progress), July&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-stateful-12.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-ftp64">[I-D.ietf-behave-ftp64]</a></td>
<td class="author-text">Beijnum, I., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-ftp64-05.txt">An FTP ALG for IPv6-to-IPv4 translation</a>,&rdquo; draft-ietf-behave-ftp64-05 (work in progress), September&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-ftp64-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.wing-behave-http-ip-address-literals">[I-D.wing-behave-http-ip-address-literals]</a></td>
<td class="author-text">Wing, D., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-wing-behave-http-ip-address-literals-02.txt">Coping with IP Address Literals in HTTP URIs with IPv6/IPv4 Translators</a>,&rdquo; draft-wing-behave-http-ip-address-literals-02 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-wing-behave-http-ip-address-literals-02.txt">TXT</a>).</td></tr>
</table>

<a name="ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgments</h3>

<p>The authors would like to thank the many people who have
      engaged in discussions around this topic, and particularly the
      people who were involved in building some of the new tools used
      in our network, our users who were interested in going where
      only few had dared to venture before, or people who helped us in
      this effort. In particular, we would like to thank Martti
      Kuparinen, Tero Kauppinen, Heikki Mahkonen, Jan Melen, Fredrik
      Garneij, Christian Gotare, Teemu Rinta-Aho, Petri Jokela, Mikko
      Sarela, Olli Arkko, Lasse Arkko, and Cameron Byrne. Also Marcelo
      Braun, Iljitsch van Beijnum, and Miika Komu have provided useful
      discussion and comments on the document. 
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jari Arkko</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jorvas  02420</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jari.arkko@piuha.net">jari.arkko@piuha.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ari Keranen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jorvas  02420</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ari.keranen@ericsson.com">ari.keranen@ericsson.com</a></td></tr>
</table>
</body></html>
