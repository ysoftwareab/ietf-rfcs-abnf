

  DNA BOF                                                S. Daniel Park 
  Internet-Draft                                    SAMSUNG Electronics 
  Category: Informational                                  October 2003 
  Expires : April 2004 
                                                                        
   
                         The Latency Statements in DNA 
                   draft-park-dna-latency-statements-00.txt 
      
      
  Status of this Memo 
      
     This document is an Internet-Draft and is in full conformance with 
     all provisions of Section 10 of RFC2026 except that the right to 
     produce derivative works is not granted [RFC 2026]. 
      
     Internet-Drafts are working documents of the Internet Engineering     
     Task Force (IETF), its areas, and its working groups.  Note that     
     other groups may also distribute working documents as Internet-     
     Drafts. 
      
     Internet-Drafts are draft documents valid for a maximum of six 
     months and may be updated, replaced, or obsoleted by other 
     documents at any time.  It is inappropriate to use Internet-
     Drafts as reference material or to cite them other than as "work 
     in progress". 
      
     The list of current Internet-Drafts can be accessed at 
     http://www.ietf.org/ietf/1id-abstracts.txt  
      
     The list of Internet-Draft Shadow Directories can be accessed at 
     http://www.ietf.org/shadow.html. 
      
      
  Abstract 
   
     In DNA for movement either within a subnet or to different network, 
     various latencies are happened on network devices both host and 
     router.  This document tries to analyze what latencies are possible 
     when performing DNA operations.  This statement is targeted to 
     Detecting Network Attachment (DNA) as well as to Mobile IPv6. 
      
      
      
   


   
   
   
   
  Park                     Expires - April 2004                 [Page 1] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
   
  Table of Contents 
      
     1.  Introduction.................................................2 
     2.  Terminology..................................................3 
     3.  Latencies clarification when performing DNA..................4 
     4.  Summary......................................................7 
     5.  Future Works.................................................8 
     6.  IANA Considerations..........................................8 
     7.  Security Considerations......................................8 
     8.  References...................................................8 
     9.  Author's Address.............................................9 
     10. Acknowledgements.............................................9 
      
   
  1. Introduction 
      
     By definition of DNA charter, network attachment occurs when a link-
     layer connection is established and a node is able to send and 
     receive some IP packets within a link, particularly those used for 
     configuration purposes.  This process may occur when link-layer 
     authentication has completed, a host comes back into range of a 
     wireless cell, or a cable is plugged in.  The main purpose of DNA is 
     to reduce various latencies when attaching a new network.  From 
     reducing, mobile node can obtain IP address and required information 
     as soon as mobile node moves to a new network.  The proposed 
     document, [V6DADOPT], clarified the current DAD problems as time 
     delay, but others were out of scope at that time.  This document 
     tries to analyze what latencies are possible for mobile node to 
     attach a new network like DHCP latency, AAA latency and router 
     discovery latency, and furthermore describes some problem statement.  
     Some considerations are being simply considered and will be covered 
     with more specific considerations in near future.   
      
     The wireless lan is a good example for DNA at this stage.  Another 
     environment will be covered in near future, but they have low 
     priority just for now.  This statement is targeted to Detecting 
     Network Attachment as well as to Mobile IP. 
      
      



   
   
   
  Park                     Expires - April 2004                 [Page 2] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
  2. Terminology 
      
     The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
     "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
     document are to be interpreted as described in RFC 2119 [KEYWORDS].    
            
     o DNA       Detecting network attachment when mobile nodes move to  
                 the new networks.  
            
     o Latency   It means time delay when performing DNA on the mobile  
                 node including both layer 2 and layer 3. 
      
      
     Almost related terminologies will be covered by DNA Terminology in 
     near future. 
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      




   
   
   
  Park                     Expires - April 2004                 [Page 3] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
  3. Latencies clarification when performing DNA 
      
     The following Figure 1 describes the current wireless lan topology 
     in legacy internet.  
      
      
         [ AAA Server ]   [ DHCP Server] 
               |                 | 
               |                 | 
     ----------+---------+-------+---- 
                         | 
                         | 
                 --------------- 
                /                \ 
               |   IP Backbone   | 
                \                / 
                 -------+------- 
                        | 
                        |Carriers 
                        |---------------+ 
                     +--+--+         +--+--+ 
                     | AR1 |         | AR2 | 
                     +--+--+         +--+--+ 
                        |               | 
                        |               | 
           ---+---------+----+---   ----+----- 
              |              |          | 
              |              |          | 
              |              |          | 
           [AP 1]         [AP 2]     [AP 3] 
      
      
               Mobile Node----->  -----> 
   
   
          Figure 1. Current wireless lan Topology 
      
      
      




   
   
   
  Park                     Expires - April 2004                 [Page 4] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
     By DNA definition in charter, layer 3 handover is happened after 
     layer 2 handover is completed.  After completing layer 3 handover, 
     mobile node can communicate with internet using new allocated IP 
     address which is generally called care-of address in mobile  
     environment.  In DNA for movement within a subnet with a valid      
     address (from AP1 to AP2), there is only a reachability test to the      
     default gateway, and no DAD.  DNAv4 is very similar to DNAv6 in      
     terms of the reachability test.  Only difference is that ARP is used      
     instead of Neighbor Solicitation (NS) / Neighbor Advertisement (NA).      
     However, in DNA for movement without a subnet which will be    
     allocated different address from now (from AP2 to AP3), it takes a      
     long time to perform layer 2 and layer 3 operation.  The following 
     sentences analyze what latencies are possible for DNA both layer 2 
     and layer 3. 
      
      
        (1)802.11 Procedure : Mobile node has to search for what access 
        point is possible to connect in visited network as soon as mobile 
        node moves to a new link.  Firstly, 802.11 scan latency is 
        happened.  802.11 scanning is the period for reception of Beacons 
        plus Prob Request/Response from reachable access point in a new 
        network.  After then, 802.11 association is happened between 
        mobile node and access point.  It is one of latencies.  This 
        procedure can go from 45 ~ 450 ms  
      
        Consideration: The scan time can be reduced by layer 2 trigger      
        [L2TRIGGER]. 
      
      
      
        (2)AAA Procedure : For mobile node authentication, 802.1x 
        authentication procedure is happened between mobile node and AAA 
        (RADIUS) server which is generally stayed beyond access point 
        (access point can provide RADUIS Client, accounting and DHCP 
        Relay) and access router.  It also occur DNA latency.  Network 
        attachment may occur when link-layer authentication has completed. 
            
        Consideration: In layer 2 fast handover (such as in 802.11i PMK      
        caching) there is no EAP exchange, just the Association /      
        Reassociation exchange plus 4-way handshake. 



   
   
   
  Park                     Expires - April 2004                 [Page 5] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
      
      
      
        (3)802.11i Procedure : For enhanced security, 802.11i procedure 
        is used for mobile node and access point including nonce and key 
        generation.  802.1x 4-way handshake comes after EAP-Success 
        (802.1x procedure) and is part of WPA and 802.11i.  Though it 
        does not occur long latency, it can be one of DNA latencies.  It 
        is not present in pre-standard WEP/802.1x with periodic 
        reauthentication. 
      
      
      
        (4)DHCP Procedure : After link-layer connection is established,  
        mobile node is able to send and receive some IP packets.  This 
        procedure considers layer 3 latencies.  The mobile node has to 
        perform either DHCP operation which is generally used for DNAv4 
        or router discovery operation which is generally used for DNAv6 
        for obtaining IP address and required information from DHCP 
        server and router even if layer 2 operations are completed.  Both 
        DHCP server and router are stayed beyond access point and 
        particularly, DHCP server is far from access point which depends 
        on administrator policy.  Moreover, DAD (Duplication Address 
        Detection) occurs in DHCPv4 as well as IPv6, because the mobile 
        node needs to check that the IPv4 address handed out by DHCP 
        server is not a duplicate. IPv6 consideration will be covered 
        below sentence.  This can take up to 3 seconds.  It is a severe 
        case when performing DNA in mobile environment.  A proper support 
        for a node to send or receive packets immediately after attaching 
        to a link is undermined by the disruption imposed by the current 
        DAD. (is described in [V6DADOPT]). 
            
        Consideration: In DNA for movement within a subnet with a valid      
        address, there is only a reachability test to the default gateway      
        (AR1, when mobile node moves to AP2 from AP1), and no DAD (not 
        even optimistic DAD).  Specific consideration is described in 
        [DNAv4].  IPv6 DAD latency can be reduced by better algorithms as 
        optimized DAD.  IPv6 DAD was described in another document 
        [V6DADOPT]. 
      



   
   
   
  Park                     Expires - April 2004                 [Page 6] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
      
      
        (5)For IPv6 stateless address autoconfiguration, router discovery 
        is generally used for mobile node to obtain required information 
        from reachable router.  There are well known latencies such as 
        mobile node random delay prior to sending RS message as well as 
        router random delay prior to sending RA message, DAD latency to 
        detect address duplication, waiting time to receive RS message 
        either unsolicited or solicited with required information from 
        router.  As described in some drafts, this latencies prevent fast 
        handover when moving a new link and conclusively, mobile node can 
        not sustain current connection though.  
      
        Consideration: For fast router discovery, mobile node can send RS 
        message to router instead of waiting unsolicited RA.  These 
        latencies can be reduced by better algorithm: [FASTRA] [FRD]. 
      
      
  4. Summary 
      
     As described in this document, there are various latencies when 
     performing both DNAv4 and DNAv6 and these latencies prevent fast 
     handover in mobile environment.  Conclusively, a proper support for 
     a node to send or receive packets immediately after attaching to a 
     link is undermined by these latencies.  For developing optimization 
     to network attachment detection for time-constrained systems such as 
     mobile environment, current latencies should be optimized and 
     reduced by better algorithms which will be covered by another 
     document as solutions in DNA Working Group.  In terms of latency, 
     around 40 ms should be layer 2 scanning and 4-way handshake, 5-10 ms 
     is all that should be necessary for a reachability test and 
     configuring the (already valid) IP address (between AP1 and AP2).  
     Layer 2 triggering can be used for mobile node to reduce layer 2 
     scanning when performing DNA.  In DNA for attaching new network 
     (between AP2 and AP3), it will take a little more time to configure 
     the valid IP address.  The better algorithms (such as fast router 
     discovery, fast handover, DAD optimization in IPv6, etc.) can be 
     used for reducing latency. 
      
      



   
   
   
  Park                     Expires - April 2004                 [Page 7] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
  5. Future Works 
      
     o More latencies and considerations ? 
            
     o Other environments except wireless lan should be considered ?  
            
     o Relation with DHCPv6 operation 
      
      
  6. IANA Considerations 
      
     There are no IANA considerations in this document. 
      
      
  7. Security Considerations 
      
     This document do not occur any security considerations. 
      
      
  8. References 
      
     [RFC 2026]  Bradner, S., The Internet Standards Process - Revision      
                 3, BCP 9, RFC 2026, October 1996.  
            
     [KEYWORDS]  Bradner, S., Key words for use in RFCs to Indicate  
                 Requirement Levels, BCP 14, RFC 2119, March 1997.  
            
     [L2TRIGGER] Alper E. Yegin., Link-layer Triggers Protocol, Internet  
                 Draft, June 2002.  
      
     [V6DADOPT]  S. Park, Y, Han, IPv6 DAD Optimization Goals and  
                 Requirements, Internet Draft, October 2003. 
            
     [FASTRA]    M. Khalil, J. Kempf, B. Pentland., IPv6 Fast Router  
                 Advertisement (FastRA), Internet Draft, September 2003.  
            
     [FRD]       J. Choi, D. Shin., Fast Router Discovery with RA Caching  
                 in AP. Internet Draft, Feb 2003. 
      
     [DNAv4]     B. Aboba, Detection of Network Attachment (DNA) in IPv4,  



   
   
   
  Park                     Expires - April 2004                 [Page 8] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
                 Internet Draft, September 2003. 
      
      
  9. Author's Address 
      
     Soohong Daniel Park 
     Mobile Platform Laboratory, SAMSUNG Electronics 
     Email: soohong.park@samsung.com 
      
      
  10.  Acknowledgements 
      
     Specially thank is due to Bernard Aboba for his many useful      
     comments. 
      
      
  Full Copyright Statement 
      
     Copyright (C) The Internet Society (2003). All Rights Reserved. 
      
     This document and translations of it may be copied and furnished to 
     others, and derivative works that comment on or otherwise explain it 
     or assist in its implementation may be prepared, copied, published 
     and distributed, in whole or in part, without restriction of any 
     kind, provided that the above copyright notice and this paragraph 
     are included on all such copies and derivative works. However, this 
     document itself may not be modified in any way, such as by removing 
     the copyright notice or references to the Internet Society or other 
     Internet organizations, except as needed for the purpose of 
     developing Internet standards in which case the procedures for 
     copyrights defined in the Internet Standards process must be 
     followed, or as required to translate it into languages other than 
     English. 
      
     The limited permissions granted above are perpetual and will not be 
     revoked by the Internet Society or its successors or assignees. 
      
     This document and the information contained herein is provided on an 
     "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING 
     TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING 



   
   
   
  Park                     Expires - April 2004                 [Page 9] 
   
  Internet-Draft        Latency Statements in DNA           October 2003 
   
   
   
   
   
     BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION 
     HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
     MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
      
     Funding for the RFC editor function is currently provided by the 
     internet Society. 





































   
   
   
  Park                     Expires - April 2004                [Page 10] 

