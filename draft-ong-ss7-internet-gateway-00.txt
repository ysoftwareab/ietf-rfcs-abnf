Internet Engineering Task Force                                     
INTERNET-DRAFT                                              Authors
Transport Working Group                                   R. Dalias
Category: Informational                                 J. Matousek
April 1998                                                   L. Ong
Expires: November 1998                                 Bay Networks 

           Bay Networks SS7-Internet Gateway Architecture
               <draft-ong-ss7-internet-gateway-00.txt>


Status of this Memo

This document is an Internet-Draft.  Internet-Drafts are working 
documents of the Internet Engineering Task Force (IETF), its areas, 
and its working groups.  Note that other groups may also distribute 
working documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six 
months and may be updated, replaced, or obsoleted by other documents 
at any time.  It is inappropriate to use Internet-Drafts as 
reference material or to cite them other than as ``work in 
progress.''
 
To view the entire list of current Internet-Drafts, please check
the "1id-abstracts.txt" listing contained in the Internet-Drafts
Shadow Directories on ftp.is.co.za (Africa), ftp.nordu.net
(Northern Europe), ftp.nis.garr.it (Southern Europe), munnari.oz.au
(Pacific Rim), ftp.ietf.org (US East Coast), or ftp.isi.edu
(US West Coast).
 
Distribution of this document is unlimited.


Abstract

This memo describes the Bay Networks Gateway architecture for 
interworking of PSTN SS7 with Internet.  Signaling System 7 (SS7) 
networking is the primary means used in the PSTN for control of 
circuit-switched connections and value added PSTN services such as 
freephone (800/888) number translation, calling card validation and 
Intelligent Network services.  The Gateway architecture provides a 
scalable method of supporting interworking between SS7 network 
elements and Internet elements such as a Remote Access Server (RAS). 
The Gateway architecture can support connection control and database 
access.  Gateway design, functions and protocol are described.








Dalias, et al           Informational                   [Page 1]

INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt March 1998

Table of Contents

1. Introduction.................................................2
2. Applications.................................................3
2.1 Call Control................................................3
2.2  Data Base Applications.....................................4
2.3  VOIP (Voice over IP).......................................5
3. Gateway Architecture.........................................5
3.1  Gateway Design.............................................5
3.2  Gateway Functions..........................................6
3.3  Gateway Protocol...........................................7
3.4  Advantages.................................................8
Acronyms.......................................................11
Contact Information............................................11

1. Introduction

Signaling System 7 (SS7) is the protocol that supports signaling 
between telecom network elements, such as switches and service 
control points.  SS7 is in operation throughout the world linking 
the telecom switching infrastructure.  SS7 is used to support many 
functions, including basic call control, for which it provides 
essential functions, and call supplementary services such as number 
translation and calling card validation. 



         .............. ........................                        
         .                                     .           
         .               +------+              .
         .    SS7        |    / |              .
         .    Network    | STP  |              .
         .               | /    |              .
         .               +------+              .
         .............../........\..............                        
                       /          \                       
                      / A-link     \ A-link                     
                     /              \                     
                    /                \                       
              +------+              +------+   
              | PSTN |     TDM      | PSTN |  
          ----|Switch|--------------|Switch|----
              +------+   Circuits   +------+  


       Figure 1: SS7 Architecture for PSTN

A gateway to the SS7 network is an essential element to the 
integration of telecom networks and the Internet that will allow 


Dalias, et al           Informational                   [Page 2]

INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


users to operate in a seamless environment for voice and data 
services.  By accessing the telecom network with SS7, data network 
elements fit cleanly into the telecom network infrastructure as peer 
switches and control points and can exchange information with 
telecom network elements for cleaner routing and treatment of 
connections.

This memo describes the architecture for an SS7 to Internet gateway, 
as implemented for a Bay Networks remote access server (RAS).  The 
memo discusses the gateway design and functions, the protocol used 
between the gateway and the RAS, and the advantages of the design.  
Protocol functions include connection setup between telecom switch 
and RAS, registration and status information exchange for the RAS, 
and management functions for the channels between switch and RAS.

The initial application of SS7 interconnection is to allow Internet 
access points such as a remote access server to appear to the 
telecom network as a peer telecom switch, for purposes of 
terminating calls for Internet access.  Future applications include 
allowing exchange of information between more general nodes within 
PSTN and Internet, such as a PSTN SCP and an Internet telephony 
service, or a PSTN switch and an Internet information server, such 
as a directory.


2. Applications

2.1 Call Control

Because the SS7 signaling is done out of band on a separate network, 
the end user can obtain 64KBPS clear channel TDM circuits between 
the switch and the RAS without incurring the cost of PRI.  The SS7 
signaling (call control) is done between the STP and the RAS, which 
is now classified as a SSP. All call control messages will be sent 
over the SS7 network and the payload will be sent on the TDM 
circuits between the switch and the RAS. A simplified diagram below 
shows the relationship of the STP, PSTN Switch, and the RAS.  The 
diagram shows a dedicated "signaling Internet" used between the RAS 
and Gateway to ensure physical separation of signaling and data 
traffic, however other arrangements are possible.









Dalias, et al           Informational                   [Page 3]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt March 1998



         ........................      ......                        
         .                      .      .          
         .             +------+ .      .   
         .    SS7      |    / | .  SS7 .   +-------+    
         .    Network  | STP  |------------|Gateway|
         .            /| /    | .      .   +-------+     
         .           / +------+ .      .       |S           
         .........../.../........      .       |i           
                   /   /               .      A|g          I  
       __________ /   / A-link         .      S|n          n         
      /              /                 .      P|a          t
     /              /                  .       |ling       e
 +------+     +------+                 .     +-----+       r   
 | PSTN |     | PSTN |-----TDM---------------| RAS |-------n  
 | SCP  |     |Switch|-----------------------|     |Data   e
 +------+     +------+   Circuits      .     +-----+       t
                                       .            
                                       .      
                                                           

       Figure 2: SS7-Internet Interworking for Call Setup

2.2  Data Base Applications

SS7 has the ability for end-to-end routing of messages across the 
PSTN, using STPs for message routing, and SS7 Message Transfer Part 
(MTP), Signaling Connection Control Part (SCCP) and Transaction 
Capabilities Part (TCAP).  This supports PSTN database applications 
such as 800 or freephone number translation, calling card 
validation, and calling name identification.

It may be possible to take advantage of SS7 for data communications 
as well, as a reliable transport network for highly sensitive 
traffic, and as a supporting environment for equivalent database 
applications for data communications, such as billing applications, 
maintenance and configuration processes, etc. 

Another application of database capabilities in SS7 could be for 
trunk group selection to the RAS.  Different standards have 
developed for modem termination that require connections to be 
terminated on a RAS equipped for a specific modem standard, 
depending on the caller's modem.  Selection of the trunk group 
corresponding to a particular modem type could be enabled by 
triggering a query from the telecom switch to the Gateway (which may 
pass this on to another node) to ask for trunk group selection based 
on, e.g., called number, calling number, or some other classmark.


Dalias, et al           Informational                   [Page 4]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


2.3  VOIP (Voice over IP)

Allowing for call termination and origination through the public 
telephone networks, with direct control over message delivery, is 
expected to reduce the cost of delivering toll by-pass services.  
VOIP may require additional features in the future to make it 
comparable with standard telephony service, including features that 
are currently implemented using the SS7 network. Remote Access 
Servers containing both SS7 and VOIP functionality will provide 
Internet providers with improved ability to launch new voice 
offerings.

In the long run, Service Providers will need to integrate SS7 and IP 
control capabilities to provide transparency of service to users on 
PSTN and VOIP networks.  Projections that some significant fraction 
of voice traffic will utilize IP networks in the future suggest that 
the ability for PSTN users and VOIP users to locate and talk to each 
other and access similar services will be essential in the future.  
Transparency of routing and services will be enabled by the 
connection of PSTN SS7 signaling with directory and service 
information in IP networks to support number translation, routing 
and calling 
card services for calls transiting from PSTN to IP and vice versa.

3. Gateway Architecture

3.1  Gateway Design

The SS7-Internet Gateway needs to take into account a number of 
factors in its design:

- SS7 links are designed to carry signaling for large telecom 
switches, which handle many more terminations than a single remote 
access server.  A single 56 Kbps SS7 signaling link can support 
50,000 busy hour call attempts.

- the SS7 network addressing scheme is also designed to handle a 
limited set of signaling points.  The ITU version has an address 
field of 14 bits to identify all signaling points belonging to the 
international network, while the U.S. national version uses 24 bits 
to identify signaling points belonging to North American networks.  

- SS7 protocol layers come in a number of versions, including ITU 
and various national versions.  An SS7-Internet Gateway needs to be 
able to support these different versions.




Dalias, et al           Informational                   [Page 5]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


Taking these factors into account, the Gateway is designed to be a 
separate entity providing gateway service to a community of RAS 
devices.  This allows consistency with the scaling assumptions for 
SS7 links and addressing, and also allows the SS7 protocol handling 
function to be modularized, so that Gateways can be designed to 
support different SS7 versions without affecting the RAS.

Modularizing the Gateway also opens the arrangements for Gateways 
and RAS devices to allow multiple Gateway and RAS vendors to provide 
products that interoperate based on a common Gateway-to-RAS 
protocol.
The Gateway will need to support SNMP to support management by 
remote network management applications, and enable management 
visibility into the signaling plane performance and status. 
The Gateway can also serve as a point of security in the future, 
providing functions such as access to RADIUS servers for 
authentication, screening on calling party number, and automatic 
callback. The Gateway will provide open APIs for service development 
leveraging its basic call processing functions. The addition of 
Gateway functions will add to the ability of the service provider to 
support varieties of Service Level offerings to customers.

3.2  Gateway Functions

         ............................ 
         .                          .
         .   +-----------------+    .
         .   |mapping functions|    .
         .   +-----------------+    .
         .       |          |       .  GATEWAY
         .   +------+   +------+    .         
         .   | ISUP |   | ASP  |    .         
         .   |------|   |------|    .
         .   | MTP  |   |TCP/IP|    .      
         .   +------+   +------+    .      
         .......|...........|........ 
                |           | 
                |           | 
              SS7          Internet
                |           | 
                |           | 
             Telcom        Remote 
             Switch        Access Server 

       Figure 3: SS7-Internet Gateway Functions

The Gateway supports the following functions:


Dalias, et al           Informational                   [Page 6]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


- termination of SS7 protocols on the SS7 side, including Message 
Transfer Part (MTP), ISDN User Part (ISUP), and potentially 
Signaling Connection Control Part (SCCP) and Transaction 
Capabilities (TCAP) for database access traffic.  Telephony User 
Part (TUP) may also be supported for some networks.

This includes MTP network management functions as required for any 
SS7 signaling point.

- termination of IP and LAN protocols on the Internet side, 
including TCP, IP, Ethernet and other LAN protocols.

- for connection control, termination of the Gateway-RAS protocol, 
here called the Access Signaling Protocol (ASP).  This maps between 
SS7 ISUP messages and connection setup to the RAS.

- mapping of the Point Code and Circuit Identification Code (CIC) on 
the SS7 side to an IP address and Channel ID associated with the 
corresponding RAS device on the Internet side.  This mapping is 
created during configuration of the Gateway, and is a static 
mapping.

More generic mapping of SS7 Point Codes and Subsystem Numbers to IP 
address and application information is needed for future database 
access features.

- support for Gateway redundancy and security features, to ensure 
that the Gateway reliability and security is consistent with 
signaling requirements.

3.2.1  State Information

Some limited state information needs to be maintained at the Gateway 
to support network management features, including state information 
for the attached RAS devices and some state information pertaining 
to the circuits connecting the telecom switch and RAS.

3.3  Gateway Protocol

A new protocol, the Access Signaling Protocol (ASP) provides the 
signaling interface between the SS7 Gateway and the Remote Access 
Server (RAS).  This protocol will be defined in detail in a future 
document.  The functions of the protocol include call setup from the 
telecom switch to the RAS, registration and status management of the 
RAS-Gateway relationship, and management of the circuits.




Dalias, et al           Informational                   [Page 7]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


3.3.1  Call Setup

The protocol must support basic call setup and release and provide 
similar functions and information to the SS7 ISUP call setup and 
release messages (esp. IAM, ANM, REL and RLC).  The messages and 
parameters will be a subset of the full ISUP protocol, since ISUP 
standards take into account many situations that are not needed for 
remote access.

The Gateway provides a mapping from a specific interface and channel 
at the RAS to the equivalent Circuit Identification Code (CIC) used 
in SS7 to identify that termination at the telecom switch.

3.3.2  Registration and Status

The protocol must support management of the relationship between the 
RAS and the Gateway, providing functions such as notification when 
the RAS is ready to receive or generate traffic, and status of the 
circuits interfacing to the RAS. 

3.3.3  Management

The Gateway protocol must support circuit network management 
functions such as the ability to declare circuits out of service in 
case of failure, and the ability to block circuits.  Blocking in SS7 
terminology prevents future call attempts by one side or the other 
for the circuit, and results in graceful shutdown of the circuit to 
allow maintenance actions to take place.  During graceful shutdown 
of a T1 circuit, for example, all DS0 channels gradually revert to 
the idle state as existing calls are released.  When all channels 
are idle, the T1 can be removed from service.

3.3.4  Security

Security of control information exchanged with the SS7 network is 
important to avoid any danger of damage to the signaling and control 
information being passed between PSTN switches and databases.  
Security in this case can be enforced initially by physical separation: a 
dedicated Signaling Internet can be used between the Gateway and the 
RAS, carrying only signaling traffic.  In the future, this can be supplemented by use of authentication methods such as IPSec.

3.4  Advantages

3.4.1  Scaling

As discussed above, SS7 was designed for signaling between large 
telecom switching systems, concentrating signaling for many lines 


Dalias, et al           Informational                   [Page 8]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


onto a common signaling channel.  The Gateway design allows a single 
Gateway to support interconnection scaling up to large numbers of 
remote access server devices, as needed to support Internet access 
for that particular provider.

3.4.2  Redundancy

Due to the mission critical nature of the gateway, it must support 
some form of redundancy in all configurations. 

There are 2 options for initially for providing redundancy.  In both cases, 
established calls are unaffected by gateway failure.

Highly Available - This option will require one gateway with a hot 
standby gateway, multiple interfaces, and the appropriate software 
to control the switchover in time of failure. Calls in the process 
of being setup may be lost during service interruptions but these 
will be minimal.

Fault tolerant - This option will require a much higher level of 
sophistication. This option can be a single or multiple gateway 
configuration with the appropriate software however calls in the 
process of setup will not be lost during gateway switchover and the 
availability is much higher than option 1.

Future use of distributed gateways is for further study.

3.4.3  Flexible Deployment

Since the Gateway and RAS are connected via Internet protocols, 
there is a great deal of flexibility for locating and matching 
Gateway and RAS.  For example, the Gateway and RAS could be co-
located close to the telecom switch, acting as a single logical peer 
switch.

















Dalias, et al           Informational                   [Page 9]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


         ............................      ......                        
         .                          .      .          
         .               +------+   .      .   
         .    SS7        |    / |   .      .
         .    Network    | STP  |   .      .
         .             __| /    |____________
         .           /   +------+   .      .  \
         .........../.../............      .   \              
                   /   /                   .  +---------+             
       __________ /   / A-link             .  | Gateway |
      /              /                     .  +---------+        
     /              /                      .     |      \            
+------+      +------+                     .     |    +-----+   
| PSTN |      | PSTN |-----TDM---------------- +-----+| RAS |  
| SCP  |      |Switch|-------------------------| RAS |+-----+
+------+      +------+   Circuits          .   +-----+  


       Figure 4: Gateway/RAS as Peer Switch


Alternatively, the Gateway could provide a central interface point 
for many RAS devices scattered in multiple locations, acting more 
like a gateway Signal Transfer Point (STP) in SS7.

         ............................      ......                        
         .                          .      .          
         .               +------+   .      .   
         .    SS7        |    / |   .      .   +---------+
         .    Network    | STP  |--------------| Gateway |
         .             __| /    |   .      .   +---------+
         .           /   +------+   .      .         |
         .........../.../............      .         |    Signaling
                   /   /                   .  ISP    |    Internet             
                  /   / A-link             .    _____|_______|___                    
                 /   /                     .     |       |        
                /   /                      .     |ASP    |ASP
               / +------+                  .     |       |
              /  | PSTN |     TDM          .  +-----+    |  
             /   |Switch|---------------------| RAS |    |
            /    +------+   Circuits       .  +-----+    | 
        +------+                           .             |       
        | PSTN |     TDM                   .          +-----+      
        |Switch|--------------------------------------| RAS |    
        +------+   Circuits                .          +-----+     


       Figure 5: Gateway Serving Multiple Switches/RAS

Dalias, et al           Informational                  [Page 10]


INTERNET-DRAFT   draft-ong-ss7-internet-gateway-00.txt  March 1998


Acronyms

SS7 - Signaling System 7
RAS - Remote Access Server
SCP - Service Control Point
ASP - Access Signaling Protocol
STP - Signal Transfer Point
TDM - Time Division Multiplexed
ISP - Internet Service Provider
PSTN - Public Switched Telecom Network
CIC - Circuit Identification Code
IAM - Initial Address Message
ANM - Answer Message
REL - Release Message
RLC - Release Complete Message


Contact Addresses

Robert Dalias         Jiri Matousek        Lyndon Ong
Bay Networks, Inc.    Bay Networks, Inc.   Bay Networks, Inc.
5 Federal Street      5 Federal Street     4401 Gt America Pkwy
Billerica, MA 01821   Billerica, MA 01821  Santa Clara, CA 95052

rdalias@baynetworks   jiri@baynetworks.com long@baynetworks.com
.com












INTERNET DRAFT          EXPIRES NOVEMBER 1998












Dalias, et al           Informational                  [Page 11]
