





Network Working Group                                          I. Faynberg
Internet Draft                                         Lucent Technologies
<draft-ietf-spirits-sip-evt-package-01.txt>                        J. Gato
Expires June 2002                                             Airtel Movil
                                                                V. Gurbani
                                                                     H. Lu
                                                       Lucent Technologies


Toward the Definition of the SIP Events Package for SPIRITS Protocol

Status of this Memo

   This document is an Internet-Draft and is in full conformance with all
   provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering Task
   Force (IETF), its areas, and its working groups. Note that other groups
   may also distribute working documents as Internet-Drafts.
   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference material
   or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

1. Abstract

   This document makes the first step toward the definition of the SIP Event
   Package for SPIRITS, based on on the structure defined in [1], the
   SPIRITS protocol requirements documented in [2], and the overall SPIRITS
   Architecture presented in RFC 3136 [3]. To this end, the document defines
   the package and event names, and addresses the SUBSCRIBE paramaters.

   This document is not intended as a stand-alone one; instead, it is
   expected to be a module of the future SPIRITS protocol RFC when merged
   with the work developed in [4] and other protocol-specific contributions.
   For this reason, this document is not self-sufficient; the information in
   references [2] and [3] is essential in understanding this Internet-Draft.

2. Conventions used in this document




Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 2]


   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119.

3. Introduction

   This document makes the first step toward the definition of the SIP Event
   Package for SPIRITS, based on on the structure defined in [1], the
   SPIRITS protocol requirements documented in [2], and the overall SPIRITS
   Architecture presented in RFC 3136 [3]. To this end, the document defines
   the package and event names, and addresses the SUBSCRIBE paramaters.

   This document is not intended as a stand-alone one; instead, it is
   expected to be a module of the future SPIRITS protocol RFC when merged
   merged with the work developed in [4] and other protocol-specific
   contributions. For this reason, this document is not self-sufficient; the
   information in references [2] and [3] is essential in understanding this
   Internet-Draft.

   The rest of this document is organized as follows: section 4 defines the
   package; section 5 provides a table for IANA registration; section 6
   specifies the "mode" parameter associated with the Intelligent Network
   DP-related events in SUBSCRIBE; and sections 7, 8, and 9 respectively
   contain, acknowledgements, references, and
   authors' addresses.

4. Definition of the Packages' and Subpackages' Names

   As summarized in the next section, the SPIRITS events package, named
   "spirits," has two subpackages: one, named "INDPs,"  for the events that
   correspond to IN Detection points, and the other, named "user-prof", for
   the events related to the user profile information.

   These packages will be used when a SUBSCRIBE request is issued.  There are 2
   ways to codify this events corresponding to IN detection points in a
   SUBSCRIBE request, as discussed in the next two sections.

4.1 Sub-package the INDPs

   Further sub-package the INDPs, such that each DP corresponds to a unique
   package name, which has to be registered with IANA.  According to [2], INDPs
   consists of the following subpackages (their names are specified as standard
   acronyms and then expanded (in parenthesis) as a comment:

       "OAA" (origination_attempt_authorized)
       "AI"  (Analyzed Info)



Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 3]


       "CI"  (Collected_Info)
       "OA"  (O_Answer)
       "OTS" (O_Term_Seized)
       "TAns"(T_Answer)
       "ONA" (O_No_Answer)
       "RSF" (Route_Select_Failure)
       "TNA" (T_No_Answer)
       "OCB" (O_Called_Party_Busy)
       "OMC" (O_Mid_Call)
       "TMC" (T_Mid_Call)
       "OA"  (O_Abandon)
       "OD"  (O_Disconnect)
       "Tab" (T_Abandon)
       "TD"  (T_Disconnect)
       "TAA" (Termination_Attempt_Authorized)
       "FSA" (Facility_Selected_and_Available)
       "TB"  (T_Busy)

   Similarly, the "user-prof" sub-package is further decomposed into the
   following [2]:

      "LUS"   (Location Update in the same VLR service area)
      "LUA"   (Location Update in another VLR service area)
      "IA"    (IMSI Attach)
      "MSID"  (MS-initated IMSI Detach)
      "NID"   (Network-initiated IMSI Detach)

   Figure 1 summarizes the package naming as a tree.





















Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 4]



                                          spirits
                                            /(
                                           /  (
                                          /    (
                                     INDPs   user-prof
                                       /          (
                                      /            (
                                     /              (
                        +-----------------+     +--------------+
                        | OAA, AI, CI, OA,|     | LUS, LUA, IA |
                        | TAns, ONA, RSF, |     | MSID, NID    |
                        | TNA, OCB, OMC,  |     +--------------+
                        | TMC, OA, OD,    |
                        | Tab, TD, TAA,   |
                        | FSA, TB, OTS    |
                        +-----------------+

                                   Figure 1: The Tree for SPIRITS Subpackages


   When a SUBSCRIBE request is issued for the Collected_Info package, it
   may look like the following (irrelevant fields omitted for brevity):

      SUBSCRIBE sip:gateway.provider.com SIP/2.0
      Event: spirits.INDPs.CI
      ...

4.2 XML-encoded

   Another way to encode the DP information is to carry the specific DP
   info- rmation in the body of the SUBSCRIBE; i.e.:

      SUBSCRIBE sip:gateway.provide.com SIP/2.0
      Events: spirits.INDPs
      Content-Type: application/spirits-events
      Content-Length: 27

      <spirit-event>
         <DP=CI/>
      </spirit-event>
      ...

   Under this scheme, the set of DP names (OAA, CI, OA, etc) is
   specified in the XML DTD so that no deviation from these is possible.
   Effectively, this is same as registering each individual DP name with



Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 5]


   IANA; however, it has the advantage that just as in [4], XML is used
   to carry information. Furthermore, since the NOTIFY carries the
   information subscribed to by the SUBSCRIBE request, it seems
   appropriate to use XML for carrying that info- rmation. If this is
   the desired route, then an XML schema and DTD will need to be
   established to describe the body for both the SUBSCRIBE and NOTIFY
   requests.

5. IANA Registration Information

   The package names are further summarized in Table 1 for IANA
   registration, in the format suggested in [1].





































Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 6]




           Package Name      Type         Contact      Reference
           ------------      ----         -------      ---------
           spirits           package      [Lu]         [SPIRITS Protocol]
           INDPs             sub-package  [Lu]         [SPIRITS Protocol]
           OAA               sub-package  [Lu]         [SPIRITS Protocol]
           CI                sub-package  [Lu]         [SPIRITS Protocol]
           OA                sub-package  [Lu]         [SPIRITS Protocol]
           OTS               sub-package  [Lu]         [SPIRITS Protocol]
           TAns              sub-package  [Lu]         [SPIRITS Protocol]
           ONA               sub-package  [Lu]         [SPIRITS Protocol]
           RSF               sub-package  [Lu]         [SPIRITS Protocol]
           TNA               sub-package  [Lu]         [SPIRITS Protocol]
           OCB               sub-package  [Lu]         [SPIRITS Protocol]
           OMC               sub-package  [Lu]         [SPIRITS Protocol]
           TMC               sub-package  [Lu]         [SPIRITS Protocol]
           OA                sub-package  [Lu]         [SPIRITS Protocol]
           OD                sub-package  [Lu]         [SPIRITS Protocol]
           Tab               sub-package  [Lu]         [SPIRITS Protocol]
           TD                sub-package  [Lu]         [SPIRITS Protocol]
           TAA               sub-package  [Lu]         [SPIRITS Protocol]
           FSA               sub-package  [Lu]         [SPIRITS Protocol]
           TB                sub-package  [Lu]         [SPIRITS Protocol]
           user-prof         sub-package  [Gato]       [SPIRITS Protocol]
           LUS               sub-package  [Gato]       [SPIRITS Protocol]
           LUA               sub-package  [Gato]       [SPIRITS Protocol]
           IA                sub-package  [Gato]       [SPIRITS Protocol]
           MSID              sub-package  [Gato]       [SPIRITS Protocol]
           NID               sub-package  [Gato]       [SPIRITS Protocol]

           PEOPLE
           ------

           [Lu]   Hui-Lan Lu <hui-lan.lu@bell-labs.com>
           [Gato] Jorge Gato <jgato@airtel.es>

           REFERENCES
           ----------

           [SPIRITS Protocol]  *TBD*


                             Table 1: Package Names for IANA Consideration





Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 7]


6. The "mode" Parameter Within the "INDPS" Package

   Although this document does not address all package attributes, it
   captures one associated with SUBSCRIBE request. Because of the
   requirement ([2]) that IN be informed whether the detection point is
   set as the request or notification, all events in the "INDPs"
   subpackage (but not in the user-prof subpackage) require the "mode"
   parameter, whose values are "R" (for report) and "N" for
   notification.

   Again, we need to specify how the "mode" information is captured in
   the SUBSCRIBE request.  There are two ways: define a new SIP header,
   or indicate it in the body.  Of these, the latter is more preferable.


7. Acknowledgements

   The authors are grateful to Wayne Zeuch for providing us with the
   break-out of DPs among the IN Capability sets.

8. References

   [1] A. Roach, Event Notification in SIP, <draft-ietf-sip-events-
   00.txt>, Work in Progress. July 2001.

   [2] Faynberg, I. (Ed.), J. Gato, H. Lu, and L. Slutsman <draft-ietf-
   spirits-reqs-02.txt>, Work in Progress. October 2001.

   [3] Slutsman, L (Ed.) et al, The Spirits Architecture. RFC 3136
    Informational). June 2001.

   [4] Brusilovsky, A. et al., On selection of IN parameters to be
   carried by the SPIRITS Protocol. draft-ietf-spirits-in-01.txt. Work
   in Progress. September 2001.

10. Authors' Addresses

   Igor Faynberg
   Bell Labs/Lucent Technologies
   Room 4D-601A, 101 Crawfords Corner Road
   Holmdel, New Jersey, 07733
   Phone: (732) 949-0137
   Email: faynberg@lucent.com

   Jorge Gato Airtel
   Movil, S.A.



Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 8]


   Avda de Europa, 1.
   28108 Alcobendas (Madrid).
   Spain
   Tel: +34 607 13 31 10 Fax. +34 607 13 30 57
   Email: jgato@airtel.es

   Vijay Gurbani
   2000 Naperville Rd., Room 6G-440
   Naperville, IL  60566-7033  USA
   Phone: +1 630 224 0216
   Email: vkg@lucent.com

   Hui-Lan Lu
   Bell Labs/Lucent Technologies
   Room 4C-607A, 101 Crawfords Corner Road
   Holmdel, New Jersey, 07733
   Phone: (732) 949-0321
   Email: huilanlu@lucent.com

   Full Copyright Statement

   "Copyright (C) The Internet Society (date). All Rights Reserved. This
   document and translations of it may be copied and furnished to others,
   and derivative works that comment on or otherwise explain it or assist
   in its implementation may be prepared, copied, published and
   distributed, in whole or in part, without restriction of any kind,
   provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing the
   copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of developing
   Internet standards in which case the procedures for copyrights defined
   in the Internet Standards process must be followed, or as required to
   translate it into followed, or as required to translate it into
   languages other than English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.




Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001





<draft-ietf-spirits-sip-evt-01.txt>                             [Page 9]



















































Toward SPIRITS SIP Events Package-Faynberg-Gato-Gurbani-Lu November 2001


