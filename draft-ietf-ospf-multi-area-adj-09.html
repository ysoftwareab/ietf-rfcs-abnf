<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>OSPF Multi-Area Adjacency</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="OSPF Multi-Area Adjacency">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">S. Mirtorabi</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Nuova Systems</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">P. Psenak</td></tr>
<tr><td class="header">Expires: October 25, 2008</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">A. Lindem (Editor)</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">A. Oswal</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Redback Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">April 23, 2008</td></tr>
</table></td></tr></table>
<h1><br />OSPF Multi-Area Adjacency<br />draft-ietf-ospf-multi-area-adj-09.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on October 25, 2008.</p>

<h3>Abstract</h3>

<p>This document describes an extension to the Open Shortest Path First (OSPF) 
     protocol to allow a single physical link to be shared by
     multiple areas.  This is necessary to allow the link to be considered an intra-area
     link in multiple areas. This would create an intra-area path in each of the
     corresponding areas sharing the same link.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Requirements notation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Motivation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">1.3.</a>&nbsp;
Possible Solutions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">1.4.</a>&nbsp;
Proposed Solution<br />
<a href="#anchor6">2.</a>&nbsp;
Functional Specifications<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">2.1.</a>&nbsp;
Multi-Area Adjacency Configuration and Neighbor Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">2.2.</a>&nbsp;
Multi-Area Adjacency Packet Transmission<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">2.3.</a>&nbsp;
Multi-Area Adjacency Control Packet Reception Changes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">2.4.</a>&nbsp;
Interface Data Structure<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">2.5.</a>&nbsp;
Interface FSM<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">2.6.</a>&nbsp;
Neighbor Data Structure and Neighbor FSM<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#MA-LSA">2.7.</a>&nbsp;
Advertising Multi-Area Adjacencies<br />
<a href="#anchor13">3.</a>&nbsp;
Compatibility<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">3.1.</a>&nbsp;
Adjacency Endpoint Compatibility<br />
<a href="#anchor15">4.</a>&nbsp;
OSPFv3 Applicability<br />
<a href="#anchor16">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor17">6.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#anchor20">Appendix&nbsp;A.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
      "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
       and "OPTIONAL" in this document are to be interpreted as
       described in RFC2119 <a class='info' href='#RFC-KEYWORDS'>[RFC&#8209;KEYWORDS]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFC's to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Motivation</h3>

<p>It is often a requirement to have an Open Shortest Path First (OSPF)
     <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a> link in multiple areas. This will allow the link
     to be considered as an intra-area path in each area and be preferred
     over higher cost links. A simple example is to use a high-speed backbone link
     between two Area Border Routers (ABRs) to create multi-area adjacencies
     belonging to different areas.
</p>
<p>Consider the following topology:
   <br /><hr class="insert" />
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                       R1-------Backbone------R2
                        |                      |
                      Area 1                 Area 1
                        |                      |
                       R3--------Area 1--------R4

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Multi-Link Topology&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

</p>
<p>The backbone link between R1 and R2 is a high-speed link and it is 
      desirable to forward Area 1's traffic between R1 and R2 over that link.
      In the current OSPF specification, intra-area paths are preferred 
      over inter-area paths.  As a result, R1 will always route traffic 
      to R4 through Area 1 over the lower speed links.  R1 will even use the 
      intra-area Area 1 path though R3 to get to area 1 networks 
      connected to R2.  An OSPF virtual link cannot be used to solve this problem
      without moving the link between R1 and R2 to area 1.  This is not desirable 
      if the physical link is, in fact, part of the network's backbone topology.
</p>
<p>The protocol extension described herein will rectify this problem by allowing
      the link between R1 and R2 to be part of both the backbone and Area 1.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Possible Solutions</h3>

<p>For numbered interfaces, the OSPF (Open Shortest Path First)
      specification <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a> allows a 
      separate OSPF interface to be configured in each area using a 
      secondary address. The disadvantages of this approach are that 
      it requires additional IP address configuration, doesn't apply to
      unnumbered interfaces, and advertising secondary addresses will
      result in a larger overall routing table.
</p>
<p>Allowing a link with a single address to simply be configured in 
      multiple areas would also solve the problem. However, this would 
      result in the subnet corresponding to the interface residing in 
      multiple areas that is contrary to the definition of an OSPF 
      area as a collection of subnets.
</p>
<p>Another approach is to simply allow unnumbered links to be 
       configured in multiple areas. Section 8.2. of the OSPF 
       specification already specifies that the OSPF area ID should
       be used to de-multiplex received OSPF packets. One limitation
       of this approach is that multi-access networks are not supported.
       Although this limitation may be overcome for LAN media with 
       support of "Point-to-Point operation over LAN in link-state 
       routing protocols" <a class='info' href='#P2PLAN'>[P2PLAN]<span> (</span><span class='info'>Shen, N. and A. Zinin, &ldquo;Point-to-point operation over LAN in link-state routing protocols,&rdquo; .</span><span>)</span></a>, it may not be acceptable to 
       configure the link as unnumbered due to network management policies. 
       Many popular network management applications individually test the
       path to each interface and an IP address facilitates this task.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.4"></a><h3>1.4.&nbsp;
Proposed Solution</h3>

<p>ABRs will simply establish multiple adjacencies belonging to different 
       areas. Each multi-area adjacency is announced as a point-to-point 
       link in the configured area. However, unlike numbered point-to-point links, 
       no type 3 link is advertised for multi-area adjacencies. This 
       point-to-point link will provide a topological path for that area.
       The first or primary 
       adjacency using the link will operate and advertise the link 
       in a manner consistent with RFC 2328 <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a>.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Functional Specifications</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Multi-Area Adjacency Configuration and Neighbor Discovery</h3>

<p>Multi-area adjacencies are configured between two routers having a
      common interface. On point-to-point interfaces, there is no
      need to configure the neighbor's address since there can be only
      one neighbor. For all other network types, the neighbor address of each
      multi-area adjacency must be configured or automatically discovered
      via a mechanism external to OSPF.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Multi-Area Adjacency Packet Transmission</h3>

<p>On point-to-point interfaces, OSPF control packets are
     sent to the AllSPFRouters address.  For all other network types,
     OSPF control packets are unicast to the remote neighbor's IP address.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Multi-Area Adjacency Control Packet Reception Changes</h3>

<p>Receiving protocol packets is described in section 8.2 of <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a>.
      The text starting with the second paragraph and continuing through the third
      bullet beneath that paragraph is changed as follows:
</p>
<p>Next, the OSPF packet header is verified. The fields specified in
      the header must match those configured for the receiving interface.
      If they do not, the packet should be discarded:
      </p>
<ul class="text">
<li>The version number field must specify protocol version 2.
</li>
<li>The Area ID found in the OSPF header must be verified. If all of
         the following cases fail, the packet should be discarded.
         The Area ID specified in the header must either:
         
<ol class="text">
<li>Match the Area ID of the receiving interface. In this case,
              the packet has been sent over a single hop. Therefore,
              the packet's IP source address is required to be on the
              same network as the receiving interface. This can be verified
              by comparing the packet's IP source address to the interface's
              IP address, after masking both addresses with the interface
	      mask. This comparison should not be performed on
	      point-to-point networks. On point-to-point networks, the
	      interface addresses of each end of the link are assigned
	      independently, if they are assigned at all.
</li>
<li>Indicate a non-backbone area. In this case, the packet has
             been sent over a multi-area adjacency. If the area-id matches
             the configured area for multi-area adjacency, the packet is 
             accepted and is from now on associated with the multi-area
            adjacency for that area.
</li>
<li>Indicate the backbone. In this case, the packet has been sent
            over a virtual link or a multi-area adjacency.
</li>
</ol>
        
</li>
<li>For virtual links, the receiving router must be an area border router, 
           and the Router ID specified in the packet (the source router) must be
           the other end of a configured virtual link. The receiving
           interface must also attach to the virtual link's configured 
 	   transit area. If all of these checks succeed, the packet is
           accepted and is from now on associated with the virtual link.
</li>
<li>For multi-area adjacencies, if the area-id matches the configured 
            area for the multi-area adjacency, the packet is accepted and is 
            from now on associated with the multi-area adjacency for that area.
</li>
<li>Note that if there is a match for both a virtual link and a multi-area
             adjacency then this is a configuration error that should be handled 
             at the configuration level.
</li>
<li>Packets whose IP destination is AllDRouters should only be
       accepted if the state of the receiving interface is DR or
       Backup (see Section 9.1 <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a>).
</li>
<li>[...] The remainder of section 8.2 <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a> is unchanged.
</li>
</ul><p>
   
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.4"></a><h3>2.4.&nbsp;
Interface Data Structure</h3>

<p>An OSPF interface data structure is built for each configured
      multi-area adjacency as specified in section 9 of <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a>.  The 
      interface type will always be point-to-point.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.5"></a><h3>2.5.&nbsp;
Interface FSM</h3>

<p>The interface FSM will be the same as a point-to-point link
      irrespective of the underlying physical link.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.6"></a><h3>2.6.&nbsp;
Neighbor Data Structure and Neighbor FSM</h3>

<p>Both the neighbor data structure and neighbor FSM are the same as 
      for standard OSPF, specified in section 10 of <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a>.
</p>
<a name="MA-LSA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.7"></a><h3>2.7.&nbsp;
Advertising Multi-Area Adjacencies</h3>

<p>Multi-area adjacencies are announced as point-to-point 
      links. Once the router's multi-area adjacency reaches the FULL state 
      it will be added as a link type 1 to the Router Link State Advertisement
      (LSA) with:
      </p>
<blockquote class="text"><dl>
<dt></dt>
<dd>Link ID   = Remote's Router ID
</dd>
<dt></dt>
<dd>Link Data = Neighbor's IP Address or IfIndex (if the underlying interface
         is unnumbered).
</dd>
</dl></blockquote>

<p>Unlike numbered point-to-point links, 
         no type 3 link is advertised for multi-area adjacencies.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Compatibility</h3>

<p>All mechanisms described in this document are backward compatible
       with standard OSPF implementations <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a>.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Adjacency Endpoint Compatibility</h3>

<p>Since multi-area adjacencies are modeled as unnumbered 
    point-to-point links, it is only necessary for the router at the 
    other end of the adjacency to model the adjacency as a point-to-point 
    link. However, the network topology will be easier to represent
    and troubleshoot if both neighbors are symmetrically configured as
    multi-area adjacencies.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
OSPFv3 Applicability</h3>

<p>The mechanisms defined in this document also apply to OSPFv3 <a class='info' href='#OSPFV3'>[OSPFV3]<span> (</span><span class='info'>Coltun, R., Ferguson, D., and J. Moy, &ldquo;OSPF for IPv6,&rdquo; December&nbsp;1999.</span><span>)</span></a>.
      As in OSPF, a multi-area adjacency is advertised as an
      unnumbered point-to-point link in the advertising router's router-LSA.
      Since OSPFv3 router-LSA links are independent of addressing semantics and
      unambiguously identify OSPFv3 neighbors (refer 
      section 3.4.3.1 <a class='info' href='#OSPFV3'>[OSPFV3]<span> (</span><span class='info'>Coltun, R., Ferguson, D., and J. Moy, &ldquo;OSPF for IPv6,&rdquo; December&nbsp;1999.</span><span>)</span></a>), the change to router-LSA links
      described in <a class='info' href='#MA-LSA'>Section&nbsp;2.7<span> (</span><span class='info'>Advertising Multi-Area Adjacencies</span><span>)</span></a> is not applicable to OSPFv3. 
      Furthermore, no prefixes corresponding to the multi-area adjacency 
      are advertised in the router's intra-area-prefix-LSA.
</p>
<p>A link-LSA SHOULD NOT be advertised for a multi-area adjacency. The neighbor's
      IPv6 link local address can be learned in other ways, e.g., it can be extracted
      from the IPv6 header of Hello packets received over the
      multi-area adjacency. The neighbor IPv6 link local address is required for
      the OSPFv3 route next-hop calculation on multi-access networks (refer section
      3.8.1.1 <a class='info' href='#OSPFV3'>[OSPFV3]<span> (</span><span class='info'>Coltun, R., Ferguson, D., and J. Moy, &ldquo;OSPF for IPv6,&rdquo; December&nbsp;1999.</span><span>)</span></a>).
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>This document does not raise any security issues that are not 
      already covered in <a class='info' href='#OSPF'>[OSPF]<span> (</span><span class='info'>Moy, J., &ldquo;OSPF Version 2,&rdquo; April&nbsp;1998.</span><span>)</span></a> or <a class='info' href='#OSPFV3'>[OSPFV3]<span> (</span><span class='info'>Coltun, R., Ferguson, D., and J. Moy, &ldquo;OSPF for IPv6,&rdquo; December&nbsp;1999.</span><span>)</span></a>.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>This document does not require any IANA assignments or action.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="OSPF">[OSPF]</a></td>
<td class="author-text">Moy, J., &ldquo;<a href="http://tools.ietf.org/html/rfc2328">OSPF Version 2</a>,&rdquo; RFC&nbsp;2328, April&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="OSPFV3">[OSPFV3]</a></td>
<td class="author-text">Coltun, R., Ferguson, D., and J. Moy, &ldquo;<a href="http://tools.ietf.org/html/rfc2740">OSPF for IPv6</a>,&rdquo; RFC&nbsp;2740, December&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC-KEYWORDS">[RFC-KEYWORDS]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFC's to Indicate Requirement Levels</a>,&rdquo; RFC&nbsp;2119, March&nbsp;1997.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="P2PLAN">[P2PLAN]</a></td>
<td class="author-text">Shen, N. and A. Zinin, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-isis-igp-p2p-over-lan-06.txt.txt">Point-to-point operation over LAN in link-state routing protocols</a>,&rdquo; draft-ietf-isis-igp-p2p-over-lan-06.txt (work in progress).</td></tr>
</table>

<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgments</h3>

<p>The authors wish to acknowledge Pat Murphy for bringing focus
     to the requirement.
</p>
<p>Thanks to Mitchell Erblich's for his last call review and comments.
</p>
<p>Thanks to Padma Pillay-Esnault for her last call review and comments.
     Also thanks to Padma for comments on the OSPFv3 applicability section that was
     last called separately.
</p>
<p>Thanks to Nischal Seth for pointing out that the document inadvertently 
     precluded point-to-point over LAN interfaces.
</p>
<p>Thanks to Ben Campbell for performing the General Area Review.
</p>
<p>Thanks to Jari Arkko for comments during the IESG review.
</p>
<p>The RFC text was produced using Marshall Rose's xml2rfc tool.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sina Mirtorabi</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nuova Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3 West Plumeria Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:sina@nuovasystems.com">sina@nuovasystems.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Peter Psenak</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Apollo Business Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mlynaki nivy 43</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">821 09 Bratislava, Sovakia</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Slovakia</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ppsenak@cisco.com">ppsenak@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Acee Lindem</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redback Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">102 Carric Bend Court</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cary, NC  27519</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:acee@redback.com">acee@redback.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Anand Oswal</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redback Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">300 Holger Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:aoswal@redback.com">aoswal@redback.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
