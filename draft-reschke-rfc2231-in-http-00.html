<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Applicability of RFC 2231
  Encoding to Hypertext Transfer Protocol (HTTP) Headers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Applicability of RFC 2231
  Encoding to Hypertext Transfer Protocol (HTTP) Headers">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Reschke</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">greenbytes</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">August 15, 2008</td></tr>
<tr><td class="header">Expires: February 16, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Applicability of RFC 2231
  Encoding to Hypertext Transfer Protocol (HTTP) Headers<br />draft-reschke-rfc2231-in-http-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on February 16, 2009.</p>

<h3>Abstract</h3>

<p>
      By default, message header parameters in Hypertext Transfer Protocol (HTTP) messages
      can not carry characters outside the ISO-8859-1 character set. RFC 2231
      defines an escaping mechanism for use in Multipurpose Internet Mail Extensions
      (MIME) headers. This document specifies a profile of that encoding
      suitable for use in HTTP.
    
</p>
<h3>Editorial Note (To be removed by RFC Editor before publication)</h3>

<p>
      There are multiple HTTP headers that already use RFC 2231 encoding
      in practice (Content-Disposition) or might use it in the future
      (Link). The purpose of this document is to provide a single place where
      the generic aspects of RFC 2231 encoding in HTTP headers are defined.
    
</p>
<p>
      Distribution of this document is unlimited. Although this is not a work
      item of the HTTPbis Working Group, comments should be sent to the 
      Hypertext Transfer Protocol (HTTP) mailing list at <a href='mailto:ietf-http-wg@w3.org'>ietf-http-wg@w3.org</a>,
      which may be joined by sending a message with subject 
      "subscribe" to <a href='mailto:ietf-http-wg-request@w3.org?subject=subscribe'>ietf-http-wg-request@w3.org</a>.
    
</p>
<p>
      Discussions of the HTTPbis Working Group are archived at
      <a href='http://lists.w3.org/Archives/Public/ietf-http-wg/'>http://lists.w3.org/Archives/Public/ietf-http-wg/</a>.               
    
</p>
<p>
      XML versions, latest edits and the issues list for this document
      are available from <a href='http://greenbytes.de/tech/webdav/#draft-reschke-rfc2231-in-http'>http://greenbytes.de/tech/webdav/#draft-reschke-rfc2231-in-http</a>.
    
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Notational Conventions<br />
<a href="#anchor2">3.</a>&nbsp;
A Profile of RFC 2231 for Use in HTTP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#parameter.continuations">3.1.</a>&nbsp;
Parameter Continuations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#character.set.and.language.information">3.2.</a>&nbsp;
Parameter Value Character Set and Language Information<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.2.1.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#language.specification.in.encoded.words">3.3.</a>&nbsp;
Language specification in Encoded Words<br />
<a href="#anchor4">4.</a>&nbsp;
Guidelines for Usage in HTTP Header Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.1.</a>&nbsp;
When to Use the Extension<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.2.</a>&nbsp;
Error Handling<br />
<a href="#security.considerations">5.</a>&nbsp;
Security Considerations<br />
<a href="#iana.considerations">6.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor7">7.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
  By default, message header parameters in HTTP (<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>) messages
  can not carry characters outside the ISO-8859-1 character set (<a class='info' href='#ISO-8859-1'>[ISO&#8209;8859&#8209;1]<span> (</span><span class='info'>International Organization for Standardization, &ldquo;Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1,&rdquo; 1998.</span><span>)</span></a>). RFC 2231
  (<a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a>) defines an escaping mechanism for use in MIME headers.
  This document specifies a profile of that encoding for use in HTTP.

</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Notational Conventions</h3>

<p>
  The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
  "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document
  are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.

</p>
<p>
  This specification uses the augmented BNF notation defined in
  Section 2.1 of <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, including its rules for
  linear whitespace (LWS). <a class='info' href='#comment.LWS'>[LWS]<span> (</span><span class='info'>This needs to be checked.</span><span>)</span></a><a name='LWS'></a>

</p>
<p>
  Non-ASCII characters used in prose for examples are encoded using
  the format "Backslash-U with Delimiters", defined in
  Section 5.1 of <a class='info' href='#RFC5137'>[RFC5137]<span> (</span><span class='info'>Klensin, J., &ldquo;ASCII Escaping of Unicode Characters,&rdquo; February&nbsp;2008.</span><span>)</span></a>.

</p>
<p>
  Note that this specification uses the term "character set" for consistency
  with other IETF specifications such as RFC 2277 (see <a class='info' href='#RFC2277'>[RFC2277]<span> (</span><span class='info'>Alvestrand, H., &ldquo;IETF Policy on Character Sets and Languages,&rdquo; January&nbsp;1998.</span><span>)</span></a>, Section 3). A more accurate term would be "character
  encoding" (a mapping of code points to octet sequences).

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
A Profile of RFC 2231 for Use in HTTP</h3>

<p>
  RFC 2231 defines several extensions to MIME. The sections below discuss
  if and how they apply to HTTP.

</p>
<p>
  In short:
  </p>
<ul class="text">
<li>Parameter Continuations aren't needed (<a class='info' href='#parameter.continuations'>Section&nbsp;3.1<span> (</span><span class='info'>Parameter Continuations</span><span>)</span></a>),
</li>
<li>Character Set and Language Information are useful, therefore a simple subset
    is specified (<a class='info' href='#character.set.and.language.information'>Section&nbsp;3.2<span> (</span><span class='info'>Parameter Value Character Set and Language Information</span><span>)</span></a>), and
</li>
<li>Language Specifications in Encoded Words aren't needed (<a class='info' href='#language.specification.in.encoded.words'>Section&nbsp;3.3<span> (</span><span class='info'>Language specification in Encoded Words</span><span>)</span></a>).
</li>
</ul><p>

</p>
<a name="parameter.continuations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Parameter Continuations</h3>

<p>
  Section 3 of <a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a> defines a mechanism that
  deals with the length limitations that apply to MIME headers. These
  limitations do not apply to HTTP (<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, Section 19.4.7). 

</p>
<p>
  Thus in HTTP, senders MUST NOT use parameter continuations, and 
  therefore recipients do not need to support them.

</p>
<a name="character.set.and.language.information"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Parameter Value Character Set and Language Information</h3>

<p>
  Section 4 of <a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a> specifies how to embed
  language information into parameter values, and also how to encode
  non-ASCII characters, dealing with restrictions both in MIME and HTTP
  header parameters.

</p>
<p>
  However, RFC 2231 does not specify mandatory-to-implement character encoding,
  making it hard for senders to decide which character set to use.
  Thus, recipients implementing this specification MUST support the
  character sets "ISO-8859-1" <a class='info' href='#ISO-8859-1'>[ISO&#8209;8859&#8209;1]<span> (</span><span class='info'>International Organization for Standardization, &ldquo;Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1,&rdquo; 1998.</span><span>)</span></a> and "UTF-8"
  <a class='info' href='#RFC3629'>[RFC3629]<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November&nbsp;2003.</span><span>)</span></a>.

</p>
<p>
  Furthermore, RFC 2231 allows leaving out the character encoding information.
  The profile defined by this specification does not allow that.

</p>
<p>
  The syntax for parameters is defined in Section 3.6 of <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  parameter     = attribute "=" value
</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  attribute     = token
  value         = token | quoted-string

  quoted-string = &lt;quoted-string, defined in [RFC2616], Section 2.2&gt;
  token         = &lt;token, defined in [RFC2616], Section 2.2&gt;
</pre></div>
<p>
  
  This specification extends the grammar to:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  parameter     = reg-parameter | ext-parameter

  reg-parameter = attribute "=" value
  ext-parameter = attribute "*=" ext-value

  ext-value     = charset  "'" [ language ] "'" value-chars

  charset       = "UTF-8" | "ISO-8859-1" | ext-charset
                ; NOTE: case-insensitive

  ext-charset   = token ; see IANA charset registry
                ; (&lt;http://www.iana.org/assignments/character-sets&gt;)

  language      = &lt;Language-Tag, defined in [RFC4646], Section 2.1&gt;

  value-chars   = *( pct-encoded | attr-char )

  pct-encoded   = "%" HEXDIG HEXDIG

  attr-char     = ALPHA | DIGIT
                | "-" | "." | "_" | "~" | ":"
                | "!" | "$" | "&amp;" | "+"

  ALPHA         = %x41-5A | %x61-7A
                ; A-Z | a-z
  DIGIT         = %x30-39
                ; any US-ASCII digit "0".."9"
  HEXDIG        = DIGIT | "A" | "B" | "C" | "D" | "E" | "F"
                ; NOTE: case-insensitive
</pre></div>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Examples</h3>

<p>
  Non-extended notation, using "token":

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  foo: bar; title=Economy
</pre></div>
<p>
  Non-extended notation, using "quoted-string":

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  foo: bar; title="US-$ rates"
</pre></div>
<p>
  Extended notation, using the unicode character \u'00A3' (POUND SIGN):

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  foo: bar; title*=iso-8859-1'en'%A3%20rates
</pre></div>
<p>
  Note: the Unicode pound sign character \u'00A3' was encoded using
  ISO-8859-1 into the single octet A3, then percent-encoded. Also note
  that the space character was encoded as %20, as attr-char does not
  contain it.

</p>
<p>
  Extended notation, using the unicode characters \u'00A3' (POUND SIGN)
  and \u'20AC' (EURO SIGN):

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  foo: bar; title*=UTF-8''%c2%a3%20and%20%e2%82%ac%20rates
</pre></div>
<p>
  Note: the unicode pound sign character \u'00A3' was encoded using
  UTF-8 into the octet sequence C2 A3, then percent-encoded. Likewise,
  the unicode euro sign character \u'20AC' was encoded into the octet
  sequence E2 82 AC, then percent-encoded. Also note that HEXDIG allows
  both lower-case and upper-case character, so recipients must understand
  both, and that the language information is optional, while the character
  set is not.

</p>
<a name="language.specification.in.encoded.words"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Language specification in Encoded Words</h3>

<p>
  Section 5 of <a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a> extends the encoding
  defined in <a class='info' href='#RFC2047'>[RFC2047]<span> (</span><span class='info'>Moore, K., &ldquo;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text,&rdquo; November&nbsp;1996.</span><span>)</span></a> to also support language specification
  in encoded words.
  Although the HTTP/1.1 does refer to RFC 2047
  (<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>, Section 2.2),
  it's not clear to which header field exactly it applies, and whether it is
  implemented in practice (see <a href='http://tools.ietf.org/wg/httpbis/trac/ticket/111'>http://tools.ietf.org/wg/httpbis/trac/ticket/111</a>
  for details).

</p>
<p>
  Thus, the RFC 2231 profile defined by this specification does not include
  this feature.

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Guidelines for Usage in HTTP Header Definitions</h3>

<p>
  Specifications of HTTP headers that use the extensions defined
  in <a class='info' href='#character.set.and.language.information'>Section&nbsp;3.2<span> (</span><span class='info'>Parameter Value Character Set and Language Information</span><span>)</span></a> should clearly
  state that. The best way to achieve this is to normatively reference
  this specification, and to include the <a class='info' href='#bnf'>ext-parameter</a>
  production into the ABNF for that header.

</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
When to Use the Extension</h3>

<p>
  Section 4.2 of <a class='info' href='#RFC2277'>[RFC2277]<span> (</span><span class='info'>Alvestrand, H., &ldquo;IETF Policy on Character Sets and Languages,&rdquo; January&nbsp;1998.</span><span>)</span></a> requires that protocol
  elements containing text can carry language information. Thus, the <a class='info' href='#bnf'>ext-parameter</a>
  production should always be used when the parameter value is of textual
  nature.

</p>
<p>
  Furthermore, the extension should also be used whenever the parameter value
  needs to carry characters not present in the US-ASCII (<a class='info' href='#USASCII'>[USASCII]<span> (</span><span class='info'>American National Standards Institute, &ldquo;Coded Character Set -- 7-bit American Standard Code for Information Interchange,&rdquo; 1986.</span><span>)</span></a>)
  character set (note
  that it would be unacceptable to define a new header that would be 
  restricted to a subset of the Unicode character set).

</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Error Handling</h3>

<p>
  Header specifications that include parameters should also specify whether
  same-named parameters can occur multiple times. If repetitions are not
  allowed (and this is believed to be the common case), the specification
  should state whether regular or the extended syntax takes precedence.
  In the latter case, this could be used by senders to use both formats
  without breaking recipients that do not understand the syntax.

</p>
<p>Example:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  foo: bar; title="EURO exchange rates";
            title*=utf-8''%e2%82%ac%20exchange%20rates
</pre></div>
<p>In this case, the sender provides an ASCII version of the title
for legacy recipient, but also includes an internationalized version for
recipients understanding this specification -- the latter obviously 
should prefer the new syntax over the old one.
</p>
<a name="security.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
  This document does not discuss security issues and is not believed to raise
  any security issues not already endemic in HTTP.

</p>
<a name="iana.considerations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>
  There are no IANA Considerations related to this specification.

</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgements</h3>

<p>
  Thanks to Frank Ellermann for help figuring out BNF details.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ISO-8859-1">[ISO-8859-1]</a></td>
<td class="author-text">International Organization for Standardization, &ldquo;Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1,&rdquo; ISO/IEC&nbsp;8859-1:1998, 1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2231">[RFC2231]</a></td>
<td class="author-text"><a href="mailto:ned.freed@innosoft.com">Freed, N.</a> and <a href="mailto:moore@cs.utk.edu">K. Moore</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2231">MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations</a>,&rdquo; RFC&nbsp;2231, November&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3629">[RFC3629]</a></td>
<td class="author-text"><a href="mailto:fyergeau@alis.com">Yergeau, F.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>,&rdquo; RFC&nbsp;3629, STD&nbsp;63, November&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4646">[RFC4646]</a></td>
<td class="author-text"><a href="mailto:addison@inter-locale.com">Phillips, A.</a> and <a href="mailto:mark.davis@macchiato.com">M. Davis</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4646">Tags for Identifying Languages</a>,&rdquo; BCP&nbsp;47, RFC&nbsp;4646, September&nbsp;2006.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2047">[RFC2047]</a></td>
<td class="author-text"><a href="mailto:moore@cs.utk.edu">Moore, K.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2047">MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</a>,&rdquo; RFC&nbsp;2047, November&nbsp;1996.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2277">[RFC2277]</a></td>
<td class="author-text"><a href="mailto:Harald.T.Alvestrand@uninett.no">Alvestrand, H.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2277">IETF Policy on Character Sets and Languages</a>,&rdquo; BCP&nbsp;18, RFC&nbsp;2277, January&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5137">[RFC5137]</a></td>
<td class="author-text"><a href="mailto:john-ietf@jck.com">Klensin, J.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5137">ASCII Escaping of Unicode Characters</a>,&rdquo; BCP&nbsp;137, RFC&nbsp;5137, February&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="USASCII">[USASCII]</a></td>
<td class="author-text">American National Standards Institute, &ldquo;Coded Character Set -- 7-bit American Standard Code for Information Interchange,&rdquo; ANSI&nbsp;X3.4, 1986.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Julian F. Reschke</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">greenbytes GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hafenweg 16</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Muenster, NW  48155</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:julian.reschke@greenbytes.de">julian.reschke@greenbytes.de</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://greenbytes.de/tech/webdav/">http://greenbytes.de/tech/webdav/</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
