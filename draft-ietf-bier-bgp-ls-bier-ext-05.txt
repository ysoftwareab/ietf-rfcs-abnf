



Networking Working Group                                       Ran. Chen
Internet-Draft                                              Zheng. Zhang
Intended status: Standards Track                         ZTE Corporation
Expires: November 11, 2019                             Vengada. Govindan
                                                      IJsbrand. Wijnands
                                                                   Cisco
                                                            MAY 10, 2019


                   BGP Link-State extensions for BIER
                   draft-ietf-bier-bgp-ls-bier-ext-05

Abstract

   Bit Index Explicit Replication (BIER) is an architecture that
   provides optimal multicast forwarding through a "BIER domain" without
   requiring intermediate routers to maintain any multicast related per-
   flow state.  BIER also does not require any explicit tree-building
   protocol for its operation.  A multicast data packet enters a BIER
   domain at a "Bit-Forwarding Ingress Router" (BFIR), and leaves the
   BIER domain at one or more "Bit-Forwarding Egress Routers" (BFERs).
   The BFIR router adds a BIER header to the packet.  The BIER header
   contains a bitstring in which each bit represents exactly one BFER to
   forward the packet to.  The set of BFERs to which the multicast
   packet needs to be forwarded is expressed by setting the bits that
   correspond to those routers in the BIER header.

   This document specifies extensions to the BGP Link-state address-
   family in order to advertising BIER information.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 11, 2019.





Chen, et al.            Expires November 11, 2019               [Page 1]

Internet-Draft         BGP-LS extensions for BIER               MAY 2019


Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  BGP-LS Extensions for BIER  . . . . . . . . . . . . . . . . .   3
     3.1.  The BIER TLV  . . . . . . . . . . . . . . . . . . . . . .   3
     3.2.  The BIER MPLS Encapsulation Sub-TLV . . . . . . . . . . .   4
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   6
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   6
   7.  Normative references  . . . . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   Bit Index Explicit Replication (BIER) is an architecture that
   provides optimal multicast forwarding through a "BIER domain" without
   requiring intermediate routers to maintain any multicast related per-
   flow state.  BIER also does not require any explicit tree-building
   protocol for its operation.  A multicast data packet enters a BIER
   domain at a "Bit-Forwarding Ingress Router" (BFIR), and leaves the
   BIER domain at one or more "Bit-Forwarding Egress Routers" (BFERs).
   The BFIR router adds a BIER header to the packet.  The BIER header
   contains a bitstring in which each bit represents exactly one BFER to
   forward the packet to.  The set of BFERs to which the multicast
   packet needs to be forwarded is expressed by setting the bits that
   correspond to those routers in the BIER header.

   This document specifies extensions to the BGP Link-state address-
   family in order to advertising BIER-specific.  An external component
   (e.g., a controller) then can collect BIER information in the
   "northbound" direction within the BIER domain.




Chen, et al.            Expires November 11, 2019               [Page 2]

Internet-Draft         BGP-LS extensions for BIER               MAY 2019


2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119.

3.  BGP-LS Extensions for BIER

   Each BFR MUST be assigned a "BFR-Prefix".  A BFR's BFR-Prefix MUST be
   an IP address (either IPv4 or IPv6) of the BFR, and MUST be unique
   and routable within the BIER domain as described in section 2 of
   [RFC8279], and then external component (e.g., a controller) need to
   collect BIER information of BIER routers are associated with the BFR-
   Prefix in the "northbound" direction within the BIER domain.

   Given that the BIER information is associated with the prefix, the
   BGP-LS Prefix Attribute TLV [RFC7752] can be used to carry the BIER
   information.  A new Prefix Attribute TLV and Sub-TLV are defined for
   the encoding of BIER information.

3.1.  The BIER TLV

   A new Prefix Attribute TLV (defined in [RFC7752] is defined for
   distributing BIER information.  The new TLV is called the BIER TLV.
   The BIER TLVs may appear multiple times.

   The following BIER TLV is defined:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |            Length             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     BAR       |     IPA       |  subdomain-id |      MT-ID    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            BFR-id             |    BS Length  |  Reserved     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                      Sub-TLVs (variable)                      |
      +-                                                             -+
      |                                                               |


                                 Figure 1

   Type:as indicated in IANA Considerations section.

   Length: 2 octet.



Chen, et al.            Expires November 11, 2019               [Page 3]

Internet-Draft         BGP-LS extensions for BIER               MAY 2019


   Reserved: MUST be 0 on transmission, ignored on reception.  May be
   used in future versions.

   BAR: A 1 octet field encoding the BIER Algorithm, used to calculate
   underlay paths to reach BFERs.  Values are allocated from the "BIER
   Algorithms" registry which is defined in [RFC8401].

   IPA: A 1 octet field encoding the IGP Algorithm, used to either
   modify,enhance, or replace the calculation of underlay paths to reach
   BFERs as defined by the BAR value.  Values are from the IGP Algorithm
   registry.

   Subdomain-id: Unique value identifying the BIER sub-domain, 1 octet.

   MT-ID: Multi-Topology ID that identifies the topology that is
   associated with the BIER sub-domain.1 octet.

   BFR-id: A 2 octet field encoding the BFR-id, as documented in
   [RFC8279].  If the BFR-id is zero, it means, the advertising router
   is not advertising any BIER-id.In some environment, BFR-id can be
   configured by NMS, The BFR-id should be sent to a controller.

   BS Length: A 1 octet field encoding the Bitstring length as per
   [RFC8296].

   If the MT-ID value is outside of the values specified in [RFC4915],
   the BIER Sub-TLV MUST be ignored.

3.2.  The BIER MPLS Encapsulation Sub-TLV

   The BIER MPLS Encapsulation Sub-TLV is a sub-TLV of the BIER TLV.
   BIER MPLS Encapsulation Sub-TLV is used in order to advertise MPLS
   specific information used for BIER.  It MUST appear multiple times in
   the BIER TLV as described in [RFC8444]

   In some environment, each router allocates its labels, and advertises
   it to the controller.That solution is simpler as the controller does
   not need to deal with label allocation.  If the controller has to
   deal with Label allocation , there needs to be a (global) range
   carved out such there are no conflicts.  We can avoid all that by
   having the router allocate the BIER Label range and advertise it to
   the controller.

   The following the BIER MPLS Encapsulation Sub-TLV is defined:







Chen, et al.            Expires November 11, 2019               [Page 4]

Internet-Draft         BGP-LS extensions for BIER               MAY 2019


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |            Type               |                Length         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |      Max SI   |                      Label                    |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |   BS Length   |                  Reserved                     |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                                 Figure 2

   Type: as indicated in IANA Considerations section.

   Length: 2 octet.

   Max SI: A 1 octet field encoding the maximum Set Identifier(as
   defined in [RFC8279]), used in the encapsulation for this BIER
   subdomain for this BitString length.

   Label: A 3 octet field, where the 20 rightmost bits represent the
   first label in the label range.

   BS Length: A 1 octet field encoding the Bitstring length as per
   [RFC8296]

   BS length in multiple BIER MPLS Encapsulation Sub-TLV inside the same
   BIER Sub-TLV MUST NOT repeat, otherwise only the first BIER MPLS
   Encapsulation Sub-TLV with such BS length MUST be used and any
   subsequent BIER MPLS Encapsulation Sub-TLVs with the same BS length
   MUST be ignored.

4.  IANA Considerations

   This document requests assigning code-points from the registry for
   the new Prefix Attribute TLV and Sub-TLV.


           +-------------------+---------------+-----------------+
           |   TLV Code Point  |  Description  | Value defined   |
           +-------------------+---------------+-----------------+
           | 1174( recommend ) |  BIER         | this document   |
           +-------------------+---------------+-----------------+


                   Table 1: The new Prefix Attribute TLV





Chen, et al.            Expires November 11, 2019               [Page 5]

Internet-Draft         BGP-LS extensions for BIER               MAY 2019


   +-----------------+-------------------------------+-----------------+
   | Sub-TLV         |       Description             |   Value         |
   | Code Point      |                               |                 |
   +-----------------+-------------------------------+-----------------+
   |  1 ( recommend) |  BIER MPLS Encapsulation      | this document   |
   +------------+-------------------------------+----------------------+


                 Table 2: The new Prefix Attribute Sub-TLV

5.  Security Considerations

   Procedures and protocol extensions defined in this document do not
   affect the BGP security model.  See [RFC6952] for details.

6.  Acknowledgements

   We would like to thank Peter Psenak (Cisco) for his comments and
   support of this work.

7.  Normative references

   [RFC3630]  Katz, D., Kompella, K., and D. Yeung, "Traffic Engineering
              (TE) Extensions to OSPF Version 2", RFC 3630,
              DOI 10.17487/RFC3630, September 2003,
              <https://www.rfc-editor.org/info/rfc3630>.

   [RFC4915]  Psenak, P., Mirtorabi, S., Roy, A., Nguyen, L., and P.
              Pillay-Esnault, "Multi-Topology (MT) Routing in OSPF",
              RFC 4915, DOI 10.17487/RFC4915, June 2007,
              <https://www.rfc-editor.org/info/rfc4915>.

   [RFC6952]  Jethanandani, M., Patel, K., and L. Zheng, "Analysis of
              BGP, LDP, PCEP, and MSDP Issues According to the Keying
              and Authentication for Routing Protocols (KARP) Design
              Guide", RFC 6952, DOI 10.17487/RFC6952, May 2013,
              <https://www.rfc-editor.org/info/rfc6952>.

   [RFC7752]  Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and
              S. Ray, "North-Bound Distribution of Link-State and
              Traffic Engineering (TE) Information Using BGP", RFC 7752,
              DOI 10.17487/RFC7752, March 2016,
              <https://www.rfc-editor.org/info/rfc7752>.








Chen, et al.            Expires November 11, 2019               [Page 6]

Internet-Draft         BGP-LS extensions for BIER               MAY 2019


   [RFC8279]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Przygienda, T., and S. Aldrin, "Multicast Using Bit Index
              Explicit Replication (BIER)", RFC 8279,
              DOI 10.17487/RFC8279, November 2017,
              <https://www.rfc-editor.org/info/rfc8279>.

   [RFC8296]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Tantsura, J., Aldrin, S., and I. Meilik, "Encapsulation
              for Bit Index Explicit Replication (BIER) in MPLS and Non-
              MPLS Networks", RFC 8296, DOI 10.17487/RFC8296, January
              2018, <https://www.rfc-editor.org/info/rfc8296>.

   [RFC8401]  Ginsberg, L., Ed., Przygienda, T., Aldrin, S., and Z.
              Zhang, "Bit Index Explicit Replication (BIER) Support via
              IS-IS", RFC 8401, DOI 10.17487/RFC8401, June 2018,
              <https://www.rfc-editor.org/info/rfc8401>.

   [RFC8444]  Psenak, P., Ed., Kumar, N., Wijnands, IJ., Dolganow, A.,
              Przygienda, T., Zhang, J., and S. Aldrin, "OSPFv2
              Extensions for Bit Index Explicit Replication (BIER)",
              RFC 8444, DOI 10.17487/RFC8444, November 2018,
              <https://www.rfc-editor.org/info/rfc8444>.

Authors' Addresses

   Ran Chen
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Phone: +86 025 88014636
   Email: chen.ran@zte.com.cn


   Zheng Zhang
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Email: zhang.zheng@zte.com.cn


   Vengada Prasad Govindan
   Cisco

   Email: venggovi@cisco.com



Chen, et al.            Expires November 11, 2019               [Page 7]

Internet-Draft         BGP-LS extensions for BIER               MAY 2019


   IJsbrand Wijnands
   Cisco
   De Kleetlaan 6a
   Diegem 1831
   Belgium

   Email: ice@cisco.com












































Chen, et al.            Expires November 11, 2019               [Page 8]
