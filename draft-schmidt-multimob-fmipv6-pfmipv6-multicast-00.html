<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Multicast Listener Extensions
    for MIPv6 and PMIPv6 Fast Handovers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Multicast Listener Extensions
    for MIPv6 and PMIPv6 Fast Handovers">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">T C. Schmidt</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">HAW Hamburg</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">M. Waehlisch</td></tr>
<tr><td class="header">Expires: September 2, 2010</td><td class="header">link-lab</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Koodli</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">G. Fairhurst</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">University of Aberdeen</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 01, 2010</td></tr>
</table></td></tr></table>
<h1><br />Multicast Listener Extensions
    for MIPv6 and PMIPv6 Fast Handovers<br />draft-schmidt-multimob-fmipv6-pfmipv6-multicast-00</h1>

<h3>Abstract</h3>

<p>Fast handover protocols for MIPv6 and PMIPv6 define mobility
      management procedures that support unicast communication at reduced
      handover latencies. Fast handover base operations do not affect
      multicast communication, and hence do not accelerate handover management
      for native multicast listeners. Many multicast applications like IPTV or
      conferencing, though, are comprised of delay-sensitive real-time traffic
      and could strongly benefit from fast handover execution. This document
      specifies extension of the Mobile IPv6 Fast Handovers (FMIPv6) and the
      Fast Handovers for Proxy Mobile IPv6 (PFMIPv6) protocols to include
      multicast traffic management in fast handover operations.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 2, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology<br />
<a href="#anchor3">3.</a>&nbsp;
Protocol Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#AR-context-transfer">3.1.</a>&nbsp;
Multicast Context Transfer between Access Routers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#FMIPv6-overview">3.2.</a>&nbsp;
Protocol Operations Specific to FMIPv6<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#PFMIPv6-overview">3.3.</a>&nbsp;
Protocol Operations Specific to PFMIPv6<br />
<a href="#anchor4">4.</a>&nbsp;
Protocol Details<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.1.</a>&nbsp;
Generals<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.2.</a>&nbsp;
Protocol Operations Specific to FMIPv6<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#det-pfmipv6">4.3.</a>&nbsp;
Protocol Operations Specific to PFMIPv6<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#det-IPv4">4.3.1.</a>&nbsp;
IPv4 Support Considerations<br />
<a href="#anchor7">5.</a>&nbsp;
Message Formats<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#m-prtrtadv">5.1.</a>&nbsp;
Multicast Indicator for Proxy Router Advertisement (PrRtAdv)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#m-mobheader">5.2.</a>&nbsp;
Extensions to Existing Mobility Header Messages<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#multicast-option">5.3.</a>&nbsp;
New Multicast Mobility Option<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#number-of-addresses">5.3.1.</a>&nbsp;
Number of Addresses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#multicast-ack">5.4.</a>&nbsp;
New Multicast Acknowledgement Option<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#MLD-compat">5.5.</a>&nbsp;
MLD (IGMP) Compatibility Aspects<br />
<a href="#anchor8">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor9">7.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Mobile IPv6 <a class='info' href='#RFC3775'>[RFC3775]<span> (</span><span class='info'>Johnson, D., Perkins, C., and J. Arkko, &ldquo;Mobility Support in IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a> defines a network layer
      mobility protocol involving mobile nodes participation, while Proxy
      Mobile IPv6 <a class='info' href='#RFC5213'>[RFC5213]<span> (</span><span class='info'>Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K., and B. Patil, &ldquo;Proxy Mobile IPv6,&rdquo; August&nbsp;2008.</span><span>)</span></a> provides a mechanism without
      requiring mobility protocol operations at a Mobile Node (MN). Both
      protocols introduce traffic disruptions on handovers that may be
      intolerable in many application scenarios. Mobile IPv6 Fast Handovers
      (FMIPv6) <a class='info' href='#RFC5568'>[RFC5568]<span> (</span><span class='info'>Koodli, R., &ldquo;Mobile IPv6 Fast Handovers,&rdquo; July&nbsp;2009.</span><span>)</span></a>, and Fast Handovers for Proxy
      Mobile IPv6 (PFMIPv6) <a class='info' href='#I-D.ietf-mipshop-pfmipv6'>[I&#8209;D.ietf&#8209;mipshop&#8209;pfmipv6]<span> (</span><span class='info'>Yokota, H., Chowdhury, K., Koodli, R., Patil, B., and F. Xia, &ldquo;Fast Handovers for Proxy Mobile IPv6,&rdquo; April&nbsp;2010.</span><span>)</span></a>
      improve these handover delays for unicast communication to the order of
      the maximum delay needed for link switching and signaling between Access
      Routers (ARs) or Mobile Access Gateways (MAGs) <a class='info' href='#FMIPv6-Analysis'>[FMIPv6&#8209;Analysis]<span> (</span><span class='info'>Schmidt, TC. and M. Waehlisch, &ldquo;Predictive versus Reactive - Analysis of Handover Performance           and Its Implications on IPv6 and Multicast Mobility,&rdquo; November&nbsp;2005.</span><span>)</span></a>.
</p>
<p>No dedicated treatment of seamless multicast data reception has been
      proposed by any of the above protocols. MIPv6 only roughly defines
      multicast for Mobile Nodes using a remote subscription approach or a
      home subscription through bi-directional tunneling via the Home Agent
      (HA). Multicast forwarding services have not been specified at all in
      <a class='info' href='#RFC5213'>[RFC5213]<span> (</span><span class='info'>Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K., and B. Patil, &ldquo;Proxy Mobile IPv6,&rdquo; August&nbsp;2008.</span><span>)</span></a>, but are subject to further
      specifications. It is assumed throughout this document that mechanisms
      and protocol operations are in place to transport multicast traffic to
      ARs. Symbolically, these operations are referred to as 'JOIN/LEAVE' of
      an AR, while the explicit techniques to manage multicast transmission
      are beyond the scope of this document.
</p>
<p>Mobile multicast protocols need to serve applications like IPTV with
      voluminous content streams to be distributed to potentially large
      numbers of receivers, and therefore should preserve the multicast nature
      of packet distribution and approximate optimal routing <a class='info' href='#RFC5757'>[RFC5757]<span> (</span><span class='info'>Schmidt, T., Waehlisch, M., and G. Fairhurst, &ldquo;Multicast Mobility in Mobile IP Version 6 (MIPv6): Problem Statement and Brief Survey,&rdquo; February&nbsp;2010.</span><span>)</span></a>. It is undesirable to rely on home tunneling
      for optimizing multicast. Native multicast forwarding requires
      forwarding states, which will not be transferred between access routers
      by the unicast fast handover protocols. Thus multicast traffic will not
      experience expedited handover performance, but an MN can continuously
      perform remote subscriptions in the visited networks.
</p>
<p>This document specifies extension of FMIPv6 and PFMIPv6 for including
      multicast traffic management in fast handover operations. The solution
      common to both underlying protocols defines the per group transfer of
      multicast contexts between ARs or MAGs. The protocol defines
      corresponding message extensions necessary for carrying group context
      information independent of the particular handover protocol in use. ARs
      or MAGs are then enabled to treat multicast traffic in correspondence to
      fast unicast handovers and with analogous performance. No protocol
      changes are introduced that prevent a multicast unaware node from
      performing fast handovers with multicast aware ARs or MAGs.
</p>
<p>This specification is applicable when a mobile node has joined and
      maintains one or several multicast groups prior to undergoing a fast
      handover. It does not pose any requirements on multicast routing
      protocols in use, nor are the ARs or MAGs assumed to be multicast
      routers. It assumes network conditions, though, that allow native
      multicast reception in both, the previous and new access network.
      Methods to bridge regions without native multicast connectivity are
      beyond the scope of this document.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>. The use of the term, "silently ignore" is not
      defined in RFC 2119. However, the term is used in this document and can
      be similarly construed.
</p>
<p>This document uses the terminology of <a class='info' href='#RFC5568'>[RFC5568]<span> (</span><span class='info'>Koodli, R., &ldquo;Mobile IPv6 Fast Handovers,&rdquo; July&nbsp;2009.</span><span>)</span></a>,
      <a class='info' href='#I-D.ietf-mipshop-pfmipv6'>[I&#8209;D.ietf&#8209;mipshop&#8209;pfmipv6]<span> (</span><span class='info'>Yokota, H., Chowdhury, K., Koodli, R., Patil, B., and F. Xia, &ldquo;Fast Handovers for Proxy Mobile IPv6,&rdquo; April&nbsp;2010.</span><span>)</span></a>, <a class='info' href='#RFC3775'>[RFC3775]<span> (</span><span class='info'>Johnson, D., Perkins, C., and J. Arkko, &ldquo;Mobility Support in IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a>, and <a class='info' href='#RFC5213'>[RFC5213]<span> (</span><span class='info'>Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K., and B. Patil, &ldquo;Proxy Mobile IPv6,&rdquo; August&nbsp;2008.</span><span>)</span></a>. In
      addition, the following terms are introduced:
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Protocol Overview</h3>

<p>
</p>
<p>The reference scenario for multicast fast handover is illustrated in
      <a class='info' href='#fig1'>Figure&nbsp;1<span> (</span><span class='info'>Reference Network for Fast Handover</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="fig1"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


                          ***  ***  ***  ***
                         *   **   **   **   *
                        *                    *
                         *  Multicast Cloud *
                        *                    *
                         *   **   **   **   *
                          ***  ***  ***  ***
                               /      \
                              /        \
                             /          \
                 +........../..+      +..\..........+
                 . +-------+-+ .______. +-+-------+ .
                 . |   PAR   |()_______)|   NAR   | .
                 . |  (PMAG) | .      . |  (NMAG) | .
                 . +----+----+ .      . +----+----+ .
                 .      |      .      .      |      .
                 .   ___|___   .      .   ___|___   .
                 .  /       \  .      .  /       \  .
                 . (  P-AN   ) .      . (  N-AN   ) .
                 .  \_______/  .      .  \_______/  .
                 .      |      .      .      |      .
                 .   +----+    .      .   +----+    .
                 .   | MN |  ----------&gt;  | MN |    .
                 .   +----+    .      .   +----+    .
                 +.............+      +.............+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Reference Network for Fast Handover&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="AR-context-transfer"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Multicast Context Transfer between Access Routers</h3>

<p>In a fast handover scenario (cf. <a class='info' href='#fig1'>Figure&nbsp;1<span> (</span><span class='info'>Reference Network for Fast Handover</span><span>)</span></a>),
        ARs/MAGs establish a mutual binding and provide the capability to
        exchange context information concerning the MN. This context transfer
        will be triggered by detecting MN's forthcoming move to a new AR and
        assist the MN to immediately resume communication on the new subnet
        link using its previous IP address. In contrast to unicast, multicast
        stream reception does not primarily depend on address and binding
        cache management, but requires distribution trees to adapt such that
        traffic follows the MN. This process may be significantly slower than
        fast handover management <a class='info' href='#RFC5757'>[RFC5757]<span> (</span><span class='info'>Schmidt, T., Waehlisch, M., and G. Fairhurst, &ldquo;Multicast Mobility in Mobile IP Version 6 (MIPv6): Problem Statement and Brief Survey,&rdquo; February&nbsp;2010.</span><span>)</span></a>. Multicast
        listeners at handover may take twofold advantage of including the
        multicast groups under subscription in context transfer. First, the
        NAR can proactively join the desired groups as soon as it gains
        knowledge thereof. Second, multicast streams may be included in
        traffic forwarding via the tunnel established from PAR to NAR.
</p>
<p>There are two modes of operation in FMIPv6 and in PFMIPv6. The
        predictive mode allows for AR-binding and context transfer prior to
        MN's handover, while in the reactive mode, these steps are executed
        after the MN's re-attachment to NAR has been detected. Details of the
        signaling schemes differ between FMIPv6 and PFMIPv6 and are outlined
        in <a class='info' href='#FMIPv6-overview'>Section&nbsp;3.2<span> (</span><span class='info'>Protocol Operations Specific to FMIPv6</span><span>)</span></a> and <a class='info' href='#PFMIPv6-overview'>Section&nbsp;3.3<span> (</span><span class='info'>Protocol Operations Specific to PFMIPv6</span><span>)</span></a>.
</p>
<p>In a predictive fast handover, the access router (e.g., PAR in
        <a class='info' href='#fig1'>Figure&nbsp;1<span> (</span><span class='info'>Reference Network for Fast Handover</span><span>)</span></a>) learns about the impending movement of
        the MN and simultaneously about the multicast group context as
        specified in <a class='info' href='#FMIPv6-overview'>Section&nbsp;3.2<span> (</span><span class='info'>Protocol Operations Specific to FMIPv6</span><span>)</span></a> and <a class='info' href='#PFMIPv6-overview'>Section&nbsp;3.3<span> (</span><span class='info'>Protocol Operations Specific to PFMIPv6</span><span>)</span></a>. Thereafter, PAR will initiate an
        AR-binding and context transfer by transmitting a HI message to NAR.
        HI is extended by multicast group states carried in mobility header
        options as defined in <a class='info' href='#multicast-option'>Section&nbsp;5.3<span> (</span><span class='info'>New Multicast Mobility Option</span><span>)</span></a>. On
        reception of the HI message, NAR returns a multicast acknowledgement
        in its HACK answer that per group indicates its ability to support the
        requested group, as well as its willingness to receive multicast
        traffic forwarded from PAR (see <a class='info' href='#multicast-ack'>Section&nbsp;5.4<span> (</span><span class='info'>New Multicast Acknowledgement Option</span><span>)</span></a>).
        There are several reasons to waive forwarding, e.g., the group may
        already be under native subscription or capacity constraints at the
        NAR may hinder decapsulation of additional streams. For the groups
        requested, PAR will add the tunnel interface to its multicast
        forwarding database, so that multicast streams are forwarded in
        parallel to unicast traffic. NAR, taking the role of an MLD proxy
        <a class='info' href='#RFC4605'>[RFC4605]<span> (</span><span class='info'>Fenner, B., He, H., Haberman, B., and H. Sandick, &ldquo;Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding (&quot;IGMP/MLD Proxying&quot;),&rdquo; August&nbsp;2006.</span><span>)</span></a> with the upstream tunnel interface to
        PAR, will submit an MLD report to request for the desired groups, but
        will terminate multicast forwarding <a class='info' href='#RFC3810'>[RFC3810]<span> (</span><span class='info'>Vida, R. and L. Costa, &ldquo;Multicast Listener Discovery Version 2 (MLDv2) for IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a>
        from PAR, as soon as group traffic natively arrives. In addition, NAR
        immediately joins all groups that are not already under subscription
        using its loopback interface, and starts multicast forwarding after
        the MN has arrived.
</p>
<p>In a reactive fast handover, PAR will learn about the movement of
        the MN, after the latter has re-associated with the new access
        network. Also from the new link, it will be informed about the
        multicast context of the MN. As group membership information are
        present at the new access network prior to context transfer, MLD join
        signaling can proceed in parallel to HI/HACK exchange. Depending on
        the specific network topology, multicast traffic for some groups may
        natively arrive before it is forwarded from PAR. However, PAR-NAR
        forwarding SHOULD be procured for groups in far reach.
</p>
<p>In both modes of operation, it is the responsibility of the PAR
        (PMAG) to properly consider the departure of the MN for the local
        group management. Depending on the multicast state management, link
        type and MLD parameters deployed (cf., <a class='info' href='#RFC5757'>[RFC5757]<span> (</span><span class='info'>Schmidt, T., Waehlisch, M., and G. Fairhurst, &ldquo;Multicast Mobility in Mobile IP Version 6 (MIPv6): Problem Statement and Brief Survey,&rdquo; February&nbsp;2010.</span><span>)</span></a>), it SHOULD take appropriate actions to
        adjust multicast service to requirements of the remaining nodes.
</p>
<p>In this way, the MN will be able to participate in multicast group
        communication with handover experiences comparable to unicast
        performance, while network resources are preserved whenever
        possible.
</p>
<a name="FMIPv6-overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Protocol Operations Specific to FMIPv6</h3>

<p>ARs that provide multicast support in FMIPv6 will advertise this
        general service by setting an indicator bit (M-bit) in its PrRtAdv
        message as defined in <a class='info' href='#m-prtrtadv'>Section&nbsp;5.1<span> (</span><span class='info'>Multicast Indicator for Proxy Router Advertisement (PrRtAdv)</span><span>)</span></a>. Additional
        details about the multicast service support, e.g., flavors and groups,
        will be exchanged within HI/HACK dialogs later at handovers.
</p>
<p>An MN operating FMIPv6 will actively initiate the handover
        management by submitting a fast binding update (FBU). The MN, which is
        aware of the multicast groups it wishes to maintain, will attach
        mobility options containing its group states (see <a class='info' href='#multicast-option'>Section&nbsp;5.3<span> (</span><span class='info'>New Multicast Mobility Option</span><span>)</span></a>) to the FBU, and thereby inform ARs
        about its multicast context. ARs will use these multicast context
        options for inter-AR context transfer.
</p>
<p>In predictive mode, FBU is issued on the previous link and received
        by PAR as displayed in <a class='info' href='#fmip-pred'>Figure&nbsp;2<span> (</span><span class='info'>Predictive Multicast Handover for FMIPv6</span><span>)</span></a>. PAR will
        extract the multicast context options and append them to its HI
        message. From the HACK message, PAR will redistribute the multicast
        acknowledgement by adding the corresponding mobility options to its
        FBACK message. From receiving FBACK, the MN will learn about a per
        group multicast support in the new access network. If some groups or a
        multicast flavour are not supported, it may decide on taking actions
        to compensate the missing service. Note that the proactive multicast
        context transfer may proceed successfully, even if the MN misses the
        FBACK message on the previous link.
</p><br /><hr class="insert" />
<a name="fmip-pred"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                  MN                    PAR                    NAR
                   |                     |                      |
                   |------RtSolPr-------&gt;|                      |
                   |&lt;-----PrRtAdv--------|                      |
                   |                     |                      |
                   |                     |                      |
                   |---------FBU--------&gt;|----------HI---------&gt;|
                   | (Multicast MobOpt)  | (Multicast MobOpt)   |
                   |                     |                      |
                   |                     |&lt;--------HAck---------|
                   |                     | (Multicast AckOpt)   |
                   |                     |                   Join to
                   |                     |                  Multicast
                   |                     |                   Groups
                   |                     |                      |
                   |       &lt;-----FBack---|--FBack------&gt;        |
                   |  (Multicast AckOpt) | (Multicast AckOpt)   |
                   |                     |                      |
                disconnect             forward                  |
                   |                   packets  ===============&gt;|
                   |                     |                      |
                   |                     |                      |
                connect                  |                      |
                   |                     |                      |
                   |------------UNA ---------------------------&gt;|
                   |&lt;=================================== deliver packets
                   |                                            |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Predictive Multicast Handover for FMIPv6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>The call flow for reactive mode is visualized in <a class='info' href='#fmip-react'>Figure&nbsp;3<span> (</span><span class='info'>Reactive Multicast Handover for FMIPv6</span><span>)</span></a>. After attaching to the new access link
        and performing an unsolicited neighbor advertisement (UNA), the MN
        issues an FBU which NAR forwards to PAR without processing. At this
        time, MN is able to re-join all desired multicast groups without
        relying on AR assistance. Nevertheless, multicast context options are
        exchanged in the HI/HACK dialog to facilitate intermediate forwarding
        of requested streams. Note that group traffic may already arrive from
        MN's subscription at the time NAR receives the HI message. Such
        streams may be transparently excluded from forwarding by setting an
        appropriate multicast acknowledge option. In any case, NAR MUST ensure
        that not more than one stream of the same group is forwarded to the
        MN.
</p><br /><hr class="insert" />
<a name="fmip-react"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                  MN                    PAR                    NAR
                   |                     |                      |
                   |------RtSolPr-------&gt;|                      |
                   |&lt;-----PrRtAdv--------|                      |
                   |                     |                      |
                disconnect               |                      |
                   |                     |                      |
                   |                     |                      |
                connect                  |                      |
                   |-------UNA-----------|---------------------&gt;|
                   |-------FBU-----------|---------------------)|
                   | (Multicast MobOpt)  |&lt;-------FBU----------)|
                   |                     |                      |
                Join to                  |                      |
               Multicast                 |                      |
                Groups                   |                      |
                   |                     |----------HI---------&gt;|
                   |                     |  (Multicast MobOpt)  |
                   |                     |&lt;-------HAck----------|
                   |                     |  (Multicast AckOpt)  |
                   |                     |                      |
                   |                     |(HI/HAck if necessary)|
                   |                     |                      |
                   |                   forward                  |
                   |              packets(including FBack)=====&gt;|
                   |                     |                      |
                   |&lt;=================================== deliver packets
                   |                                            |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Reactive Multicast Handover for FMIPv6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="PFMIPv6-overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Protocol Operations Specific to PFMIPv6</h3>

<p>In a proxy mobile IPv6 environment, the MN remains agnostic of
        network layer changes, and fast handover operations are pursued by the
        access routers or MAGs. The handover initiation, or the re-association
        respectively is managed by the access networks. Consequently, access
        routers need to be aware of multicast membership states at the mobile
        node. There are two ways to obtain record of MN's multicast
        membership. First, MAGs may perform an explicit tracking (cf., <a class='info' href='#RFC4605'>[RFC4605]<span> (</span><span class='info'>Fenner, B., He, H., Haberman, B., and H. Sandick, &ldquo;Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding (&quot;IGMP/MLD Proxying&quot;),&rdquo; August&nbsp;2006.</span><span>)</span></a>, <a class='info' href='#I-D.ietf-multimob-pmipv6-base-solution'>[I&#8209;D.ietf&#8209;multimob&#8209;pmipv6&#8209;base&#8209;solution]<span> (</span><span class='info'>Schmidt, T., Waehlisch, M., and S. Krishnan, &ldquo;Base Deployment for Multicast Listener Support in PMIPv6 Domains,&rdquo; February&nbsp;2010.</span><span>)</span></a>) or extract
        membership status from forwarding states at node-specific
        point-to-point links. Second, routers may perform general queries.
        Both methods are equally applicable, which leaves a final choice to
        the implementation. In either case, the PAR will become knowledgeable
        about multicast group subscriptions of the MN.
</p>
<p>In predictive mode, the PMAG (PAR) will learn about the upcoming
        movement of the mobile node. Without explicit tracking, it will
        immediately submit a general MLD query and learn about the multicast
        groups under subscription. As displayed in <a class='info' href='#pfmip-pred'>Figure&nbsp;4<span> (</span><span class='info'>Predictive Multicast Handover for PFMIPv6</span><span>)</span></a>, it will initiate binding and context
        transfer with the NMAG (NAR) by issuing a HI message that is augmented
        by multicast contexts in the mobility options defined in <a class='info' href='#multicast-option'>Section&nbsp;5.3<span> (</span><span class='info'>New Multicast Mobility Option</span><span>)</span></a>). NAR will extract multicast context
        information and act as described in <a class='info' href='#AR-context-transfer'>Section&nbsp;3.1<span> (</span><span class='info'>Multicast Context Transfer between Access Routers</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="pfmip-pred"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                                          PMAG          NMAG
        MN         P-AN       N-AN        (PAR)         (NAR)
        |           |          |            |             |
        |  Report   |          |            |             |
        |-(MN ID,--&gt;|          |            |             |
        | New AP ID)|          |            |             |
        |           |     HO Initiate       |             |
        |           |--(MN ID, New AP ID)--&gt;|             |
        |           |          |            |             |
        |           |          |         Optional:        |
        |           |          |         MLD Query        |
        |           |          |            |             |
        |           |          |            |------HI----&gt;|
        |           |          |            |(Multicast MobOpt)
        |           |          |            |             |
        |           |          |            |&lt;---HAck-----|
        |           |          |            |(Multicast AckOpt)
        |           |          |            |             |
        |           |          |            |          Join to
        |           |          |            |         Multicast
        |           |          |            |          Groups
        |           |          |            |             |
        |           |          |            |HI/HAck(optional)
        |           |          |            |&lt;- - - - - -&gt;|
        |           |          |            |             |
        |           |          |          forward         |
        |           |          |          packets =======&gt;|
    disconnect      |          |            |             |
        |           |          |            |             |
     connect        |          |            |             |
        |   MN-AN connection   |    AN-MAG connection     |
        |&lt;---establishment----&gt;|&lt;----establishment-------&gt;|
        |           |          |  (substitute for UNA)    |
        |           |          |            |             |
        |&lt;======================================== deliver packets
        |           |          |            |             |

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Predictive Multicast Handover for PFMIPv6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>In reactive mode, the NMAG (NAR) will learn about MN's attachment
        to the N-AN and establish connectivity by means of PMIPv6 protocol
        operations. However, it will have no knowledge about multicast states
        at the MN. Triggered by MN's attachment, the NMAG will inquire on
        group memberships by submitting a general MLD query and thereafter
        join the requested groups. In the case of a reactive handover, the
        binding is initiated by NMAG, and the HI/HACK message semantic is
        inverted (see <a class='info' href='#I-D.ietf-mipshop-pfmipv6'>[I&#8209;D.ietf&#8209;mipshop&#8209;pfmipv6]<span> (</span><span class='info'>Yokota, H., Chowdhury, K., Koodli, R., Patil, B., and F. Xia, &ldquo;Fast Handovers for Proxy Mobile IPv6,&rdquo; April&nbsp;2010.</span><span>)</span></a>). For
        multicast context transfer, the NMAG attaches those group identifiers
        in multicast mobility options which it requests for forwarding. Using
        the identical syntax in its option headers as defined in <a class='info' href='#multicast-ack'>Section&nbsp;5.4<span> (</span><span class='info'>New Multicast Acknowledgement Option</span><span>)</span></a>, PMAG acknowledges the group forwarding
        request in its HACK answer. The corresponding call flow is displayed
        in <a class='info' href='#pfmip-react'>Figure&nbsp;5<span> (</span><span class='info'>Reactive Multicast Handover for PFMIPv6</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="pfmip-react"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                                          PMAG          NMAG
        MN         P-AN       N-AN        (PAR)         (NAR)
        |           |          |            |             |
    disconnect      |          |            |             |
        |           |          |            |             |
     connect        |          |            |             |
        |           |          |            |             |
        |   MN-AN connection   |    AN-MAG connection     |
        |&lt;---establishment----&gt;|&lt;----establishment-------&gt;|
        |           |          |(substitute for UNA &amp; FBU)|
        |           |          |            |             |
        |           |          |            |         MLD Query
        |           |          |            |             |
        |           |          |            |          Join to
        |           |          |            |         Multicast
        |           |          |            |          Groups
        |           |          |                          |
        |           |          |            |&lt;------HI----|
        |           |          |            |(Multicast MobOpt)
        |           |          |            |             |
        |           |          |            |---HAck-----&gt;|
        |           |          |            |(Multicast AckOpt)
        |           |          |            |             |
        |           |          |            |             |
        |           |          |            |HI/HAck(optional)
        |           |          |            |&lt;- - - - - -&gt;|
        |           |          |            |             |
        |           |          |          forward         |
        |           |          |          packets =======&gt;|
        |           |          |            |             |
        |&lt;======================================== deliver packets
        |           |          |            |             |

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Reactive Multicast Handover for PFMIPv6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Protocol Details</h3>

<p>
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Generals</h3>

<p>:::TODO:
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Protocol Operations Specific to FMIPv6</h3>

<p>:::TODO:
</p>
<a name="det-pfmipv6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Protocol Operations Specific to PFMIPv6</h3>

<p>:::TODO:
</p>
<a name="det-IPv4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.1"></a><h3>4.3.1.&nbsp;
IPv4 Support Considerations</h3>

<p>:::TODO:
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Message Formats</h3>

<p>
</p>
<a name="m-prtrtadv"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Multicast Indicator for Proxy Router Advertisement (PrRtAdv)</h3>

<p>An FMIPv6 AR will indicate its multicast support by activating an
        M-bit in its Proxy Router Advertisements (PrRtAdv). The message
        extension is of the following form.
</p><br /><hr class="insert" />
<a name="fig-m-PrRtAdv"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |      Type     |      Code     |           Checksum            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Subtype    |M|  Reserved   |           Identifier          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Options ...
     +-+-+-+-+-+-+-+-+-+-+-+-
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Multicast Indicator Bit for Proxy Router Advertisement           (PrRtAdv) Message&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<a name="m-mobheader"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Extensions to Existing Mobility Header Messages</h3>

<p>Multicast listener context of an MN is transferred in fast handover
        operations from PAR/PMAG to NAR/NMAG within a new Multicast Mobility
        Option, and acknowledged by a corresponding Acknowledgement Option.
        Depending on the specific handover scenario and protocol in use, the
        corresponding option is included within the mobility option list of
        HI/HAck only (PFMIPv6), or of FBU/FBAck/HI/HAck (FMIPv6).
</p>
<a name="multicast-option"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
New Multicast Mobility Option</h3>

<p>The Multicast Mobility Option contains the current listener state
        record of the MN as obtained from the MLD Report message, and has the
        format displayed in <a class='info' href='#mcast-mobopt'>Figure&nbsp;7<span> (</span><span class='info'>Mobility Header Multicast Option</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="mcast-mobopt"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |   Length      | Option-Code   |   Reserved    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     +                                                               +
     |                                                               |
     +                    MLD (IGMP) Report Payload                  +
     ~                                                               ~
     ~                                                               ~
     |                                                               |
     +                                                               +
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: Mobility Header Multicast Option&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<p>Type: XX
</p>
<p>Length: 8-bit unsigned integer. The size of this option in 8 octets
        including the Type, Option-Code, and Length fields.
</p>
<p></p>
<blockquote class="text"><dl>
<dt>Option-Code:</dt>
<dd>
<blockquote class="text"><dl>
<dt>1:</dt>
<dd>IGMPv3 Payload Type
</dd>
<dt>2:</dt>
<dd>MLDv2 Payload Type
</dd>
</dl></blockquote>
</dd>
</dl></blockquote><p>Reserved: MUST be set to zero by the sender and MUST be
        ignored by the receiver.
</p>
<p>MLD (IGMP) Report Payload: this field is composed of the MLD (IGMP)
        Report message after stripping its ICMP header line. Corresponding
        message formats are defined for MLDv2 in <a class='info' href='#RFC3810'>[RFC3810]<span> (</span><span class='info'>Vida, R. and L. Costa, &ldquo;Multicast Listener Discovery Version 2 (MLDv2) for IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a>, and for IGMPv3 in <a class='info' href='#RFC3376'>[RFC3376]<span> (</span><span class='info'>Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &ldquo;Internet Group Management Protocol, Version 3,&rdquo; October&nbsp;2002.</span><span>)</span></a>.
</p>
<p><a class='info' href='#mld-payload'>Figure&nbsp;8<span> (</span><span class='info'>MLDv2 Report Payload</span><span>)</span></a> shows the Report Payload for
        MLDv2, while the payload format for IGMPv3 is defined correspondingly
        (see Section 5.2. of <a class='info' href='#RFC3810'>[RFC3810]<span> (</span><span class='info'>Vida, R. and L. Costa, &ldquo;Multicast Listener Discovery Version 2 (MLDv2) for IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a> for the definition
        of Multicast Address Records).
</p><br /><hr class="insert" />
<a name="mld-payload"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |           Reserved            |Nr of Mcast Address Records (M)|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |     .                                                               .
    .                  Multicast Address Record [1]                 .
    .                                                               .
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    .                                                               .
    .                  Multicast Address Record [2]                 .
    .                                                               .
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                               .                               |
    .                               .                               .
    |                               .                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    .                                                               .
    .                  Multicast Address Record [M]                 .
    .                                                               .
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;8: MLDv2 Report Payload&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="number-of-addresses"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.1"></a><h3>5.3.1.&nbsp;
Number of Addresses</h3>

<p>
</p>
<a name="multicast-ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
New Multicast Acknowledgement Option</h3>

<p>The Multicast Acknowledgement Option reports on the status of
        context transfer and contains the list of state records that could not
        successfully be transferred to the next access network. It has the
        format displayed in <a class='info' href='#mcast-AckOpt'>Figure&nbsp;9<span> (</span><span class='info'>Mobility Header Multicast Acknowledgement Option</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="mcast-AckOpt"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |     Type      |   Length      | Option-Code   |    Status     |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                                                               |
     +                                                               +
     |                                                               |
     +           MLD (IGMP) Unsupported Report Payload               +
     ~                                                               ~
     ~                                                               ~
     |                                                               |
     +                                                               +
     |                                                               |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;9: Mobility Header Multicast Acknowledgement Option&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<p>Type: XX
</p>
<p>Length: 8-bit unsigned integer. The size of this option in 8
        octets. The length is 1 when MLD (IGMP) Unsupported Report Payload
        field contains no Mcast Address Record.
</p>
<p>Option-Code: 0
</p>
<p></p>
<blockquote class="text"><dl>
<dt>Status:</dt>
<dd>
<blockquote class="text"><dl>
<dt>1:</dt>
<dd>Report Payload type unsupported
</dd>
<dt>2:</dt>
<dd>Requested group service unsupported
</dd>
<dt>3:</dt>
<dd>Requested group service administratively
                prohibited
</dd>
</dl></blockquote>
</dd>
</dl></blockquote><p>Reserved: MUST be set to zero by the sender and MUST be
        ignored by the receiver.
</p>
<p>MLD (IGMP) Unsupported Report Payload: this field is syntactically
        identical to the MLD (IGMP) Report Payload field described in <a class='info' href='#multicast-option'>Section&nbsp;5.3<span> (</span><span class='info'>New Multicast Mobility Option</span><span>)</span></a>, but is only composed of those
        multicast address records that are not supported or prohibited in the
        new access network. This field MUST always contain the first header
        line (reserved field and Nr of Mcast Address Records), but MUST not
        contain any Mcast Address Record, if status code equals 1.
</p>
<p>Note that group subscriptions to specific sources may be rejected
        at the destination network, and thus the composition of multicast
        address records may differ from initial requests within an MLD (IGMP)
        Report Payload option.
</p>
<a name="MLD-compat"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
MLD (IGMP) Compatibility Aspects</h3>

<p>:::TODO:
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>:::TODO:
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This document defines new Mobility Options that need Type assignment
      from the Mobility Options Type registry at
      http://www.iana.org/assignments/mobility-parameters ....
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3775">[RFC3775]</a></td>
<td class="author-text">Johnson, D., Perkins, C., and J. Arkko, &ldquo;<a href="http://tools.ietf.org/html/rfc3775">Mobility Support in IPv6</a>,&rdquo; RFC&nbsp;3775, June&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3775.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5213">[RFC5213]</a></td>
<td class="author-text">Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K., and B. Patil, &ldquo;<a href="http://tools.ietf.org/html/rfc5213">Proxy Mobile IPv6</a>,&rdquo; RFC&nbsp;5213, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5213.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5568">[RFC5568]</a></td>
<td class="author-text">Koodli, R., &ldquo;<a href="http://tools.ietf.org/html/rfc5568">Mobile IPv6 Fast Handovers</a>,&rdquo; RFC&nbsp;5568, July&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5568.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mipshop-pfmipv6">[I-D.ietf-mipshop-pfmipv6]</a></td>
<td class="author-text">Yokota, H., Chowdhury, K., Koodli, R., Patil, B., and F. Xia, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mipshop-pfmipv6-13.txt">Fast Handovers for Proxy Mobile IPv6</a>,&rdquo; draft-ietf-mipshop-pfmipv6-13 (work in progress), April&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mipshop-pfmipv6-13.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1112">[RFC1112]</a></td>
<td class="author-text"><a href="mailto:deering@PESCADERO.STANFORD.EDU">Deering, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1112">Host extensions for IP multicasting</a>,&rdquo; STD&nbsp;5, RFC&nbsp;1112, August&nbsp;1989 (<a href="http://www.rfc-editor.org/rfc/rfc1112.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4605">[RFC4605]</a></td>
<td class="author-text">Fenner, B., He, H., Haberman, B., and H. Sandick, &ldquo;<a href="http://tools.ietf.org/html/rfc4605">Internet Group Management Protocol (IGMP) / Multicast Listener Discovery (MLD)-Based Multicast Forwarding ("IGMP/MLD Proxying")</a>,&rdquo; RFC&nbsp;4605, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4605.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3810">[RFC3810]</a></td>
<td class="author-text">Vida, R. and L. Costa, &ldquo;<a href="http://tools.ietf.org/html/rfc3810">Multicast Listener Discovery Version 2 (MLDv2) for IPv6</a>,&rdquo; RFC&nbsp;3810, June&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3810.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3376">[RFC3376]</a></td>
<td class="author-text">Cain, B., Deering, S., Kouvelas, I., Fenner, B., and A. Thyagarajan, &ldquo;<a href="http://tools.ietf.org/html/rfc3376">Internet Group Management Protocol, Version 3</a>,&rdquo; RFC&nbsp;3376, October&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3376.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC5757">[RFC5757]</a></td>
<td class="author-text">Schmidt, T., Waehlisch, M., and G. Fairhurst, &ldquo;<a href="http://tools.ietf.org/html/rfc5757">Multicast Mobility in Mobile IP Version 6 (MIPv6): Problem Statement and Brief Survey</a>,&rdquo; RFC&nbsp;5757, February&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5757.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="fmcast-mip6">[fmcast-mip6]</a></td>
<td class="author-text">Suh, K., Kwon, D., Suh, Y., and Y. Park, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-suh-mipshop-fmcast-mip6-00.txt">Fast Multicast Protocol for Mobile IPv6 in the fast handovers
          environments</a>,&rdquo; draft-suh-mipshop-fmcast-mip6-00 (work in progress), July&nbsp;2004 (<a href="http://tools.ietf.org/html/draft-suh-mipshop-fmcast-mip6-00">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="FMIPv6-Analysis">[FMIPv6-Analysis]</a></td>
<td class="author-text">Schmidt, TC. and M. Waehlisch, &ldquo;<a href="http://dx.doi.org/10.1007/s11235-005-4321-4">Predictive versus Reactive - Analysis of Handover Performance
          and Its Implications on IPv6 and Multicast Mobility</a>,&rdquo; Telecommunication Systems&nbsp;Vol 33, No. 1-3, pp. 131-154, November&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-multimob-pmipv6-base-solution">[I-D.ietf-multimob-pmipv6-base-solution]</a></td>
<td class="author-text">Schmidt, T., Waehlisch, M., and S. Krishnan, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-multimob-pmipv6-base-solution-00.txt">Base Deployment for Multicast Listener Support in PMIPv6 Domains</a>,&rdquo; draft-ietf-multimob-pmipv6-base-solution-00 (work in progress), February&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-multimob-pmipv6-base-solution-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="PMIPv6v4">[PMIPv6v4]</a></td>
<td class="author-text">Wakikawa, R. and S. Gundavelli, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-netlmm-pmip6-ipv4-support-04.txt">IPv4 Support for Proxy Mobile IPv6</a>,&rdquo; draft-ietf-netlmm-pmip6-ipv4-support-04 (work in progress), July&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-netlmm-pmip6-ipv4-support-04.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Thomas C. Schmidt</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">HAW Hamburg</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dept. Informatik</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Berliner Tor 7</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hamburg,   D-20099</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Schmidt@informatik.haw-hamburg.de">Schmidt@informatik.haw-hamburg.de</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Matthias Waehlisch</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">link-lab</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hoenower Str. 35</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Berlin  D-10318</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mw@link-lab.net">mw@link-lab.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Rajeev Koodli</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">30 International Place</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Xuanwu District,</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tewksbury  MA 01876</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rkoodli@cisco.com">rkoodli@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Godred Fairhurst</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Aberdeen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">School of Engineering</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Aberdeen  AB24 3UE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:gorry@erg.abdn.ac.uk">gorry@erg.abdn.ac.uk</a></td></tr>
</table>
</body></html>
