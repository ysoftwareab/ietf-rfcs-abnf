



PIM WG                                                      Stig. Venaas
Internet-Draft                                       Cisco Systems, Inc.
Intended status: Standards Track                            Zheng. Zhang
Expires: January 6, 2017                                 ZTE Corporation
                                                            July 5, 2016


                              PIM IGP EXT
                       draft-zhang-pim-igp-ext-00

Abstract

   This document introduces a method to advertise multicast source
   information.  The information will be flooded all over the network by
   OSPF, ISIS and Babel extension.  This allows PIM Sparse Mode routers
   with connected receivers to build a Shortest Path Tree straight away,
   with no need for a shared a tree.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 6, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of




Venaas & Zhang           Expires January 6, 2017                [Page 1]

Internet-Draft                 PIM IGP EXT                     July 2016


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Advertisement mechanism . . . . . . . . . . . . . . . . . . .   3
   4.  IGP extension . . . . . . . . . . . . . . . . . . . . . . . .   3
     4.1.  OSPF extension  . . . . . . . . . . . . . . . . . . . . .   3
     4.2.  ISIS extension  . . . . . . . . . . . . . . . . . . . . .   4
     4.3.  Babel extension . . . . . . . . . . . . . . . . . . . . .   5
   5.  Security Consideration  . . . . . . . . . . . . . . . . . . .   5
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Terminology

   RP: Rendezvous Point.

   RPF: Reverse Path Forwarding.

   SPT: Shortest Path Tree.

   FHR: First Hop Router, directly connected to the source.

   LHR: Last Hop Router, directly connected to the receiver.

   SG Mapping: Multicast source to group mapping.

   MSGI: Multicast Source and group Information as abbreviation.

2.  Introduction

   [RFC4601] and [RFC7761] introduces that RP can be used to collect the
   receiver and source information.  Obviously, RP may be bottleneck in
   some busy network.  Though the RP-mapping mechanism [RFC6226] is used
   to make different RP in charge of different groups, it makes the
   network management more difficult and complex.

   [I-D.ietf-pim-source-discovery-bsr] defines an effective way to
   deliver multicast information by the way of PIM packet flooding.
   This function is very useful in network with the routers that are all
   credible and controllable.

   Some routers may be attacked or forged in some networks.  In these
   networks, the source information announcement may be forged.  There



Venaas & Zhang           Expires January 6, 2017                [Page 2]

Internet-Draft                 PIM IGP EXT                     July 2016


   is authentication method in IGP advertisement, such as OSPF, ISIS and
   Babel.  Authentication can prevent a router from injecting messages
   with non-existing multicast sources.  So the source information
   announcement may be carried in OSPF, ISIS and Babel extension.

3.  Advertisement mechanism

   OSPF and ISIS are deployed widely in internet.  And the two protocols
   are the most popular and important routing protocol.  The flooding
   feature is an effective way to advertise the change of network
   topology.  In order to advertise the MSGI, the IGP flooding feature
   is beneficial to spread the information to PIM routers that have, or
   potentially may have, connected receivers.

   Babel [RFC6126] is a loop-avoiding distance-vector routing protocol
   that is robust and efficient both in ordinary wired networks and in
   wireless mesh networks.  And multicast service is useful in wired
   networks and wireless networks.  [RFC7298] defines the authentication
   method of Babel.  Babel extension can be used to delivery MSGI.

   When a router starts receiving packets from a directly connected
   source, it should advertise a MSGI for the source in the IGP, and
   keep doing so as long as the source is active.  Along with the IGP
   flooding, the MSGI will quickly spread all over the network.

   All routers receive the advertisement of the MSGI after flooding.  A
   router that is a LHR, joins the SPT towards the announced source
   according to standard PIM Sparse Mode procedures, by sending a join
   to the RPF neighbor towards the source.

   Routers that do not have any connected receivers store the MSGI, such
   that they can immediately join the SPT if they later should become a
   LHR.

4.  IGP extension

4.1.  OSPF extension

   A new type of the OSPF Router Information(RI) Opaque LSA [RFC7770] is
   defined for OSPF MSGI capability.  According to the existed
   capability, type 6 or later can be used to indicate MSGI capability.
   And the same for OSPFv2 and OSPFv3.

   A new OSPF Router Information(RI) TLV is defined for MSGI
   advertisement.  The format is:






Venaas & Zhang           Expires January 6, 2017                [Page 3]

Internet-Draft                 PIM IGP EXT                     July 2016


         0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |            Type               |            Length             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                      Group Address count                      |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |              Group Address (Encoded-Group format)             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                         Src Count                             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |            Src Address 1 (Encoded-Unicast format)             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |            Src Address 2 (Encoded-Unicast format)             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                               .                               |
       |                               .                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |            Src Address m (Encoded-Unicast format)             |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   o  Type : The value is TBD. 12 or later digit can be used.

   o  Length: The length of the value.

   o  Group Address count: The count of Group Address.

   o  Group Address: The group we are announcing sources for.  The
      format for this address is given in the Encoded-Group format in
      [RFC7761].

   o  Src Count: How many unicast encoded sources address encodings
      follow.

   o  Src Address: The source address for the corresponding group.  The
      format for these addresses is given in the Encoded-Unicast address
      in [RFC7761].

   In the case where a source stops sending, the FHR simply stops
   announcing the TLVs.  Then the other routers delete the source
   information.

4.2.  ISIS extension

   A new ISIS TLV is defined for the MSGI advertisement.  The format of
   the TLV is same as OSPF.





Venaas & Zhang           Expires January 6, 2017                [Page 4]

Internet-Draft                 PIM IGP EXT                     July 2016


4.3.  Babel extension

   A new Babel TLV is defined for MSGI advertisement according to
   [RFC7557].  The format is same as OSPF.

5.  Security Consideration

   OSPF and ISIS protocol have the capability of authentication.  The
   security function can be used unchanged for the MSGI advertisement.

   The authentication method defined in Babel [RFC7298] can be used
   unchanged for MSGI advertisement.

6.  IANA Considerations

   A new value of OSPF Router Informational Capability Bits need to be
   added.  A new OSPF MSGI TLV should be added.

   A new MSGI TLV need to be added for ISIS MSGI advertisement.

   A new Babel TLV is defined for MSGI advertisement according to
   [RFC7557].

7.  Normative References

   [I-D.ietf-pim-source-discovery-bsr]
              Wijnands, I., Venaas, S., Brig, M., and A. Jonasson, "PIM
              flooding mechanism and source discovery", draft-ietf-pim-
              source-discovery-bsr-04 (work in progress), March 2016.

   [RFC4601]  Fenner, B., Handley, M., Holbrook, H., and I. Kouvelas,
              "Protocol Independent Multicast - Sparse Mode (PIM-SM):
              Protocol Specification (Revised)", RFC 4601,
              DOI 10.17487/RFC4601, August 2006,
              <http://www.rfc-editor.org/info/rfc4601>.

   [RFC6126]  Chroboczek, J., "The Babel Routing Protocol", RFC 6126,
              DOI 10.17487/RFC6126, April 2011,
              <http://www.rfc-editor.org/info/rfc6126>.

   [RFC6226]  Joshi, B., Kessler, A., and D. McWalter, "PIM Group-to-
              Rendezvous-Point Mapping", RFC 6226, DOI 10.17487/RFC6226,
              May 2011, <http://www.rfc-editor.org/info/rfc6226>.

   [RFC7298]  Ovsienko, D., "Babel Hashed Message Authentication Code
              (HMAC) Cryptographic Authentication", RFC 7298,
              DOI 10.17487/RFC7298, July 2014,
              <http://www.rfc-editor.org/info/rfc7298>.



Venaas & Zhang           Expires January 6, 2017                [Page 5]

Internet-Draft                 PIM IGP EXT                     July 2016


   [RFC7557]  Chroboczek, J., "Extension Mechanism for the Babel Routing
              Protocol", RFC 7557, DOI 10.17487/RFC7557, May 2015,
              <http://www.rfc-editor.org/info/rfc7557>.

   [RFC7761]  Fenner, B., Handley, M., Holbrook, H., Kouvelas, I.,
              Parekh, R., Zhang, Z., and L. Zheng, "Protocol Independent
              Multicast - Sparse Mode (PIM-SM): Protocol Specification
              (Revised)", STD 83, RFC 7761, DOI 10.17487/RFC7761, March
              2016, <http://www.rfc-editor.org/info/rfc7761>.

   [RFC7770]  Lindem, A., Ed., Shen, N., Vasseur, JP., Aggarwal, R., and
              S. Shaffer, "Extensions to OSPF for Advertising Optional
              Router Capabilities", RFC 7770, DOI 10.17487/RFC7770,
              February 2016, <http://www.rfc-editor.org/info/rfc7770>.

Authors' Addresses

   Stig Venaas
   Cisco Systems, Inc.
   Tasman Drive
   San Jose  CA  95134
   USA

   Email: stig@cisco.com


   Zheng(Sandy) Zhang
   ZTE Corporation
   No. 50 Software Ave, Yuhuatai Distinct
   Nanjing
   China

   Email: zhang.zheng@zte.com.cn


















Venaas & Zhang           Expires January 6, 2017                [Page 6]
