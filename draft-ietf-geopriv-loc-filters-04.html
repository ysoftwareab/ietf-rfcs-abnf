<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>A Document Format for Filtering and Reporting Location
      Notications in the Presence Information Document Format Location Object (PIDF-LO)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="A Document Format for Filtering and Reporting Location
      Notications in the Presence Information Document Format Location Object (PIDF-LO)">
<meta name="keywords" content="I-D, Internet-Draft, geopriv, location">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">GEOPRIV</td><td class="header">R. Mahy</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Plantronics</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">B. Rosen, Ed.</td></tr>
<tr><td class="header">Expires: January 15, 2010</td><td class="header">NeuStar</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">H. Tschofenig</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 14, 2009</td></tr>
</table></td></tr></table>
<h1><br />A Document Format for Filtering and Reporting Location
      Notications in the Presence Information Document Format Location Object (PIDF-LO)<br />draft-ietf-geopriv-loc-filters-04.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 15, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p> This document describes filters that limit asynchronous location notifications to
        compelling events, designed as an extension to RFC 4661 "An XML-Based Format for Event
        Notification Filtering". The resulting location information is conveyed in existing location
        formats wrapped in the Presence Information Document Format (PIDF-LO).
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Terminology<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction<br />
<a href="#anchor3">3.</a>&nbsp;
Filter Definitions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
Horizontal and Vertical Movement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
Changes in Speed<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.3.</a>&nbsp;
Changes in Value<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.4.</a>&nbsp;
Enter or Exit a Region<br />
<a href="#anchor8">4.</a>&nbsp;
Rate Control<br />
<a href="#schema">5.</a>&nbsp;
XML Schema<br />
<a href="#anchor9">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor10">7.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">7.1.</a>&nbsp;
Content-type registration for 'application/location-delta-filter+xml'<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">7.2.</a>&nbsp;
URN Sub-Namespace Registration for
urn:ietf:params:xml:ns:location-filter<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">7.3.</a>&nbsp;
Schema Registration For location-filter<br />
<a href="#anchor14">8.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informational References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Terminology</h3>

<p> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD
        NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as
        described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p> Conveying location in <a class='info' href='#RFC4119'>PIDF-LO<span> (</span><span class='info'>Peterson, J., &ldquo;A Presence-based GEOPRIV Location Object Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> [RFC4119] bodies is described in <a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a>. Asynchronous notification of location
        information is unfortunately more complex since many forms of location are measured as a
        continuous gradient. Unlike notifications using discret quantities, it is difficult to know
        when a change in location is large enough to warrant a notification. The mechanism described
        in this document defines filters as an extension to RFC 4661 <a class='info' href='#RFC4661'>[RFC4661]<span> (</span><span class='info'>Khartabil, H., Leppanen, E., Lonnfors, M., and J. Costa-Requena, &ldquo;An Extensible Markup Language (XML)-Based Format for Event Notification Filtering,&rdquo; September&nbsp;2006.</span><span>)</span></a>, which
        limits location notification to events that are of relevance to the subscriber. These
        filters persist until they are changed with a replacement filter. 
</p>
<p> The frequency of notifications necessary for various geographic location applications
        varies dramatically. The subscriber should be able to get asynchronous notifications with
        appropriate frequency and granularity, without having to issue a large number of
        notifications that are not important to the application. This section of this document
        defines an extension to <a class='info' href='#RFC4661'>[RFC4661]<span> (</span><span class='info'>Khartabil, H., Leppanen, E., Lonnfors, M., and J. Costa-Requena, &ldquo;An Extensible Markup Language (XML)-Based Format for Event Notification Filtering,&rdquo; September&nbsp;2006.</span><span>)</span></a>'s TriggerType element to describe
        interesting conditions or events. The terminal elements in this format are utilizing <a class='info' href='#GML'>Geographic Markup Language (GML)<span> (</span><span class='info'>OpenGIS, &ldquo;Open Geography Markup Language (GML) Implementation Specification,&rdquo; January&nbsp;2003.</span><span>)</span></a> [GML] data types and civic address
        elements. 
</p>
<p> This document also defines a MIME type for this location filter format, namely
        'application/location-delta-filter+xml'. 
</p>
<p> This document defines the following as an initial list of events that could be interesting
        to a subscriber:</p>
<ol class="text">
<li> the Target moves more than a specified distance horizontally or vertically since the
            last notification 
</li>
<li>the Target exceeds a specified speed 
</li>
<li>the Target enters or exits one or more GML objects (for example, a set of 2-dimensional
            or 3-dimensional regions) included or referenced in the filter. 
</li>
<li>one or more of the values of the specified address labels has changed for the location
            of the Target (for example, the value of the &lt;A1&gt; civic address element
            has changed from 'California' to 'Nevada') 
</li>
</ol>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Filter Definitions</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Horizontal and Vertical Movement</h3>

<p>Changes in the position of the Target require extensions to the functionality of RFC 4661
          and a simplying assumption. The former aspect refers to the need to enhance the capability
          to extract a value from inside an XML element, in our example from the &lt;pos&gt;
          element, which describes the user's location. Regarding the latter aspect we assume that
          the user's location information of any shape and uncertainty is converted into a point
          before the comparison regarding the movement with the previously notified location takes
          place. 
</p>
<p>The example shown in <a class='info' href='#movement-example'>Figure&nbsp;1<span> (</span><span class='info'>Movement Filter Example</span><span>)</span></a> references the latitude value
          (using the "gml:pos[1]" notation) and the 'by' attribute of the &lt;changed&gt;
          element indicates the desired change that triggers a notification to be sent.
</p>
<p>
          <br /><hr class="insert" />
<a name="movement-example"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
    &lt;ns-bindings&gt;
        &lt;ns-binding prefix="pidf"
              urn="urn:ietf:params:xml:ns:pidf"/&gt;
        &lt;ns-binding prefix="gp"
              urn="urn:ietf:params:xml:ns:pidf:geopriv10"/&gt;
        &lt;ns-binding prefix="dyn"
              urn="http://www.opengis.net/gml"/&gt;
    &lt;/ns-bindings&gt;
    &lt;filter id="123" uri="sip:presentity@example.com"&gt;
        &lt;trigger&gt;
            &lt;changed by="100"&gt;
                /pidf:presence/pidf:device/gp:geopriv/
                 gp:location-info/gml:Point/gml:pos[1]
            &lt;/changed&gt;
        &lt;/trigger&gt;
    &lt;/filter&gt;
&lt;/filter-set&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Movement Filter Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Changes in Speed</h3>

<p>Speed changes can be filtered with the help of RFC 4661 and the functionality provided in
            <a class='info' href='#I-D.singh-geopriv-pidf-lo-dynamic'>[I&#8209;D.singh&#8209;geopriv&#8209;pidf&#8209;lo&#8209;dynamic]<span> (</span><span class='info'>Schulzrinne, H., Singh, V., Tschofenig, H., and M. Thomson, &ldquo;Dynamic Extensions to the Presence Information Data Format Location Object (PIDF-LO),&rdquo; March&nbsp;2010.</span><span>)</span></a>, which extends the PIDF-LO with
          support for spatial orientation, speed, heading, and acceleration. 
</p>
<p><a class='info' href='#speed-example'>Figure&nbsp;2<span> (</span><span class='info'>Speed Change Example</span><span>)</span></a> shows an example for a trigger that fires when the speed
          of the Target changes by 20 meters per second.
</p>
<p>
          <br /><hr class="insert" />
<a name="speed-example"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
    &lt;ns-bindings&gt;
        &lt;ns-binding prefix="pidf"
            urn="urn:ietf:params:xml:ns:pidf"/&gt;
        &lt;ns-binding prefix="gp"
            urn="urn:ietf:params:xml:ns:pidf:geopriv10"/&gt;
        &lt;ns-binding prefix="dyn"
            urn="urn:ietf:params:xml:schema:pidf:dynamic"/&gt;
    &lt;/ns-bindings&gt;
    &lt;filter id="123" uri="sip:presentity@example.com"&gt;
        &lt;trigger&gt;
            &lt;changed by="3"&gt;
                /pidf:presence/pidf:tuple/pidf:status/
                 gp:geopriv/gp:location-info/dyn:Dynamic/dyn:speed
            &lt;/changed&gt;
        &lt;/trigger&gt;
    &lt;/filter&gt;
&lt;/filter-set&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Speed Change Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Changes in Value</h3>

<p>Changes in values, for example related to civic location information, can be provided by
          the base functionality offered with RFC 4661. <a class='info' href='#value-change'>Figure&nbsp;3<span> (</span><span class='info'>Speed Change Example</span><span>)</span></a> shows an
          example where a notification is sent when the civic address tokens A1, A2, A3, or PC
          change. 
</p>
<p>
          <br /><hr class="insert" />
<a name="value-change"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
    &lt;ns-bindings&gt;
        &lt;ns-binding prefix="pidf"
              urn="urn:ietf:params:xml:ns:pidf"/&gt;
        &lt;ns-binding prefix="gp"
              urn="urn:ietf:params:xml:ns:pidf:geopriv10"/&gt;
        &lt;ns-binding prefix="cl"
              urn="urn:ietf:params:xml:ns:pidf:geopriv10:civilLoc"/&gt;
    &lt;/ns-bindings&gt;
    &lt;filter id="123" uri="sip:presentity@example.com"&gt;
        &lt;trigger&gt;
            &lt;changed&gt;
                /pidf:presence/pidf:tuple/pidf:status/gp:geopriv/
                 gp:location-info/cl:civilAddress/cl:A1
            &lt;/changed&gt;
            &lt;changed&gt;
                /pidf:presence/pidf:tuple/pidf:status/gp:geopriv/
                 gp:location-info/cl:civilAddress/cl:A2
            &lt;/changed&gt;
            &lt;changed&gt;
                /pidf:presence/pidf:tuple/pidf:status/gp:geopriv/
                 gp:location-info/cl:civilAddress/cl:A3
            &lt;/changed&gt;
            &lt;changed&gt;
                /pidf:presence/pidf:tuple/pidf:status/gp:geopriv/
                 gp:location-info/cl:civilAddress/cl:PC
            &lt;/changed&gt;
        &lt;/trigger&gt;
    &lt;/filter&gt;
&lt;/filter-set&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Speed Change Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Enter or Exit a Region</h3>

<p> The &lt;enterOrExit&gt; condition is satisfied when the Target enters or exits a
          named 2-dimensional or 3-dimensional region described by a polygon (as defined in Section
          5.2.2 of <a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a>), or a circle (as defined in Section 5.2.3 of <a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a>). 
</p>
<p><a class='info' href='#containment-2d'>Figure&nbsp;4<span> (</span><span class='info'>&lt;enterOrExit&gt; (2D) Filter Example</span><span>)</span></a> and <a class='info' href='#containment-3d'>Figure&nbsp;5<span> (</span><span class='info'>&lt;enterOrExit&gt; (3D) Filter Example</span><span>)</span></a> shows filter examples
          whereby a notification is sent when the Target enters or exits an area described by a
          circle and by a 3d polygon.
</p>
<p>
          <br /><hr class="insert" />
<a name="containment-2d"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;filter-set
    xmlns="urn:ietf:params:xml:ns:simple-filter"
    xmlns:con="urn:ietf:params:xml:ns:pidf:geopriv10:containment"
    xmlns:gml="http://www.opengis.net/gml"
    xmlns:gs="http://www.opengis.net/pidflo/1.0"&gt;

    &lt;filter id="123" uri="sip:presentity@example.com"&gt;
        &lt;con:enterOrExit&gt;
            &lt;gs:Circle srsName="urn:ogc:def:crs:EPSG::4326"&gt;
                &lt;gml:pos&gt;42.5463 -73.2512&lt;/gml:pos&gt;
                &lt;gs:radius uom="urn:ogc:def:uom:EPSG::9001"&gt;
                    850.24
                &lt;/gs:radius&gt;
            &lt;/gs:Circle&gt;
        &lt;/con:enterOrExit&gt;
    &lt;/filter&gt;
&lt;/filter-set&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: &lt;enterOrExit&gt; (2D) Filter Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        
</p>
<p>
          <br /><hr class="insert" />
<a name="containment-3d"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"
    xmlns:con="urn:ietf:params:xml:ns:pidf:geopriv10:containment"
    xmlns:gml="http://www.opengis.net/gml"&gt;

    &lt;filter id="123" uri="sip:presentity@example.com"&gt;
        &lt;con:enterOrExit&gt;
            &lt;gml:Polygon srsName="urn:ogc:def:crs:EPSG::4326"&gt;
                &lt;gml:exterior&gt;
                    &lt;gml:LinearRing&gt;
                        &lt;gml:posList&gt;
                        43.311 -73.422 43.111 -73.322
                        43.111 -73.222 43.311 -73.122
                        43.411 -73.222 43.411 -73.322
                        43.311 -73.422
                    &lt;/gml:posList&gt;
                    &lt;/gml:LinearRing&gt;
                &lt;/gml:exterior&gt;
            &lt;/gml:Polygon&gt;
        &lt;/con:enterOrExit&gt;
    &lt;/filter&gt;
&lt;/filter-set&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: &lt;enterOrExit&gt; (3D) Filter Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

        
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Rate Control</h3>

<p>The throttle mechanisms <a class='info' href='#I-D.ietf-sipcore-event-rate-control'>[I&#8209;D.ietf&#8209;sipcore&#8209;event&#8209;rate&#8209;control]<span> (</span><span class='info'>Niemi, A., Kiss, K., and S. Loreto, &ldquo;Session Initiation Protocol (SIP) Event Notification Extension for Notification Rate Control,&rdquo; February&nbsp;2010.</span><span>)</span></a> can be used to
        control the rate of notifications. The "throttle", "force" and "average" settings can filter
        notications by time.
</p>
<a name="schema"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
XML Schema</h3>

<p>
        <br /><hr class="insert" />
<a name="schema-fig"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema
    targetNamespace="urn:ietf:params:xml:ns:location-filter"
    xmlns:xs="http://www.w3.org/2001/XMLSchema"
    xmlns:gml="http://www.opengis.net/gml"&gt;

    &lt;!-- This element is an child element of the RFC 4661
            &lt;filter&gt; element.
       --&gt;
    &lt;xs:element name="enterOrExit" type="gml:FeaturePropertyType"/&gt;
&lt;/xs:schema&gt;
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: XML Schema&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p> Location information is typically very privacy sensitive. As such, notifications MUST be
        encrypted and integrity protected. 
</p>
<p> Additional privacy and security considerations are discussed in detail in <a class='info' href='#RFC5491'>[RFC5491]<span> (</span><span class='info'>Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations,&rdquo; March&nbsp;2009.</span><span>)</span></a>. 
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Content-type registration for 'application/location-delta-filter+xml'</h3>

<p>This specification requests the registration of a new MIME type according to the
          procedures of RFC 4288 <a class='info' href='#RFC4288'>[RFC4288]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December&nbsp;2005.</span><span>)</span></a> and guidelines in RFC 3023 <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St. Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>.
</p>
<p>
          </p>
<blockquote class="text"><dl>
<dt>MIME media type name:</dt>
<dd>application 
</dd>
<dt>MIME subtype name:</dt>
<dd>location-delta-filter+xml 
</dd>
<dt>Mandatory parameters:</dt>
<dd>none 
</dd>
<dt>Optional parameters:</dt>
<dd>charset; Indicates the character encoding of enclosed
              XML. 
</dd>
<dt>Encoding considerations:</dt>
<dd> Uses XML, which can employ 8-bit characters,
              depending on the character encoding used. See RFC 3023 <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St. Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>,
              Section 3.2.
</dd>
<dt>Security considerations:</dt>
<dd> See the "Security Considerations" section in
              this document.
</dd>
<dt>Interoperability considerations:</dt>
<dd>None
</dd>
<dt>Published specification:</dt>
<dd>RFCXXXX [NOTE TO IANA/RFC-EDITOR: Please replace
              XXXX with the RFC number of this specification.] 
</dd>
<dt>Applications which use this media type:</dt>
<dd> This content type supports the
              exchange of filters to throttle asynchronous notifications of location information. 
</dd>
<dt>Additional information:</dt>
<dd>
              
<blockquote class="text"><dl>
<dt>Magic Number:</dt>
<dd>N/A 
</dd>
<dt>File Extension:</dt>
<dd>N/A 
</dd>
<dt>Macintosh file type code:</dt>
<dd>N/A 
</dd>
</dl></blockquote>
            
</dd>
<dt>Personal and email address for further information:</dt>
<dd>Brian Rosen,
              br@brianrosen.net 
</dd>
<dt>Intended usage:</dt>
<dd>LIMITED USE 
</dd>
<dt>Author:</dt>
<dd>
              <br />
 This specification is a work item of the IETF GEOPRIV working
              group, with mailing list address &lt;geopriv@ietf.org&gt;. 
</dd>
<dt>Change controller:</dt>
<dd>
              <br />
The IESG &lt;iesg@ietf.org&gt; 
</dd>
</dl></blockquote><p>
        
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
URN Sub-Namespace Registration for
urn:ietf:params:xml:ns:location-filter</h3>

<p> This section registers a new XML namespace, as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>. 
</p>
<p>
          </p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd> The URI for this namespace is
              urn:ietf:params:xml:ns:location-filter. 
</dd>
<dt>Registrant Contact:</dt>
<dd> IETF, GEOPRIV working group,
              &lt;geopriv@ietf.org&gt;, as delegated by the IESG
              &lt;iesg@ietf.org&gt;. 
</dd>
<dt>XML:</dt>
<dd>
              <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

BEGIN
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
          "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;meta http-equiv="content-type"
     content="text/html;charset=iso-8859-1"/&gt;
  &lt;title&gt;Location Filter Namespace&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Namespace for PIDF-LO Location Filters&lt;/h1&gt;
  &lt;h2&gt;urn:ietf:params:xml:ns:location-filter&lt;/h2&gt;
  &lt;p&gt;See &lt;a href="[[[URL of published RFC]]]"&gt;RFCXXXX&lt;/a&gt;.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
END

</pre></div>
            
</dd>
</dl></blockquote><p>
        
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Schema Registration For location-filter</h3>

<p>This specification registers a schema, as per the guidelines in <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
</p>
<p>
          </p>
<blockquote class="text"><dl>
<dt></dt>
<dd>URI: please assign.
</dd>
<dt></dt>
<dd>Registrant Contact: IETF, GEOPRIV Working Group (geopriv@ietf.org), as delegated by
              the IESG (iesg@ietf.org).
</dd>
<dt></dt>
<dd>XML: The XML can be found as the sole content of <a class='info' href='#schema'>Section&nbsp;5<span> (</span><span class='info'>XML Schema</span><span>)</span></a>.
</dd>
</dl></blockquote><p>
        
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgments</h3>

<p> Thanks to Allan Thompson, James Winterbottom, and Martin Thomson for their comments. 
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="GML">[GML]</a></td>
<td class="author-text">OpenGIS, &ldquo;<a href="http://www.opengis.org/techno/implementation.htm">Open Geography Markup Language (GML) Implementation Specification</a>,&rdquo; OpenGIS&nbsp;OGC 02-023r4, January&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sipcore-event-rate-control">[I-D.ietf-sipcore-event-rate-control]</a></td>
<td class="author-text">Niemi, A., Kiss, K., and S. Loreto, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sipcore-event-rate-control-03.txt">Session Initiation Protocol (SIP) Event Notification Extension for Notification Rate Control</a>,&rdquo; draft-ietf-sipcore-event-rate-control-03 (work in progress), February&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sipcore-event-rate-control-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.singh-geopriv-pidf-lo-dynamic">[I-D.singh-geopriv-pidf-lo-dynamic]</a></td>
<td class="author-text">Schulzrinne, H., Singh, V., Tschofenig, H., and M. Thomson, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-singh-geopriv-pidf-lo-dynamic-09.txt">Dynamic Extensions to the Presence Information Data Format Location Object (PIDF-LO)</a>,&rdquo; draft-singh-geopriv-pidf-lo-dynamic-09 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-singh-geopriv-pidf-lo-dynamic-09.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3023">[RFC3023]</a></td>
<td class="author-text">Murata, M., St. Laurent, S., and D. Kohn, &ldquo;<a href="http://tools.ietf.org/html/rfc3023">XML Media Types</a>,&rdquo; RFC&nbsp;3023, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3023.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4119">[RFC4119]</a></td>
<td class="author-text">Peterson, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>,&rdquo; RFC&nbsp;4119, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4288">[RFC4288]</a></td>
<td class="author-text">Freed, N. and J. Klensin, &ldquo;<a href="http://tools.ietf.org/html/rfc4288">Media Type Specifications and Registration Procedures</a>,&rdquo; BCP&nbsp;13, RFC&nbsp;4288, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4288.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4661">[RFC4661]</a></td>
<td class="author-text">Khartabil, H., Leppanen, E., Lonnfors, M., and J. Costa-Requena, &ldquo;<a href="http://tools.ietf.org/html/rfc4661">An Extensible Markup Language (XML)-Based Format for Event Notification Filtering</a>,&rdquo; RFC&nbsp;4661, September&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4661.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5491">[RFC5491]</a></td>
<td class="author-text">Winterbottom, J., Thomson, M., and H. Tschofenig, &ldquo;<a href="http://tools.ietf.org/html/rfc5491">GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations</a>,&rdquo; RFC&nbsp;5491, March&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5491.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informational References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sip-location-conveyance">[I-D.ietf-sip-location-conveyance]</a></td>
<td class="author-text">Polk, J. and B. Rosen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-location-conveyance-13.txt">Location Conveyance for the Session Initiation Protocol</a>,&rdquo; draft-ietf-sip-location-conveyance-13 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-location-conveyance-13.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Rohan Mahy</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Plantronics</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">345 Encincal Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Santa Cruz, CA</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rohan@ekabal.com">rohan@ekabal.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brian Rosen (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NeuStar</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">470 Conrad Dr.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mars, PA  16046</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 724 382 1051</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:br@brianrosen.net">br@brianrosen.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hannes Tschofenig</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Linnoitustie 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Espoo  02600</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358 (50) 4871445</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Hannes.Tschofenig@gmx.net">Hannes.Tschofenig@gmx.net</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.tschofenig.priv.at">http://www.tschofenig.priv.at</a></td></tr>
</table>
</body></html>
