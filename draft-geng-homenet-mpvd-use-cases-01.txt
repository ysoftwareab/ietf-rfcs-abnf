Homenet Working Group                                            L. Geng
Internet-Draft                                                   H. Deng
Intended status: Standards Track                            China Mobile
Expires: January 4, 2016                                    July 3, 2015


         Use Cases for Multiple Provisioning Domain in Homenet
                  draft-geng-homenet-mpvd-use-cases-01

Abstract

   This document describes the use cases of multiple provisioning domain
   (MPVD) in homenet.  Although most residential networks nowadays are
   connected to a single ISP and normally subscribed to standard
   internet service, it is expected that much wider range of devices and
   services will become common in home networks.  Homenet defines such
   home network topologies with increasing number of devices with the
   assumption that it requires minimum configuration by residential
   user.  As described in the homenet architecture ([RFC7368]),
   multihoming and multi-service residential network will be more common
   in the near future.  Nodes in such network may commonly have multiple
   interfaces or subscribe to multiple services.  Potential types of
   PVD-aware nodes concerning interface and service specific
   provisioning domains are introduced in this document.  Based on this,
   different MPVD configuration examples are given.  These examples
   illustrate how PVD may be implemented in home network.  PVDs provide
   independent provisioning domains for different interfaces and
   services, which enables robust and flexible network configuration for
   these networks.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on January 4, 2016.





Geng & Deng              Expires January 4, 2016                [Page 1]

Internet-Draft               MPvD in Homenet                   July 2015


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  Terminology and Abbreviations . . . . . . . . . . . . . . . .   3
   3.  Homenet with Multiple PvDs  . . . . . . . . . . . . . . . . .   3
     3.1.  PvD associating an interface in homenet . . . . . . . . .   4
     3.2.  PvD associating a service in homenet  . . . . . . . . . .   4
     3.3.  PvD for hybrid purposes in home network . . . . . . . . .   5
   4.  Examples of MPvD Configurations in Home Network . . . . . . .   5
     4.1.  Homenet Connected to a Single ISP . . . . . . . . . . . .   5
     4.2.  Multihomed Homenet  . . . . . . . . . . . . . . . . . . .   7
   5.  PvD-aware node in homenet . . . . . . . . . . . . . . . . . .   8
   6.  Conveying PvD information . . . . . . . . . . . . . . . . . .   8
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
   9.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     10.1.  Normative References . . . . . . . . . . . . . . . . . .   9
     10.2.  Informative References . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   It is believed that future residential network will more commonly be
   multihomed, which potentially provides either resilience or more
   flexible services.  At the same time, more internal routing and
   multiple subnets are expected to commonly exist in such networks.
   For example, customer may want independent subnets for private and
   guest usages.  Homenet describes such future home network involving
   multiple routers and subnets ([RFC7368]).





Geng & Deng              Expires January 4, 2016                [Page 2]

Internet-Draft               MPvD in Homenet                   July 2015


   Multihoming and the increasing number of subnets bring challenges on
   provisioning of the network.  As stated in [RFC6418], such multihomed
   scenarios with nodes attached to multiple upstream networks may
   experience configuration conflicts, leading to a number of problems.
   To deal with these problem, draft-ietf-mif-mpvd-arch-10 provides a
   framework which introduces Provisioning Domain (PvD), which
   associates a certain interface and its related network configuration
   information.  Hence, corresponding network configuration can be used
   when packets are delivered through a particular interface.

   This document focuses on the MPvD use cases in residential network,
   particularly the IPV6-based homenet.  Based on the homenet topology,
   use cases of MPvD in homenet are described for both singlehomed and
   multihomed network configurations.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  Terminology and Abbreviations

   The terminology and abbreviations used in this document are defined
   in this section.

   o  ISP: Internet Service Provider.  A traditional network operator
      who provides internet access to customers.

   o  VSP: Virtual Service Provider.  An service provider who typically
      provides over-the-top services including but not limited to
      Internet of Things services (IoT).

3.  Homenet with Multiple PvDs

   In the most common multihoming scenarios, the home network has
   multiple physical connections to the ISP networks.  Section 3.2.2.2
   and 3.2.2.3 in [RFC7368] give the topology examples of such homenet.
   In the examples, homenet hosts are connected to a single or multiple
   customer edge routers (CE router), the CE routers are then connected
   to separate ISP networks.  For the particular topology with a single
   CE router given in Section 3.2.2.3 in [RFC7368], the CE router is a
   mif node since it has two interfaces connected to individual service
   provider routers.  Given that the CE router is a PvD-aware node, it
   may have a single PvD as it is connected to only one ISP and an
   additional PvD if connected to both.





Geng & Deng              Expires January 4, 2016                [Page 3]

Internet-Draft               MPvD in Homenet                   July 2015


   Apart from the multihoming resulted from physical connections to
   different ISPs, the future residential network may also logically
   connected to multiple Over-the-top service providers(i.e.  IoT
   service providers), who do not directly provide internet access
   service to customers.  For example, one customer may subscribe to a
   traditional service ISP for basic internet service, whilst subscribe
   to other providers for Internet of Things service.  The latter are
   likely to be VSPs as defined in Section 2 of this document, who are
   not bounded to any of the ISPs providing basic access service for the
   residential network.  In this case, a particular VSP may also use
   PvDs for customized network configurations purposes.  This enables
   the VSPs to provide independent and flexible provisioning between on
   its subscriber's network for different services.  Meanwhile, VSPs may
   also want to use independent PvDs to avoid the configuration
   conflicts between each other as stated in RFC6418.

   The following sections outline differenct types of PvD in homenet.

3.1.  PvD associating an interface in homenet

   One typical example of a PvD in home network is the one associating
   an interface with network configuration.  As described in
   ([RFC7368]), a multihomed CE router in homnet connects with multiple
   ISPs.  It may have several different uplink interfaces (i.e.  PON and
   LTE).  ISP can use PvDs to associate its network configurations with
   specific uplink interface the CE router provides to its subscriber.
   PvD information can be delivered by ISP through the corresponding
   uplink interface of the CE router.

   Another scenario is when the interior routers and hosts in homenet
   have multiple uplink interfaces(i.e.  LAN, WIFI, Zigbee).  Depending
   on the actual network implementation, PvDs for these interfaces can
   be either configured by ISPs or VSPs.  Since these devices connect
   with the internet through the CE router within homnnet, mechanism
   needs to be defined for PvD information delivery within homenet.

3.2.  PvD associating a service in homenet

   This type of PvD is useful in homenet when a provisioning domain is
   needed for a specific service that a homenet user subscribe to.
   Unlike the PvD associating an interface in homenet, this PvD
   associates the network configuration with a service.  The service can
   be provided by any ISP or VSP that is available to the user.

   In homenet, ISPs and VSPs can use this PvD for service-specific
   provisioning in CE routers, interior routers and hosts.  Service
   providers could decide the number of PvDs they offer depending on the
   services a user subscribes to.  This enables complete dependency



Geng & Deng              Expires January 4, 2016                [Page 4]

Internet-Draft               MPvD in Homenet                   July 2015


   between the provisioning of different services provided by either
   same or different sources.

   A good example of a device in homenet that may use such PvD is a IoT
   box provided by VSP.  This box may be connected to a CE router as an
   interior router as demonstrated in section 3.2.2.1 of [RFC7368], or
   integrated with the CE router or the host in some circumstances.

   Since some services may need provisioning domain in multiple devices
   in homenet(i.e.  Both IoT service gateway and host need to be
   provisioned), PvDs associated with the same service in different
   devices should ideally be managed by a single provider.  Hence,
   necessary collaboration can be taken care of by the VSP/ISP.

3.3.  PvD for hybrid purposes in home network

   The coexistence of multiple interfaces and services is possible when
   a device in homenet is both multihomed with more than one ISPs and
   subscribed to multiple services.  Assuming that a service provider
   has access to the interface of the device on which its service is
   provided, a provisioning domain associating both the service and
   corresponding interface can be used for a simpler set-up.  For
   example, instead of separately maintaining a WIFI interface PvD and
   an IoT service PvD, an VSP can merge the information of these to PvD
   and only use a single PvD for hybrid provisioning.  It is always
   preferred that PvD for hybrid provisioning is used when possible,
   since it offers better network configuration flexibility for service
   provider and enables seamless coordination between interface and the
   service runs on it.

4.  Examples of MPvD Configurations in Home Network

   This section gives some examples of MPvD configurations in home
   network.

4.1.  Homenet Connected to a Single ISP















Geng & Deng              Expires January 4, 2016                [Page 5]

Internet-Draft               MPvD in Homenet                   July 2015


                       <----"Internet" PvD of ISP---->
                                                _____
               +--------+      +-------+       (     )
               |Internet+---+  +       +------(  ISP  )
               +--------+   |  |       |   (           )
                        <------"IoT1" PvD of VSP1-------------->
               +--------+   |  |       |  (              )  +------+
               |  IoT1  +---|--+       |  (          )------+ VSP1 |
               +--------+   |  |       |     (         )    +------+
                        <------"IoT2" PvD of VSP2-------------->
               +--------+   |  |       |  (              )  +------+
               |  IoT2  +---+  +       |  (             )---+ VSP2 |
               +--------+      |       |  (               ) +------+
              <------------"IoT3" PvD of VSP3------------------>
      +----+   +--------+      | HNCP  | (             )    +------+
      |IoT3+-+ +        |      | Home  |  (           )     |      |
      +----+ | |Interior|      |Gateway|   (          )     |      |
             |-+  HNCP  +------+       |    (        )------+ VSP3 |
      +----+ | | Router |      |       |   (         __)    |      |
      |IoT4+-+ +        |      |       |    (___    )       |      |
      +----+   +--------+      +-------+       (__ )        +------+

              <------------"IoT4" PvD of VSP3------------------>


                                 Figure 1

   A homenet home gateway (CE router) is singlehomed with a single ISP
   as seen in Figure 1.  In this scenario, basic internet service is
   provided by this ISP, IoT services are provided by 3 different VSPs.
   Multiple PvDs are created for the CE router for the purpose of
   service provisioning.  The home gateway, connected with multiple
   service providers, receives basic internet PvD information from the
   connected ISP, IoT1 PvD information from VSP1 and IoT2 PvD
   information from VSP2.

   Additionally, an HNCP-enabled interior router is connected to the
   home gateway and provides another 2 IoT services from VSP3 to the
   user.  VSP3 may create 2 PvDs associating IoT3 and IoT4 respectively
   for the interior router, subject to the user's subscription.

   In this example, ISP provides basic internet service through a
   homenet home gateway and VSPs provides multiple IoT services through
   both the HNCP home gateway and the interior HNCP router.  Since none
   of the gateway devices are multihomed, all of the PvDs associate
   corresponding network configuration with a specific service.  The PvD
   information is delivered by ISP and VSPs through the corresponding
   singlehomed interface.



Geng & Deng              Expires January 4, 2016                [Page 6]

Internet-Draft               MPvD in Homenet                   July 2015


4.2.  Multihomed Homenet

          <--------"Internet1" PvD of ISP1--------->
                                                <-"LTE" PvD of ISP1---->
                                       _____
     +---------+      +-------+       (     )
     |Internet1+------+       +-LTE--(       )    +-----+
     +---------+      |       |   (           )   |     |
                      |       |  (    ISP1     )--+     |
      <----------"IoT1" PvD of VSP--------------> |     |
                      |       |    (       _)     |     |
+----+   +--------+   |       |     ( ____)       |     |
|IoT1+-+ +        |   |       |                   |     |
+----+ | |Interior|   | HNCP  |                   |     |
       |-+  HNCP  +---+ Home  |                   | VSP |
+----+ | | Router |   |Gateway|                   |     |
|IoT2+-+ +        |   |       |        _____      |     |
+----+   +--------+   |       |       (     )     |     |
                      |       |    __(       )    |     |
      <----------"IoT2" PvD of VSP--------------> |     |
                      |       |  (    ISP2     )--+     |
     +---------+      |       |   (          __)  |     |
     |Internet2+------+       +-PON-(       _)    +-----+
     +---------+      +-------+     ( ____)

                        <-"PON" PvD of ISP2---->
          <--------"Internet2" PvD of ISP2--------->



                                 Figure 2

   Figure 2 illustrates an example of multihomed HNCP home gateway.  In
   this example, two ISPs are connected with the HNCP home gateway and
   both provide internet services.  The interfaces used by the HNCP home
   gateway for these 2 ISPs are LTE and PON, which are provisioned
   within the LTE PvD of ISP1 and PON PvD of ISP2.  Another 2 PvD for
   individual internet service are also created by ISP1 and ISP2
   respectively.  In principle, it is preferred in this example that the
   2 PvDs of the same ISP should be merged as one hybrid PvD, which
   associates the complete set of network configuration with both the
   internet service and the corresponding uplink interface.

   The interior HNCP router in this example are similiar to the one in
   the previous example, providing 2 IoT services provisioned separately
   by VSP.  However, it is worth mentioning that the IoT1 and IoT2 PvDs
   information is not necessarily delivered from a fixed ISP because of




Geng & Deng              Expires January 4, 2016                [Page 7]

Internet-Draft               MPvD in Homenet                   July 2015


   the nature of multihomed gateway.  It is upto the VSP to make the
   decision according to the available network resources.

   Although not shown in Figure 2, the HNCP home gateway may also
   directly provide IoT service from VSP.  Since VSP is normally homed
   with multiple ISPs, the multihomed HNCP home gateway may receive PvD
   information from different ISPs for the IoT service.  PvD
   configuration conflicts need to be avoided in this case.

5.  PvD-aware node in homenet

   PvD-aware node is the device where the provisioning domains and
   associated network configuration are set up.  In the examples given
   in Section 4, the HNCP home gateways and Interior HNCP routers are
   all PvD-aware nodes.  The HNCP home gateway receives MPvD identity
   and associated network configuration from the network and forward the
   MPvD information belonging to interior routers.  It is worth
   mentioning that a PvD-aware node may also be a host in homenet,which
   is not shown in the given examples.  For instance, a mobile device
   connected with the interior router may have MPvDs for it's Wifi and
   cellular interfaces, or for multiple services it subscribed to.

   As introduced in RFC7556, typical information a PvD-aware node
   learned from network by a provisioning domain including source
   address prefixes for use by the connected hosts within the PvD,IP
   address(es) of the DNS server(s) and default gateway address.  While
   these information is maintained in the PvD-aware node, it needs to
   assign prefixes to the connected hosts within homenet using homenet-
   defined approaches.

6.  Conveying PvD information

   The PvD associated with an VSP service may be directly provided by
   VSP using application layer approach, or provided by the the ISPs in
   which the VSP is homed if there are collaboration between ISPs and
   VSPs.

   At the time this document was written, the conveying of PvD
   information was still under discussion in mif working group.  Popular
   choices include DHCP and Route Advertisement.  For PvD information
   provided from ISPs and VSPs to the CE routers, the approaches for PvD
   information delivery defined by mif may be directly used.  For PvD
   information delivery within homenet between HNCP-enabled routers and
   hosts, HNCP-related approach need to be concerned.  The detail of how
   homenet could support the delivery of PvD information is subjected to
   further discussions and will be addressed in a separate document.





Geng & Deng              Expires January 4, 2016                [Page 8]

Internet-Draft               MPvD in Homenet                   July 2015


7.  Acknowledgements

   The author would like to thank Ted Lemon for valuable initial
   discussions of this document.

8.  IANA Considerations

   This memo includes no request to IANA.

9.  Security Considerations

   TBA

10.  References

10.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2629]  Rose, M., "Writing I-Ds and RFCs using XML", RFC 2629,
              June 1999.

10.2.  Informative References

   [RFC6418]  Blanchet, M. and P. Seite, "Multiple Interfaces and
              Provisioning Domains Problem Statement", RFC 6418,
              November 2011.

   [RFC7368]  Chown, T., Arkko, J., Brandt, A., Troan, O., and J. Weil,
              "IPv6 Home Networking Architecture Principles", RFC 7368,
              October 2014.

Authors' Addresses

   Liang Geng
   China Mobile

   Email: gengliang@chinamobile.com


   Hui Deng
   China Mobile

   Email: denghui@chinamobile.com






Geng & Deng              Expires January 4, 2016                [Page 9]