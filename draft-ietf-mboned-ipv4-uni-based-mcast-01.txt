





Network Working Group                                  Dave Thaler
Internet-Draft                                           Microsoft
Expires: July 2004                                 19 January 2004





          Unicast-Prefix-based IPv4 Multicast Addresses
            <draft-ietf-mboned-ipv4-uni-based-mcast-01.txt>





Status of this Memo

This document is an Internet-Draft and is in full conformance with
all provisions of Section 10 of RFC2026.

Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.  Note that
other groups may also distribute working documents as Internet-
Drafts.

Internet-Drafts are draft documents valid for a maximum of six
months and may be updated, replaced, or obsoleted by other
documents at any time.  It is inappropriate to use Internet-
Drafts as reference material or to cite them other than as "work
in progress."

The list of current Internet-Drafts can be accessed at
http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
http://www.ietf.org/shadow.html.



Copyright Notice

Copyright (C) The Internet Society (2004).  All Rights Reserved.


Abstract





Expires July 2004                                         [Page 1]





Draft             Uni-Prefix-based IPv4 Multicast     January 2004


This specification defines an extension to the multicast
addressing architecture of the IP Version 4 protocol.  The
extension presented in this document allows for unicast-prefix-
based allocation of multicast addresses.  By delegating multicast
addresses at the same time as unicast prefixes, network operators
will be able to identify their multicast addresses without needing
to run an inter-domain allocation protocol.


1.  Introduction

RFC 2770 [GLOP] defined an experimental allocation mechanism in
233/8 whereby an Autonomous System (AS) number is embedded in the
middle 16 bits of an IPv4 multicast address, resulting in 256
multicast addresses per AS.  Advantages of this mechanism include
the ability to get multicast address space without an inter-domain
multicast address allocation protocol, and the ease of determining
the AS of the owner of an address for debugging and auditing
purposes.

Some disadvantages of GLOP include:

o    only 256 addresses are automatically available per AS, and
     obtaining any more requires administrative effort.

o    there is work in progress [AS4B] on expanding the size of an
     AS number to 4 bytes, and GLOP cannot work with such AS's.

o    when an AS covers multiple sites or organizations,
     administration of the multicast address space within an AS
     must be handled by other mechanisms, such as manual
     administrative effort or MADCAP [MADCAP].

o    during debugging, identifying the AS does not immediately
     identify the owning organization, when an AS covers multiple
     organizations.

More recently, a mechanism [V6UPBM] has been developed for IPv6
which provides a multicast range to every IPv6 subnet, which is at
a much finer granularity than an AS.  As a result, the latter
three disadvantages above are avoided (and the first disadvantage
does not apply to IPv6 due to the extended size of the address
space).

Two significant advantages of providing multicast space to every





Expires July 2004                                         [Page 2]





Draft             Uni-Prefix-based IPv4 Multicast     January 2004


subnet (rather than just to an entire AS) are that:

o    multicast address allocation within the range need only be
     coordinated within the subnet, and hence can be done with
     zero configuration.

o    bidirectional shared tree routing protocols may easily locate
     the direction to the root by doing a route lookup on a
     unicast address derived from the multicast group address.

This draft specifies a mechanism similar to [V6UPBM], whereby a
range of IPv4 multicast address space is provided to most IPv4
subnets.  A resulting advantage over GLOP is that the mechanisms
in IPv4 and IPv6 become more similar.


2.  Address Space

(RFC-editor: replace TBD below with IANA-assigned value, and
delete this note.)

A multicast address with the prefix TBD/8 indicates that the
address is a Unicast-Based Multicast (UBM) address.   The
remaining 24 bits can be used as follows:

Bits:  |  8  | Unicast Prefix Length | 24 - Unicast Prefix Length |
       +-----+-----------------------+----------------------------+
Value: | TBD | Unicast Prefix        | Group ID                   |
       +-----+-----------------------+----------------------------+

For subnets with a /24 or shorter prefix, the unicast prefix of
the subnet is appended to the common /8.  Any remaining bits may
be locally assigned by hosts within the link (e.g., using manual
configuration).  Individual subnets with a prefix length longer
than 24 do not receive any multicast address space from this
mechanism; in such cases, MADCAP may be used.

Compared to GLOP, an AS will receive more address space via this
mechanism if it has more than a /16 for unicast space.  An AS will
receive less address space than it does from GLOP if it has less
than a /16.

The owner of a UBM address can be determined by taking the
multicast address, shifting it left by 8 bits, and identifying the
owner of the address space covering the resulting unicast address.





Expires July 2004                                         [Page 3]





Draft             Uni-Prefix-based IPv4 Multicast     January 2004


3.  IANA Considerations

IANA should assign a /8 in the IPv4 multicast address space for
this purpose.


4.  Security Considerations

Since dynamic assignment does not cross domain boundaries, the
same well known intra-domain security techniques can be applied as
with GLOP.  Furthermore, the approach described here may have the
effect of reduced exposure to denial of space attacks based on
dynamic allocation, since the area of dynamic allocation is
reduced from an entire AS to only within individual subnets.


5.  Author's Address

     Dave Thaler
     Microsoft Corporation
     One Microsoft Way
     Redmond, WA  98052-6399
     Phone: +1 425 703 8835
     EMail: dthaler@microsoft.com


6.  Informative References

[AS4B]
     Vohra, Q. and E. Chen, "BGP support for four-octet AS number
     space", draft-ietf-idr-as4bytes-07.txt, Work in progress,
     August 2003.

[GLOP]
     Meyer, D. and P. Lothberg, "GLOP Addressing in 233/8", RFC
     2770, February 2000.

[MADCAP]
     Hanna, S, Patel, B. and M. Shah, "Multicast Address Dynamic
     Client Allocation Protocol (MADCAP)", RFC 2730, December
     1999.

[V6UPBM]
     Haberman, B. and D. Thaler, "Unicast-Prefix-based IPv6
     Multicast Addresses", RFC 3306, August 2002.





Expires July 2004                                         [Page 4]





Draft             Uni-Prefix-based IPv4 Multicast     January 2004


7.  Full Copyright Statement   Copyright (C) The Internet Society
(2004).  All Rights Reserved.

This document and translations of it may be copied and furnished
to others, and derivative works that comment on or otherwise
explain it or assist in its implmentation may be prepared, copied,
published and distributed, in whole or in part, without
restriction of any kind, provided that the above copyright notice
and this paragraph are included on all such copies and derivative
works.  However, this document itself may not be modified in any
way, such as by removing the copyright notice or references to the
Internet Society or other Internet organizations, except as needed
for the purpose of developing Internet standards in which case the
procedures for copyrights defined in the Internet Standards
process must be followed, or as required to translate it into
languages other than English.

The limited permissions granted above are perpetual and will not
be revoked by the Internet Society or its successors or assigns.

This document and the information contained herein is provided on
an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET
ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
























Expires July 2004                                         [Page 5]


