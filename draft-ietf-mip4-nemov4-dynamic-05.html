<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Dynamic Prefix Allocation for NEMOv4</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Requirements notation">
<link href="#rfc.section.2" rel="Chapter" title="2 Introduction">
<link href="#rfc.section.3" rel="Chapter" title="3 Dynamic Mobile Prefix allocation">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Mobile Client Considerations">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Home Agent Considerations">
<link href="#rfc.section.4" rel="Chapter" title="4 Security Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 IANA Considerations">
<link href="#rfc.section.6" rel="Chapter" title="6 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="7 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="The base NEMOv4 specification defines extensions to Mobile IPv4 for mobile networks. This specification defines a dynamic prefix allocation mechanism." />
  <meta name="description" content="The base NEMOv4 specification defines extensions to Mobile IPv4 for mobile networks. This specification defines a dynamic prefix allocation mechanism." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">G. Tsirtsis</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">V. Park</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">V. Narayanan</td>
</tr>
<tr>
<td class="left">Expires: October 30, 2011</td>
<td class="right">Qualcomm</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">K. Leung</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">April 28, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Dynamic Prefix Allocation for NEMOv4<br />
  <span class="filename">draft-ietf-mip4-nemov4-dynamic-05.txt</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>The base NEMOv4 specification defines extensions to Mobile IPv4 for mobile networks. This specification defines a dynamic prefix allocation mechanism.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted to IETF in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on October 30, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Requirements notation</a>
</li>
<li>2.   <a href="#rfc.section.2">Introduction</a>
</li>
<li>3.   <a href="#rfc.section.3">Dynamic Mobile Prefix allocation</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Mobile Client Considerations</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Home Agent Considerations</a>
</li>
<li>4.   <a href="#rfc.section.4">Security Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">IANA Considerations</a>
</li>
<li>6.   <a href="#rfc.section.6">Acknowledgements</a>
</li>
<li>7.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Requirements notation</h1>
<p id="rfc.section.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Introduction</h1>
<p id="rfc.section.2.p.1">The base NEMOv4 specification <a href="#RFC5177">[RFC5177]</a> defines extensions to Mobile IPv4 <a href="#RFC5944">[RFC5944]</a> for mobile networks. This specification adds support for dynamic allocation of mobile prefixes by the home agent.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#system" id="system">Dynamic Mobile Prefix allocation</a>
</h1>
<p id="rfc.section.3.p.1">The following extension is defined according to this specification.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Mobile Client Considerations</h1>
<p><a href="#RFC5177">[RFC5177]</a> defines that the prefix field of the mobile network request extension can not be set to zero.  This mechanism works only in combination with the explicit mode of operation defined in <a href="#RFC5177">[RFC5177]</a>.</p>
<p id="rfc.section.3.1.p.2">According to this specification, a Mobile Router MAY include one or more mobile network request extensions with the prefix field set to zero. Such mobile network request extensions indicate that the Mobile Router requests mobile network prefix(es) to be assigned to it by the home agent.  In this case, the Mobile Router MAY set the prefix length field of such extensions to zero or to a length of its choice as a hint to the home agent. According to this specification, mobile network request extensions with the prefix field set to zero MAY be included in a registration request message either during initial registration or during a subsequent registration. </p>
<p id="rfc.section.3.1.p.3">When a Mobile Router receives a registration reply it MUST process it as defined in <a href="#RFC5944">Mobile IPv4</a> <cite title="NONE">[RFC5944]</cite> and <a href="#RFC5177">[RFC5177]</a>. If one or more network acknowledgement extension are included with the Code field set to &#8220;Success&#8221; the Mobile Router SHOULD treat the prefixes in the corresponding prefix fields as allocated prefixes and create the appropriate bindings as defined in <a href="#RFC5177">[RFC5177]</a>.</p>
<p id="rfc.section.3.1.p.4">If in response to a registration request with a mobile network request extension with the prefix field set to zero, a Mobile Router receives a registration reply with a network acknowledgement extension including Code field set to 1 &#8220;invalid prefix", it may use it as a hint that the home agent does not support dynamic prefix allocation.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Home Agent Considerations</h1>
<p id="rfc.section.3.2.p.1">A home agent receiving a mobile network request extension with the prefix field set to zero MAY return a mobile network acknowledgement extension <a href="#RFC5177">[RFC5177]</a> with the prefix field set to the prefix allocated to the Mobile Router. The length of that prefix is at the discretion of the home agent. The home agent MAY take into account the prefix length hint if one is included in the mobile network request extension. Once the home agent allocates a prefix it MUST maintain the prefix registration table as defined in <a href="#RFC5177">[RFC5177]</a>. Alternatively the home agent MAY return a mobile network acknowledgement extension with the Code field set to one of the negative codes defined in <a href="#RFC5177">[RFC5177]</a>.</p>
<p id="rfc.section.3.2.p.2">Dynamic mobile prefix allocation as defined in this specification MAY be combined with dynamic home address allocation as defined in <a href="#RFC5177">[RFC5177]</a>. In other words the home address field of the registration request message MAY be set to zero while the message also includes one or more mobile network request extensions with the prefix field also set to zero.</p>
<p id="rfc.section.3.2.p.3">Once the home agent allocates a prefix it MUST maintain the prefix registration table as defined in <a href="#RFC5177">[RFC5177]</a>. The lifetime of the allocated prefix will be equal to the lifetime of the binding cache entry</p>
<p id="rfc.section.3.2.p.4">For dynamic prefix allocation the Mobile Router&#8217;s home address MAY be used to identify the client if it is not set to zero. Otherwise, as defined in the NAI extension <a href="#RFC2794">[RFC2794]</a> of Mobile IPv4 <a href="#RFC2794">[RFC2794]</a>, the NAI extension needs to be included in the registration request, in which case the same extension SHOULD be used to identify the Mobile Router for prefix allocation purposes.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Security Considerations</h1>
<p id="rfc.section.4.p.1">This specification operates in the security constraints and requirements of <a href="#RFC5944">Mobile IPv4</a> <cite title="NONE">[RFC5944]</cite>, <a href="#RFC2794">NAI</a> <cite title="NONE">[RFC2794]</cite> and <a href="#RFC5177">[RFC5177]</a>. </p>
<p id="rfc.section.4.p.2">Home agent implementations SHOULD take steps to prevent address exhaustion attacks. One way to limit the effectiveness of such an attack is to limit the number and size of prefixes any one mobile router can be allocated.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> IANA Considerations</h1>
<p id="rfc.section.5.p.1">This document has no actions for IANA</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Acknowledgements</h1>
<p id="rfc.section.6.p.1">The authors would like to thank Pete McCann and Alexandru Petrescu for their reviews and comments.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">7.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2794">[RFC2794]</b></td>
<td class="top">
<a href="mailto:pcalhoun@eng.sun.com" title="Sun Microsystems Laboratories">Calhoun, P.</a> and <a href="mailto:charliep@iprg.nokia.com" title="Nokia Research Center">C. Perkins</a>, "<a href="http://tools.ietf.org/html/rfc2794">Mobile IP Network Access Identifier Extension for IPv4</a>", RFC 2794, March 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5944">[RFC5944]</b></td>
<td class="top">
<a>Perkins, C.</a>, "<a href="http://tools.ietf.org/html/rfc5944">IP Mobility Support for IPv4, Revised</a>", RFC 5944, November 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5177">[RFC5177]</b></td>
<td class="top">
<a>Leung, K.</a>, <a>Dommety, G.</a>, <a>Narayanan, V.</a> and <a>A. Petrescu</a>, "<a href="http://tools.ietf.org/html/rfc5177">Network Mobility (NEMO) Extensions for Mobile IPv4</a>", RFC 5177, April 2008.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">George Tsirtsis</span> 
	  <span class="n hidden">
		<span class="family-name">Tsirtsis</span>
	  </span>
	</span>
	<span class="org vcardline">Qualcomm</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:tsirtsis@googlemail.com">tsirtsis@googlemail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Vincent Park</span> 
	  <span class="n hidden">
		<span class="family-name">Park</span>
	  </span>
	</span>
	<span class="org vcardline">Qualcomm</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">Phone: +908-947-7084</span>

<span class="vcardline">EMail: <a href="mailto:vpark@qualcomm.com">vpark@qualcomm.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Vidya Narayana</span> 
	  <span class="n hidden">
		<span class="family-name">Narayanan</span>
	  </span>
	</span>
	<span class="org vcardline">Qualcomm</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">Phone: +858-845-2483</span>

<span class="vcardline">EMail: <a href="mailto:vidyan@qualcomm.com">vidyan@qualcomm.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Kent Leung</span> 
	  <span class="n hidden">
		<span class="family-name">Leung</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">Phone: +408-526-5030</span>

<span class="vcardline">EMail: <a href="mailto:kleung@cisco.com">kleung@cisco.com</a></span>

  </address>
</div>

</body>
</html>