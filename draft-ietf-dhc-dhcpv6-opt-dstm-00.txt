

Network Working Group                                           J. Bound
Internet-Draft                               Compaq Computer Corporation
Expires: July 2, 2002                                          M. Carney
                                                  Sun Microsystems, Inc.
                                                              C. Perkins
                                                   Nokia Research Center
                                                                T. Lemon
                                                                 Nominum
                                                                 B. Volz
                                                                Ericsson
                                                                R. Droms
                                                           Cisco Systems
                                                                Jan 2002


                        DSTM Options for DHCPv6
                 draft-ietf-dhc-dhcpv6-opt-dstm-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on July 2, 2002.

Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

Abstract

   The DSTM Global IPv4 Address option and the DSTM Tunnel Endpoint
   Option provide DSTM (Dual Stack Transition Mechanism) configuration



Bound, et al.             Expires July 2, 2002                  [Page 1]

Internet-Draft                DSTM Options                      Jan 2002


   information to DHCPv6 hosts.

1. Introduction

   This document describes two options for DHCPv6 [2] that provide
   information for hosts using the "Dual Stack Transition Mechanism"
   (DSTM) [3].

2. Requirements

   The keywords MUST, MUST NOT, REQUIRED, SHALL, SHALL NOT, SHOULD,
   SHOULD NOT, RECOMMENDED, MAY, and OPTIONAL, when they appear in this
   document, are to be interpreted as described in RFC 2119 [1]

3. Terminology

   This document uses terminology specific to IPv6 and DHCPv6 as defined
   in section "Terminology" of the DHCPv6 specification.

4. DSTM Global IPv4 Address option

   The DSTM Global IPv4 Address option encapsulates other options that a
   DHCP client is to use for DSTM.  The DSTM Global IPv4 Address option
   must include at least one Identity Association (IA) (see section
   "Identity Association" of the DHCPv6 specification [2]) that carries
   IPv4-mapped IPv6 addresses [4] as used in DSTM.

   The format of the DSTM Global IPv4 Address option is:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          OPTION_DSTM          |         option-length         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      .                                                               .
      .                            options                            .
      .                                                               .
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   option-code  : OPTION_DSTM

   option-length: Length of the 'options' field in octets

   options      : Options associated with DSTM

   One Identity Association option (see section "Identity Association
   option" of the DHCPv6 specification) MUST be encapsulated within the
   options field in the DSTM Global IPv4 Address option.  That IA option



Bound, et al.             Expires July 2, 2002                  [Page 2]

Internet-Draft                DSTM Options                      Jan 2002


   MUST be used only for IPv4-mapped IPv6 addresses.

   A DSTM Tunnel End Point option (Section 5) MAY be encapsulated in the
   DSTM Global IPv4 Address option to specify one or more tunnel
   endpoints.

5. DSTM Tunnel Endpoint Option

   The DSTM Tunnel Endpoint option carries an IP address that is to be
   used as a tunnel endpoint (TEP) to encapsulate IP datagrams within
   IP.

   The format of the DSTM Tunnel Endpoint option is:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        OPTION_DSTM_TEP        |         option-length         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      .                                                               .
      .                              tep                              .
      .                          (16 octets)                          .
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   option-code:   OPTION_DSTM_TEP

   option-length: 16

   tep:           Tunnel endpoint

   A DSTM Tunnel EndPoint Option MUST NOT be used except when
   encapsulated in a DSTM Global IPv4 Address option.

6. Appearance of these options

   The DSTM Global IPv4 Address option MUST only appear in the options
   section of the following DHCP messages: Solicit, Advertise, Request,
   Confirm, Renew, Rebind, Decline, Release, Reply.

   The DSTM Tunnel Endpoint option MUST only appear as an encapsulated
   option in a DSTM Global IPv4 Address option.

7. Security Considerations

   The DSTM Global IPv4 Address option may be used by an intruder DHCP
   server to assign an invalid IPv4-mapped address to a DHCP client in a
   denial of service attack.  The DSTM Tunnel Endpoint option may be
   used by an intruder DHCP server to configure a DHCP client with an



Bound, et al.             Expires July 2, 2002                  [Page 3]

Internet-Draft                DSTM Options                      Jan 2002


   endpoint that would cause the client to route packets through an
   intruder system.

   To avoid these security hazards, a DHCP client MUST use authenticated
   DHCP to confirm that it is exchanging the DSTM options with an
   authorized DHCP server.

8. IANA Considerations

   IANA is requested to assign an option code to this option from the
   option-code space defined in section "DHCP Options" of the DHCPv6
   specification [2].

References

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", BCP 14, RFC 2119, March 1997.

   [2]  Bound, J., Carney, M., Perkins, C., Lemon, T., Volz, B. and R.
        Droms (ed.), "Dynamic Host Configuration Protocol for IPv6
        (DHCPv6)", draft-ietf-dhc-dhcpv6-23 (work in progress), February
        2002.

   [3]  Bound, J., "Dual Stack Transition Mechanism (DSTM)", draft-ietf-
        ngtrans-dstm-05 (work in progress), November 2001.

   [4]  Hinden, R. and S. Deering, "IP Version 6 Addressing
        Architecture", RFC 2373, July 1998.


Authors' Addresses

   Jim Bound
   Compaq Computer Corporation
   ZK3-3/W20
   110 Spit Brook Road
   Nashua, NH  03062-2698
   USA

   Phone: +1 603 884 0062
   EMail: Jim.Bound@compaq.com










Bound, et al.             Expires July 2, 2002                  [Page 4]

Internet-Draft                DSTM Options                      Jan 2002


   Mike Carney
   Sun Microsystems, Inc.
   Mail Stop: UMPK17-202
   901 San Antonio Road
   Palo Alto, CA  94303-4900
   USA>

   Phone: +1 650 786 4171
   EMail: mwc@eng.sun.com


   Charlie Perkins
   Nokia Research Center
   Communications Systems Lab
   313 Fairchild Drive
   Mountain View, CA  94043
   USA

   Phone: +1 650 625 2503
   EMail: charliep@iprg.nokia.com


   Nominum

   EMail: mellon@nominum.com


   Bernie Volz
   Ericsson
   959 Concord Street
   Framingham, MA  01701
   USA

   Phone: +1 508 875 3162
   EMail: bernie.volz@ericsson.com


   Ralph Droms
   Cisco Systems
   250 Apollo Drive
   Chelmsford, MA  01824
   USA

   Phone: +1 978 497 4733
   EMail: rdroms@cisco.com






Bound, et al.             Expires July 2, 2002                  [Page 5]

Internet-Draft                DSTM Options                      Jan 2002


Full Copyright Statement

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Bound, et al.             Expires July 2, 2002                  [Page 6]

