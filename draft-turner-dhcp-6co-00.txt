individual submission                                          R. Turner
Internet-Draft                                                Landis+Gyr
Intended status: Standards Track                               June 2015
Expires: November 23, 2015


    DHCPv6 Option for Configuration of 6LoWPAN Compression Contexts
                        draft-turner-dhcp-6co-00

Abstract

   This document specifies a DHCPv6 option to configure hosts on a
   6LoWPAN with IPv6 address compression information as required by
   stateful compression methods specified in RFC 6282.  The option
   provides up to 16 prefixes that can be associated with specific
   instances of IPv6 address compression used in 6LoWPANs.  Each prefix
   can be a variable length of bits, and includes a validity lifetime as
   well.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 2, 2015.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Turner                  Expires November 2, 2015                [Page 1]

Internet-Draft   DHCPv6 Option for Configuration of 6LoWPAN         May 2015
                          Compression Contexts


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

1.  Introduction

   RFC 6282 describes a procedure for the compression of IPv6 addresses
   in IP headers, and this same technique can be used to compress
   arbitrary IPv6 addresses.  The compression algorithms contain
   default, stateless methods, as well as "stateful" address compression
   based on a set of compression "contexts".  However, the method by
   which 6LoWPAN nodes acquire these contexts is out of scope of RFC
   6282.  RFC 6775 introduced a method by which router advertisements
   can include "6LowPAN Context Options" that communicate context
   information to devices on the 6LoWPAN network.  RFC 6775 also
   introduced a way to limit the rate of multicast router advertisements
   to make these router advertisements more friendly to constrained
   LoWPANs.  These mechanisms allow a stateless auto-configuration
   option for LoWPANs.  DHCPv6 is both a stateful method for address
   configuration, as well as stateless alternative for configuration of
   6LoWPAN devices.  DHCPv6 provides extensibility through the support
   of TLV options in the protocol.  This document specifies such a
   DHCPv6 option for configuring 6LoWPAN compression contexts.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119] [RFC2119].

2.  Terminology

   This document primarily uses the terminology described in [RFC6550],
   [RFC3315] and [RFC6282].  The terminology and concepts described in
   these documents will assist in the reading of this document.

3.  DHCP Option format for 6LowPAN Compression Contexts















Turner                  Expires November 2, 2015                [Page 2]

Internet-Draft   DHCPv6 Option for Configuration of 6LoWPAN           May 2015
                           Compression Contexts


        0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |         OPTION_V6_6CO         |         Option Length         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |Context Length | Res |C| CID   |        Valid Lifetime         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      .                                                               .
      .                       Context Prefix                          .
      .                                                               .
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                     Figure 1: 6LoWPAN Context Option Format


                                 Figure 1

   The description of the option fields is provided below:

   o  OPTION_V6_6CO: The option-code per RFC 3315 (TBA by IANA)

   o  Option Length: 16-bit unsigned length (in bytes) of the entire
      option contents, including the type and length fields

   o  Context Length: 8-bit unsigned integer.  The number (0 - 128) of
      valid leading bits in the "Context Prefix" field.

   o  Res: This field is currently unused.  It MUST be initialized to
      zero by the server and MUST be ignored by the DHCPv6 client.

   o  CID: 4-bit Context Identifier for this prefix information.  The
      CID is used by context-based header compression as specified in
      [RFC6282].

   o  Valid Lifetime: 16-bit unsigned integer.  The length of time in
      units of 60 seconds (relative to the time the option is received)
      that the context is valid for the purpose of header compression or
      decompression.  A value of zero indicates that no specific
      validity lifetime is specified (prefix validity does not expire).

   o  Context Prefix: The IPv6 prefix or address corresponding to the
      CID field.  This field is padded with zeros in order to make the
      option a multiple of 8-bytes

   There is one option per IPv6 context prefix, with each prefix option
   containing a "CID" that provides the context identifier (or index) in
   the range 0 to 15.  This index is referred to by subsequent




Turner                  Expires November 2, 2015                [Page 3]

Internet-Draft   DHCPv6 Option for Configuration of 6LoWPAN      May 2015
                           Compression Contexts


   compressed IPv6 addresses to indicate which stateful prefix should be
   used to either compress or decompress a particular IPv6 address.

4.  DHCPv6 Client Behavior

   Clients will utilize the OPTION_ORO (Option Request Option),
   specifying the OPTION_V6_6CO option to be returned by the server, in
   addition to any other required configuration parameters.  Because of
   the constrained nature of 6LoWPAN networks, clients are advised to
   utilize the DHCPv6 Rapid Commit [RFC3315] option when requesting
   DHCPv6 configuration.

5.  DHCPv6 Server Behavior

   Servers that support OPTION_V6_6CO are expected to be aware of the
   existence of constrained networks that use the server during
   configuration.  Therefore servers SHOULD support the abbreviated
   "Rapid Commit" packet exchange specified in [RFC3315].

6.  Security Considerations

   Any type of mis-configuration of the option described in this
   document may cause re-routing of packets on a 6LoWPAN network, due to
   the compression context being blindly trusted by DHCPv6 clients
   requesting this option.  The trust relationship necessary to create a
   trusted binding of compression contexts and clients on the network
   should be established by means other than that specified in this
   document.  This trust relationship should be binding for all such
   configuration information transmitted from a DHCPv6 server to clients
   requesting options.  DHCPv6 traffic is traditionally communicated "in
   the clear" on most networks, and in these scenarios where traffic is
   neither encrypted nor integrity protected, man-in-the-middle attacks
   are possible.  However, in many 6LoWPAN deployment scenarios, these
   networks include protection at layer-2 (for example, 802.15.4
   encryption), including a "secure join" mechanism that protects these
   networks from introducing unauthorized traffic onto the network
   ("rougue nodes").  In these types of networks, man-in-the-middle
   attacks are less likely.

7.  IANA Considerations

   IANA is requested to assign one option code for OPTION_V6_6CO from
   the "DHCP Option Codes" table of the Dynamic Host Configuration
   Protocol for IPv6 (DHCPv6) Registry.







Turner                  Expires November 2, 2015                [Page 4]

Internet-Draft  DHCPv6 Option for Configuration of 6LoWPAN      May 2015
                          Compression Contexts


8.  References

   [RFC6550]  Winter, T., "RPL: IPv6 Routing Protocol for Low-Power and
              Lossy Networks", RFC 6550, March 2012.

   [RFC3315]  Bound, J., "DHCP for IPv6", RFC 3315, July 2003.

   [RFC6282]  Hui, J. and P. Thubert, "Compression Format for IPv6
              Datagrams over 802.15.4-Based Networks", RFC 6282,
              September 2011.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", RFC 2119, March 1997.

Author's Address

   Randy Turner
   Landis+Gyr
   30000 Mill Creek Ave
   Suite 100
   Alpharetta, GA  30022
   US

   Phone: +1 678 258 1292
   Email: randy.turner@landisgyr.com
   URI:   http://www.landisgyr.com/

























Turner                  Expires November 2, 2015                [Page 5]
