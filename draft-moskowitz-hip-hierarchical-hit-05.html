<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Hierarchical HITs for HIPv2</title>
<meta content="Robert Moskowitz" name="author">
<meta content="Stuart W. Card" name="author">
<meta content="Adam Wiethuechter" name="author">
<meta content="
       
 This document describes using a hierarchical HIT to facilitate 
 large deployments of managed devices.  Hierarchical HITs differ 
 from HIPv2 flat HITs by only using 64 bits for mapping the Host 
 Identity, freeing 32 bits to bind in a hierarchy of Registering 
 Entities that provide services to the consumers of hierarchical 
 HITs.
 
    " name="description">
<meta content="xml2rfc 2.44.0" name="generator">
<meta content="RFC" name="keyword">
<meta content="Request for Comments" name="keyword">
<meta content="I-D" name="keyword">
<meta content="Internet-Draft" name="keyword">
<meta content="HIP" name="keyword">
<meta content="draft-moskowitz-hip-hierarchical-hit-05" name="ietf.draft">
<link href="/tmp/draft-moskowitz-hip-hierarchical-hit-05-waj_3ct3.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Hierarchical HITs</td>
<td class="right">May 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Moskowitz, et al.</td>
<td class="center">Expires 14 November 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">HIP</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc7401" class="eref">7401</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-05-13" class="published">13 May 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-11-14">14 November 2020</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Moskowitz</div>
<div class="org">HTT Consulting</div>
</div>
<div class="author">
      <div class="author-name">S. Card</div>
<div class="org">AX Enterprize</div>
</div>
<div class="author">
      <div class="author-name">A. Wiethuechter</div>
<div class="org">AX Enterprize</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Hierarchical HITs for HIPv2</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
 This document describes using a hierarchical HIT to facilitate 
 large deployments of managed devices.  Hierarchical HITs differ 
 from HIPv2 flat HITs by only using 64 bits for mapping the Host 
 Identity, freeing 32 bits to bind in a hierarchy of Registering 
 Entities that provide services to the consumers of hierarchical 
 HITs.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 14 November 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-terms-and-definitions" class="xref">Terms and Definitions</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-requirements-terminology" class="xref">Requirements Terminology</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1" class="keepWithNext"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-definitions" class="xref">Definitions</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-problem-space" class="xref">Problem Space</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-meeting-the-future-of-mobil" class="xref">Meeting the future of Mobile Devices in a public space</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-semi-permanency-of-identiti" class="xref">Semi-permanency of Identities</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-managing-a-large-flat-addre" class="xref">Managing a large flat address space</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-defense-against-fraudulent-" class="xref">Defense against fraudulent HITs</a><a href="#section-toc.1-1.3.2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-the-hierarchical-host-ident" class="xref">The Hierarchical Host Identity Tag (HHIT)</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-hhit-prefix" class="xref">HHIT prefix</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-hhit-suite-ids" class="xref">HHIT Suite IDs</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-the-hierarchy-id-hid" class="xref">The Hierarchy ID (HID)</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-the-registered-assigning-au" class="xref">The Registered Assigning Authority (RAA)</a><a href="#section-toc.1-1.4.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.2">
                    <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="xref">4.3.2</a>.  <a href="#name-the-hierarchical-hit-domain" class="xref">The Hierarchical HIT Domain Authority (HDA)</a><a href="#section-toc.1-1.4.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.3">
                    <p id="section-toc.1-1.4.2.3.2.3.1"><a href="#section-4.3.3" class="xref">4.3.3</a>.  <a href="#name-example-of-the-hid-dns" class="xref">Example of the HID DNS</a><a href="#section-toc.1-1.4.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.4">
                    <p id="section-toc.1-1.4.2.3.2.4.1"><a href="#section-4.3.4" class="xref">4.3.4</a>.  <a href="#name-hhit-dns-retrieval" class="xref">HHIT DNS Retrieval</a><a href="#section-toc.1-1.4.2.3.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.5">
                    <p id="section-toc.1-1.4.2.3.2.5.1"><a href="#section-4.3.5" class="xref">4.3.5</a>.  <a href="#name-changes-to-orchidv2-to-supp" class="xref">Changes to ORCHIDv2 to support Hierarchical HITs</a><a href="#section-toc.1-1.4.2.3.2.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.6">
                    <p id="section-toc.1-1.4.2.3.2.6.1"><a href="#section-4.3.6" class="xref">4.3.6</a>.  <a href="#name-collision-risks-with-hierar" class="xref">Collision risks with Hierarchical HITs</a><a href="#section-toc.1-1.4.2.3.2.6.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-acknowledgments" class="xref">Acknowledgments</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-calculating-collision-proba" class="xref">Calculating Collision Probabilities</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"> 
 This document expands on <span><a href="#RFC7401" class="xref">HIPv2</a> [<a href="#RFC7401" class="xref">RFC7401</a>]</span> to describe the structure of a 
 hierarchical HIT (HHIT).  Some of the challenges for large scale 
 deployment addressed by HHITs are presented.  The basics for the 
 hierarchical HIT registries are defined here.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2"> 
 Including hierarchy information within the HIT is not a new 
 concept.  This was part of the original <span><a href="#draft.moskowitz-hip-arch-02" class="xref">HIPv1 
 Architecture</a> [<a href="#draft.moskowitz-hip-arch-02" class="xref">draft.moskowitz-hip-arch-02</a>]</span>.  It was dropped from the HIPv1 work for lack 
 of a use case and concerns over the smaller HI mapping space.  It 
 was later brought up in the HIP Research Group (HIP-RG) in <span>[<a href="#draft.zhang-hip-hierarchical-parameter-00" class="xref">draft.zhang-hip-hierarchical-parameter-00</a>]</span>, but this never gained concensus.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
 Hierarchical HITs now have a solid use case with Public, mobile 
 devices (e.g. Unmanned Aircraft).  The math to evaluate the 
 statistical collision risk is available, <a href="#Coll_Prob" class="xref">Appendix A</a>.  And finally, <span><a href="#I-D.moskowitz-hip-hhit-registries" class="xref">HHIT 
 Registries</a> [<a href="#I-D.moskowitz-hip-hhit-registries" class="xref">hhit-registries</a>]</span> provide a way to manage the hierarchy.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
<div id="terms">
<section id="section-2">
      <h2 id="name-terms-and-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terms-and-definitions" class="section-name selfRef">Terms and Definitions</a>
      </h2>
<section id="section-2.1">
        <h3 id="name-requirements-terminology">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-requirements-terminology" class="section-name selfRef">Requirements Terminology</a>
        </h3>
<p id="section-2.1-1">
 The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
 "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", 
 and "OPTIONAL" in this document are to be interpreted as described 
 in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they 
 appear in all capitals, as shown here.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.2">
        <h3 id="name-definitions">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-definitions" class="section-name selfRef">Definitions</a>
        </h3>
<dl class="dlNewline" id="section-2.2-1">
          <dt id="section-2.2-1.1">HDA (Hierarchical HIT Domain Authority):</dt>
<dd id="section-2.2-1.2">
 The 16 bit field identifying the HIT Domain Authority under 
 an RAA.<a href="#section-2.2-1.2" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-2.2-1.3">HID (Hierarchy ID):</dt>
<dd id="section-2.2-1.4">
 The 32 bit field providing the HIT Hierarchy ID.<a href="#section-2.2-1.4" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-2.2-1.5">RAA (Registered Assigning Authority):</dt>
<dd id="section-2.2-1.6">
 The 16 bit field identifying the Hierarchical HIT Assigning 
 Authority.<a href="#section-2.2-1.6" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
<dt id="section-2.2-1.7">RVS (Rendezvous Server):</dt>
<dd id="section-2.2-1.8">
 The HIP Rendezvous Server for enabling mobility, as defined 
 in <span>[<a href="#RFC8004" class="xref">RFC8004</a>]</span>.<a href="#section-2.2-1.8" class="pilcrow">¶</a>
</dd>
<dd class="break"></dd>
</dl>
</section>
</section>
</div>
<div id="prob-space">
<section id="section-3">
      <h2 id="name-problem-space">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-problem-space" class="section-name selfRef">Problem Space</a>
      </h2>
<section id="section-3.1">
        <h3 id="name-meeting-the-future-of-mobil">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-meeting-the-future-of-mobil" class="section-name selfRef">Meeting the future of Mobile Devices in a public space</a>
        </h3>
<p id="section-3.1-1">
 Public safety may impose a "right to know" what devices are in a 
 public space.  Public space use may only be permitted to devices 
 that meet an exacting "who are you" query.  This implies a device 
 identity that can be quickly validated by public safety personal 
 and even the general public in many situations.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">
 Many proposals for mobile device identities are nothing more than a 
 string of bits.  These may provide information about the device but 
 provide no assurance that the identity associated with a device 
 really belongs to a particular device; they are highly susceptible 
 to fraudulent use.  Further they may impose a slow, complex method 
 to discover the device owner to those with appropriate 
 authorization.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">
 The Host Identity Tag (HIT) from the Host Identity Protocol (HIP) 
 provides a self-asserting Identity through a public key signing 
 operation using the Host Identity's (HI) private key.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">
 Although the HIT provides a "trust me, I am me" claim, it does not 
 provide an assertion as to why the claim should be trusted and any 
 additional side information about the device.  The later could be 
 distributed directly from the device in a secure manner, but again 
 there is no 3rd-party assertion of such a claim.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-semi-permanency-of-identiti">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-semi-permanency-of-identiti" class="section-name selfRef">Semi-permanency of Identities</a>
        </h3>
<p id="section-3.2-1">
 A device Identity has some degree of permanency.  A device creates 
 its identity and registers it to some 3rd-party that will assert a 
 level of trust for that identity.  A device may have multiple 
 identities to use in different contexts, and it may deprecate an 
 identity for any number of reasons.  The asserting 3rd-party may 
 withdraw its assertion of an identity for any number of reasons.  An 
 identity system needs to facilitate all of this.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3">
        <h3 id="name-managing-a-large-flat-addre">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-managing-a-large-flat-addre" class="section-name selfRef">Managing a large flat address space</a>
        </h3>
<p id="section-3.3-1">
 For HITs to be successfully used by a large population of mobile 
 devices, they must support an Identity per device; potentially 10 
 billion Identities. Perhaps a <span><a href="#RFC6537" class="xref">Distributed Hash Table</a> [<a href="#RFC6537" class="xref">RFC6537</a>]</span> can scale this 
 large.  There is still the operational challenges in establishing 
 such a world-wide DHT implementation and how <span><a href="#RFC8004" class="xref">RVS</a> [<a href="#RFC8004" class="xref">RFC8004</a>]</span> works with such a large population. 
 There is also the challenge of how to turn this into a viable 
 business.  How can different controlling jurisdictions operate in 
 such an environment?<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">
 Even though the probability of collisions with 7B HITs (one HIT per 
 person) in a 96 bit flat address space is 3.9E-10, it is still 
 real.  How are collisions managed?  It is also possible that weak 
 key uniqueness, as has been shown in deployed TLS certificates 
 <span>[<a href="#WeakKeys" class="xref">WeakKeys</a>]</span>, results in a much 
 greater probability of collisions.  Thus resolution of collisions 
 needs to be a feature in a global namespace.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
</section>
<section id="section-3.4">
        <h3 id="name-defense-against-fraudulent-">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-defense-against-fraudulent-" class="section-name selfRef">Defense against fraudulent HITs</a>
        </h3>
<p id="section-3.4-1">
 How can a host protect against a fraudulent HIT?  That is, a second 
 pre-image attack on the HI hash that produces the HIT.  A strong 
 defense would require every HIT/HI registered and openly 
 verifiable.  This would best be done as part of the R1 and I2 
 validation.  Or any other message that is signed by the HI private 
 key.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="HHIT">
<section id="section-4">
      <h2 id="name-the-hierarchical-host-ident">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-the-hierarchical-host-ident" class="section-name selfRef">The Hierarchical Host Identity Tag (HHIT)</a>
      </h2>
<p id="section-4-1">
 The Hierarchical HIT (HHIT) is a small but important enhancement 
 over the flat HIT space.  By adding two levels of hierarchical 
 administration control, the HHIT provides for device 
 registration/ownership, thereby enhancing the trust framework for 
 HITs.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
 HHITs represent the HI in only a 64 bit hash and uses the other 32 
 bits to create a hierarchical administration organization for HIT 
 domains.  Hierarchical HITs are <span><a href="#I-D.moskowitz-orchid-cshake" class="xref">"Using 
 cSHAKE in ORCHIDs"</a> [<a href="#I-D.moskowitz-orchid-cshake" class="xref">new-orchid</a>]</span>. The input values for the Encoding rules 
 are in <a href="#HCGA" class="xref">Section 4.3.5</a>.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">
 A HHIT is built from the following fields:<a href="#section-4-3" class="pilcrow">¶</a></p>
<ul>
<li id="section-4-4.1">
 28 bit IANA prefix<a href="#section-4-4.1" class="pilcrow">¶</a>
</li>
<li id="section-4-4.2">
 4 bit HIT Suite ID<a href="#section-4-4.2" class="pilcrow">¶</a>
</li>
<li id="section-4-4.3">
 32 bit Hierarchy ID (HID)<a href="#section-4-4.3" class="pilcrow">¶</a>
</li>
<li id="section-4-4.4">
 64 bit ORCHID hash<a href="#section-4-4.4" class="pilcrow">¶</a>
</li>
</ul>
<div id="Prefix">
<section id="section-4.1">
        <h3 id="name-hhit-prefix">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-hhit-prefix" class="section-name selfRef">HHIT prefix</a>
        </h3>
<p id="section-4.1-1">
 A unique 28 bit prefix for HHITs is recommended.  It clearly 
 separates the flat-space HIT processing from HHIT processing per 
 <span><a href="https://tools.ietf.org/html/draft-moskowitz-orchid-cshake-00#section-4" class="relref">Section 4</a> of "Using cSHAKE in ORCHIDs" [<a href="#I-D.moskowitz-orchid-cshake" class="xref">new-orchid</a>]</span>.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="HHIT_Suite">
<section id="section-4.2">
        <h3 id="name-hhit-suite-ids">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-hhit-suite-ids" class="section-name selfRef">HHIT Suite IDs</a>
        </h3>
<p id="section-4.2-1">
 The HIT Suite IDs specifies the HI and hash algorithms.  Any HIT 
 Suite ID can be used for HHITs, provided that the prefix for HHITs 
 is different from flat space HITs.  Without a unique prefix, <a href="#Prefix" class="xref">Section 4.1</a>, additional HIT Suite IDs would 
 be needed for HHITs.  This would risk exhausting the limited Suite 
 ID space of only 15 IDs.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="HID">
<section id="section-4.3">
        <h3 id="name-the-hierarchy-id-hid">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-the-hierarchy-id-hid" class="section-name selfRef">The Hierarchy ID (HID)</a>
        </h3>
<p id="section-4.3-1">
 The Hierarchy ID (HID) provides the structure to organize HITs into
 administrative domains.  HIDs are further divided into 2 fields:<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-4.3-2.1">
 16 bit Registered Assigning Authority (RAA)<a href="#section-4.3-2.1" class="pilcrow">¶</a>
</li>
<li id="section-4.3-2.2">
 16 bit Hierarchical HIT Domain Authority (HDA)<a href="#section-4.3-2.2" class="pilcrow">¶</a>
</li>
</ul>
<div id="RAA">
<section id="section-4.3.1">
          <h4 id="name-the-registered-assigning-au">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-the-registered-assigning-au" class="section-name selfRef">The Registered Assigning Authority (RAA)</a>
          </h4>
<p id="section-4.3.1-1">
 An RAA is a business or organization that manages a registry of 
 HDAs.  For example, the Federal Aviation Authority (FAA) could be 
 an RAA.<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
<p id="section-4.3.1-2">
 The RAA is a 16 bit field (65,536 RAAs) assigned by a numbers 
 management organization, perhaps ICANN's IANA service.  An RAA must 
 provide a set of services to allocate HDAs to organizations. It 
 must have a public policy on what is necessary to obtain an HDA. 
 The RAA need not maintain any HIP related services. It must 
 maintain a DNS zone minimally for discovering HID RVS servers.<a href="#section-4.3.1-2" class="pilcrow">¶</a></p>
<p id="section-4.3.1-3">
 This DNS zone may be a PTR for its RAA.  It may be a zone in a HHIT 
 specific DNS zone.  Assume that the RAA is 100.  The PTR record 
 could be constructed:<a href="#section-4.3.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.3.1-4">
<pre>

100.hhit.arpa   IN PTR      raa.bar.com.

</pre><a href="#section-4.3.1-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="HDA">
<section id="section-4.3.2">
          <h4 id="name-the-hierarchical-hit-domain">
<a href="#section-4.3.2" class="section-number selfRef">4.3.2. </a><a href="#name-the-hierarchical-hit-domain" class="section-name selfRef">The Hierarchical HIT Domain Authority (HDA)</a>
          </h4>
<p id="section-4.3.2-1">
 An HDA may be an ISP or any third party that takes on the business 
 to provide RVS and other needed services for HIP enabled devices.<a href="#section-4.3.2-1" class="pilcrow">¶</a></p>
<p id="section-4.3.2-2">
 The HDA is an 16 bit field (65,536 HDAs per RAA) assigned by an 
 RAA.  An HDA should maintain a set of RVS servers that its client 
 HIP-enabled customers use.  How this is done and scales to the 
 potentially millions of customers is outside the scope of this 
 document.  This service should be discoverable through the DNS zone 
 maintained by the HDA's RAA.<a href="#section-4.3.2-2" class="pilcrow">¶</a></p>
<p id="section-4.3.2-3">
 An RAA may assign a block of values to an individual organization.  
 This is completely up to the individual RAA's published policy for 
 delegation.<a href="#section-4.3.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="HIDDNS">
<section id="section-4.3.3">
          <h4 id="name-example-of-the-hid-dns">
<a href="#section-4.3.3" class="section-number selfRef">4.3.3. </a><a href="#name-example-of-the-hid-dns" class="section-name selfRef">Example of the HID DNS</a>
          </h4>
<p id="section-4.3.3-1">
 HID related services should be discoverable via DNS.  For example 
 the RVS for a HID could be found via the following.  Assume that 
 the RAA is 100 and the HDA is 50.  The PTR record is constructed as:<a href="#section-4.3.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.3.3-2">
<pre>

    50.100.hhit.arpa   IN PTR      rvs.foo.com.

</pre><a href="#section-4.3.3-2" class="pilcrow">¶</a>
</div>
<p id="section-4.3.3-3">
 The RAA is running its zone, 100.hhit.arpa under the hhit.arpa zone.<a href="#section-4.3.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="HHITDNS">
<section id="section-4.3.4">
          <h4 id="name-hhit-dns-retrieval">
<a href="#section-4.3.4" class="section-number selfRef">4.3.4. </a><a href="#name-hhit-dns-retrieval" class="section-name selfRef">HHIT DNS Retrieval</a>
          </h4>
<p id="section-4.3.4-1">
 The HDA SHOULD provide DNS retrieval per <span>[<a href="#RFC8005" class="xref">RFC8005</a>]</span>.  Assume that the Host_ID suite of EdDSA25519 
 (5), RAA of 10 and the HDA of 20 and the HHIT example is:<a href="#section-4.3.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.3.4-2">
<pre>

    2001:5:a:14:a3ad:1952:ad0:a69e

</pre><a href="#section-4.3.4-2" class="pilcrow">¶</a>
</div>
<p id="section-4.3.4-3">
 The HHIT FQDN is:<a href="#section-4.3.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.3.4-4">
<pre>

    2001:0005:a:14:a3ad:1952:0ad0:a69e.20.10.hhit.arpa.

</pre><a href="#section-4.3.4-4" class="pilcrow">¶</a>
</div>
<p id="section-4.3.4-5">
 The NS record for the HDA zone is constructed as:<a href="#section-4.3.4-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.3.4-6">
<pre>

    20.10.hhit.arpa   IN NS      registry.foo.com.

</pre><a href="#section-4.3.4-6" class="pilcrow">¶</a>
</div>
<p id="section-4.3.4-7">
 registry.foo.com returns a HIP RR with the HHIT and matching HI. 
 The HDA sets its policy on TTL for caching the HIP RR.  Optionally, 
 the HDA may include RVS information.  Including RVS in the HIP RR 
 may impact the TTL for the response.<a href="#section-4.3.4-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="HCGA">
<section id="section-4.3.5">
          <h4 id="name-changes-to-orchidv2-to-supp">
<a href="#section-4.3.5" class="section-number selfRef">4.3.5. </a><a href="#name-changes-to-orchidv2-to-supp" class="section-name selfRef">Changes to ORCHIDv2 to support Hierarchical HITs</a>
          </h4>
<p id="section-4.3.5-1">
 A new format for ORCHIDs to support Hierarchical HITs is defined in 
 <span><a href="#I-D.moskowitz-orchid-cshake" class="xref">"Using 
 cSHAKE in ORCHIDs"</a> [<a href="#I-D.moskowitz-orchid-cshake" class="xref">new-orchid</a>]</span>.  For this use the following values apply:<a href="#section-4.3.5-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.3.5-2">
<pre>

    Prefix     :=  HHIT Prefix
                   Note: per section 4.1, this should be different
                         than the Prefix for RFC 7401
    OGA ID     :=  4-bit Orchid Generation Algorithm identifier
                   The HHIT Suite ID
    Context ID :=  0x00B5 A69C 795D F5D5 F008 7F56 843F 2C40
    Info (n)   :=  32 bit HID (Hierarchy ID)
    Hash       :=  Hash_function specified in OGA ID
                       If hash is not a variable length output hash,
                       then en Encode_m, similar to ORCHID Encode_96
                       is used
    m          :=  64

</pre><a href="#section-4.3.5-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="Collision">
<section id="section-4.3.6">
          <h4 id="name-collision-risks-with-hierar">
<a href="#section-4.3.6" class="section-number selfRef">4.3.6. </a><a href="#name-collision-risks-with-hierar" class="section-name selfRef">Collision risks with Hierarchical HITs</a>
          </h4>
<p id="section-4.3.6-1">
 The 64 bit hash size does have an increased risk of collisions over 
 the 96 bit hash size used for the other HIT Suites.  There is a 
 0.01% probability of a collision in a population of 66 million. The 
 probability goes up to 1% for a population of 663 million.  See 
 <a href="#Coll_Prob" class="xref">Appendix A</a> for the collision 
 probability formula.<a href="#section-4.3.6-1" class="pilcrow">¶</a></p>
<p id="section-4.3.6-2">
 However, this risk of collision is within a single HDA.  Further, 
 all HDAs are expected to provide a registration process for reverse 
 lookup validation.  This registration process would reject a 
 collision, forcing the client to generate a new HI and thus 
 hierarchical HIT and reapplying to the registration process.<a href="#section-4.3.6-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="IANA">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">
 Because HHIT use of ORCHIDv2 format is not compatible with <span>[<a href="#RFC7343" class="xref">RFC7343</a>]</span>, IANA is requested to 
 allocated a new 28-bit prefix out of the IANA IPv6 Special Purpose 
 Address Block, namely 2001:0000::/23, as per <span>[<a href="#RFC6890" class="xref">RFC6890</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">
 A 64 bit hash space presents a real risk of second pre-image 
 attacks.  The HHIT Registry services effectively block attempts to 
 "take over" a HHIT.  It does not stop a rogue attempting to 
 impersonate a known HHIT.  This attack can be mitigated by the 
 Responder using DNS to find the HI for the HHIT or the RVS for the 
 HHIT that then provides the registered HI.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">
 Another mitigation of HHIT hijacking is if the HI owner supplies an 
 object containing the HHIT and signed by the HI private key of the 
 HDA.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">
 The two risks with hierarchical HITs are the use of an invalid HID 
 and forced HIT collisions.  The use of the "hhit.arpa." DNS zone is 
 a strong protection against invalid HIDs.  Querying an HDA's RVS 
 for a HIT under the HDA protects against talking to unregistered 
 clients.  The Registry service has direct protection against forced 
 or accidental HIT hash collisions.<a href="#section-6-3" class="pilcrow">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-acknowledgments">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-7-1">
 The RDA/HDA 16/16 bit split, replacing the original 14/18 split was 
 the result of discussions on lookup and implementation challenges 
 of byte boundaries over nibble boundaries.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">
 The initial versions of this document were developed with the 
 assistance of Xiaohu Xu and Bingyang Liu of Huawei.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">
 Sue Hares contributed to the clarity in this document.<a href="#section-7-3" class="pilcrow">¶</a></p>
</section>
<section id="section-8">
      <h2 id="name-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-normative-references">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.moskowitz-orchid-cshake">[new-orchid]</dt>
<dd>
<span class="refAuthor">Moskowitz, R.</span><span class="refAuthor">, Card, S.</span><span class="refAuthor">, and A. Wiethuechter</span>, <span class="refTitle">"Using cSHAKE in ORCHIDs"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-moskowitz-orchid-cshake-00</span>, <time datetime="2019-12-11">11 December 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-moskowitz-orchid-cshake-00">https://tools.ietf.org/html/draft-moskowitz-orchid-cshake-00</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7401">[RFC7401]</dt>
<dd>
<span class="refAuthor">Moskowitz, R., Ed.</span><span class="refAuthor">, Heer, T.</span><span class="refAuthor">, Jokela, P.</span><span class="refAuthor">, and T. Henderson</span>, <span class="refTitle">"Host Identity Protocol Version 2 (HIPv2)"</span>, <span class="seriesInfo">RFC 7401</span>, <span class="seriesInfo">DOI 10.17487/RFC7401</span>, <time datetime="2015-04">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7401">https://www.rfc-editor.org/info/rfc7401</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
<dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8.2">
        <h3 id="name-informative-references">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="draft.moskowitz-hip-arch-02">[draft.moskowitz-hip-arch-02]</dt>
<dd>
<span class="refAuthor">Moskowitz, R.</span>, <span class="refTitle">"Host Identity Payload"</span>, <span class="seriesInfo">Superseded Internet-Draft, draft-moskowitz-hip-arch-02</span>, <time datetime="2001-02-22">22 February 2001</time>. </dd>
<dd class="break"></dd>
<dt id="draft.zhang-hip-hierarchical-parameter-00">[draft.zhang-hip-hierarchical-parameter-00]</dt>
<dd>
<span class="refAuthor">Dacheng, Z.</span><span class="refAuthor"> and X. Xiaohu</span>, <span class="refTitle">"Extensions of Host Identity Protocol (HIP) with Hierarchical Information"</span>, <span class="seriesInfo">Abandoned Internet-Draft, draft-zhang-hip-hierarchical-parameter-00</span>, <time datetime="2009-05-27">27 May 2009</time>. </dd>
<dd class="break"></dd>
<dt id="I-D.moskowitz-hip-hhit-registries">[hhit-registries]</dt>
<dd>
<span class="refAuthor">Moskowitz, R.</span><span class="refAuthor">, Card, S.</span><span class="refAuthor">, and A. Wiethuechter</span>, <span class="refTitle">"Hierarchical HIT Registries"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-moskowitz-hip-hhit-registries-02</span>, <time datetime="2020-03-09">9 March 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-moskowitz-hip-hhit-registries-02">https://tools.ietf.org/html/draft-moskowitz-hip-hhit-registries-02</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6537">[RFC6537]</dt>
<dd>
<span class="refAuthor">Ahrenholz, J.</span>, <span class="refTitle">"Host Identity Protocol Distributed Hash Table Interface"</span>, <span class="seriesInfo">RFC 6537</span>, <span class="seriesInfo">DOI 10.17487/RFC6537</span>, <time datetime="2012-02">February 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6537">https://www.rfc-editor.org/info/rfc6537</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6890">[RFC6890]</dt>
<dd>
<span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Vegoda, L.</span><span class="refAuthor">, Bonica, R., Ed.</span><span class="refAuthor">, and B. Haberman</span>, <span class="refTitle">"Special-Purpose IP Address Registries"</span>, <span class="seriesInfo">BCP 153</span>, <span class="seriesInfo">RFC 6890</span>, <span class="seriesInfo">DOI 10.17487/RFC6890</span>, <time datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6890">https://www.rfc-editor.org/info/rfc6890</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7343">[RFC7343]</dt>
<dd>
<span class="refAuthor">Laganier, J.</span><span class="refAuthor"> and F. Dupont</span>, <span class="refTitle">"An IPv6 Prefix for Overlay Routable Cryptographic Hash Identifiers Version 2 (ORCHIDv2)"</span>, <span class="seriesInfo">RFC 7343</span>, <span class="seriesInfo">DOI 10.17487/RFC7343</span>, <time datetime="2014-09">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7343">https://www.rfc-editor.org/info/rfc7343</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8004">[RFC8004]</dt>
<dd>
<span class="refAuthor">Laganier, J.</span><span class="refAuthor"> and L. Eggert</span>, <span class="refTitle">"Host Identity Protocol (HIP) Rendezvous Extension"</span>, <span class="seriesInfo">RFC 8004</span>, <span class="seriesInfo">DOI 10.17487/RFC8004</span>, <time datetime="2016-10">October 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8004">https://www.rfc-editor.org/info/rfc8004</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8005">[RFC8005]</dt>
<dd>
<span class="refAuthor">Laganier, J.</span>, <span class="refTitle">"Host Identity Protocol (HIP) Domain Name System (DNS) Extension"</span>, <span class="seriesInfo">RFC 8005</span>, <span class="seriesInfo">DOI 10.17487/RFC8005</span>, <time datetime="2016-10">October 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8005">https://www.rfc-editor.org/info/rfc8005</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="WeakKeys">[WeakKeys]</dt>
<dd>
<span class="refAuthor">Heninger, N.H.</span><span class="refAuthor">, Durumeric, Z.D.</span><span class="refAuthor">, Wustrow, E.W.</span><span class="refAuthor">, and J.A.H. Halderman</span>, <span class="refTitle">"Detection of Widespread Weak Keys in Network Devices"</span>, <time datetime="2012-08">August 2012</time>, <span>&lt;<a href="https://factorable.net/weakkeys12.extended.pdf">https://factorable.net/weakkeys12.extended.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Coll_Prob">
<section id="section-appendix.a">
      <h2 id="name-calculating-collision-proba">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-calculating-collision-proba" class="section-name selfRef">Calculating Collision Probabilities</a>
      </h2>
<p id="section-appendix.a-1">
 The accepted formula for calculating the probability of a collision 
 is:<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-appendix.a-2">
<pre>


    p = 1 - e^{-k^2/(2n)}


    P   Collision Probability
    n   Total possible population
    k   Actual population



</pre><a href="#section-appendix.a-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Robert Moskowitz</span></div>
<div dir="auto" class="left"><span class="org">HTT Consulting</span></div>
<div dir="auto" class="left">
<span class="locality">Oak Park</span>, <span class="region">MI</span> <span class="postal-code">48237</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:rgm@labs.htt-consult.com" class="email">rgm@labs.htt-consult.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Stuart W. Card</span></div>
<div dir="auto" class="left"><span class="org">AX Enterprize</span></div>
<div dir="auto" class="left"><span class="street-address">4947 Commercial Drive</span></div>
<div dir="auto" class="left">
<span class="locality">Yorkville</span>, <span class="region">NY</span> <span class="postal-code">13495</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:stu.card@axenterprize.com" class="email">stu.card@axenterprize.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Adam Wiethuechter</span></div>
<div dir="auto" class="left"><span class="org">AX Enterprize</span></div>
<div dir="auto" class="left"><span class="street-address">4947 Commercial Drive</span></div>
<div dir="auto" class="left">
<span class="locality">Yorkville</span>, <span class="region">NY</span> <span class="postal-code">13495</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:adam.wiethuechter@axenterprize.com" class="email">adam.wiethuechter@axenterprize.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
