Network Working Group                                     Jacob Palme
Internet Draft                               Stockholm University/KTH
<draft-palme-autosub-01.txt>                                   Sweden
Category: Proposed standard                            September 1996
Expires March 1997


                 The auto-submitted e-mail header field


Status of this Memo

    This document is an Internet-Draft.  Internet-Drafts are working
    documents of the Internet Engineering Task Force (IETF), its
    areas, and its working groups.  Note that other groups may also
    distribute working documents as Internet-Drafts.

    Internet-Drafts are draft documents valid for a maximum of six
    months and may be updated, replaced, or obsoleted by other
    documents at any time.  It is inappropriate to use Internet-
    Drafts as reference material or to cite them other than as
    ``work in progress.''

    To learn the current status of any Internet-Draft, please check
    the ``1id-abstracts.txt'' listing contained in the Internet-
    Drafts Shadow Directories on ftp.is.co.za (Africa),
    nic.nordu.net (Europe), munnari.oz.au (Pacific Rim),
    ds.internic.net (US East Coast), or ftp.isi.edu (US West Coast).

    This memo provides information for the Internet community. This
    memo does not specify an Internet standard of any kind, since
    this document is mainly a compilation of information taken from
    other RFC-s.. Distribution of this memo is unlimited.

Abstract

  This memo introduces a new e-mail (RFC 822) header field with the
  name Auto-Submitted.

Temporary comment

  This paper was submitted in March 1995. The issue at that time
  seemed to be so controversial, that I let it expire. However,
  recently interest has grown again for this issue, since sendmail
  has implemented some kind of autosubmitted feature, so I submit
  it again now.




Palme                                                           [Page 1]

Internet draft    The auto-submitted e-mail header field      March 1995


1. Introduction

  This memo introduces a news header field for Internet e-mail (RFC
  822) with the name "Auto-Submitted".

2. Auto-Submitted

  Syntax: auto-submitted-field = "Auto-Submitted ":"
                                 auto-submitted-entry

          auto-submitted-entry = auto-submitted ( *DIGIT / "NOLIMIT" )

          auto-submitted =       "no" / "auto-generated" /
                                 "auto-replied" / "auto-forwarded"

  This field indicates whether the message was sent with or without
  explicit human control.

  The value "no" indicates that this message was sent with explicit
  human action.

  The absence of this header field indicates that information is not
  available as to whether this message was sent with or without
  explicit human control.

  This means that also other means of prevention of loops is necessary,
  such as making the SMTP-sender null for messages from mail servers
  and vacation servers. This will be handled more fully in separate
  recommendations for mail servers and vacation servers.

  The optional number (*DIGIT) can be used for loop control. A mail
  server, when receiving a message with such a number in the auto-
  submitted field, should decrement the field by 1, and use the new
  number in the auto-submitted field when replying to the message. If
  the number gets decremented below 0, no reply should be generated by
  the mail server. The default value when no such number is given, is
  0, which decrements to -1, so no new automatic replies should be
  generated by mail servers and vacation servers on incoming auto-
  submitted messages with this number omitted. The value "NOLIMIT"
  instead of *DIGIT specifies a large number which is not to be
  decremented, and can be used to disable this loop control feature if
  needed. In such cases, other protocol features for loop control
  should of course be used.

  The "auto-forwarded" alternative is only to be used when the
  forwarded message is embedded as a MIME [5] message object. Other
  types of automatic forwarding, such as mailing-list forwarding or
  redirection of mail to a new e-mail address for the recipient, will
  just copy any auto-submitted field in the incoming message and not
  write any such field of its own.

  Note 1: A similar header field is defined in X.420 [4].


Palme                                                           [Page 2]

Internet draft    The auto-submitted e-mail header field      March 1995


3. Relation to NOTIFY ESTMP command

  Any request in an ESTMP NOTIFY command overrides the auto-submitted
  heading field in controlling the production of notifications. If,
  however, no ESTMP NOTIFY command is given for a specific recipients,
  then the auto-submitted heading can control whether notifications
  are to be produced.


4. Examples

4.1	Auto-Submitted: no

  >  Ordinary e-mail messages written by a person.

  >  A person interacts with a mail-generating client, e.g. instructs
     it to join a mailing list, and the client generates a message to a
     listserver with commands for subscribing to the list.

  >  A person interacts with a World Wide Web form, such that the
     filled-in form is automatically sent to an e-mail address
     specified in the WWW form document.

  >  A moderator accepts messages to a moderated group, and forwards
     the accepted messages to the group members, possibly merged into
     a digest by software for producing digests.

4.2	Auto-Submitted: auto-generated

  >  An automatic weather-station sends automatic messages with
     temperature, wind velocity etc.

  >  An automatic computer process sends failure reports.

  >  An automatic vote counter counts incoming votes and reports on
     the outcome of the vote.

  >  A subscription service sends copies of a file every time the file
     is updated to people subscribing to such updates. If the
     subscription server wants notifications when the recipient address
     is faulty, it can either use the NOTIFY ESMTP command, or the
     "Auto-Submitted: auto-generated 1" heading field.

4.3	Auto-Submitted: auto-replied

  >  A mail server responds to an incoming request message.

  >  A notification, such as a delivery or non-delivery notification,
     is produced in response to a message.

  >  A vacation server sends a vacation message in response to an
     incoming message to the person who is on vacation.


Palme                                                           [Page 3]

Internet draft    The auto-submitted e-mail header field      March 1995

  >  A non-standard type of notification is produced automatically,
     e.g. a notification that a message has been purged from the
     recipient mailbox.

4.4	Auto-Submitted: auto-forwarded

  >  An automatic digester combines all messages arriving on a certain
     day and forwards them to a list.


5. Security considerations

  "Auto-submitted:" raises no new security concerns, instead, it
  reduces the risk to security of certain kinds of infinite loops.


6. References

  [1]  D. Crocker: "Standard for the format of ARPA Internet text
       messages." STD 11, RFC 822, August 1982.

  [2]  S. Hardcastle-Kille: "Mapping between X.400(1988) / ISO 10021
       and RFC 822",  RFC 1327 May 1992.

  [3]  ISO/ITU: "Message Handling Systems", ISO international standard
       10021, ITU  recommendation X.400.

  [4]  ISO/ITU: "Message Handling Systems, Part 7: Interpersonal
       Messaging System, ISO international standard 10021-7, ITU
       recommendation X.420.

  [5]  N. Borenstein, N. Freed: "MIME (Multipurpose Internet Mail
       Extensions)", RFC 1521, September 1993.


7. Author's address

  Jacob Palme                          Phone: +46-8-16 16 67
  Stockholm University/KTH             Fax: +46-8-703 90 25 (not fast)
  Electrum 230                         E-mail: jpalme@dsv.su.se
  S-164 40 Kista, Sweden














Palme                                                           [Page 4]

