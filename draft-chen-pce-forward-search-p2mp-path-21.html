<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A Forward-Search P2MP TE LSP Inter-Domain Path Computation</title>
<meta content="Huaimo Chen" name="author">
<meta content="
            
This document presents a forward search procedure for computing a path
for a Point-to-MultiPoint (P2MP) Traffic Engineering (TE) Label Switched Path (LSP) 
crossing a number of domains through 
using multiple Path Computation Elements (PCEs). 
In addition, 
extensions to the Path Computation Element Communication Protocol (PCEP) 
for supporting the forward search procedure are described.
 
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="draft-chen-pce-forward-search-p2mp-path-21" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-chen-pce-forward-search-p2mp-path-21-tp_bd834.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Forward Search P2mP Path</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Chen</td>
<td class="center">Expires 14 July 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">PCE Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-chen-pce-forward-search-p2mp-path-21</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01-10" class="published">10 January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-07-14">14 July 2022</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">H. Chen</div>
<div class="org">Futurewei</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A Forward-Search P2MP TE LSP Inter-Domain Path Computation</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">     
This document presents a forward search procedure for computing a path
for a Point-to-MultiPoint (P2MP) Traffic Engineering (TE) Label Switched Path (LSP) 
crossing a number of domains through 
using multiple Path Computation Elements (PCEs). 
In addition, 
extensions to the Path Computation Element Communication Protocol (PCEP) 
for supporting the forward search procedure are described.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 14 July 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-conventions-used-in-this-do" class="xref">Conventions Used in This Document</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-requirements" class="xref">Requirements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-forward-search-p2mp-path-co" class="xref">Forward Search P2MP Path Computation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-overview-of-procedure" class="xref">Overview of Procedure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-description-of-procedure" class="xref">Description of Procedure</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-processing-request-and-repl" class="xref">Processing Request and Reply Messages</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-comparing-to-brpc" class="xref">Comparing to BRPC</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-extensions-to-pcep" class="xref">Extensions to PCEP</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-rp-object-extension" class="xref">RP Object Extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-pce-object" class="xref">PCE Object</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-candidate-node-list-object" class="xref">Candidate Node List Object</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-node-flags-object" class="xref">Node Flags Object</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="xref">7.5</a>.  <a href="#name-request-message-extension" class="xref">Request Message Extension</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a href="#section-7.6" class="xref">7.6</a>.  <a href="#name-reply-message-extension" class="xref">Reply Message Extension</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security  Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-request-parameter-bit-flags" class="xref">Request Parameter Bit Flags</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-acknowledgement" class="xref">Acknowledgement</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
RFC 4105 "Requirements for Inter-Area MPLS TE"
lists the requirements for computing a shortest path 
for a TE LSP crossing multiple IGP areas;
and 
RFC 4216 "MPLS Inter-Autonomous System (AS) TE Requirements"
describes the requirements for computing a shortest path 
for a TE LSP crossing multiple ASes.

RFC 5671 "Applicability of PCE to P2MP MPLS and GMPLS TE"
examines the applicability of PCE to path computation
for P2MP TE LSPs in MPLS and GMPLS networks.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
This document presents a forward search procedure to address these 
requirements for computing a path for a P2MP TE LSP crossing domains 
through using multiple Path Computation Elements (PCEs).<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
The procedure is called
"Forward Search Shortest P2MP LSP Path Crossing Domains" or FSPC for short.
The major characteristics of this procedure for computing  
a path for a P2MP TE LSP from a source node to 
a number of destination nodes crossing multiple domains
include the following three ones.<a href="#section-1-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1-4">
<li id="section-1-4.1">
   It guarantees that the path computed 
   from the source node to the destination nodes is shortest.<a href="#section-1-4.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-4.2">
   It does not depend on any domain path tree or domain sequences
   from the source node to the destination nodes.<a href="#section-1-4.2" class="pilcrow">¶</a>
</li>
        <li id="section-1-4.3">
    Navigating a mesh of domains is simple and efficient.<a href="#section-1-4.3" class="pilcrow">¶</a>
</li>
      </ol>
</section>
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">
   ABR: Area Border Router.  Routers used to connect two IGP areas
   (areas in OSPF or levels in IS-IS).<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
   ASBR: Autonomous System Border Router.  Routers used to connect
   together ASes of the same or different service providers via one or
   more inter-AS links.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">
   Boundary Node (BN): a boundary node is either an ABR in the context
   of inter-area Traffic Engineering or an ASBR in the context of
   inter-AS Traffic Engineering.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">
   Entry BN of domain(n): a BN connecting domain(n-1) to domain(n) along
   the path found from the source node to the BN, 
   where domain(n-1) is the previous hop domain of domain(n).<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">
   Exit BN of domain(n): a BN connecting domain(n) to domain(n+1) along
   the path found from the source node to the BN, 
   where domain(n+1) is the next hop domain of domain(n).<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">
   Inter-area TE LSP: A TE LSP that crosses an IGP area boundary.<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">
   Inter-AS TE LSP: A TE LSP that crosses an AS boundary.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">
   LSP: Label Switched Path.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">
   LSR: Label Switching Router.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">
   PCC: Path Computation Client.  Any client application requesting a
   path computation to be performed by a Path Computation Element.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">
   PCE: Path Computation Element.  An entity (component, application, or
   network node) that is capable of computing a network path or route
   based on a network graph and applying computational constraints.<a href="#section-2-11" class="pilcrow">¶</a></p>
<p id="section-2-12">
   PCE(i) is a PCE with the scope of domain(i).<a href="#section-2-12" class="pilcrow">¶</a></p>
<p id="section-2-13">
   TED: Traffic Engineering Database.<a href="#section-2-13" class="pilcrow">¶</a></p>
<p id="section-2-14">
This document uses terminologies defined in RFC5440.<a href="#section-2-14" class="pilcrow">¶</a></p>
</section>
<section id="section-3">
      <h2 id="name-conventions-used-in-this-do">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-conventions-used-in-this-do" class="section-name selfRef">Conventions Used in This Document</a>
      </h2>
<p id="section-3-1">
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in RFC2119.<a href="#section-3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-requirements">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-requirements" class="section-name selfRef">Requirements</a>
      </h2>
<p id="section-4-1">
This section summarizes the requirements specific for computing a path
for a Traffic Engineering (TE) LSP crossing multiple domains (areas or ASes). 
More requirements for Inter-Area and Inter-AS MPLS Traffic Engineering  
are described in RFC 4105 and RFC 4216.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
A number of requirements specific for a solution to compute a path
for a TE LSP crossing multiple domains is listed as follows:<a href="#section-4-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-3">
<li id="section-4-3.1">
    The solution SHOULD provide the capability to compute a shortest 
    path dynamically, satisfying a set of specified constraints 
    across multiple IGP areas.<a href="#section-4-3.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-3.2">
    The solution MUST provide the ability to reoptimize in a minimally 
    disruptive manner (make before break) an inter-area TE LSP, 
    should a more optimal path appear in any traversed IGP area.<a href="#section-4-3.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-3.3">
    The solution SHOULD provide mechanism(s) to compute a shortest
    end-to-end path for a TE LSP crossing multiple ASes and 
    satisfying a set of specified constraints dynamically.<a href="#section-4-3.3" class="pilcrow">¶</a>
</li>
        <li id="section-4-3.4">
    Once an inter-AS TE LSP has been established, and should there be 
    any resource or other changes inside anyone of the ASes, 
    the solution MUST be able to re-optimize the LSP accordingly and 
    non-disruptively, either upon expiration of a configurable timer or 
    upon being triggered by a network event or 
    a manual request at the TE tunnel Head-End.<a href="#section-4-3.4" class="pilcrow">¶</a>
</li>
      </ol>
</section>
<section id="section-5">
      <h2 id="name-forward-search-p2mp-path-co">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-forward-search-p2mp-path-co" class="section-name selfRef">Forward Search P2MP Path Computation</a>
      </h2>
<p id="section-5-1">
This section gives an overview of the forward search path computation 
procedure (FSPC) to satisfy the requirements for computing a path for 
a P2MP TE LSP crossing multiple domains described above 
and describes the procedure in details.<a href="#section-5-1" class="pilcrow">¶</a></p>
<section id="section-5.1">
        <h3 id="name-overview-of-procedure">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-overview-of-procedure" class="section-name selfRef">Overview of Procedure</a>
        </h3>
<p id="section-5.1-1">
Simply speaking, the idea of FSPC for 
computing a path for an MPLS TE P2MP LSP crossing multiple domains 
from a source node to a number of destination nodes includes:<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1-2">
  Start from the source node and the source domain.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1-3">
  Consider the optimal path segment from the source node to every exit 
boundary and destination node of the source domain as a special link;<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<p id="section-5.1-4">
  Consider the optimal path segment from an entry boundary node to every exit 
boundary node and destination node of a domain as a special link; 
and the optimal path segment is computed as needed.<a href="#section-5.1-4" class="pilcrow">¶</a></p>
<p id="section-5.1-5">
  The whole topology consisting of many domains can be considered as a 
special virtual topology, which contains those special links and the inter-domain links.<a href="#section-5.1-5" class="pilcrow">¶</a></p>
<p id="section-5.1-6">
  Compute a shortest path in this special topology from the source node to 
the multiple destination nodes using CSPF.<a href="#section-5.1-6" class="pilcrow">¶</a></p>
<p id="section-5.1-7">
FSPC 
running at any PCE just grows the result path list/tree 
in the same way as normal CSPF on the special virtual topology. 
When the result path list/tree reaches all the destination nodes, 
the shortest path from the source node to the destination nodes 
is found and a PCRep message with the path is sent 
to the PCE/PCC that sends the PCReq message eventually.<a href="#section-5.1-7" class="pilcrow">¶</a></p>
</section>
<section id="section-5.2">
        <h3 id="name-description-of-procedure">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-description-of-procedure" class="section-name selfRef">Description of Procedure</a>
        </h3>
<p id="section-5.2-1">
Suppose that we have the following variables:<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">
A current PCE named as CurrentPCE which is currently computing the path.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<p id="section-5.2-3">
A candidate node list named as CandidateNodeList, which contains 
the nodes to each of which 
the temporary optimal path from the source node is currently found
and satisfies a set of given constraints. 

Each node C in CandidateNodeList has the following information:<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-4.1">
  the cost of the path from the source node to node C,<a href="#section-5.2-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-4.2">
  the previous hop node P and the link between P and C,<a href="#section-5.2-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-4.3">
  the PCE responsible for C 
        (i.e., the PCE responsible for the domain containing C. 
        Alternatively, we may use the domain instead of the PCE.), and<a href="#section-5.2-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-4.4">
  the flags for C.<a href="#section-5.2-4.4" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.2-5">
The flags include:<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-6.1">
  bit D indicating that C is a Destination node if it is set;<a href="#section-5.2-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-6.2">
  bit S indicating that C is the Source node if it is set;<a href="#section-5.2-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-6.3">
  bit E indicating that C is an Exit boundary node if it is set;<a href="#section-5.2-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-6.4">
  bit I indicating that C is an entry boundary node if it is set; and<a href="#section-5.2-6.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-5.2-6.5">
  bit T indicating that C is on result path Tree if it is set.<a href="#section-5.2-6.5" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-5.2-7">
The nodes in CandidateNodeList are ordered by path cost.<a href="#section-5.2-7" class="pilcrow">¶</a></p>
<p id="section-5.2-8">
Initially, 
CandidateNodeList contains a Source Node, with path cost 0, PCE 
responsible for the source domain, and flags with S bit set.
It also contains every destination node, with path cost infinity and 
flags with D bit set.<a href="#section-5.2-8" class="pilcrow">¶</a></p>
<p id="section-5.2-9">
A result path list or tree named as ResultPathTree, which contains 
the shortest paths from the source node to the boundary nodes 
and destination nodes. 
Initially, ResultPathTree is empty.<a href="#section-5.2-9" class="pilcrow">¶</a></p>
<p id="section-5.2-10">
Alternatively, the result path list or tree can be combined into the candidate node list. We may set bit T to one in the node flags for the candidate node when grafting it into the existing result path list or tree. Thus all the candidate nodes with bit T set to one in the candidate list constitute the result path tree or list.<a href="#section-5.2-10" class="pilcrow">¶</a></p>
<p id="section-5.2-11">
FSPC for computing a path for 
an MPLS TE P2MP LSP crossing a number of domains from a source node to 
a number of destination nodes can be described as follows:<a href="#section-5.2-11" class="pilcrow">¶</a></p>
<p id="section-5.2-12">
Initially, a PCC sends a PCE responsible 
for the source domain a request with  
CandidateNodeList and ResultPathTree initialized.<a href="#section-5.2-12" class="pilcrow">¶</a></p>
<p id="section-5.2-13">
When the PCE responsible for a domain (called current domain) receives a 
request for computing the path for the MPLS TE P2MP LSP, it checks whether 
the current PCE is the PCE responsible for the node C with the minimum cost 
in the CandidateNodeList. If it is, then remove C from CandidateNodeList and 
graft it into ResultPathTree (i.e., set flag bit T of node C to one); 
otherwise, a PCReq message is sent to the PCE for node C.<a href="#section-5.2-13" class="pilcrow">¶</a></p>
<p id="section-5.2-14">
Suppose that node C is in the current domain. 
The ResultPathTree is built from C in the following steps.<a href="#section-5.2-14" class="pilcrow">¶</a></p>
<p id="section-5.2-15">
If node C is a destination node (i.e., the Destination Node (D) bit 
in the Flags is set), 
then check whether the path cost to node C is infinity. 
If it is, then we can not find any path for the P2MP LSP,
and a repply message with failure reasons is sent;
otherwise, if all the destinations are on 
the result path tree, then the shortest path is found and a PCRep 
message with the path is sent to the PCE/PCC which sends the request 
to the current PCE.<a href="#section-5.2-15" class="pilcrow">¶</a></p>
<p id="section-5.2-16">
If node C is an entry boundary node or the source node,
then the optimal path segments from node C to every destination node and 
every exit boundary node of the current domain that 
is not on the result path tree and satisfies the given constraints 
are computed through using CSPF and as special links.<a href="#section-5.2-16" class="pilcrow">¶</a></p>
<p id="section-5.2-17">
For every node N connected to node C through a special link 
(i.e., the optimal path segment satisfying the given constraints), 
it is merged into CandidateNodeList. 

The cost to node N is the sum of the cost to node C and 
the cost of the special link (i.e., the path segment) between C and N. 

If node N is not in the candidate node list,
then node N is added into the list with 
the cost to node N, node C as its previous hop node
and a PCE for node N.

The PCE for node N is the current PCE if node N is an ASBR; 
otherwise 
(node N is an ABR, an exit boundary node of the current domain 
and an entry boundary node of the domain next to the current domain) 
the PCE for node N is the PCE for the next domain.

If node N is in the candidate node list and 
the cost to node N through node C is less than the cost to node N in the list,
then replace 
the cost to node N in the list with the cost to node N through node C and
the previous hop to node N in the list with node C.<a href="#section-5.2-17" class="pilcrow">¶</a></p>
<p id="section-5.2-18">
If node C is an exit boundary node and there are inter-domain links 
connecting to it (i.e., node C is an ASBR) and satisfying the constraints, 
then for every node N connecting to C, satisfying the constraints
and not on the result path tree, 
it is merged into the candidate node list. 

The cost to node N is the sum of the cost to node C and 
the cost of the link between C and N. 

If node N is not in the candidate node list,
then node N is added into the list with 
the cost to node N, node C as its previous hop node
and the PCE for node N.

If node N is in the candidate node list and 
the cost to node N through node C is less than the cost to node N in the list,
then replace 
the cost to node N in the list with the cost to node N through node C and
the previous hop to node N in the list with node C.<a href="#section-5.2-18" class="pilcrow">¶</a></p>
<p id="section-5.2-19">
If the CurrentPCE is the same as the PCE for the node D with the minimum cost in 
CandidateNodeList, then the node D is removed from CandidateNodeList and grafted 
to ResultPathTree (i.e., set flag bit T of node D to one), 
and the above steps are repeated; 

otherwise, 
a request message is to be sent to the PCE for node D.<a href="#section-5.2-19" class="pilcrow">¶</a></p>
</section>
<section id="section-5.3">
        <h3 id="name-processing-request-and-repl">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-processing-request-and-repl" class="section-name selfRef">Processing Request and Reply Messages</a>
        </h3>
<p id="section-5.3-1">
In this section, we describe the processing of the request and reply messages with Forward search bit set for FSPC. Each of the request and reply messages mentioned below has its Forward search bit set even though we do not indicate this explicitly.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">
In the case that a reply message is a final reply, 
which contains the optimal path from the source to the destination,
the reply message is sent toward the PCC along 
the path that the request message goes from the PCC to the current PCE
in reverse direction.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">
In the case that a request message is to be sent to the PCE for node D
with the minimum cost in the candidate node list
and 
there is a PCE session between the current domain and the next domain 
containing node D,
the current PCE sends the PCE for node D through the session
a request message with the source node, the destination node,
CandidateNodeList and ResultPathTree.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
<p id="section-5.3-4">
In the case that a request message is to be sent to the PCE for node D
and there is not any PCE session between the current PCE and the PCE for node D,
a reply message is sent toward a branch point on the result path tree
from the current domain 
along the path that the request message goes from the PCC to the current PCE
in reverse direction. 
From the branch point, there is a downward path to 
the domain containing the previous hop node of node D 
on the result path tree and to the domain containing node D.
At this branch point, 
the request message is sent to the PCE for node D
along the downward path.<a href="#section-5.3-4" class="pilcrow">¶</a></p>
<p id="section-5.3-5">
Suppose that node D has the minimum cost in CandidateNodeList 
when a PCE receives a request message or a reply message 
containing CandidateNodeList.<a href="#section-5.3-5" class="pilcrow">¶</a></p>
<p id="section-5.3-6">
When a PCE (current PCE) for a domain (current domain) 
receives a reply message PCRep,
it checks whether the reply is 
a final reply with the optimal path from the source to the destination.

If the reply is the final reply,
the current PCE sends the reply to the PCE 
that sends the request to the current PCE;

otherwise,
it checks whether there is a path 
from the current domain to 
the domain containing the previous hop node of node D 
on ResultPathTree and to the domain containing node D.

If there is a path, the PCE sends a request PCReq 
to the PCE responsible for the next domain along the path;
otherwise,
it sends a reply PCRep to the PCE
that sends the request to the current PCE.<a href="#section-5.3-6" class="pilcrow">¶</a></p>
<p id="section-5.3-7">
When a PCE receives a request PCReq,
it checks whether the current domain contains node D.

If it does,
then node D is removed from CandidateNodeList and grafted 
to ResultPathTree (i.e., set flag bit T of node D to one), 
and the above steps in the previous sub section are repeated; 

otherwise, 
the PCE sends a request PCReq 
to the PCE responsible for the next domain along the path 
from the current domain to 
the domain containing the previous hop node of node D 
on ResultPathTree and to the domain containing node D.<a href="#section-5.3-7" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-6">
      <h2 id="name-comparing-to-brpc">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-comparing-to-brpc" class="section-name selfRef">Comparing to BRPC</a>
      </h2>
<p id="section-6-1"> 
RFC 5441 describes the Backward Recursive Path Computation (BRPC) algorithm or procedure for computing an MPLS TE P2P LSP path from a source node to a destination node crossing multiple domains. Comparing to BRPC, there are a number of differences between BRPC and the Forward-Search P2MP TE LSP Inter-Domain Path Computation (FSPC). Some of the differences are briefed below.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">
At first, BRPC is for computing a shortest path from a source node to a destination node crossing multiple domains. 
FSPC
is for computing a shortest path from a source node to a number of destination nodes crossing multiple domains.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3"> 
Secondly, for BRPC to compute a shortest path from a source node to a destination node crossing multiple domains, we MUST provide a sequence of domains from the source node to the destination node to BRPC in advance. FSPC does not need any sequence of domains for computing a shortest inter-domain P2MP path.<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4"> 
Moreover, for a given sequence of domains domain(1), domain(2), ... , domain(n), BRPC searches the shortest path from domain(n), to domain(n-1), until domain(1). 
Thus it is hard for BRPC to be extended for computing 
a shortest path from a source node to a number of destination nodes crossing multiple domains.
FSPC calculates a shortest path in a special topology from the source node to the destination nodes using CSPF.<a href="#section-6-4" class="pilcrow">¶</a></p>
</section>
<section id="section-7">
      <h2 id="name-extensions-to-pcep">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-extensions-to-pcep" class="section-name selfRef">Extensions to PCEP</a>
      </h2>
<p id="section-7-1">
The extensions to PCEP for FSPC include the definition of a new flag in the RP object, 
a result path list/tree and a candidate node list in a request message.<a href="#section-7-1" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-rp-object-extension">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-rp-object-extension" class="section-name selfRef">RP Object Extension</a>
        </h3>
<p id="section-7.1-1"> 
The following flag is added into the RP Object:<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">
The F bit is added in the flag bits field of the RP object to tell
the receiver of the message that the request/reply is for 
FSPC.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.1-3">
<pre>
    o F (FSPC bit - 1 bit):
        0: This indicates that this is not PCReq/PCRep for FSPC.
        1: This indicates that this is PCReq or PCRep message for FSPC.

</pre><a href="#section-7.1-3" class="pilcrow">¶</a>
</div>
<p id="section-7.1-4">
The T bit is added in the flag bits field of the RP object to tell
the receiver of the message that the reply is for 
transferring a request message to the domain containing
the node with minimum cost in the candidate list.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.1-5">
<pre>
    o T (Transfer request bit - 1 bit):
        0: This indicates that this is not a PCRep
           for transferring a request message.
        1: This indicates that this is a PCRep message
           for transferring a request message.

</pre><a href="#section-7.1-5" class="pilcrow">¶</a>
</div>
<p id="section-7.1-6">
Setting Transfer request T-bit in a RP Object to one indicates
that a reply message containing the RP Object
is for transferring a request message to the domain containing
the node with minimum cost in the candidate list.<a href="#section-7.1-6" class="pilcrow">¶</a></p>
<p id="section-7.1-7">
The IANA request is referenced in Section below (Request Parameter Bit
Flags) of this document.<a href="#section-7.1-7" class="pilcrow">¶</a></p>
<p id="section-7.1-8">
This F bit with the N bit defined in RFC6006 can indicate whether
the request/reply is for FSPC of 
an MPLS TE P2MP LSP or an MPLS TE P2P LSP.<a href="#section-7.1-8" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.1-9">
<pre>
    o F = 1 and N = 1: This indicates that this is a PCReq/PCRep
                       message for FSPC of an MPLS TE P2MP LSP.
    o F = 1 and N = 0: This indicates that this is a PCReq/PCRep
                       message for FSPC of an MPLS TE P2P LSP.

</pre><a href="#section-7.1-9" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.2">
        <h3 id="name-pce-object">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-pce-object" class="section-name selfRef">PCE Object</a>
        </h3>
<p id="section-7.2-1">
The figure below illustrates a PCE IPv4 object body (Object-Type=1), 
which comprises a PCE 
IPv4 address. The PCE IPv4 address object indicates the IPv4 address of a PCE
, with which a PCE session may be established and to which a request message 
may be sent.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2-2">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       PCE  IPv4 address                       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-7.2-2" class="pilcrow">¶</a>
</div>
<p id="section-7.2-3">
The format of the PCE object body for IPv6 (Object-Type=2) is
as follows:<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.2-4">
<pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    |                 PCE  IPv6 address (16 bytes)                  |
    |                                                               |
    |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-7.2-4" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.3">
        <h3 id="name-candidate-node-list-object">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-candidate-node-list-object" class="section-name selfRef">Candidate Node List Object</a>
        </h3>
<p id="section-7.3-1">
The candidate-node-list-obj object contains a list of
candidate nodes. 
A new PCEP object class and type are requested for it.
The format of the candidate-node-list-obj object body is
as follows:<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.3-2">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   //                     &lt;candidate-node-list&gt;                   //
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-7.3-2" class="pilcrow">¶</a>
</div>
<p id="section-7.3-3">
The following is the definition of the candidate node list.<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.3-4">
<pre>
      &lt;candidate-node-list&gt;::= &lt;candidate-node&gt;
                               [&lt;candidate-node-list&gt;]
      &lt;candidate-node&gt;::= &lt;ERO&gt;
                          &lt;candidate-attribute-list&gt;

      &lt;candidate-attribute-list&gt;::= [&lt;attribute-list&gt;]
                                    [&lt;PCE&gt;]
                                    [&lt;Node-Flags&gt;]


</pre><a href="#section-7.3-4" class="pilcrow">¶</a>
</div>
<p id="section-7.3-5">
The ERO in a candidate node contain just the path segment of the last link of the path, which is from the previous hop node of the tail end node of the path to the tail end node. With this information, we can graft the candidate node into the existing result path list or tree.<a href="#section-7.3-5" class="pilcrow">¶</a></p>
<p id="section-7.3-6">
Simply speaking, a candidate node has the same or similar format of a path defined in RFC 5440, but the ERO in the candidate node just contain the tail end node of the path and its previous hop, and the candidate node may contain two new objects PCE and node flags.<a href="#section-7.3-6" class="pilcrow">¶</a></p>
</section>
<section id="section-7.4">
        <h3 id="name-node-flags-object">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-node-flags-object" class="section-name selfRef">Node Flags Object</a>
        </h3>
<p id="section-7.4-1">
The Node Flags object is used to indicate the characteristics of 
the node in a candidate node list in a request or reply message 
for FSPC. The Node
Flags object comprises a Reserved field, and a number of Flags.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<p id="section-7.4-2">
The format of the Node Flags object body is as follows:<a href="#section-7.4-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.4-3">
<pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |D|S|I|E|N|          Flags      |         Reserved              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre><a href="#section-7.4-3" class="pilcrow">¶</a>
</div>
<p id="section-7.4-4">
where<a href="#section-7.4-4" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.4-5">
<pre>
    o D = 1:  The node is a destination node.
    o S = 1:  The node is a source node.
    o I = 1:  The node is an entry boundary node.
    o E = 1:  The node is an exit boundary node.
    o T = 1:  The node is on the result path tree.

</pre><a href="#section-7.4-5" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.5">
        <h3 id="name-request-message-extension">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-request-message-extension" class="section-name selfRef">Request Message Extension</a>
        </h3>
<p id="section-7.5-1">
Below is the message format for a request message with 
the extension of a result path list and a candidate node list:<a href="#section-7.5-1" class="pilcrow">¶</a></p>
<span id="name-the-format-for-a-request-me"></span><div id="ReqMsgFormat">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-7.5-2.1">
<pre>
        &lt;PCReq Message&gt;::= &lt;Common Header&gt;
                           &lt;request&gt;
        &lt;request&gt;::= &lt;RP&gt; &lt;END-POINT-RRO-PAIR-LIST&gt;  [&lt;OF&gt;]  [&lt;LSPA&gt;]
                     [&lt;BANDWIDTH&gt;]  [&lt;metric-list&gt;]  [&lt;RRO&gt;[&lt;BANDWIDTH&gt;]]
                     [&lt;IRO&gt;] [&lt;LOAD-BALANCING&gt;]
                     [&lt;result-path-list&gt;]
                     [&lt;candidate-node-list-obj&gt;]
     where:
        &lt;result-path-list&gt;::=&lt;path&gt;[&lt;result-path-list&gt;]
        &lt;path&gt;::= &lt;ERO&gt;&lt;attribute-list&gt;
        &lt;attribute-list&gt;::=[&lt;LSPA&gt;]  [&lt;BANDWIDTH&gt;]  [&lt;metric-list&gt;]
                           [&lt;IRO&gt;]

        &lt;candidate-node-list-obj&gt; contains a &lt;candidate-node-list&gt;

        &lt;candidate-node-list&gt;::= &lt;candidate-node&gt;
                                 [&lt;candidate-node-list&gt;]
        &lt;candidate-node&gt;::= &lt;ERO&gt;
                            &lt;candidate-attribute-list&gt;

        &lt;candidate-attribute-list&gt;::= [&lt;attribute-list&gt;]
                                      [&lt;PCE&gt;]
                                      [&lt;Node-Flags&gt;]

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-the-format-for-a-request-me" class="selfRef">The Format for a Request Message</a>
          </figcaption></figure>
</div>
<p id="section-7.5-3">
The definition for the result path list that may be added 
into a request message
is the same as that for the path list in a reply message that is
described in RFC5440.<a href="#section-7.5-3" class="pilcrow">¶</a></p>
</section>
<section id="section-7.6">
        <h3 id="name-reply-message-extension">
<a href="#section-7.6" class="section-number selfRef">7.6. </a><a href="#name-reply-message-extension" class="section-name selfRef">Reply Message Extension</a>
        </h3>
<p id="section-7.6-1">
Below is the message format for a reply message with 
the extension of a result path list and a candidate node list:<a href="#section-7.6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.6-2">
<pre>
        &lt;PCRep Message&gt; ::= &lt;Common Header&gt;
                            &lt;response&gt;
        &lt;response&gt; ::= &lt;RP&gt;  [&lt;END-POINT-PATH-PAIR-LIST&gt;]
                       [&lt;NO-PATH&gt;] [&lt;attribute-list&gt;]
                       [&lt;result-path-list&gt;]
                       [&lt;candidate-node-list-obj&gt;]
     where:
        &lt;candidate-node-list-obj&gt; contains a &lt;candidate-node-list&gt;

</pre><a href="#section-7.6-2" class="pilcrow">¶</a>
</div>
<p id="section-7.6-3">
If the path from the source to the destinations is not found yet and
there are still chances to find a path (i.e., the candidate list is not
empty),
the reply message contains candidate-node-list-obj 
consisting of the information of the candidate list, 
which is encoded.
In this case, the Transfer request T-bit in the RP Object is set to one.<a href="#section-7.6-3" class="pilcrow">¶</a></p>
<p id="section-7.6-4">
If the path from the source to the destination is found,
the reply message contains path-list comprising the 
information of the path.<a href="#section-7.6-4" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security  Considerations</a>
      </h2>
<p id="section-8-1">
The mechanism described in this document does not raise any new 
security issues for the PCEP protocols.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
<div id="IANA">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-9-1">
This section specifies requests for IANA allocation.<a href="#section-9-1" class="pilcrow">¶</a></p>
<div id="IANA-RP-BITS">
<section id="section-9.1">
        <h3 id="name-request-parameter-bit-flags">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-request-parameter-bit-flags" class="section-name selfRef">Request Parameter Bit Flags</a>
        </h3>
<p id="section-9.1-1">
A new RP Object Flag has been defined in this document. 
IANA is requested to make the following allocation
from the "PCEP RP Object Flag Field" Sub-Registry:<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-9.1-2">
<pre>
      Bit       Description                         Reference
       18       FSPC (F-bit)                        This I-D
       19       Transfer Request         (T-bit)    This I-D

</pre><a href="#section-9.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-acknowledgement">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-acknowledgement" class="section-name selfRef">Acknowledgement</a>
      </h2>
<p id="section-10-1">
  The author would like to appreciate Dhruv Dhody for his great contributions and
  to thank Julien Meuric, Daniel King,
  Cyril Margaria, Ramon Casellas, Olivier Dugeon
  and Oscar Gonzalez de Dios
  for their valuable comments on this draft.<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
<section id="section-11">
      <h2 id="name-references">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-11.1">
        <h3 id="name-normative-references">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3209">[RFC3209]</dt>
        <dd>
<span class="refAuthor">Awduche, D.</span>, <span class="refAuthor">Berger, L.</span>, <span class="refAuthor">Gan, D.</span>, <span class="refAuthor">Li, T.</span>, <span class="refAuthor">Srinivasan, V.</span>, and <span class="refAuthor">G. Swallow</span>, <span class="refTitle">"RSVP-TE: Extensions to RSVP for LSP Tunnels"</span>, <span class="seriesInfo">RFC 3209</span>, <span class="seriesInfo">DOI 10.17487/RFC3209</span>, <time datetime="2001-12" class="refDate">December 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3209">https://www.rfc-editor.org/info/rfc3209</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5440">[RFC5440]</dt>
        <dd>
<span class="refAuthor">Vasseur, JP., Ed.</span> and <span class="refAuthor">JL. Le Roux, Ed.</span>, <span class="refTitle">"Path Computation Element (PCE) Communication Protocol (PCEP)"</span>, <span class="seriesInfo">RFC 5440</span>, <span class="seriesInfo">DOI 10.17487/RFC5440</span>, <time datetime="2009-03" class="refDate">March 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5440">https://www.rfc-editor.org/info/rfc5440</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6006">[RFC6006]</dt>
      <dd>
<span class="refAuthor">Zhao, Q., Ed.</span>, <span class="refAuthor">King, D., Ed.</span>, <span class="refAuthor">Verhaeghe, F.</span>, <span class="refAuthor">Takeda, T.</span>, <span class="refAuthor">Ali, Z.</span>, and <span class="refAuthor">J. Meuric</span>, <span class="refTitle">"Extensions to the Path Computation Element Communication Protocol (PCEP) for Point-to-Multipoint Traffic Engineering Label Switched Paths"</span>, <span class="seriesInfo">RFC 6006</span>, <span class="seriesInfo">DOI 10.17487/RFC6006</span>, <time datetime="2010-09" class="refDate">September 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6006">https://www.rfc-editor.org/info/rfc6006</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-informative-references">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4655">[RFC4655]</dt>
        <dd>
<span class="refAuthor">Farrel, A.</span>, <span class="refAuthor">Vasseur, J.-P.</span>, and <span class="refAuthor">J. Ash</span>, <span class="refTitle">"A Path Computation Element (PCE)-Based Architecture"</span>, <span class="seriesInfo">RFC 4655</span>, <span class="seriesInfo">DOI 10.17487/RFC4655</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4655">https://www.rfc-editor.org/info/rfc4655</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5862">[RFC5862]</dt>
      <dd>
<span class="refAuthor">Yasukawa, S.</span> and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Path Computation Clients (PCC) - Path Computation Element (PCE) Requirements for Point-to-Multipoint MPLS-TE"</span>, <span class="seriesInfo">RFC 5862</span>, <span class="seriesInfo">DOI 10.17487/RFC5862</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5862">https://www.rfc-editor.org/info/rfc5862</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Huaimo Chen</span></div>
<div dir="auto" class="left"><span class="org">Futurewei</span></div>
<div dir="auto" class="left">
<span class="locality">Boston, MA</span>,  </div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Huaimo.chen@futurewei.com" class="email">Huaimo.chen@futurewei.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
