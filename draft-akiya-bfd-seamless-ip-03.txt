



Internet Engineering Task Force                                 N. Akiya
Internet-Draft                                              C. Pignataro
Intended status: Standards Track                                 D. Ward
Expires: December 28, 2014                                 Cisco Systems
                                                           June 26, 2014


        Seamless Bidirectional Forwarding Detection (S-BFD) for
                          IPv4, IPv6 and MPLS
                     draft-akiya-bfd-seamless-ip-03

Abstract

   This document defines procedures to use Seamless Bidirectional
   Forwarding Detection (S-BFD) for IPv4, IPv6 and MPLS environments.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 28, 2014.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Akiya, et al.           Expires December 28, 2014               [Page 1]

Internet-Draft             Seamless BFD for IP                 June 2014


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Initiator Procedures  . . . . . . . . . . . . . . . . . . . .   2
     2.1.  Details of S-BFD Packet Sent by SBFDInitiator . . . . . .   3
     2.2.  Target vs. Remote Entity (S-BFD Discriminator)  . . . . .   3
   3.  Responder Procedures  . . . . . . . . . . . . . . . . . . . .   4
     3.1.  Details of S-BFD Packet Sent by SBFDReflector . . . . . .   4
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  Contributing Authors  . . . . . . . . . . . . . . . . . . . .   4
   8.  Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   Seamless Bidirectional Forwarding Detection (S-BFD),
   [I-D.ietf-bfd-seamless-base], defines a generalized mechanism to
   allow network nodes to seamlessly perform connectivity checks to
   remote entities.  This document defines necessary procedures to use
   S-BFD on IPv4, IPv6 and MPLS environments.

   The reader is expected to be familiar with the IP, MPLS BFD and S-BFD
   terminologies and protocol constructs.

2.  Initiator Procedures

   S-BFD packets are transmitted with IP header, UDP header and BFD
   control header ([RFC5880]).  When S-BFD packets are explicitly label
   switched, the former is prepended with a label stack.  Note that this
   document does not make a distinction between a single-hop S-BFD
   scenario and a multi-hop S-BFD scenario, both scenarios are
   supported.

   Necessary values in the UDP and BFD control headers are described in
   [I-D.ietf-bfd-seamless-base].  Section 2.1 describes necessary values
   in the IP and MPLS headers when an SBFDInitiator on the initiator is
   sending S-BFD packets.






Akiya, et al.           Expires December 28, 2014               [Page 2]

Internet-Draft             Seamless BFD for IP                 June 2014


2.1.  Details of S-BFD Packet Sent by SBFDInitiator

   o  Specification common to both IP routed S-BFD packets and
      explicitly label switched S-BFD packets:

      *  Source IP address field of the IP header MUST be set to a local
         IP address.

   o  Specification for IP routed S-BFD packets:

      *  Destination IP address field of the IP header MUST set to an IP
         address of the target.

      *  TTL field of the IP header SHOULD be set to 255.

   o  Specification for explicitly label switched S-BFD packets:

      *  S-BFD packets MUST have the label stack that is expected to
         reach the target.

      *  TTL field of the top most label SHOULD be 255.

      *  Destination IP address field of the IP header MUST be set to
         127/8 for IPv4 and 0:0:0:0:0:FFFF:7F00/104 for IPv6.

      *  TTL field of the IP header MUST be set to 1.

   Ed-Note: Discuss whether we want a new associated channel type for
   S-BFD.

2.2.  Target vs. Remote Entity (S-BFD Discriminator)

   Typically, an S-BFD packet will have "your discriminator" field
   corresponding to an S-BFD discriminator of the remote entity located
   on the target network node defined by the destination IP address or
   the label stack.  It is, however, possible for an SBFDInitiator to
   carefully set "your discriminator" and TTL fields to perform a
   connectivity test towards a target but to a transit network node.

   Section 2.1 intentionally uses the word "target", instead of "remote
   entity", to accommodate this possible S-BFD usage through TTL expiry.
   This also requires S-BFD packets not be dropped by the responder node
   due to TTL expiry.  Thus implementations on the responder MUST allow
   received S-BFD packets taking TTL expiry exception path to reach
   corresponding reflector BFD session.






Akiya, et al.           Expires December 28, 2014               [Page 3]

Internet-Draft             Seamless BFD for IP                 June 2014


3.  Responder Procedures

   S-BFD packets are IP routed back to the initiator, and will have IP
   header, UDP header and BFD control header.  Necessary values in the
   UDP and BFD control headers are described in
   [I-D.ietf-bfd-seamless-base].  Section 3.1 describes necessary values
   in the IP header when an SBFDReflector on the responder is sending
   S-BFD packets.

3.1.  Details of S-BFD Packet Sent by SBFDReflector

   o  Destination IP address field of the IP header MUST be copied from
      source IP address field of received S-BFD packet.

   o  Source IP address field of the IP header MUST be set to a local IP
      address.

   o  TTL field of the IP header SHOULD be set to 255.

4.  Security Considerations

   Security considerations for S-BFD are discussed in
   [I-D.ietf-bfd-seamless-base].

5.  IANA Considerations

   No action is required by IANA for this document.

6.  Acknowledgements

   Authors would like to thank Marc Binderberger from Cisco Systems for
   providing valuable comments.

7.  Contributing Authors

   Tarek Saad
   Cisco Systems
   Email: tsaad@cisco.com

   Siva Sivabalan
   Cisco Systems
   Email: msiva@cisco.com

   Nagendra Kumar
   Cisco Systems
   Email: naikumar@cisco.com





Akiya, et al.           Expires December 28, 2014               [Page 4]

Internet-Draft             Seamless BFD for IP                 June 2014


8.  Normative References

   [I-D.ietf-bfd-seamless-base]
              Akiya, N., Pignataro, C., Ward, D., Bhatia, M., and J.
              Networks, "Seamless Bidirectional Forwarding Detection
              (S-BFD)", draft-ietf-bfd-seamless-base-00 (work in
              progress), June 2014.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC5880]  Katz, D. and D. Ward, "Bidirectional Forwarding Detection
              (BFD)", RFC 5880, June 2010.

Authors' Addresses

   Nobo Akiya
   Cisco Systems

   Email: nobo@cisco.com


   Carlos Pignataro
   Cisco Systems

   Email: cpignata@cisco.com


   Dave Ward
   Cisco Systems

   Email: wardd@cisco.com



















Akiya, et al.           Expires December 28, 2014               [Page 5]
