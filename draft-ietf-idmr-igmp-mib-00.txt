

    IDMR Working Group                                   Keith McCloghrie
    INTERNET-DRAFT                                         Dino Farinacci
    Expires January 1995                                    Cisco Systems
                                                             15 July 1994



                     Internet Group Management Protocol MIB
                       <draft-ietf-idmr-igmp-mib-00.txt>




    Status of this Memo

    This document is an Internet Draft.  Internet Drafts are working
    documents of the Internet Engineering Task Force (IETF), its Areas, and
    its Working Groups.  Note that other groups may also distribute working
    documents as Internet Drafts.

    Internet Drafts are valid for a maximum of six months and may be
    updated, replaced, or obsoleted by other documents at any time.  It is
    inappropriate to use Internet Drafts as reference material or to cite
    them other than as a "work in progress".


    1.  Introduction

    This memo defines an experimental portion of the Management Information
    Base (MIB) for use with network management protocols in the Internet
    community.  In particular, it describes managed objects used for
    managing the Internet Group Management Protocol (IGMP).  All of this MIB
    module is applicable to IP multicast routers [6,7]; a subset is
    applicable to hosts implementing IGMP [5].






















    Draft                           IGMP MIB                       July 1994


    2.  The SNMPv2 Network Management Framework

    The SNMPv2 Network Management Framework consists of four major
    components.  They are:

    o    RFC 1442 [1] which defines the SMI, the mechanisms used for
         describing and naming objects for the purpose of management.

    o    STD 17, RFC 1213 [2] defines MIB-II, the core set of managed
         objects for the Internet suite of protocols.

    o    RFC 1445 [3] which defines the administrative and other
         architectural aspects of the framework.

    o    RFC 1448 [4] which defines the protocol used for network access to
         managed objects.

    The Framework permits new objects to be defined for the purpose of
    experimentation and evaluation.


    2.1.  Object Definitions

    Managed objects are accessed via a virtual information store, termed the
    Management Information Base or MIB.  Objects in the MIB are defined
    using the subset of Abstract Syntax Notation One (ASN.1) defined in the
    SMI.  In particular, each object type is named by an OBJECT IDENTIFIER,
    an administratively assigned name.  The object type together with an
    object instance serves to uniquely identify a specific instantiation of
    the object.  For human convenience, we often use a textual string,
    termed the descriptor, to refer to the object type.


    3.  Overview

    This MIB module contains two tables:

    (1)  the IGMP Interface Table which contains one row for each interface
         on which IGMP is enabled, and

    (2)  the IGMP Cache Table which contains one row for each IP multicast
         group for which there are members on a particular interface.

    Both tables are intended to be implemented by hosts and routers, but
    some columnar objects in each table apply only to routers.





    Expires 15 January 1994                                         [Page 2]





    Draft                           IGMP MIB                       July 1994


    4.  Definitions

    IGMP-MIB DEFINITIONS ::= BEGIN

    IMPORTS
        MODULE-IDENTITY, OBJECT-TYPE, experimental,
        Integer32, IpAddress, TimeTicks  FROM SNMPv2-SMI
        RowStatus, TruthValue            FROM SNMPv2-TC
        MODULE-COMPLIANCE, OBJECT-GROUP  FROM SNMPv2-CONF;


    igmpMIB MODULE-IDENTITY
        LAST-UPDATED "9407152359Z"
        ORGANIZATION "IETF IDMR Working Group."
        CONTACT-INFO
                " Keith McCloghrie
                  cisco Systems, Inc.
                  1525 O'Brien Dr.
                  Menlo Park, CA 94025
                  EMail: kzm@cisco.com"
        DESCRIPTION
                "The MIB module for IGMP Management."
        ::= { experimental xx }  -- to be assigned by IANA


    igmpMIBObjects     OBJECT IDENTIFIER ::= { igmpMIB 1 }

    igmp      OBJECT IDENTIFIER ::= { igmpMIBObjects 1 }






















    Expires 15 January 1994                                         [Page 3]





    Draft                           IGMP MIB                       July 1994


    --
    --  The IGMP Interface Table
    --

    igmpInterfaceTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF IgmpInterfaceEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table listing the interfaces on which IGMP
                is enabled."
        ::= { igmp 1 }

    igmpInterfaceEntry OBJECT-TYPE
        SYNTAX     IgmpInterfaceEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) representing an interface on
                which IGMP is enabled."
        INDEX      { igmpInterfaceIfIndex }
        ::= { igmpInterfaceTable 1 }

    IgmpInterfaceEntry ::= SEQUENCE {
        igmpInterfaceIfIndex        Integer32,
        igmpInterfaceQueryInterval  Integer32,
        igmpInterfaceStatus         RowStatus
    }

    igmpInterfaceIfIndex OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The interface for which IGMP is enabled."
        ::= { igmpInterfaceEntry 1 }

    igmpInterfaceQueryInterval OBJECT-TYPE
        SYNTAX     Integer32
        UNITS      "seconds"
        MAX-ACCESS read-create
        STATUS     current
        DESCRIPTION
                "The frequency at which IGMP Host-Query packets are
                transmitted on this interface."





    Expires 15 January 1994                                         [Page 4]





    Draft                           IGMP MIB                       July 1994


        DEFVAL     { 60 }
        ::= { igmpInterfaceEntry 2 }

    igmpInterfaceStatus OBJECT-TYPE
        SYNTAX     RowStatus
        MAX-ACCESS read-create
        STATUS     current
        DESCRIPTION
                "The activation of a row enables IGMP on the interface.  The
                destruction of a row disables IGMP on the interface."
        ::= { igmpInterfaceEntry 3 }


    --
    --  The IGMP Cache Table
    --

    igmpCacheTable OBJECT-TYPE
        SYNTAX     SEQUENCE OF IgmpCacheEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The (conceptual) table listing the IP multicast groups for
                which there are members on a particular interface."
        ::= { igmp 2 }

    igmpCacheEntry OBJECT-TYPE
        SYNTAX     IgmpCacheEntry
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "An entry (conceptual row) in the igmpCacheTable."
        INDEX      { igmpCacheAddress, igmpCacheIfIndex }
        ::= { igmpCacheTable 1 }
















    Expires 15 January 1994                                         [Page 5]





    Draft                           IGMP MIB                       July 1994


    IgmpCacheEntry ::= SEQUENCE {
        igmpCacheAddress        IpAddress,
        igmpCacheIfIndex        Integer32,
        igmpCacheSelf           TruthValue,
        igmpCacheLastReporter   IpAddress,
        igmpCacheUpTime         TimeTicks,
        igmpCacheExpiryTime     TimeTicks,
        igmpCacheStatus         RowStatus
    }

    igmpCacheAddress OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The IP multicast group address for which this entry
                contains information."
        ::= { igmpCacheEntry 1 }

    igmpCacheIfIndex OBJECT-TYPE
        SYNTAX     Integer32
        MAX-ACCESS not-accessible
        STATUS     current
        DESCRIPTION
                "The interface for which this entry contains information for
                an IP multicast group address."
        ::= { igmpCacheEntry 2 }

    igmpCacheSelf OBJECT-TYPE
        SYNTAX     TruthValue
        MAX-ACCESS read-create
        STATUS     current
        DESCRIPTION
                "An indication of whether the local system is a member of
                this group address on this interface."
        DEFVAL     { true }
        ::= { igmpCacheEntry 3 }

    igmpCacheLastReporter OBJECT-TYPE
        SYNTAX     IpAddress
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The IP address of the source of the last membership report
                received for this IP Multicast group address on this





    Expires 15 January 1994                                         [Page 6]





    Draft                           IGMP MIB                       July 1994


                interface.  If no membership report has been received, this
                object has the value 0.0.0.0."
        ::= { igmpCacheEntry 4 }

    igmpCacheUpTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The time since the system joined this group address, or
                zero if the system is not currently a member."
        ::= { igmpCacheEntry 5 }

    igmpCacheExpiryTime OBJECT-TYPE
        SYNTAX     TimeTicks
        MAX-ACCESS read-only
        STATUS     current
        DESCRIPTION
                "The minimum amount of time remaining before this entry will
                be aged out."
        ::= { igmpCacheEntry 6 }

    igmpCacheStatus OBJECT-TYPE
        SYNTAX     RowStatus
        MAX-ACCESS read-create
        STATUS     current
        DESCRIPTION
                "The status of this entry."
        ::= { igmpCacheEntry 7 }





















    Expires 15 January 1994                                         [Page 7]





    Draft                           IGMP MIB                       July 1994


    -- conformance information

    igmpMIBConformance
                   OBJECT IDENTIFIER ::= { igmpMIB 2 }
    igmpMIBCompliances
                   OBJECT IDENTIFIER ::= { igmpMIBConformance 1 }
    igmpMIBGroups  OBJECT IDENTIFIER ::= { igmpMIBConformance 2 }


    -- compliance statements

    igmpHostMIBCompliance MODULE-COMPLIANCE
        STATUS  current
        DESCRIPTION
                "The compliance statement for hosts implementing the IGMP
                MIB."
        MODULE  -- this module
            MANDATORY-GROUPS { igmpBaseMIBGroup }

        ::= { igmpMIBCompliances 1 }


    igmpRouterMIBCompliance MODULE-COMPLIANCE
        STATUS  current
        DESCRIPTION
                "The compliance statement for routers implementing the IGMP
                MIB."
        MODULE  -- this module
            MANDATORY-GROUPS { igmpBaseMIBGroup,
                               igmpRouterMIBGroup
                             }
        ::= { igmpMIBCompliances 2 }


    -- units of conformance

    igmpBaseMIBGroup OBJECT-GROUP
        OBJECTS { igmpCacheSelf, igmpCacheLastReporter,
                  igmpCacheStatus, igmpInterfaceStatus
                }
        STATUS  current
        DESCRIPTION
                "The basic collection of objects providing management of
                IGMP."
        ::= { igmpMIBGroups 1 }





    Expires 15 January 1994                                         [Page 8]





    Draft                           IGMP MIB                       July 1994


    igmpRouterMIBGroup OBJECT-GROUP
        OBJECTS { igmpCacheUpTime, igmpCacheExpiryTime,
                  igmpInterfaceQueryInterval
                }
        STATUS  current
        DESCRIPTION
                "A collection of additional objects for management of IGMP
                in routers."
        ::= { igmpMIBGroups 2 }

    END







































    Expires 15 January 1994                                         [Page 9]





    Draft                           IGMP MIB                       July 1994


    5.  Acknowledgements

    This MIB module will be presented to the IETF's Inter-Domain Multicast
    Routing (IDMR) Working Group.



    6.  References

    [1]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Structure
         of Management Information for version 2 of the Simple Network
         Management Protocol (SNMPv2)", RFC 1442, SNMP Research,Inc., Hughes
         LAN Systems, Dover Beach Consulting, Inc., Carnegie Mellon
         University, April 1993.

    [2]  McCloghrie, K., and M. Rose, Editors, "Management Information Base
         for Network Management of TCP/IP-based internets: MIB-II", STD 17,
         RFC 1213, Hughes LAN Systems, Performance Systems International,
         March 1991.

    [3]  Galvin, J., and K. McCloghrie, "Administrative Model for version 2
         of the Simple Network Management Protocol (SNMPv2)", RFC 1445,
         Trusted Information Systems, Hughes LAN Systems, April 1993.

    [4]  Case, J., McCloghrie, K., Rose, M., and S. Waldbusser, "Protocol
         Operations for version 2 of the Simple Network Management Protocol
         (SNMPv2)", RFC 1448, SNMP Research,Inc., Hughes LAN Systems, Dover
         Beach Consulting, Inc., Carnegie Mellon University, April 1993.

    [5]  Deering, S., "Host Extensions for IP Multicasting", RFC 1112,
         August 1989.

    [6]  Waitzman, D., Partridge, C., and S.E. Deering, "Distance Vector
         Multicast Routing Protocol", RFC 1075, November 1988.

    [7]  Deering, S., Estrin, D., Farinacci, D., Jacobson, V., Liu, G., and
         L. Wei, "Protocol Independent Multicast, Sparse Mode Protocol
         Specification", March 1994.



    7.  Security Considerations

    Security issues are not discussed in this memo.






    Expires 15 January 1994                                        [Page 10]





    Draft                           IGMP MIB                       July 1994


    8.  Author's Address

         Keith McCloghrie
         cisco Systems, Inc.
         1525 O'Brien Dr.
         Menlo Park, CA 94025
         Phone: (415) 324-5260
         EMail: kzm@cisco.com

         Dino Farinacci
         cisco Systems, Inc.
         1525 O'Brien Dr.
         Menlo Park, CA 94025
         Phone: (415) 688-4696
         EMail: dino@cisco.com



































    Expires 15 January 1994                                        [Page 11]





    Draft                           IGMP MIB                       July 1994


    Table of Contents


    1 Introduction ....................................................    1
    2 The SNMPv2 Network Management Framework .........................    2
    2.1 Object Definitions ............................................    2
    3 Overview ........................................................    2
    4 Definitions .....................................................    3
    5 Acknowledgements ................................................   10
    6 References ......................................................   10
    7 Security Considerations .........................................   10
    8 Author's Address ................................................   11






































    Expires 15 January 1994                                        [Page 12]



