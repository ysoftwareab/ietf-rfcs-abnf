


Softwires Working Group                                     C. Metz, Ed.
Internet-Draft                                             Cisco Systems
Intended status: Informational                               Y. Cui, Ed.
Expires: August 18, 2008                                      M. Xu, Ed.
                                                     Tsinghua University
                                                       February 15, 2008


               Softwires Mesh Multicast Problem Statement
        draft-metz-softwires-multicast-problem-statement-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 18, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2008).












Metz, et al.             Expires August 18, 2008                [Page 1]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


Abstract

   This document defines a problem statemet for Softwires Mesh
   Multicast.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Terminology  . . . . . . . . . . . . . . . . . . . . . . .  3
     1.2.  Scenarios of Interest  . . . . . . . . . . . . . . . . . .  4

   2.  Motivation . . . . . . . . . . . . . . . . . . . . . . . . . .  5

   3.  Considerations . . . . . . . . . . . . . . . . . . . . . . . .  6
     3.1.  Optimality vs Scalability  . . . . . . . . . . . . . . . .  6
     3.2.  Single-Source Multicast vs Any-Source Multicast  . . . . .  7
     3.3.  E-IP Client Networks and MPLS Multicast  . . . . . . . . .  7
     3.4.  Client E-IP Multicast Signaling between AFBR Nodes . . . .  7
     3.5.  I-IP Unicast Core  . . . . . . . . . . . . . . . . . . . .  7

   4.  Problem Examples . . . . . . . . . . . . . . . . . . . . . . .  9
     4.1.  Client E-IP = IPv6 and I-IP Backbone = IPv4  . . . . . . .  9
     4.2.  Client E-IP = IPv4 and I-IP Backbone = IPv6  . . . . . . .  9

   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 11

   6.  Security Considerations  . . . . . . . . . . . . . . . . . . . 12

   7.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 13

   8.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 14
     8.1.  Normative References . . . . . . . . . . . . . . . . . . . 14
     8.2.  Informative References . . . . . . . . . . . . . . . . . . 14

   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 15
   Intellectual Property and Copyright Statements . . . . . . . . . . 16














Metz, et al.             Expires August 18, 2008                [Page 2]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


1.  Introduction

   The Internet will need to support IPv4 and IPv6 packets.  Both
   address families and their attendent protocol suites support
   multicast of the single-source and any-source varieties.  As part of
   the transition to IPv6, there will be scenarios where a backbone
   network running one IP address family internally (referred to as
   internal IP or I-IP) will provide transit services to attached client
   networks running another IP address family (referred to as external
   IP or E-IP).  It is expected that the I-IP backbone will offer
   unicast and multicast transit services to the client E-IP networks.

   The Softwires Working Group has defined a framework by which E-IP
   unicast and multicast packets can be tunneled across an I-IP backbone
   network [I-D.draft-ietf-softwire-mesh-framework-03].  The tunnels are
   referred to as Softwires.  The Softwires Problem Statement [RFC4925]
   calls out multicast as a requirement.  The charter for the Softwires
   working group explicitly mentions multicast and at the Vancouver IETF
   meeting, a healthy discussion on Softwire Multicast ensued.  It was
   suggested and agreed to at the time that a problem statement for
   softwire mesh multicast be created and discussed at the next IETF
   meeting in Philadelphia.

   This document describes the softwires mesh multicast problem
   statement.

1.1.  Terminology

   The following terminology will be used in this document.

   o  Softwire (SW) - A "tunnel" that is created on the basis of a
      control protocol setup between softwire endpoints with a shared
      point-to- point, multipoint-to-point, point-to-multipoint or
      multipoint-to-multipoing state.  Softwires are generally dynamic
      in nature (they may be initiated and terminated on demand), but
      may be very long-lived.

   o  Address Family Border Router (AFBR) - The dual-stack router that
      interconnects two networks that use different address families.
      In the context of softwires multicast, the AFBR runs E-IP and I-IP
      control planes to maintain E-IP and I-IP multicast state
      respectively and performs the appropriate encapsulation/
      decapsultion client E-IP multicast packets for transport across
      the I-IP backbone.

   o  I-IP ("Internal IP").  This refers to the form of IP (i.e., either
      IPv4 or IPv6) that is supported by the transit (or backbone)
      network.



Metz, et al.             Expires August 18, 2008                [Page 3]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


   o  E-IP ("External IP") This refers to the form of IP (i.e. either
      IPv4 or IPv6) that is supported by the client networks.

   o  I-IP Core Tree.  A single-source or multi-source distribution tree
      rooted at one or more AFBR source nodes and branching out to one
      or more AFBR leaf nodes.  An I-IP core tree is built using
      standard IP or MPLS multicast signaling protocols operating
      exclusively inside the I-IP backbone network.  An I-IP core tree
      is used to tunnel E-IP multicast packets belonging to E-IP trees
      across the I-IP backbone.  Another name for an I-IP core tree is
      multicast or multipoint softwire.

   o  E-IP client tree.  A single-source or multi-source distribution
      tree rooted at one or more hosts or routers located inside a
      client E-IP network and branching out to one or more leaf nodes
      located in the same or different client E-IP networks.

1.2.  Scenarios of Interest

   The scenarios of interest are the following:

   o  IPv6-over-IPv4.  This is the case when the I-IP backbone is IPv4
      and the client E-IP networks are global IPv6

   o  IPv4-over-IPv6.  This is the case where the I-IP backbone is IPv6
      and the client E-IP networks are global IPv4

   While the focus on Softwires is IPv6 transition, it should be noted
   that the mechanisms defined so far in the softwire mesh framework and
   any additional protocol machinery required for softwire mesh
   multicast can and should work in the cases where E-IP and I-IP
   networks support the same IP address family.



















Metz, et al.             Expires August 18, 2008                [Page 4]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


2.  Motivation

   The fundamental objective of any I-IP backbone, in particular as it
   relates to Softwires Mesh and IPv6 transition is to provide transit
   connectivity between constituent client E-IP networks.  The transit
   connectivity between client E-IP networks must support both IP
   unicast and multicast packets.  With respect to the latter it is
   possible, although highly undesirable for provisioning and
   scalability reasons, to accomodate multicast connectivity across the
   I-IP backbone via a series of inter-AFBR point-to-point tunnels using
   mechanisms such as GRE [RFC2784] or L2TPv3 [RFC3931]

   The preferred solution is to leverage the multicast functions,
   inherent in the I-IP backbone, to efficiently and scalably tunnel
   encapsulated client E-IP multicast packets inside an I-IP core tree
   rooted at one or more ingress AFBR nodes and branching out to one or
   more egress AFBR leaf nodes.

   Thus we require protocol machinery capable of dynamically building
   single-source or multi-source I-IP core trees (aka multipoint
   softwires) capable of providing client E-IP multicast connectivity.






























Metz, et al.             Expires August 18, 2008                [Page 5]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


3.  Considerations

   This section lays out several areas to consider when addressing the
   softwires mesh multicast problem.

3.1.  Optimality vs Scalability

   The issues regarding optimality versus scalability have been
   discussed ad nauseum.  [I-D.draft-ietf-l3vpn-2547bis-mcast-06]At one
   end of the spectrum each E-IP client tree maps to one I-IP core tree
   on a 1:1 basis so the amount of multicast state inside the core is
   O(# of E-IP client trees). 1:1 mapping infers E-IP client and I-IP
   core branch and/or leaf routers will be contiguous on the AFBR nodes
   thus contributing to an optimal delivery.  In addition 1:1 mapping is
   consistent with Internet-style multicast in that there is no
   aggregation of E-IP client state performed by routers.

   At the other end of the spectrum we have aggregation where a set of
   AFBR-rooted single-source trees or even an individual any-source tree
   could serve to deliver all client E-IP multicast packets to all AFBR
   leaf nodes where a decision to forward to downstream client E-IP
   routers will be determined by E-IP multicast state.  This N:1 mapping
   of N number of E-IP client trees mapped to one or a few I-IP core
   trees is scalable from a state perspective.  However it could be sub-
   optimal because some AFBR nodes might have to discard E-IP multicast
   packets received through an I-IP core tree for which there are no
   downstream receivers.

   Aggregation is appropriate for the L3VPN cases where the backbone
   needs to handle potentially a large number of VPN-specific, receiver-
   dense, low-volume multicast trees.  The advantages of state
   containment in the backbone at the expense of low-volume packet drops
   on uninterested leaf routers is acceptable.  This is not the case for
   Internet multicast where receiver populations are sparse and per-tree
   traffic volumes tend towards higher-bandwidth consuming multimedia
   streams.

   The mission for softwires is to support global E-IP connectivity
   across an I-IP backbone network.  We extend this notion naturally in
   support of multicast which leads to the conclusion that only
   Internet-style multicast (i.e 1:1 mapping with no aggregation )
   should be addressed in Softwires.

   If the IETF community under the auspices of another working group
   (e.g.  MBONED) deems that aggregation of Internet multicast is a
   problem needing a solution,then those requirements should be
   documented and disseminated to other working groups for
   consideration.



Metz, et al.             Expires August 18, 2008                [Page 6]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


   It should also be noted that a solution for multicast state
   aggregation exists today in the form of multicast VPNs.

3.2.  Single-Source Multicast vs Any-Source Multicast

   Noting again that softwires must address Internet multicast, it is
   required that singles-source multicast (e.g.  PIM-SSM) be supported.

   Any-source multicast (ASM) could be considered but we observe that
   there is a decided lack of security in the current schemes.  One
   could have unauthorized sources blasting multicast packets into a
   shared tree in a benign or malicious denial-of-service attack.

   The use embedded RP [RFC3956]in which the address of the rendezvous
   point (RP) for the shared tree is embedded in the group address is
   one way that ASM could scale for the Internet but the security issue
   still remains.

3.3.  E-IP Client Networks and MPLS Multicast

   Client E-IP networks will run native IPv4 or native IPv6 multicast to
   build E-IP client trees and to replicate and forward client E-IP
   multicast packets.  No requirement or statement has been put forth to
   date suggesting that the client E-IP networks will run MPLS
   multicast.

   It is noted that MPLS multicast is permitted to run in I-IP backbone
   networks.

3.4.  Client E-IP Multicast Signaling between AFBR Nodes

   AFBR nodes might need to establish some form of control plane
   interaction to exchange client E-IP multicast configuration and/or
   routing information.  Configuring and running a full mesh of inter-
   AFBR E-IP PIM adjacencies in an overlay fashion is one possible
   solution.  Another solution is to extend MP-BGP to distribute E-IP
   multicast routing information between AFBR nodes.
   [I-D.draft-ietf-l3vpn-2547bis-mcast-bgp-04]

3.5.  I-IP Unicast Core

   It is possible that the I-IP backbone only supports softwire mesh
   unicast routing and forwarding.  In such a scenario, the ingess AFBR
   node(s) will need to replicate, map and then encapsulate E-IP client
   multicast packets in softwire unicast tunnel headers for transport to
   the appropriate egress AFBR node(s).  There the softwire tunnel
   header is removed and E-IP client multicast packet process occurs.




Metz, et al.             Expires August 18, 2008                [Page 7]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


   A method for mapping E-IP client multicast group addresses to the
   I-IP unicast addresses of the one or more egress AFBR nodes will be
   required.
















































Metz, et al.             Expires August 18, 2008                [Page 8]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


4.  Problem Examples

   This section outlines several examples of where softwire mesh
   multicast would apply.

4.1.  Client E-IP = IPv6 and I-IP Backbone = IPv4

   This first example will likely be the most common one encountered.
   The client E-IP networks are running global IPv6 routing and are
   attached via single-homed or multi-homed connections to dual-stack
   AFBR nodes positioned at the edges of a backbone I-IP network running
   IPv4.

   The client E-IP IPv6 networks are capable of running single-source
   and any-source multicast applications and support PIM-SM and PIM-SSM
   for building and maintaining E-IP client trees.  Multicast sources
   (hosts or routers) are rooted in one or more client E-IP networks and
   leafs or receivers are located in the same or remote client E-IP
   networks on the other side of the I-IP IPv4 backbone network.

   The I-IP IPv4 backbone runs PIM or mLDP to build and maintain I-IP
   core trees.  The encapsulations applied to client E-IP IPv6 multicast
   packets tunneled inside the I-IP core trees are IPv4 multicast or
   MPLS labels.

   The core routers do not hold client E-IP routes so support for the
   RPF Vector is needed.  This enables core routers to forward I-IP PIM
   IPv4 join/prune messages towards the AFBR leading to the E-IP source
   or RP.

   The dual-stack AFBR nodes run E-IP PIM to exchange client E-IP
   multicast routing information with attached client E-IP routers.  The
   AFBR nodes must also exchange client E-IP routing information with
   other AFBR nodes.  And finally an AFBR is expected to participate in
   the signaling (I-IP PIM or I-IP mLDP) necessary to establis the I-IP
   core tree.

   The encapsulation and decapsulation of client E-IP multicast packets
   in I-IP multipoint softwire packets is performed by the AFBR.

4.2.  Client E-IP = IPv4 and I-IP Backbone = IPv6

   This second example will be encountered as well.  The client E-IP
   networks are running global IPv4 routing and are attached via single-
   homed or multi-homed connections to dual-stack AFBR nodes positioned
   at the edges of a backbone I-IP network running native IPv6.

   Now client E-IP IPv4 networks will have multicast connectivity



Metz, et al.             Expires August 18, 2008                [Page 9]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


   extended across an I-IP IPv6 backbone network with the same general
   interactions in place as described in the previous scenario.  The one
   exception is the strong likelihood that MPLS multicast will not
   operate in the I-IP IPv6 backbone network.















































Metz, et al.             Expires August 18, 2008               [Page 10]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


5.  IANA Considerations

   This document makes no request of IANA.

   Note to RFC Editor: this section may be removed on publication as an
   RFC.













































Metz, et al.             Expires August 18, 2008               [Page 11]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


6.  Security Considerations

   TBA ..
















































Metz, et al.             Expires August 18, 2008               [Page 12]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


7.  Acknowledgements

   Toerless Eckert, Greg Shephard, Eric Rosen and Vasu Kengeri provided
   useful input.















































Metz, et al.             Expires August 18, 2008               [Page 13]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


8.  References

8.1.  Normative References

   [I-D.draft-ietf-l3vpn-2547bis-mcast-06]
              Rosen, E., Ed., "Multicast in MPLS/BGP IP VPNs",
              <draft-ietf-l3vpn-2547bis-mcast-06.txt>.

   [I-D.draft-ietf-l3vpn-2547bis-mcast-bgp-04]
              Rosen, E. and R. Aggarwal, "BGP Encodings and Procedures
              for Multicast in MPLS/BGP IP VPNs", November 2007,
              <draft-ietf-l3vpn-2547bis-mcast-bgp-04.txt>.

   [I-D.draft-ietf-softwire-mesh-framework-03]
              Rosen, E., Ed., "Softwire Mesh Framework", January 2008,
              <draft-ietf-softwire-mesh-framework-03.txt>.

   [RFC2784]  Farinacci, D., "Generic Router Encapsulation", March 2000.

   [RFC3931]  Townsley, M., Ed., "Layer-2 Tunneling Protocol - Version
              3", March 2005.

   [RFC3956]  Savola, P., "Embedding the Rendezvous Point (RP) Address
              in an IPv6 Multicast Address", November 2004.

   [RFC4925]  Li, X., Ed., "Softwire Problem Statement", July 2007.

8.2.  Informative References























Metz, et al.             Expires August 18, 2008               [Page 14]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


Authors' Addresses

   Chris Metz (editor)
   Cisco Systems
   170 West Tasman Drive
   San Jose, California  95134-1706
   USA

   Phone: +1-408-525-3275
   Email: chmetz@cisco.com


   Yong Cui (editor)
   Tsinghua University
   Department of Computer Science, Tsinghua University
   Beijing  100084
   P.R.China

   Phone: +86-10-6278-5822
   Email: cuiyong@tsinghua.edu.cn


   Mingwei Xu  (editor)
   Tsinghua University
   Department of Computer Science, Tsinghua University
   Beijing  100084
   P.R.China

   Phone: +86-10-6278-5822
   Email: xmw@csnet1.cs.tsinghua.edu.cn





















Metz, et al.             Expires August 18, 2008               [Page 15]

Internet-Draft    Softwires Multicast Problem Statement    February 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Metz, et al.             Expires August 18, 2008               [Page 16]


