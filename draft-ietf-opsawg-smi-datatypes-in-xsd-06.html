<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Expressing SNMP SMI Datatypes in XML Schema Definition Language</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Expressing SNMP SMI Datatypes in XML Schema Definition Language">
<meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, SMI, Datatype, XML, eXtensible Markup Language, XML Schema, XSD">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">M. Ellison</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Ellison Software Consulting</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">B. Natale</td></tr>
<tr><td class="header">Expires: September 2, 2010</td><td class="header">MITRE</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 01, 2010</td></tr>
</table></td></tr></table>
<h1><br />Expressing SNMP SMI Datatypes in XML Schema Definition Language<br />draft-ietf-opsawg-smi-datatypes-in-xsd-06.txt</h1>

<h3>Abstract</h3>

<p>This memo defines the IETF standard expression of Structure of Management
      Information (SMI) base datatypes in Extensible Markup Language (XML) Schema
      Definition (XSD) language.  The primary objective of this memo is to enable
      the production of XML documents that are as faithful to the SMI as possible,
      using XSD as the validation mechanism.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 2, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Conventions<br />
<a href="#anchor3">3.</a>&nbsp;
Requirements<br />
<a href="#anchor4">4.</a>&nbsp;
XSD for SMI Base Datatypes<br />
<a href="#anchor5">5.</a>&nbsp;
Rationale<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">5.1.</a>&nbsp;
Numeric Datatypes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.2.</a>&nbsp;
OctetString<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.3.</a>&nbsp;
Opaque<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.4.</a>&nbsp;
IpAddress<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.5.</a>&nbsp;
ObjectIdentifier<br />
<a href="#anchor11">6.</a>&nbsp;
Security Considerations<br />
<a href="#anchor12">7.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">7.1.</a>&nbsp;
SMI Base Datatypes Namespace Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">7.2.</a>&nbsp;
SMI Base Datatypes Schema Registration<br />
<a href="#anchor15">8.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informational References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Numerous use cases exist for expressing the management information
      described by SMI Management Information Base (MIB) modules
      in XML <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>World Wide Web Consortium, &ldquo;Extensible Markup Language (XML) 1.0,&rdquo; February&nbsp;1998.</span><span>)</span></a>. Potential use cases reside both outside 
      and within the traditional IETF network management community.  
      For example, developers of some XML-based management applications 
      may want to incorporate the rich set of data models provided by MIB modules.  
      Developers of other XML-based management applications may want to access MIB module 
      instrumentation via gateways to SNMP agents.  Such applications 
      benefit from the IETF standard mapping of SMI datatypes to XML datatypes via
      XSD <a class='info' href='#XMLSchema'>[XMLSchema]<span> (</span><span class='info'>World Wide Web Consortium, &ldquo;XML Schema Part 1: Structures Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a>, <a class='info' href='#XSDDatatypes'>[XSDDatatypes]<span> (</span><span class='info'>World Wide Web Consortium, &ldquo;XML Schema Part 2: Datatypes Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a>.
</p>
<p>MIB modules use SMIv2 <a class='info' href='#RFC2578'>[RFC2578]<span> (</span><span class='info'>McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;Structure of Management Information Version 2                     (SMIv2),&rdquo; April&nbsp;1999.</span><span>)</span></a> to describe data models.  For
      legacy MIB modules, SMIv1 <a class='info' href='#RFC1155'>[RFC1155]<span> (</span><span class='info'>Rose, M. and K. McCloghrie, &ldquo;Structure and identification of management information for TCP/IP-based internets,&rdquo; May&nbsp;1990.</span><span>)</span></a> was used.  MIB data conveyed in
      variable bindings ("varbinds") within protocol data units (PDUs) of
      SNMP messages use the primitive, base datatypes defined by the SMI.
</p>
<p>The SMI allows for the creation of derivative datatypes, "textual
      conventions" ("TCs") <a class='info' href='#RFC2579'>[RFC2579]<span> (</span><span class='info'>McCloghrie, K., Perkins, D., and J. Schoenwaelder, &ldquo;Textual Conventions for SMIv2,&rdquo; April&nbsp;1999.</span><span>)</span></a>.  A TC has a unique name, 
      has a syntax that either refines or is a base SMI datatype and has 
      relatively precise application-level semantics.  TCs facilitate correct 
      application-level handling of MIB data, improve readability of MIB 
      modules by humans and support appropriate renderings of MIB data.
</p>
<p>Values in varbinds corresponding to MIB objects defined with TC 
      syntax are always encoded as the base SMI datatype underlying the 
      TC syntax.  Thus, the XSD mappings defined in this memo provide support 
      for values of MIB objects defined with TC syntax as well as for values 
      of MIB objects defined with base SMI syntax.
</p>
<p>Various independent schemes have been devised for expressing SMI
      datatypes in XSD.  These schemes exhibit a degree of commonality, especially 
      concerning numeric SMI datatypes, but these schemes also exhibit sufficient differences,
      especially concerning the non-numeric SMI datatypes, precluding uniformity 
      of expression and general interoperability.
</p>
<p>Throughout this memo, the term "fidelity" refers to the quality of an accurate, 
      consistent representation of SMI data values and the term "faithful" refers 
      to the quality of reliably reflecting the semantics of SMI data values.
      Thus defined, the characteristics of fidelity and being faithful are
      essential to uniformity of expression and general interoperability in the
      XML representation of SMI data values.
      
</p>
<p>The primary purpose of this memo is to define the standard expression
      of SMI base datatypes in XML documents that is both uniform and 
      interoperable.  This standard expression enables Internet operators, management 
      application developers, and users to benefit from a wider range
      of management tools and to benefit from a greater degree of unified management. 
      Thus, standard expression enables and facilitates improvements to the timeliness, accuracy and utility 
      of management information.
      
</p>
<p>The overall objective of this memo, and of any related future memos
      as may be published, is to define the XSD equivalent <a class='info' href='#XSDDatatypes'>[XSDDatatypes]<span> (</span><span class='info'>World Wide Web Consortium, &ldquo;XML Schema Part 2: Datatypes Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a>
      of SMIv2 (STD58) and to encourage XML-based protocols to carry, and XML-based
      applications to use, the management information defined in SMIv2-compliant MIB modules.
      The use of a standard mapping from SMIv2 to XML via XSD validation 
      enables and promotes the efficient reuse of existing and future MIB modules
      and instrumentation by XML-based protocols and management applications.
</p>
<p>Developers of certain XML-based management applications will find this specification sufficient
      for their purposes.  Developers of other XML-based management applications may need to make more complete
      reuse of existing MIB modules, requiring standard XSD documents for TCs <a class='info' href='#RFC2579'>[RFC2579]<span> (</span><span class='info'>McCloghrie, K., Perkins, D., and J. Schoenwaelder, &ldquo;Textual Conventions for SMIv2,&rdquo; April&nbsp;1999.</span><span>)</span></a>
      and MIB structure <a class='info' href='#RFC2578'>[RFC2578]<span> (</span><span class='info'>McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;Structure of Management Information Version 2                     (SMIv2),&rdquo; April&nbsp;1999.</span><span>)</span></a>.  Memos supporting such
      requirements are planned, but have not been produced at the time of this writing.
</p>
<p>Finally, it is worthwhile to note that the goal of fidelity to the SMIv2 
      standard (STD58), as specified in the
      "Requirements" section below, is crucial to this effort.  Fidelity leverages 
      the established "rough consensus" of the precise SMIv2 data models contained in MIB
      modules, and leverages existing instrumentation, the "running code" implementing SMIv2
      data models. This effort does not include any redesign of SMIv2 datatypes,
      data structures or textual conventions in order to overcome known limitations. 
      Such work can be pursued by other efforts.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, s., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
      
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Requirements</h3>

<p>The following set of requirements is intended to produce XML documents
      which can be validated via the XSD defined in this specification to
      faithfully represent values carried "on-the-wire" in SNMP PDUs as defined
      by the SMI:
      </p>
<blockquote class="text"><dl>
<dt>R1.</dt>
<dd>All SMI base datatypes MUST have a corresponding XSD datatype.
</dd>
<dt>R2.</dt>
<dd>SMIv2 is the normative SMI for this document.  Prior to mapping 
        datatypes into XSD, legacy SMIv1 modules MUST be converted (at least 
        logically) in accordance with Section 2.1, inclusive, of the 
        "Coexistence" RFC <a class='info' href='#RFC3584'>[RFC3584]<span> (</span><span class='info'>Frye, R., Levi, D., Routhier, S., and B. Wijnen, &ldquo;Coexistence between Version 1, Version 2, and Version 3 of the         Internet-standard Network Management Framework,&rdquo; August&nbsp;2003.</span><span>)</span></a>.
</dd>
<dt>R3.</dt>
<dd>The XSD datatype specified for a given SMI datatype MUST be able
        to represent all valid values for that SMI datatype.
</dd>
<dt>R4.</dt>
<dd>The XSD datatype specified for a given SMI datatype MUST represent
        any special encoding rules associated with that SMI datatype.
</dd>
<dt>R5.</dt>
<dd>The XSD datatype specified for a given SMI datatype MUST include
        any restrictions on values associated with the SMI datatype.
</dd>
<dt>R6.</dt>
<dd>The XSD datatype specified for a given SMI datatype MUST be the
        most logical XSD datatype, with the fewest necessary restrictions on 
        its set of values, consistent with the foregoing requirements.
</dd>
<dt>R7.</dt>
<dd>The XML output produced as a result of meeting the foregoing
        requirements SHOULD be the most coherent and succinct representation
        (i.e., avoiding superfluous "decoration") from the perspective of 
        readability by humans.
</dd>
</dl></blockquote>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
XSD for SMI Base Datatypes</h3>

<p>This document provides XSD datatype mappings for the SMIv2 base datatypes
      only -- i.e., the eleven "ObjectSyntax" datatypes defined in RFC 2578.  These
      datatypes -- via tag values defined in the SMIv2 to identify them in varbinds
      -- constrain values carried "on-the-wire" in SNMP PDUs between SNMP management
      applications and SNMP agents:
         </p>
<ul class="text">
<li>INTEGER, Integer32
</li>
<li>Unsigned32, Gauge32
</li>
<li>Counter32
</li>
<li>TimeTicks
</li>
<li>Counter64
</li>
<li>OCTET STRING
</li>
<li>Opaque
</li>
<li>IpAddress
</li>
<li>OBJECT IDENTIFIER
</li>
</ul>

<p>The "BITS" pseudo-type (also referred to as a "construct" in RFC 2578)
      is treated as a Textual Convention, not a base datatype, for the purpose
      of this document.  
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

BEGIN

&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
xmlns="urn:ietf:params:xml:ns:opsawg:smi:base:1.0"
targetNamespace="urn:ietf:params:xml:ns:opsawg:smi:base:1.0"
elementFormDefault="qualified"
attributeFormDefault="unqualified"
xml:lang="en"&gt;

  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
        Mapping of SMIv2 base datatypes from RFC 2578

        Contact:      Mark Ellison
        Organization: Ellison Software Consulting
        Address:      38 Salem Road
                      Atkinson, NH 03811
                      USA
        Telephone:    +1 603-362-9270
        E-Mail:       ietf@EllisonSoftware.com

        Contact:      Bob Natale
        Organization: MITRE
        Address:      300 Sentinel Drive
                      6th Floor
                      Annapolis Junction MD 20701
                      USA
        Telephone:    +1 301-617-3008
        E-Mail:       rnatale@mitre.org

        Last Updated: 201002260000Z

        Copyright (c) 2010 IETF Trust and the persons
        identified as the document authors.  All rights
        reserved.

        Redistribution and use in source and binary forms,
        with or without modification, is permitted pursuant
        to, and subject to the license terms contained in,
        the Simplified BSD License set forth in Section
        4.c of the IETF Trust's Legal Provisions Relating to
        IETF Documents (http://trustee.ietf.org/license-info).

        This version of this XML Schema Definition (XSD)
        document is part of RFC XXXX; see the RFC itself for
        full legal notices."
RFC Editor - please replace XXXX with the value allocated
for publication as an RFC.

    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;

  &lt;xs:simpleType name="INTEGER"&gt;
    &lt;xs:restriction base="xs:int"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="Integer32"&gt;
    &lt;xs:restriction base="xs:int"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="Unsigned32"&gt;
    &lt;xs:restriction base="xs:unsignedInt"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="Gauge32"&gt;
    &lt;xs:restriction base="xs:unsignedInt"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="Counter32"&gt;
    &lt;xs:restriction base="xs:unsignedInt"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="TimeTicks"&gt;
    &lt;xs:restriction base="xs:unsignedInt"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="Counter64"&gt;
    &lt;xs:restriction base="xs:unsignedLong"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="OctetString"&gt;
    &lt;xs:restriction base="xs:hexBinary"&gt;
      &lt;xs:maxLength value="65535"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="Opaque"&gt;
    &lt;xs:restriction base="xs:hexBinary"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="IpAddress"&gt;
    &lt;xs:restriction base="xs:string"&gt;
      &lt;xs:pattern value=
      "((0|(1[0-9]{0,2})|
        (2(([0-4][0-9]?)|(5[0-5]?)|([6-9]?)))|
        ([3-9][0-9]?))\.){3}
        (0|(1[0-9]{0,2})|
        (2(([0-4][0-9]?)|(5[0-5]?)|([6-9]?)))|
        ([3-9][0-9]?))"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="ObjectIdentifier"&gt;
    &lt;xs:restriction base="xs:string"&gt;
      &lt;xs:pattern value=
      "(([0-1](\.[1-3]?[0-9]))|
        (2\.(0|([1-9]\d*))))
        (\.(0|([1-9]\d*))){0,126}"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

&lt;/xs:schema&gt;
END

</pre></div>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Rationale</h3>

<p>The XSD datatypes, including any specified restrictions, were chosen
    based on fit with the requirements specified earlier in this document, and
    with attention to simplicity while maintaining fidelity to the SMI.  Also,
    the "canonical representations" (i.e., refinements of the "lexical
    representations") documented in the W3C XSD specification <a class='info' href='#XMLSchema'>[XMLSchema]<span> (</span><span class='info'>World Wide Web Consortium, &ldquo;XML Schema Part 1: Structures Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a>, 
    <a class='info' href='#XSDDatatypes'>[XSDDatatypes]<span> (</span><span class='info'>World Wide Web Consortium, &ldquo;XML Schema Part 2: Datatypes Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a> are assumed.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Numeric Datatypes</h3>

<p>All of the numeric XSD datatypes specified in the previous section --
      INTEGER, Integer32, Unsigned32, Gauge32, Counter32, TimeTicks, and Counter64
      -- comply with the relevant requirements
      </p>
<ul class="text">
<li>They cover all valid values for the corresponding SMI datatypes.
</li>
<li>They comply with the standard encoding rules associated with the
        corresponding SMI datatypes.
</li>
<li>They inherently match the range restrictions associated with the
        corresponding SMI datatypes.
</li>
<li>They are the most direct XSD datatypes which exhibit the foregoing
        characteristics relative to the corresponding SMI datatypes (which is
        why no "restriction" statements -- other than the "base" XSD type -- are
        required in the XSD).
</li>
<li>The XML output produced from the canonical representation of these
        XSD datatypes is also the most direct from the perspective of readability
        by humans (i.e., no leading "+" sign and no leading zeros).
</li>
</ul>

<p>Special note to application developers:  Compliance with this schema
      in an otherwise correct translation from raw ("on-the-wire" representation)
      SNMP MIB data produces values that are faithful to the original.  However,
      the Gauge32, Counter32, Counter64, and TimeTicks datatypes have special
      application semantics that must be considered when using their raw values
      for anything other than display, printing, storage, or transmission of the
      literal value.  RFC 2578 provides the necessary details.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
OctetString</h3>

<p>This XSD datatype corresponds to the SMI "OCTET STRING" datatype.
</p>
<p>Several independent schemes for mapping SMI datatypes to XSD have used
      the XSD "string" type to represent "OCTET STRING", but this mapping does
      not conform to the requirements specified in this document.  Most notably,
      "string" cannot faithfully represent all valid values (0 thru 255) that
      each octet in an "OCTET STRING" can have -- or at least cannot do so in a
      way that provides for easy human readability of the resulting XML output.
</p>
<p>Consequently, the XSD datatype "hexBinary" is specified as the standard
      mapping of the SMI "OCTET STRING" datatype.  In hexBinary, each octet is
      encoded as two hexadecimal digits; the canonical representation limits the
      set of allowed hexadecimal digits to 0-9 and uppercase A-F.
</p>
<p>The hexBinary representation of "OCTET STRING" complies with the relevant
      requirements:
        </p>
<ul class="text">
<li>It covers all valid values for the corresponding SMI datatype.
</li>
<li>It complies with the standard encoding rules associated with the
          corresponding SMI datatype.
</li>
<li>With the "maxLength" restriction to 65535 octets, the XSD datatype
          specification matches the restrictions associated with the corresponding
          SMI datatype.
</li>
<li>It is the most direct XSD datatype which exhibits the foregoing
          characteristics relative to the corresponding SMI datatype (which must
          allow for any valid binary octet value).
</li>
<li>The XML output produced from the canonical representation of this
          XSD datatype is not optimal with respect to readability by humans; however,
          that is a consequence of the SMI datatype itself.  Where human readability
          is more of a concern, it is likely that the actual MIB objects in question
          will be represented by textual conventions which limit the set of values
          that will be included in the OctetStrings and will, thus, bypass the
          hexBinary typing.
</li>
</ul>

<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Opaque</h3>

<p>The "hexBinary" XSD datatype is specified as the representation of the
      SMI "Opaque" datatype generally for the same reasons as "hexBinary" is
      specified for the "OctetString" datatype:
        </p>
<ul class="text">
<li>It covers all valid values for the corresponding SMI datatype.
</li>
<li>It complies with the standard encoding rules associated with the
          corresponding SMI datatype.
</li>
<li>There are no restriction issues associated with using "hexBinary" for
          "Opaque".
</li>
<li>It is the most direct XSD datatype which exhibits the foregoing
          characteristics relative to the corresponding SMI datatype (which must
          allow for any valid binary octet value).
</li>
<li>The XML output produced from the canonical representation of this
          XSD datatype is not optimal with respect to readability by humans; however,
          that is a consequence of the SMI datatype itself.  Unmediated "Opaque"
          data is intended for consumption by applications, not humans.
</li>
</ul>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
IpAddress</h3>

<p>The XSD "string" datatype is the natural choice to represent an IpAddress
      as XML output.  The "pattern" restriction applied in this case results in
      a dotted-decimal string of four values between "0" and "255" separated by
      a period (".") character.  This pattern also precludes leading zeros.
</p>
<p>Note that the SMI relies upon Textual Conventions (TCs) to specify 
      an IPv6 address.   As such, the representation of an IPv6 address as an XSD 
      datatype is beyond the scope of this document.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
ObjectIdentifier</h3>

<p>This XSD datatype corresponds to the SMI "OBJECT IDENTIFIER" datatype.
</p>
<p>The XSD "string" datatype is also the natural choice to represent an
      ObjectIdentifier as XML output, for the same reasons as for the IpAddress
      choice.  The "pattern" restriction applied in this case results in a
      dotted-decimal string of up to 128 elements (referred to as "sub-ids"),
      each holding an "Unsigned32" integer value.
</p>
<p>Note that the first two components of an "OBJECT IDENTIFIER" each have 
      a limited range of values as indicated in the XSD pattern restriction and
      as described in The ASN1.1/BER standard <a class='info' href='#ASN.1'>[ASN.1]<span> (</span><span class='info'>International Organization for Standardization, &ldquo;Information processing systems - Open Systems Interconnection -                  Specification of Basic Encoding Rules for Abstract Syntax Notation                  One (ASN.1),&rdquo; December&nbsp;1987.</span><span>)</span></a>.
</p>
<p>There are three values allocated for the root node, and at most 
      39 values for nodes subordinate to a root node value of 0 or 1.
</p>
<p>The minimum length of an "OBJECT IDENTIFIER" is two sub-ids and
      the representation of a zero-valued "OBJECT IDENTIFIER" is "0.0".
</p>
<p>Note that no explicit "minLength" restriction, which would be "3" to allow for the
      minimum of two sub-ids and a single separating dot, is required since the
      pattern itself enforces this restriction.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>Security considerations for any given SMI MIB module are likely to be
      relevant to any XSD/XML mapping of that MIB module; however, the mapping
      defined in this document does not itself introduce any new security
      considerations.
</p>
<p>If and when proxies or gateways are developed to convey SNMP management
      information from SNMP agents to XML-based management applications via
      XSD/XML mapping of MIB modules based on this specification and its planned
      siblings, special care will need to be taken to ensure that all applicable
      SNMP security mechanisms are supported in an appropriate manner yet to be
      determined.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>In accordance with RFC 3688 <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>, we request the
      following namespace and schema registrations associated with this document
      in the IANA XML Registry:
        </p>
<ul class="text">
<li>urn:ietf:params:xml:ns:opsawg:smi:base:[version_id]
</li>
<li>urn:ietf:params:xml:schema:opsawg:smi:base:[version_id]
</li>
</ul>

<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
SMI Base Datatypes Namespace Registration</h3>

<p>This document registers a URI for the SMI Base Datatypes XML namespace
            in the IETF XML registry.  Following the format in RFC 3688, IANA has
            made the following registration:
</p>
<p>URI: urn:ietf:params:xml:ns:opsawg:smi:base:1.0
</p>
<p>Registration Contact: The IESG.
</p>
<p>XML: N/A, the requested URI is an XML namespace.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
SMI Base Datatypes Schema Registration</h3>

<p>This document registers a URI for the SMI Base Datatypes XML schema
            in the IETF XML registry.  Following the format in RFC 3688, IANA has
            made the following registration:
</p>
<p>URI: urn:ietf:params:xml:schema:opsawg:smi:base:1.0
</p>
<p>Registration Contact: The IESG.
</p>
<p>XML: Section 4 of this document.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgements</h3>

<p>Dave Harrington provided strategic and technical leadership to the
      team which developed this particular specification.  Yan Li did much
      of the research into existing approaches that was used as a baseline for
      the recommendations in this particular specification.
</p>
<p>This document owes much to draft-romascanu-netconf-datatypes-xx and to
      many other sources (including libsmi and group discussions on the NETCONF
      mailing lists) developed by those who have researched and published candidate
      mappings of SMI datatypes to XSD.
</p>
<p>Individuals who participated in various discussions of this topic at
      IETF meetings and on IETF mailing lists include: Ray Atarashi, Yoshifumi
      Atarashi, Andy Bierman, Sharon Chisholm, Avri Doria, Rob Ennes,
      Mehmet Ersue, David Harrington, Alfred Hines, Eliot Lear, Chris Lonvick,
      Faye Ly, Randy Presuhn, Juergen Schoenwaelder, Andre Westerinen, and Bert
      Wijnen.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1155">[RFC1155]</a></td>
<td class="author-text"><a href="mailto:mrose@PSI.COM">Rose, M.</a> and <a href="mailto:sytek!kzm@HPLABS.HP.COM">K. McCloghrie</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1155">Structure and identification of management information for TCP/IP-based internets</a>,&rdquo; STD&nbsp;16, RFC&nbsp;1155, May&nbsp;1990 (<a href="ftp://ftp.isi.edu/in-notes/rfc1155.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, s.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="ftp://ftp.isi.edu/in-notes/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2578">[RFC2578]</a></td>
<td class="author-text"><a href="mailto:kzm@cisco.com">McCloghrie, K., Ed.</a>, <a href="mailto:dperkins@snmpinfo.com">Perkins, D., Ed.</a>, and <a href="mailto:schoenw@ibr.cs.tu-bs.de">J. Schoenwaelder, Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2578">Structure of Management Information Version 2
                    (SMIv2)</a>,&rdquo; STD&nbsp;58, RFC&nbsp;2578, April&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3584">[RFC3584]</a></td>
<td class="author-text">Frye, R., Levi, D., Routhier, S., and B. Wijnen, &ldquo;<a href="http://tools.ietf.org/html/rfc3584">Coexistence between Version 1, Version 2, and Version 3 of the
        Internet-standard Network Management Framework</a>,&rdquo; BCP&nbsp;74, RFC&nbsp;3584, August&nbsp;2003 (<a href="ftp://ftp.isi.edu/in-notes/rfc3584.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XML">[XML]</a></td>
<td class="author-text"><a href="http://www.w3c.org">World Wide Web Consortium</a>, &ldquo;<a href="http://www.w3.org/TR/1998/REC-xml-19980210">Extensible Markup Language (XML) 1.0</a>,&rdquo; W3C&nbsp;XML, February&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="XMLSchema">[XMLSchema]</a></td>
<td class="author-text"><a href="http://www.w3c.org">World Wide Web Consortium</a>, &ldquo;<a href="http://www.w3.org/TR/xmlschema-1/">XML Schema Part 1: Structures Second Edition</a>,&rdquo; W3C&nbsp;XML Schema, October&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="XSDDatatypes">[XSDDatatypes]</a></td>
<td class="author-text"><a href="http://www.w3c.org">World Wide Web Consortium</a>, &ldquo;<a href="http://www.w3.org/TR/xmlschema-2/">XML Schema Part 2: Datatypes Second Edition</a>,&rdquo; W3C&nbsp;XML Schema, October&nbsp;2004.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informational References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ASN.1">[ASN.1]</a></td>
<td class="author-text">International Organization for Standardization, &ldquo;Information processing systems - Open Systems Interconnection -
                 Specification of Basic Encoding Rules for Abstract Syntax Notation
                 One (ASN.1),&rdquo; International Standard&nbsp;8825, December&nbsp;1987.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2579">[RFC2579]</a></td>
<td class="author-text"><a href="mailto:kzm@cisco.com">McCloghrie, K.</a>, <a href="mailto:dperkins@snmpinfo.com">Perkins, D.</a>, and <a href="mailto:schoenw@ibr.cs.tu-bs.de">J. Schoenwaelder</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2579">Textual Conventions for SMIv2</a>,&rdquo; STD&nbsp;58, RFC&nbsp;2579, April&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="ftp://ftp.isi.edu/in-notes/rfc3688.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mark Ellison</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ellison Software Consulting</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">38 Salem Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Atkinson, NH  03811</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 603-362-9270</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:ietf@ellisonsoftware.com">ietf@ellisonsoftware.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bob Natale</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">MITRE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">300 Sentinel Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">6th Floor</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Annapolis Junction, MD  20701</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 301-617-3008</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rnatale@mitre.org">rnatale@mitre.org</a></td></tr>
</table>
</body></html>
