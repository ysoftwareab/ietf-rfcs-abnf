



Network                                                      C. Weiqiang
Internet-Draft                                              China Mobile
Intended status: Informational                                 P. Shaofu
Expires: May 6, 2020                                            L. Aihua
                                                         ZTE Corporation
                                                               G. Mirsky
                                                               ZTE Corp.
                                                              W. Xiaolan
                                            New H3C Technologies Co. Ltd
                                                                  C. Wei
                                                                  Centec
                                                                S. Zadok
                                                                Broadcom
                                                        November 3, 2019


          Unified Identifier in IPv6 Segment Routing Networks
                    draft-wmsaxw-6man-usid-id-use-00

Abstract

   Segment Routing architecture leverages the paradigm of source
   routing.  It can be realized in a network data plane by prepending
   the packet with a list of instructions, a.k.a. segments.  A segment
   can be encoded as a Multi-Protocol Label Switching (MPLS) label, IPv4
   address, or IPv6 address.  Segment Routing can be applied in the MPLS
   data plane by encoding segments in an MPLS label stack.  It also can
   be applied to the IPv6 data plane by encoding a list of segment
   identifiers in IPv6 Segment Routing Extension Header (SRH).  In this
   document is described the use of unified segment identifiers in use
   cases where interworking between SR-MPLS and SRv6 is required.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 6, 2020.



Weiqiang, et al.           Expires May 6, 2020                  [Page 1]

Internet-Draft           Unified Identifier SRv6           November 2019


Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Conventions used in this document . . . . . . . . . . . .   3
       1.1.1.  Terminology . . . . . . . . . . . . . . . . . . . . .   3
       1.1.2.  Requirements Language . . . . . . . . . . . . . . . .   3
   2.  Requirements for Using SRv6 in Backhaul . . . . . . . . . . .   4
   3.  Using SRv6 U-SID in Backhaul  . . . . . . . . . . . . . . . .   4
     3.1.  Smoothly Upgrading to SRv6 from SR-MPLS . . . . . . . . .   4
     3.2.  Interworking Between SRv6 and SR-MPLS . . . . . . . . . .   5
     3.3.  Compressing SRv6 Header Effectively . . . . . . . . . . .   6
     3.4.  Support a Super-large-scale Networking and Flexibility in
           Assigning Addresses . . . . . . . . . . . . . . . . . . .   6
   4.  Operations with Unified Segment Identifier  . . . . . . . . .   6
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   7
   8.  Normative References  . . . . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   Many functions related to Operation, Administration and Maintenance
   (OAM) require identification of the SR tunnel ingress and the path,
   constructed by segments, between the ingress and the egress SR nodes.
   Combination of IPv6 encapsulation [RFC8200] and the Source Routing
   Extension Header (SRH) [I-D.ietf-6man-segment-routing-header],
   referred to as SRv6, comply with these requirements while it is
   challenging when applying SR in MPLS networks
   [I-D.ietf-spring-segment-routing-mpls], also referred to as SR-MPLS.

   On the other hand, the size of the IPv6 segment identifier (SID)
   presents a scaling challenge to use topological instructions that



Weiqiang, et al.           Expires May 6, 2020                  [Page 2]

Internet-Draft           Unified Identifier SRv6           November 2019


   define a strict explicitly routed path in combination with service-
   based instructions.  At the same time, that is where the SR-MPLS
   approach provides better results due to smaller SID length.

   SR-MPLS currently, more often than SRv6, is used in metro networks.
   With the gradual deployment of SRv6 in the core networks, it becomes
   necessary to support interworking between SR-MPLS and SRv6.
   Operationally it would be more efficient and straightforward if SRv6
   can use the same size SIDs as in SR-MPLS.  The SRH can be extended to
   use the same as in SR-MPLS SID length to support the unified segment
   identifier (U-SID) [I-D.mirsky-6man-unified-id-sr].  As a result of
   using this approach, U-SIDs can be used end-to-end across a tunnel
   that spans over SR-MPLS and SRv6 domains.

   In this document is described the use of unified segment identifiers,
   encoded as MPLS label and/or 32 bits-long address, in use cases when
   interworking between SR-MPLS and SRv6 networks is required.

1.1.  Conventions used in this document

1.1.1.  Terminology

   SR: Segment Routing

   SRH: Segment Routing Extension Header

   MPLS: Multiprotocol Label Switching

   SR-MPLS: Segment Routing using MPLS data plane

   SID: Segment Identifier

   IGP: Interior Gateway Protocol

   OAM: Operation, Administration and Maintenance

   SRv6: Segment Routing in IPv6

   U-SID: Unified Segment Identifier

1.1.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.




Weiqiang, et al.           Expires May 6, 2020                  [Page 3]

Internet-Draft           Unified Identifier SRv6           November 2019


2.  Requirements for Using SRv6 in Backhaul

   2G/3G/4G backhaul networks widely deploy MPLS to connect wireless
   services.  Many operators are already deploying 5G networks.  To
   optimize the operation of the network, many operators intent to adopt
   the segment routing.  Currently, given maturity of SR-MPLS, it has
   been deployed on a large scale.  Meanwhile the requirements of 5G
   super-large-scale number of connections accelerate the deployment of
   IPv6 networks.  Thus, logically, operators consider SRv6 solution to
   fulfill the 5G backhaul requirement.  But the backhaul network could
   not deploy SRv6 in one day, especially if it has already been using
   MPLS and SR-MPLS.  It might be reasonable to upgrade from MPLS to SR-
   MPLS and then to SRv6.  There are several essential operational
   requirements for the deployment of SRv6 in 5G backhaul network:

   1.  Ensure the ability to transform the existing SR-MPLS backhaul
       network into an SRv6 5G backhaul network incrementally.

   2.  Support interworking between SRv6 and SR-MPLS domains in the
       network.

   3.  Support SRv6 header compressing.

   4.  Support super-large-scale networking and address planning

3.  Using SRv6 U-SID in Backhaul

   U-SID provides a solution that complies to the 5G backhaul
   requirements.

3.1.  Smoothly Upgrading to SRv6 from SR-MPLS

   SR-MPLS uses a segment encoded as a label in an MPLS label stack to
   simplify the backhaul network.  It leverages the advantages of both
   source-routing and MPLS.  Existing backhaul networks that use MPLS
   can be first updated to use SR-MPLS.  SRv6 uses the segment encoded
   as an identifier in IPv6 SRH.  The SR-MPLS and SRv6 protocol stacks
   are illustrated in Figure 1.













Weiqiang, et al.           Expires May 6, 2020                  [Page 4]

Internet-Draft           Unified Identifier SRv6           November 2019


   +-----------------+        +-----------------+
   |     Ethernet    |        |    Ethernet     |
   +-----------------+        +-----------------+
   |                 |        |                 |
   |     SR-MPLS     |        |      SRv6       |
   |                 |        |                 |
   +-----------------+        +-----------------+
   |     Payload     |        |     Payload     |
   +-----------------+        +-----------------+

                Figure 1: SR-MPLS and SRv6 Protocol Stacks

   A segment identifier in SR-MPLS occupies 32 bits, and in SRv6 - 128
   bits.  As the backhaul infrastructure being upgraded to IPv6,
   operators are looking for technology that would reuse SR-MPLS by re-
   mapping the label table.  But the namespace in SR-MPLS is limited and
   couldn't build the new segment identifiers to the global network.
   Using U-SID with SRv6 allows the reuse of the 32-bit SIDs, which are
   the same as in SR-MPLS.  Thus, U-SID with SRv6 can be reused in
   backhaul to minimize the impact on existing SR-MPLS services and
   support smooth rollout of SRv6.  The only additional task is to
   assign U-SIDs to the SRv6 domain.  The controller could create an
   end-to-end SR tunnel using 32bit-long segments identifiers to stitch
   the SR-MPLS and SRv6 domains.

3.2.  Interworking Between SRv6 and SR-MPLS

   For a 5G backhaul network, the operators want to try their best to
   reuse the existing transport network.  Consequently, they must
   consider the SRv6 interworking with SR-MPLS while deploying SRv6.
   Using U-SID offers a practical approach to native interworking
   between SR-MPLS and SRv6 domains because an operator in both domains
   can use segment identifiers of the same format, U-SID.

   Using U-SID interworking between SRv6 and SR-MPLS brings some
   significant advantages:

   1.  An end-to-end LSP can be created across the access/aggregation
       network with SR-MPLS and core network with SRv6.

   2.  An end-to-end OAM and protection mechanism can be supported
       reusing SR-MPLS

   The SR-MPLS and SRv6 interworking is illustrated in Figure 2.  An
   end-to-end SR tunnel from A to F crosses the SR-MPLS and SRv6
   domains.  Using U-SID end-to-end LSP can reuse SR-MPLS forwarding,
   and support end-to-end OAM and protection.




Weiqiang, et al.           Expires May 6, 2020                  [Page 5]

Internet-Draft           Unified Identifier SRv6           November 2019


              +-----+       +-----+       +-----+       +-----+
        LSP-->|  A  +-------+  B  +-------+  E  +-------+  F  |-->
              +-----+       +--+--+       +--+--+       +--+--+
                 |   SR-MPLS   |             |    SRv6     |
                 | Access/Agg  |             |    Core     |
              +-----+       +--+--+       +--+--+       +--+--+
              |  C  |-------|  D  +-------+  G  +-------+  H  |
              +-----+       +-----+       +-----+       +-----+

                  Figure 2: SR-MPLS and SRv6 Interworking

3.3.  Compressing SRv6 Header Effectively

   While deploying SRv6 in the backhaul network, the SRv6 header
   overhead must be considered.  Typically there a maximum of ten hops
   for an end-to-end transport path.  The header overhead is 1280 bits
   (10*128 bit SRH) using SRH with the 128-bit SID without OAM and
   protection.  It will be reduced to 320 bits (3*128 bit SRH) using
   U-SID SRv6 with 32-bit SID.  So the compressing rate is more than 70%
   (from at least 10*128 bit SRH to 3*128 bit SRH).

3.4.  Support a Super-large-scale Networking and Flexibility in
      Assigning Addresses

   The scale of the backhaul network is up to 10K nodes.  A network of
   such size needs to support to address up to 10K nodes.  U-SID SRv6
   can support the 2^20 labels as the same with MPLS, and it's enough
   for a super-large-scale backhaul networking.  Since IPv6 solves the
   problem of a shortage of IPv4 addresses, it should not be using a
   shorter IPv6 address, i.e., a shorter prefix plus a shorter offset.
   That will violate the original IPv6 design.  On the other hand, using
   SRv6 should not require the assignment of special addresses for the
   operator's network.  U-SID can preserve the full 128-bit addresses by
   re-mapping the table.  To use U-SID in SRv6 doesn't require the IPv6
   address and SRv6 segments planning, such as the address prefix
   allocation.  The operator would reuse the current address assignment
   and planning, thus minimizing the impact on the backhaul network.

4.  Operations with Unified Segment Identifier

   When the SRH is used to include 20-bits or 32-bits U-SIDs the ingress
   and transit nodes of an SR tunnel act as described in Section 5.1 and
   Section 5.2 of [I-D.ietf-6man-segment-routing-header] respectively.








Weiqiang, et al.           Expires May 6, 2020                  [Page 6]

Internet-Draft           Unified Identifier SRv6           November 2019


5.  IANA Considerations

   This document has no requests to IANA.  This section can be removed
   before the publication.

6.  Security Considerations

   This specification inherits all security considerations of [RFC8402]
   and [I-D.ietf-6man-segment-routing-header].

7.  Acknowledgements

   TBD

8.  Normative References

   [I-D.ietf-6man-segment-routing-header]
              Filsfils, C., Dukes, D., Previdi, S., Leddy, J.,
              Matsushima, S., and d. daniel.voyer@bell.ca, "IPv6 Segment
              Routing Header (SRH)", draft-ietf-6man-segment-routing-
              header-26 (work in progress), October 2019.

   [I-D.ietf-spring-segment-routing-mpls]
              Bashandy, A., Filsfils, C., Previdi, S., Decraene, B.,
              Litkowski, S., and R. Shakir, "Segment Routing with MPLS
              data plane", draft-ietf-spring-segment-routing-mpls-22
              (work in progress), May 2019.

   [I-D.mirsky-6man-unified-id-sr]
              Cheng, W., Mirsky, G., Peng, S., Aihua, L., Wan, X., and
              C. Wei, "Unified Identifier in IPv6 Segment Routing
              Networks", draft-mirsky-6man-unified-id-sr-03 (work in
              progress), July 2019.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8200]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", STD 86, RFC 8200,
              DOI 10.17487/RFC8200, July 2017,
              <https://www.rfc-editor.org/info/rfc8200>.




Weiqiang, et al.           Expires May 6, 2020                  [Page 7]

Internet-Draft           Unified Identifier SRv6           November 2019


   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

Authors' Addresses

   Cheng Weiqiang
   China Mobile
   Beijing
   China

   Email: chengweiqiang@chinamobile.com


   Peng Shaofu
   ZTE Corporation
   No.50 Software Avenue, Yuhuatai District
   Nanjing
   China

   Email: peng.shaofu@zte.com.cn


   Liu Aihua
   ZTE Corporation
   Zhongxing Industrial Park, Nanshan District
   Shenzhen
   China

   Email: liu.aihua@zte.com.cn


   Greg Mirsky
   ZTE Corp.

   Email: gregimirsky@gmail.com


   Wan Xiaolan
   New H3C Technologies Co. Ltd
   No.8, Yongjia Road, Haidian District
   Beijing
   China

   Email: wxlan@h3c.com





Weiqiang, et al.           Expires May 6, 2020                  [Page 8]

Internet-Draft           Unified Identifier SRv6           November 2019


   Cheng Wei
   Centec
   Building B, No.5 Xing Han Street, Suzhou Industrial Park
   Suzhou
   China

   Email: Chengw@centecnetworks.com


   Shay
   Broadcom
   Israel

   Email: shay.zadok@broadcom.com





































Weiqiang, et al.           Expires May 6, 2020                  [Page 9]
