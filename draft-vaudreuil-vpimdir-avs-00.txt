     Internet Draft                                       Greg Vaudreuil
     Expires in six months                           Lucent Technologies
                                                        December 1, 1999
                       Voice Messaging Directory Service:
                           Address Validation Schema
                                      and
                             Message Routing Schema


                      <draft-vaudreuil-vpimdir-avs-00.txt>



  Status of this Memo

     This document is an Internet-Draft and is in full conformance with all
     provisions of Section 10 of RFC2026.

     This document is an Internet Draft.  Internet Drafts are working
     documents of the Internet Engineering Task Force (IETF), its Areas,
     and its Working Groups.  Note that other groups may also distribute
     working documents as Internet Drafts.

     Internet Drafts are valid for a maximum of six months and may be
     updated, replaced, or obsoleted by other documents at any time.  It is
     inappropriate to use Internet Drafts as reference material or to cite
     them other than as a "work in progress".

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


     To learn the current status of any Internet-Draft, please check the
     "1id-abstracts.txt" listing contained in the Internet-Drafts Shadow
     Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
     munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
     ftp.isi.edu (US West Coast).



  Copyright Notice

     Copyright (C) The Internet Society (1999).  All Rights Reserved.

     This Internet-Draft is in conformance with Section 10 of RFC2026.

  Overview

     This document provides details of the address validation service of an
     experimental voice messaging directory service. The directory service
     is described in [vpime164]. This address validation portion of the
     service provides both address confirmation and capabilities discovery
     for a voice message recipient using a common LDAP schema.

     Please send comments on this document to the author, Greg Vaudreuil
     <gregv@lucent.com>.



     Internet Draft           VPIM Directory            December 1, 1999


  Working Group Summary

     This document is not the product of an IETF working group.  It
     documents an inter-company voice message interchange experiment
     conducted over the Internet as a project of the Telemessaging Industry
     Association (TMIA) http://www.tmia.org.  The TMIA is a consortium of
     large North American wireline and wireless telephone companies.

     This service is similar in many respects to the RESCAP work.  It is
     expected that RESCAP will supercede the particulars of this
     experiemental schema when complete.












































     Vaudreuil, Parsons       Expires 5/1/00                    [Page 2]



     Internet Draft           VPIM Directory            December 1, 1999


  Table of Contents

  1.   ABSTRACT ..........................................................4
  2.   SCOPE .............................................................4
    2.1  Design Goals ....................................................4
  3.   ADDRESS VALIDATION SERVER DISCOVERY ...............................4
  4.   ADDRESS VALIDATION SERVICE (AVS) ..................................5
    4.1  vPIMrfc822Mailbox ...............................................5
    4.2  vPIMSpokenName ..................................................6
    4.3  vPIMTextName ....................................................6
    4.4  vPIMSupportedEncodingTypes ......................................6
    4.5  extendedAbsenceStatus ...........................................6
    4.6  supportedUABehaviors ............................................7
    4.7  Maximum Message Size ............................................8
    4.8  subMailbox ......................................................8
    4.9  mailRecipient ...................................................8
  5.   SECURITY CONSIDERATIONS ...........................................8
  6.   REFERENCES ........................................................9
  7.   ACKNOWLEDGMENTS ...................................................9
  8.   COPYRIGHT NOTICE .................................................10
  9.   AUTHORS' ADDRESSES ...............................................10


































     Vaudreuil, Parsons       Expires 5/1/00                    [Page 3]



     Internet Draft           VPIM Directory            December 1, 1999


  1. Abstract

  2. Scope

  2.1 Design Goals

     Rapid searching of the flat namespace within a service provider domain
     keyed by the email address using the Address Resolution Service
     [vpimars]. A service provider's namespace is expected to include
     several million-subscriber entries based on the VPIM inter-domain
     address form: telephone number@domain_name.

     The Address Validation Schema (AVS) is accessed from outside the
     enterprise or service provider domain using the inter-domain forms of
     the VPIM email address.

     The Email Routing schema is designed to find the intra-domain forms of
     the VPIM address for routing to the appropriate voice mail machine
     within the domain.

  3. Address Validation Server Discovery

     The address validation server is found by querying DNS for the SRV
     record associated with the domain name of the recipient as found in
     the address resolution step.


  SRV records for the AVS

            Example:

            Query: voice.sp.net
            Response:    SRV=avs1.serviceprovider.net  weight=10
                          SRV=avs2.serviceprovider.net   weight=20

  Given the lack of elegant client-side redundancy for LDAP, and the real-
  time requirements for a response, the AVS service should be provided on
  a high-availability server to ensure the service is available on the
  first try.

  To facilitate higher system availability, it is recommended that AVS
  servers be deployed in redundant sets. These servers should be listed in
  the SRV records with various weightings.  The querying system should
  attempt a connection to the lowest weight AVS server.  If it is down,
  the second should be contacted.

  Because the AVS server location and query step is part of a real-time
  name confirmation, various implementation approaches may be used. One
  such approach for the querying platform is to maintain state for a set
  of frequently queried servers such that if a lower weighted server is
  recently failed, the querying platform can use that state information to
  immediately send a query to a higher weighted AVS server.



     Vaudreuil, Parsons       Expires 5/1/00                    [Page 4]



     Internet Draft           VPIM Directory            December 1, 1999


  Another possible approach is to send tandem queries to two or more AVS
  servers.  The first response is used to satisfy the address validation
  need and subsequent responses are discarded.


  4. Address Validation Service (AVS)

     VPIMUser OBJECT-CLASS ::= {
                STRUCTURAL
                SUBCLASS OF top
                MUST CONTAIN
                      (vPIMrfc822Mailbox)
                MAY CONTAIN
                     (vPIMSpokenName $
                     vPIMsupportedUABehaviors $
                     vPIMSupportedEncodingTypes $
                     vPIMTextName $
                     extendedAbsenceStatus $
                     vPIMMaxMessageSize $
                      subMailboxes $
                     mailRecipient )
                ID }

     The vPIMUser is a structural object indexed by the vPIMRFC822Mailbox.
     The existence of this object signifies that the recipient valid for
     the purposes of sending voice messages.

     When present, the vPIMUser may contain information useful to validate
     that the VPIM address corresponds to the intended recipient.  This
     object may further provide capabilities information and mailbox status
     information useful to guide composition by the sending user and to set
     delivery expectations at sending time.

     When available, the mailRecipient attribute provides routing
     information necessary to deliver the voice message to the appropriate
     voice messaging system within a service provider's domain.  This
     potentially confidential information is not expected to be made
     available outside the domain but to be used by the inbound mail router
     of the service provider.  This capability is expected to be obsoleted
     by the work resulting in the IETF LASER working group.

  4.1 vPIMrfc822Mailbox

     The normal search is for the interdomain form of vPIMAddress, an
     attribute constructed with the E.164 form of the telephone number
     concatenated with the domain name of the destination network.  The
     domain name of the destination network is found using facilities
     described in [VPIMARS].

     vPIMrfc822Mailbox ATTRIBUTE ::= {
               WITH SYNTAX    caseIgnoreIA5StringSyntax
                    (SIZE (1 .. 64)) -- from RFC 1274
               ID ?? }


     Vaudreuil, Parsons       Expires 5/1/00                    [Page 5]



     Internet Draft           VPIM Directory            December 1, 1999


  4.2 vPIMSpokenName

     The spoken name of the recipient may contain up to 20kbytes of G.726
     ADPCM encoded spoken audio [g726]. (32kbits/sec * 5seconds)

     vPIMSpokenName ATTRIBUTE ::= {
               WITH SYNTAX              OCTET STRING
                    (SIZE (1..20,000))
               ID ?? }

  4.3 vPIMTextName

     The text name is designed to be consistent with the text name
     databases used for calling name delivery service of caller ID.

     vPIMTextName ATTRIBUTE ::= {
               WITH SYNTAX  IA5String
                    (SIZE (1..20))
               ID ?? }

     The character set of this attribute is not yet determined, but is
     currently set to US-ASCII.  This is expected to be modified to conform
     to the requirements for multi-lingual text handling.

  4.4 vPIMSupportedEncodingTypes

     This object provides a list of MIME types the recipient will accept.

     vPIMSupportedEncodingTypes ATTRIBUTE ::= {
               WITH SYNTAX  Ia5String
                    (SIZE (1..20))
               MULTIVALUE
               ID ?? }

     The MIME types supported by VPIM are:

                 Audio/32kADPCM
                 Image/TIFF-F; application-faxbw

     These may be further extended without standardization to include IANA
     registered, proprietary encodings and additional media types provided
     they are uniquely identified by their MIME type.



  4.5 extendedAbsenceStatus

     It is common to have an attribute to indicate to the subscriber
     whether the recipient is likely to check messages in the near future.
     This feature called "extended absence" provides an advisory message at
     sending time.  It is similar in concept to "vacation notices" common
     for textual email but has it's own cultural and operational nuances.



     Vaudreuil, Parsons       Expires 5/1/00                    [Page 6]



     Internet Draft           VPIM Directory            December 1, 1999


     extendedAbsenceStatus ATTRIBUTE ::= {
             WITH SYNTAX  IA5string
                    (SIZE (1..10))
                  ID ?? }

     The three values defined are:

                 "Off", "On", "MsgBlocked"

     "Off" if the default condition if this attribute is not returned.
     "Off" indicates that the recipient either does not support extended
     absence or has not set such an indicator.

     "On" indicates that the recipient has set an extended absence
     indicator, but the mailbox is still accepting messages for review at a
     future time.

     "MsgBlocked" indicates that the recipient has set an extended absence
     indicator and the mailbox is temporarly configured to reject incoming
     messages.  Messages should not be sent to the recipient if this value
     is returned in the extendedAbsenceStatus attribute.

  4.6 supportedUABehaviors

     Internet mail does not provide facilities for the sender to know
     whether the recipient supports a number of optional features that can
     be requested or indicated in the RFC822 headers.  This attribute
     provides a list of the attributes considered optional by VPIM and
     other vendor-specific attributes that may be supported by the
     recipient.  If this attribute is not supported, only those attributes
     listed as manditory in VPIM are assumed to be supported.  Undisclosed
     behaviors may be indicated in the RFC822 message, however there is no
     assurance by the receiving system of their support.

     VPIMSupportedUABehaviors ATTRIBUTE ::= {
               WITH SYNTAX  IA5String
                    (SIZE (1..30))
               MULTIVALUE
               ID ?? }

     The following behaviors:

                 MessageDispositionNotication

     The presense of the MessageDispositionNotification value indicates
     that the recipient will send a MDN in response to an MDN request.

     These may be further extended without standardization to include
     proprietary user interface functional extensions.  These proprietary
     extension values must be prefixed with an X.





     Vaudreuil, Parsons       Expires 5/1/00                    [Page 7]



     Internet Draft           VPIM Directory            December 1, 1999


  4.7 Maximum Message Size

     At the time of composition, the message can be checked for acceptable
     length using the maximum message size attribute.  Maximum message size
     is an attribute usually configured by policy of the receiving system,
     typically in units of minutes.  While ESMTP provides a mechanism at
     the transport layer to determine if a message is too long, that is an
     unreliable guide to the composer when multiple encodings, multiple
     media, or variable bit-rate encodings are supported.

     vPIMMaxMessageSize ATTRIBUTE ::= {
               WITH SYNTAX  NumericString
               ID                  ????}

     The vPIMMaxMessageSize is reported in integer number of seconds of
     audio content.  No indication of maximum fax message size is implied.

  4.8 subMailbox

     At the time of addressing, the address validation query may indicate
     the presence of sub-mailboxes for the entered address.  This
     information may be used to provide a post-dial sub-addressing menu to
     the sender.

     subMailbox ATTRIBUTE ::= {
             WITH SYNTAX  IA5String
                    (SIZE (1..9999))
             MULTIVALUE
                  ID ?? }

     The allowable values include a list of submailbox numbers with a
     numeric range of 1-9999.

  4.9 mailRecipient

     The mailRecipient is the attribute that provides the identity of the
     recipient on a local voice messaging systems.b

     vPIMMailbox ATTRIBUTE ::= {
               WITH SYNTAX    caseIgnoreIA5StringSyntax
                    (SIZE (1 .. 64)) -- from RFC 1274
               ID ?? }

  5. Security Considerations

     The following are known security issues taken into consideration in
     the definition of this directory service.

     1) Service provider customer information is very sensitive, especially
     in this time of local phone competition.  Service providers require
     the maximum flexibility to protect this data.  Because of the dense
     nature of telephone number assignments, this data is subject to "go
     fish" queries via repeated LDAP queries to determine a complete list
     of current or active messaging subscribers.  To reduce the value of

     Vaudreuil, Parsons       Expires 5/1/00                    [Page 8]



     Internet Draft           VPIM Directory            December 1, 1999


     this retreived data, service providers may limit disclosure of data
     useful for telemarketing such as the textual name and disclose only
     information useful to the sender such as the recipients spoken name, a
     data element much harder to auto-process.

     2) Service providers operate in a regulated environment where certian
     information about a subscriber must not be disclosed.  Voice Messaging
     is subject to caller-ID blocking restrictions, restrictions enforced
     in the telephony network.  No such protection is available on the
     Internet.  The protection of this data is essential, but is up to the
     individual service providers to appropriately limit dislosure of this
     information.

  6. References

  [ADPCM] G. Vaudreuil and G. Parsons, "Toll Quality Voice - 32 kbit/s
      ADPCM:  MIME Sub-type Registration", RFC 2422, September 1998.

   [MIMEDIR] F. Dawson, T. Howes, & M. Smith, "A MIME Content-Type for
      Directory Information", Work In Progress, <draft-ietf-asid-mime-
      direct-06.txt>, March 1998

  [E164] CCITT Recommendation E.164 (1991), Telephone Network and ISDN
      Operation, Numbering, Routing and  Mobile Service - Numbering Plan
      for the ISDN Era.

  [VPIM2] Vaudreuil, Greg, Parsons, Glen, "Voice Profile for Internet
      Mail, Version 2", RFC 2421, September 1998.

  [VPIMe164] Vaudreuil, Greg, "Voice Messaging Directory Service:
      Principles of Operation", work-in-progress.

  [VPIMARS] Vaudreuil, Greg, "Voice Messaging Directory Service:
      DNS-based", work-in-progress.

  [SRV] Gulbrandsen, A., Vixie, P., "A DNS RR for specifying the location
      of services (DNS SRV)", RFC 2052, October 1996.



  7. Acknowledgments

     This experimental directory builds upon the earlier work of Carl
     Malamud and Marshall Rose in thier TPC.INT remote printing experiment
     and the work lead by Anne Brown as part of the EMA voice messaging
     committee's directory effort.

     Bernhard Elliot working with the TMIA has provided most of the
     organizational impetus to get this project moving, a substantial task
     given the sometimes slow and bureaucratic nature of the voice mail
     industry and regulatory environment.




     Vaudreuil, Parsons       Expires 5/1/00                    [Page 9]



     Internet Draft           VPIM Directory            December 1, 1999


     Dave Dudley and the Messaging Aliance (TMA) for their early work in
     pioneering a shared directory service for voice messaging and their
     continuing efforts to apply those learnings to this effort.

  8. Copyright Notice

     "Copyright (C) The Internet Society (1999). All Rights Reserved.

     This document and translations of it may be copied and furnished to
     others, and derivative works that comment on or otherwise explain it
     or assist in its implementation may be prepared, copied, published and
     distributed, in whole or in part, without restriction of any kind,
     provided that the above copyright notice and this paragraph are
     included on all such copies and derivative works.  However, this
     document itself may not be modified in any way, such as by removing
     the copyright notice or references to the Internet Society or other
     Internet organizations, except as needed for the  purpose of
     developing Internet standards in which case the procedures for
     copyrights defined in the Internet Standards process must be followed,
     or as required to translate it into languages other than English.

     The limited permissions granted above are perpetual and will not be
     revoked by the Internet Society or its successors or assigns.

     This document and the information contained herein is provided on an
     "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
     TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
     NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN
     WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
     MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."



  9. Authors' Addresses

     Gregory M. Vaudreuil
     Lucent Technologies,
      Communications Application Group
     17080 Dallas Parkway
     Dallas, TX  75248-1905
     United States

     Phone/Fax: +1-972-733-2722
     Email: GregV@Lucent.Com











     Vaudreuil, Parsons       Expires 5/1/00                   [Page 10]
