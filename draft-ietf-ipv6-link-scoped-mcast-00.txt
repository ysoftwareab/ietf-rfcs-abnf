





INTERNET DRAFT                                             Jung-Soo Park
Expires: October 2002                                      Myung-Ki Shin
                                                            Yong-Jin Kim
                                                                    ETRI
                                                              April 2002

                  Link Scoped IPv6 Multicast Addresses
               <draft-ietf-ipv6-link-scoped-mcast-00.txt>


Status of this Memo

     This document is an Internet-Draft and is in full conformance with
     all provisions of Section 10 of RFC2026.

     Internet Drafts are working documents of the Internet Engineering
     Task Force (IETF), its areas, and working groups. Note that other
     groups may also distribute working documents as Internet-Drafts.

     Internet-Drafts are draft documents valid for a maximum of six
     months and may be updated, replaced, or obsolete by other documents
     at anytime. It is inappropriate to use Internet Drafts as reference
     material or to cite them other than as "work in progress."

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt.

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


Abstract

     This document specifies an extension to the multicast addressing
     architecture of the IPv6 protocol.  The extension allows for the 
     use of interface-ID to allocate multicast addresses.  When the 
     link-local unicast address is configured at each interface of host, 
     interface ID is uniquely determined.  By delegating multicast 
     addresses at the same time as interface ID, each host can identify 
     their multicast addresses automatically at Layer 1 without running 
     an intra- or inter-domain allocation protocol in the serverless 
     environments.



Table of Contents:

     1. Introduction
     2. Terminology
     3. Applicability
     4. Link scoped multicast address format
     5. Examples



Park, Shin, Kim               Expires October 2002                 [Page 1]


Internet-Draft       Link scoped IPv6 Multicast Addresses       Apr. 2002


     6. Considerations
     7. Security considerations
     8. References
     9. Acknowledgements


1. Introduction

     This specification defines an extension to the multicast portion of
     the IPv6 addressing architecture [ADDRARCH].  The current
     architecture does not contain any built-in support for dynamic
     address allocation.  The extension allows for using interface-ID to
     allocate multicast addresses.  When the link-local unicast address
     is configured at each interface of host, interface ID is uniquely
     determined.  By delegating multicast addresses at the same time as
     interface ID, each host can identify its multicast addresses
     automatically without running an intra- or inter-domain allocation 
     protocol in the serveless environments.

     The current multicast address allocation architecture [RFC 2908] is
     based on a multi-layered, multi-protocol system.  The goal of this
     proposal is to reduce the number of protocols and servers to get 
     dynamic multicast address allocation.

     The use of interface ID-based multicast address allocation will, at
     a minimum, remove the need to run the Multicast Address Allocation
     Protocol (AAP) [AAP WORK][RFC 2909] and the Multicast Address
     Allocation servers [RFC 2908].

     This document specifies encoded information in the link scoped 
     multicast address to allow for dynamic allocation of IPv6 multicast
     addresses.


2. Terminology

     The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
     "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
     this document are to be interpreted as described in [RFC 2119].


3. Applicability
     The allocation technique in this document is designed to be used in
     any environment in which link-local scope IPv6 multicast addresses 
     are assigned or selected. Especially, this method goes well with 
     nodes supplying multicast services in a zeroconf environment. For 
     example, multicast addresses less than or equal to link-local scope 
     are generated itself by nodes supplying multicast services.
     
     Consequently, this technique is limited to use by multicast scope.
     If you want to use greater multicast addresses than link-local, you
     need to get other methods.
 
     
     

Park, Shin, Kim               Expires October 2002                 [Page 2]


Internet-Draft       Link scoped IPv6 Multicast Addresses       Apr. 2002


4. Link scoped multicast address format

     Section 2.7 of [ADDRARCH] defines the following operational format
     of IPv6 multicast addresses:
     

     |    8   |  4 |  4 |                     112                     |
     +--------+----+----+---------------------------------------------+
     |11111111|flgs|scop|                  group ID                   |
     +--------+----+----+---------------------------------------------+

              Figure 1:  Generic IPv6 multicast address format


     This document introduces new formats that incorporate interface ID
     information in the multicast address.  The idea delegating
     multicast addresses at the same time as interface ID, can be
     applicable to link-local. 

     Figure 2  illustrates the new format for link-local multicast
     addresses.


     |   8    | 4  | 4  |     16     |       64       |       32      |
     +--------+----+----+------------+----------------+---------------+
     |11111111|flgs|scop|  reserved  |  Interface ID  |    group ID   |
     +--------+----+----+------------+----------------+---------------+

       Figure 2: link scoped multicast address format


                                     +-+-+-+-+ 
     flgs is a set of 4 flags:       |0|0|P|T|
                                     +-+-+-+-+

         o P = 0 indicates a multicast address that is not assigned
                 based on the interface ID.
         o P = 1 indicates a multicast address that is assigned
                 based on the interface ID.
         o If P = 1, T MUST be set to 1, otherwise the setting of
                     the T bit is defined in Section 2.7 of RFC 2373.

     flgs should use the same flag defined in section 3 of [UNIMULTI].
     That is, this document proposes the third bit of 'flgs' field to
     indicates a Interface ID-based multicast addresses. Additionly, 
     it is required to distinguish between Inteface ID-based multicast 
     address and unicast-prefix-based multicast address.

     scop <= 2. The scope of this multicast address MUST be independent 
     of the scope of the unicast address, which derives the interface ID 
     embedded in the multicast address.

     The reserved field MUST be zero.



Park, Shin, Kim               Expires October 2002                 [Page 3]


Internet-Draft       Link scoped IPv6 Multicast Addresses       Apr. 2002


     interface ID field is used to distinguish each host from others.
     And this value is obtained from IEEE EUI-64 based interface 
     identifier of the link-local unicast IPv6 address.

     group ID is generated to indicate multicast application and is used
     to guarantee its uniqueness only in host. Also, it may be set based 
     on the guidelines outlined in [IPV6 GID].

     The lifetime of a Interface ID-based multicast address has no 
     dependency to the Valid Lifetime field in the Prefix Information 
     option, corresponding to the unicast address being used, contained 
     in the Router Advertisement message [RFC 2461].
   

5. Examples

     This is an example for interface ID-based multicast address with
     link-local scope. For example in ethernet environment, if the IEEE 
     48-bit MAC's address is 12:34:56:78:90:AB, the mutlicast prefix of 
     a host is FF32:0:1234:56FF:FE78:90AB::/96.
     
          
6. Considerations

     This draft considers only the link-local multicast addresses. For
     this purpose, P flag is used in figure 2. [UNIMULTI] draft also use
     the P flag to indicate multicast address that is assigned based on 
     network prefix. For consistency, some modifications in [UNIMULTI] 
     draft are required. For example, by restrictng the syntax to 
     scope > 2 in [UNIMULTI].
     

7. Security considerations

     [RFC3041] describes the privacy extension to IPv6 stateless 
     address autoconfiguration for interface ID. So, [RFC3041] 
     satisfied our requirements.
     

8. References

[RFC 2373]
     R. Hinden and S. Deering, "IP Version 6 Addressing Architecture",
     RFC 2373, July 1998.

[RFC 2460]
     S. Deering and R. Hinden, "Internet Protocol, Version 6 (IPv6)
     Specification", RFC 2460, December 1998.

[RFC 2461]
     Narten, T., Nordmark, E., Simpson, W., "Neighbor Discovery for IP
     Version 6 (IPv6)", RFC 2461, December 1998.




Park, Shin, Kim               Expires October 2002                 [Page 4]


Internet-Draft       Link scoped IPv6 Multicast Addresses       Apr. 2002

   
[RFC 2464]
     M. Crawford, "Transmission of IPv6 Packets over Ethernet Networks,"
     RFC2464, December 1998

[RFC 2908]
     D. Thaler, M. Handley and D. Estrin, "Th Internet Multicast Address
     Allocation Architecture," RFC2908, September 2000.

[RFC 2909]
     Radoslavov, P., Estrin, D., Govindan, R., Handley, M., Kumar, S.
     and D. Thaler, "The Multicast Address-Set Claim (MASC) Protocol",
     RFC 2909, September 2000.

[RFC 3041]
     T. Narten and R. Draves, "Privacy Extensions for Stateless Address
     Autoconfiguration in IPv6," RFC 3041, January 2001.
     
[RFC 3138]
     Meyer, D., "Extended Assignments in 233/8", RFC 3138, June 2001.
     
[RFC 3180]
     Meyer, D. and P. Lothberg, "GLOP Addressing in 233/8", RFC 3180,
     September 2001.
     
[AAP WORK]
     Handley, M. and S. Hanna, "Multicast Address Allocation Protocol
     (AAP)", Work in Progress.

[ADDRARCH]
     R. Hinden and S. Deering, "IP Version 6 Addressing Architecture",
     Work In Progress, July 2001.

[UNIMULTI]
     B. Haberman and D. Thaler, "Unicast-Prefix-based IPv6 Multicast
     Addresses," Work In Progress, December 2001.

[IPV6 GID]
     B. Haberman, "Dynamic Allocation Guidelines for IPv6 Multicast
     Addresses," Work In Progress, October 2001.
    
     
9. Acknowledgements

     We would like to thank Dave Thaler for his comments related to the
     consistency between the unicast prefix-based multicast draft and
     this one.


Authors Addresses

  Jung-Soo Park
  ETRI PEC
  161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea



Park, Shin, Kim               Expires October 2002                 [Page 5]


Internet-Draft       Link scoped IPv6 Multicast Addresses       Apr. 2002


  Tel : +82 42 860 6514
  Fax : +82 42 861 5404
  E-mail : jspark@pec.etri.re.kr
  
  Myung-Ki Shin
  ETRI PEC
  161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
  Tel : +82 42 860 4847
  Fax : +82 42 861 5404
  E-mail : mkshin@pec.etri.re.kr

  Yong-Jin Kim
  ETRI PEC
  161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
  Tel : +82 42 860 6564
  Fax : +82 42 861 5404
  E-mail : yjkim@pec.etri.re.kr
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
Park, Shin, Kim               Expires October 2002                 [Page 6]