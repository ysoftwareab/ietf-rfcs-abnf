<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Open In-The-Wire Protocol for RTC-Web</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Conventions">
<link href="#rfc.section.2" rel="Chapter" title="2 Introduction">
<link href="#rfc.section.3" rel="Chapter" title="3 Definitions">
<link href="#rfc.section.4" rel="Chapter" title="4 Overview of an RTC-Web Communication">
<link href="#rfc.section.5" rel="Chapter" title="5 More Use Cases">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 RTC-Web in Facebook">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 SIP over WebSocket">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Poker Game">
<link href="#rfc.section.6" rel="Chapter" title="6 Conclusions">
<link href="#rfc.section.7" rel="Chapter" title="7 New Requirements for RTC-Web">
<link href="#rfc.section.8" rel="Chapter" title="8 Security Considerations">
<link href="#rfc.section.9" rel="Chapter" title="9 IANA Considerations">
<link href="#rfc.references" rel="Chapter" title="10 References">
<link href="#rfc.references.1" rel="Chapter" title="10.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="10.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="RTC-Web clients communicate with a server in order to request or manage realtime communications with other users. This document exposes four hypothetical and different RTC-Web scenarios and analyzes the requirements of the in-the-wire protocol in each of them." />
  <meta name="description" content="RTC-Web clients communicate with a server in order to request or manage realtime communications with other users. This document exposes four hypothetical and different RTC-Web scenarios and analyzes the requirements of the in-the-wire protocol in each of them." />
  <meta name="keywords" content="RTCweb, RTC-Web, WebRTC, Signaling" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">I.B.C. Baz Castillo</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">XtraTelecom S.A.</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">S.I.C. Ibarra Corretge</td>
</tr>
<tr>
<td class="left">Expires: April 27, 2012</td>
<td class="right">AG Projects</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J.L.M.V. Millan Villegas</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">XtraTelecom S.A.</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 25, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Open In-The-Wire Protocol for RTC-Web<br />
  <span class="filename">draft-sipdoc-rtcweb-open-wire-protocol-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>RTC-Web clients communicate with a server in order to request or manage realtime communications with other users. This document exposes four hypothetical and different RTC-Web scenarios and analyzes the requirements of the in-the-wire protocol in each of them.</p>
<p>The aim of this document is to make RTC-Web properly fit in the nature of the Web.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 27, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Conventions</a>
</li>
<li>2.   <a href="#rfc.section.2">Introduction</a>
</li>
<li>3.   <a href="#rfc.section.3">Definitions</a>
</li>
<li>4.   <a href="#rfc.section.4">Overview of an RTC-Web Communication</a>
</li>
<li>5.   <a href="#rfc.section.5">More Use Cases</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">RTC-Web in Facebook</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">SIP over WebSocket</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Poker Game</a>
</li>
<li>6.   <a href="#rfc.section.6">Conclusions</a>
</li>
<li>7.   <a href="#rfc.section.7">New Requirements for RTC-Web</a>
</li>
<li>8.   <a href="#rfc.section.8">Security Considerations</a>
</li>
<li>9.   <a href="#rfc.section.9">IANA Considerations</a>
</li>
<li>10.   <a href="#rfc.references">References</a>
</li>
<li>10.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>10.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#conventions" id="conventions">Conventions</a>
</h1>
<p id="rfc.section.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#introduction" id="introduction">Introduction</a>
</h1>
<p id="rfc.section.2.p.1">In contrast to protocols such as <a href="#RFC3261">SIP</a> <cite title="NONE">[RFC3261]</cite> or <a href="#RFC6120">XMPP</a> <cite title="NONE">[RFC6120]</cite>, <a href="#RTC-Web">RTC-Web</a> <cite title="NONE">[RTC-Web]</cite> does not define a protocol for establishing media sessions between peers. Instead RTC-Web defines the media protocols (RTP/SRTP/ICE) to be used by web browsers. It also states how the web browser natively handles media streams (including media security and validation concerns), defines the requirements for the communication between the RTC-Web stack in the browser and the web application (via a JavaScript API to be defined by W3C) and MAY suggest some kind of media negotiation protocol to be carried in-the-wire between RTC-Web clients and servers.</p>
<p id="rfc.section.2.p.2">That said, RTC-Web does not mandate any user identifier syntax (in the way SIP defines the SIP URI), nor an authentication mechanism, in-the-wire messages format or the way messages are exchanged between RTC-Web clients and servers. There are many different ways by which those targets can be achieved nowadays on the Web.</p>
<p id="rfc.section.2.p.3">All this flexibility makes the whole picture of an RTC-Web scenario and the scope in which RTC-Web is involved hard to understand. This document tries to identify each component in the RTC-Web architecture and clarify which components can be left up to web developers and which others should be mandated by RTC-Web specifications.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#definitions" id="definitions">Definitions</a>
</h1>
<p id="rfc.section.3.p.1">The following terms have special significance in the context of RTC-Web.  </p>

<dl>
<dt>JavaScript WebRTC API:</dt>
<dd style="margin-left: 6">This is the communication layer between the native RTC-Web stack in the browser and JavaScript. It includes JavaScript functions to manage media sessions along with JavaScript callbacks which will be called by the RTC-Web stack when some media related event takes place. This API MUST be exposed by every RTC-Web compliant browser. It's being defined by W3C.</dd>
<dt>RTC-Web Server:</dt>
<dd style="margin-left: 6">The server that RTC-Web clients communicate with for initiating and managing media sessions with remote peers. This is usually an <a href="#RFC2616">HTTP</a> <cite title="NONE">[RFC2616]</cite> server or a <a href="#I-D.ietf-hybi-thewebsocketprotocol">WebSocket</a> <cite title="NONE">[I-D.ietf-hybi-thewebsocketprotocol]</cite> server behaving as a centralized point for signaling messages exchanged between peers (and MAY accomplish other tasks such as authentication, authorization, peer lookup procedures and protocol conversion). A given RTC-Web server will implement the In-The-Wire Protocol (defined below) chosen by the website developer.</dd>
<dt>In-The-Wire Protocol:</dt>
<dd style="margin-left: 6">This is the communication layer between users' web browser and the RTC-Web Server. It involves a signaling protocol to be carried over HTTP or WebSocket (the protocols JavaScript can interact with). The messages exchanged over this protocol contain call control information and media negotiation information (both Call Control Protocol and Media Negotiation Protocol explained next).</dd>
<dt>Call Control Protocol:</dt>
<dd style="margin-left: 6">This involves the format and semantics of the messages exchanged between the RTC-Web client (web browser) and the RTC-Web Server for routing and other purposes such as authorization, authentication, registration and others. Examples of a Call Control Protocol could be SIP or XMPP carried over HTTP or WebSocket, whose messages contain information about the originator and recipient of the message, credentials, type of message, etc. However any other custom protocol (such as HTTP POST or some JSON-based protocol over WebSocket) can accomplish this task. Call Control Protocol messages MAY carry media negotiation information (in the same way a SIP INVITE request contains an SDP body).</dd>
<dt>Media Negotiation Protocol:</dt>
<dd style="margin-left: 6">When a RTC-Web client wants to establish a media session with a remote peer, it sends a Call Control Protocol request over the wire to the RTC-Web Server indicating the destination of the request (along with other fields). Such a request also carries media information exposed by the originator. In the SIP protocol example, the Media Negotiation Protocol is represented by the SDP offer/answer body conveyed by INVITE and 200 OK messages (simplified). In the case of RTC-Web, such media negotiation MAY be carried as <a href="#I-D.jennings-rtcweb-signaling">ROAP</a> <cite title="NONE">[I-D.jennings-rtcweb-signaling]</cite> Offer/Answer JSON objects.  </dd>
<dt>JavaScript RTC-Web Library:</dt>
<dd style="margin-left: 6">This is a website-agnostic JavaScript library. Web developers (end-users) can include it within their websites. The library defines a custom In-The-Wire Protocol by providing an API with functions for generating requests and responses (to be sent in-the-wire) along with callbacks for processing incoming request/responses and state change notifications. This JavaScript library is coded by an RTC-Web expert and is supposed to hide the complexity of the JavaScript WebRTC API and the management of the In-The-Wire Signaling to the end-user. This is the API the end-user should use and care about (and here is where the famous term "20 lines of code" applies).</dd>
<dt>JavaScript WebSite Library:</dt>
<dd style="margin-left: 6">This is the custom JavaScript library that a web developer (the end-user) provides in his website. In the context of RTC-Web, this custom library is supposed to make usage of functions and features present in a JavaScript RTC-Web Library (defined above). This is the library in which the end-user writes "20 lines of code" for integrating RTC-Web capabilities within his website.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#overvier_of_an_rtcweb_communication" id="overvier_of_an_rtcweb_communication">Overview of an RTC-Web Communication</a>
</h1>
<div id="#rfc.figure.1"></div>
<pre>
  {
    "request": {
      "call-id": "0skilqwp",
      "transaction-id": 1001,
      "request-type": "call",
      "source-user": "Bob",
      "destination-user": "Alice",
      "subject": null,
      "cookie": "kj87kjsdhf",
      "media": _ROAP_OFFER_OBJECT_
    }
  }
</pre>
<div id="#rfc.figure.2"></div>
<pre>
  {
    "response": {
      "call-id": "0skilqwp",
      "transaction-id": 1001,
      "status": "accepted",
      "source-user": "Alice",
      "destination-user": "Bob",
      "cookie": "t112mnkszz",
      "media": _ROAP_ANSWER_OBJECT_
    }
  }
</pre>
<div id="#rfc.figure.3"></div>
<pre>
  {
    "request": {
      "call-id": "0skilqwp",
      "transaction-id": 1001,
      "request-type": "ack",
      "source-user": "Bob",
      "destination-user": "Alice",
      "cookie": "kj87kjsdhf",
      "media": _ROAP_OK_MESSAGE_
    }
  }
</pre>
<div id="#rfc.figure.4"></div>
<pre>
  {
    "request": {
      "call-id": "0skilqwp",
      "transaction-id": 1002,
      "request-type": "hangup",
      "source-user": "Alice",
      "destination-user": "Bob",
      "cookie": "t112mnkszz"
    }
  }
</pre>
<p id="rfc.section.4.p.1">Here a hypothetical and very simple RTC-Web scenario is described: </p>

<ul>
<li>A user visits a web page "mysite.com" using his browser and logs-in the web by introducing his username (Bob) and password. The authentication is achieved by sending an HTTP POST request with the user's credentials. The web server validates the credentials and replies with a HTTP 200 response containing a Cookie "kj87kjsdhf" to be used within the same session. The user is redirected to a new page from which the browser retrieves two JavaScript libraries: <dl>
<dt>rtcquery.js (a JavaScript RTC-Web Library):</dt>
<dd style="margin-left: 6">This is a GPL JavaScript library implementing a custom In-The-Wire Protocol for RTC-Web based on JSON and WebSocket. This library is becoming the most successful and extended RTC-Web library and there are O'Reilly books about it.</dd>
<dt>mysite.js (a JavaScript WebSite Library):</dt>
<dd style="margin-left: 6">This is the JavaScript code created by the web developer of "mysite.com". It includes website specific functions and makes use of the "rtcquery.js" library to incorporate RTC-Web capabilities to the web page (by adding "20 lines of code").</dd>
</dl>
<p> </p>
</li>
<li>Once all the JavaScript code (both "rtcquery.js" and "mysite.js") is loaded by the browser, it opens a WebSocket connection with the web server, which is also a WebSocket server listening on the same port (it could be a different server though).</li>
<li>The web developer of "mysite.com" has implemented the In-The-Wire Protocol defined in "rtcquery.js" into his WebSocket server using PHP. For this task, the developer has studied the documentation available in the website of the rtcQuery.js project.</li>
<li>The custom In-The-Wire Protocol states that each request sent over the WebSocket connection is a JSON object containing: <dl>
<dt>A mandatory Call Control Protocol section:</dt>
<dd style="margin-left: 6">This includes fields such as "call-id" (a common string for all the requests/responses within the same call), "transaction-id" (an integer for correlating a request and its associated responses), "request-type" (for example "call"), "source-user" (current user), "destination-user" (the remote peer), "subject" (some description of the call) and "cookie" (the Cookie sent by web server, which is used by the client to identify itself and get authorization by the WebSocket server).</dd>
<dt>An optional Media Negotiation Protocol section:</dt>
<dd style="margin-left: 6">This is conveyed by attaching a <a href="#I-D.jennings-rtcweb-signaling">ROAP</a> <cite title="NONE">[I-D.jennings-rtcweb-signaling]</cite> Offer or OK JSON object.</dd>
</dl>
<p> </p>
</li>
<li>In-The-Wire Protocol responses are similar to the requests, but instead of "request-type" and "subject", they contain a "status" field indicating the nature of the response (which can be "accepted", "rejected" or "not-online") and instead of a ROAP Offer they MAY contain a ROAP Answer.</li>
<li>The new page rendered by the browser includes a big section with "online" users (those that are available for audio/video sessions). The user wants to make an audio call with Alice (who is online) and clicks a "Call" button next to Alice's buddy.</li>
<li>Then the JavaScript code makes a call (using the JavaScript WebRTC API) to the browser RTC-Web stack in order to ask for a ROAP Offer object with just "audio" capability (note: PeerConnection stuff ommited for brevity). The RTC-Web stack performs some internal operations to discover the browser IP, gets some available UDP port for sending RTP, chooses an audio codec from the list of available codecs in the browser, and returns the ROAP Offer JSON object.</li>
<li>After that, the JavaScript code constructs an In-The-Wire Protocol request (a JSON object) as follows:</li>
<li>The JavaScript code sends the request to the web server via the existing WebSocket connection.</li>
<li>The server inspects the "cookie" and the "source-user" fields, and authorizes the request since such Cookie value is associated to an existing web session owned by Bob.</li>
<li>Then the server checks for Alice's status. Alice is online and connected via WebSocket to the server, so using such connection the server delivers the request to Alice (previously removing the "cookie" field).</li>
<li>Alice's browser receives the request and some JavaScript callback (defined by the JavaScript code when a WebSocket messsage is received) is called. Alice is prompted to accept or reject the incoming call request from Bob. Alice presses "Accept".</li>
<li>The JavaScript code in Alice's browser makes a call (using the JavaScript WebRTC API) to the browser RTC-Web stack and gets a ROAP Answer object with just "audio" capability. Then it constructs an In-The-Wire Protocol response as follows (note that it includes her Cookie) and sends it to the server via the WebSocket connection:</li>
<li>The server inspects the "cookie" and "source-user" and validates the response. Then it inspects the "destination-user" and routes the response object to Bob.</li>
<li>Upon receipt of the response, the JavaScript code in Bob's browser automatically sends a request acknowledging the response to the server:</li>
<li>The request is routed to Alice's browser and its ROAP OK message automatically delivered to the RTC-Web stack by the JavaScript code.</li>
<li>At this point, both Bob and Alice's browsers perform ICE connectivity checks and finally establish a RTP audio session. The success of the media session establishment is notified to the users via some JavaScript pop-up.</li>
<li>After a while Alice decides to terminate the call by pressing a "Hangup" button. The JavaScript code asks the RTC-Web stack in the browser to finish sending RTP and sends a JSON request to Bob via the WebSocket connection:</li>
<li>Bob receives the request. His JavaScript code calls the RTC-Web stack to finish the media session (by passing it some "session-id" identifier retrieved from the initial ROAP Offer).</li>
<li>Session is now terminated. Bob did not get a date with Alice, but has been enjoying a RTC experience so he is satisfied.</li>
</ul>

<p> </p>
<p id="rfc.section.4.p.2">Lets inspect the RTC-Web components as defined by this document in the given scenario: </p>

<dl>
<dt>RTC-Web Server:</dt>
<dd style="margin-left: 6">A WebSocket server running in the same port as the web server.</dd>
<dt>In-The-Wire Protocol:</dt>
<dd style="margin-left: 6">Custom JSON messages over WebSocket transport.</dd>
<dt>Call Control Protocol:</dt>
<dd style="margin-left: 6">All the fields in the JSON message (but the "media" field).</dd>
<dt>Media Negotiation Protocol:</dt>
<dd style="margin-left: 6">The media information is located in the "media" parameter of the JSON message. It's carried as ROAP Offer/Answer JSON object.</dd>
<dt>JavaScript RTC-Web Library:</dt>
<dd style="margin-left: 6">"rtcquery.js" library made GPL by the rtcQuery.js project.</dd>
<dt>JavaScript WebSite Library:</dt>
<dd style="margin-left: 6">"mysite.js" custom library (makes use of "rtcquery.js").</dd>
</dl>

<p> </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#more_use_cases" id="more_use_cases">More Use Cases</a>
</h1>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> <a href="#rtcweb_in_facebook" id="rtcweb_in_facebook">RTC-Web in Facebook</a>
</h1>
<div id="#rfc.figure.5"></div>
<pre>
  POST /ajax/chat/send.php?__a=1 HTTP/1.1
  Host: www.facebook.com
  Connection: keep-alive
  X-SVN-Rev: 460802
  Content-Type: application/x-www-form-urlencoded; charset=UTF-8
  Referer: http://www.facebook.com/?sfrm=1
  Content-Length: XXX
  Cookie: datr=ZjyfTjurvmsqvYVBDcXF8u; c_user=104442654509775; L=2;
    lu=RgQytVtJJBoSvWUNOYzs0oQg; sct=1319153603;
    xs=60%3A1c179a7dfb7f08278477b20e778bd391; p=112;
    presence=631L212REp_5f1B08654409875F4EriF0CEstateFDutF131910363 \
    96EvisF1HsndF1ODiFA21B02609687525A2C_5dEfFA21B02602687525A2Euct \
    319103618FD55F1G318103604PEuoFD1B02602687525FDexpF1319103680370 \
    lF_5b1_5dEolF0CCEalFD1B02602687525FDiF0umF0CCCC;
    wd=1366x675
  Pragma: no-cache
  Cache-Control: no-cache

  msg_id=1319103647568%3A3629978310&amp;client_time=1319103646048&amp;
  to=100002772687525&amp;num_tabs=1&amp;pvs_time&amp;msg_text=hello&amp;
  to_offline=false&amp;to_idle=false&amp;window_id=2877189837&amp;
  sidebar_launched=true&amp;sidebar_enabled=true&amp;sidebar_capable=true&amp;
  sidebar_should_show=false&amp;sidebar_visible=false&amp;
  post_form_id=449eb730c851e127f21d8a88b6a00667&amp;fb_dtsg=AQC3StlW&amp;lsd&amp;
  post_form_id_source=AsyncRequest&amp;__user=100002624409995
</pre>
<p id="rfc.section.5.1.p.1">Facebook integrates IM (instant messaging) into its web application. For that the JavaScript code performs HTTP long polling for retrieving incoming IM messages in realtime, and sends an HTTP POST request when a user sends a message to another user. Such HTTP POST requests look as follows:</p>
<p id="rfc.section.5.1.p.2">The above request contains some parameters in both the Cookie header and the body. The Cookie header seems to contain information about the identity of the user sending the IM message. The Cookie value is probably also used for authentication in the server. The "msg_text" parameter in the body contains the IM text message itself while the "to" parameter in the body seems to contain the destination user (a long integer probably representing the user ID). The meaning of other parameters in both the Cookie and the body are up to Facebook, this is, they are specific to the application. It seems obvious that it's not possible to standarize all these parameters.</p>
<div id="#rfc.figure.6"></div>
<pre>
  POST /ajax/call/call.php?__a=1 HTTP/1.1
  Host: www.facebook.com
  Connection: keep-alive
  X-SVN-Rev: 460802
  Content-Type: application/x-www-form-urlencoded; charset=UTF-8
  Referer: http://www.facebook.com/?sfrm=1
  Content-Length: XXX
  Cookie: datr=ZjyfTjurvmsqvYVBDcXF8u; c_user=104442654509775; L=2;
    lu=RgQytVtJJBoSvWUNOYzs0oQg; sct=1319153603;
    xs=60%3A1c179a7dfb7f08278477b20e778bd391; p=112;
    presence=631L212REp_5f1B08654409875F4EriF0CEstateFDutF131910363 \
    96EvisF1HsndF1ODiFA21B02609687525A2C_5dEfFA21B02602687525A2Euct \
    319103618FD55F1G318103604PEuoFD1B02602687525FDexpF1319103680370 \
    lF_5b1_5dEolF0CCEalFD1B02602687525FDiF0umF0CCCC;
    wd=1366x675
  Pragma: no-cache
  Cache-Control: no-cache

  call_id=1319103647568%3A3629978310&amp;client_time=1319103646048&amp;
  to=100002772687525&amp;num_tabs=1&amp;pvs_time&amp;to_offline=false&amp;
  to_idle=false&amp;window_id=2877189837&amp;sidebar_launched=true&amp;
  sidebar_enabled=true&amp;sidebar_capable=true&amp;
  sidebar_should_show=false&amp;sidebar_visible=false&amp;
  post_form_id=449eb730c851e127f21d8a88b6a00667&amp;fb_dtsg=AQC3StlW&amp;
  lsd&amp;post_form_id_source=AsyncRequest&amp;__user=100002624409995&amp;
  media=_ROAP_OFFER_OBJECT_
</pre>
<p id="rfc.section.5.1.p.3">Assuming that Facebook is willing to integrate RTC-Web within the web application, it makes sense that Facebook would be interested in reusing the same protocol and message format it's already using for IM (which is also realtime communication). So when a user clicks some "Call" button within his Facebook contact list, it is expected that the JavaScript code could generate an HTTP POST as follows:</p>
<p id="rfc.section.5.1.p.4">The new HTTP POST request differs in the request URI (which now points to "/ajax/call/call.php"). The body includes a "media" parameter whose value is a ROAP Offer JSON object (properly encoded if necessary).</p>
<p id="rfc.section.5.1.p.5">Given this HTTP POST request, lets inspect the RTC-Web components as defined by this document: </p>

<dl>
<dt>RTC-Web Server:</dt>
<dd style="margin-left: 6">Facebook uses their HTTP servers as RTC-Web servers.</dd>
<dt>In-The-Wire Protocol:</dt>
<dd style="margin-left: 6">Facebook uses HTTP protocol and a common HTTP POST request.</dd>
<dt>Call Control Protocol:</dt>
<dd style="margin-left: 6">The information about the call originator is mainly included in the Cookie header, while other topics as the destination user of the call are located in the body (the "to" parameter).</dd>
<dt>Media Negotiation Protocol:</dt>
<dd style="margin-left: 6">The media information is located in the "media" parameter of the body. In this case Facebook uses a ROAP Offer JSON object for carrying such media information.</dd>
<dt>JavaScript RTC-Web Library:</dt>
<dd style="margin-left: 6">It is expected to be an advanced JavaScript library designed by Facebook which also includes other functions unrelated to RTC-Web.</dd>
<dt>JavaScript WebSite Library:</dt>
<dd style="margin-left: 6">Merged with the JavaScript RTC-Web Library into a single JavaScript file.</dd>
</dl>

<p> </p>
<p id="rfc.section.5.1.p.6">If Facebook would desire to interoperate (federate) with a SIP network it is clear that it would need a signaling protocol gateway which converts the HTTP POST information into a SIP request, and the ROAP Offer into a SDP body.</p>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> <a href="#sip_over_websocket" id="sip_over_websocket">SIP over WebSocket</a>
</h1>
<p id="rfc.section.5.2.p.1">This is an optimal solution for interoperating with SIP without requiring a protocol gateway. In this scenario the web user downloads a JavaScript code from the website and the JavaScript code establishes a WebSocket connection with a SIP proxy (the RTC-Web server) implementing the <a href="#I-D.ibc-rtcweb-sip-websocket">WebSocket transport</a> <cite title="NONE">[I-D.ibc-rtcweb-sip-websocket]</cite> (along with other common SIP transports as UDP and TCP). The messages exchanged between the RTC-Web client and server over the WebSocket connection are pure SIP requests and responses, with no modifications (others than the new "WS" transport identificator in the Via header).</p>
<div id="#rfc.figure.7"></div>
<pre>
  INVITE sip:bob@example.org SIP/2.0
  Via: SIP/2.0/WS invalid.domain;branch=z9hG4bK56sdasks
  From: sip:alice@example.org;tag=asdyka899
  To: sip:bob@example.org
  Call-ID: asidkj3ss
  CSeq: 1 INVITE
  Max-Forwards: 70
  Contact: &lt;sip:alice@invalid.domain;transport=ws&gt;
  Supported: path, outbound
  Content-Type: application/sdp

  _SDP_
</pre>
<p id="rfc.section.5.2.p.2">When the user makes a call from the web it generates a SIP INVITE to be sent over the WebSocket connection, which looks as follows:</p>
<p id="rfc.section.5.2.p.3">For this to work, the JavaScript code must map the ROAP Offer retrieved via the JavaScript WebRTC API into a normal SDP (it's not the aim of this documment to discuss about the complexity such mapping could involve).</p>
<p id="rfc.section.5.2.p.4">When the INVITE arrives to the RTC-Web Server (which behaves as a pure SIP proxy) it just performs standard SIP routing procedures (the same as if the request would have arrived via UDP or TCP transports), so there is no need for a protocol gateway when interoperating with a pure SIP network out there.</p>
<p id="rfc.section.5.2.p.5">Given this INVITE request, lets inspect the RTC-Web components as defined by this document: </p>

<dl>
<dt>RTC-Web Server:</dt>
<dd style="margin-left: 6">A SIP proxy that also implements the WebSocket transport.</dd>
<dt>In-The-Wire Protocol:</dt>
<dd style="margin-left: 6">Pure SIP protocol.</dd>
<dt>Call Control Protocol:</dt>
<dd style="margin-left: 6">Contained in the headers of the SIP request (From, request URI, Contact, Authorization...).</dd>
<dt>Media Negotiation Protocol:</dt>
<dd style="margin-left: 6">The session description (SDP) carried in the SIP request body.</dd>
<dt>JavaScript RTC-Web Library:</dt>
<dd style="margin-left: 6">It could be a GPL "jssip.js" library implementing SIP over WebSocket and a SIP stack in JavaScript.</dd>
<dt>JavaScript WebSite Library:</dt>
<dd style="margin-left: 6">Website specific. It would make use of the "jssip.js" library for adding RTC-Web capabilities "in 20 lines of code".</dd>
</dl>

<p> </p>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> <a href="#poker_game" id="poker_game">Poker Game</a>
</h1>
<p id="rfc.section.5.3.p.1">A website "www.poker-game.info" makes use of HTTP Comet technology for carrying realtime information about the game to each participant. The messages exchanged via HTTP Comet between participants and the web server are XML documents conveying updates and actions happening during the game.</p>
<p id="rfc.section.5.3.p.2">Now that website wants to integrate RTC-Web capabilities and enter each participant into an audio multiconference in which every user listens to all the participants and can speak to them.</p>
<div id="#rfc.figure.8"></div>
<pre>
  &lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;
  &lt;game-multiconf&gt;
    &lt;action&gt;call&lt;/action&gt;
    &lt;media&gt;_ROAP_OFFER_XML_&lt;/media&gt;
  &lt;/game-multiconf&gt;
</pre>
<p id="rfc.section.5.3.p.3">To accomplish this architecture and still reuse the existing design, once the user logs-in the web his browser receives an incoming audio call from the conference server. Such call request is carried over the HTTP connection (HTTP Comet) as a new XML document which looks as follows:</p>
<p id="rfc.section.5.3.p.4">The ROAP Offer is generated by the conference server, which satisfies all the media requirements of RTC-Web (ICE, SRTP).</p>
<p id="rfc.section.5.3.p.5">The JavaScript code in the client side answers the call (once the user accepted it) and sends a similar XML containing a ROAP Answer via the existing HTTP connection.</p>
<p id="rfc.section.5.3.p.6">Given the above XML document, lets inspect the RTC-Web components as defined by this document: </p>

<dl>
<dt>RTC-Web Server:</dt>
<dd style="margin-left: 6">The web server of "www.poker-game.info".</dd>
<dt>In-The-Wire Protocol:</dt>
<dd style="margin-left: 6">Custom XML document through HTTP Comet.</dd>
<dt>Call Control Protocol:</dt>
<dd style="margin-left: 6">It's minimal. There is no information about the originator or recipient of the call (not needed in this scenario). The XML contains an "action" field whose value "call" means "incoming call request from the website".</dd>
<dt>Media Negotiation Protocol:</dt>
<dd style="margin-left: 6">A ROAP Offer/Answer in XML format.</dd>
<dt>JavaScript RTC-Web Library:</dt>
<dd style="margin-left: 6">A library created by the developer of "www.poker-game.info". It implements the In-The-Wire Protocol as stated above.</dd>
<dt>JavaScript WebSite Library:</dt>
<dd style="margin-left: 6">It is merged with the JavaScript RTC-Web Library, so there is a single JavaScript file.</dd>
</dl>

<p> </p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#conclusion" id="conclusion">Conclusions</a>
</h1>
<p id="rfc.section.6.p.1">This document has shown four hypothetical scenarios of RTC-Web. Each scenario uses its own In-The-Wire Protocol (JSON over WebSocket, HTTP POST, SIP over WebSocket and XML over HTTP Comet) and it's hard to expect that all these scenarios could be constrained to use the same protocol and message format in-the-wire. The needs of each scenario are not the same, neither the custom fields carried in-the-wire (see for example the ammount of custom parameters Facebook includes within the HTTP POST request).</p>
<p id="rfc.section.6.p.2">In the Web each website decides how to accomplish the features and capabilities it wants to provide to its users. Mandating the message format in-the-wire seems not to be an option given the nature of the Web. Mandating it would also make RTC-Web integration very hard into existing websites which already implement their custom signaling protocol and message format for realtime communications (as instant messaging), their authentication mechanisms, etc.</p>
<p id="rfc.section.6.p.3">RTC-Web will bridge the gap between realtime communication services such as VoIP and the Web, so it must play by the rules present on the Web. These rules include the freedom by which the web developer chooses his preferred option to innovate and offer new services to users. That is the key to success of the Web and should be respected.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#new_requirements_for_rtcweb" id="new_requirements_for_rtcweb">New Requirements for RTC-Web</a>
</h1>
<p id="rfc.section.7.p.1">Given the conclusions in the previous section, this document states some new requirements for RTC-Web: </p>

<ol>
<li>It MUST be possible for a website developer to design his own In-The-Wire Protocol (including the messages format and transport used for carrying such messages).</li>
<li>It MUST be possible for a website developer to choose his favourite JavaScript RTC-Web Library and adapt his web application to make use of it.</li>
<li>It MUST be possible for a website developer to design a Media Negotiation Protocol in which the media information is not carried as ROAP Offer/Answer objects (by letting the developer implement the ROAP mapping in JavaScript).  <ul class="empty"><li>NOTE: This text is written assuming that <a href="#I-D.jennings-rtcweb-signaling">ROAP</a> <cite title="NONE">[I-D.jennings-rtcweb-signaling]</cite> becomes a standard in RTC-Web.</li></ul>
<p> </p>
</li>
<li>It MUST be possible for a website developer to make his RTC-Web scenario to interoperate with a pure SIP or XMPP/Jingle network without requiring a signaling protocol gateway (by using <a href="#I-D.ibc-rtcweb-sip-websocket">SIP over WebSocket</a> <cite title="NONE">[I-D.ibc-rtcweb-sip-websocket]</cite> or <a href="#I-D.moffitt-xmpp-over-websocket">XMPP over WebSocket</a> <cite title="NONE">[I-D.moffitt-xmpp-over-websocket]</cite>).  <ul class="empty"><li>This would be indeed feasible if previous bullets are satisfied.</li></ul>
<p> </p>
</li>
</ol>

<p> </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#security_considerations" id="security_considerations">Security Considerations</a>
</h1>
<p id="rfc.section.8.p.1">Not applicable.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#iana_considerations" id="iana_considerations">IANA Considerations</a>
</h1>
<p id="rfc.section.9.p.1">Not applicable.</p>
<h1 id="rfc.references">
<a href="#rfc.references">10.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">10.1.</a> Normative References</h1>
<table><tbody><tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr></tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">10.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2616">[RFC2616]</b></td>
<td class="top">
<a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a> and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2616, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6120">[RFC6120]</b></td>
<td class="top">
<a>Saint-Andre, P.</a>, "<a href="http://tools.ietf.org/html/rfc6120">Extensible Messaging and Presence Protocol (XMPP): Core</a>", RFC 6120, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.jennings-rtcweb-signaling">[I-D.jennings-rtcweb-signaling]</b></td>
<td class="top">
<a>Jennings, C</a> and <a>J Rosenberg</a>, "<a href="http://tools.ietf.org/html/draft-jennings-rtcweb-signaling-00">RTCWeb Offer/Answer Protocol (ROAP)</a>", Internet-Draft draft-jennings-rtcweb-signaling-00, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-hybi-thewebsocketprotocol">[I-D.ietf-hybi-thewebsocketprotocol]</b></td>
<td class="top">
<a>Fette, I</a> and <a>A Melnikov</a>, "<a href="http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-17">The WebSocket protocol</a>", Internet-Draft draft-ietf-hybi-thewebsocketprotocol-17, September 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ibc-rtcweb-sip-websocket">[I-D.ibc-rtcweb-sip-websocket]</b></td>
<td class="top">
<a>Castillo, I</a>, <a>Millan, J</a> and <a>V Pascual</a>, "<a href="http://tools.ietf.org/html/draft-ibc-rtcweb-sip-websocket-00">WebSocket Transport for Session Initiation Protocol (SIP)</a>", Internet-Draft draft-ibc-rtcweb-sip-websocket-00, September 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.moffitt-xmpp-over-websocket">[I-D.moffitt-xmpp-over-websocket]</b></td>
<td class="top">
<a>Moffitt, J</a> and <a>E Cestari</a>, "<a href="http://tools.ietf.org/html/draft-moffitt-xmpp-over-websocket-00">An XMPP Sub-protocol for WebSocket</a>", Internet-Draft draft-moffitt-xmpp-over-websocket-00, December 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RTC-Web">[RTC-Web]</b></td>
<td class="top">
<a>IETF</a><a>W3C</a>, "<a>Real Time Collaboration on the World Wide Web</a>", October 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Inaki Baz Castillo</span> 
	  <span class="n hidden">
		<span class="family-name">Baz Castillo</span>
	  </span>
	</span>
	<span class="org vcardline">XtraTelecom S.A.</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Barakaldo</span>,  
		<span class="region">Basque Country</span> 
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Spain</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:ibc@aliax.net">ibc@aliax.net</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Saul Ibarra Corretge</span> 
	  <span class="n hidden">
		<span class="family-name">Ibarra Corretge</span>
	  </span>
	</span>
	<span class="org vcardline">AG Projects</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Amsterdam</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Netherlands</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:saul@ag-projects.com">saul@ag-projects.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jose Luis Millan Villegas</span> 
	  <span class="n hidden">
		<span class="family-name">Millan Villegas</span>
	  </span>
	</span>
	<span class="org vcardline">XtraTelecom S.A.</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">Bilbao</span>,  
		<span class="region">Basque Country</span> 
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">Spain</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jmillan@aliax.net">jmillan@aliax.net</a></span>

  </address>
</div>

</body>
</html>