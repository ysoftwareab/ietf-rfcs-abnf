<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Bridge Out: Benchmarking Methodology Extensions for Data Center Bridging Devices</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Requirements">
<link href="#rfc.section.3" rel="Chapter" title="3 Terminology">
<link href="#rfc.section.4" rel="Chapter" title="4 General Considerations">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Classifications">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Congestion">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Test Traffic">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Tester Capabilities">
<link href="#rfc.section.4.4.1" rel="Chapter" title="4.4.1 Frame Formats">
<link href="#rfc.section.4.4.2" rel="Chapter" title="4.4.2 Pause Response Time">
<link href="#rfc.section.5" rel="Chapter" title="5 Test Setup">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Test Traffic">
<link href="#rfc.section.5.1.1" rel="Chapter" title="5.1.1 Traffic Classification">
<link href="#rfc.section.5.1.2" rel="Chapter" title="5.1.2 Trial Duration">
<link href="#rfc.section.5.1.3" rel="Chapter" title="5.1.3 Frame Measurements">
<link href="#rfc.section.5.1.3.1" rel="Chapter" title="5.1.3.1 Latency Comparisons">
<link href="#rfc.section.5.1.4" rel="Chapter" title="5.1.4 Frame Sizes">
<link href="#rfc.section.5.1.4.1" rel="Chapter" title="5.1.4.1 Ethernet">
<link href="#rfc.section.5.1.4.1.1" rel="Chapter" title="5.1.4.1.1 Fiber Channel over Ethernet">
<link href="#rfc.section.5.1.5" rel="Chapter" title="5.1.5 Burst Sizes">
<link href="#rfc.section.6" rel="Chapter" title="6 Benchmarking Tests">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 Pause Response Time">
<link href="#rfc.section.6.1.1" rel="Chapter" title="6.1.1 Objective">
<link href="#rfc.section.6.1.2" rel="Chapter" title="6.1.2 Setup Parameters">
<link href="#rfc.section.6.1.3" rel="Chapter" title="6.1.3 Procedure">
<link href="#rfc.section.6.1.4" rel="Chapter" title="6.1.4 Measurements">
<link href="#rfc.section.6.1.5" rel="Chapter" title="6.1.5 Reporting Format">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 Queueput">
<link href="#rfc.section.6.2.1" rel="Chapter" title="6.2.1 Objective">
<link href="#rfc.section.6.2.2" rel="Chapter" title="6.2.2 Setup Parameters">
<link href="#rfc.section.6.2.3" rel="Chapter" title="6.2.3 Procedure">
<link href="#rfc.section.6.2.4" rel="Chapter" title="6.2.4 Measurements">
<link href="#rfc.section.6.2.5" rel="Chapter" title="6.2.5 Reporting Format">
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 Maximum Forwarding Rate">
<link href="#rfc.section.6.3.1" rel="Chapter" title="6.3.1 Objective">
<link href="#rfc.section.6.3.2" rel="Chapter" title="6.3.2 Setup Parameters">
<link href="#rfc.section.6.3.3" rel="Chapter" title="6.3.3 Procedure">
<link href="#rfc.section.6.3.4" rel="Chapter" title="6.3.4 Measurements">
<link href="#rfc.section.6.3.5" rel="Chapter" title="6.3.5 Reporting Format">
<link href="#rfc.section.6.4" rel="Chapter" title="6.4 Back-off">
<link href="#rfc.section.6.4.1" rel="Chapter" title="6.4.1 Objective">
<link href="#rfc.section.6.4.2" rel="Chapter" title="6.4.2 Setup Parameters">
<link href="#rfc.section.6.4.3" rel="Chapter" title="6.4.3 Procedure">
<link href="#rfc.section.6.4.4" rel="Chapter" title="6.4.4 Measurements">
<link href="#rfc.section.6.4.5" rel="Chapter" title="6.4.5 Reporting Format">
<link href="#rfc.section.6.5" rel="Chapter" title="6.5 Back-to-Back">
<link href="#rfc.section.6.5.1" rel="Chapter" title="6.5.1 Objective">
<link href="#rfc.section.6.5.2" rel="Chapter" title="6.5.2 Setup Parameters">
<link href="#rfc.section.6.5.3" rel="Chapter" title="6.5.3 Procedure">
<link href="#rfc.section.6.5.4" rel="Chapter" title="6.5.4 Measurements">
<link href="#rfc.section.6.5.5" rel="Chapter" title="6.5.5 Reporting Format">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 IANA Consdierations">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Acknowledgements">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Existing benchmarking methodologies are based on the assumption that networking devices will impartially drop network traffic at their performance limits.  Data Center Bridging (DCB) devices, however, will attempt to throttle prioritized traffic from network endpoints before those limits are reached in order to minimize the probability of frame loss for high value traffic.  Hence, existing methodologies based around indiscriminate frame loss are inappropriate for DCB devices.  This document takes the basic benchmarking ideas based on loss and extends them to support "lossless" Ethernet devices." />
  <meta name="description" content="Existing benchmarking methodologies are based on the assumption that networking devices will impartially drop network traffic at their performance limits.  Data Center Bridging (DCB) devices, however, will attempt to throttle prioritized traffic from network endpoints before those limits are reached in order to minimize the probability of frame loss for high value traffic.  Hence, existing methodologies based around indiscriminate frame loss are inappropriate for DCB devices.  This document takes the basic benchmarking ideas based on loss and extends them to support "lossless" Ethernet devices." />
  <meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, bmwg, benchmarking, CEE, Converged Enhanced Ethernet, DCB, Data Center Bridging, DCE, Data Center Ethernet, PFC, Priority-based Flow Control" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">T. C. Player</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Spirent Communications</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">D. Newman</td>
</tr>
<tr>
<td class="left">Expires: October 20, 2011</td>
<td class="right">Network Test</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">April 18, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Bridge Out: Benchmarking Methodology Extensions for Data Center Bridging Devices<br />
  <span class="filename">draft-player-dcb-benchmarking-04.txt</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Existing benchmarking methodologies are based on the assumption that networking devices will impartially drop network traffic at their performance limits.  Data Center Bridging (DCB) devices, however, will attempt to throttle prioritized traffic from network endpoints before those limits are reached in order to minimize the probability of frame loss for high value traffic.  Hence, existing methodologies based around indiscriminate frame loss are inappropriate for DCB devices.  This document takes the basic benchmarking ideas based on loss and extends them to support "lossless" Ethernet devices.</p>
<p>The IETF has been notified of intellectual property rights claimed in regard to some or all of the specification contained in this document.  For more information consult the online list of claimed rights.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on October 20, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Requirements</a>
</li>
<li>3.   <a href="#rfc.section.3">Terminology</a>
</li>
<li>4.   <a href="#rfc.section.4">General Considerations</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Classifications</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Congestion</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Test Traffic</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Tester Capabilities</a>
</li>
<li>4.4.1.   <a href="#rfc.section.4.4.1">Frame Formats</a>
</li>
<li>4.4.2.   <a href="#rfc.section.4.4.2">Pause Response Time</a>
</li>
<li>5.   <a href="#rfc.section.5">Test Setup</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Test Traffic</a>
</li>
<li>5.1.1.   <a href="#rfc.section.5.1.1">Traffic Classification</a>
</li>
<li>5.1.2.   <a href="#rfc.section.5.1.2">Trial Duration</a>
</li>
<li>5.1.3.   <a href="#rfc.section.5.1.3">Frame Measurements</a>
</li>
<li>5.1.3.1.   <a href="#rfc.section.5.1.3.1">Latency Comparisons</a>
</li>
<li>5.1.4.   <a href="#rfc.section.5.1.4">Frame Sizes</a>
</li>
<li>5.1.4.1.   <a href="#rfc.section.5.1.4.1">Ethernet</a>
</li>
<li>5.1.4.1.1.   <a href="#rfc.section.5.1.4.1.1">Fiber Channel over Ethernet</a>
</li>
<li>5.1.5.   <a href="#rfc.section.5.1.5">Burst Sizes</a>
</li>
<li>6.   <a href="#rfc.section.6">Benchmarking Tests</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">Pause Response Time</a>
</li>
<li>6.1.1.   <a href="#rfc.section.6.1.1">Objective</a>
</li>
<li>6.1.2.   <a href="#rfc.section.6.1.2">Setup Parameters</a>
</li>
<li>6.1.3.   <a href="#rfc.section.6.1.3">Procedure</a>
</li>
<li>6.1.4.   <a href="#rfc.section.6.1.4">Measurements</a>
</li>
<li>6.1.5.   <a href="#rfc.section.6.1.5">Reporting Format</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">Queueput</a>
</li>
<li>6.2.1.   <a href="#rfc.section.6.2.1">Objective</a>
</li>
<li>6.2.2.   <a href="#rfc.section.6.2.2">Setup Parameters</a>
</li>
<li>6.2.3.   <a href="#rfc.section.6.2.3">Procedure</a>
</li>
<li>6.2.4.   <a href="#rfc.section.6.2.4">Measurements</a>
</li>
<li>6.2.5.   <a href="#rfc.section.6.2.5">Reporting Format</a>
</li>
<li>6.3.   <a href="#rfc.section.6.3">Maximum Forwarding Rate</a>
</li>
<li>6.3.1.   <a href="#rfc.section.6.3.1">Objective</a>
</li>
<li>6.3.2.   <a href="#rfc.section.6.3.2">Setup Parameters</a>
</li>
<li>6.3.3.   <a href="#rfc.section.6.3.3">Procedure</a>
</li>
<li>6.3.4.   <a href="#rfc.section.6.3.4">Measurements</a>
</li>
<li>6.3.5.   <a href="#rfc.section.6.3.5">Reporting Format</a>
</li>
<li>6.4.   <a href="#rfc.section.6.4">Back-off</a>
</li>
<li>6.4.1.   <a href="#rfc.section.6.4.1">Objective</a>
</li>
<li>6.4.2.   <a href="#rfc.section.6.4.2">Setup Parameters</a>
</li>
<li>6.4.3.   <a href="#rfc.section.6.4.3">Procedure</a>
</li>
<li>6.4.4.   <a href="#rfc.section.6.4.4">Measurements</a>
</li>
<li>6.4.5.   <a href="#rfc.section.6.4.5">Reporting Format</a>
</li>
<li>6.5.   <a href="#rfc.section.6.5">Back-to-Back</a>
</li>
<li>6.5.1.   <a href="#rfc.section.6.5.1">Objective</a>
</li>
<li>6.5.2.   <a href="#rfc.section.6.5.2">Setup Parameters</a>
</li>
<li>6.5.3.   <a href="#rfc.section.6.5.3">Procedure</a>
</li>
<li>6.5.4.   <a href="#rfc.section.6.5.4">Measurements</a>
</li>
<li>6.5.5.   <a href="#rfc.section.6.5.5">Reporting Format</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">IANA Consdierations</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Acknowledgements</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">This document is intended to provide a methodology for benchmarking Data Center Bridging (DCB) devices that support Priority-based Flow Control (PFC).  It extends the methodologies already defined in <a href="#RFC2544">[RFC2544]</a> and <a href="#RFC2889">[RFC2889]</a>.</p>
<p id="rfc.section.1.p.2">This memo primarily deals with devices which use Priority-based Flow Control, as defined in IEEE specification 802.1Qbb, to actively manage the transmission rate of multiple classes of traffic in order to minimize forwarding delay and frame loss for high priority traffic.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Requirements</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Terminology</h1>
<p id="rfc.section.3.p.1">As the terminology used by <a href="#RFC4689">[RFC4689]</a> is specific to IP layer testing, a number of existing terms require clarification when used in the DCB benchmarking context.  Additionally, a number of new terms are also presented to clarify concepts not clearly defined within the scope of <a href="#RFC4689">[RFC4689]</a>.  </p>

<ul class="empty">
<li>Classification:  As stated in <a href="#RFC4689">[RFC4689]</a>, Classification is the selection of packets according to defined rules. In the context of DCB benchmarking, the Classification criterion is the value of the 802.1p priority code point field in the 802.1Q VLAN header of an Ethernet frame.</li>
<li>Classification Group:  A collection of traffic streams that belong to a single Classification.  A Conformance Vector MAY be associated with a Classification Group.</li>
<li>Classification Profile:  The set of all Classification Groups involved in a benchmarking test.</li>
<li>Conformance Vector: A set of measurable stream result bounds, e.g. latency, jitter, sequencing, etc., that specify whether a frame is Conformant or Non-conformant.  Conformance vectors are optional for all DCB benchmarking tests.</li>
<li>Congestion Management:  In the context of DCB benchmarking, Congestion Management occurs when the DUT/SUT transmits Priority-based Flow Control (PFC) Pause frames.</li>
<li>Forwarding Congestion:  In the context of DCB benchmarking, Forwarding Congestion is extended to include the observation of PFC pause frame transmissions from the DUT.</li>
<li>Intended Load:  In this document, the Intended Load refers to the summation of the Intended Vectors for all Classification Groups.</li>
<li>Offered Load:  In this document, the Offered Load refers to the summation of the Offered Vectors for all Classification Groups.</li>
<li>Queue Congestion:  Queue congestion occurs when a DUT/SUT uses Congestion Management on a set of traffic Classifications.  The congestion Classifications correspond to the congested queues in the DUT/SUT.</li>
<li>Queueput: The maximum Offered Load than can be transmitted into a DUT/SUT such that every transmitted frame matches a specific Classification rule, the DUT/SUT does NOT use priority-based flow control mechanisms to manage the ingress traffic rate of the Classification(s) of interest, and all ingress frames are forwarded to the correct egress port.  A DUT may have a different Queueput value for each configured Classification.</li>
<li>XOFF Frame: A Priority-based flow control pause frame that instructs the DUT to pause one or more VLAN priorities.</li>
<li>XON Frame: A Priority-based flow control pause frame that instructs the DUT to resume transmission on one or more VLAN priorities.</li>
</ul>

<p> </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> General Considerations</h1>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> Classifications</h1>
<p id="rfc.section.4.1.p.1">Data Center Bridging devices SHOULD be tested with multiple Classifications.  Testing with a single Classification provides no means to test and measure a device's ability to differentiate forwarding behavior for different traffic classes.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> Congestion</h1>
<p id="rfc.section.4.2.p.1">For devices capable of forwarding traffic at line rate, explicit congestion MUST be created via the test tool to benchmark queue performance.  Possible methods for accomplishing this on a DUT with n ports include, but are not limited to: </p>

<ol>
<li>Test full-mesh traffic patterns on (n-1) ports while using 1 port as a multicast transmitter with (n-1) multicast receivers.</li>
<li>Test full-mesh traffic patterns on (n-1) ports while generating partially meshed traffic between 1 and (n-1) ports.</li>
<li>Use partially meshed traffic patterns with x ports transmitting to y ports where x &gt; y and x + y = n.</li>
</ol>

<p> </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> Test Traffic</h1>
<p id="rfc.section.4.3.p.1">The lock-step traffic pattern, as described in section 5.1.3 of <a href="#RFC2889">[RFC2889]</a>, is specifically NOT required for DCB testing for two reasons: </p>

<ol>
<li>Such patterns are not meaningful for high speed Ethernet devices due to the transmission clock variance allowed by the IEEE 802.3 Ethernet specification.</li>
<li>Flow control mechanisms would quickly break such patterns when activated.</li>
</ol>

<p> </p>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> Tester Capabilities</h1>
<h1 id="rfc.section.4.4.1">
<a href="#rfc.section.4.4.1">4.4.1.</a> <a href="#frame_formats" id="frame_formats">Frame Formats</a>
</h1>
<p id="rfc.section.4.4.1.p.1">This testing document does not mandate the use of any particular frame format for testing.  Any frame that can be legally forwarded by the DUT/SUT MAY be used provided that the test instrument can make the following distinctions for each frame: </p>

<ol>
<li>The test tool MUST be able to distinguish test frames from non-test frames.</li>
<li>The test tool MUST be able to determine whether each test frame is forwarded to the correct egress port.</li>
<li>The test tool MUST be able to determine whether each received frame conforms or does not conform to the Conformance Vector of the frame's Classification Group, if applicable.</li>
</ol>

<p> </p>
<h1 id="rfc.section.4.4.2">
<a href="#rfc.section.4.4.2">4.4.2.</a> Pause Response Time</h1>
<p id="rfc.section.4.4.2.p.1">To accurately measure the performance of a Priority-based Flow Control capable DUT, the test tool MUST be able to respond to PFC pause frames.  Additionally, the test tool MUST respond to all received pause frames in the time period specified in the IEEE 802.1Qbb specification.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Test Setup</h1>
<p id="rfc.section.5.p.1">This document extends the general test setup described in section 3 of <a href="#RFC2889">[RFC2889]</a> and section 6 of <a href="#RFC2544">[RFC2544]</a> to the benchmarking of Data Center Ethernet switching devices. <a href="#RFC2889">[RFC2889]</a> and <a href="#RFC2544">[RFC2544]</a> describe benchmarking methodologies for networking devices that intentionally drop frames at their performance limits.  In DCB networks, the DUT will transmit PFC Pause frames as a Congestion Management method to throttle network endpoints, thus minimizing the probability of frame loss in the network.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> Test Traffic</h1>
<h1 id="rfc.section.5.1.1">
<a href="#rfc.section.5.1.1">5.1.1.</a> Traffic Classification</h1>
<p id="rfc.section.5.1.1.p.1">Since DCB devices are expected to support multiple traffic Classifications, it is RECOMMENDED to benchmark DCB devices with multiple Classification Groups.</p>
<h1 id="rfc.section.5.1.2">
<a href="#rfc.section.5.1.2">5.1.2.</a> Trial Duration</h1>
<p id="rfc.section.5.1.2.p.1">The RECOMMENDED trial duration is 300 seconds. However other durations MAY be used.  Additionally, a running trial MAY be aborted once the test tool determines that the currently running trial has failed, e.g. QoS bounds exceeded, packet loss detected on a lossless queue, etc.</p>
<h1 id="rfc.section.5.1.3">
<a href="#rfc.section.5.1.3">5.1.3.</a> Frame Measurements</h1>
<p id="rfc.section.5.1.3.p.1">Packet Conformance MUST be determined for all test frames on a per frame basis.  The method specified for measuring Latency in <a href="#RFC2544">[RFC2544]</a>, e.g. measuring the latency of a single test frame in a traffic flow, is unsuitable for DCB benchmarking.</p>
<h1 id="rfc.section.5.1.3.1">
<a href="#rfc.section.5.1.3.1">5.1.3.1.</a> Latency Comparisons</h1>
<p id="rfc.section.5.1.3.1.p.1">Multiple methods exist for measuring the time it takes a test frame to be forwarded by a DUT. <a href="#RFC1242">[RFC1242]</a> describes different methods for measuring the latency of "store and forward" and "bit forwarding" devices.  Direct comparisons of results obtained using these different methods are inappropriate. Regardless of DCB device architecture, the only RECOMMENDED method for measuring the time it takes a DUT to forward a test frame is the bit forwarding ("cut-through") method as described in <a href="#RFC1242">[RFC1242]</a>.</p>
<h1 id="rfc.section.5.1.4">
<a href="#rfc.section.5.1.4">5.1.4.</a> <a href="#frame_sizes" id="frame_sizes">Frame Sizes</a>
</h1>
<h1 id="rfc.section.5.1.4.1">
<a href="#rfc.section.5.1.4.1">5.1.4.1.</a> Ethernet</h1>
<p id="rfc.section.5.1.4.1.p.1">The recommended frame sizes for Ethernet testing are 64, 128, 256, 512, 1024, 1280, 1518, 4096, 8192, and 9216 as per <a href="#RFC5180">[RFC5180]</a>.  Note that these frame sizes include the Ethernet CRC and VLAN header.</p>
<h1 id="rfc.section.5.1.4.1.1">
<a href="#rfc.section.5.1.4.1.1">5.1.4.1.1.</a> Fiber Channel over Ethernet</h1>
<p id="rfc.section.5.1.4.1.1.p.1">FCoE test traffic introduces a number of frame size constraints that make the default frame sizes specified in <a href="#RFC5180">[RFC5180]</a> unusable: </p>

<ol>
<li>FCoE frames contain an encapsulated Fiber Channel frame.  Due to the method of encapsulation used, all FCoE frames MUST be a multiple of 4 bytes.  See <a href="#RFC3643">[RFC3643]</a>.</li>
<li>Test tools may need to include a test payload in addition to the encapsulated Fiber Channel frame to meet the requirements specified in <a href="#frame_formats">Section 4.4.1</a>.</li>
<li>The maximum supported frame size for FCoE is 2176 bytes.</li>
</ol>
<p id="rfc.section.5.1.4.1.1.p.2">Due to these constraints, the recommended frame sizes for FCoE testing are 128, 256, 512, 1024, 1280, 1520, 2176, and the smallest FCoE frame size supported by the test tool.  Note that these frame sizes include both the Ethernet CRC and VLAN header.</p>
<h1 id="rfc.section.5.1.5">
<a href="#rfc.section.5.1.5">5.1.5.</a> <a href="#burst_sizes" id="burst_sizes">Burst Sizes</a>
</h1>
<p id="rfc.section.5.1.5.p.1">As per <a href="#RFC2285">[RFC2285]</a>, the burst size specifies the number of test frames in a burst.  To simulate bursty traffic, the test tool MAY send a burst of test traffic with the minimum, legal Inter-Frame Gap (IFG) between frames in the burst followed by a larger Inter-Burst Gap (IBG) between sequential bursts.  Note that burst sizes are only applicable to test traffic when the Offered Load of the test ports is less than the Maximum Offered Load (MOL) of those ports.  Additionally, a burst size of 1 specifies a constant load, e.g. non-bursty traffic.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Benchmarking Tests</h1>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> Pause Response Time</h1>
<h1 id="rfc.section.6.1.1">
<a href="#rfc.section.6.1.1">6.1.1.</a> Objective</h1>
<p id="rfc.section.6.1.1.p.1">To determine the amount of time required for the DUT to respond to priority-based flow control pause frames.</p>
<h1 id="rfc.section.6.1.2">
<a href="#rfc.section.6.1.2">6.1.2.</a> Setup Parameters</h1>
<p id="rfc.section.6.1.2.p.1">The following parameters MUST be defined.  Each variable is configured with the following considerations.  </p>

<ul class="empty">
<li>Each Classification Group MUST be listed.  For each classification group, the following parameters MUST be specified: <ul class="empty">
<li>Codepoint - For DCB tests, the codepoint is the VLAN priority.</li>
<li>Frame Size - The frame size includes both the CRC and VLAN header.  See <a href="#frame_sizes">Section 5.1.4</a> for recommended frame sizes.</li>
<li>Burst Size - The burst size specifies the number of frames transmitted with the minimum legal IFG before pausing.  See <a href="#burst_sizes">Section 5.1.5</a>.</li>
<li>Intended Vector - The intended vector SHOULD specify the intended rate of test traffic specified as a percentage of port load.</li>
<li>Traffic Pattern - The traffic distribution and traffic orientation used for this Classification.</li>
<li>Conformance Vector - The conformance vector is optional, but MUST be defined if used.</li>
</ul>
<p> </p>
</li>
<li>Priority-based Flow Control - PFC  mechanisms MUST be enabled.</li>
<li>Background Traffic - Background traffic MAY be present.</li>
<li>PFC Pause Parameters: <ul class="empty">
<li>Queue(s) - A list of one or more VLAN priorities the test tool should attempt to pause.</li>
<li>Pause Value - The quanta value to use in the XOFF frame(s).</li>
<li>XON Delay - The amount of time to pause the DUT before sending a XON frame.  Note that if the XON Delay is larger than the Pause Value, the test tool MUST send multiple XOFF frames to ensure that the DUT remains paused until the XON frame is transmitted.</li>
</ul>
<p> </p>
</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.1.3">
<a href="#rfc.section.6.1.3">6.1.3.</a> Procedure</h1>
<p id="rfc.section.6.1.3.p.1">The test tool SHOULD generate test traffic for at least 30 seconds before sending any XOFF frame in order for the DUT to reach a steady-state forwarding condition.  The test tool then transmits one or more XOFF frames on one or more ports.  Each XOFF frame SHOULD instruct the DUT to pause one or more of the Classification Groups currently being forwarded by the DUT.  The test tool MAY optionally send a XON frame to instruct the DUT to resume transmission.</p>
<h1 id="rfc.section.6.1.4">
<a href="#rfc.section.6.1.4">6.1.4.</a> Measurements</h1>
<p id="rfc.section.6.1.4.p.1">The following measurements MUST be reported for each test port and codepoint involved in the test.  </p>

<ul class="empty">
<li>Offered Load - the Offered Load from the DUT in N-octet frames per second or bits per second.  Note: The Offered Load from the DUT may be insufficient to accurately measure the DUT's Pause Response Time.  This condition SHOULD be noted in the results.</li>
<li>The total number of PFC frames transmitted to the DUT by the test tool.</li>
<li>The following values SHOULD be reported in either quanta OR seconds: <ul class="empty">
<li>Pause Response Time - The time between the transmit time of the last bit of the pause frame and the receive time of the first bit of the last codepoint matching test frame forwarded by the DUT before the DUT is observed to pause the intended queue.</li>
<li>Intended Pause Time - The total time the test tool instructed the DUT to pause.</li>
<li>Observed Pause Time - The actual time the DUT was observed to pause.</li>
<li>XON Response Time - The time between the transmit time of the last bit of the XON frame and the receive time of the first bit of the first unpaused test packet from the DUT.</li>
</ul>
<p> </p>
</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.1.5">
<a href="#rfc.section.6.1.5">6.1.5.</a> Reporting Format</h1>
<p id="rfc.section.6.1.5.p.1">TBD</p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> Queueput</h1>
<h1 id="rfc.section.6.2.1">
<a href="#rfc.section.6.2.1">6.2.1.</a> Objective</h1>
<p id="rfc.section.6.2.1.p.1">To determine the Queueput for one or more Traffic Classifications of a DUT using priority flow control.</p>
<h1 id="rfc.section.6.2.2">
<a href="#rfc.section.6.2.2">6.2.2.</a> Setup Parameters</h1>
<p id="rfc.section.6.2.2.p.1">The following parameters MUST be defined.  Each variable is configured with the following considerations.  </p>

<ul class="empty">
<li>Each Classification Group MUST be listed.  For each classification group, the following parameters MUST be specified: <ul class="empty">
<li>Codepoint - For DCB tests, the codepoint is the VLAN priority.</li>
<li>Frame Size - The frame size includes both the CRC and VLAN header.  See <a href="#frame_sizes">Section 5.1.4</a> for recommended frame sizes.</li>
<li>Burst Size - The burst size specifies the number of frames transmitted with the minimum legal IFG before pausing.  See <a href="#burst_sizes">Section 5.1.5</a>.</li>
<li>Intended Vector - The intended vector SHOULD specify the intended rate of test traffic specified as a percentage of port load.</li>
<li>Traffic Pattern - The traffic distribution and traffic orientation used for this Classification.</li>
<li>Conformance Vector - The conformance vector is optional, but MUST be defined if used.</li>
</ul>
<p> </p>
</li>
<li>Priority-based Flow Control - PFC  mechanisms MUST be enabled.</li>
<li>Background Traffic - Background traffic MAY be present.</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.2.3">
<a href="#rfc.section.6.2.3">6.2.3.</a> Procedure</h1>
<p id="rfc.section.6.2.3.p.1">A search algorithm is used to determine the Queueput for each Classification Group.  If Queue Congestion is detected for a Classification Group during a trial, then the Intended Vector for the Classification Group MUST be reduced for the subsequent trial.  If a Conformance Vector is specified for the test and Non-conformant frames are received during a trial, then the Intended Vector SHOULD be reduced for the subsequent trial.  The algorithm MUST adjust the Intended Vector for each Classification Group.  The search algorithms for each Classification Group MAY be run in parallel.  The test continues until all Classification Groups in the test have converged on a discrete Queueput value.</p>
<h1 id="rfc.section.6.2.4">
<a href="#rfc.section.6.2.4">6.2.4.</a> Measurements</h1>
<p id="rfc.section.6.2.4.p.1">The Queueput for each Classification MUST be reported in either N-octet frames per second or bits per second.</p>
<p id="rfc.section.6.2.4.p.2">If a Conformance Vector is specified for a Classification Group, any Non-conformant frames MUST be reported.</p>
<p id="rfc.section.6.2.4.p.3">The number of PFC pause frames transmitted by the DUT for each code-point in the Codepoint Set MUST be reported for each test port.</p>
<p id="rfc.section.6.2.4.p.4">The total pause time observed by the tester for each code-point in the Codepoint Set MUST be reported for each test port.</p>
<p id="rfc.section.6.2.4.p.5">Any frame loss observed for test traffic using PFC enabled codepoints MUST be reported.  Any frame loss observed for test traffic using non-PFC enabled codepoints on uncongested egress ports SHOULD be reported, as that indicates the DUT is performing Head of Line Blocking (HOLB).</p>
<h1 id="rfc.section.6.2.5">
<a href="#rfc.section.6.2.5">6.2.5.</a> Reporting Format</h1>
<p id="rfc.section.6.2.5.p.1">TBD</p>
<h1 id="rfc.section.6.3">
<a href="#rfc.section.6.3">6.3.</a> Maximum Forwarding Rate</h1>
<h1 id="rfc.section.6.3.1">
<a href="#rfc.section.6.3.1">6.3.1.</a> Objective</h1>
<p id="rfc.section.6.3.1.p.1">To determine the maximum forwarding rate of one or more PFC queues on a PFC capable DUT.</p>
<h1 id="rfc.section.6.3.2">
<a href="#rfc.section.6.3.2">6.3.2.</a> Setup Parameters</h1>
<p id="rfc.section.6.3.2.p.1">Maximum Forwarding Rate is conceptually similar to the measurement in <a href="#RFC2285">[RFC2285]</a> but works on a per-Classification basis in a DCB context.  The following parameters MUST be defined.  Each variable is configured with the following considerations.  </p>

<ul class="empty">
<li>Each Classification Group MUST be listed.  For each classification group, the following parameters MUST be specified: <ul class="empty">
<li>Codepoint - For DCB tests, the codepoint is the VLAN priority.</li>
<li>Frame Size - The frame size includes both the CRC and VLAN header.  See <a href="#frame_sizes">Section 5.1.4</a> for recommended frame sizes.</li>
<li>Burst Size - The burst size specifies the number of frames transmitted with the minimum legal IFG before pausing.  See <a href="#burst_sizes">Section 5.1.5</a>.</li>
<li>Intended Vector - The intended vector includes the intended rate of test traffic specified as a percentage of port load.</li>
<li>Traffic Pattern - The traffic distribution and traffic orientation used for this Classification.</li>
<li>Conformance Vector - The conformance vector is optional, but MUST be defined if used.</li>
</ul>
<p> </p>
</li>
<li>Priority-based Flow Control - PFC mechanisms SHOULD be disabled.</li>
<li>Background Traffic - Background traffic MAY be present.</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.3.3">
<a href="#rfc.section.6.3.3">6.3.3.</a> Procedure</h1>
<p id="rfc.section.6.3.3.p.1">The tester should iterate across all configured permutations of frame size, burst size, and Intended Vector for all Classification Groups.</p>
<h1 id="rfc.section.6.3.4">
<a href="#rfc.section.6.3.4">6.3.4.</a> Measurements</h1>
<p id="rfc.section.6.3.4.p.1">The forwarding rate of each Classification Group MUST be reported as the number of N-octet test frames per second the DUT correctly forwards to the proper egress port.</p>
<p id="rfc.section.6.3.4.p.2">The maximum forwarding rate for each Classification Group MUST be reported as the highest recorded forwarding rate from the set of all iterations.</p>
<p id="rfc.section.6.3.4.p.3">Both the Intended and Offered Vector of each Classification Group MUST be reported.</p>
<p id="rfc.section.6.3.4.p.4">If a Conformance Vector is specified for a Classification Group, any Non-conformant frames MUST be reported.</p>
<p id="rfc.section.6.3.4.p.5">The number of PFC pause frames transmitted by the DUT for each code-point in the Codepoint Set MUST be reported.</p>
<p id="rfc.section.6.3.4.p.6">The total pause time observed by the tester for each code-point in the Codepoint Set MUST be reported.</p>
<h1 id="rfc.section.6.3.5">
<a href="#rfc.section.6.3.5">6.3.5.</a> Reporting Format</h1>
<p id="rfc.section.6.3.5.p.1">TBD</p>
<h1 id="rfc.section.6.4">
<a href="#rfc.section.6.4">6.4.</a> Back-off</h1>
<h1 id="rfc.section.6.4.1">
<a href="#rfc.section.6.4.1">6.4.1.</a> Objective</h1>
<p id="rfc.section.6.4.1.p.1">To determine the delta between the maximum forwarding rate of a DUT and the point where the DUT ceases to use PFC to manage priority queues.</p>
<h1 id="rfc.section.6.4.2">
<a href="#rfc.section.6.4.2">6.4.2.</a> Setup Parameters</h1>
<p id="rfc.section.6.4.2.p.1">The following parameters MUST be defined.  Each variable is configured with the following considerations.  </p>

<ul class="empty">
<li>Each Classification Group MUST be listed.  For each classification group, the following parameters MUST be specified: <ul class="empty">
<li>Codepoint - For DCB tests, the codepoint is the VLAN priority.</li>
<li>Frame Size - The frame size includes both the CRC and VLAN header.  See <a href="#frame_sizes">Section 5.1.4</a> for recommended frame sizes.</li>
<li>Burst Size - The burst size specifies the number of frames transmitted with the minimum legal IFG before pausing.  See <a href="#burst_sizes">Section 5.1.5</a>.</li>
<li>Intended Vector - The intended vector includes the intended rate of test traffic specified as a percentage of port load.</li>
<li>Traffic Pattern - The traffic distribution and traffic orientation used for this Classification.</li>
<li>Conformance Vector - The conformance vector is optional, but MUST be defined if used.</li>
</ul>
<p> </p>
</li>
<li>Priority-based Flow Control - PFC mechanisms MUST be enabled.</li>
<li>Backoff method - The recommended backoff method is to reduce the aggregate traffic load by a fixed amount while still maintaining a fixed load ratio between all Classification Groups.</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.4.3">
<a href="#rfc.section.6.4.3">6.4.3.</a> Procedure</h1>
<p id="rfc.section.6.4.3.p.1">The initial trial SHOULD begin with an Intended Load equal to or greater than the Maximum Forwarding Rate of the DUT/SUT.  For each subsequent trial, the aggregate load is reduced until the DUT is observed to complete a trial without activating any Congestion Management methods.</p>
<h1 id="rfc.section.6.4.4">
<a href="#rfc.section.6.4.4">6.4.4.</a> Measurements</h1>
<p id="rfc.section.6.4.4.p.1">The Intended and Offered Vector for each Classification Group MUST be reported.</p>
<p id="rfc.section.6.4.4.p.2">If a Conformance Vector is specified for a Classification Group, any Non-conformant frames MUST be reported.</p>
<p id="rfc.section.6.4.4.p.3">The number of PFC pause frames transmitted by the DUT for each code-point in the Codepoint Set MUST be reported.</p>
<p id="rfc.section.6.4.4.p.4">The total pause time observed by the tester for each code-point in the Codepoint Set MUST be reported.</p>
<p id="rfc.section.6.4.4.p.5">Any frame loss observed for test traffic using PFC enabled codepoints MUST be reported.  Any frame loss observed for test traffic using non-PFC enabled codepoints on uncongested egress ports SHOULD be reported, as that indicates the DUT is performing Head of Line Blocking (HOLB).</p>
<h1 id="rfc.section.6.4.5">
<a href="#rfc.section.6.4.5">6.4.5.</a> Reporting Format</h1>
<p id="rfc.section.6.4.5.p.1">TBD</p>
<h1 id="rfc.section.6.5">
<a href="#rfc.section.6.5">6.5.</a> Back-to-Back</h1>
<h1 id="rfc.section.6.5.1">
<a href="#rfc.section.6.5.1">6.5.1.</a> Objective</h1>
<p id="rfc.section.6.5.1.p.1">To determine the maximum duration a DUT can forward test traffic with minimum Inter-Frame Gap on one or more PFC queues without using Congestion Management.</p>
<h1 id="rfc.section.6.5.2">
<a href="#rfc.section.6.5.2">6.5.2.</a> Setup Parameters</h1>
<p id="rfc.section.6.5.2.p.1">The following parameters MUST be defined.  Each variable is configured with the following considerations </p>

<ul class="empty">
<li>Each Classification Group MUST be listed.  For each classification group, the following parameters MUST be specified: <ul class="empty">
<li>Codepoint - For DCB tests, the codepoint is the VLAN priority.</li>
<li>Frame Size - The frame size includes both the CRC and VLAN header.  See <a href="#frame_sizes">Section 5.1.4</a> for recommended frame sizes.</li>
<li>Intended Vector - The intended vector includes the intended rate of test traffic specified as a percentage of port load.</li>
<li>Traffic Pattern - The traffic distribution and traffic orientation used for this Classification.</li>
<li>Conformance Vector - The conformance vector is optional, but MUST be defined if used.</li>
</ul>
<p> </p>
</li>
<li>Priority-based Flow Control - PFC mechanisms MUST be enabled.</li>
<li>The sum of all Intended Vectors on a transmitting port SHOULD equal the Maximum Offered Load (MOL) of that port.</li>
</ul>

<p> </p>
<h1 id="rfc.section.6.5.3">
<a href="#rfc.section.6.5.3">6.5.3.</a> Procedure</h1>
<p id="rfc.section.6.5.3.p.1">A search algorithm is used to determine the maximum duration in seconds for which the configured Classification Profile can be forwarded by the DUT without active Congestion Management.  If Congestion Management is detected during an iteration, then the duration MUST be reduced for the next iteration.</p>
<h1 id="rfc.section.6.5.4">
<a href="#rfc.section.6.5.4">6.5.4.</a> Measurements</h1>
<p id="rfc.section.6.5.4.p.1">The Intended and Offered Vector for each Classification Group MUST be reported.</p>
<p id="rfc.section.6.5.4.p.2">If a Conformance Vector is specified for a Classification Group, any Non-conformant frames MUST be reported.</p>
<p id="rfc.section.6.5.4.p.3">The number of PFC pause frames transmitted by the DUT for each code-point in the Codepoint Set MUST be reported.</p>
<p id="rfc.section.6.5.4.p.4">The total pause time observed by the tester for each code-point in the Codepoint Set MUST be reported.</p>
<p id="rfc.section.6.5.4.p.5">Any frame loss observed for test traffic using PFC enabled codepoints MUST be reported.  Any frame loss observed for test traffic using non-PFC enabled codepoints on uncongested egress ports SHOULD be reported, as that indicates the DUT is performing Head of Line Blocking (HOLB).</p>
<h1 id="rfc.section.6.5.5">
<a href="#rfc.section.6.5.5">6.5.5.</a> Reporting Format</h1>
<p id="rfc.section.6.5.5.p.1">TBD</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#security_considerations" id="security_considerations">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">Benchmarking activities as described in this memo are limited to technology characterization using controlled stimuli in a laboratory environment, with dedicated address space and the constraints specified in the sections above.</p>
<p id="rfc.section.7.p.2">The benchmarking network topology will be an independent test setup and MUST NOT be connected to devices that may forward the test traffic into a production network, or misroute traffic to the test management network.</p>
<p id="rfc.section.7.p.3">Further, benchmarking is performed on a "black-box" basis, relying solely on measurements observable external to the DUT/SUT.</p>
<p id="rfc.section.7.p.4">Special capabilities SHOULD NOT exist in the DUT/SUT specifically for benchmarking purposes.  Any implications for network security arising from the DUT/SUT SHOULD be identical in the lab and in production networks.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> IANA Consdierations</h1>
<p id="rfc.section.8.p.1">Testers SHOULD use network addresses assigned by IANA for the purpose of testing networks.</p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC1242">[RFC1242]</b></td>
<td class="top">
<a href="mailto:SOB@HARVARD.HARVARD.EDU" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc1242">Benchmarking terminology for network interconnection devices</a>", RFC 1242, July 1991.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2544">[RFC2544]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a> and <a href="mailto:mcquaidj@netscout.com" title="NetScout Systems">J. McQuaid</a>, "<a href="http://tools.ietf.org/html/rfc2544">Benchmarking Methodology for Network Interconnect Devices</a>", RFC 2544, March 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2285">[RFC2285]</b></td>
<td class="top">
<a href="mailto:bob.mandeville@eunet.fr" title="European Network Laboratories (ENL)">Mandeville, R.</a>, "<a href="http://tools.ietf.org/html/rfc2285">Benchmarking Terminology for LAN Switching Devices</a>", RFC 2285, February 1998.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2889">[RFC2889]</b></td>
<td class="top">
<a>Mandeville, R.</a> and <a>J. Perser</a>, "<a href="http://tools.ietf.org/html/rfc2889">Benchmarking Methodology for LAN Switching Devices</a>", RFC 2889, August 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3643">[RFC3643]</b></td>
<td class="top">
<a>Weber, R.</a>, <a>Rajagopal, M.</a>, <a>Travostino, F.</a>, <a>O'Donnell, M.</a>, <a>Monia, C.</a> and <a>M. Merhar</a>, "<a href="http://tools.ietf.org/html/rfc3643">Fibre Channel (FC) Frame Encapsulation</a>", RFC 3643, December 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4689">[RFC4689]</b></td>
<td class="top">
<a>Poretsky, S.</a>, <a>Perser, J.</a>, <a>Erramilli, S.</a> and <a>S. Khurana</a>, "<a href="http://tools.ietf.org/html/rfc4689">Terminology for Benchmarking Network-layer Traffic Control Mechanisms</a>", RFC 4689, October 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5180">[RFC5180]</b></td>
<td class="top">
<a>Popoviciu, C.</a>, <a>Hamza, A.</a>, <a>Van de Velde, G.</a> and <a>D. Dugatkin</a>, "<a href="http://tools.ietf.org/html/rfc5180">IPv6 Benchmarking Methodology for Network Interconnect Devices</a>", RFC 5180, May 2008.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Acknowledgements</h1>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Timmons C. Player</span> 
	  <span class="n hidden">
		<span class="family-name">Player</span>
	  </span>
	</span>
	<span class="org vcardline">Spirent Communications</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:timmons.player@spirent.com">timmons.player@spirent.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">David Newman</span> 
	  <span class="n hidden">
		<span class="family-name">Newman</span>
	  </span>
	</span>
	<span class="org vcardline">Network Test</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:dnewman@networktest.com">dnewman@networktest.com</a></span>

  </address>
</div>

</body>
</html>