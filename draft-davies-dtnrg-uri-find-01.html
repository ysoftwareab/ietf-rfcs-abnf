<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Adding the "find" Operation
    to the dtn: URI Scheme</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Adding the &quot;find&quot; Operation
    to the dtn: URI Scheme">
<meta name="keywords" content="Delay Tolerant Networking Research Group, Request for Comments, I-D, IRTF, DTN, URI, EID, Service Naming">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">E. Davies</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Folly Consulting</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">A. Doria</td></tr>
<tr><td class="header">Expires: April 29, 2010</td><td class="header">LTU</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 26, 2009</td></tr>
</table></td></tr></table>
<h1><br />Adding the "find" Operation
    to the dtn: URI Scheme<br />draft-davies-dtnrg-uri-find-01.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 29, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document discusses the addition of a new operation to the
      proposed dtn: URI (Uniform Resource Identifier) scheme. The new "find"
      operation would provide support for DTN (Delay- and Disruption-Tolerant
      Network) anycast services.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Requirements Notation<br />
<a href="#anchor3">3.</a>&nbsp;
Changes to &quot;dtn&quot; Scheme Syntax and Rules<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
Syntax<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
Changes to Resolution of DTN Endpoint IDs<br />
<a href="#anchor6">4.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.1.</a>&nbsp;
Services Delivered by Local Service Agents  <br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.1.1.</a>&nbsp;
dtn:find:mailto:another@example.org,second@example.org<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">4.1.2.</a>&nbsp;
dtn:find:service:printer?printer-color-supported=true<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">4.1.3.</a>&nbsp;
dtn:find:service:fax?destination=+4416324960123<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#httpproxy1">4.1.4.</a>&nbsp;
dtn:find:service:httpproxy:http://example.com/somepage.html?depth=3<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">4.1.5.</a>&nbsp;
dtn:find:service:httpproxy:http:?telephone+number+example, &amp;width=5,&amp;depth=3<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">4.2.</a>&nbsp;
Services Delivered by Forwarding the Bundle Using Alternative Addressing<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">4.2.1.</a>&nbsp;
dtn:find:intent#role(?E,coffee),location(?E,Loc),within(100,(1,3),Loc)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">4.2.2.</a>&nbsp;
dtn:find:assoc:wanderer3.base1.example.dtn<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">4.2.3.</a>&nbsp;
dtn:find:dns:foo.bar.example.net<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ipv4-address">4.2.4.</a>&nbsp;
dtn:find:ipv4:192.0.2.27<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">4.2.5.</a>&nbsp;
dtn:find:ipv6:[2001:db8::27:ef12]<br />
<a href="#anchor17">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor18">6.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor19">7.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This document describes the addition of an extra operation to the
      proposed dtn: URI (Uniform Resource Identifier) scheme documented in
      <a class='info' href='#I-D.irtf-dtnrg-dtn-uri-scheme'>[I&#8209;D.irtf&#8209;dtnrg&#8209;dtn&#8209;uri&#8209;scheme]<span> (</span><span class='info'>Fall, K., Burleigh, S., Doria, A., and J. Ott, &ldquo;The DTN URI Scheme,&rdquo; March&nbsp;2009.</span><span>)</span></a>.
</p>
<p>The purpose of the "find" operation is to allow DTN nodes to access
      services that they do not or cannot support through exchange of DTN
      bundles. In the spirit of DTN operation, nodes expect to be able to
      operate independently and may not know exactly where such a service is
      implemented, but has a reasonable expectation that such a service is
      provided by another node accessible using DTN.
</p>
<p>Apart from the usual concept of services such as requesting printing
      of a bundle payload or accessing a web proxy, the "find" operation can
      also be used to find gateways onto remote networks that use other forms
      of addressing than the Endpoint IDs (EIDs) normally used to identify DTN
      nodes and to route bundles outside the current "association" where the
      bundles was created.
</p>
<p>When a bundle arrives at a DTN node that implements the service
      indicated, the action taken depends on the service requested. In the
      case of gateway services, the bundle will simply be forwarded to the
      bundle agent on the addressed node. For other services, the bundle's
      payload will be passed to the service agent on the node together with
      any parameters derived from the service specification in the destination
      URI.
</p>
<p>In order for the "find" operation to work satisfactorily, the routing
      service, whether static or dynamic, would need to collect and propagate
      information about the "services" offered by the nodes to which it was
      able to route bundles. With the help of this information, the DTN
      routing system could offer a form of "anycast" service that delivered
      appropriately addressed bundles to one or more nodes that offer the
      services requested in the "find" addressing format. Especially in the
      dynamic case, service announcements will need to be propagated in the
      DTN network. The mechanism to be used to provide these announcements
      requires further study. Where services are provided by gateway nodes at
      the edge of the Internet static configuration in some DTN nodes may be
      sufficient.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Requirements Notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Changes to &quot;dtn&quot; Scheme Syntax and Rules</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Syntax</h3>

<p>The general syntax of a dtn URI as defined in <a class='info' href='#I-D.irtf-dtnrg-dtn-uri-scheme'>[I&#8209;D.irtf&#8209;dtnrg&#8209;dtn&#8209;uri&#8209;scheme]<span> (</span><span class='info'>Fall, K., Burleigh, S., Doria, A., and J. Ott, &ldquo;The DTN URI Scheme,&rdquo; March&nbsp;2009.</span><span>)</span></a> is unchanged except for
        the addition of "find" to opname. The revised ABNF <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a> is:
</p>
<p>dtnURI = "dtn:" ("none" / nontrivialSSP)
</p>
<p>where:
</p>
<p>nontrivialSSP = dtnURIelt *("!" dtnURIelt)
</p>
<p>dtnURIelt = [opname] ":" URI ; URI as defined in RFC 3986 [*]
</p>
<p>opname = "push" / "pop" / "next" / "flood" / "exec"/ "find"
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Changes to Resolution of DTN Endpoint IDs</h3>

<p>Section 2.2 of <a class='info' href='#I-D.irtf-dtnrg-dtn-uri-scheme'>[I&#8209;D.irtf&#8209;dtnrg&#8209;dtn&#8209;uri&#8209;scheme]<span> (</span><span class='info'>Fall, K., Burleigh, S., Doria, A., and J. Ott, &ldquo;The DTN URI Scheme,&rdquo; March&nbsp;2009.</span><span>)</span></a>
        contains definitions of the various operations listed under "opname"
        in the ABNF. For the "find" operation the following definition should
        be added after the definition of "exec":
</p>
<p></p>
<blockquote class="text"><dl>
<dt>find:</dt>
<dd>When the operation name is "find", the bundle
            agent SHOULD use information accumulated by the DTN routing system
            in use to forward the bundle towards one or more nodes that are
            able to deliver the requested service or would be better able to
            forward the bundle towards such a node. However, the node MAY
            determine that it is able to deliver the bundle locally to an
            agent that can provide the requested service: in this case the
            operation is equivalent to the "pop" operation. If the node is
            unable to determine a suitable target it MAY drop the
            bundle.<br />
When the bundle is delivered to a
            node that provides the specified service then, depending on the
            service specified, the bundle is either forwarded to the bundle
            agent on a node using an alternative addressing scheme or passed
            to the service agent for the service on the current node.
</dd>
</dl></blockquote>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Examples</h3>

<p>Several examples of the use of the "find" operation are presented
      split between conventional services delivered by a local service agent,
      such as a SMTP mail server, and services that provide access to networks
      using alternative addressing schemes, such as IPv4.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Services Delivered by Local Service Agents  </h3>

<p>In these cases the bundle is passed to a service agent that will
        generally be expected to decapsulate the bundle and use the payload in
        combination with any parameters passed in the service description in
        the dtn: URI to deliver the requested service.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.1"></a><h3>4.1.1.&nbsp;
dtn:find:mailto:another@example.org,second@example.org</h3>

<p>Citing this EID as the destination of a bundle causes the bundle
          to be delivered to a node that provides an (outgoing) email server
          that can forward the payload of the bundle as an email to the
          specified address(es) in the mailto URI or local account(s) to which
          the email can be delivered. In this case the bundle payload is
          expected to contain one or more emails in <a class='info' href='#RFC2822'>[RFC2822]<span> (</span><span class='info'>Resnick, P., &ldquo;Internet Message Format,&rdquo; April&nbsp;2001.</span><span>)</span></a> format.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.2"></a><h3>4.1.2.&nbsp;
dtn:find:service:printer?printer-color-supported=true</h3>

<p>Citing this EID as the destination of a bundle causes the bundle
          to be delivered to a node that provides a printing service. The
          specified attribute requests that a color capable printer be used to
          print the payload carried in the bundle. This example uses the
          service: URI template "printer.2.0.en" <a href='http://www.iana.org/assignments/svrloc-templates/printer.2.0.en'>http://www.iana.org/assignments/svrloc-templates/printer.2.0.en</a>
          that conforms to the specification in <a class='info' href='#RFC2609'>[RFC2609]<span> (</span><span class='info'>Guttman, E., Perkins, C., and J. Kempf, &ldquo;Service Templates and Service: Schemes,&rdquo; June&nbsp;1999.</span><span>)</span></a>.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.3"></a><h3>4.1.3.&nbsp;
dtn:find:service:fax?destination=+4416324960123</h3>

<p>Citing this EID as the destination of a bundle is intended to
          cause the bundle to be delivered to a node that provides a telephone
          facsimile (fax) service. Note that this would require the definition
          of a new service: URI template for a fax delivery service which
          provided the "destination" attribute that would be the telephone
          number called. The payload of the bundle would be sent as a fax to
          the specified destination.
</p>
<a name="httpproxy1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.4"></a><h3>4.1.4.&nbsp;
dtn:find:service:httpproxy:http://example.com/somepage.html?depth=3</h3>

<p>Citing this EID as the destination of a bundle is intended to
          cause the bundle to be delivered to a node that provides a (caching)
          web proxy service. As with the previous example, this proposes the
          use of a yet-to-be created service: URI template for a web proxy
          service that would access the specified URI using the HTTP protocol.
          Typically the HTML in the page returned from the initial request
          would require additional accesses to build up the entire displayed
          page (c.f., the GNU "wget" tool that returns content from web
          servers <a href='http://www.gnu.org/software/wget/'>http://www.gnu.org/software/wget/</a>).
          The "depth" parameter controls the depth of recursion of such
          accesses. The suite of returned HTML documents would be combined
          into a single bundle that would be returned to the requestor. The
          complete service would provide additional parameters to control the
          behavior of the service and possibly cause repeated operation on a
          timed basis.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.5"></a><h3>4.1.5.&nbsp;
dtn:find:service:httpproxy:http:?telephone+number+example, &amp;width=5,&amp;depth=3</h3>

<p>This example is similar to the previous example in <a class='info' href='#httpproxy1'>Section&nbsp;4.1.4<span> (</span><span class='info'>dtn:find:service:httpproxy:http://example.com/somepage.html?depth=3</span><span>)</span></a>, except that the intention is to have
          the service access a suitable web search engine (to be chosen by the
          service provider) to look up information according to the query (in
          this case information about example numbers to be used when
          describing a telephone service) with parameters that control the
          number of returned results (&amp;width parameter) to be examined in
          more detail by accessing the returned URIs recursively to the value
          of the &amp;depth parameter. Again the complete set of results would
          be returned as a single bundle and additional parameters could be
          defined.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Services Delivered by Forwarding the Bundle Using Alternative Addressing</h3>

<p>The examples in this section show how the "find" operation could be
        used to deliver bundles to nodes that implement a bundle agent but
        that are also identified by another form of identifier or locator than
        a "universal" dtn: URI. The means used to deliver the bundle will be
        dependent on the network technology associated with the addressing
        format used.
</p>
<p>In all cases the bundle is forwarded as a bundle rather than being
        decapsulated. At the destination additional parts of the URI will be
        used to demultiplex the bundle to the appropriate application to which
        it is directed as with conventional EID addressing.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.1"></a><h3>4.2.1.&nbsp;
dtn:find:intent#role(?E,coffee),location(?E,Loc),within(100,(1,3),Loc)</h3>

<p>The concept of intentional naming is described in <a class='info' href='#I-D.pbasu-dtnrg-naming'>[I&#8209;D.pbasu&#8209;dtnrg&#8209;naming]<span> (</span><span class='info'>Basu, P., Brown, D., Polit, S., and R. Krishnan, &ldquo;Intentional Naming in DTN,&rdquo; May&nbsp;2009.</span><span>)</span></a>. An example of the naming
          scheme used with the GRAIN (Gradient-Based Algorithm for Intentional
          Naming) algorithm to locate nodes that satisfy the intentional
          naming specification is given at the end of Section 5.5 of the
          Intentional Naming draft. The mechanism needs additional support
          from the dtn: URI scheme to be usable in a DTN network. We suggest
          that the "find" operation could be used in the way illustrated in
          this example to direct bundles to appropriate nodes using an
          intentional naming scheme. We also note that it would also be
          possible to specify the intentional naming mechanism through a
          service: URI service template which would allow it to be used in the
          wider Internet instead of defined a separate "intent" URI scheme
          restricted to DTN.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.2"></a><h3>4.2.2.&nbsp;
dtn:find:assoc:wanderer3.base1.example.dtn</h3>

<p>The basic naming scheme for DTN nodes (EIDs) anticipates that
          names would be globally valid. In order to improve the scaling of
          DTN networks, the concept of "associations" has been discussed. This
          usage of the "find" operation would allow a node to be located via a
          name which was applicable only within a given association. Routing
          would endeavour to locate a node which was a member of the
          association or find a suitable gateway that might have such
          information.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.3"></a><h3>4.2.3.&nbsp;
dtn:find:dns:foo.bar.example.net</h3>

<p>In this case the bundle is destined for a node in the
          IP-addressed Internet that has an entry in the DNS (Domain Name
          System), which can be looked up to provide an IP address where the
          bundle can be delivered. The bundle agent "service" could either be
          accessed through a well-known TCP or UDP port or looked up in a DNS
          service record. The bundle would be delivered using the TCP or
          (possibly) the UDP convergence layer. The bundle agent can use IPv4
          or IPv6 according to what addresses are provided by DNS, the
          capabilities of the local node and a policy choice if both are
          available.
</p>
<a name="ipv4-address"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.4"></a><h3>4.2.4.&nbsp;
dtn:find:ipv4:192.0.2.27</h3>

<p>This example is equivalent to the previous example except that
          "find" needs to locate a gateway that provides IPv4 connectivity
          onto the Internet. The forward DNS lookup is not required but it may
          be necessary to perform a reverse lookup to check that the bundle
          agent service is available and determine the protocol and port to
          use.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2.5"></a><h3>4.2.5.&nbsp;
dtn:find:ipv6:[2001:db8::27:ef12]</h3>

<p>A similar example to <a class='info' href='#ipv4-address'>Section&nbsp;4.2.4<span> (</span><span class='info'>dtn:find:ipv4:192.0.2.27</span><span>)</span></a> but
          using an IPv6 address. The "find" operation needs to locate a
          gateway providing IPv6 connectivity onto the Internet.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>The addition of the "find" operation does not appear to introduce any
      extra security issues beyond the considerable challenges already facing
      DTN security.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>It is intended that the "find" operation will be folded into the dtn:
      URI scheme being defined in <a class='info' href='#I-D.irtf-dtnrg-dtn-uri-scheme'>[I&#8209;D.irtf&#8209;dtnrg&#8209;dtn&#8209;uri&#8209;scheme]<span> (</span><span class='info'>Fall, K., Burleigh, S., Doria, A., and J. Ott, &ldquo;The DTN URI Scheme,&rdquo; March&nbsp;2009.</span><span>)</span></a> which will be registered
      in the URI registry defined in <a class='info' href='#RFC4395'>[RFC4395]<span> (</span><span class='info'>Hansen, T., Hardie, T., and L. Masinter, &ldquo;Guidelines and Registration Procedures for New URI Schemes,&rdquo; February&nbsp;2006.</span><span>)</span></a>.
</p>
<p>The "find" operation expects to use URIs following the service: URI
      scheme (<a class='info' href='#RFC2609'>[RFC2609]<span> (</span><span class='info'>Guttman, E., Perkins, C., and J. Kempf, &ldquo;Service Templates and Service: Schemes,&rdquo; June&nbsp;1999.</span><span>)</span></a>) and possibly other existing
      schemes. It may require the definition of new service templates
      according to the service: URI definition.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.irtf-dtnrg-dtn-uri-scheme">[I-D.irtf-dtnrg-dtn-uri-scheme]</a></td>
<td class="author-text">Fall, K., Burleigh, S., Doria, A., and J. Ott, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-irtf-dtnrg-dtn-uri-scheme-00.txt">The DTN URI Scheme</a>,&rdquo; draft-irtf-dtnrg-dtn-uri-scheme-00 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-irtf-dtnrg-dtn-uri-scheme-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4395">[RFC4395]</a></td>
<td class="author-text">Hansen, T., Hardie, T., and L. Masinter, &ldquo;<a href="http://tools.ietf.org/html/rfc4395">Guidelines and Registration Procedures for New URI Schemes</a>,&rdquo; BCP&nbsp;35, RFC&nbsp;4395, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4395.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text">Crocker, D. and P. Overell, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5234.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.pbasu-dtnrg-naming">[I-D.pbasu-dtnrg-naming]</a></td>
<td class="author-text">Basu, P., Brown, D., Polit, S., and R. Krishnan, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-pbasu-dtnrg-naming-00.txt">Intentional Naming in DTN</a>,&rdquo; draft-pbasu-dtnrg-naming-00 (work in progress), May&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-pbasu-dtnrg-naming-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2609">[RFC2609]</a></td>
<td class="author-text"><a href="mailto:erik.guttman@sun.com">Guttman, E.</a>, <a href="mailto:cperkins@sun.com">Perkins, C.</a>, and <a href="mailto:james.kempf@sun.com">J. Kempf</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2609">Service Templates and Service: Schemes</a>,&rdquo; RFC&nbsp;2609, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2609.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2683">[RFC2683]</a></td>
<td class="author-text"><a href="mailto:leiba@watson.ibm.com">Leiba, B.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2683">IMAP4 Implementation Recommendations</a>,&rdquo; RFC&nbsp;2683, September&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2683.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2822">[RFC2822]</a></td>
<td class="author-text">Resnick, P., &ldquo;<a href="http://tools.ietf.org/html/rfc2822">Internet Message Format</a>,&rdquo; RFC&nbsp;2822, April&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc2822.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Elwyn B. Davies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Folly Consulting</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Soham, Cambs  </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+44 7889 488 335</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:elwynd@dial.pipex.com">elwynd@dial.pipex.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Avri Doria</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">LTU</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Lulea,   971 87</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sweden</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 401 663 5024</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:avri@acm.org">avri@acm.org</a></td></tr>
</table>
</body></html>
