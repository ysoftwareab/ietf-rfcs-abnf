OCTET      = <any 8-bit sequence of data>
CHAR       = <any US-ASCII character (octets 0 - 127)>
UPALPHA    = <any US-ASCII uppercase letter "A".."Z">
LOALPHA    = <any US-ASCII lowercase letter "a".."z">
ALPHA      = UPALPHA | LOALPHA
DIGIT      = <any US-ASCII digit "0".."9">
CTL        = <any US-ASCII control character
                    (octets 0 - 31) and DEL (127)>
CR         = <US-ASCII CR, carriage return (13)>
LF         = <US-ASCII LF, linefeed (10)>
SP         = <US-ASCII SP, space (32)>
HT         = <US-ASCII HT, horizontal-tab (9)>
token      = 1*<any CHAR except CTLs or separators>
phrase     = *<TEXT, excluding CR ,LF>    
       

Query = ProtocolHeader 1*AttributeGroup |
	   ProtocolHeader ProtocolBody

ProtocolHeader =
     NotificationProtocolVersion 
     &ApplicationName
     &ApplicationVersion
     &ServerType
     &RequestType 
     [&RequestTime]
     [&RequestId]

AttributeGroup =
     MailboxGroup |
     MessageGroup |
     CountersGroup | 
     RejectGroup |
     MailboxCapacityGroup | 
     AccountLockGroup

MailboxGroup = 
     &EmailAddress
     [&SubscribrerId]
     [&ServerName] 

MessageGroup =
     &MessageType 
     [&From]
     [&To]
     [&CC] 
     [&Subject] 
     [&MessageSendTime]
     [&MessageRecievedtime]
     [&MessageSize]


CountersGroup =  
     [&nVoiceMessages]
     [&nNewVoiceMessages]
     [&nNewUrgentVoiceMessages]
     [&nFaxMessages]
     [&nNewFaxMessages]
     [&nNewUrgentFaxMessages]
     [&nEmailMessages]
     [&nNewEmailMessages]
     [&nNewUrgentEmailMessages]
   
RejectGroup =   [RejectReason]

MailboxCapacityGroup = 
     [&MailboxCapacity] 
     [&MailboxCapacityThreshold]
     [&MailboxFullStatus]

AccountLockGroup = [AccountLockReason]

ProtocolBody = XMLProlog CR LF NotificationXML CR LF
XMLProlog = "<?xml version = <">"1.1"<">" 
NotificationXML = 
GroupsElement = 1*GroupElement [see 3.2]
GroupElement = <GroupX> 
		  	<AttX1> Value 1 <\AttX1>
				      :
				      :
NotificationProtocolVersion= "NotificationProtocolVersion=" 1*DIGIT "."1*DIGIT 
ApplicationName = "ApplicationName=" token 
ApplicationVersion = "ApplicationVersion=" token 
ServerType = "ServerType=EMAIL"
RequestType = "RequestType="
EmailAddress = "EmailAddress=" addr-spec ; see [RFC-822]                   
mailbox     =  addr-spec                    ; simple address
route-addr  =  "<" [route] addr-spec ">"
route       =  1#("@" domain) ":"           ; path-relative
addr-spec   =  local-part "@" domain        ; global address
local-part  =  word *("." word)             ; uninterpreted
                                                    ; case-preserved
domain      =  sub-domain *("." sub-domain
SubscribrerId = "SubscribrerId=" token        
ServerName = "ServerName=" token        
MessageType = "MessageType=" ("email" | "voice"  | "fax" | "Video" | "number" |
                                  "emptycaptured" | "VoiceFax")
From = "From=" addr-spec 			     ;see [RFC-822] 
To = "To=" addr-spec                             ;see [RFC-822] 
CC = "CC=" addr-spec                             ;see [RFC-822] 
Subject = "Subject=" Token                       ;see [RFC-822] 
   
MM = ("01".."12")
DD = ("01".."31")
YYYY = ("1900".."9999")
H = ("00".."23")
M = ("00".."59")
S = ("00".."59") 
datetime = MM "/" DD "/" YYYY H ":" M":" S 1*WS "GMT" 
   
requestTime = "requestTime=" datetime
MessageSendTime= "MessageSendTime=" datetime 
MessageRecievedtime = "MessageRecievedtime=" datetime 
MessageSize = "MessageSize=" *DIGITS
Body = "Body=" Token
AttachmentNames = "AttachmentNames=" Token 1*[","Token]
nAttachments = "nAttachments=" *DIGITS
MsgPriority = "MsgPriority=" ("Urgent" | "Normal" |"Low")
MsgSensitivity = "MsgSensitivity=" ("Confidential"|"Normal")
MessageId = "MessageId=" token
DeliveryReportMsg = "DeliveryReportMsg=" ("Yes"|"No")
counter = "counter=" ("-1" | *DIGIT)
nVoiceMessages = "nVoiceMessages=" counter
nNewVoiceMessages = "nNewVoiceMessages=" counter
nNewUrgentVoiceMessages= "nNewUrgentVoiceMessages=" counter
nFaxMessages = "nFaxMessages=" counter
nNewFaxMessages = "nNewFaxMessages=" counter
nNewUrgentFaxMessages = "nNewUrgentFaxMessages=" counter
nEmailMessages = "nEmailMessages=" counter
nNewEmailMessages = "nNewEmailMessages=" counter 
nNewUrgentEmailMessages = "nNewUrgentEmailMessages=" counter


pecentage = ("0".."100")
RejectReason = "RejectReason=" phrase
MailboxCapacity = "MailboxCapacity=" percentage
MailboxCapacityThreshold = "MailboxCapacityThreshold=" percentage
MailboxFullStatus = "MailboxFullStatus=" phrase
AccountLockReason = "AccountLockReason=" phrase

Protocol-Version   = "Protocol Name" "/" 1*DIGIT "." 1*DIGIT
 
Status-Code =  "1" 2*DIGIT | "2" 2*DIGIT |"3" 2*DIGIT 
                    |"4" 2*DIGIT |"5" 2*DIGIT 

Reason-Phrase  = *<TEXT, excluding CR ,LF>

Status-Line = Protocol-Version SP Status-Code SP Reason-Phrase CRLF

Request-Id = *<ALPHA | DIGIT>

Request-Id-Line = "REQUEST-ID:" *WS 1*request-id *WS CRLF

Description-Line = *<TEXT, excluding CR ,LF>

Response = 1Status-Line *1Request-Id-Line *1Description-Line

ApplicationName=Applic&ApplicationVersion=1.0&ServerType=Email& \
RequestType=NewMsg&RequestTime=07/31/2000%2012:02:00&RequestId=123456& \
MessageType=Email&MessageId=&EmailAddress=joe@email.com& \
SubscriberId=10000&ServerName=ES1&nMsgs=20& \
nUrgentVoiceMsgs=5&nNormalVoiceMsgs=2&nLowVoiceMsgs=3& \
nNewUrgentFaxMsgs=1&nUrgentBillMsgs=1&MailboxCapacity=70& \
MailboxCapacityThreshold=80&MailboxFullStatus=Not%20Full& \
MessageSendTime=07/31/2000%2012:00:00& \
MessageRecieveTime=07/31/2000%2012:01:00&MessageSize=20000& \
MsgPriority=Urgent&MsgSensitivity=Normal&ReplyRequested=No& \
From=Budd@email.com&To=joe@email.com&Subject=Hello%20Joe
     

