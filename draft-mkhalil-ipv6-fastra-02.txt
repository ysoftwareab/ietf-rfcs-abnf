INTERNET DRAFT
Category: Standards                                 
Title: draft-mkhalil-ipv6-fastra-02.txt             James Kempf
Date: Oct 2002                                      DoCoMo Labs USA 
Expires: March 2003                                 Mohamed M Khalil
                                                    Nortel Networks
                                                    Brett Pentland
                                                    CTIE, Monash University
                                                    


                      IPv6 Fast Router Advertisement
                      draft-mkhalil-ipv6-fastra-02.txt


Status of this Memo

   This document is an individual contribution for consideration by the
   mobile-IP Working Group of the Internet Engineering Task Force.
   Comments should be submitted to the mobile-ip@sunroof.eng.sun.com
   mailing list.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at:

      http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at:

      http://www.ietf.org/shadow.html.


Abstract

   This document specifies an amendment to the router solicitation
   handling procedures in RFC 2461 that allow for improved default 
   router aquisition performance when an active IP host moves from
   one subnet to another.





Kempf, khalil, Pentland   Expires March 2003                [Page 1]


Internet Draft      IPv6 Fast Router Advertisement          Oct 2002


1.0 Introduction

   RFC 2461 [RFC2461] states that a router MUST delay a response to
   a Router Solicitation (RS) by a random time between 0 and
   MAX_RA_DELAY_TIME seconds. The idea behind MAX_RA_DELAY_TIME is
   if there is more than one router on the link, simultaneously 
   transmitted responses will collide if the routers try to answer
   the RS immediately, and, additionally, to avoid congestion when
   a link comes up and all hosts on the link solicit.
  
   The impact of this constraint on the performance of default 
   router aquisition for hosts that move between subnets can be
   severe. Consider a wireless link layer technology in which the
   mobile host gets a trigger from the link layer when the link
   comes up. The host can immediately send out a RS rather than 
   waiting for the periodically multicast Router Advertisement
   (RA), in order to optimize default router aquisition. However,
   if the router abides by RFC 2461, default router aquisition is
   delayed by some random amount, increasing the amount of time
   before the host comes up on the link and can get its traffic.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY" and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.0 Fast Router Advertisement

   To allow for faster response times in the processing of RSs,
   at most one router on any given link SHOULD be allowed to respond
   immediately to RSs sent by hosts on that link. Determination of 
   how this router is designated is outside the scope of this
   document. An RA that is immediately unicast to the sender rather
   than delayed is known as a "fast RA".

3.0 Processing Router Solicitations

   A router that is configured to provide fast RAs MUST maintain a
   counter, FastRACounter, of the fast RAs sent since the last
   unsolicited multicast RA was sent. when an RS is received, an
   RA MUST be sent immediately if:

                FastRACounter <= MAX_FAST_RAS

   where MAX_FAST_RAS is the maximum number of RAs returned before
   rolling over to multicast.

   A router SHOULD choose to unicast the response directly to the 
   soliciting host's address (if the solicitation's source address
   is not the unspecified address), otherwise the router MUST schedule
   a multicast Router Advertisement in accordance with RFC 2461.



Kempf, khalil, Pentland   Expires March 2003                [Page 2]


Internet Draft      IPv6 Fast Router Advertisement          Oct 2002


   When a fast RA is sent, FastRACounter MUST be incremented by one.
   By default, MAX_FAST_RAS is 10, but it SHOULD be configured 
   based on router capacity and expected mobile host solicitation load.

   When FastRACounter exceeds MAX_FAST_RAS, a multicast Router
   Advertisement SHOULD be scheduled for transmission as soon as possible
   subject to the restriction that the interval between multicast Router
   Advertisements not be less than MIN_DELAY_BEWTEEN_RAS. Any further
   Router Solicitations received after FastRACounter exceeds MAX_FAST_RAS
   and before sending the next multicast Router Advertisement MUST be
   discarded. The FastRACounter MUST be reset to zero after the next 
   multicast Router Advertisement is sent and processing for fast Router
   Advertisement recommences.

4.0 Security Considerations

   RFC 2461 contains a possible vulnerability to a DoS attack from a
   host that bombards the router with RSs. Though the exact timing
   of the RA response is variable, the router is still required to
   respond with a unicast RA. As a consequence, a malicious host could
   tie a router up in responding to individually transmitted RSs. This
   document addresses this security vulnerability by limiting the
   upper bound of the Router Advertisement's response rate
   to (MAX_FAST_RAS+1)/MIN_DELAY_BETWEEN_RAS. 


5.0 References

   [RFC 2119] Bradner, S., "Key words for use in RFCs to Indicate
   Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2461] Narten, T., Nordmark, E., and Simpson, W., "Neighbor 
   Discovery for IP Version 6 (IPv6)", RFC 2461, December, 1998.

Acknowledgements

    The authors would like to thank Erik Nordmark for his technical 
    feedback.

Authors' Contact Information

   James Kempf 
   DoCoMo Communications Laboratories USA
   180 Metro Drive
   San Jose, CA
   95110
   Phone: +1 650 451 4711
   Email: kempf@docomolabs-usa.com

   Mohamed M Khalil     
   Nortel Networks Inc.
   2201 Lakeside Blvd  
   Richardson, TX 75082-4399 
   mkhalil@nortelnetworks.com

   Brett Pentland
   Centre for Telecommunications and Information Engineering
   PO Box 35
   Monash University 3800
   Australia
   Phone: +61 3 9905 5245
   Email: brett.pentland@eng.monash.edu.au

Kempf, khalil, Pentland   Expires November 2002            [Page 3]



