



Networking Working Group                                L. Ginsberg, Ed.
Internet-Draft                                       Cisco Systems, Inc.
Intended status: Standards Track                              S. Previdi
Expires: June 23, 2019                                             Q. Wu
                                                                  Huawei
                                                             J. Tantsura
                                                            Apstra, Inc.
                                                             C. Filsfils
                                                     Cisco Systems, Inc.
                                                       December 20, 2018


   BGP-LS Advertisement of IGP Traffic Engineering Performance Metric
                               Extensions
                      draft-ietf-idr-te-pm-bgp-18

Abstract

   This document defines new BGP-LS TLVs in order to carry the IGP
   Traffic Engineering Metric Extensions defined in the IS-IS and OSPF
   protocols.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on June 23, 2019.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Ginsberg, et al.          Expires June 23, 2019                 [Page 1]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Link Attribute TLVs for TE Metric Extensions  . . . . . . . .   2
     2.1.  Unidirectional Link Delay TLV . . . . . . . . . . . . . .   3
     2.2.  Min/Max Unidirectional Link Delay TLV . . . . . . . . . .   4
     2.3.  Unidirectional Delay Variation TLV  . . . . . . . . . . .   4
     2.4.  Unidirectional Link Loss TLV  . . . . . . . . . . . . . .   5
     2.5.  Unidirectional Residual Bandwidth TLV . . . . . . . . . .   5
     2.6.  Unidirectional Available Bandwidth TLV  . . . . . . . . .   6
     2.7.  Unidirectional Utilized Bandwidth TLV . . . . . . . . . .   6
     2.8.  Mappings to IGP Source sub-TLVs . . . . . . . . . . . . .   7
   3.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
   5.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .   8
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   9
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   BGP-LS ([RFC7752]) defines NLRI and attributes in order to carry
   link-state information.  New BGP-LS Link-Attribute TLVs are required
   in order to carry the Traffic Engineering Metric Extensions defined
   in [I-D.ietf-lsr-isis-rfc7810bis] and [RFC7471].

2.  Link Attribute TLVs for TE Metric Extensions

   The following new Link Attribute TLVs are defined:














Ginsberg, et al.          Expires June 23, 2019                 [Page 2]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


    TLV code-point                 Value
   --------------------------------------------------------
    1114              Unidirectional Link Delay

    1115              Min/Max Unidirectional Link Delay

    1116              Unidirectional Delay Variation

    1117              Unidirectional Link Loss

    1118              Unidirectional Residual Bandwidth

    1119              Unidirectional Available Bandwidth

    1120              Unidirectional Utilized Bandwidth


   TLV formats are described in detail in the following sub-sections.
   TLV formats follow the rules defined in [RFC7752].

2.1.  Unidirectional Link Delay TLV

   This TLV advertises the average link delay between two directly
   connected IGP link-state neighbors.  The semantics of the value field
   in the TLV are described in [I-D.ietf-lsr-isis-rfc7810bis] and
   [RFC7471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type                        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |A|  RESERVED   |                   Delay                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 1

   where:

   Type: 1114

   Length: 4.








Ginsberg, et al.          Expires June 23, 2019                 [Page 3]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


2.2.  Min/Max Unidirectional Link Delay TLV

   This sub-TLV advertises the minimum and maximum delay values between
   two directly connected IGP link-state neighbors.  The semantics of
   the value field in the TLV are described in
   [I-D.ietf-lsr-isis-rfc7810bis] and [RFC7471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type                        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |A| RESERVED    |                   Min Delay                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   RESERVED    |                   Max Delay                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 2

   where:

   Type: 1115

   Length: 8.

2.3.  Unidirectional Delay Variation TLV

   This sub-TLV advertises the average link delay variation between two
   directly connected IGP link-state neighbors.  The semantics of the
   value field in the TLV are described in
   [I-D.ietf-lsr-isis-rfc7810bis] and [RFC7471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type                        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  RESERVED     |               Delay Variation                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 3

   where:

   Type: 1116




Ginsberg, et al.          Expires June 23, 2019                 [Page 4]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


   Length: 4.

2.4.  Unidirectional Link Loss TLV

   This sub-TLV advertises the loss (as a packet percentage) between two
   directly connected IGP link-state neighbors.  The semantics of the
   value field in the TLV are described in
   [I-D.ietf-lsr-isis-rfc7810bis] and [RFC7471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type                        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |A|  RESERVED   |                  Link Loss                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 4

   where:

   Type:1117

   Length: 4.

2.5.  Unidirectional Residual Bandwidth TLV

   This sub-TLV advertises the residual bandwidth between two directly
   connected IGP link-state neighbors.  The semantics of the value field
   in the TLV are described in [I-D.ietf-lsr-isis-rfc7810bis] and
   [RFC7471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type                        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Residual Bandwidth                   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 5

   where:

   Type: 1118




Ginsberg, et al.          Expires June 23, 2019                 [Page 5]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


   Length: 4.

2.6.  Unidirectional Available Bandwidth TLV

   This sub-TLV advertises the available bandwidth between two directly
   connected IGP link-state neighbors.  The semantics of the value field
   in the TLV are described in [I-D.ietf-lsr-isis-rfc7810bis] and
   [RFC7471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type                        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Available Bandwidth                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 6

   where:

   Type: 1119

   Length: 4.

2.7.  Unidirectional Utilized Bandwidth TLV

   This sub-TLV advertises the bandwidth utilization between two
   directly connected IGP link-state neighbors.  The semantics of the
   value field in the TLV are described in
   [I-D.ietf-lsr-isis-rfc7810bis] and [RFC7471].

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Type                        |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Utilized Bandwidth                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                                 Figure 7

   where:

   Type: 1120




Ginsberg, et al.          Expires June 23, 2019                 [Page 6]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


   Length: 4.

2.8.  Mappings to IGP Source sub-TLVs

   This section documents the mappings between the Link Attribute TLVs
   defined in this document and the corresponding advertisements sourced
   by the IGPs.

   For OSPFv2 and OSPFv3 the advertisements are defined in [RFC7471] .
   For IS-IS the advertisements are defined in
   [I-D.ietf-lsr-isis-rfc7810bis] .

   +---------------------------------------+----------+----------------+
   | Attribute Name                        |  IS-IS   | OSPFv2/OSPFv3  |
   |                                       | sub-TLV  |   sub-TLV      |
   +---------------------------------------+----------+----------------+
   | Unidirectional Link Delay             |   33     |     27         |
   +---------------------------------------+----------+----------------+
   | Min/Max Unidirectional Link Delay     |   34     |     28         |
   +---------------------------------------+----------+----------------+
   | Unidirectional Delay Variation        |   35     |     29         |
   +---------------------------------------+----------+----------------+
   | Unidirectional Link Loss              |   36     |     30         |
   +---------------------------------------+----------+----------------+
   | Unidirectional Residual Bandwidth     |   37     |     31         |
   +---------------------------------------+----------+----------------+
   | Unidirectional Available Bandwidth    |   38     |     32         |
   +---------------------------------------+----------+----------------+
   | Unidirectional Utilized Bandwidth     |   39     |     33         |
   +---------------------------------------+----------+----------------+



                                 Figure 8

3.  Security Considerations

   Procedures and protocol extensions defined in this document do not
   affect the BGP security model.  See the 'Security Considerations'
   section of [RFC4271] for a discussion of BGP security.  Also refer to
   [RFC4272] and [RFC6952] for analysis of security issues for BGP.
   Security considerations for acquiring and distributing BGP-LS
   information are discussed in [RFC7752].

   The TLVs introduced in this document are used to propagate IGP
   defined information ([I-D.ietf-lsr-isis-rfc7810bis] and [RFC7471].)
   These TLVs represent the state and resource availability of the IGP
   link.  The IGP instances originating these TLVs are assumed to



Ginsberg, et al.          Expires June 23, 2019                 [Page 7]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


   support all the required security and authentication mechanisms (as
   described in [I-D.ietf-lsr-isis-rfc7810bis] and [RFC7471]) in order
   to prevent any security issue when propagating the TLVs into BGP-LS.
   The advertisement of the link attribute information defined in this
   document presents no additional risk beyond that associated with the
   existing set of link attribute information already supported in
   [RFC7752].

4.  IANA Considerations

   IANA has made temporary assignments in the registry "BGP-LS Node
   Descriptor, Link Descriptor, Prefix Descriptor, and Attribute TLVs"
   for the new Link Attribute TLVs defined in the table below:

    TLV code-point                 Value
   --------------------------------------------------------
    1114              Unidirectional Link Delay

    1115              Min/Max Unidirectional Link Delay

    1116              Unidirectional Delay Variation

    1117              Unidirectional Link Loss

    1118              Unidirectional Residual Bandwidth

    1119              Unidirectional Available Bandwidth

    1120              Unidirectional Utilized Bandwidth


5.  Contributors

   The following people have substantially contributed to this document
   and should be considered co-authors:

   Saikat Ray
   Individual
   Email: raysaikat@gmail.com

   Hannes Gredler
   RtBrick Inc.
   Email: hannes@rtbrick.com








Ginsberg, et al.          Expires June 23, 2019                 [Page 8]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


6.  Acknowledgements

   The authors wish to acknowledge comments from Ketan Talaulikar.

7.  References

7.1.  Normative References

   [I-D.ietf-lsr-isis-rfc7810bis]
              Ginsberg, L., Previdi, S., Giacalone, S., Ward, D., Drake,
              J., and Q. Wu, "IS-IS Traffic Engineering (TE) Metric
              Extensions", draft-ietf-lsr-isis-rfc7810bis-04 (work in
              progress), December 2018.

   [RFC7471]  Giacalone, S., Ward, D., Drake, J., Atlas, A., and S.
              Previdi, "OSPF Traffic Engineering (TE) Metric
              Extensions", RFC 7471, DOI 10.17487/RFC7471, March 2015,
              <https://www.rfc-editor.org/info/rfc7471>.

   [RFC7752]  Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and
              S. Ray, "North-Bound Distribution of Link-State and
              Traffic Engineering (TE) Information Using BGP", RFC 7752,
              DOI 10.17487/RFC7752, March 2016,
              <https://www.rfc-editor.org/info/rfc7752>.

7.2.  Informative References

   [RFC4271]  Rekhter, Y., Ed., Li, T., Ed., and S. Hares, Ed., "A
              Border Gateway Protocol 4 (BGP-4)", RFC 4271,
              DOI 10.17487/RFC4271, January 2006,
              <https://www.rfc-editor.org/info/rfc4271>.

   [RFC4272]  Murphy, S., "BGP Security Vulnerabilities Analysis",
              RFC 4272, DOI 10.17487/RFC4272, January 2006,
              <https://www.rfc-editor.org/info/rfc4272>.

   [RFC6952]  Jethanandani, M., Patel, K., and L. Zheng, "Analysis of
              BGP, LDP, PCEP, and MSDP Issues According to the Keying
              and Authentication for Routing Protocols (KARP) Design
              Guide", RFC 6952, DOI 10.17487/RFC6952, May 2013,
              <https://www.rfc-editor.org/info/rfc6952>.

Authors' Addresses








Ginsberg, et al.          Expires June 23, 2019                 [Page 9]

Internet-Draft BGP-LS Advertisement of Performance Metric  December 2018


   Les Ginsberg (editor)
   Cisco Systems, Inc.
   US

   Email: ginsberg@cisco.com


   Stefano Previdi
   Huawei
   IT

   Email: stefano@previdi.net


   Qin Wu
   Huawei
   101 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: bill.wu@huawei.com


   Jeff Tantsura
   Apstra, Inc.
   US

   Email: jefftant.ietf@gmail.com


   Clarence Filsfils
   Cisco Systems, Inc.
   Brussels
   BE

   Email: cfilsfil@cisco.com















Ginsberg, et al.          Expires June 23, 2019                [Page 10]
