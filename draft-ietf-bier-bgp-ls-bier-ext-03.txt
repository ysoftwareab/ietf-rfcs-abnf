



Networking Working Group                                       Ran. Chen
Internet-Draft                                              Zheng. Zhang
Intended status: Standards Track                         ZTE Corporation
Expires: March 3, 2019                                 Vengada. Govindan
                                                      IJsbrand. Wijnands
                                                                   Cisco
                                                         August 30, 2018


                   BGP Link-State extensions for BIER
                   draft-ietf-bier-bgp-ls-bier-ext-03

Abstract

   Bit Index Explicit Replication (BIER) is an architecture that
   provides optimal multicast forwarding through a "BIER domain" without
   requiring intermediate routers to maintain any multicast related per-
   flow state.  BIER also does not require any explicit tree-building
   protocol for its operation.  A multicast data packet enters a BIER
   domain at a "Bit-Forwarding Ingress Router" (BFIR), and leaves the
   BIER domain at one or more "Bit-Forwarding Egress Routers" (BFERs).
   The BFIR router adds a BIER header to the packet.  The BIER header
   contains a bitstring in which each bit represents exactly one BFER to
   forward the packet to.  The set of BFERs to which the multicast
   packet needs to be forwarded is expressed by setting the bits that
   correspond to those routers in the BIER header.

   This document specifies extensions to the BGP Link-state address-
   family in order to advertising BIER information.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 3, 2019.





Chen, et al.              Expires March 3, 2019                 [Page 1]

Internet-Draft         BGP-LS extensions for BIER            August 2018


Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  BGP-LS Extensions for BIER  . . . . . . . . . . . . . . . . .   3
     3.1.  The BIER TLV  . . . . . . . . . . . . . . . . . . . . . .   3
       3.1.1.  The BIER MPLS Encapsulation Sub-TLV . . . . . . . . .   4
     3.2.  The BIER-TE TLV . . . . . . . . . . . . . . . . . . . . .   5
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   6
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   6
   7.  Normative references  . . . . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   Bit Index Explicit Replication (BIER) is an architecture that
   provides optimal multicast forwarding through a "BIER domain" without
   requiring intermediate routers to maintain any multicast related per-
   flow state.  BIER also does not require any explicit tree-building
   protocol for its operation.  A multicast data packet enters a BIER
   domain at a "Bit-Forwarding Ingress Router" (BFIR), and leaves the
   BIER domain at one or more "Bit-Forwarding Egress Routers" (BFERs).
   The BFIR router adds a BIER header to the packet.  The BIER header
   contains a bitstring in which each bit represents exactly one BFER to
   forward the packet to.  The set of BFERs to which the multicast
   packet needs to be forwarded is expressed by setting the bits that
   correspond to those routers in the BIER header.

   This document specifies extensions to the BGP Link-state address-
   family in order to advertising BIER-specific.  An external component
   (e.g., a controller) then can collect BIER information in the
   "northbound" direction within the BIER domain.



Chen, et al.              Expires March 3, 2019                 [Page 2]

Internet-Draft         BGP-LS extensions for BIER            August 2018


2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119.

3.  BGP-LS Extensions for BIER

   Each BFR MUST be assigned a "BFR-Prefix".  A BFR's BFR-Prefix MUST be
   an IP address (either IPv4 or IPv6) of the BFR, and MUST be unique
   and routable within the BIER domain as described in section 2 of
   [I-D.ietf-bier-architecture], and then external component (e.g., a
   controller) need to collect BIER information of BIER routers are
   associated with the BFR-Prefix in the "northbound" direction within
   the BIER domain.

   Given that the BIER information is associated with the prefix, the
   BGP-LS Prefix Attribute TLV [I-D.ietf-idr-ls-distribution] can be
   used to carry the BIER information.  A new Prefix Attribute TLV and
   Sub-TLV are defined for the encoding of BIER information.

3.1.  The BIER TLV

   A new Prefix Attribute TLV (defined in [I-D.ietf-idr-ls-distribution]
   is defined for distributing BIER information.  The new TLV is called
   the BIER TLV.  The BIER TLVs may appear multiple times.

   The following BIER TLV is defined:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |            Length             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   reserved    |  subdomain-id |     MT-ID     |      BSL      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            BFR-id             |       reserved                |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                      Sub-TLVs (variable)                      |
      +-                                                             -+
      |                                                               |


                                 Figure 1

   Type:as indicated in IANA Considerations section.




Chen, et al.              Expires March 3, 2019                 [Page 3]

Internet-Draft         BGP-LS extensions for BIER            August 2018


   Length: 2 octet.

   Reserved: MUST be 0 on transmission, ignored on reception.  May be
   used in future versions.

   Subdomain-id: Unique value identifying the BIER sub-domain, 1 octet.

   MT-ID: Multi-Topology ID that identifies the topology that is
   associated with the BIER sub-domain.1 octet.

   BitString Length (BS Len): A 1 octet field encoding the supported
   BitString length associated with this BFR-prefix.This field are
   specified in section 3 of [I-D.ietf-bier-mpls-encapsulation].Given
   that the bier router can support BSL values set, this field encoding
   the BSL values set that BIER routers supported.

   BFR-id: A 2 octet field encoding the BFR-id, as documented in
   [I-D.ietf-bier-architecture].  If the BFR-id is zero, it means, the
   advertising router is not advertising any BIER-id.In some
   environment, BFR-id can be configured by NMS, The BFR-id should be
   sent to a controller.

   If multiple BIER Sub-TLVs are present, all having the same BS Length
   and Subdomain-id values, first one MUST be used and subsequent ones
   MUST be ignored.

3.1.1.  The BIER MPLS Encapsulation Sub-TLV

   The BIER MPLS Encapsulation Sub-TLV is a sub-TLV of the BIER TLV.
   BIER MPLS Encapsulation Sub-TLV is used in order to advertise MPLS
   specific information used for BIER.  It MUST appear multiple times in
   the BIER TLV as described in [I-D.ietf-bier-ospf-bier-extensions]

   In some environment, each router allocates its labels, and advertises
   it to the controller.That solution is simpler as the controller does
   not need to deal with label allocation.  If the controller has to
   deal with Label allocation , there needs to be a (global) range
   carved out such there are no conflicts.  We can avoid all that by
   having the router allocate the BIER Label range and advertise it to
   the controller.

   The following the BIER MPLS Encapsulation Sub-TLV is defined:









Chen, et al.              Expires March 3, 2019                 [Page 4]

Internet-Draft         BGP-LS extensions for BIER            August 2018


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |            Type               |                Length         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |Lbl Range Size |            Label Range Base                   |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |   BS Length   |                  Reserved                     |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                                 Figure 2

   Type: as indicated in IANA Considerations section.

   Length: 2 octet.

   Label Range Size: A 1 octet field encoding the label range size of
   the label range.  It MUST be greater than 0, otherwise the TLV MUST
   be ignored.

   Label Range Base: A 3 octet field, where the 20 rightmost bits
   represent the first label in the label range.

   BS Length: Bitstring length for the label range that this router is
   advertising per [I-D.ietf-bier-mpls-encapsulation]. 1 octet.The
   values allowed in this field are specified in section 3 of
   [I-D.ietf-bier-mpls-encapsulation].

   The "label range" is the set of labels beginning with the label range
   base and ending with (label range base)+(label range size)-1.  A
   unique label range is allocated for each BitStream length and Sub-
   domain-ID.  These label is used for BIER forwarding as described in
   [I-D.ietf-bier-architecture] and
   [I-D.ietf-bier-mpls-encapsulation].Label ranges within the sub-TLV
   MUST NOT overlap, otherwise the whole sub-TLV MUST be disregarded

   BS length in multiple BIER MPLS Encapsulation Sub-TLV inside the same
   BIER Sub-TLV MUST NOT repeat, otherwise only the first BIER MPLS
   Encapsulation Sub-TLV with such BS length MUST be used and any
   subsequent BIER MPLS Encapsulation Sub-TLVs with the same BS length
   MUST be ignored.

3.2.  The BIER-TE TLV

   This TLV is used to collect BIER-TE information in the "northbound"
   direction within the BIER-TE domain.

   The section will be added in next version.



Chen, et al.              Expires March 3, 2019                 [Page 5]

Internet-Draft         BGP-LS extensions for BIER            August 2018


4.  IANA Considerations

   This document requests assigning code-points from the registry for
   the new Prefix Attribute TLV and Sub-TLV.


           +-------------------+---------------+-----------------+
           |   TLV Code Point  |  Description  | Value defined   |
           +-------------------+---------------+-----------------+
           | 1158( recommend ) |  BIER         | this document   |
           +-------------------+---------------+-----------------+


                   Table 1: The new Prefix Attribute TLV


   +-----------------+-------------------------------+-----------------+
   | Sub-TLV         |       Description             |   Value         |
   | Code Point      |                               |                 |
   +-----------------+-------------------------------+-----------------+
   |  1 ( recommend) |  BIER MPLS Encapsulation      | this document   |
   +------------+-------------------------------+----------------------+


                 Table 2: The new Prefix Attribute Sub-TLV

5.  Security Considerations

   Procedures and protocol extensions defined in this document do not
   affect the BGP security model.  See [RFC6952] for details.

6.  Acknowledgements

   We would like to thank Peter Psenak (Cisco) for his comments and
   support of this work.

7.  Normative references

   [I-D.ietf-bier-architecture]
              Wijnands, I., Rosen, E., Dolganow, A., Przygienda, T., and
              S. Aldrin, "Multicast using Bit Index Explicit
              Replication", draft-ietf-bier-architecture-08 (work in
              progress), September 2017.

   [I-D.ietf-bier-isis-extensions]
              Ginsberg, L., Przygienda, T., Aldrin, S., and Z. Zhang,
              "BIER support via ISIS", draft-ietf-bier-isis-
              extensions-11 (work in progress), March 2018.



Chen, et al.              Expires March 3, 2019                 [Page 6]

Internet-Draft         BGP-LS extensions for BIER            August 2018


   [I-D.ietf-bier-mpls-encapsulation]
              Wijnands, I., Rosen, E., Dolganow, A., Tantsura, J.,
              Aldrin, S., and I. Meilik, "Encapsulation for Bit Index
              Explicit Replication in MPLS and non-MPLS Networks",
              draft-ietf-bier-mpls-encapsulation-12 (work in progress),
              October 2017.

   [I-D.ietf-bier-ospf-bier-extensions]
              Psenak, P., Kumar, N., Wijnands, I., Dolganow, A.,
              Przygienda, T., Zhang, Z., and S. Aldrin, "OSPFv2
              Extensions for BIER", draft-ietf-bier-ospf-bier-
              extensions-18 (work in progress), June 2018.

   [I-D.ietf-idr-ls-distribution]
              Gredler, H., Medved, J., Previdi, S., Farrel, A., and S.
              Ray, "North-Bound Distribution of Link-State and TE
              Information using BGP", draft-ietf-idr-ls-distribution-13
              (work in progress), October 2015.

   [RFC3630]  Katz, D., Kompella, K., and D. Yeung, "Traffic Engineering
              (TE) Extensions to OSPF Version 2", RFC 3630,
              DOI 10.17487/RFC3630, September 2003,
              <https://www.rfc-editor.org/info/rfc3630>.

   [RFC6952]  Jethanandani, M., Patel, K., and L. Zheng, "Analysis of
              BGP, LDP, PCEP, and MSDP Issues According to the Keying
              and Authentication for Routing Protocols (KARP) Design
              Guide", RFC 6952, DOI 10.17487/RFC6952, May 2013,
              <https://www.rfc-editor.org/info/rfc6952>.

Authors' Addresses

   Ran Chen
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Phone: +86 025 88014636
   Email: chen.ran@zte.com.cn











Chen, et al.              Expires March 3, 2019                 [Page 7]

Internet-Draft         BGP-LS extensions for BIER            August 2018


   Zheng Zhang
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Email: zhang.zheng@zte.com.cn


   Vengada Prasad Govindan
   Cisco

   Email: venggovi@cisco.com


   IJsbrand Wijnands
   Cisco
   De Kleetlaan 6a
   Diegem 1831
   Belgium

   Email: ice@cisco.com





























Chen, et al.              Expires March 3, 2019                 [Page 8]
