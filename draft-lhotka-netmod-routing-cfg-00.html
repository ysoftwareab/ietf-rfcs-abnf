<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>A YANG Data Model for Routing Configuration</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology and Notation">
<link href="#rfc.section.3" rel="Chapter" title="3 Objectives">
<link href="#rfc.section.4" rel="Chapter" title="4 Design of the Routing Data Model">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 Route">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 Routing Tables">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 Routing Protocol Instances">
<link href="#rfc.section.4.3.1" rel="Chapter" title="4.3.1 Defining New Routing Protocols">
<link href="#rfc.section.4.4" rel="Chapter" title="4.4 Route Pipes">
<link href="#rfc.section.4.5" rel="Chapter" title="4.5 Route Filters">
<link href="#rfc.section.5" rel="Chapter" title="5 Core Routing YANG Module">
<link href="#rfc.section.6" rel="Chapter" title="6 IANA Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 Acknowledgments">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.references.1" rel="Chapter" title="9.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="9.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Example Module for Routing Information Protocol">
<link href="#rfc.appendix.Appendix%20A.1" rel="Chapter" title="Appendix A.1 Example YANG Module for Routing Information                     Protocol">
<link href="#rfc.appendix.Appendix%20A.2" rel="Chapter" title="Appendix A.2 Sample Reply to the NETCONF &lt;get&gt; Message">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document contains a specification of a core YANG data model for IP routing configuration. It is expected that this module will serve as a basis for further development of data models for individual routing protocols and other related functions. The present data model defines the building blocks for such configurations - routes and routing tables, routing protocol instances, route filters and route pipes." />
  <meta name="description" content="This document contains a specification of a core YANG data model for IP routing configuration. It is expected that this module will serve as a basis for further development of data models for individual routing protocols and other related functions. The present data model defines the building blocks for such configurations - routes and routing tables, routing protocol instances, route filters and route pipes." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">NETMOD</td>
<td class="right">L. Lhotka</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">CESNET</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">March 03, 2011</td>
</tr>
<tr>
<td class="left">Expires: September 04, 2011</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">A YANG Data Model for Routing Configuration<br />
  <span class="filename">draft-lhotka-netmod-routing-cfg-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document contains a specification of a core YANG data model for IP routing configuration. It is expected that this module will serve as a basis for further development of data models for individual routing protocols and other related functions. The present data model defines the building blocks for such configurations - routes and routing tables, routing protocol instances, route filters and route pipes.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on September 04, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology and Notation</a>
</li>
<li>3.   <a href="#rfc.section.3">Objectives</a>
</li>
<li>4.   <a href="#rfc.section.4">Design of the Routing Data Model</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">Route</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">Routing Tables</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">Routing Protocol Instances</a>
</li>
<li>4.3.1.   <a href="#rfc.section.4.3.1">Defining New Routing Protocols</a>
</li>
<li>4.4.   <a href="#rfc.section.4.4">Route Pipes</a>
</li>
<li>4.5.   <a href="#rfc.section.4.5">Route Filters</a>
</li>
<li>5.   <a href="#rfc.section.5">Core Routing YANG Module</a>
</li>
<li>6.   <a href="#rfc.section.6">IANA Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">Acknowledgments</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li>9.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>9.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Example Module for Routing Information Protocol</a>
</li>
<li>Appendix A.1.   <a href="#rfc.appendix.Appendix%20A.1">Example YANG Module for Routing Information                     Protocol</a>
</li>
<li>Appendix A.2.   <a href="#rfc.appendix.Appendix%20A.2">Sample Reply to the NETCONF &lt;get&gt; Message</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#sec.introduction" id="sec.introduction">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">The NETCONF Data Modeling Language (NETMOD) Working Group has completed the essential specifications for the YANG data modeling language <a href="#RFC6020">[RFC6020]</a>, common data types <a href="#RFC6021">[RFC6021]</a>, and the corresponding data modeling environment and tools <a href="#RFC6087">[RFC6087]</a>, <a href="#RFC6110">[RFC6110]</a>. The new NETMOD WG charter puts emphasis on the development of a set of core YANG data models for the following subsystems: <a href="#it.ifmodel">[it.ifmodel]</a>) was already published <a href="#YANG-IF">[YANG-IF]</a>.</p>

<ol>
<li>core system data model,</li>
<li>core interface data model,</li>
<li>core routing data model.</li>
</ol>

<p> The initial version of the core interface data model (item </p>
<p id="rfc.section.1.p.2">This document contains an initial specification for item <a href="#it.rout">[it.rout]</a>, namely the "ietf-routing" YANG module representing the core routing data model. While the module can be directly used for simple devices with static routing, its main purpose is to provide basic building blocks for more complicated setups involving multiple routing protocols and advanced functions, such as route filtering and policy routing. To this end, it is expected that this module will be augmented by numerous modules developed by other IETF working groups.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#term-not" id="term-not">Terminology and Notation</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<p id="rfc.section.2.p.2">The following terms are defined in <a href="#RFC4741">[RFC4741]</a>: </p>

<ul>
<li>client</li>
<li>datastore</li>
<li>message</li>
<li>operation</li>
<li>server</li>
</ul>
<p id="rfc.section.2.p.3">The following terms are defined in <a href="#RFC6020">[RFC6020]</a>: </p>

<ul>
<li>augment</li>
<li>configuration data</li>
<li>container</li>
<li>data model</li>
<li>data node</li>
<li>data tree</li>
<li>data type</li>
<li>feature</li>
<li>grouping</li>
<li>identity</li>
<li>instance identifier</li>
<li>leaf-list</li>
<li>list</li>
<li>mandatory node</li>
<li>module</li>
<li>operational state data</li>
<li>RPC operation</li>
<li>submodule</li>
</ul>
<p id="rfc.section.2.p.4">The following terms are defined in <a href="#XML-INFOSET">[XML-INFOSET]</a>: </p>

<ul>
<li>attribute</li>
<li>document</li>
<li>document element</li>
<li>element</li>
<li>information set</li>
<li>namespace</li>
</ul>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#sec.objectives" id="sec.objectives">Objectives</a>
</h1>
<p id="rfc.section.3.p.1">The initial design of the core routing data model was driven by the following main objectives: </p>

<ul>
<li>The data model should be suitable for the common address families, in particular IPv4 and IPv6.</li>
<li>Simple routing setups, such as static routing, should be configurable in a simple way, ideally without any need to define additional YANG modules.</li>
<li>On the other hand, the framework defined by the module must allow for complicated setups involving multiple routing tables and multiple routing protocols, as well as controlled redistributions of routing information.</li>
<li>Device vendors will want to map the data models built on this generic framework to their proprietary data models and configuration interfaces. Therefore, the framework should be flexible enough to facilitate such a mapping and accommodate data models with different logic.</li>
</ul>

<p> </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#sec.design" id="sec.design">Design of the Routing Data Model</a>
</h1>
<p id="rfc.section.4.p.1">The "ietf-routing" YANG module presented in <a href="#sec.module">Section 5</a> defines a data modeling framework with several essential components: routes, routing tables, routing protocol instances, route filters and route pipes. By combining these components in various ways, and filling them with appropriate content models defined in other modules, a broad range of routing setups can be covered.</p>
<div id="#rfc.figure.1"></div>
<div id="#fig.exsetup"></div>
<pre>
                        +------------+
                        | kernel FIB |
                        +------------+
                           ^      |  
                           |      v  
                         +---+  +---+
                         | F |  | F |
                         +---+  +---+
                           ^      |  
                           |      v  
                       +--------------+    +---+    +--------------+
+--------+             |              |&lt;---| F |&lt;---|              |
| static |    +---+    |    main      |    +---+    |  additional  |
| routes |---&gt;| F |---&gt;|   routing    |             |   routing    |
+--------+    +---+    |    table     |    +---+    |    table     |
                       |              |---&gt;| F |---&gt;|              |
                       +--------------+    +---+    +--------------+
                           ^      |                     ^      |
                           |      v                     |      v
                         +---+  +---+                 +---+  +---+
                         | F |  | F |                 | F |  | F |
                         +---+  +---+                 +---+  +---+
                           ^      |                     ^      |
                           |      v                     |      v
                         +----------+                 +----------+
                         | routing  |                 | routing  |
                         | protocol |                 | protocol |
                         +----------+                 +----------+
</pre>
<p><a href="#fig.exsetup">Figure 1</a> shows an example of a more complicated setup: </p>

<ul>
<li>Along with the main routing table, which must always be present, an additional routing table is defined.</li>
<li>Each routing protocol instance, including the static pseudo-protocol instance, is connected to exactly one routing table with which it can exchange routes (in both directions, except for the static pseudo-protocol).</li>
<li>Routing tables may also be connected to each other through route pipes and exchange routes in one or both directions.</li>
<li>The main routing table exchanges routes with the forwarding information base (FIB) in the operating system kernel as follows: active routes from the main routing table are installed in the FIB and used for packet forwarding, and automatic routes set up by the kernel (for example, direct routes to connected networks) are passed to the main routing table.</li>
<li>Route exchanges along all connections may be controlled by means of route filters denoted by "F" in the figure.</li>
</ul>
<p id="rfc.section.4.p.3">All configuration and operational state data defined by the "ietf-routing" module apear inside the "routing" container. The following subsections describe the individual components of the core routing framework.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#sec.route" id="sec.route">Route</a>
</h1>
<p id="rfc.section.4.1.p.1">Routes are basic units of information in a routing system. The "ietf-routing" module defines only the following essential route parameters: </p>

<ul>
<li>route-type - permitted values are "unicast" (default), "multicast" and "anycast".</li>
<li>destination-prefix - IP prefix specifying the set of destination addresses for which the route may be used. This parameter is mandatory.</li>
<li>next-hop - IP address of the adjacent router or host to which packets with destination addresses belonging to destination-prefix should be sent.</li>
<li>outgoing-interface - network interface that should be used for sending packets with destination addresses belonging to destination-prefix.</li>
</ul>

<p> </p>
<p id="rfc.section.4.1.p.2">The above list of route parameters is sufficient for a simple static route configuration. It is expected that future modules defining routing protocols will add other route attributes such as metrics or preferences.</p>
<p id="rfc.section.4.1.p.3">Routes are used in both configuration data, for example as manually configured static routes, as well as in operational state data, for example as entries in routing tables.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> <a href="#sec.rtables" id="sec.rtables">Routing Tables</a>
</h1>
<p id="rfc.section.4.2.p.1">Routing tables are lists of routes complemented with administrative data, namely: </p>

<ul>
<li>source-protocol - name of the routing protocol from which the route arrived.</li>
<li>last-modified - date and time of last modification, or installation, of the route.</li>
</ul>
<p id="rfc.section.4.2.p.2">In the core routing data model, routing tables are represented as operational state data. Routing protocol operations result in route additions, removals and modifications. This also includes manipulations via the "static" pseudo-protocol.</p>
<p id="rfc.section.4.2.p.3">The data model also defines an RPC operation, "delete-route" which allows the client to immediately delete a specified route from a routing table.</p>
<p id="rfc.section.4.2.p.4">Every compliant implementation MUST automatically configure the main routing table. Additional routing tables MAY be configured by adding their unique names to the "configured-routing-tables" leaf-list.  </p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> <a href="#sec.proto" id="sec.proto">Routing Protocol Instances</a>
</h1>
<p id="rfc.section.4.3.p.1">The "ietf-routing" module provides an open-ended framework for defining multiple routing protocol instances. Each of them is identified by a unique name and MUST be assigned a type from a selection which includes all routing protocol types supported by the server, such as RIP, OSPF or BGP.</p>
<p id="rfc.section.4.3.p.2">Each routing protocol instance is connected to exactly one routing table. By default, every routing protocol instance is connected to the main routing table, but any routing protocol instance can be configured to use a different routing table, provided such an extra table is configured.</p>
<p id="rfc.section.4.3.p.3">Routes learned from the network by a routing protocol instance are passed to the connected routing table and vice versa - routes appearing in a routing table may be passed to any routing protocol connected to the table and advertised by that protocol to the network.</p>
<p id="rfc.section.4.3.p.4">Two independent route filters (see <a href="#sec.filters">Section 4.5</a>) may be defined for a routing protocol instance to control the exchange of routes in both directions between the routing protocol instance and the connected routing table: </p>

<ul>
<li>import filter controls which routes are passed from a routing protocol instance to the routing table,</li>
<li>export filter controls which routes the routing protocol instance may receive from the connected routing table.</li>
</ul>

<p> Note that, for historical reasons, the terms import and export are used from the viewpoint of a routing table.</p>
<p id="rfc.section.4.3.p.5">The "ietf-routing" module defines two special routing protocols - "direct" and "static". Both are in fact pseudo-protocols, which means that they are confined to the local server and do not exchange any routing information with neighboring routers. Routes from both "direct" and "static" protocol instances are passed to the connected routing table (subject to route filters, if any), but an exchange in the opposite direction is not allowed.</p>
<p id="rfc.section.4.3.p.6">The "direct" pseudo-protocol MUST exist in exactly one instance in any server implementation. It is the source for routes to directly connected networks (so-called direct routes). Such routes are supplied by the operating system kernel based on the detected and configured network interfaces, and they usually appear in the main routing table. However, using the framework defined in this document, the target routing table for direct routes can be changed by connecting the "direct" protocol instance to a non-default routing table, and the direct routes can also be filtered before they appear in the routing table.</p>
<p id="rfc.section.4.3.p.7">The "static" routing pseudo-protocol allows for specifying routes manually. It can be configured in zero or more instances, although typically one instance suffices.</p>
<h1 id="rfc.section.4.3.1">
<a href="#rfc.section.4.3.1">4.3.1.</a> <a href="#sec.newproto" id="sec.newproto">Defining New Routing Protocols</a>
</h1>
<p id="rfc.section.4.3.1.p.1">It is expected that other YANG modules will create data models for additional routing protocol types. In order to do so, the new module has to define the protocol-specific information and fit it to the core routing framework in the following way: </p>

<ul>
<li>A new identity MUST be defined for the routing protocol and its base identity set to "routing-protocol", or to an identity derived from "routing-protocol".</li>
<li>Additional route attributes MAY be defined. Their definitions have to be inserted as operational state data by augmenting the definition of "route" under "routing-table". Naturally, routes (including the extra attributes) may be used in configuration data, too, as demonstrated by the "static" pseudo-protocol.</li>
<li>The recommended way of defining configuration data specific to the new protocol is to augment the "routing-protocol-instance" list entry with a container that encapsulates the configuration hierarchy of the new protocol. The 'augment' statement SHOULD be made conditional by using a 'when' substatement requiring that the new nodes be used only if the "type" leaf node is equal to the new protocol's identity.</li>
</ul>
<p id="rfc.section.4.3.1.p.2">The above steps are implemented by the example YANG module for the RIP routing protocol in <a href="#app.rip">Appendix Appendix A</a>. In particular, the module first defines a new identity for the RIP protocol:</p>
<div id="#rfc.figure.2"></div>
<pre>
identity rip {
  base rt:routing-protocol;
  description "Identity for the RIP routing protocol.";
}</pre>
<p id="rfc.section.4.3.1.p.3">RIP-specific configuration data are then integrated into the "routing-protocol-instance" node by using the following 'augment' statement, which applies only for routing protocol instances whose type is "rip":</p>
<div id="#rfc.figure.3"></div>
<pre>
augment "/rt:routing/rt:routing-protocol-instances/" +
        "rt:routing-protocol-instance" {
  container rip-configuration {
    when "../rt:type='rip'";
    ...
  }
}</pre>
<h1 id="rfc.section.4.4">
<a href="#rfc.section.4.4">4.4.</a> <a href="#sec.pipes" id="sec.pipes">Route Pipes</a>
</h1>
<p id="rfc.section.4.4.p.1">Route pipes are unidirectional links connecting pairs of routing tables that allow for passing routes from one routing table to another. Each route pipe is identified by a unique name and has two mandatory parameters, "origin" and "recipient", that specify the two routing tables that are being connected.</p>
<p id="rfc.section.4.4.p.2">The transport of routes from the "origin" table to the "recipient" table may be controlled by means of a route filter (see <a href="#sec.filters">Section 4.5</a>). If no filter is defined, all routes present in the "origin" table MUST also appear in the "recipient" table.</p>
<h1 id="rfc.section.4.5">
<a href="#rfc.section.4.5">4.5.</a> <a href="#sec.filters" id="sec.filters">Route Filters</a>
</h1>
<p id="rfc.section.4.5.p.1">The "ietf-routing" module provides a skeleton for defining route filters that can be used to restrict the set of routes being exchanged between a routing protocol instance and a routing table, or between two routing tables connected through a route pipe. Route filters may also manipulate routes, i.e., add, delete, or modify their properties.</p>
<p id="rfc.section.4.5.p.2">By itself, the route filtering framework defined in the "ietf-routing" module allows to establish only the two extreme routing policies in which either all routes are allowed or all routes are denied. It is expected that a real route filtering framework (or several alternative frameworks) will be developed separately.</p>
<p id="rfc.section.4.5.p.3">Each route filter is identified by a unique name. Its type may be specified by the "type" identity reference - this opens the space for multiple route filtering framework implementations. The only route filter type defined in the "ietf-routing" module carries the default "route-filter" identity, and represents the "deny all" route filtering policy.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#sec.module" id="sec.module">Core Routing YANG Module</a>
</h1>
<div id="#rfc.figure.4"></div>
<pre>&lt;CODE BEGINS&gt; file "ietf-routing@2011-03-03.yang"

module ietf-routing {
  namespace "urn:ietf:params:xml:ns:yang:ietf-routing";
  prefix rt;

  import ietf-yang-types {
    prefix yang;
  }
  import ietf-inet-types {
    prefix inet;
  }
  import ietf-interfaces {
    prefix if;
  }

  organization
    "IETF NETMOD (NETCONF Data Modeling Language) Working Group";

  contact
    "WG Web:   &lt;http://tools.ietf.org/wg/netmod/&gt;
     WG List:  &lt;mailto:netmod@ietf.org&gt;
     
     WG Chair: David Kessens
               &lt;mailto:david.kessens@nsn.com&gt;
     
     WG Chair: Juergen Schoenwaelder
               &lt;mailto:j.schoenwaelder@jacobs-university.de&gt;
     
     Editor:   Ladislav Lhotka
               &lt;mailto:lhotka@cesnet.cz&gt;";

  description
    "This module contains YANG definitions for basic
     configuration of IP routing.
     
     It is immediately usable for a device that needs just a single
     routing table populated with static routes.
     
     On the other hand, the framework is designed to handle arbitrarily
     complex configurations with any number of routing tables and
     various routing protocols (in multiple instances).
     
     Every compliant implementation MUST support IPv4 unicast routing
     and implement at least one (main) routing table, which is
     connected to the OS kernel forwarding information base.";

  revision 2011-03-03;

  /* Features */

  feature ipv6-routing {
    description
      "This feature MUST be advertised by devices supporting IPv6
       routing. Such a device MUST implement at least one extra routing
       table to which all IPv6 unicast routing protocols are connected
       by default.";
  }

  feature ipv4-multicast-routing {
    description
      "This feature MUST be set by devices supporting IPv4
       multicast routing.  Such a device MUST implement at least one
       extra routing table to which all IPv6 multicast routing
       protocols are connected by default.";
  }

  feature ipv6-multicast-routing {
    description
      "This feature MUST be set by devices supporting IPv6
       multicast routing.  Such a device MUST implement at least one
       extra routing table to which all IPv6 multicast routing
       protocols are connected by default.";
  }

  /* Identities */

  identity address-family {
    description
      "Base identity from which address family identities are
       derived.";
  }

  identity af-ipv4 {
    base address-family;
    description
      "IPv4 address family.";
  }

  identity af-ipv6 {
    base address-family;
    description
      "IPv6 address family.";
  }

  identity routing-protocol {
    description
      "Base identity from which routing protocol identities are
       derived.";
  }

  identity direct {
    base routing-protocol;
    description
      "Identity for the pseudo-protocol providing routes to
       directly connected networks. An implementation MUST preconfigure
       an instance of this pseudo-protocol.";
  }

  identity static {
    base routing-protocol;
    description
      "Identity for static routing pseudo-protocol.";
  }

  identity route-filter {
    description
      "Base identity for route filters. It also represents the
       empty route filter that blocks everything.";
  }

  identity route-type {
    description
      "Base identity for route types.";
  }

  identity unicast {
    base route-type;
    description
      "Unicast route type.";
  }

  identity multicast {
    base route-type;
    description
      "Multicast route type.";
  }

  identity anycast {
    base route-type;
    description
      "Anycast route type.";
  }

  /* Type definitions */

  typedef routing-table-ref {
    type leafref {
      path "/routing/configured-routing-tables/name";
    }
    description
      "This type represents a reference to a configured routing
       table.";
  }

  typedef routing-protocol-instance-ref {
    type leafref {
      path "/routing/routing-protocol-instances/" +
           "routing-protocol-instance/name";
    }
    description
      "This type represents a reference to a configured routing
       protocol instance.";
  }

  typedef route-filter-ref {
    type leafref {
      path "/routing/route-filters/route-filter/name";
    }
    description
      "This type represents a reference to a configured route
       filter.";
  }

  /* Groupings */

  grouping ip-route-content {
    description
      "Components of an IP route.";
    leaf type {
      type identityref {
        base route-type;
      }
      default "unicast";
    }
    leaf destination-prefix {
      type inet:ip-prefix;
      mandatory true;
      description
        "The set of destination addresses for which the route may
         be used.";
    }
    leaf next-hop {
      type inet:ip-address;
      description
        "IP address of the host or router to which packets whose
         address matches 'destination-prefix' are to be forwarded.";
    }
    leaf outgoing-interface {
      type if:interface-ref;
      description
        "Name of the outgoing interface. This parameter is mainly
         used in direct routes.";
    }
  }

  rpc delete-route {
    description
      "This operation deletes a route with given parameters from
       a specified routing table. &lt;ok&gt; is returned by the server
       upon successful completion.";
    input {
      container route {
        description
          "All routes that match this parameter MUST be deleted
           from the target routing table.";
        uses ip-route-content;
      }
      leaf routing-table {
        type routing-table-ref;
        description
          "This parameter specifies the target routing
           table.";
      }
    }
  }

  /* Data tree */ 

  container routing {
    description
      "IP routing parameters.";
    container configured-routing-tables {
      description
        "Names of configured routing tables. Their contents are
         available as operational state data under 'routing-tables'. At
         least one (main) table MUST be configured for every supported
         address family. This default routing table is usually
         connected to the main kernel forwarding table.";
      leaf-list name {
        type string;
        min-elements 1;
      }
    }
    container routing-protocol-instances {
      description
        "Container for configured routing protocol instances.
         
         Every implementation MUST preconfigure the 'direct'
         pseudo-protocol instance providing the routes to directly
         connected networks.";
      list routing-protocol-instance {
        key "name";
        container static-routes {
          when "../type='static'";
          description
            "Configuration of a 'static' pseudo-protocol instance
             consists of a list of routes.";
          list static-route {
            key "id";
            leaf id {
              type string;
            }
            leaf description {
              type string;
            }
            uses ip-route-content;
          }
        }
        leaf name {
          type string;
        }
        leaf description {
          type string;
        }
        leaf address-family {
          type identityref {
            base address-family;
          }
          default "af-ipv4";
          description
            "Address family used by the routing protocol instance.";
        }
        leaf type {
          type identityref {
            base routing-protocol;
          }
          mandatory true;
          description
            "Type of the routing protocol.";
        }
        leaf routing-table {
          type routing-table-ref;
          description
            "The routing table to which the protocol instance is
             connected. By default it is the main routing table for the
             given address family.";
        }
        leaf import-filter {
          type route-filter-ref;
          description
            "Reference to a route filter that is used for
             filtering routes passed from this routing protocol instance
             to the routing table specified by the 'routing-table'
             sibling node. If this leaf is not present, the behavior is
             protocol-specific, but typically it means that all routes
             are accepted.";
        }
        leaf export-filter {
          type route-filter-ref;
          description
            "Reference to a route filter that is used for
             filtering routes passed from the routing table specified
             by the 'routing-table' sibling to this routing protocol
             instance. If this leaf is not present, the behavior is
             protocol-specific - typically it means that all routes
             are accepted, except for the 'direct' and 'static'
             pseudo-protocols which accept no routes from
             anywhere.";
        }
      }
    }
    container route-pipes {
      description
        "Route pipes facilitate transport of routes between pairs
         of routing tables.";
      list route-pipe {
        key "name";
        description
          "A route-pipe is a unidirectional connection between
           'origin' and 'recipient'.";
        leaf name {
          type string;
        }
        leaf description {
          type string;
        }
        leaf origin {
          type routing-table-ref;
          mandatory true;
          description
            "The originating routing-table.";
        }
        leaf recipient {
          type routing-table-ref;
          mandatory true;
          description
            "The receiving routing-table.";
        }
        leaf route-filter {
          type route-filter-ref;
          description
            "All routes passing through the route pipe are filtered by
             the route filter referred to by this leaf. If it is not
             present, all routes from 'origin' are passed to
             'destination'.";
        }
      }
    }
    container route-filters {
      description
        "Non-trivial route filters are expected to be defined in
         other modules.";
      list route-filter {
        key "name";
        description
          "A route filter is used for filtering routes between
           routing protocol instances and routing tables (import
           filter) and vice versa (export filter), and in route pipes
           that connect pairs of routing tables.";
        leaf name {
          type string;
        }
        leaf description {
          type string;
        }
        leaf type {
          type identityref {
            base route-filter;
          }
          default "route-filter";
          description
            "Type of the route-filter. The default value
             represents an all-blocking filter.";
        }
      }
    }

    /* Operational state data */

    container routing-tables {
      config false;
      description
        "Routing tables and their contents.";
      list routing-table {
        min-elements 1;
        description
          "Exactly one routing table MUST be present for every 'name'
           entry appearing in '/routing/configured-routing-tables'.";
        leaf name {
          type routing-table-ref;
        }
        leaf address-family {
          type identityref {
            base address-family;
          }
          default "af-ipv4";
          description
            "Address family of all routes in the routing table.";
        }
        list route {
          leaf source-protocol {
            type routing-protocol-instance-ref;
            description
              "Protocol instance from which the route comes.";
          }
          leaf last-modified {
            type yang:date-and-time;
            description
              "Time stamp of the last modification of the
               route. If the route was never modified, it is the time
               when the route was inserted to the routing table.";
          }
          uses ip-route-content;
        }
      }
    }
  }
}


&lt;CODE ENDS&gt;</pre>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#iana" id="iana">IANA Considerations</a>
</h1>
<p id="rfc.section.6.p.1">This document requests the following registration of a namespace URI in the IETF XML registry <a href="#RFC3688">[RFC3688]</a>:</p>
<div id="#rfc.figure.5"></div>
<pre>
-----------------------------------------------------
URI: urn:ietf:params:xml:ns:yang:ietf-routing

Registrant Contact: The IESG.

XML: N/A, the requested URI is an XML namespace.
-----------------------------------------------------
      </pre>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#sec-cons" id="sec-cons">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">TBD.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#acknowledgments" id="acknowledgments">Acknowledgments</a>
</h1>
<p id="rfc.section.8.p.1">The author wishes to thank the following individuals who provided helpful suggestions and/or comments on this document: TBD.</p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">9.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a>Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3688">[RFC3688]</b></td>
<td class="top">
<a>Mealling, M.</a>, "<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>", BCP 81, RFC 3688, January 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4741">[RFC4741]</b></td>
<td class="top">
<a>Enns, R.</a>, "<a href="http://tools.ietf.org/html/rfc4741">NETCONF Configuration Protocol</a>", RFC 4741, December 2006.</td>
</tr>
<tr>
<td class="reference"><b id="XML-INFOSET">[XML-INFOSET]</b></td>
<td class="top">
<a>Tobin, R.</a> and <a>J. Cowan</a>, "<a>XML Information Set (Second Edition)</a>", World Wide Web Consortium Recommendation REC-xml-infoset-20040204, February 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6020">[RFC6020]</b></td>
<td class="top">
<a title="Tail-f Systems">Bjorklund, M</a>, "<a href="http://tools.ietf.org/html/rfc6020">YANG - A Data Modeling Language for Network Configuration Protocol (NETCONF)</a>", RFC 6020, September 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6021">[RFC6021]</b></td>
<td class="top">
<a>Schoenwaelder, J.</a>, "<a href="http://tools.ietf.org/html/rfc6021">Common YANG Data Types</a>", RFC 6021, September 2010.</td>
</tr>
<tr>
<td class="reference"><b id="YANG-IF">[YANG-IF]</b></td>
<td class="top">
<a>Bjorklund, M</a>, "<a href="http://tools.ietf.org/html/draft-bjorklund-netmod-interfaces-cfg-00">A YANG Data Model for Interface Configuration</a>", Internet-Draft draft-bjorklund-netmod-interfaces-cfg-00, December 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">9.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC6087">[RFC6087]</b></td>
<td class="top">
<a>Bierman, A.</a>, "<a href="http://tools.ietf.org/html/rfc6087">Guidelines for Authors and Reviewers of YANG Data Model Documents</a>", RFC 6087, January 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6110">[RFC6110]</b></td>
<td class="top">
<a>Lhotka, L.</a>, "<a href="http://tools.ietf.org/html/rfc6110">Mapping YANG to Document Schema Definition Languages and Validating NETCONF Content</a>", RFC 6110, February 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> <a href="#app.rip" id="app.rip">Example Module for Routing Information Protocol</a>
</h1>
<p id="rfc.section.Appendix A.p.1">This appendix demonstrates how the "ietf-routing" module can be extended to support a new routing protocol. <a href="#app.rip-yang">Appendix Appendix A.1</a> contains a YANG module that is used for this purpose. It is intended only as an illustration and not as a real definition of a data model for the RIP routing protocol. This module also imports the "ietf-interfaces" module defined in <a href="#YANG-IF">[YANG-IF]</a>.</p>
<p><a href="#app.rip-xml">Appendix Appendix A.2</a> then contains a complete instance XML document - a reply to the NETCONF &lt;get&gt; message from a server that uses the RIP protocol as well as static routing. A route filter is also defined in order to prevent static routes to private networks from being redistributed to RIP. The instance document also uses data nodes from the two example YANG modules "ex-ethernet" and "ex-ip" defined in <a href="#YANG-IF">[YANG-IF]</a>.</p>
<h1 id="rfc.appendix.Appendix A.1">
<a href="#rfc.appendix.Appendix%20A.1">Appendix A.1.</a> <a href="#app.rip-yang" id="app.rip-yang">Example YANG Module for Routing Information                     Protocol</a>
</h1>
<div id="#rfc.figure.6"></div>
<pre>module example-rip {
  namespace "http://example.com/rip";
  prefix rip;

  import ietf-interfaces {
    prefix if;
  }
  import ietf-routing {
    prefix rt;
  }

  identity rip {
    base rt:routing-protocol;
    description
      "Identity for the RIP routing protocol.";
  }

  typedef rip-metric {
    type uint8 {
      range "0..16";
    }
  }

  augment "/rt:routing/rt:routing-protocol-instances/" +
          "rt:routing-protocol-instance" {
    when "rt:type='rip:rip'";
    container rip-configuration {
      container rip-interfaces {
        list rip-interface {
          key "name";
          leaf name {
            type if:interface-ref;
          }
          leaf enabled {
            type boolean;
            default "true";
          }
          leaf metric {
            type rip-metric;
            default "1";
          }
          /* Additional per-interface RIP configuration */
        }
      }
      leaf update-interval {
        type uint8 {
          range "10..60";
        }
        units "seconds";
        default "30";
        description
          "Time interval between periodic updates.";
      }
      /* Additional RIP configuration */
    }
  }
  augment "/rt:routing/rt:routing-tables/rt:routing-table/rt:route" {
      when "../../../rt:routing-protocol-instances/" +
           "rt:routing-protocol-instance[rt:name=" +
           "current()/rt:source-protocol]/rt:type='rip:rip'";
    description
      "RIP-specific route components.";
    leaf metric {
      type rip-metric;
    }
    leaf tag {
      type uint16;
      default "0";
      description
        "This leaf may be used to carry additional info, e.g. AS
         number.";
    }
  }
}
</pre>
<h1 id="rfc.appendix.Appendix A.2">
<a href="#rfc.appendix.Appendix%20A.2">Appendix A.2.</a> <a href="#app.rip-xml" id="app.rip-xml">Sample Reply to the NETCONF &lt;get&gt; Message</a>
</h1>
<div id="#rfc.figure.7"></div>
<pre>&lt;?xml version="1.0" encoding="utf-8"?&gt;

&lt;nc:rpc-reply
    message-id="101"
    xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"
    xmlns:if="urn:ietf:params:xml:ns:yang:ietf-interfaces"
    xmlns:eth="http://example.com/ethernet"
    xmlns:ip="http://example.com/ip"
    xmlns:rip="http://example.com/rip"
    xmlns="urn:ietf:params:xml:ns:yang:ietf-routing"&gt;
  &lt;nc:data&gt;
    &lt;if:interfaces&gt;
      &lt;if:interface&gt;
        &lt;if:name&gt;eth0&lt;/if:name&gt;
        &lt;if:type&gt;eth:ethernet&lt;/if:type&gt;
        &lt;if:location&gt;05:00.0&lt;/if:location&gt;
        &lt;ip:ip&gt;
          &lt;ip:address&gt;
          &lt;ip:ip&gt;192.0.2.1&lt;/ip:ip&gt;
          &lt;ip:prefix-length&gt;24&lt;/ip:prefix-length&gt;
          &lt;/ip:address&gt;
        &lt;/ip:ip&gt;
      &lt;/if:interface&gt;
      &lt;if:interface&gt;
        &lt;if:name&gt;eth1&lt;/if:name&gt;
        &lt;if:type&gt;eth:ethernet&lt;/if:type&gt;
        &lt;if:location&gt;05:00.1&lt;/if:location&gt;
        &lt;ip:ip&gt;
          &lt;ip:address&gt;
          &lt;ip:ip&gt;192.168.1.1&lt;/ip:ip&gt;
          &lt;ip:prefix-length&gt;24&lt;/ip:prefix-length&gt;
          &lt;/ip:address&gt;
        &lt;/ip:ip&gt;
      &lt;/if:interface&gt;
    &lt;/if:interfaces&gt;
    &lt;routing&gt;
      &lt;configured-routing-tables&gt;
        &lt;name&gt;rt0&lt;/name&gt;
      &lt;/configured-routing-tables&gt;
      &lt;routing-protocol-instances&gt;
        &lt;routing-protocol-instance&gt;
          &lt;name&gt;direct&lt;/name&gt;
          &lt;type&gt;direct&lt;/type&gt;
        &lt;/routing-protocol-instance&gt;
        &lt;routing-protocol-instance&gt;
          &lt;name&gt;st0&lt;/name&gt;
          &lt;description&gt;
            Static routing is used for the internal network.
          &lt;/description&gt;
          &lt;type&gt;static&lt;/type&gt;
          &lt;static-routes&gt;
            &lt;static-route&gt;
              &lt;id&gt;id-6378&lt;/id&gt;
              &lt;destination-prefix&gt;192.168.2.0/24&lt;/destination-prefix&gt;
              &lt;next-hop&gt;192.168.1.254&lt;/next-hop&gt;
            &lt;/static-route&gt;
          &lt;/static-routes&gt;
        &lt;/routing-protocol-instance&gt;
        &lt;routing-protocol-instance&gt;
          &lt;name&gt;rip0&lt;/name&gt;
          &lt;type&gt;rip:rip&lt;/type&gt;
          &lt;export-filter&gt;to-rip&lt;/export-filter&gt;
          &lt;rip:rip-configuration&gt;
            &lt;rip:rip-interfaces&gt;
              &lt;rip:rip-interface&gt;
                &lt;rip:name&gt;eth0&lt;/rip:name&gt;
              &lt;/rip:rip-interface&gt;
            &lt;/rip:rip-interfaces&gt;
          &lt;/rip:rip-configuration&gt;
        &lt;/routing-protocol-instance&gt;
      &lt;/routing-protocol-instances&gt;
      &lt;route-filters&gt;
        &lt;route-filter&gt;
          &lt;name&gt;to-rip&lt;/name&gt;
          &lt;description&gt;
            Block redistribution of static routes.
          &lt;/description&gt;
        &lt;/route-filter&gt;
      &lt;/route-filters&gt;
      &lt;routing-tables&gt;
        &lt;routing-table&gt;
          &lt;name&gt;rt0&lt;/name&gt;
          &lt;route&gt;
            &lt;destination-prefix&gt;192.168.1.0/24&lt;/destination-prefix&gt;
            &lt;source-protocol&gt;direct&lt;/source-protocol&gt;
            &lt;outgoing-interface&gt;eth0&lt;/outgoing-interface&gt;
            &lt;last-modified&gt;2010-02-24T17:11:23+01:00&lt;/last-modified&gt;
          &lt;/route&gt;
          &lt;route&gt;
            &lt;destination-prefix&gt;192.168.2.0/24&lt;/destination-prefix&gt;
            &lt;source-protocol&gt;st0&lt;/source-protocol&gt;
            &lt;next-hop&gt;192.168.1.254&lt;/next-hop&gt;
            &lt;rip:tag&gt;64500&lt;/rip:tag&gt;
            &lt;last-modified&gt;2010-02-24T17:11:27+01:00&lt;/last-modified&gt;
          &lt;/route&gt;
          &lt;route&gt;
            &lt;destination-prefix&gt;0.0.0.0/0&lt;/destination-prefix&gt;
            &lt;next-hop&gt;192.0.2.2&lt;/next-hop&gt;
            &lt;rip:metric&gt;2&lt;/rip:metric&gt;
            &lt;rip:tag&gt;64500&lt;/rip:tag&gt;
            &lt;source-protocol&gt;rip0&lt;/source-protocol&gt;
            &lt;last-modified&gt;2010-03-03T13:00:23+01:00&lt;/last-modified&gt;
          &lt;/route&gt;
        &lt;/routing-table&gt;
      &lt;/routing-tables&gt;
    &lt;/routing&gt;
  &lt;/nc:data&gt;
&lt;/nc:rpc-reply&gt;</pre>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Ladislav Lhotka</span> 
	  <span class="n hidden">
		<span class="family-name">Lhotka</span>
	  </span>
	</span>
	<span class="org vcardline">CESNET</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:lhotka@cesnet.cz">lhotka@cesnet.cz</a></span>

  </address>
</div>

</body>
</html>