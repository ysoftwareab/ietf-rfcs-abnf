<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Assessing the Impact of Carrier-Grade NAT on Network Applications</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Testing Scope">
<link href="#rfc.section.2.1" rel="Chapter" title="2.1 Test Cases">
<link href="#rfc.section.2.1.1" rel="Chapter" title="2.1.1 Case1: Single Client, Single Home Network, Single Service Provider">
<link href="#rfc.section.2.1.2" rel="Chapter" title="2.1.2 Case2: Two Clients, Single Home Network, Single Service Provider">
<link href="#rfc.section.2.1.3" rel="Chapter" title="2.1.3 Case3: Two Clients, Two Home Networks, Single Service Provider">
<link href="#rfc.section.2.1.4" rel="Chapter" title="2.1.4 Case4: Two Clients, Two Home Networks, Two Service Providers Cross ISP">
<link href="#rfc.section.2.2" rel="Chapter" title="2.2 General Test Environment">
<link href="#rfc.section.2.3" rel="Chapter" title="2.3 Test Metrics">
<link href="#rfc.section.2.4" rel="Chapter" title="2.4 Test Scenarios Executed">
<link href="#rfc.section.2.5" rel="Chapter" title="2.5 General Test Methodologies">
<link href="#rfc.section.3" rel="Chapter" title="3 Observed CGN Impacts">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Dropped Services">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Degraded Services">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Improvements since 2010">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Additional CGN Challenges">
<link href="#rfc.section.4" rel="Chapter" title="4 2011 Summary of Results">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 NAT444">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 DS-Lite">
<link href="#rfc.section.5" rel="Chapter" title="5 2010 Summary of Results">
<link href="#rfc.section.5.1" rel="Chapter" title="5.1 Case1: Single Client, Single Home Network, Single Service Provider">
<link href="#rfc.section.5.2" rel="Chapter" title="5.2 Case2: Two Clients, Single Home Network, Single Service Provider">
<link href="#rfc.section.5.3" rel="Chapter" title="5.3 Case3: Two Clients, Two Home Networks, Single Service Provider">
<link href="#rfc.section.5.4" rel="Chapter" title="5.4 Case4: Two Clients, Two Home Networks, Two Service Providers Cross ISP">
<link href="#rfc.section.6" rel="Chapter" title="6 IANA Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Acknowledgements">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="NAT444 is an IPv4 extension technology being considered by Service Providers to continue offering IPv4 service to customers while transitioning to IPv6. This technology adds an extra Carrier-Grade NAT ("CGN") in the Service Provider network, often resulting in two NATs.  CableLabs, Time Warner Cable, and Rogers Communications independently tested the impacts of NAT444 on many popular Internet services using a variety of test scenarios, network topologies, and vendor equipment.  This document identifies areas where adding a second layer of NAT disrupts the communication channel for common Internet applications.  This document was updated to also include Dual-Stack Lite impacts." />
  <meta name="description" content="NAT444 is an IPv4 extension technology being considered by Service Providers to continue offering IPv4 service to customers while transitioning to IPv6. This technology adds an extra Carrier-Grade NAT ("CGN") in the Service Provider network, often resulting in two NATs.  CableLabs, Time Warner Cable, and Rogers Communications independently tested the impacts of NAT444 on many popular Internet services using a variety of test scenarios, network topologies, and vendor equipment.  This document identifies areas where adding a second layer of NAT disrupts the communication channel for common Internet applications.  This document was updated to also include Dual-Stack Lite impacts." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">C.D. Donley</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">CableLabs</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">L.H. Howard</td>
</tr>
<tr>
<td class="left">Expires: May 19, 2012</td>
<td class="right">Time Warner Cable</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">V.K. Kuarsingh</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Rogers Communications</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J.B. Berg</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">CableLabs</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">J.D. Doshi</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">University of Colorado</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">November 16, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Assessing the Impact of Carrier-Grade NAT on Network Applications<br />
  <span class="filename">draft-donley-nat444-impacts-03</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>NAT444 is an IPv4 extension technology being considered by Service Providers to continue offering IPv4 service to customers while transitioning to IPv6. This technology adds an extra Carrier-Grade NAT ("CGN") in the Service Provider network, often resulting in two NATs.  CableLabs, Time Warner Cable, and Rogers Communications independently tested the impacts of NAT444 on many popular Internet services using a variety of test scenarios, network topologies, and vendor equipment.  This document identifies areas where adding a second layer of NAT disrupts the communication channel for common Internet applications.  This document was updated to also include Dual-Stack Lite impacts.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on May 19, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Testing Scope</a>
</li>
<li>2.1.   <a href="#rfc.section.2.1">Test Cases</a>
</li>
<li>2.1.1.   <a href="#rfc.section.2.1.1">Case1: Single Client, Single Home Network, Single Service Provider</a>
</li>
<li>2.1.2.   <a href="#rfc.section.2.1.2">Case2: Two Clients, Single Home Network, Single Service Provider</a>
</li>
<li>2.1.3.   <a href="#rfc.section.2.1.3">Case3: Two Clients, Two Home Networks, Single Service Provider</a>
</li>
<li>2.1.4.   <a href="#rfc.section.2.1.4">Case4: Two Clients, Two Home Networks, Two Service Providers Cross ISP</a>
</li>
<li>2.2.   <a href="#rfc.section.2.2">General Test Environment</a>
</li>
<li>2.3.   <a href="#rfc.section.2.3">Test Metrics</a>
</li>
<li>2.4.   <a href="#rfc.section.2.4">Test Scenarios Executed</a>
</li>
<li>2.5.   <a href="#rfc.section.2.5">General Test Methodologies</a>
</li>
<li>3.   <a href="#rfc.section.3">Observed CGN Impacts</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Dropped Services</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Degraded Services</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Improvements since 2010</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">Additional CGN Challenges</a>
</li>
<li>4.   <a href="#rfc.section.4">2011 Summary of Results</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">NAT444</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">DS-Lite</a>
</li>
<li>5.   <a href="#rfc.section.5">2010 Summary of Results</a>
</li>
<li>5.1.   <a href="#rfc.section.5.1">Case1: Single Client, Single Home Network, Single Service Provider</a>
</li>
<li>5.2.   <a href="#rfc.section.5.2">Case2: Two Clients, Single Home Network, Single Service Provider</a>
</li>
<li>5.3.   <a href="#rfc.section.5.3">Case3: Two Clients, Two Home Networks, Single Service Provider</a>
</li>
<li>5.4.   <a href="#rfc.section.5.4">Case4: Two Clients, Two Home Networks, Two Service Providers Cross ISP</a>
</li>
<li>6.   <a href="#rfc.section.6">IANA Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Acknowledgements</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">IANA and APNIC exhausted their IPv4 address space in 2011. Current projections suggest that RIPE and ARIN may exhaust their free pools of IPv4 addresses in 2012. IPv6 is the solution to the IPv4 depletion problem; however, the transition to IPv6 will not be completed prior to IPv4 exhaustion. NAT444 <a href="#I-D.shirasaki-nat444">[I-D.shirasaki-nat444]</a> and Dual-Stack Lite (<a href="#RFC6333">[RFC6333]</a>) are transition mechanisms that will allow Service Providers to multiplex customers behind a single IPv4 address, which will allow many legacy devices and applications some IPv4 connectivity. While both NAT444 and Dual-Stack Lite do provide basic IPv4 connectivity, they impact a number of advanced applications. This document describes suboptimal behaviors of NAT444 and DS-Lite in our test environments.</p>
<p id="rfc.section.1.p.2">In July-August 2010, CableLabs, Time Warner Cable, and Rogers Communications tested the impact of NAT444 on common applications using Carrier Grade NAT (CGN) devices. This testing was focused on a wide array of real time usage scenarios designed to evaluate the user experience over the public Internet using NAT444, in both single ISP and dual ISP environments. The purpose of this testing was to identify applications where the technology either breaks or significantly impacts the user experience. The outcome of the testing revealed that applications such as video streaming, video gaming and peer-to-peer file sharing are impacted by NAT444.</p>
<p id="rfc.section.1.p.3">From June &#8211; October 2011, CableLabs conducted additional testing of CGN technologies, including both NAT444 and Dual-Stack Lite.  The testing focused on working with several vendors including A10, Alcatel-Lucent, and Juniper to optimize the performance of those applications that experienced negative impacts during earlier CGN testing and to expand the testing to DS-Lite.</p>
<p id="rfc.section.1.p.4">Applications that were tested included but were not necessarily limited to the following:</p>
<p></p>

<ol>
<li>Video/Audio streaming, e.g. Silverlight-based applications, Netflix, YouTube, Pandora 2.</li>
<li>Peer-to-peer applications, e.g. video gaming, uTorrent</li>
<li>On line gaming, e.g. Xbox</li>
<li>Large file transfers using File Transfer Protocol (FTP)</li>
<li>Session Initiation Protocol (SIP) calls via X-Lite, Skype</li>
<li>Social Networking, e.g. Facebook, Webkinz</li>
<li>Video chat, e.g. Skype</li>
<li>Web conferencing</li>
</ol>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Testing Scope</h1>
<p></p>
<h1 id="rfc.section.2.1">
<a href="#rfc.section.2.1">2.1.</a> <a href="#TestCases" id="TestCases">Test Cases</a>
</h1>
<p id="rfc.section.2.1.p.1">The diagrams below depict the general network architecture used for testing NAT444 and Dual Stack-Lite co-existence technologies at CableLabs.</p>
<h1 id="rfc.section.2.1.1">
<a href="#rfc.section.2.1.1">2.1.1.</a> Case1: Single Client, Single Home Network, Single Service Provider</h1>
<div id="#rfc.figure.1"></div>
<pre>
		               ^^^^^^^^
		              (Internet)
		               vvvvvvvv
		                  |
		                  |
		           +---------------+
		           |      CGN      |
		           +---------------+
		                |
		           +---------------+
		           |      CMTS     |
		           +---------------+
		                 |
		           +---------------+
		           |      CM       |
		           +---------------+ 
		                 |
		          +-------------------------+
		          |      Home Router        |
		          +-------------------------+
		                 |
		          +---------------+
		          |      Client   |
		          +---------------+
</pre>
<p id="rfc.section.2.1.1.p.1">This is a typical case for a client accessing content on the Internet. For this case, we focused on basic web browsing, voice and video chat, instant messaging, video streaming (using YouTube, Google Videos , etc.), Torrent leeching and seeding, FTP, and gaming.</p>
<h1 id="rfc.section.2.1.2">
<a href="#rfc.section.2.1.2">2.1.2.</a> Case2: Two Clients, Single Home Network, Single Service Provider</h1>
<div id="#rfc.figure.2"></div>
<pre>
		               ^^^^^^^^
		              (Internet)
		               vvvvvvvv
		                 |
		                 |
		          +---------------+
		          |      CGN      |
		          +---------------+
		                 |
		          +---------------+
		          |      CMTS     |
		          +---------------+
		                |
		          +---------------+
		          |      CM       |
		          +---------------+ 
		                |
		         +-------------------------+
		         |      Home Router        |
		         +-------------------------+
		                |                |
		  +---------------+   +---------------+
		  |      Client   |   |      Client   |
		  +---------------+   +---------------+
</pre>
<p id="rfc.section.2.1.2.p.1">This is similar to Case 1, except that two clients are behind the same LSN and in the same home network. This test case was conducted to observe any change in speed in basic web browsing and video streaming.</p>
<h1 id="rfc.section.2.1.3">
<a href="#rfc.section.2.1.3">2.1.3.</a> Case3: Two Clients, Two Home Networks, Single Service Provider</h1>
<div id="#rfc.figure.3"></div>
<pre>
			      ^^^^^^^^
			     (Internet)
			      vvvvvvvv
			         |
			         |
			  +---------------+
			  |      CGN      |
			  +---------------+
			          |
			  +---------------+
			  |      CMTS     |
			  +---------------+
			          |
	----------------------------------------	
	            |                     |
	+---------------+         +---------------+
	|      CM       |         |      CM       |
	+---------------+         +---------------+
	       	|                     |
+-------------------------+ +-------------------------+
|      Home Router        | |      Home Router        |
+-------------------------+ +-------------------------+
	        |                     |
  +---------------+         +---------------+
  |      Client   |         |      Client   |
  +---------------+         +---------------+
</pre>
<p id="rfc.section.2.1.3.p.1">In this scenario, the two clients are under the same LSN but behind two different gateways. This simulates connectivity between two residential subscribers on the same ISP. We tested peer-to-peer applications.</p>
<h1 id="rfc.section.2.1.4">
<a href="#rfc.section.2.1.4">2.1.4.</a> Case4: Two Clients, Two Home Networks, Two Service Providers Cross ISP</h1>
<div id="#rfc.figure.4"></div>
<pre>
	 ^^^^^^^^                    ^^^^^^^^
	( ISP A )                   ( ISP B  )
	 Vvvvvvvv                    vvvvvvvv
          |                           |
	+---------------+         +---------------+
	|      LSN      |         |      LSN      |
	+---------------+         +---------------+
            |                         |
	+---------------+         +---------------+
	|      CMTS     |         |      CMTS     |
	+---------------+         +---------------+
           |                          | 
	+---------------+         +---------------+
	|      CM       |         |      CM       |
	+---------------+         +---------------+
	      |                         |
+-------------------------+ +-------------------------+
|      Home Router        | |      Home Router        |
+-------------------------+ +-------------------------+
	       |                        |
  +---------------+         +---------------+
  |      Client   |         |      Client   |
  +---------------+         +---------------+
</pre>
<p id="rfc.section.2.1.4.p.1">This test case is similar to Case 1 but with the addition of another identical ISP. This topology allows us to test traffic between two residential customers connected across the Internet. We focused on client-to-client applications such as IM and peer-to-peer.</p>
<h1 id="rfc.section.2.2">
<a href="#rfc.section.2.2">2.2.</a> General Test Environment</h1>
<p id="rfc.section.2.2.p.1">The lab environment was intended to emulate multiple service provider networks with a CGN deployed, and with connectivity to the public IPv4 or IPv6 internet (as dictated by the co-existence technology under test). This was accomplished by configuring a CGN behind multiple CMTSes and setting up multiple home networks for each ISP. Testing involved sending traffic to and from the public internet in both single and dual ISP environments, using both single and multiple home networks. The following equipment was used for testing:</p>
<p></p>

<ul>
<li>CGN</li>
<li>CMTS</li>
<li>IP sniffer</li>
<li>RF sniffer</li>
<li>Metrics tools (for network performance)</li>
<li>CPE gateway devices</li>
<li>Laptop or desktop computers (multiple OS used)</li>
<li>Gaming consoles</li>
<li>iPad or tablet devices</li>
<li>other CE equipment, e.g. BluRay players supporting miscellaneous applications</li>
</ul>
<p id="rfc.section.2.2.p.3">One or more CPE gateway devices were configured in the home network. One or more host devices behind the gateways were also configured in order to test conditions such as multiple users on multiple home networks in the CGN architecture, both in single and dual ISP environments.</p>
<p id="rfc.section.2.2.p.4">The scope of testing was honed down to the specific types of applications and network conditions that demonstrated a high probability of diminishing user experience based on prior testing. The following use cases were tested:</p>
<p></p>

<ol>
<li>Video streaming over Netflix</li>
<li>Video streaming over YouTube</li>
<li>Video streaming over Joost</li>
<li>On line gaming with Xbox (one user)</li>
<li>Peer to Peer gaming with Xbox (two users)</li>
<li>Bit Torrent/uTorrent file seeding/leeching</li>
<li>Pandora internet radio</li>
<li>FTP server</li>
<li>Web conferencing (GTM, WebEx)</li>
<li>Social Networking &#8211; Facebook, Webkinz (chat, YouTube, file transfer)</li>
<li>Internet Archive &#8211; Video and Audio streaming; large file downloads</li>
<li>Video streaming using iClips</li>
<li>SIP Calls &#8211; X-Lite, Skype, PJSIP</li>
<li>MS Smooth Streaming (Silverlight)</li>
<li>Video chat &#8211; Skype, OoVoo</li>
</ol>
<p id="rfc.section.2.2.p.6">The following CPE devices were used for testing these applications on one or more home networks:</p>
<p></p>

<ol>
<li>Windows 7, XP and Vista based laptops</li>
<li>MAC OS X laptop</li>
<li>iPad</li>
<li>Xbox gaming consoles</li>
<li>iPhone and Android smartphones</li>
<li>LG Blu-Ray player (test applications such as Netflix, Vudu, etc.)</li>
<li>Home routers &#8211; Netgear, Linksys, D-Link, Cisco, Apple</li>
</ol>
<h1 id="rfc.section.2.3">
<a href="#rfc.section.2.3">2.3.</a> Test Metrics</h1>
<p id="rfc.section.2.3.p.1">Metrics data that were collected during the course of testing were related to throughput, latency, and jitter. These metrics were evaluated under three conditions:</p>
<p></p>

<ol>
<li>Initial finding on the CGN configuration used for testing</li>
<li>Retest of the same test scenario with the CGN removed from the network</li>
<li>Retest with a new configuration (optimized) on the CGN (when possible)</li>
</ol>
<p id="rfc.section.2.3.p.3">In our testing, we found no significant differences with respect to latency or jitter when the CGN was in the network versus when it was not present in the network. It should be noted that we did not conduct any performance testing and metrics gathered were limited to single session scenarios. Also, bandwidth was not restricted on the DOCSIS network. Simulated homes shared a single DOCSIS upstream and downstream channel.</p>
<p id="rfc.section.2.3.p.4">Note: Performance testing as defined by CableLabs includes load testing, induction of impairments on the network, etc. This type of testing was out of scope for CGN testing.</p>
<h1 id="rfc.section.2.4">
<a href="#rfc.section.2.4">2.4.</a> Test Scenarios Executed</h1>
<p id="rfc.section.2.4.p.1">The following test scenarios were executed using the aforementioned applications and test equipment:</p>
<p></p>

<ol>
<li>Single ISP, Single Home Network with Single User</li>
<li>Single ISP, Two Home Networks With One User on Each Network</li>
<li>Dual ISPs, Single Home Network with Single User on each ISP</li>
<li>Dual ISPs, One Home Network With One User ISP-A; Two Home Networks with one user on each for ISP-B</li>
</ol>
<p id="rfc.section.2.4.p.3">These test scenarios were executed for both NAT444 and DS-Lite technologies.</p>
<h1 id="rfc.section.2.5">
<a href="#rfc.section.2.5">2.5.</a> General Test Methodologies</h1>
<p id="rfc.section.2.5.p.1">The CGN was configured for optimal setting for the specific test being executed for NAT444 or DS-Lite. Individual vendors provided validation of the configuration used for the co-existence technology under test prior to the start of testing. Some NAT444 testing used private <a href="#RFC1918">[RFC1918]</a> IPv4 space between the CGN and CPE router; other tests used public (non-<a href="#RFC1918">[RFC1918]</a>) IPv4 space between the CGN and CPE router.  With the exception of 6to4 (<a href="#RFC3056">[RFC3056]</a>) traffic, we observed no difference in test results whether private or public address space was used. 6to4 failed when public space was used between the CGN and CPE router was public, but CPE routers did not initiate 6to4 when private space was used.</p>
<p id="rfc.section.2.5.p.2">CPE gateways and client devices were configured with IPv4 or IPv6 addresses using DHCP or manual configuration as required by each of the devices used in the test.</p>
<p id="rfc.section.2.5.p.3">All devices were brought to operational state. Connectivity of CPE devices to provider network and public Internet were verified prior to start of each test.</p>
<p id="rfc.section.2.5.p.4">IP sniffers and metrics tools were configured as required before starting tests. IP capture and metrics data was collected for all failed test scenarios. Sniffing was configured behind the home routers, north and south of the CMTS, and north and south of the CGN.</p>
<p id="rfc.section.2.5.p.5">The test technician executed test scenarios listed above, for single and dual ISP environments, testing multiple users on multiple home networks, using the applications described above, where applicable to the each specific test scenario. Results checklists were compiled for all tests executed and for each combination of devices tested.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Observed CGN Impacts</h1>
<p id="rfc.section.3.p.1">CGN testing revealed that basic services such as e-mail and web browsing worked normally and as expected. However, there were some service affecting issues noted for applications that fall into two categories; dropped service and degraded service. In addition, for some specific applications in which the performance was degraded, throughput, latency and jitter measurements were taken. We observed that performance often differs from vendor to vendor and from test environment to test environment, and the results are somewhat difficult to predict. So as to not become a comparison between different vendor implementations, these results are presented in summary form. When issues were identified, we worked with the vendors involved to confirm the specific issues and explore workarounds. Except where noted, impacts to NAT444 and DS-Lite were similar.</p>
<p id="rfc.section.3.p.2">In 2010 testing, we identified that IPv6 transition technologies such as 6to4 <a href="#RFC3056">[RFC3056]</a> and Teredo <a href="#RFC4380">[RFC4380]</a>) fail outright or are subject to severe service degradation. We did not repeat transition technology testing in 2011.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Dropped Services</h1>
<p id="rfc.section.3.1.p.1">Several peer-to-peer applications failed in both the NAT444 and Dual-Stack Lite environments. Specifically, peer-to-peer gaming using Xbox, and peer-to-peer SIP calls using the PJSIP client did not succeed. Many CGN devices use "full cone" NAT so that once the CGN maps a port for outbound services, it will accept incoming connections to that port. However, some applications did not first send outgoing traffic and hence did not open an incoming port through the CGN. Other applications try to open a particular fixed port through the CGN; while service will work for a single subscriber behind the CGN, it fails when multiple subscribers try to use that port.</p>
<p id="rfc.section.3.1.p.2">PJSIP and other SIP software worked when clients used a registration server to initiate calls, provided that the client inside the CGN initiated the traffic first and that only one SIP user was active behind a single IPv4 address at any given time. However, in our testing, we observed that when making a direct client-to-client SIP call across two home networks on a single ISP, or when calling from a single home network across dual ISPs, calls could neither be initiated nor received.</p>
<p id="rfc.section.3.1.p.3">In the case of peer-to-peer gaming between two Xbox 360 users in different home networks on the same ISP, the game could not be connected between the two users. Both users shared an outside IP address, and tried to connect to the same port, causing a connection failure. There are some interesting nuances to this problem. In the case where two users are in the same home network and the scenario is through a single ISP, when the Xbox tries to register with the Xbox server, the server sees that both Xboxes are coming through the same public IP address and directs the devices to connect using their internal IP addresses. So, the connection ultimately gets established directly between both Xboxes via the home gateway, rather than the Xbox server. In the case where there are two Xbox users on two different home networks using a single ISP, and the CGN is configured with only one public IPv4 address, this scenario will not work because the route between the two users cannot be determined. However, if the CGN is configured with two public NAT IP addresses this scenario will work because now there is a unique IP address to communicate with.  This is not an ideal solution, however, because it means that there is a one-to-one relationship between IP addresses in the public NAT and the number of Xbox users on each network.</p>
<p id="rfc.section.3.1.p.4">Other peer-to-peer applications that were noted to fail were seeding sessions initiated on Bittorent and uTorrent. In our test, torrent seeding was initiated on a client inside the CGN. Leeching was initiated using a client on the public Internet. It was observed that direct peer-to-peer seeding did not work. However, the torrent session typically redirected the leeching client to a proxy server, in which case the torrent session was set up successfully. Additionally, with the proxy in the network, re-seeding via additional leech clients worked as would be expected for a typical torrent session. Finally, uTorrent tries to use STUN to identify its outside address. In working with vendors, we learned that increasing the STUN timeout to 4 minutes improved uTorrent seeding performance behind a CGN, resulting in the ability for the uTorrent client to open a port and successfully seed content.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Degraded Services</h1>
<p id="rfc.section.3.2.p.1">There were several applications that diminished the user experience in our environment. We measured these variations in user experience against a baseline IPv4 environment where NAT is not deployed.  Specifically, large size file transfers and multiple video streaming sessions initiated on a single client on the same home network proved to be problematic with some home routers behind the CGN.</p>
<p id="rfc.section.3.2.p.2">In our testing, we tried large file transfers from several FTP sites, as well as downloading sizable audio and video files (750MB &#8211; 1.4 GB) from the Internet Archive. We observed that when Dual-Stack Lite was implemented for some specific home router and client combinations, the transfer rate was markedly slower. For example, PC1 using one operating system behind the same home router as PC2 using a different operating system yielded a transfer rate of 120Kbps for PC1, versus 250Kbps for PC2. Our conclusion is that varying combinations of home routers and CE client devices may result in a user experience that is less than what the user would expect for typical applications. It is also difficult to predict which combinations of CPE routers and CE devices will produce a reduced experience for the user. We did not analyze the root cause of the divergence in performance across CE devices, as this was beyond the scope of our testing. However, as this issue was specific to Dual-Stack Lite, we suspect that it is related to the MTU.</p>
<p id="rfc.section.3.2.p.3">While video streaming sessions for a single user generally performed well, testing revealed that video streaming sessions such as Microsoft Smooth Streaming technology (i.e. Silverlight) or Netflix might also exhibit some service impacting behavior. In particular, this was observed on one older, yet popular and well-known CPE router where the first session was severely degraded when a second session was initiated in the same home network. Traffic from the first session ceased for 8 s once the second session was initiated. While we are tempted to write this off as a problematic home router, its popularity suggests that home router interactions may cause issues in NAT444 deployments (newer routers that support DS-Lite were not observed to experience this condition). Overall, longer buffering times for video sessions were noted for most client devices behind all types of home routers. However, once the initial buffering was complete, the video streams were consistently smooth. In addition, there were varying degrees as to how well multiple video sessions were displayed on various client devices across the CPE routers tested. Some video playback devices performed better than others.</p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> Improvements since 2010</h1>
<p id="rfc.section.3.3.p.1">Since CableLabs completed initial CGN testing in 2010, there have been quantifiable improvements in performance over CGN since that time. These improvements may be categorized as follows:</p>
<p></p>

<ul>
<li>Content provider updates</li>
<li>Application updates</li>
<li>Improvements on the CGNs themselves</li>
</ul>

<p>In terms of content provider updates, we have noted improvements in the overall performance of streaming applications in the CGN environment. Whereas applications such as streaming video were very problematic a year ago with regard to jitter and latency, our most recent testing revealed that there is less of an issue with these conditions, except in some cases when multiple video streaming sessions were initiated on the same client using specific types of home routers. Applications such as MS Smooth Streaming appear to have addressed these issues to some degree.</p>
<p id="rfc.section.3.3.p.3">As far as application updates, use of STUN and/or proxy servers to offset some of the limitations of NAT and tunneling in the network are more evident as workarounds to the peer-to-peer issues. Applications appear to have incorporated other mechanisms for delivering content faster, even if buffering times are somewhat slower and the content is not rendered as quickly.</p>
<p id="rfc.section.3.3.p.4">CGN vendors have also upgraded their devices to mitigate several known issues with specific applications. With regard to addressing peer-to-peer SIP call applications, port reservations appear to be a workaround to the problem. However, this approach has limitations because of there are limited numbers of users that can have port reservations at any given time. For example, one CGN implementation allowed a port reservation to be made on port 5060 (default SIP port) but this was the only port that could be configured for the SIP client. This means that only one user can be granted the port reservation.</p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> Additional CGN Challenges</h1>
<p id="rfc.section.3.4.p.1">There are other challenges that arise when using shared IPv4 address space, as with NAT444. Some of these challenges include: </p>

<ul>
<li>Loss of geolocation information - Often, translation zones will cross traditional geographic boundaries. Since the source addresses of packets traversing an LSN are set to the external address of the LSN, it is difficult for external entities to associate IP/Port information to specific locations/areas.</li>
<li>Lawful Intercept/Abuse Response - Due to the nature of NAT444 address sharing, it will be hard to determine the customer/endpoint responsible for initiating a specific IPv4 flow based on source IP address alone. Content providers, service providers, and law enforcement agencies will need to use new mechanisms (e.g., logging source port and timestamp in addition to source IP address) to potentially mitigate this new problem. This may impact the timely response to various identification requests.  See <a href="#RFC6269">[RFC6269]</a>
</li>
<li>Antispoofing - Multiplexing users behind a single IP address can lead to situations where traffic from that address triggers antispoofing/DDoS protection mechanisms, resulting in unintentional loss of connectivity for some users.</li>
</ul>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> 2011 Summary of Results</h1>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> NAT444</h1>
<div id="#rfc.table.1"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>NAT-444</caption>
<thead><tr>
<th class="left">Test Scenario (per Test Plan)</th>
<th class="left">Single ISP, Single HN, Single User</th>
<th class="left">Single ISP, Two HN, Single User on Each</th>
<th class="left">Dual ISP, One HN with One User on Each ISP</th>
<th class="left">Dual ISP, One HN+One User on ISP-A, Two HN with One User on Each on ISP-B</th>
<th class="left">Notes</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Video streaming over Netflix</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">fails behind one router</td>
</tr>
<tr>
<td class="left">Video streaming over YouTube</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Video streaming over Joost</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Online gaming with one user</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">NT</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Peer to Peer gaming with two users</td>
<td class="left">Pass</td>
<td class="left">Fail</td>
<td class="left">Pass</td>
<td class="left">NT</td>
<td class="left">fails when both users NAT to same address</td>
</tr>
<tr>
<td class="left">Bit Torrent uTorrent file seeding</td>
<td class="left">Fail</td>
<td class="left">Fail</td>
<td class="left">Fail</td>
<td class="left">Fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Bit Torrent uTorrent file leeching</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Pandora internet radio</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">FTP server</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Web conferencing GTM</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Social Networking Facebook</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Social Networking Webkinz</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">X-Lite for SIP calls with proxy</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">X-Lite for SIP calls no proxy</td>
<td class="left">Fail</td>
<td class="left">Fail</td>
<td class="left">Fail</td>
<td class="left">Fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Skype text chat</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Skype video chat</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Oovoo</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">MS Smooth streaming</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Internet Archive video streaming</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Internet Archive audio streaming</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Internet Archive file download</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Iclips</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left">Pass</td>
<td class="left"></td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> DS-Lite</h1>
<div id="#rfc.table.2"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>DSLite</caption>
<thead><tr>
<th class="left">Test Scenario (per Test Plan)</th>
<th class="left">DS-Lite Test Results</th>
<th class="left">Duration of Test Performed</th>
<th class="left">Description of Test Execution</th>
<th class="left">General Observations/Notes</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Video streaming over Netflix</td>
<td class="left">Pass</td>
<td class="left">15</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Video streaming over YouTube</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Video streaming over Joost</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">On line gaming (one user)</td>
<td class="left">Pass</td>
<td class="left">15</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Peer to Peer gaming (two users)</td>
<td class="left">Fail</td>
<td class="left">NA</td>
<td class="left">user inside HN1 playing game against user inside HN2</td>
<td class="left">Users inside both HN are not able to connect. The error shown on console- "The game session is no longer available"</td>
</tr>
<tr>
<td class="left">Bit Torrent/uTorrent file seeding</td>
<td class="left">Fail</td>
<td class="left">12</td>
<td class="left">user on the internet is able to download file using proxy server and not peer-to-peer</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Bit Torrent/uTorrent file leeching</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Pandora internet radio</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">FTP server</td>
<td class="left">Pass</td>
<td class="left">700 Mb</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Web conferencing (GTM)</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Social Networking - Facebook</td>
<td class="left">Pass</td>
<td class="left">NA</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Social Networking - Webkinz</td>
<td class="left">Pass</td>
<td class="left">NA</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">X-Lite (for SIP calls) (proxy given)</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">X-Lite (for SIP calls) (proxy not given)</td>
<td class="left">Fail</td>
<td class="left">NA</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Skype text chat</td>
<td class="left">Pass</td>
<td class="left">NA</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Skype video chat</td>
<td class="left">Pass</td>
<td class="left">20</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Oovoo</td>
<td class="left">Pass</td>
<td class="left">15</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">MS Smooth streaming</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Internet Archive - video streaming</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Internet Archive - audio streaming</td>
<td class="left">Pass</td>
<td class="left">5</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Internet Archive - file download</td>
<td class="left">Pass</td>
<td class="left">80 Mb</td>
<td class="left"></td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Iclips</td>
<td class="left">Pass</td>
<td class="left">10</td>
<td class="left"></td>
<td class="left"></td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> 2010 Summary of Results</h1>
<p id="rfc.section.5.p.1">The tables below summarize results from 2010 NAT444 testing at CableLabs, Time Warner Cable, and Rogers Communications. They are included for comparison with 2011 results, documented above.</p>
<h1 id="rfc.section.5.1">
<a href="#rfc.section.5.1">5.1.</a> Case1: Single Client, Single Home Network, Single Service Provider</h1>
<div id="#rfc.table.3"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Case1</caption>
<thead><tr>
<th class="left">Test Case</th>
<th class="left">Results</th>
<th class="left">Notes</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Web browsing</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Email</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">FTP download</td>
<td class="left">pass</td>
<td class="left">performance degraded on very large downloads</td>
</tr>
<tr>
<td class="left">Bittorrent leeching</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Bittorrent seeding</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Video streaming</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Voice chat</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Netflix streaming</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Instant Messaging</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Ping</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Traceroute</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Remote desktop</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">VPN</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Xbox live</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Xbox online</td>
<td class="left">pass</td>
<td class="left">Blocked by some LSNs.</td>
</tr>
<tr>
<td class="left">Xbox network test</td>
<td class="left">fail</td>
<td class="left">Your NAT type is moderate. For best online experience you need an open NAT configuration. You should enable UPnP on the router.</td>
</tr>
<tr>
<td class="left">Nintendo Wii</td>
<td class="left">pass behind one LSN, fail behind another</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Playstation 3</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Team Fortress 2</td>
<td class="left">fail</td>
<td class="left">pass behind one LSN, but performance degraded</td>
</tr>
<tr>
<td class="left">Starcraft II</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">World of Warcraft</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Call of Duty</td>
<td class="left">pass</td>
<td class="left">performance degraded behind one LSN</td>
</tr>
<tr>
<td class="left">Slingcatcher</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Netflix Party (Xbox)</td>
<td class="left">fail</td>
<td class="left">pass behind one LSN</td>
</tr>
<tr>
<td class="left">Hulu</td>
<td class="left">pass</td>
<td class="left">performance degraded behind one LSN</td>
</tr>
<tr>
<td class="left">AIM File Tranfer</td>
<td class="left">pass</td>
<td class="left">performance degraded</td>
</tr>
<tr>
<td class="left">Webcam</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">6to4</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Teredo</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.5.2">
<a href="#rfc.section.5.2">5.2.</a> Case2: Two Clients, Single Home Network, Single Service Provider</h1>
<div id="#rfc.table.4"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Case2</caption>
<thead><tr>
<th class="left">Test Case</th>
<th class="left">Results</th>
<th class="left">Notes</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Bittorrent leeching</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Bittorrent seeding</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Video streaming</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Voice chat</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Netflix streaming</td>
<td class="left">pass</td>
<td class="left">performance severely impacted, eventually failed</td>
</tr>
<tr>
<td class="left">IM</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Limewire leeching</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Limewire seeding</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.5.3">
<a href="#rfc.section.5.3">5.3.</a> Case3: Two Clients, Two Home Networks, Single Service Provider</h1>
<div id="#rfc.table.5"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Case3</caption>
<thead><tr>
<th class="left">Test Case</th>
<th class="left">Results</th>
<th class="left">Notes</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Limewire leeching</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Limewire seeding</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Utorrent leeching</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Utorrent seeding</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.5.4">
<a href="#rfc.section.5.4">5.4.</a> Case4: Two Clients, Two Home Networks, Two Service Providers Cross ISP</h1>
<div id="#rfc.table.6"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<caption>Case4</caption>
<thead><tr>
<th class="left">Test Case</th>
<th class="left">Results</th>
<th class="left">Notes</th>
</tr></thead>
<tbody>
<tr>
<td class="left">Skype voice call</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">IM</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">FTP</td>
<td class="left">fail</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Facebook chat</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
<tr>
<td class="left">Skype video</td>
<td class="left">pass</td>
<td class="left"></td>
</tr>
</tbody>
</table>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.6.p.1">This document has no IANA considerations.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">Security considerations are described in <a href="#I-D.shirasaki-nat444">[I-D.shirasaki-nat444]</a>.</p>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="I-D.shirasaki-nat444">[I-D.shirasaki-nat444]</b></td>
<td class="top">
<a>Yamagata, I</a>, <a>Shirasaki, Y</a>, <a>Nakagawa, A</a>, <a>Yamaguchi, J</a> and <a>H Ashida</a>, "<a href="http://tools.ietf.org/html/draft-shirasaki-nat444-02">NAT444</a>", Internet-Draft draft-shirasaki-nat444-02, July 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3056">[RFC3056]</b></td>
<td class="top">
<a>Carpenter, B.</a> and <a>K. Moore</a>, "<a href="http://tools.ietf.org/html/rfc3056">Connection of IPv6 Domains via IPv4 Clouds</a>", RFC 3056, February 2001.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4380">[RFC4380]</b></td>
<td class="top">
<a>Huitema, C.</a>, "<a href="http://tools.ietf.org/html/rfc4380">Teredo: Tunneling IPv6 over UDP through Network Address Translations (NATs)</a>", RFC 4380, February 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6333">[RFC6333]</b></td>
<td class="top">
<a>Durand, A.</a>, <a>Droms, R.</a>, <a>Woodyatt, J.</a> and <a>Y. Lee</a>, "<a href="http://tools.ietf.org/html/rfc6333">Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion</a>", RFC 6333, August 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC1918">[RFC1918]</b></td>
<td class="top">
<a href="mailto:yakov@cisco.com" title="Cisco systems">Rekhter, Y.</a>, <a href="mailto:rgm3@is.chrysler.com" title="Chrysler Corporation">Moskowitz, R.</a>, <a href="mailto:Daniel.Karrenberg@ripe.net" title="RIPE Network Coordination Centre">Karrenberg, D.</a>, <a href="mailto:GeertJan.deGroot@ripe.net" title="RIPE Network Coordination Centre">Groot, G.</a> and <a href="mailto:lear@sgi.com" title="Silicon Graphics, Inc.">E. Lear</a>, "<a href="http://tools.ietf.org/html/rfc1918">Address Allocation for Private Internets</a>", BCP 5, RFC 1918, February 1996.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6269">[RFC6269]</b></td>
<td class="top">
<a>Ford, M.</a>, <a>Boucadair, M.</a>, <a>Durand, A.</a>, <a>Levis, P.</a> and <a>P. Roberts</a>, "<a href="http://tools.ietf.org/html/rfc6269">Issues with IP Address Sharing</a>", RFC 6269, June 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> Acknowledgements</h1>
<p id="rfc.section.Appendix A.p.1">Thanks to the following people for their testing, guidance, and feedback: </p>

<dl>
<dt></dt>
<dd style="margin-left: 8">Paul Eldridge</dd>
<dt></dt>
<dd style="margin-left: 8">Abishek Chandrasekaran</dd>
<dt></dt>
<dd style="margin-left: 8">Vivek Ganti</dd>
<dt></dt>
<dd style="margin-left: 8">Joey Padden</dd>
<dt></dt>
<dd style="margin-left: 8">Lane Johnson</dd>
</dl>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Chris Donley</span> 
	  <span class="n hidden">
		<span class="family-name">Donley</span>
	  </span>
	</span>
	<span class="org vcardline">CableLabs</span>
	<span class="adr">
	  <span>858 Coal Creek Circle</span>

	  <span class="vcardline">
		<span class="locality">Louisville</span>,  
		<span class="region">CO</span> 
		<span class="code">80027</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:c.donley@cablelabs.com">c.donley@cablelabs.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Lee Howard</span> 
	  <span class="n hidden">
		<span class="family-name">Howard</span>
	  </span>
	</span>
	<span class="org vcardline">Time Warner Cable</span>
	<span class="adr">
	  <span>13241 Woodland Park Rd</span>

	  <span class="vcardline">
		<span class="locality">Herndon</span>,  
		<span class="region">VA</span> 
		<span class="code">20171</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:william.howard@twcable.com">william.howard@twcable.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Victor Kuarsingh</span> 
	  <span class="n hidden">
		<span class="family-name">Kuarsingh</span>
	  </span>
	</span>
	<span class="org vcardline">Rogers Communications</span>
	<span class="adr">
	  <span>8200 Dixie Road</span>

	  <span class="vcardline">
		<span class="locality">Brampton</span>,  
		<span class="region">ON</span> 
		<span class="code">L6T 0C1</span>
	  </span>
	  <span class="country-name vcardline">Canada</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:victor.kuarsingh@rci.rogers.com">victor.kuarsingh@rci.rogers.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">John Berg</span> 
	  <span class="n hidden">
		<span class="family-name">Berg</span>
	  </span>
	</span>
	<span class="org vcardline">CableLabs</span>
	<span class="adr">
	  <span>858 Coal Creek Circle</span>

	  <span class="vcardline">
		<span class="locality">Louisville</span>,  
		<span class="region">CO</span> 
		<span class="code">80027</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:j.berg@cablelabs.com">j.berg@cablelabs.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Jinesh Doshi</span> 
	  <span class="n hidden">
		<span class="family-name">Doshi</span>
	  </span>
	</span>
	<span class="org vcardline">University of Colorado</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jinesh.doshi@colorado.edu">jinesh.doshi@colorado.edu</a></span>

  </address>
</div>

</body>
</html>