<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Stream Control Transmission Protocol (SCTP) Network Address Translation Support</title>
<meta content="Randall R. Stewart" name="author">
<meta content="Michael Tüxen" name="author">
<meta content="Irene Rüngeler" name="author">
<meta content="
       The Stream Control Transmission Protocol (SCTP) provides a reliable
communications channel between two end-hosts in many ways similar to the
Transmission Control Protocol (TCP).
With the widespread deployment of Network Address Translators (NAT),
specialized code has been added to NAT functions for TCP that allows multiple
hosts to reside behind a NAT function and yet share a single IPv4 address,
even when two hosts (behind a NAT function) choose the same port numbers for
their connection.
This additional code is sometimes classified as Network Address and Port
Translation (NAPT). 
       This document describes the protocol extensions required for the SCTP
endpoints and the mechanisms for NAT functions necessary to provide similar
features of NAPT in the single point and multi point traversal scenario. 
       Finally, a YANG module for SCTP NAT is defined. 
    " name="description">
<meta content="xml2rfc 2.47.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-tsvwg-natsupp-19" name="ietf.draft">
<link href="/tmp/draft-ietf-tsvwg-natsupp-hxr5sgib.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">SCTP NAT Support</td>
<td class="right">July 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Stewart, et al.</td>
<td class="center">Expires 29 January 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-tsvwg-natsupp-18-to-be</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-07-28" class="published">28 July 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-01-29">29 January 2021</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. R. Stewart</div>
<div class="org">Netflix, Inc.</div>
</div>
<div class="author">
      <div class="author-name">M. Tüxen</div>
<div class="org">Münster Univ. of Appl. Sciences</div>
</div>
<div class="author">
      <div class="author-name">I. Rüngeler</div>
<div class="org">Münster Univ. of Appl. Sciences</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Stream Control Transmission Protocol (SCTP) Network Address Translation Support</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The Stream Control Transmission Protocol (SCTP) provides a reliable
communications channel between two end-hosts in many ways similar to the
Transmission Control Protocol (TCP).
With the widespread deployment of Network Address Translators (NAT),
specialized code has been added to NAT functions for TCP that allows multiple
hosts to reside behind a NAT function and yet share a single IPv4 address,
even when two hosts (behind a NAT function) choose the same port numbers for
their connection.
This additional code is sometimes classified as Network Address and Port
Translation (NAPT).<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document describes the protocol extensions required for the SCTP
endpoints and the mechanisms for NAT functions necessary to provide similar
features of NAPT in the single point and multi point traversal scenario.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">Finally, a YANG module for SCTP NAT is defined.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 29 January 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-conventions" class="xref">Conventions</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-motivation" class="xref">Motivation</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-sctp-nat-traversal-scenario" class="xref">SCTP NAT Traversal Scenarios</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-single-point-traversal" class="xref">Single Point Traversal</a><a href="#section-toc.1-1.4.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1.2.2">
                    <p id="section-toc.1-1.4.2.1.2.2.1"><a href="#section-4.1.2" class="xref">4.1.2</a>.  <a href="#name-multi-point-traversal" class="xref">Multi Point Traversal</a><a href="#section-toc.1-1.4.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-limitations-of-classical-na" class="xref">Limitations of Classical NAPT for SCTP</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-the-sctp-specific-variant-o" class="xref">The SCTP-Specific Variant of NAT</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-data-formats" class="xref">Data Formats</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-modified-chunks" class="xref">Modified Chunks</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="xref">5.1.1</a>.  <a href="#name-extended-abort-chunk" class="xref">Extended ABORT Chunk</a><a href="#section-toc.1-1.5.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="xref">5.1.2</a>.  <a href="#name-extended-error-chunk" class="xref">Extended ERROR Chunk</a><a href="#section-toc.1-1.5.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-new-error-causes" class="xref">New Error Causes</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-vtag-and-port-number-collis" class="xref">VTag and Port Number Collision Error Cause</a><a href="#section-toc.1-1.5.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="xref">5.2.2</a>.  <a href="#name-missing-state-error-cause" class="xref">Missing State Error Cause</a><a href="#section-toc.1-1.5.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.2.2.3">
                    <p id="section-toc.1-1.5.2.2.2.3.1"><a href="#section-5.2.3" class="xref">5.2.3</a>.  <a href="#name-port-number-collision-error" class="xref">Port Number Collision Error Cause</a><a href="#section-toc.1-1.5.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-new-parameters" class="xref">New Parameters</a><a href="#section-toc.1-1.5.2.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="xref">5.3.1</a>.  <a href="#name-disable-restart-parameter" class="xref">Disable Restart Parameter</a><a href="#section-toc.1-1.5.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="xref">5.3.2</a>.  <a href="#name-vtags-parameter" class="xref">VTags Parameter</a><a href="#section-toc.1-1.5.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-procedures-for-sctp-endpoin" class="xref">Procedures for SCTP Endpoints and NAT Functions</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-association-setup-considera" class="xref">Association Setup Considerations for Endpoints</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-handling-of-internal-port-n" class="xref">Handling of Internal Port Number and Verification Tag Collisions</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-nat-function-considerations" class="xref">NAT Function Considerations</a><a href="#section-toc.1-1.6.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-endpoint-considerations" class="xref">Endpoint Considerations</a><a href="#section-toc.1-1.6.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-handling-of-internal-port-nu" class="xref">Handling of Internal Port Number Collisions</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="xref">6.3.1</a>.  <a href="#name-nat-function-considerations-2" class="xref">NAT Function Considerations</a><a href="#section-toc.1-1.6.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.3.2.2">
                    <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="xref">6.3.2</a>.  <a href="#name-endpoint-considerations-2" class="xref">Endpoint Considerations</a><a href="#section-toc.1-1.6.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-handling-of-missing-state" class="xref">Handling of Missing State</a><a href="#section-toc.1-1.6.2.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.4.2.1">
                    <p id="section-toc.1-1.6.2.4.2.1.1"><a href="#section-6.4.1" class="xref">6.4.1</a>.  <a href="#name-nat-function-considerations-3" class="xref">NAT Function Considerations</a><a href="#section-toc.1-1.6.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.4.2.2">
                    <p id="section-toc.1-1.6.2.4.2.2.1"><a href="#section-6.4.2" class="xref">6.4.2</a>.  <a href="#name-endpoint-considerations-3" class="xref">Endpoint Considerations</a><a href="#section-toc.1-1.6.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="xref">6.5</a>.  <a href="#name-handling-of-fragmented-sctp" class="xref">Handling of Fragmented SCTP Packets by NAT Functions</a><a href="#section-toc.1-1.6.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-6.6" class="xref">6.6</a>.  <a href="#name-multi-point-traversal-consi" class="xref">Multi Point Traversal Considerations for Endpoints</a><a href="#section-toc.1-1.6.2.6.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-various-examples-of-nat-tra" class="xref">Various Examples of NAT Traversals</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-single-homed-client-to-sing" class="xref">Single-homed Client to Single-homed Server</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-single-homed-client-to-mult" class="xref">Single-homed Client to Multi-homed Server</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-multihomed-client-and-serve" class="xref">Multihomed Client and Server</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-nat-function-loses-its-stat" class="xref">NAT Function Loses Its State</a><a href="#section-toc.1-1.7.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="xref">7.5</a>.  <a href="#name-peer-to-peer-communication" class="xref">Peer-to-Peer Communication</a><a href="#section-toc.1-1.7.2.5.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-sctp-nat-yang-module" class="xref">SCTP NAT YANG Module</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-tree-structure" class="xref">Tree Structure</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-yang-module" class="xref">YANG Module</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-socket-api-considerations" class="xref">Socket API Considerations</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-get-or-set-the-nat-friendli" class="xref">Get or Set the NAT Friendliness (SCTP_NAT_FRIENDLY)</a><a href="#section-toc.1-1.9.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-new-chunk-flags-for-two-exi" class="xref">New Chunk Flags for Two Existing Chunk Types</a><a href="#section-toc.1-1.10.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-three-new-error-causes" class="xref">Three New Error Causes</a><a href="#section-toc.1-1.10.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-two-new-chunk-parameter-typ" class="xref">Two New Chunk Parameter Types</a><a href="#section-toc.1-1.10.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="xref">10.4</a>.  <a href="#name-one-new-uri" class="xref">One New URI</a><a href="#section-toc.1-1.10.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="xref">10.5</a>.  <a href="#name-one-new-yang-module" class="xref">One New YANG Module</a><a href="#section-toc.1-1.10.2.5.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.15.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Stream Control Transmission Protocol (SCTP) <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span>
provides a reliable communications channel between two end-hosts in many
ways similar to TCP <span>[<a href="#RFC0793" class="xref">RFC0793</a>]</span>. With the widespread
deployment of Network Address Translators (NAT), specialized code has been
added to NAT functions for TCP that allows multiple hosts to reside behind a NAT
functions using internal addresses (see <span>[<a href="#RFC6890" class="xref">RFC6890</a>]</span>) and yet share
single IPv4 address, even when two hosts (behind a NAT function) choose the
same port numbers for their connection.
This additional code is sometimes classified as Network Address and Port
Translation (NAPT).
Please note that this document focuses on the case where the NAT function maps a
single or multiple internal addresses to a single external address and vice versa.
To date, specialized code for SCTP has not yet been
added to most NAT functions so that only a translation of IP addresses is
supported.
The end result of this is that only one SCTP-capable host can successfully
operate behind such a NAT function and this host can only be single-homed.
The only alternative for supporting legacy NAT functions is to use
UDP encapsulation as specified in <span>[<a href="#RFC6951" class="xref">RFC6951</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The NAT function in the document refers to NAPT functions described in
Section 2.2 of <span>[<a href="#RFC3022" class="xref">RFC3022</a>]</span>, NAT64 <span>[<a href="#RFC6146" class="xref">RFC6146</a>]</span>,
or DS-Lite <span>[<a href="#RFC6333" class="xref">RFC6333</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This document specifies procedures allowing a NAT function to support SCTP
by providing similar features to those provided by a NAPT for TCP and
other supported protocols.
The document also specifies a set of data formats for SCTP packets and a set
of SCTP endpoint procedures to support NAT traversal.
An SCTP implementation supporting these procedures can assure that in both
single-homed and multi-homed cases a NAT function will maintain the appropriate
state without the NAT function needing to change port numbers.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">It is possible and desirable to make these changes for a number of
reasons:<a href="#section-1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-5.1">It is desirable for SCTP internal end-hosts on multiple platforms to be able
to share a NAT function's external IP address in the same way that a TCP session
can use a NAT function.<a href="#section-1-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-5.2">
          <p id="section-1-5.2.1">If a NAT function does not need to change any data within an SCTP packet
it will reduce the processing burden of NAT'ing SCTP by not needing to execute
the CRC32c checksum required by SCTP.<a href="#section-1-5.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-1-5.3">
          <p id="section-1-5.3.1">Not having to touch the IP payload makes the processing of ICMP
messages in NAT functions easier.<a href="#section-1-5.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-1-6">An SCTP-aware NAT function will need to follow these procedures for generating
appropriate SCTP packet formats.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">When considering this feature it is possible to have
multiple levels of support. At each level, the Internal
Host, Remote Host and NAT function may or may not support the
features described in this document. The following table
illustrates the results of the various combinations of
support and if communications can occur between two endpoints.<a href="#section-1-7" class="pilcrow">¶</a></p>
<span id="name-communication-possibilities"></span><div id="communication_table">
<table class="center" id="table-1">
        <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-communication-possibilities" class="selfRef">Communication possibilities</a>
        </caption>
<thead>
          <tr>
            <th class="text-center" rowspan="1" colspan="1">Internal Host</th>
            <th class="text-center" rowspan="1" colspan="1">NAT Function</th>
            <th class="text-center" rowspan="1" colspan="1">Remote Host</th>
            <th class="text-center" rowspan="1" colspan="1">Communication</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">Support   </td>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">Yes          </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">Support   </td>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">Limited      </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">No Support</td>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">None         </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">No Support</td>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">None         </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">Support   </td>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">Limited      </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">Support   </td>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">Limited      </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">No Support</td>
            <td class="text-center" rowspan="1" colspan="1">Support      </td>
            <td class="text-center" rowspan="1" colspan="1">None         </td>
          </tr>
          <tr>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">No Support</td>
            <td class="text-center" rowspan="1" colspan="1">No Support   </td>
            <td class="text-center" rowspan="1" colspan="1">None         </td>
          </tr>
        </tbody>
      </table>
</div>
<p id="section-1-9">From the table it can be seen that when a NAT function does not support the
extension no communication can occur.
This assumes that the NAT function does not handle SCTP packets at all and
all SCTP packets sent externally from behind a NAT function are discarded by
the NAT function.
In some cases, where the NAT function supports the feature but one of the two
hosts does not support the feature, communication may occur but in a
limited way.
For example only one host may be able to have a connection when a collision
case occurs.<a href="#section-1-9" class="pilcrow">¶</a></p>
</section>
<div id="conventions">
<section id="section-2">
      <h2 id="name-conventions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-conventions" class="section-name selfRef">Conventions</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
"OPTIONAL" in this document are to be interpreted as described in
BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span>  when,
and only when, they appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-3">
      <h2 id="name-terminology">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-3-1">This document uses the following terms, which are depicted in
<a href="#terminology_fig" class="xref">Figure 1</a>. Familiarity with the terminology used in
<span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span> and <span>[<a href="#RFC5061" class="xref">RFC5061</a>]</span> is assumed.<a href="#section-3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-3-2">
        <dt id="section-3-2.1">Internal-Address (Int-Addr)</dt>
        <dd id="section-3-2.2">
          <p id="section-3-2.2.1">The internal address that is known to the internal host.<a href="#section-3-2.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.3">Internal-Port (Int-Port)</dt>
        <dd id="section-3-2.4">
          <p id="section-3-2.4.1">The port number that is in use by the host holding the
Internal-Address.<a href="#section-3-2.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.5">Internal-VTag (Int-VTag)</dt>
        <dd id="section-3-2.6">
          <p id="section-3-2.6.1">The SCTP Verification Tag (VTag) (see Section 3.1 of
<span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span>) that the internal host has chosen for its
communication.
The VTag is a unique 32-bit tag that must accompany any incoming SCTP packet
for this association to the Internal-Address.<a href="#section-3-2.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.7">Remote-Address (Rem-Addr)</dt>
        <dd id="section-3-2.8">
          <p id="section-3-2.8.1">The address that an internal host is attempting to contact.<a href="#section-3-2.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.9">Remote-Port (Rem-Port)</dt>
        <dd id="section-3-2.10">
          <p id="section-3-2.10.1">The port number of the peer process at the Remote-Address.<a href="#section-3-2.10.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.11">Remote-VTag (Rem-VTag)</dt>
        <dd id="section-3-2.12">
          <p id="section-3-2.12.1">The Verification Tag (VTag) (see Section 3.1 of <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span>)
that the host holding the Remote-Address has chosen for its communication.
The VTag is a unique 32-bit tag that must accompany any incoming
SCTP packet for this association to the Remote-Address.<a href="#section-3-2.12.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-3-2.13">External-Address (Ext-Addr)</dt>
        <dd id="section-3-2.14">
          <p id="section-3-2.14.1">The external address assigned to the NAT function, that it uses as a source
address when sending packets towards the Remote-Address.<a href="#section-3-2.14.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
<span id="name-basic-network-setup"></span><div id="terminology_fig">
<figure id="figure-1">
        <div class="artwork art-text alignCenter" id="section-3-3.1">
<pre>
  Internal Network    |         External Network
                      |
           Internal   |   External              Remote
+--------+ Address    |   Address  /--\/--\    Address +--------+
|  SCTP  |         +-----+        /        \           |  SCTP  |
|endpoint|=========| NAT |=======| Internet |==========|endpoint|
|    A   |         +-----+        \        /           |    B   |
+--------+ Internal   |            \--/\--/     Remote +--------+
 Internal    Port     |                           Port   Remote
   VTag               |                                   VTag
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-basic-network-setup" class="selfRef">Basic network setup</a>
        </figcaption></figure>
</div>
</section>
</div>
<section id="section-4">
      <h2 id="name-motivation">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-motivation" class="section-name selfRef">Motivation</a>
      </h2>
<section id="section-4.1">
        <h3 id="name-sctp-nat-traversal-scenario">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-sctp-nat-traversal-scenario" class="section-name selfRef">SCTP NAT Traversal Scenarios</a>
        </h3>
<p id="section-4.1-1">This section defines the notion of single and
multi point NAT traversal.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<section id="section-4.1.1">
          <h4 id="name-single-point-traversal">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-single-point-traversal" class="section-name selfRef">Single Point Traversal</a>
          </h4>
<p id="section-4.1.1-1">In this case, all packets in the SCTP association go through a
single NAT function, as shown below:<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<span id="name-single-nat-scenario"></span><figure id="figure-2">
            <div class="artwork art-text alignCenter" id="section-4.1.1-2.1">
<pre>

  Internal Network    |       External Network
                      |
+--------+            |               /--\/--\           +--------+
|  SCTP  |         +-----+           /        \          |  SCTP  |
|endpoint|=========| NAT |========= | Internet | ========|endpoint|
|    A   |         +-----+           \        /          |    B   |
+--------+            |               \--/\--/           +--------+
                      |
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-single-nat-scenario" class="selfRef">Single NAT scenario</a>
            </figcaption></figure>
<p id="section-4.1.1-3">A variation of this case is shown below, i.e., multiple NAT functions in a
single path:<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<span id="name-serial-nat-functions-scenar"></span><figure id="figure-3">
            <div class="artwork art-text alignCenter" id="section-4.1.1-4.1">
<pre>
      Internal | External : Internal | External
               |          :          |
+--------+     |          :          |       /--\/--\    +--------+
|  SCTP  |  +-----+       :       +-----+   /        \   |  SCTP  |
|endpoint|==| NAT |=======:=======| NAT |==| Internet |==|endpoint|
|    A   |  +-----+       :       +-----+   \        /   |    B   |
+--------+     |          :          |       \--/\--/    +--------+
               |          :          |
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-serial-nat-functions-scenar" class="selfRef">Serial NAT Functions scenario</a>
            </figcaption></figure>
<p id="section-4.1.1-5">Although one of the main benefits of SCTP multi-homing is redundant
paths, in the single point traversal scenario the NAT function represents
a single point of failure in the path of the SCTP multi-homed association.
However, the rest of the path may still benefit from path diversity provided
by SCTP multi-homing.<a href="#section-4.1.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1.1-6">The two SCTP endpoints in this case can be either single-homed or
multi-homed. However, the important thing is that the NAT function
in this case sees all the packets of the SCTP association.<a href="#section-4.1.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-4.1.2">
          <h4 id="name-multi-point-traversal">
<a href="#section-4.1.2" class="section-number selfRef">4.1.2. </a><a href="#name-multi-point-traversal" class="section-name selfRef">Multi Point Traversal</a>
          </h4>
<p id="section-4.1.2-1">This case involves multiple NAT functions and each NAT function only sees some
of the packets in the SCTP association.
An example is shown below:<a href="#section-4.1.2-1" class="pilcrow">¶</a></p>
<span id="name-parallel-nat-functions-scen"></span><figure id="figure-4">
            <div class="artwork art-text alignCenter" id="section-4.1.2-2.1">
<pre>

         Internal      |      External
                    +------+             /---\/---\
+--------+  /=======|NAT A |=========\  /          \     +--------+
|  SCTP  | /        +------+          \/            \    |  SCTP  |
|endpoint|/       ...                 |   Internet   |===|endpoint|
|    A   |\                            \            /    |    B   |
+--------+ \        +------+          / \          /     +--------+
            \=======|NAT B |=========/   \---\/---/
                    +------+
                       |
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-parallel-nat-functions-scen" class="selfRef">Parallel NAT functions scenario</a>
            </figcaption></figure>
<p id="section-4.1.2-3">This case does not apply to a single-homed SCTP association (i.e.,
both endpoints in the association use only one IP address). The
advantage here is that the existence of multiple NAT traversal points
can preserve the path diversity of a multi-homed association for the
entire path. This in turn can improve the robustness of the
communication.<a href="#section-4.1.2-3" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4.2">
        <h3 id="name-limitations-of-classical-na">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-limitations-of-classical-na" class="section-name selfRef">Limitations of Classical NAPT for SCTP</a>
        </h3>
<p id="section-4.2-1">Using classical NAPT may result in changing one of the SCTP port numbers
during the processing which requires the recomputation of the transport layer
checksum by the NAPT device.
Whereas for UDP and TCP this can be done very efficiently, for SCTP
the checksum (CRC32c) over the entire packet needs to be recomputed
(see Appendix B of <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span> for details of the CRC32c
computation).
This would considerably add to the NAT computational burden, however hardware
support may mitigate this in some implementations.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">An SCTP endpoint may have multiple addresses but only has a single port
number. To make multipoint traversal work, all the NAT functions involved must
recognize the packets they see as belonging to the same SCTP association and
perform port number translation in a consistent way.
One possible way of doing this is to use a pre-defined table of ports and
addresses configured within each NAT function.
Other mechanisms could make use of NAT to NAT communication.
Such mechanisms have not been deployed on a wide scale base and thus are not
a recommended solution.
Therefore an SCTP variant of NAT function has been developed.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-the-sctp-specific-variant-o">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-the-sctp-specific-variant-o" class="section-name selfRef">The SCTP-Specific Variant of NAT</a>
        </h3>
<p id="section-4.3-1">In this section it is allowed that there are multiple SCTP capable hosts
behind a NAT function that has one Exernal-Address. Furthermore this section
focuses on the single point traversal scenario.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The modification of SCTP packets sent to the Internet is
simple: the source address of the packet has to be replaced with the
External-Address. It may also be necessary to establish some
state in the NAT function to later handle incoming packets.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">For the SCTP NAT processing the NAT function has to maintain a NAT binding table
of Internal-VTag, Internal-Port, Remote-VTag, Remote-Port, Internal-Address,
and whether the restart procedure is disabled or not.
An entry in that NAT binding table is called a NAT-State control block.
The function Create() obtains the just mentioned parameters and returns
a NAT-State control block.
A NAT function MAY allow creating NAT-State control blocks via a management
interface.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">For SCTP packets coming from the public Internet the destination
address of the packets has to be replaced with the Internal-Address
of the host to which the packet has to be delivered. The lookup of the
Internal-Address is based on the Remote-VTag, Remote-Port,
Internal-VTag and the Internal-Port.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">The entries in the NAT binding table need to fulfill some uniqueness conditions.
There must not be more than one entry NAT binding table with the same pair of
Internal-Port and Remote-Port.
This rule can be relaxed, if all NAT binding table entries with the same
Internal-Port and Remote-Port have the support for the restart
procedure enabled.
In this case there must be no more than one entry with the same Internal-Port,
Remote-Port and Remote-VTag and no more than one NAT binding table entry with
the same Internal-Port, Remote-Port and Int-VTag.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.3-6">The processing of outgoing SCTP packets containing an INIT chunk
is described in the following figure. The scenario shown is valid for all
message flows in this section.<a href="#section-4.3-6" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-4.3-7">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/


             INIT[Initiate-Tag]
 Int-Addr:Int-Port ------&gt; Rem-Addr:Rem-Port
                  Rem-VTag=0

             Create(Initiate-Tag, Int-Port, 0, Rem-Port, Int-Addr,
                    RestartSupported)
             Returns(NAT-State control block)

           Translate To:

                        INIT[Initiate-Tag]
           Ext-Addr:Int-Port ------&gt; Rem-Addr:Rem-Port
                            Rem-VTag=0

</pre><a href="#section-4.3-7" class="pilcrow">¶</a>
</div>
<p id="section-4.3-8">Normally a NAT binding table entry will be created.<a href="#section-4.3-8" class="pilcrow">¶</a></p>
<p id="section-4.3-9">However, it is possible that there is already a NAT binding table entry with the
same Remote-Port, Internal-Port, and Internal-VTag
but different Internal-Address.
In this case the packet containing the INIT chunk MUST be dropped by the NAT
and a packet containing an ABORT chunk SHOULD be sent to the SCTP host that
originated the packet with the M-Bit set and an appropriate error cause
(see <a href="#mbitabort" class="xref">Section 5.1.1</a> for the format).
The source address of the packet containing the ABORT chunk MUST be the
destination address of the packet containing the INIT chunk.<a href="#section-4.3-9" class="pilcrow">¶</a></p>
<p id="section-4.3-10">If an outgoing SCTP packet contains an INIT or ASCONF chunk and a matching
NAT binding table entry is found, the packet is processed as a normal
outgoing packet.<a href="#section-4.3-10" class="pilcrow">¶</a></p>
<p id="section-4.3-11">It is also possible that a connection to Remote-Address and Remote-Port
exists without an Internal-VTag conflict but there exists a NAT binding
table entry with the same port numbers but a different Internal-Address.
In such a case the packet containing the INIT chunk MUST be dropped by the NAT function
and a packet containing an ABORT chunk SHOULD be sent to the SCTP host that
originated the packet with the M-Bit set and an appropriate error
cause (see <a href="#mbitabort" class="xref">Section 5.1.1</a> for the format).<a href="#section-4.3-11" class="pilcrow">¶</a></p>
<p id="section-4.3-12">The processing of outgoing SCTP packets containing no INIT chunks
is described in the following figure.<a href="#section-4.3-12" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-4.3-13">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/

Int-Addr:Int-Port ------&gt; Rem-Addr:Rem-Port
                  Rem-VTag


                          Translate To:

                          Ext-Addr:Int-Port ------&gt; Rem-Addr:Rem-Port
                                           Rem-VTag

</pre><a href="#section-4.3-13" class="pilcrow">¶</a>
</div>
<p id="section-4.3-14">The processing of incoming SCTP packets containing an INIT ACK chunk
is described in the following figure. The Lookup() function getting as
input the Internal-VTag, Internal-Port, Remote-VTag, and Remote-Port,
returns the corresponding entry of the NAT binding table
and updates the Remote-VTag by substituting it with the value of the
Initiate-Tag of the INIT ACK chunk. The wildcard character signifies that
the parameter's value is not considered in the Lookup() function
or changed in the Update() function, respectively.<a href="#section-4.3-14" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-4.3-15">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/

                                         INIT ACK[Initiate-Tag]
                            Ext-Addr:Int-Port &lt;---- Rem-Addr:Rem-Port
                                             Int-VTag

         Lookup(Int-VTag, Int-Port, *, Rem-Port)
         Update(*, *, Initiate-Tag, *)

         Returns(NAT-State control block containing Int-Addr)

               INIT ACK[Initiate-Tag]
 Int-Addr:Int-Port &lt;------ Rem-Addr:Rem-Port
                   Int-VTag

</pre><a href="#section-4.3-15" class="pilcrow">¶</a>
</div>
<p id="section-4.3-16">In the case Lookup fails, the SCTP packet is dropped.
If it succeeds, the Update routine inserts the Remote-VTag
(the Initiate-Tag of the INIT ACK chunk) in the NAT-State control block.<a href="#section-4.3-16" class="pilcrow">¶</a></p>
<p id="section-4.3-17">The processing of incoming SCTP packets containing an ABORT or
SHUTDOWN COMPLETE chunk with the T-Bit set is described in the
following figure.<a href="#section-4.3-17" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-4.3-18">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/

                          Ext-Addr:Int-Port &lt;------ Rem-Addr:Rem-Port
                                            Rem-VTag

         Lookup(*, Int-Port, Rem-VTag, Rem-Port)

         Returns(NAT-State control block containing Int-Addr)

 Int-Addr:Int-Port &lt;------ Rem-Addr:Rem-Port
                   Rem-VTag

</pre><a href="#section-4.3-18" class="pilcrow">¶</a>
</div>
<p id="section-4.3-19">For an incoming packet containing an INIT chunk a table lookup is made
only based on the addresses and port numbers.
If an entry with an Remote-VTag of zero is found, it is considered a
match and the Remote-VTag is updated.
If an entry with a non-matching Remote-VTag is found or no entry is found,
the incoming packet is dropped. If an entry with a matching Remote-VTag
is found, the incoming packet is forwarded.
This allows the handling of INIT collision through NAT functions.<a href="#section-4.3-19" class="pilcrow">¶</a></p>
<p id="section-4.3-20">The processing of other incoming SCTP packets is described in the
following figure.<a href="#section-4.3-20" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-4.3-21">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/

                          Ext-Addr:Int-Port &lt;------ Rem-Addr:Rem-Port
                                            Int-VTag

         Lookup(Int-VTag, Int-Port, *, Rem-Port)

         Returns(NAT-State control block containing Internal-Address)

 Int-Addr:Int-Port &lt;------ Rem-Addr:Rem-Port
                   Int-VTag

</pre><a href="#section-4.3-21" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-5">
      <h2 id="name-data-formats">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-data-formats" class="section-name selfRef">Data Formats</a>
      </h2>
<p id="section-5-1">This section defines the formats used to support NAT traversal.
<a href="#chunks" class="xref">Section 5.1</a> and <a href="#errcause" class="xref">Section 5.2</a> describe chunks
and error causes sent by NAT functions and received by SCTP endpoints.
<a href="#newparam" class="xref">Section 5.3</a> describes parameters sent by SCTP endpoints and
used by NAT functions and SCTP endpoints.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="chunks">
<section id="section-5.1">
        <h3 id="name-modified-chunks">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-modified-chunks" class="section-name selfRef">Modified Chunks</a>
        </h3>
<p id="section-5.1-1">This section presents existing chunks defined in <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span>
for which additional flags are specified by this document.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<div id="mbitabort">
<section id="section-5.1.1">
          <h4 id="name-extended-abort-chunk">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-extended-abort-chunk" class="section-name selfRef">Extended ABORT Chunk</a>
          </h4>
<div class="artwork art-text alignLeft" id="section-5.1.1-1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type = 6    | Reserved  |M|T|           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
\                                                               \
/                   zero or more Error Causes                   /
\                                                               \
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5.1.1-1" class="pilcrow">¶</a>
</div>
<p id="section-5.1.1-2">The ABORT chunk is extended to add the new 'M bit'. The M bit
indicates to the receiver of the ABORT chunk that the chunk was not
generated by the peer SCTP endpoint, but instead by a middle box.<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1.1-3">[NOTE to RFC-Editor: Assignment of M bit to be confirmed by IANA.]<a href="#section-5.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mbiterr">
<section id="section-5.1.2">
          <h4 id="name-extended-error-chunk">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-extended-error-chunk" class="section-name selfRef">Extended ERROR Chunk</a>
          </h4>
<div class="artwork art-text alignLeft" id="section-5.1.2-1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type = 9    | Reserved  |M|T|           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
\                                                               \
/                   zero or more Error Causes                   /
\                                                               \
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5.1.2-1" class="pilcrow">¶</a>
</div>
<p id="section-5.1.2-2">The ERROR chunk defined in <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span> is extended to
add the new 'M bit'. The M bit indicates to the receiver of the ERROR chunk
that the chunk was not generated by the peer SCTP endpoint, but instead
by a middle box.<a href="#section-5.1.2-2" class="pilcrow">¶</a></p>
<p id="section-5.1.2-3">[NOTE to RFC-Editor: Assignment of M bit to be confirmed by IANA.]<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="errcause">
<section id="section-5.2">
        <h3 id="name-new-error-causes">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-new-error-causes" class="section-name selfRef">New Error Causes</a>
        </h3>
<p id="section-5.2-1">This section defines the new error causes added by this document.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<div id="port_coll">
<section id="section-5.2.1">
          <h4 id="name-vtag-and-port-number-collis">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-vtag-and-port-number-collis" class="section-name selfRef">VTag and Port Number Collision Error Cause</a>
          </h4>
<div class="artwork art-text alignLeft" id="section-5.2.1-1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Cause Code = 0x00B0        |     Cause Length = Variable   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
\                             Chunk                            /
/                                                              \
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5.2.1-1" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.2.1-2">
            <dt id="section-5.2.1-2.1">Cause Code: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.2.1-2.2">
              <p id="section-5.2.1-2.2.1">This field holds the IANA defined cause code for the
'VTag and Port Number Collision' Error Cause.
IANA is requested to assign the value 0x00B0 for this cause code.<a href="#section-5.2.1-2.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.1-2.3">Cause Length: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.2.1-2.4">
              <p id="section-5.2.1-2.4.1">This field holds the length in bytes of the error cause.
The value MUST be the length of the Cause-Specific Information plus 4.<a href="#section-5.2.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.1-2.5">Chunk: variable length</dt>
            <dd id="section-5.2.1-2.6">
              <p id="section-5.2.1-2.6.1">The Cause-Specific Information is filled with the chunk that caused this
error.
This can be an INIT, INIT ACK, or ASCONF chunk.
Note that if the entire chunk will not fit in the ERROR chunk or ABORT chunk
being sent then the bytes that do not fit are truncated.<a href="#section-5.2.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.2.1-3">[NOTE to RFC-Editor: Assignment of cause code to be confirmed by IANA.]<a href="#section-5.2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="miss_state">
<section id="section-5.2.2">
          <h4 id="name-missing-state-error-cause">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-missing-state-error-cause" class="section-name selfRef">Missing State Error Cause</a>
          </h4>
<div class="artwork art-text alignLeft" id="section-5.2.2-1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Cause Code = 0x00B1        |     Cause Length = Variable   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
\                       Incoming Packet                        /
/                                                              \
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5.2.2-1" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.2.2-2">
            <dt id="section-5.2.2-2.1">Cause Code: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.2.2-2.2">
              <p id="section-5.2.2-2.2.1">This field holds the IANA defined cause code for the
'Missing State' Error Cause.
IANA is requested to assign the value 0x00B1 for this cause code.<a href="#section-5.2.2-2.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.2-2.3">Cause Length: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.2.2-2.4">
              <p id="section-5.2.2-2.4.1">This field holds the length in bytes of the error cause.
The value MUST be the length of the Cause-Specific Information plus 4.<a href="#section-5.2.2-2.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.2-2.5">Incoming Packet: variable length</dt>
            <dd id="section-5.2.2-2.6">
              <p id="section-5.2.2-2.6.1">The Cause-Specific Information is filled with the IPv4 or IPv6 packet that
caused this error. The IPv4 or IPv6 header MUST be included.
Note that if the packet will not fit in the ERROR chunk or ABORT chunk
being sent then the bytes that do not fit are truncated.<a href="#section-5.2.2-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.2.2-3">[NOTE to RFC-Editor: Assignment of cause code to be confirmed by IANA.]<a href="#section-5.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="portcollide">
<section id="section-5.2.3">
          <h4 id="name-port-number-collision-error">
<a href="#section-5.2.3" class="section-number selfRef">5.2.3. </a><a href="#name-port-number-collision-error" class="section-name selfRef">Port Number Collision Error Cause</a>
          </h4>
<div class="artwork art-text alignLeft" id="section-5.2.3-1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Cause Code = 0x00B2        |     Cause Length = Variable   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
\                             Chunk                            /
/                                                              \
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5.2.3-1" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.2.3-2">
            <dt id="section-5.2.3-2.1">Cause Code: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.2.3-2.2">
              <p id="section-5.2.3-2.2.1">This field holds the IANA defined cause code for the
'Port Number Collision' Error Cause.
IANA is requested to assign the value 0x00B2 for this cause code.<a href="#section-5.2.3-2.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.3-2.3">Cause Length: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.2.3-2.4">
              <p id="section-5.2.3-2.4.1">This field holds the length in bytes of the error cause.
The value MUST be the length of the Cause-Specific Information plus 4.<a href="#section-5.2.3-2.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.2.3-2.5">Chunk: variable length</dt>
            <dd id="section-5.2.3-2.6">
              <p id="section-5.2.3-2.6.1">The Cause-Specific Information is filled with the chunk that caused this
error.
This can be an INIT, INIT ACK, or ASCONF chunk.
Note that if the entire chunk will not fit in the ERROR chunk or ABORT chunk
being sent then the bytes that do not fit are truncated.<a href="#section-5.2.3-2.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.2.3-3">[NOTE to RFC-Editor: Assignment of cause code to be confirmed by IANA.]<a href="#section-5.2.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="newparam">
<section id="section-5.3">
        <h3 id="name-new-parameters">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-new-parameters" class="section-name selfRef">New Parameters</a>
        </h3>
<p id="section-5.3-1">This section defines new parameters and their valid appearance
defined by this document.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<div id="disrestart">
<section id="section-5.3.1">
          <h4 id="name-disable-restart-parameter">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-disable-restart-parameter" class="section-name selfRef">Disable Restart Parameter</a>
          </h4>
<p id="section-5.3.1-1">This parameter is used to indicate that the restart procedure
is requested to be disabled. Both endpoints of an association MUST
include this parameter in the INIT chunk and INIT ACK chunk when
establishing an association and MUST include it in the ASCONF chunk
when adding an address to successfully disable the restart procedure.<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.1-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Type = 0xC007         |         Length = 4            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5.3.1-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.1-3">
            <dt id="section-5.3.1-3.1">Parameter Type: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.3.1-3.2">
              <p id="section-5.3.1-3.2.1">This field holds the IANA defined parameter type for the Disable Restart Parameter.
IANA is requested to assign the value 0xC007 for this parameter type.<a href="#section-5.3.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.1-3.3">Parameter Length: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.3.1-3.4">
              <p id="section-5.3.1-3.4.1">This field holds the length in bytes of the parameter.
The value MUST be 4.<a href="#section-5.3.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.3.1-4">[NOTE to RFC-Editor: Assignment of parameter type to be confirmed by IANA.]<a href="#section-5.3.1-4" class="pilcrow">¶</a></p>
<p id="section-5.3.1-5">This parameter MAY appear in INIT, INIT ACK and ASCONF chunks and
MUST NOT appear in any other chunk.<a href="#section-5.3.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="vtags-parameter">
<section id="section-5.3.2">
          <h4 id="name-vtags-parameter">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-vtags-parameter" class="section-name selfRef">VTags Parameter</a>
          </h4>
<p id="section-5.3.2-1">This parameter is used to help a NAT function to recover from state loss.<a href="#section-5.3.2-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-5.3.2-2">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Parameter Type = 0xC008   |     Parameter Length = 16     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                 ASCONF-Request Correlation ID                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   Internal Verification Tag                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Remote Verification Tag                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre><a href="#section-5.3.2-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-5.3.2-3">
            <dt id="section-5.3.2-3.1">Parameter Type: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.3.2-3.2">
              <p id="section-5.3.2-3.2.1">This field holds the IANA defined parameter type for the VTags Parameter.
IANA is requested to assign the value 0xC008 for this parameter type.<a href="#section-5.3.2-3.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.2-3.3">Parameter Length: 2 bytes (unsigned integer)</dt>
            <dd id="section-5.3.2-3.4">
              <p id="section-5.3.2-3.4.1">This field holds the length in bytes of the parameter.
The value MUST be 16.<a href="#section-5.3.2-3.4.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.2-3.5">ASCONF-Request Correlation ID: 4 bytes (unsigned integer)</dt>
            <dd id="section-5.3.2-3.6">
              <p id="section-5.3.2-3.6.1">This is an opaque integer assigned by the sender to identify each
request parameter. The receiver of the ASCONF Chunk will copy this
32-bit value into the ASCONF Response Correlation ID field of the
ASCONF ACK response parameter. The sender of the packet containing the ASCONF
chunk can use this same value in the ASCONF ACK chunk to find which request the
response is for. Note that the receiver MUST NOT change this 32-bit value.<a href="#section-5.3.2-3.6.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.2-3.7">Internal Verification Tag: 4 bytes (unsigned integer)</dt>
            <dd id="section-5.3.2-3.8">
              <p id="section-5.3.2-3.8.1">The Verification Tag that the internal host has chosen for its communication.
The Verification Tag is a unique 32-bit tag that must accompany
any incoming SCTP packet for this association to the Internal-Address.<a href="#section-5.3.2-3.8.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-5.3.2-3.9">Remote Verification Tag: 4 bytes (unsigned integer)</dt>
            <dd id="section-5.3.2-3.10">
              <p id="section-5.3.2-3.10.1">The Verification Tag that the host holding the Remote-Address has
chosen for its communication. The VTag is a unique 32-bit tag
that must accompany any incoming SCTP packet for this
association to the Remote-Address.<a href="#section-5.3.2-3.10.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-5.3.2-4">[NOTE to RFC-Editor: Assignment of parameter type to be confirmed by IANA.]<a href="#section-5.3.2-4" class="pilcrow">¶</a></p>
<p id="section-5.3.2-5">This parameter MAY appear in ASCONF chunks and MUST NOT appear in
any other chunk.<a href="#section-5.3.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
<section id="section-6">
      <h2 id="name-procedures-for-sctp-endpoin">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-procedures-for-sctp-endpoin" class="section-name selfRef">Procedures for SCTP Endpoints and NAT Functions</a>
      </h2>
<p id="section-6-1">When an SCTP endpoint is behind an SCTP-aware NAT a
number of problems may arise as it tries to communicate with its peer:<a href="#section-6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-2.1">
          <p id="section-6-2.1.1">IP addresses can not be included in the SCTP packet. This is
discussed in <a href="#setup" class="xref">Section 6.1</a>.<a href="#section-6-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.2">
          <p id="section-6-2.2.1">More than one host behind a NAT function could select the same VTag and source
port when talking to the same peer server. This creates a situation where
the NAT function will not be able to tell the two associations apart. This situation
is discussed in <a href="#mbitport" class="xref">Section 6.2</a>.<a href="#section-6-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.3">
          <p id="section-6-2.3.1">When an SCTP endpoint is a server communicating with multiple peers and the
peers are behind the same NAT function, then the two endpoints cannot be
distinguished by the server. This case is discussed in <a href="#collision" class="xref">Section 6.3</a>.<a href="#section-6-2.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.4">
          <p id="section-6-2.4.1">A restart of a NAT function during a conversation could cause a loss of its state.
This problem and its solution is discussed in <a href="#restart" class="xref">Section 6.4</a>.<a href="#section-6-2.4.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.5">
          <p id="section-6-2.5.1">NAT functions need to deal with SCTP packets being fragmented at the IP layer.
This is discussed in <a href="#fragmentation" class="xref">Section 6.5</a>.<a href="#section-6-2.5.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-6-2.6">
          <p id="section-6-2.6.1">An SCTP endpoint can be behind two NAT functions in parallel providing
redundancy.
The method to set up this scenario is discussed in <a href="#multihomed" class="xref">Section 6.6</a>.<a href="#section-6-2.6.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-6-3">Each of these mechanisms requires additional chunks and parameters,
defined in this document, and modified handling procedures
from those specified in <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span> as described below.<a href="#section-6-3" class="pilcrow">¶</a></p>
<div id="setup">
<section id="section-6.1">
        <h3 id="name-association-setup-considera">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-association-setup-considera" class="section-name selfRef">Association Setup Considerations for Endpoints</a>
        </h3>
<p id="section-6.1-1">The association setup procedure defined in <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span>
allows multi-homed SCTP endpoints to exchange its IP-addresses by using
IPv4 or IPv6 address parameters in the INIT and INIT ACK chunks.
However, this does not work when NAT functions are present.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">Every association setup from a host behind a NAT function MUST NOT use multiple
internal addresses.
The INIT chunk MUST NOT contain an IPv4 Address parameter,
IPv6 Address parameter, or Supported Address Types parameter.
The INIT ACK chunk MUST NOT contain any IPv4 Address parameter or
IPv6 Address parameter using non-global addresses.
The INIT chunk and the INIT ACK chunk MUST NOT contain any Host Name
parameters.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">If the association should finally be multi-homed, the procedure in
<a href="#multihomed" class="xref">Section 6.6</a> MUST be used.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">The INIT and INIT ACK chunk SHOULD contain the Disable Restart parameter
defined in <a href="#disrestart" class="xref">Section 5.3.1</a>.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="mbitport">
<section id="section-6.2">
        <h3 id="name-handling-of-internal-port-n">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-handling-of-internal-port-n" class="section-name selfRef">Handling of Internal Port Number and Verification Tag Collisions</a>
        </h3>
<p id="section-6.2-1">Consider the case where two hosts in the Internal-Address space want to
set up an SCTP association with the same service provided by some hosts
in the Internet. This means that the Remote-Port is the same.
If they both choose the same Internal-Port and Internal-VTag, the
NAT function cannot distinguish between incoming packets anymore.
However, this is unlikely.
The Internal-VTags are chosen at random and if the Internal-Ports are
also chosen from the ephemeral port range at random this gives a 46-bit
random number that has to match.
A NAPT device can control the Port number and therefore avoid collisions
deterministically.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">The same can happen with the Remote-VTag when a packet containing an
INIT ACK chunk or an ASCONF chunk is processed by the NAT function.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<section id="section-6.2.1">
          <h4 id="name-nat-function-considerations">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-nat-function-considerations" class="section-name selfRef">NAT Function Considerations</a>
          </h4>
<p id="section-6.2.1-1">If the NAT function detects a collision of internal port numbers and
verification tags, it SHOULD send a packet containing an ABORT chunk with the
M bit set if the collision is triggered by a packet containing an INIT or
INIT ACK chunk.
If such a collision is triggered by a packet containing an ASCONF chunk,
it SHOULD send a packet containing an ERROR chunk with the M bit.
The M bit is a new bit defined by this document to express to
SCTP that the source of this packet is a "middle" box, not the
peer SCTP endpoint (see <a href="#mbitabort" class="xref">Section 5.1.1</a>).
If a packet containing an INIT ACK chunk triggers the collision,
the corresponding packet containing the ABORT chunk MUST contain the same
source and destination address and port numbers as the packet containing
the INIT ACK chunk. If a packet containing an INIT chunk or an ASCONF chunk,
the source and destination address and port numbers MUST be swapped.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">The sender of the packet containing an ERROR or ABORT chunk MUST include
the error cause with cause code 'VTag and Port Number Collision'
(see <a href="#port_coll" class="xref">Section 5.2.1</a>).<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-6.2.2">
          <h4 id="name-endpoint-considerations">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-endpoint-considerations" class="section-name selfRef">Endpoint Considerations</a>
          </h4>
<p id="section-6.2.2-1">The sender of the packet containing the INIT chunk or the receiver
of a packet containing the INIT ACK chunk, upon reception of a packet containign
an ABORT chunk with M bit set and the appropriate error cause code for
colliding NAT binding table state is included, SHOULD reinitiate the
association setup procedure after choosing a new initiate tag,
if the association is in COOKIE-WAIT state.
In any other state, the SCTP endpoint MUST NOT respond.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">The sender of packet containing the ASCONF chunk, upon reception of a packet
containing an ERROR chunk with M bit set, MUST stop adding the path to the
association.<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="collision">
<section id="section-6.3">
        <h3 id="name-handling-of-internal-port-nu">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-handling-of-internal-port-nu" class="section-name selfRef">Handling of Internal Port Number Collisions</a>
        </h3>
<p id="section-6.3-1">When two SCTP hosts are behind an SCTP-aware NAT it is possible that two
SCTP hosts in the Internal-Address space will want to set up an
SCTP association with the same server running on the same host in the Internet.
If the two hosts choose the same internal port, this is considered an
internal port number collision.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">For the NAT function, appropriate tracking may be performed by assuring that the
VTags are unique between the two hosts.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
<section id="section-6.3.1">
          <h4 id="name-nat-function-considerations-2">
<a href="#section-6.3.1" class="section-number selfRef">6.3.1. </a><a href="#name-nat-function-considerations-2" class="section-name selfRef">NAT Function Considerations</a>
          </h4>
<p id="section-6.3.1-1">The NAT function, when processing the packet containing the INIT ACK chunk, should
note in its NAT binding table that the association supports the disable restart
extension.
This note is used when establishing future associations (i.e. when processing
a packet containing an INIT chunk from an internal host) to decide if the
connection should be allowed.
The NAT function does the following when processing a packet containing an
INIT chunk:<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.1-2.1">
              <p id="section-6.3.1-2.1.1">If the packet containing the INIT chunk is originating from an internal
port to an remote port for which the NAT function has no matching NAT binding
table entry, it MUST allow the packet containing the INIT chunk creating
an NAT binding table entry.<a href="#section-6.3.1-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.3.1-2.2">
              <p id="section-6.3.1-2.2.1">If the packet containing the INIT chunk matches an existing NAT binding
table entry, it MUST validate that the disable restart feature is supported and,
if it does, allow the packet containing the INIT chunk to be forwarded.<a href="#section-6.3.1-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.3.1-2.3">
              <p id="section-6.3.1-2.3.1">If the disable restart feature is not supported, the NAT function SHOULD
send a packet containing an ABORT chunk with the M bit set.<a href="#section-6.3.1-2.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.3.1-3">The 'Port Number Collision' error cause (see <a href="#portcollide" class="xref">Section 5.2.3</a>)
MUST be included in the ABORT chunk sent in response to the packet containing
an INIT chunk.<a href="#section-6.3.1-3" class="pilcrow">¶</a></p>
<p id="section-6.3.1-4">If the collision is triggered by a packet containing an ASCONF chunk,
a packet containing an ERROR chunk with the 'Port Number Collision' error cause
MUST be sent in response to the packet containing the ASCONF chunk.<a href="#section-6.3.1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-6.3.2">
          <h4 id="name-endpoint-considerations-2">
<a href="#section-6.3.2" class="section-number selfRef">6.3.2. </a><a href="#name-endpoint-considerations-2" class="section-name selfRef">Endpoint Considerations</a>
          </h4>
<p id="section-6.3.2-1">For the remote SCTP server on the Internet this means that the
Remote-Port and the Remote-Address are the same.
If they both have chosen the same Internal-Port the server cannot distinguish
between both associations based on the address and port numbers.
For the server it looks like the association is being restarted.
To overcome this limitation the client sends a Disable Restart parameter in
the INIT chunk.<a href="#section-6.3.2-1" class="pilcrow">¶</a></p>
<p id="section-6.3.2-2">When the server receives this parameter it does the following:<a href="#section-6.3.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3.2-3.1">
              <p id="section-6.3.2-3.1.1">It MUST include a Disable Restart parameter in the INIT ACK to
inform the client that it will support the feature.<a href="#section-6.3.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.3.2-3.2">
              <p id="section-6.3.2-3.2.1">It MUST disable the restart procedures defined in <span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span>
for this association.<a href="#section-6.3.2-3.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.3.2-4">Servers that support this feature will need to be capable of maintaining
multiple connections to what appears to be the same peer
(behind the NAT function) differentiated only by the VTags.<a href="#section-6.3.2-4" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="restart">
<section id="section-6.4">
        <h3 id="name-handling-of-missing-state">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-handling-of-missing-state" class="section-name selfRef">Handling of Missing State</a>
        </h3>
<section id="section-6.4.1">
          <h4 id="name-nat-function-considerations-3">
<a href="#section-6.4.1" class="section-number selfRef">6.4.1. </a><a href="#name-nat-function-considerations-3" class="section-name selfRef">NAT Function Considerations</a>
          </h4>
<p id="section-6.4.1-1">If the NAT function receives a packet from the internal network
for which the lookup procedure does not find an entry in the NAT binding table,
a packet containing an ERROR chunk SHOULD be sent back with the M bit set.
The source address of the packet containing the ERROR chunk MUST
be the destination address of the incoming SCTP packet.
The verification tag is reflected and the T bit is set.
Such a packet containing an ERROR chunk SHOULD NOT
be sent if the received packet contains an ABORT, SHUTDOWN COMPLETE
or INIT ACK chunk. A packet containing an ERROR chunk MUST NOT be sent if the
received packet contains an ERROR chunk with the M bit set.
In any case, the packet SHOULD NOT be forwarded to the remote address.<a href="#section-6.4.1-1" class="pilcrow">¶</a></p>
<p id="section-6.4.1-2">When sending a packet containing an ERROR chunk, the error cause
'Missing State' (see <a href="#miss_state" class="xref">Section 5.2.2</a>) MUST be included and the
M bit of the ERROR chunk MUST be set (see <a href="#mbiterr" class="xref">Section 5.1.2</a>).<a href="#section-6.4.1-2" class="pilcrow">¶</a></p>
<p id="section-6.4.1-3">If the NAT device receives a packet for which it has no NAT binding table entry
and the packet contains an ASCONF chunk with the VTags parameter, the NAT
function MUST update its NAT binding table according to the verification tags in
the VTags parameter and the optional Disable Restart parameter.<a href="#section-6.4.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-6.4.2">
          <h4 id="name-endpoint-considerations-3">
<a href="#section-6.4.2" class="section-number selfRef">6.4.2. </a><a href="#name-endpoint-considerations-3" class="section-name selfRef">Endpoint Considerations</a>
          </h4>
<p id="section-6.4.2-1">Upon reception of this packet containing the ERROR chunk by an SCTP endpoint
the receiver takes the following actions:<a href="#section-6.4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.4.2-2.1">
              <p id="section-6.4.2-2.1.1">It SHOULD validate that the verification tag is reflected by looking
at the VTag that would have been included in the outgoing
packet.
If the validation fails, discard the incoming packet containing the ERROR chunk.<a href="#section-6.4.2-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-2.2">
              <p id="section-6.4.2-2.2.1">It SHOULD validate that the peer of the SCTP association supports
the dynamic address extension.
If the validation fails, discard the incoming packet containing the ERROR chunk.<a href="#section-6.4.2-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-2.3">
              <p id="section-6.4.2-2.3.1">It SHOULD generate a packet containing a new ASCONF chunk containing the
VTags parameter (see <a href="#vtags-parameter" class="xref">Section 5.3.2</a>) and the Disable Restart
parameter (see <a href="#disrestart" class="xref">Section 5.3.1</a>) if the association is using the
disable restart feature.
By processing this packet the NAT function can recover the appropriate state.
The procedures for generating an ASCONF chunk can be found in
<span>[<a href="#RFC5061" class="xref">RFC5061</a>]</span>.<a href="#section-6.4.2-2.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-6.4.2-3">The peer SCTP endpoint receiving such a packet containing an ASCONF chunk
SHOULD either add the address and respond with an acknowledgment, if the
address is new to the association (following all procedures defined in
<span>[<a href="#RFC5061" class="xref">RFC5061</a>]</span>).
Or, if the address is already part of the association, the SCTP endpoint
MUST NOT respond with an error, but instead SHOULD respond with packet containing
an ASCONF ACK chunk acknowledging the address and take no action
(since the address is already in the association).<a href="#section-6.4.2-3" class="pilcrow">¶</a></p>
<p id="section-6.4.2-4">Note that it is possible that upon receiving a packet containing an
ASCONF chunk containing the VTags parameter the NAT function will realize that it has an
'Internal Port Number and Verification Tag collision'.
In such a case the NAT function SHOULD send a packet containing an ERROR chunk with the
error cause code set to 'VTag and Port Number Collision'
(see <a href="#port_coll" class="xref">Section 5.2.1</a>).<a href="#section-6.4.2-4" class="pilcrow">¶</a></p>
<p id="section-6.4.2-5">If an SCTP endpoint receives a packet containing an ERROR chunk with
'Internal Port Number and Verification Tag collision' as the error cause
and the packet in the Error Chunk contains an ASCONF with
the VTags parameter, careful examination of the association is required.
The endpoint does the following:<a href="#section-6.4.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.4.2-6.1">
              <p id="section-6.4.2-6.1.1">It MUST validate that the verification tag is reflected by looking
at the VTag that would have been included in the outgoing
packet. If the validation fails, it MUST discard the packet.<a href="#section-6.4.2-6.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-6.2">
              <p id="section-6.4.2-6.2.1">It MUST validate that the peer of the SCTP association supports
the dynamic address extension. If the peer does not support it, the NAT function
MUST discard the incoming packet containing the ERROR chunk.<a href="#section-6.4.2-6.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-6.3">
              <p id="section-6.4.2-6.3.1">If the association is attempting to add an address (i.e. following
the procedures in <a href="#multihomed" class="xref">Section 6.6</a>) then the endpoint MUST NOT
consider the address part of the association and SHOULD make no
further attempt to add the address (i.e. cancel any ASCONF timers and
remove any record of the path), since the NAT function has a VTag collision
and the association cannot easily create a new VTag (as it would if
the error occurred when sending a packet containing an INIT chunk).<a href="#section-6.4.2-6.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-6.4.2-6.4">
              <p id="section-6.4.2-6.4.1">If the endpoint has no other path, i.e. the procedure was executed
due to missing a state in the NAT function, then the endpoint MUST abort the
association.
This would occur only if the local NAT function restarted and accepted a new
association before attempting to repair the missing state (Note that this
is no different than what happens to all TCP connections when a NAT function
looses its state).<a href="#section-6.4.2-6.4.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</section>
</div>
<div id="fragmentation">
<section id="section-6.5">
        <h3 id="name-handling-of-fragmented-sctp">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-handling-of-fragmented-sctp" class="section-name selfRef">Handling of Fragmented SCTP Packets by NAT Functions</a>
        </h3>
<p id="section-6.5-1">SCTP minimizes the use of IP-level fragmentation. However, it
can happen that using IP-level fragmentation is needed to continue
an SCTP association. For example, if the path MTU is reduced and there
are still some DATA chunk in flight, which require packets larger than
the new path MTU. If IP-level fragmentation can not be used, the SCTP
association will be terminated in a non-graceful way.<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">Therefore, a NAT function MUST be able to handle IP-level fragmented
SCTP packets. The fragments may arrive in any order.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
<p id="section-6.5-3">When an SCTP packet can not be forwarded by the NAT function due to
MTU issues and the IP header forbids fragmentation, the NAT MUST send back a
"Fragmentation needed and DF set" ICMPv4 or PTB ICMPv6 message to the
internal host.
This allows for a faster recovery from this packet drop.<a href="#section-6.5-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="multihomed">
<section id="section-6.6">
        <h3 id="name-multi-point-traversal-consi">
<a href="#section-6.6" class="section-number selfRef">6.6. </a><a href="#name-multi-point-traversal-consi" class="section-name selfRef">Multi Point Traversal Considerations for Endpoints</a>
        </h3>
<p id="section-6.6-1">If a multi-homed SCTP endpoint behind a NAT function connects to a peer,
it MUST first set up the association single-homed with only one
address causing the first NAT function to populate its state.
Then it SHOULD add each IP address using packets containing ASCONF chunks
sent via their respective NAT functions.
The address to add is the wildcard address and the lookup address SHOULD
also contain the VTags parameter and optionally the Disable Restart parameter.<a href="#section-6.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<section id="section-7">
      <h2 id="name-various-examples-of-nat-tra">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-various-examples-of-nat-tra" class="section-name selfRef">Various Examples of NAT Traversals</a>
      </h2>
<p id="section-7-1">Please note that this section is informational only.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">The addresses being used in the following examples are IPv4 addresses
for private-use networks and for documentation as specified in <span>[<a href="#RFC6890" class="xref">RFC6890</a>]</span>.
However, the method described here is not limited to this NAT44 case.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">The NAT binding table entries shown in the following examples do not
include the flag indicating whether the restart procedure is supported or not.
This flag is not relevant for these examples.<a href="#section-7-3" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-single-homed-client-to-sing">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-single-homed-client-to-sing" class="section-name selfRef">Single-homed Client to Single-homed Server</a>
        </h3>
<p id="section-7.1-1">The internal client starts the association with the remote
server via a four-way-handshake. Host A starts by sending a packet containing an
INIT chunk.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.1-2">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/
       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+

   INIT[Initiate-Tag = 1234]
10.0.0.1:1 ------&gt; 203.0.113.1:2
        Rem-VTtag = 0

</pre><a href="#section-7.1-2" class="pilcrow">¶</a>
</div>
<p id="section-7.1-3">A NAT binding tabled entry is created, the source address is substituted and the
packet is sent on:<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.1-4">
<pre>

       NAT function creates entry:
       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |     0    |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+

                                INIT[Initiate-Tag = 1234]
                  192.0.2.1:1 ------------------------&gt; 203.0.113.1:2
                                        Rem-VTtag = 0

</pre><a href="#section-7.1-4" class="pilcrow">¶</a>
</div>
<p id="section-7.1-5">Host B receives the packet containing an INIT chunk and sends a packet
containing an INIT ACK chunk with the NAT's Remote-address as
destination address.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.1-6">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/

                                 INIT ACK[Initiate-Tag = 5678]
                   192.0.2.1:1 &lt;----------------------- 203.0.113.1:2
                                         Int-VTag = 1234

NAT function updates entry:
       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |    5678  |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+


INIT ACK[Initiate-Tag = 5678]
10.0.0.1:1 &lt;------ 203.0.113.1:2
          Int-VTag = 1234

</pre><a href="#section-7.1-6" class="pilcrow">¶</a>
</div>
<p id="section-7.1-7">The handshake finishes with a COOKIE ECHO acknowledged by a COOKIE ACK.<a href="#section-7.1-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.1-8">
<pre>

                                       /--\/--\
+--------+          +-----+           /        \           +--------+
| Host A | &lt;------&gt; | NAT | &lt;------&gt; | Internet | &lt;------&gt; | Host B |
+--------+          +-----+           \         /          +--------+
                                       \--/\---/

         COOKIE ECHO
10.0.0.1:1 ------&gt; 203.0.113.1:2
       Rem-VTag = 5678

                                      COOKIE ECHO
                   192.0.2.1:1 -----------------------&gt; 203.0.113.1:2
                                    Rem-VTag = 5678


                                       COOKIE ACK
                   192.0.2.1:1 &lt;----------------------- 203.0.113.1:2
                                    Int-VTag = 1234

            COOKIE ACK
10.0.0.1:1 &lt;------ 203.0.113.1:2
           Int-VTag = 1234

</pre><a href="#section-7.1-8" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.2">
        <h3 id="name-single-homed-client-to-mult">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-single-homed-client-to-mult" class="section-name selfRef">Single-homed Client to Multi-homed Server</a>
        </h3>
<p id="section-7.2-1">The internal client is single-homed whereas the remote server is
multi-homed. The client (Host A) sends a packet containing an INIT chunk like
in the single-homed case.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.2-2">
<pre>

                                               +--------+
                               /--\/--\      /-|Router 1| \
+------+         +-----+      /        \    /  +--------+  \ +------+
| Host | &lt;-----&gt; | NAT | &lt;-&gt; | Internet | ==                =| Host |
|   A  |         +-----+      \        /    \  +--------+  / |   B  |
+------+                       \--/\--/      \-|Router 2|-/  +------+
                                               +--------+

       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+


 INIT[Initiate-Tag = 1234]
10.0.0.1:1 ---&gt; 203.0.113.1:2
       Rem-VTag = 0

</pre><a href="#section-7.2-2" class="pilcrow">¶</a>
</div>
<p id="section-7.2-3">NAT function creates entry:<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.2-4">
<pre>

       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |     0    |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+

                             INIT[Initiate-Tag = 1234]
                192.0.2.1:1 --------------------------&gt; 203.0.113.1:2
                                  Rem-VTag = 0

</pre><a href="#section-7.2-4" class="pilcrow">¶</a>
</div>
<p id="section-7.2-5">The server (Host B) includes its two addresses in the INIT ACK chunk.<a href="#section-7.2-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.2-6">
<pre>

                                               +--------+
                               /--\/--\      /-|Router 1| \
+------+         +-----+      /        \    /  +--------+  \ +------+
| Host | &lt;-----&gt; | NAT | &lt;-&gt; | Internet | ==                =| Host |
|   A  |         +-----+      \        /    \  +--------+  / |   B  |
+------+                       \--/\--/      \-|Router 2|-/  +------+
                                               +--------+

               INIT ACK[Initiate-tag = 5678, IP-Addr = 203.0.113.129]
                192.0.2.1:1 &lt;-------------------------- 203.0.113.1:2
                                 Int-VTag = 1234

</pre><a href="#section-7.2-6" class="pilcrow">¶</a>
</div>
<p id="section-7.2-7">The NAT function does not need to change the NAT binding table for the second
address:<a href="#section-7.2-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.2-8">
<pre>

       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |    5678  |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+


INIT ACK[Initiate-Tag = 5678]
10.0.0.1:1 &lt;--- 203.0.113.1:2
         Int-VTag = 1234

</pre><a href="#section-7.2-8" class="pilcrow">¶</a>
</div>
<p id="section-7.2-9">The handshake finishes with a COOKIE ECHO acknowledged by a COOKIE ACK.<a href="#section-7.2-9" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.2-10">
<pre>

                                               +--------+
                               /--\/--\      /-|Router 1| \
+------+         +-----+      /        \    /  +--------+  \ +------+
| Host | &lt;-----&gt; | NAT | &lt;-&gt; | Internet | ==                =| Host |
|   A  |         +-----+      \        /    \  +--------+  / |   B  |
+------+                       \--/\--/      \-|Router 2|-/  +------+
                                               +--------+

       COOKIE ECHO
10.0.0.1:1 ---&gt; 203.0.113.1:2
       Rem-VTag = 5678

                                   COOKIE ECHO
                192.0.2.1:1 --------------------------&gt; 203.0.113.1:2
                                  Rem-VTag = 5678


                                     COOKIE ACK
                192.0.2.1:1 &lt;-------------------------- 203.0.113.1:2
                                   Int-VTag = 1234

          COOKIE ACK
10.0.0.1:1 &lt;--- 203.0.113.1:2
         Int-VTag = 1234

</pre><a href="#section-7.2-10" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.3">
        <h3 id="name-multihomed-client-and-serve">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-multihomed-client-and-serve" class="section-name selfRef">Multihomed Client and Server</a>
        </h3>
<p id="section-7.3-1">The client (Host A) sends a packet containing an INIT chunk to the
server (Host B), but does not include the second address.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.3-2">
<pre>

               +-------+
            /--| NAT 1 |--\       /--\/--\
+------+   /   +-------+   \     /        \     +--------+
| Host |===                 ====| Internet |====| Host B |
|   A  |   \   +-------+   /     \        /     +--------+
+------+    \--| NAT 2 |--/       \--/\--/
               +-------+

       +---------+--------+----------+--------+-----------+
NAT 1  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+

 INIT[Initiate-Tag = 1234]
10.0.0.1:1 --------&gt; 203.0.113.1:2
         Rem-VTag = 0

</pre><a href="#section-7.3-2" class="pilcrow">¶</a>
</div>
<p id="section-7.3-3">NAT function 1 creates entry:<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.3-4">
<pre>

       +---------+--------+----------+--------+-----------+
NAT 1  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |     0    |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+


                                INIT[Initiate-Tag = 1234]
                     192.0.2.1:1 ---------------------&gt; 203.0.113.1:2
                                        Rem-VTag = 0

</pre><a href="#section-7.3-4" class="pilcrow">¶</a>
</div>
<p id="section-7.3-5">Host B includes its second address in the INIT ACK.<a href="#section-7.3-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.3-6">
<pre>

                     +-------+
            /--------| NAT 1 |--------\       /--\/--\
+------+   /         +-------+         \     /        \    +--------+
| Host |===                             ====| Internet |===| Host B |
|   A  |   \         +-------+         /     \        /    +--------+
+------+    \--------| NAT 2 |--------/       \--/\--/
                     +-------+

               INIT ACK[Initiate-Tag = 5678, IP-Addr = 203.0.113.129]
                   192.0.2.1:1 &lt;----------------------- 203.0.113.1:2
                                   Int-VTag = 1234

</pre><a href="#section-7.3-6" class="pilcrow">¶</a>
</div>
<p id="section-7.3-7">NAT function 1 does not need to update the NAT binding table for the second address:<a href="#section-7.3-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.3-8">
<pre>

       +---------+--------+----------+--------+-----------+
NAT 1  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |    5678  |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+


  INIT ACK[Initiate-Tag = 5678]
10.0.0.1:1 &lt;-------- 203.0.113.1:2
            Int-VTag = 1234

</pre><a href="#section-7.3-8" class="pilcrow">¶</a>
</div>
<p id="section-7.3-9">The handshake finishes with a COOKIE ECHO acknowledged by a COOKIE ACK.<a href="#section-7.3-9" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.3-10">
<pre>

                     +-------+
            /--------| NAT 1 |--------\       /--\/--\
+------+   /         +-------+         \     /        \    +--------+
| Host |===                             ====| Internet |===| Host B |
|   A  |   \         +-------+         /     \        /    +--------+
+------+    \--------| NAT 2 |--------/       \--/\--/
                     +-------+

          COOKIE ECHO
10.0.0.1:1 --------&gt; 203.0.113.1:2
          Rem-VTag = 5678

                                        COOKIE ECHO
                        192.0.2.1:1 ------------------&gt; 203.0.113.1:2
                                      Rem-VTag = 5678


                                        COOKIE ACK
                        192.0.2.1:1 &lt;------------------ 203.0.113.1:2
                                      Int-VTag = 1234

            COOKIE ACK
10.0.0.1:1 &lt;------- 203.0.113.1:2
           Int-VTag = 1234

</pre><a href="#section-7.3-10" class="pilcrow">¶</a>
</div>
<p id="section-7.3-11">Host A announces its second address in an ASCONF chunk.
The address parameter contains an undefined address (0) to indicate that
the source address should be added.
The lookup address parameter within the ASCONF chunk will also contain
the pair of VTags (remote and internal) so that the NAT function may populate
its NAT binding table entry completely with this single packet.<a href="#section-7.3-11" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.3-12">
<pre>

                     +-------+
            /--------| NAT 1 |--------\       /--\/--\
+------+   /         +-------+         \     /        \    +--------+
| Host |===                             ====| Internet |===| Host B |
|   A  |   \         +-------+         /     \        /    +--------+
+------+    \--------| NAT 2 |--------/       \--/\--/
                     +-------+

ASCONF [ADD-IP=0.0.0.0, INT-VTag=1234, Rem-VTag = 5678]
10.1.0.1:1 --------&gt; 203.0.113.129:2
         Rem-VTag = 5678

</pre><a href="#section-7.3-12" class="pilcrow">¶</a>
</div>
<p id="section-7.3-13">NAT function 2 creates a complete entry:<a href="#section-7.3-13" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.3-14">
<pre>

       +---------+--------+----------+--------+-----------+
NAT 2  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |    5678  |    2   |  10.1.0.1 |
       +---------+--------+----------+--------+-----------+


                  ASCONF [ADD-IP, Int-VTag=1234, Rem-VTag = 5678]
                   192.0.2.129:1 -------------------&gt; 203.0.113.129:2
                                     Rem-VTag = 5678

                                        ASCONF ACK
                   192.0.2.129:1 &lt;------------------- 203.0.113.129:2
                                     Int-VTag = 1234

          ASCONF ACK
10.1.0.1:1 &lt;----- 203.0.113.129:2
         Int-VTag = 1234

</pre><a href="#section-7.3-14" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.4">
        <h3 id="name-nat-function-loses-its-stat">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-nat-function-loses-its-stat" class="section-name selfRef">NAT Function Loses Its State</a>
        </h3>
<p id="section-7.4-1">Association is already established between Host A and Host B, when the NAT function
loses its state and obtains a new external address. Host A sends a DATA chunk
to Host B.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.4-2">
<pre>

                                         /--\/--\
+--------+              +-----+         /        \         +--------+
| Host A | &lt;----------&gt; | NAT | &lt;----&gt; | Internet | &lt;----&gt; | Host B |
+--------+              +-----+         \        /         +--------+
                                         \--/\--/

       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+

               DATA
10.0.0.1:1 ----------&gt; 203.0.113.1:2
            Rem-VTag = 5678

</pre><a href="#section-7.4-2" class="pilcrow">¶</a>
</div>
<p id="section-7.4-3">The NAT function cannot find an entry in the NAT binding table for the association.
It sends a packet containing an ERROR chunk with the M-Bit set and the cause
"NAT state missing".<a href="#section-7.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.4-4">
<pre>

                                         /--\/--\
+--------+              +-----+         /        \         +--------+
| Host A | &lt;----------&gt; | NAT | &lt;----&gt; | Internet | &lt;----&gt; | Host B |
+--------+              +-----+         \        /         +--------+
                                         \--/\--/

  ERROR [M-Bit, NAT state missing]
10.0.0.1:1 &lt;---------- 203.0.113.1:2
          Rem-VTag = 5678

</pre><a href="#section-7.4-4" class="pilcrow">¶</a>
</div>
<p id="section-7.4-5">On reception of the packet containing the ERROR chunk, Host A sends a packet
containing an ASCONF chunk indicating that the former information has to be
deleted and the source address of the actual packet added.<a href="#section-7.4-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.4-6">
<pre>

                                         /--\/--\
+--------+              +-----+         /        \         +--------+
| Host A | &lt;----------&gt; | NAT | &lt;----&gt; | Internet | &lt;----&gt; | Host B |
+--------+              +-----+         \        /         +--------+
                                         \--/\--/

ASCONF [ADD-IP, DELETE-IP, Int-VTag=1234, Rem-VTag = 5678]
10.0.0.1:1 ----------&gt; 203.0.113.129:2
          Rem-VTag = 5678

       +---------+--------+----------+--------+-----------+
NAT    |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |    5678  |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+

        ASCONF [ADD-IP, DELETE-IP, Int-VTag=1234, Rem-VTag = 5678]
                       192.0.2.2:1 -----------------&gt; 203.0.113.129:2
                                     Rem-VTag = 5678

</pre><a href="#section-7.4-6" class="pilcrow">¶</a>
</div>
<p id="section-7.4-7">Host B adds the new source address to this association and deletes
all other addresses from this association.<a href="#section-7.4-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.4-8">
<pre>

                                         /--\/--\
+--------+              +-----+         /        \         +--------+
| Host A | &lt;----------&gt; | NAT | &lt;----&gt; | Internet | &lt;----&gt; | Host B |
+--------+              +-----+         \        /         +--------+
                                         \--/\--/

                                         ASCONF ACK
                       192.0.2.2:1 &lt;----------------- 203.0.113.129:2
                                      Int-VTag = 1234

            ASCONF ACK
10.1.0.1:1 &lt;---------- 203.0.113.129:2
          Int-VTag = 1234

              DATA
10.0.0.1:1 ----------&gt; 203.0.113.1:2
         Rem-VTag = 5678
                                          DATA
                       192.0.2.2:1 -----------------&gt; 203.0.113.129:2
                                     Rem-VTag = 5678

</pre><a href="#section-7.4-8" class="pilcrow">¶</a>
</div>
</section>
<section id="section-7.5">
        <h3 id="name-peer-to-peer-communication">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-peer-to-peer-communication" class="section-name selfRef">Peer-to-Peer Communication</a>
        </h3>
<p id="section-7.5-1">If two hosts, each of them behind a NAT function, want to communicate with
each other, they have to get knowledge of the peer's external address.
This can be achieved with a so-called rendezvous server.
Afterwards the destination addresses are external,
and the association is set up with the help of the INIT collision.
The NAT functions create their entries according to their internal peer's
point of view. Therefore, NAT function A's Internal-VTag and Internal-Port are
NAT function B's Remote-VTag and Remote-Port, respectively.
The naming (internal/remote) of the verification tag in the packet
flow is done from the sending host's point of view.<a href="#section-7.5-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.5-2">
<pre>

          Internal | External           External | Internal
                   |                             |
                   |          /--\/---\          |
+--------+     +-------+     /         \     +-------+     +--------+
| Host A |&lt;---&gt;| NAT A |&lt;--&gt;| Internet  |&lt;--&gt;| NAT B |&lt;---&gt;| Host B |
+--------+     +-------+     \         /     +-------+     +--------+
                   |          \--/\---/          |


NAT Binding Tables
       +---------+--------+----------+--------+-----------+
NAT A  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+

       +---------+--------+----------+--------+-----------+
NAT B  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  v-tag  |  port  |   v-tag  |   port |    Addr   |
       +---------+--------+----------+--------+-----------+

INIT[Initiate-Tag = 1234]
10.0.0.1:1 --&gt; 203.0.113.1:2
        Rem-VTag = 0

</pre><a href="#section-7.5-2" class="pilcrow">¶</a>
</div>
<p id="section-7.5-3">NAT function A creates entry:<a href="#section-7.5-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.5-4">
<pre>

       +---------+--------+----------+--------+-----------+
NAT A  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  1234   |    1   |     0    |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+

                        INIT[Initiate-Tag = 1234]
               192.0.2.1:1 ----------------&gt; 203.0.113.1:2
                            Rem-VTag = 0

</pre><a href="#section-7.5-4" class="pilcrow">¶</a>
</div>
<p id="section-7.5-5">NAT function B processes the packet containing the INIT chunk, but cannot find an
entry.
The SCTP packet is silently discarded and leaves the NAT binding table
of NAT function B unchanged.<a href="#section-7.5-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.5-6">
<pre>
       +---------+--------+----------+--------+-----------+
NAT B  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
</pre><a href="#section-7.5-6" class="pilcrow">¶</a>
</div>
<p id="section-7.5-7">Now Host B sends a packet containing an INIT chunk, which is processed
by NAT function B. Its parameters are used to create an entry.<a href="#section-7.5-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.5-8">
<pre>

          Internal | External           External | Internal
                   |                             |
                   |          /--\/---\          |
+--------+     +-------+     /         \     +-------+     +--------+
| Host A |&lt;---&gt;| NAT A |&lt;--&gt;| Internet  |&lt;--&gt;| NAT B |&lt;---&gt;| Host B |
+--------+     +-------+     \         /     +-------+     +--------+
                   |          \--/\---/          |

                                            INIT[Initiate-Tag = 5678]
                                           192.0.2.1:1 &lt;-- 10.1.0.1:2
                                                         Rem-VTag = 0

       +---------+--------+----------+--------+-----------+
NAT B  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  5678   |    2   |     0    |    1   |  10.1.0.1 |
       +---------+--------+----------+--------+-----------+

                          INIT[Initiate-Tag = 5678]
               192.0.2.1:1  &lt;--------------- 203.0.113.1:2
                                  Rem-VTag = 0

</pre><a href="#section-7.5-8" class="pilcrow">¶</a>
</div>
<p id="section-7.5-9">NAT function A processes the packet containing the INIT chunk.
As the outgoing packet containing an INIT chunk of Host A has already created
an entry, the entry is found and updated:<a href="#section-7.5-9" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.5-10">
<pre>

          Internal | External           External | Internal
                   |                             |
                   |          /--\/---\          |
+--------+     +-------+     /         \     +-------+     +--------+
| Host A |&lt;---&gt;| NAT A |&lt;--&gt;| Internet  |&lt;--&gt;| NAT B |&lt;---&gt;| Host B |
+--------+     +-------+     \         /     +-------+     +--------+
                   |          \--/\---/          |

               VTag != Int-VTag, but Rem-VTag == 0, find entry.
       +---------+--------+----------+--------+-----------+
NAT A  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |   1234  |   1    |   5678   |    2   |  10.0.0.1 |
       +---------+--------+----------+--------+-----------+

 INIT[Initiate-tag = 5678]
10.0.0.1:1 &lt;-- 203.0.113.1:2
          Rem-VTag = 0

</pre><a href="#section-7.5-10" class="pilcrow">¶</a>
</div>
<p id="section-7.5-11">Host A sends a packet containing an INIT ACK chunk, which can pass through
NAT function B:<a href="#section-7.5-11" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.5-12">
<pre>

          Internal | External           External | Internal
                   |                             |
                   |          /--\/---\          |
+--------+     +-------+     /         \     +-------+     +--------+
| Host A |&lt;---&gt;| NAT A |&lt;--&gt;| Internet  |&lt;--&gt;| NAT B |&lt;---&gt;| Host B |
+--------+     +-------+     \         /     +-------+     +--------+
                   |          \--/\---/          |

INIT ACK[Initiate-Tag = 1234]
10.0.0.1:1 --&gt; 203.0.113.1:2
      Rem-VTag = 5678


                    INIT ACK[Initiate-Tag = 1234]
               192.0.2.1:1 ----------------&gt; 203.0.113.1:2
                             Rem-VTag = 5678

                                    NAT function B updates entry:

       +---------+--------+----------+--------+-----------+
NAT B  |  Int    |  Int   |   Rem    |   Rem  |    Int    |
       |  VTag   |  Port  |   VTag   |   Port |    Addr   |
       +---------+--------+----------+--------+-----------+
       |  5678   |    2   |   1234   |   1    |  10.1.0.1 |
       +---------+--------+----------+--------+-----------+

                                        INIT ACK[Initiate-Tag = 1234]
                                           192.0.2.1:1 --&gt; 10.1.0.1:2
                                                      Rem-VTag = 5678

</pre><a href="#section-7.5-12" class="pilcrow">¶</a>
</div>
<p id="section-7.5-13">The lookup for COOKIE ECHO and COOKIE ACK is successful.<a href="#section-7.5-13" class="pilcrow">¶</a></p>
<div class="artwork art-text alignCenter" id="section-7.5-14">
<pre>

          Internal | External           External | Internal
                   |                             |
                   |          /--\/---\          |
+--------+     +-------+     /         \     +-------+     +--------+
| Host A |&lt;---&gt;| NAT A |&lt;--&gt;| Internet  |&lt;--&gt;| NAT B |&lt;---&gt;| Host B |
+--------+     +-------+     \         /     +-------+     +--------+
                   |          \--/\---/          |

                                                  COOKIE ECHO
                                           192.0.2.1:1 &lt;-- 10.1.0.1:2
                                                Rem-VTag = 1234

                              COOKIE ECHO
               192.0.2.1:1 &lt;------------- 203.0.113.1:2
                              Rem-VTag = 1234

       COOKIE ECHO
10.0.0.1:1 &lt;-- 203.0.113.1:2
       Rem-VTag = 1234

       COOKIE ACK
10.0.0.1:1 --&gt; 203.0.113.1:2
       Rem-VTag = 5678

                              COOKIE ACK
               192.0.2.1:1 ----------------&gt; 203.0.113.1:2
                              Rem-VTag = 5678

                                                    COOKIE ACK
                                           192.0.2.1:1 --&gt; 10.1.0.1:2
                                                 Rem-VTag = 5678

</pre><a href="#section-7.5-14" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-8">
      <h2 id="name-sctp-nat-yang-module">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-sctp-nat-yang-module" class="section-name selfRef">SCTP NAT YANG Module</a>
      </h2>
<p id="section-8-1">This section defines a YANG module for SCTP NAT.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">The terminology for describing YANG data models is defined
in <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>.
The meaning of the symbols in tree diagrams is defined
in <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>.<a href="#section-8-2" class="pilcrow">¶</a></p>
<section id="section-8.1">
        <h3 id="name-tree-structure">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-tree-structure" class="section-name selfRef">Tree Structure</a>
        </h3>
<p id="section-8.1-1">This module augments NAT YANG module <span>[<a href="#RFC8512" class="xref">RFC8512</a>]</span> with
SCTP specifics.
The module supports both classical SCTP NAT (that is, rewrite port numbers)
and SCTP-specific variant where the ports numbers are not altered.
The YANG "feature" is used to indicate whether SCTP-specific variant is
supported.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">The tree structure of the SCTP NAT YANG module is provided below:<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-8.1-3">
<pre>

module: ietf-nat-sctp
  augment /nat:nat/nat:instances/nat:instance
          /nat:policy/nat:timers:
    +--rw sctp-timeout?   uint32
  augment /nat:nat/nat:instances/nat:instance
         /nat:mapping-table/nat:mapping-entry:
    +--rw int-VTag?   uint32 {sctp-nat}?
    +--rw rem-VTag?   uint32 {sctp-nat}?

</pre><a href="#section-8.1-3" class="pilcrow">¶</a>
</div>
<p id="section-8.1-4">Concretely, the SCTP NAT YANG module augments the NAT YANG module
(policy, in particular) with the following:<a href="#section-8.1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-5.1">
            <p id="section-8.1-5.1.1">The sctp-timeout is used to control the SCTP inactivity timeout.
That is, the time an SCTP mapping will stay active without SCTP packets
traversing the NAT.
This timeout can be set only for SCTP.
Hence, "/nat:nat/nat:instances/nat:instance/nat:policy/nat:transport-protocols/nat:protocol-id"
MUST be set to '132' (SCTP).<a href="#section-8.1-5.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-8.1-6">In addition, the SCTP NAT YANG module augments the mapping entry
with the following parameters defined in <a href="#terminology" class="xref">Section 3</a>.
These parameters apply only for SCTP NAT mapping entries (i.e.,
"/nat/instances/instance/mapping-table/mapping-entry/transport-protocol"
MUST be set to '132');<a href="#section-8.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-7.1">
            <p id="section-8.1-7.1.1">The Internal Verification Tag (Int-VTag)<a href="#section-8.1-7.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-8.1-7.2">
            <p id="section-8.1-7.2.1">The Remote Verification Tag (Rem-VTag)<a href="#section-8.1-7.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
<section id="section-8.2">
        <h3 id="name-yang-module">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-yang-module" class="section-name selfRef">YANG Module</a>
        </h3>
<div id="section-8.2-1">
<pre class="sourcecode">

&lt;CODE BEGINS&gt; file "ietf-nat-sctp@2020-07-13.yang"
module ietf-nat-sctp {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-nat-sctp";
  prefix nat-sctp;

  import ietf-nat {
    prefix nat;
    reference
      "RFC 8512: A YANG Module for Network Address Translation
                 (NAT) and Network Prefix Translation (NPT)";
  }

  organization
    "IETF TSVWG Working Group";
  contact
    "WG Web:   &lt;https://datatracker.ietf.org/wg/tsvwg/&gt;
     WG List:  &lt;mailto:tsvwg@ietf.org&gt;

     Author:  Mohamed Boucadair
              &lt;mailto:mohamed.boucadair@orange.com&gt;";
  description
    "This module augments NAT YANG module with Stream Control
     Transmission Protocol (SCTP) specifics. The extension supports
     both a classical SCTP NAT (that is, rewrite port numbers)
     and a, SCTP-specific variant where the ports numbers are
     not altered.

     Copyright (c) 2020 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject
     to the license terms contained in, the Simplified BSD License
     set forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (http://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX; see
     the RFC itself for full legal notices.";

  revision 2019-11-18 {
    description
      "Initial revision.";
    reference
      "RFC XXXX: Stream Control Transmission Protocol (SCTP)
                 Network Address Translation Support";
  }

  feature sctp-nat {
    description
      "This feature means that SCTP-specific variant of NAT
       is supported. That is, avoid rewriting port numbers.";
    reference
      "Section 4.3 of RFC XXXX.";
  }

  augment "/nat:nat/nat:instances/nat:instance"
        + "/nat:policy/nat:timers" {
    when "/nat:nat/nat:instances/nat:instance"
       + "/nat:policy/nat:transport-protocols"
       + "/nat:protocol-id = 132";
    description
      "Extends NAT policy with a timeout for SCTP mapping
       entries.";

    leaf sctp-timeout {
      type uint32;
      units "seconds";
      description
        "SCTP inactivity timeout. That is, the time an SCTP
         mapping entry will stay active without packets
         traversing the NAT.";
    }
  }

  augment "/nat:nat/nat:instances/nat:instance"
        + "/nat:mapping-table/nat:mapping-entry" {
    when "nat:transport-protocol = 132";
    if-feature "sctp-nat";
    description
      "Extends the mapping entry with SCTP specifics.";

    leaf int-VTag {
       type uint32;
       description
         "The Internal Verification Tag that the internal
          host has chosen for this communication.";
    }
    leaf rem-VTag {
      type uint32;
      description
         "The Remote Verification Tag that the remote
          peer has chosen for this communication.";
    }
  }
}
&lt;CODE ENDS&gt;

</pre><a href="#section-8.2-1" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-9">
      <h2 id="name-socket-api-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-socket-api-considerations" class="section-name selfRef">Socket API Considerations</a>
      </h2>
<p id="section-9-1">This section describes how the socket API defined in
<span>[<a href="#RFC6458" class="xref">RFC6458</a>]</span> is extended to provide a way for the
application to control NAT friendliness.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">Please note that this section is informational only.<a href="#section-9-2" class="pilcrow">¶</a></p>
<p id="section-9-3">A socket API implementation based on <span>[<a href="#RFC6458" class="xref">RFC6458</a>]</span>
is extended by supporting one new read/write socket option.<a href="#section-9-3" class="pilcrow">¶</a></p>
<section id="section-9.1">
        <h3 id="name-get-or-set-the-nat-friendli">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-get-or-set-the-nat-friendli" class="section-name selfRef">Get or Set the NAT Friendliness (SCTP_NAT_FRIENDLY)</a>
        </h3>
<p id="section-9.1-1">This socket option uses the option_level IPPROTO_SCTP and the
option_name SCTP_NAT_FRIENDLY. It can be used to enable/disable the
NAT friendliness for future associations and retrieve the value
for future and specific ones.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-9.1-2">
<pre>
struct sctp_assoc_value {
  sctp_assoc_t assoc_id;
  uint32_t assoc_value;
};
</pre><a href="#section-9.1-2" class="pilcrow">¶</a>
</div>
<span class="break"></span><dl class="dlNewline" id="section-9.1-3">
          <dt id="section-9.1-3.1">assoc_id</dt>
          <dd id="section-9.1-3.2">
            <p id="section-9.1-3.2.1">This parameter is ignored for one-to-one style sockets.
For one-to-many style sockets the application may fill in an association
identifier or SCTP_FUTURE_ASSOC for this query.
It is an error to use SCTP_{CURRENT|ALL}_ASSOC in assoc_id.<a href="#section-9.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.3">assoc_value</dt>
          <dd id="section-9.1-3.4">
            <p id="section-9.1-3.4.1">A non-zero value indicates a NAT-friendly mode.<a href="#section-9.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-10-1">[NOTE to RFC-Editor: "RFCXXXX" is to be replaced by the RFC number you
assign this document.]<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">[NOTE to RFC-Editor: The requested values for the chunk type and the chunk
parameter types are tentative and to be confirmed by IANA.]<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">This document (RFCXXXX) is the reference for all registrations
described in this section.
The requested changes are described below.<a href="#section-10-3" class="pilcrow">¶</a></p>
<section id="section-10.1">
        <h3 id="name-new-chunk-flags-for-two-exi">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-new-chunk-flags-for-two-exi" class="section-name selfRef">New Chunk Flags for Two Existing Chunk Types</a>
        </h3>
<p id="section-10.1-1">As defined in  <span>[<a href="#RFC6096" class="xref">RFC6096</a>]</span> two chunk flags have to be assigned
by IANA for the ERROR chunk. The requested value for the T bit is 0x01 and
for the M bit is 0x02.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<p id="section-10.1-2">This requires an update of the "ERROR Chunk Flags" registry for SCTP:<a href="#section-10.1-2" class="pilcrow">¶</a></p>
<p id="section-10.1-3">ERROR Chunk Flags<a href="#section-10.1-3" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
          <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Chunk Flag Value</th>
              <th class="text-left" rowspan="1" colspan="1">Chunk Flag Name</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x01</td>
              <td class="text-left" rowspan="1" colspan="1">T bit     </td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x02</td>
              <td class="text-left" rowspan="1" colspan="1">M bit     </td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x04</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x08</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x10</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x20</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x40</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x80</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
          </tbody>
        </table>
<p id="section-10.1-5">As defined in  <span>[<a href="#RFC6096" class="xref">RFC6096</a>]</span> one chunk flag has to be assigned
by IANA for the ABORT chunk. The requested value of the M bit is 0x02.<a href="#section-10.1-5" class="pilcrow">¶</a></p>
<p id="section-10.1-6">This requires an update of the "ABORT Chunk Flags" registry for SCTP:<a href="#section-10.1-6" class="pilcrow">¶</a></p>
<p id="section-10.1-7">ABORT Chunk Flags<a href="#section-10.1-7" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
          <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Chunk Flag Value</th>
              <th class="text-left" rowspan="1" colspan="1">Chunk Flag Name</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x01</td>
              <td class="text-left" rowspan="1" colspan="1">T bit     </td>
              <td class="text-left" rowspan="1" colspan="1">[RFC4960]</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x02</td>
              <td class="text-left" rowspan="1" colspan="1">M bit     </td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x04</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x08</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x10</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x20</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x40</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">0x80</td>
              <td class="text-left" rowspan="1" colspan="1">Unassigned</td>
              <td class="text-left" rowspan="1" colspan="1">         </td>
            </tr>
          </tbody>
        </table>
</section>
<section id="section-10.2">
        <h3 id="name-three-new-error-causes">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-three-new-error-causes" class="section-name selfRef">Three New Error Causes</a>
        </h3>
<p id="section-10.2-1">Three error causes have to be assigned by IANA.
It is requested to use the values given below.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<p id="section-10.2-2">This requires three additional lines in the "Error Cause Codes"
registry for SCTP:<a href="#section-10.2-2" class="pilcrow">¶</a></p>
<p id="section-10.2-3">Error Cause Codes<a href="#section-10.2-3" class="pilcrow">¶</a></p>
<table class="center" id="table-4">
          <caption><a href="#table-4" class="selfRef">Table 4</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Value</th>
              <th class="text-left" rowspan="1" colspan="1">Cause Code                    </th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">176  </td>
              <td class="text-left" rowspan="1" colspan="1">VTag and Port Number Collision</td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">177  </td>
              <td class="text-left" rowspan="1" colspan="1">Missing State                 </td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">178  </td>
              <td class="text-left" rowspan="1" colspan="1">Port Number Collision         </td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
          </tbody>
        </table>
</section>
<section id="section-10.3">
        <h3 id="name-two-new-chunk-parameter-typ">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-two-new-chunk-parameter-typ" class="section-name selfRef">Two New Chunk Parameter Types</a>
        </h3>
<p id="section-10.3-1">Two chunk parameter types have to be assigned by IANA.
It is requested to use the values given below.
IANA should assign these values from the pool of parameters with the upper
two bits set to '11'.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
<p id="section-10.3-2">This requires two additional lines in the "Chunk Parameter Types"
registry for SCTP:<a href="#section-10.3-2" class="pilcrow">¶</a></p>
<p id="section-10.3-3">Chunk Parameter Types<a href="#section-10.3-3" class="pilcrow">¶</a></p>
<table class="center" id="table-5">
          <caption><a href="#table-5" class="selfRef">Table 5</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">ID Value</th>
              <th class="text-left" rowspan="1" colspan="1">Chunk Parameter Type    </th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">49159   </td>
              <td class="text-left" rowspan="1" colspan="1">Disable Restart (0xC007)</td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">49160   </td>
              <td class="text-left" rowspan="1" colspan="1">VTags (0xC008)          </td>
              <td class="text-left" rowspan="1" colspan="1">[RFCXXXX]</td>
            </tr>
          </tbody>
        </table>
</section>
<section id="section-10.4">
        <h3 id="name-one-new-uri">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-one-new-uri" class="section-name selfRef">One New URI</a>
        </h3>
<p id="section-10.4-1">An URI in the "ns" subregistry within the "IETF XML" registry has to be
assigned by IANA (<span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>):<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.4-2">
<pre>

    URI: urn:ietf:params:xml:ns:yang:ietf-nat-sctp
    Registrant Contact: The IESG.
    XML: N/A; the requested URI is an XML namespace.

</pre><a href="#section-10.4-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-10.5">
        <h3 id="name-one-new-yang-module">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-one-new-yang-module" class="section-name selfRef">One New YANG Module</a>
        </h3>
<p id="section-10.5-1">An YANG module in the "YANG Module Names" subregistry within the
"YANG Parameters" registry has to be assigned by IANA
(<span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span>):<a href="#section-10.5-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-10.5-2">
<pre>

    Name: ietf-nat-sctp
    Namespace: urn:ietf:params:xml:ns:yang:ietf-nat-sctp
    Maintained by IANA: N
    Prefix: nat-sctp
    Reference: RFCXXXX

</pre><a href="#section-10.5-2" class="pilcrow">¶</a>
</div>
</section>
</section>
<section id="section-11">
      <h2 id="name-security-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-11-1">State maintenance within a NAT function is always a subject of possible
Denial Of Service attacks. This document recommends that at
a minimum a NAT function runs a timer on any SCTP state so that old
association state can be cleaned up.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">Generic issues related to address sharing are discussed in
<span>[<a href="#RFC6269" class="xref">RFC6269</a>]</span> and apply to SCTP as well.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">For SCTP endpoints not disabling the restart procedure, this document does
not add any additional security considerations to the ones given in
<span>[<a href="#RFC4960" class="xref">RFC4960</a>]</span>,
<span>[<a href="#RFC4895" class="xref">RFC4895</a>]</span>, and
<span>[<a href="#RFC5061" class="xref">RFC5061</a>]</span>.<a href="#section-11-3" class="pilcrow">¶</a></p>
<p id="section-11-4">SCTP endpoints disabling the restart procedure, should monitor the status
of all associations to mitigate resource exhaustion attacks by establishing
a lot of associations sharing the same IP addresses and port numbers.<a href="#section-11-4" class="pilcrow">¶</a></p>
<p id="section-11-5">In any case, SCTP is protected by the verification tags and the usage of
<span>[<a href="#RFC4895" class="xref">RFC4895</a>]</span> against off-path attackers.<a href="#section-11-5" class="pilcrow">¶</a></p>
<p id="section-11-6">For IP-level fragmentation and reassembly related issues see
<span>[<a href="#RFC4963" class="xref">RFC4963</a>]</span>.<a href="#section-11-6" class="pilcrow">¶</a></p>
<p id="section-11-7">The YANG module specified in this document defines a schema for data that is
designed to be accessed via network management protocols such as
NETCONF <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> or RESTCONF <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span>.
The lowest NETCONF layer is the secure transport layer, and the
mandatory-to-implement secure transport is
Secure Shell (SSH) <span>[<a href="#RFC6242" class="xref">RFC6242</a>]</span>.
The lowest RESTCONF layer is HTTPS, and the mandatory-to-implement secure
transport is TLS <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span>.<a href="#section-11-7" class="pilcrow">¶</a></p>
<p id="section-11-8">The Network Configuration Access Control
Model (NACM) <span>[<a href="#RFC8341" class="xref">RFC8341</a>]</span> provides the means to restrict access for
particular NETCONF or RESTCONF users to a preconfigured subset of all
available NETCONF or RESTCONF protocol operations and content.<a href="#section-11-8" class="pilcrow">¶</a></p>
<p id="section-11-9">All data nodes defined in the YANG module that can be created, modified,
and deleted (i.e., config true, which is the default) are considered sensitive.
Write operations (e.g., edit-config) applied to these data nodes without proper
protection can negatively affect network operations.
An attacker who is able to access the SCTP NAT function can undertake various
attacks, such as:<a href="#section-11-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-10.1">
          <p id="section-11-10.1.1">Setting a low timeout for SCTP mapping entries to cause failures to deliver
incoming SCTP packets.<a href="#section-11-10.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-11-10.2">
          <p id="section-11-10.2.1">Instantiating mapping entries to cause NAT collision.<a href="#section-11-10.2.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
<section id="section-12">
      <h2 id="name-normative-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
      <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4895">[RFC4895]</dt>
      <dd>
<span class="refAuthor">Tuexen, M.</span><span class="refAuthor">, Stewart, R.</span><span class="refAuthor">, Lei, P.</span><span class="refAuthor">, and E. Rescorla</span>, <span class="refTitle">"Authenticated Chunks for the Stream Control Transmission Protocol (SCTP)"</span>, <span class="seriesInfo">RFC 4895</span>, <span class="seriesInfo">DOI 10.17487/RFC4895</span>, <time datetime="2007-08" class="refDate">August 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4895">https://www.rfc-editor.org/info/rfc4895</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4960">[RFC4960]</dt>
      <dd>
<span class="refAuthor">Stewart, R., Ed.</span>, <span class="refTitle">"Stream Control Transmission Protocol"</span>, <span class="seriesInfo">RFC 4960</span>, <span class="seriesInfo">DOI 10.17487/RFC4960</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4960">https://www.rfc-editor.org/info/rfc4960</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5061">[RFC5061]</dt>
      <dd>
<span class="refAuthor">Stewart, R.</span><span class="refAuthor">, Xie, Q.</span><span class="refAuthor">, Tuexen, M.</span><span class="refAuthor">, Maruyama, S.</span><span class="refAuthor">, and M. Kozuka</span>, <span class="refTitle">"Stream Control Transmission Protocol (SCTP) Dynamic Address Reconfiguration"</span>, <span class="seriesInfo">RFC 5061</span>, <span class="seriesInfo">DOI 10.17487/RFC5061</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5061">https://www.rfc-editor.org/info/rfc5061</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6020">[RFC6020]</dt>
      <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6020</span>, <span class="seriesInfo">DOI 10.17487/RFC6020</span>, <time datetime="2010-10" class="refDate">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6020">https://www.rfc-editor.org/info/rfc6020</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6096">[RFC6096]</dt>
      <dd>
<span class="refAuthor">Tuexen, M.</span><span class="refAuthor"> and R. Stewart</span>, <span class="refTitle">"Stream Control Transmission Protocol (SCTP) Chunk Flags Registration"</span>, <span class="seriesInfo">RFC 6096</span>, <span class="seriesInfo">DOI 10.17487/RFC6096</span>, <time datetime="2011-01" class="refDate">January 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6096">https://www.rfc-editor.org/info/rfc6096</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
      <dd>
<span class="refAuthor">Enns, R., Ed.</span><span class="refAuthor">, Bjorklund, M., Ed.</span><span class="refAuthor">, Schoenwaelder, J., Ed.</span><span class="refAuthor">, and A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6242">[RFC6242]</dt>
      <dd>
<span class="refAuthor">Wasserman, M.</span>, <span class="refTitle">"Using the NETCONF Protocol over Secure Shell (SSH)"</span>, <span class="seriesInfo">RFC 6242</span>, <span class="seriesInfo">DOI 10.17487/RFC6242</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
      <dd>
<span class="refAuthor">Bierman, A.</span><span class="refAuthor">, Bjorklund, M.</span><span class="refAuthor">, and K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time datetime="2017-01" class="refDate">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8341">[RFC8341]</dt>
      <dd>
<span class="refAuthor">Bierman, A.</span><span class="refAuthor"> and M. Bjorklund</span>, <span class="refTitle">"Network Configuration Access Control Model"</span>, <span class="seriesInfo">STD 91</span>, <span class="seriesInfo">RFC 8341</span>, <span class="seriesInfo">DOI 10.17487/RFC8341</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8512">[RFC8512]</dt>
    <dd>
<span class="refAuthor">Boucadair, M., Ed.</span><span class="refAuthor">, Sivakumar, S.</span><span class="refAuthor">, Jacquenet, C.</span><span class="refAuthor">, Vinapamula, S.</span><span class="refAuthor">, and Q. Wu</span>, <span class="refTitle">"A YANG Module for Network Address Translation (NAT) and Network Prefix Translation (NPT)"</span>, <span class="seriesInfo">RFC 8512</span>, <span class="seriesInfo">DOI 10.17487/RFC8512</span>, <time datetime="2019-01" class="refDate">January 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8512">https://www.rfc-editor.org/info/rfc8512</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13">
      <h2 id="name-informative-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="DOI_10.1145_1496091.1496095">[DOI_10.1145_1496091.1496095]</dt>
      <dd>
<span class="refAuthor">Hayes, D.</span><span class="refAuthor">, But, J.</span><span class="refAuthor">, and G. Armitage</span>, <span class="refTitle">"Issues with network address translation for SCTP"</span>, <span class="seriesInfo">ACM SIGCOMM Computer Communication Review Vol. 39, pp. 23-33</span>, <span class="seriesInfo">DOI 10.1145/1496091.1496095</span>, <time datetime="2008-12" class="refDate">December 2008</time>, <span>&lt;<a href="https://doi.org/10.1145/1496091.1496095">https://doi.org/10.1145/1496091.1496095</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0793">[RFC0793]</dt>
      <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Transmission Control Protocol"</span>, <span class="seriesInfo">STD 7</span>, <span class="seriesInfo">RFC 793</span>, <span class="seriesInfo">DOI 10.17487/RFC0793</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc793">https://www.rfc-editor.org/info/rfc793</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3022">[RFC3022]</dt>
      <dd>
<span class="refAuthor">Srisuresh, P.</span><span class="refAuthor"> and K. Egevang</span>, <span class="refTitle">"Traditional IP Network Address Translator (Traditional NAT)"</span>, <span class="seriesInfo">RFC 3022</span>, <span class="seriesInfo">DOI 10.17487/RFC3022</span>, <time datetime="2001-01" class="refDate">January 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3022">https://www.rfc-editor.org/info/rfc3022</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4963">[RFC4963]</dt>
      <dd>
<span class="refAuthor">Heffner, J.</span><span class="refAuthor">, Mathis, M.</span><span class="refAuthor">, and B. Chandler</span>, <span class="refTitle">"IPv4 Reassembly Errors at High Data Rates"</span>, <span class="seriesInfo">RFC 4963</span>, <span class="seriesInfo">DOI 10.17487/RFC4963</span>, <time datetime="2007-07" class="refDate">July 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4963">https://www.rfc-editor.org/info/rfc4963</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6146">[RFC6146]</dt>
      <dd>
<span class="refAuthor">Bagnulo, M.</span><span class="refAuthor">, Matthews, P.</span><span class="refAuthor">, and I. van Beijnum</span>, <span class="refTitle">"Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers"</span>, <span class="seriesInfo">RFC 6146</span>, <span class="seriesInfo">DOI 10.17487/RFC6146</span>, <time datetime="2011-04" class="refDate">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6146">https://www.rfc-editor.org/info/rfc6146</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6269">[RFC6269]</dt>
      <dd>
<span class="refAuthor">Ford, M., Ed.</span><span class="refAuthor">, Boucadair, M.</span><span class="refAuthor">, Durand, A.</span><span class="refAuthor">, Levis, P.</span><span class="refAuthor">, and P. Roberts</span>, <span class="refTitle">"Issues with IP Address Sharing"</span>, <span class="seriesInfo">RFC 6269</span>, <span class="seriesInfo">DOI 10.17487/RFC6269</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6269">https://www.rfc-editor.org/info/rfc6269</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6333">[RFC6333]</dt>
      <dd>
<span class="refAuthor">Durand, A.</span><span class="refAuthor">, Droms, R.</span><span class="refAuthor">, Woodyatt, J.</span><span class="refAuthor">, and Y. Lee</span>, <span class="refTitle">"Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion"</span>, <span class="seriesInfo">RFC 6333</span>, <span class="seriesInfo">DOI 10.17487/RFC6333</span>, <time datetime="2011-08" class="refDate">August 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6333">https://www.rfc-editor.org/info/rfc6333</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6458">[RFC6458]</dt>
      <dd>
<span class="refAuthor">Stewart, R.</span><span class="refAuthor">, Tuexen, M.</span><span class="refAuthor">, Poon, K.</span><span class="refAuthor">, Lei, P.</span><span class="refAuthor">, and V. Yasevich</span>, <span class="refTitle">"Sockets API Extensions for the Stream Control Transmission Protocol (SCTP)"</span>, <span class="seriesInfo">RFC 6458</span>, <span class="seriesInfo">DOI 10.17487/RFC6458</span>, <time datetime="2011-12" class="refDate">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6458">https://www.rfc-editor.org/info/rfc6458</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6890">[RFC6890]</dt>
      <dd>
<span class="refAuthor">Cotton, M.</span><span class="refAuthor">, Vegoda, L.</span><span class="refAuthor">, Bonica, R., Ed.</span><span class="refAuthor">, and B. Haberman</span>, <span class="refTitle">"Special-Purpose IP Address Registries"</span>, <span class="seriesInfo">BCP 153</span>, <span class="seriesInfo">RFC 6890</span>, <span class="seriesInfo">DOI 10.17487/RFC6890</span>, <time datetime="2013-04" class="refDate">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6890">https://www.rfc-editor.org/info/rfc6890</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6951">[RFC6951]</dt>
      <dd>
<span class="refAuthor">Tuexen, M.</span><span class="refAuthor"> and R. Stewart</span>, <span class="refTitle">"UDP Encapsulation of Stream Control Transmission Protocol (SCTP) Packets for End-Host to End-Host Communication"</span>, <span class="seriesInfo">RFC 6951</span>, <span class="seriesInfo">DOI 10.17487/RFC6951</span>, <time datetime="2013-05" class="refDate">May 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6951">https://www.rfc-editor.org/info/rfc6951</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
      <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8340">[RFC8340]</dt>
    <dd>
<span class="refAuthor">Bjorklund, M.</span><span class="refAuthor"> and L. Berger, Ed.</span>, <span class="refTitle">"YANG Tree Diagrams"</span>, <span class="seriesInfo">BCP 215</span>, <span class="seriesInfo">RFC 8340</span>, <span class="seriesInfo">DOI 10.17487/RFC8340</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-appendix.a">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-appendix.a-1">The authors wish to thank
Mohamed Boucadair,
Gorry Fairhurst,
Bryan Ford,
David Hayes,
Alfred Hines,
Karen E. E. Nielsen,
Henning Peters,
Maksim Proshin,
Timo Voelker,
Dan Wing,
and Qiaobing Xie
for their invaluable comments.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
<p id="section-appendix.a-2">In addition, the authors wish to thank David Hayes, Jason But, and Grenville Armitage,
the authors of <span>[<a href="#DOI_10.1145_1496091.1496095" class="xref">DOI_10.1145_1496091.1496095</a>]</span>, for their suggestions.<a href="#section-appendix.a-2" class="pilcrow">¶</a></p>
<p id="section-appendix.a-3">The authors also wish to thank Mohamed Boucadair for contributing the
text related to the YANG module.<a href="#section-appendix.a-3" class="pilcrow">¶</a></p>
</section>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Randall R. Stewart</span></div>
<div dir="auto" class="left"><span class="org">Netflix, Inc.</span></div>
<div dir="auto" class="left">
<span class="locality">Chapin</span>, <span class="region">SC</span> <span class="postal-code">29036</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:randall@lakerest.net" class="email">randall@lakerest.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Michael Tüxen</span></div>
<div dir="auto" class="left"><span class="org">Münster University of Applied Sciences</span></div>
<div dir="auto" class="left"><span class="street-address">Stegerwaldstrasse 39</span></div>
<div dir="auto" class="left"><span class="locality">48565 Steinfurt</span></div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tuexen@fh-muenster.de" class="email">tuexen@fh-muenster.de</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Irene Rüngeler</span></div>
<div dir="auto" class="left"><span class="org">Münster University of Applied Sciences</span></div>
<div dir="auto" class="left"><span class="street-address">Stegerwaldstrasse 39</span></div>
<div dir="auto" class="left"><span class="locality">48565 Steinfurt</span></div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:i.ruengeler@fh-muenster.de" class="email">i.ruengeler@fh-muenster.de</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
