



Internet Engineering Task Force                                 H. Stenn
Internet-Draft                                   Network Time Foundation
Intended status: Standards Track                          March 14, 2016
Expires: September 15, 2016


               Network Time Protocol Last Extension Field
                   draft-stenn-ntp-last-extension-00

Abstract

   NTPv4 is defined by RFC 5905 [RFC5905], and it and earlier versions
   of the NTP Protocol have supported symmetric private key MAC
   authentication.  MACs pre-date the Extension Fields introduced in RFC
   5905 [RFC5905], and as the number of Extension Fields grows there is
   an increasing chance of ambiguity when deciding if the "next" set of
   data is an Extension Field or a MAC.  This proposal defines a new
   Extension Field which is used to signifiy that it is the last
   Extension Field in the packet.  If present, any subsequent data
   SHOULD be considered to be a legacy MAC.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 15, 2016.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



Stenn                  Expires September 15, 2016               [Page 1]

Internet-Draft Network Time Protocol Last Extension Field     March 2016


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   2
   2.  The Last Extension Field Extension Field  . . . . . . . . . .   2
   3.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   3
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  Normative References  . . . . . . . . . . . . . . . . . . . .   4
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   4

1.  Introduction

   NTPv4 is defined by RFC 5905 [RFC5905], and it and earlier versions
   of the NTP Protocol have supported symmetric private key MAC
   authentication.  MACs pre-date the Extension Fields introduced in RFC
   5905 [RFC5905], and as the number of Extension Fields grows there is
   an increasing chance of ambiguity when deciding if the "next" set of
   data is an Extension Field or a MAC.  This proposal defines a new
   Extension Field which is used to signifiy that it is the last
   Extension Field in the packet.  If present, any subsequent data
   SHOULD be considered to be a legacy MAC.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

2.  The Last Extension Field Extension Field

   Now that multiple extension fields are a possibility, and the chance
   that additional packet data could be an Extension Field or an old-
   style MAC, having a means to indicate that there are no more
   Extension Fields in an NTP packet, and any subsequent data MUST be
   something else, almost certainly an old-style MAC, is a valuable
   facility.









Stenn                  Expires September 15, 2016               [Page 2]

Internet-Draft Network Time Protocol Last Extension Field     March 2016


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +---------------+---------------+-------------------------------+
   |          Field Type           |        Field Length           |
   +-------------------------------+-------------------------------+

                 NTP Extension Field: Last Extension Field

   Field Type: TBD (Recommendation for IANA: 0x2008 (Last Extension
   Field, MAC OPTIONAL))

   Field Length: 4

   Payload: None.

   Example:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +---------------+---------------+-------------------------------+
   |     Field Type (0x2008)       |    Field Length (0x0004)      |
   +-------------------------------+-------------------------------+
   |                          MAC Key ID                           |
   +-------------------------------+-------------------------------+
   |                            Sixteen                            |
   +-------------------------------+-------------------------------+
   |                             Octets                            |
   +-------------------------------+-------------------------------+
   |                              of                               |
   +-------------------------------+-------------------------------+
   |                              MAC                              |
   +-------------------------------+-------------------------------+

            Example: NTP Extension Field: Last Extension Field

3.  Acknowledgements

   The author wishes to acknowledge the contributions of Joey
   Saccadonuts.

4.  IANA Considerations

   This memo requests IANA to allocate NTP Extension Field Types 0x0007
   (I-Do), 0x2007 (I-Do, MAC OPTIONAL), 0x4007 (I-Do Response), and
   0x6007 (I-Do Response, MAC OPTIONAL) for this proposal.






Stenn                  Expires September 15, 2016               [Page 3]

Internet-Draft Network Time Protocol Last Extension Field     March 2016


5.  Security Considerations

   Additional information TBD

6.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC5905]  Mills, D., Martin, J., Ed., Burbank, J., and W. Kasch,
              "Network Time Protocol Version 4: Protocol and Algorithms
              Specification", RFC 5905, DOI 10.17487/RFC5905, June 2010,
              <http://www.rfc-editor.org/info/rfc5905>.

   [RFC7384]  Mizrahi, T., "Security Requirements of Time Protocols in
              Packet Switched Networks", RFC 7384, DOI 10.17487/RFC7384,
              October 2014, <http://www.rfc-editor.org/info/rfc7384>.

Author's Address

   Harlan Stenn
   Network Time Foundation
   P.O. Box 918
   Talent, OR  97540
   US

   Email: stenn@nwtime.org






















Stenn                  Expires September 15, 2016               [Page 4]
