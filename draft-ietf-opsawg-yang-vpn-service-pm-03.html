<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A YANG Model for Network and VPN Service Performance Monitoring</title>
<meta content="Bo Wu" name="author">
<meta content="Qin Wu" name="author">
<meta content="Mohamed Boucadair" name="author">
<meta content="Oscar Gonzalez de Dios" name="author">
<meta content="Bin Wen" name="author">
<meta content="
       The data model for network topologies defined in RFC 8345 introduces
      vertical layering relationships between networks that can be augmented
      to cover network and service topologies. This document defines a YANG
      module for performance monitoring (PM) of both networks and VPN services
      that can be used to monitor and manage network performance on the
      topology at higher layer or the service topology between VPN sites. 
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="RFC" name="keyword">
<meta content="Request for Comments" name="keyword">
<meta content="Internet-Draft" name="keyword">
<meta content="VPN Performance Measurement Telemetry" name="keyword">
<meta content="draft-ietf-opsawg-yang-vpn-service-pm-03" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-opsawg-yang-vpn-service-pm-03-aqquoycy.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Network and VPN Service PM YANG</td>
<td class="right">January 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Wu, et al.</td>
<td class="center">Expires 2 August 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">OPSAWG Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-opsawg-yang-vpn-service-pm-03</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-01-29" class="published">29 January 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-08-02">2 August 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Wu, <span class="editor">Ed.</span>
</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">Q. Wu, <span class="editor">Ed.</span>
</div>
<div class="org">Huawei</div>
</div>
<div class="author">
      <div class="author-name">M. Boucadair, <span class="editor">Ed.</span>
</div>
<div class="org">Orange</div>
</div>
<div class="author">
      <div class="author-name">O. Gonzalez de Dios</div>
<div class="org">Telefonica</div>
</div>
<div class="author">
      <div class="author-name">B. Wen</div>
<div class="org">Comcast</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A YANG Model for Network and VPN Service Performance Monitoring</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The data model for network topologies defined in RFC 8345 introduces
      vertical layering relationships between networks that can be augmented
      to cover network and service topologies. This document defines a YANG
      module for performance monitoring (PM) of both networks and VPN services
      that can be used to monitor and manage network performance on the
      topology at higher layer or the service topology between VPN sites.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 2 August 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-acronyms" class="xref">Acronyms</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-network-and-vpn-service-per" class="xref">Network and VPN Service Performance Monitoring Model Usage</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-collecting-data-via-pub-sub" class="xref">Collecting Data via Pub/Sub Mechanism</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-collecting-data-on-demand" class="xref">Collecting Data On-demand</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-description-of-the-data-mod" class="xref">Description of The Data Model</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-layering-relationship-betwe" class="xref">Layering Relationship between Multiple Layers of Topology</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-network-level" class="xref">Network Level</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-node-level" class="xref">Node Level</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-link-and-termination-point-" class="xref">Link and Termination Point Level</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-network-and-vpn-service-perf" class="xref">Network and VPN Service Performance Monitoring YANG Module</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref">Appendix A</a>.  <a href="#name-illustrating-examples" class="xref">Illustrating Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-A.1" class="xref">A.1</a>.  <a href="#name-vpn-performance-subscriptio" class="xref">VPN Performance Subscription Example</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#appendix-A.2" class="xref">A.2</a>.  <a href="#name-example-of-vpn-performance-" class="xref">Example of VPN Performance Snapshot</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#appendix-A.3" class="xref">A.3</a>.  <a href="#name-example-of-percentile-monit" class="xref">Example of Percentile Monitoring</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1"><span>[<a href="#RFC8969" class="xref">RFC8969</a>]</span> describes a framework for automating service
      and network management with YANG models. It proposes that the
      performance measurement telemetry model to be tied with the service,
      such as Layer 3 VPN and Layer 2 VPN, or network models to monitor the
      overall network performance or Service Level Agreements (SLA).<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The performance of VPN services is associated with the performance
      changes of the underlay network that carries VPN services, such as the
      delay of the underlay tunnels and the packet loss status of the device
      interfaces. Additionally, the integration of Layer 2/Layer 3 VPN
      performance and network performance data enables the orchestrator to
      subscribe to VPN service performance in a unified manner. Therefore,
      this document defines a YANG module for both network and VPN service
      performance monitoring (PM). The module can be used to monitor and
      manage network performance on the topology level or the service topology
      between VPN sites, in particular.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This document does not introduce new metrics for network performance
      or mechanisms for measuring network performance, but uses the existing
      mechanisms and statistics to display the performance monitoring
      statistics at the network and service layers. All these metrics are
      defined as unidirectional metrics.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The YANG module defined in this document is designed as an
      augmentation to the network topology YANG model defined in <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span> and draws on relevant YANG types defined in <span>[<a href="#RFC6991" class="xref">RFC6991</a>]</span>, <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span>, <span>[<a href="#RFC8532" class="xref">RFC8532</a>]</span>,
      and <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5"><a href="#examples" class="xref">Appendix A</a> provides a set of examples to illustrate
      the use of the module.<a href="#section-1-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The following terms are defined in <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span> and are used in this specification:<a href="#section-2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-2.1">augment<a href="#section-2-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.2">data model<a href="#section-2-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-2.3">data node<a href="#section-2-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-3">The terminology for describing YANG data models is found in <span>[<a href="#RFC7950" class="xref">RFC7950</a>]</span>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">The tree diagrams used in this document follow the notation defined
      in <span>[<a href="#RFC8340" class="xref">RFC8340</a>]</span>.<a href="#section-2-4" class="pilcrow">¶</a></p>
<section id="section-2.1">
        <h3 id="name-acronyms">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-acronyms" class="section-name selfRef">Acronyms</a>
        </h3>
<p id="section-2.1-1">The following acronyms are used in the document:<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlCompact dlParallel" id="section-2.1-2">
          <dt id="section-2.1-2.1">L2VPN</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.2">Layer 2 Virtual Private Network<a href="#section-2.1-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.3">L3VPN</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.4">Layer 3 Virtual Private Network<a href="#section-2.1-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.5">L2NM</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.6">L2VPN Network Model<a href="#section-2.1-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.7">L3NM</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.8">L3VPN Network Model<a href="#section-2.1-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.9">MPLS</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.10">Multiprotocol Label Switching<a href="#section-2.1-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.11">OAM</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.12">Operations, Administration, and Maintenance<a href="#section-2.1-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.13">OWAMP</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.14">One-Way Active Measurement Protocol<a href="#section-2.1-2.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.15">PE</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.16">Provider Edge<a href="#section-2.1-2.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.17">PM</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.18">Performance Monitoring<a href="#section-2.1-2.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.19">SLA</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.20">Service Level Agreements<a href="#section-2.1-2.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.21">TE</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.22">Traffic Engineering<a href="#section-2.1-2.22" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.23">TWAMP</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.24">Two-Way Active Measurement Protocol<a href="#section-2.1-2.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.25">VPLS</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.26">Virtual Private LAN Service<a href="#section-2.1-2.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-2.27">VPN</dt>
          <dd style="margin-left: 4.0em" id="section-2.1-2.28">Virtual Private Network<a href="#section-2.1-2.28" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.1-3"></p>
</section>
</section>
<section id="section-3">
      <h2 id="name-network-and-vpn-service-per">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-network-and-vpn-service-per" class="section-name selfRef">Network and VPN Service Performance Monitoring Model Usage</a>
      </h2>
<p id="section-3-1">Models are key for automating network management operations.
      According to <span>[<a href="#RFC8969" class="xref">RFC8969</a>]</span>, together with service and network
      models, performance measurement telemetry models are needed to monitor
      network performance to meet specific service requirements (typically
      captured in an SLA).<a href="#section-3-1" class="pilcrow">¶</a></p>
<span id="name-reference-architecture"></span><div id="fig1">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-3-2.1">
<pre>                            +---------------+
                            |   Customer    |
                            +-------+-------+
                                    |
            Customer Service Models |
                                    |
                            +-------+---------+
                            |    Service      |
                            |  Orchestration  |
                            +------+-+--------+
                                   | |
            Network Service Models | | Network and VPN Service PM Models
                                   | |
                            +------+-+--------+
                            |     Network     |
                            |   Controller    |
                            +-------+---------+
                                    |
            +-----------------------+------------------------+
                                  Network
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-reference-architecture" class="selfRef">Reference Architecture</a>
        </figcaption></figure>
</div>
<p id="section-3-3">As shown in <a href="#fig1" class="xref">Figure 1</a>, in the context of layering model
      architecture described in <span>[<a href="#RFC8309" class="xref">RFC8309</a>]</span>, the network and VPN
      service performance monitoring (PM) model can be used to expose a set of
      performance information to the above layer. Such information can be used
      by an orchestrator to subscribe to performance data. The network
      controller will then notify the orchestrator about corresponding
      parameter changes.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">Before using the network and VPN service PM model, the mapping
      between the VPN service topology and the underlying physical network
      should be set up.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">The YANG module defined in this document is designed to derive VPN or
      network level performance data based on lower-level data collected via
      monitoring counters of the involved devices. The performance monitoring
      data per link in the underlying network can be collected using a network
      performance measurement method such as One-Way Active Measurement
      Protocol (OWAMP) <span>[<a href="#RFC4656" class="xref">RFC4656</a>]</span>, Two-Way Active Measurement
      Protocol (TWAMP) <span>[<a href="#RFC5357" class="xref">RFC5357</a>]</span>, and Multiprotocol Label
      Switching (MPLS) Loss and Delay Measurement <span>[<a href="#RFC6374" class="xref">RFC6374</a>]</span>.
      The performance monitoring information reflecting the quality of the
      network or VPN service (e.g., end-to-end network performance data
      between source node and destination node in the network or between VPN
      sites) can be computed and aggregated, for example, using the
      information from the Traffic Engineering Database (TED), <span>[<a href="#RFC7471" class="xref">RFC7471</a>]</span> <span>[<a href="#RFC8570" class="xref">RFC8570</a>]</span> <span>[<a href="#RFC8571" class="xref">RFC8571</a>]</span> or
      LMAP <span>[<a href="#RFC8194" class="xref">RFC8194</a>]</span>.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">The measurement and report intervals that are associated with these
      performance data usually depend on the configuration of the specific
      measurement method or collection method or various combinations. This
      document defines a network-wide measurement interval to align
      measurement requirements for networks or VPN services.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">In addition, the amount of performance data collected from the
      devices can be huge. To avoid receiving a large amount of operational
      data of VPN instances, VPN interfaces, or tunnels, the network
      controller can specifically subscribe to metric-specific data using the
      tagging methods defined in <span>[<a href="#I-D.ietf-netmod-node-tags" class="xref">I-D.ietf-netmod-node-tags</a>]</span>.<a href="#section-3-7" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-collecting-data-via-pub-sub">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-collecting-data-via-pub-sub" class="section-name selfRef">Collecting Data via Pub/Sub Mechanism</a>
        </h3>
<p id="section-3.1-1">Some applications such as service-assurance applications, which
        must maintain a continuous view of operational data and state, can use
        the subscription model specified in<span>[<a href="#RFC8641" class="xref">RFC8641</a>]</span> to
        subscribe to the specific network performance data or VPN service
        performance data they are interested in, at the data source.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">The data source can, then, use the network and VPN service
        assurance model defined in this document and the YANG Push model <span>[<a href="#RFC8641" class="xref">RFC8641</a>]</span> to distribute specific telemetry data to target
        recipients.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-collecting-data-on-demand">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-collecting-data-on-demand" class="section-name selfRef">Collecting Data On-demand</a>
        </h3>
<p id="section-3.2-1">To obtain a snapshot of a large amount of performance data from a
        network topology or VPN network, service-assurance applications may
        retrieve information using the network and VPN service PM model
        through a NETCONF <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span> or a RESTCONF <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span> interface.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4">
      <h2 id="name-description-of-the-data-mod">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-description-of-the-data-mod" class="section-name selfRef">Description of The Data Model</a>
      </h2>
<p id="section-4-1">This document defines the YANG module, "ietf-network-vpn-pm", which
      is an augmentation to the "ietf-network" and
      "ietf-network-topology".<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The performance monitoring data augments the service topology as
      shown in <a href="#aug" class="xref">Figure 2</a>.<a href="#section-4-2" class="pilcrow">¶</a></p>
<span id="name-module-augmentation"></span><div id="aug">
<figure id="figure-2">
        <div class="alignLeft art-text artwork" id="section-4-3.1">
<pre>+----------------------+          +-----------------------+
|ietf-network          |          |Network and VPN Service|
|ietf-network-topology |&lt;---------|Performance Monitoring |
+----------------------+ augments |        Model          |
                                  +-----------------------+</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-module-augmentation" class="selfRef">Module Augmentation</a>
        </figcaption></figure>
</div>
<div id="layering">
<section id="section-4.1">
        <h3 id="name-layering-relationship-betwe">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-layering-relationship-betwe" class="section-name selfRef">Layering Relationship between Multiple Layers of Topology</a>
        </h3>
<p id="section-4.1-1"><span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span> defines a YANG data model for
        network/service topologies and inventories. The service topology
        described in <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span> includes the virtual topology
        for a service layer above Layer 1 (L1), Layer 2 (L2), and Layer 3
        (L3). This service topology has the generic topology elements of node,
        link, and terminating point. One typical example of a service topology
        is described in Figure 3 of <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span>: two VPN service
        topologies instantiated over a common L3 topology. Each VPN service
        topology is mapped onto a subset of nodes from the common L3
        topology.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2"><a href="#fig3" class="xref">Figure 3</a> illustrates an example of a topology that
        maps between the VPN service topology and an underlying network:<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<span id="name-example-of-topology-mapping"></span><div id="fig3">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-4.1-3.1">
<pre>                     VPN 1                       VPN 2
           +-----------------------+    +---------------------+
          /                       /    /                     /
         /S1C_[VN3]:::           /    /S2A             S2B  /
        /         \   :::::     /    / _[VN1]______[VN3]_  /
       /           \       :   /    /   :            :    / Overlay
      /             \       :: : : : : :             :   /
     /S1B_[VN2]____[VN1]_S1A /    /   : :            :  /
    +--------:-------:------+    +---:----:----------:-+
             :        :       :: : :       :         :
             :         :    :              :         :
   Site-1A   :  +-------:--: ----- -------- : -------:-----+ Site-1C
     [CE1]___: /__ ___ [N1]__________________ [N2]__ :___ /__[CE3]
             :/      /  / \             _____/ /    :    /
   [CE5]___  : ___  /  /    \     _____/      /   ::    /
 Site-2A    /:        /       \  /           /   :     /
           / :                [N5]          /   :     / Underlay Network
          /   :     /       __/ \__        /   :     /
         /     :   /    ___/       \__    /   :     /
Site-1B /       : / ___/              \  /   :     /  Site-2B
[CE2]_ /________[N4]_________________ [N3]:::_____/____[CE4]
      +------------------------------------------+

    Legend:
    N:node   VN:VPN-Node  S:Site
    __  Link
    :   Mapping between networks
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-example-of-topology-mapping" class="selfRef">Example of Topology Mapping Between VPN Service Topology and Underlying Network</a>
          </figcaption></figure>
</div>
<p id="section-4.1-4">As shown in <a href="#fig3" class="xref">Figure 3</a>, two VPN services topologies are
        both built on top of one common underlying physical network:<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.1-5">
          <dt id="section-4.1-5.1">VPN 1: </dt>
          <dd style="margin-left: 1.5em" id="section-4.1-5.2">This service topology supports hub-spoke
            communications for 'customer 1' connecting the customer's access
            at three sites: 'Site-1A', 'Site-1B', and 'Site-1C'. These sites
            are connected to nodes that are mapped to node 1 (N1), node 2
            (N2), and node 4 (N4) in the underlying physical network.
            'Site-1A' plays the role of hub while 'Site-1B' and 'Site-1C' are
            configured as spoke.<a href="#section-4.1-5.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.1-5.3">VPN 2: </dt>
          <dd style="margin-left: 1.5em" id="section-4.1-5.4">This service supports any-to-any
            communications for 'customer 2' connecting the customer's access
            at two sites: 'Site-2A' and 'Site-2B'. These sites are connected
            to nodes that are mapped to nodes 1 (N1) and node 3 (N3)5 in the
            underlying physical network. 'Site-2A' and 'Site-2B' have
            'any-to-any' role.<a href="#section-4.1-5.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.1-6"></p>
</section>
</div>
<section id="section-4.2">
        <h3 id="name-network-level">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-network-level" class="section-name selfRef">Network Level</a>
        </h3>
<p id="section-4.2-1">For network performance monitoring, the container of "networks" in
        <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span> does not need to be extended.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">For VPN service performance monitoring, the container
        "service-type" is defined to indicate the VPN type, e.g., L3VPN or
        Virtual Private LAN Service (VPLS). The values are taken from <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>. When a network topology
        instance contains the L3VPN or other L2VPN network type, it represents
        a VPN instance that can perform performance monitoring.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">The tree in <a href="#ntree" class="xref">Figure 4</a> is a part of ietf-network-vpn-pm
        tree. It defines the following set of network level attributes:<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.2-4">
          <dt id="section-4.2-4.1">"vpn-id":</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-4.2">Refers to an identifier of VPN
            service defined in <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>).
            This identifier is used to correlate the performance status with
            the network service configuration.<a href="#section-4.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.2-4.3">"vpn-service-topology":</dt>
          <dd style="margin-left: 1.5em" id="section-4.2-4.4">Indicates the type
            of the VPN topology. This model supports "any-to-any", "Hub and
            Spoke" (where Hubs can exchange traffic), and "Hub and Spoke
            disjoint" (where Hubs cannot exchange traffic) that are taken from
            <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>. These VPN topology
            types can be used to describe how VPN sites communicate with each
            other.<a href="#section-4.2-4.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-network-level-yang-tree-of-"></span><div id="ntree">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-4.2-5.1">
<pre>module: ietf-network-vpn-pm
  augment /nw:networks/nw:network/nw:network-types:
    +--rw service-type!
       +--rw service-type?   identityref
  augment /nw:networks/nw:network:
    +--rw vpn-pm-attributes
       +--rw vpn-id?                 vpn-common:vpn-id
       +--rw vpn-service-topology?   identityref
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-network-level-yang-tree-of-" class="selfRef">Network Level YANG Tree of the Hierarchies</a>
          </figcaption></figure>
</div>
</section>
<section id="section-4.3">
        <h3 id="name-node-level">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-node-level" class="section-name selfRef">Node Level</a>
        </h3>
<p id="section-4.3-1">The tree in <a href="#nodetree" class="xref">Figure 5</a> is the node part of
        ietf-network-vpn-pm tree.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">For network performance monitoring, a container of "pm-attributes"
        is augmented to the list of "node" that are defined in <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span>. The "node-type" indicates the device type of
        Provider Edge (PE), Provider (P) device, or Autonomous System Border
        Router (ASBR), so that the performance metric between any two nodes
        each with specific node type can be reported.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">For VPN service performance monitoring, the model defines the
        following minimal set of node level network topology attributes:<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.3-4">
          <dt id="section-4.3-4.1">"role":</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-4.2">Defines the role in a particular
            VPN service topology. The roles are taken from <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span> (e.g., any-to-any-role,
            spoke-role, hub-role).<a href="#section-4.3-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.3-4.3">"vpn-summary-statistics":</dt>
          <dd style="margin-left: 1.5em" id="section-4.3-4.4">Lists a set of
            IPv4 statistics, IPv6 statistics, and MAC statistics. These
            statistics are specified separately.<a href="#section-4.3-4.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<span id="name-node-level-yang-tree-of-the"></span><div id="nodetree">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-4.3-5.1">
<pre>  augment /nw:networks/nw:network/nw:node:
    +--rw pm-attributes
       +--rw node-type?                identityref
       +--rw role?                     identityref
       +--ro vpn-summary-statistics
          +--ro ipv4
          |  +--ro maximum-routes?        uint32
          |  +--ro total-active-routes?   uint32
          +--ro ipv6
          |  +--ro maximum-routes?        uint32
          |  +--ro total-active-routes?   uint32
          +--ro mac-num
             +--ro mac-num-limit?          uint32
             +--ro total-active-mac-num?   uint32
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-node-level-yang-tree-of-the" class="selfRef">Node Level YANG Tree of the Hierarchies</a>
          </figcaption></figure>
</div>
<p id="section-4.3-6"></p>
</section>
<section id="section-4.4">
        <h3 id="name-link-and-termination-point-">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-link-and-termination-point-" class="section-name selfRef">Link and Termination Point Level</a>
        </h3>
<p id="section-4.4-1">The tree in <a href="#ltree" class="xref">Figure 6</a> is the link and termination
        point (TP) part of ietf-network-vpn-pm tree.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">The 'links' are classified into two types: topology link defined in
        <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span> and abstract link of a VPN between PEs.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">The performance data of a link is a collection of counters that
        report the performance status.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<span id="name-link-and-termination-point-l"></span><div id="ltree">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-4.4-4.1">
<pre>  augment /nw:networks/nw:network/nt:link:
    +--rw pm-attributes
       +--rw low-percentile?                percentile
       +--rw intermediate-percentile?       percentile
       +--rw high-percentile?               percentile
       +--rw measurement-interval?          uint32
       +--ro start-time?                    yang:date-and-time
       +--ro end-time?                      yang:date-and-time
       +--ro pm-source?                     identityref
       +--ro one-way-pm-statistics
       |  +--ro loss-statistics
       |  |  +--ro packet-loss-count?   yang:counter64
       |  |  +--ro loss-ratio?          percentage
       |  +--ro delay-statistics
       |  |  +--ro unit-value?                      identityref
       |  |  +--ro min-delay-value?                 yang:gauge64
       |  |  +--ro max-delay-value?                 yang:gauge64
       |  |  +--ro low-delay-percentile?            yang:gauge64
       |  |  +--ro intermediate-delay-percentile?   yang:gauge64
       |  |  +--ro high-delay-percentile?           yang:gauge64
       |  +--ro jitter-statistics
       |     +--ro unit-value?                       identityref
       |     +--ro min-jitter-value?                 yang:gauge32
       |     +--ro max-jitter-value?                 yang:gauge32
       |     +--ro low-jitter-percentile?            yang:gauge32
       |     +--ro intermediate-jitter-percentile?   yang:gauge32
       |     +--ro high-jitter-percentile?           yang:gauge32
       +--ro vpn-underlay-transport-type?   identityref
       +--ro vpn-one-way-pm-statistics* [class-id]
          +--ro class-id             string
          +--ro loss-statistics
          |  +--ro packet-loss-count?   yang:counter64
          |  +--ro loss-ratio?          percentage
          +--ro delay-statistics
          |  +--ro unit-value?                      identityref
          |  +--ro min-delay-value?                 yang:gauge64
          |  +--ro max-delay-value?                 yang:gauge64
          |  +--ro low-delay-percentile?            yang:gauge64
          |  +--ro intermediate-delay-percentile?   yang:gauge64
          |  +--ro high-delay-percentile?           yang:gauge64
          +--ro jitter-statistics
             +--ro unit-value?                       identityref
             +--ro min-jitter-value?                 yang:gauge32
             +--ro max-jitter-value?                 yang:gauge32
             +--ro low-jitter-percentile?            yang:gauge32
             +--ro intermediate-jitter-percentile?   yang:gauge32
             +--ro high-jitter-percentile?           yang:gauge32

  augment /nw:networks/nw:network/nw:node/nt:termination-point:
    +--ro pm-statistics
       +--ro reference-time?             yang:date-and-time
       +--ro inbound-octets?             yang:counter64
       +--ro inbound-unicast?            yang:counter64
       +--ro inbound-nunicast?           yang:counter64
       +--ro inbound-discards?           yang:counter32
       +--ro inbound-errors?             yang:counter64
       +--ro inbound-unknown-protocol?   yang:counter64
       +--ro outbound-octets?            yang:counter64
       +--ro outbound-unicast?           yang:counter64
       +--ro outbound-nunicast?          yang:counter64
       +--ro outbound-discards?          yang:counter64
       +--ro outbound-errors?            yang:counter64
       +--ro vpn-network-access* [network-access-id]
          +--ro network-access-id           vpn-common:vpn-id
          +--ro reference-time?             yang:date-and-time
          +--ro inbound-octets?             yang:counter64
          +--ro inbound-unicast?            yang:counter64
          +--ro inbound-nunicast?           yang:counter64
          +--ro inbound-discards?           yang:counter32
          +--ro inbound-errors?             yang:counter64
          +--ro inbound-unknown-protocol?   yang:counter64
          +--ro outbound-octets?            yang:counter64
          +--ro outbound-unicast?           yang:counter64
          +--ro outbound-nunicast?          yang:counter64
          +--ro outbound-discards?          yang:counter64
          +--ro outbound-errors?            yang:counter64</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-link-and-termination-point-l" class="selfRef">Link and Termination point Level YANG Tree of the hierarchies</a>
          </figcaption></figure>
</div>
<p id="section-4.4-5">For the data nodes of 'link' depicted in <a href="#ltree" class="xref">Figure 6</a>,
        the YANG module defines the following minimal set of link-level
        performance attributes:<a href="#section-4.4-5" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.4-6">
          <dt id="section-4.4-6.1">Percentile parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.2">The module supports reporting
            delay and jitter metric by percentile values. By default, low
            percentile (10th percentile), intermediate percentile (50th
            percentile), high percentile (90th percentile) are used. Setting a
            percentile to 0.00 indicates the client is not interested in
            receiving particular percentile. If all percentile nodes are set
            to 0.00, this represents that no percentile related nodes will be
            reported for a given performance metric (e.g., one-way delay,
            one-way delay variation) and only peak/min values will be
            reported. For example, a client can inform the server that it is
            interested in receiving only high percentiles. Then for a given
            link, at a given "start-time", "end-time" and
            "measurement-interval", the 'high-delay-percentile' and
            'high-jitter-percentile' will be reported. An example to
            illustrate the use of percentiles is provided in <a href="#perc" class="xref">Appendix A.3</a>.<a href="#section-4.4-6.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.3">PM source ("pm-source"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.4">Indicates the
            performance monitoring source. The data for the topology link can
            be based, e.g., on BGP-LS <span>[<a href="#RFC8571" class="xref">RFC8571</a>]</span>. The statistics
            of the VPN abstract links can be collected based upon VPN OAM
            mechanisms, e.g.,OAM mechanisms referenced in <span>[<a href="#I-D.ietf-opsawg-l3sm-l3nm" class="xref">I-D.ietf-opsawg-l3sm-l3nm</a>]</span>, or Ethernet service OAM
            <span>[<a href="#ITU-T-Y-1731" class="xref">ITU-T-Y-1731</a>]</span> referenced in <span>[<a href="#I-D.ietf-opsawg-l2nm" class="xref">I-D.ietf-opsawg-l2nm</a>]</span>. Alternatively, the data can be
            based upon the underlay technology OAM mechanisms, for example,
            Generic Routing Encapsulation (GRE) tunnel OAM.<a href="#section-4.4-6.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.5">Measurement interval ("measurement-interval"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.6">Specifies
            the performance measurement interval, in seconds.<a href="#section-4.4-6.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.7">Start time ("start-time"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.8">Indicates the
            start time of the performance measurement for link statistics.<a href="#section-4.4-6.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.9">End time ("end-time"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.10">Indicates the end
            time of the performance measurement for link statistics.<a href="#section-4.4-6.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.11">Reference time ("reference-time"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.12">Indicates
            the timestamp when the counters are obtained.<a href="#section-4.4-6.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.13">Loss statistics:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.14">A set of one-way loss statistics
            attributes that are used to measure end to end loss between VPN
            sites or between any two network nodes. The exact loss value or
            the loss percentage can be reported.<a href="#section-4.4-6.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.15">Delay statistics:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.16">A set of one-way delay statistics
            attributes that are used to measure end to end latency between VPN
            sites or between any two network nodes. The peak/min values or
            percentile values can be reported.<a href="#section-4.4-6.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.17">Jitter statistics: </dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.18">A set of one-way IP Packet Delay
            Variation <span>[<a href="#RFC3393" class="xref">RFC3393</a>]</span> statistics attributes that are
            used to measure end to end jitter between VPN sites or between any
            two network nodes. The peak/min values or percentile values can be
            reported.<a href="#section-4.4-6.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.19">VPN underlay transport type ("vpn-underlay-transport-type"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.20">Indicates
            the abstract link protocol-type of a VPN, such as GRE or IP-in-IP.
            The leaf refers to an identifier of the "underlay-transport"
            defined in <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>, which
            describes the transport technology to carry the traffic of the VPN
            service.<a href="#section-4.4-6.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-6.21">VPN PM statistics ("vpn-unidirectional-pm-statistics"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-6.22">Lists
            performance measurement statistics for the abstract underlay link
            between VPN PEs with given "class-id" names. The list is defined
            separately from "one-way-pm-statistics", which is used to collect
            generic metrics for unspecified "class-id" names.<a href="#section-4.4-6.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-4.4-7">For the data nodes of 'termination-point' depicted in <a href="#ltree" class="xref">Figure 6</a>, the module defines the following minimal set of
        statistics:<a href="#section-4.4-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.4-8">
          <dt id="section-4.4-8.1">Inbound statistics:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-8.2">A set of inbound statistics
            attributes that are used to measure the inbound statistics of the
            termination point, such as received packets, received packets with
            errors, etc.<a href="#section-4.4-8.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-8.3">Outbound statistics:</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-8.4">A set of outbound statistics
            attributes that are used to measure the outbound statistics of the
            termination point, such as sent packets, packets that could not be
            sent due to errors, etc.<a href="#section-4.4-8.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-4.4-8.5">VPN network access ("vpn-network-access"):</dt>
          <dd style="margin-left: 1.5em" id="section-4.4-8.6">Lists
            counters of the VPN network access defined in <span>[<a href="#I-D.ietf-opsawg-l3sm-l3nm" class="xref">I-D.ietf-opsawg-l3sm-l3nm</a>]</span> or <span>[<a href="#I-D.ietf-opsawg-l2nm" class="xref">I-D.ietf-opsawg-l2nm</a>]</span>. When multiple VPN network
            accesses are created using the same physical port, finer-grained
            metrics can be monitored.<a href="#section-4.4-8.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-5">
      <h2 id="name-network-and-vpn-service-perf">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-network-and-vpn-service-perf" class="section-name selfRef">Network and VPN Service Performance Monitoring YANG Module</a>
      </h2>
<p id="section-5-1">The "ietf-network-vpn-pm" module uses types defined in <span>[<a href="#RFC8345" class="xref">RFC8345</a>]</span>, <span>[<a href="#RFC6991" class="xref">RFC6991</a>]</span>, <span>[<a href="#RFC8532" class="xref">RFC8532</a>]</span>,
      and <span>[<a href="#I-D.ietf-opsawg-vpn-common" class="xref">I-D.ietf-opsawg-vpn-common</a>]</span>.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="section-5-2">
<pre class="sourcecode">&lt;CODE BEGINS&gt; file "ietf-network-vpn-pm@2021-01-28.yang"

module ietf-network-vpn-pm {
  yang-version 1.1;
  namespace "urn:ietf:params:xml:ns:yang:ietf-network-vpn-pm";
  prefix nvp;

  import ietf-yang-types {
    prefix yang;
    reference
      "RFC 6991: Common YANG Types";
  }
  import ietf-vpn-common {
    prefix vpn-common;
    reference
      "RFC CCCC: A Layer 2/3 VPN Common YANG Model.";
    // RFC Ed.: replace CCCC with actual RFC number and remove
    // this note.
  }
  import ietf-network {
    prefix nw;
    reference
      "RFC 8345: A YANG Data Model for Network
       Topologies, Section 6.1";
  }
  import ietf-network-topology {
    prefix nt;
    reference
      "RFC 8345: A YANG Data Model for Network
       Topologies, Section 6.2";
  }
  import ietf-lime-time-types {
    prefix lime;
    reference
      "RFC 8532: Generic YANG Data Model for the Management of
       Operations, Administration, and Maintenance (OAM) Protocols
       That Use Connectionless Communications";
  }

  organization
    "IETF OPSAWG Working Group";
  contact
    "Editor: Qin Wu
             &lt;bill.wu@huawei.com&gt;
     Editor: Bo Wu
             &lt;lana.wubo@huawei.com&gt;
     Editor: Mohamed Boucadair
             &lt;mohamed.boucadair@orange.com&gt;";
  description
    "This module defines a model for Network and VPN Service
     Performance monitoring.

     Copyright (c) 2022 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC XXXX
     (https://www.rfc-editor.org/info/rfcXXXX); see the RFC itself
     for full legal notices.";

  // RFC Ed.: update the date below with the date of RFC
  // publication and remove this note.
  // RFC Ed.: replace XXXX with actual RFC number and remove
  // this note.

  revision 2022-01-28 {
    description
      "Initial revision.";
    reference
      "RFC XXXX: A YANG Model for Network and VPN Service
       Performance Monitoring";
  }

  identity node-type {
    description
      "Base identity for node type";
  }

  identity pe {
    base node-type;
    description
      "Provider Edge (PE) node type.";
    reference
      "RFC 4026: Provider Provisioned
       Virtual Private Network (VPN) Terminology";
  }

  identity p {
    base node-type;
    description
      "Provider router node type.";
    reference
      "RFC 4026: Provider Provisioned
       Virtual Private Network (VPN) Terminology";
  }

  identity asbr {
    base node-type;
    description
      "Autonomous System Border Router (ASBR) node type.";
    reference
      "RFC 4364: BGP/MPLS IP Virtual Private Networks (VPNs)";
  }

  identity pm-source-type {
    description
      "Base identity from which specific performance monitoring
       mechanism types are derived.";
  }

  identity pm-source-bgpls {
    base pm-source-type;
    description
      "Indicates BGP-LS as the performance monitoring metric source";
    reference
      "RFC 8571: BGP - Link State (BGP-LS) Advertisement of
        IGP Traffic Engineering Performance Metric Extensions";
  }

  identity pm-source-owamp {
    base pm-source-type;
    description
      "Indicates One-Way Active Measurement Protocol(OWAMP)
       as the performance monitoring metric source.";
    reference
      "RFC 4656: A One-Way Active Measurement Protocol (OWAMP)";
  }

  identity pm-source-twamp {
    base pm-source-type;
    description
      "Indicates Two-Way Active Measurement Protocol(TWAMP)
       as the performance monitoring metric source.";
    reference
      "RFC 5357: A Two-Way Active Measurement Protocol (TWAMP)";
  }

  identity pm-source-y-1731 {
    base pm-source-type;
    description
      "Indicates Ethernet OAM Y.1731 as the performance monitoring
       metric source.";
    reference
      "ITU-T Y.1731: Operations, administration and
       maintenance (OAM) functions and mechanisms
       for Ethernet-based networks";
  }

  typedef percentage {
    type decimal64 {
      fraction-digits 5;
      range "0..100";
    }
    description
      "Percentage.";
  }

  typedef percentile {
    type decimal64 {
      fraction-digits 2;
      range "0..100";
    }
    description
      "The percentile is a value between 0 and 100,
       e.g. 10.00, 99.90 ,99.99 etc..
       For example, for a given one-way delay measurement,
       if the percentile is set to 95.00 and
       the 95th percentile one-way delay is 2 milliseconds,
       then the 95 percent of the sample value
       is less than or equal to 2 milliseconds.";
  }

  grouping vpn-summary-statistics {
    description
      "VPN Statistics grouping used for network topology
       augmentation.";
    container vpn-summary-statistics {
      config false;
      description
        "Container for VPN summary statistics.";
      container ipv4 {
        leaf maximum-routes {
          type uint32;
          description
            "Indicates the maximum number of IPv4 routes
             for the VPN.";
        }
        leaf total-active-routes {
          type uint32;
          description
            "Indicates total active IPv4 routes for the VPN.";
        }
        description
          "IPv4-specific parameters.";
      }
      container ipv6 {
        leaf maximum-routes {
          type uint32;
          description
            "Indicates the maximum number of IPv6 routes
             for the VPN.";
        }
        leaf total-active-routes {
          type uint32;
          description
            "Indicates total active IPv6 routes for the VPN.";
        }
        description
          "IPv6-specific parameters.";
      }
      container mac-num {
        leaf mac-num-limit {
          type uint32;
          description
            "Maximum number of MAC addresses.";
        }
        leaf total-active-mac-num {
          type uint32;
          description
            "Total active MAC entries for the VPN.";
        }
        description
          "MAC statistics.";
      }
    }
  }

  grouping link-loss-statistics {
    description
      "Grouping for per link error statistics.";
    container loss-statistics {
      description
        "Link loss summarized information. By default,
         one way measurement protocol (e.g., OWAMP) is used
         to measure one-way packet loss.";
      reference
        "RFC 4656: A One-way Active Measurement Protocol (OWAMP)";
      leaf packet-loss-count {
        type yang:counter64;
        description
          "Total received packet drops count.";
      }
      leaf loss-ratio {
        type percentage;
        description
          "Loss ratio of the packets. Express as percentage
           of packets lost with respect to packets sent.";
      }
    }
  }

  grouping link-delay-statistics {
    description
      "Grouping for per link delay statistics.";
    container delay-statistics {
      description
        "Link delay summarized information. By default,
         one way measurement protocol (e.g., OWAMP) is used
         to measure delay.";
      reference
        "RFC 4656: A One-way Active Measurement Protocol (OWAMP)";
      leaf unit-value {
        type identityref {
          base lime:time-unit-type;
        }
        default "lime:milliseconds";
        description
          "Time units, where the options are s, ms, ns, etc.";
      }
      leaf min-delay-value {
        type yang:gauge64;
        description
          "Minimum observed one-way delay.";
      }
      leaf max-delay-value {
        type yang:gauge64;
        description
          "Maximum observed one-way delay.";
      }
      leaf low-delay-percentile {
        type yang:gauge64;
        description
          "Low percentile of observed one-way delay with
           specific measurement method.";
      }
      leaf intermediate-delay-percentile {
        type yang:gauge64;
        description
          "Intermediate percentile of observed one-way delay with
           specific measurement method.";
      }
      leaf high-delay-percentile {
        type yang:gauge64;
        description
          "High percentile of observed one-way delay with
           specific measurement method.";
      }
    }
  }

  grouping link-jitter-statistics {
    description
      "Grouping for per link jitter statistics.";
    container jitter-statistics {
      description
        "Link jitter summarized information. By default,
         jitter is measured using one-way IP Packet
         Delay Variation (IPDV).";
      reference
        "RFC 3393: IP Packet Delay Variation Metric
         for IP Performance Metrics (IPPM)";
      leaf unit-value {
        type identityref {
          base lime:time-unit-type;
        }
        default "lime:milliseconds";
        description
          "Time units, where the options are s, ms, ns, etc.";
      }
      leaf min-jitter-value {
        type yang:gauge32;
        description
          "Minimum observed one-way jitter.";
      }
      leaf max-jitter-value {
        type yang:gauge32;
        description
          "Maximum observed one-way jitter.";
      }
      leaf low-jitter-percentile {
        type yang:gauge32;
        description
          "Low percentile of observed one-way jitter.";
      }
      leaf intermediate-jitter-percentile {
        type yang:gauge32;
        description
          "Intermediate percentile of observed one-way jitter.";
      }
      leaf high-jitter-percentile {
        type yang:gauge32;
        description
          "High percentile of observed one-way jitter.";
      }
    }
  }

  grouping tp-svc-telemetry {
    leaf reference-time {
      type yang:date-and-time;
      config false;
      description
        "Indicates the time when the statistics are collected.";
    }
    leaf inbound-octets {
      type yang:counter64;
      description
        "The total number of octets received on the
         interface, including framing characters.";
    }
    leaf inbound-unicast {
      type yang:counter64;
      description
        "The total number of inbound unicast packets.";
    }
    leaf inbound-nunicast {
      type yang:counter64;
      description
        "The total number of non-unicast
         (i.e., broadcast or multicast) packets.";
    }
    leaf inbound-discards {
      type yang:counter32;
      description
        "The number of inbound packets that were chosen to be
         discarded even though no errors had been detected.
         One possible reason for discarding such a
         packet could be to free up buffer space";
    }
    leaf inbound-errors {
      type yang:counter64;
      description
        "The number of inbound packets that contained errors.";
    }
    leaf inbound-unknown-protocol {
      type yang:counter64;
      description
        "The number of packets received via the interface
         which were discarded because of an unknown or
         unsupported protocol.";
    }
    leaf outbound-octets {
      type yang:counter64;
      description
        "The total number of octets transmitted out of the
         interface, including framing characters.";
    }
    leaf outbound-unicast {
      type yang:counter64;
      description
        "The total number of outbound unicast packets.";
    }
    leaf outbound-nunicast {
      type yang:counter64;
      description
        "The total number of outbound non unicast
         (i.e., broadcast or multicast) packets.";
    }
    leaf outbound-discards {
      type yang:counter64;
      description
        "The number of outbound packets which were chosen
         to be discarded even though no errors had been
         detected to prevent their being transmitted.
         One possible reason for discarding such a packet could
         be to free up buffer space.";
    }
    leaf outbound-errors {
      type yang:counter64;
      description
        "The number of outbound packets that contained
         errors.";
    }
    description
      "Grouping for interface service telemetry.";
  }

  augment "/nw:networks/nw:network/nw:network-types" {
    description
      "Defines the service topologies types.";
    container service-type {
      presence "Indicates network service topology.";
      leaf service-type {
        type identityref {
          base vpn-common:service-type;
        }
        description
          "The presence identifies the network service type,
           e.g., L3VPN, VPLS, etc.";
      }
      description
        "Container for VPN service type.";
    }
  }

  augment "/nw:networks/nw:network" {
    when 'nw:network-types/nvp:service-type' {
      description
        "Augments only for VPN Network topology.";
    }
    description
      "Augments the network with service topology attributes";
    container vpn-pm-attributes {
      leaf vpn-id {
        type vpn-common:vpn-id;
        description
          "VPN identifier.";
      }
      leaf vpn-service-topology {
        type identityref {
          base vpn-common:vpn-topology;
        }
        description
          "VPN service topology, e.g., hub-spoke, any-to-any,
           hub-spoke-disjoint.";
      }
      description
        "Container for VPN topology attributes.";
    }
  }

  augment "/nw:networks/nw:network/nw:node" {
    description
      "Augments the network node with other general attributes.";
    container pm-attributes {
      leaf node-type {
        type identityref {
          base node-type;
        }
        description
          "Node type, e.g., PE, P, ASBR.";
      }
      description
        "Container for node attributes.";
    }
  }

  augment "/nw:networks/nw:network/nw:node/pm-attributes" {
    when '../../nw:network-types/nvp:service-type' {
      description
        "Augments only for VPN node attributes.";
    }
    description
      "Augments the network node with VPN specific attributes.";
    leaf role {
      type identityref {
        base vpn-common:role;
      }
      default "vpn-common:any-to-any-role";
      description
        "Role of the node in the VPN.";
    }
    uses vpn-summary-statistics;
  }

  augment "/nw:networks/nw:network/nt:link" {
    description
      "Augments the network topology link with performance
       monitoring attributes.";
    container pm-attributes {
      description
        "Container for PM attributes.";
      leaf low-percentile {
        type percentile;
        default "10.00";
        description
          "Low percentile to report. Setting low-percentile
           into 0.00 indicates the client is not interested
           in receiving low percentile.";
      }
      leaf intermediate-percentile {
        type percentile;
        default "50.00";
        description
          "Intermediate percentile to report. Setting
           intermediate-percentile into 0.00 indicates the client
           is not interested in receiving intermediate percentile.";
      }
      leaf high-percentile {
        type percentile;
        default "95.00";
        description
          "High percentile to report. Setting high-percentile
           into 0.00 indicates the client is not interested in
           receiving high percentile.";
      }
      leaf measurement-interval {
        type uint32;
        units "seconds";
        default "60";
        description
          "Indicates the time interval to perform PM measurement.";
      }
      leaf start-time {
        type yang:date-and-time;
        config false;
        description
          "The time that the current measurement started.";
      }
      leaf end-time {
        type yang:date-and-time;
        config false;
        description
          "The time that the current measurement ended.";
      }
      leaf pm-source {
        type identityref {
          base pm-source-type;
        }
        config false;
        description
          "The OAM tool used to collect the PM data.";
      }
      container one-way-pm-statistics {
        config false;
        description
          "Container for link telemetry attributes.";
        uses link-loss-statistics;
        uses link-delay-statistics;
        uses link-jitter-statistics;
      }
    }
  }

  augment "/nw:networks/nw:network/nt:link/pm-attributes" {
    when '../../nw:network-types/nvp:service-type' {
      description
        "Augments only for VPN Network topology.";
    }
    description
      "Augments the network topology link with VPN service
       performance monitoring attributes.";
    leaf vpn-underlay-transport-type {
      type identityref {
        base vpn-common:protocol-type;
      }
      config false;
      description
        "The leaf indicates the underlay transport type of
         a VPN service, e.g., GRE, LDP, etc.";
    }
    list vpn-one-way-pm-statistics {
      key "class-id";
      config false;
      description
        "The list of PM data based on class of service.";
      leaf class-id {
        type string;
        description
          "The class-id is used to identify the class of service.
           This identifier is internal to the administration.";
      }
      uses link-loss-statistics;
      uses link-delay-statistics;
      uses link-jitter-statistics;
    }
  }

  augment "/nw:networks/nw:network/nw:node/nt:termination-point" {
    description
      "Augments the network topology termination point with
       performance monitoring attributes.";
    container pm-statistics {
      config false;
      description
        "Container for termination point PM attributes.";
      uses tp-svc-telemetry;
    }
  }

  augment "/nw:networks/nw:network/nw:node"
        + "/nt:termination-point/pm-statistics" {
    when '../../../nw:network-types/nvp:service-type' {
      description
        "Augments only for VPN Network topology.";
    }
    description
      "Augments the network topology termination-point with
       VPN service performance monitoring attributes";
    list vpn-network-access {
      key "network-access-id";
      description
        "The list of PM based on VPN network accesses.";
      leaf network-access-id {
        type vpn-common:vpn-id;
        description
          "References to an identifier for the VPN network
           access, e.g. L3VPN or VPLS.";
      }
      uses tp-svc-telemetry;
    }
  }
}


&lt;CODE ENDS&gt;</pre><a href="#section-5-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">The YANG modules defined in this document MAY be accessed via the
      RESTCONF protocol <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span> or NETCONF protocol <span>[<a href="#RFC6241" class="xref">RFC6241</a>]</span>. The lowest RESTCONF or NETCONF layer requires that
      the transport-layer protocol provides both data integrity and
      confidentiality, see Section 2 in [RFC8040] and [RFC6241]. The lowest
      NETCONF layer is the secure transport layer, and the
      mandatory-to-implement secure transport is Secure Shell (SSH) <span>[<a href="#RFC6242" class="xref">RFC6242</a>]</span>. The lowest RESTCONF layer is HTTPS, and the
      mandatory-to-implement secure transport is TLS <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span>.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The NETCONF access control model <span>[<a href="#RFC8341" class="xref">RFC8341</a>]</span> provides
      the means to restrict access for particular NETCONF or RESTCONF users to
      a preconfigured subset of all available NETCONF or RESTCONF protocol
      operations and content.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">There are a number of data nodes defined in this YANG module that are
      writable/creatable/deletable (i.e., config true, which is the default).
      These data nodes may be considered sensitive or vulnerable in some
      network environments. Write operations (e.g., edit-config) to these data
      nodes without proper protection can have a negative effect on network
      operations. These are the subtrees with the write operation that can be
      exploited to impact the network monitoring:<a href="#section-6-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-4.1">"/nw:networks/nw:network/nw:network-types"<a href="#section-6-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.2">"/nw:networks/nw:network/nvp:vpn-pm-attributes"<a href="#section-6-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.3">"/nw:networks/nw:network/nw:node/nvp:pm-attributes"<a href="#section-6-4.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-4.4">/nw:networks/nw:network/nt:link/nvp:pm-attributes"<a href="#section-6-4.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-6-5">Some of the readable data nodes in this YANG module may be
      considered sensitive or vulnerable in some network environments. The
      nodes reveals the quality of a service that is operated by an operator.
      It is thus important to control read access (e.g., via get, get-config,
      or notification) to these data nodes. These are the subtrees and data
      nodes and their sensitivity/vulnerability:<a href="#section-6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-6.1">"/nw:networks/nw:network/nw:node/nvp:pm-attributes/nvp:vpn-summary-statistics":
          Unauthorized access to this subtree can disclose the operational
          state information of VPN instances.<a href="#section-6-6.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-6.2">"/nw:networks/nw:network/nt:link/nvp:pm-attributes/nvp:one-way-pm-statistics":
          Unauthorized access to this subtree can disclose the operational
          state information of network links or VPN underlay tunnels.<a href="#section-6-6.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-6-6.3">"/nw:networks/nw:network/nw:node/nt:termination-point/nvp:pm-statistics":
          Unauthorized access to this subtree can disclose the operational
          state information of network termination points or VPN network
          accesses.<a href="#section-6-6.3" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-7-1">This document requests IANA to register the following URI in the "ns"
      subregistry within the "IETF XML Registry" <span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>:<a href="#section-7-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-2">
<pre>   URI: urn:ietf:params:xml:ns:yang:ietf-network-vpn-pm
   Registrant Contact: The IESG.
   XML: N/A, the requested URI is an XML namespace.
</pre><a href="#section-7-2" class="pilcrow">¶</a>
</div>
<p id="section-7-3">This document requests IANA to register the following YANG module in
      the "YANG Module Names" subregistry <span>[<a href="#RFC6020" class="xref">RFC6020</a>]</span> within the
      "YANG Parameters" registry.<a href="#section-7-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7-4">
<pre>   Name:         ietf-network-vpn-pm
   Namespace:    urn:ietf:params:xml:ns:yang:ietf-network-vpn-pm
   Maintained by IANA: N
   Prefix:       nvp
   Reference:    RFC XXXX (RFC Ed.: replace XXXX with actual
        RFC number and remove this note.)
</pre><a href="#section-7-4" class="pilcrow">¶</a>
</div>
</section>
<section id="section-8">
      <h2 id="name-acknowledgements">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-8-1">Thanks to Joe Clarke, Adrian Farrel, Greg Mirsky, Roque Gagliano,
      Erez Segev, and Dhruv Dhody for reviewing and providing important input
      to this document.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-contributors">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-9-1">The following authors contributed significantly to this document:<a href="#section-9-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-9-2">
<pre>   Michale Wang
   Huawei
   Email:wangzitao@huawei.com

   Roni Even
   Huawei
   Email: ron.even.tlv@gmail.com

   Change Liu
   China Unicom
   Email: liuc131@chinaunicom.cn

   Honglei Xu
   China Telecom
   Email: xuhl.bri@chinatelecom.cn
</pre><a href="#section-9-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-opsawg-vpn-common">[I-D.ietf-opsawg-vpn-common]</dt>
        <dd>
<span class="refAuthor">Barguil, S.</span>, <span class="refAuthor">Dios, O. G. D.</span>, <span class="refAuthor">Boucadair, M.</span>, and <span class="refAuthor">Q. Wu</span>, <span class="refTitle">"A Layer 2/3 VPN Common YANG Model"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-opsawg-vpn-common-12</span>, <time datetime="2021-09-29" class="refDate">29 September 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-opsawg-vpn-common-12.txt">https://www.ietf.org/archive/id/draft-ietf-opsawg-vpn-common-12.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3393">[RFC3393]</dt>
        <dd>
<span class="refAuthor">Demichelis, C.</span> and <span class="refAuthor">P. Chimento</span>, <span class="refTitle">"IP Packet Delay Variation Metric for IP Performance Metrics (IPPM)"</span>, <span class="seriesInfo">RFC 3393</span>, <span class="seriesInfo">DOI 10.17487/RFC3393</span>, <time datetime="2002-11" class="refDate">November 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3393">https://www.rfc-editor.org/info/rfc3393</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6020">[RFC6020]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"YANG - A Data Modeling Language for the Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6020</span>, <span class="seriesInfo">DOI 10.17487/RFC6020</span>, <time datetime="2010-10" class="refDate">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6020">https://www.rfc-editor.org/info/rfc6020</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6241">[RFC6241]</dt>
        <dd>
<span class="refAuthor">Enns, R., Ed.</span>, <span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refAuthor">Schoenwaelder, J., Ed.</span>, and <span class="refAuthor">A. Bierman, Ed.</span>, <span class="refTitle">"Network Configuration Protocol (NETCONF)"</span>, <span class="seriesInfo">RFC 6241</span>, <span class="seriesInfo">DOI 10.17487/RFC6241</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6241">https://www.rfc-editor.org/info/rfc6241</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6242">[RFC6242]</dt>
        <dd>
<span class="refAuthor">Wasserman, M.</span>, <span class="refTitle">"Using the NETCONF Protocol over Secure Shell (SSH)"</span>, <span class="seriesInfo">RFC 6242</span>, <span class="seriesInfo">DOI 10.17487/RFC6242</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6242">https://www.rfc-editor.org/info/rfc6242</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6374">[RFC6374]</dt>
        <dd>
<span class="refAuthor">Frost, D.</span> and <span class="refAuthor">S. Bryant</span>, <span class="refTitle">"Packet Loss and Delay Measurement for MPLS Networks"</span>, <span class="seriesInfo">RFC 6374</span>, <span class="seriesInfo">DOI 10.17487/RFC6374</span>, <time datetime="2011-09" class="refDate">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6374">https://www.rfc-editor.org/info/rfc6374</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6991">[RFC6991]</dt>
        <dd>
<span class="refAuthor">Schoenwaelder, J., Ed.</span>, <span class="refTitle">"Common YANG Data Types"</span>, <span class="seriesInfo">RFC 6991</span>, <span class="seriesInfo">DOI 10.17487/RFC6991</span>, <time datetime="2013-07" class="refDate">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6991">https://www.rfc-editor.org/info/rfc6991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7950">[RFC7950]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M., Ed.</span>, <span class="refTitle">"The YANG 1.1 Data Modeling Language"</span>, <span class="seriesInfo">RFC 7950</span>, <span class="seriesInfo">DOI 10.17487/RFC7950</span>, <time datetime="2016-08" class="refDate">August 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7950">https://www.rfc-editor.org/info/rfc7950</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8340">[RFC8340]</dt>
        <dd>
<span class="refAuthor">Bjorklund, M.</span> and <span class="refAuthor">L. Berger, Ed.</span>, <span class="refTitle">"YANG Tree Diagrams"</span>, <span class="seriesInfo">BCP 215</span>, <span class="seriesInfo">RFC 8340</span>, <span class="seriesInfo">DOI 10.17487/RFC8340</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8340">https://www.rfc-editor.org/info/rfc8340</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8341">[RFC8341]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span> and <span class="refAuthor">M. Bjorklund</span>, <span class="refTitle">"Network Configuration Access Control Model"</span>, <span class="seriesInfo">STD 91</span>, <span class="seriesInfo">RFC 8341</span>, <span class="seriesInfo">DOI 10.17487/RFC8341</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8341">https://www.rfc-editor.org/info/rfc8341</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8345">[RFC8345]</dt>
        <dd>
<span class="refAuthor">Clemm, A.</span>, <span class="refAuthor">Medved, J.</span>, <span class="refAuthor">Varga, R.</span>, <span class="refAuthor">Bahadur, N.</span>, <span class="refAuthor">Ananthakrishnan, H.</span>, and <span class="refAuthor">X. Liu</span>, <span class="refTitle">"A YANG Data Model for Network Topologies"</span>, <span class="seriesInfo">RFC 8345</span>, <span class="seriesInfo">DOI 10.17487/RFC8345</span>, <time datetime="2018-03" class="refDate">March 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8345">https://www.rfc-editor.org/info/rfc8345</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8532">[RFC8532]</dt>
        <dd>
<span class="refAuthor">Kumar, D.</span>, <span class="refAuthor">Wang, Z.</span>, <span class="refAuthor">Wu, Q., Ed.</span>, <span class="refAuthor">Rahman, R.</span>, and <span class="refAuthor">S. Raghavan</span>, <span class="refTitle">"Generic YANG Data Model for the Management of Operations, Administration, and Maintenance (OAM) Protocols That Use Connectionless Communications"</span>, <span class="seriesInfo">RFC 8532</span>, <span class="seriesInfo">DOI 10.17487/RFC8532</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8532">https://www.rfc-editor.org/info/rfc8532</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8641">[RFC8641]</dt>
      <dd>
<span class="refAuthor">Clemm, A.</span> and <span class="refAuthor">E. Voit</span>, <span class="refTitle">"Subscription to YANG Notifications for Datastore Updates"</span>, <span class="seriesInfo">RFC 8641</span>, <span class="seriesInfo">DOI 10.17487/RFC8641</span>, <time datetime="2019-09" class="refDate">September 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8641">https://www.rfc-editor.org/info/rfc8641</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-netmod-node-tags">[I-D.ietf-netmod-node-tags]</dt>
        <dd>
<span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Claise, B.</span>, <span class="refAuthor">Liu, P.</span>, <span class="refAuthor">Du, Z.</span>, and <span class="refAuthor">M. Boucadair</span>, <span class="refTitle">"Self Describing Data Object Tags"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-netmod-node-tags-04</span>, <time datetime="2021-11-11" class="refDate">11 November 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-netmod-node-tags-04.txt">https://www.ietf.org/archive/id/draft-ietf-netmod-node-tags-04.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-opsawg-l2nm">[I-D.ietf-opsawg-l2nm]</dt>
        <dd>
<span class="refAuthor">Barguil, S.</span>, <span class="refAuthor">Dios, O. G. D.</span>, <span class="refAuthor">Boucadair, M.</span>, and <span class="refAuthor">L. A. Munoz</span>, <span class="refTitle">"A Layer 2 VPN Network YANG Model"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-opsawg-l2nm-12</span>, <time datetime="2021-11-22" class="refDate">22 November 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-opsawg-l2nm-12.txt">https://www.ietf.org/archive/id/draft-ietf-opsawg-l2nm-12.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-opsawg-l3sm-l3nm">[I-D.ietf-opsawg-l3sm-l3nm]</dt>
        <dd>
<span class="refAuthor">Barguil, S.</span>, <span class="refAuthor">Dios, O. G. D.</span>, <span class="refAuthor">Boucadair, M.</span>, <span class="refAuthor">Munoz, L. A.</span>, and <span class="refAuthor">A. Aguado</span>, <span class="refTitle">"A Layer 3 VPN Network YANG Model"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-opsawg-l3sm-l3nm-18</span>, <time datetime="2021-10-08" class="refDate">8 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-opsawg-l3sm-l3nm-18.txt">https://www.ietf.org/archive/id/draft-ietf-opsawg-l3sm-l3nm-18.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ITU-T-Y-1731">[ITU-T-Y-1731]</dt>
        <dd>
<span class="refAuthor">ITU-T</span>, <span class="refTitle">"Operator Ethernet Service Definition"</span>, <time datetime="2015-08" class="refDate">August 2015</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-Y.1731/en">https://www.itu.int/rec/T-REC-Y.1731/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4656">[RFC4656]</dt>
        <dd>
<span class="refAuthor">Shalunov, S.</span>, <span class="refAuthor">Teitelbaum, B.</span>, <span class="refAuthor">Karp, A.</span>, <span class="refAuthor">Boote, J.</span>, and <span class="refAuthor">M. Zekauskas</span>, <span class="refTitle">"A One-way Active Measurement Protocol (OWAMP)"</span>, <span class="seriesInfo">RFC 4656</span>, <span class="seriesInfo">DOI 10.17487/RFC4656</span>, <time datetime="2006-09" class="refDate">September 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4656">https://www.rfc-editor.org/info/rfc4656</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5357">[RFC5357]</dt>
        <dd>
<span class="refAuthor">Hedayat, K.</span>, <span class="refAuthor">Krzanowski, R.</span>, <span class="refAuthor">Morton, A.</span>, <span class="refAuthor">Yum, K.</span>, and <span class="refAuthor">J. Babiarz</span>, <span class="refTitle">"A Two-Way Active Measurement Protocol (TWAMP)"</span>, <span class="seriesInfo">RFC 5357</span>, <span class="seriesInfo">DOI 10.17487/RFC5357</span>, <time datetime="2008-10" class="refDate">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5357">https://www.rfc-editor.org/info/rfc5357</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7471">[RFC7471]</dt>
        <dd>
<span class="refAuthor">Giacalone, S.</span>, <span class="refAuthor">Ward, D.</span>, <span class="refAuthor">Drake, J.</span>, <span class="refAuthor">Atlas, A.</span>, and <span class="refAuthor">S. Previdi</span>, <span class="refTitle">"OSPF Traffic Engineering (TE) Metric Extensions"</span>, <span class="seriesInfo">RFC 7471</span>, <span class="seriesInfo">DOI 10.17487/RFC7471</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7471">https://www.rfc-editor.org/info/rfc7471</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8040">[RFC8040]</dt>
        <dd>
<span class="refAuthor">Bierman, A.</span>, <span class="refAuthor">Bjorklund, M.</span>, and <span class="refAuthor">K. Watsen</span>, <span class="refTitle">"RESTCONF Protocol"</span>, <span class="seriesInfo">RFC 8040</span>, <span class="seriesInfo">DOI 10.17487/RFC8040</span>, <time datetime="2017-01" class="refDate">January 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8040">https://www.rfc-editor.org/info/rfc8040</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8194">[RFC8194]</dt>
        <dd>
<span class="refAuthor">Schoenwaelder, J.</span> and <span class="refAuthor">V. Bajpai</span>, <span class="refTitle">"A YANG Data Model for LMAP Measurement Agents"</span>, <span class="seriesInfo">RFC 8194</span>, <span class="seriesInfo">DOI 10.17487/RFC8194</span>, <time datetime="2017-08" class="refDate">August 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8194">https://www.rfc-editor.org/info/rfc8194</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8309">[RFC8309]</dt>
        <dd>
<span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Liu, W.</span>, and <span class="refAuthor">A. Farrel</span>, <span class="refTitle">"Service Models Explained"</span>, <span class="seriesInfo">RFC 8309</span>, <span class="seriesInfo">DOI 10.17487/RFC8309</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8309">https://www.rfc-editor.org/info/rfc8309</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8570">[RFC8570]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Previdi, S., Ed.</span>, <span class="refAuthor">Giacalone, S.</span>, <span class="refAuthor">Ward, D.</span>, <span class="refAuthor">Drake, J.</span>, and <span class="refAuthor">Q. Wu</span>, <span class="refTitle">"IS-IS Traffic Engineering (TE) Metric Extensions"</span>, <span class="seriesInfo">RFC 8570</span>, <span class="seriesInfo">DOI 10.17487/RFC8570</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8570">https://www.rfc-editor.org/info/rfc8570</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8571">[RFC8571]</dt>
        <dd>
<span class="refAuthor">Ginsberg, L., Ed.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Wu, Q.</span>, <span class="refAuthor">Tantsura, J.</span>, and <span class="refAuthor">C. Filsfils</span>, <span class="refTitle">"BGP - Link State (BGP-LS) Advertisement of IGP Traffic Engineering Performance Metric Extensions"</span>, <span class="seriesInfo">RFC 8571</span>, <span class="seriesInfo">DOI 10.17487/RFC8571</span>, <time datetime="2019-03" class="refDate">March 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8571">https://www.rfc-editor.org/info/rfc8571</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8969">[RFC8969]</dt>
      <dd>
<span class="refAuthor">Wu, Q., Ed.</span>, <span class="refAuthor">Boucadair, M., Ed.</span>, <span class="refAuthor">Lopez, D.</span>, <span class="refAuthor">Xie, C.</span>, and <span class="refAuthor">L. Geng</span>, <span class="refTitle">"A Framework for Automating Service and Network Management with YANG"</span>, <span class="seriesInfo">RFC 8969</span>, <span class="seriesInfo">DOI 10.17487/RFC8969</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8969">https://www.rfc-editor.org/info/rfc8969</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="examples">
<section id="appendix-A">
      <h2 id="name-illustrating-examples">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-illustrating-examples" class="section-name selfRef">Illustrating Examples</a>
      </h2>
<p id="appendix-A-1"></p>
<section id="appendix-A.1">
        <h3 id="name-vpn-performance-subscriptio">
<a href="#appendix-A.1" class="section-number selfRef">A.1. </a><a href="#name-vpn-performance-subscriptio" class="section-name selfRef">VPN Performance Subscription Example</a>
        </h3>
<p id="appendix-A.1-1">The example shown in <a href="#ex" class="xref">Figure 7</a> illustrates how a client
        subscribes to the performance monitoring information between nodes
        ('node-id') A and B in the L3 network topology. The performance
        monitoring parameter that the client is interested in is end-to-end
        loss.<a href="#appendix-A.1-1" class="pilcrow">¶</a></p>
<span id="name-pub-sub-retrieval"></span><div id="ex">
<figure id="figure-7">
          <div class="alignLeft art-text artwork" id="appendix-A.1-2.1">
<pre>   POST /restconf/operations
        /ietf-subscribed-notifications:establish-subscription
{
   "ietf-subscribed-notifications:input":{
      "stream-subtree-filter":{
         "ietf-network-topo:networks":{
            "network":{
               "network-id":"l3-network",
               "ietf-network-vpn-pm:service-type":{
                  "ietf-vpn-common:l3vpn":{}
               },
               "node":[
                  {
                     "node-id":"A",
                     "ietf-network-vpn-pm:pm-attributes":{
                        "node-type":"PE"
                     },
                     "termination-point":{
                        "tp-id":"1-0-1",
                     }
                  },
                  {
                     "node-id":"B",
                     "ietf-network-vpn-pm:pm-attributes":{
                        "node-type":"PE"
                     },
                     "termination-point":{
                        "tp-id":"2-0-1",
                     }
                  }
               ],
               "link":{
                  "link-id":"A-B",
                  "source":{
                     "source-node":"A"
                  },
                  "destination":{
                     "dest-node":"B"
                  },
                  "ietf-network-vpn-pm:pm-attributes":{
                     "one-way-pm-statistics":{
                        "loss-statistics":{
                           "packet-loss-count":{}
                        }
                     },
                     "vpn-underlay-transport-type":"ietf-vpn-common:gre"
                  }
               }
            }
         }
      },
      "ietf-yang-push:periodic":{
         "ietf-yang-push:period":"500"
      }
   }
}
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-pub-sub-retrieval" class="selfRef">Pub/Sub Retrieval</a>
          </figcaption></figure>
</div>
</section>
<section id="appendix-A.2">
        <h3 id="name-example-of-vpn-performance-">
<a href="#appendix-A.2" class="section-number selfRef">A.2. </a><a href="#name-example-of-vpn-performance-" class="section-name selfRef">Example of VPN Performance Snapshot</a>
        </h3>
<p id="appendix-A.2-1">This example, depicted in <a href="#ex2" class="xref">Figure 8</a>, illustrates an VPN
        PM instance example in which a client uses RESTCONF <span>[<a href="#RFC8040" class="xref">RFC8040</a>]</span> to fetch the performance data of the link and TP
        belonged to "VPN1".<a href="#appendix-A.2-1" class="pilcrow">¶</a></p>
<div id="ex2">
<figure id="figure-8">
          <div class="alignLeft art-text artwork" id="appendix-A.2-2.1">
<pre>{
      "ietf-network-topo:networks": {
        "network": {
          "network-id": "vpn1",
          "node": [
            {
              "node-id": "A",
              "ietf-network-vpn-pm:pm-attributes": {
                "node-type": "PE"
              },
              "termination-point": {
                "tp-id": "1-0-1",
                "ietf-network-vpn-pm:pm-statistics": {
                  "inbound-octets": "100",
                  "outbound-octets": "150"
                }
              }
            },
            {
              "node-id": "B",
              "ietf-network-vpn-pm:pm-attributes": {
                "node-type": "PE"
              },
              "termination-point": {
                "tp-id": "2-0-1",
                "ietf-network-vpn-pm:pm-statistics": {
                  "inbound-octets": "150",
                  "outbound-octets": "100"
                }
              }
            }
          ],
          "link": {
            "link-id": "A-B",
            "source": { "source-node": "A" },
            "destination": { "dest-node": "B" },
            "ietf-network-pm:pm-attributes": {
              "one-way-pm-statistics": {
                "loss-statistics": { "packet-loss-count": "120" }
              },
              "vpn-underlay-transport-type": "ietf-vpn-common:gre"
            },
          }
        }
      }
}

</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a></figcaption></figure>
</div>
</section>
<div id="perc">
<section id="appendix-A.3">
        <h3 id="name-example-of-percentile-monit">
<a href="#appendix-A.3" class="section-number selfRef">A.3. </a><a href="#name-example-of-percentile-monit" class="section-name selfRef">Example of Percentile Monitoring</a>
        </h3>
<p id="appendix-A.3-1">The following shows an example of a percentile measurement for a
        VPN link.<a href="#appendix-A.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="appendix-A.3-2">
<pre>{
   "ietf-network-topology:link":[
      {
         "link-id":"vpn1-link1",
         "source":{
            "source-node":"vpn-node1"
         },
         "destination":{
            "dest-node":"vpn-node3"
         },
         "ietf-network-vpn-pm:pm-attributes":{
            "low-percentile":"20.00",
            "middle-percentile":"50.00",
            "high-percentile":"90.00",
            "one-way-pm-statistics:delay-statistics":{
               "unit-values":"lime:milliseconds",
               "min-delay-value":"43",
               "max-delay-value":"99",
               "low-delay-percentile":"64",
               "middle-delay-percentile":"77",
               "high-delay-percentile":"98"
            },
         "ietf-network-vpn-pm:vpn-underlay-transport-type":
           "ietf-vpn-common:gre",
         }
      }
   ]
}</pre><a href="#appendix-A.3-2" class="pilcrow">¶</a>
</div>
<p id="appendix-A.3-3"></p>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bo Wu (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="street-address">101 Software Avenue, Yuhua District</span></div>
<div dir="auto" class="left"><span class="locality">Nanjing</span></div>
<div dir="auto" class="left">
<span class="region">Jiangsu</span>, <span class="postal-code">210012</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lana.wubo@huawei.com" class="email">lana.wubo@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Qin Wu (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Huawei</span></div>
<div dir="auto" class="left"><span class="street-address">101 Software Avenue, Yuhua District</span></div>
<div dir="auto" class="left"><span class="locality">Nanjing</span></div>
<div dir="auto" class="left">
<span class="region">Jiangsu</span>, <span class="postal-code">210012</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bill.wu@huawei.com" class="email">bill.wu@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mohamed Boucadair (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Orange</span></div>
<div dir="auto" class="left"><span class="street-address">Rennes 35000</span></div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mohamed.boucadair@orange.com" class="email">mohamed.boucadair@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Oscar Gonzalez de Dios</span></div>
<div dir="auto" class="left"><span class="org">Telefonica</span></div>
<div dir="auto" class="left">
<span class="locality">Madrid</span> </div>
<div dir="auto" class="left"><span class="country-name">Spain</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:oscar.gonzalezdedios@telefonica.com" class="email">oscar.gonzalezdedios@telefonica.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Bin Wen</span></div>
<div dir="auto" class="left"><span class="org">Comcast</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:bin_wen@comcast.com" class="email">bin_wen@comcast.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
