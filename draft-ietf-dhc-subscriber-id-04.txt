
DHC Working Group                                             R. Johnson
Internet-Draft                                            T. Palaniappan
Expires: June 16, 2004                                          M. Stapp
                                                     Cisco Systems, Inc.
                                                       December 17, 2003


        Subscriber-ID Suboption for the DHCP Relay Agent Option
                 <draft-ietf-dhc-subscriber-id-04.txt>

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on June 16, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2003). All Rights Reserved.

Abstract

   This memo defines a new Subscriber-ID suboption for the Dynamic Host
   Configuration Protocol's (DHCP) relay agent information option. The
   suboption allows a DHCP relay agent to associate a stable
   "Subscriber-ID" with DHCP client messages in a way that is
   independent of the client and of the underlying physical network
   infrastructure.







Johnson, et. al.         Expires June 16, 2004                  [Page 1]

Internet-Draft          Subscriber-ID Suboption            December 2003


Table of Contents

   1.  Requirements Terminology . . . . . . . . . . . . . . . . . . .  3
   2.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   3.  The Subscriber-ID Suboption  . . . . . . . . . . . . . . . . .  3
   3.1 Suboption Format . . . . . . . . . . . . . . . . . . . . . . .  4
   4.  Relay Agent Behavior . . . . . . . . . . . . . . . . . . . . .  4
   5.  DHCP Server Behavior . . . . . . . . . . . . . . . . . . . . .  4
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . .  5
   7.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  5
   8.  Acknowledgements . . . . . . . . . . . . . . . . . . . . . . .  5
       References . . . . . . . . . . . . . . . . . . . . . . . . . .  6
       References . . . . . . . . . . . . . . . . . . . . . . . . . .  6
       Authors' Addresses . . . . . . . . . . . . . . . . . . . . . .  6
       Full Copyright Statement . . . . . . . . . . . . . . . . . . .  8




































Johnson, et. al.         Expires June 16, 2004                  [Page 2]

Internet-Draft          Subscriber-ID Suboption            December 2003


1. Requirements Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119[1].

2. Introduction

   DHCP (RFC 2131[2]) provides IP addresses and configuration
   information for IPv4 clients. It includes a relay agent capability,
   in which processes within the network infrastructure receive
   broadcast messages from clients and forward them to DHCP servers as
   unicast messages. In network environments like DOCSIS
   data-over-cable and xDSL, for example, it has proven useful for the
   relay agent to add information to the DHCP message before forwarding
   it, using the relay agent information option (RFC 3046[3]).

   Servers that recognize the relay agent option echo it back in their
   replies, and some of the information that relays add may be used to
   help an edge device efficiently return replies to clients. The
   information that relays supply can also be used in the server's
   decision making about the addresses and configuration parameters
   that the client should receive.

   In many service provider environments it's desirable to associate
   some provider-specific information with clients' DHCP messages. This
   is often done using the relay agent information option. RFC 3046
   defines Remote-ID and Circuit-ID sub-options that are used to carry
   such information. The values of those suboptions, however, are
   usually based on some network resource, such as an IP address of a
   network access device, an ATM Virtual Circuit identifier, or a
   DOCSIS cable-modem identifier. As a result, the values carried in
   these suboptions are dependent on the physical network
   configuration. If a client connects to the service provider network
   through different paths, different values are carried in
   network-dependent suboptions.

3. The Subscriber-ID Suboption

   In complex service provider environments, there is a need to connect
   a customer's DHCP configuration with the customer's administrative
   information. The Subscriber-ID suboption carries a value that can be
   independent of the physical network configuration through which the
   subscriber is connected. This value complements, and might well be
   used in addition to, the network-based relay agent option suboptions
   discussed in Section 2. The "subscriber-id" assigned by the provider
   is intended to be stable as customers connect through different
   paths, and as network changes occur.



Johnson, et. al.         Expires June 16, 2004                  [Page 3]

Internet-Draft          Subscriber-ID Suboption            December 2003


   The subscriber-id information allows the service provider to
   assign/activate subscriber-specific actions, e.g. assignment of host
   IP address and subnet mask, DNS configuration, trigger accounting,
   etc. This suboption is de-coupled from the access network's physical
   structure, so subscriber moves from one access-point to another, for
   example, would not require reconfiguration at the service provider's
   DHCP servers.

   The exact contents of the subscriber-id string are of course
   provider-specific. This specification does not establish any
   requirements on the content of the suboption.

3.1 Suboption Format

   This memo defines a new DHCP relay agent option suboption that
   carries a "Subscriber-ID" value.  The value is an ASCII string. The
   suboption takes a form similar to many other relay information
   option suboptions:


       0     1     2     3     4     5
       +-----+-----+-----+-----+-----+----+--
       |Code | Len | Subscriber-ID string ...
       +-----+-----+-----+-----+-----+----+--


   The Code for the suboption is TBD.

   The one-byte Len field is the length of the ID string, in bytes. The
   minimum length of the ID string is 1 byte.

   The "Subscriber-ID" is an NVT ASCII string. The string MUST NOT be
   NULL terminated since the length is specified in the "Len" field.

4. Relay Agent Behavior

   DHCP relay agents MAY be configured to include a Subscriber-ID
   suboption if they include a relay agent information option in
   relayed DHCP messages. The subscriber-id strings themselves are
   assigned and configured through mechanisms that are outside the
   scope of this memo.

5. DHCP Server Behavior

   This suboption provides additional information to the DHCP server.
   The DHCP server, if it is configured to support this option, may use
   this information in addition to other relay agent option data and
   other options included in the DHCP client messages in order to
   assign an IP address and/or other configuration parameters to the


Johnson, et. al.         Expires June 16, 2004                  [Page 4]

Internet-Draft          Subscriber-ID Suboption            December 2003


   client. There is no special additional processing for this suboption.

6. Security Considerations

   Message authentication in DHCP for intradomain use where the
   out-of-band exchange of a shared secret is feasible is defined in
   RFC 3118[4]. Potential exposures to attack are discussed in section
   7 of the DHCP protocol specification in RFC 2131[2].

   The DHCP relay agent option depends on a trusted relationship
   between the DHCP relay agent and the server, as described in section
   5 of RFC 3046. Fraudulent relay agent option data could potentially
   lead to theft-of-service or exhaustion of limited resources (like IP
   addresses) by unauthorized clients. A host that tampered with relay
   agent data associated with another host's DHCP messages could deny
   service to that host, or interfere with its operation by leading the
   DHCP server to assign it inappropriate configuration parameters.

   While the introduction of fraudulent relay agent options can be
   prevented by a perimeter defense that blocks these options unless
   the relay agent is trusted, a deeper defense using authentication
   for relay agent options via the Authentication Suboption[5] or
   IPSEC[6] SHOULD be deployed as well.

7. IANA Considerations

   Section 3 defines a new suboption for the DHCP relay agent option,
   called the Subscriber-ID suboption. IANA is requested to allocate a
   new suboption code from the DHCP relay agent option suboption number
   space.

8. Acknowledgements

   This document is the result of work done within Cisco Systems.
   Thanks especially to Andy Sudduth for his review comments.
















Johnson, et. al.         Expires June 16, 2004                  [Page 5]

Internet-Draft          Subscriber-ID Suboption            December 2003


Normative References

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", RFC 2119, March 1997.

   [2]  Droms, R., "Dynamic Host Configuration Protocol", RFC 2131,
        March 1997.

   [3]  Patrick, M., "DHCP Relay Agent Information Option", RFC 3046,
        January 2001.

Informative References

   [4]  Droms, R. and W. Arbaugh, "Authentication for DHCP Messages",
        RFC 3118, June 2001.

   [5]  Stapp, M., "The Authentication Suboption for the DHCP Relay
        Agent Option (draft-ietf-dhc-auth-suboption-*.txt)", October
        2003.

   [6]  Droms, R., "Authentication of Relay Agent Options Using IPSEC
        (draft-ietf-dhc-relay-agent-ipsec-*.txt)", November 2003.


Authors' Addresses

   Richard Johnson
   Cisco Systems, Inc.
   170 W. Tasman Dr.
   San Jose, CA  95134
   USA

   Phone: 408.526.4000
   EMail: raj@cisco.com


   Theyn Palaniappan
   Cisco Systems, Inc.
   170 W. Tasman Dr.
   San Jose, CA  95134
   USA

   Phone: 408.526.4000
   EMail: athenmoz@cisco.com







Johnson, et. al.         Expires June 16, 2004                  [Page 6]

Internet-Draft          Subscriber-ID Suboption            December 2003


   Mark Stapp
   Cisco Systems, Inc.
   1414 Massachusetts Ave.
   Boxborough, MA  01719
   USA

   Phone: 978.936.1535
   EMail: mjs@cisco.com











































Johnson, et. al.         Expires June 16, 2004                  [Page 7]

Internet-Draft          Subscriber-ID Suboption            December 2003


Full Copyright Statement

   Copyright (C) The Internet Society (2003). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC editor function is currently provided by the
   Internet Society.



















Johnson, et. al.         Expires June 16, 2004                  [Page 8]

