 



INTERNET-DRAFT                                            Mohammed Umair
Intended Status: Proposed Standard                      IP Infusion Inc.
Expires: February 13, 2015                               August 12, 2014


                           TRILL-campus-name 
              draft-umair-multiple-trill-campus-to-lan-00


Abstract

   TRILL supports multi-access LAN (Local Area Network) links that can
   have multiple end stations and RBridges attached.  Where multiple
   RBridges are attached to a link, native traffic to and from end
   stations on that link is handled by a subset of those RBridges called
   "Appointed Forwarders", with the intent that native traffic in each
   VLAN (Virtual LAN) be handled by at most one RBridge. But when two
   trill campuses are connected through a LAN network, AF selection for
   each campus should be selected differently. This type of scenario
   occurs when two different TRILL Campuses are connected to single LAN
   and want access to common set of VLAN's.

   The following paper is an attempt to handle such scenario.



Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html


 


Mohammed Umair         Expires February 13, 2015                [Page 1]

INTERNET DRAFT             TRILL-campus-name             August 12, 2014


Copyright and License Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document. Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Terminology  . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Problem Statement  . . . . . . . . . . . . . . . . . . . . . .  4
   3.  TRILL Campus Name  . . . . . . . . . . . . . . . . . . . . . .  5
   4.  AF sharing between the two Campus. . . . . . . . . . . . . . .  5
   5.  TRILL Campus Digest TLV. . . . . . . . . . . . . . . . . . . .  6
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . .  7
   7.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  7
   8.  Acknowledgement  . . . . . . . . . . . . . . . . . . . . . . .  7
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . .  7
     9.1.  Normative References . . . . . . . . . . . . . . . . . . .  7
     9.2.  Informative References . . . . . . . . . . . . . . . . . .  7
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . .  8
















 


Mohammed Umair         Expires February 13, 2015                [Page 2]

INTERNET DRAFT             TRILL-campus-name             August 12, 2014


1.  Introduction

   The IETF TRILL protocol provides transparent forwarding, with a
   number of additional features, by use of link state routing and
   encapsulation with a hop count as specified in [RFC6325] and
   [RFC6327]. Devices implementing the TRILL protocol are called TRILL
   switches or RBridges (Routing Bridges). A TRILL campus is an area of
   TRILL switches and possibly bridges bounded by and interconnecting
   end stations and Layer 3 routers, analogous to a customer bridge LAN.
   In a TRILL campus, native frames (as defined in [RFC6325]), when they
   arrive at their first or ingress RBridge, are encapsulated, routed in
   encapsulated form via zero or more transit TRILL switches, and
   finally decapsulated and delivered by their egress TRILL switch or
   switches.

   This document describes the scenario when there are two different
   TRILL Campuses which are connected by a common LAN and both the
   campuses want access for the same set of VLAN's.

1.1.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].
























 


Mohammed Umair         Expires February 13, 2015                [Page 3]

INTERNET DRAFT             TRILL-campus-name             August 12, 2014


2.  Problem Statement









                     ...........................................
                    :             Campus1                       :
    ...........     :  +-----+                                  :
    .         . +------| RB1 |-----|---------------|            :
    .         . |   :  +-----+     |               |            :
    .       +-----+ :    |         | Transit       |   +-----+  :
    .    o--| SWe1| :    |         | RBRIDGES      |---| RBx |---o Sx1
    .    |  +-----+ :    |         |               |   +-----+  :
    .    |    . |   :  +-----+     |               |            :
    .    |    . +------| RB2 |-----|---------------|            :
    .    |    .     :  +-----+                                  :
    .    |    .     :                                           :
    .    |    .      ...........................................
    .  L2|LAN.     
    .    |    .
    .    |    .
    .    |    .      ...........................................
    .    |    .     :              Campus2                      :
    .    |    .     : +-----+                                   :
    .    |    . +-----| RB1 |-----|---------------|             :
    .    |    . |   : +-----+     |               |             :
    .    |  +-----+ :    |        |Transit        |   +-----+   :
    .    o--| SWe2| :    |        |RBridges       |---| RBx |---o Sx2
    .       +-----+ :    |        |               |   +-----+   :
    .         . |   : +-----+     |               |             :
    .         . +-----| RB2 |-----|---------------|             :
    .         .     : +-----+                                   :
    ...........     :                                           :
                     ...........................................




   TRILL Campus1 and TRILL Campus2 are the two different Campuses
   connected to same LAN. RB1 and RB2 of both the TRILL Campus want
   access to same set of VLAN's, but L2 LAN is transparent for TRILL
   hellos due to which RB1 and RB2 of both the campuses become TRILL
   neighbors, hence both the campuses end station ports can't become AF
 


Mohammed Umair         Expires February 13, 2015                [Page 4]

INTERNET DRAFT             TRILL-campus-name             August 12, 2014


   for same set of VLAN's. 


3.  TRILL Campus Name


   TRILL Campus name is unique name configured on RBridges (Edge
   RBridge). Whenever the endstation port sends hello it will add Campus
   digest TLV in each hello. To add Campus Digest TLV in hello, ports
   should be enabled with campus_digest. Only the ports which are
   enabled with Campus_digest will send hellos with Campus Digest TLV.
   Whenever a port which is enabled for campus_digest, receives hello
   without Campus Digest TLV, that port will simply ignore the Hello and
   won't form adjacency with the sender RBridge port.

   TRILL Campus name should be configured on RBridge globally, where as
   campus_digest should be enabled at interface level.


4.  AF sharing between the two Campus.

   When RBridge end-station Ports send hellos with Campus Digest TLV,
   only the ports with same digest will form adjacency, and  the AF
   distribution will happen between the ports with same digest (digest
   will be calculated using the unique campus name), hence different
   campuses ports can become AF for same set of VLAN's.


   For example, if Campus 1 and Campus 2 are two different campuses
   separated by LAN, then AF selection will happen separately between
   the edge RBridges of the campuses. If both campuses have VLAN 1-100
   configured in their edge RBridges, then  trill campus 1 edge ports
   will not form adjacency with the trill campus 2 edge ports since the
   digest shared in the campus digest TLV is different, hence  both
   campuses edge ports will become AF for VLAN 1-100.













 


Mohammed Umair         Expires February 13, 2015                [Page 5]

INTERNET DRAFT             TRILL-campus-name             August 12, 2014


5.  TRILL Campus Digest TLV.



      +-+-+-+-+-+-+-+-+
      |      Type     |                  (1 byte)
      +-+-+-+-+-+-+-+-+
      |     Length    |                  (1 byte)
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      |                                                               |
      |                      TRILL Campus Digest                      |
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




   TLV_type = TRILL Campus Digest TLV. This field indicates the nature
   of the information carried in this TLV Tuple. This is 1 byte field.

   Length = 18 bytes. This field indicates the total length the TLV.
   This field is of 1 byte.

   Campus Digest. MD5 Digest (As per [RFC 1321] [RFC 6151]) of 16 bytes
   and derived from the unique Campus name configured on the RBridge.






















 


Mohammed Umair         Expires February 13, 2015                [Page 6]

INTERNET DRAFT             TRILL-campus-name             August 12, 2014


6.  Security Considerations

   This Memo does not change the security considerations of TRILL base
   protocol.


7.  IANA Considerations

   IANA is required to assign TLV Type value for campus digest TLV.


8.  Acknowledgement

   Author would like to thank Vaibhav Agrwal and Hemanth Ramaswamy.

9.  References


   Normative and Informative references are given below


9.1.  Normative References


              [RFC 6325] - Routing Bridges (RBridges): Base Protocol
              Specification (http://tools.ietf.org/html/rfc6325)

              [RFC 6326] - Transparent Interconnection of Lots of Links
              (TRILL) Use of IS-IS (http://tools.ietf.org/html/rfc6326)

              [RFC 6327] - Routing Bridges (RBridges): Adjacency
              (http://tools.ietf.org/html/rfc6327)

              [RFC 7180] - Transparent Interconnection of Lots of Links
              (TRILL):Clarifications, Corrections, and Updates
              (http://tools.ietf.org/html/rfc7180)

              [RFC 1321] - The MD5 Message-Digest Algorithm             
              https://tools.ietf.org/html/rfc1321

              [RFC 6151] - Updated Security Considerations for the MD5
              Message-Digest and the HMAC-MD5 Algorithms
              (https://tools.ietf.org/html/rfc6151)




9.2.  Informative References
 


Mohammed Umair         Expires February 13, 2015                [Page 7]

INTERNET DRAFT             TRILL-campus-name             August 12, 2014


              No informative references as such


Authors' Addresses



   Mohammed Umair
   IP Infusion Software India Pvt. Ltd.
   Bangalore - 560 048, Karnataka, India

   EMail: mohammed.umair2@ipinfusion.com







































Mohammed Umair         Expires February 13, 2015                [Page 8]
