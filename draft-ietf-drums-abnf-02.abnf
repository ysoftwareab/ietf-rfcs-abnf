name =  elements

b    =  binary

d    =  decimal

x    =  hexadecimal

CR   =  %d13

CR   =  %x0D

CRLF =  %d13.10

rule =    "rule-name = rule-value"

rulename = "abc"

rulename = %d97 %d9 %d99

rulename = %d97.98.99

foo =  %x61         ; a

bar =  %x62         ; b

mumble =  foo bar foo

oldrule =/ additional-alternatives

ruleset = alt1 / alt2

ruleset =/ alt3

ruleset =/ alt4 / alt5

ruleset = alt1 / alt2 / alt3 / alt4 / alt5


CR = %d12

LF = %d15

smallrange = LF..CR

rule           =  rulename *WSP ("=" / "=/") value
                       [comment] *WSP CRLF
                            ; continues if next line starts
                               with white space
                            ; basic rules definition and
                               incremental alternatives



bin-val        =  "b" 1*("0".."1")
                       [ 1*("." 1*("0".."1"))
                       / (".." 1*("0".."1")) ]

comment        =  *WSP ";" *(WSP / %x21..%x7E)

dec-val        =  "d" 1*DIGIT
                       [ 1*("." 1*DIGIT)
                       / (".." 1*DIGIT) ]

el-component   =  rulename / set / group / option /
                       num-val / lit-val / prose-val

element        =  [repeat] el-component

group          =  *WSP "(" value *WSP ")"

hex-val        =  "x" 1*(DIGIT / "A".."F")
                       [ 1*("." 1*(DIGIT / "A".."F"))
                       / (".." 1*(DIGIT / "A".."F")) ]

lit-val        =  *WSP <"> *PCHAR <">

num-val        =  *WSP "%" (bin-val / dec-val / hex-val)

option         =  *WSP "[" value *WSP "]

prose-val      =  *WSP "<"
                        <description of value> ">"

set            =  *WSP "{" 2*element *WSP "}"
                            ; elements in any order

range          =  value *WSP ".." value
                            ; values must reduce to single
                               decimal values

repeat         =  repeat-num /
                       [repeat-num] *WSP
                       ("*" / "#") [repeat-num]

repeat-num     =  *WSP 1*DIGIT

rulename       =  *WSP ALPHA *( ALPHA / DIGIT / "-" )

value          =  1*element *(*WSP "/" 1*element)



ALPHA          = "A".."Z"
                            ; case not significant

CHAR           =  %x00..7F
                            ; us-ascii

CR             =  %d13

CRLF           =  CR LF

CTL            =  %d0..31 / %d127

DIGIT          =  "0".."9"

HTAB           =  %d9

LF             =  %d10

LWSP           =  SP / HTAB

SPACE          =  " "

PCHAR          =  %x20..7E

WSP            =  LWSP / CRLF LWSP

