
Media Gateway Control                                    Kevin Boyle II
Internet Draft                                          Nortel Networks
Document: draft-boyle-megaco-alerting-03.txt      Jean-Emmanuel Chapron
Category: Standards Track                                 Bruno Chatras
                                                         France Telecom
                                                       C. Michael Brown
                                                             March 2002

 
 
              Enhanced Alerting Packages for Megaco/H.248 
 
 
Status of this Memo 
 
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026 [7].  
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups. Note that 
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of 
   six months and may be updated, replaced, or obsoleted by other 
   documents at any time. It is inappropriate to use Internet- Drafts 
   as reference material or to cite them other than as "work in 
   progress."  
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt  
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
    
1. Abstract 
    
   This document provides proposed definitions for several supplemental 
   packages for Megaco/H.248 [1][2]. These packages define alternative 
   signalling for ringing, add the capability for distinctive call 
   waiting tones, and address support of functionality for enhanced 
   telephony services, such as CLASS signaling services [3] and ETSI 
   defined display services [4] [5] [6]. 
    
    
2. Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in 
   this document are to be interpreted as described in RFC-2119 [8]. 
    
    
3. Enhanced Alerting Package 
    
   PackageID: alert (0x003b) 
   Version: 1 
   Extends: none. 
 
Boyle, et al.    Standards Track - Expires Sept. 2002                1 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
    
   This package defines enhanced alerting signals for analog lines. 
    
   3.1 Properties 
    
       None. 
    
   3.2 Events 
    
       None. 
    
   3.3 Signals 
    
       Ring 
    
          SignalID: ri (0x0001) 
    
          Applies ringing to the line. 
    
          Signal Type: TimeOut 
          Duration: Provisioned 
          Additional Parameters: 
    
             Pattern 
    
                ParameterID: pattern (0x0001) 
                Type: Integer 
                Possible Values: 1 - 15 (0x0001 - 0x000F) 
    
                The pattern is an abstract indication of the 
                distinctive alerting pattern that will be applied to 
                the line. The alert/ri pattern parameter has a direct 
                mapping to the alert/cw pattern parameter, and to the 
                andisp/dwa pattern parameter. The actual 
                cadence/frequency combination is available in the 
                gateway. The default is pattern 1, which indicates the 
                default alerting style. Ring patterns repeat until the 
                signal times out, or is interrupted. 
                 
                It is useful to note that ringing patterns and call 
                waiting patterns are paired to allow for distinctive 
                alerting sets. In expanding this parameter in the 
                future, it would be desirable to expand the alert/ri, 
                alert/cw, and andisp/dwa signals together, maintaining 
                the distinctive pattern pairings. This will continue to 
                allow the andisp/dwa signal to have a definition 
                independent of alerting method, linking it only to the 
                alerting style (pattern). 
    
       Ringsplash 
    
          SignalID: rs (0x0002) 
    
 
Boyle, et al.    Standards Track - Expires Sept. 2002                2 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
          Applies ringsplash to the line.  Ringsplash is a short burst 
          of ringing, typically in the range of 500 milliseconds in 
          duration.  The duration is provisioned in the MG. 
    
          Signal Type: Brief 
          Duration: Provisioned 
          Additional Parameters: None. 
    
       Call Waiting 
    
          SignalID: cw (0x0003) 
    
          Generate call waiting indication. The cw signal definition 
          takes a pattern parameter, to allow generation of distinctive 
          waiting tones. 
    
          Signal Type: Brief 
          Duration: Varies by pattern. 
          Additional Parameters: 
    
             Pattern 
    
                ParameterID: pattern (0x0001) 
                Type: integer 
                Possible Values: 1 - 15 (0x0001 - 0x000F) 
    
                The pattern is an abstract indication of the 
                distinctive alerting pattern that will be applied to 
                the line. The alert/cw pattern parameter has a direct 
                mapping to the alert/ri pattern parameter, and to the 
                andisp/dwa pattern parameter. The actual 
                cadence/frequency combination is available in the 
                gateway. The default is pattern 1, which indicates the 
                default alerting style. Call wait patterns do not 
                repeat. 
                 
                It is useful to note that ringing patterns and call 
                waiting patterns are paired to allow for distinctive 
                alerting sets. In expanding this parameter in the 
                future, it would be desirable to expand the alert/ri, 
                alert/cw, and andisp/dwa signals together, maintaining 
                the distinctive pattern pairings. This will continue to 
                allow the andisp/dwa signal to have a definition 
                independent of alerting method, linking it only to the 
                alerting style (pattern). 
    
   3.4 Statistics 
    
       None. 
    
   3.5 Procedures 
    

 
Boyle, et al.    Standards Track - Expires Sept. 2002                3 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
      The frequencies and cadences for the signals in this package 
      shall be provisioned. This provisioning may occur through the use 
      of a MIB. 
       
      A Ringing MIB is under development to provision the proper 
      frequencies and cadences onto the GW. 
       
      The published Tones MIB [9] should be used for provisioning the 
      call waiting patterns. 
    
    
4. Analog Display Signaling Package 
    
   PackageID: andisp (0x003c) 
   Version: 1 
   Extends: alert version 1 
    
   This package defines signaling for data features for an analog line. 
    
   4.1 Properties 
    
       None. 
    
   4.2 Events 
    
       None. 
    
   4.3 Signals 
    
       Display with Alerting 
    
          SignalID: dwa (0x0001) 
    
          Sends the display info to the CPE display, if the set is so 
          equipped. This signal indicates that the data must be applied 
          during alerting -- either power ringing, or call waiting. 
          Therefore, this signal implies alerting, which will be 
          appropriately applied to the CPE by the gateway, based upon 
          the on-hook/off-hook status of the line. 
    
          Signal Type: Brief (Note that explicit changes to the 
                       signal duration affect the ringing/call waiting 
                       portion of the signal, if applicable. The data  
                       transmission should be considered Brief.) 
          Duration: Variable 
          Additional Parameters: 
    
             Display Data Block 
    
                ParameterID: ddb (0x0001) 
                Type: String 
                Possible Values: See description. 
    
 
Boyle, et al.    Standards Track - Expires Sept. 2002                4 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
                The Display Data Block contains the message data to be 
                sent to the set. Binary encoding is the binary data 
                itself, while text encoding shall carry the data as a 
                hex string.  For example, in North America for basic 
                Caller ID, this would be the SDMF or MDMF construct. 
                The default value is an empty data block, which will be 
                silently discarded by the gateway. 
                 
                Failure to transmit display data for any reason, 
                excepting Megaco message formatting errors, SHALL NOT 
                generate an Error Descriptor.  Call processing should 
                proceed as if there had been no display data 
                transmission request in the first place.  This includes 
                errors in the data itself, or a bad checksum. 
    
             Pattern 
    
                ParameterID: pattern (0x0002) 
                Type: Enumeration 
                Possible Values: 1 _ 10 (0x0001 - 0x000A) 
    
                The pattern is an abstract indication of the 
                distinctive alerting pattern that will be applied to 
                the line. The dwa pattern parameter maps to the ri 
                pattern parameter for on-hook signaling, and to the cw 
                pattern parameter for off-hook signaling. The default 
                is no pattern, which indicates that the data 
                transmission should not be associated with any 
                signalling. 
                 
                It is useful to note that ringing patterns and call 
                waiting patterns are paired to allow for distinctive 
                alerting sets. In expanding this parameter in the 
                future, it would be desirable to expand the ri, cw, and 
                dwa signals together, maintaining the distinctive 
                pattern pairings. This will continue to allow the dwa 
                signal to have a definition independent of alerting 
                method, linking it only to the alerting style 
                (pattern). 
                 
                Failure to apply the patterned signal SHOULD generate 
                an Error Descriptor, as would any failed attempt to 
                apply a signal.  Typically, error 513, "Media Gateway 
                unequipped to generate requested Signals" would apply. 
 
       Generic Data Signaling 
    
          SignalID: data (0x0002) 
    
          Sends data not associated with alerting to sets that are so 
          equipped.  Examples of this would be Analog Display Services 
          Interface (ADSI), Message Waiting Indicator, Short Message 
          Service, or Advice of Charge.  ADSI is used for advanced 
 
Boyle, et al.    Standards Track - Expires Sept. 2002                5 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
          features such as context-specific softkeys, and in-phone 
          visual data editing. 
    
          Signal Type: Brief 
          Duration: Variable 
          Additional Parameters: 
    
             Data Block 
    
                ParameterID: db (0x0001) 
                Type: String 
                Possible Values: See description. 
    
                The Data Block contains the message data to be sent to 
                the set. Binary encoding is the binary data itself, 
                while text encoding shall carry the data as a hex 
                string.  The default value is an empty data block, 
                which will be acted upon as if there were data (such as 
                playing a TAS tone to the set). 
                 
                Failure to transmit the data for any reason, excepting 
                Megaco message formatting errors, SHALL NOT generate an 
                Error Descriptor.  Call processing should proceed as if 
                there had been no data transmission request in the 
                first place.  This includes errors in the data itself, 
                or a bad checksum. 
    
             Terminal Alerting Signal 
    
                ParameterID: tas (0x0003) 
                Type: Enumeration 
                Possible Values: dt(0x0001), rp(0x0002), lr(0x0003), 
                                 nt(0x0004) 
    
                The TAS is the method to alert the set that data is 
                forthcoming.  dt specifies that the Dual Tone Alerting 
                Signal (DT-AS) shall be used, rp specifies that the 
                Ringing Pulse Alerting Signal (RP-AS) shall be used, 
                and lr indicates that a line reversal followed by the 
                DT-AS shall be used. nt indicates that no TAS shall be 
                transmitted for this data. The default is provisioned. 
                 
                In the offhook signalling case, the TAS parameter shall 
                be ignored and the DT-AS shall be used, unless nt is 
                specified. 
    
       Error Tone 
    
          SignalID: err (0x0003) 
    
          Some display applications provide for a tone to be played to 
          the subscriber indicating that an error has occurred (for 

 
Boyle, et al.    Standards Track - Expires Sept. 2002                6 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
          example, bad input).  The physical characteristic of error 
          tone is provisioned in the gateway. 
    
          Signal Type: Brief 
          Duration: Provisioned 
          Additional Parameters: None. 
    
   4.4 Statistics 
    
       None. 
    
   4.5 Procedures 
    
      There may be some confusion as to how to build the Signals 
      descriptor when attempting to deliver Caller ID to the set. The 
      andisp/dwa signal is designed to stand alone, and be independent 
      of on-hook/off-hook status. 
       
      Ringing (via the alert package) for a normal call would have a 
      signals descriptor that looks like this: 
       
        Signals{alert/ri{pattern=1}} 
       
      Now let's add Caller ID to the set.  To apply standard ringing 
      and signal the Caller ID information, the signals descriptor 
      would look like this: 
       
        Signals{andisp/dwa{ddb=802301083035313831363135020A393139353535
        3030303007084A6F686E20446F65D5,pattern=1}} 
       
      In this example, the data block is North American MDMF, or ETSI 
      Call Setup Caller ID signaling, indicating a call at 4:15 PM, May 
      18 from John Doe at (919) 555-0000.  The checksum is included 
      (D5).  For encoding information, please see Telcordia's GR-30-
      CORE [3] or ETSI's Subscriber Line Protocol, Parts 1-3 [4] [5] 
      [6]. 
       
      This signaling implies standard ringing, and any other signaling 
      necessary to deliver the Caller ID to the set between the first 
      and second ring. 
       
      For the UK, Caller ID info is delivered by ringsplashing the set, 
      sending the DWA data, and then applying normal ringing. That 
      signalling would look like this (note that it is the same, since 
      TAS should be provisioned for the gateway's locale): 
       
        Signals{andisp/dwa{ddb=802301083035313831363135020A393139353535
        3030303007084A6F686E20446F65D5,pattern=1}} 
 
      This would be similarly applied to Call Waiting ID.  For normal 
      call waiting, the tone is requested as follows: 
       
        Signals{alert/cw{pattern=1}} 
 
Boyle, et al.    Standards Track - Expires Sept. 2002                7 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
       
      To perform Call Waiting ID, the descriptor looks identical to the 
      on-hook case: 
       
        Signals{andisp/dwa{ddb=802301083035313831363135020A393139353535
        3030303007084A6F686E20446F65D5,pattern=1}} 
       
      This signaling implies both application of call waiting tone, and 
      any other signaling necessary to perform the Caller ID function.  
      For North America and ETSI countries, it requests that the 
      gateway apply call wait tone, then apply the CAS/DT-AS, and send 
      down the Caller ID info after receipt of the ACK digit.  If the 
      gateway controller wants notification of the ACK digit, it should 
      be requested in the Events descriptor.  Any region-specific 
      signalling requirements in the setup of the DWA delivery are 
      implied within the signal. 
       
      Bulk Calling Line ID is handled in the same way as Caller ID, 
      except the Generic Data signal is used.  Transmission of the 
      Caller ID data would proceed as normal for onhook transmission 
      without ringing. Similar procedures would be used for delivery of 
      Advice of Charge data, Short Message Service data, Message 
      Waiting Indicator data, etc. 
       
      For ADSI, there are constraints similar to the offhook data with 
      alerting around ACK digits and softkey/digit responses.  Any 
      responses that the gateway controller wishes to be made aware of 
      should be requested in the Events descriptor. Digitmaps would be 
      especially useful for this application. 
       
      Binary encoding SHALL carry the binary data.  Text encoding SHALL 
      carry the data as a hex string. 
 
 
5. Formal Syntax 
    
   Not Applicable 
    
    
6. Security Considerations 
 
   Security considerations are addressed as per Section 10 of RFC-3015 
   [1]. 
    
7. IANA Considerations 
 
   The packages defined in this document are registered as per Section 
   13, _IANA Considerations_, of RFC 3015 [1]. 
    
    
8. References 
    
   Normative 
 
Boyle, et al.    Standards Track - Expires Sept. 2002                8 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
 
   1 Cuervo, et al., "Megaco Protocol Version 1.0", RFC 3015, November 
      2000 
    
   2 ITU-T, Recommendation H.248 (06/2000), "Gateway Control Protocol" 
    
   3 Telcordia, "LSSGR: Voice Band Data Transmission", GR-30-CORE, 
      Issue 2, December 1998 
    
   4 ETSI, "Access and Terminals (AT); Analogue access to the Public 
      Switched Telephone Network (PSTN); Subscriber line protocol over 
      the local loop for display (and related) services; Part 1 : On-
      hook data transmission", EN 300 659-1, V1.3.1 (2000-09) 
    
   5 ETSI, "Access and Terminals (AT); Analogue access to the Public 
      Switched Telephone Network (PSTN); Subscriber line protocol over 
      the local loop for display (and related) services; Part 2 : Off-
      hook data transmission", EN 300 659-2, V1.3.1 (2000-09) 
    
   6 ETSI, "Access and Terminals (AT); Analogue access to the Public 
      Switched Telephone Network (PSTN); Subscriber line protocol over 
      the local loop for display (and related) services; Part 3 : Data 
      link message and parameter codings", EN 300 659-3, V1.3.1 (2000-
      09) 
    
   Informative 
    
   7 Bradner, S., "The Internet Standards Process -- Revision 3", BCP 
      9, RFC 2026, October 1996. 
    
   8 Bradner, S., "Key words for use in RFCs to Indicate Requirement 
      Levels", BCP 14, RFC 2119, March 1997 
    
   9 Boyle, et al., "Tones MIB for Megaco/H.248", draft-boyle-megaco-
      tonesmib-00, February 2002 
    
    
    
 
9.  Abbreviations 
    
   ADSI _ Analog Display Services Interface 
   AOC _ Advice of Charge 
   BCLID _ Bulk Calling Line Identification 
   CAS _ CPE Alerting Signal 
   CLASS _ Custom Local Area Subscriber Services 
   CPE _ Customer Premises Equipment 
   DT-AS _ Dual Tone Alerting Signal 
   ETSI _ European Telecommunications Standards Institute 
   MDMF _ Multiple Data Message Format 
   MIB _ Management Information Block 
   MWI _ Message Waiting Indicator 
   RFC _ Request for Comments 
 
Boyle, et al.    Standards Track - Expires Sept. 2002                9 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
   RP-AS _ Ring Pulse Alerting Signal 
   SAS _ Subscriber Alerting Signal 
   SDMF _ Single Data Message Format 
   SMS _ Short Message Service 
   TAS _ Terminal Alerting Signal 
 
 
10. Acknowledgments 
    
   None 
    
    
11. Author's Addresses 
    
   Kevin Boyle II 
   Nortel Networks 
   4008 Chapel Hill Road 
   Research Triangle Park, NC USA 27709 
   Phone: (919) 991-2690 
   Email: kboyle@nortelnetworks.com 
    
    
   C. Michael Brown 
   1104 Hemingway Drive 
   Raleigh, NC USA 27609 
   Email: cmbrown@mindspring.com 
    
   Jean-Emmanuel Chapron 
   France Telecom R&D 
   38-40 rue du general Leclerc 
   92794 Issy Moulineaux Cedex 9, France 
   Phone: +33 1 45 29 64 50 
   Email: jeanemmanuel.chapron@francetelecom.com 
    
    
   Bruno Chatras 
   France Telecom R&D 
   38-40 rue du general Leclerc 
   92794 Issy Moulineaux Cedex 9, France 
   Phone: +33 1 45 29 41 48 
   Email: bruno.chatras@francetelecom.com 
    











 
Boyle, et al.    Standards Track - Expires Sept. 2002               10 
             Enhanced Alerting Packages for Megaco/H.248      Mar 2002   
 
 
Full Copyright Statement 

   "Copyright (C) The Internet Society (date). All Rights Reserved. 
   This document and translations of it may be copied and furnished to 
   others, and derivative works that comment on or otherwise explain it 
   or assist in its implementation may be prepared, copied, published 
   and distributed, in whole or in part, without restriction of any 
   kind, provided that the above copyright notice and this paragraph 
   are included on all such copies and derivative works. However, this 
   document itself may not be modified in any way, such as by removing 
   the copyright notice or references to the Internet Society or other 
   Internet organizations, except as needed for the purpose of 
   developing Internet standards in which case the procedures for 
   copyrights defined in the Internet Standards process must be 
   followed, or as required to translate it into languages other than 
   English.  The limited permissions granted above are perpetual and 
   will not be revoked by the Internet Society or its successors or 
   assigns.  This document and the information contained herein is 
   provided on an "AS IS" basis and THE INTERNET SOCIETY AND THE 
   INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR 
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF 
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE." 
    
12.  Expiration Date 
    
   This memo is filed as <draft-boyle-megaco-alerting-03.txt>, and 
   expires September 1, 2002. 
    
    
    
    




















 
Boyle, et al.    Standards Track - Expires Sept. 2002               11 
