<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Indicating
      Non-Availability of Dynamic Updates in the DNS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Indicating
      Non-Availability of Dynamic Updates in the DNS">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Abley</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Afilias Canada</td></tr>
<tr><td class="header">Intended status: BCP</td><td class="header">June 27, 2008</td></tr>
<tr><td class="header">Expires: December 29, 2008</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Indicating
      Non-Availability of Dynamic Updates in the DNS<br />draft-jabley-dnsop-missing-mname-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on December 29, 2008.</p>

<h3>Abstract</h3>

<p>The Start of Authority (SOA) Resource Record (RR) in the
	Domain Name System (DNS) specifies various parameters related
	to the handling of data in DNS zones. These parameters are
	variously used by authority-only servers, caching resolvers
	and DNS clients to guide them in the way that data contained
	within particular zones should be used.
</p>
<p>One particular field in the SOA RR is known as MNAME, which
	is used to specify the "Primary Master" server for a zone.
	This is the server to which Dynamic Updates are sent by
	clients. Many zones do not accept updates using the Dynamic
	Update mechanism, and any such DNS UPDATE messages which
	are received provide no usual purpose. For such zones it
	may be preferable not to receive updates from clients at
	all.
</p>
<p>This document proposes a convention by which a zone operator
	can signal to clients that a particular zone does not accept
	Dynamic Updates.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Use of the MNAME Field<br />
<a href="#anchor3">3.</a>&nbsp;
Operations<br />
<a href="#anchor4">4.</a>&nbsp;
Impact on DNS NOTIFY<br />
<a href="#anchor5">5.</a>&nbsp;
Impact on DNS UPDATE<br />
<a href="#anchor6">6.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor7">7.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
Normative References<br />
<a href="#anchor9">Appendix&nbsp;A.</a>&nbsp;
Change History<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p><a class='info' href='#RFC2136'>[RFC2136]<span> (</span><span class='info'>Vixie, P., Thomson, S., Rekhter, Y., and J. Bound, &ldquo;Dynamic Updates in the Domain Name System (DNS UPDATE),&rdquo; April&nbsp;1997.</span><span>)</span></a> specifies a mechanism for
	clients to update zones in the DNS dynamically. This mechanism
	is widely-deployed by many end-station operating systems,
	where it is used (for example) to update DNS records in
	response to a local change of IP address.
</p>
<p>Many zones, however, do not accept dynamic updates from clients
        as a matter of policy. For such zones, specifying a DNS server
        name in the MNAME field of an SOA record has no benefit, and
        in fact may well cause unwanted traffic (DNS UPDATE messages)
        to be received by the named server.
</p>
<p>This document proposes a convention by which a zone operator
        can signal to clients that a particular zone does not accept
        Dynamic Updates.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Use of the MNAME Field</h3>

<p>The Start of Authority (SOA) Resource Record (RR) is defined
	in <a class='info' href='#RFC1035'>[RFC1035]<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - implementation and specification,&rdquo; November&nbsp;1987.</span><span>)</span></a>. The MNAME field of the
	SOA RDATA is defined in that document as "The &lt;domain-name&gt;
	of the name server that was the original or primary source
	of data for this zone."
</p>
<p><a class='info' href='#RFC1035'>[RFC1035]<span> (</span><span class='info'>Mockapetris, P., &ldquo;Domain names - implementation and specification,&rdquo; November&nbsp;1987.</span><span>)</span></a> includes no specific
	guidance on the use of the MNAME field, although the general
	tone in which SOA RDATA are discussed suggests that its
	intended purpose was for the management of zone transfers
	between authority-only servers. There are no implementations
	of authority-only servers known to the author which use the
	MNAME field to manage or perform zone transfers, however;
	for bootstrapping reasons, commonly-deployed implementations
	require master servers to be specified explicitly, usually
	by address rather than name.
</p>
<p>The MNAME field was subsequently referred to in
	<a class='info' href='#RFC1996'>[RFC1996]<span> (</span><span class='info'>Vixie, P., &ldquo;A Mechanism for Prompt Notification of Zone Changes (DNS NOTIFY),&rdquo; August&nbsp;1996.</span><span>)</span></a>, as part of the definition
	of the term "Primary Master". The server specified in the
	MNAME field was, by default, to be excluded from the set
	of servers to which DNS NOTIFY messages would be sent.
</p>
<p>In <a class='info' href='#RFC2136'>[RFC2136]<span> (</span><span class='info'>Vixie, P., Thomson, S., Rekhter, Y., and J. Bound, &ldquo;Dynamic Updates in the Domain Name System (DNS UPDATE),&rdquo; April&nbsp;1997.</span><span>)</span></a> the MNAME field was again
	used to provide a definition for the term "Primary Master",
	in this case for the purpose of identifying the server
	towards which dynamic updates for that zone should be
	sent.
</p>
<p>There have been no other references to the use of the MNAME
	in the RFC series.
</p>
<p>This document specifies a convention by which a zone
	operator may include an empty MNAME field in order to
	deliberately specify that there is no appropriate place for
	Dynamic Updates to be sent.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Operations</h3>

<p>Zone administrators who do not wish to receive Dynamic Updates
        from clients for a particular zone may specify an empty MNAME
        field in that zone's SOA RDATA. The textual representation of
        an empty field in the canonical representation of zone data
        is a single ".", as illustrated in <a class='info' href='#example'>Figure&nbsp;1</a>.
</p><br /><hr class="insert" />
<a name="example"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 @       1800    IN      SOA     jabley.automagic.org. . (
                                     20080622    ; serial
                                     1800        ; refresh
                                     900         ; retry
                                     10800       ; expire
                                     1800 )      ; negative cache TTL
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Dynamic Update clients who identify the Primary Master server
        as the recipient of DNS UPDATE messages from the MNAME field
        in SOA RDATA should interpret an empty MNAME field as an
        indication that no attempt to send a DNS UPDATE message should
        be made for the zone containing the SOA record.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Impact on DNS NOTIFY</h3>

<p><a class='info' href='#RFC1996'>[RFC1996]<span> (</span><span class='info'>Vixie, P., &ldquo;A Mechanism for Prompt Notification of Zone Changes (DNS NOTIFY),&rdquo; August&nbsp;1996.</span><span>)</span></a> specifies that the Primary Server,
        which is derived from the MNAME field of the SOA RDATA, be
        excluded from the set of servers to which NOTIFY messages
        should be sent.
</p>
<p>For zones whose SOA record contains an MNAME field which
	corresponds to a server listed in the apex NS set, making
	the MNAME field empty might well cause additional NOTIFY
	traffic. If this is a concern, the operators of the
	authority-only servers for the zone might choose to specify
	an explicit notify list.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Impact on DNS UPDATE</h3>

<p>The goal of the convention specified in this document is to
        prevent Dynamic Update clients from sending DNS UPDATE messages
        for particular zones. The use of an empty MNAME field is intended
        to prevent a Dynamic Update client from finding a server to send
        DNS UPDATE messages to.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>This document makes no requests of the IANA.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>The convention described in this document provides no
        additional security risks to DNS zone or server administrators.
</p>
<p>Name servers which do not support Dynamic Updates for the
	zones they host might experience a security benefit from
	reduced DNS UPDATE traffic, the absence of that traffic
	provides additional headroom in network bandwidth and server
	capacity for legitimate query types.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1035">[RFC1035]</a></td>
<td class="author-text">Mockapetris, P., &ldquo;<a href="http://tools.ietf.org/html/rfc1035">Domain names - implementation and specification</a>,&rdquo; STD&nbsp;13, RFC&nbsp;1035, November&nbsp;1987 (<a href="http://www.rfc-editor.org/rfc/rfc1035.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1996">[RFC1996]</a></td>
<td class="author-text"><a href="mailto:paul@vix.com">Vixie, P.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1996">A Mechanism for Prompt Notification of Zone Changes (DNS NOTIFY)</a>,&rdquo; RFC&nbsp;1996, August&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1996.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2136">[RFC2136]</a></td>
<td class="author-text"><a href="mailto:paul@vix.com">Vixie, P.</a>, <a href="mailto:set@thumper.bellcore.com">Thomson, S.</a>, <a href="mailto:yakov@cisco.com">Rekhter, Y.</a>, and <a href="mailto:bound@zk3.dec.com">J. Bound</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2136">Dynamic Updates in the Domain Name System (DNS UPDATE)</a>,&rdquo; RFC&nbsp;2136, April&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2136.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2136.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2136.xml">XML</a>).</td></tr>
</table>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Change History</h3>

<p>This section to be removed prior to publication.
</p>
<p>
        </p>
<blockquote class="text"><dl>
<dt>00</dt>
<dd>Initial draft, circulated as
            draft-jabley-dnsop-missing-mname-00.
</dd>
</dl></blockquote><p>
      
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Joe Abley</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Afilias Canada Corp.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Suite 204, 4141 Yonge Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Toronto, ON  M2P 2A8</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Canada</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 416 673 4176</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jabley@ca.afilias.info">jabley@ca.afilias.info</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
