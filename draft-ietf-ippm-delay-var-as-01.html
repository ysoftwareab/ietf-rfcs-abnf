<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Packet Delay Variation Applicability
    Statement</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Packet Delay Variation Applicability
    Statement">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">A. Morton</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">AT&amp;T Labs</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">B. Claise</td></tr>
<tr><td class="header">Expires: January 14, 2009</td><td class="header">Cisco Systems, Inc.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 13, 2008</td></tr>
</table></td></tr></table>
<h1><br />Packet Delay Variation Applicability
    Statement<br />draft-ietf-ippm-delay-var-as-01</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 14, 2009.</p>

<h3>Abstract</h3>

<p>Packet delay variation metrics appear in many different standards
      documents. The metric definition in RFC 3393 has considerable
      flexibility, and it allows multiple formulations of delay variation
      through the specification of different packet selection functions.
</p>
<p>Although flexibility provides wide coverage and room for new ideas,
      it can make comparisons of independent implementations more difficult.
      Two different formulations of delay variation have come into wide use in
      the context of active measurements. This memo examines a range of
      circumstances for active measurements of delay variation and their uses,
      and recommends which of the two forms is best matched to particular
      conditions and tasks.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Background Literature in IPPM and Elsewhere<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Organization of the Memo<br />
<a href="#anchor4">2.</a>&nbsp;
Purpose and Scope<br />
<a href="#anchor5">3.</a>&nbsp;
Brief Descriptions of Delay Variation Uses<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.</a>&nbsp;
Inferring Queue Occupation on a Path<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.2.</a>&nbsp;
Determining De-jitter Buffer Size<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.3.</a>&nbsp;
Spatial Composition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.4.</a>&nbsp;
Service Level Comparison<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.5.</a>&nbsp;
Application-Layer FEC Design<br />
<a href="#anchor11">4.</a>&nbsp;
Formulations of IPDV and PDV<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">4.1.</a>&nbsp;
IPDV: Inter-Packet Delay Variation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">4.2.</a>&nbsp;
PDV: Packet Delay Variation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">4.3.</a>&nbsp;
A &quot;Point&quot; about Measurement Points<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">4.4.</a>&nbsp;
Examples and Initial Comparisons<br />
<a href="#anchor16">5.</a>&nbsp;
Survey of Earlier Comparisons<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">5.1.</a>&nbsp;
Demichelis' Comparison <br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">5.2.</a>&nbsp;
Ciavattone et al.<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">5.3.</a>&nbsp;
IPPM List Discussion from 2000<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">5.4.</a>&nbsp;
Y.1540 Appendix II<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">5.5.</a>&nbsp;
Clark's ITU-T SG 12 Contribution<br />
<a href="#anchor22">6.</a>&nbsp;
Additional Properties and Comparisons<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">6.1.</a>&nbsp;
Packet Loss<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">6.2.</a>&nbsp;
Path Changes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">6.2.1.</a>&nbsp;
Lossless Path Change<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">6.2.2.</a>&nbsp;
Path Change with Loss<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">6.3.</a>&nbsp;
Clock Stability and Error<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">6.4.</a>&nbsp;
Spatial Composition<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">6.5.</a>&nbsp;
Reporting a Single Number (SLA)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor30">6.6.</a>&nbsp;
Jitter in RTCP Reports<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor31">6.7.</a>&nbsp;
MAPDV2<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">6.8.</a>&nbsp;
Load Balancing<br />
<a href="#anchor33">7.</a>&nbsp;
Applicability of the Delay Variation Forms and Recommendations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">7.1.</a>&nbsp;
Uses<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor35">7.1.1.</a>&nbsp;
Inferring Queue Occupancy<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor36">7.1.2.</a>&nbsp;
Determining De-jitter Buffer Size (and FEC Design)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor37">7.1.3.</a>&nbsp;
Spatial Composition<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor38">7.1.4.</a>&nbsp;
Service Level Specification: Reporting a Single Number<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor39">7.2.</a>&nbsp;
Challenging Circumstances<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor40">7.2.1.</a>&nbsp;
Clock and Storage Issues<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor41">7.2.2.</a>&nbsp;
Frequent Path Changes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor42">7.2.3.</a>&nbsp;
Frequent Loss<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor43">7.2.4.</a>&nbsp;
Load Balancing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor44">7.3.</a>&nbsp;
Summary<br />
<a href="#anchor45">8.</a>&nbsp;
Measurement Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor46">8.1.</a>&nbsp;
Measurement Stream Characteristics<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor47">8.2.</a>&nbsp;
Measurement Devices<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor48">8.3.</a>&nbsp;
Units of Measurement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor49">8.4.</a>&nbsp;
Test Duration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor50">8.5.</a>&nbsp;
Clock Sync Options<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor51">8.6.</a>&nbsp;
Distinguishing Long Delay from Loss<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor52">8.7.</a>&nbsp;
Accounting for Packet Reordering<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor53">8.8.</a>&nbsp;
Results Representation and Reporting<br />
<a href="#IANA">9.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">10.</a>&nbsp;
Security Considerations<br />
<a href="#Acknowledgements">11.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor54">12.</a>&nbsp;
Appendix on Calculating the D(min) in PDV<br />
<a href="#rfc.references1">13.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">13.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">13.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>There are many ways to formulate packet delay variation metrics for
      the Internet and other packet-based networks. The IETF itself has
      several specifications for delay variation <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a>, sometimes called jitter <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> or even inter-arrival jitter <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a>, and these have achieved wide adoption. The
      International Telecommunication Union - Telecommunication
      Standardization Sector (ITU-T) has also recommended several delay
      variation metrics (called parameters in their terminology) <a class='info' href='#Y.1540'>[Y.1540]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet           transfer and availability performance parameters,&rdquo; December &nbsp;2002.</span><span>)</span></a> <a class='info' href='#G.1020'>[G.1020]<span> (</span><span class='info'>ITU-T Recommendation G.1020, &ldquo;&quot;Performance parameter definitions for the quality of speech           and other voiceband applications utilizing IP networks&quot;,&rdquo; 2006.</span><span>)</span></a>, and some of these
      are widely cited and used. Most of the standards above specify more than
      one way to quantify delay variation, so one can conclude that
      standardization efforts have tended to be inclusive rather than
      selective.
</p>
<p>This memo uses the term "delay variation" for metrics that quantify a
      path's ability to transfer packets with consistent delay. <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#Y.1540'>[Y.1540]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet           transfer and availability performance parameters,&rdquo; December &nbsp;2002.</span><span>)</span></a> both prefer
      this term. Some refer to this phenomenon as "jitter" (and the buffers
      that attempt to smooth the variations as de-jitter buffers).
      Applications of the term "jitter" are much broader than packet transfer
      performance, with "unwanted signal variation" as a general definition.
      "Jitter" has been used to describe frequency or phase variations, such
      as data stream rate variations or carrier signal phase noise. The phrase
      "delay variation" is almost self-defining and more precise, so it is
      preferred in this memo.
</p>
<p>Most (if not all) delay variation metrics are derived metrics, in
      that their definitions rely on another fundamental metric. In this case,
      the fundamental metric is one-way delay, and variation is assessed by
      computing the difference between two individual one-way delay
      measurements, or a pair of singletons. One of the delay singletons is
      taken as a reference, and the result is the variation with respect to
      the reference. The variation is usually summarized for all packets in a
      stream using statistics.
</p>
<p>The industry has predominantly implemented two specific formulations
      of delay variation (for one survey of the situation, see<a class='info' href='#Krzanowski'>[Krzanowski]<span> (</span><span class='info'>Presentation at IPPM, IETF-64, &ldquo;Jitter Definitions: What is What?,&rdquo; November&nbsp;2005.</span><span>)</span></a>):
</p>
<p></p>
<ol class="text">
<li>Inter-Packet Delay Variation, IPDV, where the reference is the
          previous packet in the stream (according to sending sequence), and
          the reference changes for each packet in the stream. Properties of
          variation are coupled with packet sequence in this formulation. This
          form was called Instantaneous Packet Delay Variation in early IETF
          contributions.
</li>
<li>Packet Delay Variation, PDV, where a single reference is chosen
          from the stream based on specific criteria. The most common
          criterion for the reference is the packet with the minimum delay in
          the sample. This term derives its name from a similar definition for
          Cell Delay Variation, an ATM performance metric.
</li>
</ol>

<p>It is important to note that the authors of relevant standards for
      delay variation recognized there are many different users with varying
      needs, and allowed sufficient flexibility to formulate several metrics
      with different properties. Therefore, the comparison is not so much
      between standards bodies or their specifications as it is between
      specific formulations of delay variation. Both Inter-Packet Delay
      Variation and Packet Delay Variation are compliant with <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a>, because different packet selection functions
      will produce either form.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Background Literature in IPPM and Elsewhere</h3>

<p>With more people joining the measurement community every day, it is
        possible this memo is the first from the IP Performance Metrics (IPPM)
        Working Group that the reader has consulted. This section provides a
        brief roadmap and background on the IPPM literature, and the published
        specifications of other relevant standards organizations.
</p>
<p>The IPPM framework <a class='info' href='#RFC2330'>[RFC2330]<span> (</span><span class='info'>Paxson, V., Almes, G., Mahdavi, J., and M. Mathis, &ldquo;Framework for IP Performance Metrics,&rdquo; May&nbsp;1998.</span><span>)</span></a> provides a
        background for this memo and other IPPM RFCs. Key terms such as
        singleton, sample, and statistic are defined there, along with methods
        of collecting samples (Poisson streams), time related issues, and the
        "packet of Type-P" convention.
</p>
<p>There are two fundamental and related metrics that can be applied
        to every packet transfer attempt: one-way loss <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> and one-way delay <a class='info' href='#RFC2679'>[RFC2679]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Delay Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>. Lost and delayed packets are separated by a
        waiting time threshold. Packets that arrive at the measurement
        destination within their waiting time have finite delay and are not
        lost. Otherwise, packets are designated lost and their delay is
        undefined. Guidance on setting the waiting time threshold may be found
        in <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> and <a class='info' href='#I-D.morton-ippm-reporting-metrics'>[I&#8209;D.morton&#8209;ippm&#8209;reporting&#8209;metrics]<span> (</span><span class='info'>Morton, A., Ramachandran, G., and G. Maguluri, &ldquo;Reporting Metrics: Different Points of View,&rdquo; July&nbsp;2009.</span><span>)</span></a>.
</p>
<p>Another fundamental metric is packet reordering as specified in
        <a class='info' href='#RFC4737'>[RFC4737]<span> (</span><span class='info'>Morton, A., Ciavattone, L., Ramachandran, G., Shalunov, S., and J. Perser, &ldquo;Packet Reordering Metrics,&rdquo; November&nbsp;2006.</span><span>)</span></a>. The reordering metric was defined to
        be "orthogonal" to packet loss. In other words, the gap in a packet
        sequence caused by loss does not result in reordered packets, but a
        re-arrangement of packet arrivals from their sending order constitutes
        reordering.
</p>
<p>Derived metrics are based on the fundamental metrics. The metric of
        primary interest here is delay variation <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a>, a metric which is derived from one-way delay
        <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>. Another derived metric is the loss
        patterns metric <a class='info' href='#RFC3357'>[RFC3357]<span> (</span><span class='info'>Koodli, R. and R. Ravikanth, &ldquo;One-way Loss Pattern Sample Metrics,&rdquo; August&nbsp;2002.</span><span>)</span></a>, which is derived from
        loss.
</p>
<p>The measured values of all metrics (both fundamental and derived)
        depend to great extent on the stream characteristics used to collect
        them. Both Poisson streams <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a> and Periodic
        streams <a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a> have been used with the IPDV
        and PDV metrics. The choice of stream specifications for active
        measurement will depend on the purpose of the characterization and the
        constraints of the testing environment. Periodic streams are
        frequently chosen for use with IPDV and PDV, because the application
        streams that are most sensitive to delay variation exhibit
        periodicity. Additional details that are method-specific are discussed
        the section on Measurement Considerations.
</p>
<p>In the ITU-T, the framework, fundamental metrics and derived
        metrics for IP performance are specified in Recommendation Y.1540
        <a class='info' href='#Y.1540'>[Y.1540]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet           transfer and availability performance parameters,&rdquo; December &nbsp;2002.</span><span>)</span></a>. <a class='info' href='#G.1020'>[G.1020]<span> (</span><span class='info'>ITU-T Recommendation G.1020, &ldquo;&quot;Performance parameter definitions for the quality of speech           and other voiceband applications utilizing IP networks&quot;,&rdquo; 2006.</span><span>)</span></a> defines
        additional delay variation metrics, analyses the operation of fixed
        and adaptive de-jitter buffers, and describes an example adaptive
        de-jitter buffer emulator. Appendix II of <a class='info' href='#G.1050'>[G.1050]<span> (</span><span class='info'>ITU-T Recommendation G.1050, &ldquo;&quot;Network model for evaluating multimedia transmission           performance over Internet Protocol&quot;,&rdquo; November&nbsp;2005.</span><span>)</span></a> describes the models for network impairments
        (including delay variation) that are part of standardized IP network
        emulator which may be useful when evaluating measurement
        techniques.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Organization of the Memo</h3>

<p>The Purpose and Scope follows in Section 2. We then give a summary
        of the main tasks for delay variation metrics in section 3. Section 4
        defines the two primary forms of delay variation, and section 5
        presents summaries of four earlier comparisons. Section 6 adds new
        comparisons to the analysis, and section 7 reviews the applicability
        and recommendations for each form of delay variation. Section 8 then
        looks at many important delay variation measurement considerations.
        Following the IANA and Security Considerations, there is an Appendix
        on the calculation of the minimum delay for the PDV form.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Purpose and Scope</h3>

<p>The IPDV and PDV formulations have certain features that make them
      more suitable for one circumstance and less so for another. The purpose
      of this memo is to compare two forms of delay variation, so that it will
      be evident which of the two is better suited for each of many possible
      uses and their related circumstances.
</p>
<p>The scope of this memo is limited to the two forms of delay variation
      briefly described above (Inter-Packet Delay Variation and Packet Delay
      Variation), circumstances related to active measurement, and uses that
      are deemed relevant and worthy of inclusion here through IPPM Working
      Group consensus.
</p>
<p>It is entirely possible that the analysis and conclusions drawn here
      are applicable beyond the intended scope, but the reader is cautioned to
      fully appreciate the circumstances of active measurement on IP networks
      before doing so.
</p>
<p>The scope excludes assessment of delay variation for packets with
      undefined delay. This is accomplished by conditioning the delay
      distribution on arrival within a reasonable waiting time based on an
      understanding of the path under test and packet lifetimes. The waiting
      time is sometimes called the loss threshold <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>: if a packet arrives beyond this threshold, it
      may as well have been lost because it is no longer useful. This is
      consistent with <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a>, where the
      Type-P-One-way-ipdv is undefined when the destination fails to receive
      one or both packets in the selected pair. Furthermore, it is consistent
      with application performance analysis to consider only arriving packets,
      because a finite waiting time-out is a feature of many protocols.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Brief Descriptions of Delay Variation Uses</h3>

<p>This section presents a set of tasks that call for delay variation
      measurements. Here, the memo provides several answers to the question,
      "How will the results be used?" for the delay variation metric.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Inferring Queue Occupation on a Path</h3>

<p>As packets travel along the path from source to destination, they
        pass through many network elements, including a series of router
        queues. Some types of the delay sources along the path are constant,
        such as links between two locations. But the latency encountered in
        each queue varies, depending on the number of packets in the queue
        when a particular packet arrives. If one assumes that at least one of
        the packets in a test stream encounters virtually empty queues all
        along the path (and the path is stable), then the additional delay
        observed on other packets can be attributed to the time spent in one
        or more queues. Otherwise, the delay variation observed is the
        variation in queue time experienced by the test stream.
</p>
<p>It is worth noting that delay variation can occur beyond IP router
        queues, in other communication components. Examples include media
        contention: DOCSIS, IEEE 802.11 and some mobile radio technologies.
        However, delay variation from all sources at the IP layer and below
        will be quantified using the two formulations discussed here.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Determining De-jitter Buffer Size</h3>

<p>Note - while this memo and other IPPM literature prefer the term
        delay variation, the terms "jitter buffer" and the more accurate
        "de-jitter buffer" are widely adopted names for a component of packet
        communication systems, and they will be used here to designate that
        system component.
</p>
<p>Most Isochronous applications (a.k.a. real-time applications)
        employ a buffer to smooth out delay variation encountered on the path
        from source to destination. The buffer must be big enough to
        accommodate the expected variation of delay, or packet loss will
        result. However, if the buffer is too large, then some of the desired
        spontaneity of communication will be lost and conversational dynamics
        will be affected. Therefore, application designers need to know the
        range of delay variation they must accommodate, whether they are
        designing fixed or adaptive buffer systems.
</p>
<p>Network service providers also attempt to constrain delay variation
        to ensure the quality of real-time applications, and monitor this
        metric (possibly to compare with a numerical objective or Service
        Level Agreement).
</p>
<p>De-jitter buffer size can be expressed in units of octets of
        storage space for the packet stream, or in units of time that the
        packets are stored. It is relatively simple to convert between octets
        and time when the buffer read rate (in octets per second) is
        constant:
</p>
<p>read_rate * storage_time = storage_octets
</p>
<p>Units of time are used in the discussion below.
</p>
<p>The objective of a de-jitter buffer is to compensate for all prior
        sources of delay variation and produce a packet stream with constant
        delay. Thus, a packet experiencing the minimum transit delay from
        source to destination, D_min, should spend the maximum time in a
        de-jitter buffer, B_max. The sum of D_min and B_max should equal the
        sum of the maximum transit delay (D_max) and the minimum buffer time
        (B_min). We have
</p>
<p>Constant = D_min + B_max = D_max + B_min,
</p>
<p>after rearranging terms,
</p>
<p>B_max - B_min = D_max - D_min = range(B) = range(D)
</p>
<p>where range(B) is the range of packet buffering times, and range(D)
        is the range of packet transit delays from source to destination.
</p>
<p>Packets with transit delay between the max and min spend a
        complimentary time in the buffer and also see the constant delay.
</p>
<p>In practice, the minimum buffer time, B_min, may not be zero, and
        the maximum transit delay, D_max may be a high percentile (99.9%-ile)
        instead of the maximum.
</p>
<p>Note that B_max - B_min = range(B) is the range of buffering times
        needed to compensate for delay variation. The actual size of the
        buffer may be larger (where B_min &gt; 0) or smaller than
        range(B).
</p>
<p>There must be a process to align the de-jitter buffer time with
        packet transit delay. This is a process to identify the packets with
        minimum delay and schedule their play-out time so that they spend the
        maximum time in the buffer. The error in the alignment process can be
        accounted for by a factor, A. In the equation below, the range of
        buffering times *available* to the packet stream, range(b), depends on
        buffer alignment with the actual arrival times of D_min and D_max.
</p>
<p>range(b) = b_max - b_min = D_max - D_min + A
</p>
<p>When A is positive, the de-jitter buffer applies more delay than
        necessary (where Constant = D_max+b_min+A represents one possible
        alignment). When A is negative, there is insufficient buffer time
        available to compensate for range(D) because of mis-alignment. Packets
        with D_min may be arriving too early and encountering a full buffer,
        or packets with D_max may be arriving too late, and in either case the
        packets would be discarded.
</p>
<p>In summary, the range of transit delay variation is a critical
        factor in the determination of de-jitter buffer size.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Spatial Composition</h3>

<p>In Spatial Composition, the tasks are similar to those described
        above, but with the additional complexity of a multiple network path
        where several sub-paths are measured separately and no source to
        destination measurements are available. In this case, the source to
        destination performance must be estimated, using Composed Metrics as
        described in <a class='info' href='#I-D.ietf-ippm-framework-compagg'>[I&#8209;D.ietf&#8209;ippm&#8209;framework&#8209;compagg]<span> (</span><span class='info'>Morton, A., &ldquo;Framework for Metric Composition,&rdquo; December&nbsp;2009.</span><span>)</span></a>
        and <a class='info' href='#Y.1541'>[Y.1541]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Network Performance Objectives for IP-Based Services,&rdquo; February &nbsp;2006.</span><span>)</span></a>. Note that determining the composite
        delay variation is not trivial: simply summing the sub-path variations
        is not accurate.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Service Level Comparison</h3>

<p>IP performance measurements are often used as the basis for
        agreements (or contracts) between service providers and their
        customers. The measurement results must compare favorably with the
        performance levels specified in the agreement.
</p>
<p>Packet delay variation is usually one of the metrics specified in
        these agreements. In principle, any formulation could be specified in
        the Service Level Agreement (SLA). However, the SLA is most useful
        when the measured quantities can be related to ways in which the
        communication service will be utilized by the customer, and this can
        usually be derived from one of the tasks described above.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Application-Layer FEC Design</h3>

<p>The design of application-layer Forward Error Correction (FEC)
        components is closely related to the design of a de-jitter buffer in
        several ways. The FEC designer must choose a protection interval (time
        to send/receive a block of packets in a constant packet rate system)
        consistent with the packet loss characteristics, but also mindful of
        the extent of delay variation expected. Further, the system designer
        must decide how long to wait for "late" packets to arrive. Again, the
        range of delay variation is the relevant expression delay variation
        for these tasks.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Formulations of IPDV and PDV</h3>

<p>This section presents the formulations of IPDV and PDV, and provides
      some illustrative examples. We use the basic singleton definition in
      <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a> (which itself is based on <a class='info' href='#RFC2679'>[RFC2679]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Delay Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a>):
</p>
<p>"Type-P-One-way-ipdv is defined for two packets from Src to Dst
      selected by the selection function F, as the difference between the
      value of the Type-P-One-way-delay from Src to Dst at T2 and the value of
      the Type-P-One-Way-Delay from Src to Dst at T1."
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
IPDV: Inter-Packet Delay Variation</h3>

<p>If we have packets in a stream consecutively numbered i = 1,2,3,...
        falling within the test interval, then IPDV(i) = D(i)-D(i-1) where
        D(i) denotes the one-way-delay of the ith packet of a stream.
</p>
<p>One-way delays are the difference between timestamps applied at the
        ends of the path, or the receiver time minus the transmission time. So
        D(2) = R2-T2. With this timestamp notation, it can be shown that IPDV
        also represents the change in inter-packet spacing between
        transmission and reception:
</p>
<p>IPDV(2) = D(2) - D(1) = (R2-T2) - (R1-T1) = (R2-R1) - (T2-T1)
</p>
<p>An example selection function given in <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a> is "Consecutive Type-P packets within the
        specified interval." This is exactly the function needed for IPDV. The
        reference packet in the pair is always the previous packet in the
        sending sequence.
</p>
<p>Note that IPDV can take on positive and negative values (and zero).
        One way to analyze the IPDV results is to concentrate on the positive
        excursions. However, approach has limitations that are discussed in
        more detail below (see section 5.3).
</p>
<p>The mean of all IPDV(i) for a stream is usually zero. However, a
        slow delay change over the life of the stream, or a frequency error
        between the measurement system clocks, can result in a non-zero
        mean.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
PDV: Packet Delay Variation</h3>

<p>The name Packet Delay Variation is used in <a class='info' href='#Y.1540'>[Y.1540]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet           transfer and availability performance parameters,&rdquo; December &nbsp;2002.</span><span>)</span></a> and its predecessors, and refers to a
        performance parameter equivalent to the metric described below.
</p>
<p>The Selection Function for PDV requires two specific roles for the
        packets in the pair. The first packet is any Type-P packet within the
        specified interval. The second, or reference packet is the Type-P
        packet within the specified interval with the minimum
        one-way-delay.
</p>
<p>Therefore, PDV(i) = D(i)-D(min) (using the nomenclature introduced
        in the IPDV section). D(min) is the delay of the packet with the
        lowest value for delay (minimum) over the current test interval.
        Values of PDV may be zero or positive, and quantiles of the PDV
        distribution are direct indications of delay variation.
</p>
<p>PDV is a version of the one-way delay distribution, shifted to the
        origin by normalizing to the minimum delay.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
A &quot;Point&quot; about Measurement Points</h3>

<p>Both IPDV and PDV are derived from the one-way delay metric. One
        way delay requires knowledge of time at two points, e.g., the source
        and destination of an IP network path in end-to-end measurement.
        Therefore, both IPDV and PDV can be categorized as 2-point metrics
        because they are derived from one-way delay. Specific methods of
        measurement may make assumptions or have a priori knowledge about one
        of the measurement points, but the metric definitions themselves are
        based on information collected at two measurement points.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Examples and Initial Comparisons</h3>

<p>Note: This material originally presented in slides 2 and 3 of <a class='info' href='#Morton06'>[Morton06]<span> (</span><span class='info'>Morton, A., &ldquo;&quot;A Brief Jitter Metrics Comparison, and not the last word, by           any means&hellip;&quot;, Slide Presentation at IETF-65, IPPM           Session,,&rdquo; March&nbsp;2006.</span><span>)</span></a>.
</p>
<p>The Figure below gives a sample of packet delays and calculates
        IPDV and PDV values and depicts a histogram for each one.
</p>
<p><br /><hr class="insert" />
<a name="FigA4.3"></a>

<p>
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>       Packet #     1   2   3   4   5
       -------------------------------
       Delay, ms   20  10  20  25  20

       IPDV         U -10  10   5  -5

       PDV         10   0  10  15  10

          |                 |
         4|                4|
          |                 |
         3|                3|         H
          |                 |         H
         2|                2|         H
          |                 |         H
  H   H  1|   H   H        1|H        H   H
  H   H   |   H   H         |H        H   H
 ---------+--------         +---------------
-10  -5   0   5  10          0   5   10  15

   IPDV Histogram             PDV Histogram

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: IPDV and PDV Comparison&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>The sample of packets contains three packets with "typical" delays
        of 20ms, one packet with a low delay of 10ms (the minimum of the
        sample) and one packet with 25ms delay.
</p>
<p>As noted above, this example illustrates that IPDV may take on
        positive and negative values, while the PDV values are greater than or
        equal to zero. The Histograms of IPDV and PDV are quite different in
        general shape, and the ranges are different, too (IPDV range = 20ms,
        PDV range = 15 ms). Note that the IPDV histogram will change if the
        sequence of delays is modified, but the PDV histogram will stay the
        same. PDV normalizes the one-way delay distribution to the minimum
        delay and emphasizes the variation independent from the sequence of
        delays.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Survey of Earlier Comparisons</h3>

<p>This section summarizes previous work to compare these two forms of
      delay variation.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Demichelis' Comparison </h3>

<p>In <a class='info' href='#Demichelis'>[Demichelis]<span> (</span><span class='info'>http://www.advanced.org/ippm/archive.3/att-0075/01-pap02.doc, &ldquo;Packet Delay Variation Comparison between ITU-T and IETF           Draft Definitions,&rdquo; November&nbsp;2000.</span><span>)</span></a>, Demichelis compared the early
        draft versions of two forms of delay variation. Although the IPDV form
        would eventually see widespread use, the ITU-T work-in-progress he
        cited did not utilize the same reference packets as PDV. Demichelis
        compared IPDV with the alternatives of using the delay of the first
        packet in the stream and the mean delay of the stream as the PDV
        reference packet. Neither of these alternative references were used in
        practice, and they are now deprecated in favor of the minimum delay of
        the stream <a class='info' href='#Y.1540'>[Y.1540]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet           transfer and availability performance parameters,&rdquo; December &nbsp;2002.</span><span>)</span></a>.
</p>
<p>Active measurements of a transcontinental path (Torino to Tokyo)
        provided the data for the comparison. The Poisson test stream had
        0.764 second average inter-packet interval, with more than 58 thousand
        packets over 13.5 hours. Among Demichelis' observations about IPDV are
        the following:
</p>
<p></p>
<ol class="text">
<li>IPDV is a measure of the network's ability to preserve the
            spacing between packets.
</li>
<li>The distribution of IPDV is usually symmetrical about the
            origin, having a balance of negative and positive values (for the
            most part). The mean is usually zero, unless some long-term delay
            trend is present.
</li>
<li>IPDV singletons distinguish quick delay variations (short-term,
            on the order of the interval between packets) from longer term
            variations.
</li>
<li>IPDV places reduced demands on the stability and skew of
            measurement clocks.
</li>
</ol><p>He also notes these features of PDV:
</p>
<p></p>
<ol class="text">
<li>The PDV distribution does not distinguish short-term variation
            from variation over the complete test interval. (Comment: PDV can
            be determined over any sub-intervals when the singletons are
            stored.)
</li>
<li>The location of the distribution is very sensitive to the delay
            of the first packet, IF this packet is used as the reference. This
            would be a new formulation that differs from the PDV definition in
            this memo (PDV references the packet with minimum delay, so it
            does not have this drawback).
</li>
<li>The shape of the PDV distribution is identical to the delay
            distribution, but shifted by the reference delay.
</li>
<li>Use of a common reference over measurement intervals that are
            longer than a typical session length may indicate more PDV than
            would be experienced by streams that support such sessions.
            (Ideally, the measurement interval should be aligned with the
            session length of interest, and this influences determination of
            the reference delay, D(min).)
</li>
<li>The PDV distribution characterizes the range of queue
            occupancies along the measurement path (assuming the path is
            fixed), but the range says nothing about how the variation took
            place.
</li>
</ol><p>The summary metrics used in this comparison were the number
        of values exceeding a +/-50ms range around the mean, the Inverse
        Percentiles, and the Inter-Quartile Range.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Ciavattone et al.</h3>

<p>In <a class='info' href='#Cia03'>[Cia03]<span> (</span><span class='info'>, &ldquo;Standardized Active Measurements on a Tier 1 IP Backbone,           IEEE Communications Mag., pp 90-97.,&rdquo; June&nbsp;2003.</span><span>)</span></a>, the authors compared IPDV and PDV
        (referred to as delta) using a periodic packet stream conforming to
        <a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a> with inter-packet interval of 20
        ms.
</p>
<p>One of the comparisons between IPDV and PDV involves a laboratory
        set-up where a queue was temporarily congested by a competing packet
        burst. The additional queuing delay was 85ms to 95ms, much larger than
        the inter-packet interval. The first packet in the stream that follows
        the competing burst spends the longest time queued, and others
        experience less and less queuing time until the queue is drained.
</p>
<p>The authors observed that PDV reflects the additional queuing time
        of the packets affected by the burst, with values of 85, 65, 45, 25,
        and 5ms. Also, it is easy to determine (by looking at the PDV range)
        that a de-jitter buffer of &gt;85 ms would have been sufficient to
        accommodate the delay variation. Again, the measurement interval is a
        key factor in the validity of such observations (it should have
        similar length to the session interval of interest).
</p>
<p>The IPDV values in the congested queue example are very different:
        85, -20, -20, -20, -20, -5ms. Only the positive excursion of IPDV
        gives an indication of the de-jitter buffer size needed. Although the
        variation exceeds the inter-packet interval, the extent of negative
        IPDV values is limited by that sending interval. This preference for
        information from the positive IPDV values has prompted some to ignore
        the negative values, or to take the absolute value of each IPDV
        measurement (sacrificing key properties of IPDV in the process, such
        as its ability to distinguish delay trends).
</p>
<p>Note that this example illustrates a case where the IPDV
        distribution is asymmetrical, because the delay variation range (85ms)
        exceeds the inter-packet spacing (20ms). We see that the IPDV values
        85, -20, -20, -20, -20, -5ms have zero mean, but the left side of the
        distribution is truncated at -20ms.
</p>
<p>Elsewhere, the authors considered the range as a summary statistic
        for IPDV, and the 99.9%-ile minus the minimum delay as a summary
        statistic for delay variation, or PDV.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
IPPM List Discussion from 2000</h3>

<p>Mike Pierce made many comments in the context of the 05 version of
        draft-ietf-ippm-ipdv. One of his main points was that a delay
        histogram is a useful approach to quantifying variation. Another point
        was that the time duration of evaluation is a critical aspect.
</p>
<p>Carlo Demichelis then mailed his comparison paper to the IPPM list,
        <a class='info' href='#Demichelis'>[Demichelis]<span> (</span><span class='info'>http://www.advanced.org/ippm/archive.3/att-0075/01-pap02.doc, &ldquo;Packet Delay Variation Comparison between ITU-T and IETF           Draft Definitions,&rdquo; November&nbsp;2000.</span><span>)</span></a> as discussed in more detail
        above.
</p>
<p>Ruediger Geib observed that both IPDV and the delay histogram (PDV)
        are useful, and suggested that they might be applied to different
        variation time scales. He pointed out that loss has a significant
        effect on IPDV, and encouraged that the loss information be retained
        in the arrival sequence.
</p>
<p>Several example delay variation scenarios were discussed,
        including:
</p>
<p><br /><hr class="insert" />
<a name="Fig0"></a>

<p>
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>Packet #     1   2   3   4   5   6   7   8   9  10  11
-------------------------------------------------------
Ex. A
Lost

Delay, ms  100 110 120 130 140 150 140 130 120 110 100

IPDV        U   10  10  10  10  10 -10 -10 -10 -10 -10

PDV         0   10  20  30  40  50  40  30  20  10   0

-------------------------------------------------------
Ex. B
Lost                     L

Delay, ms  100 110 150   U 120 100 110 150 130 120 100

IPDV        U   10  40   U   U -10  10  40 -20 -10 -20

PDV         0   10  50   U  20   0  10  50  30  20   0</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Delay Examples&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>Clearly, the range of PDV values is 50 ms in both cases above, and
        this is the statistic that determines the size of a de-jitter buffer.
        The IPDV range is minimal in response to the smooth variation in
        Example A (20 ms). However, IPDV responds to the faster variations in
        Example B (60 ms range from 40 to -20). Here the IPDV range is larger
        than the PDV range, and over-estimates the buffer size
        requirements.
</p>
<p>A heuristic method to estimate buffer size using IPDV is to sum the
        consecutive positive or zero values as an estimate of PDV range.
        However, this is more complicated to assess than the PDV range, and
        has strong dependence on the actual sequence of IPDV values (any
        negative IPDV value stops the summation, and again causes an
        underestimate).
</p>
<p>IPDV values can be viewed as the adjustments that an adaptive
        de-jitter buffer would make, IF it could make adjustments on a
        packet-by-packet basis. However, adaptive de-jitter buffers don't make
        adjustments this frequently, so the value of this information is
        unknown. The short-term variations may be useful to know in some other
        cases.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Y.1540 Appendix II</h3>

<p>Appendix II of <a class='info' href='#Y.1540'>[Y.1540]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet           transfer and availability performance parameters,&rdquo; December &nbsp;2002.</span><span>)</span></a> describes a secondary
        terminology for delay variation. It compares IPDV, PDV (referred to as
        2-point PDV), and 1-point packet delay variation (which assumes a
        periodic stream and assesses variation against an ideal arrival
        schedule constructed at a single measurement point). This early
        comparison discusses some of the same considerations raised in section
        6 below.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Clark's ITU-T SG 12 Contribution</h3>

<p>Alan Clark's contribution to ITU-T Study Group 12 in January 2003,
        provided an analysis of the root causes of delay variation and
        investigated different techniques for measurement and modeling of
        "jitter" <a class='info' href='#COM12.D98'>[COM12.D98]<span> (</span><span class='info'>Clark, Alan., &ldquo;ITU-T Delayed Contribution COM 12 - D98, &quot;Analysis,           measurement and modelling of Jitter&quot;,&rdquo; January&nbsp;2003.</span><span>)</span></a>. Clark compared a metric
        closely related to IPDV, Mean Packet-to-Packet Delay Variation, MPPDV
        = mean(abs(D(i)-D(i-1))) to the newly proposed Mean Absolute Packet
        Delay Variation (MAPDV2, see <a class='info' href='#G.1020'>[G.1020]<span> (</span><span class='info'>ITU-T Recommendation G.1020, &ldquo;&quot;Performance parameter definitions for the quality of speech           and other voiceband applications utilizing IP networks&quot;,&rdquo; 2006.</span><span>)</span></a>). One of
        the tasks for this study was to estimate the number of packet discards
        in a de-jitter buffer. Clark concluded that MPPDV did not track the
        ramp delay variation he associated access link congestion (similar to
        Figure 2, Example A above), but MAPDV2 did.
</p>
<p>Clark also briefly looked at PDV (as described in the 2002 version
        of<a class='info' href='#Y.1541'>[Y.1541]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Network Performance Objectives for IP-Based Services,&rdquo; February &nbsp;2006.</span><span>)</span></a>). He concluded that if PDV was applied
        to a series of very short measurement intervals (e.g., 200ms), it
        could be used to determine the fraction of intervals with high packet
        discard rates.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Additional Properties and Comparisons</h3>

<p>This section treats some of the earlier comparison areas in more
      detail, and introduces new areas for comparison.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Packet Loss</h3>

<p>The measurement packet loss is of great influence for the delay
        variation results, as displayed in the figures 3 and 4 (L means Lost
        and U means undefined). Figure 3 shows that in the extreme case of
        every other packet loss, the IPDV doesn't produce any results, while
        the PDV produces results for all arriving packets.
</p>
<p><br /><hr class="insert" />
<a name="Fig3"></a>

<p>
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>Packet #   1  2  3  4  5  6  7  8  9 10
Lost          L     L     L     L     L
---------------------------------------
Delay, ms  3  U  5  U  4  U  3  U  4  U

IPDV       U  U  U  U  U  U  U  U  U  U

PDV        0  U  2  U  1  U  0  U  1  U</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Path Loss Every Other Packet&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>In case of a burst of packet loss, as displayed in figure 3, both
        the IPDV and PDV produces some results. Note that PDV still produces
        more values than IPDV.
</p>
<p><br /><hr class="insert" />
<a name="Fig4"></a>

<p>
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>Packet #   1  2  3  4  5  6  7  8  9 10
Lost             L  L  L  L  L
---------------------------------------
Delay, ms  3  4  U  U  U  U  U  5  4  3

IPDV       U  1  U  U  U  U  U  U -1 -1

PDV        0  1  U  U  U  U  U  2  1  0</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Burst of Packet Loss&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>In conclusion, the PDV results are affected by the packet loss
        ratio. The IPDV results are affected by both the packet loss ratio and
        the packet loss distribution. In the extreme case of loss of every
        other packet, IPDV doesn't provide any results.
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Path Changes</h3>

<p>When there is little or no stability in the network under test,
        then the devices that attempt to characterize the network are equally
        stressed, especially if the results displayed are used to make
        inferences which may not be valid.
</p>
<p>Sometimes the path characteristics change during a measurement
        interval. The change may be due to link or router failure,
        administrative changes prior to maintenance (e.g., link cost change),
        or re-optimization of routing using new information. All these causes
        are usually infrequent, and network providers take appropriate
        measures to ensure this. Automatic restoration to a back-up path is
        seen as a desirable feature of IP networks.
</p>
<p>Frequent path changes and prolonged congestion with substantial
        packet loss clearly make delay variation measurements challenging.
        Path changes are usually accompanied by a sudden, persistent increase
        or decrease in one-way-delay. <a class='info' href='#Cia03'>[Cia03]<span> (</span><span class='info'>, &ldquo;Standardized Active Measurements on a Tier 1 IP Backbone,           IEEE Communications Mag., pp 90-97.,&rdquo; June&nbsp;2003.</span><span>)</span></a> gives one
        such example. We assume that a restoration path either accepts a
        stream of packets, or is not used for that particular stream (e.g., no
        multi-path for flows).
</p>
<p>In any case, a change in the TTL (or Hop Limit) of the received
        packets indicates that the path is no longer the same. Transient
        packet reordering may also be observed with path changes, due to use
        of non-optimal routing while updates propagate through the network
        (see <a class='info' href='#Casner'>[Casner]<span> (</span><span class='info'>, &ldquo;A Fine-Grained View of High Performance Networking, NANOG 22           Conf.; http://www.nanog.org/mtg-0105/agenda.html,&rdquo; May 20-22&nbsp;2001.</span><span>)</span></a> and <a class='info' href='#Cia03'>[Cia03]<span> (</span><span class='info'>, &ldquo;Standardized Active Measurements on a Tier 1 IP Backbone,           IEEE Communications Mag., pp 90-97.,&rdquo; June&nbsp;2003.</span><span>)</span></a>
        )
</p>
<p>Many, if not all, packet streams experience packet loss in
        conjunction with a path change. However, it is certainly possible that
        the active measurement stream does not experience loss. This may be
        due to use of a long inter-packet sending interval with respect to the
        restoration time, and it becomes more likely as "fast restoration"
        techniques see wider deployment (e.g., <a class='info' href='#RFC4090'>[RFC4090]<span> (</span><span class='info'>Pan, P., Swallow, G., and A. Atlas, &ldquo;Fast Reroute Extensions to RSVP-TE for LSP Tunnels,&rdquo; May&nbsp;2005.</span><span>)</span></a>.
</p>
<p>Thus, there are two main cases to consider, path changes
        accompanied by loss, and those that are lossless from the point of
        view of the active measurement stream. The subsections below examine
        each of these cases.
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
Lossless Path Change</h3>

<p>In the lossless case, a path change will typically affect only
          one IPDV singleton. For example, the delay sequence in the Figure
          below always produces IPDV=0 except in the one case where the value
          is 5 (U, 0, 0, 0, 5, 0, 0, 0, 0).
</p><br /><hr class="insert" />
<a name="Fig5"></a>

<p>
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>Packet #   1  2  3  4  5  6  7  8  9
Lost
------------------------------------
Delay, ms  4  4  4  4  9  9  9  9  9

IPDV       U  0  0  0  5  0  0  0  0

PDV        0  0  0  0  5  5  5  5  5</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Lossless Path Change&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>However, if the change in delay is negative and larger than the
          inter-packet sending interval, then more than one IPDV singleton may
          be affected because packet reordering is also likely to occur.
</p>
<p>The use of the new path and its delay variation can be quantified
          by treating the PDV distribution as bi-modal, and characterizing
          each mode separately. This would involve declaring a new path within
          the sample, and using a new local minimum delay as the PDV reference
          delay for the sub-sample (or time interval) where the new path is
          present.
</p>
<p>The process of detecting a bi-modal delay distribution is made
          difficult if the typical delay variation is larger than the delay
          change associated with the new path. However, information on TTL (or
          Hop Limit) change or the presence of transient reordering can assist
          in an automated decision.
</p>
<p>The effect of path changes may also be reduced by making PDV
          measurements over short intervals (minutes, as opposed to hours).
          This way, a path change will affect one sample and its PDV values.
          Assuming that the mean or median one-way-delay changes appreciably
          on the new path, then subsequent measurements can confirm a path
          change and trigger special processing on the interval to revise the
          PDV result.
</p>
<p>Alternatively, if the path change is detected, by monitoring the
          test packets TTL or Hop Limit, or monitoring the change in the IGP
          link-state database, the results of measurement before and after the
          path change could be kept separated, presenting two different
          distributions. This avoids the difficult task of determining the
          different modes of a multi-modal distribution.
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.2"></a><h3>6.2.2.&nbsp;
Path Change with Loss</h3>

<p>If the path change is accompanied by loss, such that the are no
          consecutive packet pairs that span the change, then no IPDV
          singletons will reflect the change. This may or may not be
          desirable, depending on the ultimate use of the delay variation
          measurement. Figure 6, in which L means Lost and U means undefined,
          illustrates this case.
</p>
<p><br /><hr class="insert" />
<a name="Fig6"></a>

<p>
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>Packet #   1  2  3  4  5  6  7  8  9
Lost                   L  L
------------------------------------
Delay, ms  3  4  3  3  U  U  8  9  8

IPDV       U  1 -1  0  U  U  U  1 -1

PDV        0  1  0  0  U  U  5  6  5</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Path Change with Loss&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>PDV will again produce a bimodal distribution. But here, the
          decision process to define sub-intervals associated with each path
          is further assisted by the presence of loss, in addition to TTL,
          reordering information, and use of short measurement intervals
          consistent with the duration of user sessions. It is reasonable to
          assume that at least loss and delay will be measured simultaneously
          with PDV and/or IPDV.
</p>
<p>IPDV does not help to detect path changes when accompanied by
          loss, and this is a disadvantage for those who rely solely on IPDV
          measurements.
</p>
<p>
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Clock Stability and Error</h3>

<p>Low cost or low complexity measurement systems may be embedded in
        communication devices that do not have access to high stability
        clocks, and time errors will almost certainly be present. However,
        larger time-related errors (~1ms) may offer an acceptable trade-off
        for monitoring performance over a large population (the accuracy
        needed to detect problems may be much less than required for a
        scientific study, ~0.01ms for example).
</p>
<p>Maintaining time accuracy &lt;&lt;1ms has typically required access
        to dedicated time receivers at all measurement points. Global
        positioning system (GPS) receivers have often been installed to
        support measurements. The GPS installation conditions are fairly
        restrictive, and many prospective measurement efforts have found the
        deployment complexity and system maintenance too difficult.
</p>
<p>As mentioned above, <a class='info' href='#Demichelis'>[Demichelis]<span> (</span><span class='info'>http://www.advanced.org/ippm/archive.3/att-0075/01-pap02.doc, &ldquo;Packet Delay Variation Comparison between ITU-T and IETF           Draft Definitions,&rdquo; November&nbsp;2000.</span><span>)</span></a> observed that
        PDV places greater demands on clock synchronization than for IPDV.
        This observation deserves more discussion. Synchronization errors have
        two components: time of day errors and clock frequency errors
        (resulting in skew).
</p>
<p>Both IPDV and PDV are sensitive to time-of-day errors when
        attempting to align measurement intervals at the source and
        destination. Gross mis-alignment of the measurement intervals can lead
        to lost packets, for example if the receiver is not ready when the
        first test packet arrives. However, both IPDV and PDV assess delay
        differences, so the error present in any two one-way-delay singletons
        will cancel as long as the error is constant. So, the demand for NTP
        or GPS synchronization comes primarily from one-way delay measurement
        time-of-day accuracy requirements. Delay variation and measurement
        interval alignment are relatively less demanding.
</p>
<p>Skew is a measure of the change in clock time over an interval
        w.r.t. a reference clock. Both IPDV and PDV are affected by skew, but
        the error sensitivity in IPDV singletons is less because the intervals
        between consecutive packets are rather small, especially when compared
        to the overall measurement interval. Since PDV computes the difference
        between a single reference delay (the sample minimum) and all other
        delays in the measurement interval, the constraint on skew error is
        greater to attain the same accuracy as IPDV. Again, use of short PDV
        measurement intervals (on the order of minutes, not hours) provides
        some relief from the effects of skew error. Thus, the additional
        accuracy demand of PDV can be expressed as a ratio of the measurement
        interval to the inter-packet spacing.
</p>
<p>A practical example is a measurement between two hosts, one with a
        synchronized clock and the other with a free-running clock having 50
        part per million (ppm) long term accuracy.
</p>
<p></p>
<ul class="text">
<li>If IPDV measurements are made on packets with a 1 second
            spacing, the maximum singleton error will be 1 x 5 x 10^-5
            seconds, or 0.05ms.
</li>
<li>If PDV measurements are made on the same packets over a 60
            second measurement interval, then the delay variation due to the
            max free-running clock error will be 60 x 5 x 10-5 seconds, or 3ms
            delay variation error from the first packet to the last.
</li>
</ul><p>Therefore, the additional accuracy required for equivalent
        PDV error under these conditions is a factor of 60 more than for IPDV.
        This is a rather extreme scenario, because time-of-day error of 1
        second would accumulate in ~5.5 hours, potentially causing the
        measurement interval alignment issue described above.
</p>
<p>If skew is present in a sample of one-way-delays, its symptom is
        typically a nearly linear growth or decline over all the one-way-delay
        values. As a practical matter, if the same slope appears consistently
        in the measurements, then it may be possible to fit the slope and
        compensate for the skew in the one-way-delay measurements, thereby
        avoiding the issue in the PDV calculations that follow. See <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a> for additional information on compensating
        for skew.
</p>
<p>Values for IPDV may have non-zero mean over a sample when clock
        skew is present. This tends to complicate IPDV analysis when using the
        assumptions of a zero mean and a symmetric distribution.
</p>
<p>There is a third factor related to clock error and stability: this
        is the presence of a clock synchronization protocol (e.g., NTP) and
        the time adjustment operations that result. When a time error is
        detected (typically on the order of a few milliseconds), the host
        clock frequency is continuously adjusted to reduce the time error. If
        these adjustments take place during a measurement interval, they may
        appear as delay variation when none was present, and therefore are a
        source of error (regardless of the DV form considered).
</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.4"></a><h3>6.4.&nbsp;
Spatial Composition</h3>

<p>ITU-T Recommendation <a class='info' href='#Y.1541'>[Y.1541]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Network Performance Objectives for IP-Based Services,&rdquo; February &nbsp;2006.</span><span>)</span></a> gives a
        provisional method to compose a PDV metric using PDV measurement
        results from two or more sub-paths. Additional methods are considered
        in <a class='info' href='#I-D.ietf-ippm-spatial-composition'>[I&#8209;D.ietf&#8209;ippm&#8209;spatial&#8209;composition]<span> (</span><span class='info'>Morton, A. and E. Stephan, &ldquo;Spatial Composition of Metrics,&rdquo; April&nbsp;2010.</span><span>)</span></a>.
</p>
<p>PDV has a clear advantage at this time, since there is no validated
        method to compose an IPDV metric. In addition, IPDV results depend
        greatly on the exact sequence of packets and may not lend themselves
        easily to the composition problem, where segments must be assumed to
        have independent delay distributions.
</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.5"></a><h3>6.5.&nbsp;
Reporting a Single Number (SLA)</h3>

<p>Despite the risk of over-summarization, measurements must often be
        displayed for easy consumption. If the right summary report is
        prepared, then the "dashboard" view correctly indicates whether there
        is something different and worth investigating further, or that the
        status has not changed. The dashboard model restricts every instrument
        display to a single number. The packet network dashboard could have
        different instruments for loss, delay, delay variation, reordering,
        etc., and each must be summarized as a single number for each
        measurement interval. The single number summary statistic is a key
        component of SLAs, where a threshold on that number must be met x% of
        the time.
</p>
<p>The simplicity of the PDV distribution lends itself to this
        summarization process (including use of the percentiles, median or
        mean). An SLA of the form "no more than x% of packets in a measurement
        interval shall have PDV &gt;= y ms, for no less than z% of time" is
        relatively straightforward to specify and implement. <a class='info' href='#Y.1541'>[Y.1541]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Network Performance Objectives for IP-Based Services,&rdquo; February &nbsp;2006.</span><span>)</span></a> introduced the notion of a pseudo-range when
        setting an objective for the 99.9%-ile of PDV. The conventional range
        (max-min) was avoided for several reasons, including stability of the
        maximum delay. The 99.9%-ile of PDV is helpful to performance planners
        (seeking to meet some user-to-user objective for delay) and in design
        of de-jitter buffer sizes, even those with adaptive capabilities.
</p>
<p>IPDV does not lend itself to summarization so easily. The mean IPDV
        is typically zero. As the IPDV distribution will have two tails
        (positive and negative) the range or pseudo-range would not match the
        needed de-jitter buffer size. Additional complexity may be introduced
        when the variation exceeds the inter-packet sending interval, as
        discussed above (in sections 5.2 and 6.2.1). Should the Inter-Quartile
        Range be used? Should the singletons beyond some threshold be counted
        (e.g., mean +/- 50ms)? A strong rationale for one of these summary
        statistics has yet to emerge.
</p>
<p>When summarizing IPDV, some prefer the simplicity of the
        single-sided distribution created by taking the absolute value of each
        singleton result, abs(D(i)-D(i-1)). This approach sacrifices the
        two-sided inter-arrival spread information in the distribution. It
        also makes the evaluation using percentiles more confusing, because a
        single late packet that exceeds the variation threshold will cause two
        pairs of singletons to fail the criteria (one positive, the other
        negative converted to positive). The single-sided PDV distribution is
        an advantage in this category.
</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.6"></a><h3>6.6.&nbsp;
Jitter in RTCP Reports</h3>

<p><a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> gives the calculation of the
        inter-arrival Jitter field for the RTCP report, with a sample
        implementation in an Appendix.
</p>
<p>The RTCP Jitter value can be calculated using IPDV singletons. If
        there is packet reordering, as defined in <a class='info' href='#RFC4737'>[RFC4737]<span> (</span><span class='info'>Morton, A., Ciavattone, L., Ramachandran, G., Shalunov, S., and J. Perser, &ldquo;Packet Reordering Metrics,&rdquo; November&nbsp;2006.</span><span>)</span></a>, then estimates of Jitter based on IPDV may
        vary slightly, because <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> specifies the
        use of receive packet order.
</p>
<p>Just as there is no simple way to convert PDV singletons to IPDV
        singletons without returning to the original sample of delay
        singletons, there is no clear relationship between PDV and <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> Jitter.
</p>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.7"></a><h3>6.7.&nbsp;
MAPDV2</h3>

<p>MAPDV2 stands for Mean Absolute Packet Delay Variation (version) 2,
        and is specified in <a class='info' href='#G.1020'>[G.1020]<span> (</span><span class='info'>ITU-T Recommendation G.1020, &ldquo;&quot;Performance parameter definitions for the quality of speech           and other voiceband applications utilizing IP networks&quot;,&rdquo; 2006.</span><span>)</span></a>. The MAPDV2
        algorithm computes a smoothed running estimate of the mean delay using
        the one-way delays of 16 previous packets. It compares the current
        one-way-delay to the estimated mean, separately computes the means of
        positive and negative deviations, and sums these deviation means to
        produce MAPVDV2. In effect, there is a MAPDV2 singleton for every
        arriving packet, so further summarization is usually warranted.
</p>
<p>Neither IPDV or PDV forms assist in the computation of MAPDV2.
</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.8"></a><h3>6.8.&nbsp;
Load Balancing</h3>

<p>Network traffic load balancing is a process to divide packet
        traffic in order to provide a more even distribution over two or more
        equally viable paths. The paths chosen are based on the IGP cost
        metrics, while the delay depends on the path's physical layout.
        Usually, the balancing process is performed on a per-flow basis to
        avoid delay variation experienced when packets traverse different
        physical paths.
</p>
<p>If the sample includes test packets with different characteristics
        such as IP addresses/ports, there could be multi-modal delay
        distributions present. The PDV form makes the identification of
        multiple modes possible. IPDV may also reveal that multiple paths are
        in use with a mixed flow sample, but the different delay modes are not
        easily divided and analyzed separately.
</p>
<p>Should the delay singletons using multiple addresses/ports be
        combined in the same sample? Should we characterize each mode
        separately? (This question also applies to the Path Change case.) It
        depends on the task to be addressed by the measurement.
</p>
<p>For the task of de-jitter buffer sizing or assessing queue
        occupation, the modes should be characterized separately because flows
        will experience only one mode on a stable path. Use of a single flow
        description (address/port combination) in each sample simplifies this
        analysis. Multiple modes may be identified by collecting samples with
        different flow attributes, and characterization of multiple paths can
        proceed with comparison of the delay distributions from each
        sample.
</p>
<p>For the task of capacity planning and routing optimization,
        characterizing the modes separately could offer an advantage. Network
        wide capacity planning (as opposed to link capacity planning) takes as
        input the core traffic matrix, which corresponds to a matrix of
        traffic transferred from every source to every destination in the
        network. Applying the core traffic matrix along with the routing
        information (typically the link state database of a routing protocol)
        in a capacity planning tool offers the possibility to visualize the
        paths where the traffic flows and to optimize the routing based on the
        link utilization. In the case where equal cost multiple paths (ECMP)
        are used, the traffic will be load balanced onto multiple paths. If
        each mode of the IP delay multi-modal distribution can be associated
        with a specific path, the delay performance offers an extra
        optimization parameter, i.e. the routing optimization based on the IP
        delay variation metric. As an example, the load balancing across ECMPs
        could be suppressed so that the VoIP calls would only be routed via
        the path with the lower IP delay variation. Clearly, any modifications
        can result in new delay performance measurements, so there must be a
        verification step to ensure the desired outcome.
</p>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Applicability of the Delay Variation Forms and Recommendations</h3>

<p>Based on the comparisons of IPDV and PDV presented above, this
      section matches the attributes of each form with the tasks described
      earlier. We discuss the more general circumstances first.
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Uses</h3>

<p>
</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1.1"></a><h3>7.1.1.&nbsp;
Inferring Queue Occupancy</h3>

<p>The PDV distribution is anchored at the minimum delay observed in
          the measurement interval. When the sample minimum coincides with the
          true minimum delay of the path, then the PDV distribution is
          equivalent to the queuing time distribution experienced by the test
          stream. If the minimum delay is not the true minimum, then the PDV
          distribution captures the variation in queuing time and some
          additional amount of queuing time is experienced, but unknown. One
          can summarize the PDV distribution with the mean, median, and other
          statistics.
</p>
<p>IPDV can capture the difference in queuing time from one packet
          to the next, but this is a different distribution from the queue
          occupancy revealed by PDV.
</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1.2"></a><h3>7.1.2.&nbsp;
Determining De-jitter Buffer Size (and FEC Design)</h3>

<p>This task is complimentary to the problem of inferring queue
          occupancy through measurement. Again, use of the sample minimum as
          the reference delay for PDV yields a distribution that is very
          relevant to de-jitter buffer size. This is because the minimum delay
          is an alignment point for the smoothing operation of de-jitter
          buffers. A de-jitter buffer that is ideally aligned with the delay
          variation adds zero buffer time to packets with the longest
          accommodated network delay (any packets with longer delays are
          discarded). Thus, a packet experiencing minimum network delay should
          be aligned to wait the maximum length of the de-jitter buffer. With
          this alignment, the stream is smoothed with no unnecessary delay
          added. <a class='info' href='#G.1020'>[G.1020]<span> (</span><span class='info'>ITU-T Recommendation G.1020, &ldquo;&quot;Performance parameter definitions for the quality of speech           and other voiceband applications utilizing IP networks&quot;,&rdquo; 2006.</span><span>)</span></a> illustrates the ideal
          relationship between network delay variation and buffer time.
</p>
<p>The PDV distribution is also useful for this task, but different
          statistics are preferred. The range (max-min) or the 99.9%-ile of
          PDV (pseudo-range) are closely related to the buffer size needed to
          accommodate the observed network delay variation.
</p>
<p>The PDV distribution directly addresses the FEC waiting time
          question. When the PDV distribution has a 99th percentile of 10ms,
          then waiting 10ms longer than the FEC protection interval will allow
          99% of late packets to arrive and be used in the FEC block.
</p>
<p>In some cases, the positive excursions (or series of positive
          excursions) of IPDV may help to approximate the de-jitter buffer
          size, but there is no guarantee that a good buffer estimate will
          emerge, especially when the delay varies as a positive trend over
          several test packets.
</p>
<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1.3"></a><h3>7.1.3.&nbsp;
Spatial Composition</h3>

<p>PDV has a clear advantage at this time, since there is no
          validated method to compose an IPDV metric.
</p>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1.4"></a><h3>7.1.4.&nbsp;
Service Level Specification: Reporting a Single Number</h3>

<p>The one-sided PDV distribution can be constrained with a single
          statistic, such as an upper percentile, so it is preferred. The IPDV
          distribution is two-sided, usually has zero mean, and no universal
          summary statistic that relates to a physical quantity has emerged in
          years of experience.
</p>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Challenging Circumstances</h3>

<p>Note that measurement of delay variation may not be the primary
        concern under unstable and unreliable circumstances.
</p>
<a name="anchor40"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.1"></a><h3>7.2.1.&nbsp;
Clock and Storage Issues</h3>

<p>When appreciable skew is present between measurement system
          clocks, then IPDV has an advantage because PDV would require
          processing over the entire sample to remove the skew error. However,
          significant skew can invalidate IPDV analysis assumptions, such as
          the zero mean and symmetric distribution characteristics. Small skew
          may well be within the error tolerance, and both PDV and IPDV
          results will be usable. There may be a portion of the skew,
          measurement interval, and required accuracy 3-D space where IPDV has
          an advantage, depending on the specific measurement
          specifications.
</p>
<p>Neither form of delay variation is more suited than the other to
          on-the-fly summarization without memory, and this may be one of the
          reasons that <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> RTCP Jitter and MAPDV2
          in <a class='info' href='#G.1020'>[G.1020]<span> (</span><span class='info'>ITU-T Recommendation G.1020, &ldquo;&quot;Performance parameter definitions for the quality of speech           and other voiceband applications utilizing IP networks&quot;,&rdquo; 2006.</span><span>)</span></a> have attained deployment in
          low-cost systems.
</p>
<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.2"></a><h3>7.2.2.&nbsp;
Frequent Path Changes</h3>

<p>If the network under test exhibits frequent path changes, on the
          order of several new routes per minute, then IPDV appears to isolate
          the delay variation on each path from the transient effect of path
          change (especially if there is packet loss at the time of path
          change). However, if one intends to use IPDV to indicate path
          changes, it cannot do this when the change is accompanied by loss.
          It is possible to make meaningful PDV measurements when paths are
          unstable, but great importance would be placed on the algorithms
          that infer path change and attempt to divide the sample on path
          change boundaries.
</p>
<p>When path changes are frequent and cause packet loss, delay
          variation is probably less important than the loss episodes and
          attention should be turned to the loss metric instead.
</p>
<a name="anchor42"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.3"></a><h3>7.2.3.&nbsp;
Frequent Loss</h3>

<p>If the network under test exhibits frequent loss, then PDV may
          produce a larger set of singletons for the sample than IPDV. This is
          due to IPDV requiring consecutive packet arrivals to assess delay
          variation, compared to PDV where any packet arrival is useful. The
          worst case is when no consecutive packets arrive, and the entire
          IPDV sample would be undefined. PDV would successfully produce a
          sample based on the arriving packets.
</p>
<a name="anchor43"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.4"></a><h3>7.2.4.&nbsp;
Load Balancing</h3>

<p>PDV distributions offer the most straightforward way to identify
          that a sample of packets have traversed multiple paths. The tasks of
          de-jitter buffer sizing or assessing queue occupation with PDV
          should be use a sample with a single flow because flows will
          experience only one mode on a stable path, and it simplifies the
          analysis.
</p>
<a name="anchor44"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Summary</h3>

<p>
</p><br /><hr class="insert" />

<p style='text-align: center'>
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">Comparison Area</th><th align="left">PDV</th><th align="left">IPDV</th></tr>
<tr>
<td align="left">Challenging Circumstances</td>
<td align="left">Less sensitive to packet loss, and simplifies analysis when load
          balancing or multiple paths are present</td>
<td align="left">Preferred when path changes are frequent or when measurement
          clocks exhibit some skew</td>
</tr>
<tr>
<td align="left">Spatial Composition of DV metric</td>
<td align="left">All validated methods use this form</td>
<td align="left">Has sensitivity to sequence and spacing changes, which tends to
          break the requirement for independent distributions between path
          segments</td>
</tr>
<tr>
<td align="left">Determine De-Jitter Buffer Size Required</td>
<td align="left">"Pseudo-range" reveals this property by anchoring the
          distribution at the minimum delay</td>
<td align="left">No reliable relationship, but some heuristics</td>
</tr>
<tr>
<td align="left">Estimate of Queuing Time and Variation</td>
<td align="left">Distribution has one-to-one relationship on a stable path,
          especially when sample min = true min</td>
<td align="left">No reliable relationship</td>
</tr>
<tr>
<td align="left">Specification Simplicity: Single Number SLS</td>
<td align="left">One constraint needed for single-sided distribution, and easily
          related to quantities above</td>
<td align="left">Distribution is two-sided, usually has zero mean, and no
          universal summary statistic that relates to a physical quantity</td>
</tr>
</table>
<br clear="all" />

<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Summary of Comparisons&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor45"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Measurement Considerations</h3>

<p>This section discusses the practical aspects of delay variation
      measurement, with special attention to the two formulations compared in
      this memo.
</p>
<a name="anchor46"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Measurement Stream Characteristics</h3>

<p>As stated in the background section, there is a strong dependency
        between the active measurement stream characteristics and the results.
        The IPPM literature includes two primary methods for collecting
        samples: Poisson sampling described in <a class='info' href='#RFC2330'>[RFC2330]<span> (</span><span class='info'>Paxson, V., Almes, G., Mahdavi, J., and M. Mathis, &ldquo;Framework for IP Performance Metrics,&rdquo; May&nbsp;1998.</span><span>)</span></a>,
        and Periodic sampling in<a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a>. The Poisson
        method was intended to collect an unbiased sample of performance,
        while the Periodic method addresses a "known bias of interest".
        Periodic streams are required to have random start times and limited
        stream duration, in order to avoid unwanted synchronization with some
        other periodic process, or cause congestion-aware senders to
        synchronize with the stream and produce atypical results. The random
        start time should be different for each new stream.
</p>
<p>It is worth noting that <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a> was
        developed in parallel with <a class='info' href='#RFC3432'>[RFC3432]<span> (</span><span class='info'>Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;Network performance measurement with periodic streams,&rdquo; November&nbsp;2002.</span><span>)</span></a>. As a
        result, all the stream metrics defined in <a class='info' href='#RFC3393'>[RFC3393]<span> (</span><span class='info'>Demichelis, C. and P. Chimento, &ldquo;IP Packet Delay Variation Metric for IP Performance Metrics (IPPM),&rdquo; November&nbsp;2002.</span><span>)</span></a> specify the Poisson sampling method.
</p>
<p>Periodic sampling is frequently used in measurements of delay
        variation. Several factors foster this choice:
</p>
<p></p>
<ol class="text">
<li>Many application streams that are sensitive to delay variation
            also exhibit periodicity, and so exemplify the bias of interest.
            If the application has a constant packet spacing, this constant
            spacing can be the inter-packet gap for the test stream. VoIP
            streams often use 20ms spacing, so this is an obvious choice for
            an Active stream. This applies to both IPDV and PDV forms.
</li>
<li>The spacing between packets in the stream will influence
            whether the stream experiences short-range dependency, or only
            long-range dependency, as investigated in <a class='info' href='#Li.Mills'>[Li.Mills]<span> (</span><span class='info'>Li, Quong. and David. Mills, &ldquo;&quot;The Implications of Short-Range Dependency on Delay           Variation Measurement&quot;, Second IEEE Symposium on Network Computing           and Applications,&rdquo; 2003.</span><span>)</span></a>. The packet spacing also influences the
            IPDV distribution and the stream's sensitivity to reordering. For
            example, with a 20 ms spacing the IPDV distribution cannot go
            below -20ms without packet reordering.
</li>
<li>The measurement process may make several simplifying
            assumptions when the send spacing and send rate are constant. For
            example, the inter-arrival times at the destination can be
            compared with an ideal sending schedule, and allowing a one-point
            measurement of delay variation (described in <a class='info' href='#Y.1540'>[Y.1540]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet           transfer and availability performance parameters,&rdquo; December &nbsp;2002.</span><span>)</span></a>) that approximates the IPDV form.
            Simplified methods that approximate PDV are possible as well (some
            are discussed in Appendix II of <a class='info' href='#Y.1541'>[Y.1541]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Network Performance Objectives for IP-Based Services,&rdquo; February &nbsp;2006.</span><span>)</span></a>).
</li>
<li>Analysis of truncated, or non-symmetrical IPDV distributions is
            simplified. Delay variations in excess of the periodic sending
            interval can cause multiple singleton values at the negative limit
            of the packet spacing (see section 5.2 and <a class='info' href='#Cia03'>[Cia03]<span> (</span><span class='info'>, &ldquo;Standardized Active Measurements on a Tier 1 IP Backbone,           IEEE Communications Mag., pp 90-97.,&rdquo; June&nbsp;2003.</span><span>)</span></a>). Only packet reordering can cause the
            negative spacing limit to be exceeded.
</li>
</ol><p>Despite the emphasis on inter-packet delay differences with
        IPDV, both Poisson <a class='info' href='#Demichelis'>[Demichelis]<span> (</span><span class='info'>http://www.advanced.org/ippm/archive.3/att-0075/01-pap02.doc, &ldquo;Packet Delay Variation Comparison between ITU-T and IETF           Draft Definitions,&rdquo; November&nbsp;2000.</span><span>)</span></a> and Periodic
        <a class='info' href='#Li.Mills'>[Li.Mills]<span> (</span><span class='info'>Li, Quong. and David. Mills, &ldquo;&quot;The Implications of Short-Range Dependency on Delay           Variation Measurement&quot;, Second IEEE Symposium on Network Computing           and Applications,&rdquo; 2003.</span><span>)</span></a> streams have been used, and these
        references illustrate the different analyses that are possible.
</p>
<p>The advantages of using a Poisson distribution are discussed in
        <a class='info' href='#RFC2330'>[RFC2330]<span> (</span><span class='info'>Paxson, V., Almes, G., Mahdavi, J., and M. Mathis, &ldquo;Framework for IP Performance Metrics,&rdquo; May&nbsp;1998.</span><span>)</span></a>. The main properties are to avoid
        predicting the sample times, avoid synchronization with periodic
        events that are present in networks, and avoid inducing
        synchronization with congestion-aware senders. When a Poisson stream
        is used with IPDV, the distribution will reflect inter-packet delay
        variation on many different time scales (or packet spacings). The
        unbiased Poisson sampling brings a new layer of complexity in the
        analysis of IPDV distributions.
</p>
<a name="anchor47"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
Measurement Devices</h3>

<p>One key aspect of measurement devices is their ability to store
        singletons (or individual measurements). This feature usually is
        closely related to local calculation capabilities. For example, an
        embedded measurement device with limited storage will like provide
        only a few statistics on the delay variation distribution, while
        dedicated measurement systems store all the singletons and allow
        detailed analysis (later calculation of either form of delay variation
        is possible with the original singletons).
</p>
<p>Therefore, systems with limited storage must choose their metrics
        and summary statistics in advance. If both IPDV and PDV statistics are
        desired, the supporting information must be collected as packets
        arrive. For example, the PDV range and high percentiles can be
        determined later if the minimum and several of the largest delays are
        stored while the measurement is in-progress.
</p>
<a name="anchor48"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.3"></a><h3>8.3.&nbsp;
Units of Measurement</h3>

<p>Both IPDV and PDV can be summarized as a range in milliseconds.
</p>
<p>With IPDV, it is interesting to report on a positive percentile,
        and an inter-quantile range is appropriate to reflect both positive
        and negative tails (e.g., 5% to 95%). If the IPDV distribution is
        symmetric around a mean of zero, then it is sufficient to report on
        the positive side of the distribution.
</p>
<p>With PDV, it is sufficient to specify the upper percentile (e.g.,
        99.9%).
</p>
<a name="anchor49"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.4"></a><h3>8.4.&nbsp;
Test Duration</h3>

<p>At several points in this memo, we have recommended use of test
        intervals on the order of minutes. In their paper examining the
        stability of Internet path properties<a class='info' href='#Zhang.Duff'>[Zhang.Duff]<span> (</span><span class='info'>Zhang, Yin., Duffield, Nick., Paxson, Vern., and Scott. Shenker, &ldquo;&quot;On the Constancy of Internet Path Properties&quot;, Proceedings           of ACM SIGCOMM Internet Measurement Workshop,,&rdquo; November&nbsp;2001.</span><span>)</span></a>, Zhang et al. concluded that consistency was present on the
        order of minutes for the performance metrics considered (loss, delay,
        and throughput) for the paths they measured.
</p>
<p>The topic of temporal aggregation of performance measured in small
        intervals to estimate some larger interval is described in the Metric
        Composition Framework <a class='info' href='#I-D.ietf-ippm-framework-compagg'>[I&#8209;D.ietf&#8209;ippm&#8209;framework&#8209;compagg]<span> (</span><span class='info'>Morton, A., &ldquo;Framework for Metric Composition,&rdquo; December&nbsp;2009.</span><span>)</span></a>.
</p>
<p>The primary recommendation here is to test using durations that are
        similar in length to the session time of interest. This applies to
        both IPDV and PDV, but is possibly more relevant for PDV since the
        duration determines how often the D_min will be determined, and the
        size of the associated sample.
</p>
<a name="anchor50"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.5"></a><h3>8.5.&nbsp;
Clock Sync Options</h3>

<p>As with one-way delay measurements, local clock synchronization is
        an important matter for delay variation measurements.
</p>
<p>There are several options available:
</p>
<p></p>
<ol class="text">
<li>Global Positioning System receivers
</li>
<li>In some parts of the world, Cellular Code Division Multiple
            Access (CDMA) systems distribute timing signals that are derived
            from GPS and traceable to UTC.
</li>
<li>Network Time Protocol <a class='info' href='#RFC1305'>[RFC1305]<span> (</span><span class='info'>Mills, D., &ldquo;Network Time Protocol (Version 3) Specification, Implementation,&rdquo; March&nbsp;1992.</span><span>)</span></a> is a
            convenient choice in many cases, but usually offers lower accuracy
            than the options above.
</li>
</ol><p>When clock synchronization is inconvenient or subject to
        appreciable errors, then round-trip measurements may give a cumulative
        indication of the delay variation present on both directions of the
        path. However, delay distributions are rarely symmetrical, so it is
        difficult to infer much about the one-way delay variation from
        round-trip measurements. Also, measurements on asymmetrical paths add
        complications for the one-way delay metric.
</p>
<a name="anchor51"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.6"></a><h3>8.6.&nbsp;
Distinguishing Long Delay from Loss</h3>

<p>Lost and delayed packets are separated by a waiting time threshold.
        Packets that arrive at the measurement destination within their
        waiting time have finite delay and are not lost. Otherwise, packets
        are designated lost and their delay is undefined. Guidance on setting
        the waiting time threshold may be found in <a class='info' href='#RFC2680'>[RFC2680]<span> (</span><span class='info'>Almes, G., Kalidindi, S., and M. Zekauskas, &ldquo;A One-way Packet Loss Metric for IPPM,&rdquo; September&nbsp;1999.</span><span>)</span></a> and <a class='info' href='#I-D.morton-ippm-reporting-metrics'>[I&#8209;D.morton&#8209;ippm&#8209;reporting&#8209;metrics]<span> (</span><span class='info'>Morton, A., Ramachandran, G., and G. Maguluri, &ldquo;Reporting Metrics: Different Points of View,&rdquo; July&nbsp;2009.</span><span>)</span></a>.
</p>
<p>In essence, <a class='info' href='#I-D.morton-ippm-reporting-metrics'>[I&#8209;D.morton&#8209;ippm&#8209;reporting&#8209;metrics]<span> (</span><span class='info'>Morton, A., Ramachandran, G., and G. Maguluri, &ldquo;Reporting Metrics: Different Points of View,&rdquo; July&nbsp;2009.</span><span>)</span></a> suggests to use a
        long waiting time to serve network characterization and revise results
        for specific application delay thresholds as needed.
</p>
<a name="anchor52"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.7"></a><h3>8.7.&nbsp;
Accounting for Packet Reordering</h3>

<p>Packet reordering, defined in <a class='info' href='#RFC4737'>[RFC4737]<span> (</span><span class='info'>Morton, A., Ciavattone, L., Ramachandran, G., Shalunov, S., and J. Perser, &ldquo;Packet Reordering Metrics,&rdquo; November&nbsp;2006.</span><span>)</span></a>, is
        essentially an extreme form of delay variation where the packet stream
        arrival order differs from the sending order.
</p>
<p>PDV results are not sensitive to packet arrival order, and are not
        affected by reordering other than to reflect the more extreme
        variation.
</p>
<p>IPDV results will change if reordering is present because they are
        sensitive to the sequence of delays of arriving packets. The main
        example of this sensitivity is in the truncation of the negative tail
        of the distribution.
</p>
<p></p>
<ul class="text">
<li>When there is no reordering, the negative tail is limited by
            the sending time spacing between packets.
</li>
<li>If reordering occurs (and the reordered packets are not
            discarded), the negative tail can take on any value (in
            principal).
</li>
</ul><p>In general, measurement systems should have the capability to
        detect when sequence has changed. If IPDV measurements are made
        without regard to packet arrival order, the IPDV will be
        under-reported when reordering occurs.
</p>
<a name="anchor53"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.8"></a><h3>8.8.&nbsp;
Results Representation and Reporting</h3>

<p>All of the references that discuss or define delay variation
        suggest ways to represent or report the results, and interested
        readers should review the various possibilities.
</p>
<p>For example, <a class='info' href='#I-D.morton-ippm-reporting-metrics'>[I&#8209;D.morton&#8209;ippm&#8209;reporting&#8209;metrics]<span> (</span><span class='info'>Morton, A., Ramachandran, G., and G. Maguluri, &ldquo;Reporting Metrics: Different Points of View,&rdquo; July&nbsp;2009.</span><span>)</span></a> suggests to report
        a pseudo range of delay variation based on calculating the difference
        between a high percentile of delay and the minimum delay. The
        99.9%-ile minus the minimum will give a value that can be compared
        with objectives in <a class='info' href='#Y.1541'>[Y.1541]<span> (</span><span class='info'>ITU-T Recommendation Y.1540, &ldquo;Network Performance Objectives for IP-Based Services,&rdquo; February &nbsp;2006.</span><span>)</span></a>.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of IANA.
</p>
<p>Note to RFC Editor: this section may be removed on publication as an
      RFC.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Security Considerations</h3>

<p>The security considerations that apply to any active measurement of
      live networks are relevant here as well. See <a class='info' href='#RFC4656'>[RFC4656]<span> (</span><span class='info'>Shalunov, S., Teitelbaum, B., Karp, A., Boote, J., and M. Zekauskas, &ldquo;A One-way Active Measurement Protocol (OWAMP),&rdquo; September&nbsp;2006.</span><span>)</span></a>
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgements</h3>

<p>The authors would like to thank Phil Chimento for his suggestion to
      employ the convention of conditional distributions for Delay to deal
      with packet loss, and his encouragement to "write the memo" after
      hearing "the talk" on this topic at IETF-65. We also acknowledge
      constructive comments from Alan Clark, Loki Jorgenson, Carsten Schmoll,
      and Robert Holley.
</p>
<a name="anchor54"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Appendix on Calculating the D(min) in PDV</h3>

<p>Practitioners have raised questions several questions that this
      section intends to answer:
</p>
<p>- how is this D_min calculated? Is it DV(99%) as mentioned in <a class='info' href='#Krzanowski'>[Krzanowski]<span> (</span><span class='info'>Presentation at IPPM, IETF-64, &ldquo;Jitter Definitions: What is What?,&rdquo; November&nbsp;2005.</span><span>)</span></a>?
</p>
<p>- do we need to keep all the values from the interval, then take the
      minimum? Or do we keep the minimum from previous intervals?
</p>
<p>The value of D_min used as the reference delay for PDV calculations
      is simply the minimum delay of all packets in the current sample. The
      usual single value summary of the PDV distribution is D_99.9%-ile minus
      D_min.
</p>
<p>It may be appropriate to segregate sub-sets and revise the minimum
      value during a sample. For example, if it can be determined with
      certainty that the path has changed by monitoring the Time to Live or
      Hop Count of arriving packets, this may be sufficient justification to
      reset the minimum for packets on the new path. There is also a simpler
      approach to solving this problem: use samples collected over short
      evaluation intervals (on the order of minutes). Intervals with path
      changes may be more interesting from the loss or one-way delay
      perspective (possibly failing to meet one or more SLAs), and it may not
      be necessary to conduct delay variation analysis. Short evaluation
      intervals are preferred for measurements that serve as a basis for
      troubleshooting, since the results are available to report soon after
      collection.
</p>
<p>It is not necessary to store all delay values in a sample when
      storage is a major concern. D_min can be found by comparing each new
      singleton value with the current value and replacing it when required.
      In a sample with 5000 packets, evaluation of the 99.9%-ile can also be
      achieved with limited storage. One method calls for storing the top 50
      delay singletons and revising the top value list each time 50 more
      packets arrive.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2330">[RFC2330]</a></td>
<td class="author-text"><a href="mailto:vern@ee.lbl.gov">Paxson, V.</a>, <a href="mailto:almes@advanced.org">Almes, G.</a>, <a href="mailto:mahdavi@psc.edu">Mahdavi, J.</a>, and <a href="mailto:mathis@psc.edu">M. Mathis</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2330">Framework for IP Performance Metrics</a>,&rdquo; RFC&nbsp;2330, May&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2330.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2330.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2330.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2679">[RFC2679]</a></td>
<td class="author-text"><a href="mailto:almes@advanced.org">Almes, G.</a>, <a href="mailto:kalidindi@advanced.org">Kalidindi, S.</a>, and <a href="mailto:matt@advanced.org">M. Zekauskas</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2679">A One-way Delay Metric for IPPM</a>,&rdquo; RFC&nbsp;2679, September&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2679.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2680">[RFC2680]</a></td>
<td class="author-text"><a href="mailto:almes@advanced.org">Almes, G.</a>, <a href="mailto:kalidindi@advanced.org">Kalidindi, S.</a>, and <a href="mailto:matt@advanced.org">M. Zekauskas</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2680">A One-way Packet Loss Metric for IPPM</a>,&rdquo; RFC&nbsp;2680, September&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2680.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3393">[RFC3393]</a></td>
<td class="author-text">Demichelis, C. and P. Chimento, &ldquo;<a href="http://tools.ietf.org/html/rfc3393">IP Packet Delay Variation Metric for IP Performance Metrics (IPPM)</a>,&rdquo; RFC&nbsp;3393, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3393.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3432">[RFC3432]</a></td>
<td class="author-text">Raisanen, V., Grotefeld, G., and A. Morton, &ldquo;<a href="http://tools.ietf.org/html/rfc3432">Network performance measurement with periodic streams</a>,&rdquo; RFC&nbsp;3432, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3432.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4090">[RFC4090]</a></td>
<td class="author-text">Pan, P., Swallow, G., and A. Atlas, &ldquo;<a href="http://tools.ietf.org/html/rfc4090">Fast Reroute Extensions to RSVP-TE for LSP Tunnels</a>,&rdquo; RFC&nbsp;4090, May&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4090.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4656">[RFC4656]</a></td>
<td class="author-text">Shalunov, S., Teitelbaum, B., Karp, A., Boote, J., and M. Zekauskas, &ldquo;<a href="http://tools.ietf.org/html/rfc4656">A One-way Active Measurement Protocol (OWAMP)</a>,&rdquo; RFC&nbsp;4656, September&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4656.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4737">[RFC4737]</a></td>
<td class="author-text">Morton, A., Ciavattone, L., Ramachandran, G., Shalunov, S., and J. Perser, &ldquo;<a href="http://tools.ietf.org/html/rfc4737">Packet Reordering Metrics</a>,&rdquo; RFC&nbsp;4737, November&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4737.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="COM12.D98">[COM12.D98]</a></td>
<td class="author-text">Clark, Alan., &ldquo;ITU-T Delayed Contribution COM 12 - D98, "Analysis,
          measurement and modelling of Jitter",&rdquo; January&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="Casner">[Casner]</a></td>
<td class="author-text">&ldquo;A Fine-Grained View of High Performance Networking, NANOG 22
          Conf.; http://www.nanog.org/mtg-0105/agenda.html,&rdquo; May 20-22&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="Cia03">[Cia03]</a></td>
<td class="author-text">&ldquo;Standardized Active Measurements on a Tier 1 IP Backbone,
          IEEE Communications Mag., pp 90-97.,&rdquo; June&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="Demichelis">[Demichelis]</a></td>
<td class="author-text">http://www.advanced.org/ippm/archive.3/att-0075/01-pap02.doc, &ldquo;Packet Delay Variation Comparison between ITU-T and IETF
          Draft Definitions,&rdquo; November&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="G.1020">[G.1020]</a></td>
<td class="author-text">ITU-T Recommendation G.1020, &ldquo;"Performance parameter definitions for the quality of speech
          and other voiceband applications utilizing IP networks",&rdquo; 2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="G.1050">[G.1050]</a></td>
<td class="author-text">ITU-T Recommendation G.1050, &ldquo;"Network model for evaluating multimedia transmission
          performance over Internet Protocol",&rdquo; November&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-ippm-framework-compagg">[I-D.ietf-ippm-framework-compagg]</a></td>
<td class="author-text">Morton, A., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-ippm-framework-compagg-09.txt">Framework for Metric Composition</a>,&rdquo; draft-ietf-ippm-framework-compagg-09 (work in progress), December&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-ippm-framework-compagg-09.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-ippm-spatial-composition">[I-D.ietf-ippm-spatial-composition]</a></td>
<td class="author-text">Morton, A. and E. Stephan, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-ippm-spatial-composition-11.txt">Spatial Composition of Metrics</a>,&rdquo; draft-ietf-ippm-spatial-composition-11 (work in progress), April&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-ippm-spatial-composition-11.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.morton-ippm-reporting-metrics">[I-D.morton-ippm-reporting-metrics]</a></td>
<td class="author-text">Morton, A., Ramachandran, G., and G. Maguluri, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-morton-ippm-reporting-metrics-07.txt">Reporting Metrics: Different Points of View</a>,&rdquo; draft-morton-ippm-reporting-metrics-07 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-morton-ippm-reporting-metrics-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Krzanowski">[Krzanowski]</a></td>
<td class="author-text">Presentation at IPPM, IETF-64, &ldquo;Jitter Definitions: What is What?,&rdquo; November&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="Li.Mills">[Li.Mills]</a></td>
<td class="author-text">Li, Quong. and David. Mills, &ldquo;"The Implications of Short-Range Dependency on Delay
          Variation Measurement", Second IEEE Symposium on Network Computing
          and Applications,&rdquo; 2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="Morton06">[Morton06]</a></td>
<td class="author-text">Morton, A., &ldquo;"A Brief Jitter Metrics Comparison, and not the last word, by
          any means&hellip;", Slide Presentation at IETF-65, IPPM
          Session,,&rdquo; March&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1305">[RFC1305]</a></td>
<td class="author-text"><a href="mailto:mills@udel.edu">Mills, D.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1305">Network Time Protocol (Version 3) Specification, Implementation</a>,&rdquo; RFC&nbsp;1305, March&nbsp;1992 (<a href="http://www.rfc-editor.org/rfc/rfc1305.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc1305.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3357">[RFC3357]</a></td>
<td class="author-text">Koodli, R. and R. Ravikanth, &ldquo;<a href="http://tools.ietf.org/html/rfc3357">One-way Loss Pattern Sample Metrics</a>,&rdquo; RFC&nbsp;3357, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3357.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Y.1540">[Y.1540]</a></td>
<td class="author-text">ITU-T Recommendation Y.1540, &ldquo;Internet protocol data communication service - IP packet
          transfer and availability performance parameters,&rdquo; December &nbsp;2002.</td></tr>
<tr><td class="author-text" valign="top"><a name="Y.1541">[Y.1541]</a></td>
<td class="author-text">ITU-T Recommendation Y.1540, &ldquo;Network Performance Objectives for IP-Based Services,&rdquo; February &nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="Zhang.Duff">[Zhang.Duff]</a></td>
<td class="author-text">Zhang, Yin., Duffield, Nick., Paxson, Vern., and Scott. Shenker, &ldquo;"On the Constancy of Internet Path Properties", Proceedings
          of ACM SIGCOMM Internet Measurement Workshop,,&rdquo; November&nbsp;2001.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Al Morton</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">AT&amp;T Labs</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">200 Laurel Avenue South</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Middletown,, NJ  07748</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 732 420 1571</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text">+1 732 368 1192</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:acmorton@att.com">acmorton@att.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://home.comcast.net/~acmacm/">http://home.comcast.net/~acmacm/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Benoit Claise</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">De Kleetlaan 6a b1</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Diegem,   1831</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Belgium</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+32 2 704 5622</td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:bclaise@cisco.com">bclaise@cisco.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
