







Network Working Group                                     Changqiao Xu 
Internet Draft                                                   BUPT 
Intended status: Experimental                                 Kai Gao 
Expires: April 2019                                               BUPT 
                                                           Jiuren Qin 
                                                                 BUPT 
                                                      November 5, 2018 
                                        
                   A Stochastic Optimal Scheduler for 
             Multipath Transmission Control Protocol (MPTCP) 
                      draft-xu-mptcp-sosmp-00.txt 


Status of this Memo 

   This Internet-Draft is submitted in full conformance with the 
   provisions of BCP 78 and BCP 79. 

   This document may contain material from IETF Documents or IETF 
   Contributions published or made publicly available before November 
   10, 2008. The person(s) controlling the copyright in some of this 
   material may not have granted the IETF Trust the right to allow 
   modifications of such material outside the IETF Standards Process.  
   Without obtaining an adequate license from the person(s) controlling 
   the copyright in such materials, this document may not be modified 
   outside the IETF Standards Process, and derivative works of it may 
   not be created outside the IETF Standards Process, except to format 
   it for publication as an RFC or to translate it into languages other 
   than English. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-
   Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other documents 
   at any time.  It is inappropriate to use Internet-Drafts as 
   reference material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on April 5, 2019. 



     
     
     
Xu, et al               Expires April 5, 2019                 [Page 1] 
     
Internet-Draft   MPTCP Partial Reliability Extension      November 2018 
        

Copyright Notice 

   Copyright (c) 2018 IETF Trust and the persons identified as the 
   document authors. All rights reserved. 

   This document is subject to BCP 78 and the IETF Trust's Legal 
   Provisions Relating to IETF Documents 
   (http://trustee.ietf.org/license-info) in effect on the date of 
   publication of this document. Please review these documents 
   carefully, as they describe your rights and restrictions with 
   respect to this document. Code Components extracted from this 
   document must include Simplified BSD License text as described in 
   Section 4.e of the Trust Legal Provisions and are provided without 
   warranty as described in the Simplified BSD License. 

Abstract 

   This memo presents a new stochastic optimal scheduler for the 
   Multipath Transmission Control Protocol (MPTCP). The new scheduler is 
   based on the Lyapunov optimatization technique, which can make online 
   control decision for data scheduling. Considering the payment of 
   users for different paths, this memo makes a trade off between the 
   throughput utility and the cost. The new scheduler can not only 
   satisfy the demand of service, but also minimize the cost as much as 
   possible. 

   Table of Contents 

        
   1. Introduction ................................................ 3 
      1.1. Motivation ............................................. 3 
      1.2. Overview of SOS-MPTCP .................. 3 
   2. Conventions ................................................. 3 
   3. A New Stochastic Optimal Scheduler ... 3 
      3.1. Admission Control ............................. 4 
      3.2. Packets Allocation ........................... 4 
      3.3. Purchasing Data Traffic ................. 4 
   4. Building Queue ...................................... 4 
   5. Transmission Performance and Problem Optimization ............ 5 
   6. Stochastic Optimal Scheduler ................................. 5 
   7. Security Considerations  ...................................... 5 
   8. Implementation Considerations  ................................ 5 
   9. References .................................................. 5 
      9.1. Normative References  .................................... 5 
      9.2. Informative References  .................................. 6 
   10. Acknowledgments ............................................ 6 
     
     
Xu, et al               Expires April 5, 2019                 [Page 2] 
        
Internet-Draft   MPTCP Partial Reliability Extension      November 2018 
        

        
1. Introduction 

   SOS-MPTCP is a new scheduler of MPTCP which can make online control 
   decisions for data distribution. By taking advantage of queue 
   stability, the new stochastic optimal scheduler can make a trade off 
   between the throughput utility and the cost. 

1.1. Motivation 

   The scheduler plays an important role in the data distribution. In 
   the heterogeneous wireless network, the cost of each path is quite 
   diverse and depends on the amount of packets assigned by the 
   scheduler. Traditional scheduler just focuses on the transmission 
   performance without considering the payment cost of users. This memo 
   intends to fill the gap with the Lyapunov optimatization technique. 

1.2. Overview of SOS-MPTCP 

   This demo mainly describes the new scheduler of MPTCP. The objection 
   of this scheduler is to maximize the throughput and minimize the 
   corresponding cost to different communication operators. To achieve 
   this goal, the following three important control decisions are to be 
   made: 

   o How many packets of different connections can be admitted into 
      transmission layer. 

   o How to distribute the admitted packets to all paths. 

   o How to purchase data traffic for different paths in advance. 

2. Conventions 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119 [RFC2119]. 

3. A New Stochastic Optimal Scheduler 

   A number of paths which are available are denoted by J={1,2,?j}. And 
   there are different connections I={1,2,?i} of packets with diverse 
   arrival rates from the application layer. In order to facilitate the 
   analysis, we consider the system as a discrete time-slotted model 
   divided by t={1,2,?T}. In each time slot t, a number of the ith 
   connection of packets arrive at the system randomly. Let A i(t) 

     
     
Xu, et al               Expires April 5, 2019                 [Page 3] 
        
Internet-Draft   MPTCP Partial Reliability Extension      November 2018 
        

   denote the number of data packets of connection i in time slot t. 
   The unit price of path j is denoted by p_j. 

3.1. Admission Control 

   In each time slot, a lot of packets arrive at the transmission 
   layer. To prevent the system from congestion, the admission control 
   module decides that the total number of packets noticed by A_i(t). 
   can be admitted into transmission layer. Therefore, A_i(t) SHOULD 
   less than the number of arriving packets R_i(t). 

3.2. Packets Allocation 

   After the packets of connection i are admitted into the transmission 
   layer, the packets allocation module assigns packets to each path. 
   The number of packets of type i distributed to path j in time slot t 
   is denoted as A_ij(t). And this assignment should satisfy the 
   constraint: A_i(t)=SUM_i(A_ij(t)). Each path maintains a queue for 
   each connection of packets which can be transmitted later. We define 
   the queue backlog Q_ij(t) of ith connection of packets assigned on 
   the jth path as the number of pending packets waiting in the queue. 
   We also define S_ij(t) as the number of packets which have been sent 
   successfully and acknowledged. 
3.3. Purchasing Data Traffic 

   In order to satisfy the service demand of users, they will purchase 
   data traffic in advance from the communication operator. We use   
   W_j(t) to denote the cost of paying for the path j belonging to 
   respective operator in the time slot t. The total cost of the 
   multipath transmission control system can be denoted by H_j(t) to 
   maintain the consumption for the users. 

4. Building Queue 

   According to the control framework described above, the dynamic 
   updating of queue backlog can be defined as the equation: 

                Q_ij(t+1)=max[Q_ij(t)- S_ij(t),0]+ A_ij(t) 

   Similarly, H_j(t) denotes the cost queue size of path j in the time 
   slot t. Under the control decision of purchasing data traffic, the 
   queue H_j(t) can be expressed as follows, 

               H_j(t+1)= H_j(t)- SUM_j (S_ij(t)*p_j)+ W_j(t) 


     
     
Xu, et al               Expires April 5, 2019                 [Page 4] 
        
Internet-Draft   MPTCP Partial Reliability Extension      November 2018 
        

5. Transmission Performance and Problem Optimization  

   We define the time averaged throughput SUM_i (Thr_i(t))=lim_t (1/T)  
   SUM_t E{S_i(t)}. We also define a cost utility function 
   SUM_j(W_j(t))=lim_t(1/T)SUM j(E{W_j(t))}. It is challenging to 
   tradeoff the transmission throughput and cost utility function. The 
   transmission performance depends on the throughput and cost utility. 
   Therefore, we NEED to construct an objective to take both sides into 
   consideration. 

   The problem of maximizing transmission performance is defined as  

                 Max { SUM_i (Thr_i(t)) - SUM_j (W_j(t))} 

                            s.t. Q_ij is stable 

6. Stochastic Optimal Scheduler 

   In order to solve the problem mentioned above, we design a 
   distribution approach by using Lyapunov optimization [SNO2010] which 
   contains Lyapunov draft and queue stability. The value of A_i(t), 
   A_ij(t) are calculated by the queue H(t) and Q(t). And H(t) and Q(t) 
   are updated by the calculation results. 

7. Security Considerations 

   This memo develops no new security scheme for MPTCP. SOS-MPTCP share 
   the same security issues discussed in [RFC6824] with MPTCP. 

8. Implementation Considerations 

   This approach is a new scheduler for MPTCP, which is named as 
   "stochastic". We can select the scheduler through the socket-option 
   MPTCP_SCHEDULER from the following four schedulers: "default", 
   "roundrobin", "redundant", "stochastic".  

9. References 

9.1. Normative References 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC 2119, March 1997. 





     
     
Xu, et al               Expires April 5, 2019                 [Page 5] 
        
Internet-Draft   MPTCP Partial Reliability Extension      November 2018 
        

9.2. Informative References 

   [RFC6824] Ford, A., Raiciu, C., Handley, M., and O. Bonaventure, 
             "TCP Extensions for Multipath Operation with Multiple 
             Addresses", RFC 6824, January 2013. 

   [SNO2010] M. J. Neely, Stochastic Network Optimization with 
         Application to Communication and Queueing Systems, J. Walrand, 
         Ed. San Rafael, CA,USA: Morgan & Claypool, 2010. 

10. Acknowledgments 

   This Internet Draft is the result of a great deal of constructive 
   discussion with several people, notably Tengfei Cao and Jiangzhong 
   Bai. 

   This document was prepared using 2-Word-v2.0.template.dot. 





























     
     
Xu, et al               Expires April 5, 2019                 [Page 6] 
        
Internet-Draft   MPTCP Partial Reliability Extension      November 2018 
        

Authors' Addresses 

   Changqiao Xu 
   Beijing University of Posts and Telecommunications 
   Institute of Network Technology, No. 10, Xitucheng Road, 
   Haidian District, Beijing 
   P.R. China 
          
   Email: cqxu@bupt.edu.cn 
        

   Kai Gao 
   Beijing University of Posts and Telecommunications 
   Institute of Network Technology, No. 10, Xitucheng Road, 
   Haidian District, Beijing 
   P.R. China 
          
   Email: gaokai@bupt.edu.cn 
        
        

   Jiuren Qin 
   Beijing University of Posts and Telecommunications 
   Institute of Network Technology, No. 10, Xitucheng Road, 
   Haidian District, Beijing 
   P.R. China 
          
   Email: jrqin@bupt.edu.cn 


















     
     
Xu, et al               Expires April 5, 2019                 [Page 7] 
        
