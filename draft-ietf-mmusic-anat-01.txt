

MMUSIC Working Group                                        G. Camarillo
Internet-Draft                                                  Ericsson
Expires: November 30, 2004                                  J. Rosenberg
                                                             dynamicsoft
                                                            June 1, 2004


     The Alternative Network Address Types Semantics (ANAT) for the
         Session Description Protocol (SDP) Grouping Framework
                     draft-ietf-mmusic-anat-01.txt

Status of this Memo

   By submitting this Internet-Draft, I certify that any applicable
   patent or other IPR claims of which I am aware have been disclosed,
   and any of which I become aware will be disclosed, in accordance with
   RFC 3668.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on November 30, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2004). All Rights Reserved.

Abstract

   This document defines the Alternative Network Address Types (ANAT)
   semantics for the SDP grouping framework. The ANAT semantics allow
   offering alternative types of network addresses to establish a
   particular media stream.







Camarillo & Rosenberg    Expires November 30, 2004              [Page 1]

Internet-Draft               ANAT Semantics                    June 2004


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1   Scope and Relation with ICE  . . . . . . . . . . . . . . .  3
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  ANAT Semantics . . . . . . . . . . . . . . . . . . . . . . . .  4
   4.  Preference . . . . . . . . . . . . . . . . . . . . . . . . . .  4
   5.  Offer/Answer and ANAT  . . . . . . . . . . . . . . . . . . . .  4
     5.1   ANAT and Media Configurations  . . . . . . . . . . . . . .  4
   6.  Example  . . . . . . . . . . . . . . . . . . . . . . . . . . .  5
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . .  5
   8.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  5
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . .  6
   9.1   Normative References . . . . . . . . . . . . . . . . . . . .  6
   9.2   Informational References . . . . . . . . . . . . . . . . . .  6
       Authors' Addresses . . . . . . . . . . . . . . . . . . . . . .  6
       Intellectual Property and Copyright Statements . . . . . . . .  8


































Camarillo & Rosenberg    Expires November 30, 2004              [Page 2]

Internet-Draft               ANAT Semantics                    June 2004


1.  Introduction

   An SDP [2] session description contains the media parameters to be
   used to establish a number of media streams. For a particular media
   stream, an SDP session description contains, among other parameters,
   the network addresses and the codec to be used to transfer media. SDP
   allows providing a set of codecs per media stream, but only one
   network address.

   Being able to offer a set of network addresses to establish a media
   stream is useful in environments with both IPv4-only hosts and
   IPv6-only hosts, for instance.

   This document defines the Alternative Network Address Types (ANAT)
   semantics for the SDP grouping framework [4]. The ANAT semantics
   allow expressing alternative network addresses (e.g., different IP
   versions) for a particular media stream.

1.1  Scope and Relation with ICE

   The ANAT semantics are intended to address scenarios that involve
   different network address types (e.g., different IP versions). They
   are not intended to provide alternative transport addresses with the
   same network type. Systems that need to provide different transport
   addresses with the same network type should use the SDP format
   defined in ICE (Interactive Connectivity Establishment) [6] instead.

   ICE is used by systems that cannot determine their own transport
   address as seen from the remote end but that can provide several
   possible alternatives. ICE encodes the address that is most likely to
   be valid in an m= line and the rest of addresses as a= lines after
   that m= line. This way, systems that do not support ICE simply ignore
   the a= lines and only use the address in the m= line. This achieves
   good backwards compatibility.

   We have chosen to group m= lines with different IP versions at the m=
   level (ANAT semantics) rather than at the a= level (ICE format) in
   order to keep the IPv6 syntax free from ICE parameters used for
   legacy (IPv4) NATs (Network Address Translators). This yields a
   syntax much closer to vanilla SDP, where IPv6 addresses are defined
   in their own m= line, rather than in parameters belonging to a
   different m= line.

   Additionally, ICE only allows us to provide a single primary address
   when the peer does not support ICE. The ANAT semantics avoids
   relegating addresses of a certain type (e.g., IPv6 addresses) to just
   be a secondary alternate to another address type (e.g., IPv4
   addresses).



Camarillo & Rosenberg    Expires November 30, 2004              [Page 3]

Internet-Draft               ANAT Semantics                    June 2004


   Furthermore, the separation between ANAT and ICE helps systems that
   support IPv4 and IPv6 but that do not need to support ICE (e.g., a
   multicast server).

2.  Terminology

   In this document, the key words "MUST", "MUST NOT", "REQUIRED",
   "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
   RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as
   described in BCP 14, RFC 2119 [1] and indicate requirement levels for
   compliant implementations.

3.  ANAT Semantics

   We define a new ``semantics'' attribute within the SDP grouping
   framework [4]: ANAT (Alternative Network Address Types).

   Media lines grouped using ANAT semantics provide alternative network
   addresses of different types for a single logical media stream. The
   entity creating a session description with an ANAT group MUST be
   ready to receive (or send) media over any of the grouped m lines. The
   ANAT semantics MUST NOT be used to group media streams whose network
   addresses are of the same type.

4.  Preference

   The entity generating a session description may have an order of
   preference for the alternative network address types offered. The
   identifiers of the media streams MUST be listed in order of
   preference in the group line. In the example below, the m= line with
   mid=1 has a higher preference than the m line with mid=2.


            a=group:ANAT 1 2


5.  Offer/Answer and ANAT

   An offerer using SIP [3] to send its offer SHOULD place the sdp-anat
   option-tag [5] in a Require header field.

   An answerer receiving a session description that uses the ANAT
   semantics SHOULD use the address with highest priority it understands
   and set the ports of the rest of the m= lines of the group to zero.

5.1  ANAT and Media Configurations

   The creator of a session description MAY want to use different media



Camarillo & Rosenberg    Expires November 30, 2004              [Page 4]

Internet-Draft               ANAT Semantics                    June 2004


   configurations (e.g., audio codec) for different network addresses in
   the same ANAT group. The receiver of such a session may find some of
   the m lines unacceptable. They may contain codecs that the answerer
   does not support or contain any other parameter that makes them
   unacceptable. The answerer should, following normal SIP procedures,
   set their ports to zero in the answer.

6.  Example

   The session description below contains an IPv4 address and an IPv6
   address grouped using ANAT.


      v=0
      o=bob 280744730 28977631 IN IP4 host.example.com
      s=
      t=0 0
      a=group:ANAT 1 2
      m=audio 6886 RTP/AVP 0
      c=IN IP6 2001:0600::1
      a=mid:1
      m=audio 22334 RTP/AVP 0
      c=IN IP4 192.0.2.2
      a=mid:2


7.  Security Considerations

   An attacker adding group lines using the ANAT semantics to an SDP
   session description could make an end-point use only one out of all
   the streams offered by the remote end, when the intention of the
   remote-end might have been to establish all the streams.

   An attacker removing group lines using ANAT semantics could make and
   end-point establish a higher number of media streams. If the
   end-point sends media over all of them, the session bandwidth may
   increase dramatically.

   It is thus STRONGLY RECOMMENDED that integrity protection be applied
   to the SDP session descriptions. For session descriptions carried in
   SIP [3], S/MIME is the natural choice to provide such end-to-end
   integrity protection, as described in RFC 3261. Other applications
   MAY use a different form of integrity protection.

8.  IANA Considerations

   IANA needs to register the following new ``semantics'' attribute for
   the SDP grouping framework [4]:



Camarillo & Rosenberg    Expires November 30, 2004              [Page 5]

Internet-Draft               ANAT Semantics                    June 2004


   Semantics                            Token      Reference
   -----------------------              -----      ---------
   Alternative Network Address Types    ANAT        [RFCxxxx]

   It should be registered in the SDP parameters registry (http://
   www.iana.org/assignments/sdp-parameters) under Semantics for the
   "group" SDP Attribute.

9.  References

9.1  Normative References

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", BCP 14, RFC 2119, March 1997.

   [2]  Handley, M. and V. Jacobson, "SDP: Session Description
        Protocol", RFC 2327, April 1998.

   [3]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A.,
        Peterson, J., Sparks, R., Handley, M. and E. Schooler, "SIP:
        Session Initiation Protocol", RFC 3261, June 2002.

   [4]  Camarillo, G., Eriksson, G., Holler, J. and H. Schulzrinne,
        "Grouping of Media Lines in the Session Description Protocol
        (SDP)", RFC 3388, December 2002.

   [5]  Camarillo, G. and J. Rosenberg, "The sdp-anat Session Initiation
        Protocol (SIP) Option-Tag",
        draft-camarillo-sip-anat-option-tag-00.txt (work in progress),
        April 2004.

9.2  Informational References

   [6]  Rosenberg, J., "Interactive Connectivity Establishment (ICE): A
        Methodology for Network  Address Translator (NAT) Traversal for
        Multimedia Session Establishment Protocols",
        draft-ietf-mmusic-ice-01 (work in progress), February 2004.


Authors' Addresses

   Gonzalo Camarillo
   Ericsson
   Hirsalantie 11
   Jorvas  02420
   Finland

   EMail: Gonzalo.Camarillo@ericsson.com



Camarillo & Rosenberg    Expires November 30, 2004              [Page 6]

Internet-Draft               ANAT Semantics                    June 2004


   Jonathan Rosenberg
   dynamicsoft
   600 Lanidex Plaza
   Parsippany, NJ  07054
   US

   EMail: jdrosen@dynamicsoft.com












































Camarillo & Rosenberg    Expires November 30, 2004              [Page 7]

Internet-Draft               ANAT Semantics                    June 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights. Information
   on the IETF's procedures with respect to rights in IETF Documents can
   be found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard. Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2004). This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Camarillo & Rosenberg    Expires November 30, 2004              [Page 8]

