



DOTS                                                             M. Chen
Internet-Draft                                                    Li. Su
Intended status: Informational                                 Jin. Peng
Expires: May 3, 2020                                                CMCC
                                                        October 31, 2019


                  A method for dots server deployment
           draft-chen-dots-server-hierarchical-deployment-01

Abstract

   As DOTS is used for DDoS Mitigation signaling, in practice, there are
   different deployment scenarios for DOTS agents deployment depending
   on the network deployment mode.  This document made an accommandation
   for DOTS Server deployment which may be Suitable for ISP.  The goal
   is to provide some guidance for DOTS agents deployment.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 3, 2020.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of




Chen, et al.               Expires May 3, 2020                  [Page 1]

Internet-Draft     dots server hierarchical deployment      October 2019


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  DOTS server Considerations  . . . . . . . . . . . . . . . . .   3
   4.  DOTS server deployment inside an ISP  . . . . . . . . . . . .   4
     4.1.  DOTS Agents Deployment  . . . . . . . . . . . . . . . . .   4
     4.2.  DOTS Agents interfaces  . . . . . . . . . . . . . . . . .   5
       4.2.1.  Bandwidth consuming attack  . . . . . . . . . . . . .   6
       4.2.2.  Host resource consuming attack  . . . . . . . . . . .   6
   5.  DOTS server deployment between ISPs . . . . . . . . . . . . .   7
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   8.  Acknowledgement . . . . . . . . . . . . . . . . . . . . . . .   7
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   8
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .   8
     9.2.  Informative References  . . . . . . . . . . . . . . . . .   8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   DDoS Open Threat Signaling (DOTS) is a protocol to standardize real-
   time signaling, threat-handling
   requests[I-D.ietf-dots-signal-channel], when attack target is under
   attack, dots client send mitigation request to dots server for help,
   If the mitigation request contains enough messages of the attack,
   then the mitigator can respond very effectively.

   In the architecture draft[I-D.ietf-dots-architecture], when comes to
   the deployment topic, it says this does not necessarily imply that
   the attack target and the DOTS client have to be co-located in the
   same administrative domain, but it is expected to be a common
   scenario.  Although co-location of DOTS server and mitigator within
   the same domain is expected to be a common deployment model, it is
   assumed that operators may require alternative models.

   In the DOTS server discovery draft[I-D.ietf-dots-server-discovery],
   it is says that a key point in the deployment of DOTS is the ability
   of network operators to be able to onfigure DOTS clients with the
   correct DOTS server(s) nformation consistently.

   In the DOTS multihoming draft[I-D.ietf-dots-multihoming], it provides
   deployment recommendations for DOTS client and DOTS gateway, it is
   says when conveying a mitigation request to protect the attack
   target, the DOTS client among the DOTS servers available Must select



Chen, et al.               Expires May 3, 2020                  [Page 2]

Internet-Draft     dots server hierarchical deployment      October 2019


   a DOTS server whose network has assigned the prefixes from which
   target prefixes and target IP addresses are derived.  This implies
   that id no appropriate DOTS server is found, the DOTS client must not
   send the mitigation request to any DOTS server.  So in this document,
   we give some dots server deployment consideration as the title
   suggests we prefer hierarchical deployment.

   This is DOTS server deployment guidance for operators, We've written
   about our experience as an ISP, and we hope that other scenarios will
   contribute as well.

2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   [RFC2119]

   The readers should be familiar with the terms defined in
   [I-D.ietf-dots-requirements] [I-D.ietf-dots-use-cases]

   The terminology related to YANG data modules is defined in [RFC7950]

   In addition, this document uses the terms defined below:

   dots svr:  abbreviation of dots server.

   ISP:  Internet service provider.

   Orchestrator:  With the function of DOTS server that can receive
      messages from clients and made decisions for mitigators selection.

   netflow/ipfix collector:  Flow collector used for DDoS attack
      detection.

3.  DOTS server Considerations

   When take dots server deployment into consideration, one thing must
   be involved is mitigator.so far, how many network devices can play
   the role of mitigator, we make a summerized list as follows:

   o  Router.

   o  Special cleaning equipment, such as Flow clean device and clean
      center.

   o  Network security equipment, such as firewall,IPS and WAF.




Chen, et al.               Expires May 3, 2020                  [Page 3]

Internet-Draft     dots server hierarchical deployment      October 2019


   Whether DOTS server can be deployed, the following conditions need to
   be met:

   o  DOTS server and mitigator are in the same administrative domain

   o  DOTS server can go directly to the mitigator which had best go
      through without any other DOTS agents

   o  DOTS server has the permissions for scheduling and operations on
      mitigator

   o  DOTS server has the ability to know the address of attack target
      belong to which mitigator

4.  DOTS server deployment inside an ISP

4.1.  DOTS Agents Deployment

   From the internal structure of ISP, the whole network can divide into
   three parts logically.  There are three most important routers:
   backbone router, man(metropolitan area network) router, and IDC
   router.  When a ddos attack occurs, it must be one of the three cases
   as follows, and the corresponding mitigator will responsible for
   mitigation.

   o  only the lan network detected the attack, dots server3 will
      receive mitigation request, and mitigator3 will act as the first
      responsible mitigator.

   o  only the man network detected the attack, dots server2 will
      receive mitigation request, then mitigator2 will act as the first
      responsible mitigator.

   o  only the backbone network detected the attack, dots server1 will
      receive mitigation request, then mitigator1 will act as the first
      responsible mitigator.

   o  Attacks on the same attack target are found both in adjacent
      areas, the lower network mitigator will act as the first
      responsible mitigator. for example, dots server1 and dots server2
      both received the mitigation request from attack target by dots
      client, mitigator2 will responsible for ddos disposition(priority
      ranking: mitigator3, mitigator2, mitigator1).

   Normally, The lower network the target in, the easier it is to alert.
   Because the higher network the attack target in, the greater the
   bandwidth of the pipeline.  As shown in the following figure,
   Orchestrator take on the role for scheduling.  Because the importance



Chen, et al.               Expires May 3, 2020                  [Page 4]

Internet-Draft     dots server hierarchical deployment      October 2019


   of the orchestrator, it is suggested to consider bakeup mechanisms to
   ensure continuity and security.

   How does DOTS client can find DOTS servers, we can reference the DOTS
   server discovery draft[I-D.ietf-dots-server-discovery], Static
   configuration or dynamic discovery depends on the actual scenario and
   the size of the network.

                                +---------+
                                |other ISP|
                                +---------+
                        .........|..........................
                                 |         backbone network
                 +---------------+     +----------+
                 |backbone router|-----|mitigator1|
                 +---------------+     +----------+
                    |dots svr1|
                    +---------+
               ..........|.................................
                         |       metropolitan area network
                   +----------+       +----------+
                   |man router|-------|mitigator2|
                   +----------+       +----------+
                    |dots svr2|
                    +---------+
               ..........|.................................
                         |       local area network
                   +----------+      +----------+
                   |IDC router|------|mitigator3|
                   +----------+      +----------+
                    |dots svr3|
                    --------------
                    |Orchestrator|
                    +------------+
                         |
                         |
                   +-----------+    +-----------------------+   +-------------+
                   |dots client|----|netflow/ipfix collector|---|attack target|
                   +-----------+    +-----------------------+   +-------------+


                     Figure 1: DOTS Server Deployment

4.2.  DOTS Agents interfaces

   In the dots use case draft[I-D.ietf-dots-use-cases], it is says the
   orchestrator analyses the various information it receives from DDoS
   telemetry system, and initiates one or multiple DDoS mitigation



Chen, et al.               Expires May 3, 2020                  [Page 5]

Internet-Draft     dots server hierarchical deployment      October 2019


   strategies.  In the telemetry draft, all the telemetry informations
   are contained and some parameters can be used to make decisions.
   This section made a discussion on which attributes could be used in
   orchestrator for scheduling and the orchestrator's ability. to know
   all the related mitigators capability and residue capability.

   We suggest orchestrator has three capabilities and reuse the method
   of registration and notification in signal channel:

   1.Can get the neflow/ipfix collector's telemetry informations.

   2.Can get the capabilities of each mitigator, it means the initial
   capacity, this means that with each addition of mitigator there needs
   to be a protocol that can push this information to orchestrator, we
   recommend using DOTS signal channel to transfer initial capacity.

   3.When mitigation finished, mitigator can inform orchestrator that
   mitigation is finished and capacity has been released, also we
   recommend using DOTS signal channel to transfer.

4.2.1.  Bandwidth consuming attack

   The following parameters will be required by orchestrator:

   o  top-talker

   o  source-prefix

   o  total-traffic

   o  total-attack-traffic

   o  total-pipe-capability

   The recommended approach here is to redirect traffic and flow
   cleaning.

4.2.2.  Host resource consuming attack

   The following parameters will be required by orchestrator:

   o  top-talker

   o  source-prefix

   The recommended approach here is to use router for disposition.





Chen, et al.               Expires May 3, 2020                  [Page 6]

Internet-Draft     dots server hierarchical deployment      October 2019


5.  DOTS server deployment between ISPs

   The coexistence of different operators is very common, coordination
   between operators across networks is very important.  Interdomain
   attacks occur frequently, We recommend deploying the DOTS server at
   the access point

   o  DDoS attack from one of other ISPs, for example, ISP A received
      DDoS attack from ISP B or ISP C, then dots server C or dots server
      B will receive the mitigation request.

   o  DDOS attack from two or more of other ISPs,for example, ISP A and
      ISP B both start ddos attack to ISP C, then dots server A and dots
      server B will both receive mitigation request from dots client C.

                                  +-------------+        +-------------+
                                  |    ISP A    |--------|    ISP B    |
                                  | +---------+ |        | +---------+ |
                                  | |dots svrA| |        | |dots svrB| |
                                  +-------------+        +-------------+
                                      |                           |
                                      +-------------+-------------+
                                        |
                                 +-------------+
                                 |    ISP C    |
                                 | +---------+ |
                                 | |dots svrC| |
                                 +-------------+


                     Figure 2: DOTS Server Deployment2

6.  Security Considerations

   TBD

7.  IANA Considerations

   TBD

8.  Acknowledgement

   TBD








Chen, et al.               Expires May 3, 2020                  [Page 7]

Internet-Draft     dots server hierarchical deployment      October 2019


9.  References

9.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC7950]  Bjorklund, M., Ed., "The YANG 1.1 Data Modeling Language",
              RFC 7950, DOI 10.17487/RFC7950, August 2016,
              <https://www.rfc-editor.org/info/rfc7950>.

9.2.  Informative References

   [I-D.ietf-dots-architecture]
              Mortensen, A., K, R., Andreasen, F., Teague, N., and R.
              Compton, "Distributed-Denial-of-Service Open Threat
              Signaling (DOTS) Architecture", draft-ietf-dots-
              architecture-14 (work in progress), May 2019.

   [I-D.ietf-dots-multihoming]
              Boucadair, M., K, R., and W. Pan, "Multi-homing Deployment
              Considerations for Distributed-Denial-of-Service Open
              Threat Signaling (DOTS)", draft-ietf-dots-multihoming-02
              (work in progress), July 2019.

   [I-D.ietf-dots-requirements]
              Mortensen, A., K, R., and R. Moskowitz, "Distributed
              Denial of Service (DDoS) Open Threat Signaling
              Requirements", draft-ietf-dots-requirements-22 (work in
              progress), March 2019.

   [I-D.ietf-dots-server-discovery]
              Boucadair, M. and R. K, "Distributed-Denial-of-Service
              Open Threat Signaling (DOTS) Agent Discovery", draft-ietf-
              dots-server-discovery-05 (work in progress), August 2019.

   [I-D.ietf-dots-signal-channel]
              K, R., Boucadair, M., Patil, P., Mortensen, A., and N.
              Teague, "Distributed Denial-of-Service Open Threat
              Signaling (DOTS) Signal Channel Specification", draft-
              ietf-dots-signal-channel-38 (work in progress), October
              2019.







Chen, et al.               Expires May 3, 2020                  [Page 8]

Internet-Draft     dots server hierarchical deployment      October 2019


   [I-D.ietf-dots-use-cases]
              Dobbins, R., Migault, D., Moskowitz, R., Teague, N., Xia,
              L., and K. Nishizuka, "Use cases for DDoS Open Threat
              Signaling", draft-ietf-dots-use-cases-20 (work in
              progress), September 2019.

Authors' Addresses

   Meiling Chen
   CMCC
   32, Xuanwumen West
   BeiJing , BeiJing   100053
   China

   Email: chenmeiling@chinamobile.com


   Li Su
   CMCC
   32, Xuanwumen West
   BeiJing   100053
   China

   Email: suli@chinamobile.com


   Jin Peng
   CMCC
   32, Xuanwumen West
   BeiJing   100053
   China

   Email: pengjin@chinamobile.com


















Chen, et al.               Expires May 3, 2020                  [Page 9]
