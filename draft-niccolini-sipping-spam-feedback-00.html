<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Spam feedback for SIP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Spam feedback for SIP">
<meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, SPIT, SPam over Internet Telephony, Feedback">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">SIPPING Working Group</td><td class="header">S. Niccolini</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">NEC</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">K. Fischer</td></tr>
<tr><td class="header">Expires: August 18, 2008</td><td class="header">Siemens Enterprise Communications</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">D. Wing</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Cisco System, Inc.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Stiemerling</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">NEC</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">H. Tschofenig</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">February 15, 2008</td></tr>
</table></td></tr></table>
<h1><br />Spam feedback for SIP<br />draft-niccolini-sipping-spam-feedback-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 18, 2008.</p>

<h3>Abstract</h3>

<p>
         This document gives on overview of possible mechanisms for SIP UAs to
         feedback spam information to the system (e.g. other SIP entities like
         upstream SIP proxies) thus they can use this information for handling
         subsequent calls (e.g. blacklist the caller, input this info to
         reputation systems, compute spam-specific caller statistics, etc.).
         
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#spam-feedback-ua">2.</a>&nbsp;
SIP Spam Feedback: sending
      operations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#spam-feedback-alternatives">2.1.</a>&nbsp;
Alternatives for
        sending spam feedbacks<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#byeheader-abnf">2.1.1.</a>&nbsp;
ABNF<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#event-package-usage">2.1.2.</a>&nbsp;
Event package usage<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#event-overview">2.1.2.1.</a>&nbsp;
Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#subscribe-behavior">2.1.2.2.</a>&nbsp;
Subscribe behavior<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#notify-behavior">2.1.2.3.</a>&nbsp;
Notify behavior<br />
<a href="#spam-feedback-proxy">3.</a>&nbsp;
SIP Spam Feedback: system operations<br />
<a href="#pros-cons">4.</a>&nbsp;
Advantages and disadvantages of alternatives<br />
<a href="#spam-additional">5.</a>&nbsp;
Additional considerations of feedback operations<br />
<a href="#security">6.</a>&nbsp;
Security Considerations<br />
<a href="#iana">7.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>For the purpose of SPIT prevention it would be nice to have a
         mechanism for users to report the fact that they received a spam call.
         For example, a button on the user interface of the client (either
         hardware or software) might empower callees to inform the system
         that a particular caller initiated a spam call to the callee (see
         also <a class='info' href='#RFC5039'>[RFC5039]<span> (</span><span class='info'>Rosenberg, J. and C. Jennings, &ldquo;The Session Initiation Protocol (SIP) and Spam,&rdquo; January&nbsp;2008.</span><span>)</span></a>).
         This information can be used in many ways depending on the
         configuration of the system and on user preferences (e.g. can be
         used to add the caller to the callee's personal black list, to
         inform a reputation system, to apply particular call handling to
         subsequent calls of such caller either making him solving a CAPTCHA
         before initiating new calls or making him solving a computational
         puzzle, etc.).
         The discussion on how to use the user feedback depending on the
         configuration of the system and on user preferences is out of the
         scope of this document.
         The scope of this document is to highlight possible alternatives
         how this feedback should be delivered to the system in order to
         make a decision how this feedback should be implemented.
         
</p>
<a name="spam-feedback-ua"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
SIP Spam Feedback: sending
      operations</h3>

<p>A UA generates a spam feedback after the user press the "spam"
        button.
        The spam feedback SHOULD carry information about the call and its
        originator. Information that are redundant SHOULD be avoided.
        Such information are taken into account by the system in order to
        apply different policies depending on system configuration
        or on user preferences.
         
        Examples of information about the call are, but not limited to, listed
        here:
          </p>
<ul class="text">
<li>
            caller SIP URI;
            
</li>
<li>
            callee SIP URI;
            
</li>
<li>
            Call-ID;
            
</li>
<li>
            call start time (exact definition of call start time has to be included);
            
</li>
<li>
            call end time (exact definition of call start time has to be included);
            
</li>
<li>
            caller signaling contact address (IP address and port);
            
</li>
<li>
            callee signaling contact address (IP address and port);
            
</li>
<li>
            caller media address (IP address and port);
            
</li>
<li>
            callee media address (IP address and port);
            
</li>
<li>
            Path Information (Via, Route, Record-Route, Path headers);
            
</li>
<li>
            Alert-Info (if present in the request);
            
</li>
<li>
            etc. (to be defined).
            
</li>
</ul><p>
        
</p>
<a name="spam-feedback-alternatives"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Alternatives for
        sending spam feedbacks</h3>

<p>
          The authors envision two alternatives to implement the spam feedback:
            </p>
<ul class="text">
<li>
              using an additional header is inserted the BYE message, which is already
              generated by the UA;
              
</li>
<li>
              using an event package for spam feedbacks (to be defined), the system (e.g.
              a SIP proxy) SUSCRIBE to UA spam feedback service, the UA NOTIFY the
              system each time the "spam" button is pressed by the user.
              
</li>
</ul><p>
          Both methods have pros and cons. Discussion about which is the best alternative
          for the purpose of sending spam feedbacks should take place in the SIPPING WG.
          
</p>
<a name="byeheader-abnf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.1"></a><h3>2.1.1.&nbsp;
ABNF</h3>

<p>
            ABNF using the ABNF syntax of <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a>. Such ABNF can be used
            to define the additional header of the BYE message or the body of the NOTIFY
            message.
              </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Spam              = "Spam" HCOLON spam-value
                    ; examples:
                    ;  Spam: 1; To: Bob &lt;sip:bob@biloxi.com&gt;;
                    ;  From: Alice &lt;sip:alice@atlanta.com&gt;;
                    ;   tag=1928301774;
                    ;  Call-ID: a84b4c76e66710@pc33.atlanta.com
                    ;  ...
spam-value        = 1 *(SEMI spam-params)
spam-params       = To / From / Call-ID /
                    Call-start-val / Call-end-val /
                    Caller-sign-val / Callee-sign-val /
                    Caller-media-val / Callee-media-val /
                    Via / Route / Record-Route /
                    Alert-Info / ...
Call-start-val    = "Call-start" EQUAL date
Call-end-val      = "Call-end" EQUAL date
Caller-sign-val   = "Caller-sign" EQUAL hostport
Callee-sign-val   = "Callee-sign" EQUAL hostport
Caller-media-val  = "Caller-media" EQUAL hostport
Callee-media-val  = "Callee-media" EQUAL hostport

               Figure 1: ABNF
</pre></div><p>


            
</p>
<a name="event-package-usage"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.2"></a><h3>2.1.2.&nbsp;
Event package usage</h3>

<a name="event-overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.2.1"></a><h3>2.1.2.1.&nbsp;
Overview</h3>

<p>
            <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> specifies an extension to SIP providing an extensible
            framework by which SIP nodes can request notification from remote nodes indicating
            that certain events have been occurred. This framework can be applied to realize an
            notification mechanism of spam feedback from a SIP UA towards a server like a SIP
            proxy. A server interested in feedback if a call is considered as spit / spam by the
            user, subscribes to the new defined event package 'spam-feedback' at the SIP UA. After
            the user has pressed the "spam" button, the SIP UA notifies the server about the spam
            call. The NOTIFY message includes also some information to correlate the feedback
            with a specific call and to provide additional information.
            <a class='info' href='#fig-event-call-flow'>Figure&nbsp;1<span> (</span><span class='info'>Overview call flow spam feedback event mechanism</span><span>)</span></a> depicts the general call flow, which is
            explained in the following sections. Call signaling specific messages like INVITE, 18x
            or 200 responses are omitted from the figure for simplicity.
            
</p><br /><hr class="insert" />
<a name="fig-event-call-flow"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                           SIP proxy /
           SIP UA                         SPAM server
             |                                |
             |   SUBSCRIBE ('spam-feedback')  |
             |&lt;-------------------------------|
             |                                |
             |             200                |
             |-------------------------------&gt;|
             |                                |
             |    NOTIFY ('spam-feedback')    |
             |-------------------------------&gt;|
             |                                |
             |             200                |
             |&lt;-------------------------------|
 spam button |                                |
   pressed   |                                |
     -------&gt;|                                |
             |    NOTIFY ('spam-feedback')    |
             |-------------------------------&gt;|
             |                                |
             |             200                |
             |&lt;-------------------------------|
             |                                |
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Overview call flow spam feedback event mechanism&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="subscribe-behavior"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.2.2"></a><h3>2.1.2.2.&nbsp;
Subscribe behavior</h3>

<p>
            A SPAM / SIP server interested in spam feedback from a SIP UA sends a SUBSCRIBE
            request to the dedicated SIP UA. The request contains a Event header indicating that
            the 'spam-feedback' event package shall be subscribed. The request may contain also an
            Expires header indicating the duration of the subscription. If no Expires header is
            present, the subscription has an unlimited duration. At any time before a subscription
            expires, the subscriber may refresh the timer on such a subscription by sending
            another SUBSCRIBE request on the same dialog as the existing subscription.
            
</p>
<p>
            On receipt of a SUBSCRIBE request the SIP UA should check that the event package
            specified in the Event header is understood. If not, a "489 Bad Event" response should
            be returned. The SIP UA should check if the requesting server is authorized to
            subscribe to the event package. Prior to authorization the SIP UA needs to
            authenticate the server. One way achieving this is to use a TLS connection to the
            spam / SIP server, which might be already established to protect SIP registration and
            call signaling. Usually, the server is authenticated during TLS handshake, e.g. by a
            X.509 certificate, whereas the SIP UA is authenticated by SIP digest (<a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#RFC2617'>[RFC2617]<span> (</span><span class='info'>Franks, J., Hallam-Baker, P., Hostetler, J., Lawrence, S., Leach, P., Luotonen, A., and L. Stewart, &ldquo;HTTP Authentication: Basic and Digest Access Authentication,&rdquo; June&nbsp;1999.</span><span>)</span></a>) on top of TLS. TLS provides also
            additional security properties, which addresses the security considerations of
            <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> (please refer to <a class='info' href='#security'>Section&nbsp;6<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>).
            
</p>
<p>
            Based on the configured policy the SIP UA accepts the SUBSCRIBE request by sending a
            200 response, temporarily accepts the request with a 202 response or declines it by
            sending a non 200 class response like "403 Forbidden" or "603 Declined".
            
</p>
<a name="notify-behavior"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1.2.3"></a><h3>2.1.2.3.&nbsp;
Notify behavior</h3>

<p>
            After the SIP UA has accepted the subscription, a NOTIFY message is sent directly after
            the 200 response to indicate the initial state. The NOTIFIY Event header contains the
            'spam-feedback' package name. The body should be empty, because no spam feedback needs
            to be notified initially. The NOTIFY message is sent over the already established TLS
            connection.
            
</p>
<p>
            When a user receives a call considered as spam, he presses the "spam" button, which
            initiates a new NOTIFY message from the UA to the server. In contrast to the
            initial NOTIFY message, the body contains information about the call and its
            originator. Such information are taken into account by the spam system in order to
            apply different policies depending on system configuration or on user preferences.
            Refer to <a class='info' href='#spam-feedback-ua'>Section&nbsp;2<span> (</span><span class='info'>SIP Spam Feedback: sending       operations</span><span>)</span></a> for a
            list of carried information.
            
</p>
<p>
            [[Note: The concrete specification of the 'spam-feedback' event package will be added
            in a future version.]]
            
</p>
<a name="spam-feedback-proxy"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
SIP Spam Feedback: system operations</h3>

<p>
         The system (e.g. a SIP proxy) that receives a notification of a certain call being
         spam should apply the policies defined in the system configuration and in the user
         preferences in order to handle subsequent calls coming from that caller.
         Examples of behavior include:
           </p>
<ul class="text">
<li>
             insert the caller in the callee's personal blacklist;
             
</li>
<li>
             input the feedback to a reputation system computing the reputation of the
             callers;
             
</li>
<li>
             configure the system to apply particular actions on subsequent calls initiated
             by such a caller (e.g. route to voicemail, challenge with a CAPTCHA, challenge
             with a computational puzzle, etc.)
             
</li>
</ul><p>
         
</p>
<a name="pros-cons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Advantages and disadvantages of alternatives</h3>

<p>We provide here a list of advantages and disadvantages in order to stimulate discussion
        on which technique should be used to send feedback.
</p>
<p>Advantages for using BYE are:
          </p>
<ul class="text">
<li>the mechanism can piggyback on a message that is already present and that the UA is
            sending anyway;
</li>
<li>it gives users a positive feeling/knowledge (if realized using a special button) that
            there is a special entity in the network that takes care of spam information (other than
            the proxy only) and (theoretically) will do something useful with it.
</li>
</ul><p>
        
</p>
<p>Disadvantages for using BYE are:
          </p>
<ul class="text">
<li>the mechanisms has to be piggybacked on the BYE; this means the user has to decide
            if the call is spam at the same time the user terminates the call. This could be difficult
            with some user interfaces;
</li>
<li>the feedback information can in principle be routed upstream to a SIP proxy that can
            make use of it (if the sender proxy is the one controlled by the spammer this would mean
            giving him information on how the call was evaluated). Thus it is necessary to strip
            feedback information when the BYE leaves the caller's administrative domain (this puts
            additional load on the proxy). Failure to strip that information will allow the caller
            to realize if their call was marked as spam by the called party (privacy and security risk).
</li>
</ul><p>
        
</p>
<p>Advantages for using NOTIFY are:
          </p>
<ul class="text">
<li>feedback information is sent only to SIP proxy or other special devices that are the
            intended recipients of such a message and that can make use of it;
</li>
<li>it can be delivered after the BYE (e.g. using a special dialing sequence;
</li>
<li>there is no need to require header stripping at the network administrative boundary;
</li>
<li>it is easier (with respect ot the usage of BYE) to authorize the mechanisms;
</li>
<li>it gives users a positive feeling/knowledge that there is a special entity in the network
            that takes care of spam information (other than the proxy only) and (theoretically) will do
            something useful with it
</li>
</ul><p>
        
</p>
<p>Disadvantages for using NOTIFY are:
          </p>
<ul class="text">
<li>it requires an additional message;
</li>
<li>it requires additional infrastructural devices to be deployed (even if their introduction
            would not be too difficult since they are orthogonal to the signalling path).
</li>
</ul><p>
        
</p>
<p>From a first analysis the usage of NOTIFY seems to be preferred but it is up to discussion
        in the community to reach consensus on this topic.
</p>
<a name="spam-additional"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Additional considerations of feedback operations</h3>

<p>
         This document does not address important considerations on how and if the system (e.g. the SIP
         proxy serving the UA that received the spam call) should pass the information of a certain
         call being spam to other upstream proxies (e.g. to the SIP proxy in the originating domain).
         Such considerations are out of the scope of this document.
         The authors envision that such discussion should take place in another draft and investigate
         if additional headers or error messages should be defined to report upstream proxies about
         a call being considered spam by a certain domain or not. Also passing spam scoring information
         to upstream proxies is a possibility that should be considered in such draft and the appropriate
         security considerations shold be applied. 
         
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>
         Some session requests may be spam for some users but not for others,
         it should be clear that the feedback is not providing a general
         security assessment of the call being spam or of the caller being abusive,
         but a personal one.
         The system should process spam feedbacks preserving normal operations
         for all users without letting some "mafia" users exploiting this
         mechanism to create DoS attacks denying users to call. The feedback
         message should be therefore challenged and authentication mechanisms
         should be applied. Also if the spam feedback is used to blacklist
         caller or entire domains, it should be used very carefully.
         
</p>
<p>
         The security considerations described in <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> are inherited and need
         also be considered by applying the general notification framework  for spam feedback.
         Most of the security threats are directly addressed by an authenticated TLS
         connection between the notifier and the subscriber.
         
</p>
<p>
         [[Note: Additional text regarding each threat of RFC 3265 is added in a later version
         ]]
         
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>
         [[This section will be completed in a later version of this document.]]

         
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3265">[RFC3265]</a></td>
<td class="author-text">Roach, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3265">Session Initiation Protocol (SIP)-Specific Event Notification</a>,&rdquo; RFC&nbsp;3265, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3265.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2617">[RFC2617]</a></td>
<td class="author-text"><a href="mailto:john@math.nwu.edu">Franks, J.</a>, <a href="mailto:pbaker@verisign.com">Hallam-Baker, P.</a>, <a href="mailto:jeff@AbiSource.com">Hostetler, J.</a>, <a href="mailto:lawrence@agranat.com">Lawrence, S.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, Luotonen, A., and <a href="mailto:stewart@OpenMarket.com">L. Stewart</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2617">HTTP Authentication: Basic and Digest Access Authentication</a>,&rdquo; RFC&nbsp;2617, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2617.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2617.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2617.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5039">[RFC5039]</a></td>
<td class="author-text">Rosenberg, J. and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc5039">The Session Initiation Protocol (SIP) and Spam</a>,&rdquo; RFC&nbsp;5039, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5039.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Saverio Niccolini</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NEC Laboratories Europe, NEC Europe Ltd.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kurfuersten-Anlage 36</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Heidelberg  69115</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 (0) 6221 4342 118</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:saverio.niccolini@nw.neclab.eu">saverio.niccolini@nw.neclab.eu</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.nw.neclab.eu">http://www.nw.neclab.eu</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kai Fischer</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Siemens Enterprise Communications GmbH & Co. KG</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Schertlinstr. 8</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Munich  81379</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 (0) 89 722-37360</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:kai.fischer@siemens.com">kai.fischer@siemens.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dan Wing</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco System, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 West Tasman Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, CA  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dwing@cisco.com">dwing@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martin Stiemerling</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">NEC Laboratories Europe, NEC Europe Ltd.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kurfuersten-Anlage 36</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Heidelberg  69115</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 (0) 6221 4342 113</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:stiemerling@nw.neclab.eu">stiemerling@nw.neclab.eu</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.nw.neclab.eu">http://www.nw.neclab.eu</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hannes Tschofenig</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Otto-Hahn-Ring 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Munich, Bavaria  81739</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Hannes.Tschofenig@nsn.com">Hannes.Tschofenig@nsn.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
