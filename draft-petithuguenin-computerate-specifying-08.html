<!DOCTYPE html>
<html lang="en" class="Internet-Draft ">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>The Computerate Specifying Paradigm</title>
<meta content="Marc Petit-Huguenin" name="author">
<meta content="
       This document specifies a paradigm named Computerate Specifying, designed to simultaneously document and formally specify communication protocols.
This paradigm can be applied to any document produced by any Standard Developing Organization (SDO), but this document targets specifically documents produced by the IETF. 
    " name="description">
<meta content="xml2rfc 3.7.0" name="generator">
<meta content="draft-petithuguenin-computerate-specifying-08" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.7.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.4
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.25.1
    setuptools 56.0.0
    six 1.15.0
-->
<link href="/tmp/draft-petithuguenin-computerate-specifying-08.rfc-7k_awsja.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Computerate Specifying</td>
<td class="right">April 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Petit-Huguenin</td>
<td class="center">Expires 27 October 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-petithuguenin-computerate-specifying-08</dd>
<dt class="label-">:</dt>
<dd></dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-04-25" class="published">25 April 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-10-27">27 October 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Petit-Huguenin</div>
<div class="org">Impedance Mismatch LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">The Computerate Specifying Paradigm</h1>
<div id="_3ad6c6c4-48bb-43de-8a1d-7212f5699c6a">
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<div id="_f692efba-5ede-4922-94ad-1dee2e972770">
<p id="section-abstract-1">This document specifies a paradigm named Computerate Specifying, designed to simultaneously document and formally specify communication protocols.
This paradigm can be applied to any document produced by any Standard Developing Organization (SDO), but this document targets specifically documents produced by the IETF.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 27 October 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview" class="xref">Overview</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-private-specifications" class="xref">Private Specifications</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-private-specifications-for-" class="xref">Private Specifications for New Documents</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-private-specifications-for-e" class="xref">Private Specifications for Existing Documents</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-self-contained-specificatio" class="xref">Self-Contained Specifications</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-pdu-descriptions" class="xref">PDU Descriptions</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="xref">5.1.1</a>.  <a href="#name-pdu-examples" class="xref">PDU Examples</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="xref">5.1.2</a>.  <a href="#name-calculations-from-pdu" class="xref">Calculations from PDU</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.1.2.3">
                    <p id="section-toc.1-1.5.2.1.2.3.1"><a href="#section-5.1.3" class="xref">5.1.3</a>.  <a href="#name-pdu-representations" class="xref">PDU Representations</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-state-machines" class="xref">State Machines</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="xref">5.3</a>.  <a href="#name-proofs" class="xref">Proofs</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="xref">5.3.1</a>.  <a href="#name-wire-type-vs-semantic-type" class="xref">Wire Type vs Semantic Type</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="xref">5.3.2</a>.  <a href="#name-data-format-conversion" class="xref">Data Format Conversion</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.3">
                    <p id="section-toc.1-1.5.2.3.2.3.1"><a href="#section-5.3.3" class="xref">5.3.3</a>.  <a href="#name-postels-law" class="xref">Postel's Law</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.4">
                    <p id="section-toc.1-1.5.2.3.2.4.1"><a href="#section-5.3.4" class="xref">5.3.4</a>.  <a href="#name-implementability" class="xref">Implementability</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.5">
                    <p id="section-toc.1-1.5.2.3.2.5.1"><a href="#section-5.3.5" class="xref">5.3.5</a>.  <a href="#name-termination" class="xref">Termination</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.5.2.3.2.6">
                    <p id="section-toc.1-1.5.2.3.2.6.1"><a href="#section-5.3.6" class="xref">5.3.6</a>.  <a href="#name-liveness" class="xref">Liveness</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-importing-specifications" class="xref">Importing Specifications</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-common-modules" class="xref">Common Modules</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-generating-asciidoc" class="xref">Generating AsciiDoc</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="xref">6.1.2</a>.  <a href="#name-common-data-types" class="xref">Common Data Types</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.3">
                    <p id="section-toc.1-1.6.2.1.2.3.1"><a href="#section-6.1.3" class="xref">6.1.3</a>.  <a href="#name-calculations" class="xref">Calculations</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.4">
                    <p id="section-toc.1-1.6.2.1.2.4.1"><a href="#section-6.1.4" class="xref">6.1.4</a>.  <a href="#name-typed-petri-nets" class="xref">Typed Petri Nets</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.4.2.1">
                        <p id="section-toc.1-1.6.2.1.2.4.2.1.1"><a href="#section-6.1.4.1" class="xref">6.1.4.1</a>.  <a href="#name-building-a-typed-petri-net" class="xref">Building a Typed Petri Net</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.4.2.2">
                        <p id="section-toc.1-1.6.2.1.2.4.2.2.1"><a href="#section-6.1.4.2" class="xref">6.1.4.2</a>.  <a href="#name-verifying-a-typed-petri-net" class="xref">Verifying a Typed Petri Net</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.4.2.3">
                        <p id="section-toc.1-1.6.2.1.2.4.2.3.1"><a href="#section-6.1.4.3" class="xref">6.1.4.3</a>.  <a href="#name-deriving-a-type-from-a-type" class="xref">Deriving a Type from a Typed Petri Net</a></p>
</li>
                    </ul>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.5">
                    <p id="section-toc.1-1.6.2.1.2.5.1"><a href="#section-6.1.5" class="xref">6.1.5</a>.  <a href="#name-representations" class="xref">Representations</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.5.2.1">
                        <p id="section-toc.1-1.6.2.1.2.5.2.1.1"><a href="#section-6.1.5.1" class="xref">6.1.5.1</a>.  <a href="#name-bit-diagrams" class="xref">Bit Diagrams</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.1.2.5.2.2">
                        <p id="section-toc.1-1.6.2.1.2.5.2.2.1"><a href="#section-6.1.5.2" class="xref">6.1.5.2</a>.  <a href="#name-message-sequence-charts" class="xref">Message Sequence Charts</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-packages-for-meta-languages" class="xref">Packages for Meta-Languages</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-augmented-bnf-abnf" class="xref">Augmented BNF (ABNF)</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-augmented-packet-header-dia" class="xref">Augmented Packet Header Diagrams (APHD)</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-cosmogol" class="xref">Cosmogol</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-packages-for-protocols" class="xref">Packages for Protocols</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.6.2.3.2.1">
                    <p id="section-toc.1-1.6.2.3.2.1.1"><a href="#section-6.3.1" class="xref">6.3.1</a>.  <a href="#name-type-transformations" class="xref">Type Transformations</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.6.2.3.2.2">
                    <p id="section-toc.1-1.6.2.3.2.2.1"><a href="#section-6.3.2" class="xref">6.3.2</a>.  <a href="#name-extended-registries" class="xref">Extended Registries</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-exporting-specifications" class="xref">Exporting Specifications</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-standard-library" class="xref">Standard Library</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-transclusions" class="xref">Transclusions</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-exporting-types-and-functio" class="xref">Exporting Types and Functions</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-standard-library-2" class="xref">Standard Library</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-internal-modules" class="xref">Internal Modules</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.1">
                    <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="xref">8.1.1</a>.  <a href="#name-asciidoc" class="xref">AsciiDoc</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.2">
                    <p id="section-toc.1-1.8.2.1.2.2.1"><a href="#section-8.1.2" class="xref">8.1.2</a>.  <a href="#name-bitvector" class="xref">BitVector</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.3">
                    <p id="section-toc.1-1.8.2.1.2.3.1"><a href="#section-8.1.3" class="xref">8.1.3</a>.  <a href="#name-unsigned" class="xref">Unsigned</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.4">
                    <p id="section-toc.1-1.8.2.1.2.4.1"><a href="#section-8.1.4" class="xref">8.1.4</a>.  <a href="#name-dimension" class="xref">Dimension</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.5">
                    <p id="section-toc.1-1.8.2.1.2.5.1"><a href="#section-8.1.5" class="xref">8.1.5</a>.  <a href="#name-bitdiagram" class="xref">BitDiagram</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.6">
                    <p id="section-toc.1-1.8.2.1.2.6.1"><a href="#section-8.1.6" class="xref">8.1.6</a>.  <a href="#name-transform" class="xref">Transform</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.7">
                    <p id="section-toc.1-1.8.2.1.2.7.1"><a href="#section-8.1.7" class="xref">8.1.7</a>.  <a href="#name-tpn" class="xref">Tpn</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.7.2.1">
                        <p id="section-toc.1-1.8.2.1.2.7.2.1.1"><a href="#section-8.1.7.1" class="xref">8.1.7.1</a>.  <a href="#name-building-a-tpn" class="xref">Building a TPN</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.7.2.2">
                        <p id="section-toc.1-1.8.2.1.2.7.2.2.1"><a href="#section-8.1.7.2" class="xref">8.1.7.2</a>.  <a href="#name-verifying-a-tpn" class="xref">Verifying a TPN</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.1.2.7.2.3">
                        <p id="section-toc.1-1.8.2.1.2.7.2.3.1"><a href="#section-8.1.7.3" class="xref">8.1.7.3</a>.  <a href="#name-deriving-a-type-from-a-tpn" class="xref">Deriving a Type From a TPN</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-meta-language-packages" class="xref">Meta-Language Packages</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2.2.1">
                    <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="xref">8.2.1</a>.  <a href="#name-augmented-packet-header-diag" class="xref">Augmented Packet Header Diagrams (APHD)</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.2.2.2">
                    <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="xref">8.2.2</a>.  <a href="#name-rfc-5234-abnf" class="xref">RFC 5234 (ABNF)</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-protocol-packages" class="xref">Protocol Packages</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.8.2.3.2.1">
                    <p id="section-toc.1-1.8.2.3.2.1.1"><a href="#section-8.3.1" class="xref">8.3.1</a>.  <a href="#name-rfc-791-internet-protocol" class="xref">RFC 791 (Internet Protocol)</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-command-line-tools" class="xref">Command Line Tools</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-installation" class="xref">Installation</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.10.2.1.2.1">
                    <p id="section-toc.1-1.10.2.1.2.1.1"><a href="#section-a.1.1" class="xref">A.1.1</a>.  <a href="#name-download-the-docker-image" class="xref">Download the Docker Image</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-the-computerate-command" class="xref">The <code>computerate</code> Command</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.1">
                    <p id="section-toc.1-1.10.2.2.2.1.1"><a href="#section-a.2.1" class="xref">A.2.1</a>.  <a href="#name-literate-files" class="xref">Literate Files</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.2">
                    <p id="section-toc.1-1.10.2.2.2.2.1"><a href="#section-a.2.2" class="xref">A.2.2</a>.  <a href="#name-transclusions-2" class="xref">Transclusions</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.3">
                    <p id="section-toc.1-1.10.2.2.2.3.1"><a href="#section-a.2.3" class="xref">A.2.3</a>.  <a href="#name-idrisdoc-generation" class="xref">IdrisDoc Generation</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.4">
                    <p id="section-toc.1-1.10.2.2.2.4.1"><a href="#section-a.2.4" class="xref">A.2.4</a>.  <a href="#name-outputs" class="xref">Outputs</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.5">
                    <p id="section-toc.1-1.10.2.2.2.5.1"><a href="#section-a.2.5" class="xref">A.2.5</a>.  <a href="#name-extended-registry" class="xref">Extended Registry</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.6">
                    <p id="section-toc.1-1.10.2.2.2.6.1"><a href="#section-a.2.6" class="xref">A.2.6</a>.  <a href="#name-bibliography" class="xref">Bibliography</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.6.2.1">
                        <p id="section-toc.1-1.10.2.2.2.6.2.1.1"><a href="#section-a.2.6.1" class="xref">A.2.6.1</a>.  <a href="#name-internet-draft" class="xref">Internet-Draft</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.6.2.2">
                        <p id="section-toc.1-1.10.2.2.2.6.2.2.1"><a href="#section-a.2.6.2" class="xref">A.2.6.2</a>.  <a href="#name-rfc" class="xref">RFC</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.6.2.3">
                        <p id="section-toc.1-1.10.2.2.2.6.2.3.1"><a href="#section-a.2.6.3" class="xref">A.2.6.3</a>.  <a href="#name-email" class="xref">Email</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.6.2.4">
                        <p id="section-toc.1-1.10.2.2.2.6.2.4.1"><a href="#section-a.2.6.4" class="xref">A.2.6.4</a>.  <a href="#name-iana" class="xref">IANA</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.2.2.6.2.5">
                        <p id="section-toc.1-1.10.2.2.2.6.2.5.1"><a href="#section-a.2.6.5" class="xref">A.2.6.5</a>.  <a href="#name-web-based-public-code-repos" class="xref">Web-Based Public Code Repositories</a></p>
</li>
                    </ul>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-idris-repl" class="xref">Idris REPL</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-a.4" class="xref">A.4</a>.  <a href="#name-other-commands" class="xref">Other Commands</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-a.5" class="xref">A.5</a>.  <a href="#name-source-repositories" class="xref">Source Repositories</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-a.6" class="xref">A.6</a>.  <a href="#name-modified-tools" class="xref">Modified Tools</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.10.2.6.2.1">
                    <p id="section-toc.1-1.10.2.6.2.1.1"><a href="#section-a.6.1" class="xref">A.6.1</a>.  <a href="#name-idris2" class="xref">Idris2</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.6.2.2">
                    <p id="section-toc.1-1.10.2.6.2.2.1"><a href="#section-a.6.2" class="xref">A.6.2</a>.  <a href="#name-asciidoctor" class="xref">asciidoctor</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.6.2.3">
                    <p id="section-toc.1-1.10.2.6.2.3.1"><a href="#section-a.6.3" class="xref">A.6.3</a>.  <a href="#name-metanorma" class="xref">metanorma</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.6.2.4">
                    <p id="section-toc.1-1.10.2.6.2.4.1"><a href="#section-a.6.4" class="xref">A.6.4</a>.  <a href="#name-metanorma-ietf" class="xref">metanorma-ietf</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.6.2.5">
                    <p id="section-toc.1-1.10.2.6.2.5.1"><a href="#section-a.6.5" class="xref">A.6.5</a>.  <a href="#name-idris2-vim" class="xref">idris2-vim</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-a.7" class="xref">A.7</a>.  <a href="#name-bugs-and-workarounds" class="xref">Bugs and Workarounds</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a href="#section-a.8" class="xref">A.8</a>.  <a href="#name-todo-list" class="xref">TODO List</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-reference" class="xref">Reference</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-b.1" class="xref">B.1</a>.  <a href="#name-package-computerate-specify" class="xref">Package computerate-specifying</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1.2.1">
                    <p id="section-toc.1-1.11.2.1.2.1.1"><a href="#section-b.1.1" class="xref">B.1.1</a>.  <a href="#name-module-computeratespecifyin" class="xref">Module ComputerateSpecifying.AsciiDoc</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1.2.2">
                    <p id="section-toc.1-1.11.2.1.2.2.1"><a href="#section-b.1.2" class="xref">B.1.2</a>.  <a href="#name-module-computeratespecifying" class="xref">Module ComputerateSpecifying.BitDiagram</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1.2.3">
                    <p id="section-toc.1-1.11.2.1.2.3.1"><a href="#section-b.1.3" class="xref">B.1.3</a>.  <a href="#name-module-computeratespecifyingb" class="xref">Module ComputerateSpecifying.BitVector</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1.2.4">
                    <p id="section-toc.1-1.11.2.1.2.4.1"><a href="#section-b.1.4" class="xref">B.1.4</a>.  <a href="#name-module-computeratespecifyingd" class="xref">Module ComputerateSpecifying.Dimension</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1.2.5">
                    <p id="section-toc.1-1.11.2.1.2.5.1"><a href="#section-b.1.5" class="xref">B.1.5</a>.  <a href="#name-module-computeratespecifyingt" class="xref">Module ComputerateSpecifying.Tpn</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1.2.6">
                    <p id="section-toc.1-1.11.2.1.2.6.1"><a href="#section-b.1.6" class="xref">B.1.6</a>.  <a href="#name-module-computeratespecifyingtr" class="xref">Module ComputerateSpecifying.Transform</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.1.2.7">
                    <p id="section-toc.1-1.11.2.1.2.7.1"><a href="#section-b.1.7" class="xref">B.1.7</a>.  <a href="#name-module-computeratespecifyingu" class="xref">Module ComputerateSpecifying.Unsigned</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-b.2" class="xref">B.2</a>.  <a href="#name-package-rfc5234" class="xref">Package rfc5234</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.11.2.2.2.1">
                    <p id="section-toc.1-1.11.2.2.2.1.1"><a href="#section-b.2.1" class="xref">B.2.1</a>.  <a href="#name-module-rfc5234core" class="xref">Module RFC5234.Core</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.2.2.2">
                    <p id="section-toc.1-1.11.2.2.2.2.1"><a href="#section-b.2.2" class="xref">B.2.2</a>.  <a href="#name-module-rfc5234main" class="xref">Module RFC5234.Main</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-b.3" class="xref">B.3</a>.  <a href="#name-package-augmented-ascii-dia" class="xref">Package augmented-ascii-diagrams</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.11.2.3.2.1">
                    <p id="section-toc.1-1.11.2.3.2.1.1"><a href="#section-b.3.1" class="xref">B.3.1</a>.  <a href="#name-module-aadmain" class="xref">Module AAD.Main</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#section-b.4" class="xref">B.4</a>.  <a href="#name-package-rfc791" class="xref">Package rfc791</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.11.2.4.2.1">
                    <p id="section-toc.1-1.11.2.4.2.1.1"><a href="#section-b.4.1" class="xref">B.4.1</a>.  <a href="#name-module-rfc791address" class="xref">Module RFC791.Address</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.11.2.4.2.2">
                    <p id="section-toc.1-1.11.2.4.2.2.1"><a href="#section-b.4.2" class="xref">B.4.2</a>.  <a href="#name-module-rfc791ip" class="xref">Module RFC791.IP</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.c" class="xref">Appendix C</a>.  <a href="#name-errata-statistics" class="xref">Errata Statistics</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.d" class="xref">Appendix D</a>.  <a href="#name-converting-from-a-colored-p" class="xref">Converting From a Colored Petri Net</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-d.1" class="xref">D.1</a>.  <a href="#name-convert-color-sets" class="xref">Convert Color Sets</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1">
                    <p id="section-toc.1-1.13.2.1.2.1.1"><a href="#section-d.1.1" class="xref">D.1.1</a>.  <a href="#name-simple-color-sets" class="xref">Simple Color Sets</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.1">
                        <p id="section-toc.1-1.13.2.1.2.1.2.1.1"><a href="#section-d.1.1.1" class="xref">D.1.1.1</a>.  <a href="#name-unit-color-sets" class="xref">Unit Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.2">
                        <p id="section-toc.1-1.13.2.1.2.1.2.2.1"><a href="#section-d.1.1.2" class="xref">D.1.1.2</a>.  <a href="#name-boolean-color-sets" class="xref">Boolean Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.3">
                        <p id="section-toc.1-1.13.2.1.2.1.2.3.1"><a href="#section-d.1.1.3" class="xref">D.1.1.3</a>.  <a href="#name-integer-color-sets" class="xref">Integer Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.4">
                        <p id="section-toc.1-1.13.2.1.2.1.2.4.1"><a href="#section-d.1.1.4" class="xref">D.1.1.4</a>.  <a href="#name-large-integer-color-sets" class="xref">Large Integer Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.5">
                        <p id="section-toc.1-1.13.2.1.2.1.2.5.1"><a href="#section-d.1.1.5" class="xref">D.1.1.5</a>.  <a href="#name-real-color-sets" class="xref">Real Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.6">
                        <p id="section-toc.1-1.13.2.1.2.1.2.6.1"><a href="#section-d.1.1.6" class="xref">D.1.1.6</a>.  <a href="#name-string-color-sets" class="xref">String Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.7">
                        <p id="section-toc.1-1.13.2.1.2.1.2.7.1"><a href="#section-d.1.1.7" class="xref">D.1.1.7</a>.  <a href="#name-enumerated-color-sets" class="xref">Enumerated Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.1.2.8">
                        <p id="section-toc.1-1.13.2.1.2.1.2.8.1"><a href="#section-d.1.1.8" class="xref">D.1.1.8</a>.  <a href="#name-index-color-sets" class="xref">Index Color Sets</a></p>
</li>
                    </ul>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.2">
                    <p id="section-toc.1-1.13.2.1.2.2.1"><a href="#section-d.1.2" class="xref">D.1.2</a>.  <a href="#name-compound-color-sets" class="xref">Compound Color Sets</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.2.2.1">
                        <p id="section-toc.1-1.13.2.1.2.2.2.1.1"><a href="#section-d.1.2.1" class="xref">D.1.2.1</a>.  <a href="#name-product-color-sets" class="xref">Product Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.2.2.2">
                        <p id="section-toc.1-1.13.2.1.2.2.2.2.1"><a href="#section-d.1.2.2" class="xref">D.1.2.2</a>.  <a href="#name-record-color-sets" class="xref">Record Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.2.2.3">
                        <p id="section-toc.1-1.13.2.1.2.2.2.3.1"><a href="#section-d.1.2.3" class="xref">D.1.2.3</a>.  <a href="#name-list-color-sets" class="xref">List Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.2.2.4">
                        <p id="section-toc.1-1.13.2.1.2.2.2.4.1"><a href="#section-d.1.2.4" class="xref">D.1.2.4</a>.  <a href="#name-union-color-sets" class="xref">Union Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.2.2.5">
                        <p id="section-toc.1-1.13.2.1.2.2.2.5.1"><a href="#section-d.1.2.5" class="xref">D.1.2.5</a>.  <a href="#name-subset-color-sets" class="xref">Subset Color Sets</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.2.2.6">
                        <p id="section-toc.1-1.13.2.1.2.2.2.6.1"><a href="#section-d.1.2.6" class="xref">D.1.2.6</a>.  <a href="#name-alias-color-sets" class="xref">Alias Color Sets</a></p>
</li>
                    </ul>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.1.2.3">
                    <p id="section-toc.1-1.13.2.1.2.3.1"><a href="#section-d.1.3" class="xref">D.1.3</a>.  <a href="#name-timed-color-sets" class="xref">Timed Color Sets</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-d.2" class="xref">D.2</a>.  <a href="#name-convert-places" class="xref">Convert Places</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3">
                <p id="section-toc.1-1.13.2.3.1"><a href="#section-d.3" class="xref">D.3</a>.  <a href="#name-convert-transitions" class="xref">Convert Transitions</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.1">
                    <p id="section-toc.1-1.13.2.3.2.1.1"><a href="#section-d.3.1" class="xref">D.3.1</a>.  <a href="#name-convert-input-arcs" class="xref">Convert Input Arcs</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.2">
                    <p id="section-toc.1-1.13.2.3.2.2.1"><a href="#section-d.3.2" class="xref">D.3.2</a>.  <a href="#name-convert-output-arcs" class="xref">Convert Output Arcs</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.3">
                    <p id="section-toc.1-1.13.2.3.2.3.1"><a href="#section-d.3.3" class="xref">D.3.3</a>.  <a href="#name-convert-transition-inscript" class="xref">Convert Transition Inscription</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.3.2.1">
                        <p id="section-toc.1-1.13.2.3.2.3.2.1.1"><a href="#section-d.3.3.1" class="xref">D.3.3.1</a>.  <a href="#name-unification" class="xref">Unification</a></p>
</li>
                      <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.3.2.2">
                        <p id="section-toc.1-1.13.2.3.2.3.2.2.1"><a href="#section-d.3.3.2" class="xref">D.3.3.2</a>.  <a href="#name-guard" class="xref">Guard</a></p>
</li>
                    </ul>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.4">
                    <p id="section-toc.1-1.13.2.3.2.4.1"><a href="#section-d.3.4" class="xref">D.3.4</a>.  <a href="#name-convert-free-variables" class="xref">Convert Free Variables</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.5">
                    <p id="section-toc.1-1.13.2.3.2.5.1"><a href="#section-d.3.5" class="xref">D.3.5</a>.  <a href="#name-convert-inhibitor-arcs" class="xref">Convert Inhibitor Arcs</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.6">
                    <p id="section-toc.1-1.13.2.3.2.6.1"><a href="#section-d.3.6" class="xref">D.3.6</a>.  <a href="#name-convert-reset-arcs" class="xref">Convert Reset Arcs</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.7">
                    <p id="section-toc.1-1.13.2.3.2.7.1"><a href="#section-d.3.7" class="xref">D.3.7</a>.  <a href="#name-convert-transitions-with-ti" class="xref">Convert Transitions with Time</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.3.2.8">
                    <p id="section-toc.1-1.13.2.3.2.8.1"><a href="#section-d.3.8" class="xref">D.3.8</a>.  <a href="#name-convert-transitions-with-pr" class="xref">Convert Transitions with Priorities</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.4">
                <p id="section-toc.1-1.13.2.4.1"><a href="#section-d.4" class="xref">D.4</a>.  <a href="#name-convert-substitution-transi" class="xref">Convert Substitution Transitions</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.5">
                <p id="section-toc.1-1.13.2.5.1"><a href="#section-d.5" class="xref">D.5</a>.  <a href="#name-convert-global-state" class="xref">Convert Global State</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.13.2.5.2.1">
                    <p id="section-toc.1-1.13.2.5.2.1.1"><a href="#section-d.5.1" class="xref">D.5.1</a>.  <a href="#name-convert-the-global-step-cou" class="xref">Convert the Global Step Counter</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.13.2.5.2.2">
                    <p id="section-toc.1-1.13.2.5.2.2.1"><a href="#section-d.5.2" class="xref">D.5.2</a>.  <a href="#name-convert-the-global-clock" class="xref">Convert the Global Clock</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.e" class="xref">Appendix E</a>.  <a href="#name-evidence-based-answers" class="xref">Evidence-Based Answers</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1">
                <p id="section-toc.1-1.14.2.1.1"><a href="#section-e.1" class="xref">E.1</a>.  <a href="#name-encoding-questions" class="xref">Encoding Questions</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.1">
                    <p id="section-toc.1-1.14.2.1.2.1.1"><a href="#section-e.1.1" class="xref">E.1.1</a>.  <a href="#name-any-value-of-a-type-is-evid" class="xref">Any Value of a Type is Evidence of Yes</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.2">
                    <p id="section-toc.1-1.14.2.1.2.2.1"><a href="#section-e.1.2" class="xref">E.1.2</a>.  <a href="#name-function-type-as-implicatio" class="xref">Function Type As Implication</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.3">
                    <p id="section-toc.1-1.14.2.1.2.3.1"><a href="#section-e.1.3" class="xref">E.1.3</a>.  <a href="#name-polymorphism" class="xref">Polymorphism</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.4">
                    <p id="section-toc.1-1.14.2.1.2.4.1"><a href="#section-e.1.4" class="xref">E.1.4</a>.  <a href="#name-empty-type-as-no" class="xref">Empty Type as No</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.5">
                    <p id="section-toc.1-1.14.2.1.2.5.1"><a href="#section-e.1.5" class="xref">E.1.5</a>.  <a href="#name-sloppy-questions" class="xref">Sloppy Questions</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.6">
                    <p id="section-toc.1-1.14.2.1.2.6.1"><a href="#section-e.1.6" class="xref">E.1.6</a>.  <a href="#name-product-type" class="xref">Product Type</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.7">
                    <p id="section-toc.1-1.14.2.1.2.7.1"><a href="#section-e.1.7" class="xref">E.1.7</a>.  <a href="#name-sum-type" class="xref">Sum Type</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.8">
                    <p id="section-toc.1-1.14.2.1.2.8.1"><a href="#section-e.1.8" class="xref">E.1.8</a>.  <a href="#name-inductive-type" class="xref">Inductive Type</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.9">
                    <p id="section-toc.1-1.14.2.1.2.9.1"><a href="#section-e.1.9" class="xref">E.1.9</a>.  <a href="#name-pi-type" class="xref">Pi Type</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.10">
                    <p id="section-toc.1-1.14.2.1.2.10.1"><a href="#section-e.1.10" class="xref">E.1.10</a>. <a href="#name-sigma-type" class="xref">Sigma Type</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.11">
                    <p id="section-toc.1-1.14.2.1.2.11.1"><a href="#section-e.1.11" class="xref">E.1.11</a>. <a href="#name-equality-type" class="xref">Equality Type</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.1.2.12">
                    <p id="section-toc.1-1.14.2.1.2.12.1"><a href="#section-e.1.12" class="xref">E.1.12</a>. <a href="#name-decidable-type" class="xref">Decidable Type</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.14.2.2">
                <p id="section-toc.1-1.14.2.2.1"><a href="#section-e.2" class="xref">E.2</a>.  <a href="#name-how-to-find-evidence" class="xref">How to Find Evidence</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-appendix.f" class="xref">Appendix F</a>.  <a href="#name-a-distributed-package-manag" class="xref">A Distributed Package Manager for Computerate Specifications</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.15.2.1">
                <p id="section-toc.1-1.15.2.1.1"><a href="#section-f.1" class="xref">F.1</a>.  <a href="#name-distributed-source-reposito" class="xref">Distributed Source Repositories</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.15.2.1.2.1">
                    <p id="section-toc.1-1.15.2.1.2.1.1"><a href="#section-f.1.1" class="xref">F.1.1</a>.  <a href="#name-the-gits-protocol" class="xref">The <code>gits</code> Protocol</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.15.2.1.2.2">
                    <p id="section-toc.1-1.15.2.1.2.2.1"><a href="#section-f.1.2" class="xref">F.1.2</a>.  <a href="#name-the-mgit-and-mgits-protocol" class="xref">The <code>mgit</code> and <code>mgits</code> Protocols</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.15.2.1.2.3">
                    <p id="section-toc.1-1.15.2.1.2.3.1"><a href="#section-f.1.3" class="xref">F.1.3</a>.  <a href="#name-git-submodules-as-dependenc" class="xref">Git Submodules as Dependencies</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.15.2.2">
                <p id="section-toc.1-1.15.2.2.1"><a href="#section-f.2" class="xref">F.2</a>.  <a href="#name-distributed-artifact-manage" class="xref">Distributed Artifact Manager</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.15.2.2.2.1">
                    <p id="section-toc.1-1.15.2.2.2.1.1"><a href="#section-f.2.1" class="xref">F.2.1</a>.  <a href="#name-reproducible-build" class="xref">Reproducible Build</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.15.2.2.2.2">
                    <p id="section-toc.1-1.15.2.2.2.2.1"><a href="#section-f.2.2" class="xref">F.2.2</a>.  <a href="#name-distributed-cache" class="xref">Distributed Cache</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.15.2.3">
                <p id="section-toc.1-1.15.2.3.1"><a href="#section-f.3" class="xref">F.3</a>.  <a href="#name-recursive-build" class="xref">Recursive Build</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.15.2.3.2.1">
                    <p id="section-toc.1-1.15.2.3.2.1.1"><a href="#section-f.3.1" class="xref">F.3.1</a>.  <a href="#name-indexing-commits" class="xref">Indexing Commits</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.15.2.3.2.2">
                    <p id="section-toc.1-1.15.2.3.2.2.1"><a href="#section-f.3.2" class="xref">F.3.2</a>.  <a href="#name-building-a-submodule" class="xref">Building a Submodule</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.15.2.3.2.3">
                    <p id="section-toc.1-1.15.2.3.2.3.1"><a href="#section-f.3.3" class="xref">F.3.3</a>.  <a href="#name-pinned-down-builds" class="xref">Pinned Down Builds</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-appendix.g" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-appendix.h" class="xref"></a><a href="#name-contributors" class="xref">Contributors</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#section-appendix.i" class="xref"></a><a href="#name-changelog" class="xref">Changelog</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.19">
            <p id="section-toc.1-1.19.1"><a href="#section-appendix.j" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<div id="_7d0a7658-b0f1-4da2-af6b-6ac02dd06f6c">
<p id="section-1-1">If, as the unofficial IETF motto states, we believe that "running code" is an important part of the feedback provided to the standardization process, then as per the Curry-Howard equivalence <span>[<a href="#Curry-Howard" class="xref">Curry-Howard</a>]</span> (that states that code and mathematical proofs are the same), we ought to also believe that "verified proof" is an equally important part of that feedback.
A verified proof is a mathematical proof of a logical proposition that was mechanically verified by a computer, as opposed to just peer-reviewed.<a href="#section-1-1" class="pilcrow">¶</a></p>
</div>
<div id="_e2b10b0e-863b-4aab-ad99-2a88fc5a11a0">
<p id="section-1-2">The "Experiences with Protocol Description" paper from Pamela Zave <span>[<a href="#Zave11" class="xref">Zave11</a>]</span> gives three conclusions about the usage of formal specifications for a protocol standard.
The first conclusion states that informal methods (i.e. the absence of verified proofs) are inadequate for widely used protocols.
This document is based on the assumption that this conclusion is correct, so its validity will not be discussed further.<a href="#section-1-2" class="pilcrow">¶</a></p>
</div>
<div id="_8ecd481b-b641-48c8-b91f-0f6b3d412c17">
<p id="section-1-3">The second conclusion states that formal specifications are useful even if they fall short of the "gold standard" of a complete formal specification.
We will show that a formal specification can be incrementally added to a document.<a href="#section-1-3" class="pilcrow">¶</a></p>
</div>
<div id="_c0d1d4bb-80b1-4b94-9e36-cc8b57396b85">
<p id="section-1-4">The third conclusion from Zave's paper states that the normative English language should be paraphrasing the formal specification.
The difficulty here is that to be able to keep the formal specification and the normative language synchronized at all times, these two should be kept as physically close as possible to each other.<a href="#section-1-4" class="pilcrow">¶</a></p>
</div>
<div id="_6c53fbe1-b64c-458e-bb56-a8bd4a5d96da">
<p id="section-1-5">To do that we introduce the concept of "Computerate Specifying" (note that Computerate is a British English word).
"Computerate Specifying" is a play on "Literate Computing", itself a play on "Structured Computing" (see <span>[<a href="#Knuth92" class="xref">Knuth92</a>]</span> page 99).
In the same way that Literate Programming enriches code by interspersing it with its own documentation, Computerate Specifying enriches a standard specification by interspersing it with code (or with proofs, as they are the same thing), making it a computerate specification.<a href="#section-1-5" class="pilcrow">¶</a></p>
</div>
<div id="_73ff1760-3d93-4de5-839f-ca2a8914bbdf">
<p id="section-1-6">Note that computerate specifying is not specific to the IETF, just like literate computing is not restricted to the combination of TeX and Pascal described in Knuth's paper.
What this document describes is a specific instance of computerate specifying that combines <span>[<a href="#AsciiDoc" class="xref">AsciiDoc</a>]</span> as formatting language and <span>[<a href="#Idris2" class="xref">Idris2</a>]</span> as programming language with the goal of formally specifying IETF protocols.<a href="#section-1-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="overview">
<section id="section-2">
      <h2 id="name-overview">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
      </h2>
<div id="_ae96223b-ec80-4c18-b5a9-712944b4475c">
<p id="section-2-1">The remaining of this document is divided in 3 parts:<a href="#section-2-1" class="pilcrow">¶</a></p>
</div>
<div id="_4e4ec195-1609-4d71-983f-52859510bc9b">
<p id="section-2-2">After the <span><a href="#terminology" class="xref">Terminology</a> (<a href="#terminology" class="xref">Section 3</a>)</span> section starts a tutorial on how to write a specification.
This tutorial is meant to be read in sequence, as concepts defined in early part will not be repeated later.
On the other hand the tutorial is designed to present information progressively and mostly in order of complexity, so it is possible to start writing effective specifications without reading or understanding the whole tutorial.<a href="#section-2-2" class="pilcrow">¶</a></p>
</div>
<div id="_081f4dd4-0457-4e29-b311-9d4a04b886c7">
<p id="section-2-3">The tutorial begins by explaining how to write <span><a href="#private" class="xref">private specifications</a> (<a href="#private" class="xref">Section 4</a>)</span>, which are specifications that are not meant to be shared.
Then the tutorial continues by explaining how to write an <span><a href="#self" class="xref">self-contained specification</a> (<a href="#self" class="xref">Section 5</a>)</span>, which is a specification that contains Idris code that relies only on the Idris Standard Library.
Writing self-contained specifications is difficult and time-consuming, so the tutorial continues by explained how to <span><a href="#import" class="xref">import specifications</a> (<a href="#import" class="xref">Section 6</a>)</span> that contain reusable types and code.
The tutorial ends with explanations on how to design a <span><a href="#export" class="xref">exportable specification</a> (<a href="#export" class="xref">Section 7</a>)</span>.<a href="#section-2-3" class="pilcrow">¶</a></p>
</div>
<div id="_a9c44ecb-8883-450e-8858-49ad913d93f8">
<p id="section-2-4">After the tutorial come the description of all the packages and modules in the <span><a href="#library" class="xref">Computerate Specifying Standard Library</a> (<a href="#library" class="xref">Section 8</a>)</span>.<a href="#section-2-4" class="pilcrow">¶</a></p>
</div>
<div id="_399b3544-008a-4f2f-ad66-1c5d58c93d9e">
<p id="section-2-5"><a href="#cli" class="xref">Appendix A</a> explains how to install and use the associated tooling, <a href="#reference" class="xref">Appendix B</a> contains the reference manual for the standard library, <a href="#cpn2tpn" class="xref">Appendix D</a> explains how to convert Colored Petri Nets in a form that can be used in specifications, <a href="#tutorial" class="xref">Appendix E</a> is a tutorial on using Programs and Types to prove propositions, and <a href="#dpm" class="xref">Appendix F</a> explains the distributed architecture of the standard library.<a href="#section-2-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="terminology">
<section id="section-3">
      <h2 id="name-terminology">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<span class="break"></span><div id="_db09bff2-021e-4839-8949-caebaf7ae924">
<dl class="dlParallel" id="section-3-1">
        <dt id="section-3-1.1">Computerate Specification, Specification: </dt>
        <dd style="margin-left: 1.5em" id="section-3-1.2">
          <div id="_ff60fa56-836f-4914-aeda-a5754dda28f7">
<p id="section-3-1.2.1">Literate Idris2 code embedded in an AsciiDoc document, containing both formal descriptions and human language texts, and which can be processed to produce documents in human language.<a href="#section-3-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.3">Document: </dt>
        <dd style="margin-left: 1.5em" id="section-3-1.4">
          <div id="_2d489c4e-9304-4ce3-9164-83c8572c60f5">
<p id="section-3-1.4.1">Any text that contains the documentation of a protocol in the English language.
A document is the result of processing a specification.<a href="#section-3-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
<dt id="section-3-1.5">Retrofitted Specification: </dt>
        <dd style="margin-left: 1.5em" id="section-3-1.6">
          <div id="_12b23f02-ffd0-4eca-b3a7-6c9d50c4363f">
<p id="section-3-1.6.1">A specification created after a document was published such as the generated document coincides with the published document.<a href="#section-3-1.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
      <dd class="break"></dd>
</dl>
</div>
<div id="_43acfba8-5dc4-4898-aafb-28c334c46868">
<p id="section-3-2">In this document, the same word can be used either as an English word or as an Idris identifier used inside the text.
To explicitly differentiate them, the latter is always displayed like <code>this</code>.
E.g. <code>IdrisDoc</code> is meant to convey the fact that IdrisDoc in that case is an Idris module or type.
On the other hand the word IdrisDoc refers to the IdrisDoc specification.<a href="#section-3-2" class="pilcrow">¶</a></p>
</div>
<div id="_5999585d-0982-4231-b7ed-6aa456ee7f7e">
<p id="section-3-3">Similarly blocks of code, including literate code, are always sandwiched between "&lt;CODE BEGINS&gt;" and "&lt;CODE ENDS&gt;".
Code blocks will be presented in their literate form only when necessary, i.e. when mixed AsciiDoc and Idris are required.
However, in a computerate specification, Idris code must in fact be used in its literate form.<a href="#section-3-3" class="pilcrow">¶</a></p>
</div>
<div id="_72b475f5-8a1d-4b84-b8e8-714d85f6935b">
<p id="section-3-4">By convention an Idris function that returns a type and types themselves will always start with an uppercase letter.
Functions not returning a type start with a lowercase letter.<a href="#section-3-4" class="pilcrow">¶</a></p>
</div>
<div id="_86905a88-6ae9-41d9-9659-dca4a9394e0b">
<p id="section-3-5">For the standard library, the types names are also formed by taking the English word or expression, making the first letter of each word upper case, and removing any symbols like underscore, dash and space.
Thus bitvector would become "Bitvector" after conversion as a type name but bit diagram would become "BitDiagram".<a href="#section-3-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="private">
<section id="section-4">
      <h2 id="name-private-specifications">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-private-specifications" class="section-name selfRef">Private Specifications</a>
      </h2>
<div id="_294e51e9-f331-498d-9d80-1f616a2b910d">
<p id="section-4-1">Nowadays documents at the IETF are written in a format named <span><a href="#RFC7991" class="xref">xml2rfc v3</a> [<a href="#RFC7991" class="xref">RFC7991</a>]</span> but unfortunately making that format Computerable is not trivial, mostly because there is no simple solution to mix code and XML together in the same file.
Instead, the <span>[<a href="#AsciiDoc" class="xref">AsciiDoc</a>]</span> format forms the basis for specifications as it permits the generation of documents in the xmlrfc v3 format (among other formats) and also because it can be enriched with code in the same file.<a href="#section-4-1" class="pilcrow">¶</a></p>
</div>
<div id="_1b4bb2a1-474d-42bf-ad2a-693ff6a3c1f0">
<p id="section-4-2"><span><a href="#I-D.ribose-asciirfc" class="xref">AsciiRFC</a> [<a href="#I-D.ribose-asciirfc" class="xref">I-D.ribose-asciirfc</a>]</span> and <span>[<a href="#Metanorma-IETF" class="xref">Metanorma-IETF</a>]</span> describe a backend for the <span>[<a href="#Asciidoctor" class="xref">Asciidoctor</a>]</span> tool that converts an AsciiDoc document into an xml2rfc v3 document.
The AsciiRFC document states various reasons why AsciiDoc is a superior format for the purpose of writing standards, so that will not be discussed further.
Note that the same team developed Asciidoctor backends <span>[<a href="#Metanorma" class="xref">Metanorma</a>]</span> for other Standards Developing Organizations (SDO), making it easy to develop computerate specifications targeting the documents developed by these SDOs.<a href="#section-4-2" class="pilcrow">¶</a></p>
</div>
<div id="_048eed28-96cf-4150-a1dd-da8a5aa7f49d">
<p id="section-4-3">The code in a computerate specification uses the programming language <span>[<a href="#Idris2" class="xref">Idris2</a>]</span> in <span><a href="#Knuth92" class="xref">literate programming</a> [<a href="#Knuth92" class="xref">Knuth92</a>]</span> mode using the Bird-style, by having each line of code starting with a "&gt;" mark in the first column.<a href="#section-4-3" class="pilcrow">¶</a></p>
</div>
<div id="_9e5ba06e-4b74-4ea8-a526-03d6334fc833">
<p id="section-4-4">That same symbol is also used by AsciiDoc as an alternate way of defining a <span><a href="#Blockquotes" class="xref">blockquote</a> [<a href="#Blockquotes" class="xref">Blockquotes</a>]</span> way which is no longer available in a computerate specification.
Bird-style code will simply not appear in the rendered document.<a href="#section-4-4" class="pilcrow">¶</a></p>
</div>
<div id="_1fa97a33-4161-48b6-99f5-c61be391fce5">
<p id="section-4-5">The result of Idris code execution can be inserted inside the AsciiDoc part of a specification by inserting that code fragment between the "{`" string and the "`}" strings.
That code fragment must return a value of a type that implements the <code>Show</code> interface.<a href="#section-4-5" class="pilcrow">¶</a></p>
</div>
<div id="_886e2eff-2998-471b-99d5-40ddfc9d4fa5">
<p id="section-4-6">A computerate specification is processed by an Asciidoctor preprocessor that does the following:<a href="#section-4-6" class="pilcrow">¶</a></p>
</div>
<div id="_5f4c9f1d-48ea-49a1-8500-269cecfc0617">
<ol start="1" type="1" class="normal type-1" id="section-4-7">
<li id="section-4-7.1">
          <div id="_37a57b53-6229-4d6b-ba9c-eca6e926d587">
<p id="section-4-7.1.1">Loads the whole specification as an Idris program, including importing modules.<a href="#section-4-7.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li id="section-4-7.2">
          <div id="_4eb6ea1e-9ea4-48a9-a60b-d4997446276d">
<p id="section-4-7.2.1">For each instance of an inline code fragment, evaluates that fragment and replaces it (including the delimiters) by the result of that evaluation.<a href="#section-4-7.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li id="section-4-7.3">
          <div id="_20bddc9d-d5c9-4a1b-bd96-8981a88a3b4c">
<p id="section-4-7.3.1">Continues with the normal processing of the modified specification.<a href="#section-4-7.3.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ol>
</div>
<div id="_db8af6f0-deca-4890-ad95-3c7f82c671b7">
<p id="section-4-8">For instance the following document fragment taken from the computerate specification of <span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span>:<a href="#section-4-8" class="pilcrow">¶</a></p>
</div>
<div id="_ed0399db-9978-47d9-ada0-fb4f695fa714">
<div id="section-4-9">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
&gt; rto : Int
&gt; rto = 500
&gt;
&gt; rc : Nat
&gt; rc = 7
&gt;
&gt; rm : Int
&gt; rm = 16
&gt;
&gt; -- A stream of transmission times
&gt; transmissions : Int -&gt; Int -&gt; Stream Int
&gt; transmissions value rto = value :: transmissions (value + rto)
&gt;   (rto * 2)
&gt;
&gt; -- A specific transmission time
&gt; transmission : Int -&gt; Nat -&gt; Int
&gt; transmission timeout i = index i $ transmissions 0 timeout
&gt;
&gt; a1 : Int
&gt; a1 = rto
&gt;
&gt; a2 : String
&gt; a2 = concat (take (rc - 1) (map (\t =&gt; show t ++ " ms, ")
&gt;   (transmissions 0 rto))) ++ "and " ++ show (transmission rto
&gt;     (rc - 1)) ++ " ms"
&gt;
&gt; a3 : Int
&gt; a3 = transmission rto (rc - 1) + rto * rm

For example, assuming an RTO of {`a1`}ms, requests would be sent at
times {`a2`}.
If the client has not received a response after {`a3`} ms, the
client will consider the transaction to have timed out.
&lt;CODE ENDS&gt;</pre><a href="#section-4-9" class="pilcrow">¶</a>
</div>
</div>
<div id="_cafaf653-2cd7-4618-a7e0-3d10cc1bc3c3">
<p id="section-4-10">is rendered as<a href="#section-4-10" class="pilcrow">¶</a></p>
</div>
<div id="_adba6b2c-5c11-4bee-b0e0-e56b7f12ecdd">
<figure id="figure-1">
        <div id="_e1fe432c-b123-4b55-8e16-08819e0bdb82">
<div class="artwork art-text alignLeft art-ascii-art" id="section-4-11.1">
<pre>"                                            For example, assuming an
 RTO of 500ms, requests would be sent at times 0 ms, 500 ms, 1500 ms,
 3500 ms, 7500 ms, 15500 ms, and 31500 ms.  If the client has not
 received a response after 39500 ms, the client will consider the
 transaction to have timed out."</pre>
</div>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
</div>
<div id="_3d6e0cad-7b0c-49dd-8974-5c655c3b7d8a">
<p id="section-4-12">The Idris2 programming language has been chosen because its type system supports dependent and linear types <span>[<a href="#Brady17" class="xref">Brady17</a>]</span>, and that type system is the language in which propositions are written.
The Idris2 programming also has reflection capabilities and support for meta-programming, also known as elaboration.<a href="#section-4-12" class="pilcrow">¶</a></p>
</div>
<div id="_cfd6c904-b44a-40e6-b777-0b4205e8e480">
<p id="section-4-13">Following Zave's second conclusion, computerate specifying is not restricted to the specification of protocols, or to property proving.
There is a whole spectrum of formalism that can be introduced in a specification, and we will present it in the remaining sections by increasing order of complexity.
Note that because the specification language is a programming language, these usages are not exhaustive, and plenty of other usages can and will be found after the publication of this document.<a href="#section-4-13" class="pilcrow">¶</a></p>
</div>
<div id="_b943a162-2c80-468b-82a4-bed34038343f">
<p id="section-4-14">At the difference of an RFC which is immutable after publication, the types and code in a specification will be improved over time, especially as new properties are proved or disproved.
The latter will happen when a bug is discovered in a specification and a proof of negation is added to the specification, paving the way to a revision of the standard.<a href="#section-4-14" class="pilcrow">¶</a></p>
</div>
<div id="_a74b7cd7-d135-4418-8d03-516e3f7f3e70">
<p id="section-4-15">A private specification is a specification that is not meant to be shared.
There is mostly two reasons for a specification to be kept private, as explained in the next sections.<a href="#section-4-15" class="pilcrow">¶</a></p>
</div>
<div id="private_new">
<section id="section-4.1">
        <h3 id="name-private-specifications-for-">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-private-specifications-for-" class="section-name selfRef">Private Specifications for New Documents</a>
        </h3>
<div id="_3840e8f7-e2a2-44ce-aea9-9312fe5cd86d">
<p id="section-4.1-1">In the simplest case, writing a specification with the goal of publishing the resulting document does not require sharing that specification.
This is quite similar to what was done with xml2rfc before the IETF adopted RFC 7991 as the canonical format for Internet-Drafts and RFCs; most people used xml2rfc to prepare their document, but did not share the xml2rfc file beyond the co-authors of the document.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_5802a9a8-3d20-44dc-901e-3b0747ba00fa">
<p id="section-4.1-2">In that case writing a specification is straightforward: write the specification from scratch using AsciiDoc for the text and Idris for the formal parts.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_afe7be95-f41d-4a78-b35c-12ecc2ca996c">
<p id="section-4.1-3">One effective rule to quickly discover that the Idris code and the AsciiDoc document are diverging is to keep both of them as close as possible to each other.
This is most effectively done by having the matching Idris code right after each AsciiDoc paragraph, such as it is then easy to compare each to the other.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_8180ceb1-5fb3-49db-bf8f-6cee8d9c0994">
<p id="section-4.1-4">Idris itself imposes an order in which types and code must be declared and defined, because it does not by default look for forward references.
Because, by the rule above, the text will follow the order the Idris code is organized, the document generated by such specification tends to be naturally easier to implement, because it induces the same workflow than a software implementer will follow when implementing the document.<a href="#section-4.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_d1afd5d6-48fc-4d54-bc36-e2643eee1554">
<p id="section-4.1-5"><span>[<a href="#RFC8489" class="xref">RFC8489</a>]</span> and <span>[<a href="#RFC8656" class="xref">RFC8656</a>]</span> are examples of standards that were made easier to implement because they follow the order a software developer will develop each component.<a href="#section-4.1-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="private_retro">
<section id="section-4.2">
        <h3 id="name-private-specifications-for-e">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-private-specifications-for-e" class="section-name selfRef">Private Specifications for Existing Documents</a>
        </h3>
<div id="_3f447c6e-97fb-4130-aa0d-d4e5bbda8869">
<p id="section-4.2-1">A second reason to write a private specification is for the purpose of doing a review of an existing document, most likely of an Internet-Draft during the standardization process.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_58887661-7520-44ab-9726-061369ba031a">
<p id="section-4.2-2">This is done by first turning the existing document into a specification by converting it into an AsciiDoc document, which can be either done manually, or by using the <code>rfc2mn</code> program distributed with the <span><a href="#cli_other" class="xref">tooling</a> (<a href="#cli_other" class="xref">Appendix A.4</a>)</span>.
After this step, the specification can be enriched by adding some Idris code and replacing some of the text with the execution of Idris code fragments.
Comparing the original document with a document generated by processing the specification permits to validate that the original document is correct regarding the formalism introduced.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_a3376921-e1fb-4a98-9b91-afb108dae66e">
<p id="section-4.2-3">Documents that are not generated from a specification do not always have a structure that follow the way a software developer will implement it.
When that is the case it will be difficult to add the Idris code right after a paragraph describing its functionality, because the final code may not type-check because of the lack of support for forward references.
It could be a signal that the text needs to be reorganized to be more software-development friendly.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_48febb90-5806-4dd0-ab4d-a7c7c53355a7">
<p id="section-4.2-4">One alternative is to use a technique named self-inclusion, which is the possibility to change the order of paragraphs in an AsciiDoc document and thus keeping the Idris code in an order that type-checks.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_cef20e7c-e3b6-4ceb-93ee-a860e5a62aaa">
<p id="section-4.2-5">This is done by using tags to delimit the text that needs to be moved:<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_187359a8-8a7b-4ac8-a673-8e34b4a75ff9">
<div id="section-4.2-6">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
// tag::para1[]
Text that describes a functionality

&gt; -- Code that implements that functionality.
// end::para1[]
&lt;CODE ENDS&gt;</pre><a href="#section-4.2-6" class="pilcrow">¶</a>
</div>
</div>
<div id="_2e60cf84-cdfa-4940-98ea-01ae82650119">
<p id="section-4.2-7">Then a self-include can move (instead of duplicating) the text inside the tags to a different place, without changing the order of the Idris code:<a href="#section-4.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_e92629a7-d137-499c-973c-90308e5e8f8a">
<div id="section-4.2-8">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
include::Main.adoc[tag=para1]
&lt;CODE ENDS&gt;</pre><a href="#section-4.2-8" class="pilcrow">¶</a>
</div>
</div>
<div id="_dd155f2b-4482-4aee-abc2-1f9d542266ff">
<p id="section-4.2-9">Note that the IETF Trust licences <span>[<a href="#TLP5" class="xref">TLP5</a>]</span> do not grant permission to distribute an annotated Internet-Draft as a whole so redistributing such specification would be a copyright license infringement.
But as in this case the specification is not meant to be distributed, there is no infringement possible.<a href="#section-4.2-9" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="self">
<section id="section-5">
      <h2 id="name-self-contained-specificatio">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-self-contained-specificatio" class="section-name selfRef">Self-Contained Specifications</a>
      </h2>
<div id="_7ceae789-6db1-46d0-b87f-49dbff3ea4aa">
<p id="section-5-1">A self-contained specification is a specification where the Idris code does not use anything but the types and functions defined in its standard library, thus not requiring to install anything but Idris2 itself.<a href="#section-5-1" class="pilcrow">¶</a></p>
</div>
<div id="_21ad4ab9-bb65-48bd-ad16-0abbf3e178c6">
<p id="section-5-2">A specification uses Idris types to specify both how stream of bits are arranged to form valid Protocol Data Units (PDU) and how the exchange of PDUs between network elements is structured to form a valid protocol.
In addition a specification can be used to prove or disprove a variety of properties for these types.<a href="#section-5-2" class="pilcrow">¶</a></p>
</div>
<div id="self_pdu">
<section id="section-5.1">
        <h3 id="name-pdu-descriptions">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-pdu-descriptions" class="section-name selfRef">PDU Descriptions</a>
        </h3>
<div id="_f725d578-029a-4795-b365-a9644b08b2f8">
<p id="section-5.1-1">The PDUs in a communication protocol determines how data is laid out before it is sent over a communication link.
Generally a PDU is described only in the context of the layer that this particular protocol is operating at, e.g. an application protocol PDU only describes the data as sent over UDP or TCP, not over Ethernet or Wi-Fi.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_8c4da945-0eb2-4e33-af26-f50fd535dde3">
<p id="section-5.1-2">PDUs can generally be split into two broad categories, binary and text, and a protocol PDU mostly falls into one of these two categories.<a href="#section-5.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_e771d9a1-9014-423d-b2ab-d6fccbc44ea6">
<p id="section-5.1-3">PDU descriptions can be defined as specifications for at least three reasons: the generation of examples that are correct by construction, correctness in displaying the result of calculations, and correctness in representing the structure of a PDU.
Independently of these reasons, a PDU description is a basic component of a specification that will probably be needed regardless.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
</div>
<div id="self_pdu_examples">
<section id="section-5.1.1">
          <h4 id="name-pdu-examples">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-pdu-examples" class="section-name selfRef">PDU Examples</a>
          </h4>
<div id="_7fba4676-fe4c-4d21-aa0c-15c186872c1f">
<p id="section-5.1.1-1">Examples in protocol documents are frequently incorrect, which proves to have a significant negative impact as they are too often misused as normative text.
See <a href="#errata" class="xref">Appendix C</a> for statistics about the frequency of incorrect examples in RFC errata.<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_45d2b7f7-0ebd-489c-873e-da34df63f316">
<p id="section-5.1.1-2">Ensuring example correctness is achieved by adding the result of a computation (the example) directly inside the document.
If that computation is done from a type that is (physically and conceptually) close to the normative text, then we gain some level of assurance that both the normative text and the derived examples will match.<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_c7f41383-ccd4-4a90-b8c1-861729fd9df4">
<p id="section-5.1.1-3">Generating an example that is correct by construction always starts by defining a type that describes the format of the data to display.
The Internet Header Format in section 3.1 of <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span> will be used in the following sections as example.<a href="#section-5.1.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_34fa1e68-733f-4197-8266-f5b2517ac2e0">
<p id="section-5.1.1-4">In this section we start by defining an Idris type, using a Generalized Algebraic Data Type (GADT).
In that case we have only one constructor (<code>MkInternetHeader</code>) which is defined as a Product Type that "concatenate" all the fields on the Internet Header.
One specific aspect of Idris types is that we can enrich the definition of each field with constraints that then have to be fulfilled when a value of that type will be built.<a href="#section-5.1.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_52b8c49c-d0f4-466e-b2af-c59baf73e5ab">
<div id="section-5.1.1-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data InternetHeader : Type where
  MkInternetHeader :
    (version : Int) -&gt; version = 4 =&gt;
    (ihl : Int) -&gt; ihl &gt;= 5 &amp;&amp; ihl &lt; 16 = True =&gt;
    (tos : Int) -&gt; tos &gt;= 0 &amp;&amp; tos &lt;= 256 = True =&gt;
    (length : Int) -&gt; length &gt;= (5 * 4) &amp;&amp; length &lt; 65536 = True =&gt;
    (id : Int) -&gt; id &gt;= 0 &amp;&amp; id &lt; 65536 = True =&gt;
    (flags : Int) -&gt; flags &gt;= 0 &amp;&amp; flags &lt; 16 = True =&gt;
    (offset : Int) -&gt; offset &gt;= 0 &amp;&amp; offset &lt; 8192 = True =&gt;
    (ttl : Int) -&gt; ttl &gt;= 0 &amp;&amp; ttl &lt; 256 = True =&gt;
    (protocol : Int) -&gt; protocol &gt;= 0 &amp;&amp; protocol &lt; 256 = True =&gt;
    InternetHeader
&lt;CODE ENDS&gt;</pre><a href="#section-5.1.1-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_7c910d68-afaa-45b3-88ab-bf2f8f1f48ce">
<p id="section-5.1.1-6">where<a href="#section-5.1.1-6" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_ffb7c2d6-c89a-4342-a562-c2cd3a4b3bb7">
<dl class="dlParallel" id="section-5.1.1-7">
            <dt id="section-5.1.1-7.1">version: </dt>
            <dd style="margin-left: 1.5em" id="section-5.1.1-7.2">
              <div id="_860b1a90-3f51-4841-951b-1c0e3b38e29e">
<p id="section-5.1.1-7.2.1">This field is constrained to always contain the value 4.<a href="#section-5.1.1-7.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-5.1.1-7.3">ihl: </dt>
            <dd style="margin-left: 1.5em" id="section-5.1.1-7.4">
              <div id="_bdbe7eec-2bda-45ae-bd16-e0490e6c233b">
<p id="section-5.1.1-7.4.1"><code>Int</code> is a builtin signed integer so it is constrained to contain only positive integers lower than 16.<a href="#section-5.1.1-7.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-5.1.1-7.5">others: </dt>
            <dd style="margin-left: 1.5em" id="section-5.1.1-7.6">
              <div id="_19e726a5-ded2-4781-b989-eea39b6d2f96">
<p id="section-5.1.1-7.6.1">Same, all the fields are constrained to unsigned integers fitting inside the number of bits defined in <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span>.<a href="#section-5.1.1-7.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<div id="_0837cab3-8eea-49f6-b18a-af27fc99907b">
<p id="section-5.1.1-8">An Idris type where the fields in a constructor are organized like the <code>InternetHeader</code> by ordering them in a sequence is called a Pi type - or, when there is no dependencies between fields as there is in <code>version = 4</code>, a Product type.
Although there is no equivalence in most programming languages to a Pi type, Product types are known as classes in Java and struct in C.<a href="#section-5.1.1-8" class="pilcrow">¶</a></p>
</div>
<div id="_747ce5b0-d835-44db-86e6-0a2420751db5">
<p id="section-5.1.1-9">Another way to organize a type is called the Sum type, which is a type with multiple constructors that act as alternative.
Sum types can be used in C with a combination of struct and union, and since Java 14 by using sealed records.<a href="#section-5.1.1-9" class="pilcrow">¶</a></p>
</div>
<div id="_7678ed75-8205-4ebd-b893-d3a8d341554c">
<p id="section-5.1.1-10">Sum types have a dependent counterpart named a Sigma type, which is a tuple in which the type of the second element depends on the value of the first element.
This is mostly returned by functions, with the returned Sigma type carrying both a value and a proof of the validity of that value.<a href="#section-5.1.1-10" class="pilcrow">¶</a></p>
</div>
<div id="_a6fd5af0-17eb-4d82-be0d-e850ba318b2b">
<p id="section-5.1.1-11">From that point it is possible to define a value that fulfills all the constraints.
The following values are taken from example 1 in <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span> Appendix A.<a href="#section-5.1.1-11" class="pilcrow">¶</a></p>
</div>
<div id="_e889fda7-7e69-4b55-a550-5dea01d0a800">
<div id="section-5.1.1-12">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
example1 : InternetHeader
example1 = MkInternetHeader 4 5 0 21 111 0 0 123 1
&lt;CODE ENDS&gt;</pre><a href="#section-5.1.1-12" class="pilcrow">¶</a>
</div>
</div>
<div id="_8ed4483a-46ab-41a2-948b-9f4970c872b5">
<p id="section-5.1.1-13">The <code>=&gt;</code> symbol after a constraint indicates that Idris should try to automatically find a proof that this constraint is met by the values in the example, which it successfully does in the example above.<a href="#section-5.1.1-13" class="pilcrow">¶</a></p>
</div>
<div id="_d9670eef-6178-462c-89ac-c0d0e2d7b072">
<p id="section-5.1.1-14">The following example, where the constraints defined in the InternetHeader type are not met, will not type-check in Idris (an error message will be generated) and thus can not be used to generate an example.<a href="#section-5.1.1-14" class="pilcrow">¶</a></p>
</div>
<div id="_7cc674cc-515a-4b1b-b371-b7625ce0aed9">
<div id="section-5.1.1-15">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
example1' : InternetHeader
example1' = MkInternetHeader 6 5 0 21 111 0 0 123 1
&lt;CODE ENDS&gt;</pre><a href="#section-5.1.1-15" class="pilcrow">¶</a>
</div>
</div>
<div id="_1e639598-250c-4036-a7e6-0b9768d0f09f">
<p id="section-5.1.1-16">The next step is to define an Idris function that converts a value of the type <code>InternetHeader</code> into the kind of bit diagram that is showed in Appendix A of <span>[<a href="#RFC0791" class="xref">RFC0791</a>]</span>.<a href="#section-5.1.1-16" class="pilcrow">¶</a></p>
</div>
<div id="_ab9834ff-f6a8-43cc-9c17-e2f8869c9fe3">
<div id="section-5.1.1-17">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
Show InternetHeader where
  show (MkInternetHeader version ihl tos length id flags offset
    ttl protocol) = ?showPrec_rhs_1
&lt;CODE ENDS&gt;</pre><a href="#section-5.1.1-17" class="pilcrow">¶</a>
</div>
</div>
<div id="_e50c8156-3b64-42b9-93b8-f8eef7333fcc">
<p id="section-5.1.1-18">Here we implement the <code>Show</code> interface that permits to define the adhoc polymorphic function <code>show</code> for <code>InternetHeader</code>, function that will convert the value into the right character string.
Idris names starting with a question mark like in <code>?showPrec_rhs_1</code> are so-called holes, which are placeholder for code to be written, while still permitting type-checking.<a href="#section-5.1.1-18" class="pilcrow">¶</a></p>
</div>
<div id="_4e3ac485-8217-4da4-8a6d-86fa7d1ec785">
<p id="section-5.1.1-19">After replacing the hole by the actual code, the following embedded code can be used in the document to generate an example that is correct by construction, at least up to mistakes in the specification (i.e. the constraints in <code>InternetHeader</code>) and bugs in the <code>show</code> function.<a href="#section-5.1.1-19" class="pilcrow">¶</a></p>
</div>
<div id="_19c99bde-09a8-4aa4-8c08-9900e648c006">
<div id="section-5.1.1-20">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
....
{`example1`}
....
&lt;CODE ENDS&gt;</pre><a href="#section-5.1.1-20" class="pilcrow">¶</a>
</div>
</div>
<div id="_6472230d-42c4-4483-a2fd-97fa16ab9d30">
<p id="section-5.1.1-21">will generate the equivalent AsciiDoc text:<a href="#section-5.1.1-21" class="pilcrow">¶</a></p>
</div>
<div id="_312c356c-41cc-4629-82b9-854176d22211">
<div id="section-5.1.1-22">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
....
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Ver= 4 |IHL= 5 |Type of Service|        Total Length = 21      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      Identification = 111     |Flg=0|   Fragment Offset = 0   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Time = 123  |  Protocol = 1 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
....
&lt;CODE ENDS&gt;</pre><a href="#section-5.1.1-22" class="pilcrow">¶</a>
</div>
</div>
<div id="_90bf4620-68bd-4773-bbc1-7cc0987b8d6d">
<p id="section-5.1.1-23">This generated example is similar to the first of the examples in appendix A of RFC 791.<a href="#section-5.1.1-23" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="self_pdu_calculations">
<section id="section-5.1.2">
          <h4 id="name-calculations-from-pdu">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-calculations-from-pdu" class="section-name selfRef">Calculations from PDU</a>
          </h4>
<div id="_88702b9a-02f6-4379-bb6d-59c8cc31b5a0">
<p id="section-5.1.2-1">The previous section showed how to define a type that precisely describes a PDU, how to generates examples that are are values of that type, and how to insert them in a document.<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_0667174c-cd82-4775-8596-47c870015610">
<p id="section-5.1.2-2">Our specification, which has the form of an Idris type, can be seen as a generalization of all the possible examples for that type.
Now that we went through the effort of precisely defining that type, it would be useful to use it to also calculate statements about that syntax.<a href="#section-5.1.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_ca57d0d9-fa15-485e-9711-a154c557e7e0">
<p id="section-5.1.2-3">In RFC 791 the description of the field IHL states "[...​]that the minimum value for a correct header is 5."
The origin of this number may be a little mysterious, so it is better to use a formula to calculate it and insert the result instead.<a href="#section-5.1.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_36fbe467-0fd8-44be-bad9-bfe522fb8178">
<p id="section-5.1.2-4">Inserting a calculation is easy:<a href="#section-5.1.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_a9da2ae1-5fda-442d-b932-31553bbeb1c9">
<div id="section-5.1.2-5">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
 Note that the minimum value for a correct header is
 is \{`sizeHeader `div` ihlUnit`}.

 &gt; sizeHeader : Int
 &gt; sizeHeader = 20

 &gt; ihlUnit : Int
 &gt; ihlUnit = 4
&lt;CODE ENDS&gt;</pre><a href="#section-5.1.2-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_dfdb3749-c50b-4f18-9a46-49661253e2c4">
<p id="section-5.1.2-6">Here we can insert a code fragment that is using a function that is defined later in the document because the Idris code is evaluated before the document is processed.<a href="#section-5.1.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_15dab62d-de46-47ce-84a9-5608cd799993">
<p id="section-5.1.2-7">Note the difference with examples: The number <code>5</code> is not an example of value of the type <code>InternetHeader</code>, but a property of that type.<a href="#section-5.1.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_221bda33-6ebb-488f-91b7-fcf8a0894d21">
<p id="section-5.1.2-8">Systematically using the result of calculation on types in a specification makes it more resistant to mistakes that are introduced as result of modifications.<a href="#section-5.1.2-8" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="self_pdu_presentation">
<section id="section-5.1.3">
          <h4 id="name-pdu-representations">
<a href="#section-5.1.3" class="section-number selfRef">5.1.3. </a><a href="#name-pdu-representations" class="section-name selfRef">PDU Representations</a>
          </h4>
<div id="_4ec2db76-5ffd-42d8-aefa-12a42da5b273">
<p id="section-5.1.3-1">The layout of a PDU, i.e. the size and order of the fields that compose it can be represented in a document in various forms.
One of them is just an enumeration of these fields in order, each field identified by a name and accompanied by some description of that field in the form of the number of bits it occupies in the PDU and how to interpret these bits.<a href="#section-5.1.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_68bb0ab8-9ea3-4d7b-9642-954dcb4ba45f">
<p id="section-5.1.3-2">That layout can also be presented as text, as a list, as a table, as a bit diagram, at the convenience of the document author.
In all cases, some parts of the description of each field can be extracted from our Idris type just like we did in <a href="#self_pdu_calculations" class="xref">Section 5.1.2</a>.<a href="#section-5.1.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_a91dca39-11b5-438b-b19b-53db57ef3ff8">
<p id="section-5.1.3-3">RFC 791 section 3.1 represents the PDUs defined in it both as bit diagrams and as lists of fields.<a href="#section-5.1.3-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="self_fsm">
<section id="section-5.2">
        <h3 id="name-state-machines">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-state-machines" class="section-name selfRef">State Machines</a>
        </h3>
<div id="_f6b8ca96-6f4c-42e1-ba76-32e4c6e87871">
<p id="section-5.2-1">A network protocol, which is how the various PDUs defined in a document are exchanged between network elements, can always be understood as a set of state machines.
At the difference of PDUs, that are generally described in a way that is close to their Idris counterpart, state machines in a document are generally only described as text.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_c73423be-5ce5-4bbd-846b-704fb36d6387">
<p id="section-5.2-2">Note that, just like an Idris representation of a PDU should also contain all the possible constraints on that PDU but not more, a state machine should contain all the possible constraints in the exchange of PDUs, but not less.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_9455ee53-3755-4578-9f9e-ee5f0804b615">
<p id="section-5.2-3">This issue is most visible in one of the two state machines defined in RFC 791, the one for fragmenting IP packets (the other is for unfragmenting packets).
The text describes two different algorithms to fragment a packet but in that case each algorithm should be understood as one instance of a more general state machine.
That state machine describes all the possible sequences of fragments that can be generated by an algorithm that is compliant with RFC 791 and it would be an Idris type that is equivalent to the following algorithm:<a href="#section-5.2-3" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-5.2-4.1">
            <div id="_687f41ec-e267-464f-af97-3759321ef030">
<p id="section-5.2-4.1.1">For a specific packet size, generate a list of all the binary values {b0,.., bN} with N being the packet size divided by 8 and rounded-up, and 0..N representing positional indexes for each of the 8 byte chunks of the packet.<a href="#section-5.2-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-4.2">
            <div id="_8c08b6c8-e0f3-4098-bc4c-4ecf56ada23a">
<p id="section-5.2-4.2.1">For each binary value in that list, generate a list of values that represents the number of consecutive bits of the same value (e.g..  <code>0x110001011</code> generates a <code>[2, 3, 1, 1, 2]</code> list), each such sequence representing a given fragment<a href="#section-5.2-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-4.3">
            <div id="_0436299b-76ec-40ca-bba6-927745dc4447">
<p id="section-5.2-4.3.1">Remove from that list of lists any list that contains a number that, after multiplication by 8, is higher than the maximum size of a fragment.<a href="#section-5.2-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-4.4">
            <div id="_9a12c0de-6771-4877-9c6f-6b3068e85fe9">
<p id="section-5.2-4.4.1">For each remaining list in that list, generate the list of fragments, i.e with the correct offset, length and More bit.<a href="#section-5.2-4.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-4.5">
            <div id="_0dc3994b-1777-444a-8c0f-89ceb2f71da4">
<p id="section-5.2-4.5.1">Generate all the possible permutations for each list of fragments.<a href="#section-5.2-4.5.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<div id="_5b9f1a9d-511f-42e4-8d05-f844cc5423fb">
<p id="section-5.2-5">We can see that this state machine takes in account the fact that an IP packet can not only be fragmented in fragments of various sizes - as long as the constraints are respected - but also that these fragments can be sent in any order.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_63774193-8cc7-4521-b855-fcc98eac3865">
<p id="section-5.2-6">Then the algorithms described in the document can be seen as generating a subset of all the possible list of fragments that can be generated by our state machine.
It is then easy to check that these algorithms cannot generate fragments lists that cannot be generated by our state machine.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_74df99f6-6bef-4c7a-8ea3-19833dd25f73">
<p id="section-5.2-7">As a consequence, the unfragment state machine must be able to regenerate a valid unfragmented packet for any of the fragments list generated by our fragment state machine.
Furthermore, the unfragment state machine must also take in account fragment lists that are modified by the network (itself defined as a state machine) in the following ways:<a href="#section-5.2-7" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-5.2-8.1">
            <div id="_5953b601-d21a-49d8-9d98-4930c563e65c">
<p id="section-5.2-8.1.1">fragments can be dropped;<a href="#section-5.2-8.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-8.2">
            <div id="_7501e3ed-484b-43c6-a98f-a64afe4c7fdb">
<p id="section-5.2-8.2.1">the fragments order can change (this is already covered by the fact that our fragment state machine generates all possible orders);<a href="#section-5.2-8.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-8.3">
            <div id="_6dfad15a-f003-4392-8676-3d0ee62d581b">
<p id="section-5.2-8.3.1">fragments can be duplicated multiple times;<a href="#section-5.2-8.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-8.4">
            <div id="_8263fcf4-2f76-4e98-aaca-5c8dcaee68de">
<p id="section-5.2-8.4.1">fragments can be delayed;<a href="#section-5.2-8.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-5.2-8.5">
            <div id="_3f7da393-ab4b-4d5a-88aa-38d68f64e837">
<p id="section-5.2-8.5.1">fragments can be received that were never sent by the fragment state machine.<a href="#section-5.2-8.5.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<div id="_5a4c2a2b-6dbd-42ca-b864-db823d244613">
<p id="section-5.2-9">Then the algorithm described in the document can be compared with the unfragment state machine to verify that all states and transitions are covered.<a href="#section-5.2-9" class="pilcrow">¶</a></p>
</div>
<div id="_0d59d523-f3d0-4f64-9853-459f1b75242e">
<p id="section-5.2-10">Defining a state machine in Idris can be done in an <span><a href="#Linear-Resources" class="xref">ad-hoc way</a> [<a href="#Linear-Resources" class="xref">Linear-Resources</a>]</span>, particularly by using linear types that express resources' consumption.<a href="#section-5.2-10" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="self_proofs">
<section id="section-5.3">
        <h3 id="name-proofs">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-proofs" class="section-name selfRef">Proofs</a>
        </h3>
<div id="_e5b8f64b-e9a8-43a5-80d3-a2f5d6c46954">
<p id="section-5.3-1">Under the Curry-Howard equivalence, the Idris types that we created to describe PDUs and state machine are formal logic propositions, and being able to construct values from these types (like we did for the examples), is proof that these propositions are true.
These are also called <span><a href="#Stump16" class="xref">internal verifications</a> [<a href="#Stump16" class="xref">Stump16</a>]</span>.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_c1ee1994-7269-4818-9e63-195a70ff9568">
<p id="section-5.3-2">External verifications are made of additional propositions (as Idris types) and proofs (as code for these types) with the goal of verifying additional properties.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_ca915150-b65d-4554-b476-9fa5f93ef518">
<p id="section-5.3-3">One kind of proofs that one would want in a specification are related to isomorphism, i.e. a guarantee that two or more descriptions of a PDU or a state machine contain exactly the same information, but there is others.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
</div>
<div id="self_proof_wire">
<section id="section-5.3.1">
          <h4 id="name-wire-type-vs-semantic-type">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-wire-type-vs-semantic-type" class="section-name selfRef">Wire Type vs Semantic Type</a>
          </h4>
<div id="_b22b1cef-bcaa-46e6-8c83-724e31425ea4">
<p id="section-5.3.1-1">The Idris types that are used for generating examples, calculations or representations are generally very close to the bit structure of the PDU.
But some properties may be better expressed by defining types that are more abstract.
We call the former Wire Types, and the latter Semantic Types.<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_42672009-399f-4bff-b1c3-fe5f9db7741d">
<p id="section-5.3.1-2">As example, the type in <a href="#self_pdu_examples" class="xref">Section 5.1.1</a> is a wire type, because it follows exactly the PDU layout.
But fragmentation can be more easily described using the following semantic type:<a href="#section-5.3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_6cec1bbf-01c3-4aa5-9798-ebc5850f44dd">
<div id="section-5.3.1-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data InternetHeader' : Type where
  Full : (ihl : Int) -&gt; ihl &gt;= 5 &amp;&amp; ihl &lt; 16 = True =&gt;
         (tos : Int) -&gt; tos &gt;= 0 &amp;&amp; tos &lt;= 256 = True =&gt;
         (length : Int) -&gt; length &gt;= (5 * 4) &amp;&amp;
           length &lt; 65536 = True =&gt;
         (ttl : Int) -&gt; ttl &gt;= 0 &amp;&amp; ttl &lt; 256 = True =&gt;
         (protocol : Int) -&gt; protocol &gt;= 0 &amp;&amp;
           protocol &lt; 256 = True =&gt;
         InternetHeader'
  First : (ihl : Int) -&gt; ihl &gt;= 5 &amp;&amp; ihl &lt; 16 = True =&gt;
          (tos : Int) -&gt; tos &gt;= 0 &amp;&amp; tos &lt;= 256 = True =&gt;
          (length : Int) -&gt; length &gt;= (5 * 4) &amp;&amp;
            length &lt; 65536 = True =&gt;
          (id : Int) -&gt; id &gt;= 0 &amp;&amp; id &lt; 65536 = True =&gt;
          (ttl : Int) -&gt; ttl &gt;= 0 &amp;&amp; ttl &lt; 256 = True =&gt;
          (protocol : Int) -&gt; protocol &gt;= 0 &amp;&amp;
            protocol &lt; 256 = True =&gt;
          InternetHeader'
  Next : (ihl : Int) -&gt; ihl &gt;= 5 &amp;&amp; ihl &lt; 16 = True =&gt;
         (tos : Int) -&gt; tos &gt;= 0 &amp;&amp; tos &lt;= 256 = True =&gt;
         (length : Int) -&gt; length &gt;= (5 * 4) &amp;&amp;
           length &lt; 65536 = True =&gt;
         (offset : Int) -&gt; length &gt; 0 &amp;&amp;
           length &lt; 8192 = True =&gt;
         (id : Int) -&gt; id &gt;= 0 &amp;&amp; id &lt; 65536 = True =&gt;
         (ttl : Int) -&gt; ttl &gt;= 0 &amp;&amp; ttl &lt; 256 = True =&gt;
         (protocol : Int) -&gt; protocol &gt;= 0 &amp;&amp;
           protocol &lt; 256 = True =&gt;
         InternetHeader'
  Last : (ihl : Int) -&gt; ihl &gt;= 5 &amp;&amp; ihl &lt; 16 = True =&gt;
         (tos : Int) -&gt; tos &gt;= 0 &amp;&amp; tos &lt;= 256 = True =&gt;
         (length : Int) -&gt; length &gt;= (5 * 4) &amp;&amp;
           length &lt; 65536 = True =&gt;
         (offset : Int) -&gt; length &gt; 0 &amp;&amp;
           length &lt; 8192 = True =&gt;
         (id : Int) -&gt; id &gt;= 0 &amp;&amp; id &lt; 65536 = True =&gt;
         (ttl : Int) -&gt; ttl &gt;= 0 &amp;&amp; ttl &lt; 256 = True =&gt;
         (protocol : Int) -&gt; protocol &gt;= 0 &amp;&amp;
           protocol &lt; 256 = True =&gt;
         InternetHeader'
&lt;CODE ENDS&gt;</pre><a href="#section-5.3.1-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_7774a837-1377-4d7b-ab2c-35a82af7ad08">
<p id="section-5.3.1-4">First the <code>version</code> field is eliminated, because it always contains the same constant.<a href="#section-5.3.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_4dfc83fb-f94b-448a-8cf5-df95fb97d562">
<p id="section-5.3.1-5">Then the <code>flags</code> and <code>offset</code> fields are reorganized so to provide four different alternate packets:<a href="#section-5.3.1-5" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-5.3.1-6.1">
              <div id="_6888a85b-0a40-47d0-a07c-892caf9eed7d">
<p id="section-5.3.1-6.1.1">The <code>Full</code> constructor represents an unfragmented packet.
It is isomorphic to a <code>MkInternetHeader</code> with a <code>flags</code> and <code>offset</code> values of 0.<a href="#section-5.3.1-6.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-5.3.1-6.2">
              <div id="_9a567c0b-f429-426b-8f06-6888461a562d">
<p id="section-5.3.1-6.2.1">The 'First' constructor represents the first fragment of a packet.
It is isomorphic to a <code>MkInternetHeader</code> with a <code>flags</code> value of 1 and <code>offset</code> value of 0.<a href="#section-5.3.1-6.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-5.3.1-6.3">
              <div id="_24208309-a077-4b26-a783-ba6999de2372">
<p id="section-5.3.1-6.3.1">The 'Next' constructor represents a intermediate fragments of a packet.
It is isomorphic to a <code>MkInternetHeader</code> with a <code>flags</code> value of 1 and <code>offset</code> value different than 0.<a href="#section-5.3.1-6.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-5.3.1-6.4">
              <div id="_bb413098-cf5c-492c-8472-232c2b0d47a8">
<p id="section-5.3.1-6.4.1">Finally the 'Last' constructor represents the last fragment of a packet.
It is isomorphic to a <code>MkInternetHeader</code> with a <code>flags</code> value of 0 and <code>offset</code> value different than 0.<a href="#section-5.3.1-6.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
<div id="_b3ebfa5c-03b2-4a28-aaca-d0763ef12849">
<p id="section-5.3.1-7">One of the main issue of having two types for the same data is ensuring that they both contains the same information, i.e. that they are isomorphic.
To ensure that these two types are carrying the same information we need to define and implement four functions that, all together, prove that the types are isomorphic.
This is done by defining the 4 types below, as propositions to be proven:<a href="#section-5.3.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_4036f828-d8c9-4ac9-9281-81367a4d547e">
<div id="section-5.3.1-8">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
total
to : InternetHeader -&gt; InternetHeader'

total
from : InternetHeader' -&gt; InternetHeader

total
toFrom : (x : InternetHeader') -&gt; to (from x) = x

total
fromTo : (x : InternetHeader) -&gt; from (to x) = x
&lt;CODE ENDS&gt;</pre><a href="#section-5.3.1-8" class="pilcrow">¶</a>
</div>
</div>
<div id="_b3006b89-a7cb-4b5e-8afb-fdb0e8892054">
<p id="section-5.3.1-9">Successfully implementing these functions will prove that the two types are isomorphic.
Note the usage of the <code>total</code> keyword to ensure that these are proofs and not mere programs.<a href="#section-5.3.1-9" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="self_proof_conversion">
<section id="section-5.3.2">
          <h4 id="name-data-format-conversion">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-data-format-conversion" class="section-name selfRef">Data Format Conversion</a>
          </h4>
<div id="_7004461d-7a92-4a3e-a47c-e66a447a8b75">
<p id="section-5.3.2-1">For documents that describe a conversion between different data layouts, having a proof that guarantees that no information is lost in the process can be beneficial.
For instance, we observe that syntax encoding tends to be replaced each ten years or so by something "better".
Here again isomorphism can tell us exactly what kind of information we lost and gained during that replacement.<a href="#section-5.3.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_472b6e75-25e8-493e-8eae-31fa6a827d1e">
<p id="section-5.3.2-2">Here, for example, the definition of a function that would verify an isomorphism between an XML format and a JSON format:<a href="#section-5.3.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_1902fa8f-88f6-42cd-a64e-bdfb5f9449c0">
<div id="section-5.3.2-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
isXmlAndJsonSame: Iso (XML, DeltaXML) (JSON, DeltaJson)
  ...
&lt;CODE ENDS&gt;</pre><a href="#section-5.3.2-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_61ff87b6-2e52-4167-9375-9ff90b6f72b6">
<p id="section-5.3.2-4">DeltaXML expresses what is gained by switching from XML to JSON, and DeltaJson expresses what is lost.<a href="#section-5.3.2-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="self_proof_postel">
<section id="section-5.3.3">
          <h4 id="name-postels-law">
<a href="#section-5.3.3" class="section-number selfRef">5.3.3. </a><a href="#name-postels-law" class="section-name selfRef">Postel's Law</a>
          </h4>
<blockquote id="section-5.3.3-1">
            <div id="_a939a72f-6522-4cbc-8583-f79646ec4d2d">
<p id="section-5.3.3-1.1">Be conservative in what you do, be liberal in what you accept from others.<a href="#section-5.3.3-1.1" class="pilcrow">¶</a></p>
</div>
<cite>— Jon Postel - RFC 761</cite>
</blockquote>
<div id="_e075dacf-6800-48a8-8090-ae23f4260daf">
<p id="section-5.3.3-2">One of the downsides of having specifications is that there is no wiggle room possible when implementing them.
An implementation either conforms to the specification or does not.<a href="#section-5.3.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_7583a0d4-2fc0-4afc-ad51-f7dc795645e1">
<p id="section-5.3.3-3">One analogy would be specifying a pair of gears.
If one decides to have both of them made with tolerances that are too small, then it is very likely that they will not be able to move when put together.
A bit of slack is needed to get the gear smoothly working together but more importantly the cost of making these gears is directly proportional to their tolerance.
There is an inflexion point where the cost of an high precision gear outweighs its purpose.<a href="#section-5.3.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_bc05b41f-29bd-4d42-90ca-69a3824f3a16">
<p id="section-5.3.3-4">We have a similar issue when implementing a specification, where having an absolutely conform implementation may cost more money than it is worth spending.
On the other hand a specification exists for the purpose of interoperability, so we need some guidelines on what to ignore in a specification to make it cost effective.<a href="#section-5.3.3-4" class="pilcrow">¶</a></p>
</div>
<div id="_9fca5ae7-3967-42f0-a654-7f0b9b28a75b">
<p id="section-5.3.3-5">Postel's law proposes an informal way of defining that wiggle room by actually having two different specifications, one that defines a data layout for the purpose of sending it, and another one that defines a data layout for the purpose of receiving that data layout.<a href="#section-5.3.3-5" class="pilcrow">¶</a></p>
</div>
<div id="_4530c3f6-20c6-4b21-b723-7a8616c0c442">
<p id="section-5.3.3-6">Existing documents express that dichotomy in the form of the usage of SHOULD/SHOULD NOT/RECOMMENDED/NOT RECOMMENDED <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> keywords.
For example the SDP spec says that "[t]he sequence CRLF (0x0d0a) is used to end a line, although parsers SHOULD be tolerant and also accept lines terminated with a single newline character."
This directly infers two specifications, one used to define an SDP when sending it, that enforces using only CRLF, and a second specification, used to define an SDP when receiving it (or parsing it), that accepts both CRLF and LF.<a href="#section-5.3.3-6" class="pilcrow">¶</a></p>
</div>
<div id="_adcb35f6-cdf4-4fcb-8d0c-c1f38c5f4e04">
<p id="section-5.3.3-7">Note that the converse is not necessarily true, i.e. not all usages of these keywords are related to Postel's Law.<a href="#section-5.3.3-7" class="pilcrow">¶</a></p>
</div>
<div id="_129c2dda-2019-4cb3-b499-1e5d94ce96a5">
<p id="section-5.3.3-8">To ensure that the differences between the sending specification and the receiving specification do not create interoperability problems, we can use a variant of isomorphism, as shown in the following example (data constructors and code elided):<a href="#section-5.3.3-8" class="pilcrow">¶</a></p>
</div>
<div id="_e660f8b0-1efa-4f15-ae5f-c3da45692dcc">
<div id="section-5.3.3-9">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Sending : Type where

data Receiving : Type where

to : Sending -&gt; List Receiving

from : Receiving -&gt; Sending

toFrom : (y : Receiving) -&gt; Elem y (to (from y))

fromTo : (y : Sending) -&gt; True = all (== y) [from x | x &lt;- to y]
&lt;CODE ENDS&gt;</pre><a href="#section-5.3.3-9" class="pilcrow">¶</a>
</div>
</div>
<div id="_aaa029dd-51e5-4fd5-8e52-d7ae5b60f791">
<p id="section-5.3.3-10">Here we define two data types, one that describes the data layout that is permitted to be sent (<code>Sending</code>) and one that describes the data layout that is permitted to be received (<code>Receiving</code>).
For each data layout that is possible to send, there is one or more matching receiving data layouts.
This is expressed by the function <code>to</code> that takes as input one Sending value and returns a list of Receiving values.<a href="#section-5.3.3-10" class="pilcrow">¶</a></p>
</div>
<div id="_a7d00068-5109-473e-98c9-115c03290f7f">
<p id="section-5.3.3-11">Conversely, the <code>from</code> function maps a Receiving data layout onto a Sending data layout.
Note the asymmetry there, which prevents using a standard proof of isomorphism.<a href="#section-5.3.3-11" class="pilcrow">¶</a></p>
</div>
<div id="_29a78a01-160f-40a6-8cb0-f91d8320bc61">
<p id="section-5.3.3-12">Then the <code>toFrom</code> and <code>fromTo</code> proofs verify that there is no interoperability issue by guaranteeing that each Receiving value maps to one and only one Sending instance and that this mapping is isomorphic.<a href="#section-5.3.3-12" class="pilcrow">¶</a></p>
</div>
<div id="_5e33d981-28b7-4848-b691-db1273c757ee">
<p id="section-5.3.3-13">All of this will provide a clear guidance of when and where to use a SHOULD keyword or its variants, without loss of interoperability.<a href="#section-5.3.3-13" class="pilcrow">¶</a></p>
</div>
<div id="_1ae6717b-f927-4074-9455-7f83a9e6356c">
<p id="section-5.3.3-14">As an trivial example, the following proves that accepting LF characters in addition to CRLF characters as end of line markers does not break interoperability:<a href="#section-5.3.3-14" class="pilcrow">¶</a></p>
</div>
<div id="_b50f87a2-421e-4ecf-ac6d-897f0dc51218">
<div id="section-5.3.3-15">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Sending : Type where
  S_CRLF : Sending

Eq Sending where
  S_CRLF == S_CRLF = True

data Receiving : Type where
  R_CRLF : Receiving
  R_LF : Receiving

to : Sending -&gt; List Receiving
to S_CRLF = [R_CRLF, R_LF]

from : Receiving -&gt; Sending
from R_CRLF = S_CRLF
from R_LF = S_CRLF

toFrom : (y : Receiving) -&gt; Elem y (to (from y))
toFrom R_CRLF = Here
toFrom R_LF = There Here

fromTo : (y : Sending) -&gt; True = all (== y) [from x | x &lt;- to y]
fromTo S_CRLF = Refl
&lt;CODE ENDS&gt;</pre><a href="#section-5.3.3-15" class="pilcrow">¶</a>
</div>
</div>
<div id="_a7b45001-73c7-4732-9e00-572b71c50a85">
<p id="section-5.3.3-16">Postel's Law is not limited to the interpretation of PDUs as a state machine on the receiving side can also be designed to accept more than what a sending state machine can produce.
A similar isomorphism proof can be used to ensure that this is done without loss of interoperability.<a href="#section-5.3.3-16" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="self_proof_verification">
<section id="section-5.3.4">
          <h4 id="name-implementability">
<a href="#section-5.3.4" class="section-number selfRef">5.3.4. </a><a href="#name-implementability" class="section-name selfRef">Implementability</a>
          </h4>
<div id="_f3186d2d-eb5a-4ec7-b07d-f082271883c9">
<p id="section-5.3.4-1">When applied, the techniques described in <a href="#self_pdu" class="xref">Section 5.1</a> and <a href="#self_fsm" class="xref">Section 5.2</a> result in a set of types that represents the whole protocol.
These types can be assembled together, using another set of types, to represent a simulation of that protocol that covers all sending and receiving processes.<a href="#section-5.3.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_f3ca0b60-62fc-43cd-961e-4fac0e57f116">
<p id="section-5.3.4-2">The types can then be implemented, and that implementation acts as a proof that this protocol is actually implementable.<a href="#section-5.3.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_0d08e98f-e187-4b9e-b048-80e2dbd289ea">
<p id="section-5.3.4-3">To make these pieces of code composable, a specification is split in multiple modules, each one represented as a unique function.
The type of each of these functions is derived from the state machines described in <a href="#self_fsm" class="xref">Section 5.2</a>, by bundling together all the inputs of the state machine as the input for that function, and bundling all the outputs of the state machine as the output of this function.<a href="#section-5.3.4-3" class="pilcrow">¶</a></p>
</div>
<div id="_49687bf8-daf2-4b6a-8045-23d6111b5306">
<p id="section-5.3.4-4">For instance the IP layer is really 4 different functions:<a href="#section-5.3.4-4" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-5.3.4-5.1">
              <div id="_09bc8454-56c1-421f-826c-4dd4c07a3ba6">
<p id="section-5.3.4-5.1.1">A function that converts between a byte array and a tree representation (parsing).<a href="#section-5.3.4-5.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-5.3.4-5.2">
              <div id="_e52c5d62-134f-46f9-ac3f-801afae71e10">
<p id="section-5.3.4-5.2.1">A function that takes a tree representation and a maximum MTU and returns a list of tree representations, each one fitting inside the MTU.<a href="#section-5.3.4-5.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-5.3.4-5.3">
              <div id="_84d088b4-3366-467b-b563-b66ff9a14ae9">
<p id="section-5.3.4-5.3.1">A function that accumulates tree representations of an IP fragment until a tree representation of a full IP packet can be returned.<a href="#section-5.3.4-5.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-5.3.4-5.4">
              <div id="_dfa77717-ad06-4bff-8937-c84712618cea">
<p id="section-5.3.4-5.4.1">A function that convert a tree representation into a byte array.<a href="#section-5.3.4-5.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
<div id="_4b4ebac7-aae6-4292-b896-a9a412ee55f4">
<p id="section-5.3.4-6">The description of each function is incomplete, as in addition to the input and the output listed, these functions needs some ancillary data, in the form of:<a href="#section-5.3.4-6" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-5.3.4-7.1">
              <div id="_7c10b352-784c-4b34-a517-2ff3ed32d1ea">
<p id="section-5.3.4-7.1.1">state, which is basically values stored between evaluations of a function,<a href="#section-5.3.4-7.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-5.3.4-7.2">
              <div id="_e7a887bd-4e82-4d9d-8ebe-f1f321b778b5">
<p id="section-5.3.4-7.2.1">an optional signal, that can be used as an API request or response.
As timers are a fundamental building block for communication protocols, one common uses for that signal are to request the arming of a timer, and to receive the indication of the expiration of that timer.<a href="#section-5.3.4-7.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</section>
</div>
<div id="self_proof_termination">
<section id="section-5.3.5">
          <h4 id="name-termination">
<a href="#section-5.3.5" class="section-number selfRef">5.3.5. </a><a href="#name-termination" class="section-name selfRef">Termination</a>
          </h4>
<div id="_80f63324-98ab-4e6d-9745-f60f9060066d">
<p id="section-5.3.5-1">Proving that a protocol does not loop is equivalent to proving that a implementation of the types for that protocol does not loop either i.e., terminates.
This is done by using the type described in <a href="#self_proof_verification" class="xref">Section 5.3.4</a> and making sure that it type-check when the <code>total</code> keyword is used.<a href="#section-5.3.5-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="self_proof_liveness">
<section id="section-5.3.6">
          <h4 id="name-liveness">
<a href="#section-5.3.6" class="section-number selfRef">5.3.6. </a><a href="#name-liveness" class="section-name selfRef">Liveness</a>
          </h4>
<div id="_15cedb17-4de0-498b-ad5f-93f7976dadf6">
<p id="section-5.3.6-1">A protocol may never terminate - in fact most of the time the server side of a protocol is a loop - but it still can do some useful work in that loop.
This property is called liveness.<a href="#section-5.3.6-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="import">
<section id="section-6">
      <h2 id="name-importing-specifications">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-importing-specifications" class="section-name selfRef">Importing Specifications</a>
      </h2>
<div id="_d7284ca5-bc03-4db5-a68b-5e634a50c7e4">
<aside id="section-6-1">
        <p id="section-6-1.1">NOTE: The code for the libraries described in that section is not yet ready to be published.<a href="#section-6-1.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_153a7aca-a01f-49ae-8f83-1dc9e6436c82">
<p id="section-6-2">One of the ultimate goals of this document is to convince authors to use the techniques described there to write their documents.
Because doing so requires a lot of efforts, an important intermediate goal is to show authors that the benefits of Computerate Specifying are worth learning and becoming proficient in these techniques.<a href="#section-6-2" class="pilcrow">¶</a></p>
</div>
<div id="_827315ff-91ea-40ae-8c9e-2d90dcbfdb0d">
<p id="section-6-3">The best way to reach that intermediate goal is to apply these technique to documents that are in the process of being published by the IETF and if issues are found, report them to the authors.
Doing that on published RFCs, especially just after their publication, would be unnecessarily mean.
On the other hand doing that on all Internet-Drafts as they are published would not be scalable.<a href="#section-6-3" class="pilcrow">¶</a></p>
</div>
<div id="_4a1d11dc-187a-4223-9a68-ffa2d8e3d6bf">
<p id="section-6-4">The best place to do a Computerate Specifying oriented review is when a document enters IETF Last Call.
These reviews would then be indistinguishable from the reviews done by an hypothetical Formal Specification Directorate.
An argument can be made that, ultimately, writing a specification for a document could be an activity too specialized, just like Security reviews are, and that an actual Directorate should be assembled.<a href="#section-6-4" class="pilcrow">¶</a></p>
</div>
<div id="_aa247a8e-c41c-4077-8844-b5b0ddad41d8">
<p id="section-6-5">Alas, it is clear that writing a specification from scratch (as in <a href="#self" class="xref">Section 5</a>) for an existing document takes far more time than the Last Call duration would allow.
On the other hand the work needed could be greatly reduced if, instead of writing that specification from scratch, libraries of code would be available for the parts that are reusable between successive specifications.
These libraries fall into 3 categories:<a href="#section-6-5" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-6-6.1">
          <div id="_d9c26ae0-b9f4-44d2-8476-39016c004d12">
<p id="section-6-6.1.1">General types and common presentations.
  E.g., bit diagrams are a very common way of presenting data, and so reusable types and functions to generate and compare them would accelerate a formalization.
The libraries in that category are explained in <a href="#import_common" class="xref">Section 6.1</a>, in <a href="#library_modules" class="xref">Section 8.1</a>, and its associated reference in <a href="#reference" class="xref">Appendix B</a>.<a href="#section-6-6.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="normal" id="section-6-6.2">
          <div id="_afd4c28f-9784-4add-9af9-302ee799e29d">
<p id="section-6-6.2.1">Types and common representations for meta-languages.
  A few meta-languages are used in documents to formalize some parts of them, so having libraries to formalize these meta-languages also helps accelerating their verification.
The libraries in that category are explained in <a href="#import_meta" class="xref">Section 6.2</a>, in <a href="#library_metalanguages" class="xref">Section 8.2</a>, and its associated reference in <a href="#reference" class="xref">Appendix B</a>.<a href="#section-6-6.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="normal" id="section-6-6.3">
          <div id="_18302115-c752-4c45-bb19-cc0a0757e291">
<p id="section-6-6.3.1">Types and common representation for common protocols.
  Most documents are about modifying or defined new usages for existing protocols, which is why it makes sense to establish libraries of these existing protocols for reuse.
The libraries in that category are explained in <a href="#import_proto" class="xref">Section 6.3</a>, in <a href="#library_protocols" class="xref">Section 8.3</a>, and its associated reference in <a href="#reference" class="xref">Appendix B</a>.<a href="#section-6-6.3.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<div id="_4052877a-04c0-47c5-bf6e-7d44d8a5abc1">
<p id="section-6-7">Together these libraries form the <span><a href="#library" class="xref">Computerate Specifying Standard Library</a> (<a href="#library" class="xref">Section 8</a>)</span>.<a href="#section-6-7" class="pilcrow">¶</a></p>
</div>
<div id="_74119535-422e-4408-8d33-aafa0c4ebb43">
<p id="section-6-8">These libraries are in fact computerate specifications that, instead of being private, are designed to export types and code and be imported in other computerate specifications.
<a href="#export" class="xref">Section 7</a> describes how to build an specification that can be exported.<a href="#section-6-8" class="pilcrow">¶</a></p>
</div>
<div id="_738cb477-f56c-4483-ba7d-8c10b370051b">
<p id="section-6-9">The types and code in a computerate specification form an Idris package, which is a collection of Idris modules.
An Idris module form a namespace hierarchy for the types and functions defined in it and is physically stored as a file.<a href="#section-6-9" class="pilcrow">¶</a></p>
</div>
<div id="_6ff5fcd3-c69d-4a02-b5ab-dfb3f2258f2f">
<p id="section-6-10">Different types of specification can be combined, for instance an exporting library may import from another specification, and this recursively until importing specifications that are both self-contained and exporting.<a href="#section-6-10" class="pilcrow">¶</a></p>
</div>
<div id="_44fac110-ba41-4f75-a0e8-3fc0285f9ecc">
<p id="section-6-11">For convenience each public computerate specification, including the one behind this document, is available as an individual git repository.
There is exactly one Idris package per git repository.
<a href="#cli_source" class="xref">Appendix A.5</a> explains how to gain access to these computerate specifications.<a href="#section-6-11" class="pilcrow">¶</a></p>
</div>
<div id="import_common">
<section id="section-6.1">
        <h3 id="name-common-modules">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-common-modules" class="section-name selfRef">Common Modules</a>
        </h3>
<div id="_7cd6e5b1-5466-4df1-b465-e7717bcccf5b">
<p id="section-6.1-1">This document is itself generated from a computerate specification that contains data types and functions that can be reused in future specifications, and as a whole is part of the standard library for computerate specifying.
The following sections describes the Idris modules defined in that specification.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
</div>
<div id="import_common_asciidoc">
<section id="section-6.1.1">
          <h4 id="name-generating-asciidoc">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-generating-asciidoc" class="section-name selfRef">Generating AsciiDoc</a>
          </h4>
<div id="_cce6ce59-92b5-451e-b585-e90760342ba7">
<p id="section-6.1.1-1">The code described in <a href="#self" class="xref">Section 5</a> directly generates text that is to be embedded inside an AsciiDoc document.
This is fine for small examples but AsciiDoc has quite a lot of escaping rules that are difficult to use in a consistent manner.<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_b34c7d5b-879c-40b5-90e7-3cda3236c811">
<p id="section-6.1.1-2">For this reason the specification behind this document provides a module named <code>AsciiDoc</code> that contains a set of types that can be used to guarantee that the AsciiDoc text generated is compliant with its specification.
All these types implement the <code>Show</code> interface so they can be directly returned by the embedded code.<a href="#section-6.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_b0fab41a-894a-4fa4-a04d-21dd539dda6f">
<p id="section-6.1.1-3">So instead of implementing a show function, a function returning an instance of one of the types can be executed directly as embedded code:<a href="#section-6.1.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_9b03d824-cabf-4700-b807-83ea21645711">
<div id="section-6.1.1-4">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
&gt; example : InternetHeader -&gt; Block
&gt; example ih = ?example_rhs

{`example example1`}
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.1-4" class="pilcrow">¶</a>
</div>
</div>
<div id="_f9585100-efd3-45ed-ae08-0afced8d2e28">
<p id="section-6.1.1-5">In the example above, the <code>example</code> function converts an <code>InternetHeader</code> value into an <code>AsciiDoc</code> block, which is automatically serialized as AsciiDoc text.<a href="#section-6.1.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_09188f8c-3345-4f18-aff2-e5fddb657e2b">
<p id="section-6.1.1-6">The <code>AsciiDoc</code> module is not limited to generating examples, but can be used to generate any AsciiDoc structure from Idris code.
E.g., the tables in <a href="#errata" class="xref">Appendix C</a> are generated using that technique.<a href="#section-6.1.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_bce5d626-78f0-460d-b74a-bd5680642b5d">
<p id="section-6.1.1-7"><a href="#library_asciidoc" class="xref">Section 8.1.1</a> provides a description of the <code>AsciiDoc</code> module.<a href="#section-6.1.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_1d4303bc-627d-4737-85d9-5255d3f1dc57">
<aside id="section-6.1.1-8">
            <p id="section-6.1.1-8.1">NOTE: Similarly the RFC Editor has rules on how to present source code and examples in a document, particularly about how lines longer than 72 characters should be folded.
A module similar to the <code>AsciiDoc</code> module will be developed to apply these rules transparently.<a href="#section-6.1.1-8.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_e724a6c2-f8b9-4225-ad80-225deacdddbf">
<p id="section-6.1.1-9">Using an intermediary type will also permit to correctly generate AsciiDoc that can generate an xml2rfc v3 file that supports both text and graphical versions of a figure.
This will be done by having AsciiDoc blocks converted into &lt;artwork&gt; elements that contains both the 72 column formatted text and an equivalent SVG file, even for code source (instead of using the &lt;sourcecode&gt; element).<a href="#section-6.1.1-9" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="import_common_types">
<section id="section-6.1.2">
          <h4 id="name-common-data-types">
<a href="#section-6.1.2" class="section-number selfRef">6.1.2. </a><a href="#name-common-data-types" class="section-name selfRef">Common Data Types</a>
          </h4>
<div id="_26772802-fa11-4710-919d-8aafe8a6e617">
<p id="section-6.1.2-1">The type in <a href="#self_pdu_examples" class="xref">Section 5.1.1</a> seems a good representation of the structure of the Internet Header, but the origin of a lot of the values in the constraints does not seems very obvious, and as such are still prone to errors.
E.g., the calculation in <a href="#self_pdu_calculations" class="xref">Section 5.1.2</a> could be better if it was using the type itself as a source for the calculated data.<a href="#section-6.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_ddfffae8-19cc-43ad-9997-9df7e23f47f1">
<p id="section-6.1.2-2">It also may be more convenient to use types that already have some of the properties we need, instead of having to add a bunch of constraints to the <code>Int</code> type.<a href="#section-6.1.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_2a438e73-b634-431b-bb98-bc7b3ed44449">
<p id="section-6.1.2-3">The truth of the matter is that the Idris standard library contains very few predefined types that are useful to specify the syntax of communication protocols.
E.g., none of the builtin types (<code>Int</code>, <code>Integer</code>, <code>Double</code>, <code>Char</code>, <code>String</code>, etc) are really suitable to describe a PDU syntax, and so should be avoided.
For this reason, it is preferable to use the types provided by the Computerate Specifying Standard Library.<a href="#section-6.1.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_d228924e-6319-458e-9b2b-e740deacead5">
<p id="section-6.1.2-4">We are going to redefine the <code>InternetHeader</code> type, but using three modules from the standard library:<a href="#section-6.1.2-4" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_9509d2cf-7ae8-4828-b310-18f996267066">
<dl class="dlParallel" id="section-6.1.2-5">
            <dt id="section-6.1.2-5.1">BitVector: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-5.2">
              <div id="_87e508a4-67a0-46f4-b314-62139200bf05">
<p id="section-6.1.2-5.2.1">A sequence of bits, or bit-vector, is the most primitive type with which a packet can be described.
This module provides a type <code>BitVector n</code> that represents a sequence of bit of fixed size <code>n</code>.
The module also provides a set of functions that permits to manipulate bit-vectors.
See <a href="#library_bitvector" class="xref">Section 8.1.2</a> for a description of the <code>BitVector</code> module.<a href="#section-6.1.2-5.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-5.3">Unsigned: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-5.4">
              <div id="_9a594963-213f-4bb6-bc2f-219c8b7b2201">
<p id="section-6.1.2-5.4.1">The <code>Unsigned</code> module provides a type <code>Unsigned n</code> that is built on top of the <code>BitVector</code> module.
In addition of the properties of a bit-vector, an <code>Unsigned n</code> is considered a number and so all the integer operations applies to it.
See <a href="#library_unsigned" class="xref">Section 8.1.3</a> for a description of the <code>Unsigned</code> module.<a href="#section-6.1.2-5.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-5.5">Dimension: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-5.6">
              <div id="_7110b91f-f44d-4819-8396-8321aa5a9ea8">
<p id="section-6.1.2-5.6.1">Some numbers (also called denominate numbers) are used in conjunction with a so-called unit of measure.
The <code>Dimension</code> module provides a way to associate a dimension, in the form of a unit of measure, to an Idris number, including to the numbers defined in the <code>Unsigned</code> module.
The <code>Dimension</code> module provides two dimensions, Data (with bit, octet, etc, as units of information) and Time (with second, millisecond, etc, as unit of time).
See <a href="#library_dimension" class="xref">Section 8.1.4</a> for a description of the <code>Dimension</code> module.<a href="#section-6.1.2-5.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<div id="_ac3b63e7-fa64-4ebf-91ce-d0a4f6564502">
<p id="section-6.1.2-6">A redefinition of the type in <a href="#self_pdu_examples" class="xref">Section 5.1.1</a> using the types in these modules would look like this:<a href="#section-6.1.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_ab19a9f1-7ff7-4283-9a57-8132bcca7655">
<div id="section-6.1.2-7">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data InternetHeader : Type where
  MkInternetHeader :
    (version : BitVector 4) -&gt; version = [O, I, O, O] =&gt;
    (ihl : (Unsigned 4, Data)) -&gt; snd ihl = tetra =&gt;
    (tos : BitVector 8) -&gt;
    (length : (Unsigned 16, Data)) -&gt; snd length = byte =&gt;
    (id : Unsigned 16) -&gt;
    (flags : BitVector 3) -&gt;
    (offset : Unsigned 13, Data)) -&gt; snd offset = octa =&gt;
    (ttl : (Unsigned 8, Time)) -&gt; snd ttl = second =&gt;
    (protocol : BitVector 16) -&gt;
    (checksum : BitVector 16) -&gt;
    (source : BitVector 32) -&gt;
    (dest : BitVector 32) -&gt;
    (options : List Option) -&gt;
    (padding : BitVector n) -&gt;
    InternetHeader
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.2-7" class="pilcrow">¶</a>
</div>
</div>
<span class="break"></span><div id="_22784421-4b5b-43eb-9b2d-04f4e3fbfbe8">
<dl class="dlParallel" id="section-6.1.2-8">
            <dt id="section-6.1.2-8.1">version: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.2">
              <div id="_274f4cdf-8a1f-470d-9c47-0af2f60190e9">
<p id="section-6.1.2-8.2.1">This is bit-vector, but it always contains the same value, so a constraint states that.
Because bit-vectors are not integers, the value must be expressed by a list of <code>O</code> (for 0) and <code>I</code> (for 1) constructors.<a href="#section-6.1.2-8.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.3">ihl: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.4">
              <div id="_8b9cc4c4-2672-46af-a82b-2c9ebb8e3ad2">
<p id="section-6.1.2-8.4.1">This is an unsigned integer with a size of 4 bits.
It is associated with a dimension, here the <code>Data</code> dimension, which is constrained to use the <code>tetra</code> unit (32-bit words).
Basically a denominate number can only be added or subtracted with numbers with the same dimension (but not necessarily with the same unit).
E.g. adding the <code>ihl</code> value with the <code>ttl</code> value  will be rejected by Idris, because that operation does not make sense.
A denominate number can also be divided or multiplied by a dimensionless number.<a href="#section-6.1.2-8.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.5">tos, flags, protocol, source, dest: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.6">
              <div id="_e1c270c1-ae78-4d9c-adaf-e5e4b32a100b">
<p id="section-6.1.2-8.6.1">These are defined as bit-vectors, because they are not really numbers - they do not need to be compared, or be part of a calculation.
The number in this type (and all the others) is the number of bits allocated.<a href="#section-6.1.2-8.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.7">length: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.8">
              <div id="_db7e0768-8bdc-47f1-87c1-b15ae0d7ec7f">
<p id="section-6.1.2-8.8.1">This is an unsigned number with a size of 16 bits, a <code>Data</code> dimension and a <code>byte</code> unit (8 bits).
After casting as denominate numbers, subtracting <code>ihl</code> from <code>length</code> gives directly the size of the payload, without risk of scaling error.<a href="#section-6.1.2-8.8.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.9">id: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.10">
              <div id="_2cfefaa4-4bf2-43f6-b226-1e913d23fe99">
<p id="section-6.1.2-8.10.1">This is an unsigned integer.
Comparisons and calculations are possible on this field.<a href="#section-6.1.2-8.10.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.11">offset: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.12">
              <div id="_b2f798ca-6bad-4d95-9847-f17b1bdda8a6">
<p id="section-6.1.2-8.12.1">This is an unsigned number with a length of 13 bits, a <code>Data</code> dimension and an <code>octa</code> unit (64 bits).
Again, adding or subtracting this value after casting to another of the same dimension is guaranteed to return the correct value.<a href="#section-6.1.2-8.12.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.13">ttl: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.14">
              <div id="_e1230c91-8934-4b95-9f13-03ad336f8519">
<p id="section-6.1.2-8.14.1">This is a denominate number with <code>Time</code> as dimension and <code>second</code> as unit.<a href="#section-6.1.2-8.14.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.15">options: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.16">
              <div id="_38df61ed-3dbd-4c3a-8886-35847c4769a9">
<p id="section-6.1.2-8.16.1">This is a variable length field that contains a list of options, which are defined in a separate type named <code>Option</code>.<a href="#section-6.1.2-8.16.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-6.1.2-8.17">padding: </dt>
            <dd style="margin-left: 1.5em" id="section-6.1.2-8.18">
              <div id="_7ada5ae8-c3f9-40b0-9f9c-81a087fc942c">
<p id="section-6.1.2-8.18.1">This is a bit-vector whose length is variable.<a href="#section-6.1.2-8.18.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<div id="_88ab529b-b9cc-4966-aa06-1fdeaf06e286">
<p id="section-6.1.2-9">The <code>byte</code>, <code>wyde</code>, <code>octa</code>, and <code>tetra</code> units are precisely defined in <span>[<a href="#Knuth05" class="xref">Knuth05</a>]</span>.<a href="#section-6.1.2-9" class="pilcrow">¶</a></p>
</div>
<div id="_202729e4-3ed9-4e97-bd4f-c9d027abc70f">
<p id="section-6.1.2-10">As we can see the noise in the definition of our type is greatly reduced by using these specialized types, which in turn permits to add even more constraints.<a href="#section-6.1.2-10" class="pilcrow">¶</a></p>
</div>
<div id="_8d19121f-3f00-490c-bb36-8f4f313808e6">
<p id="section-6.1.2-11">We can even constrain the size of a field, like is done for the <code>padding</code> field below.
In that case the length is calculated in the first constraint by calling the <code>pad</code> function, function that calculates the number of bits needed to pad a value of a type that implements the <code>Size</code> interface to a word boundary, here 32 bits.
The second constraint checks that whatever the length of the padding field is, it is always equal to a zero-filled bit-vector, as returned by the function <code>bitVector</code>.<a href="#section-6.1.2-11" class="pilcrow">¶</a></p>
</div>
<div id="_9339166b-8567-40fa-bac8-f6f66207bb27">
<div id="section-6.1.2-12">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data InternetHeader : Type where
  MkInternetHeader :
    (version : BitVector 4) -&gt; version = [O, I, O, O] =&gt;
    (ihl : (Unsigned 4, Data)) -&gt; snd ihl = tetra =&gt;
    (tos : Tos) -&gt;
    (length : (Unsigned 16, Data)) -&gt; snd length = octet =&gt;
    (id : Unsigned 16) -&gt;
    (flags : Flags) -&gt;
    (offset : Unsigned 13, Data)) -&gt; snd offset = octa =&gt;
    (ttl : (Unsigned 8, Time)) -&gt; snd ttl = second =&gt;
    (protocol : BitVector 16) -&gt;
    (checksum : BitVector 16) -&gt;
    (source : BitVector 32) -&gt;
    (dest : BitVector 32) -&gt;
    (options : List Option) -&gt;
    (padding : BitVector n) -&gt;
      n = pad 32 options =&gt; padding = bitVector =&gt;
    InternetHeader
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.2-12" class="pilcrow">¶</a>
</div>
</div>
<div id="_7e346e01-435c-48b1-802b-1610e3193b39">
<p id="section-6.1.2-13">Dimensions can also be combined to seamlessly build more complex dimensions.
For example, all "length" values of sent packets can be added up during a period of time, while keeping beginning and ending times as denominate numbers: dividing the <code>length</code> sum by the difference between the end time and the begin time gives us directly the data speed in bits per second (or whatever unit we prefer), with the guarantee that Idris will not let us mix oranges and apples.<a href="#section-6.1.2-13" class="pilcrow">¶</a></p>
</div>
<div id="_bd261462-44de-45e2-9aae-25ddba3697fb">
<p id="section-6.1.2-14">Here's an example of Sum type that implements some of the variants for an <code>Option</code> in an <code>InternetHeader</code>:<a href="#section-6.1.2-14" class="pilcrow">¶</a></p>
</div>
<div id="_bb07e426-ce66-4a3a-8794-ac3a3aff9851">
<div id="section-6.1.2-15">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Option : Type where
  Eoo : (flag : BitVector 1) -&gt; flag = [O] =&gt;
        (class : BitVector 2) -&gt; class = [O, O] =&gt;
        (number : BitVector 5) -&gt; number = [O, O, O, O, O] =&gt;
        Option
  Noop : (flag : BitVector 1) -&gt; flag = [O] =&gt;
         (class : BitVector 2) -&gt; class = [O, O] =&gt;
         (number : BitVector 5) -&gt; number = [O, O, O, I, O] =&gt;
         Option
  Security : (flag : BitVector 1) -&gt; flag = [I] =&gt;
             (class : BitVector 2) -&gt; class = [O, O] =&gt;
             (number : BitVector 5) -&gt; number = [O, O, O, I, O] =&gt;
             (length : Unsigned 8) -&gt; length = 11 =&gt;
             (s : BitVector 16) -&gt;
             (c : BitVector 16) -&gt;
             (h : BitVector 16) -&gt;
             (tcc : BitVector 24) -&gt;
             Option
  Lssr : (flag : BitVector 1) -&gt; flag = [I] =&gt;
         (class : BitVector 2) -&gt; class = [O, O] =&gt;
         (number : BitVector 5) -&gt; number = [O, O, O, I, I] =&gt;
         (length : Unsigned 8) -&gt;
         (pointer : Unsigned 8) -&gt; pointer &gt;= 4 = True =&gt;
         Option
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.2-15" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="import_common_calc">
<section id="section-6.1.3">
          <h4 id="name-calculations">
<a href="#section-6.1.3" class="section-number selfRef">6.1.3. </a><a href="#name-calculations" class="section-name selfRef">Calculations</a>
          </h4>
<div id="_b3b749e1-13cf-4c26-b74b-dc9ed0348101">
<p id="section-6.1.3-1">The imported types that we are using in the definition of our types all implement the <code>Size</code> interface, which provides a definition for the adhoc polymorphic function <code>size</code>, function that returns the size of a field as a dimensional number of dimension <code>Data</code>.
This interface can be implemented for the type <code>InternetHeader</code> by making its size the sum of the size of all its fields:<a href="#section-6.1.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_230c6d51-9bec-4ce8-a174-c5ceb07f72ab">
<div id="section-6.1.3-2">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
Size InternetHeader where
  size (MkInternetHeader version ihl tos length id flags offset ttl
    protocol checksum source dest options padding) = size version +
      size ihl +
      ...
      size padding
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.3-2" class="pilcrow">¶</a>
</div>
</div>
<div id="_3a30ef15-1fb2-4ab5-b866-611087f6431c">
<p id="section-6.1.3-3">We can then define a minimal header, and insert its size, using the right unit, in the document:<a href="#section-6.1.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_0e760a58-c8a2-4e13-9c03-c9e6d3bfa6a2">
<div id="section-6.1.3-4">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
&gt; minHeader : Data
&gt; minHeader = size $ MkInternetHeader [O, I, O, O]
&gt;   (5, tetra)
&gt;   (MkTos 0 [O] [O] [O] [O, O])
&gt;   (1000, wyde)
&gt;   0
&gt;   (MkFlags bitVector bitVector bitVector)
&gt;   (0, octa)
&gt;   (64, second)
&gt;   bitVector
&gt;   bitVector
&gt;   (A [O] bitVector bitVector)
&gt;   (A [O] bitVector bitVector)
&gt;   []
&gt;   []

Note that the minimum value for a correct header is
{`fromDenominate minHeader tetra`}
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.3-4" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="import_common_tpn">
<section id="section-6.1.4">
          <h4 id="name-typed-petri-nets">
<a href="#section-6.1.4" class="section-number selfRef">6.1.4. </a><a href="#name-typed-petri-nets" class="section-name selfRef">Typed Petri Nets</a>
          </h4>
<div id="_3650f2b9-a497-471a-857f-8e8f4cad9d27">
<p id="section-6.1.4-1">A better solution than defining an adhoc type for our state machines, as explained in <a href="#self_fsm" class="xref">Section 5.2</a>, is to use Petri Nets.<a href="#section-6.1.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_1f5a4b35-3c61-4f4a-a5dc-e63c24327e69">
<p id="section-6.1.4-2">Concurrent systems can be represented using two different families of techniques, algebraic and graphical.
Algebraic techniques (e.g., process calculi) are mathematically well-defined, but lack an intuitive representation that would be useful to developers not completely familiar with these techniques.<a href="#section-6.1.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_e3070801-020c-4209-8f5d-2d265014e960">
<p id="section-6.1.4-3">On the other hand, graphical representations of concurrent systems (e.g., state machines) can be understood by a larger segment of developers, but generally lack a standardized and/or mathematical definition.<a href="#section-6.1.4-3" class="pilcrow">¶</a></p>
</div>
<div id="_cdbb0f64-4f7e-4234-8c1a-accaa7470037">
<p id="section-6.1.4-4">Petri Nets are at the intersection of these two techniques.
They are typically graphical representations of concurrent processes, but are based on a well-defined mathematical theory.
One way to look at Petri Nets is as a way to group multiple state machines together.
A Petri Net also has the advantage that the same graph can be reused to derive other Petri Nets, e.g., Timed Petri Nets (that can be used to collect performance metrics) or Stochastic Petri Nets (which can be seen as a way to group multiple Markov chains together).<a href="#section-6.1.4-4" class="pilcrow">¶</a></p>
</div>
<div id="_57ac5f2c-0c9d-4534-8b7d-c274dde64a39">
<p id="section-6.1.4-5">A Typed Petri Net (TPN) is an algebraic specification of a Petri Net, such as it can be expressed as an Idris value, and be easily reused for various purposes.
TPNs are based on Colored Petri Nets, as defined in <span>[<a href="#Jensen09" class="xref">Jensen09</a>]</span> and <span>[<a href="#Aalst11" class="xref">Aalst11</a>]</span>.
<span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span> is a shorter introduction to Colored Petri Net that should be read first.
Particularly, section 2 contains the various definition of the terminology that is used in this document, augmented as follow:<a href="#section-6.1.4-5" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-6.1.4-6.1">
              <div id="_56b4554e-00c6-4ac3-bbb8-4c5ca56f02c1">
<p id="section-6.1.4-6.1.1">The word Color is used instead of the word Colour.<a href="#section-6.1.4-6.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-6.1.4-6.2">
              <div id="_68c6b1f4-d9f7-48be-858d-1b793e155823">
<p id="section-6.1.4-6.2.1"><em>unification</em> is defined in the middle of the left column of page 6.<a href="#section-6.1.4-6.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="normal" id="section-6.1.4-6.3">
              <div id="_4615f5bd-6bcd-4ee0-a191-077bf665ce0b">
<p id="section-6.1.4-6.3.1"><em>free variable</em> is defined in the middle of the right column of page 6.<a href="#section-6.1.4-6.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
<div id="_f56d00b2-4eb8-49c9-88ab-fc7e8c5b7b36">
<p id="section-6.1.4-7">A TPN that covers a whole protocol (i.e. client, network, and server) is useful to prove the properties listed in <a href="#self_proof_verification" class="xref">Section 5.3.4</a>, <a href="#self_proof_termination" class="xref">Section 5.3.5</a>, and <a href="#self_proof_liveness" class="xref">Section 5.3.6</a>.
But a TPN can also be designed so each part of the protocol is defined separately from the others, making it a Hierarchical TPN.<a href="#section-6.1.4-7" class="pilcrow">¶</a></p>
</div>
<div id="import_common_tpn_design">
<section id="section-6.1.4.1">
            <h5 id="name-building-a-typed-petri-net">
<a href="#section-6.1.4.1" class="section-number selfRef">6.1.4.1. </a><a href="#name-building-a-typed-petri-net" class="section-name selfRef">Building a Typed Petri Net</a>
            </h5>
<div id="_eb04f05a-0834-43ec-ae86-c533cefcdcd9">
<p id="section-6.1.4.1-1">The following example of TPN is converted from Figure 7 in <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span>:<a href="#section-6.1.4.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_c896bc80-86ce-48e5-9c6a-0970674db18e">
<div id="section-6.1.4.1-2">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
No : Type
No = Int

Data : Type
Data = String

NoxData : Type
NoxData = (No, Data)

packetsToSend : Ellipse
packetsToSend = Port "Packets To Send" NoxData Both

nextSend : Ellipse
nextSend = Place "NextSend" No (pure 1)

a : Ellipse
a = Port "A" NoxData Out

d : Ellipse
d = Port "D" No In

export
sender : Module ? ?
sender = MkModule "Sender"
  |&gt; AddPort packetsToSend
  |&gt; AddPlace nextSend
  |&gt; AddPort a
  |&gt; AddPort d
  |&gt; AddTransition (MkTransition "Send Packet"
    [MkInputArc packetsToSend (No, Data) pure,
     MkInputArc nextSend No pure]
    [MkOutputArc (No, Data) packetsToSend pure,
     MkOutputArc No nextSend pure,
     MkOutputArc (No, Data) a pure]
    (\((n, d), n') =&gt; do guard (n == n')
                         pure ((n, d), n, (n, d)))
  |&gt; AddTransition (MkTransition "Receive Ack"
    [MkInputArc nextSend No pure,
     MkInputArc d No pure]
    [MkOutputArc No nextSend pure]
    (pure . snd)
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.4.1-2" class="pilcrow">¶</a>
</div>
</div>
<div id="_b5cb1414-50c2-4aeb-9e93-3f93f976a78e">
<p id="section-6.1.4.1-3">Similarly, the following example of TPN is converted from Figure 11 in <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span>:<a href="#section-6.1.4.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_32f966dd-58c6-4e33-b589-bb157274fa42">
<div id="section-6.1.4.1-4">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
packetsToSend : Ellipse
packetsToSend = Place "Packets To Send" NoxData [(1, "COL"),
  (2, "OUR"), (3, "ED "), (4, "PET"), (5, "RI "), (6, "NET")]

dataReceived : Ellipse
dataReceived = Place "Data Received" Data (pure "")

a : Ellipse
a = Place "A" NoxData empty

b : Ellipse
b = Place "B" NoxData empty

 : Ellipse
c = Place "C" No empty

d : Ellipse
d = Place "D" No empty

export
top : Instance []
top = MkInstance (MkModule "top module"
  |&gt; AddPlace packetsToSend
  |&gt; AddPlace dataReceived
  |&gt; AddPlace a
  |&gt; AddPlace b
  |&gt; AddPlace c
  |&gt; AddPlace d
  |&gt; AddInstance (MkInstance sender [packetsToSend, a, d])
  |&gt; AddInstance (MkInstance network [a, b, c, d])
  |&gt; AddInstance (MkInstance receiver [b, dataReceived, c])
  ) []
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.4.1-4" class="pilcrow">¶</a>
</div>
</div>
<div id="_5c848c2b-7174-48a5-ae6c-553b8a0cd7ed">
<p id="section-6.1.4.1-5">In these examples, the <code>Ellipse</code>, <code>InputArc</code>, <code>OutputArc</code>, <code>Transition</code>, <code>Module</code>, and <code>Instance</code> types are the basic types used to define Typed Petri Nets in computerate specifications and are described in <a href="#library_tpn" class="xref">Section 8.1.7</a>.<a href="#section-6.1.4.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_64d0745d-c98e-4d07-a36d-447fac7ae6d2">
<p id="section-6.1.4.1-6">Ultimately these types are not meant to be used as a way to directly design a TPN, as doing this is very tedious and error-prone.
Instead the general advice is to use the graphical tool <span><a href="#Cpntools" class="xref">cpntools</a> [<a href="#Cpntools" class="xref">Cpntools</a>]</span> to design a CPN and then to follow the step-by-step tutorial in <a href="#cpn2tpn" class="xref">Appendix D</a> to convert it into a Typed Petri Net.
Experience shows that, even for the simplest of protocols, systematically starting formalization by 1) designing a complete semantic type and 2) designing a top-level Petri Net, both in cpntools, is the most efficient way to proceed.<a href="#section-6.1.4.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_1c89f9e1-b71e-40a2-9580-cfe1f77dce70">
<aside id="section-6.1.4.1-7">
              <p id="section-6.1.4.1-7.1">NOTE: It is planned to add to the tooling a graphical tool on top of TPN that will replace cpntools, which is starting to show its age.
It will probably be done together with a DSL that will permit to have the graphical tool using the Idris source itself as the exchange file format for a TPN.<a href="#section-6.1.4.1-7.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
<div id="import_common_tpn_use">
<section id="section-6.1.4.2">
            <h5 id="name-verifying-a-typed-petri-net">
<a href="#section-6.1.4.2" class="section-number selfRef">6.1.4.2. </a><a href="#name-verifying-a-typed-petri-net" class="section-name selfRef">Verifying a Typed Petri Net</a>
            </h5>
<div id="_29dafe20-135a-4476-a2e5-b068edc6cb92">
<p id="section-6.1.4.2-1">The TPN values created in <a href="#import_common_tpn_design" class="xref">Section 6.1.4.1</a> can be used to test, debug and validate a protocol.<a href="#section-6.1.4.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_1dd90d92-8573-4ab6-80d3-185be9ff090f">
<p id="section-6.1.4.2-2">This is done by running a simulation of the protocol.
The plan is that this simulation will be driven from the future graphical interface but meanwhile it is possible to directly call a set of functions.<a href="#section-6.1.4.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_43eaf90c-8e93-453f-85b6-41f4a74fe9db">
<p id="section-6.1.4.2-3">A simulation is executed when a succession of transitions occurs.
It starts by building an initial marking:<a href="#section-6.1.4.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_eee4fa21-33c2-4f66-8725-27e0f1ba18b7">
<div id="section-6.1.4.2-4">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
:let marking = initialMarking top
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.4.2-4" class="pilcrow">¶</a>
</div>
</div>
<div id="_5bfb28d8-bbec-43e1-847a-c808e603c573">
<p id="section-6.1.4.2-5">After this each transition occurrence is composed of 3 steps:<a href="#section-6.1.4.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_7ecaf718-287e-4bc1-8b9e-b605bd4f0f60">
<ol start="1" type="1" class="normal type-1" id="section-6.1.4.2-6">
<li id="section-6.1.4.2-6.1">
                <div id="_2767ce60-0446-448b-a255-8f8d6f76a329">
<p id="section-6.1.4.2-6.1.1">Find the list of transitions that are enabled from the current marking:<a href="#section-6.1.4.2-6.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            </ol>
</div>
<div id="_11df1a38-841d-41e7-8064-1e67d7041c71">
<div id="section-6.1.4.2-7">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
:let transitions = enabledTransitions marking top
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.4.2-7" class="pilcrow">¶</a>
</div>
</div>
<div id="_ca2610b8-cc7a-4078-bd65-1960cb19d14f">
<ol start="2" type="1" class="normal type-1" id="section-6.1.4.2-8">
<li id="section-6.1.4.2-8.1">
                <div id="_ecce38a0-aca2-48a5-93a4-93828ac5c63a">
<p id="section-6.1.4.2-8.1.1">Find the possible bindings for the transition selected.
There is only one transition possible for that TPN instance, so we can use it to list the bindings:<a href="#section-6.1.4.2-8.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            </ol>
</div>
<div id="_73a4d2d2-2a3a-41e1-b88f-51b0f8ea9b1f">
<div id="section-6.1.4.2-9">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
:let bindings = bindings marking top (head transitions)
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.4.2-9" class="pilcrow">¶</a>
</div>
</div>
<div id="_259a32a8-c236-47cf-ad4e-ae8542f0bdd1">
<ol start="3" type="1" class="normal type-1" id="section-6.1.4.2-10">
<li id="section-6.1.4.2-10.1">
                <div id="_f09409e8-4808-4e23-8387-2cd5530b5090">
<p id="section-6.1.4.2-10.1.1">Create a new current marking from the transition and binding selected.
Again we have only one possible binding in this example, so we can use it to update the marking after applying the binding and transition:<a href="#section-6.1.4.2-10.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            </ol>
</div>
<div id="_3369f5e6-f556-402e-a2ee-fa6b0b66eea8">
<div id="section-6.1.4.2-11">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
:let marking = bindings marking top (head transitions)
  (head bindings)
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.4.2-11" class="pilcrow">¶</a>
</div>
</div>
<div id="_8910b019-5236-497b-b156-b75abb9575f0">
<p id="section-6.1.4.2-12">We can then calculate the next occurrence by looping back to step (1).<a href="#section-6.1.4.2-12" class="pilcrow">¶</a></p>
</div>
<div id="_6e7971dc-2575-47b3-ac24-55b64ab88cb5">
<p id="section-6.1.4.2-13">The simulation stops when there is no enabled transition for the current marking.<a href="#section-6.1.4.2-13" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="import_common_tpn_derive">
<section id="section-6.1.4.3">
            <h5 id="name-deriving-a-type-from-a-type">
<a href="#section-6.1.4.3" class="section-number selfRef">6.1.4.3. </a><a href="#name-deriving-a-type-from-a-type" class="section-name selfRef">Deriving a Type from a Typed Petri Net</a>
            </h5>
<div id="_56c4d5a5-499c-4a4a-9175-899e34c5775d">
<p id="section-6.1.4.3-1">Designing and validating a Petri Net are essential tasks, but they cannot be directly used to guarantee that a process is following part or totality of this Petri Net.<a href="#section-6.1.4.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_7440491e-9448-4961-a064-50aece5ac019">
<p id="section-6.1.4.3-2">To do so we need to generate a Sum type that encodes all the transitions as constructors.
This type then can be used to build a proof that a list of binding elements are valid according to that Petri Net.<a href="#section-6.1.4.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_68e79017-4d7a-4037-a4a9-2b222c66634a">
<p id="section-6.1.4.3-3">In CPN, a binding is a list of (name, value) tuples, making it easy to read.
In TPN we are using instead a tuple of the values as taken as input to the <code>Transition</code> inscription.
That means that the variables are identified by position in this tuple, instead of by name.<a href="#section-6.1.4.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_ed6f7b3f-bc94-4a80-bcf6-3dffd62872ba">
<p id="section-6.1.4.3-4">This example below shows two constructors for the example Petri Net used in this document.<a href="#section-6.1.4.3-4" class="pilcrow">¶</a></p>
</div>
<div id="_638304a3-438e-4287-a505-8906afdadc56">
<div id="section-6.1.4.3-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
sendPacket' : (NOxDATA, NO) -&gt; List (NOxDATA, NO, NOxDATA)

updateSendPacket : Marking xs -&gt; (NOxDATA, NO) -&gt; Marking xs

data T210 : Marking -&gt; Type where
  Init : T210 (initMarking top)
  SendPacket : (binding : (NOxDATA, NO)) -&gt;
               (Elem (fst binding) (pts m)) =&gt;
               (Elem (snd binding) (ns m)) =&gt;
               (sendPacket' binding =
                 pure (fst binding, snd binding, fst binding)) =&gt;
               T210 m -&gt;
               T210 (updateSendPacket binding m)
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.4.3-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_ba9f5315-a4ac-4820-9e63-b717f589ac49">
<p id="section-6.1.4.3-6">This type can then be used for various purposes, e.g. to draw a Message Sequence Chart as described in <a href="#import_common_repr_seq" class="xref">Section 6.1.5.2</a>.<a href="#section-6.1.4.3-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="import_common_repr">
<section id="section-6.1.5">
          <h4 id="name-representations">
<a href="#section-6.1.5" class="section-number selfRef">6.1.5. </a><a href="#name-representations" class="section-name selfRef">Representations</a>
          </h4>
<div id="_e3630333-eb81-47d8-8a10-97f1f15b3d0c">
<p id="section-6.1.5-1">Another usage of our Idris type would be to generate a textual representation of that type.<a href="#section-6.1.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_2a8d8485-9c99-4a62-ae2b-feca8768f1a0">
<p id="section-6.1.5-2">Figure 4 in RFC 791 is a good example of a representation of a data layout, here as a bit diagram.
Because we already have an Idris type which is describing exactly the same thing, the idea of syntax representation is to convert that type into text, and insert it in place of the bit diagram.<a href="#section-6.1.5-2" class="pilcrow">¶</a></p>
</div>
<div id="_e49999e0-2fe3-4cde-830b-50c823c262ac">
<p id="section-6.1.5-3">For each textual representation of a type, it is possible to write a function that takes as parameter this type and generate an <code>AsciiDoc</code> value that can then be inserted in the document.<a href="#section-6.1.5-3" class="pilcrow">¶</a></p>
</div>
<div id="_327a692a-e997-4cc7-b909-d60bee6c421a">
<p id="section-6.1.5-4">Some document uses representations that are unique to this document but often multiple documents share the same representation and so that function can be also shared between them.
A set of such functions is available as part of the Computerate Specification Standard Library.<a href="#section-6.1.5-4" class="pilcrow">¶</a></p>
</div>
<div id="import_common_repr_bit">
<section id="section-6.1.5.1">
            <h5 id="name-bit-diagrams">
<a href="#section-6.1.5.1" class="section-number selfRef">6.1.5.1. </a><a href="#name-bit-diagrams" class="section-name selfRef">Bit Diagrams</a>
            </h5>
<div id="_fae8e9d3-d3c5-46a8-9f9e-456322d1dc45">
<p id="section-6.1.5.1-1">The bit diagram is one of the most frequently used representation of a PDU specification in documents, so a function to convert an Idris type into a bit diagram is provided as part of the standard library.<a href="#section-6.1.5.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_c4335b82-a6c9-46ec-bdf0-1f07697a1f8e">
<p id="section-6.1.5.1-2">That function takes as parameters an Idris type, a structure containing additional informations, and returns an <code>AsciiDoc</code> value that can be inserted in the document.<a href="#section-6.1.5.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_0fa24bd4-9d04-4c10-9e65-57940e6e6bf7">
<p id="section-6.1.5.1-3">The additional structure is a list of the properties associated to each field that are needed to generate the bit diagram.
For a bit diagram the only property is a character string containing the name of the field.<a href="#section-6.1.5.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_421f9256-8426-40c4-a268-e6dafcda4f47">
<p id="section-6.1.5.1-4">For our <code>InternetHeader</code> type, that additional structure would look like this:<a href="#section-6.1.5.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_ee4dd50a-7ebd-429c-8610-2a536f840e25">
<div id="section-6.1.5.1-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
names : Pdu
names = MkPdu `{{MkInternetHeader}} [
  MkField "Version",
  MkField "IHL",
  MKField "Type of Service",
  MkField "Total Length",
  MkField "Identification",
  MkField "Flags",
  MkField "Fragment Offset",
  MkField "Time to Live",
  MkField "Protocol"]
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.5.1-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_7c3b1e65-ee7e-4bd0-8e03-ef7d6adbe5c5">
<p id="section-6.1.5.1-6">The Pdu type takes care of verifying that each name is unique in the structure, and that each name length does not exceed <code>2 * (size field) - 1</code>, so it is guaranteed to fit in the bit diagram cell.<a href="#section-6.1.5.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_ccbe8346-76eb-4bf1-b56a-d2b1102f1a88">
<p id="section-6.1.5.1-7">After that it is just a matter of inserting the function call in the document (the <code>%runElab</code> keyword indicates that the Idris code is using reflection elaboration, which is used to inspect a type).<a href="#section-6.1.5.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_2e5707d5-1310-459b-8d19-ac0c1be78d60">
<div id="section-6.1.5.1-8">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
{`%runElab toBitDiagram names`}
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.5.1-8" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="import_common_repr_seq">
<section id="section-6.1.5.2">
            <h5 id="name-message-sequence-charts">
<a href="#section-6.1.5.2" class="section-number selfRef">6.1.5.2. </a><a href="#name-message-sequence-charts" class="section-name selfRef">Message Sequence Charts</a>
            </h5>
<div id="_f7026ab0-6551-4d01-a0bb-1c461e3bd110">
<p id="section-6.1.5.2-1">Message Sequence Charts (MSC) are a common way to represent an example of execution of a protocol, i.e. of the interactions between the underlying state machines.
Although sequence charts are often implicitly used to describe a protocol, that description can only be partial and thus cannot replace completely a description of the protocol by other means.<a href="#section-6.1.5.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_3cd8686b-ae91-4758-9e03-184c21061d7e">
<p id="section-6.1.5.2-2">There is 4 steps to generate automatically an MSC that is guaranteed to be conform to the specification:<a href="#section-6.1.5.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_07a87a6e-07f6-4f4d-93ee-dc1d8866f943">
<ol start="1" type="1" class="normal type-1" id="section-6.1.5.2-3">
<li id="section-6.1.5.2-3.1">
                <div id="_9e8c963c-a0eb-4237-a94b-98f5f446ab62">
<p id="section-6.1.5.2-3.1.1">Design a Colored Petri Net of the behavior of the protocol.
A Petri Net models all sides of a communications protocol, including the network itself, this is why it is the best way to generate an MSC.<a href="#section-6.1.5.2-3.1.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li id="section-6.1.5.2-3.2">
                <div id="_469ef0a6-5d84-49ac-ba66-5e7416ef127c">
<p id="section-6.1.5.2-3.2.1">Build a sequence of binding elements as described in <a href="#import_common_tpn_use" class="xref">Section 6.1.4.2</a>.<a href="#section-6.1.5.2-3.2.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li id="section-6.1.5.2-3.3">
                <div id="_157faf33-5ab5-41ad-9432-0e503f6c42f2">
<p id="section-6.1.5.2-3.3.1">Convert the TPN into a specialized type that guarantees that the list of (transition, binding) that represent the MSC to draw is valid according to the TPN.
This is explained in <a href="#import_common_tpn_derive" class="xref">Section 6.1.4.3</a>.<a href="#section-6.1.5.2-3.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            </ol>
</div>
<div id="_eaafb6fd-e34f-442c-ae93-4f196c11cd7a">
<p id="section-6.1.5.2-4">E.g. the following instance typechecks with the generated type for the example CPN used in this document:<a href="#section-6.1.5.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_fcc2d7f7-9c97-4f75-b9c3-55be601b5071">
<div id="section-6.1.5.2-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
test : T210 ?
test = Init
       |&gt; SendPacket ((1, "COL"), 1)
       |&gt; TransmitPacket ((1, "COL"), True)
       |&gt; ReceivePacket ((1, "COL"), "", 1)
       |&gt; TransmitAck 1
       |&gt; ReceiveAck (1, 1)
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.5.2-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_7ba07d08-ae65-4a86-a729-cb1c5eac2f82">
<ol start="5" type="1" class="normal type-1" id="section-6.1.5.2-6">
<li id="section-6.1.5.2-6.1">
                <div id="_10822af7-9881-4182-86e5-cb5e3a3bba73">
<p id="section-6.1.5.2-6.1.1">The last step is to pass that instance to a function that will generate the MSC:<a href="#section-6.1.5.2-6.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            </ol>
</div>
<div id="_36e73315-9960-41d0-812c-30f4c474d3ec">
<div id="section-6.1.5.2-7">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
....
{`generateMsc test [(A, D), (B, C)]`}
....
&lt;CODE ENDS&gt;</pre><a href="#section-6.1.5.2-7" class="pilcrow">¶</a>
</div>
</div>
<div id="_fa2d655e-d90a-4396-8c87-a14a66ba5d3c">
<p id="section-6.1.5.2-8">The parameters of the <code>generateMsc</code> function are the list of bindings and the name of the Petri Net places between which lines will be drawn.
If for some reason the network manipulates the token between A and B, or B and C, the function will accordingly show that the packet is either lost, duplicated, delayed or even that a packet arrived from an unknown sender.<a href="#section-6.1.5.2-8" class="pilcrow">¶</a></p>
</div>
<div id="_f15e44fc-a465-4d7c-8036-722df8d3f447">
<p id="section-6.1.5.2-9">It is also possible to pass a user-defined function that will take as parameter a token as sent by places A or C and convert it in a packet that is to be showed after the MSC itself.<a href="#section-6.1.5.2-9" class="pilcrow">¶</a></p>
</div>
<div id="_1e2c4d1a-bf16-4ea6-b748-8206c2143e1e">
<p id="section-6.1.5.2-10">This function can be provided by the type of proofs described in <a href="#self_proof_wire" class="xref">Section 5.3.1</a>.
That means that, as long as we have a proof of isomorphism between then, we can use Semantic Types directly in our TPN instead of Wire Types, making the model simpler.<a href="#section-6.1.5.2-10" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="import_meta">
<section id="section-6.2">
        <h3 id="name-packages-for-meta-languages">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-packages-for-meta-languages" class="section-name selfRef">Packages for Meta-Languages</a>
        </h3>
<div id="_966b645f-1129-479c-bf48-f6a4e655aca8">
<p id="section-6.2-1">When different representations of a specification share some common characteristics, it is usual to generalize them into a formal language.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_4b2b1245-a761-482d-b79b-41a637db5d7d">
<p id="section-6.2-2">One shared limitation of these languages is that they cannot always formalize all the constraints of a specific data layout, so they have to be enriched with comments.
One consequence of this is that they cannot be used as a replacement for the Idris types described in <a href="#self_pdu_examples" class="xref">Section 5.1.1</a> or <a href="#import_common_types" class="xref">Section 6.1.2</a>, types that are purposely designed to be as complete as possible.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_baf63cf0-7544-4d8b-8656-7dc974f79443">
<p id="section-6.2-3">Another consequence is the proliferation of these languages, with each new formal language trying to integrate more constraints than the previous ones.
For that reason Computerate Specifying does not favor one formal language over the others, and will try to provide code to help use all of them.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_2751d023-73f3-43a0-9913-aefb46171edf">
<p id="section-6.2-4">Similarly to what was explained in <a href="#self_pdu" class="xref">Section 5.1</a> a set of types can be designed and then used to type-check instance of that formal language, and convert them into a textual representation.
Most of the formal languages used at the IETF already come with a set of tools that permits to verify that the text representation in an RFC is syntactically correct, so that type does not add much to that.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_9e4a2d57-fce5-4226-b298-99b9f1360780">
<p id="section-6.2-5">On the other hand that type can be the target of a converter from an ad-hoc type.
This will ensure that the generated instance of the formal language matches the specification, which is something that external tools cannot do.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_4484dfd0-dbd8-4336-8b92-b257ba0d976d">
<p id="section-6.2-6">When a PDU is described with a formal language, we end up with two descriptions, one using the Idris dependent type (and used to generate examples) and the other using the formal language.<a href="#section-6.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_fe9aa260-c06a-4552-8a1e-c1f842c5a3e1">
<p id="section-6.2-7">Proving isomorphism requires generating an Idris type from the formal language instance, which is done using an Idris elaborator script.<a href="#section-6.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_f35ae6eb-bf56-460a-b0b6-dffe7c9885e5">
<p id="section-6.2-8">In Idris, <span><a href="#Christiansen16" class="xref">Elaborator Reflection</a> [<a href="#Christiansen16" class="xref">Christiansen16</a>]</span> is a metaprogramming facility that permits writing code generating type declarations and code (including proofs) automatically.<a href="#section-6.2-8" class="pilcrow">¶</a></p>
</div>
<div id="_1d3aa6d1-2235-4f65-9be8-69e4e9c34ca1">
<p id="section-6.2-9">For instance the ABNF language is itself defined using ABNF, so after converting that ABNF into an instance of the Syntax type (which is an holder for a list of instances of the Rule type), it is possible to generate a suite of types that represents the same language:<a href="#section-6.2-9" class="pilcrow">¶</a></p>
</div>
<div id="_e65d1754-238c-48de-8b69-5643b8c4791a">
<div id="section-6.2-10">
<pre class="sourcecode lang-lidris2">&lt;CODE BEGINS&gt;
&gt; abnf : Syntax
&gt; abnf = MkSyntax [
&gt;   "rulelist" `Eq` (Repeat (Just 1) Nothing (Group (Altern
&gt;     (TermName "rule") (Group (Concat (Repeat Nothing Nothing
&gt;     (TermName "c-wsp")) (TermName "c-nl") [])) []))),
&gt;     ...
&gt;   ]
&gt;
&gt; %runElab (generateType "Abnf" abnf)
&lt;CODE ENDS&gt;</pre><a href="#section-6.2-10" class="pilcrow">¶</a>
</div>
</div>
<div id="_a524920d-2b26-4105-91fe-cf8b779a3bea">
<p id="section-6.2-11">The result of the elaboration can then be used to construct a value of type Iso, which requires four total functions, two for the conversion between types, and another two to prove that sequencing the conversions results in the same original value.<a href="#section-6.2-11" class="pilcrow">¶</a></p>
</div>
<div id="_cadfbd2d-3af6-401d-a1e6-8fc41bcaf0fc">
<p id="section-6.2-12">The following example generates an Idris type "SessionDescription" from the SDP ABNF.
It then proves that this type and the Sdp type contain exactly the same information (the proofs themselves have been removed, leaving only the propositions):<a href="#section-6.2-12" class="pilcrow">¶</a></p>
</div>
<div id="_aea4c0f0-631c-4950-af15-ce8eb33bf5f2">
<div id="section-6.2-13">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
import Data.Control.Isomorphism

sdp : Syntax
sdp = MkSyntax [
  "session-description" `Eq` (Concat (TermName "version-field")
    (TermName "origin-field") [
      TermName "session-name-field",
      Optional (TermName "information-field"),
      Optional (TermName "uri-field"),
      Repeat Nothing Nothing (TermName "email-field"),
      Repeat Nothing Nothing (TermName "phone-field"),
      Optional (TermName "connection-field"),
      Repeat Nothing Nothing (TermName "bandwidth-field"),
      Repeat (Just 1) Nothing (TermName "time-description"),
      Optional (TermName "key-field"),
      Repeat Nothing Nothing (TermName "attribute-field"),
      Repeat Nothing Nothing (TermName "media-description")
      ]),
  ...
  ]

%runElab (generateType "Sdp" sdp)

same : Iso Sdp SessionDescription
same = MkIso to from toFrom fromTo
  where
    to : Sdp -&gt; SessionDescription

    from : SessionDescription -&gt; Abnf

    toFrom : (x : SessionDescription ) -&gt; to (from x) = x

    fromTo : (x : Sdp) -&gt; from (to x) = x
&lt;CODE ENDS&gt;</pre><a href="#section-6.2-13" class="pilcrow">¶</a>
</div>
</div>
<div id="_76745596-506b-4359-9127-f01bd4e41654">
<p id="section-6.2-14">As stated in <a href="#self_proof_wire" class="xref">Section 5.3.1</a>, the Idris type and the type generated from the formal language are not always isomorphic, because some constraints cannot be expressed in that formal language.
In that case isomorphism can be used to precisely define what is missing information in the formal language type.
To do so, the generated type is augmented with a delta type, like so:<a href="#section-6.2-14" class="pilcrow">¶</a></p>
</div>
<div id="_27a21edb-0b39-413a-bd9c-887b33910406">
<div id="section-6.2-15">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data DeltaSessionDescription : Type where
  ...

same : Iso Sdp (SessionDescription, DeltaSessionDescription)
  ...
&lt;CODE ENDS&gt;</pre><a href="#section-6.2-15" class="pilcrow">¶</a>
</div>
</div>
<div id="_45fae506-6041-4612-9e77-9bead2f805b5">
<p id="section-6.2-16">Then the DeltaSessionDescription type can be modified to include the missing information until the same function type checks.
After this we have a guarantee that we know all about the constraints that cannot be encoded in that formal language, and can check manually that each of them are described as comments.<a href="#section-6.2-16" class="pilcrow">¶</a></p>
</div>
<div id="_13b81f2b-9998-407f-8183-e6bea85f5317">
<p id="section-6.2-17">An interesting comment in <span>[<a href="#Momot16" class="xref">Momot16</a>]</span> states that if the input of an application is too complex to be expressed in ABNF without adding comments, it is too complex to be safe.
The technique described in this section can be used to evaluate the safety of such ABNF by clearly specifying the impact of these additional comments.<a href="#section-6.2-17" class="pilcrow">¶</a></p>
</div>
<div id="_411f15d2-3ed3-4fae-a1dc-8779045363ff">
<p id="section-6.2-18">Idris elaborator scripts will be developed for each formal languages.<a href="#section-6.2-18" class="pilcrow">¶</a></p>
</div>
<div id="_aeab8554-88ca-49c1-8470-fba5a9309a0c">
<p id="section-6.2-19">The following sections describe how these formal languages have been or will be themselves be converted into types with the goal of importing them in computerate specifications.<a href="#section-6.2-19" class="pilcrow">¶</a></p>
</div>
<div id="import_meta_abnf">
<section id="section-6.2.1">
          <h4 id="name-augmented-bnf-abnf">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-augmented-bnf-abnf" class="section-name selfRef">Augmented BNF (ABNF)</a>
          </h4>
<div id="_8a4f6641-e0b9-4b89-b808-58393d7199bf">
<p id="section-6.2.1-1"><span><a href="#RFC5234" class="xref">Augmented Backus-Naur Form (ABNF)</a> [<a href="#RFC5234" class="xref">RFC5234</a>]</span> is a formal language used to describe a text based data layout.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_e42f91d9-d79f-4d65-85fe-cbebf5497338">
<p id="section-6.2.1-2">An ABNF can be described by defining a value for the types from the <code>RFC5234.Main</code> module:<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_383d452a-ece4-4628-922c-bd0e6728b8ca">
<div id="section-6.2.1-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
rulename : Rule
rulename = "rulename" `Eq` (Concat (TermDec 97 []) (TermDec 98 [])
  [TermDec 99 []])
&lt;CODE ENDS&gt;</pre><a href="#section-6.2.1-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_f0517f2e-0102-4bbf-88e3-9555b8ef3cfa">
<p id="section-6.2.1-4">That value can then be inserted in a document, which will convert it as a proper ABNF, so<a href="#section-6.2.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_cfa10c8d-e363-4b89-800d-21438b39b786">
<div id="section-6.2.1-5">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
 [source,abnf]
 ----
 {`rulename`}
 ----
&lt;CODE ENDS&gt;</pre><a href="#section-6.2.1-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_fcf1c6a4-8110-4d3f-8192-20e0819ce0f9">
<p id="section-6.2.1-6">is rendered as<a href="#section-6.2.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_ee857647-ee80-4dc0-98d7-100455f8bc2a">
<figure id="figure-2">
            <div id="_94573f94-8d15-4551-8937-1f929643619d">
<div class="artwork art-text alignLeft art-ascii-art" id="section-6.2.1-7.1">
<pre>rulename = %d97 %d98 %d99</pre>
</div>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a></figcaption></figure>
</div>
<div id="_8fb75735-dc0c-4af3-997e-17cecd3895f2">
<p id="section-6.2.1-8">See <a href="#library_abnf" class="xref">Section 8.2.2</a> for details on that package.<a href="#section-6.2.1-8" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="import_meta_aphd">
<section id="section-6.2.2">
          <h4 id="name-augmented-packet-header-dia">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-augmented-packet-header-dia" class="section-name selfRef">Augmented Packet Header Diagrams (APHD)</a>
          </h4>
<div id="_1f858f21-a3b4-42a8-9230-81c5fb9ca378">
<p id="section-6.2.2-1"><span><a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">Augmented Packet Header Diagram (APHD)</a> [<a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">I-D.mcquistin-augmented-ascii-diagrams</a>]</span> is a formal language used to describe an augmented bit diagram in a machine-readable format.<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_f5725b50-d04f-472c-b8c1-86139f5e93c3">
<p id="section-6.2.2-2">It can be seen as an extension to the self-contained bit diagram in <a href="#self_pdu_presentation" class="xref">Section 5.1.3</a>, where more information are extracted from the Idris type, and more properties are carried in the list of properties:<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-6.2.2-3.1">
              <div id="_c9ce6ec5-edaa-4d20-b378-c5073e091c36">
<p id="section-6.2.2-3.1.1">From the Idris type:<a href="#section-6.2.2-3.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-6.2.2-3.1.2.1">
                  <div id="_4da99d0d-3fe8-4740-9fda-2d78da8b1fc5">
<p id="section-6.2.2-3.1.2.1.1">The size of a field in the Idris type is converted into the field's width.<a href="#section-6.2.2-3.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="normal" id="section-6.2.2-3.1.2.2">
                  <div id="_a4ffe009-b89c-411c-bc39-9b04ca8c0163">
<p id="section-6.2.2-3.1.2.2.1">The size constraints in Idris are converted into a variable size field (Section 4.1).<a href="#section-6.2.2-3.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="normal" id="section-6.2.2-3.1.2.3">
                  <div id="_799a1186-538b-4ea0-8992-f3fffeb852d7">
<p id="section-6.2.2-3.1.2.3.1">A constraint that reduces the possible values (like for the version field) is converted into a constraint on field value (Section 4.4).<a href="#section-6.2.2-3.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="normal" id="section-6.2.2-3.1.2.4">
                  <div id="_fe4ef69b-13d7-4d8f-819c-a56b132e1c95">
<p id="section-6.2.2-3.1.2.4.1">Alternative constructors (i.e., a Sum type) generate a presence predicate (Section 4.2).<a href="#section-6.2.2-3.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
              </ul>
</li>
            <li class="normal" id="section-6.2.2-3.2">
              <div id="_d3fe252b-e4a3-4ed7-b506-55337e070e89">
<p id="section-6.2.2-3.2.1">From the additional structure:<a href="#section-6.2.2-3.2.1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-6.2.2-3.2.2.1">
                  <div id="_8831d14b-acfe-49a7-b63e-5ed271febc46">
<p id="section-6.2.2-3.2.2.1.1">The name of the PDU.<a href="#section-6.2.2-3.2.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="normal" id="section-6.2.2-3.2.2.2">
                  <div id="_919fb625-bb38-42be-a155-61eaa3274be5">
<p id="section-6.2.2-3.2.2.2.1">The name of each field<a href="#section-6.2.2-3.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="normal" id="section-6.2.2-3.2.2.3">
                  <div id="_785bf3d5-3e44-46c9-8cdf-64d49ad876ed">
<p id="section-6.2.2-3.2.2.3.1">The eventual short name for each field, with the same constraint than in <a href="#self" class="xref">Section 5</a>.<a href="#section-6.2.2-3.2.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="normal" id="section-6.2.2-3.2.2.4">
                  <div id="_51be3736-2b73-433c-a7d5-395f6bc07201">
<p id="section-6.2.2-3.2.2.4.1">The Bit unit to use to display the size for each field.<a href="#section-6.2.2-3.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="normal" id="section-6.2.2-3.2.2.5">
                  <div id="_0586930a-f5b7-4222-9cd7-3b7b006d4213">
<p id="section-6.2.2-3.2.2.5.1">The description for each field.<a href="#section-6.2.2-3.2.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
              </ul>
</li>
          </ul>
<div id="_c2ccf553-21aa-4171-b2e5-aecc3b7ff0f3">
<p id="section-6.2.2-4">The description for each field is a value of <code>AsciiDoc</code> type, which permits to correctly format it.
In addition, it is possible to insert calculation or even other type representation in the description by using an <code>AsciiDoc</code> type that works similarly than code embedding.<a href="#section-6.2.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_b4b7d431-ac55-4a03-9465-f0fe6c6f52c0">
<p id="section-6.2.2-5">Reusing the type in <a href="#import_common_types" class="xref">Section 6.1.2</a>, the conversion process would partially look like this:<a href="#section-6.2.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_888cee90-6e26-4bab-b77a-352399232286">
<div id="section-6.2.2-6">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
&gt; ipv4 : AphdPdu
&gt; ipv4 = MkAphd `{{MkInternetHeader}} "IPv4 Header" [
&gt;   MkField "Version" (Just "V") Bit [(MkSentence "This is a" ++
&gt;     "fixed-width field, whose full label is shown in the " ++
&gt;     "diagram.  The field's width --), MkCode(`(size version)),
&gt;     MkSentence(" bits -- is given in  the label of the " ++
&gt;     "description list, separated from the field's label " ++
&gt;     "by a colon.")],
&gt; ...
&gt; ]

{`%runElab toAphd names`}
&lt;CODE ENDS&gt;</pre><a href="#section-6.2.2-6" class="pilcrow">¶</a>
</div>
</div>
<div id="_beeaf4c9-334d-416c-98c7-3b1e1c94e19f">
<p id="section-6.2.2-7">and is rendered as:<a href="#section-6.2.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_81a83459-7e95-4cbd-b893-5b4370917c59">
<figure id="figure-3">
            <div id="_94e036b6-945b-43f4-a098-76c545bf1e81">
<div class="artwork art-text alignLeft art-ascii-art" id="section-6.2.2-8.1">
<pre>An IPv4 Header is formatted as follows:
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version|   IHL |    DSCP   |ECN|         Total Length          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Identification        |Flags|     Fragment Offset     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Time to Live  |    Protocol   |        Header Checksum        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Source Address                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Destination Address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Options                          ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               :
:                            Payload                            :
:                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

where:

Version (V): 4 bits.  This is a fixed-width field, whose full label
  is shown in the diagram.  The field's width -- 4 bits -- is given
  in the label of the description list, separated from the field's
  label by a colon.
 ...</pre>
</div>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a></figcaption></figure>
</div>
</section>
</div>
<div id="import_meta_cosmogol">
<section id="section-6.2.3">
          <h4 id="name-cosmogol">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-cosmogol" class="section-name selfRef">Cosmogol</a>
          </h4>
<div id="_bcb02315-6465-428a-99c2-99507be855bc">
<p id="section-6.2.3-1"><span><a href="#I-D.bortzmeyer-language-state-machines" class="xref">Cosmogol</a> [<a href="#I-D.bortzmeyer-language-state-machines" class="xref">I-D.bortzmeyer-language-state-machines</a>]</span> is a formal language designed to define states machines.
The Internet-Draft will be retrofitted as a computerate specification to provide an internal Domain Specific Language (DSL) that permits specifying an instance of that language.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_661f6cfe-2fd9-479b-a08e-37c079c675a9">
<p id="section-6.2.3-2">As a Petri Net can be seen as a set of state machines, it will be possible to extract part of a Petri Net and generate the equivalent state machine in Cosmogol format.<a href="#section-6.2.3-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="import_proto">
<section id="section-6.3">
        <h3 id="name-packages-for-protocols">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-packages-for-protocols" class="section-name selfRef">Packages for Protocols</a>
        </h3>
<div id="import_proto_trans">
<section id="section-6.3.1">
          <h4 id="name-type-transformations">
<a href="#section-6.3.1" class="section-number selfRef">6.3.1. </a><a href="#name-type-transformations" class="section-name selfRef">Type Transformations</a>
          </h4>
<div id="_97aabb80-0228-43a3-a408-8b2529b8103e">
<p id="section-6.3.1-1">Protocols evolve over time, and the documents that standardize them also need to evolve with them.
Each SDO has a specific set of methods to do so, from having the possibility of modifying a document, to systematically releasing a complete new document when a modification is needed.
The IETF uses a combination of methods to update the documents that define a protocol.<a href="#section-6.3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_bca21e2c-ee8d-4415-81a5-11bef6c0c30c">
<p id="section-6.3.1-2">One such method is to release a new document that completely replaces ("obsoletes") an existing protocol.
E.g., <span><a href="#RFC5246" class="xref">TLS 1.2</a> [<a href="#RFC5246" class="xref">RFC5246</a>]</span> was completely replaced by <span><a href="#RFC8446" class="xref">TLS 1.3</a> [<a href="#RFC8446" class="xref">RFC8446</a>]</span> such as there is no need to read RFC 5246 to be able to implement RFC 8446.<a href="#section-6.3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_d2ae2a43-d131-4283-8c87-6f7c77c298b8">
<p id="section-6.3.1-3">Alternatively only part of a protocol needs modification, so the method used in that case is to issue a new document that only updates that specific part.
E.g., RFC 2474 updates only the definition of the ToS field in the Internet Header defined in RFC 791, so reading both documents is required to implement the Internet Protocol.
These two methods can be combined together, like was done for RFC 2474.
RFC 2474 obsoleted RFC 1349 and RFC 1349 was the original update for RFC 791.<a href="#section-6.3.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_f8b79ed3-9dfc-41bb-81ff-421eb4bc21c2">
<p id="section-6.3.1-4">Systematically updating a protocol in new documents instead of replacing it means that sometimes a lot of different documents has to be read before implementing a modern implementation of a specific protocol.
E.g., the DNS was originally defined in RFC 1034 and 1035, but was updated by more than 30 documents since, requiring to read all of them to implement that protocol.<a href="#section-6.3.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_84be8e24-c6e9-4335-b53e-31beb7da4bd1">
<p id="section-6.3.1-5">In the DNS example we are not even counting definitions of codepoints as protocol updates.
This is the third method used at the IETF to evolve a standard, by defining new codepoints and their associated data.
That last method will be explored in more detail in <a href="#import_proto_reg" class="xref">Section 6.3.2</a>, so the remaining of this section can focus on the two other methods.<a href="#section-6.3.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_da67c9dd-7913-4cef-a1e4-b7280523ec31">
<p id="section-6.3.1-6">Writing a computerate specification for a new document or a document that obsoletes another one is straightforward, as the specification will contain all the types that are needed to formalize it.
On the other hand it is less clear what should go into a specification that updates another one.<a href="#section-6.3.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_384fc1af-9ca5-49f7-a408-d265e2fe0297">
<p id="section-6.3.1-7">A simplistic solution is to copy the whole Idris content from the original specification into the new one and modify that new content, but this creates a few problems:<a href="#section-6.3.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_b28d909e-c5c6-4f71-b6b2-3b4df13e1c18">
<p id="section-6.3.1-8">Firstly the content from the original specification will have to be copied again each time it was modified, as computerate specifications are meant to evolve, even if the underlying document did not.<a href="#section-6.3.1-8" class="pilcrow">¶</a></p>
</div>
<div id="_6f6e5f33-ebc8-42ca-a673-5313a3ee2338">
<p id="section-6.3.1-9">Secondly the size of the code should be roughly proportional to the size of the document itself, so the actual update is made obvious from the content.<a href="#section-6.3.1-9" class="pilcrow">¶</a></p>
</div>
<div id="_b5d70818-4877-4310-8319-7942e453effc">
<p id="section-6.3.1-10">So instead of manually copying the content, an Idris elaboration can be used to copy it automatically and apply the minimal modifications needed at the same time.<a href="#section-6.3.1-10" class="pilcrow">¶</a></p>
</div>
<div id="_bb1a24ff-7b51-4f6d-a415-131c14ebe35f">
<p id="section-6.3.1-11">But first the specification that will be updated needs to be prepared, by encapsulating the types in a function that will be used to generate the types themselves:<a href="#section-6.3.1-11" class="pilcrow">¶</a></p>
</div>
<div id="_6a197b50-a95f-4c80-933b-f76760fde9ff">
<div id="section-6.3.1-12">
<pre class="sourcecode">&lt;CODE BEGINS&gt;
export
internetHeader : List Decl
internetHeader = `[
||| InternetHeader
export
data InternetHeader : Type where
  MkInternetHeader :
    (version : BitVector 4) -&gt; version = [O, I, O, O] =&gt;
    (ihl : (Unsigned 4, Data)) -&gt; snd ihl = tetra =&gt;
    (tos : Tos) -&gt;
    (length : (Unsigned 16, Data)) -&gt; snd length = octet =&gt;
    (id : Unsigned 16) -&gt;
    (flags : Flags) -&gt;
    (offset : Unsigned 13, Data)) -&gt; snd offset = octa =&gt;
    (ttl : (Unsigned 8, Time)) -&gt; snd ttl = second =&gt;
    (protocol : BitVector 16) -&gt;
    (checksum : BitVector 16) -&gt;
    (source : BitVector 32) -&gt;
    (dest : BitVector 32) -&gt;
    (options : List Option) -&gt;
    (padding : BitVector n) -&gt;
      n = pad 32 options =&gt; padding = bitVector =&gt;
    InternetHeader
    ]
%runElab declare internetHeader
&lt;CODE ENDS&gt;</pre><a href="#section-6.3.1-12" class="pilcrow">¶</a>
</div>
</div>
<div id="_444c424b-306e-4803-9ec6-18831e5a6a35">
<p id="section-6.3.1-13">This code behaves exactly like the previous definition, with the major difference that the documentation is not generated for that type.
Idris2 has been enhanced with the possibility to cache the result of an elaboration directly in the source code, and to automatically send a warning when the cache needs to be refreshed.
The interactive command <code>:gc &lt;line&gt;</code> automatically generates the code followed by a <code>%cacheElab</code> line that indicates where the code generated ends, something like this:<a href="#section-6.3.1-13" class="pilcrow">¶</a></p>
</div>
<div id="_efb0eee0-164e-4cb7-9e3e-55480e456a18">
<div id="section-6.3.1-14">
<pre class="sourcecode">&lt;CODE BEGINS&gt;
%runElab declare internetHeader
export
||| InternetHeader
data InternetHeader : Type where
  MkInternetHeader :
    (version : BitVector 4) -&gt; version = [O, I, O, O] =&gt;
    (ihl : (Unsigned 4, Data)) -&gt; snd ihl = tetra =&gt;
    (tos : Tos) -&gt;
    (length : (Unsigned 16, Data)) -&gt; snd length = octet =&gt;
    (id : Unsigned 16) -&gt;
    (flags : Flags) -&gt;
    (offset : Unsigned 13, Data)) -&gt; snd offset = octa =&gt;
    (ttl : (Unsigned 8, Time)) -&gt; snd ttl = second =&gt;
    (protocol : BitVector 16) -&gt;
    (checksum : BitVector 16) -&gt;
    (source : BitVector 32) -&gt;
    (dest : BitVector 32) -&gt;
    (options : List Option) -&gt;
    (padding : BitVector n) -&gt;
      n = pad 32 options =&gt; padding = bitVector =&gt;
    InternetHeader
%cacheElab 1506359842985480550 1506359842985480550
&lt;CODE ENDS&gt;</pre><a href="#section-6.3.1-14" class="pilcrow">¶</a>
</div>
</div>
<div id="_96d5487c-dede-4a29-8f4b-b047c9d48b92">
<p id="section-6.3.1-15">The numbers on the <code>%cacheElab</code> line are hashes of, respectively, the elaboration code and the generated text and permit to detect if either were modified since the last time the code was cached.<a href="#section-6.3.1-15" class="pilcrow">¶</a></p>
</div>
<div id="_eeb80ae6-185d-433f-8f4c-ab5f8b236083">
<p id="section-6.3.1-16">With that we can import the definition of the <code>InternetHeader</code> type and clone in in our new specification:<a href="#section-6.3.1-16" class="pilcrow">¶</a></p>
</div>
<div id="_e9eddf9f-d962-43c1-96e7-fff88e321777">
<div id="section-6.3.1-17">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
import RFC791.IP

%runElab declare internetHeader
&lt;CODE ENDS&gt;</pre><a href="#section-6.3.1-17" class="pilcrow">¶</a>
</div>
</div>
<div id="_99ebf257-2f17-423f-b6c1-23e34d23c965">
<p id="section-6.3.1-18">The modification needed by the new document can be done by replacing the <code>ToS</code> field by the newly defined <code>DSField</code>, using the <code>replace</code> function:<a href="#section-6.3.1-18" class="pilcrow">¶</a></p>
</div>
<div id="_0523d502-eed6-400b-aaf4-9dd7da24f864">
<div id="section-6.3.1-19">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
import RFC791.IP
import ComputerateSpecifying.Transform

dscp : List Decl
dscp = `[
public export
data Dscp : Type where
  MkDscp : (dscp : BitVector 6) -&gt;
           (reserved : BitVector 2) -&gt; reserved = bitVector =&gt;
           Dscp
  ]
%runElab declare dscp

%runElab declare (add mypath internetHeader dscp)
&lt;CODE ENDS&gt;</pre><a href="#section-6.3.1-19" class="pilcrow">¶</a>
</div>
</div>
<div id="_253c6e80-8e74-4506-9ff9-ec61e51cdf45">
<p id="section-6.3.1-20">At this point using elaboration caching would permit to check that the new type indeed uses the <code>Dscp</code> type instead of the old <code>Tos</code> type.<a href="#section-6.3.1-20" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="import_proto_reg">
<section id="section-6.3.2">
          <h4 id="name-extended-registries">
<a href="#section-6.3.2" class="section-number selfRef">6.3.2. </a><a href="#name-extended-registries" class="section-name selfRef">Extended Registries</a>
          </h4>
<div id="_a9434d20-16e7-45bb-80b1-7ec843464e4c">
<aside id="section-6.3.2-1">
            <p id="section-6.3.2-1.1">NOTE: The mechanisms described in this section requires Type Providers that are not yet available in Idris2.
Until then, the constants built by future type providers can be populated by hand.<a href="#section-6.3.2-1.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_792354f1-d9b7-47f2-b379-c63b90f20a26">
<p id="section-6.3.2-2">At the difference of the previous section, that describes how to formalize the unplanned evolution of a protocol, most protocols are designed with the potentiality of evolution, also known as extensibility.
These potentialities are generally expressed as values for some fields that will be later assigned to a new meaning.<a href="#section-6.3.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_e83b5d05-3aad-477e-a845-2e0701f6e677">
<p id="section-6.3.2-3">The meaning for a new value will be defined in a new document, with all the documents giving new meanings to a field easily locatable in a registry.<a href="#section-6.3.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_37e7f24f-5fbf-4e8d-881a-7660fee5a0c2">
<p id="section-6.3.2-4">Following up on our previous example, RFC 791 defines IP Options only for values 0, 1, 7, 68, 131, 136, and 137.
These values, together with new values defined by other documents, are listed in the IP Option Numbers IANA registry.
E.g., that IANA registry also defines, among others, value 25 in RFC 4782.<a href="#section-6.3.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_f668ddb5-dc4f-46cd-8f40-9aab23e72d2a">
<p id="section-6.3.2-5">The values that are part of a registry are designed to be used with the protocol that defined that registry, so it makes sense to synthesise a Sum type of all these values in the computerate specification for the document that defined that registry.<a href="#section-6.3.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_2b67aeb3-cd29-4dff-a0d1-319653915c61">
<p id="section-6.3.2-6">Building that Sum type can be done by applying transformations to the original type, just like when modifying a protocol in a new specification.
The difference is that the list of types that will be used in the Sum type needs be collected from the registry, and updated each time the registry is updated.<a href="#section-6.3.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_9b28c10c-8566-42dd-9f5b-286f9e823723">
<p id="section-6.3.2-7">Idris has a mechanism to read external data during type-checking (a feature known as Type Provider), mechanism that could be used to read the content of the registry.
A registry generally contains the codepoint that identifies a new value and the name of the document that defines that value, but unfortunately the protocol registries do not contain enough information to automatically find the Idris2 type that matches a specific codepoint.<a href="#section-6.3.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_e188733c-032b-4f55-8123-ca7de9da5a27">
<p id="section-6.3.2-8">For instance IANA is the organization that is maintaining the registries for the IETF.
The <code>IP Option Numbers</code> is an example of a registry that contains the list of all the IP Options that can be carried by the Internet Protocol.
E.g., in that registry RFC 1191 contains the description for multiple entries in the registry, and so an additional mechanism is needed to find the Idris2 type for each of them.<a href="#section-6.3.2-8" class="pilcrow">¶</a></p>
</div>
<div id="_f3bfc72f-6378-4f8a-ab0a-800c43a734dc">
<p id="section-6.3.2-9">That additional mechanism is abstracted as an extended registry that complements the existing registry, but for the sole purpose of finding the exact type to use for each codepoint to generate that Sum type.<a href="#section-6.3.2-9" class="pilcrow">¶</a></p>
</div>
<div id="_0466b3ca-9fda-4fa4-95f1-0ab1403b7366">
<p id="section-6.3.2-10">Building an <code>InternetHeader</code> type that contains all the IP Options defined at the time of type-checking looks like this;<a href="#section-6.3.2-10" class="pilcrow">¶</a></p>
</div>
<div id="_4b9e8a01-c966-4ca6-bf0d-baed1d73ac4b">
<div id="section-6.3.2-11">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
%provide (ipParameter : List (String, Decl)) with registry
  ("https://www.iana.org/assignments/ip-parameters/" ++
  "ip-parameters.xhtml#ip-parameters-2")

%runELab traverse (add transform internetHeader Add) (type registry)
&lt;CODE ENDS&gt;</pre><a href="#section-6.3.2-11" class="pilcrow">¶</a>
</div>
</div>
<div id="_2b3c7f04-84b3-4658-b715-3659fc9dea30">
<p id="section-6.3.2-12">The <code>%provide</code> statement reads both the IANA registry and its associated extended registry and stores the result in the <code>ipParameter</code> constant.
Then the <code>%runElab</code> statement repetitively adds the types retrieved to the <code>InternetHeader</code> type.<a href="#section-6.3.2-12" class="pilcrow">¶</a></p>
</div>
<div id="_9ce8b636-a4f0-4941-ba1e-79ba65d66b11">
<p id="section-6.3.2-13">Instead of having to manually maintain the extended registries, they can be automatically updated by information coming from the type-checking of the types in the respective computerate specifications that define new values, by binding a specific entry in a registry with the type in the specification.<a href="#section-6.3.2-13" class="pilcrow">¶</a></p>
</div>
<div id="_09887dec-aaeb-4432-9e96-da9dbe36233d">
<p id="section-6.3.2-14">The mechanism used is also based on a type provider, but this time to update the extended registry instead of reading from it:<a href="#section-6.3.2-14" class="pilcrow">¶</a></p>
</div>
<div id="_dcc4590e-f69a-4b39-b681-d0bca1579dd8">
<div id="section-6.3.2-15">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
%provide (mtur: ()) with extendRegistry
  ("https://www.iana.org/assignments/ip-parameters/" ++
  "ip-parameters.xhtml#ip-parameters-2")
  "11" mtuR
%provide (mtut : ()) with extendRegistry
  ("https://www.iana.org/assignments/ip-parameters/" ++
  "ip-parameters.xhtml#ip-parameters-2")
  "12" mtuT
&lt;CODE ENDS&gt;</pre><a href="#section-6.3.2-15" class="pilcrow">¶</a>
</div>
</div>
<div id="_4192069d-3c19-4a0a-bf44-95038b59eff5">
<p id="section-6.3.2-16">Here the statements bind the types defined in <code>mtuR</code> and <code>mtuT</code> to codepoints 11 and 12 in the extended registry of IANA's IP Option Numbers registry.<a href="#section-6.3.2-16" class="pilcrow">¶</a></p>
</div>
<div id="_c2f04f1a-ab19-468e-8be4-8e0d98970e1f">
<p id="section-6.3.2-17">The next time the code is type-checked, it will add constructors for these two IP Options.<a href="#section-6.3.2-17" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="export">
<section id="section-7">
      <h2 id="name-exporting-specifications">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-exporting-specifications" class="section-name selfRef">Exporting Specifications</a>
      </h2>
<div id="_fa212a0a-309a-4bdb-b7a3-056c0495eb4e">
<aside id="section-7-1">
        <p id="section-7-1.1">NOTE: The infrastructure for sharing the git repositories for exported packages is not ready yet.<a href="#section-7-1.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="export_library">
<section id="section-7.1">
        <h3 id="name-standard-library">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-standard-library" class="section-name selfRef">Standard Library</a>
        </h3>
<div id="_28e7ac2d-5428-408e-92a0-c73aa3c63535">
<p id="section-7.1-1">Computerate specifications can formalize their content to make it reusable as a building block for other specifications.
A specification that organizes its content along the guidelines presented in this section can become a part of the Computerate Specification Standard Library.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_76fbbbca-0623-427e-9923-413061b383b7">
<p id="section-7.1-2">To be part of the Standard Library, specifications must be organized in 4 components:<a href="#section-7.1-2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_c95dc883-e844-4792-81e3-83fc5f0d13fa">
<dl class="dlParallel" id="section-7.1-3">
          <dt id="section-7.1-3.1">Code: </dt>
          <dd style="margin-left: 1.5em" id="section-7.1-3.2">
            <div id="_0183bfd9-230c-4a4c-b400-40c3f1c4abd8">
<p id="section-7.1-3.2.1">This is the formalization of the content of the standard as an Idris package i.e., a set of Idris modules (i.e. files) that exports some or all of the types and functions defined in it.
The code of these Idris modules is generally interspersed with the content of the standard to form literate code.<a href="#section-7.1-3.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-3.3">Tutorial: </dt>
          <dd style="margin-left: 1.5em" id="section-7.1-3.4">
            <div id="_b4b67b82-1d0a-4e2e-9158-f334f257883e">
<p id="section-7.1-3.4.1">This is a document section that guides the reader step by step in the use of the Idris package in a Computerate Specification.
A tutorial may import the package itself to validate the examples provided as part of the tutorial.
This section is considered informative.<a href="#section-7.1-3.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-3.5">Description: </dt>
          <dd style="margin-left: 1.5em" id="section-7.1-3.6">
            <div id="_730b9c5f-862b-43ef-ba00-cf729605a9f0">
<p id="section-7.1-3.6.1">This is a document section that explains the Idris package as a whole i.e, grouping explanations by feature.<a href="#section-7.1-3.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-7.1-3.7">Reference: </dt>
          <dd style="margin-left: 1.5em" id="section-7.1-3.8">
            <div id="_533a5fb5-12ef-4231-9197-c614363fb1ec">
<p id="section-7.1-3.8.1">This is a document section that is auto-generated from the structured comments in the types and functions of the code Idris package.
It lists all the types and functions in alphabetic order, including the comments on parameters.<a href="#section-7.1-3.8.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
</dl>
</div>
<div id="_6a37371c-5534-4b91-bf71-1daed4f144e2">
<p id="section-7.1-4">This document is itself an Idris package that is part of the Standard Library, <a href="#export" class="xref">Section 7</a> contains the tutorial part of that package, <a href="#library_modules" class="xref">Section 8.1</a> forms its description part, and <a href="#reference" class="xref">Appendix B</a> contains its reference.<a href="#section-7.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_8e9549c7-5d84-4841-962a-269ee349da92">
<p id="section-7.1-5">For a retrofitted document, the code will be mixed with the existing standard to produce a Computerate Specification but the tutorial, description and reference parts cannot be added to that standard, so they have to be part of a separate document.
It can be a new specification written for the express purpose of documenting that package.
This is the case for this specification, which documents a selection of retrofitted Computerate Specifications that are part of the Standard Library.
E.g., <a href="#import_meta_abnf" class="xref">Section 6.2.1</a>, and <a href="#library_abnf" class="xref">Section 8.2.2</a> are respectively the tutorial and the description for <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_d1ac57c4-372b-454e-ad8a-227edb4be9aa">
<p id="section-7.1-6">For a new document, the four components should be part of it.
E.g., in this document <a href="#import_common_repr_bit" class="xref">Section 6.1.5.1</a>, <a href="#library_bit" class="xref">Section 8.1.5</a>, and <a href="#_module_computeratespecifying_bitdiagram" class="xref">Appendix B.1.2</a> are respectively the tutorial, description, and reference for the <code>BitDiagram</code> module.<a href="#section-7.1-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="export_transclusion">
<section id="section-7.2">
        <h3 id="name-transclusions">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-transclusions" class="section-name selfRef">Transclusions</a>
        </h3>
<div id="_ff1ce95c-cc18-4f02-8389-40a1947a5d0b">
<p id="section-7.2-1">RFCs, Internet-Drafts and standard documents published by other SDOs did not start their life as computerate specifications, so to be able to use them as Idris packages they will need to be progressively retrofitted.
This is done by converting the documents into an AsciiDoc documents and then enriching them with code, in the same way that would have been done if the standard was developed directly as a computerate specification.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_e0207080-7df6-4e0d-b8c8-b6d99475c8f4">
<p id="section-7.2-2">Converting the whole document in AsciiDoc and enriching it with code, instead of just maintaining a library of code, seems a waste of resources.
The reason for doing so is to be able to verify that the rendered text is equivalent to the original standard, which will validate the examples and formal languages.<a href="#section-7.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_76e2387d-0822-49ab-b1d0-eff1a88f3a43">
<p id="section-7.2-3">Retrofitted specifications will also be made available as individual git repositories as they are converted.<a href="#section-7.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_b3a2f08e-eccd-4719-b315-78218b94c17d">
<p id="section-7.2-4">Because the IETF Trust does not permit modifying an RFC as a whole (except for translation purposes), a retrofitted RFC uses transclusion, a mechanism that includes parts of a separate document at runtime.
This way, a retrofitted RFC is distributed as two separate files, the original RFC in text form, and a computerate specification that contains only code and transclusions.
Transclusions use are explained in <a href="#cli_computerate_trans" class="xref">Appendix A.2.2</a>.<a href="#section-7.2-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="export_type">
<section id="section-7.3">
        <h3 id="name-exporting-types-and-functio">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-exporting-types-and-functio" class="section-name selfRef">Exporting Types and Functions</a>
        </h3>
<div id="_0a72b5fb-f51a-4cf4-985b-2ee54bb2891a">
<p id="section-7.3-1">Types and functions are exported by using the <code>export</code> keyword.
Type constructors, interface functions and type functions implementation can be additionally exported by prepending the keyword <code>public</code> to the <code>export</code> keyword.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_7f504b37-b7d7-42b9-9241-ae45b5ea1937">
<p id="section-7.3-2">Additionally, types that may be transformed should be declared as explained in <a href="#import_proto_reg" class="xref">Section 6.3.2</a>, i.e. by wrapping them first in a exported function that uses a quote declaration, then generating them locally using a <code>declare</code> elaboration.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="library">
<section id="section-8">
      <h2 id="name-standard-library-2">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-standard-library-2" class="section-name selfRef">Standard Library</a>
      </h2>
<div id="_8fc91c4c-b3c8-42dd-ba7b-9be331f7f00f">
<aside id="section-8-1">
        <p id="section-8-1.1">NOTE: The libraries described in that section are not yet available.<a href="#section-8-1.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="library_modules">
<section id="section-8.1">
        <h3 id="name-internal-modules">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-internal-modules" class="section-name selfRef">Internal Modules</a>
        </h3>
<div id="library_asciidoc">
<section id="section-8.1.1">
          <h4 id="name-asciidoc">
<a href="#section-8.1.1" class="section-number selfRef">8.1.1. </a><a href="#name-asciidoc" class="section-name selfRef">AsciiDoc</a>
          </h4>
<div id="_d272e2e9-14b1-495a-a4c3-833b9814c9be">
<p id="section-8.1.1-1">The AsciiDoc module provides a way to programmatically build an AsciiDoc document without having to worry about the particular formatting details.<a href="#section-8.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_6dbb7295-9134-46f5-b03f-51321a9a3644">
<p id="section-8.1.1-2">Note that, at the difference of the AsciiDoc rendering process that tries very hard to render a document in any circumstances, the types in this module are meant to only generate a correct document.<a href="#section-8.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_9ef8d3c9-29e5-499a-b9f0-52e3a17061cc">
<p id="section-8.1.1-3">E.g., the string <code>this is {`N "<strong>bold</strong>"</code>}bold` will be rendered as <code>this is <strong>bold</strong></code>.
If the intent was to render the "bold" word in bold, then the string should have been <code>this is {`Bold "bold"</code>}`.<a href="#section-8.1.1-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_bitvector">
<section id="section-8.1.2">
          <h4 id="name-bitvector">
<a href="#section-8.1.2" class="section-number selfRef">8.1.2. </a><a href="#name-bitvector" class="section-name selfRef">BitVector</a>
          </h4>
<div id="_2155ccac-1b37-4804-a8be-a88330b209c7">
<p id="section-8.1.2-1">The Computerate Specifying Library provides a number of types and functions aimed at defining and manipulating the data types that are commonly found in Protocol Data Units (PDU).
The most elementary type of data is the bit-vector, which is a list of individual bits.
Bit-vectors are not always sufficient to describe the subtleties the data types carried in a PDU, and several more precise types are built on top of them.
See <a href="#library_unsigned" class="xref">Section 8.1.3</a> for unsigned integers.<a href="#section-8.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_0edd11ce-f801-4ea2-b347-73ca848a03a7">
<p id="section-8.1.2-2"><code>BitVector</code> is a dependent type representing a list of bits, indexed by the number of bits contained in that list.
The type is inspired by Chapter 6 of <span>[<a href="#Kroening16" class="xref">Kroening16</a>]</span> and by <span>[<a href="#Brinkmann02" class="xref">Brinkmann02</a>]</span>.<a href="#section-8.1.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_c009c328-082c-42fd-95ba-5e6b713cc45a">
<p id="section-8.1.2-3">A value of type <code>BitVector n</code> can be built as a series of zeros (<code>bitVector</code>) or can be built by using a list of <code>O</code> (for 0) and <code>I</code> (for 1) constructors.
E.g., <code>[O, I, O, O]</code> builds a bit-vector of type <code>BitVector 4</code> with a value equivalent to 0b0100.<a href="#section-8.1.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_ad47292b-b450-4a81-bc40-c9a9fbfc9dd6">
<p id="section-8.1.2-4">Bit-vectors can be compared for equality, but they are not ordered.
They also are not numbers and arithmetics operations cannot be applied to them.<a href="#section-8.1.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_6a7a8edd-f17a-4144-bab2-ac0dbbe95223">
<p id="section-8.1.2-5">Bit-vectors can be concatenated (<code>concat</code>), a smaller bit-vector can be extracted from an existing bit-vector (<code>extract</code>), or a bit-vector can be extended by adding a number of zeros in front of it (<code>extend</code>).<a href="#section-8.1.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_b421bdb9-d50b-4a6e-9885-4ce2f5312ab5">
<p id="section-8.1.2-6">The usual unary bitwise (<code>shiftL</code>, <code>shiftR</code>, <code>not</code>) operations are defined for bit-vectors, as well as binary bitwise operations between two bit-vectors of the same size (<code>and</code>, <code>or</code>, <code>xor</code>)<a href="#section-8.1.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_35c3671f-7b11-4490-b975-13584f81601e">
<p id="section-8.1.2-7">Finally it is possible to convert the bit at a specific position in a bit-vector into a <code>Bool</code> value (<code>test</code>).<a href="#section-8.1.2-7" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_unsigned">
<section id="section-8.1.3">
          <h4 id="name-unsigned">
<a href="#section-8.1.3" class="section-number selfRef">8.1.3. </a><a href="#name-unsigned" class="section-name selfRef">Unsigned</a>
          </h4>
<div id="_422eb12d-9107-43b9-91cd-c0182b5d3105">
<p id="section-8.1.3-1">A value of type <code>Unsigned n</code> encodes an unsigned integer as a <code>BitVector</code> of length <code>n</code>.<a href="#section-8.1.3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_dimension">
<section id="section-8.1.4">
          <h4 id="name-dimension">
<a href="#section-8.1.4" class="section-number selfRef">8.1.4. </a><a href="#name-dimension" class="section-name selfRef">Dimension</a>
          </h4>
<div id="_45699eaf-1432-4379-b802-c320e946eb73">
<p id="section-8.1.4-1">This module permits to manipulate denominate numbers, which are numbers associated with a unit.
Examples of denominate numbers are <code>cast (5, meter / second)</code> (which uses a unit of speed), or <code>cast (10, meter * meter * meter)</code> (which uses a unit of volume).<a href="#section-8.1.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_42991739-7c94-408f-b6b0-889fdad85262">
<p id="section-8.1.4-2">In this module a denominate number is a value of type <code>Denominate xs</code>.
It carries one number as a fraction.
Its type is indexed over a list of dimensions, each associated with an exponent number.
All together this type can represent any unit that is based directly or indirectly from the base dimensions defined in the <code>Dimension</code> type.<a href="#section-8.1.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_6f9b609d-199d-4a4d-a228-70acff941bc9">
<p id="section-8.1.4-3">Denominate numbers are constructed by passing a tuple made of a number (either an <code>Integer</code> or a <code>Double</code>) and a unit to the <code>cast</code> function.
E.g., <code>cast (5, megabit)</code> will build the denominate number 5 with the <code>megabit</code> unit.<a href="#section-8.1.4-3" class="pilcrow">¶</a></p>
</div>
<div id="_e35e1032-bb9d-4786-96d4-9441f304e044">
<p id="section-8.1.4-4">Dimensionless denominate numbers can be constructed by using the <code>none</code> unit, as in <code>cast (10, none)</code><a href="#section-8.1.4-4" class="pilcrow">¶</a></p>
</div>
<div id="_b075e97c-ba9a-4506-a99b-7094699c80cb">
<p id="section-8.1.4-5">Denominate numbers can be converted back into a tuple with the <code>fromDenominate</code> function.<a href="#section-8.1.4-5" class="pilcrow">¶</a></p>
</div>
<div id="_7bd4d9fa-cd15-4355-94d5-966e6a15ec45">
<p id="section-8.1.4-6">Denominate numbers can be added, subtracted or negated (respectively <code>+</code>, <code>-</code>, and <code>neg</code>).
All these operations can only be done on denominate numbers with the same exact dimension, and the result will also carry the same dimension.
This prevents what is colloquially known as mixing apples and oranges.<a href="#section-8.1.4-6" class="pilcrow">¶</a></p>
</div>
<div id="_e6819650-8a3a-4b05-9113-d3bc4c15b9bc">
<p id="section-8.1.4-7">For the same reason, adding a number to a non-dimensionless denominate number is equally impossible.<a href="#section-8.1.4-7" class="pilcrow">¶</a></p>
</div>
<div id="_f70f7c0a-a4b3-4dc6-907e-63df7fd6ddbe">
<p id="section-8.1.4-8">The <code>*</code>, <code>/</code>, and <code>recip</code> operations respectively multiply, divide and calculate the reciprocal of denominate numbers.
These operations can be done on denominate number that have different types, and the result dimension will be derived from the dimension of the arguments.
E.g. multiplying <code>cast (5, meter)</code> by <code>cast (6, meter)</code> will return the equivalent of <code>cast (30, meter * meter)</code>.<a href="#section-8.1.4-8" class="pilcrow">¶</a></p>
</div>
<div id="_40f6ff1c-6067-4806-a737-65797d780302">
<p id="section-8.1.4-9">Also multiplying a denominate number by a (dimensionless) number is possible e.g., as in multiplying <code>cast (5, meter)</code> by <code>cast (10, none)</code>, which will return the equivalent of <code>cast (50, meter)</code>.<a href="#section-8.1.4-9" class="pilcrow">¶</a></p>
</div>
<div id="_ebd5f899-4ee2-4dfe-91d2-621e8bcc97e9">
<p id="section-8.1.4-10">Ultimately we want to insert in a computerate specification the value of a denominate number, together with its unit, as text, which is done by implementing the <code>Show</code> interface on a denominate number in its tuple form.
E.g. <code>fromDenominate (cast (5, meter / second)) (kilometer / hour)</code> can be directly inserted in a document and will be substituted with the string <code>18 km/h</code>.<a href="#section-8.1.4-10" class="pilcrow">¶</a></p>
</div>
<div id="_fdd62ca6-5569-45ca-846b-2ba5af21d050">
<p id="section-8.1.4-11">For each dimension we define a list of constants that represents units of that dimension.
Units that uses a prefix are automatically generated, which is the case for SI units for the <code>Time</code> dimension (i.e., from <code>yoctosecond</code> to <code>yottasecond</code>), SI units (only positive powers of 10) for the <code>Data</code> dimension (i.e., from <code>kilobit</code> to <code>yottabit</code>), and IEC units (positive powers of 2) for the <code>Data</code> dimension (i.e., from <code>kibibit</code> to <code>yobibit</code>).<a href="#section-8.1.4-11" class="pilcrow">¶</a></p>
</div>
<div id="_b3d65de6-16ef-4397-ae50-61e0fe2ab57e">
<p id="section-8.1.4-12">Additional constants like <code>minute</code>, <code>hour</code>, <code>day</code>, <code>byte</code>, <code>wyde</code>, <code>tetra</code>, <code>octa</code>, etc, complement the standard units.
The <code>byte</code>, <code>wyde</code>, <code>tetra</code>, and <code>octa</code> units are defined in page 4 of <span>[<a href="#Knuth05" class="xref">Knuth05</a>]</span>.<a href="#section-8.1.4-12" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_bit">
<section id="section-8.1.5">
          <h4 id="name-bitdiagram">
<a href="#section-8.1.5" class="section-number selfRef">8.1.5. </a><a href="#name-bitdiagram" class="section-name selfRef">BitDiagram</a>
          </h4>
<div id="_d7d16492-fdfb-4a07-a740-f43f50ed140a">
<p id="section-8.1.5-1">A bit diagram displays a graphical representation of a data layout at the bit level.<a href="#section-8.1.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_75671fcd-a2fd-4c85-8958-41f4e35de53a">
<p id="section-8.1.5-2">The <code>BitDiagram</code> type is used to build BitDiagrams values.<a href="#section-8.1.5-2" class="pilcrow">¶</a></p>
</div>
<div id="_5e3231d5-9a8b-42df-81ce-301d6fd24eb4">
<p id="section-8.1.5-3">The <code>toAsciiDoc</code> function converts a <code>BitDiagram</code> value into an AsciiDoc Literal Block which can be inserted directly in the document.<a href="#section-8.1.5-3" class="pilcrow">¶</a></p>
</div>
<div id="_aa201989-1568-42df-9c80-67a239b17d95">
<p id="section-8.1.5-4">Adhoc types can also be used to generate a bit diagram, by passing that type to the <code>toDiagram</code> function and the returned value to the <code>toAsciiDoc</code> function.
The <code>toDiagram</code> function will build a field only for types that have an implementation for the <code>Size</code> interface.
The function <code>toDiagram</code> also takes an auxiliary Type <code>Names</code> that associate names with these types.<a href="#section-8.1.5-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_transform">
<section id="section-8.1.6">
          <h4 id="name-transform">
<a href="#section-8.1.6" class="section-number selfRef">8.1.6. </a><a href="#name-transform" class="section-name selfRef">Transform</a>
          </h4>
<div id="_4d34cfd9-d2cc-40cc-a588-a49703ddcbe3">
<p id="section-8.1.6-1">This module permits to manipulate values that are in the very generic form of trees.
These manipulations consist of removing, or replacing a selected value or values in that tree.<a href="#section-8.1.6-1" class="pilcrow">¶</a></p>
</div>
<div id="_f96a28f8-5d13-4f5b-bdf1-323d949e9ecd">
<p id="section-8.1.6-2">The values to manipulate are selected using a path, which is a series of instructions used to move the focus of the manipulation up, down and sideway in the tree and to apply a predicate until a set of values are chosen.<a href="#section-8.1.6-2" class="pilcrow">¶</a></p>
</div>
<div id="_0fa5d547-2287-442a-a0a0-8a6d07a52c99">
<p id="section-8.1.6-3">The values selected are then either removed or replaced by a new value.
The rest of the tree stays unmodified.<a href="#section-8.1.6-3" class="pilcrow">¶</a></p>
</div>
<div id="_6a9b3374-2b5b-4400-8088-ef8bd9130e40">
<p id="section-8.1.6-4">This mechanism is very generic and can be applied to any tree, but it is meant to modify the types defined in the <code>Language.Reflection.TTImp</code> and <code>Language.Reflection.TT</code> standard modules, with the goal of generating types that are derived from existing types.<a href="#section-8.1.6-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_tpn">
<section id="section-8.1.7">
          <h4 id="name-tpn">
<a href="#section-8.1.7" class="section-number selfRef">8.1.7. </a><a href="#name-tpn" class="section-name selfRef">Tpn</a>
          </h4>
<div id="_07c1fcb1-88c1-4078-856f-47d0b05e1f73">
<p id="section-8.1.7-1">The <code>Tpn</code> module permits to build Typed Petri Nets.
It is designed to mimic Hierarchical Colored Petri Nets so conversions could be done mechanically.<a href="#section-8.1.7-1" class="pilcrow">¶</a></p>
</div>
<div id="library_tpn_base">
<section id="section-8.1.7.1">
            <h5 id="name-building-a-tpn">
<a href="#section-8.1.7.1" class="section-number selfRef">8.1.7.1. </a><a href="#name-building-a-tpn" class="section-name selfRef">Building a TPN</a>
            </h5>
<div id="_2cea710f-6d7c-4a84-842d-9cdf74391f5e">
<p id="section-8.1.7.1-1">An <code>Ellipse</code> is a type whose values holds tokens of a specific type.
The word Ellipse references its shape when drawn.
An <code>Ellipse</code> has two constructors:<a href="#section-8.1.7.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_742fbdb9-970d-4dd0-83f0-b6a8e27679e9">
<p id="section-8.1.7.1-2">The <code>Place</code> constructor builds a Petri Net place, which is a structure that holds state in the form of tokens.
A place has a name, a type (or color) and an initial content.<a href="#section-8.1.7.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_a9b326e6-3479-4285-8919-bee3a8b6f8e2">
<p id="section-8.1.7.1-3">Alternatively the <code>Port</code> constructor can be used to build a Petri Net port, which is used to define the interface of a Petri Net module and, like a place, has a name and a type.
A port does not have an initial content but contains the direction tokens can flow between an outer module instance and a module definition.<a href="#section-8.1.7.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_af4d45ee-e83a-4aff-b360-acbe56adb47a">
<p id="section-8.1.7.1-4">The <code>TypeOf</code> function returns the type of an <code>Ellipse</code>.<a href="#section-8.1.7.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_cc3eb663-bfe8-477d-83a6-b027917fc91b">
<p id="section-8.1.7.1-5">The <code>InputArc</code> type builds an input arc for a transition.
The inscription is a function that takes a token as input and generates an optional value of the input arc type.
The optionality of the output type permits to decide if a token can or cannot be used in the transition.<a href="#section-8.1.7.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_19fa5340-993a-432c-a310-1a19ae64b174">
<p id="section-8.1.7.1-6">The type of the codomain of that function may be different from the type of the place to permit to do some manipulation on the token itself.
The <code>output</code> function is used to extract that <code>Type</code>.<a href="#section-8.1.7.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_4ee02824-c521-4d49-a7b1-8f31aa58c0ac">
<p id="section-8.1.7.1-7">These two features can be combined together by using pattern matching inside the inscription.<a href="#section-8.1.7.1-7" class="pilcrow">¶</a></p>
</div>
<div id="_bc4ab8ee-70fa-4c33-8ce7-f2200ae5c8d8">
<p id="section-8.1.7.1-8">It is not possible for an input arc to take multiple tokens from a place at once, but it is possible to simulate that behavior by adding multiple input arcs that take tokens from the same place.<a href="#section-8.1.7.1-8" class="pilcrow">¶</a></p>
</div>
<div id="_315cf428-f61b-4e2d-8a4e-e450cdf30251">
<p id="section-8.1.7.1-9">The <code>OutputArc</code> type builds an output arc for a transition.
An output arc takes a value of the type created by a transition, converts it using the function (acting as inscription) inscription into a list of tokens and insert that list in the destination place.
The list of tokens can be empty if no token has to be added, or can contain one or more tokens.<a href="#section-8.1.7.1-9" class="pilcrow">¶</a></p>
</div>
<div id="_6982ab85-59a2-467a-a241-cc46d3b9a9e2">
<p id="section-8.1.7.1-10">The order of the parameters of that function is the inverse of the <code>Input</code> type to show that the function codomain is the type of the place.
The <code>input</code> function extracts that type from the output arc.<a href="#section-8.1.7.1-10" class="pilcrow">¶</a></p>
</div>
<div id="_b702edfe-f38c-4cc5-b786-826624fc135e">
<p id="section-8.1.7.1-11">The <code>Transition</code> type builds a transition by putting together input arcs, output arcs and a function that returns zero binding if the transition is not enabled or one binding to be fed to the output arcs function if the transition is enabled.<a href="#section-8.1.7.1-11" class="pilcrow">¶</a></p>
</div>
<div id="_200656a9-5767-4d66-bf83-498783a5bec5">
<p id="section-8.1.7.1-12">The <code>Module</code> type groups together places, ports, transitions and instances of other modules into a module.<a href="#section-8.1.7.1-12" class="pilcrow">¶</a></p>
</div>
<div id="_2fafbe6f-2180-4ff8-9156-fc4d6fc0ad62">
<p id="section-8.1.7.1-13">The <code>Instance</code> type is used to instantiate a module inside a module, by binding places or ports to sockets.
A socket is the name given to a port, when used on the outside of a module.<a href="#section-8.1.7.1-13" class="pilcrow">¶</a></p>
</div>
<div id="_71960620-baf4-4019-a12b-5d371336f84e">
<p id="section-8.1.7.1-14">A value of type <code>Instance []</code> is a top-level TPN, i.e. an instance of a module without ports.<a href="#section-8.1.7.1-14" class="pilcrow">¶</a></p>
</div>
<div id="_9d13528f-7d18-4952-9a68-ea5e24539d1b">
<p id="section-8.1.7.1-15">Temporarily, the <code>|&gt;</code> operator can be used to chain <code>Module</code> constructors.<a href="#section-8.1.7.1-15" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_tpn_use">
<section id="section-8.1.7.2">
            <h5 id="name-verifying-a-tpn">
<a href="#section-8.1.7.2" class="section-number selfRef">8.1.7.2. </a><a href="#name-verifying-a-tpn" class="section-name selfRef">Verifying a TPN</a>
            </h5>
<div id="_8eb29ba0-92ba-48b5-a857-6e4ad6476928">
<p id="section-8.1.7.2-1">The <code>Marking</code> type describes a marking, which is a set of places and their content.
It represents the global state of the system described by a TPN.
A marking is indexed over the list of types of the places in it, such as we can guarantee that the marking structure never changes when transitions are fired.<a href="#section-8.1.7.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_557ff1b3-ec28-4258-b031-228df4f7af28">
<p id="section-8.1.7.2-2">The initial state of the system is generated by the <code>initialMarking</code> function.<a href="#section-8.1.7.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_c50c3187-a784-40c1-b70d-3c8fc47ff189">
<p id="section-8.1.7.2-3">The <code>enabledTransitions</code> function generates a list of all the transitions that are enabled by a specific marking.
The algorithm to decide that a transition is enabled is:<a href="#section-8.1.7.2-3" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-8.1.7.2-4.1">
                <div id="_d295d965-5749-41bd-85cd-e60b6c81a1ee">
<p id="section-8.1.7.2-4.1.1">Filter the content of each place by using the input arc inscription connected to that place.<a href="#section-8.1.7.2-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-4.2">
                <div id="_7cb13ee0-4fd2-4c6c-8edf-f2807a5c7842">
<p id="section-8.1.7.2-4.2.1">Build the Cartesian product of the filtered place content.<a href="#section-8.1.7.2-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-4.3">
                <div id="_54acc37c-55dc-4a97-a060-8195c9d8ad3d">
<p id="section-8.1.7.2-4.3.1">Filter out the results where the same token from the same place is used multiple times.<a href="#section-8.1.7.2-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-4.4">
                <div id="_42ed4cbd-df34-4a7a-90da-2d94f4c660cb">
<p id="section-8.1.7.2-4.4.1">Filter out the results by using the transition inscription.<a href="#section-8.1.7.2-4.4.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-4.5">
                <div id="_7c011f27-bfe9-47de-af28-e6c829689cc8">
<p id="section-8.1.7.2-4.5.1">If there is one or more result after filtering, then the transition is enabled.<a href="#section-8.1.7.2-4.5.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-4.6">
                <div id="_10755aa5-487b-4577-9eb3-a71adecd4fb9">
<p id="section-8.1.7.2-4.6.1">If there is no result after filtering, then the transition is disabled.<a href="#section-8.1.7.2-4.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            </ul>
<div id="_2f730582-f4ce-4e19-8103-ac992e3b00d4">
<p id="section-8.1.7.2-5">A <code>Binding</code> is a tuple that has the same size as the number of input arcs and that contains a token from each of the respective places such as substituting the input places in a transition by places that contain only that value will still enable the transition.<a href="#section-8.1.7.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_d295f01a-a720-4cee-9872-0ac5c27ed56d">
<p id="section-8.1.7.2-6">The <code>bindings</code> function lists all the possible bindings for a specific marking and an enabled transition.<a href="#section-8.1.7.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_d4230de5-80e4-4d3e-ae59-aeff16eab061">
<p id="section-8.1.7.2-7">The <code>transition</code> function transforms a marking into a new marking by applying a specific binding to a transition.
The algorithm is:<a href="#section-8.1.7.2-7" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-8.1.7.2-8.1">
                <div id="_be598d3d-cce2-494c-aee4-333b9360905e">
<p id="section-8.1.7.2-8.1.1">Remove the tokens in the binding from their respective place in the marking.<a href="#section-8.1.7.2-8.1.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-8.2">
                <div id="_9cbdf731-1a71-4646-af85-0130327c3a70">
<p id="section-8.1.7.2-8.2.1">Apply the binding to the transition like for the <code>enabledTransition</code>.
This will generate a unique tuple, with one value per output arc.<a href="#section-8.1.7.2-8.2.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-8.3">
                <div id="_78c66e54-2c61-45f2-acfe-8e73acdec350">
<p id="section-8.1.7.2-8.3.1">Split the tuple per output arc, and apply the corresponding output arc inscription to each value.<a href="#section-8.1.7.2-8.3.1" class="pilcrow">¶</a></p>
</div>
</li>
              <li class="compact" id="section-8.1.7.2-8.4">
                <div id="_79929b06-229f-4255-84ac-369d4d95ec0b">
<p id="section-8.1.7.2-8.4.1">Concatenate each resulting list to the respective place content in the marking.<a href="#section-8.1.7.2-8.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            </ul>
</section>
</div>
<div id="library_tpn_derive">
<section id="section-8.1.7.3">
            <h5 id="name-deriving-a-type-from-a-tpn">
<a href="#section-8.1.7.3" class="section-number selfRef">8.1.7.3. </a><a href="#name-deriving-a-type-from-a-tpn" class="section-name selfRef">Deriving a Type From a TPN</a>
            </h5>
<div id="_5a31d3c3-7aea-47a3-9020-2cb188ae911e">
<p id="section-8.1.7.3-1">The <code>deriveType</code> function takes a top-level TPN (as an instance of the type <code>Instance []</code>) and generates the declaration of a new Sum type, with one constructor per transition, plus one constructor for the initial marking.
This type then can serve to define a proof that a list of (transition, binding) tuples are valid according to that Petri Net.<a href="#section-8.1.7.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_1101db41-c266-44a7-bfb4-05b638fe8076">
<p id="section-8.1.7.3-2">On the generated type, the <code>Init</code> constructor builds an initial marking.
Then each other constructors are used to validate a sequence of binding elements.
Each non-initial constructor carries a set of proofs, one per input arc that prove that the binding is originating from the places in the marking, and one that prove that this transition is enabled, by showing that the transition using that binding is deterministic.
Finally each transition updates the marking according to the output arcs, i.e removing and adding tokens.<a href="#section-8.1.7.3-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="library_metalanguages">
<section id="section-8.2">
        <h3 id="name-meta-language-packages">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-meta-language-packages" class="section-name selfRef">Meta-Language Packages</a>
        </h3>
<div id="library_aphd">
<section id="section-8.2.1">
          <h4 id="name-augmented-packet-header-diag">
<a href="#section-8.2.1" class="section-number selfRef">8.2.1. </a><a href="#name-augmented-packet-header-diag" class="section-name selfRef">Augmented Packet Header Diagrams (APHD)</a>
          </h4>
<div id="_8d89690e-576f-4385-bc82-54c4c534f3c1">
<p id="section-8.2.1-1">The <code>augmented-ascii-diagram</code> Idris package provides a set of modules that permits to generate parts of AsciiDoc documents that are conform to the <span>[<a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">I-D.mcquistin-augmented-ascii-diagrams</a>]</span> specification.<a href="#section-8.2.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_8bdb0177-d22a-432e-9a8c-6dbbdef86d5f">
<p id="section-8.2.1-2">The <code>AAD.Pdu</code> type is used to define a PDU.<a href="#section-8.2.1-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="library_abnf">
<section id="section-8.2.2">
          <h4 id="name-rfc-5234-abnf">
<a href="#section-8.2.2" class="section-number selfRef">8.2.2. </a><a href="#name-rfc-5234-abnf" class="section-name selfRef">RFC 5234 (ABNF)</a>
          </h4>
<div id="_f7fae47f-9ef3-4822-a177-b856e5341599">
<p id="section-8.2.2-1">TBD.<a href="#section-8.2.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="library_protocols">
<section id="section-8.3">
        <h3 id="name-protocol-packages">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-protocol-packages" class="section-name selfRef">Protocol Packages</a>
        </h3>
<div id="library_rfc791">
<section id="section-8.3.1">
          <h4 id="name-rfc-791-internet-protocol">
<a href="#section-8.3.1" class="section-number selfRef">8.3.1. </a><a href="#name-rfc-791-internet-protocol" class="section-name selfRef">RFC 791 (Internet Protocol)</a>
          </h4>
<div id="_05d22673-185d-4a7c-9dab-cf3a5cf583ec">
<p id="section-8.3.1-1">TBD.<a href="#section-8.3.1-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="_informative_references">
<section id="section-9">
      <h2 id="name-informative-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="Aalst11">[Aalst11]</dt>
      <dd>
<span class="refAuthor">Aalst, W. V. D.</span> and <span class="refAuthor">C. Stahl</span>, <span class="refTitle">"Modeling Business Processes: A Petri Net-Oriented Approach"</span>, <span class="refContent">MIT Press</span>, <time datetime="2011" class="refDate">2011</time>. </dd>
<dd class="break"></dd>
<dt id="AsciiBib">[AsciiBib]</dt>
      <dd>
<span class="refTitle">"AsciiBib"</span>, <span>&lt;<a href="https://www.relaton.com/specs/asciibib/">https://www.relaton.com/specs/asciibib/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="AsciiDoc">[AsciiDoc]</dt>
      <dd>
<span class="refTitle">"AsciiDoc"</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/AsciiDoc/">https://en.wikipedia.org/wiki/AsciiDoc/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Asciidoctor">[Asciidoctor]</dt>
      <dd>
<span class="refTitle">"Asciidoctor"</span>, <span>&lt;<a href="https://asciidoctor.org/docs/user-manual">https://asciidoctor.org/docs/user-manual</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Bennett15">[Bennett15]</dt>
      <dd>
<span class="refAuthor">Bennett, B.</span>, <span class="refTitle">"Logically Fallacious: The Ultimate Collection of Over 300 Logical Fallacies"</span>, <time datetime="2015" class="refDate">2015</time>. </dd>
<dd class="break"></dd>
<dt id="Blockquotes">[Blockquotes]</dt>
      <dd>
<span class="refTitle">"Markdown-style blockquotes"</span>, <span>&lt;<a href="https://asciidoctor.org/docs/user-manual/#markdown-style-blockquotes">https://asciidoctor.org/docs/user-manual/#markdown-style-blockquotes</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Bornat05">[Bornat05]</dt>
      <dd>
<span class="refAuthor">Bornat, R.</span>, <span class="refTitle">"Proof and Disproof in Formal Logic: An Introduction for Programmers"</span>, <span class="refContent">Oxford University Press</span>, <time datetime="2005" class="refDate">2005</time>. </dd>
<dd class="break"></dd>
<dt id="Brady17">[Brady17]</dt>
      <dd>
<span class="refAuthor">Brady, E.</span>, <span class="refTitle">"Type-Driven Development with Idris"</span>, <span class="refContent">Manning Publications Co</span>, <time datetime="2017" class="refDate">2017</time>. </dd>
<dd class="break"></dd>
<dt id="Brinkmann02">[Brinkmann02]</dt>
      <dd>
<span class="refAuthor">Brinkmann, R.</span> and <span class="refAuthor">R. Drechsler</span>, <span class="refTitle">"RTL-Datapath Verification using Integer Linear Programming"</span>, <span class="refContent">IEEE Computer Society</span>, <time datetime="2002" class="refDate">2002</time>, <span>&lt;<a href="http://dl.acm.org/citation.cfm?id=835389">http://dl.acm.org/citation.cfm?id=835389</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Christiansen16">[Christiansen16]</dt>
      <dd>
<span class="refAuthor">Christiansen, D.</span> and <span class="refAuthor">E. C. Brady</span>, <span class="refTitle">"Elaborator reflection: Extending Idris in Idris"</span>, <span class="refContent">ACM Press-Association for Computing Machinery</span>, <time datetime="2016" class="refDate">2016</time>, <span>&lt;<a href="https://research-repository.st-andrews.ac.uk/bitstream/handle/10023/9522/elab_reflection_paper.pdf">https://research-repository.st-andrews.ac.uk/bitstream/handle/10023/9522/elab_reflection_paper.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Community20">[Community20]</dt>
      <dd>
<span class="refAuthor">Community, T. M.</span>, <span class="refTitle">"The Lean Mathematical Library"</span>, <time datetime="2020" class="refDate">2020</time>, <span>&lt;<a href="http://arxiv.org/abs/1910.09336">http://arxiv.org/abs/1910.09336</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Cpntools">[Cpntools]</dt>
      <dd>
<span class="refTitle">"CPN Tools: A tool for editing, simulating, and analyzing Colored Petri nets"</span>, <span>&lt;<a href="http://cpntools.org/">http://cpntools.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Curry-Howard">[Curry-Howard]</dt>
      <dd>
<span class="refTitle">"Curry-Howard correspondence"</span>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Curry-Howard_correspondence">https://en.wikipedia.org/wiki/Curry-Howard_correspondence</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.bortzmeyer-language-state-machines">[I-D.bortzmeyer-language-state-machines]</dt>
      <dd>
<span class="refAuthor">Bortzmeyer, S.</span>, <span class="refTitle">"Cosmogol: a language to describe finite state machines"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bortzmeyer-language-state-machines-01</span>, <time datetime="2006-11-01" class="refDate">1 November 2006</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-bortzmeyer-language-state-machines-01.txt">https://tools.ietf.org/html/draft-bortzmeyer-language-state-machines-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.mcquistin-augmented-ascii-diagrams">[I-D.mcquistin-augmented-ascii-diagrams]</dt>
      <dd>
<span class="refAuthor">McQuistin, S.</span>, <span class="refAuthor">Band, V.</span>, <span class="refAuthor">Jacob, D.</span>, and <span class="refAuthor">C. Perkins</span>, <span class="refTitle">"Describing Protocol Data Units with Augmented Packet Header Diagrams"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-mcquistin-augmented-ascii-diagrams-07</span>, <time datetime="2020-11-02" class="refDate">2 November 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-mcquistin-augmented-ascii-diagrams-07.txt">https://tools.ietf.org/html/draft-mcquistin-augmented-ascii-diagrams-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ribose-asciirfc">[I-D.ribose-asciirfc]</dt>
      <dd>
<span class="refAuthor">Tse, R.</span>, <span class="refAuthor">Nicholas, N.</span>, <span class="refAuthor">Brasolin, P.</span>, and <span class="refAuthor">J. Lau</span>, <span class="refTitle">"AsciiRFC: Authoring Internet-Drafts And RFCs Using AsciiDoc"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ribose-asciirfc-08</span>, <time datetime="2018-04-18" class="refDate">18 April 2018</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ribose-asciirfc-08.txt">https://tools.ietf.org/html/draft-ribose-asciirfc-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Idris2">[Idris2]</dt>
      <dd>
<span class="refTitle">"Idris2: A Language with Dependent Types"</span>, <span>&lt;<a href="https://idris2.readthedocs.io/en/latest/">https://idris2.readthedocs.io/en/latest/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Jensen07">[Jensen07]</dt>
      <dd>
<span class="refAuthor">Jensen, K.</span>, <span class="refAuthor">Kristensen, L. M.</span>, and <span class="refAuthor">L. Wells</span>, <span class="refTitle">"Coloured Petri Nets and CPN Tools for modelling and validation of concurrent systems"</span>, <time datetime="2007" class="refDate">2007</time>, <span>&lt;<a href="http://webdiis.unizar.es/~lrecalde/doctorado/bibliografia/coloreadas.pdf">http://webdiis.unizar.es/~lrecalde/doctorado/bibliografia/coloreadas.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Jensen09">[Jensen09]</dt>
      <dd>
<span class="refAuthor">Jensen, K.</span> and <span class="refAuthor">L. M. Kristensen</span>, <span class="refTitle">"Coloured Petri Nets: Modelling and Validation of Concurrent Systems"</span>, <span class="refContent">Springer</span>, <time datetime="2009" class="refDate">2009</time>. </dd>
<dd class="break"></dd>
<dt id="Knuth05">[Knuth05]</dt>
      <dd>
<span class="refAuthor">Knuth, D. E.</span>, <span class="refTitle">"The Art of Computer Programming"</span>, <span class="refContent">Addison-Wesley</span>, <time datetime="2005" class="refDate">2005</time>. </dd>
<dd class="break"></dd>
<dt id="Knuth92">[Knuth92]</dt>
      <dd>
<span class="refAuthor">Knuth, D. E.</span>, <span class="refTitle">"Literate Programming"</span>, <span class="refContent">Center for the Study of Language and Information</span>, <time datetime="1992" class="refDate">1992</time>. </dd>
<dd class="break"></dd>
<dt id="Kroening16">[Kroening16]</dt>
      <dd>
<span class="refAuthor">Kroening, D.</span> and <span class="refAuthor">O. Strichman</span>, <span class="refTitle">"Decision Procedures: An Algorithmic Point of View"</span>, <span class="refContent">Springer Berlin</span>, <time datetime="2016" class="refDate">2016</time>. </dd>
<dd class="break"></dd>
<dt id="Linear-Resources">[Linear-Resources]</dt>
      <dd>
<span class="refTitle">"Linear Resources"</span>, <span>&lt;<a href="https://idris2.readthedocs.io/en/latest/app/linear.html">https://idris2.readthedocs.io/en/latest/app/linear.html</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Metanorma">[Metanorma]</dt>
      <dd>
<span class="refTitle">"Metanorma"</span>, <span>&lt;<a href="https://www.metanorma.com/">https://www.metanorma.com/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Metanorma-IETF">[Metanorma-IETF]</dt>
      <dd>
<span class="refTitle">"Metanorma-IETF"</span>, <span>&lt;<a href="https://www.metanorma.com/author/ietf/">https://www.metanorma.com/author/ietf/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Mimram20">[Mimram20]</dt>
      <dd>
<span class="refAuthor">Mimram, S.</span>, <span class="refTitle">"Program = Proof"</span>, <time datetime="2020" class="refDate">2020</time>, <span>&lt;<a href="http://www.lix.polytechnique.fr/Labo/Samuel.Mimram/teaching/INF551/course.pdf">http://www.lix.polytechnique.fr/Labo/Samuel.Mimram/teaching/INF551/course.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Momot16">[Momot16]</dt>
      <dd>
<span class="refAuthor">Momot, F.</span>, <span class="refAuthor">Bratus, S.</span>, <span class="refAuthor">Hallberg, S. M.</span>, and <span class="refAuthor">M. L. Patterson</span>, <span class="refTitle">"The Seven Turrets of Babel: A Taxonomy of LangSec Errors and How to Expunge Them"</span>, <span class="refContent">IEEE</span>, <time datetime="2016" class="refDate">2016</time>, <span>&lt;<a href="http://ieeexplore.ieee.org/document/7839788/">http://ieeexplore.ieee.org/document/7839788/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Nederpelt14">[Nederpelt14]</dt>
      <dd>
<span class="refAuthor">Nederpelt, R. P.</span> and <span class="refAuthor">H. Geuvers</span>, <span class="refTitle">"Type Theory and Formal Proof: An Introduction"</span>, <span class="refContent">Cambridge University Press</span>, <time datetime="2014" class="refDate">2014</time>. </dd>
<dd class="break"></dd>
<dt id="RFC-Guide">[RFC-Guide]</dt>
      <dd>
<span class="refTitle">"RFC Style Guide"</span>, <span>&lt;<a href="https://www.rfc-editor.org/styleguide/part2/">https://www.rfc-editor.org/styleguide/part2/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0761">[RFC0761]</dt>
      <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"DoD standard Transmission Control Protocol"</span>, <span class="seriesInfo">RFC 0761</span>, <span class="seriesInfo">DOI 10.17487/RFC0761</span>, <time datetime="1980-01" class="refDate">January 1980</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc0761">https://www.rfc-editor.org/info/rfc0761</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0791">[RFC0791]</dt>
      <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Protocol"</span>, <span class="seriesInfo">RFC 0791</span>, <span class="seriesInfo">DOI 10.17487/RFC0791</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc0791">https://www.rfc-editor.org/info/rfc0791</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="refContent">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
      <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5246">[RFC5246]</dt>
      <dd>
<span class="refAuthor">Dierks, T.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.2"</span>, <span class="seriesInfo">RFC 5246</span>, <span class="seriesInfo">DOI 10.17487/RFC5246</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5246">https://www.rfc-editor.org/info/rfc5246</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6940">[RFC6940]</dt>
      <dd>
<span class="refAuthor">Jennings, C.</span>, <span class="refAuthor">Lowekamp, B.</span>, <span class="refAuthor">Rescorla, E.</span>, <span class="refAuthor">Baset, S.</span>, and <span class="refAuthor">H. Schulzrinne</span>, <span class="refTitle">"REsource LOcation And Discovery (RELOAD) Base Protocol"</span>, <span class="seriesInfo">RFC 6940</span>, <span class="seriesInfo">DOI 10.17487/RFC6940</span>, <time datetime="2014-01" class="refDate">January 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6940">https://www.rfc-editor.org/info/rfc6940</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7991">[RFC7991]</dt>
      <dd>
<span class="refAuthor">Hoffman, P.</span>, <span class="refTitle">"The "xml2rfc" Version 3 Vocabulary"</span>, <span class="seriesInfo">RFC 7991</span>, <span class="seriesInfo">DOI 10.17487/RFC7991</span>, <time datetime="2016-12" class="refDate">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8446">[RFC8446]</dt>
      <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08" class="refDate">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8446">https://www.rfc-editor.org/info/rfc8446</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8489">[RFC8489]</dt>
      <dd>
<span class="refAuthor">Petit-Huguenin, M.</span>, <span class="refAuthor">Salgueiro, G.</span>, <span class="refAuthor">Rosenberg, J.</span>, <span class="refAuthor">Wing, D.</span>, <span class="refAuthor">Mahy, R.</span>, and <span class="refAuthor">P. Matthews</span>, <span class="refTitle">"Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 8489</span>, <span class="seriesInfo">DOI 10.17487/RFC8489</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8489">https://www.rfc-editor.org/info/rfc8489</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8656">[RFC8656]</dt>
      <dd>
<span class="refAuthor">Reddy, T., Ed.</span>, <span class="refAuthor">Johnston, A., Ed.</span>, <span class="refAuthor">Matthews, P.</span>, and <span class="refAuthor">J. Rosenberg</span>, <span class="refTitle">"Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)"</span>, <span class="seriesInfo">RFC 8656</span>, <span class="seriesInfo">DOI 10.17487/RFC8656</span>, <time datetime="2020-02" class="refDate">February 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8656">https://www.rfc-editor.org/info/rfc8656</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Stump16">[Stump16]</dt>
      <dd>
<span class="refAuthor">Stump, A.</span>, <span class="refTitle">"Verified Functional Programming in Agda"</span>, <span class="refContent">ACM Books series</span>, <time datetime="2016" class="refDate">2016</time>. </dd>
<dd class="break"></dd>
<dt id="TLP5">[TLP5]</dt>
      <dd>
<span class="refTitle">"Legal Provisions Relating to IETF Documents"</span>, <span>&lt;<a href="https://trustee.ietf.org/license-info/IETF-TLP-5.htm">https://trustee.ietf.org/license-info/IETF-TLP-5.htm</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="Zave11">[Zave11]</dt>
    <dd>
<span class="refAuthor">Zave, P.</span>, <span class="refAuthor">Laboratories, T.</span>, and <span class="refAuthor">F. Park</span>, <span class="refTitle">"Experiences with Protocol Description"</span>, <time datetime="2011" class="refDate">2011</time>, <span>&lt;<a href="https://www.researchgate.net/profile/Pamela_Zave/publication/266230560_Experiences_with_Protocol_Description/links/56eaf9fb08ae9dcdd82a6590.pdf">https://www.researchgate.net/profile/Pamela_Zave/publication/266230560_Experiences_with_Protocol_Description/links/56eaf9fb08ae9dcdd82a6590.pdf</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="cli">
<section id="section-appendix.a">
      <h2 id="name-command-line-tools">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-command-line-tools" class="section-name selfRef">Command Line Tools</a>
      </h2>
<div id="cli_install">
<section id="section-a.1">
        <h2 id="name-installation">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-installation" class="section-name selfRef">Installation</a>
        </h2>
<div id="_8f046c1b-da41-4705-b2df-1432552d91bf">
<p id="section-a.1-1">The computerate command line tools are run inside a Docker image, so the first step is to install the Docker software or verify that it is up to date (<span><a href="https://docs.docker.com/install/">https://docs.docker.com/install/</a></span>).<a href="#section-a.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_45db023a-bf8d-49fd-bee6-5ca1cd7180af">
<p id="section-a.1-2">Note that for the usage described in this document there is no need for Docker EE or for having a Docker account.<a href="#section-a.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_bc1da6cd-2440-45f0-8bc5-593c7b115ba2">
<p id="section-a.1-3">The following instructions assume a Unix based OS, i.e. Linux or MacOS.
Lines separated by a "\" character are meant to be executed as one single line, with the "\" character removed.<a href="#section-a.1-3" class="pilcrow">¶</a></p>
</div>
<div id="cli_install_download">
<section id="section-a.1.1">
          <h3 id="name-download-the-docker-image">
<a href="#section-a.1.1" class="section-number selfRef">A.1.1. </a><a href="#name-download-the-docker-image" class="section-name selfRef">Download the Docker Image</a>
          </h3>
<div id="_cd60a2c6-715d-4171-a0d0-ea6126967912">
<p id="section-a.1.1-1">To install the computerate tools, the fastest way is to download and install the Docker image using BitTorrent.
The BitTorrent magnet URI for the version distributed with this version of the document is:<a href="#section-a.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_c8ea1858-c956-4b59-81b3-9b6dbc28d69f">
<p id="section-a.1.1-2">magnet:?xt=urn:btih:b3c3233c23960bfbcca16473baf50d245742b405&amp;dn=tools-08.tar.xz<a href="#section-a.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_cec81c9e-b8bf-4078-a944-36f52cd31ec9">
<p id="section-a.1.1-3">After this, the image can be loaded in Docker as follow:<a href="#section-a.1.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_24b5081d-ff54-47a6-9ee4-08e534260173">
<div id="section-a.1.1-4">
<pre class="sourcecode lang-bash">
docker load -i tools-08.tar.xz</pre><a href="#section-a.1.1-4" class="pilcrow">¶</a>
</div>
</div>
<div id="_21a3ff1d-2f2d-475b-83be-337fcff93cb2">
<p id="section-a.1.1-5">Note that a new version of the tooling is released at the same time a new version of this document is released, each time with a new BitTorrent magnet URI.<a href="#section-a.1.1-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="cli_computerate">
<section id="section-a.2">
        <h2 id="name-the-computerate-command">
<a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-the-computerate-command" class="section-name selfRef">The <code>computerate</code> Command</a>
        </h2>
<div id="_c2c66fba-b89f-4ece-b1ea-ec4959ae248e">
<p id="section-a.2-1">The Docker image main command is <code>computerate</code>, which takes the same parameters as the <code>metanorma</code> command from the Metanorma tooling:<a href="#section-a.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_c6084235-797a-4558-8200-cfe1726bcd54">
<div id="section-a.2-2">
<pre class="sourcecode lang-bash">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools computerate -t ietf -x txt &lt;file&gt;</pre><a href="#section-a.2-2" class="pilcrow">¶</a>
</div>
</div>
<div id="_d22f76f5-da9b-4373-b3dd-1c651ea38e3e">
<p id="section-a.2-3">The differences with the <code>metanorma</code> command are explained in the following sections.<a href="#section-a.2-3" class="pilcrow">¶</a></p>
</div>
<div id="cli_computerate_lit">
<section id="section-a.2.1">
          <h3 id="name-literate-files">
<a href="#section-a.2.1" class="section-number selfRef">A.2.1. </a><a href="#name-literate-files" class="section-name selfRef">Literate Files</a>
          </h3>
<div id="_97c64df5-04dc-48bc-ab3c-7272d82d0b9c">
<p id="section-a.2.1-1">The <code>computerate</code> command can process Literate Idris files (files with a "lidr" extension, aka lidr files), in addition to AsciiDoc files (files with an "adoc" extension, aka adoc files).
When a lidr file is processed, all embedded code fragments (text between prefix "{`" and suffix "`}") are evaluated in the context of the Idris code contained in this file.
Each code fragment (including the prefix and suffix) are then substituted by the result of that evaluation.<a href="#section-a.2.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_382e5244-20c7-442b-bf1d-ce6cbaeff462">
<p id="section-a.2.1-2">The <code>computerate</code> command can process included lidr files in the same way.
The embedded code fragments in the imported file are processed in the context of the included lidr file, not in the context of the including file.
Idris modules (either from an idr or lidr file) can be imported the usual way.<a href="#section-a.2.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_6a72af41-d144-4c3a-a31f-86346b319320">
<p id="section-a.2.1-3">The literate code (which is all the text that is starting by a "&gt;" symbol in column 1) in a lidr file will not be part of the rendered document.<a href="#section-a.2.1-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="cli_computerate_trans">
<section id="section-a.2.2">
          <h3 id="name-transclusions-2">
<a href="#section-a.2.2" class="section-number selfRef">A.2.2. </a><a href="#name-transclusions-2" class="section-name selfRef">Transclusions</a>
          </h3>
<div id="_4fe280f7-b0ad-4c19-8991-1eb4772b7f85">
<p id="section-a.2.2-1">The <code>computerate</code> command can process transclusions, a special form of AsciiDoc <code>include</code> that takes a range of lines as parameters:<a href="#section-a.2.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_31698799-a122-43bf-9503-f1c32c3587ae">
<div id="section-a.2.2-2">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
include::rfc5234.txt[lines=26..35]
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.2-2" class="pilcrow">¶</a>
</div>
</div>
<div id="_19cc3c22-66ad-4616-81e6-7dbe0ddbf081">
<p id="section-a.2.2-3">Here the <code>include</code> macro will be replaced by the content of lines 26 to 35 (included) of <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>.<a href="#section-a.2.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_6d124e7b-f226-49fb-8db5-4d0c68d53fec">
<p id="section-a.2.2-4">The "sub" parameter permits modifying the copied content according to a regular expression.
For instance the following converts references into the AsciiDoc format:<a href="#section-a.2.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_d621964f-b6b0-470b-84d0-99a983dfd541">
<div id="section-a.2.2-5">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
include::rfc5234.txt[lines=121..131,sub="/\[([^\]])\]/&lt;&lt;\1&gt;&gt;/"]
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.2-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_91e85e39-6684-4fbd-941a-e6be0135f998">
<p id="section-a.2.2-6">In the following example, the text is converted into a note:<a href="#section-a.2.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_37d4fb56-bf70-40fb-9ee5-245ec47154a2">
<div id="section-a.2.2-7">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
include::rfc5234.txt[lines=151,sub="/^.*$/NOTE: \0/"]
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.2-7" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="cli_computerate_idrisdoc">
<section id="section-a.2.3">
          <h3 id="name-idrisdoc-generation">
<a href="#section-a.2.3" class="section-number selfRef">A.2.3. </a><a href="#name-idrisdoc-generation" class="section-name selfRef">IdrisDoc Generation</a>
          </h3>
<div id="_ceb2d579-8f92-4a08-9f8e-d0223f93eb64">
<p id="section-a.2.3-1">The <code>computerate</code> can include in a document the result of the generation of the IdrisDoc for a package.
This is done by including a line like this:<a href="#section-a.2.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_b46efd44-8e9b-40e4-b095-a71fe259fec7">
<div id="section-a.2.3-2">
<pre class="sourcecode lang-lidris2.asciidoc">&lt;CODE BEGINS&gt;
include::computerate-specifying.ipkg[leveloffset=+2]
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.3-2" class="pilcrow">¶</a>
</div>
</div>
<div id="_87fd2554-acc6-4e84-a40c-08d556e6d6a1">
<p id="section-a.2.3-3">The <code>leveloffset</code> attribute is used to adjust the level of the section generated, as the sections generated always have the level 2.<a href="#section-a.2.3-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="cli_computerate_out">
<section id="section-a.2.4">
          <h3 id="name-outputs">
<a href="#section-a.2.4" class="section-number selfRef">A.2.4. </a><a href="#name-outputs" class="section-name selfRef">Outputs</a>
          </h3>
<div id="_c7789151-abe7-41e2-945e-3c6e6732b4bd">
<p id="section-a.2.4-1">Instead of generating a file based on the name of the input file, the <code>computerate</code> command generates a file based on the <code>:name:</code> attribute in the header of the document.<a href="#section-a.2.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_bb874ede-c794-4bff-98a1-a0d8c42a2a09">
<p id="section-a.2.4-2">In addition to the "txt", "html", "xml", and "rfc" output formats supported by <code>metanorma</code>, the <code>computerate</code> command can also be used to generate for the "pdf" and "json" formats by using these names with the <code>-x</code> command line parameter.<a href="#section-a.2.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_6facae03-624a-4c98-bb82-86065ecc312d">
<p id="section-a.2.4-3">If the type of document passed to the <code>computerate</code> command (options <code>-t</code> or <code>--type</code>) is one of the following, then the document will be processed directly using <code>asciidoctor</code>, and not <code>metanorma</code>:
"html,
"html5,
"xhtml",
"xhtml5",
"docbook",
"docbook5",
"manpage",
"pdf",
and "revealjs".
The asciidoctor-diagram extension is available in this mode with the following supported diagram types:
"actdiag",
"blockdiag",
"ditaa",
"graphviz",
"meme",
"mscgen",
"nwdiag",
"plantuml",
and "seqdiag".<a href="#section-a.2.4-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="cli_registries">
<section id="section-a.2.5">
          <h3 id="name-extended-registry">
<a href="#section-a.2.5" class="section-number selfRef">A.2.5. </a><a href="#name-extended-registry" class="section-name selfRef">Extended Registry</a>
          </h3>
<div id="_6a6a2087-32c2-4086-8551-cc98d6d5155d">
<aside id="section-a.2.5-1">
            <p id="section-a.2.5-1.1">NOTE: More to come on the exact mechanism used to share the extended repositories.<a href="#section-a.2.5-1.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
<div id="cli_computerate_bib">
<section id="section-a.2.6">
          <h3 id="name-bibliography">
<a href="#section-a.2.6" class="section-number selfRef">A.2.6. </a><a href="#name-bibliography" class="section-name selfRef">Bibliography</a>
          </h3>
<div id="_35f57bfa-641d-4a83-a85e-f090c347ac8f">
<p id="section-a.2.6-1">Because most references are stable, there is not much point in retrieving them each time the document is processed, even with the help of a cache, so lookup of external references is disabled.<a href="#section-a.2.6-1" class="pilcrow">¶</a></p>
</div>
<div id="_d7b2b74e-1721-4e1d-bbe6-2cedf58fa06d">
<p id="section-a.2.6-2">The following command can be used to fetch an RFC reference:<a href="#section-a.2.6-2" class="pilcrow">¶</a></p>
</div>
<div id="_94f8b1c8-d9f9-41ba-933f-910562f61fb9">
<div id="section-a.2.6-3">
<pre class="sourcecode lang-bash">
tools relaton fetch "IETF(RFC.2119)" --type IETF &gt;ietf.xml</pre><a href="#section-a.2.6-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_b2f09b71-adb2-4f5d-9465-cfbd6bb3ac92">
<p id="section-a.2.6-4">Then ietf.xml file needs to be edited by removing the first two lines.
After this the xml file can be converted into a AsciiDoc document:<a href="#section-a.2.6-4" class="pilcrow">¶</a></p>
</div>
<div id="_24cebee6-07df-4745-bca3-00356738cab1">
<div id="section-a.2.6-5">
<pre class="sourcecode lang-bash">
tools relaton convert ietf.xml -f asciibib</pre><a href="#section-a.2.6-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_b725fd42-c133-49f7-b4a3-1c6b2a9f0f25">
<p id="section-a.2.6-6">This will generate an ietf.adoc file that can be copied in the bibliography section.
Note that section level of the bibliographic item needs to be one up the section level of the bibliography section.<a href="#section-a.2.6-6" class="pilcrow">¶</a></p>
</div>
<div id="_087aaa8d-6432-4330-8586-18f71762e6c7">
<p id="section-a.2.6-7">One exception is a reference to a standard document that is under development, like an Internet-Draft.<a href="#section-a.2.6-7" class="pilcrow">¶</a></p>
</div>
<div id="_d74a5d9d-532d-410e-bdab-1a4ee8850835">
<p id="section-a.2.6-8">In that case the best way is to have a separate script that fetch, edit and convert Internet-Drafts as separate files.
Then these files can be inserted dynamically in the bibliography section using includes.<a href="#section-a.2.6-8" class="pilcrow">¶</a></p>
</div>
<div id="_b53f7edf-0957-4aa3-97b5-c9b1c8b2d744">
<p id="section-a.2.6-9">The command to retrieve an Internet-Draft reference is as follow:<a href="#section-a.2.6-9" class="pilcrow">¶</a></p>
</div>
<div id="_a149b6bd-a95d-4d56-8a42-257c9d8673b8">
<div id="section-a.2.6-10">
<pre class="sourcecode lang-bash">
tools relaton fetch "IETF(I-D.bortzmeyer-language-state-machines)" \
 --type IETF &gt;bortzmeyer-language-state-machines.adoc</pre><a href="#section-a.2.6-10" class="pilcrow">¶</a>
</div>
</div>
<div id="_204684d3-269e-42f7-b239-fa9b13e981c7">
<p id="section-a.2.6-11">Additionally the following sections show how to manually format some common types of bibliographic items, most of then adapted from <span>[<a href="#RFC-Guide" class="xref">RFC-Guide</a>]</span>.
The format is described in <span>[<a href="#AsciiBib" class="xref">AsciiBib</a>]</span>.<a href="#section-a.2.6-11" class="pilcrow">¶</a></p>
</div>
<div id="cli_computerate_bib_id">
<section id="section-a.2.6.1">
            <h4 id="name-internet-draft">
<a href="#section-a.2.6.1" class="section-number selfRef">A.2.6.1. </a><a href="#name-internet-draft" class="section-name selfRef">Internet-Draft</a>
            </h4>
<div id="_e48e0814-ca83-4e14-9a25-b0aa268e97a1">
<div id="section-a.2.6.1-1">
<pre class="sourcecode lang-asciidoc">&lt;CODE BEGINS&gt;
[%bibitem]
=== {blank}
id:: RFC-STYLE
title.content:: RFC Style Guide
contributor::
contributor.person.name.completename.content:: Heather Flanagan
contributor.role.type:: author
contributor::
contributor.person.name.completename.content:: Sandy Ginoza
contributor.role.type:: author
date.type:: published
date.on:: 2014-07-20
link::
link.type:: TXT
link.content:: https://www.ietf.org/.../draft-flanagan-style-03.txt
docid::
docid.type:: Work
docid.id:: in Progress
docid::
docid.type:: Internet-Draft
docid.id:: draft-flanagan-style-03
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.6.1-1" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="cli_computerate_bib_rfc">
<section id="section-a.2.6.2">
            <h4 id="name-rfc">
<a href="#section-a.2.6.2" class="section-number selfRef">A.2.6.2. </a><a href="#name-rfc" class="section-name selfRef">RFC</a>
            </h4>
<div id="_0f898b0c-52d2-40f0-aa80-a5dc33fcc75e">
<div id="section-a.2.6.2-1">
<pre class="sourcecode lang-asciidoc">&lt;CODE BEGINS&gt;
[%bibitem]
=== {blank}
id:: RFC-STYLE2
title.content:: RFC Style Guide
contributor::
contributor.person.name.completename.content:: Heather Flanagan
contributor.role.type:: author
contributor::
contributor.person.name.completename.content:: Sandy Ginoza
contributor.role.type:: author
date.type:: published
date.on:: 2014-09
link::
link.type:: src
link.content:: http://www.rfc-editor.org/info/rfc7322
docid::
docid.type:: RFC
docid.id:: 7322
docid::
docid.type:: DOI
docid.id:: 10.17487/RFC7322
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.6.2-1" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="cli_computerate_bib_email">
<section id="section-a.2.6.3">
            <h4 id="name-email">
<a href="#section-a.2.6.3" class="section-number selfRef">A.2.6.3. </a><a href="#name-email" class="section-name selfRef">Email</a>
            </h4>
<div id="_66b18d8e-628c-4b33-8ab7-d403d3fc2491">
<div id="section-a.2.6.3-1">
<pre class="sourcecode lang-asciidoc">&lt;CODE BEGINS&gt;
[%bibitem]
=== {blank}
id:: reftag
title.content:: Subject: Subject line
contributor::
contributor.person.name.completename.content:: A. Sender
contributor.role.type:: author
date.type:: published
date.on:: 2014-09-05
link::
link.type:: src
link.content:: https://mailarchive.ietf.org/.../Ed4OHwozljyjklpAE/
docid::
docid.type:: message to the
docid.id:: listname mailing list
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.6.3-1" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="cli_computerate_bib_iana">
<section id="section-a.2.6.4">
            <h4 id="name-iana">
<a href="#section-a.2.6.4" class="section-number selfRef">A.2.6.4. </a><a href="#name-iana" class="section-name selfRef">IANA</a>
            </h4>
<div id="_d7ada0e3-a6c4-480a-9c94-82b337d04a3e">
<div id="section-a.2.6.4-1">
<pre class="sourcecode lang-asciidoc">&lt;CODE BEGINS&gt;
[%bibitem]
=== {blank}
id:: IANA-IKE
title.content:: Internet Key Exchange (IKE) Attributes
contributor.person.name.completename.content:: IANA
contributor.role.type:: author
link::
link.type:: src
link.content:: http://www.iana.org/assignments/ipsec-registry
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.6.4-1" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="cli_computerate_bib_git">
<section id="section-a.2.6.5">
            <h4 id="name-web-based-public-code-repos">
<a href="#section-a.2.6.5" class="section-number selfRef">A.2.6.5. </a><a href="#name-web-based-public-code-repos" class="section-name selfRef">Web-Based Public Code Repositories</a>
            </h4>
<div id="_791ce17a-28eb-4b41-ada8-cbe99dfe4074">
<div id="section-a.2.6.5-1">
<pre class="sourcecode lang-asciidoc">&lt;CODE BEGINS&gt;
[%bibitem]
=== {blank}
id:: pysaml2
title.content:: Python implementation of SAML2
date.type:: published
date.on:: 2018-03-01
docid::
docid.type:: commit
docid.id:: 7135d53
link::
link.type:: src
link.content:: https://github.com/IdentityPython/pysaml2
&lt;CODE ENDS&gt;</pre><a href="#section-a.2.6.5-1" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="cli_repl">
<section id="section-a.3">
        <h2 id="name-idris-repl">
<a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-idris-repl" class="section-name selfRef">Idris REPL</a>
        </h2>
<div id="_57827486-39ab-4b1b-99e0-952a74b2e307">
<p id="section-a.3-1">idr and lidr files can be loaded directly in the Idris REPL for debugging:<a href="#section-a.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_0726d0b8-4e13-4dcc-920b-d12cb693a350">
<div id="section-a.3-2">
<pre class="sourcecode lang-bash">
docker run --rm -it -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools idris2 &lt;lidr-file&gt;</pre><a href="#section-a.3-2" class="pilcrow">¶</a>
</div>
</div>
<div id="_b04b3fbd-8809-4ea2-b4f0-d7817c178fff">
<p id="section-a.3-3">It is possible to directly modify the source code in the REPL by entering the <code>:e</code> command, which will load the file in an instance of VIM preconfigured to interact with the REPL.<a href="#section-a.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_8d208364-68c4-4b4f-b768-16810e0dfadb">
<p id="section-a.3-4">The <code>idris2-vim</code> add-ons (which provides interactive commands and syntax coloring) is augmented with a feature that permits to use both Idris and AsciiDoc syntax coloring.
To enable it, add the following line at the end of all lidr file:<a href="#section-a.3-4" class="pilcrow">¶</a></p>
</div>
<div id="_feeceb82-b34d-40a8-87a5-5449091be0aa">
<div id="section-a.3-5">
<pre class="sourcecode lang-lidris2.asciidoc">
&gt; -- vim:filetype=lidris2.asciidoc</pre><a href="#section-a.3-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="cli_other">
<section id="section-a.4">
        <h2 id="name-other-commands">
<a href="#section-a.4" class="section-number selfRef">A.4. </a><a href="#name-other-commands" class="section-name selfRef">Other Commands</a>
        </h2>
<div id="_9121a4f1-aa37-458a-914d-0da20b53ea7e">
<p id="section-a.4-1">For convenience, the docker image provides the latest version of the xml2rfc,
aspell,
idnits,
and rfc2mn
tools.<a href="#section-a.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_f0d23549-482f-4f7f-8a51-7ddb74dc6996">
<div id="section-a.4-2">
<pre class="sourcecode lang-bash">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools xml2rfc
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools idnits --help
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools aspell
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools java -jar /opt/rfc2mn/rfc2mn-1.0.jar</pre><a href="#section-a.4-2" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="cli_source">
<section id="section-a.5">
        <h2 id="name-source-repositories">
<a href="#section-a.5" class="section-number selfRef">A.5. </a><a href="#name-source-repositories" class="section-name selfRef">Source Repositories</a>
        </h2>
<div id="_a1c1c6af-d28b-4be8-9095-162b7a9a6dca">
<aside id="section-a.5-1">
          <p id="section-a.5-1.1">NOTE: More to come on the exact mechanism used to retrieve the source repositories.<a href="#section-a.5-1.1" class="pilcrow">¶</a></p>
</aside>
</div>
</section>
</div>
<div id="cli_tools">
<section id="section-a.6">
        <h2 id="name-modified-tools">
<a href="#section-a.6" class="section-number selfRef">A.6. </a><a href="#name-modified-tools" class="section-name selfRef">Modified Tools</a>
        </h2>
<div id="_70700eed-d2e4-4f0c-a7b2-6d212c103049">
<p id="section-a.6-1">The following sections list the tools distributed in the Docker image that have been modified for integration with the <code>computerate</code> tool.<a href="#section-a.6-1" class="pilcrow">¶</a></p>
</div>
<div id="cli_tools_idris">
<section id="section-a.6.1">
          <h3 id="name-idris2">
<a href="#section-a.6.1" class="section-number selfRef">A.6.1. </a><a href="#name-idris2" class="section-name selfRef">Idris2</a>
          </h3>
<span class="break"></span><div id="_413a0c0a-5486-4284-a039-b4a143ae998f">
<dl class="dlParallel dlCompact" id="section-a.6.1-1">
            <dt id="section-a.6.1-1.1">URL: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.1-1.2">
              <div id="_d5165e85-2a40-4b8e-91dc-d3df1e4c10d8">
<p id="section-a.6.1-1.2.1">
<span><a href="https://github.com/idris-lang/Idris2.git">https://github.com/idris-lang/Idris2.git</a></span><a href="#section-a.6.1-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.1-1.3">Version: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.1-1.4">
              <div id="_6d09c532-f9e7-43f9-af11-caa29a0901bd">
<p id="section-a.6.1-1.4.1">0.3.0 commit 9f39ad6<a href="#section-a.6.1-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.1-1.5">Modifications: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.1-1.6"></dd>
          <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.6.1-2.1">
              <div id="_c0d0e4c7-ccec-4db2-851f-12305e2ba088">
<p id="section-a.6.1-2.1.1">An Idris file can be used in scripting mode by adding a shebang line.<a href="#section-a.6.1-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.2">
              <div id="_0c8dd8f6-0dee-4fc5-ac3d-46facb18490d">
<p id="section-a.6.1-2.2.1">The interactive command <code>:gc</code> permits to display the result of an elaboration.<a href="#section-a.6.1-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.3">
              <div id="_f1b26752-e5c8-41c3-a7b3-d8719bca72ac">
<p id="section-a.6.1-2.3.1">The types in TTImp can carry the documentation for the types that will be generated from them.<a href="#section-a.6.1-2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.4">
              <div id="_21d79c20-9f72-4401-a4c8-b5dc293f4a1a">
<p id="section-a.6.1-2.4.1">The <code>%cacheElab</code> directive permits to cache the result of an elaboration in the source code instead of been regenerated at each type-checking.<a href="#section-a.6.1-2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.5">
              <div id="_b46d01ed-e7a0-4032-8fd0-354cd6919284">
<p id="section-a.6.1-2.5.1"><code>--mkdoc &lt;ipkg-file&gt;</code> generates the package documentation in AsciiDoc on stdout.<a href="#section-a.6.1-2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.6">
              <div id="_2412f34c-4be4-4952-afec-2bee8a787153">
<p id="section-a.6.1-2.6.1">Elaborations can be exported and documented.<a href="#section-a.6.1-2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.7">
              <div id="_76574129-10b2-440d-85c5-11b245d3487e">
<p id="section-a.6.1-2.7.1"><code>package</code> and <code>depends</code> in ipkg file can use quoted strings.<a href="#section-a.6.1-2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.8">
              <div id="_40745d9d-c236-4b4a-b885-1a540e1f6d74">
<p id="section-a.6.1-2.8.1"><code>--paths</code> now displays the paths after modification.<a href="#section-a.6.1-2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.1-2.9">
              <div id="_143171ac-ae98-4a44-b8dc-0046a101ca85">
<p id="section-a.6.1-2.9.1">Replace the literate processor by a faster one.
Remove support for reversed Bird marks.<a href="#section-a.6.1-2.9.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</section>
</div>
<div id="cli_tools_asciidoctor">
<section id="section-a.6.2">
          <h3 id="name-asciidoctor">
<a href="#section-a.6.2" class="section-number selfRef">A.6.2. </a><a href="#name-asciidoctor" class="section-name selfRef">asciidoctor</a>
          </h3>
<span class="break"></span><div id="_ea7408e7-2db1-4ecb-b3ed-364d2712d944">
<dl class="dlParallel dlCompact" id="section-a.6.2-1">
            <dt id="section-a.6.2-1.1">URL: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.2-1.2">
              <div id="_a85bed12-3e09-4de7-be78-62e5c5600545">
<p id="section-a.6.2-1.2.1">
<span><a href="https://github.com/asciidoctor/asciidoctor.git">https://github.com/asciidoctor/asciidoctor.git</a></span><a href="#section-a.6.2-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.2-1.3">Version: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.2-1.4">
              <div id="_e52ba7c7-5814-4698-ad59-d69de07872a5">
<p id="section-a.6.2-1.4.1">2.0.14<a href="#section-a.6.2-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.2-1.5">Modifications: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.2-1.6"></dd>
          <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.6.2-2.1">
              <div id="_57a982f5-cab7-4b63-92bf-c739736e761c">
<p id="section-a.6.2-2.1.1">Process lidr and lipkg files.<a href="#section-a.6.2-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.2-2.2">
              <div id="_ee58d8c9-9b70-4b16-a7b9-823a1d577518">
<p id="section-a.6.2-2.2.1">Preprocessor for Idris literate source.<a href="#section-a.6.2-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.2-2.3">
              <div id="_dade963f-4129-4764-ba38-4630d2cd5e13">
<p id="section-a.6.2-2.3.1">Include processor for transclusions.<a href="#section-a.6.2-2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</section>
</div>
<div id="cli_tools_metanorma">
<section id="section-a.6.3">
          <h3 id="name-metanorma">
<a href="#section-a.6.3" class="section-number selfRef">A.6.3. </a><a href="#name-metanorma" class="section-name selfRef">metanorma</a>
          </h3>
<span class="break"></span><div id="_80c013e1-986c-43d2-b453-1ff30a8a787f">
<dl class="dlParallel dlCompact" id="section-a.6.3-1">
            <dt id="section-a.6.3-1.1">URL: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.3-1.2">
              <div id="_884534b5-e97e-4a69-b9d2-84843a81a409">
<p id="section-a.6.3-1.2.1">
<span><a href="https://github.com/metanorma/metanorma">https://github.com/metanorma/metanorma</a></span><a href="#section-a.6.3-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.3-1.3">Version: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.3-1.4">
              <div id="_775268b1-dd00-48f6-9211-55e865049b71">
<p id="section-a.6.3-1.4.1">1.3.0<a href="#section-a.6.3-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.3-1.5">Modifications: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.3-1.6"></dd>
          <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.6.3-2.1">
              <div id="_f5a511ab-3a0d-493d-a497-5c16857d73de">
<p id="section-a.6.3-2.1.1">Generate the filename from the name header attribute.<a href="#section-a.6.3-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.3-2.2">
              <div id="_8a1d9300-ac6a-4b03-98bc-5e5c5db7b0f1">
<p id="section-a.6.3-2.2.1">Process files with lidr and lipkg extensions.<a href="#section-a.6.3-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</section>
</div>
<div id="cli_tools_metanormaietf">
<section id="section-a.6.4">
          <h3 id="name-metanorma-ietf">
<a href="#section-a.6.4" class="section-number selfRef">A.6.4. </a><a href="#name-metanorma-ietf" class="section-name selfRef">metanorma-ietf</a>
          </h3>
<span class="break"></span><div id="_1e924ce7-a258-4640-bf83-bb0e6c189aca">
<dl class="dlParallel dlCompact" id="section-a.6.4-1">
            <dt id="section-a.6.4-1.1">URL: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.4-1.2">
              <div id="_c834be39-8715-4b85-b79b-d2cf62a0bc90">
<p id="section-a.6.4-1.2.1">
<span><a href="https://github.com/metanorma/metanorma-ietf">https://github.com/metanorma/metanorma-ietf</a></span><a href="#section-a.6.4-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.4-1.3">Version: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.4-1.4">
              <div id="_47a96ff0-2c3b-4bd0-a500-5d4484d8f27b">
<p id="section-a.6.4-1.4.1">2.3.0<a href="#section-a.6.4-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.4-1.5">Modifications: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.4-1.6"></dd>
          <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.6.4-2.1">
              <div id="_9a04f52e-d318-4407-831e-b1cbe566efcd">
<p id="section-a.6.4-2.1.1">Fix the content of the generated &lt;sourcecode&gt; so it is displayed correctly in html and pdf outputs.<a href="#section-a.6.4-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.4-2.2">
              <div id="_4baefd82-5231-446a-8fe5-7f1e5c44bf83">
<p id="section-a.6.4-2.2.1">Fix empty RFC number.<a href="#section-a.6.4-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.4-2.3">
              <div id="_8e4bfe1d-4807-456e-a8f3-9d62228f8280">
<p id="section-a.6.4-2.3.1">Add generation of json file.<a href="#section-a.6.4-2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.4-2.4">
              <div id="_58bc8a8b-292e-429b-9da5-855a58ef5381">
<p id="section-a.6.4-2.4.1">Generates DOI, RFC and Internet-Draft references.
Truncate the date according to type.<a href="#section-a.6.4-2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.4-2.5">
              <div id="_88ca9835-23b2-47f2-8c84-2ec88b7482c9">
<p id="section-a.6.4-2.5.1">Do not add content in xrefs.<a href="#section-a.6.4-2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</section>
</div>
<div id="cli_tools_idrisvim">
<section id="section-a.6.5">
          <h3 id="name-idris2-vim">
<a href="#section-a.6.5" class="section-number selfRef">A.6.5. </a><a href="#name-idris2-vim" class="section-name selfRef">idris2-vim</a>
          </h3>
<span class="break"></span><div id="_3aac5c05-3f93-4813-a4a0-b72f0a14488b">
<dl class="dlParallel dlCompact" id="section-a.6.5-1">
            <dt id="section-a.6.5-1.1">URL: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.5-1.2">
              <div id="_e3fde2c6-6d57-4fa7-b58b-67b9274658eb">
<p id="section-a.6.5-1.2.1">
<span><a href="https://github.com/edwinb/idris2-vim">https://github.com/edwinb/idris2-vim</a></span><a href="#section-a.6.5-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.5-1.3">Version: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.5-1.4">
              <div id="_1644eae6-9704-45a8-a48d-d718c2a1bdde">
<p id="section-a.6.5-1.4.1">commit 964cebe<a href="#section-a.6.5-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
            <dd class="break"></dd>
<dt id="section-a.6.5-1.5">Modifications: </dt>
            <dd style="margin-left: 1.5em" id="section-a.6.5-1.6"></dd>
          <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.6.5-2.1">
              <div id="_43d09cb2-5ef0-437a-97c0-1ff73dc9a08e">
<p id="section-a.6.5-2.1.1">the <code>IdrisGenerateCache</code> command (mapped to &lt;LocalLeader&gt;_z) on a <code>%runElab line</code> displays the result of the elaboration.<a href="#section-a.6.5-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.5-2.2">
              <div id="_8f42eb28-37eb-4734-bea3-da77050bfc5b">
<p id="section-a.6.5-2.2.1">Support for lidris2 files.<a href="#section-a.6.5-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-a.6.5-2.3">
              <div id="_656f9639-4153-4123-a4db-3b88977929eb">
<p id="section-a.6.5-2.3.1">Syntax colouring for document language in lidris2.<a href="#section-a.6.5-2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="cli_bugs">
<section id="section-a.7">
        <h2 id="name-bugs-and-workarounds">
<a href="#section-a.7" class="section-number selfRef">A.7. </a><a href="#name-bugs-and-workarounds" class="section-name selfRef">Bugs and Workarounds</a>
        </h2>
<span class="break"></span><div id="_68ffe1fa-4423-49d1-8f60-130a3cc3c7fe">
<dl class="dlParallel" id="section-a.7-1">
          <dt id="section-a.7-1.1">Installation: </dt>
          <dd style="margin-left: 1.5em" id="section-a.7-1.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.7-2.1">
            <div id="_10e0bdca-9d27-46b1-b97c-3e75ae80349d">
<p id="section-a.7-2.1.1">The current version of Docker in Ubuntu fails, but this can be fixed with the following commands:<a href="#section-a.7-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<div id="_3ccfa6a5-8100-4007-9741-b1459cb6626a">
<div id="section-a.7-3">
<pre class="sourcecode lang-bash">
sudo apt-get install containerd.io=1.2.6-3
sudo systemctl restart docker.service</pre><a href="#section-a.7-3" class="pilcrow">¶</a>
</div>
</div>
<span class="break"></span><div id="_b387cafb-ad58-42de-a737-7788d112eb36">
<dl class="dlParallel" id="section-a.7-4">
          <dt id="section-a.7-4.1">Idris2: </dt>
          <dd style="margin-left: 1.5em" id="section-a.7-4.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.7-5.1">
            <div id="_748bf2d5-d9a9-44d5-ab17-5c6e0a7177de">
<p id="section-a.7-5.1.1">:gc is currently broken.<a href="#section-a.7-5.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.7-5.2">
            <div id="_56559d8f-8b79-4bf0-8cdb-b4573092922e">
<p id="section-a.7-5.2.1">Docstrings are not generated correctly.<a href="#section-a.7-5.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.7-5.3">
            <div id="_deea7bb6-354f-4f6f-85e3-51b92c168418">
<p id="section-a.7-5.3.1">Interactive commands are missing or not working well with literate code.<a href="#section-a.7-5.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.7-5.4">
            <div id="_20b73b09-8a34-424a-ae63-f721b0fa4423">
<p id="section-a.7-5.4.1">Changing the installation prefix requires two installations.<a href="#section-a.7-5.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.7-5.5">
            <div id="_87c932e7-6325-4d7c-b50f-e8c8e507fb5a">
<p id="section-a.7-5.5.1">Documentation not generated for namespaces and record fields.<a href="#section-a.7-5.5.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<span class="break"></span><div id="_e46e8d54-9d99-4723-923e-652be749d5e1">
<dl class="dlParallel" id="section-a.7-6">
          <dt id="section-a.7-6.1">metanorma: </dt>
          <dd style="margin-left: 1.5em" id="section-a.7-6.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.7-7.1">
            <div id="_ab34ba14-d404-4436-a174-205a189e962b">
<p id="section-a.7-7.1.1">RFC and I-D references are not correctly generated by relaton.
The workaround is to remove the IETF docid and to add the following:<a href="#section-a.7-7.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<div id="_86dae791-4342-4467-a6ab-2e8c10009d63">
<figure id="figure-4">
          <div id="_5e83ed67-5b19-4e09-bfd5-d0b2d94f2ec8">
<div class="artwork art-text alignLeft art-ascii-art" id="section-a.7-8.1">
<pre>docid::
docid.type:: BCP
docid.id:: 37
docid::
docid.type:: RFC
docid.id:: 5237</pre>
</div>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a></figcaption></figure>
</div>
<span class="break"></span><div id="_df3aaa90-64cb-4920-a4ea-19884077dff4">
<dl class="dlParallel" id="section-a.7-9">
          <dt id="section-a.7-9.1">computerate: </dt>
          <dd style="margin-left: 1.5em" id="section-a.7-9.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.7-10.1">
            <div id="_6d5eb34e-a79f-4ef4-8737-c8b438dd9cae">
<p id="section-a.7-10.1.1">code blocks escape a '&gt;' in the first column.
The workaround is to insert a space before the '&gt;'.<a href="#section-a.7-10.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
</section>
</div>
<div id="cli_todo">
<section id="section-a.8">
        <h2 id="name-todo-list">
<a href="#section-a.8" class="section-number selfRef">A.8. </a><a href="#name-todo-list" class="section-name selfRef">TODO List</a>
        </h2>
<span class="break"></span><div id="_57b5a0e1-52f3-48a5-b2e7-007a753e9ee8">
<dl class="dlParallel" id="section-a.8-1">
          <dt id="section-a.8-1.1">Idris2: </dt>
          <dd style="margin-left: 1.5em" id="section-a.8-1.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.8-2.1">
            <div id="_5496b56e-a73a-4e7b-a366-7f4dbcf75d63">
<p id="section-a.8-2.1.1">Add documentation support for all types in TTImp.<a href="#section-a.8-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-2.2">
            <div id="_d3a3f4cf-eab7-45ad-b454-c2efb4028f66">
<p id="section-a.8-2.2.1"><code>:gc!</code> should update the file.<a href="#section-a.8-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-2.3">
            <div id="_043d0730-71d7-494d-b0dc-eeb40f1b7522">
<p id="section-a.8-2.3.1"><code>%cacheElab</code> should check hashes.<a href="#section-a.8-2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-2.4">
            <div id="_e8302de4-53bc-41ab-963b-aecee7348d99">
<p id="section-a.8-2.4.1">Add a way to generate a hole name.<a href="#section-a.8-2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-2.5">
            <div id="_b81bedb9-6b35-4fa4-81f9-f218f469b528">
<p id="section-a.8-2.5.1">Literate ipkg to merge the Main.adoc and ipkg files.<a href="#section-a.8-2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<span class="break"></span><div id="_8dd75337-5f50-4580-9785-71e11ec6a580">
<dl class="dlParallel" id="section-a.8-3">
          <dt id="section-a.8-3.1">metanorma: </dt>
          <dd style="margin-left: 1.5em" id="section-a.8-3.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.8-4.1">
            <div id="_cbeaa15d-12a8-413c-a206-f9f1ffa42397">
<p id="section-a.8-4.1.1">Merge bibliographies.<a href="#section-a.8-4.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-4.2">
            <div id="_9fe7a016-75a6-4a94-aa4d-648c74235904">
<p id="section-a.8-4.2.1">Extract bibliography from computerate specification.<a href="#section-a.8-4.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-4.3">
            <div id="_3874c7f8-0be8-4b2b-8586-43f041cd87d9">
<p id="section-a.8-4.3.1">Generate xml2rfc &lt;contact&gt; element.<a href="#section-a.8-4.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-4.4">
            <div id="_2110ff96-bd4e-45d4-90d8-f8f8744cb738">
<p id="section-a.8-4.4.1">Generate .rfc.xml and err file with the same name.<a href="#section-a.8-4.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-4.5">
            <div id="_72d4dc6d-c60e-4dee-af86-c38cc55169a4">
<p id="section-a.8-4.5.1">Generate rfc.xml as xml and xml under another extension so the xml2rfc file can be directly submitted to the IETF secretariat.<a href="#section-a.8-4.5.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<span class="break"></span><div id="_e943f0bf-e741-4ba5-9199-fa8b41e78960">
<dl class="dlParallel" id="section-a.8-5">
          <dt id="section-a.8-5.1">computerate: </dt>
          <dd style="margin-left: 1.5em" id="section-a.8-5.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.8-6.1">
            <div id="_d6afb36f-4174-480d-a579-6abb0bd77124">
<p id="section-a.8-6.1.1">Generate sourcecode blocks from existing code.<a href="#section-a.8-6.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-6.2">
            <div id="_c7724f01-e3e5-4548-b17e-a7659f170525">
<p id="section-a.8-6.2.1">Pass surrounding line for embedded code so the Asciidoc module can process constrained elements.<a href="#section-a.8-6.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-6.3">
            <div id="_91640829-bf22-4589-86ee-c2d2c8d32d3a">
<p id="section-a.8-6.3.1">Implement self-inclusion to reorder a document.<a href="#section-a.8-6.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="compact" id="section-a.8-6.4">
            <div id="_35e1958e-2f32-46e7-a825-cdfc65fe299f">
<p id="section-a.8-6.4.1">Backport embedded blocks from Coriander.<a href="#section-a.8-6.4.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<span class="break"></span><div id="_e298668c-d3ba-4c1d-8446-6c18a01ed6fa">
<dl class="dlParallel" id="section-a.8-7">
          <dt id="section-a.8-7.1">vim: </dt>
          <dd style="margin-left: 1.5em" id="section-a.8-7.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.8-8.1">
            <div id="_3e1ba58f-36be-444d-93f9-51abe8ddce6f">
<p id="section-a.8-8.1.1">Starting vim in docker often result in an invalid terminal size when a file is loaded.
Using the following command line solves the problem:<a href="#section-a.8-8.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<div id="_5eac6a49-b04a-4701-9a8e-1331d6a47a20">
<div id="section-a.8-9">
<pre class="sourcecode lang-bash">
docker run --rm -it -u $(id -u):$(id -g) -e COLUMNS=$(tput cols) \
-e LINES=$(tput lines) -v $(pwd):/computerate computerate/tools \
vim &lt;lidr-file&gt;</pre><a href="#section-a.8-9" class="pilcrow">¶</a>
</div>
</div>
<span class="break"></span><div id="_c56ee795-55c1-428a-b378-fc753a2d06c8">
<dl class="dlParallel" id="section-a.8-10">
          <dt id="section-a.8-10.1">rfc2adoc: </dt>
          <dd style="margin-left: 1.5em" id="section-a.8-10.2"></dd>
        <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-a.8-11.1">
            <div id="_79c28275-44b7-4ae6-9636-aa9b2b13a067">
<p id="section-a.8-11.1.1">This future tool will be able to convert an xml2rfc v3 file into an AsciiDoc file.
It will also be able to update an already converted file without losing the Idris annotations.<a href="#section-a.8-11.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="reference">
<section id="section-appendix.b">
      <h2 id="name-reference">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-reference" class="section-name selfRef">Reference</a>
      </h2>
<div id="_a064a14b-d2dd-4dda-91a7-fec14cda2051">
<aside id="section-appendix.b-1">
        <p id="section-appendix.b-1.1">NOTE: The code for the libraries described in that section is not yet ready to be published.<a href="#section-appendix.b-1.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_package_computerate_specifying">
<section id="section-b.1">
        <h2 id="name-package-computerate-specify">
<a href="#section-b.1" class="section-number selfRef">B.1. </a><a href="#name-package-computerate-specify" class="section-name selfRef">Package computerate-specifying</a>
        </h2>
<div id="_5e719811-b796-4db2-ac6a-dae7a0f42ab0">
<p id="section-b.1-1">The Builtin Computerate Specification Standard Library.<a href="#section-b.1-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_34901e15-8370-4813-b940-cc99b830677e">
<dl class="dlParallel dlCompact" id="section-b.1-2">
          <dt id="section-b.1-2.1">Version: </dt>
          <dd style="margin-left: 1.5em" id="section-b.1-2.2">
            <div id="_d6dbe1aa-d161-422a-b87b-46690e9caea0">
<p id="section-b.1-2.2.1">0.1<a href="#section-b.1-2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-b.1-2.3">Author(s): </dt>
          <dd style="margin-left: 1.5em" id="section-b.1-2.4">
            <div id="_d1c28ec9-11b4-4291-9d69-594b0d9e8660">
<p id="section-b.1-2.4.1">Marc Petit-Huguenin<a href="#section-b.1-2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-b.1-2.5">Dependencies: </dt>
          <dd style="margin-left: 1.5em" id="section-b.1-2.6">
            <div id="_67fd4d33-4591-4102-95c9-e4d6014dbdf9">
<p id="section-b.1-2.6.1">augmented-ascii-diagrams, rfc5234<a href="#section-b.1-2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
</dl>
</div>
<div id="_module_computeratespecifying_asciidoc">
<section id="section-b.1.1">
          <h3 id="name-module-computeratespecifyin">
<a href="#section-b.1.1" class="section-number selfRef">B.1.1. </a><a href="#name-module-computeratespecifyin" class="section-name selfRef">Module ComputerateSpecifying.AsciiDoc</a>
          </h3>
<div id="_d6781577-0304-4420-9fb4-ff8fcd3a5675">
<p id="section-b.1.1-1">A module to generate valid AsciiDoc.<a href="#section-b.1.1-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_6b72a115-5fc0-4655-b1b0-14d4b87f127c">
<dl class="dlNewline" id="section-b.1.1-2">
            <dt id="section-b.1.1-2.1">data Block : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.1-2.2">
              <div id="_28239a63-1831-4958-a1a1-42930e3fe201">
<p id="section-b.1.1-2.2.1">A block of text<a href="#section-b.1.1-2.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_5011a471-247a-4cf8-acb7-d2bc766e66a5">
<p id="section-b.1.1-2.2.2">Implements Show.<a href="#section-b.1.1-2.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_a4ec8069-899b-4d20-8060-80a5e3228786">
<dl class="dlNewline" id="section-b.1.1-2.2.3">
                <dt id="section-b.1.1-2.2.3.1">Admonition : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.2">
                  <div id="_3f050b73-c7fe-481a-a5fc-cd45d72bd6f3">
<p id="section-b.1.1-2.2.3.2.1"></p>
</div><a href="#section-b.1.1-2.2.3.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.3">Example : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.4">
                  <div id="_549e14e4-8759-4d94-87bf-f3ef18a65723">
<p id="section-b.1.1-2.2.3.4.1"></p>
</div><a href="#section-b.1.1-2.2.3.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.5">Listing : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.6">
                  <div id="_b5f5f26e-5fa2-4d04-be31-36e8da120a37">
<p id="section-b.1.1-2.2.3.6.1"></p>
</div><a href="#section-b.1.1-2.2.3.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.7">Literal : List String -&gt; Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.8">
                  <div id="_39680482-4cd3-4b7c-a8b2-afc7675b481f">
<p id="section-b.1.1-2.2.3.8.1"></p>
</div><a href="#section-b.1.1-2.2.3.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.9">Passthrough : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.10">
                  <div id="_c4a83260-321c-4b0c-9a0b-b27ba1952a10">
<p id="section-b.1.1-2.2.3.10.1"></p>
</div><a href="#section-b.1.1-2.2.3.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.11">Quote : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.12">
                  <div id="_49578129-1b7f-4735-81a6-5b34082a7630">
<p id="section-b.1.1-2.2.3.12.1"></p>
</div><a href="#section-b.1.1-2.2.3.12" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.13">Sidebar : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.14">
                  <div id="_45dc2a6b-f7da-4ace-aae4-333db0754566">
<p id="section-b.1.1-2.2.3.14.1"></p>
</div><a href="#section-b.1.1-2.2.3.14" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.15">Source : (lang : Maybe String) -&gt; List String -&gt; Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.16">
                  <div id="_297da603-7c60-49b6-8dd8-f8a72458eae7">
<p id="section-b.1.1-2.2.3.16.1"></p>
</div><a href="#section-b.1.1-2.2.3.16" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.17">Stem : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.18">
                  <div id="_aed82aa9-5161-44b5-8b53-ef2cb666328d">
<p id="section-b.1.1-2.2.3.18.1"></p>
</div><a href="#section-b.1.1-2.2.3.18" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.19">Table : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.20">
                  <div id="_d3929154-0c7d-49f4-b59f-dd9c9f1d25f2">
<p id="section-b.1.1-2.2.3.20.1"></p>
</div><a href="#section-b.1.1-2.2.3.20" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.21">Verse : Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.22">
                  <div id="_46146cba-40e1-4f24-97d8-c44fdfb08d9b">
<p id="section-b.1.1-2.2.3.22.1"></p>
</div><a href="#section-b.1.1-2.2.3.22" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-2.2.3.23">Paragraph : (lines : List Line) -&gt; length lines &gt; 0 = True =&gt; Block </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-2.2.3.24">
                  <div id="_b632672e-8000-4ae5-a1b9-bf6188a2bbf8">
<p id="section-b.1.1-2.2.3.24.1"></p>
</div><a href="#section-b.1.1-2.2.3.24" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_14f7d580-d3f2-4349-b383-5f90d484afc2">
<dl class="dlNewline" id="section-b.1.1-3">
            <dt id="section-b.1.1-3.1">record Document  </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.1-3.2">
              <div id="_7bf151ad-767c-45ab-95e4-0fc170ee68ab">
<p id="section-b.1.1-3.2.1">An AsciiDoc document<a href="#section-b.1.1-3.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_55108c37-f38f-49d8-bfd5-5b2e1f6a5def">
<dl class="dlNewline" id="section-b.1.1-3.2.2">
                <dt id="section-b.1.1-3.2.2.1">constructor: MkDocument </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-3.2.2.2">
                  <div id="_0013f869-681b-45c9-83a9-e2a14829ab75">
<p id="section-b.1.1-3.2.2.2.1"></p>
</div><a href="#section-b.1.1-3.2.2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_e6682867-c0a6-4ccb-8d51-4d26049838a9">
<dl class="dlNewline" id="section-b.1.1-4">
            <dt id="section-b.1.1-4.1">data Inline : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.1-4.2">
              <div id="_c95acea6-c712-421c-a3ed-4953a6c7e971">
<p id="section-b.1.1-4.2.1">A type for inline text.<a href="#section-b.1.1-4.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_454c7212-5d0d-4465-b7f9-cf0e9c3fbf1c">
<dl class="dlNewline" id="section-b.1.1-4.2.2">
                <dt id="section-b.1.1-4.2.2.1">Lit : String -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.2">
                  <div id="_5ec2cea4-42c4-4714-b202-9a6a523238fd">
<p id="section-b.1.1-4.2.2.2.1"></p>
</div><a href="#section-b.1.1-4.2.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.3">Italic : List Inline -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.4">
                  <div id="_9faf0f7d-e4db-4789-8264-c27dc5104df2">
<p id="section-b.1.1-4.2.2.4.1"></p>
</div><a href="#section-b.1.1-4.2.2.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.5">Bold : List Inline -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.6">
                  <div id="_f1d08850-b491-412c-b3c3-130a69c3fc16">
<p id="section-b.1.1-4.2.2.6.1"></p>
</div><a href="#section-b.1.1-4.2.2.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.7">Subscript : List Inline -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.8">
                  <div id="_34a15329-b71e-4e2e-8717-cda4561bdd0c">
<p id="section-b.1.1-4.2.2.8.1"></p>
</div><a href="#section-b.1.1-4.2.2.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.9">Superscript : List Inline -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.10">
                  <div id="_8e413ab7-9573-4ef6-be3f-198c36dd57e8">
<p id="section-b.1.1-4.2.2.10.1"></p>
</div><a href="#section-b.1.1-4.2.2.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.11">Monospace : List Inline -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.12">
                  <div id="_af85c88e-c41b-446b-b1bb-e455b1c32051">
<p id="section-b.1.1-4.2.2.12.1"></p>
</div><a href="#section-b.1.1-4.2.2.12" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.13">Highlight : List Inline -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.14">
                  <div id="_10115591-e094-4669-874b-8ceb299440f3">
<p id="section-b.1.1-4.2.2.14.1"></p>
</div><a href="#section-b.1.1-4.2.2.14" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.15">Custom : String -&gt; List Inline -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.16">
                  <div id="_eafef7ae-4405-4a51-96a7-29cdc8ae06ba">
<p id="section-b.1.1-4.2.2.16.1"></p>
</div><a href="#section-b.1.1-4.2.2.16" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.17">Attribute : String -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.18">
                  <div id="_4c9b600d-778d-4380-8a22-07022f245c50">
<p id="section-b.1.1-4.2.2.18.1"></p>
</div><a href="#section-b.1.1-4.2.2.18" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.19">Link : (uri : String) -&gt; (text : List Inline) -&gt; (attributes : List String) -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.20">
                  <div id="_9aa67bba-cfcf-4471-8137-041d298ed48d">
<p id="section-b.1.1-4.2.2.20.1"></p>
</div>
<span class="break"></span><div id="_2be78daf-d090-4305-9030-08411cd86fb7">
<dl class="dlParallel dlCompact" id="section-b.1.1-4.2.2.20.2">
                    <dt id="section-b.1.1-4.2.2.20.2.1">uri: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.20.2.2">
                      <div id="_eb87b419-a85a-468c-ade8-95392e872306">
<p id="section-b.1.1-4.2.2.20.2.2.1">The URI<a href="#section-b.1.1-4.2.2.20.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.20.2.3">text: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.20.2.4">
                      <div id="_ad5829ac-8d94-4ed2-90f1-bbd754b7f29c">
<p id="section-b.1.1-4.2.2.20.2.4.1">The text<a href="#section-b.1.1-4.2.2.20.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.20.2.5">attributes: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.20.2.6">
                      <div id="_fdf7d607-565d-40d2-ac30-56e535cc8d18">
<p id="section-b.1.1-4.2.2.20.2.6.1">Additional attributes<a href="#section-b.1.1-4.2.2.20.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
                  <dd class="break"></dd>
</dl>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.21">Xref : String -&gt; List Inline -&gt; List String -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.22">
                  <div id="_c76af9bb-8545-430f-8bee-ccfd1856c484">
<p id="section-b.1.1-4.2.2.22.1"></p>
</div><a href="#section-b.1.1-4.2.2.22" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.1-4.2.2.23">Code : String -&gt; Inline </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-4.2.2.24">
                  <div id="_17a2bae6-fd26-4b5d-bbee-486fe91b9ff1">
<p id="section-b.1.1-4.2.2.24.1">Embedded code.<a href="#section-b.1.1-4.2.2.24.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_f472fa2e-740d-492c-8b24-8af131746d74">
<dl class="dlNewline" id="section-b.1.1-5">
            <dt id="section-b.1.1-5.1">data Line : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.1-5.2">
              <div id="_39ef4bad-2779-4fe2-9827-2b85c97fc7fe">
<p id="section-b.1.1-5.2.1"></p>
</div>
<span class="break"></span><div id="_e8a4bd73-19f5-47de-bb70-4f3c59e7d67a">
<dl class="dlNewline" id="section-b.1.1-5.2.2">
                <dt id="section-b.1.1-5.2.2.1">MkLine : (inlines : List Inline) -&gt; length inlines &gt; 0 = True =&gt; Line </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.1-5.2.2.2">
                  <div id="_de563c9d-ad43-4f65-880c-3b29dbcf3d2e">
<p id="section-b.1.1-5.2.2.2.1"></p>
</div><a href="#section-b.1.1-5.2.2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_computeratespecifying_bitdiagram">
<section id="section-b.1.2">
          <h3 id="name-module-computeratespecifying">
<a href="#section-b.1.2" class="section-number selfRef">B.1.2. </a><a href="#name-module-computeratespecifying" class="section-name selfRef">Module ComputerateSpecifying.BitDiagram</a>
          </h3>
<span class="break"></span><div id="_cf46c0ff-c539-47ea-a252-7646b3865249">
<dl class="dlNewline" id="section-b.1.2-1">
            <dt id="section-b.1.2-1.1">data BitDiagram : List String -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.2-1.2">
              <div id="_7315154b-dded-4f2a-86a9-e1eda7e97372">
<p id="section-b.1.2-1.2.1"></p>
</div>
<span class="break"></span><div id="_91e21af0-1edb-43fd-8b98-96fdb337b62e">
<dl class="dlNewline" id="section-b.1.2-1.2.2">
                <dt id="section-b.1.2-1.2.2.1">Field : (name : String) -&gt; (size : Nat) -&gt; size &gt; 0 &amp;&amp; size * 2 &gt; length name = True =&gt; BitDiagram names -&gt; elem name names = False =&gt; BitDiagram (name :: names) </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.2-1.2.2.2">
                  <div id="_84ca534f-9860-4f11-9704-1819e8881c3f">
<p id="section-b.1.2-1.2.2.2.1"></p>
</div><a href="#section-b.1.2-1.2.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.2-1.2.2.3">Last : (name : String) -&gt; (size : Nat) -&gt; size &gt; 0 &amp;&amp; size * 2 &gt; length name = True =&gt; BitDiagram [name] </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.2-1.2.2.4">
                  <div id="_a170572d-efa7-4a83-85a5-0101a0f01eb7">
<p id="section-b.1.2-1.2.2.4.1"></p>
</div><a href="#section-b.1.2-1.2.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_ca1964ed-de3f-4ce8-a3b0-8b7607882b8e">
<dl class="dlNewline" id="section-b.1.2-2">
            <dt id="section-b.1.2-2.1">data Names : Type -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.2-2.2">
              <div id="_6fd04f85-4686-430d-ab88-4da80f20f77d">
<p id="section-b.1.2-2.2.1"></p>
</div><a href="#section-b.1.2-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_447ab3d1-4bad-4d12-93c0-1c75e1999b1f">
<dl class="dlNewline" id="section-b.1.2-3">
            <dt id="section-b.1.2-3.1">toAsciiDoc : BitDiagram names -&gt; Block </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.2-3.2">
              <div id="_984bff73-4560-4ea4-b90d-5993b3ecb8c3">
<p id="section-b.1.2-3.2.1"></p>
</div><a href="#section-b.1.2-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_16641237-961a-4d5f-9e2f-67f7055a8a6b">
<dl class="dlNewline" id="section-b.1.2-4">
            <dt id="section-b.1.2-4.1">toDiagram : (t : Type) -&gt; Names t -&gt; BitDiagram _ </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.2-4.2">
              <div id="_da2400cb-ff36-48c3-a626-47918c830547">
<p id="section-b.1.2-4.2.1"></p>
</div><a href="#section-b.1.2-4.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_computeratespecifying_bitvector">
<section id="section-b.1.3">
          <h3 id="name-module-computeratespecifyingb">
<a href="#section-b.1.3" class="section-number selfRef">B.1.3. </a><a href="#name-module-computeratespecifyingb" class="section-name selfRef">Module ComputerateSpecifying.BitVector</a>
          </h3>
<span class="break"></span><div id="_f8112467-3050-41e4-adab-3cace0ad673b">
<dl class="dlNewline" id="section-b.1.3-1">
            <dt id="section-b.1.3-1.1">(++) : BitVector n -&gt; BitVector m -&gt; BitVector (n + m) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-1.2">
              <div id="_0d321ca3-562d-4f17-9216-9e44e4a74b88">
<p id="section-b.1.3-1.2.1">Concatene the second bit-vector after the first one.<a href="#section-b.1.3-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_0a6e85cc-ac82-4ae3-97c4-bbb55541a8c1">
<dl class="dlNewline" id="section-b.1.3-2">
            <dt id="section-b.1.3-2.1">data Bit : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-2.2">
              <div id="_ee13d74d-f8d0-4ea3-9969-4353a3579cec">
<p id="section-b.1.3-2.2.1"></p>
</div>
<span class="break"></span><div id="_90634888-e275-4744-9306-f375b024da4e">
<dl class="dlNewline" id="section-b.1.3-2.2.2">
                <dt id="section-b.1.3-2.2.2.1">O : Bit </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.3-2.2.2.2">
                  <div id="_183d2a00-8b10-4e88-bf32-86dd2218c360">
<p id="section-b.1.3-2.2.2.2.1"></p>
</div><a href="#section-b.1.3-2.2.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.3-2.2.2.3">I : Bit </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.3-2.2.2.4">
                  <div id="_e7d417b7-4589-4bb5-a228-176c35187946">
<p id="section-b.1.3-2.2.2.4.1"></p>
</div><a href="#section-b.1.3-2.2.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_49a5dc3b-a21a-4cb5-a763-ed4ea742a069">
<dl class="dlNewline" id="section-b.1.3-3">
            <dt id="section-b.1.3-3.1">data BitVector : Nat -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-3.2">
              <div id="_334dac49-a172-41b3-8b84-35ea64f97c37">
<p id="section-b.1.3-3.2.1">A vector of bit that can be pattern matched.<a href="#section-b.1.3-3.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_98a4d2f4-c8da-4a18-a476-076a3f911d1f">
<p id="section-b.1.3-3.2.2">Implements DecEq, Eq, Size.<a href="#section-b.1.3-3.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_510814b2-3cb1-419f-b7dc-f1a3e13b86a0">
<dl class="dlNewline" id="section-b.1.3-3.2.3">
                <dt id="section-b.1.3-3.2.3.1">Nil : BitVector Z </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.3-3.2.3.2">
                  <div id="_2bce46ac-888d-4186-a016-cd7fbc5c15bd">
<p id="section-b.1.3-3.2.3.2.1"></p>
</div><a href="#section-b.1.3-3.2.3.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.3-3.2.3.3">(::) : Bit -&gt; BitVector n -&gt; BitVector (S n) </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.3-3.2.3.4">
                  <div id="_f3a93342-a307-4f70-b8c0-3c139d74a010">
<p id="section-b.1.3-3.2.3.4.1"></p>
</div><a href="#section-b.1.3-3.2.3.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_be10f19f-3a52-4b71-a81e-f7900434b4d5">
<dl class="dlNewline" id="section-b.1.3-4">
            <dt id="section-b.1.3-4.1">and : (1 _ : BitVector m) -&gt; (1 _ : BitVector m) -&gt; BitVector m </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-4.2">
              <div id="_40c03c76-1dbc-423a-8ca8-91d239ca8a72">
<p id="section-b.1.3-4.2.1">Bitwise and between bit-vectors of identical size.<a href="#section-b.1.3-4.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_96cc6044-1d7d-46d2-8c19-0a531ef68ebb">
<dl class="dlNewline" id="section-b.1.3-5">
            <dt id="section-b.1.3-5.1">bitVector : {m : Nat} -&gt; BitVector m </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-5.2">
              <div id="_cb5c6f68-1949-4b9b-ab30-06cc3bc567a1">
<p id="section-b.1.3-5.2.1">Build an empty bit-vector<a href="#section-b.1.3-5.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_ec55a76b-7a72-4148-b935-f790e4944def">
<dl class="dlParallel dlCompact" id="section-b.1.3-5.2.2">
                <dt id="section-b.1.3-5.2.2.1">m: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.3-5.2.2.2">
                  <div id="_c1890e26-45fa-4ae6-88af-f4b8ce91444e">
<p id="section-b.1.3-5.2.2.2.1">The length of the bitvector<a href="#section-b.1.3-5.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_30ade28a-3c36-42d9-9262-12e392fbff0f">
<dl class="dlNewline" id="section-b.1.3-6">
            <dt id="section-b.1.3-6.1">extend : (n : Nat) -&gt; BitVector m -&gt; BitVector (plus n m) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-6.2">
              <div id="_7800c42f-e9f3-4d6d-b807-4d0586f82beb">
<p id="section-b.1.3-6.2.1">Extend a bit-vector by n zero bits on the left side.<a href="#section-b.1.3-6.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_bc504c35-a33d-4860-80e2-427cb9559fa7">
<dl class="dlNewline" id="section-b.1.3-7">
            <dt id="section-b.1.3-7.1">extract : (p : Nat) -&gt; (q : Nat) -&gt; (prf1 : p LTE q) =&gt; BitVector m -&gt; (prf2 : q LTE m) =&gt; BitVector (q minus p) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-7.2">
              <div id="_c880de36-4ad8-4153-990c-161177d0b80d">
<p id="section-b.1.3-7.2.1">Extract a bit-vector.<a href="#section-b.1.3-7.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_6e6b9849-36f9-4ab2-89c7-4e328e78fea1">
<dl class="dlParallel dlCompact" id="section-b.1.3-7.2.2">
                <dt id="section-b.1.3-7.2.2.1">p: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.3-7.2.2.2">
                  <div id="_dfccabd8-5f16-4a39-815e-b8b1a7f6ee79">
<p id="section-b.1.3-7.2.2.2.1">The position of the first bit to extract.<a href="#section-b.1.3-7.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.3-7.2.2.3">q: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.3-7.2.2.4">
                  <div id="_feb72b10-0d50-4fa6-b77b-b65ac869df40">
<p id="section-b.1.3-7.2.2.4.1">The position of the next to last bit to extract.<a href="#section-b.1.3-7.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_1bf2ffe6-93d7-4896-9190-7a4d5ff01f31">
<dl class="dlNewline" id="section-b.1.3-8">
            <dt id="section-b.1.3-8.1">not : (1 _ : BitVector m) -&gt; BitVector m </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-8.2">
              <div id="_ba18d36c-07de-449e-a4ad-a9055a224fb2">
<p id="section-b.1.3-8.2.1">Bitwise not of a bit-vector.<a href="#section-b.1.3-8.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_c65aac8c-be63-4bfe-9ca8-94e2f21f79c5">
<dl class="dlNewline" id="section-b.1.3-9">
            <dt id="section-b.1.3-9.1">or : (1 _ : BitVector m) -&gt; (1 _ : BitVector m) -&gt; BitVector m </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-9.2">
              <div id="_19ccdad1-329b-4576-8aed-e25302047363">
<p id="section-b.1.3-9.2.1">Bitwise or between bit-vectors of identical size.<a href="#section-b.1.3-9.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_2b40c796-663c-404f-9804-7b9434df37e0">
<dl class="dlNewline" id="section-b.1.3-10">
            <dt id="section-b.1.3-10.1">shiftL : (n : Nat) -&gt; BitVector m -&gt; (prf : n LTE m) =&gt; BitVector (plus (minus m n) n) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-10.2">
              <div id="_1fd85056-352c-4a37-b680-4dfff89eccf4">
<p id="section-b.1.3-10.2.1">Shift the bit-vector to the left by n bits, inserting zeros.<a href="#section-b.1.3-10.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_78f38e75-c088-434e-a834-8eebd0c6d7a8">
<dl class="dlNewline" id="section-b.1.3-11">
            <dt id="section-b.1.3-11.1">shiftR : (n : Nat) -&gt; {m : Nat} -&gt; BitVector m -&gt; (prf : n LTE m) =&gt; BitVector (plus (minus m n) n) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-11.2">
              <div id="_e2ecb107-9959-4d60-8d7c-3636c41f3038">
<p id="section-b.1.3-11.2.1">Shift the bit-vector to the right by n bits, inserting zeros.<a href="#section-b.1.3-11.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_11c44e92-05fd-434c-8bbd-2520d3a12830">
<dl class="dlNewline" id="section-b.1.3-12">
            <dt id="section-b.1.3-12.1">test : (1 m : Nat) -&gt; (1 _ : BitVector n) -&gt; (prf : m LT n) =&gt; Bool </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-12.2">
              <div id="_e1089499-b0a4-41e6-98a8-eb8f1ec421d7">
<p id="section-b.1.3-12.2.1">Return a boolean that is True if the bit at position m is set.<a href="#section-b.1.3-12.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_da2ef919-2e00-4177-8933-cfbefe8a08d1">
<dl class="dlNewline" id="section-b.1.3-13">
            <dt id="section-b.1.3-13.1">xor : (1 _ : BitVector m) -&gt; (1 _ : BitVector m) -&gt; BitVector m </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.3-13.2">
              <div id="_0c206bc0-b2c6-44b0-83ab-5830838c1e63">
<p id="section-b.1.3-13.2.1">Bitwise xor between bit-vectors of identical size.<a href="#section-b.1.3-13.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_computeratespecifying_dimension">
<section id="section-b.1.4">
          <h3 id="name-module-computeratespecifyingd">
<a href="#section-b.1.4" class="section-number selfRef">B.1.4. </a><a href="#name-module-computeratespecifyingd" class="section-name selfRef">Module ComputerateSpecifying.Dimension</a>
          </h3>
<div id="_614a0bc7-3cdc-48fb-a574-5720b762ddfb">
<p id="section-b.1.4-1">A module that defines types, constants and operations on denominate numbers.<a href="#section-b.1.4-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_d3c48cc3-a762-4b09-b3ce-894ad9b8276f">
<dl class="dlNewline" id="section-b.1.4-2">
            <dt id="section-b.1.4-2.1">(*) : Denominate xs -&gt; Denominate ys -&gt; Denominate (merge' xs ys) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-2.2">
              <div id="_a7ea303b-18f7-4436-a951-a50244a42f89">
<p id="section-b.1.4-2.2.1">The multiplication operation between denominate numbers.<a href="#section-b.1.4-2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_8e2f5d5a-c3d7-472f-9b3d-2de833efef48">
<dl class="dlNewline" id="section-b.1.4-3">
            <dt id="section-b.1.4-3.1">(+) : Denominate xs -&gt; Denominate xs -&gt; Denominate xs </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-3.2">
              <div id="_3f314b4e-9910-428f-8c08-d21c17ed8136">
<p id="section-b.1.4-3.2.1">The addition operation between denominate numbers.<a href="#section-b.1.4-3.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_2f49a003-2b74-488c-9f7a-ed01ccf7cbb4">
<dl class="dlNewline" id="section-b.1.4-4">
            <dt id="section-b.1.4-4.1">(-) : Denominate xs -&gt; Denominate xs -&gt; Denominate xs </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-4.2">
              <div id="_9616c31e-387f-40cf-9298-c1f4f8fbc798">
<p id="section-b.1.4-4.2.1">The subtraction operation between denominate numbers.<a href="#section-b.1.4-4.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_bcea2910-ee6f-4e4a-ba16-6740fde7185a">
<dl class="dlNewline" id="section-b.1.4-5">
            <dt id="section-b.1.4-5.1">(/) : Denominate xs -&gt; Denominate ys -&gt; Denominate (merge' xs (recip' ys)) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-5.2">
              <div id="_bd8d94c9-8c99-4854-87a5-ea98e9201818">
<p id="section-b.1.4-5.2.1">The division operation between denominate numbers.<a href="#section-b.1.4-5.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_0ee1bc83-d254-4946-86a5-ea6ebcfcc016">
<dl class="dlNewline" id="section-b.1.4-6">
            <dt id="section-b.1.4-6.1">Data : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-6.2">
              <div id="_ca192451-141a-4055-81f9-a9831b8c2d63">
<p id="section-b.1.4-6.2.1">The type of a denominate number for the data dimension.<a href="#section-b.1.4-6.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_37ff8857-513f-4535-963e-2aaa909e72a5">
<dl class="dlNewline" id="section-b.1.4-7">
            <dt id="section-b.1.4-7.1">data Denominate : List (Dimension, Int) -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-7.2">
              <div id="_05af6622-85e4-4c28-807e-25dab158b709">
<p id="section-b.1.4-7.2.1">A denominate number.<a href="#section-b.1.4-7.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_fdaef318-f014-4a2a-8614-c02b6cb6d950">
<dl class="dlNewline" id="section-b.1.4-7.2.2">
                <dt id="section-b.1.4-7.2.2.1">MkDenominate : (x : Integer) -&gt; (y : Integer) -&gt; {xs : List (Dimension, Int)} -&gt; Denominate xs </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.4-7.2.2.2">
                  <div id="_741e984b-13b1-43f6-a66d-63f2f872dc45">
<p id="section-b.1.4-7.2.2.2.1">Construct a denominate number as a fraction.<a href="#section-b.1.4-7.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_77340528-a7a3-460e-9bde-8ff0b6dd15d8">
<dl class="dlNewline" id="section-b.1.4-8">
            <dt id="section-b.1.4-8.1">Dimensionless : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-8.2">
              <div id="_2204a952-243e-4da6-af67-040c3375b470">
<p id="section-b.1.4-8.2.1">The type of a dimensionless denominate number<a href="#section-b.1.4-8.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_0e525849-4c38-49fe-b035-e4501c3099b5">
<dl class="dlNewline" id="section-b.1.4-9">
            <dt id="section-b.1.4-9.1">interface Size a</dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-9.2">
              <div id="_f6a87dec-67fb-4331-8a4a-94d32968ff65">
<p id="section-b.1.4-9.2.1">An interface to retrieve the size in bits of a type.<a href="#section-b.1.4-9.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_fa317108-a990-4a39-9484-8961882c9816">
<p id="section-b.1.4-9.2.2">Implemented by List, (s, x).<a href="#section-b.1.4-9.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_01414486-b6ba-41bf-9b69-2b2499ecf18e">
<dl class="dlNewline" id="section-b.1.4-9.2.3">
                <dt id="section-b.1.4-9.2.3.1">size : a -&gt; Data </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.4-9.2.3.2">
                  <div id="_8ed7f62d-36ef-4c68-8535-6cbc522a8bf0">
<p id="section-b.1.4-9.2.3.2.1">Return the size of a in bit.<a href="#section-b.1.4-9.2.3.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_fa4d8dae-a676-45a5-b90b-a9ba58cc5a12">
<dl class="dlNewline" id="section-b.1.4-10">
            <dt id="section-b.1.4-10.1">Time : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-10.2">
              <div id="_dec4a443-778d-40f1-96e1-df5759818931">
<p id="section-b.1.4-10.2.1">The type of a denominate number for the time dimension.<a href="#section-b.1.4-10.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_30b31ff7-6451-4520-8ccb-9cb3e75f6e51">
<dl class="dlNewline" id="section-b.1.4-11">
            <dt id="section-b.1.4-11.1">bit : Data </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-11.2">
              <div id="_88fb5cfc-1cdf-40f8-9e66-9cb637878b4d">
<p id="section-b.1.4-11.2.1">Bit, the base unit of data.<a href="#section-b.1.4-11.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_63142139-ec5f-498b-a99f-0b03a04130a0">
<dl class="dlNewline" id="section-b.1.4-12">
            <dt id="section-b.1.4-12.1">byte : Data </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-12.2">
              <div id="_c9e889b6-210a-4643-ba70-eea5ea9f1388">
<p id="section-b.1.4-12.2.1">The byte unit, as 8 bits.<a href="#section-b.1.4-12.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_61273345-bb11-4252-8cae-2875f5358620">
<dl class="dlNewline" id="section-b.1.4-13">
            <dt id="section-b.1.4-13.1">day : Time </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-13.2">
              <div id="_640d3bdb-b520-4348-8218-7b1d43365f60">
<p id="section-b.1.4-13.2.1">The day, as unit of time.<a href="#section-b.1.4-13.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_1d213690-c50b-4cc3-ba8c-dc2801808b1c">
<dl class="dlNewline" id="section-b.1.4-14">
            <dt id="section-b.1.4-14.1">fromDenominate : (value : Denominate xs) -&gt; (unit : Denominate xs) -&gt; (Double, Denominate xs) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-14.2">
              <div id="_882caf40-243a-4e55-8d93-3f37fd314936">
<p id="section-b.1.4-14.2.1">Convert a denominate number into a tuple made of the dimensionless value (as a <code>Double</code>) calculated after applying a unit, and that unit.<a href="#section-b.1.4-14.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_9f554a7e-dcb4-405a-8ad0-3abb0bfef182">
<dl class="dlParallel dlCompact" id="section-b.1.4-14.2.2">
                <dt id="section-b.1.4-14.2.2.1">value: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.4-14.2.2.2">
                  <div id="_74ac7234-3654-4ac2-9d88-f761856666be">
<p id="section-b.1.4-14.2.2.2.1">the value to convert.<a href="#section-b.1.4-14.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.4-14.2.2.3">unit: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.4-14.2.2.4">
                  <div id="_4767e195-17e4-4b17-b533-30dd91fcfa78">
<p id="section-b.1.4-14.2.2.4.1">the unit to use for the conversion.<a href="#section-b.1.4-14.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_f2371e85-b2ea-4d1f-b006-547c515ca4de">
<dl class="dlNewline" id="section-b.1.4-15">
            <dt id="section-b.1.4-15.1">elaboration generate bin "bit" "Data" </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-15.2">
              <div id="_cefb5dd5-b26a-4f6c-bbad-150ebca7399f">
<p id="section-b.1.4-15.2.1">Generate all the IEC units based on the bit, from kibibit to yobibit.<a href="#section-b.1.4-15.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_3632baff-2201-47ee-bae9-d0dfa24acbd5">
<dl class="dlNewline" id="section-b.1.4-16">
            <dt id="section-b.1.4-16.1">elaboration generate dec "bit" "Data" </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-16.2">
              <div id="_e8b9ae25-66f0-4832-bb0f-4f0f62723743">
<p id="section-b.1.4-16.2.1">Generate all the SI units based on the bit, from kilobit to yottabit.<a href="#section-b.1.4-16.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_ff7952ce-db63-4119-b740-ee2808054ba8">
<dl class="dlNewline" id="section-b.1.4-17">
            <dt id="section-b.1.4-17.1">elaboration generate si "second" "Time" </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-17.2">
              <div id="_e6b697ee-9d39-42b9-a10e-013e1820bf6e">
<p id="section-b.1.4-17.2.1">Generates all the SI units based on the second, from yoctosecond to yottasecond.<a href="#section-b.1.4-17.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_37762818-1389-478b-a895-30fc29fe3324">
<dl class="dlNewline" id="section-b.1.4-18">
            <dt id="section-b.1.4-18.1">hour : Time </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-18.2">
              <div id="_722c01e3-8f77-4b79-bfc0-9f6950452c4e">
<p id="section-b.1.4-18.2.1">The hour, as unit of time.<a href="#section-b.1.4-18.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_d8530a11-d2d4-4644-a3be-60aa9546ecc2">
<dl class="dlNewline" id="section-b.1.4-19">
            <dt id="section-b.1.4-19.1">minute : Time </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-19.2">
              <div id="_a66f46f4-6527-4bb1-948f-7a3ca73a0ef3">
<p id="section-b.1.4-19.2.1">The minute, as unit of time.<a href="#section-b.1.4-19.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_d7a91513-24d6-4eda-9be7-8e8f5aec112e">
<dl class="dlNewline" id="section-b.1.4-20">
            <dt id="section-b.1.4-20.1">neg : Denominate xs -&gt; Denominate xs </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-20.2">
              <div id="_4a9acf16-a4c4-4ea1-ba60-48e3e1349635">
<p id="section-b.1.4-20.2.1">The negation operation of a denominate number.<a href="#section-b.1.4-20.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_496aadd6-8a06-4a4c-9d6d-dabdd5e32fdd">
<dl class="dlNewline" id="section-b.1.4-21">
            <dt id="section-b.1.4-21.1">none : Dimensionless </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-21.2">
              <div id="_07bcef66-1c2e-40e8-8eda-8aa33d9ae075">
<p id="section-b.1.4-21.2.1">The unit for a dimensionless denominate number.<a href="#section-b.1.4-21.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_1f7dde3e-5fdf-4ee8-b1b3-3c6dfd30735c">
<dl class="dlNewline" id="section-b.1.4-22">
            <dt id="section-b.1.4-22.1">octa : Data </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-22.2">
              <div id="_860fbdd2-dee0-47e2-8ba6-ef84e0b63c65">
<p id="section-b.1.4-22.2.1">The octa unit, as 64 bits.<a href="#section-b.1.4-22.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_48b3219d-02d0-4f81-9e33-f6d0c2c3d516">
<dl class="dlNewline" id="section-b.1.4-23">
            <dt id="section-b.1.4-23.1">recip : Denominate xs -&gt; Denominate (recip' xs) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-23.2">
              <div id="_a42f8b41-5c08-4d46-8f1a-c40b95391949">
<p id="section-b.1.4-23.2.1">The reciprocal operation of a denominate number.<a href="#section-b.1.4-23.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_6f07428d-affb-496c-ad42-8bcf3fe46cb3">
<dl class="dlNewline" id="section-b.1.4-24">
            <dt id="section-b.1.4-24.1">second : Time </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-24.2">
              <div id="_f743d975-1bab-437f-8bf9-d752d680e049">
<p id="section-b.1.4-24.2.1">Second, the base unit of time.<a href="#section-b.1.4-24.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_9ad1dd56-1df0-438c-8f93-18f52c0740bf">
<dl class="dlNewline" id="section-b.1.4-25">
            <dt id="section-b.1.4-25.1">tetra : Data </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-25.2">
              <div id="_b5268c1a-c663-403d-87fd-38eb708346b6">
<p id="section-b.1.4-25.2.1">The tetra unit, as 32 bits.<a href="#section-b.1.4-25.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_473947f7-5ccc-497a-8433-23e944e31104">
<dl class="dlNewline" id="section-b.1.4-26">
            <dt id="section-b.1.4-26.1">wyde : Data </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.4-26.2">
              <div id="_cc1267de-9f21-4920-b800-acd9d850b5e1">
<p id="section-b.1.4-26.2.1">The wyde unit, as 16 bits.<a href="#section-b.1.4-26.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_computeratespecifying_tpn">
<section id="section-b.1.5">
          <h3 id="name-module-computeratespecifyingt">
<a href="#section-b.1.5" class="section-number selfRef">B.1.5. </a><a href="#name-module-computeratespecifyingt" class="section-name selfRef">Module ComputerateSpecifying.Tpn</a>
          </h3>
<div id="_76c5770d-81a3-450e-8ca7-2673473ede33">
<p id="section-b.1.5-1">A module that defines types for Petri Net.<a href="#section-b.1.5-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_778d10d8-5718-48f0-a0c3-43610c3cd767">
<dl class="dlNewline" id="section-b.1.5-2">
            <dt id="section-b.1.5-2.1">data Direction : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-2.2">
              <div id="_fdde494c-4363-4b52-b023-0d5825abfa64">
<p id="section-b.1.5-2.2.1">The direction of the data exchanged between a port and a socket.<a href="#section-b.1.5-2.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_daa67b2b-8705-4d2f-bb60-6ce6c641b092">
<dl class="dlNewline" id="section-b.1.5-2.2.2">
                <dt id="section-b.1.5-2.2.2.1">In : Direction </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-2.2.2.2">
                  <div id="_4b567ec2-248a-4451-8097-919fbb1b8329">
<p id="section-b.1.5-2.2.2.2.1"></p>
</div><a href="#section-b.1.5-2.2.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-2.2.2.3">Out : Direction </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-2.2.2.4">
                  <div id="_edd63271-7c2b-4311-b857-b94036dd3013">
<p id="section-b.1.5-2.2.2.4.1"></p>
</div><a href="#section-b.1.5-2.2.2.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-2.2.2.5">Both : Direction </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-2.2.2.6">
                  <div id="_edc95745-f0c9-4575-97a6-ba0f9b709dff">
<p id="section-b.1.5-2.2.2.6.1"></p>
</div><a href="#section-b.1.5-2.2.2.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_58e7b6e9-2bd0-4864-b4c1-1791e1aec107">
<dl class="dlNewline" id="section-b.1.5-3">
            <dt id="section-b.1.5-3.1">data Ellipse : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-3.2">
              <div id="_f74b3cd1-5236-45b4-9d0e-b720b2d8c3b0">
<p id="section-b.1.5-3.2.1">An <code>Ellipse</code> (named for its drawing shape) is either a place or a port/socket.<a href="#section-b.1.5-3.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_6594aedb-d0c6-459f-83ff-a1bd132f3a71">
<p id="section-b.1.5-3.2.2">Implements Eq.<a href="#section-b.1.5-3.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_5d9d873f-06f1-423b-b052-a5f9041ba32f">
<dl class="dlNewline" id="section-b.1.5-3.2.3">
                <dt id="section-b.1.5-3.2.3.1">Place : (name : String) -&gt; (type : Type) -&gt; (init : Colist type) -&gt; Ellipse </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.2">
                  <div id="_f65d10ca-9636-4488-82a2-64326eca5fdd">
<p id="section-b.1.5-3.2.3.2.1">A place.<a href="#section-b.1.5-3.2.3.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_98912838-9ea5-4fec-8f6b-ccca1b09133f">
<dl class="dlParallel dlCompact" id="section-b.1.5-3.2.3.2.2">
                    <dt id="section-b.1.5-3.2.3.2.2.1">name: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.2.2.2">
                      <div id="_81ad0ba0-28d9-406e-8827-1e0776e4bf76">
<p id="section-b.1.5-3.2.3.2.2.2.1">The name of the Place<a href="#section-b.1.5-3.2.3.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-3.2.3.2.2.3">type: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.2.2.4">
                      <div id="_5930f4ff-56d1-4628-9a9d-2ab2d1711275">
<p id="section-b.1.5-3.2.3.2.2.4.1">The type of the tokens stored in the place.<a href="#section-b.1.5-3.2.3.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-3.2.3.2.2.5">init: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.2.2.6">
                      <div id="_4aa77690-17c7-43f9-ab3a-ee242329c8d4">
<p id="section-b.1.5-3.2.3.2.2.6.1">The initial content of the place.<a href="#section-b.1.5-3.2.3.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
                  <dd class="break"></dd>
</dl>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-3.2.3.3">Port : (name : String) -&gt; (type : Type) -&gt; (dir : Direction) -&gt; Ellipse </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.4">
                  <div id="_dcc627a3-4331-4ab2-9670-b40bcb7545a7">
<p id="section-b.1.5-3.2.3.4.1">A port.<a href="#section-b.1.5-3.2.3.4.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_61c21e8f-b8ac-4149-acb8-9811e8244f2d">
<dl class="dlParallel dlCompact" id="section-b.1.5-3.2.3.4.2">
                    <dt id="section-b.1.5-3.2.3.4.2.1">name: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.4.2.2">
                      <div id="_c314fd3f-1976-41df-9440-dabc1a61247d">
<p id="section-b.1.5-3.2.3.4.2.2.1">: The name of the Port.<a href="#section-b.1.5-3.2.3.4.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-3.2.3.4.2.3">type: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.4.2.4">
                      <div id="_8743a1b2-e055-4629-b0f3-24ca608d1921">
<p id="section-b.1.5-3.2.3.4.2.4.1">The type of the tokens stored in the port.<a href="#section-b.1.5-3.2.3.4.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-3.2.3.4.2.5">dir: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-3.2.3.4.2.6">
                      <div id="_b7dd7356-05e0-42f3-9f3c-8041833027c4">
<p id="section-b.1.5-3.2.3.4.2.6.1">The direction of the port.<a href="#section-b.1.5-3.2.3.4.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
                  <dd class="break"></dd>
</dl>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_ad39d2b7-03b9-4b1b-a967-2d97aa17a3d1">
<dl class="dlNewline" id="section-b.1.5-4">
            <dt id="section-b.1.5-4.1">data InputArc : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-4.2">
              <div id="_5afb8b70-8816-4761-a4aa-81824c194e16">
<p id="section-b.1.5-4.2.1"></p>
</div>
<span class="break"></span><div id="_bcf7bc5c-d9bc-44c5-884a-e90d08e2c8cb">
<dl class="dlNewline" id="section-b.1.5-4.2.2">
                <dt id="section-b.1.5-4.2.2.1">MkInputArc : (ellipse : Ellipse) -&gt; (output : Type) -&gt; (inscription : TypeOf ellipse -&gt; Maybe output) -&gt; InputArc </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-4.2.2.2">
                  <div id="_3a4efd7a-a3a1-433a-80d2-509442242da0">
<p id="section-b.1.5-4.2.2.2.1">An input arc.<a href="#section-b.1.5-4.2.2.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_5b18409a-77c1-4701-a282-9c5d1550af3c">
<dl class="dlParallel dlCompact" id="section-b.1.5-4.2.2.2.2">
                    <dt id="section-b.1.5-4.2.2.2.2.1">ellipse: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-4.2.2.2.2.2">
                      <div id="_42937cfd-7514-4142-b257-f98118a9a633">
<p id="section-b.1.5-4.2.2.2.2.2.1">The ellipse from which tokens are removed.<a href="#section-b.1.5-4.2.2.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-4.2.2.2.2.3">output: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-4.2.2.2.2.4">
                      <div id="_c1878907-f65b-4c2e-91b5-57ba0724ed07">
<p id="section-b.1.5-4.2.2.2.2.4.1">The type of the tokens after applying the inscription.<a href="#section-b.1.5-4.2.2.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-4.2.2.2.2.5">inscription: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-4.2.2.2.2.6">
                      <div id="_9dbf193c-c30d-4235-ac11-cc9e0d5ab388">
<p id="section-b.1.5-4.2.2.2.2.6.1">A function that converts the tokens from the place into the output type.<a href="#section-b.1.5-4.2.2.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
                  <dd class="break"></dd>
</dl>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_ba63cb4e-ddb6-48c6-a559-88bdefc17ca8">
<dl class="dlNewline" id="section-b.1.5-5">
            <dt id="section-b.1.5-5.1">InputType : List InputArc -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-5.2">
              <div id="_b683a20c-ab61-4d35-98c5-e5b41f0689da">
<p id="section-b.1.5-5.2.1">Calculate the combined type of a list of inputs.<a href="#section-b.1.5-5.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_0b16e2da-aaaf-4513-8ea5-af4f4c58c76c">
<dl class="dlNewline" id="section-b.1.5-6">
            <dt id="section-b.1.5-6.1">data Instance : List Ellipse -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-6.2">
              <div id="_d454164b-cb60-476f-b2c8-e31b4dff5b6e">
<p id="section-b.1.5-6.2.1">A module instance.<a href="#section-b.1.5-6.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_55a14638-efcf-490e-bb25-a93ed2e86800">
<dl class="dlNewline" id="section-b.1.5-6.2.2">
                <dt id="section-b.1.5-6.2.2.1">MkInstance : (mod : Module xs ys) -&gt; (maps : List Ellipse) -&gt; length ys = length maps =&gt; Instance maps </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-6.2.2.2">
                  <div id="_9d3d64c6-976a-4ff0-a042-661768a9aa38">
<p id="section-b.1.5-6.2.2.2.1">An instance of a module<a href="#section-b.1.5-6.2.2.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_af4ef93f-5427-412e-8653-9a253d332667">
<dl class="dlParallel dlCompact" id="section-b.1.5-6.2.2.2.2">
                    <dt id="section-b.1.5-6.2.2.2.2.1">mod: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-6.2.2.2.2.2">
                      <div id="_73bab597-aab1-4bfb-8ef6-20338d09e9af">
<p id="section-b.1.5-6.2.2.2.2.2.1">The module.<a href="#section-b.1.5-6.2.2.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-6.2.2.2.2.3">maps: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-6.2.2.2.2.4">
                      <div id="_7d683ffd-c4ad-43ae-9dec-43094206773d">
<p id="section-b.1.5-6.2.2.2.2.4.1">The list of mapping between sockets and places or ports.<a href="#section-b.1.5-6.2.2.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                  <dd class="break"></dd>
</dl>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_4c4f49c8-6a6e-4c4e-a72a-0b72b8743fe7">
<dl class="dlNewline" id="section-b.1.5-7">
            <dt id="section-b.1.5-7.1">data Marking : Vect k Type -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-7.2">
              <div id="_177f93a2-2eef-4eeb-883d-ecfc5d6fa622">
<p id="section-b.1.5-7.2.1">A marking is a heterogeneous list of place content.<a href="#section-b.1.5-7.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_cfc2d796-058f-4965-a247-54e91f1306b5">
<dl class="dlNewline" id="section-b.1.5-7.2.2">
                <dt id="section-b.1.5-7.2.2.1">Nil : Marking [] </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-7.2.2.2">
                  <div id="_07547a8c-b473-4252-adb7-b3da6043eb87">
<p id="section-b.1.5-7.2.2.2.1"></p>
</div><a href="#section-b.1.5-7.2.2.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-7.2.2.3">(::) : Colist t -&gt; Marking ts -&gt; Marking (t :: ts) </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-7.2.2.4">
                  <div id="_11ce8f4b-5939-4177-8804-cf383310949b">
<p id="section-b.1.5-7.2.2.4.1"></p>
</div><a href="#section-b.1.5-7.2.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_d5bd52ef-a787-4b37-a92f-8fe6bca38fef">
<dl class="dlNewline" id="section-b.1.5-8">
            <dt id="section-b.1.5-8.1">data Module : (xs : List Ellipse) -&gt; (ys : List Ellipse) -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-8.2">
              <div id="_7a95d7e1-d5fa-4169-9599-8fd6893915a0">
<p id="section-b.1.5-8.2.1">A module.<a href="#section-b.1.5-8.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_2a19ae43-782f-4062-9c9d-f6a97d8d94ac">
<dl class="dlNewline" id="section-b.1.5-8.2.2">
                <dt id="section-b.1.5-8.2.2.1">MkModule : (name : String) -&gt; Module [] [] </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-8.2.2.2">
                  <div id="_47e43ecd-3432-40a3-b1d6-b4de6ed010dc">
<p id="section-b.1.5-8.2.2.2.1">Build an empty module.<a href="#section-b.1.5-8.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-8.2.2.3">AddPlace : (x : Ellipse) -&gt; Module xs ys -&gt; Module (x :: xs) ys </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-8.2.2.4">
                  <div id="_d9fcbe78-770c-428a-9972-e78bc8985591">
<p id="section-b.1.5-8.2.2.4.1">Declare a new place or port local to this module.<a href="#section-b.1.5-8.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-8.2.2.5">AddPort : (x : Ellipse) -&gt; Module xs ys -&gt; Module xs (x :: ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-8.2.2.6">
                  <div id="_cee5cb41-043f-4c1a-bc56-275accf282b5">
<p id="section-b.1.5-8.2.2.6.1"></p>
</div><a href="#section-b.1.5-8.2.2.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-8.2.2.7">AddTransition : (t : Transition) -&gt; Module xs ys -&gt; all (\(MkInputArc s _ _) : ? =&gt; elem s (xs ++ ys)) (inputs t) = True =&gt; all (\(MkOutputArc _ s _) : ? =&gt; elem s (xs ++ ys)) (outputs t) = True =&gt; Module xs ys </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-8.2.2.8">
                  <div id="_6a1cff00-b32b-4863-97e6-065c30f64f2d">
<p id="section-b.1.5-8.2.2.8.1">Declare a new transition, checking that the places used are declared in this module.<a href="#section-b.1.5-8.2.2.8.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.5-8.2.2.9">AddInstance : (i : Instance zs) -&gt; Module xs ys -&gt; all (\x : ? =&gt; elem x (xs ++ ys)) zs = True =&gt; Module xs ys </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-8.2.2.10">
                  <div id="_eb1cd613-24c6-406f-90ce-9a46ad7e1f94">
<p id="section-b.1.5-8.2.2.10.1">Declare a new instance of a module, checking that the places used are declared in this module.<a href="#section-b.1.5-8.2.2.10.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_d13afe28-ab18-4b9a-af76-4fedb9d2fe4c">
<dl class="dlNewline" id="section-b.1.5-9">
            <dt id="section-b.1.5-9.1">data OutputArc : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-9.2">
              <div id="_75e5b0ad-d098-47c7-bbe5-735bf509ddc4">
<p id="section-b.1.5-9.2.1"></p>
</div>
<span class="break"></span><div id="_bbc79849-7243-4361-978d-ba95d195c91f">
<dl class="dlNewline" id="section-b.1.5-9.2.2">
                <dt id="section-b.1.5-9.2.2.1">MkOutputArc : (input : Type) -&gt; (ellipse : Ellipse) -&gt; (inscription : input -&gt; List (TypeOf ellipse)) -&gt; OutputArc </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-9.2.2.2">
                  <div id="_e54827ad-007c-44ff-932c-e67213a2cc68">
<p id="section-b.1.5-9.2.2.2.1">An output arc.<a href="#section-b.1.5-9.2.2.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_c91983ce-0a35-44ad-8c96-5ed4ec574b80">
<dl class="dlParallel dlCompact" id="section-b.1.5-9.2.2.2.2">
                    <dt id="section-b.1.5-9.2.2.2.2.1">input: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-9.2.2.2.2.2">
                      <div id="_226e7c72-5e5d-4055-a367-e148950ccc2a">
<p id="section-b.1.5-9.2.2.2.2.2.1">The type of the values from the transition.<a href="#section-b.1.5-9.2.2.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-9.2.2.2.2.3">inscription: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-9.2.2.2.2.4">
                      <div id="_50a114e6-5fa6-4ef9-af3f-831206c2f210">
<p id="section-b.1.5-9.2.2.2.2.4.1">a function that generates the tokens to be inserted in the place.<a href="#section-b.1.5-9.2.2.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                  <dd class="break"></dd>
</dl>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_34b2c480-bf06-4276-bb3e-bb990a0cd236">
<dl class="dlNewline" id="section-b.1.5-10">
            <dt id="section-b.1.5-10.1">OutputType : List OutputArc -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-10.2">
              <div id="_9fa2f51c-76b4-40d0-9624-51bce133ada0">
<p id="section-b.1.5-10.2.1">Calculate the combined type of a list of outputs.<a href="#section-b.1.5-10.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_df0f928e-b08b-411b-8903-1442c1577193">
<dl class="dlNewline" id="section-b.1.5-11">
            <dt id="section-b.1.5-11.1">data Transition : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-11.2">
              <div id="_16e924ff-f82f-4b5d-8404-06f82050fae0">
<p id="section-b.1.5-11.2.1"></p>
</div>
<span class="break"></span><div id="_aa9c83ea-3e6c-4aeb-b2f9-2c0dd4350394">
<dl class="dlNewline" id="section-b.1.5-11.2.2">
                <dt id="section-b.1.5-11.2.2.1">MkTransition : (name : String) -&gt; (inputs : List InputArc) -&gt; (outputs : List OutputArc) -&gt; (transition : InputType inputs -&gt; Maybe (OutputType outputs)) -&gt; Transition </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.5-11.2.2.2">
                  <div id="_034134c7-6b39-401c-ab8c-b1ad65d063d2">
<p id="section-b.1.5-11.2.2.2.1">A transition.<a href="#section-b.1.5-11.2.2.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_da0d78b3-5d41-4bce-8ba9-f9b285cf2968">
<dl class="dlParallel dlCompact" id="section-b.1.5-11.2.2.2.2">
                    <dt id="section-b.1.5-11.2.2.2.2.1">name: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-11.2.2.2.2.2">
                      <div id="_33673df4-2197-425d-81c2-0f3b69129436">
<p id="section-b.1.5-11.2.2.2.2.2.1">The name of the transition<a href="#section-b.1.5-11.2.2.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-11.2.2.2.2.3">inputs: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-11.2.2.2.2.4">
                      <div id="_54d5677a-3656-4c3b-b302-833c0beb2f3c">
<p id="section-b.1.5-11.2.2.2.2.4.1">The list of input arcs.<a href="#section-b.1.5-11.2.2.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-11.2.2.2.2.5">outputs: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-11.2.2.2.2.6">
                      <div id="_74af7ae3-ba9b-4795-b88f-303fc2771ada">
<p id="section-b.1.5-11.2.2.2.2.6.1">The list of output arcs.<a href="#section-b.1.5-11.2.2.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
                    <dd class="break"></dd>
<dt id="section-b.1.5-11.2.2.2.2.7">transition: </dt>
                    <dd style="margin-left: 1.5em" id="section-b.1.5-11.2.2.2.2.8">
                      <div id="_4cbc8c5d-424a-4d89-ab7c-a2e8d170f723">
<p id="section-b.1.5-11.2.2.2.2.8.1">A function that chooses and converts between a tuple made of the type of all the inputs into a tuple made of the type of all the outputs.<a href="#section-b.1.5-11.2.2.2.2.8.1" class="pilcrow">¶</a></p>
</div>
</dd>
                  <dd class="break"></dd>
</dl>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_fb6e7c39-5311-4147-a868-d56dee3d5074">
<dl class="dlNewline" id="section-b.1.5-12">
            <dt id="section-b.1.5-12.1">Tuple : List Type -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-12.2">
              <div id="_338c8998-cc82-4f0e-859e-de52c5fa418e">
<p id="section-b.1.5-12.2.1">Convert a list of types into a tuple of types.<a href="#section-b.1.5-12.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_c48e803f-ca3a-4303-9fff-cdf6d50b047b">
<dl class="dlNewline" id="section-b.1.5-13">
            <dt id="section-b.1.5-13.1">TypeOf : Ellipse -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-13.2">
              <div id="_dac2c4b8-2204-4064-a859-ca4ea4e9b747">
<p id="section-b.1.5-13.2.1">Retrieve the type of the tokens that can be stored in an <code>Ellipse</code>.<a href="#section-b.1.5-13.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_3083d5aa-9522-4eab-981d-e9af4b793caf">
<dl class="dlNewline" id="section-b.1.5-14">
            <dt id="section-b.1.5-14.1">bindings : Marking xs -&gt; Instance [] -&gt; Transition -&gt; Colist Binding </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-14.2">
              <div id="_4f9f99b0-cbe2-4fa2-b420-d1e07723b302">
<p id="section-b.1.5-14.2.1">List all the bindings from a marking and a transition.<a href="#section-b.1.5-14.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_181ca3b4-53e5-4929-9f3a-99b4cb1c9042">
<dl class="dlNewline" id="section-b.1.5-15">
            <dt id="section-b.1.5-15.1">deriveType : Instance [] -&gt; List Decl </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-15.2">
              <div id="_6df4d272-0a36-4683-afa9-5491b2ab131c">
<p id="section-b.1.5-15.2.1"></p>
</div><a href="#section-b.1.5-15.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_46b2076f-b270-4370-a000-e0fedaa7729e">
<dl class="dlNewline" id="section-b.1.5-16">
            <dt id="section-b.1.5-16.1">empty : Colist a </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-16.2">
              <div id="_a340d736-0627-4898-92a4-afe723212b23">
<p id="section-b.1.5-16.2.1">An empty colist.<a href="#section-b.1.5-16.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_8c28a357-825d-481e-ab15-5acb7b820ef1">
<dl class="dlNewline" id="section-b.1.5-17">
            <dt id="section-b.1.5-17.1">enabledTransitions : Marking xs -&gt; Instance [] -&gt; List Transition </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-17.2">
              <div id="_b43f9cd1-363a-4615-8624-a716db5c60f0">
<p id="section-b.1.5-17.2.1">List all the enabled transitions from a marking.<a href="#section-b.1.5-17.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_5c22904d-05e8-4cab-8a4e-d6acd948f9dd">
<dl class="dlNewline" id="section-b.1.5-18">
            <dt id="section-b.1.5-18.1">initialMarking : Instance [] -&gt; Marking xs </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-18.2">
              <div id="_66790aa0-d91f-4587-9ba5-f184c1557eeb">
<p id="section-b.1.5-18.2.1">Builds an initial marking.<a href="#section-b.1.5-18.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_29ff71cf-4e2d-40c1-86b8-e17af05f85fe">
<dl class="dlNewline" id="section-b.1.5-19">
            <dt id="section-b.1.5-19.1">input : OutputArc -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-19.2">
              <div id="_def9330f-d9b3-473c-a3ce-f6e808e5869c">
<p id="section-b.1.5-19.2.1"></p>
</div><a href="#section-b.1.5-19.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_f5fdf101-f52c-4591-8257-30ebf826cf41">
<dl class="dlNewline" id="section-b.1.5-20">
            <dt id="section-b.1.5-20.1">inputs : Transition -&gt; List InputArc </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-20.2">
              <div id="_d980afa5-5cf0-46f1-a52d-1107f9039e3f">
<p id="section-b.1.5-20.2.1"></p>
</div><a href="#section-b.1.5-20.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_00732c35-11a0-4fc5-b7bf-aa2b528b66ec">
<dl class="dlNewline" id="section-b.1.5-21">
            <dt id="section-b.1.5-21.1">isSocket : Ellipse -&gt; Bool </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-21.2">
              <div id="_6aa84593-c9ac-4d22-9c9b-7a7c02395dbf">
<p id="section-b.1.5-21.2.1"></p>
</div><a href="#section-b.1.5-21.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_cb913373-cd59-4a0a-ad51-0251a354723f">
<dl class="dlNewline" id="section-b.1.5-22">
            <dt id="section-b.1.5-22.1">mappings : Instance xs -&gt; List Ellipse </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-22.2">
              <div id="_a9851ae4-48cc-4fba-b0f6-98628bd1911d">
<p id="section-b.1.5-22.2.1"></p>
</div><a href="#section-b.1.5-22.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_a09dc537-869a-4973-a567-cb46e23fd810">
<dl class="dlNewline" id="section-b.1.5-23">
            <dt id="section-b.1.5-23.1">output : InputArc -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-23.2">
              <div id="_b2ad3f75-f0a7-4145-b147-9f21154a04a0">
<p id="section-b.1.5-23.2.1"></p>
</div><a href="#section-b.1.5-23.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_99b048d8-7209-47a5-9bc5-31e4e5cf064e">
<dl class="dlNewline" id="section-b.1.5-24">
            <dt id="section-b.1.5-24.1">outputs : Transition -&gt; List OutputArc </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-24.2">
              <div id="_43036ce0-6ca0-4bae-a420-33a7add0a8a8">
<p id="section-b.1.5-24.2.1"></p>
</div><a href="#section-b.1.5-24.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_5d13f21e-a306-4b67-8ec3-db491c6d4552">
<dl class="dlNewline" id="section-b.1.5-25">
            <dt id="section-b.1.5-25.1">transition : Marking xs -&gt; Instance [] -&gt; Transition -&gt; Binding -&gt; Marking xs </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-25.2">
              <div id="_8b128f55-b367-4a28-b195-35725a518ceb">
<p id="section-b.1.5-25.2.1">Transition to a new marking<a href="#section-b.1.5-25.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_8f22e359-e901-4394-a24f-b5113e6671f8">
<dl class="dlNewline" id="section-b.1.5-26">
            <dt id="section-b.1.5-26.1">(|&gt;) : a -&gt; (a -&gt; b) -&gt; b </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.5-26.2">
              <div id="_d6f0bcc1-fd7b-40a5-afaf-a6784e1f40b3">
<p id="section-b.1.5-26.2.1">Chain functions on the opposite direction of `$'.<a href="#section-b.1.5-26.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_0392ae3f-85d1-4916-a5b2-9374eb7b5e56">
<p id="section-b.1.5-26.2.2">Fixity: Left associative, precedence 0<a href="#section-b.1.5-26.2.2" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_computeratespecifying_transform">
<section id="section-b.1.6">
          <h3 id="name-module-computeratespecifyingtr">
<a href="#section-b.1.6" class="section-number selfRef">B.1.6. </a><a href="#name-module-computeratespecifyingtr" class="section-name selfRef">Module ComputerateSpecifying.Transform</a>
          </h3>
<div id="_f07f3c86-f72f-42c9-ae69-12800a1516b3">
<p id="section-b.1.6-1">A module to transform values structured as trees, with specialization to transform types via elaboration.<a href="#section-b.1.6-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_8e59cca7-5a45-4a27-b2e5-24d06f9e71bf">
<dl class="dlNewline" id="section-b.1.6-2">
            <dt id="section-b.1.6-2.1">data Path : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.6-2.2">
              <div id="_02c4031a-35b4-42a9-a255-a2c95d1f408d">
<p id="section-b.1.6-2.2.1">A selection path<a href="#section-b.1.6-2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_17bd9e5c-208f-419b-a9dd-0eaaf456bb5d">
<dl class="dlNewline" id="section-b.1.6-3">
            <dt id="section-b.1.6-3.1">add : (tree : a) -&gt; (path : Path) -&gt; (added : b) -&gt; a </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.6-3.2">
              <div id="_d05f5bf2-ba58-4d7c-9408-2df9a70115e0">
<p id="section-b.1.6-3.2.1">Add a value as a sibling to values in a tree that are selected by a path.<a href="#section-b.1.6-3.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_24f2f4cf-adec-4253-8df4-74c79b45066e">
<dl class="dlParallel dlCompact" id="section-b.1.6-3.2.2">
                <dt id="section-b.1.6-3.2.2.1">tree: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-3.2.2.2">
                  <div id="_dcdea96f-f4b1-484b-8ca2-76b21c0854f5">
<p id="section-b.1.6-3.2.2.2.1">The tree to modify.<a href="#section-b.1.6-3.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.6-3.2.2.3">path: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-3.2.2.4">
                  <div id="_6032c865-e647-419e-9f81-efa101cc8a75">
<p id="section-b.1.6-3.2.2.4.1">The path used to select the values.<a href="#section-b.1.6-3.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.6-3.2.2.5">added: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-3.2.2.6">
                  <div id="_fbaca633-e11f-450d-a8c2-eab259d2202c">
<p id="section-b.1.6-3.2.2.6.1">The value to add<a href="#section-b.1.6-3.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_92cd1f5e-8c83-4b02-87e5-092409979aa0">
<dl class="dlNewline" id="section-b.1.6-4">
            <dt id="section-b.1.6-4.1">extendRegistry : (registry : String) -&gt; (codepoint : String) -&gt; (type : Decl) -&gt; IO (Provider ()) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.6-4.2">
              <div id="_d03bdf26-b0c6-4c99-9d80-fa7c03fd5e31">
<p id="section-b.1.6-4.2.1">Add a binding between a codepoint and a type in an extended registry<a href="#section-b.1.6-4.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_7480d58e-5ba4-4edd-b1cf-a1dbf2e4f402">
<dl class="dlParallel dlCompact" id="section-b.1.6-4.2.2">
                <dt id="section-b.1.6-4.2.2.1">registry: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-4.2.2.2">
                  <div id="_99cf88f0-4459-454c-a9db-dfef0be2cffe">
<p id="section-b.1.6-4.2.2.2.1">The registry that needs to be extended.<a href="#section-b.1.6-4.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.6-4.2.2.3">codepoint: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-4.2.2.4">
                  <div id="_ad761b37-2f51-4282-828b-94db11088803">
<p id="section-b.1.6-4.2.2.4.1">The codepoint to bind the type to.<a href="#section-b.1.6-4.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.6-4.2.2.5">type: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-4.2.2.6">
                  <div id="_50774963-a6f3-4232-bf48-a4d886d71759">
<p id="section-b.1.6-4.2.2.6.1">The type associated with the codepoint<a href="#section-b.1.6-4.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_4f0ca1d5-c4ee-4d4a-8813-a6274ca8187f">
<dl class="dlNewline" id="section-b.1.6-5">
            <dt id="section-b.1.6-5.1">registry : (registry : String) -&gt; IO (Provider (List (String, Decl))) </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.6-5.2">
              <div id="_2fea02ed-958b-418a-814b-672987bf1546">
<p id="section-b.1.6-5.2.1">Retrieve an extended registry content, as a list of tuples made of a codepoint and a type.<a href="#section-b.1.6-5.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_1a6e9d7c-a8bd-4fa1-a73e-eb3eff8ddc61">
<dl class="dlParallel dlCompact" id="section-b.1.6-5.2.2">
                <dt id="section-b.1.6-5.2.2.1">registry: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-5.2.2.2">
                  <div id="_719296db-02bf-4cc0-b3ae-8b957fbfbc97">
<p id="section-b.1.6-5.2.2.2.1">The registry to retrieve.<a href="#section-b.1.6-5.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_6c0fc514-fd27-4d1e-9dcb-a359a54bd084">
<dl class="dlNewline" id="section-b.1.6-6">
            <dt id="section-b.1.6-6.1">remove : (tree : a) -&gt; (path : Path) -&gt; a </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.6-6.2">
              <div id="_60444a50-9223-4946-8011-b2c0c0738b41">
<p id="section-b.1.6-6.2.1">Remove the values in a tree as selected by a path.<a href="#section-b.1.6-6.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_d4696820-ac60-42f0-b9fd-5e6d5ee2bcd6">
<dl class="dlParallel dlCompact" id="section-b.1.6-6.2.2">
                <dt id="section-b.1.6-6.2.2.1">tree: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-6.2.2.2">
                  <div id="_828eb927-1c4a-4669-b693-779385bcda01">
<p id="section-b.1.6-6.2.2.2.1">The tree to modify.<a href="#section-b.1.6-6.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.6-6.2.2.3">path: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-6.2.2.4">
                  <div id="_22320244-c7c0-439b-9074-a8a1e683d8a1">
<p id="section-b.1.6-6.2.2.4.1">The path used to select the values.<a href="#section-b.1.6-6.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_1a237fb1-01f0-41f9-8d66-845ec33e0334">
<dl class="dlNewline" id="section-b.1.6-7">
            <dt id="section-b.1.6-7.1">replace : (tree : a) -&gt; (path : Path) -&gt; (replacement : b) -&gt; a </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.6-7.2">
              <div id="_b03a1491-873c-4e69-befc-4e43390f4fff">
<p id="section-b.1.6-7.2.1">Replace values selected by a path on a tree.<a href="#section-b.1.6-7.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_b5e3bfa2-be6e-4f76-a818-225e71124f44">
<dl class="dlParallel dlCompact" id="section-b.1.6-7.2.2">
                <dt id="section-b.1.6-7.2.2.1">tree: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-7.2.2.2">
                  <div id="_a34792f3-0682-46d0-a140-49699af7e7ab">
<p id="section-b.1.6-7.2.2.2.1">The tree to modify.<a href="#section-b.1.6-7.2.2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.6-7.2.2.3">path: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-7.2.2.4">
                  <div id="_e0213d54-d326-4839-90fc-c9b39b969dc0">
<p id="section-b.1.6-7.2.2.4.1">The path used to select the values.<a href="#section-b.1.6-7.2.2.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.1.6-7.2.2.5">replacement: </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.6-7.2.2.6">
                  <div id="_e7b7baea-a0e0-4615-9f4d-3185fc7f572b">
<p id="section-b.1.6-7.2.2.6.1">The value to used as replacement.<a href="#section-b.1.6-7.2.2.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_computeratespecifying_unsigned">
<section id="section-b.1.7">
          <h3 id="name-module-computeratespecifyingu">
<a href="#section-b.1.7" class="section-number selfRef">B.1.7. </a><a href="#name-module-computeratespecifyingu" class="section-name selfRef">Module ComputerateSpecifying.Unsigned</a>
          </h3>
<div id="_b2c0ad74-2e3a-42ff-a286-f77475940c69">
<p id="section-b.1.7-1">An unsigned number with a length.<a href="#section-b.1.7-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_636fe771-9dc0-425f-ad41-c001a3582875">
<dl class="dlNewline" id="section-b.1.7-2">
            <dt id="section-b.1.7-2.1">data Unsigned : (m : Nat) -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.1.7-2.2">
              <div id="_69eb41cf-71f6-4735-b4c4-61d925d5a504">
<p id="section-b.1.7-2.2.1">An unsigned integer is just a wrapper around a bit-vector of the same size.<a href="#section-b.1.7-2.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_08ef7d06-4ca8-499e-a375-c030f1f30ada">
<p id="section-b.1.7-2.2.2">For sanity sake, this type always assumes that the value of a bit is 2 ^ m - 1, with m the size of the unsigned int.
In other words the first bit is the MSB, the last bit (the closer to Nil) is the LSB.<a href="#section-b.1.7-2.2.2" class="pilcrow">¶</a></p>
</div>
<div id="_1d24c4f0-2501-4315-bd81-3f2352270b8c">
<p id="section-b.1.7-2.2.3">Implements Num, Integral, Eq, Ord, Size.<a href="#section-b.1.7-2.2.3" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_6cc90514-00be-431c-8884-d0f8fb434740">
<dl class="dlNewline" id="section-b.1.7-2.2.4">
                <dt id="section-b.1.7-2.2.4.1">MkUnsigned : BitVector m -&gt; Unsigned m </dt>
                <dd style="margin-left: 1.5em" id="section-b.1.7-2.2.4.2">
                  <div id="_1089d80c-6117-467d-87f4-3cbfdd14c23f">
<p id="section-b.1.7-2.2.4.2.1"></p>
</div><a href="#section-b.1.7-2.2.4.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
</section>
</div>
<div id="_package_rfc5234">
<section id="section-b.2">
        <h2 id="name-package-rfc5234">
<a href="#section-b.2" class="section-number selfRef">B.2. </a><a href="#name-package-rfc5234" class="section-name selfRef">Package rfc5234</a>
        </h2>
<span class="break"></span><div id="_ec0f609b-85ee-43b3-9e62-869075d9818f">
<dl class="dlParallel dlCompact" id="section-b.2-1">
          <dt id="section-b.2-1.1">Version: </dt>
          <dd style="margin-left: 1.5em" id="section-b.2-1.2">
            <div id="_1b9c6646-bdec-49c9-8195-375b02af4ee7">
<p id="section-b.2-1.2.1">0.1<a href="#section-b.2-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-b.2-1.3">Author(s): </dt>
          <dd style="margin-left: 1.5em" id="section-b.2-1.4">
            <div id="_43797f1a-ccdb-4fe6-a05e-855172ec9962">
<p id="section-b.2-1.4.1">Marc Petit-Huguenin<a href="#section-b.2-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
</dl>
</div>
<div id="_module_rfc5234_core">
<section id="section-b.2.1">
          <h3 id="name-module-rfc5234core">
<a href="#section-b.2.1" class="section-number selfRef">B.2.1. </a><a href="#name-module-rfc5234core" class="section-name selfRef">Module RFC5234.Core</a>
          </h3>
<div id="_64030943-3a79-408c-82db-e0415655af34">
<p id="section-b.2.1-1">The ABNF Core rules.<a href="#section-b.2.1-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_a1b65c25-3730-44cc-bacd-d92b78642a0b">
<dl class="dlNewline" id="section-b.2.1-2">
            <dt id="section-b.2.1-2.1">alpha : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-2.2">
              <div id="_a0142cac-bb35-4525-a7f0-94a30bc053f0">
<p id="section-b.2.1-2.2.1">An ASCII alphabetic character.<a href="#section-b.2.1-2.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_9ccede07-6744-4774-ae26-2b1d54dd7d35">
<dl class="dlNewline" id="section-b.2.1-3">
            <dt id="section-b.2.1-3.1">bit : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-3.2">
              <div id="_f163dfeb-2659-41f4-be6e-ef37498892f4">
<p id="section-b.2.1-3.2.1">A "0" or "1" ASCII character.<a href="#section-b.2.1-3.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_eda76869-eab7-45c9-bf20-65bee9021589">
<dl class="dlNewline" id="section-b.2.1-4">
            <dt id="section-b.2.1-4.1">char : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-4.2">
              <div id="_7124cfc9-eed7-415c-8d0e-5d46b6be54af">
<p id="section-b.2.1-4.2.1">Any ASCII character, starting at SOH and ending at DEL.<a href="#section-b.2.1-4.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_091386ee-7d49-439e-966d-265eca0ea9e9">
<dl class="dlNewline" id="section-b.2.1-5">
            <dt id="section-b.2.1-5.1">cr : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-5.2">
              <div id="_3deaa29e-7e87-4414-bf56-97943ed41b0e">
<p id="section-b.2.1-5.2.1">A Carriage Return ASCII character.<a href="#section-b.2.1-5.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_b61894d6-306a-4132-88b7-cdb903258fda">
<dl class="dlNewline" id="section-b.2.1-6">
            <dt id="section-b.2.1-6.1">crlf : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-6.2">
              <div id="_d03cfe4c-5903-4a49-949a-e7253586f974">
<p id="section-b.2.1-6.2.1">A Carriage Return ASCII character, followed by the Line Feed ASCII character.<a href="#section-b.2.1-6.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_35a18fac-b82e-41e2-8da6-2a635956f921">
<dl class="dlNewline" id="section-b.2.1-7">
            <dt id="section-b.2.1-7.1">ctl : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-7.2">
              <div id="_a87f0039-47c9-40f6-8afb-546817b17f2f">
<p id="section-b.2.1-7.2.1">Any ASCII control character.<a href="#section-b.2.1-7.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_9ad40408-bbc3-4f1d-bdf6-169b5d1858a3">
<dl class="dlNewline" id="section-b.2.1-8">
            <dt id="section-b.2.1-8.1">digit : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-8.2">
              <div id="_0f5e5c45-ac1f-4cf7-a8a1-28e2341bc914">
<p id="section-b.2.1-8.2.1">Any ASCII digit.<a href="#section-b.2.1-8.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_9bbbae7a-aa2a-466d-95e9-a11b38c22e24">
<dl class="dlNewline" id="section-b.2.1-9">
            <dt id="section-b.2.1-9.1">dquote : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-9.2">
              <div id="_b6dcb7f6-0527-4424-b1e5-ef09927a8475">
<p id="section-b.2.1-9.2.1">A double-quote ASCII character.<a href="#section-b.2.1-9.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_01eaedc7-4b74-41ec-b58b-c77634f28d2a">
<dl class="dlNewline" id="section-b.2.1-10">
            <dt id="section-b.2.1-10.1">hexdig : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-10.2">
              <div id="_b868eb7e-e655-41ca-a75c-9162d04cb48e">
<p id="section-b.2.1-10.2.1">Any hexadecimal ASCII character, in lower and upper case.<a href="#section-b.2.1-10.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_f3d03bec-5ab8-4219-a71e-a5ec01d5ea1f">
<dl class="dlNewline" id="section-b.2.1-11">
            <dt id="section-b.2.1-11.1">htab : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-11.2">
              <div id="_8f28d6bb-d97d-40e8-80c2-e11f33eadc6a">
<p id="section-b.2.1-11.2.1">A Horizontal Tab ASCII character.<a href="#section-b.2.1-11.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_3dc07ff2-cc27-45d9-87d2-53dd14ff7543">
<dl class="dlNewline" id="section-b.2.1-12">
            <dt id="section-b.2.1-12.1">lf : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-12.2">
              <div id="_cf3fae61-e859-4a05-867e-ca756c483d5d">
<p id="section-b.2.1-12.2.1">A Line Feed ASCII character.<a href="#section-b.2.1-12.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_6a7952fa-c573-4824-9ddd-824dff57089c">
<dl class="dlNewline" id="section-b.2.1-13">
            <dt id="section-b.2.1-13.1">lwsp : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-13.2">
              <div id="_d345980f-e4ba-4343-9009-2eea84abbc7b">
<p id="section-b.2.1-13.2.1">A potentially empty string of space, horizontal tab, or line terminators, that last one followed by a space or horizontal tab.<a href="#section-b.2.1-13.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_059f9cd9-fa92-43ba-a5c3-93276ee2d2c6">
<dl class="dlNewline" id="section-b.2.1-14">
            <dt id="section-b.2.1-14.1">octet : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-14.2">
              <div id="_d810173b-7843-4c27-b00e-769523ca7039">
<p id="section-b.2.1-14.2.1">A 8-bit value.<a href="#section-b.2.1-14.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_b47db566-dcb7-4b2f-8837-ab695411a445">
<dl class="dlNewline" id="section-b.2.1-15">
            <dt id="section-b.2.1-15.1">sp : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-15.2">
              <div id="_70f26549-60c1-4a91-abb3-c0d67ef3be42">
<p id="section-b.2.1-15.2.1">An ASCII space.<a href="#section-b.2.1-15.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_71828c47-2d86-45b1-9784-83f153a7cc07">
<dl class="dlNewline" id="section-b.2.1-16">
            <dt id="section-b.2.1-16.1">vchar : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-16.2">
              <div id="_62125058-19b8-48ba-817d-16f0f015c41a">
<p id="section-b.2.1-16.2.1">A printable ASCII character.<a href="#section-b.2.1-16.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_46d9727a-60e4-4d0f-ac31-5fe09a869b3a">
<dl class="dlNewline" id="section-b.2.1-17">
            <dt id="section-b.2.1-17.1">wsp : Rule </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.1-17.2">
              <div id="_f07479d1-dcaf-4245-9108-cc24ead9be57">
<p id="section-b.2.1-17.2.1">A potentially empty string of space, or horizontal tab.<a href="#section-b.2.1-17.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_rfc5234_main">
<section id="section-b.2.2">
          <h3 id="name-module-rfc5234main">
<a href="#section-b.2.2" class="section-number selfRef">B.2.2. </a><a href="#name-module-rfc5234main" class="section-name selfRef">Module RFC5234.Main</a>
          </h3>
<div id="_72769094-c09e-4589-be38-7aebd6e94014">
<p id="section-b.2.2-1">A module to generate a valid ABNF.<a href="#section-b.2.2-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_1f25e7b6-0f36-4931-99ff-7403b9e31748">
<dl class="dlNewline" id="section-b.2.2-2">
            <dt id="section-b.2.2-2.1">data Form : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.2-2.2">
              <div id="_16fea499-e03e-4502-a637-30d8acd5faab">
<p id="section-b.2.2-2.2.1"></p>
</div>
<div id="_23fedff2-f15b-48ab-bc47-9b930bc8765b">
<p id="section-b.2.2-2.2.2">Implements Show.<a href="#section-b.2.2-2.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_5030a9bb-c85f-42fd-9ae7-082afa246ef1">
<dl class="dlNewline" id="section-b.2.2-2.2.3">
                <dt id="section-b.2.2-2.2.3.1">TermName : String -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.2">
                  <div id="_612ebce4-8aa8-48cc-8fe7-14db596c837e">
<p id="section-b.2.2-2.2.3.2.1"></p>
</div><a href="#section-b.2.2-2.2.3.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.3">TermHex : Int -&gt; List Int -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.4">
                  <div id="_0f5cc2ec-5f53-42d2-9acc-ef4e37813bc2">
<p id="section-b.2.2-2.2.3.4.1"></p>
</div><a href="#section-b.2.2-2.2.3.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.5">TermDec : Int -&gt; List Int -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.6">
                  <div id="_b0b19938-3f8a-4858-a825-c9d1ca641963">
<p id="section-b.2.2-2.2.3.6.1"></p>
</div><a href="#section-b.2.2-2.2.3.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.7">TermBin : Int -&gt; List Int -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.8">
                  <div id="_47e07214-6e04-4621-a5ff-0ce54af3f315">
<p id="section-b.2.2-2.2.3.8.1"></p>
</div><a href="#section-b.2.2-2.2.3.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.9">TermString : String -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.10">
                  <div id="_4305f5ea-2d3a-49b5-b6ea-bb7465fb4baf">
<p id="section-b.2.2-2.2.3.10.1"></p>
</div><a href="#section-b.2.2-2.2.3.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.11">Concat : Form -&gt; Form -&gt; List Form -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.12">
                  <div id="_ac9341d5-2220-4980-bad5-746a65547bbd">
<p id="section-b.2.2-2.2.3.12.1"></p>
</div><a href="#section-b.2.2-2.2.3.12" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.13">Altern : Form -&gt; Form -&gt; List Form -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.14">
                  <div id="_93a483eb-a515-4879-bfd0-0c21599e5e09">
<p id="section-b.2.2-2.2.3.14.1"></p>
</div><a href="#section-b.2.2-2.2.3.14" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.15">TermHexRange : Int -&gt; Int -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.16">
                  <div id="_bd0ac41b-9054-4563-9bc4-0930209a08c2">
<p id="section-b.2.2-2.2.3.16.1"></p>
</div><a href="#section-b.2.2-2.2.3.16" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.17">TermDecRange : Int -&gt; Int -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.18">
                  <div id="_953b6a23-4d34-40a1-8737-1a245d657df6">
<p id="section-b.2.2-2.2.3.18.1"></p>
</div><a href="#section-b.2.2-2.2.3.18" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.19">TermBinRange : Int -&gt; Int -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.20">
                  <div id="_63297d13-3a59-40b6-80ee-5c1243d27dfa">
<p id="section-b.2.2-2.2.3.20.1"></p>
</div><a href="#section-b.2.2-2.2.3.20" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.21">Group : Form -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.22">
                  <div id="_4bdc7f1c-aab5-49f8-916a-d671fd3eda9c">
<p id="section-b.2.2-2.2.3.22.1"></p>
</div><a href="#section-b.2.2-2.2.3.22" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.23">Repeat : Maybe Int -&gt; Maybe Int -&gt; Form -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.24">
                  <div id="_a156996b-864c-4a7c-b36a-69936bb7328d">
<p id="section-b.2.2-2.2.3.24.1"></p>
</div><a href="#section-b.2.2-2.2.3.24" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-2.2.3.25">Optional : Form -&gt; Form </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-2.2.3.26">
                  <div id="_667fe75c-431d-4a28-97a9-a6a881f27665">
<p id="section-b.2.2-2.2.3.26.1"></p>
</div><a href="#section-b.2.2-2.2.3.26" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_5732cf6f-a333-402c-9e44-aae52864e1ef">
<dl class="dlNewline" id="section-b.2.2-3">
            <dt id="section-b.2.2-3.1">data Rule : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.2-3.2">
              <div id="_d89e5e6a-fc6a-4aae-969b-6d504c668155">
<p id="section-b.2.2-3.2.1">An ABNF rule.<a href="#section-b.2.2-3.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_75634a75-d764-49ec-99a7-dcd1145cb5ea">
<p id="section-b.2.2-3.2.2">Implements Show.<a href="#section-b.2.2-3.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_5777adeb-69e1-453e-b5a2-de61c8fe62a1">
<dl class="dlNewline" id="section-b.2.2-3.2.3">
                <dt id="section-b.2.2-3.2.3.1">Eq : (name : String) -&gt; (form : Form) -&gt; Rule </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-3.2.3.2">
                  <div id="_a879db9f-165d-4875-8a73-2c87c0cbb833">
<p id="section-b.2.2-3.2.3.2.1">Construct a rule.<a href="#section-b.2.2-3.2.3.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.2.2-3.2.3.3">Inc : String -&gt; Form -&gt; Rule </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-3.2.3.4">
                  <div id="_9b93eeb1-c896-4bbd-b3a9-1bad76c6cb0d">
<p id="section-b.2.2-3.2.3.4.1">Construct an incremental rule.<a href="#section-b.2.2-3.2.3.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_07486e58-2fe8-43c9-815f-69ee00cc673c">
<dl class="dlNewline" id="section-b.2.2-4">
            <dt id="section-b.2.2-4.1">data Syntax : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.2.2-4.2">
              <div id="_acd5ff06-40dc-4c8e-adcd-6787d4217bc3">
<p id="section-b.2.2-4.2.1">A list of rules.<a href="#section-b.2.2-4.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_dcc3d388-82e8-4de9-9111-712251261e07">
<p id="section-b.2.2-4.2.2">Implements Show.<a href="#section-b.2.2-4.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_57468fc7-ad08-438c-96c9-f39077a91a55">
<dl class="dlNewline" id="section-b.2.2-4.2.3">
                <dt id="section-b.2.2-4.2.3.1">MkSyntax : List Rule -&gt; Syntax </dt>
                <dd style="margin-left: 1.5em" id="section-b.2.2-4.2.3.2">
                  <div id="_67971804-faef-4177-8540-d4427b83cf0f">
<p id="section-b.2.2-4.2.3.2.1"></p>
</div><a href="#section-b.2.2-4.2.3.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
</section>
</div>
<div id="_package_augmented_ascii_diagrams">
<section id="section-b.3">
        <h2 id="name-package-augmented-ascii-dia">
<a href="#section-b.3" class="section-number selfRef">B.3. </a><a href="#name-package-augmented-ascii-dia" class="section-name selfRef">Package augmented-ascii-diagrams</a>
        </h2>
<span class="break"></span><div id="_c695e10b-227c-4b69-9474-ed486a4e88d3">
<dl class="dlParallel dlCompact" id="section-b.3-1">
          <dt id="section-b.3-1.1">Version: </dt>
          <dd style="margin-left: 1.5em" id="section-b.3-1.2">
            <div id="_90d61768-c625-4fb2-a58a-a0b04ce570f6">
<p id="section-b.3-1.2.1">0.1<a href="#section-b.3-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-b.3-1.3">Author(s): </dt>
          <dd style="margin-left: 1.5em" id="section-b.3-1.4">
            <div id="_d121387a-bf5c-4f8d-b2c9-f6465694fbee">
<p id="section-b.3-1.4.1">Marc Petit-Huguenin<a href="#section-b.3-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-b.3-1.5">Dependencies: </dt>
          <dd style="margin-left: 1.5em" id="section-b.3-1.6">
            <div id="_23cdc5d2-bf90-45fc-9e9d-fc07f6cb8b91">
<p id="section-b.3-1.6.1">rfc5234<a href="#section-b.3-1.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
</dl>
</div>
<div id="_module_aad_main">
<section id="section-b.3.1">
          <h3 id="name-module-aadmain">
<a href="#section-b.3.1" class="section-number selfRef">B.3.1. </a><a href="#name-module-aadmain" class="section-name selfRef">Module AAD.Main</a>
          </h3>
<div id="_85182df9-f930-46a3-a79c-3f6bc240a388">
<p id="section-b.3.1-1">A module to generate augmented packet header diagrams.<a href="#section-b.3.1-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_005cad44-d36c-4229-b600-54fc7f2f2e9c">
<dl class="dlNewline" id="section-b.3.1-2">
            <dt id="section-b.3.1-2.1">data BoolExpr : List Name -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.3.1-2.2">
              <div id="_8c5ec78f-b450-4339-83a5-75f9f017383c">
<p id="section-b.3.1-2.2.1">A boolean expression<a href="#section-b.3.1-2.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_63015f3b-b694-4b3d-ad71-cfd9beefccca">
<p id="section-b.3.1-2.2.2">Implements ShowPrec, Show.<a href="#section-b.3.1-2.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_24cd258a-8eba-4b30-81bb-ea0d77e93621">
<dl class="dlNewline" id="section-b.3.1-2.2.3">
                <dt id="section-b.3.1-2.2.3.1">Equ : Expr xs -&gt; Expr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.2">
                  <div id="_fef272f6-bb70-42f8-8576-c2ea06c19ee1">
<p id="section-b.3.1-2.2.3.2.1"></p>
</div><a href="#section-b.3.1-2.2.3.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.3">Neq : Expr xs -&gt; Expr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.4">
                  <div id="_d9f41051-aede-4161-8d6b-f7f35e528334">
<p id="section-b.3.1-2.2.3.4.1"></p>
</div><a href="#section-b.3.1-2.2.3.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.5">Gt : Expr xs -&gt; Expr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.6">
                  <div id="_2ca907bd-99f0-41ab-a23f-649845f4d82a">
<p id="section-b.3.1-2.2.3.6.1"></p>
</div><a href="#section-b.3.1-2.2.3.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.7">Gte : Expr xs -&gt; Expr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.8">
                  <div id="_0b97a750-8811-4ce9-984c-65e4b76cbcf6">
<p id="section-b.3.1-2.2.3.8.1"></p>
</div><a href="#section-b.3.1-2.2.3.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.9">Lt : Expr xs -&gt; Expr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.10">
                  <div id="_8e338274-1eb2-4d7a-87b2-bfd0581bf687">
<p id="section-b.3.1-2.2.3.10.1"></p>
</div><a href="#section-b.3.1-2.2.3.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.11">Lte : Expr xs -&gt; Expr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.12">
                  <div id="_1a91440a-8364-429c-9bb5-ef30500fd0d3">
<p id="section-b.3.1-2.2.3.12.1"></p>
</div><a href="#section-b.3.1-2.2.3.12" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.13">And : BoolExpr xs -&gt; BoolExpr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.14">
                  <div id="_9f9620fd-d102-4623-a532-396e7f8c3554">
<p id="section-b.3.1-2.2.3.14.1"></p>
</div><a href="#section-b.3.1-2.2.3.14" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.15">Or : BoolExpr xs -&gt; BoolExpr ys -&gt; BoolExpr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.16">
                  <div id="_b6c33f04-dc01-4536-a0f2-ecca7cf06815">
<p id="section-b.3.1-2.2.3.16.1"></p>
</div><a href="#section-b.3.1-2.2.3.16" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-2.2.3.17">Not : BoolExpr xs -&gt; BoolExpr xs </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-2.2.3.18">
                  <div id="_f804716b-dc78-4521-9fd8-cdbfe0e1a24f">
<p id="section-b.3.1-2.2.3.18.1"></p>
</div><a href="#section-b.3.1-2.2.3.18" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_a1a43a08-0195-4a86-aace-11a6900e8ced">
<dl class="dlNewline" id="section-b.3.1-3">
            <dt id="section-b.3.1-3.1">data Expr : List Name -&gt; Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.3.1-3.2">
              <div id="_fd159b22-f048-42c6-a670-32b02d389de8">
<p id="section-b.3.1-3.2.1">An expression<a href="#section-b.3.1-3.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_055b835d-a701-42df-aa5b-f485500f8219">
<p id="section-b.3.1-3.2.2">Implements ShowPrec, Show.<a href="#section-b.3.1-3.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_53c9bf09-5b99-4649-9325-679daf7d0657">
<dl class="dlNewline" id="section-b.3.1-3.2.3">
                <dt id="section-b.3.1-3.2.3.1">Val : Nat -&gt; Expr [] </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.2">
                  <div id="_fcbf2aa9-6a57-439e-b8f4-abbeb620eb3d">
<p id="section-b.3.1-3.2.3.2.1"></p>
</div><a href="#section-b.3.1-3.2.3.2" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.3">Var : (n : Name) -&gt; Expr [n] </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.4">
                  <div id="_255e6c82-ecc6-4b96-b0ba-d6624f962587">
<p id="section-b.3.1-3.2.3.4.1"></p>
</div><a href="#section-b.3.1-3.2.3.4" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.5">Mul : Expr xs -&gt; Expr ys -&gt; Expr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.6">
                  <div id="_3c52570e-1644-41d7-9c8e-ea91ce935aba">
<p id="section-b.3.1-3.2.3.6.1"></p>
</div><a href="#section-b.3.1-3.2.3.6" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.7">Div : Expr xs -&gt; Expr ys -&gt; Expr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.8">
                  <div id="_644114d3-9b59-45b1-9d1c-973846a0af5e">
<p id="section-b.3.1-3.2.3.8.1"></p>
</div><a href="#section-b.3.1-3.2.3.8" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.9">Mod : Expr xs -&gt; Expr ys -&gt; Expr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.10">
                  <div id="_cb819fa5-a2a0-4bc4-bb92-014139a4bae9">
<p id="section-b.3.1-3.2.3.10.1"></p>
</div><a href="#section-b.3.1-3.2.3.10" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.11">Exp : Expr xs -&gt; Expr ys -&gt; Expr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.12">
                  <div id="_d1373002-f3d0-48e6-b182-62cdb1c241a0">
<p id="section-b.3.1-3.2.3.12.1"></p>
</div><a href="#section-b.3.1-3.2.3.12" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.13">Add : Expr xs -&gt; Expr ys -&gt; Expr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.14">
                  <div id="_27f87f4e-0ed5-4c38-82c2-c723b0eb94db">
<p id="section-b.3.1-3.2.3.14.1"></p>
</div><a href="#section-b.3.1-3.2.3.14" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.15">Sub : Expr xs -&gt; Expr ys -&gt; Expr (xs ++ ys) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.16">
                  <div id="_9085d5de-1624-4397-ae19-9a4a38535167">
<p id="section-b.3.1-3.2.3.16.1"></p>
</div><a href="#section-b.3.1-3.2.3.16" class="pilcrow">¶</a>
</dd>
                <dd class="break"></dd>
<dt id="section-b.3.1-3.2.3.17">ITE : BoolExpr xs -&gt; Expr ys -&gt; Expr zs -&gt; Expr (xs ++ ys ++ zs) </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-3.2.3.18">
                  <div id="_59862d1c-1e1b-4c1e-8436-913bc8412e45">
<p id="section-b.3.1-3.2.3.18.1"></p>
</div><a href="#section-b.3.1-3.2.3.18" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_4ab4c716-77ed-4678-8be7-d231092e98b8">
<dl class="dlNewline" id="section-b.3.1-4">
            <dt id="section-b.3.1-4.1">data Name : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.3.1-4.2">
              <div id="_4f1d29f8-cff9-454d-b968-f4627d6339ff">
<p id="section-b.3.1-4.2.1">A name<a href="#section-b.3.1-4.2.1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_72b87825-bca4-43b2-91e7-83f1436f2e29">
<dl class="dlNewline" id="section-b.3.1-4.2.2">
                <dt id="section-b.3.1-4.2.2.1">MkName : Maybe String -&gt; String -&gt; Name </dt>
                <dd style="margin-left: 1.5em" id="section-b.3.1-4.2.2.2">
                  <div id="_43286217-1fac-4eaa-a4f9-dcca39418f18">
<p id="section-b.3.1-4.2.2.2.1"></p>
</div><a href="#section-b.3.1-4.2.2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
</section>
</div>
<div id="_package_rfc791">
<section id="section-b.4">
        <h2 id="name-package-rfc791">
<a href="#section-b.4" class="section-number selfRef">B.4. </a><a href="#name-package-rfc791" class="section-name selfRef">Package rfc791</a>
        </h2>
<span class="break"></span><div id="_7223c297-4fdc-4197-919b-75035f1a5919">
<dl class="dlParallel dlCompact" id="section-b.4-1">
          <dt id="section-b.4-1.1">Version: </dt>
          <dd style="margin-left: 1.5em" id="section-b.4-1.2">
            <div id="_b5fb3251-6897-49f4-8c5f-1d71c243f77c">
<p id="section-b.4-1.2.1">0.1<a href="#section-b.4-1.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-b.4-1.3">Author(s): </dt>
          <dd style="margin-left: 1.5em" id="section-b.4-1.4">
            <div id="_07e714ce-cf8c-4218-9467-d7d5b9abba9c">
<p id="section-b.4-1.4.1">Marc Petit-Huguenin<a href="#section-b.4-1.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
          <dd class="break"></dd>
<dt id="section-b.4-1.5">Dependencies: </dt>
          <dd style="margin-left: 1.5em" id="section-b.4-1.6">
            <div id="_faf5815e-878a-4233-8cf9-2ba4ea578a9e">
<p id="section-b.4-1.6.1">computerate-specifying<a href="#section-b.4-1.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
        <dd class="break"></dd>
</dl>
</div>
<div id="_module_rfc791_address">
<section id="section-b.4.1">
          <h3 id="name-module-rfc791address">
<a href="#section-b.4.1" class="section-number selfRef">B.4.1. </a><a href="#name-module-rfc791address" class="section-name selfRef">Module RFC791.Address</a>
          </h3>
<div id="_0cfb3f05-4b57-4382-b39e-56c979505ea5">
<p id="section-b.4.1-1">This module provides types for Internet Protocol Address.<a href="#section-b.4.1-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_e9e2aab9-67ec-4946-8370-9f7fe15453ad">
<dl class="dlNewline" id="section-b.4.1-2">
            <dt id="section-b.4.1-2.1">data IP : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.4.1-2.2">
              <div id="_e80be54e-166f-457f-a6ef-2473edf50f1c">
<p id="section-b.4.1-2.2.1">An IP address.<a href="#section-b.4.1-2.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_fc2d0b6d-c446-4e92-b42f-36cafe4964ab">
<p id="section-b.4.1-2.2.2">Implements Size.<a href="#section-b.4.1-2.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_3f91c050-b49a-496c-9cf9-577b3d0ccc2f">
<dl class="dlNewline" id="section-b.4.1-2.2.3">
                <dt id="section-b.4.1-2.2.3.1">A : (h : BitVector 1) -&gt; h = [O] =&gt; (net : BitVector 7) -&gt; (host : BitVector 24) -&gt; IP </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.1-2.2.3.2">
                  <div id="_5afd4e0c-075e-4c76-bb83-add6e0be9207">
<p id="section-b.4.1-2.2.3.2.1">A class A address.<a href="#section-b.4.1-2.2.3.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.4.1-2.2.3.3">B : (h : BitVector 2) -&gt; h = [I, O] =&gt; (net : BitVector 14) -&gt; (host : BitVector 16) -&gt; IP </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.1-2.2.3.4">
                  <div id="_6b0d1d95-39e7-4fe4-9dcc-4257ccf79534">
<p id="section-b.4.1-2.2.3.4.1">A class B address.<a href="#section-b.4.1-2.2.3.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.4.1-2.2.3.5">C : (h : BitVector 3) -&gt; h = [I, I, O] =&gt; (net : BitVector 21) -&gt; (host : BitVector 8) -&gt; IP </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.1-2.2.3.6">
                  <div id="_ca33c09a-814a-42d2-a037-aee19e86ffd0">
<p id="section-b.4.1-2.2.3.6.1">A class C address.<a href="#section-b.4.1-2.2.3.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
<div id="_module_rfc791_ip">
<section id="section-b.4.2">
          <h3 id="name-module-rfc791ip">
<a href="#section-b.4.2" class="section-number selfRef">B.4.2. </a><a href="#name-module-rfc791ip" class="section-name selfRef">Module RFC791.IP</a>
          </h3>
<div id="_951558a4-4e56-402d-9302-6fb79e894510">
<p id="section-b.4.2-1">Types for the Internet Protocol.<a href="#section-b.4.2-1" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_5f85f3ee-40f5-4ace-b05b-223e60edb3ce">
<dl class="dlNewline" id="section-b.4.2-2">
            <dt id="section-b.4.2-2.1">data Flags : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.4.2-2.2">
              <div id="_febc8ecb-4a58-4038-a489-572afe4c5c36">
<p id="section-b.4.2-2.2.1">Flags.<a href="#section-b.4.2-2.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_f1a109b0-4509-45bb-a3ad-8d9d83188a5d">
<p id="section-b.4.2-2.2.2">Implements Size.<a href="#section-b.4.2-2.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_cdbc8b02-9283-4bd8-9667-4574ee09e028">
<dl class="dlNewline" id="section-b.4.2-2.2.3">
                <dt id="section-b.4.2-2.2.3.1">MkFlags : (reserved : BitVector 1) -&gt; reserved = bitVector =&gt; (df : BitVector 1) -&gt; (mf : BitVector 1) -&gt; Flags </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.2-2.2.3.2">
                  <div id="_50afc659-ccca-4909-8777-61c0a312ce16">
<p id="section-b.4.2-2.2.3.2.1"></p>
</div><a href="#section-b.4.2-2.2.3.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_5610441d-dc26-4dc5-887f-c19ed9c2e864">
<dl class="dlNewline" id="section-b.4.2-3">
            <dt id="section-b.4.2-3.1">data InternetHeader : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.4.2-3.2">
              <div id="_f035b1b1-0d32-4271-876f-019e1932d171">
<p id="section-b.4.2-3.2.1">Internet Protocol Header.<a href="#section-b.4.2-3.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_6fee9845-9ce8-4113-9a7f-dcd9a7c2976a">
<p id="section-b.4.2-3.2.2">Implements Size.<a href="#section-b.4.2-3.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_be051964-9025-4b49-b12f-34f033ddc842">
<dl class="dlNewline" id="section-b.4.2-3.2.3">
                <dt id="section-b.4.2-3.2.3.1">MkInternetHeader : (version : BitVector 4) -&gt; version = [O, I, O, O] =&gt; (ihl : (Unsigned 4, Data)) -&gt; snd ihl = tetra =&gt; (tos : Tos) -&gt; (length : (Unsigned 16, Data)) -&gt; snd length = wyde =&gt; (id : Unsigned 16) -&gt; (flags : Flags) -&gt; (offset : (Unsigned 13, Data)) -&gt; snd offset = octa =&gt; (ttl : (Unsigned 8, Time)) -&gt; snd ttl = second =&gt; (protocol : BitVector 16) -&gt; (checksum : BitVector 16) -&gt; (source : IP) -&gt; (dest : IP) -&gt; (options : List Option) -&gt; (padding : BitVector n) -&gt; InternetHeader </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.2-3.2.3.2">
                  <div id="_914855b8-245c-4fa1-b3be-a41a8b52cae2">
<p id="section-b.4.2-3.2.3.2.1"></p>
</div><a href="#section-b.4.2-3.2.3.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_ed8baf36-1e73-4752-bbdb-99354a7f168a">
<dl class="dlNewline" id="section-b.4.2-4">
            <dt id="section-b.4.2-4.1">data Option : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.4.2-4.2">
              <div id="_8a8950b4-8862-461e-9d54-1d7e7d436f56">
<p id="section-b.4.2-4.2.1">Internet Protocol Header Options.<a href="#section-b.4.2-4.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_349b9e71-ceb0-4e7f-bb4b-41126b624bd0">
<p id="section-b.4.2-4.2.2">Implements Size.<a href="#section-b.4.2-4.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_6c41e1c8-cf12-4150-bd5a-4735d714a8a2">
<dl class="dlNewline" id="section-b.4.2-4.2.3">
                <dt id="section-b.4.2-4.2.3.1">Eoo : (flag : BitVector 1) -&gt; flag = [O] =&gt; (class : BitVector 2) -&gt; class = [O, O] =&gt; (number : BitVector 5) -&gt; number = [O, O, O, O, O] =&gt; Option </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.2-4.2.3.2">
                  <div id="_171153a4-b99f-4b9d-86dc-2ca1799350fb">
<p id="section-b.4.2-4.2.3.2.1">End of Options.<a href="#section-b.4.2-4.2.3.2.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.4.2-4.2.3.3">Noop : (flag : BitVector 1) -&gt; flag = [O] =&gt; (class : BitVector 2) -&gt; class = [O, O] =&gt; (number : BitVector 5) -&gt; number = [O, O, O, I, O] =&gt; Option </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.2-4.2.3.4">
                  <div id="_ae938557-417c-4ee8-bf4c-ef802c9bd0c5">
<p id="section-b.4.2-4.2.3.4.1">No operation.<a href="#section-b.4.2-4.2.3.4.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.4.2-4.2.3.5">Security : (flag : BitVector 1) -&gt; flag = [I] =&gt; (class : BitVector 2) -&gt; class = [O, O] =&gt; (number : BitVector 5) -&gt; number = [O, O, O, I, O] =&gt; (length : Unsigned 8) -&gt; length = 11 =&gt; (s : BitVector 16) -&gt; (c : BitVector 16) -&gt; (h : BitVector 16) -&gt; (tcc : BitVector 24) -&gt; Option </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.2-4.2.3.6">
                  <div id="_70fae688-00d8-4f12-8982-e0c6c4641bc6">
<p id="section-b.4.2-4.2.3.6.1">Security Option.<a href="#section-b.4.2-4.2.3.6.1" class="pilcrow">¶</a></p>
</div>
</dd>
                <dd class="break"></dd>
<dt id="section-b.4.2-4.2.3.7">Lssr : (flag : BitVector 1) -&gt; flag = [I] =&gt; (class : BitVector 2) -&gt; class = [O, O] =&gt; (number : BitVector 5) -&gt; number = [O, O, O, I, I] =&gt; (length : Unsigned 8) -&gt; (pointer : Unsigned 8) -&gt; pointer &gt;= 4 = True =&gt; Option </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.2-4.2.3.8">
                  <div id="_314c90e8-0700-4375-b8ad-73f5404d5077">
<p id="section-b.4.2-4.2.3.8.1">Loose Source and Record Route Option.<a href="#section-b.4.2-4.2.3.8.1" class="pilcrow">¶</a></p>
</div>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_b5defb9f-efc6-4e05-865d-a0adbccfc018">
<dl class="dlNewline" id="section-b.4.2-5">
            <dt id="section-b.4.2-5.1">data Tos : Type </dt>
            <dd style="margin-left: 1.5em" id="section-b.4.2-5.2">
              <div id="_cfd83c36-a688-4ac5-9c1a-ad55b0618cbf">
<p id="section-b.4.2-5.2.1">Type of Service<a href="#section-b.4.2-5.2.1" class="pilcrow">¶</a></p>
</div>
<div id="_e00d07cb-df65-4505-9bf1-3da6002b94a1">
<p id="section-b.4.2-5.2.2">Implements Size.<a href="#section-b.4.2-5.2.2" class="pilcrow">¶</a></p>
</div>
<span class="break"></span><div id="_6610fe17-64f1-41ad-a6bf-d2a57c12472e">
<dl class="dlNewline" id="section-b.4.2-5.2.3">
                <dt id="section-b.4.2-5.2.3.1">MkTos : (precedence : Unsigned 3) -&gt; (delay : BitVector 1) -&gt; (throughput : BitVector 1) -&gt; (reliability : BitVector 1) -&gt; (reserved : BitVector 2) -&gt; reserved = bitVector =&gt; Tos </dt>
                <dd style="margin-left: 1.5em" id="section-b.4.2-5.2.3.2">
                  <div id="_6a91da0a-305e-4d32-b3f3-3d00d2d21534">
<p id="section-b.4.2-5.2.3.2.1"></p>
</div><a href="#section-b.4.2-5.2.3.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
</dl>
</div>
</dd>
          <dd class="break"></dd>
</dl>
</div>
<span class="break"></span><div id="_3dd5a007-b843-43f2-af2e-6e379d0b6ef5">
<dl class="dlNewline" id="section-b.4.2-6">
            <dt id="section-b.4.2-6.1">internetHeader : List Decl </dt>
            <dd style="margin-left: 1.5em" id="section-b.4.2-6.2">
              <div id="_477800eb-d791-49b1-a94c-53ec484338d0">
<p id="section-b.4.2-6.2.1"></p>
</div><a href="#section-b.4.2-6.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="errata">
<section id="section-appendix.c">
      <h2 id="name-errata-statistics">
<a href="#section-appendix.c" class="section-number selfRef">Appendix C. </a><a href="#name-errata-statistics" class="section-name selfRef">Errata Statistics</a>
      </h2>
<div id="_a52cb185-ab1c-4f1b-969c-faca3080ad10">
<p id="section-appendix.c-1">In an effort to quantify the potential benefits of using formal methods at the IETF, an effort to relabel the Errata database is under way.<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
</div>
<div id="_08da4914-7e99-42ef-a578-4471b4bd144a">
<p id="section-appendix.c-2">The relabeling uses the following labels:<a href="#section-appendix.c-2" class="pilcrow">¶</a></p>
</div>
<div id="_7b356571-712a-4757-b903-775ac24b17b9">
<table class="center" id="table-1">
        <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Label</th>
            <th class="text-left" rowspan="1" colspan="1">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">AAD</td>
            <td class="text-left" rowspan="1" colspan="1">Error in an ASCII bit diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ABNF</td>
            <td class="text-left" rowspan="1" colspan="1">Error in an ABNF</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Absent</td>
            <td class="text-left" rowspan="1" colspan="1">The errata was probably removed</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ASN.1</td>
            <td class="text-left" rowspan="1" colspan="1">Error in ASN.1</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">C</td>
            <td class="text-left" rowspan="1" colspan="1">Error in C code</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Diagram</td>
            <td class="text-left" rowspan="1" colspan="1">Error in a generic diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Example</td>
            <td class="text-left" rowspan="1" colspan="1">An example does not match the normative text</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Formula</td>
            <td class="text-left" rowspan="1" colspan="1">Error preventable by using Idris code</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">FSM</td>
            <td class="text-left" rowspan="1" colspan="1">Error in a State machine</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Ladder</td>
            <td class="text-left" rowspan="1" colspan="1">Error in a ladder diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Rejected</td>
            <td class="text-left" rowspan="1" colspan="1">The erratum was rejected</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Text</td>
            <td class="text-left" rowspan="1" colspan="1">Error in the text itself, no remedy</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">Error in the TLS language</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">XML</td>
            <td class="text-left" rowspan="1" colspan="1">Error in an XML Schema</td>
          </tr>
        </tbody>
      </table>
</div>
<div id="_a72eb29a-c97d-4ea8-9264-ff4c9fe58958">
<p id="section-appendix.c-4">At the time of publication the first 1600 errata, which represents 25.93% of the total, have been relabeled.
On these, 135 were rejected and 51 were deleted, leaving 1414 valid errata.<a href="#section-appendix.c-4" class="pilcrow">¶</a></p>
</div>
<div id="_ed2eeb33-4554-4599-81e1-70189bb3613f">
<table class="center" id="table-2">
        <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Label</th>
            <th class="text-left" rowspan="1" colspan="1">Count</th>
            <th class="text-left" rowspan="1" colspan="1">Percentage</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Text</td>
            <td class="text-left" rowspan="1" colspan="1">977</td>
            <td class="text-left" rowspan="1" colspan="1">69.09%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Formula</td>
            <td class="text-left" rowspan="1" colspan="1">118</td>
            <td class="text-left" rowspan="1" colspan="1">8.34%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Example</td>
            <td class="text-left" rowspan="1" colspan="1">112</td>
            <td class="text-left" rowspan="1" colspan="1">7.92%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ABNF</td>
            <td class="text-left" rowspan="1" colspan="1">71</td>
            <td class="text-left" rowspan="1" colspan="1">5.02%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">AAD</td>
            <td class="text-left" rowspan="1" colspan="1">49</td>
            <td class="text-left" rowspan="1" colspan="1">3.46%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ASN.1</td>
            <td class="text-left" rowspan="1" colspan="1">40</td>
            <td class="text-left" rowspan="1" colspan="1">2.82%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">C</td>
            <td class="text-left" rowspan="1" colspan="1">13</td>
            <td class="text-left" rowspan="1" colspan="1">0.91%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">FSM</td>
            <td class="text-left" rowspan="1" colspan="1">13</td>
            <td class="text-left" rowspan="1" colspan="1">0.91%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">XML</td>
            <td class="text-left" rowspan="1" colspan="1">12</td>
            <td class="text-left" rowspan="1" colspan="1">0.84%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Diagram</td>
            <td class="text-left" rowspan="1" colspan="1">6</td>
            <td class="text-left" rowspan="1" colspan="1">0.42%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">2</td>
            <td class="text-left" rowspan="1" colspan="1">0.14%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Ladder</td>
            <td class="text-left" rowspan="1" colspan="1">1</td>
            <td class="text-left" rowspan="1" colspan="1">0.07%</td>
          </tr>
        </tbody>
      </table>
</div>
<div id="_001df316-3d9c-478a-8894-443cb7f74213">
<p id="section-appendix.c-6">Note that as the relabeling is done in in order of erratum number, at this point it covers mostly older RFCs.
A change in tooling (e.g. ABNF verifiers) means that these numbers may drastically change as more errata are relabeled.
But at this point it seems that 31.89% of errata could have been prevented with a more pervasive use of formal methods.<a href="#section-appendix.c-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="cpn2tpn">
<section id="section-appendix.d">
      <h2 id="name-converting-from-a-colored-p">
<a href="#section-appendix.d" class="section-number selfRef">Appendix D. </a><a href="#name-converting-from-a-colored-p" class="section-name selfRef">Converting From a Colored Petri Net</a>
      </h2>
<div id="_3a20606c-e5ea-47ad-ad06-f5ce9b3cccd2">
<p id="section-appendix.d-1">As explained in this document, for now the workflow is to prepare a Colored Petri Net with the cpntools software, and then manually translate that Petri Net into an Idris Type using the <span><a href="#library_tpn" class="xref">library_tpn</a> (<a href="#library_tpn" class="xref">Section 8.1.7</a>)</span> module, as explained in the following sections.<a href="#section-appendix.d-1" class="pilcrow">¶</a></p>
</div>
<div id="_50681818-bc76-4223-8804-d194ed1f23d0">
<p id="section-appendix.d-2">Colored Petri Nets are explained in <span>[<a href="#Jensen09" class="xref">Jensen09</a>]</span> and in <span>[<a href="#Cpntools" class="xref">Cpntools</a>]</span>.
<span>[<a href="#Aalst11" class="xref">Aalst11</a>]</span> is also a good introduction to Colored Petri Nets.<a href="#section-appendix.d-2" class="pilcrow">¶</a></p>
</div>
<div id="cpn2tpn_colors">
<section id="section-d.1">
        <h2 id="name-convert-color-sets">
<a href="#section-d.1" class="section-number selfRef">D.1. </a><a href="#name-convert-color-sets" class="section-name selfRef">Convert Color Sets</a>
        </h2>
<div id="_0a7cbd27-b5df-4c9c-9bdc-690d6fb2643c">
<p id="section-d.1-1">CPN adds some restriction on the types that can be used in a Petri Net because of limitations in the underlying programming language, SML.
As the underlying programming language used in TPN, Idris, does not have these limitations, any well-formed Idris type (including polymorphic, linear and dependent types) can be directly used in a TPN.<a href="#section-d.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_b42cf39c-6ec4-4e8b-a4fb-8d488b615377">
<p id="section-d.1-2">The following sections explain how to convert a CPN Color Set into an Idris type.
It refers to webpages at <span>[<a href="#Cpntools" class="xref">Cpntools</a>]</span>, and the Idris examples shown below are translations of the CPN ML examples in these pages.
CPN's with clauses can be translated as added constraints to simple dependent types.<a href="#section-d.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_7384e9c2-db7c-46ef-9b5b-b9563ae1ff20">
<aside id="section-d.1-3">
          <p id="section-d.1-3.1">NOTE: In Idris, types and constructors share the same namespace, so they need to have different names.
Also types (including functions that return a value of type <code>Type</code>) and constructors start with an uppercase letter.<a href="#section-d.1-3.1" class="pilcrow">¶</a></p>
</aside>
</div>
<div id="_simple_color_sets">
<section id="section-d.1.1">
          <h3 id="name-simple-color-sets">
<a href="#section-d.1.1" class="section-number selfRef">D.1.1. </a><a href="#name-simple-color-sets" class="section-name selfRef">Simple Color Sets</a>
          </h3>
<div id="_unit_color_sets">
<section id="section-d.1.1.1">
            <h4 id="name-unit-color-sets">
<a href="#section-d.1.1.1" class="section-number selfRef">D.1.1.1. </a><a href="#name-unit-color-sets" class="section-name selfRef">Unit Color Sets</a>
            </h4>
<div id="_395cc864-631a-4969-b0c8-756a39e6f562">
<p id="section-d.1.1.1-1">See <span><a href="http://cpntools.org/2018/01/09/unit-color-set/">http://cpntools.org/2018/01/09/unit-color-set/</a></span> for the definition of the unit color set.<a href="#section-d.1.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_739cf98d-ebdc-47ea-92a0-0091e8106577">
<p id="section-d.1.1.1-2">The unit color set can be replaced by the <code>()</code> type:<a href="#section-d.1.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_e3151b51-1f56-4560-99a6-93b45c016777">
<div id="section-d.1.1.1-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
U : Type
U = ()
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.1-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_826f2bdf-818d-4eba-b4bb-c07e0a04c974">
<p id="section-d.1.1.1-4">For int color sets using a with clause, a dependent type can be created:<a href="#section-d.1.1.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_aeb8c9cf-2043-4115-b53b-3beeac77c37b">
<div id="section-d.1.1.1-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data E = MkE
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.1-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_boolean_color_sets">
<section id="section-d.1.1.2">
            <h4 id="name-boolean-color-sets">
<a href="#section-d.1.1.2" class="section-number selfRef">D.1.1.2. </a><a href="#name-boolean-color-sets" class="section-name selfRef">Boolean Color Sets</a>
            </h4>
<div id="_5ff3d105-31f2-49c9-bbaf-a9ff2417d834">
<p id="section-d.1.1.2-1">See <span><a href="http://cpntools.org/2018/01/09/boolean-color-set/">http://cpntools.org/2018/01/09/boolean-color-set/</a></span> for the definition of the bool color set.<a href="#section-d.1.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_49f153ed-32b5-4265-b7b4-0a0d55790e90">
<p id="section-d.1.1.2-2">The bool color set can be replaced by the <code>Bool</code> type.<a href="#section-d.1.1.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_0e5560d1-5b6c-4d82-a61a-3f1114c4290c">
<div id="section-d.1.1.2-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
B : Type
B = Bool
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.2-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_6f700678-54f2-4b9f-a04d-f6acf106b592">
<p id="section-d.1.1.2-4">For bool color sets using a with clause, a dependent type can be created:<a href="#section-d.1.1.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_f3a401cf-7864-4b49-a6f8-956e33fdf24a">
<div id="section-d.1.1.2-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Answer = No | Yes
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.2-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_integer_color_sets">
<section id="section-d.1.1.3">
            <h4 id="name-integer-color-sets">
<a href="#section-d.1.1.3" class="section-number selfRef">D.1.1.3. </a><a href="#name-integer-color-sets" class="section-name selfRef">Integer Color Sets</a>
            </h4>
<div id="_675eca69-3f1c-47c7-8389-78c61f2368f0">
<p id="section-d.1.1.3-1">See <span><a href="http://cpntools.org/2018/01/09/integer-color-sets/">http://cpntools.org/2018/01/09/integer-color-sets/</a></span> for the definition of the int color set.<a href="#section-d.1.1.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_96ad3e1f-f828-4b49-b1ad-98fc23255895">
<p id="section-d.1.1.3-2">The int colour set can be replaced by the <code>Int</code> type.<a href="#section-d.1.1.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_33dbb995-5baa-49dd-a36e-0e7a911a061c">
<div id="section-d.1.1.3-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
INT : Type
INT = Int
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.3-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_060d3cf1-4427-4481-948f-2f52d62f3572">
<p id="section-d.1.1.3-4">For int color sets using a with clause, a dependent type can be created:<a href="#section-d.1.1.3-4" class="pilcrow">¶</a></p>
</div>
<div id="_39765a6a-6c1e-4104-9d09-ec2bc7050180">
<div id="section-d.1.1.3-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data SmallInt : Type where
  MkSmallInt : (i : Int) -&gt; i &gt;= 1 &amp;&amp; i &lt;= 10 = True =&gt; SmallInt
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.3-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_large_integer_color_sets">
<section id="section-d.1.1.4">
            <h4 id="name-large-integer-color-sets">
<a href="#section-d.1.1.4" class="section-number selfRef">D.1.1.4. </a><a href="#name-large-integer-color-sets" class="section-name selfRef">Large Integer Color Sets</a>
            </h4>
<div id="_9b075c55-f2c4-458c-85e6-60dbbbfa74f7">
<p id="section-d.1.1.4-1">See <span><a href="http://cpntools.org/2018/01/09/large-integer-color-sets/">http://cpntools.org/2018/01/09/large-integer-color-sets/</a></span> for the definition of the intinf color set.<a href="#section-d.1.1.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_f53ce36f-a88c-4eeb-a507-169e5c03fa87">
<p id="section-d.1.1.4-2">The intinf colour set can be replaced by the <code>Integer</code> type.<a href="#section-d.1.1.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_4350d741-e580-4f17-86eb-eb6cee5434e9">
<div id="section-d.1.1.4-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
INTINF : Type
INTINF = Integer
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.4-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_556d95ad-d8de-4c69-bb64-04bf4af438b2">
<p id="section-d.1.1.4-4">For intint color sets using a with clause, a dependent type can be created:<a href="#section-d.1.1.4-4" class="pilcrow">¶</a></p>
</div>
<div id="_e1258ade-c9d9-462a-972a-d791f457b31d">
<div id="section-d.1.1.4-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data SmallLargeInt : Type where
  MkSmallLargeInt : (i : Integer) -&gt; i &gt;= 1 &amp;&amp; i &lt;= 10 = True =&gt;
    SmallInt
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.4-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_real_color_sets">
<section id="section-d.1.1.5">
            <h4 id="name-real-color-sets">
<a href="#section-d.1.1.5" class="section-number selfRef">D.1.1.5. </a><a href="#name-real-color-sets" class="section-name selfRef">Real Color Sets</a>
            </h4>
<div id="_dd7f77d6-78cc-4c0b-a7c7-51bf83379743">
<p id="section-d.1.1.5-1">See <span><a href="http://cpntools.org/2018/01/09/real-color-sets/">http://cpntools.org/2018/01/09/real-color-sets/</a></span> for the definition of the real color set.<a href="#section-d.1.1.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_9a42e540-eb1c-40fb-9272-f9aea0f81532">
<p id="section-d.1.1.5-2">The real color set can be replaced by the <code>Double</code> type.<a href="#section-d.1.1.5-2" class="pilcrow">¶</a></p>
</div>
<div id="_5c2df83b-a49f-4f67-97f5-e435da1e3833">
<div id="section-d.1.1.5-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
R : Type
R = Double
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.5-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_e61bdd88-b9e4-46f7-87f9-cff83649cbfb">
<p id="section-d.1.1.5-4">For real color sets using a with clause, a dependent type can be created:<a href="#section-d.1.1.5-4" class="pilcrow">¶</a></p>
</div>
<div id="_0fb3205a-9783-4c21-a046-d83e9e8e7216">
<div id="section-d.1.1.5-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data SomeReal : Type where
  MkSomeReal : (d : double) -&gt; d &gt;= 1.0 &amp;&amp; d &lt;= 10.0 = True =&gt;
    SomeReal
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.5-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_string_color_sets">
<section id="section-d.1.1.6">
            <h4 id="name-string-color-sets">
<a href="#section-d.1.1.6" class="section-number selfRef">D.1.1.6. </a><a href="#name-string-color-sets" class="section-name selfRef">String Color Sets</a>
            </h4>
<div id="_672d77d2-0cd9-4d3d-982d-bf15bd8bf139">
<p id="section-d.1.1.6-1">See <span><a href="http://cpntools.org/2018/01/09/string-color-sets/">http://cpntools.org/2018/01/09/string-color-sets/</a></span> for the definition of the string color set.<a href="#section-d.1.1.6-1" class="pilcrow">¶</a></p>
</div>
<div id="_820ae6fc-69b3-4350-b959-9f8e2b08894e">
<p id="section-d.1.1.6-2">The string color set can be replaced by the <code>String</code> type.<a href="#section-d.1.1.6-2" class="pilcrow">¶</a></p>
</div>
<div id="_5aa9858e-462d-4c6e-bb23-e607cb04f7e1">
<div id="section-d.1.1.6-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
S : Type
S = String
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.6-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_e3fe4214-c000-4411-83b5-786677246601">
<p id="section-d.1.1.6-4">For string color sets using a with clause, a dependent type can be created:<a href="#section-d.1.1.6-4" class="pilcrow">¶</a></p>
</div>
<div id="_3c2db953-cfa8-4fe7-a895-55af5c5a29ac">
<div id="section-d.1.1.6-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data LowerString : Type where
  MkLowerString : (s : String) -&gt;
    all (\c =&gt; c &gt;= 'a' &amp;&amp; c &lt;= 'z') (unpack s) = True =&gt;
    LowerString
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.6-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_1ce7ae8b-9445-44b7-9700-10799b4c28cd">
<p id="section-d.1.1.6-6">Similarly for string color sets using an and clause:<a href="#section-d.1.1.6-6" class="pilcrow">¶</a></p>
</div>
<div id="_4d7fe639-3aa1-4d02-a199-6cbb22e17fa1">
<div id="section-d.1.1.6-7">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data SmallString : Type where
  MkSmallString : (s : String) -&gt;
    all (\c =&gt; c &gt;= 'a' &amp;&amp; c &lt;= 'd') (unpack s) = True =&gt;
    length s &gt;= 3 &amp;&amp; length s &lt;= 9 = True =&gt;
    SmallString
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.6-7" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_enumerated_color_sets">
<section id="section-d.1.1.7">
            <h4 id="name-enumerated-color-sets">
<a href="#section-d.1.1.7" class="section-number selfRef">D.1.1.7. </a><a href="#name-enumerated-color-sets" class="section-name selfRef">Enumerated Color Sets</a>
            </h4>
<div id="_7e2a2100-cf32-47bf-a0fb-8a155488daf4">
<p id="section-d.1.1.7-1">See <span><a href="http://cpntools.org/2018/01/09/enumeration-color-set/">http://cpntools.org/2018/01/09/enumeration-color-set/</a></span> for the definition of the with color set.<a href="#section-d.1.1.7-1" class="pilcrow">¶</a></p>
</div>
<div id="_579c82d4-6992-426d-a8aa-bc4f3167829c">
<p id="section-d.1.1.7-2">A with color set can be implemented as a Sum type:<a href="#section-d.1.1.7-2" class="pilcrow">¶</a></p>
</div>
<div id="_4b76f1d2-0295-4f38-a6f3-b8177c258047">
<div id="section-d.1.1.7-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Day = Mon | Tues | Wed | Thurs | Fri | Sat | Sun
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.7-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_index_color_sets">
<section id="section-d.1.1.8">
            <h4 id="name-index-color-sets">
<a href="#section-d.1.1.8" class="section-number selfRef">D.1.1.8. </a><a href="#name-index-color-sets" class="section-name selfRef">Index Color Sets</a>
            </h4>
<div id="_c1ef8138-ad57-4e12-afa1-9aed31dcfe08">
<p id="section-d.1.1.8-1">See <span><a href="http://cpntools.org/2018/01/09/index-color-sets/">http://cpntools.org/2018/01/09/index-color-sets/</a></span> for the definition of the index color set.<a href="#section-d.1.1.8-1" class="pilcrow">¶</a></p>
</div>
<div id="_6b01cf96-09ab-4dc5-9922-04a093e9592c">
<p id="section-d.1.1.8-2">An index color set can be implemented as a dependent type:<a href="#section-d.1.1.8-2" class="pilcrow">¶</a></p>
</div>
<div id="_ebd7a6cc-f00b-4290-b53a-452b999a99b3">
<div id="section-d.1.1.8-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data PH : Type where
  MkPH : (i : Nat) -&gt; i &gt;= 1 &amp;&amp; i &lt;= 5 =&gt; PH
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.1.8-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
</section>
</div>
<div id="_compound_color_sets">
<section id="section-d.1.2">
          <h3 id="name-compound-color-sets">
<a href="#section-d.1.2" class="section-number selfRef">D.1.2. </a><a href="#name-compound-color-sets" class="section-name selfRef">Compound Color Sets</a>
          </h3>
<div id="_d86f04fc-cfc0-4ac8-be16-26906cabf472">
<p id="section-d.1.2-1">Compound color sets are color sets that combine simple colors sets and compound color sets together.<a href="#section-d.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_product_color_sets">
<section id="section-d.1.2.1">
            <h4 id="name-product-color-sets">
<a href="#section-d.1.2.1" class="section-number selfRef">D.1.2.1. </a><a href="#name-product-color-sets" class="section-name selfRef">Product Color Sets</a>
            </h4>
<div id="_84cc8f4e-936e-4a07-b2ee-d6ba3c1e0021">
<p id="section-d.1.2.1-1">See <span><a href="http://cpntools.org/2018/01/09/product-color-sets/">http://cpntools.org/2018/01/09/product-color-sets/</a></span> for the definition of the product color set.<a href="#section-d.1.2.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_1d14dac0-0c9e-4d82-8df5-8e89cfbf129d">
<p id="section-d.1.2.1-2">The product color set can be replaced by the <code>Pair</code> type, which can also be represented as a tuple.<a href="#section-d.1.2.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_132288cb-3fcd-45fe-b4d4-48f23cb81f42">
<div id="section-d.1.2.1-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
P : Type
P = (U, I)
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.2.1-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_record_color_sets">
<section id="section-d.1.2.2">
            <h4 id="name-record-color-sets">
<a href="#section-d.1.2.2" class="section-number selfRef">D.1.2.2. </a><a href="#name-record-color-sets" class="section-name selfRef">Record Color Sets</a>
            </h4>
<div id="_c8ba67c0-6074-42e6-8c39-15bae83fe307">
<p id="section-d.1.2.2-1">See <span><a href="http://cpntools.org/2018/01/09/record-color-sets/">http://cpntools.org/2018/01/09/record-color-sets/</a></span> for the definition of the record color set.<a href="#section-d.1.2.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_f3712069-50bc-4d0e-91b4-098e4fc6f23e">
<p id="section-d.1.2.2-2">The record color set can be replaced by a record type.<a href="#section-d.1.2.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_388797de-f099-477c-a5cd-19940176a28c">
<div id="section-d.1.2.2-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
record PACK where
  se : SITES
  re : SITES
  no : INT
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.2.2-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_list_color_sets">
<section id="section-d.1.2.3">
            <h4 id="name-list-color-sets">
<a href="#section-d.1.2.3" class="section-number selfRef">D.1.2.3. </a><a href="#name-list-color-sets" class="section-name selfRef">List Color Sets</a>
            </h4>
<div id="_7507da24-b237-471d-b619-258e220203a1">
<p id="section-d.1.2.3-1">See <span><a href="http://cpntools.org/2018/01/09/list-color-sets/">http://cpntools.org/2018/01/09/list-color-sets/</a></span> for the definition of the list color set.<a href="#section-d.1.2.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_fac77ebd-1943-4993-8add-a37678e80658">
<p id="section-d.1.2.3-2">The list color set can be replaced by a <code>List a</code> type.<a href="#section-d.1.2.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_6937bf37-c06d-4586-bbdf-b065838bcf9e">
<div id="section-d.1.2.3-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
INTlist = Type
INTlist = List INT
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.2.3-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_981c4b54-c8e6-408b-91f1-7c3e17fc8cfc">
<p id="section-d.1.2.3-4">For list color sets using a with clause, a dependent type can be created:<a href="#section-d.1.2.3-4" class="pilcrow">¶</a></p>
</div>
<div id="_fdeee194-29be-4554-90ae-c23d346d56a5">
<div id="section-d.1.2.3-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data ShortBoolList : Type where
  MkShortBoolList : (l : List Bool) -&gt;
    length l &lt;= 2 &amp;&amp; length l &gt;= 4 =&gt;
    ShortBoolList
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.2.3-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_union_color_sets">
<section id="section-d.1.2.4">
            <h4 id="name-union-color-sets">
<a href="#section-d.1.2.4" class="section-number selfRef">D.1.2.4. </a><a href="#name-union-color-sets" class="section-name selfRef">Union Color Sets</a>
            </h4>
<div id="_ea0d24bb-caf7-4473-b682-8a506b196103">
<p id="section-d.1.2.4-1">See <span><a href="http://cpntools.org/2018/01/09/union-color-sets/">http://cpntools.org/2018/01/09/union-color-sets/</a></span> for the definition of the union color set.<a href="#section-d.1.2.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_6ae18bbe-ec78-431b-8834-217281ba3f91">
<p id="section-d.1.2.4-2">The union color set can be replaced by a Sum type.<a href="#section-d.1.2.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_6c9b122b-396b-46a9-82b9-542a071e0aba">
<div id="section-d.1.2.4-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Packet : Type where
  Data : Data -&gt; Packet
  Ack : Packet
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.2.4-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_subset_color_sets">
<section id="section-d.1.2.5">
            <h4 id="name-subset-color-sets">
<a href="#section-d.1.2.5" class="section-number selfRef">D.1.2.5. </a><a href="#name-subset-color-sets" class="section-name selfRef">Subset Color Sets</a>
            </h4>
<div id="_d4965c9e-d3b6-43f0-8846-b6e0cfb27be9">
<p id="section-d.1.2.5-1">See <span><a href="http://cpntools.org/2018/01/09/subset-color-sets/">http://cpntools.org/2018/01/09/subset-color-sets/</a></span> for the definition of the subset color set.<a href="#section-d.1.2.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_a2efb100-5d17-4067-8415-355eefd971cd">
<p id="section-d.1.2.5-2">A subset color set can be replaced by a dependent type:<a href="#section-d.1.2.5-2" class="pilcrow">¶</a></p>
</div>
<div id="_8450a59a-640b-4d9e-9f3b-779b797c4145">
<div id="section-d.1.2.5-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data EvenInt : Type where
  MkEvenInt : (i : Int) -&gt; i `mod` 2 = 0 =&gt; EvenInt
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.2.5-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_alias_color_sets">
<section id="section-d.1.2.6">
            <h4 id="name-alias-color-sets">
<a href="#section-d.1.2.6" class="section-number selfRef">D.1.2.6. </a><a href="#name-alias-color-sets" class="section-name selfRef">Alias Color Sets</a>
            </h4>
<div id="_e3e28592-11fe-4cb0-9971-ae74690349b3">
<p id="section-d.1.2.6-1">See <span><a href="http://cpntools.org/2018/01/09/alias-color-sets/">http://cpntools.org/2018/01/09/alias-color-sets/</a></span> for the definition of the alias color set.<a href="#section-d.1.2.6-1" class="pilcrow">¶</a></p>
</div>
<div id="_434e8ad3-4544-4e36-8691-b19ee45fc197">
<p id="section-d.1.2.6-2">The alias color set can be replaced by a type function:<a href="#section-d.1.2.6-2" class="pilcrow">¶</a></p>
</div>
<div id="_425e52c5-ec2b-4feb-98e7-362b2fe56710">
<div id="section-d.1.2.6-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
WholeNumber : Type
WholeNumber = INT

DayOff : Type
DayOff = Weekend
&lt;CODE ENDS&gt;</pre><a href="#section-d.1.2.6-3" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
</section>
</div>
<div id="_timed_color_sets">
<section id="section-d.1.3">
          <h3 id="name-timed-color-sets">
<a href="#section-d.1.3" class="section-number selfRef">D.1.3. </a><a href="#name-timed-color-sets" class="section-name selfRef">Timed Color Sets</a>
          </h3>
<div id="_b73b992b-7324-419c-85c0-eab7dc26b5b8">
<p id="section-d.1.3-1">TBD.<a href="#section-d.1.3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="_convert_places">
<section id="section-d.2">
        <h2 id="name-convert-places">
<a href="#section-d.2" class="section-number selfRef">D.2. </a><a href="#name-convert-places" class="section-name selfRef">Convert Places</a>
        </h2>
<div id="_7e693359-f6f2-4ef0-9cbc-a45c6cb5ff7f">
<p id="section-d.2-1">Converting a CPN Place is straightforward.
It is represented as the TPN constructor <code>Place</code> of type <code>Ellipse</code>.<a href="#section-d.2-1" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-d.2-2.1">
            <div id="_5d3fee16-f6c7-446b-bb75-4e9dde36246a">
<p id="section-d.2-2.1.1">The name of the place goes into the first parameter of the constructor.<a href="#section-d.2-2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-d.2-2.2">
            <div id="_188d8978-5e09-450a-bf27-102b9e00cf98">
<p id="section-d.2-2.2.1">The color, after conversion as explained in <a href="#cpn2tpn_colors" class="xref">Appendix D.1</a>, goes into the second parameter.<a href="#section-d.2-2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-d.2-2.3">
            <div id="_71c7635a-ce31-4534-b579-ea37417f06d6">
<p id="section-d.2-2.3.1">The marking initialization, after conversion into a <code>Colist</code> of the place type, goes into the third parameter.<a href="#section-d.2-2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<div id="_edd44557-6576-4e49-998d-7001a4d257d9">
<p id="section-d.2-3">An empty marking initialization uses the <code>empty</code> expression.<a href="#section-d.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_17dc73b2-cae2-43d6-a211-07efafae089c">
<p id="section-d.2-4">E.g., the "Packets To Send" Place in Figure 1 of <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span> can be translated as follow:<a href="#section-d.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_d0391bbd-d452-4706-a1b8-d562cf6f4d28">
<div id="section-d.2-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
packetsToSend : Ellipse
packetsToSend = Place "Packets To Send" NoxData [(1, "COL"),
  (2, "OUR"), (3, "ED "), (4, "PET"), (5, "RI "), (6, "NET")]
&lt;CODE ENDS&gt;</pre><a href="#section-d.2-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_351013f0-9ed5-4c78-b35e-de095f7693e7">
<p id="section-d.2-6">Note that some of the tokens in use in Petri Net places are meant to represent network PDUs.
It is recommended to use for that abstract types instead of wire types and to provide a proof of isomorphism as explained in <a href="#self_proof_wire" class="xref">Section 5.3.1</a>.<a href="#section-d.2-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_convert_transitions">
<section id="section-d.3">
        <h2 id="name-convert-transitions">
<a href="#section-d.3" class="section-number selfRef">D.3. </a><a href="#name-convert-transitions" class="section-name selfRef">Convert Transitions</a>
        </h2>
<div id="_1abad9b4-f4c4-46c3-a029-dacd791740ce">
<p id="section-d.3-1">Converting a CPN transition into a TPN transition is done by creating an instance of the <code>Transition</code> type.
This type takes 4 parameters: a name, a list of input arcs, a list of output arcs and a function that combines both unification of bindings and the execution of the transition's guard.<a href="#section-d.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_30039401-48b6-47fe-a6a8-91d47b86f162">
<p id="section-d.3-2">Before starting the conversion, CPN doubled-headed arcs need to to be duplicated, once as an input arc and once as an output arc, but with the same inscription.<a href="#section-d.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_convert_input_arcs">
<section id="section-d.3.1">
          <h3 id="name-convert-input-arcs">
<a href="#section-d.3.1" class="section-number selfRef">D.3.1. </a><a href="#name-convert-input-arcs" class="section-name selfRef">Convert Input Arcs</a>
          </h3>
<div id="_3ffec99d-7a45-4868-9289-1a317dcb1e22">
<p id="section-d.3.1-1">Before the CPN input arc conversion, arcs that can take multiple tokens at once from a place must be duplicated, one for each token.<a href="#section-d.3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_4a2ada22-ab06-4c13-9dd2-12da168eb6a1">
<p id="section-d.3.1-2">Each TPN input arc is a value of type <code>InputArc</code> with a constructor that takes 3 parameters:  a place, a type, and the function that converts the inscription.<a href="#section-d.3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_25b8402e-f21e-483b-a73d-719ed0296e64">
<p id="section-d.3.1-3">The type of the TPN input arc must be a tuple of the type of each variable used by the CPN input arc inscription.
The domain of the function is the type of the place, its codomain is the type of the input arc.<a href="#section-d.3.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_a83a8a51-343c-4c47-9624-3184043507b2">
<p id="section-d.3.1-4">The inscription function itself takes as input one token from the place and returns an optional tuple of values, one for each variable.
The returned value is optional so the function can indicate that no token are valid for that transition.<a href="#section-d.3.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_40a0d4f0-bae9-4742-835f-86e27569a6eb">
<p id="section-d.3.1-5">E.g., the input arc in the top left of Figure 1 of <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span> can be translated as follow:<a href="#section-d.3.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_ac32bed3-759f-49b6-bb91-a49502fd0c35">
<div id="section-d.3.1-6">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
arc1 : InputArc
arc1 = MkInputArc PacketToSend (No, Data)
  (\x =&gt; case x of (n, d) =&gt; pure (n, d))
&lt;CODE ENDS&gt;</pre><a href="#section-d.3.1-6" class="pilcrow">¶</a>
</div>
</div>
<div id="_2271d6d5-8242-4793-8b6e-fccd93d9fe1c">
<p id="section-d.3.1-7">In that case the function, defined as a lambda, can be simplified as just <code>pure</code>.<a href="#section-d.3.1-7" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_convert_output_arcs">
<section id="section-d.3.2">
          <h3 id="name-convert-output-arcs">
<a href="#section-d.3.2" class="section-number selfRef">D.3.2. </a><a href="#name-convert-output-arcs" class="section-name selfRef">Convert Output Arcs</a>
          </h3>
<div id="_0660a3d3-481e-4cff-a53d-4b6d5f387086">
<p id="section-d.3.2-1">Each TPN output arc is a value of type <code>OutputArc</code> with a constructor that takes 3 parameters:  The domain of the function, a place, and the function that acts as the inscription.<a href="#section-d.3.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_d45474ce-3803-4d1a-a28d-66ba90733b05">
<p id="section-d.3.2-2">The type of the TPN output arc must be a tuple of the type of each variables used by the CPN arc inscription.<a href="#section-d.3.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_01f54438-aa7b-4553-baf9-8309f6991480">
<p id="section-d.3.2-3">The function itself takes as input a tuple of values, one for each variable used by the CPN arc function, and returns a list of values to be inserted in the place.
The returned value is a list so 0, one or more token can be inserted at once.,<a href="#section-d.3.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_4c06aa26-a804-46c9-a64a-f5baf5af1c9b">
<p id="section-d.3.2-4">E.g., the output arc in the arc in the bottom right left of Figure 1 of <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span> can be translated as follow:<a href="#section-d.3.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_fc0861fd-d7bf-46d2-aec0-92a1419d0171">
<div id="section-d.3.2-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
arc2 : Output
arc2 = MkOutput (No, No) C
  (\(n, k) =&gt; if n == k then pure (k + 1) else k)
&lt;CODE ENDS&gt;</pre><a href="#section-d.3.2-5" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_convert_transition_inscription">
<section id="section-d.3.3">
          <h3 id="name-convert-transition-inscript">
<a href="#section-d.3.3" class="section-number selfRef">D.3.3. </a><a href="#name-convert-transition-inscript" class="section-name selfRef">Convert Transition Inscription</a>
          </h3>
<div id="_2a50b510-2451-4f6f-b980-312a9c43d046">
<p id="section-d.3.3-1">The function in a TPN transition is assembled from two parts in the CPN transition: from the unification of variables defined in CPN input arcs with the same name and from the guard boolean expression.<a href="#section-d.3.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_unification">
<section id="section-d.3.3.1">
            <h4 id="name-unification">
<a href="#section-d.3.3.1" class="section-number selfRef">D.3.3.1. </a><a href="#name-unification" class="section-name selfRef">Unification</a>
            </h4>
<div id="_55ca3e6d-b2a7-4b94-9320-52bdf4febfa9">
<p id="section-d.3.3.1-1">The variables to unify are all the variables that hold the same name but in different input arc inscriptions.
Unification is then done by verifying that these variables are equal, and by returning empty if they are not.
Note that in TPN, variables are indexed by position in a tuple, not by name.<a href="#section-d.3.3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_6d1afb5e-a41f-48ad-a55f-e932fb6afcaf">
<p id="section-d.3.3.1-2">E.g., the unification part for the transition in the top left of Figure 1 of <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span> can be translated as follow:<a href="#section-d.3.3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_5e06df40-eac9-4860-8409-2f08e2520af5">
<div id="section-d.3.3.1-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
sendPacket : Transition
sendPacket = MkTransition "send packet"
  [MkInputArc PacketsToSend (No, Data) pure,
   MkInputArc NextSend No pure]
  [MkOutputArc (No, Data) PacketsToSend pure,
   MkOutputArc No NextSend pure,
   MkOutputArc (No, Data) A pure]
  (\((n, d), n') =&gt; if n /= n' then empty else pure (n, d))
&lt;CODE ENDS&gt;</pre><a href="#section-d.3.3.1-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_39f6f1fe-515b-435e-b02f-ef43bf3ecd99">
<p id="section-d.3.3.1-4">Here <code>n</code> is the n coming from the PacketsToSend place, whereas <code>n'</code> is coming from the NextSend place.<a href="#section-d.3.3.1-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_guard">
<section id="section-d.3.3.2">
            <h4 id="name-guard">
<a href="#section-d.3.3.2" class="section-number selfRef">D.3.3.2. </a><a href="#name-guard" class="section-name selfRef">Guard</a>
            </h4>
<div id="_9b637446-a791-4083-a0a0-11280325965b">
<p id="section-d.3.3.2-1">Converting guards is straightforward, as the boolean expression is simply tested after unification, and also returns empty if the result is false.<a href="#section-d.3.3.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_69fbe19c-61fa-478f-ba4d-b1bfe149b8fd">
<p id="section-d.3.3.2-2">E.g., the guard on the left side of Figure 42 of <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span> can be translated as follow:<a href="#section-d.3.3.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_0f7bb54f-98b0-401c-9196-aeefcfb3b1d6">
<div id="section-d.3.3.2-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
removePacket : Transition
removePacket = MkTransition "remove packet"
  [MkInputArc PacketsToSend (No, Data, Time) pure
   MkInputArc NextSend No pure]
  [MkOutputArc No NextSend pure]
  (\((n, d, t), k) =&gt; if n &lt; k then empty else pure n)
&lt;CODE ENDS&gt;</pre><a href="#section-d.3.3.2-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_484533b9-b2a1-40ea-8c45-e0bb1a6c19cb">
<p id="section-d.3.3.2-4">Because unification is already translated as a boolean expression, it is easy to combine it with the guard boolean expression.<a href="#section-d.3.3.2-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="_convert_free_variables">
<section id="section-d.3.4">
          <h3 id="name-convert-free-variables">
<a href="#section-d.3.4" class="section-number selfRef">D.3.4. </a><a href="#name-convert-free-variables" class="section-name selfRef">Convert Free Variables</a>
          </h3>
<div id="_93f8a097-43f9-4c65-b3cd-af442a97f8cc">
<p id="section-d.3.4-1">Each free variable in a CPN transition must be converted into a new place, a new input arc, and a new output arc.<a href="#section-d.3.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_1533a367-efab-4b61-81c9-e92996d51b75">
<p id="section-d.3.4-2">The new place is of the type of the variable, and its initial content is all the possible values for that type.<a href="#section-d.3.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_76c52913-792b-4a63-a477-a0af6ec6df4f">
<p id="section-d.3.4-3">The new input arc uses the new place, the same type than the place, and its function is <code>pure</code>.<a href="#section-d.3.4-3" class="pilcrow">¶</a></p>
</div>
<div id="_173587bf-8d97-467b-9f37-36d0bd94fa31">
<p id="section-d.3.4-4">The new output arc uses the same type than the place, the new place, and its function is also <code>pure</code>.<a href="#section-d.3.4-4" class="pilcrow">¶</a></p>
</div>
<div id="_cf1db569-9c93-47a4-9cde-d292f132e29d">
<p id="section-d.3.4-5">Note that places with the same type must not be shared between input arcs that are connected to the same transition.<a href="#section-d.3.4-5" class="pilcrow">¶</a></p>
</div>
<div id="_16dbec4b-0e70-40de-b206-eeb46af2825e">
<p id="section-d.3.4-6">E.g., the free variable success of top of Figure 1 of <span>[<a href="#Jensen07" class="xref">Jensen07</a>]</span> can be translated as follow:<a href="#section-d.3.4-6" class="pilcrow">¶</a></p>
</div>
<div id="_d2860e4c-bef0-4b1f-ba3c-bcfa863bafb0">
<div id="section-d.3.4-7">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
BOOL : Ellipse
BOOL = Place "Bool" Bool [True, False]

arcIn : Input
arcIn = MkInput BOOL Bool pure

arcOut : Output
arcOut = MkOutput Bool BOOL pure

transmitPacket : Transition
transmitPacket = MkTransition "" [arcIn, ...] [arcOut, ...] (...)
&lt;CODE ENDS&gt;</pre><a href="#section-d.3.4-7" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_convert_inhibitor_arcs">
<section id="section-d.3.5">
          <h3 id="name-convert-inhibitor-arcs">
<a href="#section-d.3.5" class="section-number selfRef">D.3.5. </a><a href="#name-convert-inhibitor-arcs" class="section-name selfRef">Convert Inhibitor Arcs</a>
          </h3>
<div id="_e6be797b-c762-48e1-99dd-a3f4ffbbfca8">
<p id="section-d.3.5-1">TBD.<a href="#section-d.3.5-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_convert_reset_arcs">
<section id="section-d.3.6">
          <h3 id="name-convert-reset-arcs">
<a href="#section-d.3.6" class="section-number selfRef">D.3.6. </a><a href="#name-convert-reset-arcs" class="section-name selfRef">Convert Reset Arcs</a>
          </h3>
<div id="_eab41b55-64c0-4909-abbd-a32891742455">
<p id="section-d.3.6-1">TBD.<a href="#section-d.3.6-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_convert_transitions_with_time">
<section id="section-d.3.7">
          <h3 id="name-convert-transitions-with-ti">
<a href="#section-d.3.7" class="section-number selfRef">D.3.7. </a><a href="#name-convert-transitions-with-ti" class="section-name selfRef">Convert Transitions with Time</a>
          </h3>
<div id="_4a0ebb95-3e83-4bb9-971d-5c60e25a06d0">
<p id="section-d.3.7-1">TBD.<a href="#section-d.3.7-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_convert_transitions_with_priorities">
<section id="section-d.3.8">
          <h3 id="name-convert-transitions-with-pr">
<a href="#section-d.3.8" class="section-number selfRef">D.3.8. </a><a href="#name-convert-transitions-with-pr" class="section-name selfRef">Convert Transitions with Priorities</a>
          </h3>
<div id="_18ff0fb8-04e8-4925-8d75-fbddfbc8db91">
<p id="section-d.3.8-1">TBD.<a href="#section-d.3.8-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="_convert_substitution_transitions">
<section id="section-d.4">
        <h2 id="name-convert-substitution-transi">
<a href="#section-d.4" class="section-number selfRef">D.4. </a><a href="#name-convert-substitution-transi" class="section-name selfRef">Convert Substitution Transitions</a>
        </h2>
<div id="_0e3a2345-1472-4e51-a40c-1185f193d149">
<p id="section-d.4-1">TBD.<a href="#section-d.4-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_convert_global_state">
<section id="section-d.5">
        <h2 id="name-convert-global-state">
<a href="#section-d.5" class="section-number selfRef">D.5. </a><a href="#name-convert-global-state" class="section-name selfRef">Convert Global State</a>
        </h2>
<div id="_convert_the_global_step_counter">
<section id="section-d.5.1">
          <h3 id="name-convert-the-global-step-cou">
<a href="#section-d.5.1" class="section-number selfRef">D.5.1. </a><a href="#name-convert-the-global-step-cou" class="section-name selfRef">Convert the Global Step Counter</a>
          </h3>
<div id="_62172356-ee9c-48c6-a4c8-1eba0cc2ef7e">
<p id="section-d.5.1-1">TBD.<a href="#section-d.5.1-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_convert_the_global_clock">
<section id="section-d.5.2">
          <h3 id="name-convert-the-global-clock">
<a href="#section-d.5.2" class="section-number selfRef">D.5.2. </a><a href="#name-convert-the-global-clock" class="section-name selfRef">Convert the Global Clock</a>
          </h3>
<div id="_33b3b886-04ce-493e-a293-7e34068297c3">
<p id="section-d.5.2-1">TBD.<a href="#section-d.5.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="tutorial">
<section id="section-appendix.e">
      <h2 id="name-evidence-based-answers">
<a href="#section-appendix.e" class="section-number selfRef">Appendix E. </a><a href="#name-evidence-based-answers" class="section-name selfRef">Evidence-Based Answers</a>
      </h2>
<div id="_386a6af4-a124-4b26-9c49-456ffdcf8260">
<p id="section-appendix.e-1">This document uses a special interpretation of Programs and Types that permits to build evidence-based answers to the kind of questions that a network protocol designer would be asking of its designs.<a href="#section-appendix.e-1" class="pilcrow">¶</a></p>
</div>
<div id="_4c8ed29f-cec3-46ba-a3c5-9c523fa771b2">
<p id="section-appendix.e-2">Although that interpretation is not new, few textbooks are available to concretely learn it and even when available, these textbooks generally take the long road by choosing to teach first Constructive Logic and then apply these teaching to Programs and Types.
As there is in fact an even longer road that would take from Fibred Category Theory to Constructive Logic and then to Programs and Types, it is reasonable to think that there should be a shortcut there that would permit to start directly with Programs and Types, especially when the target audience is programmers, a segment of the technical population that is known to dislike mathematics.<a href="#section-appendix.e-2" class="pilcrow">¶</a></p>
</div>
<div id="_ebe3b5cf-fe1b-4e8b-b6a0-5c6799613900">
<p id="section-appendix.e-3">Still, the mathematically inclined or the non-programmer can look at <span>[<a href="#Nederpelt14" class="xref">Nederpelt14</a>]</span>, <span>[<a href="#Bornat05" class="xref">Bornat05</a>]</span>, or <span>[<a href="#Mimram20" class="xref">Mimram20</a>]</span> for an approach based on mathematics.<a href="#section-appendix.e-3" class="pilcrow">¶</a></p>
</div>
<div id="_6c3bd51f-926b-402e-9137-f259f8c9acfc">
<p id="section-appendix.e-4">Basically the goals of that interpretation of Program and Types are:<a href="#section-appendix.e-4" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.e-5.1">
          <div id="_5e0b2be3-6bb4-406f-a335-7930da5af560">
<p id="section-appendix.e-5.1.1">To answer any question with either "Yes", "No", or "Don't know".<a href="#section-appendix.e-5.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-5.2">
          <div id="_15401e09-20e4-452f-9670-111a81a55928">
<p id="section-appendix.e-5.2.1">To ensure that any "Yes" or "No" answer is provided with evidence.<a href="#section-appendix.e-5.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-5.3">
          <div id="_fec67f66-38a9-400c-9ff8-ce72169effaa">
<p id="section-appendix.e-5.3.1">To use programming to achieve these goals.<a href="#section-appendix.e-5.3.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<div id="_51db03d9-72b5-4442-b290-1b5a97b77c94">
<p id="section-appendix.e-6">The kind of questions that a network protocol designer may want to get that kind of evidence-based questions for are many:<a href="#section-appendix.e-6" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.e-7.1">
          <div id="_65304aa0-d2ab-4fe1-b4e9-805928558ab3">
<p id="section-appendix.e-7.1.1">Is my new version of the protocol safe to interoperate with the previous versions?<a href="#section-appendix.e-7.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-7.2">
          <div id="_a6215c03-c496-4175-9cc6-41017b1fa9f4">
<p id="section-appendix.e-7.2.1">Is the protocol free of deadlock?<a href="#section-appendix.e-7.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-7.3">
          <div id="_6090c1f9-eabb-4eb6-8b05-58004122fed6">
<p id="section-appendix.e-7.3.1">Is there corner cases that I neglected to take in account.<a href="#section-appendix.e-7.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-7.4">
          <div id="_5de10d2a-c526-41d5-85e3-421832c1bb45">
<p id="section-appendix.e-7.4.1">Is that faster but more efficient protocol equivalent to the slower but simpler original protocol?<a href="#section-appendix.e-7.4.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<div id="_9fb045ed-9ad3-40f1-a4fa-0aeaed4ec8c9">
<p id="section-appendix.e-8">Notice that when we talk about evidence-based answers, we exclude by definition any answer that has a probability different of 0.0 or 1.0, and furthermore exclude evidence-free answers like the ones given by AI/ML.<a href="#section-appendix.e-8" class="pilcrow">¶</a></p>
</div>
<div id="_e50cee66-6832-4848-8f34-71c9ddb1792c">
<p id="section-appendix.e-9">As a consequence, we have to admit that there are questions that do not have an evidence-based answer.
That could be for a short list of reasons:<a href="#section-appendix.e-9" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.e-10.1">
          <div id="_2cae0ee9-4690-4af6-989a-6037978d1c8f">
<p id="section-appendix.e-10.1.1">We did not looked in the literature yet if there is an existing answer to a particular question.<a href="#section-appendix.e-10.1.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-10.2">
          <div id="_5cbc1f46-fc05-4cdd-9073-6fd6c569fd2f">
<p id="section-appendix.e-10.2.1">Nobody yet tried to find an answer to that question.<a href="#section-appendix.e-10.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-10.3">
          <div id="_0e566fa0-a275-4a03-8d2e-bbd50c0256f2">
<p id="section-appendix.e-10.3.1">Nobody found an answer to the question yet.<a href="#section-appendix.e-10.3.1" class="pilcrow">¶</a></p>
</div>
</li>
        <li class="compact" id="section-appendix.e-10.4">
          <div id="_7de24f76-8aef-42f0-9401-1ec2028a0aa9">
<p id="section-appendix.e-10.4.1">There is no answer to that question.<a href="#section-appendix.e-10.4.1" class="pilcrow">¶</a></p>
</div>
</li>
      </ul>
<div id="_8ab597b0-4b63-496b-bbd8-2da2c59a4ea5">
<p id="section-appendix.e-11">There is clearly a question of locality of our knowledge at play here, and we are not pretending to get to some absolute truth with this technique.<a href="#section-appendix.e-11" class="pilcrow">¶</a></p>
</div>
<div id="_encoding_questions">
<section id="section-e.1">
        <h2 id="name-encoding-questions">
<a href="#section-e.1" class="section-number selfRef">E.1. </a><a href="#name-encoding-questions" class="section-name selfRef">Encoding Questions</a>
        </h2>
<div id="_b3abc238-7f8d-4b10-842c-7578aed97df4">
<p id="section-e.1-1">In the 90s came this new idea that it was possible to use the C++ type system to encode calculations.
A famous example was generating all the prime numbers during the compilation of a C++ program.
The result was provided as a result of compiling the program, and the compiled program itself was irrelevant to get that result.
This was done by reinterpreting the type system into a computational system.<a href="#section-e.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_1d23e427-25db-43d5-8c10-35075212028a">
<p id="section-e.1-2">Here we are going to do the same thing, and reinterpret the type system of a programming language, Idris, as a way to encode our questions.<a href="#section-e.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_40ebb6a2-c38c-4c3a-8630-0d8528263e33">
<p id="section-e.1-3">As we will see, to be able to do this reinterpretation, the type system needs to be stronger than in a traditional programming language so to be able to encode a large variety of questions.
We will also see that, paradoxically, the computational power of our programming language needs to be reduced to be sure that the evidence of our answers is valid.<a href="#section-e.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_baba098c-2bfa-4d8d-9a69-ee414553a02e">
<p id="section-e.1-4">One defining feature of that programming language is that the compilation step that in traditional programming languages is monolithic, is here split in 2 separate steps:<a href="#section-e.1-4" class="pilcrow">¶</a></p>
</div>
<ul class="normal">
<li class="normal" id="section-e.1-5.1">
            <div id="_8f87200f-7135-40b9-b3f7-24ac951d4367">
<p id="section-e.1-5.1.1">The typechecking step takes a set of source files and verifies that all values in these sources (including the code as a value of the function type) can be assigned to the correct type.
Because of the complexity of the type system, an Idris interpreter is used to evaluate expressions during the typechecking step.<a href="#section-e.1-5.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          <li class="normal" id="section-e.1-5.2">
            <div id="_3196bb33-db08-4f15-92f8-9a6ee15c4593">
<p id="section-e.1-5.2.1">The code generation step generates executable code.<a href="#section-e.1-5.2.1" class="pilcrow">¶</a></p>
</div>
</li>
        </ul>
<div id="_1a619dc0-a3ee-4dde-9430-0a550dbfefaa">
<p id="section-e.1-6">As our interpretation relies only on what happens in the typechecking step, we have no use for the second step of the compilation process.<a href="#section-e.1-6" class="pilcrow">¶</a></p>
</div>
<div id="_any_value_of_a_type_is_evidence_of_yes">
<section id="section-e.1.1">
          <h3 id="name-any-value-of-a-type-is-evid">
<a href="#section-e.1.1" class="section-number selfRef">E.1.1. </a><a href="#name-any-value-of-a-type-is-evid" class="section-name selfRef">Any Value of a Type is Evidence of Yes</a>
          </h3>
<div id="_e1906972-3783-4db8-abe3-94e41c753d29">
<p id="section-e.1.1-1">The cornerstone of our new interpretation is that the evidence that the answer of a question is Yes is an value of the type that encodes that question.
We will see later that the evidence that the answer is No is the inability to produce a value of a type.<a href="#section-e.1.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_8c23fe29-8352-45f3-8e42-dc9e48528034">
<p id="section-e.1.1-2">Although there is no real usage for these, if we interpret the basic types in our programming languages as questions, then the answers to these are always Yes, because we can always find a value for these types:<a href="#section-e.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_a44d0b01-486d-4c84-8293-83e1a9dc8d38">
<div id="section-e.1.1-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
1 : Int

"s" : String
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.1-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_1fe9fc42-3605-4e69-95b0-3243f5e42d6a">
<p id="section-e.1.1-4">In Idris a value of a type is written first, then followed by a colon and by the type of that value.<a href="#section-e.1.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_4fefef74-ec45-4684-a5de-229f77eebef7">
<p id="section-e.1.1-5">Note that it does not matter if you can find one or two millions different pieces of evidence - the answer is still Yes.
The exact value we pick as evidence is absolutely irrelevant, which is something that may seems strange to a programmer.<a href="#section-e.1.1-5" class="pilcrow">¶</a></p>
</div>
<div id="_31553224-f8d6-4493-92bd-614378886703">
<p id="section-e.1.1-6">This is why basic types are not really interesting in our interpretation, as their answer is always Yes.<a href="#section-e.1.1-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_function_type_as_implication">
<section id="section-e.1.2">
          <h3 id="name-function-type-as-implicatio">
<a href="#section-e.1.2" class="section-number selfRef">E.1.2. </a><a href="#name-function-type-as-implicatio" class="section-name selfRef">Function Type As Implication</a>
          </h3>
<div id="_f42d431d-b42c-4845-ad5b-e1f926cf56c6">
<p id="section-e.1.2-1">Idris is a pure functional programming language, so functions are first class citizens of the language, and their type is called a Function Type.<a href="#section-e.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_292cc5b0-e3b4-4251-b41c-61c225deabf5">
<p id="section-e.1.2-2">The interpretation of a Function Type is that of an implication.
Implications are a form of "if P then Q" statement, that says something about the relationship between two other Types, here P and Q.<a href="#section-e.1.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_316cbb23-09cc-4983-84b2-33e257636386">
<p id="section-e.1.2-3">In Idris the Function Type is represented as an arrow that separate the first type (sometimes called the domain of the function) from the second type (sometimes called the codomain of the function).<a href="#section-e.1.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_f5122c73-37a7-48e9-8ae0-b7b6c2ff71e9">
<div id="section-e.1.2-4">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
P -&gt; Q
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.2-4" class="pilcrow">¶</a>
</div>
</div>
<div id="_150056c2-e2b9-4763-b4a1-e5da224fab47">
<p id="section-e.1.2-5">To answer the question <code>P -&gt; Q</code> we need to find a value of that type.
An value of a Function Type is a program, so a program that takes values of P as parameter and returns a value of Q is an evidence that the answer to <code>P -&gt; Q</code> is Yes.
Another equivalent reading would be "Assuming that we can provide values for P and values for Q, then can we provide a function that typechecks?"<a href="#section-e.1.2-5" class="pilcrow">¶</a></p>
</div>
<div id="_a78419e3-d605-414e-9d7c-5f28780f9f53">
<p id="section-e.1.2-6">Notice again that there maybe many programs that fulfill that condition but again that is irrelevant, as we need only one to serve as evidence.<a href="#section-e.1.2-6" class="pilcrow">¶</a></p>
</div>
<div id="_75fb4954-13ea-4926-85a6-0741bc6936a4">
<p id="section-e.1.2-7">We can easily produce an evidence of that, let's say using Int and String as our types:<a href="#section-e.1.2-7" class="pilcrow">¶</a></p>
</div>
<div id="_867f4885-7298-49ab-82a5-cebbb73fd19e">
<div id="section-e.1.2-8">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
\x =&gt; "a" : Int -&gt; String
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.2-8" class="pilcrow">¶</a>
</div>
</div>
<div id="_8a60d799-c5fa-4366-9e4f-6c12a22b5e37">
<p id="section-e.1.2-9">The expression on the left of the colon is a lambda expression.
<code>x</code> will be bound to whatever value of Int will be passed as parameter, and the function will return True.<a href="#section-e.1.2-9" class="pilcrow">¶</a></p>
</div>
<div id="_f85f0430-8dd1-423f-81c6-3d08e5fef41d">
<p id="section-e.1.2-10">Note that this works only because Idris is a pure functional language, meaning that a function can only use the values passed as parameters in its evaluation of the returned value.
Side effects or global variables are not available in a pure functional language.<a href="#section-e.1.2-10" class="pilcrow">¶</a></p>
</div>
<div id="_c07ba010-5c5c-4960-86f1-24150f1ed4c0">
<p id="section-e.1.2-11">A function in Idris can only take one parameter, but it is possible to return a function, which permits to simulate a multi-parameter function (this is known as currying):<a href="#section-e.1.2-11" class="pilcrow">¶</a></p>
</div>
<div id="_2de8db9c-8a34-45ed-9624-2ccfc0922f37">
<div id="section-e.1.2-12">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
\x =&gt; \y =&gt; True : Int -&gt; (String -&gt; Bool)
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.2-12" class="pilcrow">¶</a>
</div>
</div>
<div id="_5627e309-497a-4dc2-a878-9b6431bb1a8b">
<p id="section-e.1.2-13">Function types associate to the right, so the parenthesis in the example above is not really necessary.<a href="#section-e.1.2-13" class="pilcrow">¶</a></p>
</div>
<div id="_99f64cb6-4ee4-4d7c-b1b6-71d9095068a4">
<p id="section-e.1.2-14">Functions in Idris can also take a function as parameter, which will permit to encode the classical question:<a href="#section-e.1.2-14" class="pilcrow">¶</a></p>
</div>
<div id="_18c869f2-5d76-4e2d-bef6-88bc26c04c06">
<p id="section-e.1.2-15">"Socrates is a human, all humans are mortals, is Socrates a mortal?"<a href="#section-e.1.2-15" class="pilcrow">¶</a></p>
</div>
<div id="_dbe536a8-865e-4dd5-b6f1-051fe6666b42">
<p id="section-e.1.2-16">We can encode this in the Idris type system:<a href="#section-e.1.2-16" class="pilcrow">¶</a></p>
</div>
<div id="_8d916aa1-9bc1-4179-a6e3-88e22540e912">
<div id="section-e.1.2-17">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Human : Type

data Mortal : Type

isSocratesMortal : Human -&gt; (Human -&gt; Mortal) -&gt; Mortal
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.2-17" class="pilcrow">¶</a>
</div>
</div>
<div id="_ccedc363-9439-4f28-9dfb-d468d38e8d40">
<p id="section-e.1.2-18">Notice that here the parenthesis are mandatory.
The question can be read like this:<a href="#section-e.1.2-18" class="pilcrow">¶</a></p>
</div>
<div id="_648ce14d-55e4-44c1-b005-ffaaa9068f2e">
<p id="section-e.1.2-19">"Assuming Socrates is a Human, and assuming that all Humans are Mortals, then is Socrates a Mortal?"<a href="#section-e.1.2-19" class="pilcrow">¶</a></p>
</div>
<div id="_a3df8a53-255d-4695-b6dc-82b519e712d0">
<p id="section-e.1.2-20">The evidence is easy to find:<a href="#section-e.1.2-20" class="pilcrow">¶</a></p>
</div>
<div id="_40c3f8d9-f730-47cb-8371-99c13f5c8170">
<div id="section-e.1.2-21">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
isSocratesMortal : Human -&gt; (Human -&gt; Mortal) -&gt; Mortal
isSocratesMortal = \h =&gt; \f =&gt; f h
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.2-21" class="pilcrow">¶</a>
</div>
</div>
<div id="_1abd8d37-ac83-47f5-8e3f-f08428fc4c9e">
<p id="section-e.1.2-22">One important point is that we are not trying to say that Socrates is a Human (maybe he was an alien).
Similarly we are not trying to say that there is an absolute rule that all humans are mortals (in fact there is evidence that, at the time of writing, the human author of this document was immortal).<a href="#section-e.1.2-22" class="pilcrow">¶</a></p>
</div>
<div id="_579c6d20-88ad-4aba-8e96-79c2d1b679e2">
<p id="section-e.1.2-23">What we are saying is that assuming that we have evidence of a human (Socrates in that case) and assuming that we have evidence that all humans are mortals, then the only conclusion is that, Yes, Socrates is mortal, and the evidence for this is the program <code>\h =&gt; \f =&gt; f h</code>.<a href="#section-e.1.2-23" class="pilcrow">¶</a></p>
</div>
<div id="_ae6e0edb-e10d-4986-843f-7f443804f000">
<p id="section-e.1.2-24">Note that in a function definition, the parameters can be moved to the left hand side (LHS) of the equal sign, like this:<a href="#section-e.1.2-24" class="pilcrow">¶</a></p>
</div>
<div id="_c02f61aa-6381-4563-b35f-7bab17b5bfd8">
<div id="section-e.1.2-25">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
isSocratesMortal : Human -&gt; (Human -&gt; Mortal) -&gt; Mortal
isSocratesMortal h f = f h
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.2-25" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_polymorphism">
<section id="section-e.1.3">
          <h3 id="name-polymorphism">
<a href="#section-e.1.3" class="section-number selfRef">E.1.3. </a><a href="#name-polymorphism" class="section-name selfRef">Polymorphism</a>
          </h3>
<div id="_f21a5f94-8a64-4980-9260-93c9bde276b7">
<p id="section-e.1.3-1">In some cases, questions can be made more general and still have a unique answer.
This is the case for the question explored in the previous section, where the question can be generalized to something called syllogism (also known as <em>Modus Ponens</em>).<a href="#section-e.1.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_fa1ce868-6382-4197-b559-aab68e308cef">
<p id="section-e.1.3-2">Polymorphism permits to substitute a type with a value that represents any type.
Thus finding an evidence shows that the answer is Yes for a whole family of related questions.<a href="#section-e.1.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_e08276ec-e35d-407e-beb1-d3e486cc7f7f">
<p id="section-e.1.3-3">Here we express that new generic question (the answer is the same) as this:<a href="#section-e.1.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_f1e1bbb4-8869-4b22-a8e6-583f5e0b6bc4">
<div id="section-e.1.3-4">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
syllogism : p -&gt; (p -&gt; q) -&gt; q
syllogism x f = f x
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.3-4" class="pilcrow">¶</a>
</div>
</div>
<div id="_e90515dc-b7ad-4f7a-925f-1f564bdb1d6a">
<p id="section-e.1.3-5">An identifier that starts with a lowercase character in an Idris type stands for all possible types.<a href="#section-e.1.3-5" class="pilcrow">¶</a></p>
</div>
<div id="_1db24ff6-d69a-4810-af78-d64061ab6029">
<p id="section-e.1.3-6">Here we have evidence that a question with this particular shape can always be answered with Yes.<a href="#section-e.1.3-6" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_empty_type_as_no">
<section id="section-e.1.4">
          <h3 id="name-empty-type-as-no">
<a href="#section-e.1.4" class="section-number selfRef">E.1.4. </a><a href="#name-empty-type-as-no" class="section-name selfRef">Empty Type as No</a>
          </h3>
<div id="_444ffc29-c6ec-4fdb-9bc5-ed6ec8abca48">
<p id="section-e.1.4-1">We saw previously that any value of a type is evidence of the Yes answer to the question encoded in that type.
So the absence of a value for a type is evidence that the answer is No.<a href="#section-e.1.4-1" class="pilcrow">¶</a></p>
</div>
<div id="_d450ae6a-b265-44bb-83a8-75e792ff27c4">
<p id="section-e.1.4-2">We have a problem here, as the evidence of No is that we cannot provide an evidence.
But, from our local point of view, there is no difference between the fact that there is no evidence, and the fact that we did not searched hard enough for the evidence.<a href="#section-e.1.4-2" class="pilcrow">¶</a></p>
</div>
<div id="_c2d8143f-5fa9-4f6b-82f6-11879764a75d">
<p id="section-e.1.4-3">We can work around this by using a property of implication, which is that only a type with a No answer can imply a type with a No answer.
So if we can implement a function (the Yes answer to the implication) between a type and an empty type (i.e., a type with a No answer), then we know that the former type is empty and that the answer it represents is also No.<a href="#section-e.1.4-3" class="pilcrow">¶</a></p>
</div>
<div id="_3e955a15-4a4d-4a55-9774-be85a8c222eb">
<p id="section-e.1.4-4">Idris provides an empty type for that: Void (not to be confused with the Java type Void, which is not an empty type).<a href="#section-e.1.4-4" class="pilcrow">¶</a></p>
</div>
<div id="_6c937d81-7f2e-4ff6-b2a7-721e69c55587">
<div id="section-e.1.4-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
noEvidence: Int -&gt; Void
noEvidence x = ?aa
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.4-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_b4731e0c-3705-4ec6-9f3e-99452f14bde3">
<p id="section-e.1.4-6">Here we cannot complete the program because we cannot produce a value of type Void, and that's because Int has Yes as answer.<a href="#section-e.1.4-6" class="pilcrow">¶</a></p>
</div>
<div id="_516c23fb-b3d0-4fc9-a7e2-6d2911b3daa3">
<p id="section-e.1.4-7">In Idris names that starts with a question mark are called holes and stand for a part of the program that we cannot or did not yet complete.<a href="#section-e.1.4-7" class="pilcrow">¶</a></p>
</div>
<div id="_4f81d045-f1ce-4cc6-832a-b87ec5a0b4a4">
<div id="section-e.1.4-8">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
data Empty : Type where

emptyIsNo : Empty -&gt; Void
emptyIsNo x impossible
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.4-8" class="pilcrow">¶</a>
</div>
</div>
<div id="_c0c035bc-e4df-47f0-8a40-97602e12e993">
<p id="section-e.1.4-9">Here we can write a program that shows that that <code>Empty</code> is equivalent to <code>Void</code>, this program acting as evidence that there is no evidence for <code>Empty</code>, and so that the answer is No.<a href="#section-e.1.4-9" class="pilcrow">¶</a></p>
</div>
<div id="_ca323158-dbbb-4b5f-89cc-c29fb976a39e">
<p id="section-e.1.4-10">Programmers will again be intrigued that a program that typechecks cannot be executed or tested.<a href="#section-e.1.4-10" class="pilcrow">¶</a></p>
</div>
<div id="_f779c2cf-a174-40ac-a412-9aa61cda9bbc">
<p id="section-e.1.4-11">The possibility of defining a type like Void that does not have any values by definition is one of the reason we need a different type system that used in most programming languages (most programming languages permits the use of <code>null</code> as value for any type).<a href="#section-e.1.4-11" class="pilcrow">¶</a></p>
</div>
<div id="_0f3f9925-a087-4809-970e-79111f0bf9ad">
<p id="section-e.1.4-12">We also touched on the fact that our programming language must be less powerful than usual, and it is also related to the answer No.<a href="#section-e.1.4-12" class="pilcrow">¶</a></p>
</div>
<div id="_feb6d84f-2f18-4703-964c-60dc11eb3664">
<p id="section-e.1.4-13">An implication to a type that contains at least one value is a function that returns that value.
But there is two cases where that function could not return that value, and thus acts as if the returned type is empty, and thus represents No instead of Yes.<a href="#section-e.1.4-13" class="pilcrow">¶</a></p>
</div>
<div id="_5166181e-36f5-4ad0-b199-7f63e49ecc51">
<p id="section-e.1.4-14">The first case is if the function crashes because it does not know how to handle the value passed as parameter.
A simple example example would be a function that divide 1 by the parameter - if the parameter is zero then the function will crashes and for the purpose of our interpretation is equivalent to an evidence of No because no value will be returned.
To prevent that problem our programming language should be covering all inputs values, i.e. not typecheck if there is cases not covered.<a href="#section-e.1.4-14" class="pilcrow">¶</a></p>
</div>
<div id="_b41fc8dc-3349-4647-b6ba-63708506e446">
<p id="section-e.1.4-15">The second case is when, for some reason, the code get stuck inside the function e.g., because of an infinite loop.
That would again be equivalent to an evidence of No.<a href="#section-e.1.4-15" class="pilcrow">¶</a></p>
</div>
<div id="_552fc2de-5ad3-4428-b836-852684be35bf">
<p id="section-e.1.4-16">Idris prevents these two cases by using the <code>total</code> keyword, which basically turns Idris into a non-Turing Complete language.<a href="#section-e.1.4-16" class="pilcrow">¶</a></p>
</div>
<div id="_f9bd6ae8-d90d-4713-9af7-948777955f1d">
<p id="section-e.1.4-17">Note that there is no way to possibility to write code that will detect for any possible code if it will loop or not.
That's why Idris may reject some code that will not loop, but it will never accept code that will loop.<a href="#section-e.1.4-17" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_sloppy_questions">
<section id="section-e.1.5">
          <h3 id="name-sloppy-questions">
<a href="#section-e.1.5" class="section-number selfRef">E.1.5. </a><a href="#name-sloppy-questions" class="section-name selfRef">Sloppy Questions</a>
          </h3>
<div id="_b7b3a35e-438d-44a6-b3f9-569aac1a0a4c">
<p id="section-e.1.5-1">Because there is not much difference between a No answer without evidence and not finding an answer, it's often useful to check and recheck that the question really expresses what we intended.<a href="#section-e.1.5-1" class="pilcrow">¶</a></p>
</div>
<div id="_d09c06d0-314c-43ef-80c1-75dc23419c59">
<p id="section-e.1.5-2">In the previous section we showed that syllogisms always have an answer of Yes.
There is a series of <span><a href="#Bennett15" class="xref">fallacies</a> [<a href="#Bennett15" class="xref">Bennett15</a>]</span> that are closely related to syllogisms, and here's one of them:<a href="#section-e.1.5-2" class="pilcrow">¶</a></p>
</div>
<div id="_b391659c-1113-46ac-a862-db93f636b43d">
<div id="section-e.1.5-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
syllogism : p -&gt; (q -&gt; p) -&gt; q
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.5-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_370be894-1977-4117-b3e1-0231f59415a1">
<p id="section-e.1.5-4">That can be read as "Assuming Socrates is a Human, and assuming that all Mortal are Humans, then is Socrates a Mortal?"
It may seems obvious that we cannot answer that question, so we may be able to get a No answer by rewriting the question that way:<a href="#section-e.1.5-4" class="pilcrow">¶</a></p>
</div>
<div id="_106363bf-9003-413d-b8e9-e686d62a1c18">
<div id="section-e.1.5-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
syllogistic_fallacy : (p -&gt; (q -&gt; p) -&gt; q) -&gt; Void
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.5-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_5bbc5023-69a7-4127-a931-a8cffab47933">
<p id="section-e.1.5-6">But in spite of our efforts, we cannot provide an evidence of that, which means that it is time to look closer at our question.<a href="#section-e.1.5-6" class="pilcrow">¶</a></p>
</div>
<div id="_053e862f-5d51-4530-8794-ad6f80058e9a">
<p id="section-e.1.5-7">The issue is that for this to be a fallacy, we need to assume that there is no evidence that all Humans are Mortals, which the previous question does not say.
With this modified question, we can now produce a evidence that it is indeed a fallacy:<a href="#section-e.1.5-7" class="pilcrow">¶</a></p>
</div>
<div id="_08d31a92-a4b6-4d43-a997-41376d0aec70">
<div id="section-e.1.5-8">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
syllogistic_fallacy : ((p -&gt; q) -&gt; Void) -&gt;
                        (p -&gt; (q -&gt; p) -&gt; q) -&gt; Void
syllogistic_fallacy f g = f (\x =&gt; g x (\y =&gt; x))
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.5-8" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_product_type">
<section id="section-e.1.6">
          <h3 id="name-product-type">
<a href="#section-e.1.6" class="section-number selfRef">E.1.6. </a><a href="#name-product-type" class="section-name selfRef">Product Type</a>
          </h3>
<div id="_326d8db5-ed4f-4c07-994a-8d9fa0a32c83">
<p id="section-e.1.6-1">The Product type permits to combine two or more questions such as the question represented by this type will have an answer of Yes only if all the questions also have an answer of Yes.<a href="#section-e.1.6-1" class="pilcrow">¶</a></p>
</div>
<div id="_88930530-4eec-4e71-bb53-69f5e29fe9ce">
<p id="section-e.1.6-2">The simplest Product type in Idris is the tuple, which is represented as a list of types separated by commas and enclosed in parentheses:<a href="#section-e.1.6-2" class="pilcrow">¶</a></p>
</div>
<div id="_bbdd18b9-b96f-41de-b207-e8664d71e568">
<div id="section-e.1.6-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
product : (String, Int, Char) -&gt; Bool
product : (x, y, z) -&gt; True
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.6-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_25c383cc-0f7e-4e11-9f13-e94ee18ff342">
<p id="section-e.1.6-4">The evidence has the same form as the type.<a href="#section-e.1.6-4" class="pilcrow">¶</a></p>
</div>
<div id="_4f266892-c6fc-4d44-bace-d6cccc257e05">
<p id="section-e.1.6-5">We can also provide evidence that the form above is equivalent to its curried form in general, and vice-versa:<a href="#section-e.1.6-5" class="pilcrow">¶</a></p>
</div>
<div id="_d276d4ef-7152-48eb-8e50-02f65d0d5e7b">
<div id="section-e.1.6-6">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
curry : ((a, b) -&gt; c) -&gt; (a -&gt; b -&gt; c)
curry f x y = f (x, y)

uncurry : (a -&gt; b -&gt; c) -&gt; ((a, b) -&gt; c)
uncurry f x = f (fst x) (snd x)
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.6-6" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_sum_type">
<section id="section-e.1.7">
          <h3 id="name-sum-type">
<a href="#section-e.1.7" class="section-number selfRef">E.1.7. </a><a href="#name-sum-type" class="section-name selfRef">Sum Type</a>
          </h3>
<div id="_70472e8a-72b3-4bfb-b559-e695f37aad5f">
<p id="section-e.1.7-1">The Sum type is a way to combine two or more questions such as the question represented by the Sum type will have an answer of Yes if at least one of the questions have an answer of Yes.<a href="#section-e.1.7-1" class="pilcrow">¶</a></p>
</div>
<div id="_dae6a92c-8bad-4d4c-93fb-e11f566103a2">
<p id="section-e.1.7-2">The simplest Sum type for two questions in Idris is <code>Either a b</code>.<a href="#section-e.1.7-2" class="pilcrow">¶</a></p>
</div>
<div id="_691597d9-4cb3-4b28-a4ce-c5f460422eb6">
<div id="section-e.1.7-3">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
sum : Either String Void -&gt; Bool
sum x = True
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.7-3" class="pilcrow">¶</a>
</div>
</div>
<div id="_be73f471-8539-40a4-84e5-0353a9a3e248">
<p id="section-e.1.7-4">We can combine Sum and Product types to reorganize a question and show evidence that the answer is general.<a href="#section-e.1.7-4" class="pilcrow">¶</a></p>
</div>
<div id="_8515d507-410b-47a7-83db-ea8e232d1f1c">
<div id="section-e.1.7-5">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
dist : (a, Either b c) -&gt; (Either a b, Either a c)
dist x = (Left (fst x), Left (fst x))
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.7-5" class="pilcrow">¶</a>
</div>
</div>
<div id="_e1a64d1a-5243-48b0-9bcf-a6b382ab1d84">
<p id="section-e.1.7-6">Sum and Product combined with negation gives us more general answers:<a href="#section-e.1.7-6" class="pilcrow">¶</a></p>
</div>
<div id="_15613226-7f1d-453b-90c9-fe3ff85adff2">
<div id="section-e.1.7-7">
<pre class="sourcecode lang-idris2">&lt;CODE BEGINS&gt;
dm1 : (Either (a -&gt; Void) (b -&gt; Void)) -&gt; ((a, b) -&gt; Void)
dm1 (Left x) y = x (fst y)
dm1 (Right x) y = x (snd y)

dm2 : (a -&gt; Void, b -&gt; Void) -&gt; ((Either a b) -&gt; Void)
dm2 x (Left y) = fst x y
dm2 x (Right y) = snd x y

dm3 : ((Either a b) -&gt; Void) -&gt; (a -&gt; Void, b -&gt; Void)
dm3 f = (\x =&gt; f (Left x), \x =&gt; f (Right x))
&lt;CODE ENDS&gt;</pre><a href="#section-e.1.7-7" class="pilcrow">¶</a>
</div>
</div>
</section>
</div>
<div id="_inductive_type">
<section id="section-e.1.8">
          <h3 id="name-inductive-type">
<a href="#section-e.1.8" class="section-number selfRef">E.1.8. </a><a href="#name-inductive-type" class="section-name selfRef">Inductive Type</a>
          </h3>
<div id="_51c2687f-ca76-42bc-a241-575c1dde646f">
<p id="section-e.1.8-1">TBD.<a href="#section-e.1.8-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_pi_type">
<section id="section-e.1.9">
          <h3 id="name-pi-type">
<a href="#section-e.1.9" class="section-number selfRef">E.1.9. </a><a href="#name-pi-type" class="section-name selfRef">Pi Type</a>
          </h3>
<div id="_717251a1-263d-414e-8d6d-3d9c7bb76bdb">
<p id="section-e.1.9-1">TBD.<a href="#section-e.1.9-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_sigma_type">
<section id="section-e.1.10">
          <h3 id="name-sigma-type">
<a href="#section-e.1.10" class="section-number selfRef">E.1.10. </a><a href="#name-sigma-type" class="section-name selfRef">Sigma Type</a>
          </h3>
<div id="_24490fde-26c2-48d5-a451-630fec864938">
<p id="section-e.1.10-1">TBD.<a href="#section-e.1.10-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_equality_type">
<section id="section-e.1.11">
          <h3 id="name-equality-type">
<a href="#section-e.1.11" class="section-number selfRef">E.1.11. </a><a href="#name-equality-type" class="section-name selfRef">Equality Type</a>
          </h3>
<div id="_00d023be-f5f7-4b77-979e-38f4b359e9f2">
<p id="section-e.1.11-1">TBD.<a href="#section-e.1.11-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="_decidable_type">
<section id="section-e.1.12">
          <h3 id="name-decidable-type">
<a href="#section-e.1.12" class="section-number selfRef">E.1.12. </a><a href="#name-decidable-type" class="section-name selfRef">Decidable Type</a>
          </h3>
<div id="_f9213bfe-cfc0-46b2-8faf-571aa6715035">
<p id="section-e.1.12-1">TBD.<a href="#section-e.1.12-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="_how_to_find_evidence">
<section id="section-e.2">
        <h2 id="name-how-to-find-evidence">
<a href="#section-e.2" class="section-number selfRef">E.2. </a><a href="#name-how-to-find-evidence" class="section-name selfRef">How to Find Evidence</a>
        </h2>
<div id="_b0995b59-324a-429b-81a3-a7205b3f9685">
<p id="section-e.2-1">TBD<a href="#section-e.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="dpm">
<section id="section-appendix.f">
      <h2 id="name-a-distributed-package-manag">
<a href="#section-appendix.f" class="section-number selfRef">Appendix F. </a><a href="#name-a-distributed-package-manag" class="section-name selfRef">A Distributed Package Manager for Computerate Specifications</a>
      </h2>
<blockquote id="section-appendix.f-1">
        <div id="_2cad65b7-8d9e-4bc1-bedf-6104d222d124">
<p id="section-appendix.f-1.1">Any organization that designs a system (defined broadly) will produce a design whose structure is a copy of the organization's communication structure.<a href="#section-appendix.f-1.1" class="pilcrow">¶</a></p>
</div>
<cite>— Melvin E. Conway</cite>
</blockquote>
<div id="_e64c6e0f-8116-413b-b539-13581dcd947b">
<p id="section-appendix.f-2">One long-term goal of this document is to establish a library of exported specifications for network protocols, much like the <span><a href="#Community20" class="xref">Lean Mathematical Library</a> [<a href="#Community20" class="xref">Community20</a>]</span>.
But unlike mathlib, which is built as a single git repository hosted in GitHub, the computerate library is built to mirror the intended distributed design of the Internet.<a href="#section-appendix.f-2" class="pilcrow">¶</a></p>
</div>
<div id="_0959a6b1-ce99-4968-8cb1-77768a9785af">
<p id="section-appendix.f-3">Computerate specifications are composed of code, so using a git repository to store that code and its evolution seems the right choice.
But instead of using a single repository, each computerate specification is stored into a separate git repository.
This permits to let each contributor choose how they will provide a public access to each git repository, anywhere in the spectrum from hosting providers (GitHub, GitLab, BitBucket...​) to distributed services (IPFS, Radicle...​), and including self-hosted servers (Gitolite, GitLab...​).<a href="#section-appendix.f-3" class="pilcrow">¶</a></p>
</div>
<div id="_82935769-8cc1-4075-8e0d-8262dfef3e1a">
<p id="section-appendix.f-4">Be able to export specifications would be useless without the ability to import other specifications.
This requires the use of dependencies, such as the graph of dependencies between specifications will grow until it mirrors the graph of normative references between standards documents.<a href="#section-appendix.f-4" class="pilcrow">¶</a></p>
</div>
<div id="_878eaf22-2bda-4ef7-b740-44b1f099e816">
<p id="section-appendix.f-5">Here also we eschew the usual solution to that issue, which is using a centralized artifact repository (Maven, Gem, Apt, ...​), in favor of a distributed solution, both for the storage of the binary artifacts and for the resources needed to build and verify them.<a href="#section-appendix.f-5" class="pilcrow">¶</a></p>
</div>
<div id="_3725d6b4-c531-424a-b991-a3cb8cf4d74f">
<p id="section-appendix.f-6">The solutions developed to fulfill these requirements ensure better availability, scalability and freedom than if it was designed as a single GitHub repository.<a href="#section-appendix.f-6" class="pilcrow">¶</a></p>
</div>
<div id="_distributed_source_repositories">
<section id="section-f.1">
        <h2 id="name-distributed-source-reposito">
<a href="#section-f.1" class="section-number selfRef">F.1. </a><a href="#name-distributed-source-reposito" class="section-name selfRef">Distributed Source Repositories</a>
        </h2>
<div id="dpm_gits">
<section id="section-f.1.1">
          <h3 id="name-the-gits-protocol">
<a href="#section-f.1.1" class="section-number selfRef">F.1.1. </a><a href="#name-the-gits-protocol" class="section-name selfRef">The <code>gits</code> Protocol</a>
          </h3>
<blockquote id="section-f.1.1-1">
            <div id="_8855d410-19e0-4314-9981-bcd7f24b6590">
<p id="section-f.1.1-1.1">It's not that I have something to hide. I have nothing I want you to see.<a href="#section-f.1.1-1.1" class="pilcrow">¶</a></p>
</div>
<cite>— Amanda Seyfried's character in Anon (2018)</cite>
</blockquote>
<div id="_4402cedf-338c-4c8a-b667-48c793826793">
<p id="section-f.1.1-2">Among all transport protocols that can be used to fetch commits, the Git protocol is the fastest as it runs directly over a TCP connection.
It is directly implemented by the <code>git daemon</code> command.
For this reason it is the best choice to make public a git repository in read-only mode.<a href="#section-f.1.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_4758773a-5faa-4808-a71a-247ec61d0d60">
<p id="section-f.1.1-3">But, although everyone can fetch commits from such a repository, the transfer of the commits themselves is not encrypted.
The <code>gits</code> transport protocol solves that issue by replacing the TCP connection by a TLS connection.
On the client side, the remote helper <code>git-remote-gits</code> is provided as part of the tooling.
On the server side, the simplest solution is to use <code>stunnel</code> together with <code>git daemon</code>.<a href="#section-f.1.1-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="dpm_source_mgits">
<section id="section-f.1.2">
          <h3 id="name-the-mgit-and-mgits-protocol">
<a href="#section-f.1.2" class="section-number selfRef">F.1.2. </a><a href="#name-the-mgit-and-mgits-protocol" class="section-name selfRef">The <code>mgit</code> and <code>mgits</code> Protocols</a>
          </h3>
<div id="_6eff3731-b18f-4e27-89e6-6c5c62c3e3d6">
<p id="section-f.1.2-1">The mgit protocol provides an indirection to a list of git URLs, all pointing to identical mirrors of the same repository.
An mgit URL provides scalability, reliability, and the ability of adding and removing git mirrors without having to changing the URL itself.
Note that mirrors can use any kind of git URL (http, ssh, git, etc...​), including gits URLs.<a href="#section-f.1.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_afb9b4d1-e522-43f0-a55f-edf3872b6b45">
<p id="section-f.1.2-2">An mgit URL has the format "mgit://&lt;random&gt;", where &lt;random&gt; is a 40 hexadecimal characters string.
Such URL is very stable, and can be published in a document for the purpose of retrieving the git repository holding the computerate specification that was used to generate that document.<a href="#section-f.1.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_34d8a78e-ea6e-4e0e-8af9-709bbd752477">
<p id="section-f.1.2-3">Internally that string is used as the index to store the list of URLs pointing to the git mirrors in a <span><a href="#RFC6940" class="xref">RELOAD</a> [<a href="#RFC6940" class="xref">RFC6940</a>]</span> P2P Overlay.
Note that storing such list of URLs in the overlay requires credentials.<a href="#section-f.1.2-3" class="pilcrow">¶</a></p>
</div>
<div id="_5f8f92e6-cfeb-46bb-b655-7753b66b9b8c">
<p id="section-f.1.2-4">The remote helper <code>git-remote-mgit</code> is provided as part of the tooling.
When used to fetch commit, it first contacts the overlay to retrieve the list of mirrors, then choose one randomly and fetch the commits from there.
If the mirror does not respond, then another mirror is randomly selected from the list, until all mirrors have be tried.<a href="#section-f.1.2-4" class="pilcrow">¶</a></p>
</div>
<div id="_cebcb946-88e8-4df0-9b6f-d6d4a3af867b">
<p id="section-f.1.2-5">The 'git-remote-mgits` remote helper behaves similarly, but always excludes URLs that do not encrypt the transport.<a href="#section-f.1.2-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="dpm_source_dep">
<section id="section-f.1.3">
          <h3 id="name-git-submodules-as-dependenc">
<a href="#section-f.1.3" class="section-number selfRef">F.1.3. </a><a href="#name-git-submodules-as-dependenc" class="section-name selfRef">Git Submodules as Dependencies</a>
          </h3>
<div id="_2dd6fd37-d351-4166-9e17-8c9e1c414fbf">
<p id="section-f.1.3-1">A specification is a set of files that, together, are used as input to a process that generate a document.
The subset of Idris files in that set forms an Idris Package.
One and only one Idris package is stored per Git repository.<a href="#section-f.1.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_19ef7344-c020-42a9-9a6d-89368b3b5efe">
<p id="section-f.1.3-2">For specifications defined by this document, dependencies to other Idris Packages are defined by adding the Git repositories storing these repositories as Git submodules.
This permits to distribute the graph of dependencies between each repository, without requiring a separate way of storing that information.
The downside of doing that is that a new commit needs to be created to change the URL of a submodule.<a href="#section-f.1.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_73a3a96b-0ed1-4d7b-b9aa-182ea8e5378a">
<p id="section-f.1.3-3">In the traditional use of a submodule, 1) the URL to the Git repository together with 2) the commit that needs to be checked out in that repository, are the two pieces of information that are stored.<a href="#section-f.1.3-3" class="pilcrow">¶</a></p>
</div>
<div id="_55810f61-8dca-41ad-807a-263300d7a474">
<p id="section-f.1.3-4">Instead of using a traditional <code>https</code> URL for the submodule, we use an <code>mgits</code> URL which brings a better reliability and availability, together with the ability to add or remove mirrors without having to create a new commit.<a href="#section-f.1.3-4" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="dpm_bin">
<section id="section-f.2">
        <h2 id="name-distributed-artifact-manage">
<a href="#section-f.2" class="section-number selfRef">F.2. </a><a href="#name-distributed-artifact-manage" class="section-name selfRef">Distributed Artifact Manager</a>
        </h2>
<div id="dpm_bin_repr">
<section id="section-f.2.1">
          <h3 id="name-reproducible-build">
<a href="#section-f.2.1" class="section-number selfRef">F.2.1. </a><a href="#name-reproducible-build" class="section-name selfRef">Reproducible Build</a>
          </h3>
<div id="_9d47da0e-17f5-4e4b-8dbb-8610af535559">
<p id="section-f.2.1-1">We are storing binary artifacts in a distributed cache that is colocated with each git repository.<a href="#section-f.2.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_29a22170-9464-42f9-905f-28dc8e00b93f">
<p id="section-f.2.1-2">Because the size of a cache cannot be unbounded, we need to be able to rebuild any artifact at any time from any commit in a git repository, and ensure that the artifact built for a commit stays the same regardless of when and where it is built.<a href="#section-f.2.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_cf3acec4-bc60-4b39-aa05-15015a950bda">
<p id="section-f.2.1-3">We solve this issue by making all specification builds reproducible.
In that context, reproducible means that building binary artifacts now or in 10 years will result in two sets of artifacts that are bit-exact identical.<a href="#section-f.2.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_0855e6d1-7cbf-4385-992e-9590ec70775c">
<p id="section-f.2.1-4">That property permits to identifies each build by the commit-id of the commit of the source that was used to build it.<a href="#section-f.2.1-4" class="pilcrow">¶</a></p>
</div>
<div id="_b4d129e7-af62-4f88-bd14-54e04262c1c5">
<p id="section-f.2.1-5">A clear consequence of this is that the Idris compiler and its runtime (chezscheme) should be available as source on the same commit, and should be part of the build.
The simplest way to guarantee that is that these tools are also available as git submodules.<a href="#section-f.2.1-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="dpm_bin_cache">
<section id="section-f.2.2">
          <h3 id="name-distributed-cache">
<a href="#section-f.2.2" class="section-number selfRef">F.2.2. </a><a href="#name-distributed-cache" class="section-name selfRef">Distributed Cache</a>
          </h3>
<div id="_4f259aae-865b-40d7-8a1b-f6d0d0ac72b7">
<p id="section-f.2.2-1">We use the git-lfs extension storage, when available, to store the binary artifacts.<a href="#section-f.2.2-1" class="pilcrow">¶</a></p>
</div>
<div id="_9fe3c89f-fd52-4cd9-853c-e23277db4f24">
<p id="section-f.2.2-2">When a build ends successfully, all the artifacts created in the source tree, which are easily recognizable because they are the files that are not already managed by git (ignoring the content of the .gitignore file), are packed in a file (zip, tar...​) and uploaded into the git-lfs server, using the SHA256 hash of the commit-id of the source tree as OID.<a href="#section-f.2.2-2" class="pilcrow">¶</a></p>
</div>
<div id="_208e554a-4a56-40b2-b3e4-fb999daf613a">
<p id="section-f.2.2-3">The first step of a build is to try to retrieve the artifacts from the git-lfs storage, using the current commit-id.
If that succeeds, the zip file retrieved is expanded, such as the artifacts are installed in the source tree exactly as they are after a successful build.
If that fails then the build proceeds as usual.<a href="#section-f.2.2-3" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
<div id="dpm_rec">
<section id="section-f.3">
        <h2 id="name-recursive-build">
<a href="#section-f.3" class="section-number selfRef">F.3. </a><a href="#name-recursive-build" class="section-name selfRef">Recursive Build</a>
        </h2>
<div id="_ec59df72-829d-4a2b-a7f5-dfb5e6ac58c6">
<p id="section-f.3-1">Building a specification generally starts with building dependencies, as defined by submodules.
Because submodules may themselves have submodules, the build becomes recursive.<a href="#section-f.3-1" class="pilcrow">¶</a></p>
</div>
<div id="_f89604da-b512-4342-b311-e2bedf245fcb">
<p id="section-f.3-2">Building a specification recursively from source would take a long time, so we take advantage of the distributed caches to download the binary artifacts instead when they are available.<a href="#section-f.3-2" class="pilcrow">¶</a></p>
</div>
<div id="_1399906f-404e-40b0-b26f-38fdde7d1505">
<p id="section-f.3-3">To do so we need first to index the git repositories specifications by their commit-id.<a href="#section-f.3-3" class="pilcrow">¶</a></p>
</div>
<div id="dpm_rec_idx">
<section id="section-f.3.1">
          <h3 id="name-indexing-commits">
<a href="#section-f.3.1" class="section-number selfRef">F.3.1. </a><a href="#name-indexing-commits" class="section-name selfRef">Indexing Commits</a>
          </h3>
<div id="_be6519c0-4315-4018-9c86-c124f5807b7d">
<p id="section-f.3.1-1">We are using of one of the properties of a commit-id, which is a hash of the content of a commit, including the date and time, and the commit-id of the previous commit.
That property is that a commit-id is a statistically globally unique identifier for the content of that commit, meaning that if the same commit-id lives in different repositories, they will still points to the exact same content.
That means that by building an index for all the commit-ids of interest, we can associate each of them with the list of git repositories that contain it.<a href="#section-f.3.1-1" class="pilcrow">¶</a></p>
</div>
<div id="_7d8fd2d3-c8df-4e7a-a3e4-cd662fb4a87b">
<p id="section-f.3.1-2">We are doing this indexation again in a distributed way, using the same RELOAD P2P overlay used in <a href="#dpm_source_mgits" class="xref">Appendix F.1.2</a>.<a href="#section-f.3.1-2" class="pilcrow">¶</a></p>
</div>
<div id="_8cd8cf24-a2d7-4e28-9864-f303797dbc86">
<p id="section-f.3.1-3">Each time commits for a computerate specification are pushed in a git repository that have a public access, our <code>mgits</code> git remote helper is used as a wrapper for the actual URI:<a href="#section-f.3.1-3" class="pilcrow">¶</a></p>
</div>
<div id="_a1da3793-f0ea-4688-b887-16def12c489b">
<div id="section-f.3.1-4">
<pre class="sourcecode lang-bash">
mgits::gitolite3@example.org:computerate-specifying.git</pre><a href="#section-f.3.1-4" class="pilcrow">¶</a>
</div>
</div>
<div id="_e1ec3a34-71a5-4aad-8702-1807f7277498">
<p id="section-f.3.1-5">The 'computerate' wrapper stores each commit pushed in the P2P overlay as index, with the <code>gitolite3@example.org:computerate-specifying.git</code> URL in the associated RELOAD Array.
If the Array for a specific commit already exist, the URL is added to that Array if the URL is not already there.<a href="#section-f.3.1-5" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="dpm_rec_build">
<section id="section-f.3.2">
          <h3 id="name-building-a-submodule">
<a href="#section-f.3.2" class="section-number selfRef">F.3.2. </a><a href="#name-building-a-submodule" class="section-name selfRef">Building a Submodule</a>
          </h3>
<div id="_41f95ad1-5f2a-4684-a4eb-d52660b5ee55">
<p id="section-f.3.2-1">Before building a submodule, the build process queries the P2P Overlay using the commit-id of the submodule as index.
That returns a list of git URLs, each pointing to a git repositories that hold that particular commit.
The build process chooses one of these, and tries to download the binary artifacts, as explained in <a href="#dpm_bin_cache" class="xref">Appendix F.2.2</a>.
If the artifacts are not available, the sources files are retrieved from one of the git repositories, and the build is applied to each submodule before building that submodule.<a href="#section-f.3.2-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="dpm_rec_pin">
<section id="section-f.3.3">
          <h3 id="name-pinned-down-builds">
<a href="#section-f.3.3" class="section-number selfRef">F.3.3. </a><a href="#name-pinned-down-builds" class="section-name selfRef">Pinned Down Builds</a>
          </h3>
<div id="_33943993-7470-44b4-9bd0-e274d446d32b">
<p id="section-f.3.3-1">The whole process would require to start the typechecking of any specification that is not yet cached by rebuilding the Idris compiler and the chezscheme runtime.
This is why it is permitted to pin down some builds in the distributed cache, i.e. they are never candidate for removal, which would make them always available.<a href="#section-f.3.3-1" class="pilcrow">¶</a></p>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="ack">
<section id="section-appendix.g">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<div id="_ac8faac6-326c-4ffc-9962-f5359915aaba">
<p id="section-appendix.g-1">Thanks to
Jim Kleck,
Eric Petit-Huguenin,
Nicolas Gironi,
Stephen McQuistin,
Greg Skinner,
and
Raluca Toth
for the comments, suggestions, questions, and testing that helped improve this document and its associated tooling.<a href="#section-appendix.g-1" class="pilcrow">¶</a></p>
</div>
<div id="_9e5c5e1e-48bd-4fc9-8159-78996f11d038">
<p id="section-appendix.g-2">Thanks to Ronald Tse and the Ribose team for the metanorma and relaton tools and their diligence in fixing bugs and implementing improvements.<a href="#section-appendix.g-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="contrib">
<section id="section-appendix.h">
      <h2 id="name-contributors">
<a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<div id="_e514aeef-3312-4f05-a7dd-7a822771ccd2">
<p id="section-appendix.h-1">Stephane Bryant<a href="#section-appendix.h-1" class="pilcrow">¶</a></p>
</div>
<div id="_e5f0c1e3-9c42-4e61-a613-81916130d38b">
<p id="section-appendix.h-2">Email: stephane.ml.bryant@gmail.com<a href="#section-appendix.h-2" class="pilcrow">¶</a></p>
</div>
</section>
</div>
<div id="changelog">
<section id="section-appendix.i">
      <h2 id="name-changelog">
<a href="#name-changelog" class="section-name selfRef">Changelog</a>
      </h2>
<span class="break"></span><div id="_33d837af-a9ec-42d7-9bb2-ef88f26cbb31">
<dl class="dlParallel" id="section-appendix.i-1">
        <dt id="section-appendix.i-1.1">draft-petithuguenin-computerate-specifying-08: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-1.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-2.1">
          <div id="_bb70ce62-7185-4464-bf2c-1c0a35079a4d">
<p id="section-appendix.i-2.1.1">Document:<a href="#section-appendix.i-2.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-2.1.2.1">
              <div id="_9689ce01-d9ec-49d1-8e55-fd5e97925dea">
<p id="section-appendix.i-2.1.2.1.1">Most of the bibliography is now generated from a Zotero collection, resulting in a better and easier to maintain bibliography.<a href="#section-appendix.i-2.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-2.1.2.2">
              <div id="_37a14a27-8805-4619-8335-4ec7327f83e9">
<p id="section-appendix.i-2.1.2.2.1">Nits.<a href="#section-appendix.i-2.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-2.1.2.3">
              <div id="_4e983b98-630a-48aa-bcb4-caf078712d39">
<p id="section-appendix.i-2.1.2.3.1">Explanations on how to convert a CPN transition into a TPN transition.<a href="#section-appendix.i-2.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-2.1.2.4">
              <div id="_04344795-4e4d-4c48-9009-42ac42dcf67c">
<p id="section-appendix.i-2.1.2.4.1">New appendix F describing the distributed system for the computerate specifications library.<a href="#section-appendix.i-2.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-2.1.2.5">
              <div id="_f6b16b35-244f-4907-84ba-a12738669cc2">
<p id="section-appendix.i-2.1.2.5.1">Improvements in the TPN Tutorial, Reference and IdrisDoc.<a href="#section-appendix.i-2.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-3.1">
          <div id="_12691aee-eda4-49c8-8f2b-239cd56f2527">
<p id="section-appendix.i-3.1.1">Tooling:<a href="#section-appendix.i-3.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-3.1.2.1">
              <div id="_70e6ac0c-f832-4c9b-a809-43598de65152">
<p id="section-appendix.i-3.1.2.1.1">Add rfc2mn tool to convert an xml2rfc file into an AsciiDoc document.<a href="#section-appendix.i-3.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-3.1.2.2">
              <div id="_c54974c5-118b-4b4c-9f15-44560524eff9">
<p id="section-appendix.i-3.1.2.2.1">Update asciidoctor to 2.0.14<a href="#section-appendix.i-3.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-3.1.2.3">
              <div id="_5a078c3f-0d39-41db-8e40-ff1ccd96967d">
<p id="section-appendix.i-3.1.2.3.1">Update metanorma to 1.3.0.<a href="#section-appendix.i-3.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-3.1.2.4">
              <div id="_ebe8064c-51a3-493d-81db-58298858675d">
<p id="section-appendix.i-3.1.2.4.1">Update metanorma-ietf to 2.3.0.<a href="#section-appendix.i-3.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-3.1.2.5">
              <div id="_710ab2c5-9cd8-455d-abf1-7c10e6dca470">
<p id="section-appendix.i-3.1.2.5.1">Update xml2rfc to 3.7.0.<a href="#section-appendix.i-3.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-3.1.2.6">
              <div id="_d1e6329d-e105-4cad-8ed9-060afb378509">
<p id="section-appendix.i-3.1.2.6.1">Multiline problem in postal address is fixed in metanorma.<a href="#section-appendix.i-3.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-3.1.2.7">
              <div id="_e55f9382-28bf-4f3a-9f3d-de1fb9cfcce1">
<p id="section-appendix.i-3.1.2.7.1">Default figure wrapping problem is fixed in metanorma.<a href="#section-appendix.i-3.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<span class="break"></span><div id="_8c978467-6d7d-4889-98b4-3a99d2bd3e3b">
<dl class="dlParallel" id="section-appendix.i-4">
        <dt id="section-appendix.i-4.1">draft-petithuguenin-computerate-specifying-07: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-4.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-5.1">
          <div id="_90501dcc-7252-4bba-8b58-f022a70c562b">
<p id="section-appendix.i-5.1.1">Document:<a href="#section-appendix.i-5.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-5.1.2.1">
              <div id="_bdfdf458-9aab-48c6-972a-893272a519fe">
<p id="section-appendix.i-5.1.2.1.1">New text for Sum type, Product type.<a href="#section-appendix.i-5.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-5.1.2.2">
              <div id="_28d11c92-ff5c-4dbc-910e-3500c29943c6">
<p id="section-appendix.i-5.1.2.2.1">Text explaining how to convert a CPN Place into a TPN Place.<a href="#section-appendix.i-5.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-5.1.2.3">
              <div id="_ad5079f8-38c3-42f4-ad32-22adda5b1b20">
<p id="section-appendix.i-5.1.2.3.1">Typed Petri Nets are now hierarchical.<a href="#section-appendix.i-5.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-6.1">
          <div id="_ef4429b4-54d9-4444-ae39-0a2f679a45c5">
<p id="section-appendix.i-6.1.1">Tooling:<a href="#section-appendix.i-6.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-6.1.2.1">
              <div id="_1e3bfc2a-bc44-4365-ae04-6673d89e2d67">
<p id="section-appendix.i-6.1.2.1.1">Idris can now run shebang files.<a href="#section-appendix.i-6.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-6.1.2.2">
              <div id="_24438f08-b0bd-41c4-8838-2629838954c7">
<p id="section-appendix.i-6.1.2.2.1">Update xml2rfc to 3.6.0.<a href="#section-appendix.i-6.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-6.1.2.3">
              <div id="_982bbaec-7b9e-4a45-bac4-22543ffdad70">
<p id="section-appendix.i-6.1.2.3.1">Update metanorma to 1.2.7.<a href="#section-appendix.i-6.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-6.1.2.4">
              <div id="_fb54bbd8-234e-4b9a-bab9-7d980d49c965">
<p id="section-appendix.i-6.1.2.4.1">Update metanorma-ietf to 2.2.9.<a href="#section-appendix.i-6.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<span class="break"></span><div id="_35c2a7ee-2021-4649-ab01-f4e1b9562ce3">
<dl class="dlParallel" id="section-appendix.i-7">
        <dt id="section-appendix.i-7.1">draft-petithuguenin-computerate-specifying-06: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-7.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-8.1">
          <div id="_ece23211-aab9-4f96-98ef-bbd12300c49a">
<p id="section-appendix.i-8.1.1">Document:<a href="#section-appendix.i-8.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-8.1.2.1">
              <div id="_5565ba24-f3f9-40ee-b87d-3ea1e182b747">
<p id="section-appendix.i-8.1.2.1.1">Rename abstract type as semantic type, and coloured petri nets as colored petri net.<a href="#section-appendix.i-8.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-8.1.2.2">
              <div id="_9178e41b-1fa3-41a2-b784-8cbcdfd86e3d">
<p id="section-appendix.i-8.1.2.2.1">Remove figure wrapper from all source code, and added markers when missing.<a href="#section-appendix.i-8.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-8.1.2.3">
              <div id="_0755f52b-668a-47c8-8b1d-cc98d2c5c2df">
<p id="section-appendix.i-8.1.2.3.1">Rewrite and extension of sections 6.1.4 and 6.1.5.2 to show how to generate a Message Sequence Chart from a Petri Net.<a href="#section-appendix.i-8.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-8.1.2.4">
              <div id="_45d356d0-6b20-4798-879e-2e3de4472477">
<p id="section-appendix.i-8.1.2.4.1">New step by step explanation on how to manually convert a CPN into a TPN as appendix D.<a href="#section-appendix.i-8.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-8.1.2.5">
              <div id="_040e4e87-88d3-4537-8917-6345fdfc5fd3">
<p id="section-appendix.i-8.1.2.5.1">New tutorial on Evidence-Based Answers as appendix E.<a href="#section-appendix.i-8.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-9.1">
          <div id="_e77b88d0-e881-4096-a7da-0fa3a8eac4d8">
<p id="section-appendix.i-9.1.1">Tooling:<a href="#section-appendix.i-9.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="normal compact">
<li class="normal compact" id="section-appendix.i-9.1.2.1">
              <div id="_2ecc2829-2497-4cf8-964e-ca596ba1ac63">
<p id="section-appendix.i-9.1.2.1.1">Generated sourcecode elements are no longer wrapped by default in a figure element.<a href="#section-appendix.i-9.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-10.1">
          <div id="_c6cb0132-1dee-4af6-9fb9-d7acc4c91889">
<p id="section-appendix.i-10.1.1">Library:<a href="#section-appendix.i-10.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-10.1.2.1">
              <div id="_91ba3774-5c40-4189-8b9b-330cc902c7e6">
<p id="section-appendix.i-10.1.2.1.1">Update of the <code>Tpn</code> module.<a href="#section-appendix.i-10.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<span class="break"></span><div id="_404cc7f2-48d8-40c3-a756-0257a264af5d">
<dl class="dlParallel" id="section-appendix.i-11">
        <dt id="section-appendix.i-11.1">draft-petithuguenin-computerate-specifying-05: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-11.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-12.1">
          <div id="_1e8c22a3-48b1-4f75-b795-3a28a7d7fd24">
<p id="section-appendix.i-12.1.1">Document:<a href="#section-appendix.i-12.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-12.1.2.1">
              <div id="_e0e67a76-9903-4a9b-8b1b-4319a7b140c9">
<p id="section-appendix.i-12.1.2.1.1">Update installation instructions for BitTorrent.<a href="#section-appendix.i-12.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-12.1.2.2">
              <div id="_740092cf-f1c9-4103-b4d9-29e53436711c">
<p id="section-appendix.i-12.1.2.2.1">Removed text related to the dat tool.<a href="#section-appendix.i-12.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-12.1.2.3">
              <div id="_ad36b10e-dd3d-4516-a286-33e995f50bde">
<p id="section-appendix.i-12.1.2.3.1">Modifications following Stephane's review.<a href="#section-appendix.i-12.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-12.1.2.4">
              <div id="_3b11f264-a926-4725-8ea7-23fe8aeb5501">
<p id="section-appendix.i-12.1.2.4.1">Add XMPP address.<a href="#section-appendix.i-12.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-13.1">
          <div id="_0f323dd5-70ad-4076-8725-29b71e1b8e39">
<p id="section-appendix.i-13.1.1">Tooling:<a href="#section-appendix.i-13.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-13.1.2.1">
              <div id="_b276c3de-f5d5-4144-92b4-a81938a8fdc1">
<p id="section-appendix.i-13.1.2.1.1">Fix idrisdoc when generating multiplicity.<a href="#section-appendix.i-13.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-13.1.2.2">
              <div id="_df1ebd33-cfd6-4699-93be-462957a0786e">
<p id="section-appendix.i-13.1.2.2.1">Upgrade asciidoctor to 2.0.12.<a href="#section-appendix.i-13.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-13.1.2.3">
              <div id="_f9a86e60-c434-4880-b42e-54c631f834cd">
<p id="section-appendix.i-13.1.2.3.1">Upgrade xml2rfc to 3.5.0.<a href="#section-appendix.i-13.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-13.1.2.4">
              <div id="_82b5d39f-8678-4968-b1de-3aa77471eaac">
<p id="section-appendix.i-13.1.2.4.1">xml2rfc --validation option makes patch unnecessary.<a href="#section-appendix.i-13.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-13.1.2.5">
              <div id="_a67e0412-cf7d-44ef-8040-783d64b551ec">
<p id="section-appendix.i-13.1.2.5.1">Upgrade metanorma (1.2.5) and dependencies.<a href="#section-appendix.i-13.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-13.1.2.6">
              <div id="_0a588875-025f-4514-940b-b1e71172fd57">
<p id="section-appendix.i-13.1.2.6.1">The tooling docker image is now distributed as a BitTorrent.<a href="#section-appendix.i-13.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-13.1.2.7">
              <div id="_ab2c8366-690e-4d70-8e66-e558a36b1ec5">
<p id="section-appendix.i-13.1.2.7.1">Idnits upgraded to 2.16.05.<a href="#section-appendix.i-13.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-14.1">
          <div id="_d280060f-913d-4a2e-8ad7-60f370c517e0">
<p id="section-appendix.i-14.1.1">Library:<a href="#section-appendix.i-14.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-14.1.2.1">
              <div id="_13547de8-b00f-4cef-b500-1368d50a191a">
<p id="section-appendix.i-14.1.2.1.1">Use linear types in some BitVector functions.<a href="#section-appendix.i-14.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<span class="break"></span><div id="_c56a8a96-31e5-4cca-a834-39231bf4e174">
<dl class="dlParallel" id="section-appendix.i-15">
        <dt id="section-appendix.i-15.1">draft-petithuguenin-computerate-specifying-04: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-15.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-16.1">
          <div id="_42ca1e4c-2229-48de-99bb-9f2a1cb8bf2b">
<p id="section-appendix.i-16.1.1">Document:<a href="#section-appendix.i-16.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-16.1.2.1">
              <div id="_9bb99b50-3f29-48c4-bd5f-fc47957c02af">
<p id="section-appendix.i-16.1.2.1.1">Sections 2, 3, 4 and 5 have been completely reorganized, edited, and extended as a tutorial.<a href="#section-appendix.i-16.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.2">
              <div id="_07d3bbc1-8440-4e6b-bfac-aad42921a20c">
<p id="section-appendix.i-16.1.2.2.1">New Terminology section.<a href="#section-appendix.i-16.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.3">
              <div id="_3d3ec993-9db7-4c0c-a0c5-77f2e4a526d6">
<p id="section-appendix.i-16.1.2.3.1">Add a new Standard Library section, that contains the description of all the Idris modules and external packages that will be available for developing specifications.<a href="#section-appendix.i-16.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.4">
              <div id="_4ab83324-b81e-46d0-8909-7638dadb0851">
<p id="section-appendix.i-16.1.2.4.1">Improve bibliography.<a href="#section-appendix.i-16.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.5">
              <div id="_4bd05a13-8ef3-462a-93a3-ea6779fd99f9">
<p id="section-appendix.i-16.1.2.5.1">Extend the CLI section to cover:<a href="#section-appendix.i-16.1.2.5.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-16.1.2.5.2.1">
                  <div id="_79077e16-ac6c-4850-84af-a37655b142f7">
<p id="section-appendix.i-16.1.2.5.2.1.1">New features.<a href="#section-appendix.i-16.1.2.5.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-16.1.2.5.2.2">
                  <div id="_d3a1efba-fa85-4c90-9285-f98b26921ccd">
<p id="section-appendix.i-16.1.2.5.2.2.1">Bibliography templates.<a href="#section-appendix.i-16.1.2.5.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-16.1.2.5.2.3">
                  <div id="_aa08a030-b1a6-488f-bc41-7ae35bd878c2">
<p id="section-appendix.i-16.1.2.5.2.3.1">Complete bugs and TODO lists.<a href="#section-appendix.i-16.1.2.5.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
              </ul>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.6">
              <div id="_3c326deb-58a0-4ecc-997c-faaa655f62a6">
<p id="section-appendix.i-16.1.2.6.1">Generate IdrisDoc of standard library packages and modules as a new appendix.<a href="#section-appendix.i-16.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.7">
              <div id="_dba744b0-1111-40cf-a0a6-2537cc392c31">
<p id="section-appendix.i-16.1.2.7.1">Update errata stats.<a href="#section-appendix.i-16.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.8">
              <div id="_3644f7a0-1b5b-4a7d-90aa-d8bcde53af1f">
<p id="section-appendix.i-16.1.2.8.1">More compact changelog.<a href="#section-appendix.i-16.1.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-16.1.2.9">
              <div id="_8393f52a-444d-4a8f-a65e-dbf496ea1547">
<p id="section-appendix.i-16.1.2.9.1">Many modifications following Stephane's reviews.<a href="#section-appendix.i-16.1.2.9.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-17.1">
          <div id="_b0c62846-e830-4727-bd58-0e73cb49d7fd">
<p id="section-appendix.i-17.1.1">Tooling:<a href="#section-appendix.i-17.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-17.1.2.1">
              <div id="_0531b9d9-7900-4007-9146-5f282e625a72">
<p id="section-appendix.i-17.1.2.1.1">Additional metanorma features:<a href="#section-appendix.i-17.1.2.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-17.1.2.1.2.1">
                  <div id="_e0b73e0a-647f-442a-8837-89553f835267">
<p id="section-appendix.i-17.1.2.1.2.1.1">Generate json file.<a href="#section-appendix.i-17.1.2.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
              </ul>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.2">
              <div id="_8578a16d-89f1-4e04-a689-e0abf9f87196">
<p id="section-appendix.i-17.1.2.2.1">Various bug fixes in metanorma and relaton.<a href="#section-appendix.i-17.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.3">
              <div id="_da95f998-d891-4a52-b16d-bbf0ae97ea03">
<p id="section-appendix.i-17.1.2.3.1">Additional Idris2 features:<a href="#section-appendix.i-17.1.2.3.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-17.1.2.3.2.1">
                  <div id="_e9af29cb-ff2d-4f46-b0ac-fbbe7a7b6dae">
<p id="section-appendix.i-17.1.2.3.2.1.1">Generate elaboration cache command.<a href="#section-appendix.i-17.1.2.3.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-17.1.2.3.2.2">
                  <div id="_45c8fa99-17ab-4be0-8173-5d7f6a4f5d55">
<p id="section-appendix.i-17.1.2.3.2.2.1">Elaboration cache implementation.<a href="#section-appendix.i-17.1.2.3.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-17.1.2.3.2.3">
                  <div id="_9fe7731a-9094-4c79-a0f4-20c2434337b7">
<p id="section-appendix.i-17.1.2.3.2.3.1">IdrisDoc generation.<a href="#section-appendix.i-17.1.2.3.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-17.1.2.3.2.4">
                  <div id="_3369fec1-572a-421a-b9f0-25ba6295dfaa">
<p id="section-appendix.i-17.1.2.3.2.4.1">Some TTImp types can carry comments.<a href="#section-appendix.i-17.1.2.3.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-17.1.2.3.2.5">
                  <div id="_87404746-f803-4c37-8762-f5504dafb62e">
<p id="section-appendix.i-17.1.2.3.2.5.1">Quoted package names in ipkg.<a href="#section-appendix.i-17.1.2.3.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-17.1.2.3.2.6">
                  <div id="_16da4c26-1454-4cf4-b5f7-298e5f190c1e">
<p id="section-appendix.i-17.1.2.3.2.6.1">List dependencies.<a href="#section-appendix.i-17.1.2.3.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-17.1.2.3.2.7">
                  <div id="_e9c63209-382f-41c2-b3ea-5c0c7053ac2e">
<p id="section-appendix.i-17.1.2.3.2.7.1">Package mapping.<a href="#section-appendix.i-17.1.2.3.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
                <li class="compact" id="section-appendix.i-17.1.2.3.2.8">
                  <div id="_4ae9d9e1-f152-43a5-b6e6-6ba7c522da4a">
<p id="section-appendix.i-17.1.2.3.2.8.1">Faster literate processing.<a href="#section-appendix.i-17.1.2.3.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
              </ul>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.4">
              <div id="_bba3a320-9b8d-4108-875b-8f47006d8b97">
<p id="section-appendix.i-17.1.2.4.1">Idris2 wrapper to load local packages.<a href="#section-appendix.i-17.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.5">
              <div id="_d1a748da-f0e1-4daa-b114-fa673772f2fb">
<p id="section-appendix.i-17.1.2.5.1">New include processor to generate IdrisDoc.<a href="#section-appendix.i-17.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.6">
              <div id="_6b1af260-5894-41e8-acd8-7a4994693a86">
<p id="section-appendix.i-17.1.2.6.1">Process multiple fragments on each line.<a href="#section-appendix.i-17.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.7">
              <div id="_d1148595-cd4b-40de-bafe-0cd37cfbbf46">
<p id="section-appendix.i-17.1.2.7.1">Add support for asciidoctor outputs, including revealjs and diagrams.<a href="#section-appendix.i-17.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.8">
              <div id="_5073fadd-f8f2-4d34-9273-688d7e1aea6a">
<p id="section-appendix.i-17.1.2.8.1">Embedding code must now return a value that implements <code>Show</code>.
String values are then stripped of their first and last double-quotes.<a href="#section-appendix.i-17.1.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.9">
              <div id="_521373c5-f74b-4733-9f2a-31b1d9c8d9a8">
<p id="section-appendix.i-17.1.2.9.1">Fix bug where transcluded text is converted into ASCII art.<a href="#section-appendix.i-17.1.2.9.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.10">
              <div id="_f0b421b2-c391-47b4-9ca4-6383d8984948">
<p id="section-appendix.i-17.1.2.10.1">Embedded code in examples in lidr files can now be escaped with <code>\</code>.<a href="#section-appendix.i-17.1.2.10.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.11">
              <div id="_d1a2e1fb-6323-401d-a19e-01e16201efe4">
<p id="section-appendix.i-17.1.2.11.1">Replace Idris with Idris2 version 0.2.1.<a href="#section-appendix.i-17.1.2.11.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.12">
              <div id="_b512d4a1-05e2-4c5f-b82d-3a5b36872ed9">
<p id="section-appendix.i-17.1.2.12.1">Update metanorma to 1.1.4.<a href="#section-appendix.i-17.1.2.12.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.13">
              <div id="_7ca90cdc-a374-4fee-9da7-b88271779205">
<p id="section-appendix.i-17.1.2.13.1">Update metanorma-ietf to 2.2.2.<a href="#section-appendix.i-17.1.2.13.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.14">
              <div id="_4ae47e46-b287-4101-8f60-271b8ec4d553">
<p id="section-appendix.i-17.1.2.14.1">Update xml2rfc to 3.0.0.<a href="#section-appendix.i-17.1.2.14.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.15">
              <div id="_6040850b-b1e8-48ae-884d-47cb386b63da">
<p id="section-appendix.i-17.1.2.15.1">Downgrade idnits to 2.16.04.<a href="#section-appendix.i-17.1.2.15.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-17.1.2.16">
              <div id="_ff08a1cc-6453-4ebf-8b42-e1976f7fa5ed">
<p id="section-appendix.i-17.1.2.16.1">Decommission the Docker image in dat://78f80c850af509e0cd3fd7bd6f5d0dd527a861d783e05574bbd040f0502da3c6.<a href="#section-appendix.i-17.1.2.16.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-18.1">
          <div id="_6ae01c01-218f-421e-988d-e9fc33a0c7b3">
<p id="section-appendix.i-18.1.1">Library:<a href="#section-appendix.i-18.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-18.1.2.1">
              <div id="_80bcb92b-ebe4-4015-92f9-97142b12aeaf">
<p id="section-appendix.i-18.1.2.1.1">Decommission the RFC 5234 library for complete rewrite.<a href="#section-appendix.i-18.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<span class="break"></span><div id="_ff2666c2-bb64-4394-8c9c-e5472021ab63">
<dl class="dlParallel" id="section-appendix.i-19">
        <dt id="section-appendix.i-19.1">draft-petithuguenin-computerate-specifying-03: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-19.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-20.1">
          <div id="_a17c4f69-90d6-4433-8bda-1227720a0c34">
<p id="section-appendix.i-20.1.1">Document:<a href="#section-appendix.i-20.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-20.1.2.1">
              <div id="_bc0ddc83-434d-4151-9602-ec41157b1f4c">
<p id="section-appendix.i-20.1.2.1.1">Notes are now correctly displayed.<a href="#section-appendix.i-20.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-20.1.2.2">
              <div id="_90f6e221-3f11-4dcf-9e66-ad6503eefde5">
<p id="section-appendix.i-20.1.2.2.1">Add "Implementations Oriented Standards" section.<a href="#section-appendix.i-20.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-20.1.2.3">
              <div id="_6d36c7dd-cd81-4264-8c18-b5b90cf88a49">
<p id="section-appendix.i-20.1.2.3.1">Add "Extended Registries" section and appendix.<a href="#section-appendix.i-20.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-20.1.2.4">
              <div id="_21a0f2f5-4fb7-400a-bdfd-be599242c247">
<p id="section-appendix.i-20.1.2.4.1">Add paragraph about hierarchical petri nets.<a href="#section-appendix.i-20.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-20.1.2.5">
              <div id="_c1b093bc-3e49-45d6-a97d-19a7abcf5e41">
<p id="section-appendix.i-20.1.2.5.1">Convert "Verified Code" section into a top level section, and expand it.<a href="#section-appendix.i-20.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-20.1.2.6">
              <div id="_32e84960-6f63-40d3-8c28-326ead5605d3">
<p id="section-appendix.i-20.1.2.6.1">Add "Implementation-Oriented Standards" section.<a href="#section-appendix.i-20.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-21.1">
          <div id="_0608f2c2-e8f0-4cdd-b73f-4ad3456a70a2">
<p id="section-appendix.i-21.1.1">Tooling:<a href="#section-appendix.i-21.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-21.1.2.1">
              <div id="_ece2dda5-e3bf-4c33-8056-1d0181956203">
<p id="section-appendix.i-21.1.2.1.1">Many bug fixes in metanorma-ietf.<a href="#section-appendix.i-21.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.2">
              <div id="_ac6335cf-dce6-4445-9311-101a267ad3e9">
<p id="section-appendix.i-21.1.2.2.1">Update xml2rfc to 2.40.1.<a href="#section-appendix.i-21.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.3">
              <div id="_43be7091-bd2d-469f-b3d7-365f157e5a7e">
<p id="section-appendix.i-21.1.2.3.1">Rebuilding text for an RFC with xml2rfc now uses pagination.<a href="#section-appendix.i-21.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.4">
              <div id="_d87c5bfe-59fa-470f-a8c5-4e2fa02c5120">
<p id="section-appendix.i-21.1.2.4.1">Update metanorma-ietf to version 2.0.5.<a href="#section-appendix.i-21.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.5">
              <div id="_5704a69b-4524-493f-b636-a7a3c2244442">
<p id="section-appendix.i-21.1.2.5.1">The "computerate" command can directly generate PDF files.<a href="#section-appendix.i-21.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.6">
              <div id="_ba37f9b0-ed68-4c5d-b5fc-bec2446abc2a">
<p id="section-appendix.i-21.1.2.6.1">Add support in xml2rfc for generating PDF files.<a href="#section-appendix.i-21.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.7">
              <div id="_c1a3323d-e2e7-47b1-b7b7-6c0159f79f14">
<p id="section-appendix.i-21.1.2.7.1">Add asciidoctor-revealjs.<a href="#section-appendix.i-21.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.8">
              <div id="_49567c2c-f591-4bc4-abcd-231550d30871">
<p id="section-appendix.i-21.1.2.8.1">Update metanorma to version 1.0.0.<a href="#section-appendix.i-21.1.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-21.1.2.9">
              <div id="_79ba2e87-f410-4301-96a2-c4a45a14d748">
<p id="section-appendix.i-21.1.2.9.1">Update metanorma-cli to version 1.2.10.1.<a href="#section-appendix.i-21.1.2.9.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-22.1">
          <div id="_ac9736b9-1bd9-4213-8746-f459b69aad87">
<p id="section-appendix.i-22.1.1">Library:<a href="#section-appendix.i-22.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-22.1.2.1">
              <div id="_f89e41d7-138d-4cdb-bfd2-f82bfebb3bdc">
<p id="section-appendix.i-22.1.2.1.1">No update<a href="#section-appendix.i-22.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<span class="break"></span><div id="_43dd6dde-30b3-4449-9c7b-c395580a81d8">
<dl class="dlParallel" id="section-appendix.i-23">
        <dt id="section-appendix.i-23.1">draft-petithuguenin-computerate-specifying-02: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-23.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-24.1">
          <div id="_cba85b31-5ef2-4fc6-aaa8-593fba4f9dfc">
<p id="section-appendix.i-24.1.1">Document<a href="#section-appendix.i-24.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-24.1.2.1">
              <div id="_deb998d8-9db8-4c33-b28f-5271db4565e5">
<p id="section-appendix.i-24.1.2.1.1">Switch to rfcxml3.<a href="#section-appendix.i-24.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-24.1.2.2">
              <div id="_725d4b3a-0d8d-4142-975b-e500fd94c633">
<p id="section-appendix.i-24.1.2.2.1">Status is now experimental.<a href="#section-appendix.i-24.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-24.1.2.3">
              <div id="_2a3700ea-169b-4c36-b485-70d9f9785f70">
<p id="section-appendix.i-24.1.2.3.1">Many nits.<a href="#section-appendix.i-24.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-24.1.2.4">
              <div id="_2dcbe8cf-4628-4cd4-8f5d-2034a794bdc7">
<p id="section-appendix.i-24.1.2.4.1">Fix incorrect errata stats.<a href="#section-appendix.i-24.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-24.1.2.5">
              <div id="_5f7a6da0-f3cb-4543-8bfe-5714e3a50078">
<p id="section-appendix.i-24.1.2.5.1">Move acknowledgment section at the end.<a href="#section-appendix.i-24.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-24.1.2.6">
              <div id="_5d37c97a-801f-4523-a675-90e02a9e74df">
<p id="section-appendix.i-24.1.2.6.1">Rewrite the APHD section (formerly known as AAD) to match draft-mcquistin-augmented-diagrams-01.<a href="#section-appendix.i-24.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-24.1.2.7">
              <div id="_9f13d31a-80bd-416b-8789-4f52ebd348d9">
<p id="section-appendix.i-24.1.2.7.1">Fix non-ascii characters in the references.<a href="#section-appendix.i-24.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-24.1.2.8">
              <div id="_5d2fb727-e376-4275-b315-62bab0fab22f">
<p id="section-appendix.i-24.1.2.8.1">Intermediate AsciiDoc representation for serializers.<a href="#section-appendix.i-24.1.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-25.1">
          <div id="_7d49f0d0-af1f-47af-992c-b873a7911a2a">
<p id="section-appendix.i-25.1.1">Tooling<a href="#section-appendix.i-25.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-25.1.2.1">
              <div id="_41118702-e00b-4e7c-a6a2-02fd64ae5cce">
<p id="section-appendix.i-25.1.2.1.1">xmlrfc3 is now the default extension.<a href="#section-appendix.i-25.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-25.1.2.2">
              <div id="_64d314ad-c70e-4655-99c5-1eb4492bb354">
<p id="section-appendix.i-25.1.2.2.1">"docName" and "category" attributes are now generated, and the "prepTime" is removed.<a href="#section-appendix.i-25.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-25.1.2.3">
              <div id="_9ba60c71-3351-4313-995a-6b4ec0f8880e">
<p id="section-appendix.i-25.1.2.3.1">Update xml2rfc to 2.35.0.<a href="#section-appendix.i-25.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-25.1.2.4">
              <div id="_506c650a-7833-4a5e-bfc8-24e70e12ec75">
<p id="section-appendix.i-25.1.2.4.1">Remove LanguageTool.<a href="#section-appendix.i-25.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-25.1.2.5">
              <div id="_bdfb3f52-78e3-4a00-bcca-22b2142ff0b4">
<p id="section-appendix.i-25.1.2.5.1">Update Metanorma to version 0.3.17.<a href="#section-appendix.i-25.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-25.1.2.6">
              <div id="_0e1033ef-fcbc-49f8-a53a-794cd07f3f7b">
<p id="section-appendix.i-25.1.2.6.1">Update Asciidoctor to 2.0.10.<a href="#section-appendix.i-25.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-25.1.2.7">
              <div id="_25d55361-0199-4128-9e0b-11eb076637d8">
<p id="section-appendix.i-25.1.2.7.1">Update list of Working Groups.<a href="#section-appendix.i-25.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-26.1">
          <div id="_37da4aa4-b345-45ee-8b81-26f3a2674cb6">
<p id="section-appendix.i-26.1.1">Library<a href="#section-appendix.i-26.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-26.1.2.1">
              <div id="_362219ba-075f-4c4e-9322-57d797d1477c">
<p id="section-appendix.i-26.1.2.1.1">No update.<a href="#section-appendix.i-26.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<span class="break"></span><div id="_02f67a33-289b-44b3-a88c-396313584377">
<dl class="dlParallel" id="section-appendix.i-27">
        <dt id="section-appendix.i-27.1">draft-petithuguenin-computerate-specifying-01: </dt>
        <dd style="margin-left: 1.5em" id="section-appendix.i-27.2"></dd>
      <dd class="break"></dd>
</dl>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-28.1">
          <div id="_dc8a8883-709b-41e2-935f-28800bdc6587">
<p id="section-appendix.i-28.1.1">Document<a href="#section-appendix.i-28.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-28.1.2.1">
              <div id="_f48eed26-b1b2-45ba-83a3-e4eebd765575">
<p id="section-appendix.i-28.1.2.1.1">New changelog appendix.<a href="#section-appendix.i-28.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-28.1.2.2">
              <div id="_31845cef-4b1e-44c2-8e33-7a8538889e9f">
<p id="section-appendix.i-28.1.2.2.1">Fix incorrect reference, formatting in Idris code.<a href="#section-appendix.i-28.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-28.1.2.3">
              <div id="_eb849d36-288b-4230-ac95-0f2c92ed602f">
<p id="section-appendix.i-28.1.2.3.1">Add option to remove container in all <code>docker run</code> command.<a href="#section-appendix.i-28.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-28.1.2.4">
              <div id="_4515a13b-2b5b-476f-9da9-28b78ac60082">
<p id="section-appendix.i-28.1.2.4.1">Add explanations to use the Idris REPL and VIM inside the Docker image.<a href="#section-appendix.i-28.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-28.1.2.5">
              <div id="_b29c1c26-9706-42aa-b5b6-eec727fe885f">
<p id="section-appendix.i-28.1.2.5.1">Add placeholders for ASN.1 and RELAX NG languages.<a href="#section-appendix.i-28.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-28.1.2.6">
              <div id="_f1e04a63-d24b-4f4e-ad93-22e58736115c">
<p id="section-appendix.i-28.1.2.6.1">New Errata appendix.<a href="#section-appendix.i-28.1.2.6.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-28.1.2.7">
              <div id="_d04d4e8b-6d5f-4edb-ab06-314022a1e571">
<p id="section-appendix.i-28.1.2.7.1">Nits.<a href="#section-appendix.i-28.1.2.7.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-28.1.2.8">
              <div id="_7d867224-3a9f-4acd-8a01-3dcb3820bf51">
<p id="section-appendix.i-28.1.2.8.1">Improve Syntax Examples section.<a href="#section-appendix.i-28.1.2.8.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-29.1">
          <div id="_dc28758b-b4bd-4e8f-b41a-400cb04905fd">
<p id="section-appendix.i-29.1.1">Tooling<a href="#section-appendix.i-29.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-29.1.2.1">
              <div id="_cfdd2c33-1a93-4aca-adba-501a5a403df8">
<p id="section-appendix.i-29.1.2.1.1">Update Metanorma to version 0.3.16<a href="#section-appendix.i-29.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-29.1.2.2">
              <div id="_533cb51b-9518-4a3f-97a6-92654898ebf8">
<p id="section-appendix.i-29.1.2.2.1">Update MetaNorma-cli to version 1.2.7.1<a href="#section-appendix.i-29.1.2.2.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-29.1.2.3">
              <div id="_927274ff-be47-4982-b3d9-a216cc606d99">
<p id="section-appendix.i-29.1.2.3.1">Switch to patched version of Idris 1.3.2 that supports remote REPL in Docker.<a href="#section-appendix.i-29.1.2.3.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-29.1.2.4">
              <div id="_7d61dda7-9b37-49d5-8736-b3a1e2d7d723">
<p id="section-appendix.i-29.1.2.4.1">Add VIM and idris-vim extension.<a href="#section-appendix.i-29.1.2.4.1" class="pilcrow">¶</a></p>
</div>
</li>
            <li class="compact" id="section-appendix.i-29.1.2.5">
              <div id="_02c17362-d985-4223-8915-7a798d73ef26">
<p id="section-appendix.i-29.1.2.5.1">Remove some debug statements.<a href="#section-appendix.i-29.1.2.5.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
<ul class="compact">
<li class="compact" id="section-appendix.i-30.1">
          <div id="_50e15099-3a43-4cad-802e-5b60064a2c7d">
<p id="section-appendix.i-30.1.1">Library<a href="#section-appendix.i-30.1.1" class="pilcrow">¶</a></p>
</div>
<ul class="compact">
<li class="compact" id="section-appendix.i-30.1.2.1">
              <div id="_844f5340-5a51-4ac2-96d6-9cc355490846">
<p id="section-appendix.i-30.1.2.1.1">No update<a href="#section-appendix.i-30.1.2.1.1" class="pilcrow">¶</a></p>
</div>
</li>
          </ul>
</li>
      </ul>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.j">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marc Petit-Huguenin</span></div>
<div dir="auto" class="left"><span class="org">Impedance Mismatch LLC</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marc@petit-huguenin.org" class="email">marc@petit-huguenin.org</a>
</div>
<div class="url">
<span>URI:</span>
<a href="hallway@jabber.ietf.org/MPH" class="url">hallway@jabber.ietf.org/MPH</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
