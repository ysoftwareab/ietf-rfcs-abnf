

Network Working Group                                        A. B. Roach
Internet-Draft                                               dynamicsoft
Expires: February 3, 2004                                 August 5, 2003


  A "Conflict" Response Code for the Session Initiation Protocol (SIP)
                         draft-roach-sip-409-00

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on February 3, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This document proposes an addition of a "409 Conflict" response code
   for the Session Initiation protocol.  This response code is required
   for a number of application-specific purposes, and is expected to be
   useful in future extensions to the protocol.

1. Introduction

   The first published version of SIP, RFC 2543, included a "409
   Conflict" response code borrowed from HTTP/1.1 [2].  When copied into
   SIP, however, this response code was unfortunately defined to apply
   to an extremely narrow use case.  This single use case was
   subsequently deprecated by RFC 3261 [1]; seeing no further use for



Roach                   Expires February 3, 2004                [Page 1]

Internet-Draft           SIP 409 Response Code               August 2003


   the 409 response code, the authors elected to removed it at the same
   time.

   Operational experience has demonstrated that various specialized
   applications occasionally encounter circumstances in which a request
   cannot be processed because doing so would result in an inconsistent
   or disallowed state.  This document seeks to reinstate the 409
   response code in a more general form so that such situations can be
   accurately signalled to UACs.

2. "409 Conflict" Response Code

   The 409 response is added to the "Client-Error" header field
   definition.  "409 Conflict" is used to indicate that the request
   could not be completed due to a conflict with the current state of
   the resource.  This code is only allowed in situations where it is
   expected that the user might be able to resolve the conflict and
   resubmit the request.

   Conflicts are most likely to occur in response to requests that
   create state in the network, such as REGISTER and SUBSCRIBE.  The
   circumstances under which a 409 response code is returned are
   expected to be highly dependent on the application that the UAS
   provides.

3. Backwards Compatibility

   It should be noted that section 8.1.3.2 of RFC 3261 [1] defines UAC
   behavior upon receipt of an unrecognized response code.  Under the
   behavior specified therein, a 409 response will be treated by a
   client that does not understand it as if it were a "400 Bad Request"
   response.  The semantics defined for that response indicate that the
   UAC should not retry the same request without modification, which is
   generally a reasonable course of action to take in the case of a
   conflict.

4. Security Considerations

   It is not beleived that the addition of the described 409 response
   code has the ability to reveal sensitive information or provide any
   additional avenues for attack.

5. IANA Considerations

   This document defines an additional SIP response code, which is to be
   added to the method and response-code sub-registry under http://
   www.iana.org/assignments/sip-parameters.




Roach                   Expires February 3, 2004                [Page 2]

Internet-Draft           SIP 409 Response Code               August 2003


      Response Code Number:   409

      Default Reason Phrase:  Conflict

References

   [1]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A.,
        Peterson, J., Sparks, R., Handley, M. and E. Schooler, "SIP:
        Session Initiation Protocol", RFC 3261, June 2002.

   [2]  Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L.,
        Leach, P. and T. Berners-Lee, "Hypertext Transfer Protocol --
        HTTP/1.1", RFC 2616, June 1999.


Author's Address

   Adam Roach
   dynamicsoft
   5100 Tennyson Pkwy
   Suite 1200
   Plano, TX  75024
   US

   EMail: adam@dynamicsoft.com


























Roach                   Expires February 3, 2004                [Page 3]

Internet-Draft           SIP 409 Response Code               August 2003


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Roach                   Expires February 3, 2004                [Page 4]

