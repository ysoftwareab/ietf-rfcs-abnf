



PCE Working Group                                                A. Wang
Internet-Draft                                             China Telecom
Intended status: Standards Track                             B. Khasanov
Expires: September 9, 2019                                        Huawei
                                                           S. Cheruathur
                                                        Juniper Networks
                                                                  C. Zhu
                                                         ZTE Corporation
                                                                 S. Fang
                                                                  Huawei
                                                           March 8, 2019


                  PCEP Extension for Native IP Network
               draft-ietf-pce-pcep-extension-native-ip-03

Abstract

   This document defines the PCEP extension for CCDR application in
   Native IP network.  The scenario and architecture of CCDR in native
   IP is described in [I-D.ietf-teas-native-ip-scenarios] and
   [I-D.ietf-teas-pce-native-ip].  This draft describes the key
   information that is transferred between PCE and PCC to accomplish the
   end2end traffic assurance in Native IP network under central control
   mode.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 9, 2019.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Wang, et al.            Expires September 9, 2019               [Page 1]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  CCI Objects . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  CCI Object associated TLV . . . . . . . . . . . . . . . . . .   4
     4.1.  Peer Address List TLV . . . . . . . . . . . . . . . . . .   4
     4.2.  Peer Prefix Association TLV . . . . . . . . . . . . . . .   5
       4.2.1.  Prefix sub TLV  . . . . . . . . . . . . . . . . . . .   6
     4.3.  Explicit Peer Route TLV . . . . . . . . . . . . . . . . .   7
   5.  Management Consideration  . . . . . . . . . . . . . . . . . .   7
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
     7.1.  CCI Object Type . . . . . . . . . . . . . . . . . . . . .   8
     7.2.  CCI Object Associated TLV . . . . . . . . . . . . . . . .   8
   8.  Acknowledgement . . . . . . . . . . . . . . . . . . . . . . .   8
   9.  Normative References  . . . . . . . . . . . . . . . . . . . .   8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   Traditionally, MPLS-TE traffic assurance requires the corresponding
   network devices support MPLS or the complex RSVP/LDP/Segment Routing
   etc. technologies to assure the end-to-end traffic performance.  But
   in native IP network, there will be no such signaling protocol to
   synchronize the action among different network devices.  It is
   necessary to use the central control mode that described in [RFC8283]
   to correlate the forwarding behavior among different network devices.
   Draft [I-D.ietf-teas-pce-native-ip] describes the architecture and
   solution philosophy for the end2end traffic assurance in Native IP
   network via Dual/Multi BGP solution.  This draft describes the
   corresponding PCEP extensions to transfer the key information about
   peer address list, peer prefix association and the explicit peer
   route on on-path router.







Wang, et al.            Expires September 9, 2019               [Page 2]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

3.  CCI Objects

   Draft [I-D.ietf-pce-pcep-extension-for-pce-controller] introduces the
   CCI object which is included in the PCInitiate and PCRpt message to
   transfer the centrally control instruction and status between PCE and
   PCC.  This object is extended to include the construction for native
   IP solution.  Additional TLVs are defined and included in this
   extended CCI object.

   CCI Object-Class is TBD, should be same as that defined in draft
   [I-D.ietf-pce-pcep-extension-for-pce-controller]

   CCI Object-Type is TBD for Native IP network

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            CC-ID                              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Reserved             |               Flags           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      //                        Optional TLV                         //
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    Figure 1: CCI Object Format

   The fields in the CCI object are as follows:

   CC-ID: A PCEP-specific identifier for the CCI information.  A PCE
   creates an CC-ID for each instruction, the value is unique within the
   scope of the PCE and is constant for the lifetime of a PCEP session.
   The values 0 and 0xFFFFFFFF are reserved and MUST NOT be used.

   Flags: Is used to carry any additional information pertaining to the
   CCI.

   Optional TLV: Additional TLVs that are associated with the Native IP
   construction.






Wang, et al.            Expires September 9, 2019               [Page 3]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


4.  CCI Object associated TLV

   Three new TLVs are defined in this draft:

   o  PAL TLV: Peer Address List TLV, used to tell the network device
      which peer it should be peered with dynamically

   o  PPA TLV: Peer Prefix Association TLV,used to tell which prefixes
      should be advertised via the corresponding peer

   o  EPR TLV: Explicit Peer Route TLV,used to point out which route
      should be taken to arrive to the peer.

4.1.  Peer Address List TLV

   The Peer Address List TLV is defined to specify the IP address of
   peer that the received network device should establish the BGP
   relationship with.  This TLV should only be included and sent to the
   head and end router of the end2end path in case there is no RR
   involved.  If the RR is used between the head and end routers, then
   such information should be sent to head router, RR and end router
   respectively.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Peer Num            |           Resv.               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Peer ID             |      AT       |     Resv.     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Local AS Number                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Peer AS Number                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Local IP Address(4/16 Bytes)               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Peer IP Address(4/16 Bytes)                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Additional Peer Info.                        |
   //           (From Peer ID to Peer IP Address)                 //
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                Figure 2: Peer Address List TLV Format

   Type: 2 Bytes, value is TBD.

   Length: 2 Bytes, the length of the following fields.



Wang, et al.            Expires September 9, 2019               [Page 4]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


   Peer Num : 2 Bytes, Peer Address Number on the advertised router.

   Peer-ID: 2 Bytes, to distinguish the different peer pair, will be
   referenced in Peer Prefix Association, if the PCE use multi-BGP
   solution for different QoS assurance requirement.

   AT: 1 Bytes, Address Type.  To indicate the address type of Peer.
   Equal to 4, if the following IP address of peer is belong to IPv4;
   Equal to 6 if the following IP address of peer is belong to IPv6.

   Resv: 1 Bytes, Reserved for future use.

   Local AS Number: 4 Bytes, to indicate the AS number of the Local
   Peer.

   Peer AS Number: 4 Bytes, to indicate the AS number of Remote Peer.

   Local IP Address(4/16 Bytes): IPv4 address of the local router, used
   to peer with other end router.  When AT equal to 4, length is 32bit;
   when AT equal to 16, length is 128bit.

   Peer IP Address(4/16 Bytes): IPv4 address of the peer router, used to
   peer with the local router.  When AT equal to 4, length is 32bit;
   IPv6 address of the peer when AT equal to 16, length is 128bit;

4.2.  Peer Prefix Association TLV

   The Peer Prefix Association TLV is defined to specify the IP prefixes
   that should be advertised by the corresponding Peer.  This TLV should
   only be included and sent to the head/end router of the end2end path
   in case there is no RR involved.  If the RR is used between the head
   and end routers, then such information should be sent to head
   router,RR and end router respectively.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Peer ID            |      AT       | Prefixes Num  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Peer Associated IP Prefix sub TLV(Variable)            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
             Figure 3: Peer Prefix Association TLV Format

   Type: 2 Bytes, value is TBD

   Length: 2 Bytes, the length of the following fields.



Wang, et al.            Expires September 9, 2019               [Page 5]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


   Peer-ID: 2 Bytes, to indicate which peer should be used to advertise
   the following IP Prefix TLV.  This value is assigned in the Peer
   Address List object and is referred in this object.

   AT: 2 Bytes, Address Type.  To indicate the address type of Peer.
   Equal to 4, if the following IP address of peer is belong to IPv4;
   Equal to 6 if the following IP address of peer is belong to IPv6.

   Prefixes Num: 2 Bytes, number of prefixes that advertised by the
   corresponding Peer.  It should be equal to number of the following IP
   prefix sub TLV.

   Peer Associated IP Prefix sub TLV: Variable Length, indicate the
   advertised IP Prefix.

4.2.1.  Prefix sub TLV

   Prefix sub TLV is used to carry the prefix information, which has the
   following format:

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |            Length             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      AT       | Prefix Length |            Resv.              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                            Prefix Value                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                 Figure 4: Prefix sub TLV Format

   Type: 2 Bytes, value is TBD

   Length: 2 Bytes, the length of the following fields.

   AT: 1 Byte, Address Type.  To indicate the address type of Peer.
   Equal to 4, if the following "Prefix address" belong to IPv4; Equal
   to 6 if the following "Prefix address" belong to IPv6.

   Prefix Length: 1 Byte, the length of the following prefix.  For
   example, for 10.0.0.0/8, this field will be equal to 8.

   Prefix Value: Variable length, the value of the prefix.  For example,
   for 10.0.0./8, this field will be 10.0.0.0







Wang, et al.            Expires September 9, 2019               [Page 6]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


4.3.  Explicit Peer Route TLV

   The Explicit Peer Route TLV is defined to specify the explicit peer
   route to the corresponding peer address on each device that is on the
   end2end assurance path.  This TLV should be sent to all the devices
   that locates on the end2end assurance path that calculated by PCE.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Type=TBD             |          Length               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |            Peer ID            |      AT       |  Resv.        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |          Next Hop Address to the Peer(IPv4/IPv6)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
               Figure 5: Explicit Peer Route TLV

   Type: 2 Bytes, value is TBD

   Length: 2 Bytes, the length of following fields.

   Peer-ID: 2 Bytes, to indicate the peer that the following next hop
   address point to.  This value is assigned in the Peer Address List
   object and is referred in this object.

   AT: 1 Byte, Address Type.  To indicate the address type of explicit
   peer route.  Equal to 4, if the following next hop address to the
   peer belongs to IPv4; Equal to 6 if the following next hop address to
   the peer belongs to IPv6.

   Resv.: 1 Byte, reservation for future use.

   Next Hop Address to the Peer: Variable Length, to indicate the next
   hop address to the corresponding peer that indicated by the Peer-ID.
   If AT=4, the length will be 4 bytes, if AT=6, the length will be 16
   bytes.

5.  Management Consideration

   TBD

6.  Security Considerations

   TBD






Wang, et al.            Expires September 9, 2019               [Page 7]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


7.  IANA Considerations

7.1.  CCI Object Type

   IANA is requested to allocate new registry for the CCI Object Type:

   Object-Type Value       CCI Object Name         Reference
   3                       Native IP               This document

7.2.  CCI Object Associated TLV

   IANA is requested to confirm the early allocation of the following
   TLV Type Indicator values within the "PCEP TLV Type Indicator" sub-
   registry of the PCEP Numbers registry, and to update the reference in
   the registry to point to this document, when it is an RFC:

   Value          Meaning                         Reference
   ---------------------------------------------------------
   TBD            Peer Address List TLV          This document
   TBD            Peer Prefix Association TLV    This document
   TBD            Explicit Peer Route TLV        This document
   TBD            Prefix sub TLV                 This document

8.  Acknowledgement

   Thanks Dhruv Dhody for his valuable suggestions and comments.

9.  Normative References

   [I-D.ietf-pce-pcep-extension-for-pce-controller]
              Zhao, Q., Li, Z., Negi, M., and C. Zhou, "PCEP Procedures
              and Protocol Extensions for Using PCE as a Central
              Controller (PCECC) of LSPs", draft-ietf-pce-pcep-
              extension-for-pce-controller-01 (work in progress),
              February 2019.

   [I-D.ietf-teas-native-ip-scenarios]
              Wang, A., Huang, X., Qou, C., Li, Z., and P. Mi,
              "Scenario, Simulation and Suggestion of PCE in Native IP
              Network", draft-ietf-teas-native-ip-scenarios-02 (work in
              progress), October 2018.

   [I-D.ietf-teas-pce-native-ip]
              Wang, A., Zhao, Q., Khasanov, B., Chen, H., and R. Mallya,
              "PCE in Native IP Network", draft-ietf-teas-pce-native-
              ip-02 (work in progress), October 2018.





Wang, et al.            Expires September 9, 2019               [Page 8]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

   [RFC8283]  Farrel, A., Ed., Zhao, Q., Ed., Li, Z., and C. Zhou, "An
              Architecture for Use of PCE and the PCE Communication
              Protocol (PCEP) in a Network with Central Control",
              RFC 8283, DOI 10.17487/RFC8283, December 2017,
              <https://www.rfc-editor.org/info/rfc8283>.

Authors' Addresses

   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing, Beijing  102209
   China

   Email: wangaj.bri@chinatelecom.cn


   Boris Khasanov
   Huawei Technologies,Co.,Ltd
   Moskovskiy Prospekt 97A
   St.Petersburg  196084
   Russia

   Email: khasanov.boris@huawei.com


   Sudhir Cheruathur
   Juniper Networks
   1133 Innovation Way
   Sunnyvale, California  94089
   USA

   Email: scheruathur@juniper.net


   Chun Zhu
   ZTE Corporation
   50 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: zhu.chun1@zte.com.cn



Wang, et al.            Expires September 9, 2019               [Page 9]

Internet-Draft    PCEP Extension for Native IP Network        March 2019


   Sheng Fang
   Huawei Technologies, Co., Ltd
   Huawei Bld., No.156 Beiqing Rd.
   Beijing
   China

   Email: fsheng@huawei.com












































Wang, et al.            Expires September 9, 2019              [Page 10]
