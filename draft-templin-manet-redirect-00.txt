





INTERNET-DRAFT                                          Fred L. Templin
                                                          Mark G. Lewis
                                                      SRI International

Expires 22 August 2002                                 22 February 2002

        Issues for Redirects in Mobile Ad-hoc Networks (MANETs)

                    draft-templin-manet-redirect-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Abstract

   This document discusses issues for the use of network layer redirects
   in Mobile Ad-hoc Networks (MANETs). The document observes that the
   use of redirects requires a transitive property for network layer
   connectivity that does not hold for MANETs, thus the use of redirects
   in MANETs can cause communication problems. Additionally, the
   document proposes several possible solutions for the problem.

   Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.


1.  Introduction

   Network layer redirects are used by the Internet protocols



Templin, Lewis                   Expires 22 August 2002         [Page 1]

INTERNET-DRAFT            Redirects in MANETs           22 February 2002


   [IPV4][IPV6] to eliminate redundant network layer hops whenever pos-
   sible. Their use is governed by host and router specifications that
   MUST be followed in compliant implementations. But, network layer
   redirects can defeat the use of multiple network layer hops on media
   that require such. An example is the Mobile Ad-hoc Network [MANET]
   paradigm, in which multiple network layer hops are often required to
   enable communications between correspondent nodes. The following
   document presents issues and proposed solutions for the use of
   redirects in MANETs.


2.  Applicability Statement

   - This memo applies to Mobile Ad-hoc Networks and may also apply to
     other types of multi-hop media


3.  Terminology

   The terminology of [IPV4], [IPV6], [MANET] and [SHARE] apply. The
   additional term is also defined:

   multi-hop media:
     a shared network media such that any two systems MAY NOT be
     capable of communicating directly at the link layer (and thus
     MAY require multiple network layer hops) at a given point in time


4.  Problem Statement

   As for shared media [SHARE,3], multi-hop media MAY comprise multiple
   LISs (Logical IP Subnets) [DISCUSS]. [HREQ,3.2.2.2][RREQ,5.2.7.2]
   specify host and router requirements for an [IPV4] redirect mechanism
   to eliminate redundant network layer hops within a single LIS.
   [SHARE,4.1] proposes a hop-by-hop redirection extension using
   "foreign redirects" to eliminate redundant network layer hops between
   nodes belonging to different LISs.  Finally, [DISC,8.2-8.3] specifies
   host and router requirements for an analogous redirect function for
   [IPv6].

   The above-mentioned redirect mechanisms all assume a transitive pro-
   perty for connectivity at the network layer, i.e., if bi-directional
   links A<->B and B<->C exist on the same physical interface, then B
   can assume the link A<->C also exists. Under this assumption, B (when
   acting as a router) can send a redirect to A if it forwards a message
   from A using C as the next-hop (respectively to C if it forwards a
   message from C using A as the next-hop).




Templin, Lewis                   Expires 22 August 2002         [Page 2]

INTERNET-DRAFT            Redirects in MANETs           22 February 2002


   But, by definition, the transitive assumption for network-layer con-
   nectivity does not apply to all circumstances in multi-hop media;
   particularly for highly mobile environments such as MANETs. The use
   of redirects in multi-hop media could therefore disrupt communica-
   tions and/or lead to poor performance.  Thus, as currently specified,
   the redirect mechanisms mentioned above MUST NOT be used on multi-hop
   media.


5.  Proposed Solutions


5.1.  Extensions to the Existing Standards

   A possible extension to the current router specifications in
   [RREQ,5.2.7.2] and [DISC,8.2] would require B to have explicit
   knowledge of the link A<->C before sending redirects. But, the link
   A<->C could be temporary or of marginal quality such that redirection
   from B could present problems for future communications between A and
   C. Thus, this extension used alone seems dangerously inadequate.
   Whether suitable extensions can be added to the existing specifica-
   tions to allow some useful form of redirects in multi-hop is a matter
   for further study.


5.2.  Redirect Avoidance Using Restrictive Netmasks

   The router specification in [RREQ,5.2.7.2] states:

      "Routers MUST NOT generate a Redirect Message unless all the
       following conditions are met:

       o The packet is being forwarded out the same physical interface
          that it was received from,

       o The IP source address in the packet is on the same Logical IP
          (sub)network as the next-hop IP address, and

       o The packet does not contain an IP source route option."

   In an effort to avoid redirects, [IPv4] implementations MAY configure
   a totally-restrictive netmask (i.e. 32-bit) on an IP interface such
   that no address other than the one assigned to the interface appears
   to be "on-link" when netmasking is applied [DISCUSS]. While such a
   configuration may be useful for other purposes, one implication is
   that the second validity check in the above router specification
   should never be true. That, is there should never be a case in which
   "the IP source address in the packet is on the same logical IP



Templin, Lewis                   Expires 22 August 2002         [Page 3]

INTERNET-DRAFT            Redirects in MANETs           22 February 2002


   (sub)network as the next-hop IP address".

   However, comparing IP addresses based on the netmask assigned to an
   IP interfaces is arguably only one possible interpretation of what is
   meant by: "on the same Logical IP (sub)network" and this interpreta-
   tion may not be shared among all host and router implementations.
   Additionally, when hop-by-hop redirection is enabled as specified in
   [SHARE,4.1] the second validity check in the above specification is
   excused, therefore the restrictive netmask scheme does not avoid
   redirects. Finally, it is not clear whether an analogous solution
   exists for [IPV6].


5.3.  Redirect Avoidance Using Explicit Configuration Options

   A final method that clearly avoids the issue is disabling redirects
   for multi-hop media through explicit configuration options. The host
   and router specifications mentioned above refer to configurable
   options to enable/disable the use of redirects (default is typically
   "enabled"). However, a survey of representative implementations shows
   that some expose the appropriate configuration options to the user
   while others do not.

   In particular, all host implementations surveyed provide a configura-
   tion option to disable receipt of redirects but some router implemen-
   tations did not provide a configuration option to disable sending
   redirects. This fact seems to be slightly at odds with the host and
   router specifications and dangerous for multi-hop media operation.
   Therefore we recommend that all implementations provide configurable
   options to disable sending/receiving redirects to support efficient
   operation on multi-hop media, as directed by the standards.


6.  IANA considerations

   This document introduces no new IANA considerations


7.  Security considerations

   This document introduces no new security considerations

Acknowledgements

   The authors acknowledge the members of the community who have contri-
   buted to discussions relating to addressing issues for MANET.

Normative References



Templin, Lewis                   Expires 22 August 2002         [Page 4]

INTERNET-DRAFT            Redirects in MANETs           22 February 2002


   [ARP]      Plummer, D., "Address Resolution Protocol", STD 37,
              RFC 826, November 1982.

   [DISC]     Narten, T., Nordmark, E., and W. Simpson, "Neighbor
              Discovery for IP Version 6 (IPv6)", RFC 2461,
              December 1998.

   [HREQ]     Braden, R., Editor, "Requirements for Internet Hosts --
              Communication Layers", STD 3, RFC 1122, October 1989.

   [RREQ]     Baker, F., Editor, "Requirements for IP Version 4
   Routers",
              RFC 1812, June 1995.

   [SHARE]    Braden, B., Postel, J., and Y. Rekhter, "Internet
              Architecture Extensions for Shared Media", RFC 1620,
              May 1994.

   Informative References

   [DISCUSS]  discussions on the MANET WG mailing list dating
              03/01 - 04/01, ftp://manet.itd.nrl.navy.mil/pub/manet.

   [IPV4]     Postel, J., "Internet Protocol", STD 5, RFC 791,
              September 1981.

   [IPV6]     Deering, S., and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", RFC 2460, December 1998.

   [MANET]    Corson, S. and J. Macker, "Mobile Ad hoc Networking
              (MANET): Routing Protocol Performance Issues and
              Evaluation Considerations", RFC 2501.

   Authors Addresses

      Fred L. Templin
      SRI International
      333 Ravenswood Ave.
      Menlo Park, CA 94025, USA
      Phone: (650)-859-3144
      Email: templin@erg.sri.com

      Mark G. Lewis
      SRI International
      333 Ravenswood Ave.
      Menlo Park, CA 94025, USA
      Phone: (650)-859-3144
      Email: lewis@erg.sri.com



Templin, Lewis                   Expires 22 August 2002         [Page 5]

INTERNET-DRAFT            Redirects in MANETs           22 February 2002


Intellectual Property

   Placeholder for IPR statement.
















































Templin, Lewis                   Expires 22 August 2002         [Page 6]

