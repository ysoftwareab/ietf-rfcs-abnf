<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>DHCPv6 option for network boot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="DHCPv6 option for network boot">
<meta name="keywords" content="boot, IPv6, DHCPv6">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">DHC</td><td class="header">T. Huth</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">J. Freimann</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">IBM Deutschland Research &amp;</td></tr>
<tr><td class="header">Expires: May 22, 2009</td><td class="header">Development GmbH</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 18, 2008</td></tr>
</table></td></tr></table>
<h1><br />DHCPv6 option for network boot<br />draft-ietf-dhc-dhcpv6-opt-netboot-02</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 22, 2009.</p>

<h3>Abstract</h3>

<p>
       The Dynamic Host Configuration Protocol for IPv6 (DHCPv6) provides
       a framework for passing configuration information to nodes on a network.
       This document describes a new option for DHCPv6 to convey information,
       required for network booting, to the nodes.
      
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Conventions<br />
<a href="#optionformat">3.</a>&nbsp;
Netboot option format<br />
<a href="#suboptions">4.</a>&nbsp;
Suboptions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#bootfileformat">4.1.</a>&nbsp;
Suboption: Boot file Uniform Resource Locator (URL)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#vendorsuboption">4.2.</a>&nbsp;
Suboption: Vendor class extension<br />
<a href="#Appearance">5.</a>&nbsp;
Appearance of the Netboot option<br />
<a href="#Bootprotocol">6.</a>&nbsp;
Boot protocol considerations<br />
<a href="#IANA">7.</a>&nbsp;
IANA considerations<br />
<a href="#Security">8.</a>&nbsp;
Security considerations<br />
<a href="#Acknowledgements">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">10.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">10.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
Network booting means that a node which should be booted fetches
the files required for booting via its network device from a server.
Network booting is, for example, very useful in environments where the
administrators have to maintain a large number of nodes.
Since all boot and configuration files are stored on a central server, the
maintenance of all nodes can be kept simple this way.

</p>
<p>
A typical boot file would be, for example, an operating system kernel or a boot
loader program. To be able to download such a file, the firmware (BIOS) running
on the client node must be provided with information such as:
the server on which the boot files can be found, the protocol to be used for the
download (for example <a class='info' href='#RFC1350'>TFTP<span> (</span><span class='info'>Sollins, K., &ldquo;The TFTP Protocol (Revision 2),&rdquo; July&nbsp;1992.</span><span>)</span></a> [RFC1350]) and the name of
the boot file. Since some kernels or boot loaders need to be provided with
additional parameters, there should also be the possibility to pass additional
parameters along with the server address, the protocol and the file name.

</p>
<p>
DHCPv6 allows client nodes to ask a DHCPv6 server for configuration
parameters. Contrary to its IPv4 predecessor, DHCPv6 does not yet define a
way to query network boot options such as the IPv6 address of a
boot file server and boot file names. Therefore this document defines a new
DHCPv6 option which is required for network booting clients.

</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Conventions</h3>

<p>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in
<a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].

</p>
<p>
Terminology specific to IPv6 and DHCPv6 are used in the same way as defined
in the "Terminology" sections of <a class='info' href='#RFC3315'>RFC 3315<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315].

</p>
<a name="optionformat"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Netboot option format</h3>

<p>
  The netboot option is used as an encapsulation for suboptions
  which carry the actual information needed to boot a client.
  This option will be used by clients to request boot information
  from a server.

</p>
<p>
    </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        OPT_NET_BOOT           |           option-len          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      suboption-code 1         |          suboption-len        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    subopt-data 1 (variable length)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
.                                                               .
.                       &lt;multiple suboptions&gt;                   .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      suboption-code n         |          suboption-len        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    subopt-data n (variable length)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>


</p>
<p>
</p>
<blockquote class="text"><dl>
<dt>option-code</dt>
<dd>
OPT_NET_BOOT (TBD1).

</dd>
<dt>option-len</dt>
<dd>
Length of the netboot option in octets (not including
the size of the option-code and option-len fields).

</dd>
<dt>suboption-code, suboption-len and subopt-data</dt>
<dd>
together comprise a suboption for the netboot option.
The 16-bit unsigned suboption-code values are drawn from
a private namespace of the netboot option managed by IANA
(cf. Section 8). The 16-bit unsigned suboption-len values
indicate the length of the subopt-data field in octets.

</dd>
</dl></blockquote><p>

</p>
<p>
    Multiple occurences of each suboption-type can occur within
    a netboot option (for example when more than one boot server
    is available). Clients MUST process the suboptions in the order
    in which they appear in the message sent by the server.
    
</p>
<p>
 So far, only the suboptions in the following chapters have been
 defined.
 Other suboptions might be defined in future RFCs.

</p>
<a name="suboptions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Suboptions</h3>

<a name="bootfileformat"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Suboption: Boot file Uniform Resource Locator (URL)</h3>

<p>
 This suboption consists of multiple ASCII strings. It is used
 to convey an URL to a boot file together with additional parameters
 for the boot file (e.g. parameters for the kernel or boot loader program).

</p>
<p>
 </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       SUBOPT_BOOTFILE_URL     |          suboption-len        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| bootfile-len                  |           bootfile-url        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+         (variable length)     .
.                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| param-len 1                   |            parameter 1        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+         (variable length)     .
.                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
.                                                               .
.                       &lt;multiple Parameters&gt;                   .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| param-len n                   |            parameter n        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+         (variable length)     .
.                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>


</p>
<p>
Format description:
</p>
<blockquote class="text"><dl>
<dt>suboption-code</dt>
<dd>
  SUBOPT_BOOTFILE_URL (1).

</dd>
<dt>suboption-len</dt>
<dd>
  Length of the bootfile suboption in octets (not including
  the size of the suboption-code and suboption-len fields).

</dd>
<dt>bootfile-len</dt>
<dd>
 16-bit integer that specifies the length of the bootfile-url in octets
 (not including the bootfile-length field).

</dd>
<dt>bootfile-url</dt>
<dd>
 This ASCII string is the URL (conforming to <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>) for a
 boot file. This string starts with the protocol which is used for downloading.
 Separated by "://", the hostname or IPv6 address of the server hosting
 the boot file (see also the note below) follows, and then the path, file name
 and query parts of the URL. The string is not null-terminated.

</dd>
<dt>param-len 1...n</dt>
<dd>
 This is a 16-bit integer which specifies the length of the following parameter
 in octets (not including the parameter-length field).

</dd>
<dt>parameters 1...n</dt>
<dd>
 These ASCII strings are parameters needed for booting, e.g. kernel parameters.
 The strings are not null-terminated.
 The firmware should pass these parameters in the order they appear in the
 SUBOPT_BOOTFILE_URL suboption to the boot file which has been specified in the
 bootfile-url field.
 In cases where no parameters are needed, everything but the boot file URL
 (including its length field) can be omitted.

</dd>
</dl></blockquote><p>

</p>
<p>
Note about the bootfile-url: This string can either contain a hostname
or a literal IPv6 address to specify the server where the boot file should be
downloaded from.
All clients which implement the SUBOPT_BOOTFILE_URL suboption
MUST be able to handle IPv6 addresses here and SHOULD also be able to handle a
hostname in the URL.
The IPv6 address in the URL then MUST be enclosed in "[" and "]"
characters, conforming to <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>.
Clients SHOULD also be able to handle hostnames in the URLs. However,
in this case the firmware implementation on the client machine must support
DNS, too. Due to size limitations, this might not be possible in all firmware
implementations, so support for hostnames in the URLs is only optional.

</p>
<p>
 Since multiple occurrences of SUBOPT_BOOTFILE_URL can be present in a
 single OPT_NETBOOT message, clients MUST process them in the order
 in which they appear within the message. For example in the case of a
 boot file URL the first file should be downloaded and executed.
 In case of a failure the process should continue with the second one
 and so on.

</p>
<a name="vendorsuboption"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Suboption: Vendor class extension</h3>

<p>
 With this suboption, vendors can define their own netboot suboptions:
 It can be used by clients and servers to exchange
 vendor-specific information which is related to network booting.

</p>
<p>
 This suboption can occur multiple times within a OPT_NET_BOOT option
 (also with different enterprise-numbers in case a server and client
 implementation supports different vendor extensions).
 Clients MUST process them in the order in which they appear within the
 message. Unsupported vendor extensions MUST be ignored.

</p>
<p>
 </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      SUBOPT_NETBOOT_VENDOR    |          suboption-len        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       enterprise-number                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
.                                                               .
.                       vendor-class-data                       .
.                       (variable length)                       .
.                                                               .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><p>


</p>
<p>
Format description:
</p>
<blockquote class="text"><dl>
<dt>suboption-code</dt>
<dd>
  SUBOPT_NETBOOT_VENDOR (2).

</dd>
<dt>suboption-len</dt>
<dd>
  Length of the vendor class suboption in octets
  (not including the size of the suboption-code and suboption-len fields).

</dd>
<dt>enterprise-number</dt>
<dd>
 The enterprise number of the vendor as registered with IANA
 (see <a class='info' href='#VENDORIDS'>[VENDORIDS]<span> (</span><span class='info'>IANA, &ldquo;Private Enterprise Numbers,&rdquo; .</span><span>)</span></a>).

</dd>
<dt>vendor-class-data</dt>
<dd>
 Vendor-specific information. The meaning is defined by the vendor identified
 by the enterprise-number. It is suggested that the vendor-class-data SHOULD be
 composed of a series of separate items with a two-octets length field at the
 beginning of each item, as it is described for the vendor class option in
 chapter 22.16 of <a class='info' href='#RFC3315'>[RFC3315]<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a>.

</dd>
</dl></blockquote><p>

</p>
<a name="Appearance"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Appearance of the Netboot option</h3>

<p>
	The netboot option MUST NOT appear in DHCPv6 messages other than the types
	Solicit, Advertise, Request, Renew, Rebind, Information-Request and Reply.

</p>
<p>
	The option-code of the netboot option MAY appear in the Option Request Option
	in the DHCPv6 message types Solicit, Request, Renew, Rebind,
	Information-Request and Reconfigure.

</p>
<p>
	The suboptions MUST appear only in the netboot option.

</p>
<a name="Bootprotocol"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Boot protocol considerations</h3>

<p>
<a class='info' href='#RFC906'>RFC 906<span> (</span><span class='info'>Finlayson, R., &ldquo;Bootstrap Loading using TFTP,&rdquo; June&nbsp;1984.</span><span>)</span></a> [RFC906] suggests to use TFTP for bootstrap
loading. Because it is easy to implement this protocol in firmware (where
one has to deal with size and complexity constraints), this is still the
recommended protocol for network booting. Every firmware implementation
SHOULD at least support this protocol. The boot file URLs then must be
specified according to <a class='info' href='#RFC3617'>RFC 3617<span> (</span><span class='info'>Lear, E., &ldquo;Uniform Resource Identifier (URI) Scheme and Applicability Statement for the Trivial File Transfer Protocol (TFTP),&rdquo; October&nbsp;2003.</span><span>)</span></a> [RFC3617].

</p>
<p>
An alternative approach to TFTP network booting is to bootstrap the system
with iSCSI. In this case, the URL in the SUBOPT_BOOTFILE_URL suboption MUST
be specified according to the "iscsi:" string definition in chapter 5
of <a class='info' href='#RFC4173'>[RFC4173]<span> (</span><span class='info'>Sarkar, P., Missimer, D., and C. Sapuntzakis, &ldquo;Bootstrapping Clients using the Internet Small Computer System Interface (iSCSI) Protocol,&rdquo; September&nbsp;2005.</span><span>)</span></a>.
Note that <a class='info' href='#RFC4173'>[RFC4173]<span> (</span><span class='info'>Sarkar, P., Missimer, D., and C. Sapuntzakis, &ldquo;Bootstrapping Clients using the Internet Small Computer System Interface (iSCSI) Protocol,&rdquo; September&nbsp;2005.</span><span>)</span></a> also suggests that the "iscsi:" string
should be specified in the so-called "Root Path" option. However, this option
does not exist for DHCPv6 yet, and with the SUBOPT_BOOTFILE_URL it is also not
necessary anymore. So for IPv6 iSCSI booting, the "iscsi:" string MUST be
specified as URL in the SUBOPT_BOOTFILE_URL suboption instead.

</p>
<p>
In some different scenarios, it might also be useful to use other protocols
like FTP or HTTP for network booting, so a firmware implementation can
support these protocols, too. Then it is up to the network administrator
to choose the appropriate boot protocol for the network, and to
specify the right boot file URLs in the DHCPv6 server configuration file.

</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA considerations</h3>

<p>
  The following option needs to be assigned by the IANA from the option number
  space defined in the chapter 22 of the <a class='info' href='#RFC3315'>DHCPv6 RFC<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315].
 
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center"><col align="center">
<tr><th align="center">Option name</th><th align="center">Value</th><th align="center">Specified in</th></tr>
<tr>
<td align="center">OPT_NET_BOOT</td>
<td align="center">TBD1</td>
<td align="center"><a class='info' href='#optionformat'>Section&nbsp;3<span> (</span><span class='info'>Netboot option format</span><span>)</span></a></td>
</tr>
</table>
<br clear="all" />

<p>
  The OPT_NET_BOOT option also defines a new 16-bit integer suboption field, for
  which IANA is to create and maintain a new sub-registry entitled
  "Netboot Suboptions" under the OPT_NET_BOOT option.  Initial values for the
  Netboot Suboptions registry are given below; future assignments
  are to be made through IETF Review (see <a class='info' href='#RFC5226'>[RFC5226]<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; May&nbsp;2008.</span><span>)</span></a>).
  Assignments consist of a suboption name and its associated value.
 
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center"><col align="center">
<tr><th align="center">Suboption name</th><th align="center">Value</th><th align="center">Specified in</th></tr>
<tr>
<td align="center">SUBOPT_BOOTFILE_URL</td>
<td align="center">1</td>
<td align="center"><a class='info' href='#bootfileformat'>Section&nbsp;4.1<span> (</span><span class='info'>Suboption: Boot file Uniform Resource Locator (URL)</span><span>)</span></a></td>
</tr>
<tr>
<td align="center">SUBOPT_NETBOOT_VENDOR</td>
<td align="center">2</td>
<td align="center"><a class='info' href='#vendorsuboption'>Section&nbsp;4.2<span> (</span><span class='info'>Suboption: Vendor class extension</span><span>)</span></a></td>
</tr>
</table>
<br clear="all" />

<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security considerations</h3>

<p>
The new DHCPv6 option described in this document could be sent in untrusted
networks by malicious people with a fake DHCPv6 server to confuse the booting
clients. The clients could be provided with a wrong URL so that the boot either
fails, or even worse, the client boots the wrong operating system which has been
provided by a malicious file server. To prevent this kind of attack, clients
SHOULD use authentication of DHCPv6 messages
(see chapter 21. in <a class='info' href='#RFC3315'>RFC 3315<span> (</span><span class='info'>Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;Dynamic Host Configuration Protocol for IPv6 (DHCPv6),&rdquo; July&nbsp;2003.</span><span>)</span></a> [RFC3315]).

</p>
<p>
Note also that DHCPv6 messages are sent unencrypted by default.
So the boot file URL options are sent unencrypted over the network, too.
This can become a security risk since the URLs can contain sensitive
information like user names and passwords (for example a URL like
"ftp://username:password@servername/path/file").
At the current point in time, there is no possibility to send encrypted DHCPv6
messages, so it is strongly recommended not to use sensitive information in the
URLs in untrusted networks.

</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>
The authors would like to thank Ketan P. Pancholi and Alfred Hoenes for
corrections and suggestions.

</p>
<p>
Vijayabhaskar Kalusivalingam and Senthil Balasubramanian published a similar
draft for IPv6 network booting some years ago (available at
http://tools.ietf.org/html/draft-ietf-dhc-dhcpv6-opt-rboot-00), which
however was abandoned for unknown reasons.

</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3315">[RFC3315]</a></td>
<td class="author-text">Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and M. Carney, &ldquo;<a href="http://tools.ietf.org/html/rfc3315">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>,&rdquo; RFC&nbsp;3315, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3315.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3617">[RFC3617]</a></td>
<td class="author-text">Lear, E., &ldquo;<a href="http://tools.ietf.org/html/rfc3617">Uniform Resource Identifier (URI) Scheme and Applicability Statement for the Trivial File Transfer Protocol (TFTP)</a>,&rdquo; RFC&nbsp;3617, October&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3617.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4173">[RFC4173]</a></td>
<td class="author-text">Sarkar, P., Missimer, D., and C. Sapuntzakis, &ldquo;<a href="http://tools.ietf.org/html/rfc4173">Bootstrapping Clients using the Internet Small Computer System Interface (iSCSI) Protocol</a>,&rdquo; RFC&nbsp;4173, September&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4173.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5226">[RFC5226]</a></td>
<td class="author-text">Narten, T. and H. Alvestrand, &ldquo;<a href="http://tools.ietf.org/html/rfc5226">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;5226, May&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5226.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="VENDORIDS">[VENDORIDS]</a></td>
<td class="author-text">IANA, &ldquo;<a href="http://www.iana.org/assignments/enterprise-numbers">Private Enterprise Numbers</a>.&rdquo;</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1350">[RFC1350]</a></td>
<td class="author-text"><a href="mailto:SOLLINS@LCS.MIT.EDU">Sollins, K.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1350">The TFTP Protocol (Revision 2)</a>,&rdquo; STD&nbsp;33, RFC&nbsp;1350, July&nbsp;1992 (<a href="http://www.rfc-editor.org/rfc/rfc1350.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC906">[RFC906]</a></td>
<td class="author-text">Finlayson, R., &ldquo;<a href="http://tools.ietf.org/html/rfc906">Bootstrap Loading using TFTP</a>,&rdquo; RFC&nbsp;906, June&nbsp;1984.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Thomas H. Huth</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">IBM Deutschland Research &amp; Development GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Schoenaicher Strasse 220</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Boeblingen  71032</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49-7031-16-2183</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:thuth@de.ibm.com">thuth@de.ibm.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jens T. Freimann</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">IBM Deutschland Research &amp; Development GmbH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Schoenaicher Strasse 220</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Boeblingen  71032</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49-7031-16-1122</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jfrei@de.ibm.com">jfrei@de.ibm.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
