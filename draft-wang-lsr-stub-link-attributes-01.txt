



LSR Working Group                                                A. Wang
Internet-Draft                                             China Telecom
Intended status: Standards Track                                   Z. Hu
Expires: March 26, 2022                              Huawei Technologies
                                                               G. Mishra
                                                            Verizon Inc.
                                                               A. Lindem
                                                           Cisco Systems
                                                                  J. Sun
                                                         ZTE Corporation
                                                      September 22, 2021


                 Advertisement of Stub Link Attributes
                 draft-wang-lsr-stub-link-attributes-01

Abstract

   This document describes the mechanism that can be used to
   differentiate the stub links from the normal interfaces within ISIS
   or OSPF domain.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 26, 2022.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents



Wang, et al.             Expires March 26, 2022                 [Page 1]

Internet-Draft                     PIA                    September 2021


   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  Consideration for Identifying Stub Link . . . . . . . . . . .   3
   4.  Protocol Extension for Stub Link Attributes . . . . . . . . .   3
     4.1.  OSPF Stub-Link TLV  . . . . . . . . . . . . . . . . . . .   4
     4.2.  ISIS Stub-link Sub-TLV  . . . . . . . . . . . . . . . . .   5
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   6
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   6
   7.  Acknowledgement . . . . . . . . . . . . . . . . . . . . . . .   6
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   7
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   7
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   7
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   8

1.  Introduction

   Stub links are used commonly within an operators enterprise or
   service provider networks.  One of the most common use cases for stub
   links is in a data center Layer 2 and Layer 3 Top of Rack(TOR) switch
   where the inter connected links between the TOR switches and uplinks
   to the core switch are only a few links and a majority of the links
   are Layer 3 VLAN switched virtual interface trunked between the TOR
   switches serving Layer 2 broadcast domains.  In this scenario all the
   VLANs are made as stub links as it is recommended to limit the number
   of network LSAs between routers and switches to avoid unnecessary
   hello processing overhead.

   Another common use case is an inter-AS routing scenario where the
   same routing protocol but different IGP instance is running between
   the adjacent BGP domains.  Using stub link on the inter-AS
   connections can ensure that prefixes contained within a domain are
   only reachable within the domain itself and not allow the link state
   database to be merged between domain which could result in
   undesirable consequences.

   For operator which runs different IGP domains that interconnect with
   each other via the stub links, there is desire to obtain the inter-AS
   topology information as described in
   [I-D.ietf-idr-bgpls-inter-as-topology-ext].  If the router that runs
   BGP-LS within one IGP domain can distinguish stub links from other



Wang, et al.             Expires March 26, 2022                 [Page 2]

Internet-Draft                     PIA                    September 2021


   normal interfaces, it is then easy for the router to report these
   stub links using BGP-LS to a centralized PCE controller.

   Draft [I-D.dunbar-lsr-5g-edge-compute] describes the case that edge
   compute server attach the network and needs to flood some performance
   index information to the network to facilitate the network select the
   optimized application resource.  The edge compute server will also
   not run IGP protocol.

   And, stub links are normally the boundary of one IGP domain, knowing
   them can facilitate the operators to apply various policies on such
   interfaces, for example, to secure their networks, or filtering the
   incoming traffic with scrutiny.

   But OSPF and ISIS have no position to identify such stub links and
   their associated attributes now.

   This document defines the protocol extension for OSPFv2/v3 and ISIS
   to indicate the stub links and their associated attributes.

2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119] .

3.  Consideration for Identifying Stub Link

   OSPF[RFC5392] defines the Inter-AS-TE-v2 LSA and Inter-AS-TE-v3 LSA
   to carry the TE information about inter-AS links.  These LSAs can be
   used to transfer the information about the stub link which is located
   at the boundary of one AS.  This document defines the Stub-Link TLV
   within these LSAs to identify the stub link and transfer the
   associated attributes then.

   ISIS[RFC5316] defines the Inter-AS Reachability TLV to carry the TE
   information about inter-AS links.  This TLV can be used to transfer
   the information about the stub link which is located at the boundary
   of one AS.  This document defines the Stub-Link sub-TLV within this
   TLV to identify the stub link and transfer the associated attributes.

4.  Protocol Extension for Stub Link Attributes

   The following sections define the protocol extension to indicate the
   stub link and its associated attributes in OSPFv2/v3 and ISIS.






Wang, et al.             Expires March 26, 2022                 [Page 3]

Internet-Draft                     PIA                    September 2021


4.1.  OSPF Stub-Link TLV

   This document defines the OSPF Stub-Link TLV to describe stub link of
   a single router.  This Stub-Link TLV is only applicable to the Inter-
   AS-TE-v2 LSA and Inter-AS-TE-v3 LSA.  Inclusion in other LSA MUST be
   ignored.

   The OSPF Stub-Link TLV which is under the IANA codepoint "Top Level
   Types in TE LSAs" has the following format:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Type(Stub-Link)   |               Length                   |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Link Type | Prefix Length |       Reserved                  |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                      Link Prefix(variable)                    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                      Sub-TLVs (variable)                      |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                 Figure 1: OSPF Stub-Link TLV

   Type: The TLV type.  The value is 7(TBD) for OSPF Stub-Link

   Length: Variable, dependent on sub-TLVs

   Link Type: Define the type of the stub-link.  This document defines
   the followings type:

   o  0: Reserved

   o  1: AS boundary link

   o  2: Loopback link

   o  3: Vlan interface link

   o  4-255: For future extension

   Prefix Length: The length of the interface address, in octet.

   Link Prefix: The prefix of the stub-link.  It's length is determined
   by the field "Prefix Length".

   Sub-TLVs: Existing sub-TLV that defined within "Open Shortest Path
   First (OSPF) Traffic Engineering TLVs" for TE Link TLV(Value 2) can
   be included if necessary.



Wang, et al.             Expires March 26, 2022                 [Page 4]

Internet-Draft                     PIA                    September 2021


   If this TLV is advertised multiple times in the same Inter-AS-TE-v2/
   v3 LSA, only the first instance of the TLV is used by receiving
   OSPFv2/v3 routers.  This situation SHOULD be logged as an error.

   If this TLV is advertised multiple times for the same link in
   different Inter-AS-TE-v2/v3 LSA originated by the same OSPFrouter,
   the OSPFStub-Link TLV in these LSAs with the smallest Opaque ID is
   used by receiving OSPFrouters.  This situation may be logged as a
   warning.

   It is RECOMMENDED that OSPF routers advertising OSPF Stub-Link TLVs
   in different OSPF Inter-AS-TE v2/v3 LSAs re-originate these LSAs in
   ascending order of Opaque ID to minimize the disruption.

   This document creates a registry for Stub-Link attributes in
   Section 6.

4.2.  ISIS Stub-link Sub-TLV

   This document defines the ISIS Stub-Link sub-TLV to describes stub
   link of a single router.  This Stub-Link sub-TLV is only applicable
   to the Inter-AS Reachability TLV.  Inclusion in other TLV MUST be
   ignored.

   The ISIS Stub-Link sub-TLV which is under the IANA codepoint "Sub-
   TLVs for TLVs 22, 23, 25, 141, 222, and 223" has the following
   format:

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    Type(Stub-Link)          |             Length              |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |   Link Type | Prefix Length |       Reserved                  |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                      Link Prefix(variable)                    |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                   Sub-TLVs(Variable)                          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                 Figure 2: ISIS Stub-Link Sub-TLV

   Type: ISIS sub-TLV codepoint.  Value is 45(TBD) for stub-link TLV.

   Length: Variable, dependent on sub-TLVs

   Link Type: Define the type of the stub-link.  This document defines
   the followings type:




Wang, et al.             Expires March 26, 2022                 [Page 5]

Internet-Draft                     PIA                    September 2021


   o  0: Reserved

   o  1: AS boundary link

   o  2: Loopback link

   o  3: Vlan interface link

   o  4-255: For future extension

   Prefix Length: The length of the interface address, in octet.

   Link Prefix: The prefix of the stub-link.  It's length is determined
   by the field "Prefix Length".

   Sub-TLVs: Existing sub-TLVs that defined within "Sub-TLVs for TLVs
   22, 23, 25, 141, 222, and 223" can be included if necessary.

5.  Security Considerations

   Security concerns for ISIS are addressed in [RFC5304] and[RFC5310]

   Security concern for OSPFv3 is addressed in [RFC4552]

   Advertisement of the additional information defined in this document
   introduces no new security concerns.

6.  IANA Considerations

   IANA is requested to the allocation in following registries:

   +===========================+======+===========================+
   | Registry                  | Type |       Meaning             |
   +===========================+======+===========================+
   |Top Level Types in TE LSAs | 7    |OSPF Stub-Link TLV         |
   +---------------------------+------+---------------------------+
   |Sub-TLVs for TLVs 22, 23,  |      |                           |
   | 25, 141, 222, and 223     | 45   |IS-IS Stub-Link sub-TLV    |
   +---------------------------+------+---------------------------+
        Figure 3: IANA Allocation for newly defined TLVs

7.  Acknowledgement

   Thanks Shunwan Zhang, Tony Li, Les Ginsberg, Acee Lindem, Dhruv
   Dhody, Jeff Tantsura and Robert Raszuk for their suggestions and
   comments on this idea.





Wang, et al.             Expires March 26, 2022                 [Page 6]

Internet-Draft                     PIA                    September 2021


8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC4552]  Gupta, M. and N. Melam, "Authentication/Confidentiality
              for OSPFv3", RFC 4552, DOI 10.17487/RFC4552, June 2006,
              <https://www.rfc-editor.org/info/rfc4552>.

   [RFC5304]  Li, T. and R. Atkinson, "IS-IS Cryptographic
              Authentication", RFC 5304, DOI 10.17487/RFC5304, October
              2008, <https://www.rfc-editor.org/info/rfc5304>.

   [RFC5310]  Bhatia, M., Manral, V., Li, T., Atkinson, R., White, R.,
              and M. Fanto, "IS-IS Generic Cryptographic
              Authentication", RFC 5310, DOI 10.17487/RFC5310, February
              2009, <https://www.rfc-editor.org/info/rfc5310>.

   [RFC5316]  Chen, M., Zhang, R., and X. Duan, "ISIS Extensions in
              Support of Inter-Autonomous System (AS) MPLS and GMPLS
              Traffic Engineering", RFC 5316, DOI 10.17487/RFC5316,
              December 2008, <https://www.rfc-editor.org/info/rfc5316>.

   [RFC5392]  Chen, M., Zhang, R., and X. Duan, "OSPF Extensions in
              Support of Inter-Autonomous System (AS) MPLS and GMPLS
              Traffic Engineering", RFC 5392, DOI 10.17487/RFC5392,
              January 2009, <https://www.rfc-editor.org/info/rfc5392>.

8.2.  Informative References

   [I-D.dunbar-lsr-5g-edge-compute]
              Dunbar, L., Chen, H., and C. Telecom, "IS-IS & OSPF
              extension for 5G Edge Computing Service", draft-dunbar-
              lsr-5g-edge-compute-00 (work in progress), July 2021.

   [I-D.ietf-idr-bgpls-inter-as-topology-ext]
              Wang, A., Chen, H., Talaulikar, K., and S. Zhuang, "BGP-LS
              Extension for Inter-AS Topology Retrieval", draft-ietf-
              idr-bgpls-inter-as-topology-ext-09 (work in progress),
              September 2020.







Wang, et al.             Expires March 26, 2022                 [Page 7]

Internet-Draft                     PIA                    September 2021


Authors' Addresses

   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing  102209
   China

   Email: wangaj3@chinatelecom.cn


   Zhibo Hu
   Huawei Technologies
   Huawei Bld., No.156 Beiqing Rd.
   Beijing  100095
   China

   Email: huzhibo@huawei.com


   Gyan S. Mishra
   Verizon Inc.
   13101 Columbia Pike
   Silver Spring  MD 20904
   United States of America

   Email: gyan.s.mishra@verizon.com


   Acee Lindem
   Cisco Systems
   No. 301 Midenhall Way
   Cary  NC 27513
   United States of America

   Email: acee@cisco.com


   Jinsong Sun
   ZTE Corporation
   No. 68, Ziijnhua Road
   Nan Jing  210012
   China

   Email: sun.jinsong@zte.com.cn






Wang, et al.             Expires March 26, 2022                 [Page 8]
