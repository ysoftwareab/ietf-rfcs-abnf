IS-IS Working Group                                             Z. Li 
Internet Draft                                                  L. Li 
Intended status: BEST CURRENT PRACTICE                         X. Duan 
Expires: September 1, 2009                                  China Mobile 
                                                          March 2, 2009 
                                   
 
                                      
     Recommendations for Processing Mechanism for Checksum Error LSP in 
      Interoperable Networks using Intermediate System to Intermediate 
                              System (IS-IS) 
                 draft-li-isis-error-lsp-processing-00.txt 


    

Status of this Memo 

   This Internet-Draft is submitted to IETF in full conformance with the 
   provisions of BCP 78 and BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups. Note that other 
   groups may also distribute working documents as Internet-Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time. It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on September 2,2009. 

Copyright Notice 

   Copyright (c) 2009 IETF Trust and the persons identified as the 
   document authors. All rights reserved. 

   This document is subject to BCP 78 and the IETF Trust's Legal 
   Provisions Relating to IETF Documents 
   (http://trustee.ietf.org/license-info) in effect on the date of 
   publication of this document. Please review these documents carefully, 

 
 
 
Li                    Expires September 2,2009                [Page 1] 

Internet-Draft   draft-li-isis-error-lsp-processing         March 2009 
    

   as they describe your rights and restrictions with respect to this 
   document. 

Abstract 

   This document discusses the processing mechanism for the Link State 
   Protocol Data Unit (LSP) with an incorrect LSP Checksum in the 
   interoperable networks using IS-IS. It is suggested to add a 
   configurable switch to control the processing mechanism of checksum 
   error LSP. This document clarifies the processing mechanism for zero 
   checksum LSP and zero remaining lifetime LSP, and gives advices to 
   calculate the checksum of all kinds of LSPs as well.  

    
  1. Introduction 

   Intermediate System to Intermediate System (IS-IS) Protocol [1] is 
   one of the Interior Gateway Protocols. It is widely deployed in the 
   carrier backbone networks. 

   Section 7.3.14.2 e) of [1] states: An Intermediate system receiving a 
   Link State PDU (LSP) with an incorrect LSP Checksum or with an 
   invalid PDU syntax shall 
       1) generate a corruptedLSPReceived circuit event, 
       2) discard the PDU. 

   However  practically, operators usually request that equipments can 
   provide control switch in order to control the processing mechanism 
   of Checksum error LSP. Actually, some equipment manufacturers have 
   provided such configuration switch, such as Cisco's IGNORE-LSP-
   ERRORS switch and Huawei's IGNORE-LSP-CHECKSUM-ERROR switch. But for 
   the lack of unified standards, the default state of the switch is 
   usually diverse, and the processing mechanism of checksum error LSP 
   is not exactly the same. Many unexpected failures may occur in the 
   multi-manufacture environment. 

   Besides, the processing mechanism of zero Remaining Lifetime LSP for 
   different manufacturers is not completely the same. 

   This document aims at posing these issues, and gives uniform 
   suggestion. 

  2. Terminology 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",   
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this   
   document are to be interpreted as described in [2]. 
 
 
Li                    Expires September 1,2009                [Page 2] 

Internet-Draft   draft-li-isis-error-lsp-processing         March 2009 
    

    

  3. On-off Switch 

   All the devices implementing IS-IS SHOULD provide an on-off switch to 
   control the processing mechanism when they receive a LSP with an 
   incorrect LSP Checksum. The on-off switch SHOULD be configurable 
   through the Command Line Interface (CLI). 

   When the on-off switch is on, the processing mechanism for the 
   checksum error LSP SHOULD be accordant with what is stated in Section 
   7.3.14.2 e) of [1]. When the on-off switch is off, the equipment 
   SHOULD treat the received checksum error LSP in the same way as the 
   LSP whose remaining lifetime equals 0. The processing mechanism is 
   specified in Section 7.3.16.4 of [1]. 

   It is RECOMMENDED that the default state of the on-off switch be on. 
   In this way, the default processing mechanism is in accordance with 
   Section 7.3.14.2 e) of [1]. 

  4. Zero checksum 

   RFC 3719 [3], section 7, suggests an implementation SHOULD treat all 
   LSPs with a zero checksum and a non-zero remaining lifetime as if 
   they had as checksum error. Equipments with on-off switch SHOULD 
   treat such LSPs in accordance with the processing mechanism mentioned 
   in the previous section 3. 

   ISO 10589, section 7.3.16.4, note 36, states: A check of the checksum 
   of a zero Remaining Lifetime LSP succeeds even though the data 
   portion is not present. Therefore, the LSP with a zero checksum and a 
   zero remaining lifetime SHOULD be treated as the LSP with correct 
   checksum, and the processing mechanism SHOULD NOT be affected by the 
   switch state. To insure the interoperability and maintain network 
   stability, it is RECOMMENDED that the checksum of all LSPs, including 
   the LSP with a zero remaining lifetime, SHOULD be calculated 
   correctly, just as described in section 6. 

  5. Zero remaining lifetime 

   ISO 10589, section 7.3.16.4, note 36, states: A check of the checksum 
   of a zero Remaining Lifetime LSP succeeds even though the data 
   portion is not present. Therefore, a zero Remaining Lifetime LSP 
   SHOULD be treated as correct LSP, no matter whether its checksum is 
   correct or not. The processing mechanism SHOULD NOT be affected by 
   the on-off switch and the details can be seen in section 7.3.16.4. 

 
 
Li                    Expires September 1,2009                [Page 3] 

Internet-Draft   draft-li-isis-error-lsp-processing         March 2009 
    

   However, in order to insure the interoperability and maintain network 
   stability, the checksum of zero Remaining Lifetime LSP is RECOMMENDED 
   to be calculated correctly as well, as described in section 6. 

  6. Checksum calculation 

   Although note 36, section 7.3.16.4, ISO 10589 prescribes that 
   examining the checksum of a zero Remaining Lifetime LSP is always 
   successful, to insure the interoperability and maintain network 
   stability, it is RECOMMENDED to calculate the checksum of all LSPs 
   correctly, including zero Remaining Lifetime LSP. The calculation 
   method is presented in Section 7.3.11, ISO 10589. 

  7. Security Considerations 

   The suggestions and clarifications in this document will not cause 
   extra new security concerns. 

  8. References 

   [1]  ISO 10589 V2 Telecommunications and information exchange 
         between systems-Intermediate System to Intermediate System 

   [2]  Bradner, S., "Key words for use in RFCs to Indicate Requirement 
         Levels", BCP 14, RFC 2119, March 1997. 

   [3]  J. Parker, Ed., "Recommendations for Interoperable Networks 
         using           Intermediate System to Intermediate System (IS-
         IS)", RFC 3719, February 2004. 

    

Author's Addresses 

   Zhenqiang Li (editor) 
   China Mobile Research Institute 
   Gate 2 Dacheng Plaza  
   No. 28 Xuanwumen West Street 
   Xuanwu District, Beijing  100053 
   China 
    
   Phone: +86 1391 163 5816 
   Email: lizhenqiang@chinamobile.com 
    



 
 
Li                    Expires September 1,2009                [Page 4] 

Internet-Draft   draft-li-isis-error-lsp-processing         March 2009 
    

   Lianyuan Li 
   China Mobile Research Institute 
   Gate 2 Dacheng Plaza  
   No. 28 Xuanwumen West Street 
   Xuanwu District, Beijing  100053 
   China 
    
   Phone: +86 1391 178 9703 
   Email: lilianyuan@chinamobile.com 
    
   Xiaodong Duan 
   China Mobile Research Institute 
   Gate 2 Dacheng Plaza  
   No. 28 Xuanwumen West Street 
   Xuanwu District, Beijing  100053 
   China 
    
   Phone: +86 1391 019 1797 
   Email: duanxiaodong@chinamobile.com 
    


























 
 
Li                    Expires September 1,2009                [Page 5] 

