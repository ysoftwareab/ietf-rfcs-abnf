<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Indirect Presence Publication with the
      Session Initiation Protocol(SIP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Indirect Presence Publication with the
      Session Initiation Protocol(SIP)">
<meta name="keywords" content="SIP, indirect, PUBLISH">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">SIMPLE Working Group</td><td class="header">M. Garcia-Martin</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Ericsson</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">H. Tschofenig</td></tr>
<tr><td class="header">Expires: September 7, 2009</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">H. Schulzrinne</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Columbia University</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 06, 2009</td></tr>
</table></td></tr></table>
<h1><br />Indirect Presence Publication with the
      Session Initiation Protocol(SIP)<br />draft-garcia-simple-indirect-presence-publish-01.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 7, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>SIP is extended by the SIP-events framework to provide
      subscriptions and notifications of SIP events. One example of
      such event notification mechanism is 'presence' and this
      presence information is carried in Presence Information Data
      Format (PIDF) documents.
</p>
<p>The SIP PUBLISH method specified in RFC 3903 carrying a PIDF
      document is typically used when presentities publish their own
      presence since these presentities are typically the source of
      the information. However, there are cases when the presentity is
      not the direct source of the presence information. One such
      example is location information where the end host may obtain a
      reference to location information as opposed to as a value. The
      endpoint is typically not interested in knowing its own location
      information, but other users or entities might be. So, if the
      endpoint gets its own location information with a reference and
      wants to publish it embedded in its presence information, it
      first needs to de-reference it for getting a value, and then it
      can embed that value in its presence information. While this is
      certainly a correct sequence, it adds a round-trip to the
      presence publication, in addition to a demand processing power
      and network bandwidth consumption. 
</p>
<p> There is a need for a mechanism that the presentity can use
      to publish indirect references, such as indirect location
      references. This document discusses a few variants that may be
      used to provide this functionality.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#sec-intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-geo-prots">1.1.</a>&nbsp;
Geolocation Protocols Relationship<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-location-uris">1.2.</a>&nbsp;
Case Study: Location URIs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">1.3.</a>&nbsp;
Terminology<br />
<a href="#sec-overview">2.</a>&nbsp;
Overview of Operation<br />
<a href="#sec-iana">3.</a>&nbsp;
IANA Considerations<br />
<a href="#security">4.</a>&nbsp;
Security considerations<br />
<a href="#rfc.references1">5.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">5.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">5.2.</a>&nbsp;
Informational References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="sec-intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p> The <a class='info' href='#RFC3261'>Session Initiation Protocol (SIP)<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3261] is extended by the <a class='info' href='#RFC3265'>SIP-events
      framework<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> [RFC3265] to provide subscriptions and notifications of
      SIP events. One example of such event notification mechanism is
      'presence'.  The presence information is typically carried in
      <a class='info' href='#W3C.REC-xml-20060816'>Extensible Markup Language
      (XML)<span> (</span><span class='info'>Bray, T., Paoli, J., Yergeau, F., Maler, E., and C. Sperberg-McQueen, &ldquo;Extensible Markup Language (XML) 1.0 (Fourth Edition),&rdquo; August&nbsp;2006.</span><span>)</span></a> [W3C.REC&#8209;xml&#8209;20060816] documents that are compliant with a given <a class='info' href='#W3C.REC-xmlschema-0-20041028'>XML schema<span> (</span><span class='info'>Walmsley, P. and D. Fallside, &ldquo;XML Schema Part 0: Primer Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a> [W3C.REC&#8209;xmlschema&#8209;0&#8209;20041028]. These
      presence documents are called <a class='info' href='#RFC3863'>Presence
      Information Data Format (PIDF) documents<span> (</span><span class='info'>Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &ldquo;Presence Information Data Format (PIDF),&rdquo; August&nbsp;2004.</span><span>)</span></a> [RFC3863]. 
</p>
<p> The SIP PUBLISH method specified in <a class='info' href='#RFC3903'>RFC 3903<span> (</span><span class='info'>Niemi, A., &ldquo;Session Initiation Protocol (SIP) Extension for Event State Publication,&rdquo; October&nbsp;2004.</span><span>)</span></a> [RFC3903] carrying a PIDF document is
      typically used when presentities publish their own presence
      information. Usually the presentity can compose a quite detailed
      PIDF document, which is typically extended with a number of rich
      information, such as the <a class='info' href='#RFC4479'>Presence Data
      Model<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Data Model for Presence,&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4479], <a class='info' href='#RFC4480'>Rich Presence Extensions
      to PIDF (RPID)<span> (</span><span class='info'>Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF),&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4480], or the <a class='info' href='#RFC4481'>Contact
      Information to the Presence Information Data Format
      (CIPID)<span> (</span><span class='info'>Schulzrinne, H., &ldquo;Timed Presence Extensions to the Presence Information Data Format (PIDF) to Indicate Status Information for Past and Future Time Intervals,&rdquo; July&nbsp;2006.</span><span>)</span></a> [RFC4481]. 
</p>
<p> In the mentioned extensions, the presentity is typically the
      source of the extended rich presence information. However, there
      are occasions, when the presentity is not the direct source of
      the presence information. One of these cases occurs when a
      presentity acquires its own location information from a <a class='info' href='#I-D.ietf-geopriv-http-location-delivery'>HELD server<span> (</span><span class='info'>Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;HTTP Enabled Location Delivery (HELD),&rdquo; August&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;geopriv&#8209;http&#8209;location&#8209;delivery]. The HELD client on the end host can request Location
      URI (location by reference) as opposed to as a value (location
      by value).
</p>
<a name="sec-geo-prots"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Geolocation Protocols Relationship</h3>

<p>
	  <a class='info' href='#fig-current-protocols'>Figure&nbsp;1<span> (</span><span class='info'>Current Geolocation Protocols Relationship</span><span>)</span></a> depicts the
	  geolocation protocol relationship. A Location URI points to
	  a Location Configuration Protocol (LCP) server that is able
	  to provide location of a specific target. The LCP server is
	  able to associate the Location URI to the location of the
	  target inside its administrative domain. A target of
	  location information implements a Location Configuration
	  Protocol (LCP) client. The LCP client first uses the
	  location configuration protocol to acquire its location
	  information (see step 1 in <a class='info' href='#fig-current-protocols'>Figure&nbsp;1<span> (</span><span class='info'>Current Geolocation Protocols Relationship</span><span>)</span></a>). We assume this location
	  information is delivered in the format of a reference.
	
</p>
<p>
	  Then the LCP client needs to de-reference the acquired
	  reference. This done in step 2 in <a class='info' href='#fig-current-protocols'>Figure&nbsp;1<span> (</span><span class='info'>Current Geolocation Protocols Relationship</span><span>)</span></a> and uses a location
	  de-reference protocol to get a value of its location
	  information. Last, the end host can embed its location
	  information in the location conveyance protocol (step 3 in in <a class='info' href='#fig-current-protocols'>Figure&nbsp;1<span> (</span><span class='info'>Current Geolocation Protocols Relationship</span><span>)</span></a>) and send it to a location
	  recipient, such as a presence server.
	
</p><br /><hr class="insert" />
<a name="fig-current-protocols"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
       +-----------+               +------------+
       |           |               | Location   |
       |    LCP    |               | recipient/ |
       |   server  |               | Presence   |
       |           |               | cerver     |
       +-----------+               +------------+
           ^  ^                        ^
Geopriv    |  | Geopriv              //
Location   |  | Location           //
Dereference|  | Configuration    //
Protocol   |  | Protocol       //
(2)        |  | (1)          //
           |  |            //   Geopriv Location
           v  v          //     Conveyance Protocol
       +-----------+   //       (e.g., SIP)
       | Target /  | //         (3)
       | End host  |v
       | LCP client|
       +-----------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Current Geolocation Protocols Relationship&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
	  This document, though, discusses proposals for the scenario
	  envisioned in <a class='info' href='#fig-proposed-protocols'>Figure&nbsp;2<span> (</span><span class='info'>Proposed Geolocation Protocols Relationship</span><span>)</span></a>, where
	  the target or end hosts acquires a reference via the
	  location configuration protocol (step 1 in <a class='info' href='#fig-proposed-protocols'>Figure&nbsp;2<span> (</span><span class='info'>Proposed Geolocation Protocols Relationship</span><span>)</span></a>), sends such reference in
	  a location conveyance protocol or presence publication (step
	  2), and lets the location recipient or presence server to
	  acquire the actual value according to the reference (step
	  3).
	
</p>
<p>
	  The kind of reference that is first acquired and then send
	  to the location recipient determines the value that the
	  location recipient gets in step 3. <a class='info' href='#sec-location-uris'>Section&nbsp;1.2<span> (</span><span class='info'>Case Study: Location URIs</span><span>)</span></a> discusses location URIs.
	
</p><br /><hr class="insert" />
<a name="fig-proposed-protocols"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+-----------+  Geopriv      +------------+
|           |  Location     | Location   |
|    LCP    |&lt;-------------&gt;| Recipient/ |
|   server  |  Dereference  | Presence   |
|           |  Protocol (3) | Server     |
+-----------+               +------------+
      ^                         ^
      | Geopriv               //
      | Location            //
      | Configuration     //
      | Protocol        //
      | (1)           //
      |             //   Geopriv Location
      v           //     Conveyance Protocol
+-----------+   //       (e.g., SIP)
| Target /  | //         (2)
| End Host  |v
| LCP Client|
+-----------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Proposed Geolocation Protocols Relationship&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-location-uris"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Case Study: Location URIs</h3>

<p> A Location URI points to a Location Configuration Protocol
	(LCP) server that is able to provide location of a specific
        target. The LCP server is able to associate the Location URI to the
        location of the target inside its administrative
        domain. However, the resolution step from a Location URI to a
        Location Object may be influenced by different parameters and
	by the location URI itself. 
</p>
<p>
	  Depending on the value returned as an invocation to the
	  reference URI, we can classify location URI in two cases:
	
</p>
<p>
	  </p>
<blockquote class="text"><dl>
<dt>Static location URIs:</dt>
<dd><br />
 Whenever a static location URI is
	    de-referenced, the same static location is returned. These
	    URIs are typically constrained by a start and a stop
	    time. For example, the location of Alice on a her 21st
	    birthday at 10:00 AM is a static location URI, because she
	    was in a place at that time and date, so, the location
	    does not change. The path that Alice took on the same day
	    from 12 PM to 2 PM is also a static location URI, because
	    as a result of its de-reference the location recipient
	    will get the same collection of locations.
	    
</dd>
<dt>Dynamic location URIs:</dt>
<dd><br />
 Every time a dynamic location URI is
	    de-referenced a new (potentially different) location is
	    provided. Typically these URIs do not have a constraint
	    with the time. Assume Alice acquires a URI that points to
	    her current location, every time that a location recipient
	    invokes the URI, he will get a different location
	    (assuming that Alice's location changes). Another example
	    can be when Alice acquires a URI that provides her
	    location between today noon and now, so, when the location
	    recipient invokes the URI, he will be accumulating further
	    locations, providing that Alice is changing her location.
	    
</dd>
</dl></blockquote><p>
	
</p>
<p>
	  Dynamic location URIs have stronger privacy considerations,
	  because the target does not really know what is the location
	  supplied at any time. However, the target has mechanisms to
	  constraint the availability of a dynamic location URI, for
	  example, by imposing a time when the reference expires.
	
</p>
<p>With either dynamic or location URIs there is a need for a
        mechanism that allows the presentity to publish indirect
        references. In absence of this mechanism, the presentity would
        need to retrieve its location information by value, compose a
        PIDF document that contains it, and publish it to the presence
        server. 
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Terminology</h3>

<p> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL",
        "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
        "OPTIONAL" in this document are to be interpreted as described
        in BCP 14, <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119]. 
</p>
<p>This version of the document does not contain normative
        text at this point in time given the different options that
        are available to solve the described problem.
</p>
<a name="sec-overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Overview of Operation</h3>

<p>A presentity first send a <a class='info' href='#I-D.ietf-geopriv-http-location-delivery'>location
          request<span> (</span><span class='info'>Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;HTTP Enabled Location Delivery (HELD),&rdquo; August&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;geopriv&#8209;http&#8209;location&#8209;delivery] over the binding protocol, indicating the desire to receive its location
        by reference. This is done by including a &lt;locationType&gt; element with the
        value set to "locationURI". The server responds with one or more &lt;locationURI&gt;
        elements, typically with different URI schemas. The presentity then selects a SIP or SIPS
        URI scheme, and: 
</p>
<p>[[Editor's Note: We have several options here. We need to pick one.]]
</p>
<p>
        </p>
<ol class="text">
<li> Inserts the value of the locationURI in a Geolocation header field, as specified in
            the <a class='info' href='#I-D.ietf-sip-location-conveyance'>SIP Location Conveyance
            document<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]. Then, it sends it in a PUBLISH request, which may also contain a
            regular PIDF document. <br />
<br />

<blockquote class="text">
<p>The drawback of this approach is that it is specific to geolocation and difficult
                to generalize. Furthermore, it is not possible to determine whether the server
                actually understands the provided references.<br />
<br />

              
</p>
</blockquote>
          
</li>
<li>Inserts the locationURI value in a new extension to the PIDF to carry an indirect
            reference. The extension consists of a new element called "indirect-reference", which is
            inserted. Then, the PIDF is attached to a PUBLISH request and sent to the presence
            server. <br />
<br />

<blockquote class="text">
<p> The drawback of this approach is that it is still not possible to determine
                whether the server supports it. Also, if the referred document is a PIDF, then the
                semantics would be "here is the reference to an additional PIDF document" as opposed
                to "include this position some elements that are indirectly referred". The advantage
                of this approach is that this extension is general enough to include any indirect
                reference, for example, to a calendar that can publish RFC 4481 extensions to
                  PIDF.<br />
<br />

              
</p>
</blockquote>
          
</li>
<li>Creates an additional XML document (independent of a PIDF document) and if the
            presentity also attaches a regular PIDF document, then both documents are put into a
            MIME multipart/related wrapper, which becomes the payload of the PUBLISH request.
            Otherwise, the sole new XML document is attached to the PUBLISH request and sent to the
            presence server. <br />
<br />

<blockquote class="text">
<p> The drawback of this approach is the shy support for multipart MIME bodies. The
                advantage is a clean solution with no interferences with PIDF. It also allows to
                include an indirect-reference of any kind.<br />
<br />

</p>
</blockquote>
          
</li>
</ol><p>
      
</p>
<p> When the presence server receives a PUBLISH request that contains an indirect reference,
        it tries to de-reference, e.g., invoke the URI included there. If the result of such
        operation is that the presence server gets a presentity's PIDF document, then it should
        consider the document as directly published from the presentity, and should composed a
        merged PIDF document, potentially including other sources of presence information. 
</p>
<a name="sec-iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
IANA Considerations</h3>

<p> This document has no actions for IANA. 
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security considerations</h3>

<p>The security considerations described in SIP Location Conveyance <a class='info' href='#I-D.ietf-sip-location-conveyance'>[I&#8209;D.ietf&#8209;sip&#8209;location&#8209;conveyance]<span> (</span><span class='info'>Polk, J. and B. Rosen, &ldquo;Location Conveyance for the Session Initiation Protocol,&rdquo; March&nbsp;2009.</span><span>)</span></a>are applicable to this document. 
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>5.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3265">[RFC3265]</a></td>
<td class="author-text">Roach, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3265">Session Initiation Protocol (SIP)-Specific Event Notification</a>,&rdquo; RFC&nbsp;3265, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3265.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>5.2.&nbsp;Informational References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3863">[RFC3863]</a></td>
<td class="author-text">Sugano, H., Fujimoto, S., Klyne, G., Bateman, A., Carr, W., and J. Peterson, &ldquo;<a href="http://tools.ietf.org/html/rfc3863">Presence Information Data Format (PIDF)</a>,&rdquo; RFC&nbsp;3863, August&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3863.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3903">[RFC3903]</a></td>
<td class="author-text">Niemi, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3903">Session Initiation Protocol (SIP) Extension for Event State Publication</a>,&rdquo; RFC&nbsp;3903, October&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3903.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4479">[RFC4479]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4479">A Data Model for Presence</a>,&rdquo; RFC&nbsp;4479, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4479.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4480">[RFC4480]</a></td>
<td class="author-text">Schulzrinne, H., Gurbani, V., Kyzivat, P., and J. Rosenberg, &ldquo;<a href="http://tools.ietf.org/html/rfc4480">RPID: Rich Presence Extensions to the Presence Information Data Format (PIDF)</a>,&rdquo; RFC&nbsp;4480, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4480.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4481">[RFC4481]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://tools.ietf.org/html/rfc4481">Timed Presence Extensions to the Presence Information Data Format (PIDF) to Indicate Status Information for Past and Future Time Intervals</a>,&rdquo; RFC&nbsp;4481, July&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4481.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-20060816">[W3C.REC-xml-20060816]</a></td>
<td class="author-text">Bray, T., Paoli, J., Yergeau, F., Maler, E., and C. Sperberg-McQueen, &ldquo;<a href="http://www.w3.org/TR/2006/REC-xml-20060816">Extensible Markup Language (XML) 1.0 (Fourth Edition)</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xml-20060816, August&nbsp;2006 (<a href="http://www.w3.org/TR/2006/REC-xml-20060816">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xmlschema-0-20041028">[W3C.REC-xmlschema-0-20041028]</a></td>
<td class="author-text">Walmsley, P. and D. Fallside, &ldquo;<a href="http://www.w3.org/TR/2004/REC-xmlschema-0-20041028">XML Schema Part 0: Primer Second Edition</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xmlschema-0-20041028, October&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-xmlschema-0-20041028">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sip-location-conveyance">[I-D.ietf-sip-location-conveyance]</a></td>
<td class="author-text">Polk, J. and B. Rosen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-location-conveyance-13.txt">Location Conveyance for the Session Initiation Protocol</a>,&rdquo; draft-ietf-sip-location-conveyance-13 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-location-conveyance-13.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-geopriv-http-location-delivery">[I-D.ietf-geopriv-http-location-delivery]</a></td>
<td class="author-text">Barnes, M., Winterbottom, J., Thomson, M., and B. Stark, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-http-location-delivery-16.txt">HTTP Enabled Location Delivery (HELD)</a>,&rdquo; draft-ietf-geopriv-http-location-delivery-16 (work in progress), August&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-geopriv-http-location-delivery-16.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Miguel A. Garcia-Martin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ericsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Calle Via de los Poblados 13</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Madrid, ES  28033</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Spain</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:miguel.a.garcia@ericsson.com">miguel.a.garcia@ericsson.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hannes Tschofenig</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Otto-Hahn-Ring 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Munich, Bavaria  81739</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Hannes.Tschofenig@gmx.net">Hannes.Tschofenig@gmx.net</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.tschofenig.priv.at">http://www.tschofenig.priv.at</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Henning Schulzrinne</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Columbia University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Department of Computer Science</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">450 Computer Science Building</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">New York, NY  10027</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 212 939 7042</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:schulzrinne@cs.columbia.edu">schulzrinne@cs.columbia.edu</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.cs.columbia.edu/~hgs">http://www.cs.columbia.edu/~hgs</a></td></tr>
</table>
</body></html>
