

CCAMP Working Group                           Alberto Bellato (Alcatel)
Category: Internet Draft                      Michele Fontana (Alcatel)
Expiration Date: December 2001              Germano Gasparini (Alcatel)
                                                 Gert Grammel (Alcatel)
                                                    Jim Jones (Alcatel)
                                        Dimitri Papadimitriou (Alcatel)

                                                              June 2001



        Traffic Engineering Routing Extensions to OSPF and ISIS
         for GMPLS Control of G.709 Optical Transport Networks

           draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt



Status of this Memo

   This document is an Internet-Draft and is in full conformance with
         all provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as "work in
   progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   Conventions used in this document:
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC-2119 [2].













D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     1

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001



Abstract

   This document proposes the traffic engineering extensions to OSPF
   and IS-IS IGP routing protocols to support dynamic Label Switched
   Path (LSP) processing when using Generalized MPLS signalling as
   defined in [GMPLS-SIG] and [GMPLS-G709].

1. Introduction

   A framework for controlling G.709 Optical Transport Networks (OTN)
   is described in [G709-FRM]. This document is based on TE extensions
   defined in [OSPF-TE] and [ISIS-TE] which have been extended for
   GMPLS in [GMPLS-OSPF-TE] and [GMPLS-ISIS-TE]. It also refers to the
   notion of Forwarding Adjacency (FA) defined in [MPLS-LH] and
   supports Link Bundling as defined in [MPLS-BDL].

   Routing information is transported by OSPF in Link State
   Advertisements (LSAs) grouped in OSPF PDUs, and is transported by
   IS-IS in Link State PDUs (LSPs). Two particular sets of information
   must be transported by a routing protocol to enable G.709 TE
   Routing. A static set of information describes the capabilities of
   an G709-LSR and its G.709 links independently of their usage. A
   dynamic set of information describes the resources (signals) that
   are used at each link, i.e. the operational status of a link. For
   each of these sets, new TLVs are defined as follows:

   1) TLVs regarding the static capability of a G709-LSR and its links:

      - LD-MP TLV  : Link ODUk Mapping Capability TLV
      - LD-MC TLV  : Link ODUk Multiplexing Capability TLV
      - LO-MC TLV  : Link OCh Multiplexing Capability TLV
      - LD-CC TLV  : Link ODUk Concatenation Capability TLV
      - LO-IM TLV  : Link OCh Inverse Multiplexing Capability TLV
      - RO-IW TLV  : Router OTN û Pre-OTN Internetworking TLV

   The LO-IM TLV and RO-IW TLV are only defined for the G.709 Optical
   Channel layer.

   2) TLVs regarding the current status of a link:

      - LD-CA TLV  : Link ODUk Component Allocation TLV
      - LO-CA TLV  : Link OCh Component Allocation TLV

   A data bearing link between two adjacent LSRs is defined as a TE
   link (and simply identified by a link ID). GMPLS integrates the TE-
   link notion by defining the following concepts:
   - links that are non-Packet Switch Capable (PSC) may yet have TE
     properties; however, an adjacency cannot be brought up directly on
     such links
   - LSP can be advertised as a point-to-point TE links in IGP routing
     protocol, i.e. as a Forwarding Adjacency (FA); thus, an advertised
     TE link need no longer be between two neighbors Forwarding

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     2

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


     Adjacencies (FA) are more extensively defined in [MPLS-LH].
   - several links having the same Traffic Engineering (TE)
     capabilities (i.e. same TE metric, same set of Resource Class and
     same Link Multiplexing capability) can be advertised as a single
     TE link, such TE links are referred to as link bundles whose
     individual link are referred to as component links; so there is no
     longer a one-to-one association of a regular adjacency and a TE
     link.

   It results that each component link of a bundle must have the same
   G.709 multiplexing and concatenation capabilities as defined
   hereafter. The corresponding TLVs (LD-MP, LD-MC, LO-MC, LD-CC and 
   LO-IM) are specified once, and apply to each component. No per 
   component information or identification is required for these TLVs.

   In [G709-FRM] we described the G.709 hierarchies as composed by a
   digital hierarchy and an optical transport hierarchy. The first one
   includes the Digital Path Layer (i.e. the ODUk layers) while the OTH
   one includes the Optical Channel Layer (i.e. the OCh layer).
   Consequently we can define for of each of these hierarchies a
   separated set of specific TLV. This will reduce the amount of static
   information flooded throughout the routing domain while keeping the
   dynamic one confined to the layer to which this information is
   relevant.

2. Static Capabilities

   Static capabilities at defined for the Digital Path (section 2.1)
   and the Optical Channel layer (section 2.2).

2.1 Digital Path Layer

   At the digital path layer (i.e. the ODUk layers) the static
   capabilities are defined as:

      - LD-MP TLV  : Link ODUk Mapping Capability TLV
      - LD-MC TLV  : Link ODUk Multiplexing Capability TLV
      - LD-CC TLV  : Link ODUk Concatenation Capability TLV

2.1.1 Link ODUk Mapping Capability TLV (LD-MP TLV)

   The Link ODUk Mapping TLV (LD-CA TLV) represents the maximum number
   ODUk (k = 1, 2, 3) that can be allocated on a given TE link. The
   ODUk mapping capability simply translates the TE-link capacity in
   terms of the maximum number of supported ODUk signal components.

   The LD-MP TLV is defined in IS-IS as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link ODUk Mapping Capability TLV coding:



D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     3

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 3          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU1        |        Maximum MP ODU2        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU3        |           Reserved            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS Link ODUk Component Allocation TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |  Length = 6   |        Maximum MP ODU1        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Maximum MP ODU2        |        Maximum MP ODU3        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The Maximum MP ODUk field indicates the number of ODUk (k = 1, 2, 3)
   that can be mapped into the corresponding OTUk.

2.1.2 Link ODUk Multiplexing Capability TLV (LD-MC TLV)

   Link ODUk Multiplexing Capability TLV describes the ODUk
   multiplexing structure available on a given link. This TLV indicates
   the signals that can be potentially allocated in an ODUk multiplex.
   At this layer, ODUk (flexible) multiplexing as described in [GMPLS-
   G709], refers to the mapping of an ODU2 into four arbitrary OPU3
   tributary slots (i.e. each slot containing one ODU1) arbitrarily
   selected. Inverse multiplexing currently under definition at ITU-T
   should also be considered.

   More generically, ODUk multiplexing is defined when an ODUk (or ODUk
   Tributary Unit Group) is mapped into the OPU[k+1] if k = 1 or 2 or
   OPU[k+2] if k = 1. The resulting OPUk is mapped into an ODUk and the
   ODUk is mapped into an OTUk. The OTUk is mapped into an OChr and the
   OChr is then modulated onto an OCCr.

   Therefore, two levels of ODUk multiplexing can be defined:
   - ODU1 multiplexing: four ODU1 are multiplexed into one OPU2 which
     is mapped into one ODU2 or sixteen ODU1 are multiplexed into one
     OPU3 which is mapped into one ODU3
   - ODU2 multiplexing: four ODU2 are multiplexed into one OPU3 which
     is mapped into one ODU3

   In IS-IS, this TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV with type TBD. In OSPF, this TLV is a sub-TLV of
   the Link TLV whose type is TBD.

   OSPF Link ODUk Multiplexing Capability TLV coding:


D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     4

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |         Length = 1            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |1|2|3|4|5|6|7|8|                  Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS OTN ODUk Multiplexing Capability TLV coding:

       0                   1                   2
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |   Length = 1  |1|2|3|4|5|6|7|8|
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The following values are currently defined:
   - Bit 1 is set to 1: support of ODU1 multiplexing into ODU2.
   - Bit 2 is set to 1: support of ODU1 multiplexing into ODU3
   - Bit 3 is set to 0 and reserved for future use
   - Bit 4 is set to 1: support of ODU2 multiplexing into ODU3
   - Bit 5 to 8 are set to 0 and reserved for future use

   When Bit 1, Bit 2 and Bit 4 are set to 0 (in addition to Bit 3 and
   Bit 5 to 8), ODUk multiplexing is not supported on the link: the
   corresponding ODUk signal is unstructured.

2.1.2 Link ODUk Concatenation Capability TLV (LD-CC TLV)

   ODUk Inverse multiplexing is currently under specification at the
   ITU-T. It should be implemented by means of virtual concatenation of
   two or more than two ODUk signals (defined as ODUk-Xv). The ODUk-Xv
   signal can then transport a non-OTN client signal, for instance, an
   ODU2-4v may transport an STM-256 client signal.

   The characteristic information of a virtual concatenated ODUk (ODUk-
   Xv) layer network is transported via a set of X ODUk LSP, each LSP
   having its own transfer delay. The egress G709-LSR terminating the
   ODUk-Xv LSP has to compensate this differential delay in order to
   provide a contiguous payload at the output.

   In IS-IS, the Link ODUk Concatenation Capability TLV (LD-CC TLV) is
   defined as a sub-TLV of the Extended IS Reachability TLV whose Type
   is TBD. In OSPF, this TLV is a sub-TLV of the Link TLV, with type
   TBD.

   OSPF Link ODUk Concatenation Capability TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 2          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     5

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


      |           Max VC ODU1         |           Max VC ODU2         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Max VC ODU3         |            Reserved           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max VC means the Maximum number of virtually concatenated ODUk
   (k = 1, 2, 3)

   ISIS Link ODUk Concatenation Capability TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |  Length = 6   |           Max VC ODU1         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max VC ODU2          |           Max VC ODU3         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max VC is the Maximum number of virtually concatenated ODUk (k
   = 1, 2, 3)

   The Max VC ODUk field (16-bit) indicates the maximum number of ODUk
   (k = 1, 2, 3) that can be virtually concatenated on the
   corresponding link. When Max VC ODUk = 0, it means that ODUk virtual
   multiplexing is not supported for the corresponding k index.

   Notice that we assume here that levels of virtually concatenated
   signals are only discrete and given by the 2 x 2^N formula (N > 1)
   other levels usage are left for further study.

2.2 Optical Channel Layer

   At the digital path layer (i.e. the ODUk layers) the static
   capabilities are defined as:

      - LO-MC TLV  : Link OCh Multiplexing Capability TLV
      - LO-IM TLV  : Link OCh Inverse Multiplexing Capability TLV
      - RO-IW TLV  : Router OTN û Pre-OTN Internetworking TLV

2.2.1 Link OCh Multiplexing Capability TLV (LO-MC TLV)

   As described in [G709-FRM], With reduced stack functionality: up to
   n (n >= 1) OCCr are multiplexed into an OCG-nr.m using wavelength
   division multiplexing. The OCCr tributary slots of the OCG-nr.m can
   be of different size. The number of OCCr that can be multiplexed
   into an OCG-nr.m is bounded by the following formula: 1 =< i + j + k
   =< n where i (respectively, k and j) represents the number of OChr
   carrying an OTU1 (respectively, OTU2 and OTU3). The OCG-nr.m is
   transported via the OTM-nr.m.

   With full stack functionality: up to n (n >= 1) OCC are multiplexed
   into an OCG-n.m using wavelength division multiplexing. The OCC
   tributary slots of the OCG-n.m can be of different size. The number

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     6

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


   of OCCr that can be multiplexed into an OCG-n.m is bounded by the
   following formula: 1 =< i + j + k =< n where i (respectively, k and
   j) represents the number of OCh carrying an OTU1 (respectively, OTU2
   and OTU3). The OCG-n.m is transported via the OTM-n.m.

   In IS-IS, the LO-MC TLV is defined as a sub-TLV of the Extended IS
   Reachability TLV with type TBD. In OSPF, this TLV is a sub-TLV of
   the Link TLV whose type is TBD.

   OSPF Link OCh Multiplexing Capability TLV (LO-MC TLV) coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |         Length = 2 (4)        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | R |        Reserved           |               i               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               j               |               k               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended i          |           Extended j          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended k          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   ISIS Link OCh Multiplexing Capability TLV (LO-MC TLV) coding:

       0                   1                   2
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |Length = 8 (16)| R |        Reserved           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               i               |               j               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               k               |            Reserved           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended i          |           Extended j          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |           Extended k          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R field indicates the OTM-x.m (x = rn or n) interfaces
   functionality support:
   - Value 0x00: each component link (OTM-n.m interface) belonging to
     the same link bundle can only have a full functionality support
   - Value 0x01: each component link (OTM-nr.m interface) belonging to
     the same link bundle can only have a reduced functionality support
   - Value 0x10: each component link (OTM-nr.m or OTM-n.m interface)
     belonging to the same link bundle can only have a reduced
     functionality or a full functionality support. This flag is used
     to indicate the extended form of the LO-MC TLV. In this case three
     additional fields representing the number of OCh having a non-
     associated overhead (naOH), each of these fields represents the

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     7

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


     number of OCh carrying an OTU1 (respectively, OTU2 and OTU3).
   - Value 0x11: each component link (OTM-n.m interface) belonging to
     the same link bundle has a vendor-specific implementation of the
     naOH transported through a specific supervisory channel

   The (Extended) i,j and k field are therefore defined as follows:
   - Value i (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU1.
   - Value j (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU2.
   - Value k (16 bits): represents the number represents the number of
     OCh (or OChr) carrying an OTU3.

2.2.2 Link OCh Inverse Multiplexing Capability TLV (LO-IM TLV)

   At the Optical Channel layer, inverse multiplexing refers to an
   optical channel multiplex (i.e. a waveband), denoted as OCh[j.k] (j
   >= 1 and k = 1, 2 or 3) which is defined as a non-contiguous set of
   identical optical channels j x OCh. Each of these optical channels
   are associated to an OTM-x.m (x = nr or n) sub-interface signal. The
   bit rate of each OCh constituting the waveband (i.e. the composed L-
   LSP) must be identical, k is unique per OCh multiplex.

   Today, OTN G.709 specification does not define the optical channel
   multiplex. Therefore, in this context, any waveband switching
   development as defined in this specification is purely vendor
   specific.

   In IS-IS, the Link OCh Inverse Multiplexing TLV (LO-IM TLV) is
   defined as a sub-TLV of the Extended IS Reachability TLV whose Type
   is TBD. In OSPF, this TLV is a sub-TLV of the Link TLV whose Type is
   TBD.

   OSPF Link OCh Inverse Multiplexing Capability TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 2          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max IM OCh1          |           Max IM OCh2         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max IM OCh3          |            Reserved           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max IM means the Maximum number of inversely multiplexed OCh.

   ISIS Link OCh Inverse Multiplexing Capability TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |  Length = 6   |           Max IM OCh1         |

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     8

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Max IM OCh2          |           Max IM OCh3         |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where Max IM means the Maximum number of inversely multiplexed OCh.

   Notice that we assume that levels of inversely multiplexed OCh take
   only discrete values given by the 2 x 2^N formula (N > 1).

2.2.3 Router OTN û Pre-OTN Interworking TLV

   TBD.

3. Dynamic Capabilities

   Dynamic capabilities detail the actual status of a TE link
   representing either single component link or a bundled link. The
   following TLVs are currently defined:

      - LD-CA TLV  : Link ODUk Component Allocation TLV
      - LO-CA TLV  : Link OCh Component Allocation TLV

3.1 Digital Path Layer

   The Link ODUk Component Allocation TLV (LD-CA TLV) represents the
   number of ODUk actually allocated for a TE link expressed in term of
   unallocated ODUk. Therefore, when advertised for the first time, the
   Number of Unallocated ODUk represents the Maximum Number of ODUk
   supported on a given TE link.

   The LD-CA TLV is defined in IS-IS as a sub-TLV of the Extended IS
   Reachability TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV
   of the Link TLV whose Type is TBD.

   OSPF Link ODUk Component Allocation TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 3          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where the V bit is reserved for future use (by default V = 0)

   ISIS Link ODUk Component Allocation TLV coding:

       0                   1                   2                   3

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001     9

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |  Length = 14  |           Reserved            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |V|                  Number Unallocated ODU3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   where the V bit is reserved for future use (by default V = 0)

3.2 Optical Channel Layer

   The Link OCh Component Allocation TLV (LO-CA TLV) represents the
   number of OCh actually allocated for a given TE link including one
   (single link) or more than one (bundled link) OTM-nr.m or OTM-n.m
   interface. This allocation is expressed in terms of the number of
   unallocated OCh1, OCh2 and OCh3. Therefore, when advertised for the
   first time, the Number of Unallocated OCh1, OCh2 and OCh3 represents
   the Maximum Number of optical channels supported on a given TE link.

   It is defined in IS-IS as a sub-TLV of the Extended IS Reachability
   TLV whose Type is TBD. In OSPF, this TLV is a sub-TLV of the Link
   TLV whose Type is TBD.

   OSPF Link OCh Component Allocation TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             Type              |           Length = 3          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh1                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R bit indicates a reduced functionality stack (R = 1). So that
   when R = 0, the interface signal refers to an OTM-n.m. The value of
   this bit is irrelevant in other situation.

   ISIS Link OCh Component Allocation TLV coding:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |      Type     |  Length = 14  |           Reserved            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh1                    |

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001    10

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh2                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |R|                  Number Unallocated OCh3                    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The R bit indicates a reduced functionality stack (R = 1). So that
   when R = 0, the interface signal refers to an OTM-n.m. The value of
   this bit is irrelevant in other situation.

4. Security Considerations

   Security considerations are not discussed in this document.

5. References

   1. [GMPLS-ARCH] E. Mannie et al., æGeneralized Multi-Protocol Label
   Switching (GMPLS) ArchitectureÆ, Internet Draft, Work in progress,
   draft-many-gmpls-architecture-00.txt, February 2001.

   2. [GMPLS-G709] A. Bellato et al., æGeneralized MPLS Signalling
   Extensions for G.709 Optical Transport NetworksÆ, Internet Draft,
   Work in progress, draft-fontana-ccamp-gmpls-g709-00.txt, June 2001.

   3. [GMPLS-ISIS-TE] K. Kompella et al., æIS-IS Extensions in Support
   of MPL(ambda)S,Æ Internet Draft, draft-ietf-isis-gmpls-extensions-
   01.txt, March 2001.

   4. [GMPLS-LDP] P. Ashwood-Smith et al., æGeneralized MPLS Signaling -
   CR-LDP ExtensionsÆ, Internet Draft, Work in progress, draft-ietf-
   mpls-generalized-cr-ldp-03.txt, May 2001.

   5. [GMPLS-OSPF-TE] K. Kompella et al., æOSPF Extensions in Support of
   MPL(ambda)S,Æ Internet Draft, draft-kompella-ospf-gmpls-extensions-
   01.txt, February 2001.
 
   6. [GMPLS-RSVP] P. Ashwood-Smith et al., æGeneralized MPLS Signaling
   - RSVP-TE ExtensionsÆ, Internet Draft, draft-ietf-mpls-generalized-
   rsvp-te-03.txt, May 2001.

   7. [GMPLS-SIG] P. Ashwood-Smith et al., æGeneralized MPLS - Signaling
   Functional DescriptionÆ, Internet Draft, Work in progress, draft-
   ietf-mpls-generalized-signaling-04.txt, May 2001.

   8. [GMPLS-SSS] S. Ansorge et al., æGeneralized MPLS û SDH/Sonet
   SpecificsÆ, Internet Draft, Work in progress, draft-ietf-ccamp-gmpls-
   sonet-sdh-00.txt, May 2001.

   9. [G709-FRM] A. Bellato et al., æG.709 Optical Transport Networks
   GMPLS Control FrameworkÆ, Internet Draft, Work in progress, draft-
   bellato-ccamp-gmpls-control-g709-00.txt, June 2001.



D.Papadimitriou (Editor)- Internet Draft û Expires December 2001    11

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


   10. [ITUT-G707] æNetwork node interface for the synchronous digital
   hierarchy (SDH)Æ, ITU-T Recommendation, April 2000.

   11. [ITUT-G709] æInterface for the Optical Transport Network (OTN)Æ,
   ITU-T Recommendation, February 2001.

   12. [ITUT-G872] æArchitecture of Optical Transport NetworkÆ, ITU-T
   draft version, February 2001.

   13. [ISIS-TE] T. Li et al.,æIS-IS Extensions for Traffic
   EngineeringÆ, draft-ietf-isis-traffic-03.txt, Internet Draft, Work
   in Progress, June 2001.

   14. [MPLS-BDL] K. Kompella et al., æLink Bundling in MPLS Traffic
   Engineering,Æ Internet Draft, draft-kompella-mpls-bundle-05.txt,
   March 2001.

   14. [OSPF-TE] D. Katz et al., "Traffic Engineering Extensions to
   OSPF", draft-katz-yeung-ospf-traffic-05.txt, Internet Draft, Work in
   progress, June 2001.

   15. [RFC-2370] R. Coltun, RFC 2370, "The OSPF Opaque LSA Option",
   July 1998.

6. Acknowledgments

   The authors would like to be thank Bernard Sales, Emmanuel Desmet,
   Jean-Loup Ferrant, Mathieu Garnot and Massimo Canali for their
   constructive comments and inputs.

   This draft incorporates material and ideas from draft-mannie-mpls-
   sdh-ospf-isis-00.txt.

7. Author's Addresses

   Michele Fontana
   Alcatel TND-Vimercate
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7053
   Email: michele.fontana@netit.alcatel.it

   Germano Gasparini
   Alcatel TND-Vimercate
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7670
   Email: germano.gasparini@netit.alcatel.it

   Alberto Bellato
   Alcatel TND-Vimercate
   Via Trento 30,
   I-20059 Vimercate, Italy

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001    12

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


   Phone: +39 039 686-7215
   Email: alberto.bellato@netit.alcatel.it

   Gert Grammel
   Alcatel TND-Vimercate
   Via Trento 30,
   I-20059 Vimercate, Italy
   Phone: +39 039 686-7060
   Email: gert.grammel@netit.alcatel.it

   Jim Jones
   Alcatel TND-USA
   3400 W. Plano Parkway,
   Plano, TX 75075, USA
   Phone: +1 972 519-2744
   Email: Jim.D.Jones1@usa.alcatel.com

   Dimitri Papadimitriou (Editor)
   Senior R&D Engineer û Optical Networking
   Alcatel IPO-NSG
   Francis Wellesplein 1,
   B-2018 Antwerpen, Belgium
   Phone: +32 3 240-8491
   Email: Dimitri.Papadimitriou@alcatel.be






























D.Papadimitriou (Editor)- Internet Draft û Expires December 2001    13

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


Appendix 1 û Abbreviations

   1R           Re-amplification
   2R           Re-amplification and Re-shaping
   3R           Re-amplification, Re-shaping and Re-timing
   AI           Adapted information
   AIS          Alarm Indication Signal
   APS          Automatic Protection Switching
   BDI          Backward Defect Indication
   BEI          Backward Error Indication
   BI           Backward Indication
   BIP          Bit Interleaved Parity
   CBR          Constant Bit Rate
   CI           Characteristic information
   CM           Connection Monitoring
   EDC          Error Detection Code
   EXP          Experimental
   ExTI         Expected Trace Identifier
   FAS          Frame Alignment Signal
   FDI          Forward Defect Indication
   FEC          Forward Error Correction
   GCC          General Communication Channel
   IaDI         Intra-Domain Interface
   IAE          Incoming Alignment Error
   IrDI         Inter-Domain Interface
   MFAS         MultiFrame Alignment Signal
   MS           Maintenance Signal
   naOH         non-associated Overhead
   NNI          Network-to-Network interface
   OCC          Optical Channel Carrier
   OCG          Optical Carrier Group
   OCI          Open Connection Indication
   OCh          Optical Channel (with full functionality)
   OChr         Optical Channel (with reduced functionality)
   ODU          Optical Channel Data Unit
   OH           Overhead
   OMS          Optical Multiplex Section
   OMU          Optical Multiplex Unit
   OOS          OTM Overhead Signal
   OPS          Optical Physical Section
   OPU          Optical Channel Payload Unit
   OSC          Optical Supervisory Channel
   OTH          Optical transport hierarchy
   OTM          Optical transport module
   OTN          Optical transport network
   OTS          Optical transmission section
   OTU          Optical Channel Transport Unit
   PCC          Protection Communication Channel
   PLD          Payload
   PM           Path Monitoring
   PMI          Payload Missing Indication
   PRBS         Pseudo Random Binary Sequence
   PSI          Payload Structure Identifier

D.Papadimitriou (Editor)- Internet Draft û Expires December 2001    14

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


   PT           Payload Type
   RES          Reserved
   RS           Reed-Solomon
   SM           Section Monitoring
   TC           Tandem Connection
   TCM          Tandem Connection Monitoring
   UNI          User-to-Network Interface


Appendix 2 û G.709 Indexes

   - Index k: The index "k" is used to represent a supported bit rate
   and the different versions of OPUk, ODUk and OTUk. k=1 represents an
   approximate bit rate of 2.5 Gbit/s, k=2 represents an approximate
   bit rate of 10 Gbit/s, k = 3 an approximate bit rate of 40 Gbit/s
   and k = 4 an approximate bit rate of 160 Gbit/s (under definition).
   The exact bit-rate values are in kbits/s:
    . OPU: k=1: 2 488 320.000, k=2: 9 995 276.962,  k=3: 40 150 519.322
    . ODU: k=1: 2 498 775.126, k=2: 10 037 273.924, k=3: 40 319 218.983
    . OTU: k=1: 2 666 057.143, k=2: 10 709 225.316, k=3: 43 018 413.559

   - Index m: The index "m" is used to represent the bit rate or set of
   bit rates supported on the interface. This is a one or more digit
   ôkö, where each ôkö represents a particular bit rate. The valid
   values for m are (1, 2, 3, 12, 23, 123).

   - Index n: The index "n" is used to represent the order of the OTM,
   OTS, OMS, OPS, OCG and OMU. This index represents the maximum number
   of wavelengths that can be supported at the lowest bit rate
   supported on the wavelength. It is possible that a reduced number of
   higher bit rate wavelengths are supported. The case n=0 represents a
   single channel without a specific wavelength assigned to the
   channel.

   - Index r: The index "r", if present, is used to indicate a reduced
   functionality OTM, OCG, OCC and OCh (non-associated overhead is not
   supported). Note that for n=0 the index r is not required as it
   implies always reduced functionality.
















D.Papadimitriou (Editor)- Internet Draft û Expires December 2001    15

draft-gasparini-ccamp-gmpls-g709-ospf-isis-00.txt            June 2001


Full Copyright Statement


   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."




























D.Papadimitriou (Editor)- Internet Draft û Expires December 2001    16
