<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Mapping YANG to Document Schema
  Definition Languages and Validating NETCONF Content</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Mapping YANG to Document Schema
  Definition Languages and Validating NETCONF Content">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">NETMOD</td><td class="header">L. Lhotka</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">CESNET</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">R. Mahy</td></tr>
<tr><td class="header">Expires: August 16, 2009</td><td class="header">Plantronics</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">S. Chisholm</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nortel</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">February 12, 2009</td></tr>
</table></td></tr></table>
<h1><br />Mapping YANG to Document Schema
  Definition Languages and Validating NETCONF Content<br />draft-ietf-netmod-dsdl-map-00</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 16, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This draft describes the mapping rules for translating YANG
    data models into XML schemas using Document Schema Definition
    Languages (DSDL).
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#objectivesMotivation">2.</a>&nbsp;
Objectives and Motivation<br />
<a href="#schema-lang">3.</a>&nbsp;
DSDL Schema Languages<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#relaxng">3.1.</a>&nbsp;
RELAX NG<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#schematron">3.2.</a>&nbsp;
Schematron<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#dsrl">3.3.</a>&nbsp;
Document Schema Renaming Language (DSRL)<br />
<a href="#annotations">4.</a>&nbsp;
Additional Annotations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#dcElements">4.1.</a>&nbsp;
Dublin Core Metadata Elements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#dtdCompatibility">4.2.</a>&nbsp;
RELAX NG DTD Compatibility Annotations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#netmodAnnotations">4.3.</a>&nbsp;
NETMOD-specific Annotations<br />
<a href="#mappingOverview">5.</a>&nbsp;
Overview of the Mapping<br />
<a href="#design">6.</a>&nbsp;
Design Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#conceptualTree">6.1.</a>&nbsp;
Conceptual Data Tree<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#modularity">6.2.</a>&nbsp;
Modularity<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#granularity">6.3.</a>&nbsp;
Granularity<br />
<a href="#mappingRNG">7.</a>&nbsp;
Mapping Data Model Structure to the Conceptual Tree Schema<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#optionalMandatoryContent">7.1.</a>&nbsp;
Optional and Mandatory Content<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#grouping-typedef">7.2.</a>&nbsp;
Mapping YANG Groupings and Typedefs<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#refine-augment">7.2.1.</a>&nbsp;
YANG Refinements and Augments<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#chtypes">7.2.2.</a>&nbsp;
Type derivation chains<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#transXPath">7.3.</a>&nbsp;
Translation of XPath Expressions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#extensions">7.4.</a>&nbsp;
YANG Language Extensions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#maprpc">7.5.</a>&nbsp;
RPC Signatures and Notifications<br />
<a href="#rng-to-dsdl">8.</a>&nbsp;
Mapping Conceptual Tree Schema to DSDL<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#mappingSch">8.1.</a>&nbsp;
Mapping Semantic Constraints to Schematron<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#schematron_lib">8.1.1.</a>&nbsp;
Library of Schema-independent Schematron Patterns<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#mappingDSRL">8.2.</a>&nbsp;
Mapping Default Values to DSRL<br />
<a href="#validation">9.</a>&nbsp;
NETCONF Content Validation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#validationPhases">9.1.</a>&nbsp;
Validation Phases<br />
<a href="#yang-to-rng">10.</a>&nbsp;
Mapping YANG Statements to Annotated RELAX NG<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anyxml-stmt">10.1.</a>&nbsp;
The anyxml Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#argument-stmt">10.2.</a>&nbsp;
The argument Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#augment-stmt">10.3.</a>&nbsp;
The augment Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#base-stmt">10.4.</a>&nbsp;
The base Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#belongs-to-stmt">10.5.</a>&nbsp;
The belongs-to Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#bit-stmt">10.6.</a>&nbsp;
The bit Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#case-stmt">10.7.</a>&nbsp;
The case Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#choice-stmt">10.8.</a>&nbsp;
The choice Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#config-stmt">10.9.</a>&nbsp;
The config Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#contact-stmt">10.10.</a>&nbsp;
The contact Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#container-stmt">10.11.</a>&nbsp;
The container Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#default-stmt">10.12.</a>&nbsp;
The default Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#description-stmt">10.13.</a>&nbsp;
The description Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#enum-stmt">10.14.</a>&nbsp;
The enum Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#error-app-tag-stmt">10.15.</a>&nbsp;
The error-app-tag Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#error-message-stmt">10.16.</a>&nbsp;
The error-message Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#extension-stmt">10.17.</a>&nbsp;
The extension Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#grouping-stmt">10.18.</a>&nbsp;
The grouping Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#identity-stmt">10.19.</a>&nbsp;
The identity Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#import-stmt">10.20.</a>&nbsp;
The import Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#include-stmt">10.21.</a>&nbsp;
The include Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#input-stmt">10.22.</a>&nbsp;
The input Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#key-stmt">10.23.</a>&nbsp;
The key Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#leaf-stmt">10.24.</a>&nbsp;
The leaf Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#leaf-list-stmt">10.25.</a>&nbsp;
The leaf-list Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#length-stmt">10.26.</a>&nbsp;
The length Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#list-stmt">10.27.</a>&nbsp;
The list Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#mandatory-stmt">10.28.</a>&nbsp;
The mandatory Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#max-elements-stmt">10.29.</a>&nbsp;
The max-elements Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#min-elements-stmt">10.30.</a>&nbsp;
The min-elements Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#module-stmt">10.31.</a>&nbsp;
The module Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#must-stmt">10.32.</a>&nbsp;
The must Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#namespace-stmt">10.33.</a>&nbsp;
The namespace Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#notification-stmt">10.34.</a>&nbsp;
The notification Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ordered-by-stmt">10.35.</a>&nbsp;
The ordered-by Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#organization-stmt">10.36.</a>&nbsp;
The organization Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#output-stmt">10.37.</a>&nbsp;
The output Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#path-stmt">10.38.</a>&nbsp;
The path Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pattern-stmt">10.39.</a>&nbsp;
The pattern Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#position-stmt">10.40.</a>&nbsp;
The position Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#prefix-stmt">10.41.</a>&nbsp;
The prefix Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#presence-stmt">10.42.</a>&nbsp;
The presence Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#range-stmt">10.43.</a>&nbsp;
The range Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#reference-stmt">10.44.</a>&nbsp;
The reference Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#require-instance-stmt">10.45.</a>&nbsp;
The require-instance Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#revision-stmt">10.46.</a>&nbsp;
The revision Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rpc-stmt">10.47.</a>&nbsp;
The rpc Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#status-stmt">10.48.</a>&nbsp;
The status Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#submodule-stmt">10.49.</a>&nbsp;
The submodule Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#type-stmt">10.50.</a>&nbsp;
The type Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#empty-type">10.50.1.</a>&nbsp;
The empty Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#boobi-types">10.50.2.</a>&nbsp;
The boolean and binary Types<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#bits-type">10.50.3.</a>&nbsp;
The bits Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#enuun-type">10.50.4.</a>&nbsp;
The enumeration and union Types<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#identityref-type">10.50.5.</a>&nbsp;
The identityref Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#instance-identifier-type">10.50.6.</a>&nbsp;
The instance-identifier Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#leafref-type">10.50.7.</a>&nbsp;
The leafref Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#numeric-types">10.50.8.</a>&nbsp;
The numeric Types<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#string-type">10.50.9.</a>&nbsp;
The string Type<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#derived-types">10.50.10.</a>&nbsp;
Derived Types<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#typedef-stmt">10.51.</a>&nbsp;
The typedef Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#unique-stmt">10.52.</a>&nbsp;
The unique Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#units-stmt">10.53.</a>&nbsp;
The units Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#uses-stmt">10.54.</a>&nbsp;
The uses Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#value-stmt">10.55.</a>&nbsp;
The value Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#when-stmt">10.56.</a>&nbsp;
The when Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#yang-version-stmt">10.57.</a>&nbsp;
The yang-version Statement<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#yin-element-stmt">10.58.</a>&nbsp;
The yin-element Statement<br />
<a href="#nma-to-schdsrl">11.</a>&nbsp;
Mapping NETMOD-specific annotations to Schematron
                  and DSRL<br />
<a href="#iana">12.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">13.</a>&nbsp;
References<br />
<a href="#nma-schema">Appendix&nbsp;A.</a>&nbsp;
RELAX NG Schema for NETMOD-specific Annotations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#nma-schema-xml">A.1.</a>&nbsp;
XML Syntax<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#nma-schema-compact">A.2.</a>&nbsp;
Compact Syntax<br />
<a href="#app-schlib">Appendix&nbsp;B.</a>&nbsp;
Schematron Library<br />
<a href="#app-dhcp">Appendix&nbsp;C.</a>&nbsp;
Translation of the DHCP Data Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#app-dhcp-xml">C.1.</a>&nbsp;
XML Syntax<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#app-dhcp-comp">C.2.</a>&nbsp;
Compact Syntax<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The NETCONF Working Group has completed a base protocol used
    for configuration management <a class='info' href='#RFC4741'>[1]<span> (</span><span class='info'>Enns, R., &ldquo;NETCONF Configuration Protocol,&rdquo; December&nbsp;2006.</span><span>)</span></a>. This base
    specification defines protocol bindings and an XML container
    syntax for configuration and management operations, but does not
    include a modeling language or accompanying rules for how to model
    configuration and status information (in XML syntax) carried by
    NETCONF. The IETF Operations Area has a long tradition of defining
    data for SNMP Management Information Bases (MIBs) <a class='info' href='#RFC1157'>[2]<span> (</span><span class='info'>Case, J., Fedor, M., Schoffstall, M., and J. Davin, &ldquo;Simple Network Management Protocol (SNMP),&rdquo; May&nbsp;1990.</span><span>)</span></a> using the SMI language <a class='info' href='#RFC2578'>[3]<span> (</span><span class='info'>McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;Structure of Management Information         Version 2 (SMIv2),&rdquo; April&nbsp;1999.</span><span>)</span></a>
    to model its data. While this specific modeling approach has a
    number of well-understood problems, most of the data modeling
    features provided by SMI are still considered extremely important.
    Simply modeling the valid syntax rather than additional semantic
    relationships has caused significant interoperability problems in
    the past.
</p>
<p>The NETCONF community concluded that a data modeling framework
    is needed to support ongoing development of IETF and
    vendor-defined management information modules. The NETMOD Working
    Group was chartered to address this problem, by defining a new
    human-friendly modeling language based on SMIng <a class='info' href='#RFC3216'>[4]<span> (</span><span class='info'>Elliott, C., Harrington, D., Jason, J., Schoenwaelder, J., Strauss, F., and W. Weiss, &ldquo;SMIng Objectives,&rdquo; December&nbsp;2001.</span><span>)</span></a> and called YANG <a class='info' href='#YANG'>[5]<span> (</span><span class='info'>Bjorklund, M., Ed., &ldquo;YANG - A data modeling language for NETCONF,&rdquo; January&nbsp;2009.</span><span>)</span></a>. 
</p>
<p>Since NETCONF uses XML for encoding its protocol data units
    (PDU), it is natural to express the constraints on NETCONF content
    using standard XML schema languages. For this purpose, the NETMOD
    WG selected the Document Schema Definition Languages (DSDL) that
    is being standardized as ISO/IEC 19757 <a class='info' href='#DSDL'>[6]<span> (</span><span class='info'>ISO/IEC, &ldquo;Document Schema Definition Languages (DSDL) - Part 1:         Overview,&rdquo; 11&nbsp;2004.</span><span>)</span></a>. The
    DSDL framework comprises a set of XML schema languages that
    address grammar rules, semantic constraints and other data
    modeling aspects but also, and more importantly, do it in a
    coordinated and consistent way. While it is true that some DSDL
    parts have not been standardized yet and are still work in
    progress, the three parts that the YANG-to-DSDL mapping relies
    upon - RELAX NG, Schematron and DSRL - already have the status of
    an ISO/IEC International Standard and are supported in a number of
    software tools.
</p>
<p>This document contains the specification of a mapping that
    translates YANG data models to XML schemas utilizing a subset of
    the DSDL schema languages. The mapping procedure is divided into
    two steps: In the first step, the structure of the data tree, RPC
    signatures and notifications is expressed as a single RELAX NG
    grammar with simple annotations representing additional data model
    information (metadata, documentation, semantic constraints,
    default values etc.). The second step then generates a coordinated
    set of DSDL schemas that can validate specific XML documents such
    as client requests, server responses or notifications, perhaps
    also taking into account additional context such as active
    capabilities.
</p>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
    NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
    in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[7]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to 	Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>In the text, we also use the following typographic conventions:
    </p>
<ul class="text">
<li>YANG statement keywords are delimited by single quotes.
</li>
<li>Literal values are delimited by double quotes.
</li>
<li>XML element names are delimited by "&lt;" and "&gt;" characters.
</li>
<li>Names of XML attributes are prefixed by the "@" character.
</li>
</ul><p>
    
</p>
<p>XML elements names are always written with explicit namespace
    prefixes corresponding to the following XML vocabularies:
    </p>
<blockquote class="text"><dl>
<dt>a</dt>
<dd>DTD compatibility annotations <a class='info' href='#RNG-DTD'>[8]<span> (</span><span class='info'>Clark, J., Ed. and M. Murata, Ed., &ldquo;RELAX NG DTD Compatibility,&rdquo; December&nbsp;2001.</span><span>)</span></a>
</dd>
<dt>dc</dt>
<dd>Dublin Core metadata elements
</dd>
<dt>nc</dt>
<dd>NETCONF protocol <a class='info' href='#RFC4741'>[1]<span> (</span><span class='info'>Enns, R., &ldquo;NETCONF Configuration Protocol,&rdquo; December&nbsp;2006.</span><span>)</span></a>
</dd>
<dt>nma</dt>
<dd>NETMOD-specific schema annotations
</dd>
<dt>nmt</dt>
<dd>Conceptual tree
</dd>
<dt>dsrl</dt>
<dd>Document Schema Renaming Language<a class='info' href='#DSRL'>[9]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 8: Document Semantics Renaming         Language - DSRL,&rdquo; 12&nbsp;2008.</span><span>)</span></a>
</dd>
<dt>rng</dt>
<dd>RELAX NG<a class='info' href='#RNG'>[10]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 2: Regular-Grammar-Based Validation -         RELAX NG. Second Edition.,&rdquo; 12&nbsp;2008.</span><span>)</span></a>
</dd>
<dt>sch</dt>
<dd>ISO Schematron<a class='info' href='#Schematron'>[11]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 3: Rule-Based Validation -         Schematron,&rdquo; 6&nbsp;2006.</span><span>)</span></a>
</dd>
<dt>xsd</dt>
<dd>W3C XML Schema<a class='info' href='#XSD'>[12]<span> (</span><span class='info'>Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, &ldquo;XML Schema Part 1: Structures Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a>
</dd>
</dl></blockquote><p>
    The following table shows the mapping of these prefixes to
    namespace URIs.
</p><br /><hr class="insert" />
<a name="table-namespaces"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">Prefix</th><th align="left">Namespace URI</th></tr>
<tr>
<td align="left">a</td>
<td align="left">http://relaxng.org/ns/compatibility/annotations/1.0</td>
</tr>
<tr>
<td align="left">dc</td>
<td align="left">http://purl.org/dc/terms</td>
</tr>
<tr>
<td align="left">nc</td>
<td align="left">urn:ietf:params:xml:ns:netconf:base:1.0</td>
</tr>
<tr>
<td align="left">nma</td>
<td align="left">urn:ietf:params:xml:ns:netmod:dsdl-annotations:1</td>
</tr>
<tr>
<td align="left">nmt</td>
<td align="left">urn:ietf:params:xml:ns:netmod:conceptual-tree:1</td>
</tr>
<tr>
<td align="left">dsrl</td>
<td align="left">http://purl.oclc.org/dsdl/dsrl</td>
</tr>
<tr>
<td align="left">rng</td>
<td align="left">http://relaxng.org/ns/structure/1.0</td>
</tr>
<tr>
<td align="left">sch</td>
<td align="left">http://purl.oclc.org/dsdl/schematron</td>
</tr>
<tr>
<td align="left">xsd</td>
<td align="left">http://www.w3.org/2001/XMLSchema</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Used namespace prefixes and corresponding URIs&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="objectivesMotivation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Objectives and Motivation</h3>

<p>The main objective of this work is to complement YANG as a data
    modeling language by validation capabilities of DSDL schema
    languages, primarily RELAX NG and Schematron. This document
    describes the correspondence between grammatical, semantic and data
    type constraints expressed in YANG and equivalent DSDL
    constructs. The ultimate goal is to be able to capture all
    substantial information contained in YANG modules and express it
    in DSDL schemas. While the mapping from YANG to DSDL described in
    this document is in principle invertible, the inverse mapping from
    DSDL to YANG is not in its scope.
</p>
<p>XML-encoded data appear in several different forms in various
    phases of the NETCONF workflow - configuration datastore contents,
    RPC requests and replies, and notifications. Moreover, RPC methods
    are characterized by an inherent diversity resulting from
    selective availability of capabilities and features. YANG modules
    can also define new RPC methods. The mapping should be able to
    accommodate this variability and generate schemas that are
    specifically tailored to a particular situation and thus
    considerably more efficient than generic all-encompassing
    schemas.
</p>
<p>In order to cope with this variability, we assume that the
    schemas can be generated on demand from the available collection
    of YANG modules and their lifetime will be relatively short. In
    other words, we don't envision that any collection of DSDL schemas
    will be created and maintained over extended periods of time in
    parallel to YANG modules.
</p>
<p>The generated schemas are primarily intended as input to the
    existing XML schema validators and other off-the-shelf
    tools. However, the schemas may also be perused by developers and
    users as a formal representation of constraints on a particular
    XML-encoded data object. Consequently, our secondary goal is to
    keep the schemas as readable as possible. To this end, the complexity
    of the mapping is distributed into two steps:
    </p>
<ol class="text">
<li>The first step maps one or more YANG modules
      to a single RELAX NG schema of the so-called "conceptual tree",
      which contains grammatical constraints for the main data tree as
      well as RPCs and notifications. In order to record additional
      constraints that appear in the YANG modules but cannot be
      expressed in RELAX NG, the schema is augmented by simple
      annotations. The resulting schema should thus be considered a
      reasonably readable equivalent of the input YANG modules.
</li>
<li>In the second step, the annotated RELAX NG schema from step
      <a class='info' href='#m-step1'>1</a> is transformed further
      to a coordinated set of DSDL schemas containing constraints for
      a particular data object and a specific situation. The DSDL
      schemas are intended mainly for machine validation using
      off-the-shelf tools.
</li>
</ol><p>
    
</p>
<a name="schema-lang"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
DSDL Schema Languages</h3>

<p>The mapping described in this document uses three of the DSDL
    schema languages, namely RELAX NG, Schematron and DSRL.
</p>
<a name="relaxng"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
RELAX NG</h3>

<p>RELAX NG (pronounced "relaxing") is an XML schema language
      for grammar-based validation and Part 2 of the ISO/IEC DSDL
      family of standards <a class='info' href='#RNG'>[10]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 2: Regular-Grammar-Based Validation -         RELAX NG. Second Edition.,&rdquo; 12&nbsp;2008.</span><span>)</span></a>. Like the W3C XML
      Schema language <a class='info' href='#XSD'>[12]<span> (</span><span class='info'>Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, &ldquo;XML Schema Part 1: Structures Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a>, it is able to describe
      constraints on the structure and contents of XML
      documents. However, unlike the DTD <a class='info' href='#XML'>[13]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fourth Edition),&rdquo; August&nbsp;2006.</span><span>)</span></a> and XSD
      schema languages, RELAX NG intentionally avoids any infoset
      augmentation such as defining default values. In the DSDL
      architecture, the particular task of defining and applying
      default values is delegated to another schema language, DSRL
      (see <a class='info' href='#dsrl'>Section&nbsp;3.3<span> (</span><span class='info'>Document Schema Renaming Language (DSRL)</span><span>)</span></a>).
</p>
<p>As its base datatype library, RELAX NG uses the W3C XML
      Schema Datatype Library <a class='info' href='#XSD-D'>[14]<span> (</span><span class='info'>Biron, P. and A. Malhotra, &ldquo;XML Schema Part 2: Datatypes Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a>, but unlike XSD,
      other datatype libraries may be used along with it or even
      replace it if necessary. 
</p>
<p>RELAX NG is very liberal in accepting annotations from other
      namespaces. With few exceptions, such annotations may be placed
      anywhere in the schema and need no encapsulating element such
      as &lt;xsd:annotation&gt; in XSD.
</p>
<p>RELAX NG schema can be represented using two equivalent
      syntaxes: XML and compact. The compact syntax is described in
      Annex C of the RELAX NG specification <a class='info' href='#RNG-CS'>[15]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 2: Regular-Grammar-Based Validation -         RELAX NG. AMENDMENT 1: Compact Syntax,&rdquo; 1&nbsp;2006.</span><span>)</span></a>,
      which was added to the standard in 2006 (Amendment 1). Automatic
      bidirectional conversions between the two syntaxes can be
      accomplished using for example <a href='http://www.thaiopensource.com/relaxng/trang.html'>Trang</a>.
      
</p>
<p>For its terseness and readability, the compact syntax is
      often the preferred form for publishing RELAX NG schemas whereas
      validators and other software tools generally require the XML
      syntax. However, the compact syntax has two drawbacks:
      </p>
<ul class="text">
<li>External annotations make the compact syntax schema
        considerably less readable. While in the XML syntax the
        annotating elements and attributes are represented in a simple
        and uniform way (XML elements and attributes from foreign
        namespaces), the compact syntax uses four different syntactic
        constructs: documentation, grammar, initial and following
        annotations. Therefore, the impact on readability that results
        from adding annotations is often much stronger for the compact
        syntax than for the XML syntax.
</li>
<li>It is more difficult to programmatically generate compact
        syntax than XML syntax. While a number of software libraries
        exist that make it easy to create an XML tree in memory and
        serialize it, no such aid is available for compact syntax.
</li>
</ul><p>
      For these reasons, the mapping specification in this document
      use exclusively the XML syntax. Where appropriate, though, the
      schemas resulting from the translation may be presented in the
      equivalent compact syntax.
</p>
<p>RELAX NG elements are qualified with the namespace URI
      "http://relaxng.org/ns/structure/1.0". The namespace of the W3C
      Schema Datatype Library is
      "http://www.w3.org/2001/XMLSchema-datatypes".
</p>
<a name="schematron"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Schematron</h3>

<p>Schematron is Part 3 of DSDL that reached the status of a
      full ISO/IEC standard in 2006 <a class='info' href='#Schematron'>[11]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 3: Rule-Based Validation -         Schematron,&rdquo; 6&nbsp;2006.</span><span>)</span></a>. In
      contrast to the traditional schema languages such as DTD, XSD or
      RELAX NG, which are based on the concept of a formal grammar,
      Schematron utilizes a rule-based approach. Its rules may
      specify arbitrary conditions involving data from different parts
      of an XML document. Each rule consists of three essential parts:
      </p>
<ul class="text">
<li>Context - an XPath expression that defines the set of
        locations where the rule is to be applied,
</li>
<li>Assert or report condition - another XPath expression that
        is evaluated relative to the location matched by the context
        expression.
</li>
<li>Human-readable message that is displayed when the assert
        condition is false or report condition is true.
</li>
</ul><p>
      The difference between the assert and report condition is that
      the former is positive in that it states a condition that a
      valid document has to satisfy, whereas the latter specifies an
      error condition. The mapping described in this document uses
      exclusively the positive (assert) form.
</p>
<p>Schematron draws most of its expressive power from XPath
      <a class='info' href='#XPath'>[16]<span> (</span><span class='info'>Clark, J. and S. DeRose, &ldquo;XML Path Language (XPath) Version 1.0,&rdquo; November&nbsp;1999.</span><span>)</span></a> and XSLT <a class='info' href='#XSLT'>[17]<span> (</span><span class='info'>Clark, J., &ldquo;XSL Transformations (XSLT) Version 1.0,&rdquo; November&nbsp;1999.</span><span>)</span></a>. ISO
      Schematron allows for dynamic query language binding so that the
      following XML query languages can be used: STX, XSLT 1.0, XSLT
      1.1, EXSLT, XSLT 2.0, XPath 1.0, XPath 2.0 and XQuery 1.0 (this
      list may be extended in future).
</p>
<p>The human-readable error messages are another feature that
      distinguishes Schematron from other schema languages such as
      RELAX NG or XSD. The messages may even contain XPath expressions
      that are evaluated in the actual context and thus refer to
      existing XML document nodes and their content.
</p>
<p>ISO Schematron introduced the concept of <em>abstract patterns</em> whose purpose is similar
      to functions in programming languages. The mapping described in
      this document uses a library of abstract patterns for specifying
      generic constraints such as uniqueness of certain leaf values in
      list items.
</p>
<p>The rules defined by a Schematron schema may be divided into
      several subsets known as <em>phases</em>. Validations may then be set up to
      include only selected phases. In the context of NETCONF data
      validation, this is useful for relaxing constraints that may not
      always apply. For example, the reference integrity may not be
      enforced for a candidate configuration.
</p>
<p>Schematron elements are qualified with namespace URI
      "http://purl.oclc.org/dsdl/schematron".
</p>
<a name="dsrl"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Document Schema Renaming Language (DSRL)</h3>

<p>DSRL (pronounced "disrule") is Part 8 of DSDL that reached
      the status of a full ISO/IEC standard in 2008 <a class='info' href='#DSRL'>[9]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 8: Document Semantics Renaming         Language - DSRL,&rdquo; 12&nbsp;2008.</span><span>)</span></a>. Unlike RELAX NG and Schematron, it is
      specifically designed to modify XML information set of the
      validated document. The primary application for DSRL is renaming
      XML elements and attributes. DSRL can also define default values
      for XML attributes and elements so that elements or attributes
      with these default values are inserted if they are missing in
      the validated documents. The latter feature is used by the
      YANG-to-DSDL mapping for representing YANG defaults for leaf
      nodes.
</p>
<p>DSRL elements are qualified with namespace URI
      "http://purl.oclc.org/dsdl/dsrl".
</p>
<a name="annotations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Additional Annotations</h3>

<p>In addition to the DSDL schema languages, the mapping uses
    three sets of annotations that are added as foreign-namespace
    elements and attributes to RELAX NG schemas. Two of the annotation
    sets - Dublin Core elements and DTD compatibility annotations -
    are standard vocabularies for representing metadata and
    documentation, respectively. While these data model items may not
    be used for formal validation, they quite often carry important
    information. Therefore, they SHOULD be included in the conceptual tree
    schema and MAY also appear in the final validation schemas.
</p>
<p>The third set are NETMOD-specific annotations conveying
    semantic constraints and other information that cannot be
    expressed natively in RELAX NG. These annotations are only used in
    the first step of the mapping, i.e., in the conceptual tree
    schema. In the second mapping step, these annotations are
    converted to Schematron and DSRL rules.
</p>
<a name="dcElements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Dublin Core Metadata Elements</h3>

<p><a href='http://dublincore.org/'>Dublin Core</a> is a
      system of metadata elements that was originally created for
      describing metadata of World Wide Web resources in order to
      facilitate their automated lookup. Later it was accepted as a
      standard for describing metadata of arbitrary resources. This
      specification uses the definition found in <a class='info' href='#RFC5013'>[18]<span> (</span><span class='info'>Kunze, J., &ldquo;The Dublin Core Metadata Element Set,&rdquo; August&nbsp;2007.</span><span>)</span></a>.
</p>
<p> Dublin Core elements are qualified with namespace URI
      "http://purl.org/dc/terms".
</p>
<a name="dtdCompatibility"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
RELAX NG DTD Compatibility Annotations</h3>

<p>DTD compatibility annotations are part of the RELAX NG DTD
      Compatibility specification <a class='info' href='#RNG-DTD'>[8]<span> (</span><span class='info'>Clark, J., Ed. and M. Murata, Ed., &ldquo;RELAX NG DTD Compatibility,&rdquo; December&nbsp;2001.</span><span>)</span></a>. The
      YANG-to-DSDL mapping uses only the &lt;a:documentation&gt;
      annotation for representing YANG 'description' and 'reference'
      texts.
</p>
<p>Note that there is no intention to make the resulting schemas
      DTD-compatible, the main reason for using these annotations is
      technical: it is well supported and adequately interpreted by
      several RELAX NG tools.
</p>
<p>DTD compatibility annotations are qualified with namespace
      URI "http://relaxng.org/ns/compatibility/annotations/1.0".
</p>
<a name="netmodAnnotations"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
NETMOD-specific Annotations</h3>

<p>NETMOD-specific annotations are XML elements and attributes
      qualified with the namespace URI
      "urn:ietf:params:xml:ns:netmod:dsdl-annotations:1" that appear
      in various locations in the conceptual tree schema. YANG
      statements are mapped to these annotations in a very
      straightforward way. In particular, the annotation attributes
      and elements always have the same name as the corresponding YANG
      statement.
</p>
<p><a class='info' href='#nma-table'>Table&nbsp;2<span> (</span><span class='info'>NETMOD-specific annotations</span><span>)</span></a> lists alphabetically the names of
      NETMOD-specific annotation elements (in angle brackets) and
      attributes (prefixed with "@") along with a reference to the
      section where their use is described. <a class='info' href='#nma-schema'>Appendix&nbsp;A<span> (</span><span class='info'>RELAX NG Schema for NETMOD-specific Annotations</span><span>)</span></a> then contains the RELAX NG schema of this
      annotation vocabulary.
</p><br /><hr class="insert" />
<a name="nma-table"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">annotation</th><th align="left">section</th><th align="left">note</th></tr>
<tr>
<td align="left">@nma:config</td>
<td align="left"><a class='info' href='#config-stmt'>10.9<span> (</span><span class='info'>The config Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">@nma:default</td>
<td align="left"><a class='info' href='#default-stmt'>10.12<span> (</span><span class='info'>The default Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">@nma:default-case</td>
<td align="left"><a class='info' href='#case-stmt'>10.7<span> (</span><span class='info'>The case Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&lt;nma:error-app-tag&gt;</td>
<td align="left"><a class='info' href='#error-app-tag-stmt'>10.15<span> (</span><span class='info'>The error-app-tag Statement</span><span>)</span></a></td>
<td align="left"><a class='info' href='#item-error'>1</a></td>
</tr>
<tr>
<td align="left">&lt;nma:error-message&gt;</td>
<td align="left"><a class='info' href='#error-message-stmt'>10.16<span> (</span><span class='info'>The error-message Statement</span><span>)</span></a></td>
<td align="left"><a class='info' href='#item-error'>1</a></td>
</tr>
<tr>
<td align="left">&lt;nma:instance-identifier&gt;</td>
<td align="left"><a class='info' href='#instance-identifier-type'>10.50.6<span> (</span><span class='info'>The instance-identifier Type</span><span>)</span></a></td>
<td align="left"><a class='info' href='#item-reqinst'>2</a></td>
</tr>
<tr>
<td align="left">@nma:key</td>
<td align="left"><a class='info' href='#key-stmt'>10.23<span> (</span><span class='info'>The key Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&lt;nma:leafref&gt;</td>
<td align="left"><a class='info' href='#leafref-type'>10.50.7<span> (</span><span class='info'>The leafref Type</span><span>)</span></a></td>
<td align="left"><a class='info' href='#item-reqinst'>2</a></td>
</tr>
<tr>
<td align="left">@nma:min-elements</td>
<td align="left"><a class='info' href='#leaf-list-stmt'>10.25<span> (</span><span class='info'>The leaf-list Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">@nma:max-elements</td>
<td align="left"><a class='info' href='#leaf-list-stmt'>10.25<span> (</span><span class='info'>The leaf-list Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&lt;nma:must&gt;</td>
<td align="left"><a class='info' href='#must-stmt'>10.32<span> (</span><span class='info'>The must Statement</span><span>)</span></a></td>
<td align="left"><a class='info' href='#item-must'>3</a></td>
</tr>
<tr>
<td align="left">@nma:ordered-by</td>
<td align="left"><a class='info' href='#ordered-by-stmt'>10.35<span> (</span><span class='info'>The ordered-by Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">@nma:status</td>
<td align="left"><a class='info' href='#status-stmt'>10.48<span> (</span><span class='info'>The status Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">@nma:unique</td>
<td align="left"><a class='info' href='#status-stmt'>10.48<span> (</span><span class='info'>The status Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">@nma:units</td>
<td align="left"><a class='info' href='#status-stmt'>10.48<span> (</span><span class='info'>The status Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">@nma:when</td>
<td align="left"><a class='info' href='#when-stmt'>10.56<span> (</span><span class='info'>The when Statement</span><span>)</span></a></td>
<td align="left">&nbsp;</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 2: NETMOD-specific annotations&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Notes:
      </p>
<ol class="text">
<li>Appears only as subelement of
        &lt;nma:must&gt;.
</li>
<li>Has an optional attribute
        @require-instance.
</li>
<li>Has a mandatory attribute @assert and
        two optional subelements &lt;nma:error-app-tag&gt; and
        &lt;nma:error-message&gt;.
</li>
</ol>

<a name="mappingOverview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Overview of the Mapping</h3>

<p>This section gives an overview of the YANG-to-DSDL mapping, its
    inputs and outputs. <a class='info' href='#fig-mapschema'>Figure&nbsp;1<span> (</span><span class='info'>Structure of the mapping</span><span>)</span></a> presents an overall
    structure of the mapping:
</p><br /><hr class="insert" />
<a name="fig-mapschema"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                 +----------------+
                 | YANG module(s) |
                 +----------------+
                         |
                         |T
                         |
         +---------------------------------+
         | DSDL schema for conceptual tree |
         +---------------------------------+
            /       |           |       \      +-------+
           /        |           |        \     |library|
        Td/       Ts|           |Tc       \    +-------+
         /          |           |          \
   +---------+   +------+    +------+    +------+
   |datastore|   |server|    |client|    | .... |
   +---------+   +------+    +------+    +------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Structure of the mapping&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p> The mapping procedure is divided into two steps:
    </p>
<ol class="text">
<li>Transformation T in the first step maps one or more YANG
      modules to a single RELAX NG schema for the conceptual tree (see
      <a class='info' href='#conceptualTree'>Section&nbsp;6.1<span> (</span><span class='info'>Conceptual Data Tree</span><span>)</span></a>). Constraints that cannot be
      expressed directly in RELAX NG (list key definitions, 'must'
      statements etc.) and various documentation texts are recorded in
      the schema as simple annotations belonging to special
      namespaces.
</li>
<li>In the second step, the conceptual tree schema may be
      transformed in multiple ways to a coordinated set of DSDL
      schemas that can be used for validating a particular data object
      in a specific context. <a class='info' href='#fig-mapschema'>Figure&nbsp;1<span> (</span><span class='info'>Structure of the mapping</span><span>)</span></a> shows just
      three simplest possibilities as examples. In the process,
      appropriate parts of the conceptual tree schema are extracted
      and specific annotations transformed to equivalent, but usually
      more complex, Schematron patterns, &lt;dsrl:default-content&gt;
      elements etc.
</li>
<li>As indicated in <a class='info' href='#fig-mapschema'>Figure&nbsp;1<span> (</span><span class='info'>Structure of the mapping</span><span>)</span></a>, the second
      step of the mapping also uses a schema-independent library that
      contains mainly Schematron abstract patterns corresponding to
      common YANG concepts such as the uniqueness constraint for list
      keys.
</li>
</ol>

<p>An implementation of the mapping algorithm accepts one or more
    valid YANG modules as its input. It is important to be able to
    process multiple YANG modules together since multiple modules may
    be negotiated for a NETCONF session and the contents of the
    configuration datastore is then obtained as the union of data
    trees specified by the individual modules, perhaps with multiple
    root nodes. In addition, the input modules may be further coupled
    by the 'augment' statement in which one module augments the data
    tree of another module.
</p>
<p>It is also assumed that the algorithm has access, perhaps on
    demand, to all YANG modules that the module(s) imports
    (transitively).
</p>
<p>The output of the first mapping step is an annotated RELAX NG
    schema for the conceptual tree, which represents a virtual XML
    document containing, in its different subtrees, the entire
    datastore, all RPC requests and replies, and notifications defined
    by the input YANG modules. By "virtual" we mean that such an XML
    document need not correspond to the actual layout of the
    configuration database in a NETCONF agent, and will certainly
    never appear on the wire as the content of a NETCONF PDU. Hence,
    the RELAX NG schema for the conceptual tree is not intended for
    any direct validations but rather as a representation of a
    particular data model expressed in RELAX NG and the common
    starting point for subsequent transformations that will typically
    produce validation schemas. The conceptual tree is further
    described in <a class='info' href='#conceptualTree'>Section&nbsp;6.1<span> (</span><span class='info'>Conceptual Data Tree</span><span>)</span></a>.
</p>
<p>Other information contained in input YANG modules, such as
    semantic constraints or default values, are recorded as
    annotations - XML elements or attributes qualified with namespace
    URI "urn:ietf:params:xml:ns:netmod:dsdl-annotations:1". Metadata
    describing the YANG modules are mapped to annotations utilizing
    Dublin Core elements (<a class='info' href='#dcElements'>Section&nbsp;4.1<span> (</span><span class='info'>Dublin Core Metadata Elements</span><span>)</span></a>). Finally,
    documentation strings are mapped to the &lt;a:documentation&gt;
    element belonging to the DTD compatibility vocabulary (<a class='info' href='#dtdCompatibility'>Section&nbsp;4.2<span> (</span><span class='info'>RELAX NG DTD Compatibility Annotations</span><span>)</span></a>).
</p>
<p>The output from the second step is is a coordinated set of
    three DSDL schemas corresponding to a specific data object and
    context:
    </p>
<ul class="text">
<li>RELAX NG schema describing the grammatical and datatype
      constraints;
</li>
<li>Schematron schema expressing other constraints such as
      uniqueness of list keys or user-specified semantic rules;
</li>
<li>DSRL schema containing a specification of default values.
</li>
</ul>

<p>An implementation SHOULD allow for selecting a subset of schema
    languages and annotation types to be used for output. For example,
    a user might want to select pure RELAX NG without any
    annotations.
</p>
<a name="design"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Design Considerations</h3>

<p>YANG modules could be mapped to DSDL schemas in a number of
    ways. The mapping procedure described in this document uses
    several specific design decisions that are discussed in the
    following subsections.
</p>
<a name="conceptualTree"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Conceptual Data Tree</h3>

<p>DSDL schemas generated from YANG modules using the procedure
      described in this document are intended to be used for
      validating XML-encoded NETCONF data in various forms (full
      datastore and several types of PDUs): every YANG-based model
      represents the contents of a full datastore but also implies an
      array of schemas for all types of NETCONF PDUs. For a reasonably
      strict validation of a given data object, the schemas have to be
      quite specific. To begin with, effective validation of NETCONF
      PDU content requires separation of client and server
      schemas. However, the decision about proper structuring of all
      PDU-validating schemas is beyond the scope of this document.
      However, the mapping procedure described in this document is
      designed to accommodate any foreseeable validation needs.
</p>
<p>An essential part of the YANG-to-DSDL mapping procedure is
      nonetheless common to all validation approaches: the schemas for
      the datastore, RPCs and notifications expressed by one or more
      YANG modules have to be translated to RELAX NG. In order to be
      able to separate this common step, we introduce the notion of
      <em>conceptual data tree</em>: it is a
      virtual XML tree that contains full datastore, RPC requests with
      corresponding replies and notifications. The schema for the
      conceptual tree - a single RELAX NG schema with annotations -
      therefore has a quite similar logic as the input YANG module(s),
      the only major difference being the RELAX NG schema
      language.
</p>
<p>The conceptual data tree may be schematically represented as
      follows:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;nmt:netmod-tree
    xmlns:nmt="urn:ietf:params:xml:ns:netmod:conceptual-tree:1"&gt;
  &lt;nmt:main&gt;
    ... configuration and status data ...
  &lt;/nmt:main&gt;
  &lt;nmt:rpc-methods&gt;
    &lt;nmt:rpc-method name="..."&gt;
      &lt;nmt:input&gt;
        ...
      &lt;/nmt:input&gt;
      &lt;nmt:output&gt;
        ...
      &lt;/nmt:output&gt;
    &lt;/nmt:rpc-method&gt;
    ...
  &lt;/nmt:rpcs&gt;
  &lt;nmt:notifications&gt;
    &lt;nmt:notification name="..."&gt;
      ...
    &lt;/nmt:notification&gt;
    ...
  &lt;/nmt:notifications&gt;
&lt;/nmt:netmod&gt;
</pre></div>
<p>The namespace URI "urn:ietf:params:xml:ns:netmod:tree:1"
      identifies a simple vocabulary consisting of a few elements that
      encapsulate and separate the various parts of the conceptual
      data tree.
</p>
<p>The conceptual tree schema is not intended for direct
      validation but rather serves as a well-defined starting point
      for subsequent transformations that generate various validation
      schemas. Such transformations should be relatively simple, they
      will typically extract one or several subtrees from the
      conceptual tree schema, modify them as necessary and add
      encapsulating elements such as those from the NETCONF RPC
      layer.
</p>
<p>Additional information contained in the source YANG
      module(s), such as semantic constraints and default values, is
      represented in the form of <em>interim
      annotations</em> that are included as foreign-namespace
      elements or attributes in the RELAX NG schema for the conceptual
      tree. In the second phase of the mapping, the interim
      annotations are extracted and translated to equivalent
      Schematron and DSRL rules.
</p>
<p>As a useful side effect, by introducing the conceptual data
      tree we are also able to resolve the difficulties stemming from
      the fact that a single configuration repository may consist of
      multiple parallel data hierarchies defined in one or more YANG
      modules, which cannot be mapped to a valid XML document. In the
      conceptual data tree, such multiple hierarchies appear under the
      single &lt;nmt:main&gt; element.
</p>
<a name="modularity"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Modularity</h3>

<p>Both YANG and RELAX NG offer means for modularity, i.e., for
      splitting the contents into separate modules (schemas) and
      combining or reusing them in various ways. However, the
      approaches taken by YANG and RELAX NG differ. Modularity in
      RELAX NG is suitable for ad hoc combinations of a small number
      of schemas whereas YANG assumes a large set of modules similar
      to SNMP MIBs. The following differences are important:
      </p>
<ul class="text">
<li>In YANG, whenever module A imports module B, it gets access
        to the definitions (groupings and typedefs) appearing at the
        top level of module B. However, no part of module B's data
        tree is imported along with it. In contrast, the
        &lt;rng:include&gt; pattern in RELAX NG imports both
        definitions of named patterns and the entire schema tree from
        the included schema.
</li>
<li>The names of imported YANG groupings and typedefs are
        qualified with the namespace of the imported module. On the
        other hand, the data nodes contained inside the imported
        groupings, when used within the importing module, become part
        of the importing namespace. In RELAX NG, the names of patterns
        are unqualified and so named patterns defined in both the
        importing and imported module share the same flat
        namespace. The contents of RELAX NG named patterns may either
        keep the namespace of the schema where they are defined or
        inherit the namespace of the importing module, analogically to
        YANG. However, in order to achieve the latter behavior, the
        imported module must be prepared in a special way as a library
        module that cannot be used as a stand-alone schema.
</li>
</ul>

<p>So the conclusion is that the modularity mechanisms of YANG
      and RELAX NG, albeit similar, are not directly
      compatible. Therefore, the corresponding design decision for the
      mapping algorithm is to collect all information in a single
      schema for the conceptual tree, even if it comes from multiple
      YANG modules or submodules. In other words, translations of
      imported groupings and typedefs are installed in the translation
      of importing module - but only if they are really used
      there.
</p>
<p>NOTE: The 'include' statement that is used in YANG for
      including submodules has in fact the same semantics as the
      &lt;rng:include&gt; pattern. However, since we don't map the
      modular structure for YANG modules, it seems to have little
      sense to do it for submodules. Consequently, the contents of
      submodules appear directly in the conceptual tree schema,
      too.
</p>
<a name="granularity"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Granularity</h3>

<p>RELAX NG supports different styles of schema structuring:
      One extreme, often called "Russian Doll", specifies the
      structure of an XML instance document in a single hierarchy. The
      other extreme, the flat style, uses a similar approach as the
      Data Type Definition (DTD) schema language - every XML element
      is introduced inside a new named pattern. In practice, some
      compromise between the two extremes is usually chosen.
</p>
<p>YANG supports both styles in principle, too, but in most
      cases the modules are organized in a way that's closer to the
      "Russian Doll" style, which provides a better insight into the
      structure of the configuration data. Groupings are usually
      defined only for contents that are prepared for reuse in
      multiple places via the 'uses' statement. In contrast, RELAX NG
      schemas tend to be much flatter, because finer granularity is
      also needed in RELAX NG for extensibility of the schemas - it is
      only possible to replace or modify schema fragments that are
      factored out as named patterns. For YANG this is not an issue
      since its 'augment' and 'refine' statements can delve, by using
      path expressions, into arbitrary depths of existing
      structures.
</p>
<p>In general, it not feasible to map YANG extension mechanisms
      to those of RELAX NG. For this reason, the mapping essentially
      keeps the granularity of the original YANG data model:
      definitions of named patterns in the resulting RELAX NG schema
      usually have direct counterparts in YANG groupings and
      definitions of derived types.
</p>
<a name="mappingRNG"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Mapping Data Model Structure to the Conceptual Tree Schema</h3>

<p>This section explains the main principles underlying the first
    step of the mapping. Details about mapping individual YANG
    statements are contained in <a class='info' href='#yang-to-rng'>Section&nbsp;10<span> (</span><span class='info'>Mapping YANG Statements to Annotated RELAX NG</span><span>)</span></a>.
</p>
<a name="optionalMandatoryContent"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Optional and Mandatory Content</h3>

<p>In YANG, all leaf nodes are optional unless they contain
      substatement
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
mandatory true;</pre></div>
<p>or unless they are declared as list keys.
</p>
<p>Lists or leaf-lists are optional unless they contain
      'min-elements' substatement with argument value greater than zero.
</p>
<p>A slightly more complicated situation arises for YANG
      containers. First, containers with the 'presence' substatement
      are always optional since their presence or absence carries
      specific information. On the other hand, non-presence containers
      may be omitted if they are empty. For the purposes of the
      YANG-to-DSDL mapping, we declare a non-presence container as
      optional if and only if the following two conditions hold:
        </p>
<ol class="text">
<li>none of its descendant leaf nodes is mandatory or, if
          such a leaf exists, it is enclosed in an intervening
          container with presence;
</li>
<li>none of its descendant list or leaf-list nodes has
          'min-elements' substatement with argument value greater than
          zero or, if such a list or leaf-list exists, it is enclosed
          in an intervening container with presence.
</li>
</ol><p>
      
</p>
<p>In RELAX NG, all elements that are optional must be
      explicitly wrapped in the &lt;rng:optional&gt; element. The mapping
      algorithm thus uses the above rules to determine whether a YANG
      node is optional and if so, insert the &lt;rng:optional&gt; element
      in the RELAX NG schema.
</p>
<a name="grouping-typedef"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Mapping YANG Groupings and Typedefs</h3>

<p>YANG groupings and typedefs are generally mapped to RELAX NG
      named patterns. There are, however, several caveats that the
      mapping has to take into account.
</p>
<p>First of all, YANG typedefs and groupings may appear at all
      levels of the module hierarchy and are subject to lexical
      scoping, see <a class='info' href='#YANG'>[5]<span> (</span><span class='info'>Bjorklund, M., Ed., &ldquo;YANG - A data modeling language for NETCONF,&rdquo; January&nbsp;2009.</span><span>)</span></a>, Section 5.5. Moreover,
      top-level symbols from external modules are imported as
      qualified names represented using the external module namespace
      prefix and the name of the symbol. In contrast, named patterns
      in RELAX NG (both local and imported via the &lt;rng:include&gt;
      pattern) share the same namespace and within a grammar they are
      always global - their definitions may only appear at the top
      level as children of the &lt;rng:grammar&gt;
      element. Consequently, whenever YANG groupings and typedefs are
      mapped to RELAX NG named pattern definitions, their names
      MUST be disambiguated in order to avoid naming conflicts. The
      mapping uses the following procedure for mangling the names of
      groupings and type definitions:
      </p>
<ul class="text">
<li>Names of groupings and typedefs appearing at the <em>top level</em> of the YANG module hierarchy
        are prefixed with the module name and two underscore
        characters ("__").
</li>
<li>Names of other groupings and typedefs, i.e., those that do
        not appear at the top level of a YANG module, are prefixed
        with the module name, double underscore, and then the names of
        all ancestor data nodes separated by double underscore.
</li>
</ul><p>
      
</p>
<p>For example, consider the following YANG module which imports
      the standard module "inet-types" <a class='info' href='#Ytypes'>[19]<span> (</span><span class='info'>Schoenwaelder, J., Ed., &ldquo;Common YANG Data Types,&rdquo; November&nbsp;2008.</span><span>)</span></a>:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
module example1 {
    namespace "http://example.com/ns/example1";
    prefix "ex1";
    import "inet-types" {
        prefix "inet";
    }
    typedef vowels {
        type string {
            pattern "[aeiouy]*";
        }
    }
    grouping "grp1" {
        leaf "void" {
            type "empty";
        }
    }
    container "cont" {
        grouping "grp2" {
            leaf "address" {
                type "inet:ip-address";
            }
        }
        leaf foo {
            type vowels;
        }
        uses "grp1";
        uses "grp2";
    }
}
</pre></div>
<p>The resulting RELAX NG schema will then contain the following
      named pattern definitions (long regular expression patterns for
      IPv4 and IPv6 addresses are not shown):
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:define name="example1__vowels"&gt;
  &lt;rng:data type="string"&gt;
    &lt;rng:param name="pattern"&gt;[aeiouy]*&lt;/param&gt;
  &lt;/rng:data&gt;
&lt;/rng:define&gt;

&lt;rng:define name="example1__grp1"&gt;
  &lt;rng:optional&gt;
    &lt;rng:element name="t:void"&gt;
      &lt;rng:empty/&gt;
    &lt;/rng:element&gt;
  &lt;/rng:optional&gt;
&lt;/rng:define&gt;

&lt;rng:define name="example1__cont__grp2"&gt;
  &lt;rng:optional&gt;
    &lt;rng:element name="t:address"&gt;
      &lt;rng:ref name="inet-types__ip-address"/&gt;
    &lt;/rng:element&gt;
  &lt;/rng:optional&gt;
&lt;/rng:define&gt;

&lt;rng:define name="inet-types__ip-address"&gt;
  &lt;rng:choice&gt;
    &lt;rng:ref name="inet-types__ipv4-address"/&gt;
    &lt;rng:ref name="inet-types__ipv6-address"/&gt;
  &lt;/rng:choice&gt;
&lt;/rng:define&gt;

&lt;rng:define name="inet-types__ipv4-address"&gt;
  &lt;rng:data type="string"&gt;
    &lt;rng:param name="pattern"&gt;... removed ...&lt;/param&gt;
  &lt;/rng:data&gt;
&lt;/rng:define&gt;

&lt;rng:define name="inet-types__ipv6-address"&gt;
  &lt;rng:data type="string"&gt;
    &lt;rng:param name="pattern"&gt;... removed ...&lt;/param&gt;
  &lt;/rng:data&gt;
&lt;/rng:define&gt;
</pre></div>
<a name="refine-augment"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.1"></a><h3>7.2.1.&nbsp;
YANG Refinements and Augments</h3>

<p>YANG groupings represent a similar concept as named pattern
        definitions in RELAX NG and both languages also offer
        mechanisms for their subsequent modification. However, in
        RELAX NG the definitions themselves are modified whereas YANG
        allows for modifying <em>expansions</em> of
        groupings. Specifically, YANG provides two statements for this
        purpose that may appear as substatements of 'uses':
        </p>
<ul class="text">
<li>'refine' statement allows for changing parameters of a
          schema node inside the grouping referenced by the parent
          'uses' statement;
</li>
<li>'augment' statement can be used for adding new schema
          nodes to the grouping content.
</li>
</ul>

<p>Both 'refine' and 'augment' statements are quite powerful
        in that they can address, using a subset of XPath 1.0
        expressions as arguments, schema nodes that are arbitrarily
        deep inside the grouping content. In contrast, definitions of
        named patterns in RELAX NG operate exclusively at the topmost
        level of the named pattern content. In order to achieve a
        modifiability of named patterns comparable to YANG, the RELAX
        NG schema would have to be extremely flat (cf. <a class='info' href='#granularity'>Section&nbsp;6.3<span> (</span><span class='info'>Granularity</span><span>)</span></a>) and very difficult to read.
</p>
<p>Since the goal of the mapping described in this document is
        to generate ad hoc DSDL schemas, we decided to avoid these
        complications and instead expand the grouping and refine
        and/or augment it "in place". In other words, every 'uses'
        statement which has 'refine' and/or 'augment' substatements is
        virtually replaced by the content of the corresponding
        grouping, the changes specified in the 'refine' and 'augment'
        statements are applied and the resulting YANG schema fragment
        is mapped as if the 'uses'/'grouping' indirection wasn't there.
</p>
<p>If there are further 'uses' statements inside the grouping
        content, they may require expansion, too: it is necessary if
        the contained 'uses'/'grouping' pair lies on the "modification
        path" specified in the argument of a 'refine' or 'augment'
        statement.
</p>
<p>EXAMPLE. Consider the following YANG module:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
module example2 {
    namespace "http://example.com/ns/example2";
    prefix ex2;
    grouping leaves {
        uses fr;
        uses es;
    }
    grouping fr {
        leaf feuille {
            type string;
        }
    }
    grouping es {
        leaf hoja {
            type string;
        }
    }
    uses leaves;
}
</pre></div>
<p>The resulting conceptual tree schema contains three named
      pattern definitions corresponding to the three groupings,
      namely
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:define name="example2__leaves"&gt;
  &lt;rng:ref name="example2__fr"/&gt;
  &lt;rng:ref name="example2__es"/&gt;
&lt;/rng:define&gt;

&lt;rng:define name="example2__fr"&gt;
  &lt;rng:optional&gt;
    &lt;rng:element name="feuille"&gt;
      &lt;rng:data type="string"/&gt;
    &lt;/rng:element&gt;
  &lt;/rng:optional&gt;
&lt;/rng:define&gt;

&lt;rng:define name="example2__es"&gt;
  &lt;rng:optional&gt;
    &lt;rng:element name="hoja"&gt;
      &lt;rng:data type="string"/&gt;
    &lt;/rng:element&gt;
  &lt;/rng:optional&gt;
&lt;/rng:define&gt;

</pre></div>
<p>and the configuration data part of the conceptual tree schema
      will be a single named pattern reference:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:ref name="example2__leaves"/&gt;
</pre></div>
<p>Now assume that the "leave" expansion is refined:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
uses leaves {
    refine "hoja" {
        default "alamo";
    }
}
</pre></div>
<p>The resulting conceptual tree schema now contains just one
      named pattern definition - "example__fr". The other two
      groupings "leaves" and "es" have to be expanded because they
      both lie on the "modification path", i.e., contain the leaf
      "hoja" that is being refined. The configuration data part of the
      conceptual tree now looks like this:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:ref name="example2__fr"/&gt;
  &lt;rng:optional&gt;
    &lt;rng:element name="hoja" nma:default="alamo"&gt;
      &lt;rng:data type="string"/&gt;
    &lt;/rng:element&gt;
  &lt;/rng:optional&gt;
</pre></div>
<a name="chtypes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2.2"></a><h3>7.2.2.&nbsp;
Type derivation chains</h3>

<p>RELAX NG has no equivalent of the type derivation mechanism
        in YANG, where a base built-in type may be modified (in
        multiple steps) by adding new restrictions. Therefore, when
        mapping YANG derived types with restrictions, the derived
        types MUST be "unwound" all the way back to the base built-in
        type. At the same time, all restrictions found along the type
        derivation chain MUST be combined and their intersection used
        as facets restricting the corresponding type in RELAX NG.
</p>
<p>When a derived YANG type is used without restrictions, the
        'type' statement is mapped simply to the &lt;rng:ref&gt;
        element, i.e., a named pattern reference. However, if
        restrictions are specified as substatements of the 'type'
        statement, the type MUST be expanded at that point so that
        only the built-in type appears in the output schema,
        restricted with facets that again correspond to the
        combination of all restrictions found along the type
        derivation chain and also in the 'type' statement.
</p>
<p>EXAMPLE. Consider this YANG module:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
module example3 {
    namespace "http://example.com/ns/example3";
    prefix ex3;
    typedef dozen {
        type uint8 {
            range 1..12;
        }
    }
    leaf month {
        type dozen;
    }
</pre></div>
<p>The 'type' statement in "leaf month" is mapped simply to
        the reference &lt;rng:ref name="example__dozen"/&gt; and the
        corresponding named pattern is defined as follows:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:define name="example3__dozen"&gt;
  &lt;rng:data type="unsignedByte"&gt;
    &lt;rng:param name="minInclusive"&gt;1&lt;/param&gt;
    &lt;rng:param name="maxInclusive"&gt;12&lt;/param&gt;
  &lt;/rng:data&gt;
&lt;/rng:define&gt;
</pre></div>
<p>Assume now that the definition of leaf "month" is changed
        to
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
leaf month {
    type dozen {
        range 7..max;
    }
}
</pre></div>
<p>The output RELAX NG schema then won't contain any named
        pattern definition and leaf "month" will be mapped directly
        to
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:element name="month"&gt;
  &lt;rng:data type="unsignedByte"&gt;
    &lt;rng:param name="minInclusive"&gt;7&lt;/param&gt;
    &lt;rng:param name="maxInclusive"&gt;12&lt;/param&gt;
  &lt;/rng:data&gt;
&lt;/rng:element&gt;
</pre></div>
<a name="transXPath"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Translation of XPath Expressions</h3>

<p>YANG uses full XPath 1.0 syntax <a class='info' href='#XPath'>[16]<span> (</span><span class='info'>Clark, J. and S. DeRose, &ldquo;XML Path Language (XPath) Version 1.0,&rdquo; November&nbsp;1999.</span><span>)</span></a> for
      the arguments of 'must' and 'when' statements and a subset
      thereof in several other statements. However, since the names of
      data nodes defined by YANG modules are always namespace
      qualified, YANG adopted a simplification similar to the concept
      of <em>default namespace</em> in XPath 2.0:
      node names needn't carry a namespace prefix inside the module
      where they are defined, in which case the module's namespace is
      assumed.
</p>
<p>If an XPath expression is carried over to a NETMOD-specific
      annotation in the first mapping step, it MUST be translated into
      a fully conformant XPath 1.0 expression that also reflects the
      hierarchy of the conceptual data tree:
      </p>
<ol class="text">
<li>Each unprefixed node name MUST be
        prepended with the local module's namespace prefix declared by
        the 'prefix' statement.
</li>
<li>Absolute XPath expressions, i.e., those
        starting with a slash, MUST be prepended with appropriate path
        in the conceptual tree, according to the YANG specification of
        context for XPath expressions, see <a class='info' href='#XPath'>[16]<span> (</span><span class='info'>Clark, J. and S. DeRose, &ldquo;XML Path Language (XPath) Version 1.0,&rdquo; November&nbsp;1999.</span><span>)</span></a>,
        sections 7.5.3 and 7.19.5.
</li>
</ol>

<p>Translation rule <a class='info' href='#item-root'>2</a>
      means that absolute XPath expressions appearing in the main
      configuration data tree always start with
      "nmt:netmod-tree/nmt:main/", those appearing in "my-notif"
      notification always start with
      "nmt:netmod-tree/nmt:notifications/nmt:notification[@name='my-notif']/",
      etc.
</p>
<p>EXAMPLE. YANG XPath expression "/dhcp/max-lease-time"
      appearing in the main configuration data will be translated to
      "nmt:netmod-tree/nmt:main/dhcp:dhcp/dhcp:max-lease-time".
</p>
<p>[Editor's note: We may want to introduce "$root" variable
      that always contains the appropriate partial path in conceptual
      tree. The translated XPath in the example would then become
      "$root/dhcp:dhcp/dhcp:max-lease-time".]
</p>
<a name="extensions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.4"></a><h3>7.4.&nbsp;
YANG Language Extensions</h3>

<p>YANG allows for extending its own language in-line by adding
    new statements with keywords from special namespaces. Such
    extensions first have to be declared using the 'extension'
    statement and then can be used as the native statements, only with
    a namespace prefix qualifying the extension keyword. RELAX NG has
    a similar extension mechanism - XML elements and attributes with
    names from foreign namespaces may be inserted at almost every
    place of a RELAX NG schema.
</p>
<p>YANG language extensions may or may not have a meaning in the
    context of DSDL schemas. Therefore, an implementation MAY ignore
    any or all of the extensions. However, an extension that is not
    ignored MUST be mapped to XML element(s) and/or attribute(s) that
    exactly match the YIN form of the extension.
</p>
<p>EXAMPLE. Consider the following extension defined by the "acme"
    module:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
extension documentation-flag {
    argument number;
}
</pre></div>
<p>This extension can then be used in the same or another
    module, for instance like this:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
leaf folio {
    acme:documentation-flag 42;
    type string;
}
</pre></div>
<p>If this extension is honored by the mapping, it will be mapped
    to
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:element name="folio"&gt;
   &lt;acme:documentation-flag number="42"/&gt;
   &lt;rng:data type="string"/&gt;
&lt;/rng:element&gt;

</pre></div>
<p>Note that the 'extension' statement itself is not mapped in any
    way.
</p>
<a name="maprpc"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.5"></a><h3>7.5.&nbsp;
RPC Signatures and Notifications</h3>

<p>In the conceptual tree schema, YANG definitions of RPC methods
    are mapped to the subtree under
    "/nmt:netmod-tree/nmt:rpc-methods". Each RPC method corresponds to
    one subelement of &lt;nmt:rpc-methods&gt;, namely
    &lt;nmt:rpc-method name="..."&gt; where the value of the @name
    attribute is set to the name of the method. In turn, the
    &lt;nmt:rpc-method&gt; element has two subelements,
    &lt;nmt:input&gt; and &lt;nmt:output&gt; (both are optional) that
    contain input and input parameters of the given RPC method,
    respectively.
</p>
<p>Analogically, the content of each notification is mapped inside
    the element &lt;nmt:notification name="..."&gt;, which is a
    subelement of "/nmt:netmod-tree/nmt:notifications".
</p>
<a name="rng-to-dsdl"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Mapping Conceptual Tree Schema to DSDL</h3>

<p>[Editor's note: This section is not finished yet. We need to
  write a mapping specification for each of the NETMOD-specific
  annotations.] 
</p>
<a name="mappingSch"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Mapping Semantic Constraints to Schematron</h3>

<p>TBD
</p>
<a name="schematron_lib"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1.1"></a><h3>8.1.1.&nbsp;
Library of Schema-independent Schematron Patterns</h3>

<p>This section outlines the schema-independent library of
      Schematron patterns.
</p>
<p>TBD
</p>
<a name="mappingDSRL"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.2"></a><h3>8.2.&nbsp;
Mapping Default Values to DSRL</h3>

<p>TBD
</p>
<a name="validation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
NETCONF Content Validation</h3>

<p>[Editor's note: This section is not finished yet. We have to
  figure out what are the NETCONF objects we want to validate, and
  also the validation contexts and modes. The concept of validation
  phases outlined below is just one part of the problem. However,
  these questions are not DSDL-specific and should be addressed by the
  WG. One issue is DSDL-specific though: we have to find a way for
  validating compound documents using both NETCONF and NETMOD
  schemas. NVDL is a good candidate.]
</p>
<a name="validationPhases"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Validation Phases</h3>

<p>Validation of a configuration datastore or NETCONF PDUs may
    occur in different logical phases, adding more tests with each
    phase. We use three levels or phases for validating an instance
    document. There is a level of validation which is appropriate even
    for loose XML document fragments which still maintain their
    hierarchy (<em>fragment phase</em>), another
    level of validation is appropriate for a cohesive XML document
    which may however not be able to validate relational integrity
    checks against some operational state (<em>standard phase</em>), and finally there is
    validation which cover everything including all relational
    integrity checks (<em>full validation
    phase</em>). For example, in NETCONF an edit-config operation
    can cause the replacement a small fragment of XML. A candidate
    configuration may be waiting for application but can't check the
    readiness of a piece of hardware that the configuration refers
    to.
</p>
<p>From the NETCONF perspective, these three phases can be
    considered to have the following scope:
    </p>
<ol class="text">
<li>the fragment phase: This can be run against individual
      NETCONF operations.
</li>
<li>the standard phase: This can be run against the candidate
      configuration, but won’t always pass.
</li>
<li>the full validation phase: This can be run against a running
      configuration.
</li>
</ol>

<p>During the Fragment phase validation it is verified that the
     content is well-formed and appropriate to the operation.
</p>
<p>During Standard phase validation (all rules except for leafref
     checking):
     </p>
<ul class="text">
<li>Verify that mandatory nodes are present.
</li>
<li>Check the uniqueness for unique and key annotations.
</li>
<li>Print a warning if any manual validation rules are
       present.
</li>
</ul>

<p>During Full phase validation: add leafref checks.
</p>
<p>The mechanism how the phase specification is passed to the
     Schematron validator is outside the scope of this document. For
     example, it can be accomplished via command line parameters.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;sch:phase id="fragment"&gt;
  &lt;sch:active pattern="lease-time"/&gt;
  &lt;sch:active pattern="nonconfig"/&gt;
&lt;/sch:phase&gt;
&lt;sch:phase id="std"&gt;
  &lt;sch:active pattern="lease-time"/&gt;
  &lt;sch:active pattern="nonconfig"/&gt;
  &lt;sch:active pattern="key"/&gt;
&lt;/sch:phase&gt;
&lt;sch:phase id="full"&gt;
  &lt;sch:active pattern="lease-time"/&gt;
  &lt;sch:active pattern="nonconfig"/&gt;
  &lt;sch:active pattern="key"/&gt;
  &lt;sch:active pattern="keyref"/&gt;
&lt;/sch:phase&gt;
</pre></div>
<a name="yang-to-rng"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Mapping YANG Statements to Annotated RELAX NG</h3>

<p>Each subsection in this section is devoted to one YANG
    statement and describes how the statement is mapped to the
    annotated RELAX NG schema of the conceptual tree. This is the
    first step of the mapping procedure, see <a class='info' href='#mappingOverview'>Section&nbsp;5<span> (</span><span class='info'>Overview of the Mapping</span><span>)</span></a>. The subsections are sorted
    alphabetically by the statement keyword.
</p>
<p>Each YANG statement is mapped to an XML fragment, typically a
    single element or attribute but it may also be a larger
    structure. The mapping algorithm is inherently recursive, which
    means that after finishing a statement the mapping continues with
    its substatements, if there are any, and a certain element of the
    resulting fragment becomes the parent of other fragments resulting
    from the mapping of substatements. We use the following notation:
    </p>
<ul class="text">
<li>The argument of the statement being mapped is denoted by
      ARGUMENT.
</li>
<li>The element in the RELAX NG schema that becomes the parent of
      the resulting XML fragment is denoted by PARENT.
</li>
</ul>

<a name="anyxml-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.1"></a><h3>10.1.&nbsp;
The anyxml Statement</h3>

<p>This statement is mapped to &lt;rng:element&gt; element and
      ARGUMENT becomes the value of its @name attribute. The content
      of &lt;rng:element&gt; is
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:ref name="__anyxml__"/&gt;
</pre></div>
<p>Substatements of the 'anyxml' statement are mapped
      to additional children of the RELAX NG element definition.
</p>
<p>If the 'anyxml' statement occurs in any of the input YANG
      modules, the following pattern definition MUST be added exactly
      once to the RELAX NG schema as a child of the &lt;rng:grammar&gt;
      element (cf. <a class='info' href='#Vli04'>[20]<span> (</span><span class='info'>van der Vlist, E., &ldquo;RELAX NG,&rdquo; 2004.</span><span>)</span></a>, p. 172):
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:define name="__anyxml__"&gt;
  &lt;rng:zeroOrMore&gt;
    &lt;rng:choice&gt;
      &lt;rng:attribute&gt;
        &lt;rng:anyName/&gt;
      &lt;/rng:attribute&gt;
      &lt;rng:element&gt;
        &lt;rng:anyName/&gt;
        &lt;rng:ref name="__anyxml__"/&gt;
      &lt;/rng:element&gt;
      &lt;rng:text/&gt;
    &lt;/rng:choice&gt;
  &lt;/rng:zeroOrMore&gt;
&lt;/rng:define&gt;</pre></div>
<p>EXAMPLE: YANG statement
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
anyxml data {
    description "Any XML content allowed here.";
}
</pre></div>
<p>maps to the following fragment:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:element name="data"&gt;
    &lt;a:documentation&gt;Any XML content allowed here&lt;/a:documentation&gt;
    &lt;rng:ref name="__anyxml__"/&gt;
&lt;/rng:element&gt;
</pre></div>
<a name="argument-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.2"></a><h3>10.2.&nbsp;
The argument Statement</h3>

<p>This statement is not mapped to the output schema, but see
      the rules for extension handling in <a class='info' href='#extensions'>Section&nbsp;7.4<span> (</span><span class='info'>YANG Language Extensions</span><span>)</span></a>.
</p>
<a name="augment-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.3"></a><h3>10.3.&nbsp;
The augment Statement</h3>

<p>As a substatement of 'uses', this statement is handled as a
      part of 'uses' mapping, see <a class='info' href='#uses-stmt'>Section&nbsp;10.54<span> (</span><span class='info'>The uses Statement</span><span>)</span></a>.
</p>
<p>At the top level of a module or submodule, the 'augment'
      statement is used for augmenting the schema tree of another YANG
      module. If the latter module is not processed within the same
      mapping session, the top-level 'augment' statement MUST be
      ignored. Otherwise, the contents of the statement are added to
      the foreign module with the namespace of the module where the
      'augment' statement appears.
</p>
<a name="base-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.4"></a><h3>10.4.&nbsp;
The base Statement</h3>

<p>This statement is ignored as a substatement of 'identity' and
      handled within the 'identityref' type if it appears as a
      substatement of that type definition, see <a class='info' href='#identityref-type'>Section&nbsp;10.50.5<span> (</span><span class='info'>The identityref Type</span><span>)</span></a>.
</p>
<a name="belongs-to-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.5"></a><h3>10.5.&nbsp;
The belongs-to Statement</h3>

<p>This statement is not used since processing of submodules
      is always initiated from the main module, see <a class='info' href='#include-stmt'>Section&nbsp;10.21<span> (</span><span class='info'>The include Statement</span><span>)</span></a>.
</p>
<a name="bit-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.6"></a><h3>10.6.&nbsp;
The bit Statement</h3>

<p>Handled within the "bits" type, see <a class='info' href='#bits-type'>Section&nbsp;10.50.3<span> (</span><span class='info'>The bits Type</span><span>)</span></a>.
</p>
<a name="case-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.7"></a><h3>10.7.&nbsp;
The case Statement</h3>

<p>This statement is mapped to &lt;rng:group&gt; element. If the
      argument of a sibling 'default' statement equals to ARGUMENT,
      @nma:default-case attribute with the value of "true" is added to
      that &lt;rng:group&gt; element.
</p>
<a name="choice-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.8"></a><h3>10.8.&nbsp;
The choice Statement</h3>

<p>This statement is mapped to &lt;rng:choice&gt; element.
</p>
<p>Unless 'choice' has the 'mandatory' substatement with the
      value of "true", the &lt;rng:choice&gt; element MUST be wrapped
      in &lt;rng:optional&gt;.
</p>
<a name="config-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.9"></a><h3>10.9.&nbsp;
The config Statement</h3>

<p>This statement is mapped to @nma:config attribute and
      ARGUMENT becomes its value.
</p>
<a name="contact-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.10"></a><h3>10.10.&nbsp;
The contact Statement</h3>

<p>This statement is not used by the mapping since the output
      RELAX NG schema may result from multiple YANG modules created by
      different authors. The schema contains references to all input
      modules in the Dublin Core elements &lt;dc:source&gt;, see <a class='info' href='#module-stmt'>Section&nbsp;10.31<span> (</span><span class='info'>The module Statement</span><span>)</span></a>. The original modules are the
      authoritative sources of the authorship information.
</p>
<a name="container-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.11"></a><h3>10.11.&nbsp;
The container Statement</h3>

<p>Using the procedure outlined in <a class='info' href='#optionalMandatoryContent'>Section&nbsp;7.1<span> (</span><span class='info'>Optional and Mandatory Content</span><span>)</span></a>, the mapping algorithm MUST
      determine whether the statement defines an optional container,
      and if so, insert the &lt;rng:optional&gt; element and make it
      the new PARENT.
</p>
<p>The container defined by this statement is then mapped to the
      &lt;rng:element&gt; element, which becomes a child of PARENT and
      uses ARGUMENT as the value of its @name attribute.
</p>
<a name="default-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.12"></a><h3>10.12.&nbsp;
The default Statement</h3>

<p>If this statement is a substatement of 'typedef' or 'leaf',
      it is mapped to the @nma:default attribute of PARENT and
      ARGUMENT becomes its value.
</p>
<p>As a substatement of 'choice', the 'default' statement
      identifies the default case and is handled within the 'case'
      statement, see <a class='info' href='#case-stmt'>Section&nbsp;10.7<span> (</span><span class='info'>The case Statement</span><span>)</span></a>. If the default case
      uses the shorthand notation where the 'case' statement is
      omitted, an extra &lt;rng:group&gt; element MUST be inserted with
      @nma:default-case attribute set to "true". The net result is
      then the same as if the 'case' statement wasn't omitted for the
      default case.
</p>
<p>EXAMPLE. The following 'choice' statement
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
choice leaves {
    default feuille;
    leaf feuille { type empty; }
    leaf hoja { type empty; }
}
</pre></div>
<p>is mapped to
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:choice&gt;
  &lt;rng:group nma:default="true"&gt;
    &lt;rng:element name="feuille"&gt;
      &lt;rng:empty/&gt;
    &lt;/rng:element&gt;
  &lt;/rng:group&gt;
  &lt;rng:element name="hoja"&gt;
    &lt;rng:empty/&gt;
  &lt;/rng:element/&gt;
&lt;/rng:choice&gt;
</pre></div>
<a name="description-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.13"></a><h3>10.13.&nbsp;
The description Statement</h3>

<p>This statement is ignored if it appears at the top level of
      each input YANG module. The description can be found in the
      source module that is referred to by Dublin Core element
      &lt;dc:source&gt; and use ARGUMENT as its content.
</p>
<p>Otherwise, this statement is mapped to the DTD compatibility
      element &lt;a:documentation&gt; and ARGUMENT becomes its text.
</p>
<p>In order to get properly formatted in the RELAX NG compact
      syntax, this element SHOULD be inserted as the first child of
      PARENT.
</p>
<a name="enum-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.14"></a><h3>10.14.&nbsp;
The enum Statement</h3>

<p>This statement is mapped to &lt;rng:value&gt; element and
      ARGUMENT becomes its text. All substatements except 'status' are
      ignored because the &lt;rng:value&gt; element cannot contain
      annotations, see <a class='info' href='#RNG'>[10]<span> (</span><span class='info'>ISO/IEC, &ldquo;Information Technology - Document Schema Definition         Languages (DSDL) - Part 2: Regular-Grammar-Based Validation -         RELAX NG. Second Edition.,&rdquo; 12&nbsp;2008.</span><span>)</span></a>, Section 6.
</p>
<a name="error-app-tag-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.15"></a><h3>10.15.&nbsp;
The error-app-tag Statement</h3>

<p>This statement is ignored unless it is a substatement of
      'must'. In the latter case it is mapped to the
      &lt;nma:error-app-tag&gt; element. See also <a class='info' href='#must-stmt'>Section&nbsp;10.32<span> (</span><span class='info'>The must Statement</span><span>)</span></a>.
</p>
<a name="error-message-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.16"></a><h3>10.16.&nbsp;
The error-message Statement</h3>

<p>This statement is ignored unless it is a substatement of
      'must'. In the latter case it is mapped to the
      &lt;nma:error-message&gt; element. See also <a class='info' href='#must-stmt'>Section&nbsp;10.32<span> (</span><span class='info'>The must Statement</span><span>)</span></a>.
</p>
<a name="extension-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.17"></a><h3>10.17.&nbsp;
The extension Statement</h3>

<p>This statement is ignored. However, extensions to the YANG
     language MAY be mapped as described in <a class='info' href='#extensions'>Section&nbsp;7.4<span> (</span><span class='info'>YANG Language Extensions</span><span>)</span></a>.
</p>
<a name="grouping-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.18"></a><h3>10.18.&nbsp;
The grouping Statement</h3>

<p>This statement is mapped to a RELAX NG named pattern
      definition &lt;rng:define&gt;, but only if the grouping defined
      by this statement is used <em>without
      refinements and augments</em> in at least one of the input
      modules. In this case, the named pattern definition becomes a
      child of the &lt;rng:grammar&gt; element and its name is
      ARGUMENT mangled according to the rules specified in <a class='info' href='#grouping-typedef'>Section&nbsp;7.2<span> (</span><span class='info'>Mapping YANG Groupings and Typedefs</span><span>)</span></a>.
</p>
<p>Whenever a grouping is used with additional refinements
      and/or augments, the grouping is expanded so that the
      refinements and augments may be applied directly to the
      prescribed schema nodes. See <a class='info' href='#refine-augment'>Section&nbsp;7.2.1<span> (</span><span class='info'>YANG Refinements and Augments</span><span>)</span></a> for
      further details and an example.
</p>
<p>An implementation MAY offer the option of recording all
      'grouping' statements as named patterns in the output RELAX NG
      schema even if they are not referenced. This is useful for
      mapping YANG "library" modules containing only 'typedef' and/or
      'grouping' statements. 
</p>
<a name="identity-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.19"></a><h3>10.19.&nbsp;
The identity Statement</h3>

<p>This statement is not specifically mapped. However, if the
      identity defined by this statement is used as the base for an
      "identityref" type in any of the input modules, ARGUMENT will
      appear as the text of one of the &lt;rng:value&gt; elements in
      the mapping of that "identityref" type. See <a class='info' href='#identityref-type'>Section&nbsp;10.50.5<span> (</span><span class='info'>The identityref Type</span><span>)</span></a> for more details and an example.
</p>
<a name="import-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.20"></a><h3>10.20.&nbsp;
The import Statement</h3>

<p>This statement is not specifically mapped. The module whose
      name is in ARGUMENT has to be parsed so that the importing
      module be able to use its top-level groupings and typedefs and
      also augment the data tree of the imported module.
</p>
<p>If the 'import' statement has the 'revision' substatement,
      the corresponding revision of the imported module MUST be
      used. The mechanism for finding a given module revision is
      outside the scope of this document.
</p>
<a name="include-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.21"></a><h3>10.21.&nbsp;
The include Statement</h3>

<p>This statement is not specifically mapped. The submodule
      whose name is in ARGUMENT has to be parsed and its contents
      mapped exactly as if the submodule text was a subset of the main
      module text.
</p>
<p>If the 'include' statement has the 'revision' substatement,
      the corresponding revision of the submodule MUST be used. The
      mechanism for finding a given submodule revision is outside the
      scope of this document.
</p>
<a name="input-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.22"></a><h3>10.22.&nbsp;
The input Statement</h3>

<p>This statement is mapped to &lt;rng:element&gt; and its @name
     attribute is set to "nmt:input".
</p>
<a name="key-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.23"></a><h3>10.23.&nbsp;
The key Statement</h3>

<p>This statement is mapped to @nma:key attribute and ARGUMENT
      becomes the value of this attribute.
</p>
<a name="leaf-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.24"></a><h3>10.24.&nbsp;
The leaf Statement</h3>

<p>This statement is mapped to the &lt;rng:element&gt; element
      and ARGUMENT becomes the value of its @name attribute.
</p>
<p>The leaf is optional if there is no "mandatory true;"
      substatement and if the leaf is not declared among the keys of
      an enclosing list. In this case, the &lt;rng:element&gt; element
      MUST be wrapped in &lt;rng:optional&gt;.
</p>
<a name="leaf-list-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.25"></a><h3>10.25.&nbsp;
The leaf-list Statement</h3>

<p>This statement is mapped to a block enclosed by either
      &lt;rng:zeroOrMore&gt; or &lt;rng:oneOrMore&gt; element
      depending on whether the argument of 'min-elements' substatement
      is "0" or positive, respectively (it is zero by default). This
      &lt;rng:zeroOrMore&gt; or &lt;rng:oneOrMore&gt; element becomes
      the PARENT.
</p>
<p>Further, if the argument of 'min-elements' is greater than
      one, attribute @nma:min-elements is attached to PARENT and the
      argument of 'min-elements' becomes the value of this
      attribute.
</p>
<p>If there is the 'max-elements' substatement, attribute
      @nma:max-elements is attached to PARENT and the argument of
      'max-elements' becomes the value of this attribute.
</p>
<p>Then &lt;rng:element&gt; is added as a child element of PARENT
      and ARGUMENT becomes the value of its @name attribute.
</p>
<p>EXAMPLE. YANG leaf-list
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
leaf-list foliage {
    min-elements 3;
    max-elements 6378;
    ordered-by user;
    type string;
}
</pre></div>
<p>is mapped to the following RELAX NG fragment:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:oneOrMore nma:max-elements="6378"
                nma:min-elements="3"&gt;
  &lt;rng:element name="foliage" nma:ordered-by="user"&gt;
    &lt;rng:data type="string"/&gt;
  &lt;/rng:element&gt;
&lt;/rng:oneOrMore&gt;
</pre></div>
<a name="length-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.26"></a><h3>10.26.&nbsp;
The length Statement</h3>

<p>Handled within the "string" type, see <a class='info' href='#string-type'>Section&nbsp;10.50.9<span> (</span><span class='info'>The string Type</span><span>)</span></a>.
</p>
<a name="list-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.27"></a><h3>10.27.&nbsp;
The list Statement</h3>

<p>This statement is mapped exactly as the 'leaf-list'
      statement, see <a class='info' href='#leaf-list-stmt'>Section&nbsp;10.25<span> (</span><span class='info'>The leaf-list Statement</span><span>)</span></a>.
</p>
<a name="mandatory-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.28"></a><h3>10.28.&nbsp;
The mandatory Statement</h3>

<p>This statement may appear as a substatement of 'leaf',
      'choice' or 'anyxml' statement. If ARGUMENT is "true", the
      parent data node is mapped as mandatory, see <a class='info' href='#optionalMandatoryContent'>Section&nbsp;7.1<span> (</span><span class='info'>Optional and Mandatory Content</span><span>)</span></a>.
</p>
<a name="max-elements-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.29"></a><h3>10.29.&nbsp;
The max-elements Statement</h3>

<p>This statement is handled within 'leaf-list' or 'list'
      statements, see <a class='info' href='#leaf-list-stmt'>Section&nbsp;10.25<span> (</span><span class='info'>The leaf-list Statement</span><span>)</span></a>.
</p>
<a name="min-elements-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.30"></a><h3>10.30.&nbsp;
The min-elements Statement</h3>

<p>This statement is handled within 'leaf-list' or 'list'
      statements, see <a class='info' href='#leaf-list-stmt'>Section&nbsp;10.25<span> (</span><span class='info'>The leaf-list Statement</span><span>)</span></a>.
</p>
<a name="module-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.31"></a><h3>10.31.&nbsp;
The module Statement</h3>

<p>This statement is not specifically mapped except that a
      &lt;dc:source&gt; element SHOULD be created as a child of
      &lt;rng:grammar&gt; and contain ARGUMENT as a reference to the
      input YANG module. See also <a class='info' href='#revision-stmt'>Section&nbsp;10.46<span> (</span><span class='info'>The revision Statement</span><span>)</span></a>.
</p>
<p>With respect to the conceptual tree schema, substatements of
      'module' MUST be mapped so that
      </p>
<ul class="text">
<li>top level data elements be defined as children of the
        &lt;nmt:top&gt; element;
</li>
<li>elements mapped from 'rpc' statements be defined as
        children of the &lt;nmt:rpc-methods&gt; element;
</li>
<li>elements mapped from 'notification' statements be defined
        as children of the &lt;nmt:notifications&gt; element.
</li>
</ul>

<a name="must-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.32"></a><h3>10.32.&nbsp;
The must Statement</h3>

<p>This statement is mapped to the &lt;nma:must&gt; element. It
      has one mandatory attribute @assert (with no namespace), which
      contains ARGUMENT transformed into a valid XPath expression (see
      <a class='info' href='#transXPath'>Section&nbsp;7.3<span> (</span><span class='info'>Translation of XPath Expressions</span><span>)</span></a>). The &lt;nma:must&gt; element may
      get other subelements resulting from mapping 'error-app-tag' and
      'error-message' substatements. Other substatements of 'must',
      i.e., 'description' and 'reference', are ignored.
</p>
<p>EXAMPLE. YANG statement
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
must 'current() &lt;= ../max-lease-time' {
    error-message
        "The default-lease-time must be less than max-lease-time";
}

</pre></div>
<p>is mapped to
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;nma:must assert="current()&amp;lt;=../dhcp:max-lease-time"&gt;
  &lt;nma:error-message&gt;
    The default-lease-time must be less than max-lease-time
  &lt;/nma:error-message&gt;
&lt;/nma:must&gt;
</pre></div>
<a name="namespace-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.33"></a><h3>10.33.&nbsp;
The namespace Statement</h3>

<p>ARGUMENT of this statement - namespace URI of the input
      module - is mapped to an XML attribute of the
      &lt;rng:grammar&gt; element (the root of the RELAX NG schema) in
      the following way:
      </p>
<ol class="text">
<li>For one of the input modules, its namespace
        URI MAY become the value of the @ns attribute.
</li>
<li>For the remaining input modules, the
        namespace URI becomes the value of the @xmlns:xxx attribute
        where "xxx" is a unique prefix, which SHOULD be set to the
        argument of the 'prefix' statement in the same module (see
        <a class='info' href='#prefix-stmt'>Section&nbsp;10.41<span> (</span><span class='info'>The prefix Statement</span><span>)</span></a>).
</li>
</ol>

<p>In case <a class='info' href='#xmlns-att'>2</a>, names of
      all data nodes appearing as values of the @name attribute of the
      &lt;rng:element&gt; elements in the RELAX NG schema MUST use the
      given prefix whereas in case <a class='info' href='#ns-att'>1</a> the values have no prefix.
</p>
<p>Namespace URI of all input modules MAY be mapped using the
      method in <a class='info' href='#xmlns-att'>2</a>. The
      advantage of this approach is that the recommended prefixes are
      recorded in the output RELAX NG schema for all input
      modules.
</p>
<p>EXAMPLE: Assume we have the following two YANG modules as
      input:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
module foo-module {
    namespace "http://example.com/ns/foo";
    prefix foo;
    ...
}
</pre></div>
<p>and
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
module bar-module {
    namespace "http://example.com/ns/bar";
    prefix bar;
    ...
}
</pre></div>
<p>The &lt;rng:grammar&gt; element in the output schema may then
      be either
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:grammar xmlns="http://relaxng.org/ns/structure/1.0"
          xmlns:foo="http://example.com/ns/foo"
          xmlns:bar="http://example.com/ns/bar"
          ...
          &gt;
              ...
          &lt;/rng:grammar&gt;
</pre></div>
<p>or
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:grammar xmlns="http://relaxng.org/ns/structure/1.0"
          ns="http://example.com/ns/foo"
          xmlns:bar="http://example.com/ns/bar"
          ...
          &gt;
              ...
          &lt;/rng:grammar&gt;
</pre></div>
<p>The third possibility is analogical to the previous one, only
      with the roles of "foo" and "bar" exchanged.
</p>
<a name="notification-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.34"></a><h3>10.34.&nbsp;
The notification Statement</h3>

<p>This element is mapped to &lt;rng:element&gt; and its @name
      attribute is set to "nmt:notification" element. This element is
      defined as a child of the &lt;nmt:notifications&gt; element in
      the conceptual tree.
</p>
<a name="ordered-by-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.35"></a><h3>10.35.&nbsp;
The ordered-by Statement</h3>

<p>This statement is mapped to @nma:ordered-by attribute and
      ARGUMENT becomes the value of this attribute. See <a class='info' href='#leaf-list-stmt'>Section&nbsp;10.25<span> (</span><span class='info'>The leaf-list Statement</span><span>)</span></a> for an example.
</p>
<a name="organization-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.36"></a><h3>10.36.&nbsp;
The organization Statement</h3>

<p>This statement is not used by the mapping since the output
      RELAX NG schema may result from multiple YANG modules authored
      by different parties. The schema contains references to all
      input modules in the Dublin Core elements &lt;dc:source&gt;, see
      <a class='info' href='#module-stmt'>Section&nbsp;10.31<span> (</span><span class='info'>The module Statement</span><span>)</span></a>. The original modules are the
      authoritative sources of the authorship information.
</p>
<a name="output-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.37"></a><h3>10.37.&nbsp;
The output Statement</h3>

<p>This statement is mapped to &lt;rng:element&gt; and its @name
     attribute is set to "nmt:output".
</p>
<a name="path-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.38"></a><h3>10.38.&nbsp;
The path Statement</h3>

<p>Handled within "leafref" type, see <a class='info' href='#leafref-type'>Section&nbsp;10.50.7<span> (</span><span class='info'>The leafref Type</span><span>)</span></a>.
</p>
<a name="pattern-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.39"></a><h3>10.39.&nbsp;
The pattern Statement</h3>

<p>Handled within "string" type, see <a class='info' href='#string-type'>Section&nbsp;10.50.9<span> (</span><span class='info'>The string Type</span><span>)</span></a>.
</p>
<a name="position-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.40"></a><h3>10.40.&nbsp;
The position Statement</h3>

<p>This statement is ignored.
</p>
<a name="prefix-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.41"></a><h3>10.41.&nbsp;
The prefix Statement</h3>

<p>ARGUMENT of this statement - the recommended namespace prefix
      for the input module - MAY be mapped to a namespace prefix
      declared using the @xmlns:xxx attribute of the
      &lt;rng:grammar&gt; element in the output schema, where "xxx" is
      replaced by ARGUMENT. For multiple input modules, the
      mapping of prefixes depends on how their namespace URIs are
      used, see <a class='info' href='#namespace-stmt'>Section&nbsp;10.33<span> (</span><span class='info'>The namespace Statement</span><span>)</span></a>.
</p>
<a name="presence-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.42"></a><h3>10.42.&nbsp;
The presence Statement</h3>

<p>This statement influences the mapping of 'container' (<a class='info' href='#container-stmt'>Section&nbsp;10.11<span> (</span><span class='info'>The container Statement</span><span>)</span></a>): it makes the parent container
      optional, regardless of its content. See also <a class='info' href='#optionalMandatoryContent'>Section&nbsp;7.1<span> (</span><span class='info'>Optional and Mandatory Content</span><span>)</span></a>.
</p>
<a name="range-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.43"></a><h3>10.43.&nbsp;
The range Statement</h3>

<p>Handled within numeric types, see <a class='info' href='#numeric-types'>Section&nbsp;10.50.8<span> (</span><span class='info'>The numeric Types</span><span>)</span></a>.
</p>
<a name="reference-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.44"></a><h3>10.44.&nbsp;
The reference Statement</h3>

<p>This statement is ignored if it appears at the top level of a
      module or submodule.
</p>
<p>Otherwise, this statement is mapped
      to &lt;a:documentation&gt; element and its text is set to
      ARGUMENT prefixed with "See: ".
</p>
<a name="require-instance-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.45"></a><h3>10.45.&nbsp;
The require-instance Statement</h3>

<p>Handled within the types "leafref" (<a class='info' href='#leafref-type'>Section&nbsp;10.50.7<span> (</span><span class='info'>The leafref Type</span><span>)</span></a>) and "instance-identifier" (<a class='info' href='#instance-identifier-type'>Section&nbsp;10.50.6<span> (</span><span class='info'>The instance-identifier Type</span><span>)</span></a>).
</p>
<a name="revision-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.46"></a><h3>10.46.&nbsp;
The revision Statement</h3>

<p>The mapping uses only the most recent instance of the
      'revision' statement, i.e., one with the latest date in
      ARGUMENT, which specifies the current revision of the input YANG
      module <a class='info' href='#YANG'>[5]<span> (</span><span class='info'>Bjorklund, M., Ed., &ldquo;YANG - A data modeling language for NETCONF,&rdquo; January&nbsp;2009.</span><span>)</span></a>. This date SHOULD be recorded,
      together with the name of the YANG module, in the corresponding
      Dublin Core element &lt;dc:source&gt; (see <a class='info' href='#module-stmt'>Section&nbsp;10.31<span> (</span><span class='info'>The module Statement</span><span>)</span></a>), for example in this form:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;dc:source&gt;YANG module 'foo', revision 2009-01-19&lt;/dc:source&gt;
</pre></div>
<p>The 'description' substatement of 'revision' is not used.
</p>
<a name="rpc-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.47"></a><h3>10.47.&nbsp;
The rpc Statement</h3>

<p>This element is mapped to &lt;rng:element&gt; and its @name
      attribute is set to "nmt:rpc-method" element. This element is
      defined as a child of the &lt;nmt:rpc-methods&gt; element in
      the conceptual tree.
</p>
<a name="status-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.48"></a><h3>10.48.&nbsp;
The status Statement</h3>

<p>This statement is mapped to @nma:status attribute and
      ARGUMENT becomes its value.
</p>
<a name="submodule-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.49"></a><h3>10.49.&nbsp;
The submodule Statement</h3>

<p>This statement is not specifically mapped. Its substatements
      are mapped as if they appeared directly in the module the
      submodule belongs to.
</p>
<a name="type-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50"></a><h3>10.50.&nbsp;
The type Statement</h3>

<p>Most YANG built-in types have an equivalent in the XSD
      datatype library <a class='info' href='#XSD-D'>[14]<span> (</span><span class='info'>Biron, P. and A. Malhotra, &ldquo;XML Schema Part 2: Datatypes Second Edition,&rdquo; October&nbsp;2004.</span><span>)</span></a> as shown in <a class='info' href='#tab-types'>Table&nbsp;3<span> (</span><span class='info'>Selected datatypes from the W3C XML Schema Type Library</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="tab-types"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left"><col align="left">
<tr><th align="left">YANG type</th><th align="left">XSD type</th><th align="left">Meaning</th></tr>
<tr>
<td align="left">int8</td>
<td align="left">byte</td>
<td align="left">8-bit integer value</td>
</tr>
<tr>
<td align="left">int16</td>
<td align="left">short</td>
<td align="left">16-bit integer value</td>
</tr>
<tr>
<td align="left">int32</td>
<td align="left">int</td>
<td align="left">32-bit integer value</td>
</tr>
<tr>
<td align="left">int64</td>
<td align="left">long</td>
<td align="left">64-bit integer value</td>
</tr>
<tr>
<td align="left">uint8</td>
<td align="left">unsignedByte</td>
<td align="left">8-bit unsigned integer value</td>
</tr>
<tr>
<td align="left">uint16</td>
<td align="left">unsignedShort</td>
<td align="left">16-bit unsigned integer value</td>
</tr>
<tr>
<td align="left">uint32</td>
<td align="left">unsignedInt</td>
<td align="left">32-bit unsigned integer value</td>
</tr>
<tr>
<td align="left">uint64</td>
<td align="left">unsignedLong</td>
<td align="left">64-bit unsigned integer value</td>
</tr>
<tr>
<td align="left">float32</td>
<td align="left">float</td>
<td align="left">32-bit IEEE floating-point value</td>
</tr>
<tr>
<td align="left">float64</td>
<td align="left">double</td>
<td align="left">64-bit IEEE floating-point value</td>
</tr>
<tr>
<td align="left">string</td>
<td align="left">string</td>
<td align="left">character string</td>
</tr>
<tr>
<td align="left">boolean</td>
<td align="left">boolean</td>
<td align="left">"true" or "false"</td>
</tr>
<tr>
<td align="left">binary</td>
<td align="left">base64Binary</td>
<td align="left">binary data in base64 encoding</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 3: Selected datatypes from the W3C XML Schema Type Library&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Details about the mapping of individual YANG built-in types
      are given in the following subsections.
</p>
<a name="empty-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.1"></a><h3>10.50.1.&nbsp;
The empty Type</h3>

<p>This type is mapped to &lt;rng:empty/&gt;.
</p>
<a name="boobi-types"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.2"></a><h3>10.50.2.&nbsp;
The boolean and binary Types</h3>

<p>These two built-in types do not allow any restrictions and
        are mapped simply by inserting &lt;rng:data&gt; element whose @type
        attribute is set to ARGUMENT mapped according to <a class='info' href='#tab-types'>Table&nbsp;3<span> (</span><span class='info'>Selected datatypes from the W3C XML Schema Type Library</span><span>)</span></a>.
</p>
<a name="bits-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.3"></a><h3>10.50.3.&nbsp;
The bits Type</h3>

<p>This type is mapped to &lt;rng:list&gt; and for each 'bit'
        substatement the following XML fragment is inserted as a child
        of &lt;rng:list&gt;:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:optional&gt;
  &lt;rng:value&gt;bit_name&lt;/rng:value&gt;
&lt;/rng:optional&gt;</pre></div>
<p>where bit_name is the name of the bit as found in the
        argument of the corresponding 'bit' statement.
</p>
<a name="enuun-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.4"></a><h3>10.50.4.&nbsp;
The enumeration and union Types</h3>

<p>These types are mapped to &lt;rng:choice&gt; element.
</p>
<a name="identityref-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.5"></a><h3>10.50.5.&nbsp;
The identityref Type</h3>

<p>This type is mapped to &lt;rng:choice&gt; element with one
        or more &lt;rng:value&gt; subelements. Each of the
        &lt;rng:value&gt; subelements MUST have a @type attribute and
        its value set to "QName". One &lt;rng:value&gt; subelement
        with argument of the 'base' substatement as its text MUST
        always be present. In addition, one &lt;rng:value&gt;
        substatement MUST be added for each identity declared locally
        or in an imported module that has the argument of the 'base'
        substatement as its base identity.
</p>
<p>All namespace prefixes that are used for identities from
        imported modules MUST be appropriately defined.
</p>
<p>EXAMPLE (taken from <a class='info' href='#YANG'>[5]<span> (</span><span class='info'>Bjorklund, M., Ed., &ldquo;YANG - A data modeling language for NETCONF,&rdquo; January&nbsp;2009.</span><span>)</span></a>, Section
        7.6.13). Consider the following two YANG modules:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
module crypto-base {
    namespace "http://example.com/crypto-base";
    prefix "crypto";

    identity crypto-alg {
    description
        "Base identity from which all crypto algorithms
         are derived.";
    }
}

module des {
    namespace "http://example.com/des";
    prefix "des";

    import "crypto-base" {
        prefix "crypto";
    }

    identity des {
        base "crypto:crypto-alg";
        description "DES crypto algorithm";
    }

    identity des3 {
        base "crypto:crypto-alg";
        description "Triple DES crypto algorithm";
    }
}
</pre></div>
<p>If these two modules are imported to another module, leaf
        definition
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
leaf crypto {
    type identityref {
        base "crypto:crypto-alg";
    }
}
</pre></div>
<p>is mapped to
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:element name="crypto"&gt;
  &lt;rng:choice&gt;
    &lt;rng:value type="QName"&gt;crypto:crypto-alg&lt;/value&gt;
    &lt;rng:value type="QName"&gt;des:des&lt;/value&gt;
    &lt;rng:value type="QName"&gt;des:des3&lt;/value&gt;
 &lt;/rng:choice&gt;
&lt;/rng:element&gt;
</pre></div>
<p>The "crypto" and "des" prefixes will by typically defined
        via attributes of the &lt;rng:grammar&gt; element.
</p>
<a name="instance-identifier-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.6"></a><h3>10.50.6.&nbsp;
The instance-identifier Type</h3>

<p>This type is mapped to &lt;rng:data&gt; element with @type
        attribute set to "string". In addition, empty
        &lt;nma:instance-identifier&gt; element MUST be inserted as a
        child of PARENT.
</p>
<p>The 'require-instance' substatement, if it exists, is
        mapped to the @require-instance attribute of
        &lt;nma:instance-identifier&gt;.
</p>
<a name="leafref-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.7"></a><h3>10.50.7.&nbsp;
The leafref Type</h3>

<p>This type is mapped to &lt;rng:data&gt; element with @type
        attribute set to the type of the leaf given in the argument of
        'path' substatement. In addition, &lt;nma:leafref&gt; element
        MUST be inserted as a child of PARENT. The argument value of
        the 'path' substatement is set as the text of this
        element.
</p>
<p>The 'require-instance' substatement, if it exists, is
        mapped to the @require-instance attribute of
        &lt;nma:leafref&gt;.
</p>
<a name="numeric-types"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.8"></a><h3>10.50.8.&nbsp;
The numeric Types</h3>

<p>YANG built-in numeric types are "int8", "int16", "int32",
        "int64", "uint8", "uint16", "uint32", "uint64", "float32" and
        "float64". They are mapped to &lt;rng:data&gt; element with
        @type attribute set to ARGUMENT mapped according to <a class='info' href='#tab-types'>Table&nbsp;3<span> (</span><span class='info'>Selected datatypes from the W3C XML Schema Type Library</span><span>)</span></a>.
</p>
<p>All numeric types support the 'range' restriction, which is
        handled in the following way:
        </p>
<ul class="text">
<li>If the range expression consists of a single range part,
          insert the pair of RELAX NG facets
          <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      &lt;rng:param name="minInclusive"&gt;...&lt;/rng:param&gt;
</pre></div>
          and
          <div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      &lt;rng:param name="maxInclusive"&gt;...&lt;/rng:param&gt;
</pre></div>
          Their contents are the lower and upper bound of the range
          part, respectively. If the range part consists of a single
          number, both "minInclusive" and "maxInclusive" facets use
          this value as their content. If the lower bound is "min",
          the "minInclusive" facet is omitted and if the upper bound
          is "max", the "maxInclusive" facet is omitted.
</li>
<li>If the range expression has multiple parts separated by
          "|", then repeat the &lt;rng:data&gt; element once for every
          range part and wrap them all in &lt;rng:choice&gt;
          element. Each &lt;rng:data&gt; element contains the
          "minInclusive" and "maxInclusive" facets for one part of the
          range expression as described in the previous item.
</li>
</ul><p>
        
</p>
<p>For example, the 'typedef' statement
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
typedef rt {
  type int32 {
    range "-6378..0|42|100..max";
  }
}
</pre></div>
<p>appearing at the top level of the "example" module is
        mapped to the following RELAX NG fragment:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;rng:define name="example__rt"&gt;
  &lt;rng:choice&gt;
    &lt;rng:data type="int"&gt;
      &lt;rng:param name="minInclusive"&gt;-6378&lt;/rng:param&gt;
      &lt;rng:param name="maxInclusive"&gt;0&lt;/rng:param&gt;
    &lt;/rng:data&gt;
    &lt;rng:data type="int"&gt;
      &lt;rng:param name="minInclusive"&gt;42&lt;/rng:param&gt;
      &lt;rng:param name="maxInclusive"&gt;42&lt;/rng:param&gt;
    &lt;/rng:data&gt;
    &lt;rng:data type="int"&gt;
      &lt;rng:param name="minInclusive"&gt;100&lt;/rng:param&gt;
    &lt;/rng:data&gt;
  &lt;/rng:choice&gt;
&lt;/rng:define&gt;</pre></div>
<a name="string-type"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.9"></a><h3>10.50.9.&nbsp;
The string Type</h3>

<p>This type is mapped to &lt;rng:data&gt; element with the
        @type attribute set to "string".
</p>
<p>For the 'pattern' restriction, insert &lt;rng:param&gt; element
        with @name attribute set to "pattern". The argument of the
        'pattern' statement (regular expression) becomes the content
        of this element.
</p>
<p>The 'length' restriction is handled in the same way as the
        'range' restriction for the numeric types, with the additional
        twist that if the length expression has multiple parts, the
        "pattern" facet
        </p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;rng:param name="pattern"&gt;...&lt;/rng:param&gt;
</pre></div><p>

        if there is any, must be repeated inside each copy of the
        &lt;rng:data&gt; element, i.e., for each length part.
</p>
<a name="derived-types"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.50.10"></a><h3>10.50.10.&nbsp;
Derived Types</h3>

<p>If the 'type' statement refers to a derived type, it is
        mapped in one of the following ways depending on whether it
        contains any restrictions as its substatements:
        </p>
<ol class="text">
<li>Without restrictions, the 'type' statement is mapped
          simply to the &lt;rng:ref&gt; element, i.e., a reference to
          a named pattern. If the RELAX NG definition of this named
          pattern has not been added to the output schema yet, the
          corresponding 'typedef' must be found and its mapping
          installed as a subelement of &lt;rng:grammar&gt;, see <a class='info' href='#typedef-stmt'>Section&nbsp;10.51<span> (</span><span class='info'>The typedef Statement</span><span>)</span></a>. Even if a given derived type is
          used more than once in the input YANG modules, the mapping
          of the corresponding 'typedef' MUST be installed only
          once.
</li>
<li>If any restrictions are present, the base type for the
          given derived type must be determined and the mapping of
          this base type is used. Restrictions appearing at all stages
          of the derivation chain must be taken into account and their
          conjunction added to the &lt;rng:data&gt; element which
          defines the basic type.
</li>
</ol>

<p>See <a class='info' href='#chtypes'>Section&nbsp;7.2.2<span> (</span><span class='info'>Type derivation chains</span><span>)</span></a> for more details and an
	example.
</p>
<a name="typedef-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.51"></a><h3>10.51.&nbsp;
The typedef Statement</h3>

<p>This statement is mapped to a RELAX NG named pattern
      definition &lt;rng:define&gt;, but only if the type defined by
      this statement is used <em>without
      restrictions</em> in at least one of the input modules. In
      this case, the named pattern definition becomes a child of the
      &lt;rng:grammar&gt; element and its name is ARGUMENT mangled
      according to the rules specified in <a class='info' href='#grouping-typedef'>Section&nbsp;7.2<span> (</span><span class='info'>Mapping YANG Groupings and Typedefs</span><span>)</span></a>.
</p>
<p>Whenever a derived type is used with additional restrictions,
      the the base type for the derived type is used instead with
      restrictions (facets) that are a combination of all restrictions
      specified along the type derivation chain. See <a class='info' href='#derived-types'>Section&nbsp;10.50.10<span> (</span><span class='info'>Derived Types</span><span>)</span></a> for further details and an example.
</p>
<p>An implementation MAY offer the option of recording all
      'typedef' statements as named patterns in the output RELAX NG
      schema even if they are not referenced. This is useful for
      mapping YANG "library" modules containing only 'typedef' and/or
      'grouping' statements.
</p>
<a name="unique-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.52"></a><h3>10.52.&nbsp;
The unique Statement</h3>

<p>This statement is mapped to @nma:unique attribute and
      ARGUMENT becomes its value.
</p>
<a name="units-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.53"></a><h3>10.53.&nbsp;
The units Statement</h3>

<p>This statement is mapped to @nma:units attribute and ARGUMENT
      becomes its value.
</p>
<a name="uses-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.54"></a><h3>10.54.&nbsp;
The uses Statement</h3>

<p>If this statement has neither 'refine' nor 'augment'
      substatements, it is mapped to &lt;rng:ref&gt; element and the
      value of its @name attribute is set to ARGUMENT mangled
      according to <a class='info' href='#grouping-typedef'>Section&nbsp;7.2<span> (</span><span class='info'>Mapping YANG Groupings and Typedefs</span><span>)</span></a>
</p>
<p>If there are any 'refine' or 'augment' substatements, the
      corresponding grouping must be looked up and its contents is
      inserted as children of PARENT. See <a class='info' href='#refine-augment'>Section&nbsp;7.2.1<span> (</span><span class='info'>YANG Refinements and Augments</span><span>)</span></a> for further details and an
      example.
</p>
<a name="value-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.55"></a><h3>10.55.&nbsp;
The value Statement</h3>

<p>This statement is ignored.
</p>
<a name="when-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.56"></a><h3>10.56.&nbsp;
The when Statement</h3>

<p>This statement is mapped to @nma:when attribute and ARGUMENT
     becomes it value.
</p>
<a name="yang-version-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.57"></a><h3>10.57.&nbsp;
The yang-version Statement</h3>

<p>This statement is not mapped to the output schema. However,
      an implementation SHOULD check that it is compatible with the
      YANG version declared by the statement (currently
      version&#xA0;1).
</p>
<a name="yin-element-stmt"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10.58"></a><h3>10.58.&nbsp;
The yin-element Statement</h3>

<p>This statement is not mapped to the output schema, but see
      the rules for extension handling in <a class='info' href='#extensions'>Section&nbsp;7.4<span> (</span><span class='info'>YANG Language Extensions</span><span>)</span></a>.
</p>
<a name="nma-to-schdsrl"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Mapping NETMOD-specific annotations to Schematron
                  and DSRL</h3>

<p>TBD
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
IANA Considerations</h3>

<p>This document registers two namespace URIs in the IETF XML
    registry <a class='info' href='#RFC3688'>[21]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
URI: urn:ietf:params:xml:ns:netmod:dsdl-annotations:1
</pre></div><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
URI: urn:ietf:params:xml:ns:netmod:conceptual-tree:1
</pre></div>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.&nbsp;References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC4741">[1]</a></td>
<td class="author-text">Enns, R., &ldquo;<a href="http://tools.ietf.org/html/rfc4741">NETCONF Configuration Protocol</a>,&rdquo; RFC&nbsp;4741, December&nbsp;2006 (<a href="http://www.ietf.org/rfc/rfc4741.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1157">[2]</a></td>
<td class="author-text">Case, J., Fedor, M., Schoffstall, M., and J. Davin, &ldquo;<a href="http://tools.ietf.org/html/rfc1157">Simple Network Management Protocol (SNMP)</a>,&rdquo; STD&nbsp;15, RFC&nbsp;1157, May&nbsp;1990 (<a href="http://www.ietf.org/rfc/rfc1157.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2578">[3]</a></td>
<td class="author-text">McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;<a href="http://tools.ietf.org/html/rfc2578">Structure of Management Information
        Version 2 (SMIv2)</a>,&rdquo; STD&nbsp;58, RFC&nbsp;2578, April&nbsp;1999 (<a href="fttp://www.ietf.org/rfc/rfc2578.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3216">[4]</a></td>
<td class="author-text">Elliott, C., Harrington, D., Jason, J., Schoenwaelder, J., Strauss, F., and W. Weiss, &ldquo;<a href="http://tools.ietf.org/html/rfc3216">SMIng Objectives</a>,&rdquo; RFC&nbsp;3216, December&nbsp;2001 (<a href="http://www.ietf.org/rfc/rfc3216.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="YANG">[5]</a></td>
<td class="author-text">Bjorklund, M., Ed., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-netmod-yang-03.txt">YANG - A data modeling language for NETCONF</a>,&rdquo; draft-ietf-netmod-yang-03 (work in progress), January&nbsp;2009 (<a href="http://tools.ietf.org/html/draft-ietf-netmod-yang-03">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="DSDL">[6]</a></td>
<td class="author-text">ISO/IEC, &ldquo;<a href="http://www.dsdl.org/0567.pdf">Document Schema Definition Languages (DSDL) - Part 1:
        Overview</a>,&rdquo; ISO/IEC&nbsp;19757-1, 11&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[7]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to
	Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="ftp://ftp.isi.edu/in-notes/rfc2119.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RNG-DTD">[8]</a></td>
<td class="author-text">Clark, J., Ed. and M. Murata, Ed., &ldquo;<a href="http://relaxng.org/compatibility-20011203.html">RELAX NG DTD Compatibility</a>,&rdquo; OASIS Committee Specification&nbsp;3 December 2001, December&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="DSRL">[9]</a></td>
<td class="author-text">ISO/IEC, &ldquo;<a href="http://www.dsdl.org/0792.pdf">Information Technology - Document Schema Definition
        Languages (DSDL) - Part 8: Document Semantics Renaming
        Language - DSRL</a>,&rdquo; ISO/IEC&nbsp;19757-8:2008(E), 12&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RNG">[10]</a></td>
<td class="author-text">ISO/IEC, &ldquo;<a href="http://http://standards.iso.org/ittf/PubliclyAvailableStandards/c052348_ISO_IEC_19757-2_2008(E).zip">Information Technology - Document Schema Definition
        Languages (DSDL) - Part 2: Regular-Grammar-Based Validation -
        RELAX NG. Second Edition.</a>,&rdquo; ISO/IEC&nbsp;19757-2:2008(E), 12&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="Schematron">[11]</a></td>
<td class="author-text">ISO/IEC, &ldquo;<a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c040833_ISO_IEC_19757-3_2006(E).zip">Information Technology - Document Schema Definition
        Languages (DSDL) - Part 3: Rule-Based Validation -
        Schematron</a>,&rdquo; ISO/IEC&nbsp;19757-3:2006(E), 6&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="XSD">[12]</a></td>
<td class="author-text">Thompson, H., Beech, D., Maloney, M., and N. Mendelsohn, &ldquo;<a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028">XML Schema Part 1: Structures Second Edition</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xmlschema-1-20041028, October&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-xmlschema-1-20041028">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XML">[13]</a></td>
<td class="author-text">Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;<a href="http://www.w3.org/TR/2006/REC-xml-20060816">Extensible Markup Language (XML) 1.0 (Fourth Edition)</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xml-20060816, August&nbsp;2006 (<a href="http://www.w3.org/TR/2006/REC-xml-20060816">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XSD-D">[14]</a></td>
<td class="author-text">Biron, P. and A. Malhotra, &ldquo;<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028">XML Schema Part 2: Datatypes Second Edition</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xmlschema-2-20041028, October&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-xmlschema-2-20041028">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RNG-CS">[15]</a></td>
<td class="author-text">ISO/IEC, &ldquo;<a href="http://standards.iso.org/ittf/PubliclyAvailableStandards/c040774_ISO_IEC_19757-2_2003_Amd_1_2006(E).zip">Information Technology - Document Schema Definition
        Languages (DSDL) - Part 2: Regular-Grammar-Based Validation -
        RELAX NG. AMENDMENT 1: Compact Syntax</a>,&rdquo; ISO/IEC&nbsp;19757-2:2003/Amd. 1:2006(E), 1&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="XPath">[16]</a></td>
<td class="author-text">Clark, J. and S. DeRose, &ldquo;<a href="http://www.w3.org/TR/1999/REC-xpath-19991116">XML Path Language (XPath) Version 1.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xpath-19991116, November&nbsp;1999 (<a href="http://www.w3.org/TR/1999/REC-xpath-19991116">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="XSLT">[17]</a></td>
<td class="author-text">Clark, J., &ldquo;<a href="http://www.w3.org/TR/1999/REC-xslt-19991116">XSL Transformations (XSLT) Version 1.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xslt-19991116, November&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5013">[18]</a></td>
<td class="author-text">Kunze, J., &ldquo;<a href="http://tools.ietf.org/html/rfc5013">The Dublin Core Metadata Element Set</a>,&rdquo; RFC&nbsp;5013, August&nbsp;2007 (<a href="http://www.ietf.org/rfc/rfc5013.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Ytypes">[19]</a></td>
<td class="author-text">Schoenwaelder, J., Ed., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-netmod-yang-types-01.txt">Common YANG Data Types</a>,&rdquo; draft-ietf-netmod-yang-types-01 (work in progress), November&nbsp;2008 (<a href="http://tools.ietf.org/html/draft-ietf-netmod-yang-types-01">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="Vli04">[20]</a></td>
<td class="author-text">van der Vlist, E., &ldquo;<a href="http://books.xmlschemata.org/relaxng/">RELAX NG</a>,&rdquo; O'Reilly&nbsp;, 2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[21]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="ftp://ftp.isi.edu/in-notes/rfc3688.txt">TXT</a>).</td></tr>
</table>

<a name="nma-schema"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
RELAX NG Schema for NETMOD-specific Annotations</h3>

<p>This appendix contains the RELAX NG schema for the
    NETMOD-specific annotations in both XML and compact syntax.
</p>
<p>[Editor's note: It is currently only a set of named pattern
    definitions as templates for the annotation elements and
    attributes. We should find a way how to connect this to the schema
    for RELAX NG, which these annotations extend. One option may be
    NVDL or it can also be done as in the spec for DTD compatibility
    annotations.]
</p>
<a name="nma-schema-xml"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
XML Syntax</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;grammar xmlns="http://relaxng.org/ns/structure/1.0"
ns="urn:ietf:params:xml:ns:netmod:dsdl-annotations:1"
datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"&gt;

&lt;define name="config-attribute"&gt;
  &lt;attribute name="config"&gt;
    &lt;data type="boolean"/&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="default-attribute"&gt;
  &lt;attribute name="default"/&gt;
&lt;/define&gt;

&lt;define name="default-case-attribute"&gt;
  &lt;attribute name="default-case"&gt;
    &lt;data type="boolean"/&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="error-app-tag-element"&gt;
  &lt;optional&gt;
    &lt;element name="error-app-tag"&gt;
      &lt;text/&gt;
    &lt;/element&gt;
  &lt;/optional&gt;
&lt;/define&gt;

&lt;define name="error-message-element"&gt;
  &lt;optional&gt;
    &lt;element name="error-message"&gt;
      &lt;text/&gt;
    &lt;/element&gt;
  &lt;/optional&gt;
&lt;/define&gt;

&lt;define name="instance-identifier-element"&gt;
  &lt;element name="instance-identifier"&gt;
    &lt;optional&gt;
      &lt;attribute name="require-instance"&gt;
        &lt;data type="boolean"/&gt;
      &lt;/attribute&gt;
    &lt;/optional&gt;
  &lt;/element&gt;
&lt;/define&gt;

&lt;define name="key-attribute"&gt;
  &lt;attribute name="key"&gt;
    &lt;list&gt;
      &lt;data type="QName"/&gt;
    &lt;/list&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="leafref-element"&gt;
  &lt;element name="leafref"&gt;
    &lt;optional&gt;
      &lt;attribute name="require-instance"&gt;
        &lt;data type="boolean"/&gt;
      &lt;/attribute&gt;
    &lt;/optional&gt;
    &lt;data type="string"/&gt;
  &lt;/element&gt;
&lt;/define&gt;

&lt;define name="min-elements-attribute"&gt;
  &lt;attribute name="min-elements"&gt;
    &lt;data type="integer"/&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="max-elements-attribute"&gt;
  &lt;attribute name="max-elements"&gt;
    &lt;data type="integer"/&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="must-element"&gt;
  &lt;element name="must"&gt;
    &lt;attribute name="assert"&gt;
      &lt;data type="string"/&gt;
    &lt;/attribute&gt;
    &lt;interleave&gt;
      &lt;ref name="err-app-tag-element"/&gt;
      &lt;ref name="err-message-element"/&gt;
    &lt;/interleave&gt;
  &lt;/element&gt;
&lt;/define&gt;

&lt;define name="ordered-by-attribute"&gt;
  &lt;attribute name="ordered-by"&gt;
    &lt;choice&gt;
      &lt;value&gt;user&lt;/value&gt;
      &lt;value&gt;system&lt;/value&gt;
    &lt;/choice&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="status-attribute"&gt;
  &lt;attribute name="status"&gt;
    &lt;choice&gt;
      &lt;value&gt;current&lt;/value&gt;
      &lt;value&gt;deprecated&lt;/value&gt;
      &lt;value&gt;obsolete&lt;/value&gt;
    &lt;/choice&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="unique-attribute"&gt;
  &lt;attribute name="unique"&gt;
    &lt;list&gt;
      &lt;data type="string"/&gt;
    &lt;/list&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="units-attribute"&gt;
  &lt;attribute name="units"&gt;
    &lt;data type="string"/&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;define name="when-attribute"&gt;
  &lt;attribute name="when"&gt;
    &lt;data type="string"/&gt;
  &lt;/attribute&gt;
&lt;/define&gt;

&lt;/grammar&gt;

</pre></div>
<a name="nma-schema-compact"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
Compact Syntax</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
default namespace =
    "urn:ietf:params:xml:ns:netmod:dsdl-annotations:1"

config-attribute = attribute config { xsd:boolean }
default-attribute = attribute default { text }
default-case-attribute = attribute default-case { xsd:boolean }
error-app-tag-element = element error-app-tag { text }?
error-message-element = element error-message { text }?
instance-identifier-element =
  element instance-identifier {
    attribute require-instance { xsd:boolean }?
  }
key-attribute =
  attribute key {
    list { xsd:QName }
  }
leafref-element =
  element leafref {
    attribute require-instance { xsd:boolean }?,
    xsd:string
  }
min-elements-attribute = attribute min-elements { xsd:integer }
max-elements-attribute = attribute max-elements { xsd:integer }
must-element =
  element must {
    attribute assert { xsd:string },
    (err-app-tag-element &amp; err-message-element)
  }
ordered-by-attribute = attribute ordered-by { "user" | "system" }
status-attribute =
  attribute status { "current" | "deprecated" | "obsolete" }
unique-attribute =
  attribute unique {
    list { xsd:string }
  }
units-attribute = attribute units { xsd:string }
when-attribute = attribute when { xsd:string }

</pre></div>
<a name="app-schlib"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Schematron Library</h3>

<p>This appendix contains the schema-independent library of
    Schematron abstract patterns.
</p>
<p>[Editor's note: It is incomplete.]
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;!-- Uniqueness of list keys --&gt;
&lt;sch:pattern abstract="true" id="key"&gt;
  &lt;sch:rule context="$context"&gt;
    &lt;sch:assert test="count($context[$key=current()/$key])=1"&gt;
      The key "&lt;value-of select="$key"/&gt;" needs to be unique
      within the list at: &lt;value-of select="$context"/&gt;.
    &lt;/sch:assert&gt;
  &lt;/sch:rule&gt;
&lt;/sch:pattern&gt;

&lt;!-- Check of listref target --&gt;
&lt;sch:pattern abstract="true" id="keyref"&gt;
  &lt;sch:rule context="$keyref-context"&gt;
    &lt;sch:assert test="$key-context[$key=current()]"&gt;
      The contents of "&lt;value-of select="$keyref-context"/&gt;"
      must be a '&lt;/name&gt;' with the key
      "&lt;value-of select="$key"/&gt;" in this context:
      &lt;value-of select="$key-context"/&gt;.
    &lt;/sch:assert&gt;
  &lt;/sch:rule&gt;
&lt;/sch:pattern&gt;
</pre></div>
<a name="app-dhcp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Translation of the DHCP Data Model</h3>

<p>This appendix demonstrates output of the YANG->DSDL mapping
    algorithm applied to the "canonical" <a href='http://www.yang-central.org/twiki/bin/view/Main/DhcpTutorial'>DHCP
    tutorial</a> data model.
</p>
<p><a class='info' href='#app-dhcp-xml'>Appendix&nbsp;C.1<span> (</span><span class='info'>XML Syntax</span><span>)</span></a> shows the result of the mapping
    algorithm in the RELAX NG XML syntax and <a class='info' href='#app-dhcp-comp'>Appendix&nbsp;C.2<span> (</span><span class='info'>Compact Syntax</span><span>)</span></a> the same in the compact syntax, which was
    obtained using the <a href='http://thaiopensource.com/relaxng/trang.html'>Trang
    tool</a>.
</p>
<p>The long regular expressions for IP addresses etc. that would
    exceed the limit of 72 characters per line were trimmed. Other
    than that, the results of the automatic translations were not
    changed.
</p>
<a name="app-dhcp-xml"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.1"></a><h3>C.1.&nbsp;
XML Syntax</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;grammar
    xmlns="http://relaxng.org/ns/structure/1.0"
    xmlns:a="http://relaxng.org/ns/compatibility/annotations/1.0"
    xmlns:dc="http://purl.org/dc/terms"
    xmlns:dhcp="http://example.com/ns/dhcp"
    xmlns:nma="urn:ietf:params:xml:ns:netmod:rng-annot:1"
    xmlns:nmt="urn:ietf:params:xml:ns:netmod:tree:1"
    datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"&gt;
  &lt;dc:creator&gt;Pyang 0.9.3, RELAX NG plugin&lt;/dc:creator&gt;
  &lt;dc:source&gt;YANG module 'dhcp'&lt;/dc:source&gt;
  &lt;start&gt;
    &lt;element name="nmt:netmod-tree"&gt;
      &lt;element name="nmt:top"&gt;
        &lt;interleave&gt;
          &lt;optional&gt;
            &lt;element name="dhcp:dhcp"&gt;
              &lt;a:documentation&gt;configuration and operational
              parameters for a DHCP server.&lt;/a:documentation&gt;
              &lt;optional&gt;
                &lt;element name="dhcp:max-lease-time"
                         nma:default="7200"
                         nma:units="seconds"&gt;
                  &lt;data type="unsignedInt"/&gt;
                &lt;/element&gt;
              &lt;/optional&gt;
              &lt;optional&gt;
                &lt;element name="dhcp:default-lease-time"
                         nma:default="600"
                         nma:units="seconds"&gt;
                  &lt;data type="unsignedInt"/&gt;
                  &lt;nma:must
                      assert="current() &amp;lt;= ../max-lease-time"&gt;
                    &lt;nma:error-message&gt;The default-lease-time must be
                    less than max-lease-time&lt;/nma:error-message&gt;
                  &lt;/nma:must&gt;
                &lt;/element&gt;
              &lt;/optional&gt;
              &lt;ref name="dhcp__subnet-list"/&gt;
              &lt;optional&gt;
                &lt;element name="dhcp:shared-networks"&gt;
                  &lt;zeroOrMore&gt;
                    &lt;element name="dhcp:shared-network"
                             nma:key="name"&gt;
                      &lt;element name="dhcp:name"&gt;
                        &lt;data type="string"/&gt;
                      &lt;/element&gt;
                      &lt;ref name="dhcp__subnet-list"/&gt;
                    &lt;/element&gt;
                  &lt;/zeroOrMore&gt;
                &lt;/element&gt;
              &lt;/optional&gt;
              &lt;optional&gt;
                &lt;element name="dhcp:status"
                         nma:config="false"&gt;
                  &lt;zeroOrMore&gt;
                    &lt;element name="dhcp:leases"
                             nma:key="address"&gt;
                      &lt;element name="dhcp:address"&gt;
                        &lt;ref name="inet-types__ip-address"/&gt;
                      &lt;/element&gt;
                      &lt;optional&gt;
                        &lt;element name="dhcp:starts"&gt;
                          &lt;ref name="yang-types__date-and-time"/&gt;
                        &lt;/element&gt;
                      &lt;/optional&gt;
                      &lt;optional&gt;
                        &lt;element name="dhcp:ends"&gt;
                          &lt;ref name="yang-types__date-and-time"/&gt;
                        &lt;/element&gt;
                      &lt;/optional&gt;
                      &lt;optional&gt;
                        &lt;element name="dhcp:hardware"&gt;
                          &lt;optional&gt;
                            &lt;element name="dhcp:type"&gt;
                              &lt;choice&gt;
                                &lt;value&gt;ethernet&lt;/value&gt;
                                &lt;value&gt;token-ring&lt;/value&gt;
                                &lt;value&gt;fddi&lt;/value&gt;
                              &lt;/choice&gt;
                            &lt;/element&gt;
                          &lt;/optional&gt;
                          &lt;optional&gt;
                            &lt;element name="dhcp:address"&gt;
                              &lt;ref name="yang-types__phys-address"/&gt;
                            &lt;/element&gt;
                          &lt;/optional&gt;
                        &lt;/element&gt;
                      &lt;/optional&gt;
                    &lt;/element&gt;
                  &lt;/zeroOrMore&gt;
                &lt;/element&gt;
              &lt;/optional&gt;
            &lt;/element&gt;
          &lt;/optional&gt;
        &lt;/interleave&gt;
      &lt;/element&gt;
      &lt;element name="nmt:rpc-methods"&gt;
        &lt;empty/&gt;
      &lt;/element&gt;
      &lt;element name="nmt:notifications"&gt;
        &lt;empty/&gt;
      &lt;/element&gt;
    &lt;/element&gt;
  &lt;/start&gt;
  &lt;define name="dhcp__subnet-list"&gt;
    &lt;a:documentation&gt;A reusable list of subnets&lt;/a:documentation&gt;
    &lt;zeroOrMore&gt;
      &lt;element name="dhcp:subnet" nma:key="net"&gt;
        &lt;element name="dhcp:net"&gt;
          &lt;ref name="inet-types__ip-prefix"/&gt;
        &lt;/element&gt;
        &lt;optional&gt;
          &lt;element name="dhcp:range"&gt;
            &lt;optional&gt;
              &lt;element name="dhcp:dynamic-bootp"&gt;
                &lt;a:documentation&gt;Allows BOOTP clients to get addresses
                in this range&lt;/a:documentation&gt;
                &lt;empty/&gt;
              &lt;/element&gt;
            &lt;/optional&gt;
            &lt;element name="dhcp:low"&gt;
              &lt;ref name="inet-types__ip-address"/&gt;
            &lt;/element&gt;
            &lt;element name="dhcp:high"&gt;
              &lt;ref name="inet-types__ip-address"/&gt;
            &lt;/element&gt;
          &lt;/element&gt;
        &lt;/optional&gt;
        &lt;optional&gt;
          &lt;element name="dhcp:dhcp-options"&gt;
            &lt;a:documentation&gt;Options in the DHCP
            protocol&lt;/a:documentation&gt;
            &lt;zeroOrMore&gt;
              &lt;element name="dhcp:router"
                       nma:ordered-by="user"&gt;
                &lt;ref name="inet-types__host"/&gt;
                &lt;a:documentation&gt;See: RFC 2132,
                sec. 3.8&lt;/a:documentation&gt;
              &lt;/element&gt;
            &lt;/zeroOrMore&gt;
            &lt;optional&gt;
              &lt;element name="dhcp:domain-name"&gt;
                &lt;ref name="inet-types__domain-name"/&gt;
                &lt;a:documentation&gt;See: RFC 2132,
                sec. 3.17&lt;/a:documentation&gt;
              &lt;/element&gt;
            &lt;/optional&gt;
          &lt;/element&gt;
        &lt;/optional&gt;
        &lt;optional&gt;
          &lt;element name="dhcp:max-lease-time"
                   nma:default="7200"
                   nma:units="seconds"&gt;
            &lt;data type="unsignedInt"/&gt;
          &lt;/element&gt;
        &lt;/optional&gt;
      &lt;/element&gt;
    &lt;/zeroOrMore&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__ip-prefix"&gt;
    &lt;choice&gt;
      &lt;ref name="inet-types__ipv4-prefix"/&gt;
      &lt;ref name="inet-types__ipv6-prefix"/&gt;
    &lt;/choice&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__ipv4-prefix"&gt;
    &lt;data type="string"&gt;
      &lt;param name="pattern"&gt;... removed ...&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__ipv6-prefix"&gt;
    &lt;data type="string"&gt;
      &lt;param name="pattern"&gt;... removed ...&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__ip-address"&gt;
    &lt;choice&gt;
      &lt;ref name="inet-types__ipv4-address"/&gt;
      &lt;ref name="inet-types__ipv6-address"/&gt;
    &lt;/choice&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__ipv4-address"&gt;
    &lt;data type="string"&gt;
      &lt;param name="pattern"&gt;... removed ...&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__ipv6-address"&gt;
    &lt;data type="string"&gt;
      &lt;param name="pattern"&gt;... removed ...&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__host"&gt;
    &lt;choice&gt;
      &lt;ref name="inet-types__ip-address"/&gt;
      &lt;ref name="inet-types__domain-name"/&gt;
    &lt;/choice&gt;
  &lt;/define&gt;
  &lt;define name="inet-types__domain-name"&gt;
    &lt;data type="string"&gt;
      &lt;param name="pattern"&gt;... removed ...&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;
  &lt;define name="yang-types__date-and-time"&gt;
    &lt;data type="string"&gt;
      &lt;param name="pattern"&gt;... removed ...&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;
  &lt;define name="yang-types__phys-address"&gt;
    &lt;data type="string"&gt;
      &lt;param name="pattern"&gt;... removed ...&lt;/param&gt;
    &lt;/data&gt;
  &lt;/define&gt;
&lt;/grammar&gt;
</pre></div>
<a name="app-dhcp-comp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C.2"></a><h3>C.2.&nbsp;
Compact Syntax</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
namespace a = "http://relaxng.org/ns/compatibility/annotations/1.0"
namespace dc = "http://purl.org/dc/terms"
namespace dhcp = "http://example.com/ns/dhcp"
namespace nma = "urn:ietf:params:xml:ns:netmod:rng-annot:1"
namespace nmt = "urn:ietf:params:xml:ns:netmod:tree:1"

dc:creator [ "Pyang 0.9.3, RELAX NG plugin" ]
dc:source [ "YANG module 'dhcp'" ]
start =
  element nmt:netmod-tree {
    element nmt:top {

      ## configuration and operational parameters for a DHCP server.
      element dhcp:dhcp {
        [ nma:default = "7200" nma:units = "seconds" ]
        element dhcp:max-lease-time { xsd:unsignedInt }?,
        [ nma:default = "600" nma:units = "seconds" ]
        element dhcp:default-lease-time {
          xsd:unsignedInt
          &gt;&gt; nma:must [
               assert = "current() &lt;= ../max-lease-time"
               nma:error-message [
                 "The default-lease-time must be less
                  than max-lease-time"
               ]
             ]
        }?,
        dhcp__subnet-list,
        element dhcp:shared-networks {
          [ nma:key = "name" ]
          element dhcp:shared-network {
            element dhcp:name { xsd:string },
            dhcp__subnet-list
          }*
        }?,
        [ nma:config = "false" ]
        element dhcp:status {
          [ nma:key = "address" ]
          element dhcp:leases {
            element dhcp:address { inet-types__ip-address },
            element dhcp:starts { yang-types__date-and-time }?,
            element dhcp:ends { yang-types__date-and-time }?,
            element dhcp:hardware {
              element dhcp:type { "ethernet" | "token-ring" | "fddi" }?,
              element dhcp:address { yang-types__phys-address }?
            }?
          }*
        }?
      }?
    },
    element nmt:rpc-methods { empty },
    element nmt:notifications { empty }
  }

## A reusable list of subnets
dhcp__subnet-list =
  [ nma:key = "net" ]
  element dhcp:subnet {
    element dhcp:net { inet-types__ip-prefix },
    element dhcp:range {

      ## Allows BOOTP clients to get addresses in this range
      element dhcp:dynamic-bootp { empty }?,
      element dhcp:low { inet-types__ip-address },
      element dhcp:high { inet-types__ip-address }
    }?,

    ## Options in the DHCP protocol
    element dhcp:dhcp-options {
      [ nma:ordered-by = "user" ]
      element dhcp:router {
        inet-types__host
        &gt;&gt; a:documentation [ "See: RFC 2132, sec. 3.8" ]
      }*,
      element dhcp:domain-name {
        inet-types__domain-name
        &gt;&gt; a:documentation [ "See: RFC 2132, sec. 3.17" ]
      }?
    }?,
    [ nma:default = "7200" nma:units = "seconds" ]
    element dhcp:max-lease-time { xsd:unsignedInt }?
  }*
inet-types__ip-prefix =
  inet-types__ipv4-prefix | inet-types__ipv6-prefix
inet-types__ipv4-prefix =
  xsd:string {
    pattern = "... removed ..."
  }
inet-types__ipv6-prefix =
  xsd:string {
    pattern = "... removed ..."
  }
inet-types__ip-address =
  inet-types__ipv4-address | inet-types__ipv6-address
inet-types__ipv4-address =
  xsd:string {
    pattern = "... removed ..."
  }
inet-types__ipv6-address =
  xsd:string {
    pattern = "... removed ..."
  }
inet-types__host = inet-types__ip-address | inet-types__domain-name
inet-types__domain-name =
  xsd:string {
    pattern = "... removed ..."
  }
yang-types__date-and-time =
  xsd:string {
    pattern = "... removed ..."
  }
yang-types__phys-address =
  xsd:string {
    pattern = "([0-9a0-fA-F]{2}(:[0-9a0-fA-F]{2})*)?"
  }
</pre></div>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ladislav Lhotka</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CESNET</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:lhotka@cesnet.cz">lhotka@cesnet.cz</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Rohan Mahy</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Plantronics</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rohan@ekabal.com">rohan@ekabal.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sharon Chisholm</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nortel</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:schishol@nortel.com">schishol@nortel.com</a></td></tr>
</table>
</body></html>
