<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>RTC-Web Communications Protocols</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Protocol Requirements">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Connection Management Requirements">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Signaling Protocol Requirements">
<link href="#rfc.section.3.2.1" rel="Chapter" title="3.2.1 Client Application SIP Requirements">
<link href="#rfc.section.3.2.2" rel="Chapter" title="3.2.2 Client Application Optional SIP Support">
<link href="#rfc.section.3.2.3" rel="Chapter" title="3.2.3 Required SIP Methods">
<link href="#rfc.section.3.2.4" rel="Chapter" title="3.2.4 Multipart SIP Message Requirements">
<link href="#rfc.section.3.2.5" rel="Chapter" title="3.2.5 SIP Identity Requirements">
<link href="#rfc.section.3.2.6" rel="Chapter" title="3.2.6 SIP Network Address Traversal">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Codec Requirements">
<link href="#rfc.section.3.3.1" rel="Chapter" title="3.3.1 Audio Codec Requirements">
<link href="#rfc.section.3.3.2" rel="Chapter" title="3.3.2 Video Codec Requirements">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 Real-Time Media Transport Requirements">
<link href="#rfc.section.3.4.1" rel="Chapter" title="3.4.1 RTP Profile">
<link href="#rfc.section.3.4.1.1" rel="Chapter" title="3.4.1.1 Profile Encryption Mechanism">
<link href="#rfc.section.3.4.2" rel="Chapter" title="3.4.2 RTP Optimizations">
<link href="#rfc.section.3.4.2.1" rel="Chapter" title="3.4.2.1 RTP and RTCP Multiplexing">
<link href="#rfc.section.3.4.2.2" rel="Chapter" title="3.4.2.2 Reduced-Size RTCP">
<link href="#rfc.section.3.4.2.3" rel="Chapter" title="3.4.2.3 Symmetric RTP/RTCP">
<link href="#rfc.section.3.4.2.4" rel="Chapter" title="3.4.2.4 CNAME Generation">
<link href="#rfc.section.3.4.3" rel="Chapter" title="3.4.3 RTP Extensions">
<link href="#rfc.section.3.4.3.1" rel="Chapter" title="3.4.3.1 Conferencing Extensions">
<link href="#rfc.section.3.4.3.1.1" rel="Chapter" title="3.4.3.1.1 FIR RTCP Feedback Message">
<link href="#rfc.section.3.4.3.1.2" rel="Chapter" title="3.4.3.1.2 PLI RTCP Feedback Message">
<link href="#rfc.section.3.4.3.1.3" rel="Chapter" title="3.4.3.1.3 TMMBR RTCP Feedback Message">
<link href="#rfc.section.3.4.3.2" rel="Chapter" title="3.4.3.2 Header Extensions">
<link href="#rfc.section.3.4.3.2.1" rel="Chapter" title="3.4.3.2.1 Rapid Synchronization">
<link href="#rfc.section.3.4.4" rel="Chapter" title="3.4.4 RTP Transport Robustness">
<link href="#rfc.section.3.4.4.1" rel="Chapter" title="3.4.4.1 RTP Retransmission">
<link href="#rfc.section.3.4.4.2" rel="Chapter" title="3.4.4.2 Forward Error Correction">
<link href="#rfc.section.3.4.4.3" rel="Chapter" title="3.4.4.3 Multicast">
<link href="#rfc.section.3.4.5" rel="Chapter" title="3.4.5 RTP Rate Control">
<link href="#rfc.section.3.5" rel="Chapter" title="3.5 Non-Media Data Transport Requirements">
<link href="#rfc.section.3.5.1" rel="Chapter" title="3.5.1 Non-Media Data In RTP">
<link href="#rfc.section.3.5.2" rel="Chapter" title="3.5.2 Transporting Non-Media Data">
<link href="#rfc.section.3.5.2.1" rel="Chapter" title="3.5.2.1 Proposed Solutions for Non-Media Data Transport">
<link href="#rfc.section.4" rel="Chapter" title="4 API Requirements">
<link href="#rfc.section.5" rel="Chapter" title="5 Legacy VoIP Interoperability">
<link href="#rfc.section.6" rel="Chapter" title="6 IANA Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 Security Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="The real time communications web (RTC-Web) will enable applications such as web browsers to natively support real time interactive voice and video. This document outlines the communication protocols for realizing RTC-Web functionality within applications such as web browsers. In addition to communications protocols, this document proposes a set of application programming interface requirements for controlling the protocol stack." />
  <meta name="description" content="The real time communications web (RTC-Web) will enable applications such as web browsers to natively support real time interactive voice and video. This document outlines the communication protocols for realizing RTC-Web functionality within applications such as web browsers. In addition to communications protocols, this document proposes a set of application programming interface requirements for controlling the protocol stack." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">C. Bran</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">C. Jennings</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left">Expires: December 08, 2011</td>
<td class="right">June 06, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">RTC-Web Communications Protocols<br />
  <span class="filename">draft-cbran-rtcweb-protocols-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>The real time communications web (RTC-Web) will enable applications such as web browsers to natively support real time interactive voice and video. This document outlines the communication protocols for realizing RTC-Web functionality within applications such as web browsers. In addition to communications protocols, this document proposes a set of application programming interface requirements for controlling the protocol stack.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 08, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>
<p>This document may not be modified, and derivative works of it may not be created, and it may not be published except as an Internet-Draft.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Protocol Requirements</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Connection Management Requirements</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Signaling Protocol Requirements</a>
</li>
<li>3.2.1.   <a href="#rfc.section.3.2.1">Client Application SIP Requirements</a>
</li>
<li>3.2.2.   <a href="#rfc.section.3.2.2">Client Application Optional SIP Support</a>
</li>
<li>3.2.3.   <a href="#rfc.section.3.2.3">Required SIP Methods</a>
</li>
<li>3.2.4.   <a href="#rfc.section.3.2.4">Multipart SIP Message Requirements</a>
</li>
<li>3.2.5.   <a href="#rfc.section.3.2.5">SIP Identity Requirements</a>
</li>
<li>3.2.6.   <a href="#rfc.section.3.2.6">SIP Network Address Traversal</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Codec Requirements</a>
</li>
<li>3.3.1.   <a href="#rfc.section.3.3.1">Audio Codec Requirements</a>
</li>
<li>3.3.2.   <a href="#rfc.section.3.3.2">Video Codec Requirements</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">Real-Time Media Transport Requirements</a>
</li>
<li>3.4.1.   <a href="#rfc.section.3.4.1">RTP Profile</a>
</li>
<li>3.4.1.1.   <a href="#rfc.section.3.4.1.1">Profile Encryption Mechanism</a>
</li>
<li>3.4.2.   <a href="#rfc.section.3.4.2">RTP Optimizations</a>
</li>
<li>3.4.2.1.   <a href="#rfc.section.3.4.2.1">RTP and RTCP Multiplexing</a>
</li>
<li>3.4.2.2.   <a href="#rfc.section.3.4.2.2">Reduced-Size RTCP</a>
</li>
<li>3.4.2.3.   <a href="#rfc.section.3.4.2.3">Symmetric RTP/RTCP</a>
</li>
<li>3.4.2.4.   <a href="#rfc.section.3.4.2.4">CNAME Generation</a>
</li>
<li>3.4.3.   <a href="#rfc.section.3.4.3">RTP Extensions</a>
</li>
<li>3.4.3.1.   <a href="#rfc.section.3.4.3.1">Conferencing Extensions</a>
</li>
<li>3.4.3.1.1.   <a href="#rfc.section.3.4.3.1.1">FIR RTCP Feedback Message</a>
</li>
<li>3.4.3.1.2.   <a href="#rfc.section.3.4.3.1.2">PLI RTCP Feedback Message</a>
</li>
<li>3.4.3.1.3.   <a href="#rfc.section.3.4.3.1.3">TMMBR RTCP Feedback Message</a>
</li>
<li>3.4.3.2.   <a href="#rfc.section.3.4.3.2">Header Extensions</a>
</li>
<li>3.4.3.2.1.   <a href="#rfc.section.3.4.3.2.1">Rapid Synchronization</a>
</li>
<li>3.4.4.   <a href="#rfc.section.3.4.4">RTP Transport Robustness</a>
</li>
<li>3.4.4.1.   <a href="#rfc.section.3.4.4.1">RTP Retransmission</a>
</li>
<li>3.4.4.2.   <a href="#rfc.section.3.4.4.2">Forward Error Correction</a>
</li>
<li>3.4.4.3.   <a href="#rfc.section.3.4.4.3">Multicast</a>
</li>
<li>3.4.5.   <a href="#rfc.section.3.4.5">RTP Rate Control</a>
</li>
<li>3.5.   <a href="#rfc.section.3.5">Non-Media Data Transport Requirements</a>
</li>
<li>3.5.1.   <a href="#rfc.section.3.5.1">Non-Media Data In RTP</a>
</li>
<li>3.5.2.   <a href="#rfc.section.3.5.2">Transporting Non-Media Data</a>
</li>
<li>3.5.2.1.   <a href="#rfc.section.3.5.2.1">Proposed Solutions for Non-Media Data Transport</a>
</li>
<li>4.   <a href="#rfc.section.4">API Requirements</a>
</li>
<li>5.   <a href="#rfc.section.5">Legacy VoIP Interoperability</a>
</li>
<li>6.   <a href="#rfc.section.6">IANA Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">Security Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">Acknowledgements</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">The Internet was, from very early in its lifetime, considered a possible vehicle for the deployment of real-time, interactive applications - with the most easily imaginable being audio conversations (aka "Internet telephony") and videoconferencing.</p>
<p id="rfc.section.1.p.2">The first attempts to build this were dependent on special networks, special hardware and custom-built software, often at very high prices or at low quality, placing great demands on the infrastructure.</p>
<p id="rfc.section.1.p.3">As the available bandwidth has increased, and as processors and other hardware has become ever faster, the barriers to participation have decreased, and it is possible to deliver a satisfactory experience on commonly available computing hardware.</p>
<p id="rfc.section.1.p.4">Still, there are a number of barriers to the ability to communicate universally - one of these is that there are, as of yet, no single set of communication protocols that all agree should be made available for communication; another is the sheer lack of universal identification systems (such as is served by telephone numbers or email addresses in other communications systems).</p>
<p id="rfc.section.1.p.5">Development of "The Universal Solution" has proved hard, however, for all the usual reasons. This memo aims to take a more building-block- oriented approach, and try to find consensus on a set of substrate components that we think will be useful in any real-time communications systems.</p>
<p id="rfc.section.1.p.6">The last few years have also seen a new platform rise for deployment of services: The browser-embedded application, or "Web application". It turns out that as long as the browser platform has the necessary interfaces, it is possible to deliver almost any kind of service on it.</p>
<p id="rfc.section.1.p.7">Traditionally, these interfaces have been delivered by plugins, which had to be downloaded and installed separately from the browser; in the development of HTML5, much promise is seen by the possibility of making those interfaces available in a standardized way within the browser.</p>
<p id="rfc.section.1.p.8">Other efforts, for instance the W3C Web Applications and Device API working groups, focus on making standardized APIs and interfaces available, within or alongside the HTML5 effort, for those functions; this memo concentrates on specifying the protocols and subprotocols that are needed to specify the interactions that happen across the network.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Terminology</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Protocol Requirements</h1>
<p id="rfc.section.3.p.1">The section defines the set of protocols and selected subset profiles of these protocols that RTC-WEB client applications will need to implement. This set of protocols forms the requirements for the controlling APIs in [Section 4]. At a high level this section is split into five subsections that address requirements for RTC-WEB client application: connection management, signaling protocols, codec requirements, transports for real time media such as audio and video and transports for non media data .</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> Connection Management Requirements</h1>
<p id="rfc.section.3.1.p.1">It is quite probable that many RTC-WEB client applications, such as web browsers will be deployed behind a NAT. To set up secure data plane sessions, all RTC-WEB client application implementations will use ICE <a href="#RFC5245">[RFC5245]</a> or ICE-Lite Section 2.7 of <a href="#RFC5245">[RFC5245]</a>. ICE is leveraged here to address the security concerns discussed in [section] <a href="#Security">Section 7</a>.</p>
<p id="rfc.section.3.1.p.2">There are two deployment scenarios for RTC-WEB client applications.  The first scenario is when applications are deployed behind NAT and have to worry about NAT traversal. The second scenario is when the application is not behind a NAT, such as an RTC-WEB application that is always connected to the public Internet. As stated in section 2.7 of <a href="#RFC5245">[RFC5245]</a>, ICE requires that both endpoints to support it in order for ICE to be used on a call.</p>
<p id="rfc.section.3.1.p.3">With regards to RTC-WEB client applications, all applications that are deployed behind a NAT or do not have a public IP address are REQUIRED to support ICE <a href="#RFC5245">[RFC5245]</a>, applications that are not behind a NAT and have a public IP address are REQUIRED to support ICE-Lite and MAY fully support ICE. RTC-WEB client applications that fully support ICE are REQUIRED to support AGGRESSIVE NOMINATION, and MAY support REGULAR NOMINATION.</p>
<p id="rfc.section.3.1.p.4">Implicit to supporting ICE, all RTC-WEB client applications are REQUIRED to implement Simple Traversal of User Datagram Protocol (UDP) Through Network Address Translators (NATs) (STUN) <a href="#RFC3489">[RFC3489]</a> and Traversal Using Relays around NAT (TURN) <a href="#RFC5766">[RFC5766]</a>.</p>
<p id="rfc.section.3.1.p.5">[Open Issue: there is a strong interest to define a TURN-like protocol that looks like HTTP to intermediaries, so that media can be tunneled over HTTP. Should this be done?]</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Signaling Protocol Requirements</h1>
<p id="rfc.section.3.2.p.1">This section covers the signaling protocol to be used by RTC-WEB applications. To ensure interoperability not just between RTC-WEB applications, but with legacy IPPBX phone systems as well, a small subset of SIP will be REQUIRED for all RTC-WEB client application implementations. In addition to the subset of SIP specification <a href="#RFC3261">[RFC3261]</a>, RTC-WEB client application implementations will be REQUIRED to support DNS resolutions as specified in <a href="#RFC3263">[RFC3263]</a> and the offer/answer model with SDP as specified in <a href="#RFC3264">[RFC3264]</a>.</p>
<h1 id="rfc.section.3.2.1">
<a href="#rfc.section.3.2.1">3.2.1.</a> Client Application SIP Requirements</h1>
<p id="rfc.section.3.2.1.p.1">This section focuses on the subset of SIP functionality that will exist within all RTC-WEB client applications. The following User Agent Client (UAC) subset of the SIP specification <a href="#RFC3261">[RFC3261]</a> is REQUIRED.</p>
<p></p>

<ul>
<li>General User Agent Behavior - [Section 8]</li>
<li>Registration - [Section 10]</li>
<li>Client Transaction - [Section 17.1]</li>
<li>Canceling a Request - [Section 9.1]</li>
<li>Terminating a Session - [Section 15.1], [Section 15.1.1]</li>
<li>3.XX Redirect Responses - [Section 8.1.3.4]</li>
<li>TLS - [Section 26.3.1]</li>
<li>Outbound Proxy</li>
</ul>
<h1 id="rfc.section.3.2.2">
<a href="#rfc.section.3.2.2">3.2.2.</a> Client Application Optional SIP Support</h1>
<p id="rfc.section.3.2.2.p.1">In the SIP specification <a href="#RFC3261">[RFC3261]</a>, the SIP features listed below are required for all UAC implementations.  RTC-WEB client applications are not a fully featured SIP UAC and will only be implementing a subset of the SIP specification. Thusly, unlike SIP UACs, the following list of SIP features is to be considered OPTIONAL for RTC-WEB client application implementations.</p>
<p></p>

<ul>
<li>INVITEs without an offer</li>
<li>re-INVITEs &#8211; [Section 14.1]</li>
<li>forking &#8211; [Section 19.3]</li>
<li>S/MIME &#8211; [Section 23]</li>
<li>SIPS URI Scheme &#8211; [Section 26.2.2]</li>
</ul>
<h1 id="rfc.section.3.2.3">
<a href="#rfc.section.3.2.3">3.2.3.</a> Required SIP Methods</h1>
<p id="rfc.section.3.2.3.p.1">This section outlines the REQUIRED SIP methods for all RTC-WEB client applications.</p>
<p></p>

<ul>
<li>INVITE &#8211; <a href="#RFC3261">[RFC3261]</a> [Section 13]</li>
<li>REGISTER &#8211; <a href="#RFC3261">[RFC3261]</a> [Section 10]</li>
<li>ACK - <a href="#RFC3261">[RFC3261]</a> [Section 13.2]</li>
<li>CANCEL - <a href="#RFC3261">[RFC3261]</a> [Section 13.2]</li>
<li>BYE - <a href="#RFC3261">[RFC3261]</a> [Section 13.2]</li>
<li>UPDATE &#8211; <a href="#RFC3311">[RFC3311]</a>
</li>
</ul>
<h1 id="rfc.section.3.2.4">
<a href="#rfc.section.3.2.4">3.2.4.</a> Multipart SIP Message Requirements</h1>
<p id="rfc.section.3.2.4.p.1">For handling SIP messages RTC-WEB client applications are required to implement the multipart MIME handling scheme as specified in <a href="#RFC5621">[RFC5621]</a>.</p>
<h1 id="rfc.section.3.2.5">
<a href="#rfc.section.3.2.5">3.2.5.</a> SIP Identity Requirements</h1>
<p id="rfc.section.3.2.5.p.1">Identity, for the purposes of this section, is defined as a SIP URI. There are two areas concerning SIP identity this specification will address.</p>
<p id="rfc.section.3.2.5.p.2">The first area covers validation of the message originator. To securely validate a the identity of a SIP message originator, all RTC-WEB client applications are REQUIRED to implement the mechanism specified in <a href="#RFC4474">[RFC4474]</a>.</p>
<p id="rfc.section.3.2.5.p.3">To support cases were the identify of a caller/callee may change, such as when a call is parked and transferred from the original callee to another party, all RTC-WEB client applications are REQUIRED to implement the identity mechanism specified in <a href="#RFC4916">[RFC4916]</a>. <a href="#RFC3261">[RFC3261]</a>implicitly REQUIRES the implementation of the UPDATE method as specified in <a href="#RFC3311">[RFC3311]</a></p>
<h1 id="rfc.section.3.2.6">
<a href="#rfc.section.3.2.6">3.2.6.</a> SIP Network Address Traversal</h1>
<p id="rfc.section.3.2.6.p.1">RTC-WEB client applications MUST support Network Address Translator (NAT) traversal. This section will address SIP-related areas to support NAT traversal.</p>
<p id="rfc.section.3.2.6.p.2">As called for in [3.1] RTC-WEB client applications will implement STUN. To support client-managed connections, STUN-based keep-alives as specified in <a href="#RFC5626">[RFC5626]</a> are REQUIRED.</p>
<p id="rfc.section.3.2.6.p.3">When SIP is used with UDP, responses to requests are returned to the source address the request came from, and to the port written into the topmost Via header field value of the request. This behavior is not desirable when the RTC-WEB client application is behind a Network Address Translator (NAT). To address UDP traversal problem the "rport" extension as specified in <a href="#RFC3581">[RFC3581]</a> is REQUIRED.</p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> Codec Requirements</h1>
<p id="rfc.section.3.3.p.1">This section covers the audio and video codec requirements for RTC-WEB client applications. To ensure a baseline level of interoperability between RTC-Web applications, a minimum set of required codes is specified below. While this section specifies the codecs that will be supported by all RTC-Web application implementations, it leaves the question of supporting additional codecs to the will of the implementer.</p>
<h1 id="rfc.section.3.3.1">
<a href="#rfc.section.3.3.1">3.3.1.</a> Audio Codec Requirements</h1>
<p id="rfc.section.3.3.1.p.1">RTC-WEB applications are REQUIRED to implement the following audio codecs.</p>
<p></p>

<ul>
<li>PCMA/PCMU - see section 4.5.14 of <a href="#RFC3551">[RFC3551]</a>
</li>
<li>Telephone-event - <a href="#RFC4734">[RFC4734]</a>
</li>
<li>Opus [draft-ietf-codec-opus]</li>
</ul>
<p id="rfc.section.3.3.1.p.3">Implementations of the PCMU and PMCA codecs are REQUIRED to support 1 channel with a rate of 8000 and a ptime of 20.</p>
<p id="rfc.section.3.3.1.p.4">The following codecs are OPTIONAL for RTC-WEB application implementations.</p>
<p></p>

<ul>
<li>G729</li>
<li>G722</li>
<li>G722.1</li>
<li>G723</li>
<li>AMR</li>
<li>AMR-WB</li>
<li>iLBC</li>
<li>L16</li>
</ul>

<p> [Open Issue: minimum profile and identifying any additional mandatory to implement audio codecs.]</p>
<h1 id="rfc.section.3.3.2">
<a href="#rfc.section.3.3.2">3.3.2.</a> Video Codec Requirements</h1>
<p id="rfc.section.3.3.2.p.1">RTC-WEB applications are REQUIRED to implement the following video codecs.</p>
<p></p>

<ul><li>VP8 [I-D.westin-payload-vp8]</li></ul>
<p id="rfc.section.3.3.2.p.3">The following codecs are OPTIONAL for RTC-WEB application implementations.</p>
<p></p>

<ul>
<li>H.263</li>
<li>H.264-AVC</li>
<li>H.264-SVC</li>
</ul>

<p>[Open Issue: For the mandatory to implement video codec(s) what is the minimum profile?]</p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> Real-Time Media Transport Requirements</h1>
<p id="rfc.section.3.4.p.1">This section defines the real-time media transport requirements for RTC-Web client application implementation. This section breaks down the RTC-WEB RTP requirements into several sections. The sections cover the RTP requirements for: profile, optimizations, extensions, transport robustness and rate control.</p>
<p id="rfc.section.3.4.p.2">[OPEN ISSUE: identify missing requirements]</p>
<h1 id="rfc.section.3.4.1">
<a href="#rfc.section.3.4.1">3.4.1.</a> RTP Profile</h1>
<p id="rfc.section.3.4.1.p.1">RTC-Web applications to will need to provide a secure, interoperable, bandwidth friendly, media transport profile. The Secure Audio-visual Profile Feedback (SAVPF) as defined in <a href="#RFC5124">[RFC5124]</a> will meet the needs of RTC-Web applications by providing media encryption, interoperability and a flexible, bandwidth conscious RTCP packet transmission model. All RTC-Web applications are REQUIRED to implement SAVPF. Requiring the implementation of SAVPF also means that RTC-Web applications MUST implicitly support Audio-visual Profile Feedback (AVPF) <a href="#RFC4585">[RFC4585]</a>, Audio-visual Profile (AVP) <a href="#RFC3551">[RFC3551]</a> and Secure Audio-visual Profile (SAVP) <a href="#RFC3711">[RFC3711]</a>.</p>
<h1 id="rfc.section.3.4.1.1">
<a href="#rfc.section.3.4.1.1">3.4.1.1.</a> Profile Encryption Mechanism</h1>
<p id="rfc.section.3.4.1.1.p.1">SAVPF supports SRTP by providing media encryption, integrity protection, replay protection and a limited form of source authentication. Though the SAVPF profile does support secure media transport, it does not specify an encryption keying mechanism. To support keying for SRTP, WEB-RTC application implementors are REQUIRED to implement DTLS-SRPT <a href="#RFC5764">[RFC5764]</a>.</p>
<h1 id="rfc.section.3.4.2">
<a href="#rfc.section.3.4.2">3.4.2.</a> RTP Optimizations</h1>
<p id="rfc.section.3.4.2.p.1">This section describes the optimization requirements for RTP within RTC-Web applications.</p>
<h1 id="rfc.section.3.4.2.1">
<a href="#rfc.section.3.4.2.1">3.4.2.1.</a> RTP and RTCP Multiplexing</h1>
<p id="rfc.section.3.4.2.1.p.1">Historically, RTP and RTCP have been run on separate UDP ports.  With the increased use of Network Address Port Translation (NAPT) so have the problems increased for maintaining multiple, costly NAT bindings for each UDP port. This dual UDP port paradigm also complicates firewall administration, since multiple ports must be opened to allow for RTP traffic. To reduce these costs and session setup times, support for multiplexing RTP data packets and RTCP control packets on a single port <a href="#RFC5761">[RFC5761]</a> is REQUIRED.</p>
<p id="rfc.section.3.4.2.1.p.2">Note that the use of RTP and RTCP multiplexed on a single port ensures that there is occasional traffic sent on that port, even if there is no active media traffic. This may be useful to keep-alive NAT bindings.</p>
<h1 id="rfc.section.3.4.2.2">
<a href="#rfc.section.3.4.2.2">3.4.2.2.</a> Reduced-Size RTCP</h1>
<p id="rfc.section.3.4.2.2.p.1">RTCP packets are usually sent as compound RTCP packets and <a href="#RFC3550">[RFC3550]</a> demands that the RTCP compound packets always start with a Sender Report (SR) or Receiver Report (RR) packet. The SR and RR packets provide reception quality statistics and increase the mean RTCP packet size. Because the mean compound RTCP packet size is larger, the frequency at which RTCP packets can be sent within the RTCP bandwidth share decreases. The decreased transmission frequency creates a performance bottleneck that is especially noticeable when using frequent feedback messages.</p>
<p id="rfc.section.3.4.2.2.p.2">As mentioned in section [Add ref] RTC-Web applications will be required to implement SAVPF, which implicitly requires feedback.  <a href="#RFC5506">[RFC5506]</a> specifies how to reduce the mean RTCP message and allow for more frequent feedback. Frequent feedback, in turn, is essential to make real-time application quickly aware of changing network conditions and allow them to adapt their transmission and encoding behavior. Support for <a href="#RFC5506">[RFC5506]</a> is REQUIRED</p>
<h1 id="rfc.section.3.4.2.3">
<a href="#rfc.section.3.4.2.3">3.4.2.3.</a> Symmetric RTP/RTCP</h1>
<p id="rfc.section.3.4.2.3.p.1">RTP entities choose the RTP and RTCP transport addresses (IP addresses and port numbers), to bind to and receive packets on.  However when sending RTP and RTCP packets, senders may use an IP address or port number that is different than the one specified for receiving packets. Using different transport addresses is problematic with regards to NAT traversal. The NAT traversal problem can be alleviated using symmetric RTP/RTCP <a href="#RFC4961">[RFC4961]</a>. Symmetric RTP/RTCP requires that the transport addresses for sending and receiving RTP/RTCP packets are identical. All RTC-WEB client applications are REQUIRED to implement Symmetric RTP/RTCP <a href="#RFC4961">[RFC4961]</a>.</p>
<h1 id="rfc.section.3.4.2.4">
<a href="#rfc.section.3.4.2.4">3.4.2.4.</a> CNAME Generation</h1>
<p id="rfc.section.3.4.2.4.p.1">The RTCP Canonical Name (CNAME) provides a persistent transport-level identifier for an RTP endpoint. While the Synchronization Source (SSRC) identifier for an RTP endpoint may change if a collision is detected, or when the RTP application is restarted, it's RTCP CNAME is meant to stay unchanged, so that RTP endpoints can be uniquely identified and associated with their RTP media streams. For proper functionality, RTCP CNAMEs should be unique within the participants of an RTP session.</p>
<p id="rfc.section.3.4.2.4.p.2">The RTP specification <a href="#RFC3550">[RFC3550]</a> includes guidelines for choosing a unique RTP CNAME. These guidelines are not sufficient in the presence of NAT devices or with regards to addressing privacy concerns resulting from the long-term, persistent identifiers.</p>
<p id="rfc.section.3.4.2.4.p.3">To address the shortcomings of CNAME selection in<a href="#RFC3550">[RFC3550]</a>, it is RECOMMENDED that RTP CNAME generation follows the approach specified in section 5 of <a href="#RFC6222">[RFC6222]</a>.</p>
<p id="rfc.section.3.4.2.4.p.4">For RTC-WEB client applications, such as a web browser, it may not be possible to retrieve the EUI-64 identifier or the host system's MAC address which is needed to fulfill the CNAME generation procedure outlined in section 5 of <a href="#RFC6222">[RFC6222]</a>. As an alternative to the EUI-64/MAC address, RTC-WEB client applications MAY generate and use a random number for the unique CNAME generation procedure.</p>
<h1 id="rfc.section.3.4.3">
<a href="#rfc.section.3.4.3">3.4.3.</a> RTP Extensions</h1>
<p id="rfc.section.3.4.3.p.1">.This section describes the RTP extensions that could be very useful within the RTC-WEB context.</p>
<h1 id="rfc.section.3.4.3.1">
<a href="#rfc.section.3.4.3.1">3.4.3.1.</a> Conferencing Extensions</h1>
<p id="rfc.section.3.4.3.1.p.1">RTC-Web applications will support conferencing capabilities.  While this document remains silent regarding what conferencing topology should be supported for RTC-Web applications, the following section will provide guidance around RTP extensions to support centralized conferencing.</p>
<p id="rfc.section.3.4.3.1.p.2">For more information on RTP conferencing topologies please refer to <a href="#RFC5117">[RFC5117]</a></p>
<h1 id="rfc.section.3.4.3.1.1">
<a href="#rfc.section.3.4.3.1.1">3.4.3.1.1.</a> FIR RTCP Feedback Message</h1>
<p id="rfc.section.3.4.3.1.1.p.1">The Full Intra Request (FIR) command and message are defined in sections 3.5.1 and 4.3.1 of <a href="#RFC5104">[RFC5104]</a>.  FIR messages will request that the currently distributed session participants send new intra coded pictures to the mixer. FIR is used when switching between sources to ensure that the receivers can decode the video or other predicted media encoding with long prediction chains. It is RECOMMENDED that the FIR message is supported.</p>
<h1 id="rfc.section.3.4.3.1.2">
<a href="#rfc.section.3.4.3.1.2">3.4.3.1.2.</a> PLI RTCP Feedback Message</h1>
<p id="rfc.section.3.4.3.1.2.p.1">The Picture Loss Indicator (PLI) is defined in Section 6.3.1 of <a href="#RFC4585">[RFC4585]</a>. PLI messages tell the encoder that a receiver has lost the decoder context and would like it repaired. It is RECOMMENDED that the PLI message is supported.</p>
<h1 id="rfc.section.3.4.3.1.3">
<a href="#rfc.section.3.4.3.1.3">3.4.3.1.3.</a> TMMBR RTCP Feedback Message</h1>
<p id="rfc.section.3.4.3.1.3.p.1">The Temporary Maximum Media Stream Bit Rate Request (TMMBR, "timber") message is defined in sections 3.5.4 and 4.2.1 of <a href="#RFC5104">[RFC5104]</a>. A receiver, translator, or mixer uses the TMMBR to request a sender to limit the maximum bit rate for a media stream to, or below, the provided value. An example of using TMMBR would be for an RTP mixer to constrain the media sender&#8217;s bit rate to fit within the lower bit rate range of other session participants. It is RECOMMENDED that the TMMBR message be supported.</p>
<h1 id="rfc.section.3.4.3.2">
<a href="#rfc.section.3.4.3.2">3.4.3.2.</a> Header Extensions</h1>
<p id="rfc.section.3.4.3.2.p.1">This section describes the requirements for RTC-WEB RTP header extensions. For all RTC-WEB RTP header extensions it is REQUIRED that they are formatted and signaled according to the general mechanism defined in <a href="#RFC5285">[RFC5285]</a>.</p>
<p id="rfc.section.3.4.3.2.p.2">[Open Issue: should any of the following headers be added to the list:</p>
<p></p>

<ul>
<li>Transmission time offsets<a href="#RFC5450">[RFC5450]</a>
</li>
<li>Associating time-codes with RTP streams <a href="#RFC5484">[RFC5484]</a> [Remove?]</li>
</ul>

<p>Open Issue: There is also ongoing work to define RTP header extensions for providing audio levels: </p>

<ul>
<li>From the media sender to the mixer [I-D.ietf-avtext-client-to-mixer-audio-level]</li>
<li>From a mixer to a receiver [I-D.ietf-avtext-mixer-to-client-audio-level]</li>
</ul>

<p>Which, if any of the above should be required? optional?</p>
<p id="rfc.section.3.4.3.2.p.4">]</p>
<h1 id="rfc.section.3.4.3.2.1">
<a href="#rfc.section.3.4.3.2.1">3.4.3.2.1.</a> Rapid Synchronization</h1>
<p id="rfc.section.3.4.3.2.1.p.1">Basic RTP session synchronization as described in <a href="#RFC3550">[RFC3550]</a> can be slow. To improve synchronization performance and maintain relative backwards compatibility it is RECOMMENDED that the rapid RTP synchronization extensions described in <a href="#RFC6051">[RFC6051]</a> be implemented.</p>
<h1 id="rfc.section.3.4.4">
<a href="#rfc.section.3.4.4">3.4.4.</a> RTP Transport Robustness</h1>
<p id="rfc.section.3.4.4.p.1">This section identifies tools that can be used to add robustness to the RTP flows. Adding robustness to the RTP flow can reduce packet loss and thus have a positive impact upon media quality.</p>
<h1 id="rfc.section.3.4.4.1">
<a href="#rfc.section.3.4.4.1">3.4.4.1.</a> RTP Retransmission</h1>
<p id="rfc.section.3.4.4.1.p.1">The retransmission scheme in RTP allows for flexibility of retransmissions. From the receiving side, only selected missing packets can be requested. From the sending side, packets can be prioritized based upon the senders knowledge of the receiver&#8217;s missing packets. Support for RTP retransmission as defined by <a href="#RFC4588">[RFC4588]</a> is RECOMMENDED.</p>
<p id="rfc.section.3.4.4.1.p.2">[Open Issue: is <a href="#RFC4588">[RFC4588]</a> the way we want to tackle this issue?]</p>
<h1 id="rfc.section.3.4.4.2">
<a href="#rfc.section.3.4.4.2">3.4.4.2.</a> Forward Error Correction</h1>
<p id="rfc.section.3.4.4.2.p.1">[Open issue - should there be a FEC scheme recommendation?]</p>
<h1 id="rfc.section.3.4.4.3">
<a href="#rfc.section.3.4.4.3">3.4.4.3.</a> Multicast</h1>
<p id="rfc.section.3.4.4.3.p.1">RTC-WEB client applications support for multicast RTP is NOT REQUIRED.</p>
<h1 id="rfc.section.3.4.5">
<a href="#rfc.section.3.4.5">3.4.5.</a> RTP Rate Control</h1>
<p id="rfc.section.3.4.5.p.1">[OPEN ISSUE - There are currently no available, standardized RTP rate control mechanism that uses media adaptation. Having a mechanism in place will be REQUIRED for RTC-WEB applications and which means there is a need for the IETF to produce this specification.</p>
<p id="rfc.section.3.4.5.p.2">A potential starting point for defining a solution is "RTP with TCP Friendly Rate Control" [rtp-tfrc].]</p>
<h1 id="rfc.section.3.5">
<a href="#rfc.section.3.5">3.5.</a> Non-Media Data Transport Requirements</h1>
<p id="rfc.section.3.5.p.1">The RTC-WEB will enable for rich voice and video communications from client applications, such as a web browser. One of the natural extensions of the RTC-WEB and the work emerging from the HTML5 community is video games. Video games have a similar stringent real-time requirement for exchanging non-media data types such as a player&#8217;s screen position.</p>
<p id="rfc.section.3.5.p.2">The question of how best to handle non-media data types has been raised. There have been proposals to address this problem. Common to all proposals is how the data transport session is set up, using ICE <a href="#RFC5245">[RFC5245]</a> in a similar manner to that of RTP <a href="#RFC3550">[RFC3550]</a>. The proposals vary from once the session is set up; one proposal is just to use a thin shim on top of UDP or DTLS to de-multiplex the packets from other packets such as RTP on the same connection. Another proposal is DTLS over DCCP over UDP with some appropriate congestion control scheme chosen for DCCP.  Lastly there has been a proposal to define a data codec to carry the data in RTP.</p>
<h1 id="rfc.section.3.5.1">
<a href="#rfc.section.3.5.1">3.5.1.</a> Non-Media Data In RTP</h1>
<p id="rfc.section.3.5.1.p.1">This section will answer the question regarding the addition of non-media data types into an RTC-WEB client application initiated RTP session.</p>
<p id="rfc.section.3.5.1.p.2">RTP by design adheres to the application level framing architectural principle. This principle requires that RTP payload formats be specified. By requiring specific payload formats RTP provides a mechanism to optimize the transmission of encoded media.  Other than this optimization there is no congestion control mechanisms for RTP.</p>
<p id="rfc.section.3.5.1.p.3">This principle also implies that if a payload format cannot be specified, as the case is with generic data, it breaks one of the fundamental architectural principles of RTP and makes optimization impossible. Given that the ability to optimize the transmission of non-media data types is lost and there are no capabilities for congestion control within RTP, it follows that there is no benefit to using RTP instead of a more general data transport such as UDP.  Until non-media data payload formats are created, the use of RTP as a non-media data transport SHALL NOT be used in conjunction with any RTC-WEB client application implementation.</p>
<p id="rfc.section.3.5.1.p.4">[Open issue: There has been mention of actually creating new payload formats for non-media data types. If new payload formats are actually created for specific types of non-media data, the requirement above would still stand as the application level framing principle would be preserved and the new formats would have to adhere to the principle. Any new formats would be specified outside of this document but referred to]</p>
<h1 id="rfc.section.3.5.2">
<a href="#rfc.section.3.5.2">3.5.2.</a> Transporting Non-Media Data</h1>
<p id="rfc.section.3.5.2.p.1">[OPEN issue: need further discussion around this area]</p>
<p id="rfc.section.3.5.2.p.2">There have been some ideas proposed but nothing has emerged as the dominant paradigm. The current thinking is that, for RTC-WEB client applications, RTP is not an option for non-media data types that do not have a payload format specification. Without a payload format specification a workable solution would resemble something that allows datagrams to be transmitted via a secure, congestion-controlled, unreliable transport mechanism.</p>
<h1 id="rfc.section.3.5.2.1">
<a href="#rfc.section.3.5.2.1">3.5.2.1.</a> Proposed Solutions for Non-Media Data Transport</h1>
<p id="rfc.section.3.5.2.1.p.1">One of the current proposed solutions could meet the requirements for a non-media data type transport for RTC-WEB client application is to use a DCCP via the following specifications:</p>
<p></p>

<ul>
<li>DCCP <a href="#RFC4340">[RFC4340]</a> using TCP <a href="#RFC4341">[RFC4341]</a> or TFRC <a href="#RFC4342">[RFC4342]</a> for congestion control</li>
<li>DTLS for DCCP <a href="#RFC5238">[RFC5238]</a>
</li>
<li>DCCP over UDP [draft-ietf-dccp-udpencap]</li>
</ul>
<p id="rfc.section.3.5.2.1.p.3">The maturity of available implementations of DCCP is of concern along with the partiality of this proposed solution. Another way of tackling the problem of non-media data transport is to push the requirements into the RTC-WEB client application implementation.</p>
<p id="rfc.section.3.5.2.1.p.4">The following is a proposed set of REQUIRED RTC-WEB client application non-media data transport requirements.</p>
<p></p>

<ul>
<li>Support for a broad congestion control constraints are REQUIRED, it is RECOMMENDED that implementors support either TFRC <a href="#RFC5348">[RFC5348]</a> or TFRC-SP <a href="#RFC4828">[RFC4828]</a>.</li>
<li>Support for full congestion control is RECOMMENDED, the specific implementation is left to the RTC-WEB client application implementor.</li>
<li>Support for DTLS over UDP is REQUIRED</li>
</ul>
<p id="rfc.section.3.5.2.1.p.6">As an example of how these proposed requirements could be implemented within an RTC-WEB client application, lets explore a web browser-based implementation. In this specific implementation, the web browser would provide DTLS over UDP and implement a broad congestion control solution such as TFRC or TFRC-SP. This implementation will yield a coarse-grained congestion controlled non-media data transport solution that is accessible via JavaScript API calls. These non-media data transport capabilities would provide a flexible solution for web developers to build a full congestion control solution into their WEB-RTC client application.</p>
<p id="rfc.section.3.5.2.1.p.7">[Open Issue: Given that there is no consensus with regards to a transport solution, this topic needs further discussion.</p>
<p id="rfc.section.3.5.2.1.p.8">Open Issue: Areas for further discussion:</p>
<p></p>

<ul>
<li>Unreliable datagram transport &#8211; should this be UDP, SCTP or DCCP?</li>
<li>Congestion control mechanisms &#8211; DCCP and SCTP something else?</li>
<li>Protection of data confidentiality and integrity &#8211; DTLS</li>
<li>Receiver consent mechanisms for data transmission</li>
</ul>

<p>]</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> API Requirements</h1>
<p id="rfc.section.4.p.1">NOT Ready - need to decide on protocols first, API comes after that</p>
<p id="rfc.section.4.p.2">RTP</p>
<p id="rfc.section.4.p.3">The API needs to allow the DSCP REF for each RTP or media stream to be set.</p>
<p id="rfc.section.4.p.4">The API needs to allow the browser app to observer and control the SSRC values in the RTP.</p>
<p id="rfc.section.4.p.5">Codec</p>
<p id="rfc.section.4.p.6">The API needs to support the following OPTIONAL codecs: H263-2000, H264, H264-SVC, raw and VP8.</p>
<p id="rfc.section.4.p.7">The API needs to support the following OPTIONAL codecs: G729, G722, G7221, G723, AMR, AMR-WB, iLBC, L16 and opus.</p>
<p></p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Legacy VoIP Interoperability</h1>
<p id="rfc.section.5.p.1">There is no way to meet all the security requirements and maintain comparability with all legacy VoIP equipment. This draft tries to minimize the impedance mismatch. The requirements here would allow interoperability with legacy VoIP equipment as long as that equipment either directly supported, or was fronted by an SBC that supported, the following: a CORS [W3C.WD-cors-20090317] extension for SIP, ICE or ICE-Lite, the mandatory to implement codecs in [SECTION], supported SIP invites containing an offer, and supported DTMF over RTP with telephone events.</p>
<p id="rfc.section.5.p.2">Of the items listed above, support for ICE-Lite has historically been lacking in VoIP equipment, this is changing and ICE-Lite becoming increasingly prevalent, particularly on devices designed to sit on the edge of a domain and connect to remote user agents that may be behind NATs. Given the increasing adoption of ICE-Lite, it could be conjectured that a substantial fraction of VoIP equipment meets the RTC-WEB interoperability list except for the CORS extensions.</p>
<p id="rfc.section.5.p.3">For an edge device that was willing to receive SIP call from others, implementing the CORS is pretty trivial. When the UAS receives a SIP options request with an Origin header, it checks whether the header field value is on the white list, and if it is then the UAS copies the value to the Access-Control-Allow-Origin header field value in the response. For many situations the white list would be everything, while for others it would be just the list of websites that are expected to originate calls to this SIP device.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.6.p.1">This document makes no request of IANA.</p>
<p id="rfc.section.6.p.2">Note to RFC Editor: this section may be removed on publication as an RFC.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.7.p.1">Because there are a number of security issues, considerations and requirements for RTC-WEB client applications there is a draft that specifically addresses the RTC-WEB application security considerations.  This draft defers it&#8217;s security considerations and requirements to the security considerations for RTC-Web draft <a href="#I-D.ekr-security-considerations-for-rtc-web">[I-D.ekr-security-considerations-for-rtc-web]</a>.</p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.8.p.1">Many thanks to Harald Alvestrand, Magnus Westerlund, Colin Perkins, Joerg Ott for a signifcant amount of text and contributed ideas on this topic.</p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5124">[RFC5124]</b></td>
<td class="top">
<a>Ott, J.</a> and <a>E. Carrara</a>, "<a href="http://tools.ietf.org/html/rfc5124">Extended Secure RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF)</a>", RFC 5124, February 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4585">[RFC4585]</b></td>
<td class="top">
<a>Ott, J.</a>, <a>Wenger, S.</a>, <a>Sato, N.</a>, <a>Burmeister, C.</a> and <a>J. Rey</a>, "<a href="http://tools.ietf.org/html/rfc4585">Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)</a>", RFC 4585, July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3551">[RFC3551]</b></td>
<td class="top">
<a>Schulzrinne, H.</a> and <a>S. Casner</a>, "<a href="http://tools.ietf.org/html/rfc3551">RTP Profile for Audio and Video Conferences with Minimal Control</a>", STD 65, RFC 3551, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4916">[RFC4916]</b></td>
<td class="top">
<a>Elwell, J.</a>, "<a href="http://tools.ietf.org/html/rfc4916">Connected Identity in the Session Initiation Protocol (SIP)</a>", RFC 4916, June 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3711">[RFC3711]</b></td>
<td class="top">
<a>Baugher, M.</a>, <a>McGrew, D.</a>, <a>Naslund, M.</a>, <a>Carrara, E.</a> and <a>K. Norrman</a>, "<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP)</a>", RFC 3711, March 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5761">[RFC5761]</b></td>
<td class="top">
<a>Perkins, C.</a> and <a>M. Westerlund</a>, "<a href="http://tools.ietf.org/html/rfc5761">Multiplexing RTP Data and Control Packets on a Single Port</a>", RFC 5761, April 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3581">[RFC3581]</b></td>
<td class="top">
<a>Rosenberg, J.</a> and <a>H. Schulzrinne</a>, "<a href="http://tools.ietf.org/html/rfc3581">An Extension to the Session Initiation Protocol (SIP) for Symmetric Response Routing</a>", RFC 3581, August 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3550">[RFC3550]</b></td>
<td class="top">
<a>Schulzrinne, H.</a>, <a>Casner, S.</a>, <a>Frederick, R.</a> and <a>V. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>", STD 64, RFC 3550, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5506">[RFC5506]</b></td>
<td class="top">
<a>Johansson, I.</a> and <a>M. Westerlund</a>, "<a href="http://tools.ietf.org/html/rfc5506">Support for Reduced-Size Real-Time Transport Control Protocol (RTCP): Opportunities and Consequences</a>", RFC 5506, April 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4961">[RFC4961]</b></td>
<td class="top">
<a>Wing, D.</a>, "<a href="http://tools.ietf.org/html/rfc4961">Symmetric RTP / RTP Control Protocol (RTCP)</a>", BCP 131, RFC 4961, July 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6222">[RFC6222]</b></td>
<td class="top">
<a>Begen, A.</a>, <a>Perkins, C.</a> and <a>D. Wing</a>, "<a href="http://tools.ietf.org/html/rfc6222">Guidelines for Choosing RTP Control Protocol (RTCP) Canonical Names (CNAMEs)</a>", RFC 6222, April 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5117">[RFC5117]</b></td>
<td class="top">
<a>Westerlund, M.</a> and <a>S. Wenger</a>, "<a href="http://tools.ietf.org/html/rfc5117">RTP Topologies</a>", RFC 5117, January 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5104">[RFC5104]</b></td>
<td class="top">
<a>Wenger, S.</a>, <a>Chandra, U.</a>, <a>Westerlund, M.</a> and <a>B. Burman</a>, "<a href="http://tools.ietf.org/html/rfc5104">Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)</a>", RFC 5104, February 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5450">[RFC5450]</b></td>
<td class="top">
<a>Singer, D.</a> and <a>H. Desineni</a>, "<a href="http://tools.ietf.org/html/rfc5450">Transmission Time Offsets in RTP Streams</a>", RFC 5450, March 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3263">[RFC3263]</b></td>
<td class="top">
<a>Rosenberg, J.</a> and <a>H. Schulzrinne</a>, "<a href="http://tools.ietf.org/html/rfc3263">Session Initiation Protocol (SIP): Locating SIP Servers</a>", RFC 3263, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3264">[RFC3264]</b></td>
<td class="top">
<a>Rosenberg, J.</a> and <a>H. Schulzrinne</a>, "<a href="http://tools.ietf.org/html/rfc3264">An Offer/Answer Model with Session Description Protocol (SDP)</a>", RFC 3264, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5285">[RFC5285]</b></td>
<td class="top">
<a>Singer, D.</a> and <a>H. Desineni</a>, "<a href="http://tools.ietf.org/html/rfc5285">A General Mechanism for RTP Header Extensions</a>", RFC 5285, July 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6051">[RFC6051]</b></td>
<td class="top">
<a>Perkins, C.</a> and <a>T. Schierl</a>, "<a href="http://tools.ietf.org/html/rfc6051">Rapid Synchronisation of RTP Flows</a>", RFC 6051, November 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4588">[RFC4588]</b></td>
<td class="top">
<a>Rey, J.</a>, <a>Leon, D.</a>, <a>Miyazaki, A.</a>, <a>Varsa, V.</a> and <a>R. Hakenberg</a>, "<a href="http://tools.ietf.org/html/rfc4588">RTP Retransmission Payload Format</a>", RFC 4588, July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5348">[RFC5348]</b></td>
<td class="top">
<a>Floyd, S.</a>, <a>Handley, M.</a>, <a>Padhye, J.</a> and <a>J. Widmer</a>, "<a href="http://tools.ietf.org/html/rfc5348">TCP Friendly Rate Control (TFRC): Protocol Specification</a>", RFC 5348, September 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4828">[RFC4828]</b></td>
<td class="top">
<a>Floyd, S.</a> and <a>E. Kohler</a>, "<a href="http://tools.ietf.org/html/rfc4828">TCP Friendly Rate Control (TFRC): The Small-Packet (SP) Variant</a>", RFC 4828, April 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5245">[RFC5245]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, "<a href="http://tools.ietf.org/html/rfc5245">Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols</a>", RFC 5245, April 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4340">[RFC4340]</b></td>
<td class="top">
<a>Kohler, E.</a>, <a>Handley, M.</a> and <a>S. Floyd</a>, "<a href="http://tools.ietf.org/html/rfc4340">Datagram Congestion Control Protocol (DCCP)</a>", RFC 4340, March 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4341">[RFC4341]</b></td>
<td class="top">
<a>Floyd, S.</a> and <a>E. Kohler</a>, "<a href="http://tools.ietf.org/html/rfc4341">Profile for Datagram Congestion Control Protocol (DCCP) Congestion Control ID 2: TCP-like Congestion Control</a>", RFC 4341, March 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4342">[RFC4342]</b></td>
<td class="top">
<a>Floyd, S.</a>, <a>Kohler, E.</a> and <a>J. Padhye</a>, "<a href="http://tools.ietf.org/html/rfc4342">Profile for Datagram Congestion Control Protocol (DCCP) Congestion Control ID 3: TCP-Friendly Rate Control (TFRC)</a>", RFC 4342, March 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5484">[RFC5484]</b></td>
<td class="top">
<a>Singer, D.</a>, "<a href="http://tools.ietf.org/html/rfc5484">Associating Time-Codes with RTP Streams</a>", RFC 5484, March 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3489">[RFC3489]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Weinberger, J.</a>, <a>Huitema, C.</a> and <a>R. Mahy</a>, "<a href="http://tools.ietf.org/html/rfc3489">STUN - Simple Traversal of User Datagram Protocol (UDP) Through Network Address Translators (NATs)</a>", RFC 3489, March 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5766">[RFC5766]</b></td>
<td class="top">
<a>Mahy, R.</a>, <a>Matthews, P.</a> and <a>J. Rosenberg</a>, "<a href="http://tools.ietf.org/html/rfc5766">Traversal Using Relays around NAT (TURN): Relay Extensions to Session Traversal Utilities for NAT (STUN)</a>", RFC 5766, April 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3311">[RFC3311]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, "<a href="http://tools.ietf.org/html/rfc3311">The Session Initiation Protocol (SIP) UPDATE Method</a>", RFC 3311, October 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4474">[RFC4474]</b></td>
<td class="top">
<a>Peterson, J.</a> and <a>C. Jennings</a>, "<a href="http://tools.ietf.org/html/rfc4474">Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP)</a>", RFC 4474, August 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5621">[RFC5621]</b></td>
<td class="top">
<a>Camarillo, G.</a>, "<a href="http://tools.ietf.org/html/rfc5621">Message Body Handling in the Session Initiation Protocol (SIP)</a>", RFC 5621, September 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5626">[RFC5626]</b></td>
<td class="top">
<a>Jennings, C.</a>, <a>Mahy, R.</a> and <a>F. Audet</a>, "<a href="http://tools.ietf.org/html/rfc5626">Managing Client-Initiated Connections in the Session Initiation Protocol (SIP)</a>", RFC 5626, October 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5238">[RFC5238]</b></td>
<td class="top">
<a>Phelan, T.</a>, "<a href="http://tools.ietf.org/html/rfc5238">Datagram Transport Layer Security (DTLS) over the Datagram Congestion Control Protocol (DCCP)</a>", RFC 5238, May 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4734">[RFC4734]</b></td>
<td class="top">
<a>Schulzrinne, H.</a> and <a>T. Taylor</a>, "<a href="http://tools.ietf.org/html/rfc4734">Definition of Events for Modem, Fax, and Text Telephony Signals</a>", RFC 4734, December 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5764">[RFC5764]</b></td>
<td class="top">
<a>McGrew, D.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5764">Datagram Transport Layer Security (DTLS) Extension to Establish Keys for the Secure Real-time Transport Protocol (SRTP)</a>", RFC 5764, May 2010.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ekr-security-considerations-for-rtc-web">[I-D.ekr-security-considerations-for-rtc-web]</b></td>
<td class="top">
<a href="mailto:ekr@rtfm.com" title="RTFM, Inc.">Rescorla, E.K.</a>, "<a>Security Considerations for RTC-Web</a>", May 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Cary Bran</span> 
	  <span class="n hidden">
		<span class="family-name">Bran</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>170 West Tasman Drive</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95134</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1 206 256-3502</span>

<span class="vcardline">EMail: <a href="mailto:cbran@cisco.com">cbran@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Cullen Jennings</span> 
	  <span class="n hidden">
		<span class="family-name">Jennings</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>170 West Tasman Drive</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95134</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1 408 421-9990</span>

<span class="vcardline">EMail: <a href="mailto:fluffy@cisco.com">fluffy@cisco.com</a></span>

  </address>
</div>

</body>
</html>