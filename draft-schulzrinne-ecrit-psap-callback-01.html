<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Public Safety Answering Point (PSAP) Callbacks</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Public Safety Answering Point (PSAP) Callbacks">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">ECRIT</td><td class="header">H. Schulzrinne</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Columbia University</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">H. Tschofenig</td></tr>
<tr><td class="header">Expires: April 29, 2010</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">M. Patel</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nortel</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 26, 2009</td></tr>
</table></td></tr></table>
<h1><br />Public Safety Answering Point (PSAP) Callbacks<br />draft-schulzrinne-ecrit-psap-callback-01.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 29, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>After an emergency call is completed (either prematurely terminated by the emergency
				caller or normally by the call-taker) it is possible that the call-taker feels the
				need for further communication or for a clarification. For example, the call may
				have been dropped by accident without the call-taker having sufficient information
				about the current situation of a wounded person. A call-taker may trigger a callback
				towards the emergency caller using the contact information provided with the initial
				emergency call. This callback could, under certain circumstances, then be treated
				like any other call and as a consequence, it may get blocked by authorization
				policies or may get forwarded to an answering machine.
</p>
<p>The IETF emergency services architecture addresses callbacks in a limited fashion and
				thereby covers a couple of scenarios. This document discusses some shortcomings and
				raises the question whether additional solution techniques are needed.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">1.1.</a>&nbsp;
Multi-Stage Resolution<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.2.</a>&nbsp;
Call Forwarding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.3.</a>&nbsp;
PSTN Interworking<br />
<a href="#terminology">2.</a>&nbsp;
Terminology<br />
<a href="#requirements">3.</a>&nbsp;
Requirements and Design Approaches<br />
<a href="#anchor4">4.</a>&nbsp;
Solution Approaches<br />
<a href="#anchor5">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor6">6.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Informative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Summoning police, the fire department or an ambulance in emergencies is one of the
				fundamental and most-valued functions of the telephone. As telephone functionality
				moves from circuit-switched telephony to Internet telephony, its users rightfully
				expect that this core functionality will continue to work at least as well as it has
				for the legacy technology. New devices and services are being made available that
				could be used to make a request for help, which are not traditional telephones, and
				users are increasingly expecting them to be used to place emergency calls.
</p>
<p>Regulatory requirements demand that the emergency call itself provides enough
				information to allow the call-taker to initiate a call back to the emergency caller
				in case the call dropped or to interact with the emergency caller in case of further
				questions. Such a call, referred as PSAP callback subsequently in this document,
				may, however, be blocked or forwarded to an answering machine as SIP entities (SIP
				proxies as well as the SIP UA itself) cannot associate the potential importantance
				of the call based on the SIP signaling.
</p>
<p>
				</p>
<blockquote class="text">
<p>Note that the authors are, however, not aware of regulatory requirements for
						providing preferential treatment of callbacks initiated by the call-taker at
						the PSAP towards the emergency caller.
</p>
</blockquote><p>
			
</p>
<p>Section 10 of <a class='info' href='#I-D.ietf-ecrit-framework'>[I&#8209;D.ietf&#8209;ecrit&#8209;framework]<span> (</span><span class='info'>Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;Framework for Emergency Calling using Internet Multimedia,&rdquo; July&nbsp;2009.</span><span>)</span></a> discusses the identifiers
				required for callbacks, namely AOR URI and a globally routable URI in a Contact:
				header. Section 13 of <a class='info' href='#I-D.ietf-ecrit-framework'>[I&#8209;D.ietf&#8209;ecrit&#8209;framework]<span> (</span><span class='info'>Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;Framework for Emergency Calling using Internet Multimedia,&rdquo; July&nbsp;2009.</span><span>)</span></a> provides the
				following guidance regarding callback handling:
</p>
<p>
				</p>
<blockquote class="text">
<p> A UA may be able to determine a PSAP call back by examining the domain of
						incoming calls after placing an emergency call and comparing that to the
						domain of the answering PSAP from the emergency call. Any call from the same
						domain and directed to the supplied Contact header or AoR after an emergency
						call should be accepted as a call-back from the PSAP if it occurs within a
						reasonable time after an emergency call was placed. 
</p>
</blockquote><p>
			
</p>
<p>This approach mimics a stateful packet filtering firewall and is indeed helpful in a
				number of cases. Below, we discuss a few cases where this approach fails.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Multi-Stage Resolution</h3>

<p>Consider the following emergency call routing scenario shown in <a class='info' href='#stages'>Figure&nbsp;1<span> (</span><span class='info'>Multi-Stage Resolution</span><span>)</span></a> where routing towards the PSAP occurs in several stages.
					An emergency call uses a SIP UA that does not run LoST on the end point. Hence,
					the call is marked with the 'urn:service:sos' Service URN <a class='info' href='#RFC5031'>[RFC5031]<span> (</span><span class='info'>Schulzrinne, H., &ldquo;A Uniform Resource Name (URN) for Emergency and Other Well-Known Services,&rdquo; January&nbsp;2008.</span><span>)</span></a>. The user's VoIP provider receives the emergency call and determines where to
					route it. Local configuration or a LoST lookup might, in our example, reveal
					that emergency calls are routed via a dedicated provider FooBar and targeted to
					a specific entity, referred as esrp1@foobar.com. FooBar does not handle
					emergency calls itself but performs another resolution step to let calls enter
					the emergency services network and in this case another resolution step takes
					place and esrp-a@esinet.org is determined as the recipient, pointing to an edge
					device at the IP-based emergency services network. Inside the emergency services
					there might be more sophisticated routing taking place somewhat depending on the
					existing structure of the emergency services infrastructure.
</p>
<p>
</p>
<p>
					<br /><hr class="insert" />
<a name="stages"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                   ,-------.
 +----+                          ,'         `.
 | UA |--- urn:service:sos      /  Emergency  \
 +----+   \                    |   Services    |
           \  ,-------.        |   Network     |
            ,'         `.      |               |
           /   VoIP      \     |               |
          (    Provider   )    |               |
           \             /     |               |
            `.         ,'      |               |
              '---+---'        |   +------+    |
                  |            |   |PSAP  |    |
          esrp1@foobar.com     |   +--+---+    |
                  |            |      |        |
                  |            |      |        |
              ,---+---.        |      |        |
            ,'         `.      |      |        |
           /   Provider  \     |      |        |
          +    FooBar     )    |      |        |
           \             /     |      |        |
            `.         ,'      |   +--+---+    |
              '---+---'        | +-+ESRP  |    |
                  |            | | +------+    |
                  |            | |             |
                  +------------+-+             |
             esrp-a@esinet.org |               |
                                \             /
                                 `.         ,'
                                   '-------'
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Multi-Stage Resolution&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

				
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Call Forwarding</h3>

<p>Imagine the following case where an emergency call enters an emergency network
					(state.org) via an ERSP but then gets forwarded to a different emergency
					services network (in our example to police-town.org, fire-town.org or
					medic-town.org). The same considerations apply when the the police, fire and
					ambulance networks are part of the state.org sub-domains (e.g.,
					police.state.org). 
</p>
<p>
					<br /><hr class="insert" />
<a name="fwd"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                ,-------.
                              ,'         `.
                             /  Emergency  \
                            |   Services    |
                            |   Network     |
                            |   (state.org) |
                            |               |
                            |               |
                            |   +------+    |
                            |   |PSAP  +--+ |
                            |   +--+---+  | |
                            |      |      | |
                            |      |      | |
                            |      |      | |
                            |      |      | |
                            |      |      | |
                            |   +--+---+  | |
          ------------------+---+ESRP  |  | |
          esrp-a@state.org  |   +------+  | |
                            |             | |
                            |    Call Fwd | |
                            |     +-+-+---+ |
                             \    | | |    /
                              `.  | | |  ,'
                                '-|-|-|-'           ,-------.
                         Police   | | | Fire      ,'         `.
                     +------------+ | +----+     /  Emergency  \
      ,-------.      |              |      |    |   Services    |
    ,'         `.    |              |      |    |   Network     |
   /  Emergency  \   |          Ambulance  |    | fire-town.org |
  |   Services    |  |              |      |    |               |
  |   Network     |  |              +----+ |    |   +------+    |
  |police-town.org|  |     ,-------.     | +----+---+PSAP  |    |
  |               |  |   ,'         `.   |      |   +------+    |
  |   +------+    |  |  /  Emergency  \  |      |               |
  |   |PSAP  +----+--+ |   Services    | |      |               ,
  |   +------+    |    |   Network     | |      `~~~~~~~~~~~~~~~
  |               |    |medic-town.org | |
  |               ,    |               | |
  `~~~~~~~~~~~~~~~     |   +------+    | |
                       |   |PSAP  +----+ +
                       |   +------+    |
                       |               |
                       |               ,
                       `~~~~~~~~~~~~~~~
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Call Forwarding&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

				
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
PSTN Interworking</h3>

<p>In case an emergency call enters the PSTN, as shown in <a class='info' href='#pstn'>Figure&nbsp;3<span> (</span><span class='info'>PSTN Interworking</span><span>)</span></a>,
					there is no guarantee that the callback some time later does leave the same
					PSTN/VoIP gateway or that the same end point identifier is used in the forward
					as well as in the backward direction making it difficult to reliably detect PSAP
					callbacks.
</p>
<p>
					<br /><hr class="insert" />
<a name="pstn"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  +-----------+
  | PSTN      |-------------+
  | Calltaker |             |
  | Bob       |&lt;--------+   |
  +-----------+         |   v
             -------------------
         ////                   \\\\      +------------+
        |                           |     |PSTN / VoIP |
        |             PSTN          |----&gt;|Gateway     |
         \\\\                   ////      |            |
             -------------------          +----+-------+
                        ^                      |
                        |                      |
                  +-------------+              |  +--------+
                  |             |              |  |VoIP    |
                  | PSTN / VoIP |              +-&gt;|Service |
                  | Gateway     |                 |Provider|
                  |             |&lt;------Invite----|   Y    |
                  +-------------+                 +--------+
                                                   |     ^
                                                   |     |
                                                 Invite Invite
                                                   |     |
                                                   V     |
                                                  +-------+
                                                  | SIP   |
                                                  | UA    |
                                                  | Alice |
                                                  +-------+
</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: PSTN Interworking&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

				
</p>
<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD
				NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as
				described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>Emergency services related terminology is borrowed from <a class='info' href='#RFC5012'>[RFC5012]<span> (</span><span class='info'>Schulzrinne, H. and R. Marshall, &ldquo;Requirements for Emergency Context Resolution with Internet Technologies,&rdquo; January&nbsp;2008.</span><span>)</span></a>.
</p>
<a name="requirements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Requirements and Design Approaches</h3>

<p>From the previously presented scenarios, the following generic requirements can be
				crafted:
</p>
<p>
				</p>
<blockquote class="text"><dl>
<dt>Resistance Against Security Vulnerabilities:</dt>
<dd><br />
 The main possibility of attack involves use of the PSAP
						callback marking to bypass blacklists, ignore call forwarding procedures and
						similar features to interact with users and to raise their attention. For
						example, using PSAP callback marking devices would be able to recognize
						these types of incoming messages leading to the device overriding user
						interface configurations, such as vibrate-only mode. As such, the
						requirement is to ensure that the mechanisms described in this document can
						not be used for malicious purposes, including SPIT.
</dd>
<dt>Fallback to Normal Call</dt>
<dd><br />
When the newly
						defined extension is not recognized by intermediaries or other entities then
						it MUST NOT lead to a failure of the call handling procedure but rather a
						fall-back to a call that did not have any marking provided.
</dd>
</dl></blockquote><p>
			
</p>
<p>In addition to the high-level requirements there are a few design choices. </p>
<blockquote class="text"><dl>
<dt>What is the granularity of the decision making?</dt>
<dd><br />
 There are a few choices that impact the solution
						mechanism quite considerably: 
<ul class="text">
<li>Verify that the caller is a PSAP 
</li>
<li>Verify that the call is in response to a previous emergency call.
</li>
<li>Verify that the call is related to an emergency, but not necessarily
								an earlier emergency call. This might include public notification
								(authority-to-citizen).
</li>
</ul>
					
</dd>
<dt>Who calls back?</dt>
<dd><br />
 The relationship between
						the person who previously received the emergency call and the person who
						triggers the callback allows a couple of choices: 
<ul class="text">
<li>The callback has to be made using the same User Agent. 
</li>
<li>The callback has to made by the same user but potentially with a
								different UA.
</li>
<li>A different user from a different UA can make the callback.
</li>
</ul>
					
</dd>
</dl></blockquote><p>
			
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Solution Approaches</h3>

<p>This version of the document does not yet contain a fully specified solution
				description. Instead, it tries to explore the different alternatives. 
</p>
<p> An example solution can be found in an earlier version of <a class='info' href='#I-D.patel-ecrit-sos-parameter'>[I&#8209;D.patel&#8209;ecrit&#8209;sos&#8209;parameter]<span> (</span><span class='info'>Patel, M., &ldquo;SOS Uniform Resource Identifier (URI) Parameter for Marking of Session Initiation Protocol (SIP) Requests related to Emergency Services,&rdquo; February&nbsp;2010.</span><span>)</span></a>. The "sos" URI parameter is appended to
				the URI in the Contact header field of the INVITE request for PSAP call-back
				establishment. Although this approach can distinguish the PSAP call-back from other
				sessions, such a solution is prone to security vulnerabilities since the insertion
				of the URI parameter cannot verify the request was generated from a PSAP rather than
				a malicious entity.
</p>
<p> The usage of the In-Reply-To header field can provide the capability to relate the
				PSAP call-back to a previously made emergency call. The UA of the emergency caller,
				as well as enities within the service provider's network can therefore infer that
				the request is a PSAP callback, providing they maintained information pertaining to
				the emergency call. This solution also relies on the PSAP call-back routing over the
				same entities that the emergency call was routed over if such a solution is used to
				provide preferential treatment of callbacks. A solution based on the inclusion of
				the In-Reply-To header would be useful in the case the network or the UA is required
				to disable services or features which may prevent the callback from reaching the UA
				from which the emergency call was placed. Furthermore, it may facilitate success of
				the callback by removing, for example, incoming call barring restrictions that may
				have been enforced for the emergency caller's service. 
</p>
<p> To fulfill the requirements of verifying the caller is a PSAP, mechanisms such as
				those described in RFC 4474 <a class='info' href='#RFC4474'>[RFC4474]<span> (</span><span class='info'>Peterson, J. and C. Jennings, &ldquo;Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP),&rdquo; August&nbsp;2006.</span><span>)</span></a> or in RFC 3325 <a class='info' href='#RFC3325'>[RFC3325]<span> (</span><span class='info'>Jennings, C., Peterson, J., and M. Watson, &ldquo;Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks,&rdquo; November&nbsp;2002.</span><span>)</span></a> are recommended to be used. Such an approach would mitigate
				security vulnerabilities, but does not explicitly mark the request generated from
				the PSAP as a request for callback. Additional information, such a PSAP whitelist,
				would have to be known. This is, however, only likely to work in a smaller scale
				rather than world wide.
</p>
<p> The use of the Calling Party's Category URI parameter in the P-Asserted-Identity
					<a class='info' href='#RFC3325'>[RFC3325]<span> (</span><span class='info'>Jennings, C., Peterson, J., and M. Watson, &ldquo;Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks,&rdquo; November&nbsp;2002.</span><span>)</span></a>, as described in <a class='info' href='#I-D.patel-dispatch-cpc-oli-parameter'>[I&#8209;D.patel&#8209;dispatch&#8209;cpc&#8209;oli&#8209;parameter]<span> (</span><span class='info'>Patel, M., Jesske, R., and M. Dolly, &ldquo;Uniform Resource Identifier (URI) Parameters for indicating the Calling Party's Category and Originating Line Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>, is one method of a network
				asserted identifier, describing the nature of the calling party and in this case,
				the PSAP. This approach only works when the entity that inserts the CPC parameter is
				trusted by those who verify it. This relies on a circle of trust similar to the a
				white list. Additionally, it has to be mentioned that unlike <a class='info' href='#I-D.ietf-sip-saml'>[I&#8209;D.ietf&#8209;sip&#8209;saml]<span> (</span><span class='info'>Tschofenig, H., Hodges, J., Peterson, J., Polk, J., and D. Sicker, &ldquo;SIP SAML Profile and Binding,&rdquo; March&nbsp;2010.</span><span>)</span></a> applying SIP Identity over the parameter does not
				ensure that the authentication service indeed asserts the validity of the parameter.
			
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>This document provides discussions problems of PSAP callbacks and lists requirements,
				some of which illustrate security challenges. The current version does not yet
				provide a specific solution but rather starts with overall architectural
				observations.
</p>
<p>An important aspect from a security point of view is the relationship between the
				emergency services network and the VSP (assuming that the emergency call travels via
				the VSP and not directly between the SIP UA and the PSAP). If there is a strong
				trust relationship between the PSAP operator and the VSP (for example based on a
				peering relationship) without any intermediate VoIP providers then the
				identification of a PSAP call back is less problematic than in the case where the
				two entities have not entered in some form of relationship that would allow the VSP
				to verify whether the marked callback message indeed came from a legitimate
			source.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgements</h3>

<p>We would like to thank members from the ECRIT working group, in particular Brian
				Rosen, for their discussions around PSAP callbacks. 
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-ecrit-framework">[I-D.ietf-ecrit-framework]</a></td>
<td class="author-text">Rosen, B., Schulzrinne, H., Polk, J., and A. Newton, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-framework-10.txt">Framework for Emergency Calling using Internet Multimedia</a>,&rdquo; draft-ietf-ecrit-framework-10 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-ecrit-framework-10.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sip-saml">[I-D.ietf-sip-saml]</a></td>
<td class="author-text">Tschofenig, H., Hodges, J., Peterson, J., Polk, J., and D. Sicker, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-saml-07.txt">SIP SAML Profile and Binding</a>,&rdquo; draft-ietf-sip-saml-07 (work in progress), March&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-saml-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.patel-dispatch-cpc-oli-parameter">[I-D.patel-dispatch-cpc-oli-parameter]</a></td>
<td class="author-text">Patel, M., Jesske, R., and M. Dolly, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-patel-dispatch-cpc-oli-parameter-02.txt">Uniform Resource Identifier (URI) Parameters for indicating the Calling Party's Category and Originating Line Information</a>,&rdquo; draft-patel-dispatch-cpc-oli-parameter-02 (work in progress), November&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-patel-dispatch-cpc-oli-parameter-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.patel-ecrit-sos-parameter">[I-D.patel-ecrit-sos-parameter]</a></td>
<td class="author-text">Patel, M., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-patel-ecrit-sos-parameter-08.txt">SOS Uniform Resource Identifier (URI) Parameter for Marking of Session Initiation Protocol (SIP) Requests related to Emergency Services</a>,&rdquo; draft-patel-ecrit-sos-parameter-08 (work in progress), February&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-patel-ecrit-sos-parameter-08.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3325">[RFC3325]</a></td>
<td class="author-text">Jennings, C., Peterson, J., and M. Watson, &ldquo;<a href="http://tools.ietf.org/html/rfc3325">Private Extensions to the Session Initiation Protocol (SIP) for Asserted Identity within Trusted Networks</a>,&rdquo; RFC&nbsp;3325, November&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3325.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4474">[RFC4474]</a></td>
<td class="author-text">Peterson, J. and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc4474">Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;4474, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4474.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5012">[RFC5012]</a></td>
<td class="author-text">Schulzrinne, H. and R. Marshall, &ldquo;<a href="http://tools.ietf.org/html/rfc5012">Requirements for Emergency Context Resolution with Internet Technologies</a>,&rdquo; RFC&nbsp;5012, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5012.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5031">[RFC5031]</a></td>
<td class="author-text">Schulzrinne, H., &ldquo;<a href="http://tools.ietf.org/html/rfc5031">A Uniform Resource Name (URN) for Emergency and Other Well-Known Services</a>,&rdquo; RFC&nbsp;5031, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5031.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Henning Schulzrinne</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Columbia University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Department of Computer Science</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">450 Computer Science Building</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">New York, NY  10027</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 212 939 7004</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:hgs+ecrit@cs.columbia.edu">hgs+ecrit@cs.columbia.edu</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.cs.columbia.edu">http://www.cs.columbia.edu</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hannes Tschofenig</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Linnoitustie 6</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Espoo  02600</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358 (50) 4871445</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Hannes.Tschofenig@gmx.net">Hannes.Tschofenig@gmx.net</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.tschofenig.priv.at">http://www.tschofenig.priv.at</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Milan Patel</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nortel</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Maidenhead Office Park, Westacott Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Maidenhead  SL6 3QH</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:milanpa@nortel.com">milanpa@nortel.com</a></td></tr>
</table>
</body></html>
