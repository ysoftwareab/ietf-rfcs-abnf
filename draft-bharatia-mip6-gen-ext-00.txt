



Network Working Group                                        J. Bharatia
Internet-Draft                                           Nortel Networks
Expires: December 3, 2006                                   K. Chowdhury
                                                        Starent Networks
                                                                Jun 2006


            Mobile IPv6 Extension for Configuration Options
                   draft-bharatia-mip6-gen-ext-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 3, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   This document describes the mechanism for providing the host
   configuration information during Mobile IPv6 Binding Update
   procedure.  The Configuration Options extension may be included in
   the Mobile IPv6 Binding Update message for requesting the home agent
   to include configuration parameters needed for network service usage
   (e.g.  DNS).  The requested information is provided by the Home Agent
   in one or more Configuration Options extensions.



Bharatia & Chowdhury    Expires December 3, 2006                [Page 1]

Internet-Draft                                                  Jun 2006


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1.  Glossary of Terms  . . . . . . . . . . . . . . . . . . . .  3
     1.2.  Conventions used in this document  . . . . . . . . . . . .  3
   2.  Configuration Options Extension  . . . . . . . . . . . . . . .  4
   3.  Processing of Configuration Options  . . . . . . . . . . . . .  6
   4.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  9
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . . 10
   6.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 10
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 11
   Intellectual Property and Copyright Statements . . . . . . . . . . 12







































Bharatia & Chowdhury    Expires December 3, 2006                [Page 2]

Internet-Draft                                                  Jun 2006


1.  Introduction

   Currently, there is no mechanism defined for the dynamic
   configuration of the interface parameters in [RFC3775].  This
   information is available to the Mobile Node either by manual
   configuration or it can be obtained by some other means like the use
   of DHCP.

   The proposed extension in this document enables carrying the
   interface parameters essential for the dynamic configuration at the
   Mobile Node.  In this proposal, the configuration parameters are
   assigned by the Home Agent and this information is passed to the
   Mobile Node after successful Mobile IPv6 Binding Update procedure.
   This mechanism is more generic and does not rely on the use of any
   specific link layer.  Note that the scope of this document is to
   emphasize on the mechanism by which the configuration information is
   relayed to the Mobile Node.  It does not include discussion of how
   this configuration information is obtained by the Home Agent.

1.1.  Glossary of Terms

      DNS - Domain Name System [RFC1035]

      DHCPv6 - Dynamic Host Configuration Protocol for IPv6 [RFC3315]

1.2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].





















Bharatia & Chowdhury    Expires December 3, 2006                [Page 3]

Internet-Draft                                                  Jun 2006


2.  Configuration Options Extension

   The following Figure 1 shows the format of the Configuration Options
   extension.  This extension may be included in the Mobile IPv6 Binding
   Update or Mobile IPv6 Binding Acknowledgement by the Mobile Agents,
   the Mobile Node and the Home Agent respectively.

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |    Length     |   Sub-Type    |   Reserved    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Config-Data
   +-+-+-+-+-+-+-...


   Figure 1: Message Format

      Type

         IPV6-CONF-OPTIONS-EXT-TYPE.  This extension value will be
         assigned by IANA from the numbering space defined for Mobile
         IPv6 Binding Acknowledgement Sub-Options in [RFC3775].

      Length

         Indicates the length (in bytes) of the data field within this
         Extension.  The length does NOT include the Type and Length
         bytes.  This field MUST be set to 2 plus the total length of
         the Config-Data field.

      Sub-Type

         At this time the following values are defined:

         0: Reserved.

         1: DHCP Options.

         All other values are reserved for future use.

      Config-Data

         The configuration parameters are packed in DHCP-based formats
         in the Config-Data field.  Since the size of the Config-Data
         field is limited to 253 bytes, the Mobility Agent needs to add
         multiple extensions with this subtype when the configuration
         information exceeds the boundary.  The DHCP option must be



Bharatia & Chowdhury    Expires December 3, 2006                [Page 4]

Internet-Draft                                                  Jun 2006


         contained within one extension and never split up across
         multiple extensions.

















































Bharatia & Chowdhury    Expires December 3, 2006                [Page 5]

Internet-Draft                                                  Jun 2006


3.  Processing of Configuration Options

   This draft provides a mechanism to convey configuration information
   from the Home Agent to the Mobile Node.  The Mobile Node may request
   values for specific configuration parameters from the Home Agent by
   including a "Parameter Request List" option in the Mobile IPv6
   Binding Update.  The list of requested parameters list is specified
   as a string of octets, describing the DHCPv6 opcodes.  The DHCPv6 is
   defined in [RFC3315].

   If this extension is included in the Mobile IPv6 Binding Update, the
   Home Agent should provide the value of requested information in the
   Mobile IPv6 Binding Acknowledgement.  If there is no Configuration
   Option extension in the Mobile IPv6 Binding Update, it is up to the
   the Home Agent to decide which configuration parameter(s) to include
   in the Configuration Options extension.

   The Configuration Options extension must appear prior to any
   authentication extensions added by the Mobile Node in the Mobile IPv6
   Binding Update and also by the Home Agent in the Mobile IPv6 Binding
   Acknowledgement.

   Mobile                        Home
   Node                          Agent

   |                              |
   |<----Router Advertisement-----| 1
   |                              |
   |-----Binding Update---------->| 2
   |  (w/ Configuration Options)  |
   |                              |
   |<--Binding Acknowledgement----| 3
   |  (w/ Configuration Options)  |
   |                              |


   Figure 2: Exchanges of Configuration Information

   The message flow of the solution is shown in Figure 2.  Upon
   successful Mobile IPv6 Binding Update, the Home Agent may append
   requested configuration information in the Binding Acknowledgement
   using the Configuration Options extention.

   The following are the steps involved in the exchange of the
   Configuration Options extension:






Bharatia & Chowdhury    Expires December 3, 2006                [Page 6]

Internet-Draft                                                  Jun 2006


   1.  As per procedure defined in [RFC3775], the Router Advertisement
       is sent to the Mobile Node.

   2.  The Mobile Node sends a Binding Update to the Home Agent.
       Optionally, the Configuration Options extension (discussed in
       Section 2) is included by the Mobile Node with the "Parameter
       Request List" option.  In this case, it is recommended that the
       Mobile Node should set `A' bit in the Binding Update message
       requesting the Binding Acknowledgement from the Home Agent.

   3.  The Home Agent appends Mobile IPv6 Binding Acknowledgement with
       the Configuration Options (discussed in Section 2) for the
       requested configuration options.

   Example:

   Mobile Node wants to obtain the DNS servers' IPv6 addresses [RFC3646]
   and NIS servers' IPv6 address [RFC3898] from its Home Agent during
   registration.  The Binding Update contains the following values in
   the Configuration Options Exchange Extension:

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    <Type>     |   <Length>=10 | <Sub-Type>=1  | <Reserved>=0  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       <OPTION_ORO>=6          |        <option-len>=4         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |<requested-option-code-1>=23   |<requested-option-code-2>= 27  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Figure 3: Example Requested Configuration Parameters

   The Home Agent responds back to the Mobile Node with a Binding
   Acknowledgement including the following values in the Configuration
   Options Exchange Extension.














Bharatia & Chowdhury    Expires December 3, 2006                [Page 7]

Internet-Draft                                                  Jun 2006


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |    <Type>     |   <Length>=42 | <Sub-Type>=1  | <Reserved>=0  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | <OPTION_DNS_SERVERS>=23       |    <option-len>=16            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   |            DNS-recursive-name-server (IPv6 address)           |
   |                                                               |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | <OPTION_NIS_SERVERS>=27       |     <option-len>=16           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   |                   NIS server (IPv6 address)                   |
   |                                                               |
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


   Figure 4: Example Configuration Values in Response





























Bharatia & Chowdhury    Expires December 3, 2006                [Page 8]

Internet-Draft                                                  Jun 2006


4.  IANA Considerations

   This draft defines a new Mobile IPv6 Sub-Options of type IPV6-CONF-
   OPTIONS-EXT-TYPE as defined in Section 2 of this document.  The value
   will be defined by IANA from the numbering space of Binding
   Acknowledgement Sub-Options defined in [RFC3775].













































Bharatia & Chowdhury    Expires December 3, 2006                [Page 9]

Internet-Draft                                                  Jun 2006


5.  Security Considerations

   There are no additional security aspects imposed in this document in
   addition to the one defined in [RFC3775].

6.  References

   [RFC1035]  Mockapetris, P., "Domain names - implementation and
              specification", STD 13, RFC 1035, November 1987.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", RFC 3315, July 2003.

   [RFC3646]  Droms, R., "DNS Configuration options for Dynamic Host
              Configuration Protocol for IPv6 (DHCPv6)", RFC 3646,
              December 2003.

   [RFC3775]  Johnson, D., Perkins, C., and J. Arkko, "Mobility Support
              in IPv6", RFC 3775, June 2004.

   [RFC3898]  Kalusivalingam, V., "Network Information Service (NIS)
              Configuration Options for Dynamic Host Configuration
              Protocol for IPv6 (DHCPv6)", RFC 3898, October 2004.
























Bharatia & Chowdhury    Expires December 3, 2006               [Page 10]

Internet-Draft                                                  Jun 2006


Authors' Addresses

   Jayshree Bharatia
   Nortel Networks
   2221, Lakeside Blvd
   Richardson, TX  75082

   Phone: +1 972-684-5767
   Email: jayshree@nortelnetworks.com


   Kuntal Chowdhury
   Starent Networks
   30 International Place
   Tewksbury, MA  01876

   Phone: +1 214-550-1416
   Email: kchowdhury@starentnetworks.com

































Bharatia & Chowdhury    Expires December 3, 2006               [Page 11]

Internet-Draft                                                  Jun 2006


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2006).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Bharatia & Chowdhury    Expires December 3, 2006               [Page 12]


