<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A LoST extension to return complete and similar location info</title>
<meta content="Brian Rosen" name="author">
<meta content="Roger Marshall" name="author">
<meta content="Jeff Martin" name="author">
<meta content="
       This document describes an extension to the LoST protocol that is
    specified in RFC 5222 that allows additional civic location
    information to be returned in the &lt;locationValidation&gt; element of a
    &lt;findServiceResponse&gt;.  This extension supports two use cases. First,
    when the input location is incomplete, the LoST server can provide a
    complete intended unique address.  Second, when the input location is
    invalid, the LoST server can identify one or more feasible locations.
    This extension is applicable when the location information in the
    &lt;findService&gt; request uses the Basic Civic profile as described in
    RFC 5222
 
    " name="description">
<meta content="xml2rfc 3.12.1" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta name="keyword">
<meta content="complete similar civic location lost 5222 extension" name="keyword">
<meta content="draft-ietf-ecrit-similar-location-18" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.7.1
    pycountry 22.1.10
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.27.1
    setuptools 59.6.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-ietf-ecrit-similar-location-18-plkdcllm.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Returned Location Extensions to LoST</td>
<td class="right">February 2022</td>
</tr></thead>
<tfoot><tr>
<td class="left">Rosen, et al.</td>
<td class="center">Expires 19 August 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ECRIT</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-ecrit-similar-location-18</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc5222" class="eref">5222</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2022-02-15" class="published">15 February 2022</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-08-19">19 August 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">B. Rosen</div>
</div>
<div class="author">
      <div class="author-name">R. Marshall</div>
<div class="org">Comtech TCS</div>
</div>
<div class="author">
      <div class="author-name">J. Martin</div>
<div class="org">Comtech TCS</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A LoST extension to return complete and similar location info</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes an extension to the LoST protocol that is
    specified in RFC 5222 that allows additional civic location
    information to be returned in the &lt;locationValidation&gt; element of a
    &lt;findServiceResponse&gt;.  This extension supports two use cases. First,
    when the input location is incomplete, the LoST server can provide a
    complete intended unique address.  Second, when the input location is
    invalid, the LoST server can identify one or more feasible locations.
    This extension is applicable when the location information in the
    &lt;findService&gt; request uses the Basic Civic profile as described in
    RFC 5222<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 19 August 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2022 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-overview-of-returned-locati" class="xref">Overview of Returned Location Information</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-returned-location-informati" class="xref">Returned Location Information</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-examples" class="xref">Examples</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-complete-location-returned-" class="xref">Complete Location returned for Valid Location</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-similar-location-returned-f" class="xref">Similar Location returned for Invalid Location</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-xml-schema" class="xref">XML Schema</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-xml-schema-registration" class="xref">XML Schema Registration</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-lost-rli-namespace-registra" class="xref">LoST-RLI Namespace Registration</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The LoST protocol <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span> supports the
validation of civic location information sent in a &lt;findService&gt; request, by providing a set of
validation result status indicators in the response.  The current usefulness of the supported
XML elements &lt;valid&gt;, &lt;invalid&gt;, and &lt;unchecked&gt; is limited.
They each provide an indication of validity for any one location element as a
part of the whole civic address, but this is insufficient in providing
either the complete set of civic address elements that the LoST server contains,
or of providing alternate suggestions (hints) as to which civic address is
intended for use.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Whether the queried civic location is valid but missing information, or invalid
due to missing or wrong information, this document provides a
mechanism to return a complete set of civic address elements.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">This enhancement to the validation feature within LoST is required by
systems that rely on accurate location for processing.  When incomplete or incorrect civic location information
is provided, use of this enhancement increases the likelihood
that correct and complete civic location can be learned.
One such use case is that of location-based emergency calling. The
use of this protocol extension facilitates the timely correction of errors, and allows
location servers to be more easily provisioned with complete address information.<a href="#section-1-3" class="pilcrow">¶</a></p>
</section>
<div id="terminology">
<section id="section-2">
      <h2 id="name-terminology">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
    NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
    "MAY", and "OPTIONAL" in this document are to be interpreted as
    described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
    appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">The following terms are defined in this document:<a href="#section-2-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-2-3">
        <dt id="section-2-3.1">Location:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.2"> The term Location is in general used to refer
to either a civic location or a geodetic location. In the context of this document, location is restricted to civic locations.<a href="#section-2-3.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.3">Geodetic Location:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.4"> a geographic coordinate set of
values that describes a point within a defined geographic datum.
For example, a referenced latitude/longitude coordinate pair
(2D), or latitude, longitude, and altitude (3D).  Note: geodetic
location is defined here for context, but is not used
elsewhere within this document.<a href="#section-2-3.4" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.5">Civic Location:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.6">The term Civic Location applies to a
set of one or more Civic Address Elements that are used in conjunction
with each other, and in accordance with a known ruleset to designate a specific place within a region of geography, or a region of geography by itself as defined in <span>[<a href="#RFC5139" class="xref">RFC5139</a>]</span>.<a href="#section-2-3.6" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.7">Civic Address:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.8">The term Civic Address is used
interchangeably with the term Civic Location within this document.<a href="#section-2-3.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.9">Civic Address Element:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.10">The term Civic Address Element is used within
    this document to indicate any individual XML element used within
    the &lt;civicAddress&gt; type defined in <span>[<a href="#RFC5139" class="xref">RFC5139</a>]</span>, including elements used
    at the extension point therein such as those defined in <span>[<a href="#RFC6848" class="xref">RFC6848</a>]</span> and
    elsewhere.  This term also includes the reference to such elements
    by qualified name as defined within the &lt;locationValidation&gt; element
    in <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>.<a href="#section-2-3.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.11">Invalid Location:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.12"> A Civic Location that, when included in a LoST
    query with 'validateLocation' set, will receive a response having
    one or more Civic Address Elements in the &lt;invalid&gt; list.  Note that
    it is also possible that the location information submitted is so
    inaccurate that location validation cannot be performed, and the
    LoST server may return a &lt;notFound&gt; or &lt;locationInvalid&gt; error.  In
    this document, the term Invalid Location only refers to a
    case where the LoST server returns one or more elements in the
    &lt;invalid&gt; list; the error conditions are not considered.<a href="#section-2-3.12" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.13">Valid Location:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.14"> A Civic Location that, when included in a LoST query
    with 'validateLocation' set, will receive a response having all Civic Address Elements in the &lt;valid&gt; or &lt;unchecked&gt; lists.<a href="#section-2-3.14" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.15">Complete Location:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.16"> An expanded civic location that
includes other Civic Address Elements in addition to the existing
validated Civic Address Elements provided as input to a LoST server. Complete Location may be returned when the input location is valid but incomplete<a href="#section-2-3.16" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.17">Similar Location:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.18"> A suggested civic location that is similar to an
    Invalid Location which was used in a LoST query, but which has one
    or more elements added, modified, or removed such that the
    suggested location is a Valid Location. Similar Location may be returned when the input location is invalid<a href="#section-2-3.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
<dt id="section-2-3.19">Returned Location Information:</dt>
        <dd style="margin-left: 1.5em" id="section-2-3.20"> A set of
civic locations returned in a LoST response.<a href="#section-2-3.20" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
</section>
</div>
<div id="overview">
<section id="section-3">
      <h2 id="name-overview-of-returned-locati">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-overview-of-returned-locati" class="section-name selfRef">Overview of Returned Location Information</a>
      </h2>
<p id="section-3-1">This document describes an extension to LoST <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>
that allows additional location information to be returned in the &lt;locationValidation&gt; element of a
&lt;findServiceResponse&gt;.  This extension has two different use cases: First, when the input location is incomplete but the LoST server can identify the intended unique address, and second, when the input location is invalid and the LoST server can identify one or more likely intended locations.  This extension is applicable when the location information in the
&lt;findService&gt; request is in the Basic Civic profile as described in
<span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span> or in another profile whose definition provides instructions
concerning its use with this extension.  As of this document's publication, no
such additional location profiles have been defined, so this
document describes the returned location extension using the Basic Civic profile.  In addition, the
following restriction is imposed:  A server MUST NOT include Returned
Location Information using a location profile that differs from the profile
of the location used to answer the query and, by extension, MUST NOT
include Returned Location Information using a location profile that was
not used by the client in the request.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">When a LoST server is asked to validate a civic location, its goal is to
take the set of Civic Address Elements provided as the location information
in the LoST request, and find a unique location in its database that
matches the information in the request.  Uniqueness might not require
values for all possible elements in the Civic Address that the database might
hold.  Further, the input location information might not represent the form of
location the users of the LoST service prefer to have.  As an example, there
are LoST Civic Address Elements that could be used to define a postal
location, suitable for delivery of mail as well as a municipal location suitable
for responding to an emergency call.  While the LoST server might be able to
determine the location from the postal elements provided, the emergency
services would prefer that the municipal location be used for any
subsequent emergency call.  Since validation is often performed well in
advance of an end user placing an emergency call, if the LoST server
could return the preferred form of location (or more properly in this example, the
municipal elements in addition to the postal elements), those elements
could be stored in a client application such as a Location Information Server (LIS) and used in a later emergency call.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">In addition, this document describes the reuse of the same mechanism,
but for a different purpose: to supply similar location information in the
case where a LoST server response includes one or more Civic Address
Elements marked as invalid, indicating an Invalid Location used in the query. In this case, the response contains
one or more suggested alternative Valid Locations.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">In a LoST &lt;findServiceResponse&gt; indicating a Valid Location (<a href="#terminology" class="xref">Section 2</a>) i.e., containing the &lt;locationValidation&gt; element with no elements listed as invalid, the LoST server can use this extension to include additional location information in a &lt;locationValidation&gt; element.  As an example, a query contains &lt;HNO&gt; (house number), &lt;RD&gt; (road
    name) &lt;A3&gt; (city), &lt;A1&gt; (state/province) but not &lt;POD&gt;
    (Post-Directional).  In this example, there is no street with just
    the street name, all streets have a post-directional.  However, the
    LoST server is able to uniquely locate the intended address and
    thus consider the queried location Valid, as there is only one
    street with the street name and house number in the city
    that it could be.  As the queried location is missing the
    post-directional element, a more strict entity might consider it
    Invalid (e.g., during a subsequent query) or worse, the lack of
    a Post-Directional element might cause confusion and delay
    an emergency response.  The server can use this extension to
    supply the missing post-directional element &lt;POD&gt; in a
    &lt;completeLocation&gt; element within the &lt;locationValidation&gt;
    element.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">
     In another example, the civic location in a request might lack
     &lt;A2&gt; (county) and &lt;PC&gt; (Postal Code) Civic Address Elements.  In
     this example, too, the LoST server is able uniquely locate the
     intended address and consider the location &lt;Valid&gt;, but other
     entities involved in a subsequent emergency call might find it
     helpful to have the additional Civic Address Elements.  The LoST
     server can use this extension to supply the missing &lt;A2&gt; and &lt;PC&gt;
     Civic Address Elements.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">
         Since <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>
does not have a way for this additional location information
to be returned in the &lt;findServiceResponse&gt;, this document extends
the LoST protocol so that it can include a &lt;completeLocation&gt; element within
the &lt;locationValidation&gt; element of the &lt;findServiceResponse&gt; message, allowing for the representation of
complete location information.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">An example showing complete location information supplied:<a href="#section-3-7" class="pilcrow">¶</a></p>
<p id="section-3-8">Input address:<a href="#section-3-8" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-3-9.1">6000 15th Avenue<a href="#section-3-9.1" class="pilcrow">¶</a>
</li>
        <li class="compact ulEmpty" id="section-3-9.2">Leets, WA US<a href="#section-3-9.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-10">Complete Location:<a href="#section-3-10" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-3-11.1">6000 15th Avenue Northwest<a href="#section-3-11.1" class="pilcrow">¶</a>
</li>
        <li class="compact ulEmpty" id="section-3-11.2">Leets, WA 98105 US<a href="#section-3-11.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-12">The information provided in the request may be enough to identify a unique location in the LoST server, but that may not be the location intended by the end user.  The &lt;completeLocation&gt; information may alert the user to a mismatch between the provided location information and the unique location the server interpreted that information to identify.<a href="#section-3-12" class="pilcrow">¶</a></p>
<p id="section-3-13">The other use case for this extension is when the &lt;findService&gt; request contains an Invalid Location.
When a LoST
server returns a response to a &lt;findService&gt; request that contains a set of
Civic Address Elements with one or more listed as invalid, this extension allows the server to include in the &lt;locationValidation&gt; element one or more locations that might be the intended location.<a href="#section-3-13" class="pilcrow">¶</a></p>
<p id="section-3-14">In the example cited above, policy at the LoST server might deem a missing &lt;A3&gt; element as being invalid, even if the location information in the request is sufficient to identify a unique address.  In this case, the missing element is listed in the &lt;invalid&gt; list, and a &lt;similarLocation&gt; element could be returned in the response showing a complete civic location that includes the missing &lt;A3&gt; element, just as in the above example the missing &lt;A3&gt; element is included in a &lt;completeLocation&gt; element.<a href="#section-3-14" class="pilcrow">¶</a></p>
<p id="section-3-15">As another example of the use of &lt;similarLocation&gt;, consider the
results based on a similar data set as used above, but where the
&lt;HNO&gt;, &lt;RD&gt;, &lt;STS&gt;, &lt;A1&gt;, and &lt;A3&gt; Civic Address Elements are not sufficient to
locate a unique address, resulting in an invalid location response. Because the LoST server contains additional civic
address elements which, had they been included in the query, would have resulted in a uniquely identifiable location, the server can include one or more &lt;similarLocation&gt; elements
    containing the supplied Civic Address Elements plus the omitted
    ones.  Since <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>
does not have a way for this additional location information to
be returned in the &lt;findServiceResponse&gt;, this document extends <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>
so that the LoST &lt;locationValidation&gt; element of the &lt;findServiceResponse&gt; can include one or
more &lt;similarLocation&gt; elements
representing similar civic locations.<a href="#section-3-15" class="pilcrow">¶</a></p>
<p id="section-3-16">To show this, suppose that a slightly modified version of the above address  is sent within a Lost
&lt;findService&gt; request:<a href="#section-3-16" class="pilcrow">¶</a></p>
<p id="section-3-17">Input address:<a href="#section-3-17" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-3-18.1">6000 15th Avenue North<a href="#section-3-18.1" class="pilcrow">¶</a>
</li>
        <li class="compact ulEmpty" id="section-3-18.2">Leets, WA US<a href="#section-3-18.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-19">This time we make the assumption that the
address is deemed invalid by the LoST server because there is no such thing
as "15th Avenue North" within the LoST server's data for the city of Leets.  However,
we also happen to know for this example that there are two addresses within the
address dataset that are "similar", when all parts of the address are taken as a
whole.  These similar addresses that could be returned to the client are as follows:<a href="#section-3-19" class="pilcrow">¶</a></p>
<p id="section-3-20">Similar address #1:<a href="#section-3-20" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-3-21.1">6000 15th Avenue Northwest<a href="#section-3-21.1" class="pilcrow">¶</a>
</li>
        <li class="compact ulEmpty" id="section-3-21.2">Leets, WA 98107 US<a href="#section-3-21.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-22">Similar address #2:<a href="#section-3-22" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty">
<li class="compact ulEmpty" id="section-3-23.1">6000 15th Avenue Northeast<a href="#section-3-23.1" class="pilcrow">¶</a>
</li>
        <li class="compact ulEmpty" id="section-3-23.2">Leets, WA 98105 US<a href="#section-3-23.2" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-3-24">This extension allows the LoST server to include the above similar addresses
in the response to a &lt;findService&gt; request with 'validateLocaton' set to true.  <a href="#examples" class="xref">Section 5</a> shows examples of the LoST request and response XML message
fragments for the above valid and invalid scenarios, returning the
complete or similar addresses respectively.<a href="#section-3-24" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rli">
<section id="section-4">
      <h2 id="name-returned-location-informati">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-returned-location-informati" class="section-name selfRef">Returned Location Information</a>
      </h2>
<p id="section-4-1">A LoST server implementing this extension MAY include &lt;completeLocation&gt; or &lt;similarLocation&gt; elements within the &lt;locationValidation&gt; portion of the &lt;findServiceResponse&gt;.  The &lt;completeLocation&gt; and &lt;similarLocation&gt; elements are of type
    "locationInformation" as defined by the LoST schema in <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>.  These elements MAY contain location information
    either in the Basic Civic profile defined in <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span> or in another profile whose definition provides instructions
    concerning its use with this extension but this
    MUST be the same profile as the location in the query.
    When used with the Basic Civic profile, these elements contain  a
    &lt;civicAddress&gt; element as defined in <span>[<a href="#RFC5139" class="xref">RFC5139</a>]</span>.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The LoST server MAY include more than one &lt;similarLocation&gt; element in the response.  If there are too many possible locations, the server MAY return none, or it MAY return a subset considered most likely.  How many to return is left to the implementation of the LoST server.  The server is unable to know what the intended location information was supposed to be; it is guessing.  Therefore the correct location may or may not be one of the &lt;similarLocation&gt; elements the server provides, and the client cannot assume that any one of them is the correct location.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">
Where
a LoST server contains additional location information relating to the Civic
Address used in a &lt;findService&gt; request, the &lt;findServiceResponse&gt; message MAY include a &lt;completeLocation&gt; element containing additional location
information along with the original validated Civic Address Elements; the additional Civic Address Elements may
be deemed by local policy as necessary to form a Complete Location.  The &lt;completeLocation&gt; element MUST NOT be returned in response messages where
any Civic Address Elements occur in the invalid list of the response, or where the set of Civic Address Elements in the request do not identify a unique location. The Complete Location MUST NOT contain any elements that would be marked as invalid, or cause an error, if a recipient of that location performs a subsequent &lt;findService&gt; request using the Complete Location.  However, if a subsequent request includes the Complete Location, the corresponding response MAY include elements in the unchecked list.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">Clients can control the return of additional location information by including the optional 'returnAdditionalLocation' attribute with possible values 'none', 'similar', 'complete' or 'any'.  The value 'none' means to not return additional location information, 'similar' and 'complete' mean to only return the respective type of additional location information (if the server could send any) and 'any' means to include Similar and/or Complete Location (if the server could send any).  If the request includes this attribute, the server MUST NOT send location information contravening the client's request.  Omitting this attribute in the request is equivalent to including it with the value 'none'.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">The server may determine that there are many possible Similar Locations and decide not to send them all.  The number of Similar Locations sent is entirely up to the server.  The server MAY include a 'similarLocationsOmitted' attribute which contains a non-zero integer indicating the minimum number of Similar Locations not included in the response. There may be more than the indicated similar locations available in the data held by the server, but no mechanism to request more Similar Locations is provided.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">Clients MAY ignore the location information this extension defines.  The information is optional to send, and optional to use.  In the case where the location information in the request was valid, this extension does not change the validity.  In the case where the location information in the request is invalid, but alternate location information is returned, the original location remains invalid, and the LoST server does not change the mapping response other than optionally including the information defined by this extension.<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">The &lt;completeLocation&gt; and &lt;similarLocation&gt; elements use the &lt;locationInformation&gt; element from <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span> updated by <span>[<a href="#I-D.ietf-ecrit-lost-planned-changes" class="xref">I-D.ietf-ecrit-lost-planned-changes</a>]</span>, including the 'profile' attribute, which is useful if the request contains location information in a profile other than the 'civic' profile.  The 'profile' attribute MUST be included in both the request and the response and MUST be the same profile in both.<a href="#section-4-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples">
<section id="section-5">
      <h2 id="name-examples">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
      </h2>
<div id="example_valid">
<section id="section-5.1">
        <h3 id="name-complete-location-returned-">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-complete-location-returned-" class="section-name selfRef">Complete Location returned for Valid Location</a>
        </h3>
<p id="section-5.1-1">
This example is based on the example request above; the LoST
server considered the location in the query to be valid but
missing some Civic Address elements, so in the Returned Location
Information in the &lt;findServiceResponse&gt;, the server includes a
&lt;completeLocation&gt; element supplying the omitted Civic Address
elements &lt;A2&gt;, &lt;PC&gt;, and &lt;PCN&gt;.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.1-2">
<pre>

   &lt;!-- =====Request=================================== --&gt;


   &lt;findService xmlns="urn:ietf:params:xml:ns:lost1"
     xmlns:rli="urn:ietf:params:xml:ns:lost-rli1"
     validateLocation="true" rli:returnAdditionalLocation="any"&gt;

     &lt;location id="587cd3880" profile="civic"&gt;
       &lt;civicAddress
         xmlns="urn:ietf:params:mxl:ns:pidf:geopriv10:civicAddr"&gt;

         &lt;country&gt;US&lt;/country&gt;
         &lt;A1&gt;WA&lt;/A1&gt;
         &lt;A3&gt;Leets&lt;/A3&gt;
         &lt;RD&gt;15th&lt;/RD&gt;
         &lt;STS&gt;Avenue&lt;/STS&gt;
         &lt;POD&gt;Northwest&lt;/POD&gt;
         &lt;HNO&gt;6000&lt;/HNO&gt;

       &lt;/civicAddress&gt;
     &lt;/location&gt;

     &lt;service&gt;urn:service:sos&lt;/service&gt;

   &lt;/findService&gt;


   &lt;!-- =====Response================================== --&gt;


   &lt;findServiceResponse
     xmlns="urn:ietf:params:xml:ns:lost1"
     xmlns:rli="urn:ietf:params:xml:ns:lost-rli1"
     xmlns:ca="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"&gt;

     &lt;mapping
       expires="NO-CACHE"
       lastUpdated="2006-11-01T01:00:00Z"
       source="authoritative.example"
       sourceId="8799e346000098aa3e"&gt;

       &lt;displayName xml:lang="en"&gt;Leets 911&lt;/displayName&gt;
       &lt;service&gt;urn:service:sos&lt;/service&gt;
       &lt;uri&gt;sip:leets-911@example.com&lt;/uri&gt;
       &lt;serviceNumber&gt;911&lt;/serviceNumber&gt;

     &lt;/mapping&gt;

     &lt;locationValidation&gt;

       &lt;valid&gt;ca:country ca:A1 ca:A3 ca:RD ca:STS ca:POD ca:HNO
       &lt;/valid&gt;
       &lt;invalid&gt;&lt;/invalid&gt;
       &lt;unchecked&gt;&lt;/unchecked&gt;

       &lt;rli:completeLocation profile="civic"&gt;&lt;!--completed address--&gt;
         &lt;ca:civicAddress&gt;
           &lt;ca:country&gt;US&lt;/ca:country&gt;
           &lt;ca:A1&gt;WA&lt;/ca:A1&gt;
           &lt;ca:A2&gt;SHOWAK COUNTY&lt;/ca:A2&gt;
           &lt;ca:A3&gt;LEETS&lt;/ca:A3&gt;
           &lt;ca:RD&gt;15TH&lt;/ca:RD&gt;
           &lt;ca:STS&gt;AVENUE&lt;/ca:STS&gt;
           &lt;ca:POD&gt;NORTHWEST&lt;/ca:POD&gt;
           &lt;ca:HNO&gt;6000&lt;/ca:HNO&gt;
           &lt;ca:PC&gt;98106&lt;/ca:PC&gt;
           &lt;ca:PCN&gt;LEETS&lt;/ca:PCN&gt;
         &lt;/ca:civicAddress&gt;

     &lt;/rli:completeLocation&gt;

   &lt;/locationValidation&gt;

     &lt;path&gt;
       &lt;via source="authoritative.example"/&gt;
     &lt;/path&gt;

     &lt;locationUsed id="587cd3880"/&gt;

   &lt;/findServiceResponse&gt;


   &lt;!-- =============================================== --&gt;



</pre><a href="#section-5.1-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example_invalid">
<section id="section-5.2">
        <h3 id="name-similar-location-returned-f">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-similar-location-returned-f" class="section-name selfRef">Similar Location returned for Invalid Location</a>
        </h3>
<p id="section-5.2-1">
The following example shows two Similar Locations returned
in a &lt;findServiceResponse&gt; message when the original input address is
considered invalid, in this example because the LoST server needed the omitted POD data to match a unique address.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2-2">
<pre>

&lt;!-- =====Request=================================== --&gt;


   &lt;findService xmlns="urn:ietf:params:xml:ns:lost1"
     xmlns:rli="urn:ietf:params:xml:ns:lost-rli1"
     validateLocation="true"
     rli:returnAdditionalLocation="any"&gt;

     &lt;location id="587cd3880" profile="civic"&gt;
        &lt;civicAddress
         xmlns="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"&gt;

           &lt;country&gt;AU&lt;/country&gt;
           &lt;A1&gt;QLD&lt;/A1&gt;
           &lt;A3&gt;PIMPANA&lt;/A3&gt;
           &lt;RD&gt;SHIRLEY&lt;/RD&gt;
           &lt;STS&gt;STREET&lt;/STS&gt;
           &lt;HNO&gt;98&lt;/HNO&gt;
           &lt;PC&gt;4209&lt;/PC&gt;
           &lt;PCN&gt;PIMPANA&lt;/PCN&gt;

       &lt;/civicAddress&gt;
     &lt;/location&gt;

     &lt;service&gt;urn:service:sos&lt;/service&gt;

   &lt;/findService&gt;

   &lt;!-- =====Response=================================== --&gt;


   &lt;findServiceResponse
     xmlns="urn:ietf:params:xml:ns:lost1"
     xmlns:rli="urn:ietf:params:xml:ns:lost-rli1"
     xmlns:ca="urn:ietf:params:xml:ns:pidf:geopriv10:civicAddr"&gt;

     &lt;mapping
       expires="NO-CACHE"
       lastUpdated="2006-11-01T01:00:00Z"
       source="authoritative.example"
       sourceId="8799e346000098aa3e"&gt;

       &lt;displayName xml:lang="en"&gt;Leets 911&lt;/displayName&gt;
       &lt;service&gt;urn:service:sos&lt;/service&gt;
       &lt;uri&gt;sip:leets-911@example.com&lt;/uri&gt;
       &lt;serviceNumber&gt;911&lt;/serviceNumber&gt;

     &lt;/mapping&gt;

     &lt;locationValidation similarLocationsOmitted="5"&gt;

       &lt;valid&gt;ca:country ca:A1 ca:A3 ca:STS ca:RD&lt;/valid&gt;
       &lt;invalid&gt;ca:POD&lt;/invalid&gt;
       &lt;unchecked&gt;ca:HNO&lt;/unchecked&gt;

       &lt;rli:similarLocation profile="civic"&gt;&lt;!--similar location--&gt;
         &lt;ca:civicAddress&gt;  &lt;!-- similar address #1 --&gt;
           &lt;ca:country&gt;AU&lt;/ca:country&gt;
           &lt;ca:A1&gt;QLD&lt;/ca:A1&gt;
           &lt;ca:A2&gt;SHOWAK COUNTY&lt;/ca:A2&gt;
           &lt;ca:A3&gt;LEETS&lt;/ca:A3&gt;
           &lt;ca:RD&gt;15TH&lt;/ca:RD&gt;
           &lt;ca:STS&gt;AVENUE&lt;/ca:STS&gt;
           &lt;ca:POD&gt;NORTHWEST&lt;/ca:POD&gt;
           &lt;ca:HNO&gt;6000&lt;/ca:HNO&gt;
           &lt;ca:PC&gt;98106&lt;/ca:PC&gt;
           &lt;ca:PCN&gt;LEETS&lt;/ca:PCN&gt;
         &lt;/ca:civicAddress&gt;
       &lt;/rli:similarLocation&gt;
       &lt;rli:similarLocation profile="civic" &gt;
         &lt;ca:civicAddress&gt;  &lt;!-- similar address #2 --&gt;
           &lt;ca:country&gt;US&lt;/ca:country&gt;
           &lt;ca:A1&gt;WA&lt;/ca:A1&gt;
           &lt;ca:A2&gt;SHOWAK COUNTY&lt;/ca:A2&gt;
           &lt;ca:A3&gt;LEETS&lt;/ca:A3&gt;
           &lt;ca:RD&gt;15TH&lt;/ca:RD&gt;
           &lt;ca:STS&gt;AVENUE&lt;/ca:STS&gt;
           &lt;ca:POD&gt;NORTHEAST&lt;/ca:POD&gt;
           &lt;ca:HNO&gt;6000&lt;/ca:HNO&gt;
           &lt;ca:PC&gt;98105&lt;/ca:PC&gt;
           &lt;ca:PCN&gt;LEETS&lt;/ca:PCN&gt;
         &lt;/ca:civicAddress&gt;
     &lt;/rli:similarLocation&gt;

   &lt;/locationValidation&gt;

     &lt;path&gt;
       &lt;via source="authoritative.example"/&gt;
     &lt;/path&gt;

     &lt;locationUsed id="587cd3880"/&gt;

   &lt;/findServiceResponse&gt;


   &lt;!-- =============================================== --&gt;


</pre><a href="#section-5.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="XMLSchema">
<section id="section-6">
      <h2 id="name-xml-schema">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-xml-schema" class="section-name selfRef">XML Schema</a>
      </h2>
<p id="section-6-1">This section provides the schema of the LoST extensions, based on the schema in
  <span>[<a href="#I-D.ietf-ecrit-lost-planned-changes" class="xref">I-D.ietf-ecrit-lost-planned-changes</a>]</span><a href="#section-6-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6-2">
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:lost1="urn:ietf:params:xml:ns:lost1"
           xmlns="urn:ietf:params:xml:ns:lost-rli1"
           targetNamespace="urn:ietf:params:xml:ns:lost-rli1"
           elementFormDefault="qualified"&gt;
     &lt;!-- Import base Lost --&gt;
     &lt;xs:import namespace="urn:ietf:params:xml:ns:lost1"/&gt;
&lt;!-- extend findService by placing the following
    at the extensionPoint
    in the included commonRequestPattern: --&gt;
      &lt;xs:attribute name="returnAdditionalLocation" use="optional"&gt;
       &lt;xs:simpleType&gt;
          &lt;xs:restriction base="xs:token"&gt;
            &lt;xs:enumeration value="none"/&gt;
            &lt;xs:enumeration value="similar"/&gt;
            &lt;xs:enumeration value="complete"/&gt;
            &lt;xs:enumeration value="any"/&gt;
          &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
      &lt;/xs:attribute&gt;


      &lt;!-- extend locationValidation by placing the following
               at the extensionPoint --&gt;
      &lt;xs:group&gt;
        &lt;xs:choice minOccurs="0"&gt;
          &lt;xs:element name="similarLocation"
                    type="lost1:locationInformation"
                    minOccurs="1" maxOccurs="unbounded" /&gt;
          &lt;xs:element name="completeLocation"
                    type="lost1:locationInformation"/&gt;
        &lt;/xs:choice&gt;
      &lt;/xs:group&gt;

      &lt;!-- and also at the locationValidation extensionPoint --&gt;
      &lt;xs:attribute name="similarLocationsOmitted" use="optional"&gt;
        &lt;xs:simpleType&gt;
          &lt;xs:restriction base="xs:integer"&gt;
              &lt;xs:minInclusive value="1"/&gt;
              &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
      &lt;/xs:attribute&gt;

&lt;/xs:schema&gt;

</pre><a href="#section-6-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="security">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">As this document defines extensions to <span>[<a href="#RFC5222" class="xref">RFC5222</a>]</span>, the Security Considerations of that document apply here.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">Whether the input to the LoST server is a Valid or Invalid Location, the LoST
server ultimately determines what it considers to be a Valid Location.  Even
in the case where the input location is valid, the requester still might not
actually understand where that location is.  For this kind of Valid Location
use case, this extension will typically return more location information
than what the requester started with, which might reveal to the requester additional information (additional CAtypes) about the
location.  While this is very desirable in some scenarios such as supporting an emergency call, it might not be as desirable
for other services.  Individual LoST server implementations SHOULD
consider the risk of releasing more detail versus the value in doing so.
Generally, supplying more information (CAtypes) is not considered to be a significant problem because
the requester has to already have enough information for the location to be considered
valid, which in most cases is enough to uniquely locate the address.
Providing more CAtypes generally doesn't actually reveal anything more.
When Invalid Locations are submitted, this extension allows the
LoST response to include locations that are similar to what
was input, again resulting in more information provided in the response
than was sent in the request.  LoST server implementations SHOULD
evaluate the particular use cases where this extension is supported,
and weigh the risks around its use.  Many services
available today via the Internet offer similar features, such as "did you
mean" or address completion, so this capability is not introducing
any fundamentally new security concern.<a href="#section-7-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<section id="section-8.1">
        <h3 id="name-xml-schema-registration">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-xml-schema-registration" class="section-name selfRef">XML Schema Registration</a>
        </h3>
<p id="section-8.1-1">IANA is requested to register the following in the "schema" sub-registry of the IETF XML Registry per <span>[<a href="#RFC3688" class="xref">RFC3688</a>]</span>.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1-2">
<pre>
   URI:  urn:ietf:params:xml:schema:lost-rli1

   Registrant Contact:  IETF ECRIT Working Group, Brian Rosen
      (br@brianrosen.net).

   XML Schema: The XML schema to be registered is contained
      in Section 6.
</pre><a href="#section-8.1-2" class="pilcrow">¶</a>
</div>
</section>
<section id="section-8.2">
        <h3 id="name-lost-rli-namespace-registra">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-lost-rli-namespace-registra" class="section-name selfRef">LoST-RLI Namespace Registration</a>
        </h3>
<p id="section-8.2-1">IANA is requested to register the following in the "ns" sub-registry of the IETF XML registry per <span>[<a href="#RFC3553" class="xref">RFC3553</a>]</span>.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.2-2">
<pre>


   URI:  urn:ietf:params:xml:ns:lost-rli1

   Registrant Contact:  IETF ECRIT Working Group, Brian Rosen
      (br@brianrosen.net).

   XML:

BEGIN
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
  "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;meta http-equiv="content-type"
        content="text/html;charset=iso-8859-1"/&gt;
  &lt;title&gt;LoST Returned Location Information Namespace&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Namespace for LoST Returned Location Information extension&lt;/h1&gt;
  &lt;h2&gt;urn:ietf:params:xml:ns:lost-rli1&lt;/h2&gt;
&lt;p&gt;See &lt;a href="http://www.rfc-editor.org/rfc/rfc????.txt"&gt;
   RFC????&lt;/a&gt;.&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
END
</pre><a href="#section-8.2-2" class="pilcrow">¶</a>
</div>
</section>
</section>
</div>
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="I-D.ietf-ecrit-lost-planned-changes">[I-D.ietf-ecrit-lost-planned-changes]</dt>
        <dd>
<span class="refAuthor">Rosen, B.</span>, <span class="refTitle">"Validation of Locations Around a Planned Change"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-ecrit-lost-planned-changes-05</span>, <time datetime="2021-10-11" class="refDate">11 October 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-ietf-ecrit-lost-planned-changes-05.txt">https://www.ietf.org/archive/id/draft-ietf-ecrit-lost-planned-changes-05.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3553">[RFC3553]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refAuthor">Masinter, L.</span>, <span class="refAuthor">Hardie, T.</span>, and <span class="refAuthor">G. Klyne</span>, <span class="refTitle">"An IETF URN Sub-namespace for Registered Protocol Parameters"</span>, <span class="seriesInfo">BCP 73</span>, <span class="seriesInfo">RFC 3553</span>, <span class="seriesInfo">DOI 10.17487/RFC3553</span>, <time datetime="2003-06" class="refDate">June 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3553">https://www.rfc-editor.org/info/rfc3553</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3688">[RFC3688]</dt>
        <dd>
<span class="refAuthor">Mealling, M.</span>, <span class="refTitle">"The IETF XML Registry"</span>, <span class="seriesInfo">BCP 81</span>, <span class="seriesInfo">RFC 3688</span>, <span class="seriesInfo">DOI 10.17487/RFC3688</span>, <time datetime="2004-01" class="refDate">January 2004</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3688">https://www.rfc-editor.org/info/rfc3688</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5139">[RFC5139]</dt>
        <dd>
<span class="refAuthor">Thomson, M.</span> and <span class="refAuthor">J. Winterbottom</span>, <span class="refTitle">"Revised Civic Location Format for Presence Information Data Format Location Object (PIDF-LO)"</span>, <span class="seriesInfo">RFC 5139</span>, <span class="seriesInfo">DOI 10.17487/RFC5139</span>, <time datetime="2008-02" class="refDate">February 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5139">https://www.rfc-editor.org/info/rfc5139</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5222">[RFC5222]</dt>
        <dd>
<span class="refAuthor">Hardie, T.</span>, <span class="refAuthor">Newton, A.</span>, <span class="refAuthor">Schulzrinne, H.</span>, and <span class="refAuthor">H. Tschofenig</span>, <span class="refTitle">"LoST: A Location-to-Service Translation Protocol"</span>, <span class="seriesInfo">RFC 5222</span>, <span class="seriesInfo">DOI 10.17487/RFC5222</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5222">https://www.rfc-editor.org/info/rfc5222</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC6848">[RFC6848]</dt>
      <dd>
<span class="refAuthor">Winterbottom, J.</span>, <span class="refAuthor">Thomson, M.</span>, <span class="refAuthor">Barnes, R.</span>, <span class="refAuthor">Rosen, B.</span>, and <span class="refAuthor">R. George</span>, <span class="refTitle">"Specifying Civic Address Extensions in the Presence Information Data Format Location Object (PIDF-LO)"</span>, <span class="seriesInfo">RFC 6848</span>, <span class="seriesInfo">DOI 10.17487/RFC6848</span>, <time datetime="2013-01" class="refDate">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6848">https://www.rfc-editor.org/info/rfc6848</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Brian Rosen</span></div>
<div dir="auto" class="left"><span class="street-address">470 Conrad Dr</span></div>
<div dir="auto" class="left">
<span class="locality">Mars</span>, <span class="region">PA</span> <span class="postal-code">16046</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:br@brianrosen.net" class="email">br@brianrosen.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Roger Marshall</span></div>
<div dir="auto" class="left"><span class="org">Comtech TCS</span></div>
<div dir="auto" class="left"><span class="street-address">2401 Elliott Avenue<br>2nd Floor</span></div>
<div dir="auto" class="left">
<span class="locality">Seattle</span>, <span class="region">WA</span> <span class="postal-code">98121</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:roger.marshall@comtechtel.com" class="email">roger.marshall@comtechtel.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jeff Martin</span></div>
<div dir="auto" class="left"><span class="org">Comtech TCS</span></div>
<div dir="auto" class="left"><span class="street-address">2401 Elliott Avenue<br>2nd Floor</span></div>
<div dir="auto" class="left">
<span class="locality">Seattle</span>, <span class="region">WA</span> <span class="postal-code">98121</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jeff.martin@comtechtel.com" class="email">jeff.martin@comtechtel.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
