<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>RTCWEB Media Privacy</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Media Security Requirements">
<link href="#rfc.section.3" rel="Chapter" title="3 Security Mechanism Discussion">
<link href="#rfc.section.4" rel="Chapter" title="4 Summary">
<link href="#rfc.section.5" rel="Chapter" title="5 Security Considerations">
<link href="#rfc.references" rel="Chapter" title="6 References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="RTCWEB is the joint effort between the IETF and the W3C to add real-time voice, video, and communication capabilities to browsers.  This document looks at the requirements for media privacy and existing mechanisms.  " />
  <meta name="description" content="RTCWEB is the joint effort between the IETF and the W3C to add real-time voice, video, and communication capabilities to browsers.  This document looks at the requirements for media privacy and existing mechanisms.  " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">A. Johnston</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Avaya</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">P. Zimmermann</td>
</tr>
<tr>
<td class="left">Expires: December 02, 2011</td>
<td class="right">Zfone Project</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">May 31, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">RTCWEB Media Privacy<br />
  <span class="filename">draft-johnston-rtcweb-media-privacy-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>RTCWEB is the joint effort between the IETF and the W3C to add real-time voice, video, and communication capabilities to browsers.  This document looks at the requirements for media privacy and existing mechanisms.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted to IETF in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 02, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Media Security Requirements</a>
</li>
<li>3.   <a href="#rfc.section.3">Security Mechanism Discussion</a>
</li>
<li>4.   <a href="#rfc.section.4">Summary</a>
</li>
<li>5.   <a href="#rfc.section.5">Security Considerations</a>
</li>
<li>6.   <a href="#rfc.references">References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">The requirements for real-time communications in web browsers or RTCWEB are currently being discussed and developed. For both the IETF and the W3C, there are significant challenges due to the unique architecture of browsers.  </p>
<p id="rfc.section.1.p.2">The same is true for security as well - the requirements are evolving, but starting to come into focus.  This draft raises a few issues relating to media security and privacy, something the authors have spent considerable time and effort thinking, writing, and deploying code over the past seven years.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Media Security Requirements</h1>
<p id="rfc.section.2.p.1">One possible model for RTCWEB is described in <a href="#I-D.alvestrand-dispatch-rtcweb-protocols">[I-D.alvestrand-dispatch-rtcweb-protocols]</a>, which is summarized here.  To implement RTCWEB, both signaling and media is needed.  Media for audio and video will likely use <a href="#RFC3550">RTP</a> <cite title="NONE">[RFC3550]</cite>, and using some NAT traversal/media authorization approach, will ideally go end-to-end between the two browsers, bypassing the web server and any intermediaries.  <a href="#RFC5245">ICE</a> <cite title="NONE">[RFC5245]</cite> is commonly mentioned as a potential protocol for both the NAT traversal method and also for the media authorization method.  </p>
<p id="rfc.section.2.p.2">Signaling is quite a different story, however.  This approach does not standardize any signaling between the browser and the web server.  Instead, the state machine and capability negotiation abilities will be downloaded from the web server into the browser - the same way other features and functionality are provided in web apps and pages today.  For example, Javascript could be used for this purpose.  </p>
<p id="rfc.section.2.p.3">There are two interesting side effects of this.  It means that there will be many different signaling protocols used for RTCWEB.  Also, it means that will not be any single security or trust model for the signaling - it will depend on the web page, the application, and the way in which the signaling works.  </p>
<p id="rfc.section.2.p.4">Both of these side effects pose significant challenges for media security.  The best way to secure RTP streams is to use <a href="#RFC3711">SRTP</a> <cite title="NONE">[RFC3711]</cite>.  However, SRTP requires a key management protocol.  A key management protocol generates and distributes the symmetric secret keys to the sender and receiver of the stream.  The simplest SRTP key management is to have the SRTP sender generate the key and use the signaling channel to send it to the receiver.  However, in order to do this, the signaling protocol must meet some security requirements relating to confidentiality.  In the RTCWEB architecture, there is no standardization of the signaling protocol possible, and hence this approach can not be used.  Another approach which does not rely on security properties of the signaling protocol is to use a key management system backed by a PKI.  In this way, secret keys can be transported by any signaling protocol.  However, this requires public private key pairs on every browser, and the infrastructure to manage them.  </p>
<p id="rfc.section.2.p.5">Instead, what is needed is a key management protocol for SRTP that does not place any reliance on the signaling protocol.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> Security Mechanism Discussion</h1>
<p id="rfc.section.3.p.1">The issues and requirements in the previous section are very different from those normally encountered in telephony systems.  Nearly all key management protocols for SRTP either rely on a PKI-backed certificate or place strict requirements and trust on the signaling layer.  However, the <a href="#RFC6189">ZRTP key management protocol</a> <cite title="NONE">[RFC6189]</cite> does not.  In fact, to read its design principles, one might come to the conclusion that it was specifically designed for RTCWEB, despite the fact that it predates the RTCWEB effort by five years.  </p>
<p id="rfc.section.3.p.2">ZRTP is an entirely self-contained key management protocol for SRTP that places no requirements or reliance on the signaling path.  It was originally designed as an extension to RTP, but is now a separate protocol that runs over the same ports and IP addresses as an RTP stream.  Today, ZRTP is used with SIP, Jingle, and even proprietary VoIP (Voice over IP) and video systems - the only requirement is that they use RTP for media.  This flexibility is something that is simply not possible for other key management protocols.  It  implements its own discovery mechanism, having first applied the concept of "Best Effort Encryption" to VoIP as defined in <a href="#RFC5479">[RFC5479]</a>.  It uses an in-band Diffie Hellman exchange to generate the secret keying material for SRTP.  ZRTP avoids the need for PKI backed certificates by using techniques borrowed from SSH and key continuity.  </p>
<p id="rfc.section.3.p.3">ZRTP has been widely discussed in the IETF, and has been published by the IETF as an informational RFC, to document an existing and deployed security model.  Through this process, ZRTP benefited from significant review from the IETF and security community.  ZRTP inspired other media-path keying protocols such as DTLS/SRTP <a href="#RFC5764">[RFC5764]</a>.  However, DTLS-SRTP missed the mark on many of the key advantages of ZRTP and has seen little or no deployment or interest in the marketplace despite being published as a proposed standard.  The single most important failure is its reliance on either PKI backed endpoint certificates, or on an end-to-end integrity protected signaling path.  While there are SIP mechanisms that have been published to implement an end-to-end integrity protected signaling path <a href="#RFC4474">[RFC4474]</a>, this approach also has no deployment and no traction in the industry.  As discussed earlier, there is way to place any requirements on the signaling protocol, let alone one as difficult as end-to-end integrity protection.  </p>
<p id="rfc.section.3.p.4">In the development of ZRTP, it was realized that there are scenarios in which the media can not be encrypted end-to-end.  For example, when a client has a trusted server or PBX which provides media services in the path.  For these cases, ZRTP developed mechanisms for handling a "trusted MiTM" which can terminate than reoriginate the SRTP encryption.  This is done without compromising the basic security of the protocol, or allowing arbitrary MiTM entities in the media path.  With RTCWEB applications, there may be cases where the web server application is providing media services and hence needs access to the media path.  ZRTP can support these scenarios, allowing for a user to explicitly authorize this, while still having all the benefits of ZRTP.  ZRTP also handles cases where each endpoint of a communications session have a trusted MiTM.  In this case, there will actually be three separately encrypted media paths.  These types of scenarios could easily be encountered where each user has a trusted MiTM web server.  </p>
<p id="rfc.section.3.p.5">To take full advantage of ZRTP, a voice path is needed in order for users to compare the Short Authentication String (SAS).  However, ZRTP still provides security similar to SSH in its key continuity.  Also, ZRTP normally requires a display for rendering the SAS, but this is not an issue for a browser.  </p>
<p id="rfc.section.3.p.6">RFC 6189 documents the ZRTP protocol as it is deployed today in VoIP systems.  For the RTCWEB application, it is likely that modifications and enhancements might need to be made.  It is the hope of the authors that these modifications could be done by the working group in a way that does not compromise the core principles of ZRTP, and also perhaps provides fallback interoperabilty between browsers and existing ZRTP VoIP devices and systems.  </p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> Summary</h1>
<p id="rfc.section.4.p.1">In summary, this draft has discussed some of the unique requirements of RTCWEB media security and shown that ZRTP actually meets these.  In fact, the authors believe that ZRTP is ideally architected for providing media security, privacy, and even some identity services for RTCWEB.  ZRTP is not perfect, but it has the correct architecture that other protocols do not have, and can be adapted to meet the needs of the RTCWEB effort.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Security Considerations</h1>
<p id="rfc.section.5.p.1">This whole document is about security.  In the RTCWEB effort, we are hoping to provide a browser based real-time communication platform that can be trusted and used by Internet users worldwide.  The privacy of the browser to browser media path should be our most important concern.  Choosing the wrong media security approach will hurt users of the Internet and limit the usefulness of the HTML5 RTCWEB extensions.  It is the hope of the authors that the IETF will take this responsibility seriously and give users of RTCWEB the best options for media security and privacy.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">6.</a> References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="I-D.alvestrand-dispatch-rtcweb-protocols">[I-D.alvestrand-dispatch-rtcweb-protocols]</b></td>
<td class="top">
<a>Alvestrand, H</a>, "<a href="http://tools.ietf.org/html/draft-alvestrand-dispatch-rtcweb-protocols-01">Overview: Real Time Protocols for Brower-based Applications</a>", Internet-Draft draft-alvestrand-dispatch-rtcweb-protocols-01, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3550">[RFC3550]</b></td>
<td class="top">
<a>Schulzrinne, H.</a>, <a>Casner, S.</a>, <a>Frederick, R.</a> and <a>V. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>", STD 64, RFC 3550, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5245">[RFC5245]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, "<a href="http://tools.ietf.org/html/rfc5245">Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols</a>", RFC 5245, April 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3711">[RFC3711]</b></td>
<td class="top">
<a>Baugher, M.</a>, <a>McGrew, D.</a>, <a>Naslund, M.</a>, <a>Carrara, E.</a> and <a>K. Norrman</a>, "<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP)</a>", RFC 3711, March 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6189">[RFC6189]</b></td>
<td class="top">
<a>Zimmermann, P.</a>, <a>Johnston, A.</a> and <a>J. Callas</a>, "<a href="http://tools.ietf.org/html/rfc6189">ZRTP: Media Path Key Agreement for Unicast Secure RTP</a>", RFC 6189, April 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5479">[RFC5479]</b></td>
<td class="top">
<a>Wing, D.</a>, <a>Fries, S.</a>, <a>Tschofenig, H.</a> and <a>F. Audet</a>, "<a href="http://tools.ietf.org/html/rfc5479">Requirements and Analysis of Media Security Management Protocols</a>", RFC 5479, April 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5764">[RFC5764]</b></td>
<td class="top">
<a>McGrew, D.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5764">Datagram Transport Layer Security (DTLS) Extension to Establish Keys for the Secure Real-time Transport Protocol (SRTP)</a>", RFC 5764, May 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4474">[RFC4474]</b></td>
<td class="top">
<a>Peterson, J.</a> and <a>C. Jennings</a>, "<a href="http://tools.ietf.org/html/rfc4474">Enhancements for Authenticated Identity Management in the Session Initiation Protocol (SIP)</a>", RFC 4474, August 2006.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Alan Johnston</span> 
	  <span class="n hidden">
		<span class="family-name">Johnston</span>
	  </span>
	</span>
	<span class="org vcardline">Avaya</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality">St. Louis</span>,  
		<span class="region">MO</span> 
		<span class="code">63124</span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:alan.b.johnston@gmail.com">alan.b.johnston@gmail.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Philip Zimmermann</span> 
	  <span class="n hidden">
		<span class="family-name">Zimmermann</span>
	  </span>
	</span>
	<span class="org vcardline">Zfone Project</span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:prz@mit.edu">prz@mit.edu</a></span>

  </address>
</div>

</body>
</html>