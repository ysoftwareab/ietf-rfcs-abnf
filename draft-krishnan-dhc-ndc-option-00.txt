


Network Working Group                                        S. Krishnan
Internet-Draft                                                  Ericsson
Intended status: Standards Track                         August 23, 2007
Expires: February 24, 2008


                Neighbor Discovery Information over DHCP
                    draft-krishnan-dhc-ndc-option-00

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on February 24, 2008.

Copyright Notice

   Copyright (C) The IETF Trust (2007).














Krishnan                Expires February 24, 2008               [Page 1]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


Abstract

   Neighbor discovery options, in addition to being used for Neighbor
   Discovery, are used to convey some forms of network configuration
   information to the hosts attached to a network.  Some centrally
   managed networks, that do not wish to configure their routers to
   advertise these pieces of information, might use a DHCP server to
   configure there parameters.  This document defines a generic DHCP
   option for carrying these parameters.


Table of Contents

   1.  Requirements notation  . . . . . . . . . . . . . . . . . . . .  3
   2.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  Applicability  . . . . . . . . . . . . . . . . . . . . . . . .  5
   4.  Operation  . . . . . . . . . . . . . . . . . . . . . . . . . .  6
   5.  Neighbor Discovery Container(NDC) Option . . . . . . . . . . .  7
   6.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  9
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 10
   8.  Normative References . . . . . . . . . . . . . . . . . . . . . 11
   Author's Address . . . . . . . . . . . . . . . . . . . . . . . . . 12
   Intellectual Property and Copyright Statements . . . . . . . . . . 13




























Krishnan                Expires February 24, 2008               [Page 2]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


1.  Requirements notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].














































Krishnan                Expires February 24, 2008               [Page 3]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


2.  Introduction

   Router Advertisements (RAs) as defined in [RFC2461] are used to
   deliver configuration information that is common to several nodes in
   the same network.  The router advertisements are usually multicasted
   to all nodes in a given network in order to be scalable.  The
   configuration information is contained in Neigbor Discovery (ND)
   options.  DHCP [RFC3315] is used for delivering addressing
   information and other related configuration information to single
   clients when they request it.  Since there are two mechanisms for
   delivering configuration information to a given node, configuration
   parameters need to be defined under two varying option formats.  This
   leads to duplication of work needed to standardize these options and
   additional implementation complexity on hosts in order to process
   these option variants.  In order to prevent this duplication, this
   document proposes a DHCP option that can be used to directly carry
   any neighbor discovery option.


































Krishnan                Expires February 24, 2008               [Page 4]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


3.  Applicability

   It is possible to carry any neighbor discovery option using the NDC
   option.  This does not always make sense since there are neigbor
   discovery options that are not related to configuration.  The NDC
   option SHOULD NOT be used to carry neighbor discovery options that
   are not related to configuration. e.g.  Source Link-layer Address,
   Target Link-layer Address etc.











































Krishnan                Expires February 24, 2008               [Page 5]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


4.  Operation

   After a DHCP client receives a message that contains a NDC option it
   needs to verify if the NDC option length is at least 8 octets.  If it
   is not, the client MUST NOT process the NDC option any further and
   SHOULD log an error message locally.  Otherwise it needs to process
   the embedded Neighbor Discovery options one at a time as it would if
   it had received them through a Router Advertisement.  It is entirely
   possible that the code for processing these options is shared between
   the RA based delivery and DHCP based delivery of these options.









































Krishnan                Expires February 24, 2008               [Page 6]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


5.  Neighbor Discovery Container(NDC) Option

   The DHCP NDC option is used to carry complete neighbor discovery
   options.  There can be more than one neighbor discovery option that
   is contained in a NDC.  The number of contained options is not
   explicitly mentioned in the NDC.  The receiving node needs to process
   all the contained options

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |          OPTION_NDC           |        Option Length          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  OPT1_Type    | OPT1_Length   |                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
       |                                                               |
       |                          OPT1_Data                            |
       .                                                               .
       .                                                               .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |  OPTn_Type    | OPTn_Length   |                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               |
       |                                                               |
       |                          OPTn_Data                            |
       .                                                               .
       .                                                               .
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

       OPTION_NDC

          DHCP Option code allocated for the NDC option. To be
          allocated by IANA out of the dhcpv6 parameters for option
          codes.

       Option Length

          Length of the NDC option in octets not including the Option
          Code and the Option Length fields. i.e. Combined length of
          the included neighbor discovery options.

       OPT1_Type

          The neighbor discovery option type of the first included
          option.

       OPT1_Length



Krishnan                Expires February 24, 2008               [Page 7]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


          The length of the first included option (including the
          OPT1_Type and OPT1_Length fields) in units of 8 octets. The
          value 0 is invalid.

       OPT1_Data

          The data field of the first included neighbor discovery
          option. The contents of this field are determined by the type
          of the option.

       OPTn_Type

          The neighbor discovery option type of the nth included option.

       OPTn_Length

          The length of the nth included option (including the OPT1_Type
          and OPT1_Length fields) in units of 8 octets. The value 0 is
          invalid.

       OPTn_Data

          The data field of the nth included neighbor discovery option.
          The contents of this field are determined by the type of the
          option.


                           Figure 1: NDC layout























Krishnan                Expires February 24, 2008               [Page 8]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


6.  IANA Considerations

   This document defines a new DHCPv6 option code for carrying neighbor
   discovery options.  IANA is requested to assign the following new
   DHCPv6 Option Code in the registry maintained at

   http://www.iana.org/assignments/dhcpv6-parameters:

   OPTION_NDC










































Krishnan                Expires February 24, 2008               [Page 9]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


7.  Security Considerations

   The mechanism described in this document provides a method by which
   one or more neighbor discovery options can be carried using DHCP
   messages.  The DHCP messages containing the NDC option may be
   intercepted, modified or replayed in order to communicate false
   configuration data to the client hosts.  In order to prevent these
   kinds of attacks, it is recommended that authenticated DHCP [RFC3118]
   be used.










































Krishnan                Expires February 24, 2008              [Page 10]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


8.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2461]  Narten, T., Nordmark, E., and W. Simpson, "Neighbor
              Discovery for IP Version 6 (IPv6)", RFC 2461,
              December 1998.

   [RFC3118]  Droms, R. and W. Arbaugh, "Authentication for DHCP
              Messages", RFC 3118, June 2001.

   [RFC3315]  Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C.,
              and M. Carney, "Dynamic Host Configuration Protocol for
              IPv6 (DHCPv6)", RFC 3315, July 2003.




































Krishnan                Expires February 24, 2008              [Page 11]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


Author's Address

   Suresh Krishnan
   Ericsson
   8400 Decarie Blvd.
   Town of Mount Royal, QC
   Canada

   Phone: +1 514 345 7900 x42871
   Email: suresh.krishnan@ericsson.com









































Krishnan                Expires February 24, 2008              [Page 12]

Internet-Draft  Neighbor Discovery Information over DHCP     August 2007


Full Copyright Statement

   Copyright (C) The IETF Trust (2007).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Acknowledgment

   Funding for the RFC Editor function is provided by the IETF
   Administrative Support Activity (IASA).





Krishnan                Expires February 24, 2008              [Page 13]

