<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>A Location Dereferencing Protocol Using HELD</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Authorization Models">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 Authorization by Possession">
<link href="#rfc.section.3.2" rel="Chapter" title="3.2 Authorization via Access Control">
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 Access Control with HELD Deference">
<link href="#rfc.section.4" rel="Chapter" title="4 HELD Dereference Protocol">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 HELD Usage Profile">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 HTTP GET Behavior">
<link href="#rfc.section.5" rel="Chapter" title="5 Examples">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 IANA Considerations">
<link href="#rfc.section.8" rel="Chapter" title="8 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="9 References">
<link href="#rfc.references.1" rel="Chapter" title="9.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="9.2 Informative references">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A GEOPRIV Using Protocol Compliance">
<link href="#rfc.appendix.Appendix%20B" rel="Chapter" title="Appendix B Compliance to Location Reference Requirements">
<link href="#rfc.appendix.Appendix%20B.1" rel="Chapter" title="Appendix B.1 Requirements for a Location Configuration Protocol">
<link href="#rfc.appendix.Appendix%20B.2" rel="Chapter" title="Appendix B.2 Requirements for a Location Dereference Protocol">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document describes how to use the Hypertext Transfer Protocol (HTTP) over Transport Layer Security (TLS) as a dereferencing protocol to resolve a reference to a Presence Information Data Format Location Object (PIDF-LO). The document assumes that a Location Recipient possesses a URI that can be used in conjunction with the HELD protocol to request the location of the Target.  " />
  <meta name="description" content="This document describes how to use the Hypertext Transfer Protocol (HTTP) over Transport Layer Security (TLS) as a dereferencing protocol to resolve a reference to a Presence Information Data Format Location Object (PIDF-LO). The document assumes that a Location Recipient possesses a URI that can be used in conjunction with the HELD protocol to request the location of the Target.  " />
  <meta name="keywords" content="Internet-Draft, HELD, Dereference, lbyr, HTTP, Location, GEOPRIV" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">GEOPRIV</td>
<td class="right">J. Winterbottom</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">H. Tschofenig</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">Nokia Siemens Networks</td>
</tr>
<tr>
<td class="left">Expires: December 25, 2011</td>
<td class="right">H. Schulzrinne</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Columbia University</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">M. Thomson</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Commscope</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">M. Dawson</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Commscope</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">June 23, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">A Location Dereferencing Protocol Using HELD<br />
  <span class="filename"></span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document describes how to use the Hypertext Transfer Protocol (HTTP) over Transport Layer Security (TLS) as a dereferencing protocol to resolve a reference to a Presence Information Data Format Location Object (PIDF-LO). The document assumes that a Location Recipient possesses a URI that can be used in conjunction with the HELD protocol to request the location of the Target.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on December 25, 2011.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Authorization Models</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">Authorization by Possession</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">Authorization via Access Control</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">Access Control with HELD Deference</a>
</li>
<li>4.   <a href="#rfc.section.4">HELD Dereference Protocol</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">HELD Usage Profile</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">HTTP GET Behavior</a>
</li>
<li>5.   <a href="#rfc.section.5">Examples</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">IANA Considerations</a>
</li>
<li>8.   <a href="#rfc.section.8">Acknowledgements</a>
</li>
<li>9.   <a href="#rfc.references">References</a>
</li>
<li>9.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>9.2.   <a href="#rfc.references.2">Informative references</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">GEOPRIV Using Protocol Compliance</a>
</li>
<li>Appendix B.   <a href="#rfc.appendix.Appendix%20B">Compliance to Location Reference Requirements</a>
</li>
<li>Appendix B.1.   <a href="#rfc.appendix.Appendix%20B.1">Requirements for a Location Configuration Protocol</a>
</li>
<li>Appendix B.2.   <a href="#rfc.appendix.Appendix%20B.2">Requirements for a Location Dereference Protocol</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">Provision of <a href="#RFC5808">location information by reference</a> <cite title="NONE">[RFC5808]</cite> involves the creation of a resource that is identified by a "location URI".  A "location URI" is a <a href="#RFC3986">URI</a> <cite title="NONE">[RFC3986]</cite> that identifies a resource containing the location of an entity.  A location URI can be acquired using a location configuration protocol, such as <a href="#RFC5985">HTTP-Enabled Location Delivery (HELD)</a> <cite title="NONE">[RFC5985]</cite> or <a href="#I-D.ietf-geopriv-dhcp-lbyr-uri-option">the Dynamic Host Configuration Protocol (DHCP) location URI option</a> <cite title="NONE">[I-D.ietf-geopriv-dhcp-lbyr-uri-option]</cite>.  A location URI does not intrinsically include location information, instead the URI is "dereferenced" by a Location Recipient to acquire location information.  This document specifies how a holder of an <samp>http:</samp> or <samp>https:</samp> location URI uses that URI to retrieve location information.  </p>
<p id="rfc.section.1.p.2">HELD defines a use of HTTP that enables location configuration - the process where a Device acquires location information about itself.  A part of location configuration is the provision of a location URI.  However, HELD does not describe how such a URI is used; this document provides that definition.  </p>
<p id="rfc.section.1.p.3">This document defines how HELD is used by a Location Recipient to dereference a location URI and acquire location information.  The result of this process is a location object in the form of a <a href="#RFC4119">Presence Information Data Format - Location Object (PIDF-LO) document</a> <cite title="NONE">[RFC4119]</cite>.  A constrained set of HELD features are defined such that it is suitable for use as a <a href="#RFC5808">location dereference protocol</a> <cite title="NONE">[RFC5808]</cite>.  Use as a location dereference protocol requires use of the <a href="#RFC2818">Transport Layer Security (TLS) binding for HTTP</a> <cite title="NONE">[RFC2818]</cite> in order to provide confidentiality, authentication and protection from modification.  </p>
<p id="rfc.section.1.p.4">Use of HELD as a dereferencing protocol has the advantage that the Location Recipient can indicate the type of location information it would like to receive. This functionality is already available with the HELD base specification, described in <a href="#RFC5985">[RFC5985]</a>. Furthermore, the HELD response from the LIS towards the Location Recipient not only provides the PIDF-LO but also encapsulates supplementary information, such as error messages, back to the Location Recipient.  </p>
<p id="rfc.section.1.p.5">Location URIs created for use with HELD dereferencing use the <samp>https:</samp> or <samp>http:</samp> scheme.  HELD can be used by Location Recipients that are aware of the fact that the URI is a location URI.  Mandatory support for an HTTP GET request ensures that the URI can be used even if it is not recognized as a location URI.  </p>
<p id="rfc.section.1.p.6">An example scenario envisioned by this document is shown in <a href="#fig1">Figure 1</a>.  This diagram shows how a location dereference protocol fits with location configuration and conveyance.  <a href="#RFC5808">[RFC5808]</a> contains more information on this scenario and others like it.  </p>
<div id="#rfc.figure.1"></div>
<div id="#fig1"></div>
<pre>
			 +-------------+
+------------+           |  Location   |            +-----------+
| End Device |           | Information |            | Location  |
|  (Target)  |           |   Server    |            | Recipient |
+-----+------+           +------+------+            +-----+-----+
      |                         |                         |
   .- + - - - - - - - - - - - - + -.                      |
   :  |     locationRequest     |  :                      |
   .  |------(location URI)----&gt;|  .                      |
   :  |                         |  : Location             |
   .  |     locationResponse    |  . Configuration        |
   :  |&lt;-----(location URI)-----|  :                      |
   .  |                         |  .                      |
   `- + - - - - - - - - - - - - + -'                      |
      |                         |                         |
      |                Location Conveyance                |
      |~ ~ ~ ~ ~ ~ ~ ~ ~ ~(location URI)~ ~ ~ ~ ~ ~ ~ ~ ~&gt;|
      |                         |                         |
      |                      .- + - - - - - - - - - - - - + -.
      |                      :  |     locationRequest     |  :
      |                      .  |&lt;--------(civic)---------|  .
      |        Dereferencing :  |                         |  :
      |                      .  |     locationResponse    |  .
      |                      :  |--------(PIDF-LO)-------&gt;|  :
      |                      .  |                         |  .
      |                      `- + - - - - - - - - - - - - + -'
      |                         |                         |
</pre>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#terminology" id="terminology">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.  </p>
<p id="rfc.section.2.p.2">This document uses key terminology from several sources: </p>

<ul>
<li>terms for the GEOPRIV reference model defined in <a href="#I-D.ietf-geopriv-arch">[I-D.ietf-geopriv-arch]</a>; </li>
<li>the term Location Information Server (LIS), from <a href="#RFC5687">[RFC5687]</a>, is a node in the access network that provides location information to an end point; a LIS provides location URIs; </li>
<li>the term Location Server (LS), from <a href="#I-D.ietf-geopriv-arch">[I-D.ietf-geopriv-arch]</a>, is used to identify the role that responds to a location dereference request; this might be the same entity as the LIS, but the model in <a href="#RFC5808">[RFC5808]</a> allows for the existence of separate - but related - entities; and </li>
<li>the term location URI is coined in <a href="#RFC5808">[RFC5808]</a>.  </li>
</ul>

<p> </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#authorization" id="authorization">Authorization Models</a>
</h1>
<p id="rfc.section.3.p.1">This section discusses two extreme types of authorization models for dereferencing with HELD URIs, namely "Authorization by Possession" and "Authorization by Access Control".  In the subsequent subsections we discuss the properties of these two models.  <a href="#communication-model">Figure 2</a>, from <a href="#RFC5808">[RFC5808]</a>, shows the model applicable to location configuration, conveyance and dereference.  </p>
<div id="#rfc.figure.2"></div>
<div id="#communication-model"></div>
<pre>
	  +---------+--------+   Location    +-----------+
	  |         |        |  Dereference  | Location  |
	  |   LIS   -   LS   +---------------+ Recipient |
	  |         |        |   Protocol    |           |
	  +----+----+--------+      (3)      +-----+-----+
	       |         `.                        |
	       |    Policy `.                      |
 Location      |    Exchange `.                    |
 Configuration |      (*)      |                   |
 Protocol      |          +----+----+              |
   (1)         |          |  Rule   |   Location   |
	       |          |  Maker  |   Conveyance |
	 +-----+----+     +---------+   Protocol   |
	 |          |                      (2)     |
	 |  Target  +------------------------------+
	 |          |
	 +----------+
</pre>
<p id="rfc.section.3.p.2">It is important to note that this document does not mandate a specific authorization model.  It is possible to combine aspects of both models.  However, no authentication framework is provided, which limits the policy options available when the "Authorization by Access Control" model is used.  </p>
<p id="rfc.section.3.p.3">For either authorization model, the overall process is similar.  The following steps are followed, with minor alterations: </p>

<ol>
<li>The Target acquires a location URI from the LIS.  This uses a location configuration protocol (LCP), such as HELD or DHCP.</li>
<li>The Target then conveys the location URI to a third party, the Location Recipient (for example using SIP as described in <a href="#I-D.ietf-sipcore-location-conveyance">[I-D.ietf-sipcore-location-conveyance]</a>). This step is shown in (2) of <a href="#communication-model">Figure 2</a>. </li>
<li>The Location Recipient then needs to dereference the location URI in order to obtain the Location Object (3).  An <samp>https:</samp> or <samp>http:</samp> URI is dereferenced as described in this document; other URI schemes might be dereferenced using another method.</li>
</ol>

<p> </p>
<p id="rfc.section.3.p.4">In this final step, the Location Server (LS) or LIS makes an authorization decision.  How this decision is reached depends on the authorization model.  </p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#pawn" id="pawn">Authorization by Possession</a>
</h1>
<p id="rfc.section.3.1.p.1">In this model, possession - or knowledge - of the location URI is used to control access to location information.  A location URI is constructed such that it is hard to guess (see C9 of <a href="#RFC5808">[RFC5808]</a>) and the set of entities that it is disclosed to is limited.  The only authentication required by the LS is evidence of possession of the URI.  The LS is able to immediately authorize any request that indicates this URI.  </p>
<p id="rfc.section.3.1.p.2">Authorization by possession uses a very simple policy that does not typically require direct interaction with a Rule Maker; it is assumed that the Rule Maker is able to exert control over the distribution of the location URI.  Therefore, the LIS can operate with limited policy input from a Rule Maker.  </p>
<p id="rfc.section.3.1.p.3">Limited disclosure is an important aspect of this authorization model.  The location URI is a secret; therefore, ensuring that adversaries are not able to acquire this information is paramount.  Encryption, such as might be offered by <a href="#RFC5246">TLS</a> <cite title="NONE">[RFC5246]</cite> or <a href="#RFC5751">S/MIME</a> <cite title="NONE">[RFC5751]</cite>, protects the information from eavesdroppers.  </p>
<p id="rfc.section.3.1.p.4">Use of authorization by possession location URIs in a hop-by-hop protocol such as <a href="#RFC3261">SIP</a> <cite title="NONE">[RFC3261]</cite> adds the possibility of on-path adversaries.  Depending on the usage of the location URI for certain location based applications (e.g., emergency services, location based routing) specific treatment is important, as discussed in <a href="#I-D.ietf-sipcore-location-conveyance">[I-D.ietf-sipcore-location-conveyance]</a>.  </p>
<p id="rfc.section.3.1.p.5">Using possession as a basis for authorization means that, once granted, authorization cannot be easily revoked.  Cancellation of a location URI ensures that legitimate users are also affected; application of additional policy is theoretically possible, but could be technically infeasible.  Therefore, other measures are provided to prevent an adversary from gaining access to location information indefinitely.  </p>
<p id="rfc.section.3.1.p.6">A very simple policy is established at the time that the location URI is created.  This policy specifies that the location URI expires after a certain time, which limits any inadvertent exposure of location information to adversaries.  The expiration time of the location URI might be negotiated at the time of its creation, or it might be unilaterally set by the LIS.  </p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> Authorization via Access Control</h1>
<p id="rfc.section.3.2.p.1">Use of explicit access control provides a Rule Maker greater control over the behaviour of an LS.  In contrast to authorization by possession, possession of a this form of location URI does not imply authorization.  Since an explicit policy is used to authorize access to location information, the location URI can be distributed to many potential Location Recipients.  </p>
<p id="rfc.section.3.2.p.2">Either before creation or dissemination of the location URI, the Rule Maker establishes an authorization policy with the LS.  In reference to <a href="#communication-model">Figure 2</a>, authorization policies might be established at creation (Step 1), and need to be established before before the location URI is published (Step 2) to ensure that the policy grants access to the desired Location Recipients.  Depending on the mechanism used, it might also be possible to change authorization policies at any time.  </p>
<p id="rfc.section.3.2.p.3">A possible format for these authorization policies is available with GEOPRIV Common Policy <a href="#RFC4745">[RFC4745]</a> and Geolocation Policy <a href="#I-D.ietf-geopriv-policy">[I-D.ietf-geopriv-policy]</a>.  Additional constraints might be established by other means.  </p>
<p id="rfc.section.3.2.p.4">The LS enforces the authorization policy when a Location Recipient dereferences the URI.  Explicit authorization policies allow a Rule Maker to specify how location information is provided to Location Recipients.  </p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> Access Control with HELD Deference</h1>
<p id="rfc.section.3.3.p.1">This document does not describe a specific authentication mechanism.  This means that authorization policies are unable to specifically identify authorized Location Recipients.  </p>
<p id="rfc.section.3.3.p.2">In order to control access to location information based on the identity of the Location Recipient, use of authorization by possession is employed.  By controlling which Location Recipients receive location URIs, access to location information is controlled.  </p>
<p id="rfc.section.3.3.p.3">Other policy mechanisms, such as those described in <a href="#I-D.ietf-geopriv-policy">[I-D.ietf-geopriv-policy]</a>, can be applied to different Location Recipients if multiple location URIs are used.  Location Recipients that receive a particular location URI are granted location information based on the authorization policy associated with that URI.  </p>
<p id="rfc.section.3.3.p.4">Providing that knowledge of a location URI is limited, policy appropriate to the Location Recipients that receive the location URI can be assigned.  Selective disclosure used in this fashion can be used in place of identity-based authorization.  </p>
<p id="rfc.section.3.3.p.5">How policy is associated with a location URI is not defined by this document.  <a href="#I-D.ietf-geopriv-policy-uri">[I-D.ietf-geopriv-policy-uri]</a> describes one possible mechanism.  </p>
<p id="rfc.section.3.3.p.6">Authentication of Location Recipients and use of identity-based authorization policy is not precluded.  A Location Server MAY support an authentication mechanism that enables identity-based authorization policies to be used.  Future specifications might define means of identifying recipients.  </p>
<p></p>

<dl>
<dt>Note:</dt>
<dd style="margin-left: 8">Policy frameworks like <a href="#RFC4745">[RFC4745]</a> degrade in a way that protects privacy if features are not supported.  If a policy specifies a rule that is conditional on the identity of a recipient and the protocol does not (or cannot) provide an assertion identity of the recipient, the rule has no effect and the policy defaults to providing less information.  </dd>
</dl>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#details" id="details">HELD Dereference Protocol</a>
</h1>
<p id="rfc.section.4.p.1">This section describes how HELD can be used to dereference a location URI.  This process can be applied when a Location Recipient is in possession of a location URI with a <samp>https:</samp> or <samp>http:</samp> URI scheme.  </p>
<p id="rfc.section.4.p.2">A Location Recipient that wishes to dereference an <samp>https:</samp> or <samp>http:</samp> URI performs a HELD request on HTTP to the identified resource.  </p>

<dl>
<dt>Note:</dt>
<dd style="margin-left: 8">In many cases, an <samp>http:</samp> URI does not provide sufficient security for location URIs.  The absence of the security mechanisms provided by TLS means that the Rule Maker has no control over who receives location information and the Location Recipient has no assurance that the information is correct.  </dd>
</dl>
<p id="rfc.section.4.p.3">The Location Recipient establishes a connection to the LS, as described in <a href="#RFC2818">[RFC2818]</a>.  The TLS ciphersuite TLS_NULL_WITH_NULL_NULL MUST NOT be used.  The LS MUST be authenticated to ensure that the correct server is contacted.  </p>
<p id="rfc.section.4.p.4">A Location Server MAY reject a request and request that a Location Recipient provide authentication credentials if authorization is dependent on the Location Recipient identity.  Future specifications could define an authentication mechanism and a means by which Location Recipients are identified in authorization policies.  This document provides definitions for neither item.  </p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#held-profile" id="held-profile">HELD Usage Profile</a>
</h1>
<p id="rfc.section.4.1.p.1">Use of HELD as a location dereference protocol is largely the same as its use as a location configuration protocol.  Aside from the restrictions noted in this document, HELD semantics do not differ from those established in <a href="#RFC5985">[RFC5985]</a>.  </p>
<p id="rfc.section.4.1.p.2">The HELD <samp>locationRequest</samp> is the only request permitted by this specification.  Similarly, request parameters other than the following MUST NOT be accepted by the LS: <samp>responseTime</samp>, <samp>locationType</samp> (including the associated <samp>exact</samp> attribute).  </p>
<p id="rfc.section.4.1.p.3">Parameters and requests that do not have known behaviour for dereference requests MUST NOT be used.  The LS MUST ignore any parameters that it does not understand unless it knows the parameters to be invalid.  If parameters are understood by the LS and known to be invalid, the LS MAY generate a HELD error response.  For instance, those defined in <a href="#RFC6155">[RFC6155]</a> are always invalid and can be rejected.  </p>
<p id="rfc.section.4.1.p.4">The LS MUST NOT generate location URIs or provide a <samp>locationUriSet</samp> in response to a dereference request.  If the location request contains a <samp>locationType</samp> element that includes <samp>locationURI</samp>, this parameter is either ignored or rejected as appropriate, based on the associated <samp>exact</samp> attribute.  </p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> HTTP GET Behavior</h1>
<p id="rfc.section.4.2.p.1">GET is the method assumed by generic HTTP user agents, therefore unless context identifies an <samp>https:</samp> URI as a HELD URI, such a user agent might simply send an HTTP GET.  Rather than providing an HTTP 405 (Method Not Allowed) response indicating that POST is the only permitted method, a LIS MUST provide a HELD location response if it receives an HTTP GET request.  </p>
<div id="#rfc.figure.3"></div>
<div id="#default-request"></div>
<p>An HTTP GET request to a HELD URI produces a HELD response as if the following HELD request had been sent using HTTP POST: </p>
<pre>
  &lt;locationRequest xmlns="urn:ietf:params:xml:ns:geopriv:held"&gt;
    &lt;locationType exact="false"&gt;
      geodetic civic
    &lt;/locationType&gt;
  &lt;/locationRequest&gt;
</pre>
<p id="rfc.section.4.2.p.2">HTTP GET requests MUST be <a href="#RFC2616">safe and idempotent</a> <cite title="NONE">[RFC2616]</cite> - that is, there are no side-effects of making the request and a repeated request has no more effect than a single request.  Repeating a HELD request might result in a different location, but only as a result of a change in the state of the resource: the location of the Target.  </p>
<p id="rfc.section.4.2.p.3">Only the creation of a location URI as a result of receiving a request causes a HELD request to have side-effects.  A request to a location URI can be both safe and idempotent, since a location URI cannot be produced in response to a request to a location URI.  </p>
<p id="rfc.section.4.2.p.4">A Location Recipient MAY infer from a response containing the HELD content type, <samp>application/held+xml</samp>, that a URI references a resource that supports HELD.  </p>
<p id="rfc.section.4.2.p.5">Content negotiation MAY be supported to produce a presence document in place of a HELD location response.  Where the presence document would otherwise be included in a <samp>locationResponse</samp> document, it can be included in the body of the HTTP response directly by including an <samp>Accept</samp> header that includes <samp>application/pidf+xml</samp>.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#examples" id="examples">Examples</a>
</h1>
<p id="rfc.section.5.p.1">The example in <a href="#ex-request">Figure 4</a> shows the simplest form of dereferencing request using HELD to the location URI <samp>https://ls.example.com:49152/uri/w3g61nf5n66p0</samp>.  The only way that this differs from the example in Section 10.1 of <a href="#RFC5985">[RFC5985]</a> is in the request URI and the source of the URI.  </p>
<div id="#rfc.figure.4"></div>
<div id="#ex-request"></div>
<pre>
POST /uri/w3g61nf5n66p0 HTTP/1.1
Host: ls.example.com:49152
Content-Type: application/held+xml
Content-Length: 87

&lt;?xml version="1.0"?&gt;
&lt;locationRequest xmlns="urn:ietf:params:xml:ns:geopriv:held"/&gt;
    </pre>
<p><a href="#ex-response">Figure 5</a> shows the response to the previous request listing both civic and geodetic location information of the Target's location.  Again, this is identical to the response in Section 10.1 of <a href="#RFC5985">[RFC5985]</a> - unless policy specfies otherwise, the Location Recipient receives the same information as the Device.  </p>
<div id="#rfc.figure.5"></div>
<div id="#ex-response"></div>
<pre>
HTTP/1.1 200 OK
Server: Example LIS
Date: Mon, 10 Jan 2011 03:42:29 GMT
Expires: Tue, 11 Jan 2011 03:42:29 GMT
Cache-control: private
Content-Type: application/held+xml
Content-Length: 676

&lt;?xml version="1.0"?&gt;
&lt;locationResponse xmlns="urn:ietf:params:xml:ns:geopriv:held"&gt;
&lt;presence xmlns="urn:ietf:params:xml:ns:pidf"
	  entity="pres:3650n87934c@ls.example.com"&gt;
  &lt;tuple id="b650sf789nd"&gt;
  &lt;status&gt;
   &lt;geopriv xmlns="urn:ietf:params:xml:ns:pidf:geopriv10"
     xmlns:gbp="urn:ietf:params:xml:ns:pidf:geopriv10:basic-policy"&gt;
    &lt;location-info&gt;
       &lt;Point xmlns="http://www.opengis.net/gml"
	      srsName="urn:ogc:def:crs:EPSG::4326"&gt;
	 &lt;pos&gt;-34.407 150.88001&lt;/pos&gt;
       &lt;/Point&gt;
     &lt;/location-info&gt;
     &lt;usage-rules&gt;
       &lt;gbp:retransmission-allowed&gt;
	 false&lt;/gbp:retransmission-allowed&gt;
       &lt;gbp:retention-expiry&gt;
	 2011-01-11T03:42:29+00:00&lt;/gbp:retention-expiry&gt;
     &lt;/usage-rules&gt;
     &lt;method&gt;Wiremap&lt;/method&gt;
   &lt;/geopriv&gt;
  &lt;/status&gt;
  &lt;timestamp&gt;2006-01-10T03:42:28+00:00&lt;/timestamp&gt;
  &lt;/tuple&gt;
&lt;/presence&gt;
&lt;/locationResponse&gt;
	  </pre>
<div id="#rfc.figure.6"></div>
<div id="#ex-get"></div>
<p>The following GET request is treated in an equivalent fashion.  The LS treats this request as though it were a location request of the form shown in <a href="#default-request">Figure 3</a>.  The same response might be provided.  </p>
<pre>
GET /uri/w3g61nf5n66p0 HTTP/1.1
Host: ls.example.com:49152
Accept: application/held+xml

    </pre>
<div id="#rfc.figure.7"></div>
<div id="#ex-get-conneg"></div>
<p>The following GET request uses content negotiation to indicate a preference for a presence document.  </p>
<pre>
GET /uri/w3g61nf5n66p0 HTTP/1.1
Host: ls.example.com:49152
Accept: application/pidf+xml,application/held+xml;q=0.5

    </pre>
<div id="#rfc.figure.8"></div>
<div id="#ex-get-response"></div>
<p>The response only differs from a normal HELD location response to a POST request in that the <samp>locationResponse</samp> element is omitted and the <samp>Content-Type</samp> header reflects the changed content.  </p>
<pre>
HTTP/1.1 200 OK
Server: Example LIS
Date: Mon, 10 Jan 2011 03:42:29 GMT
Expires: Tue, 11 Jan 2011 03:42:29 GMT
Cache-control: private
Content-Type: application/pidf+xml
Content-Length: 591

&lt;?xml version="1.0"?&gt;
&lt;presence xmlns="urn:ietf:params:xml:ns:pidf"
	  entity="pres:3650n87934c@ls.example.com"&gt;
  &lt;!-- PIDF contents are identical to the previous example --&gt;
&lt;/presence&gt;
	  </pre>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#security" id="security">Security Considerations</a>
</h1>
<p id="rfc.section.6.p.1">Privacy of location information is the most important security consideration for this document.  Two measures in particular are used to protect privacy: TLS and authorization policies.  TLS provides a means of ensuring confidentiality of location information through encryption and mutual authentication.  An authorization policy allows a Rule Maker to explicitly control how location information is provided to Location Recipients.  </p>
<p id="rfc.section.6.p.2">The process by which a Rule Maker establishes an authorization policy is not covered by this document; several methods are possible, for instance: <a href="#I-D.ietf-geopriv-policy-uri">[I-D.ietf-geopriv-policy-uri]</a>, <a href="#RFC4825">[RFC4825]</a>.  </p>
<p id="rfc.section.6.p.3">Use of TLS for the dereferencing of location URIs is strongly RECOMMENDED, as discussed in <a href="#details">Section 4</a>.  Location Recipients MUST authenticate the host identity using the domain name included in the location URI, using the procedure described in Section 3.1 of <a href="#RFC2818">[RFC2818]</a>.  Local policy determines what a Location Recipient does if authentication fails or cannot be attempted.  </p>
<p id="rfc.section.6.p.4">The <a href="#pawn">authorization by possession model</a> <cite title="NONE">[pawn]</cite> further relies on TLS when transmitting the location URI to protect the secrecy of the URI.  Possession of such a URI implies the same privacy considerations as possession of the PIDF-LO document that the URI references.  </p>
<p id="rfc.section.6.p.5">Location URIs MUST only be disclosed to authorized Location Recipients.  The <a href="#I-D.ietf-geopriv-arch">GEOPRIV architecture</a> <cite title="NONE">[I-D.ietf-geopriv-arch]</cite> identifies the Rule Maker role as being the entity that authorizes disclosure of this nature.  </p>
<p id="rfc.section.6.p.6">Protection of the location URI is necessary, since the policy attached to such a location URI permits any who have the URI to view it.  This aspect of security is covered in more detail in the specification of location conveyance protocols, such as <a href="#I-D.ietf-sipcore-location-conveyance">[I-D.ietf-sipcore-location-conveyance]</a>.  </p>
<p id="rfc.section.6.p.7">The LS MUST NOT provide any information about the Target except its location, unless policy from a Rule Maker allows otherwise.  In particular, the requirements in <a href="#RFC5808">[RFC5808]</a> mandate this measure to protect the identity of the Target.  To this end, an unlinked pseudonym MUST be provided in the <samp>entity</samp> attribute of the PIDF-LO document.  </p>
<p id="rfc.section.6.p.8">Further security considerations and requirements relating to the use of location URIs are described in <a href="#RFC5808">[RFC5808]</a>.  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#iana" id="iana">IANA Considerations</a>
</h1>
<p id="rfc.section.7.p.1">This document makes no request of IANA.  </p>
<p id="rfc.section.7.p.2">[[IANA/RFC-EDITOR: Please remove this section before publication.]] </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> Acknowledgements</h1>
<p id="rfc.section.8.p.1">Thanks to Barbara Stark and Guy Caron for providing early comments. Thanks to Rohan Mahy for constructive comments on the scope and format of the document. Thanks to Ted Hardie for his strawman proposal that provided assistance with the security section of this document.  Richard Barnes made helpful observations on the application of authorization policy.  Bernard Aboba and Julian Reschke contributed constructive reviews.</p>
<p id="rfc.section.8.p.2">The participants of the GEOPRIV interim meeting 2008 provided significant feedback on this document.</p>
<p id="rfc.section.8.p.3">James Polk provided input on security in June 2008.</p>
<h1 id="rfc.references">
<a href="#rfc.references">9.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">9.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2616">[RFC2616]</b></td>
<td class="top">
<a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a> and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2616, June 1999.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2818">[RFC2818]</b></td>
<td class="top">
<a>Rescorla, E.</a>, "<a href="http://tools.ietf.org/html/rfc2818">HTTP Over TLS</a>", RFC 2818, May 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3986">[RFC3986]</b></td>
<td class="top">
<a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com" title="Day Software">Fielding, R.</a> and <a href="mailto:LMM@acm.org" title="Adobe Systems Incorporated">L. Masinter</a>, "<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>", STD 66, RFC 3986, January 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4119">[RFC4119]</b></td>
<td class="top">
<a>Peterson, J.</a>, "<a href="http://tools.ietf.org/html/rfc4119">A Presence-based GEOPRIV Location Object Format</a>", RFC 4119, December 2005.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5491">[RFC5491]</b></td>
<td class="top">
<a>Winterbottom, J.</a>, <a>Thomson, M.</a> and <a>H. Tschofenig</a>, "<a href="http://tools.ietf.org/html/rfc5491">GEOPRIV Presence Information Data Format Location Object (PIDF-LO) Usage Clarification, Considerations, and Recommendations</a>", RFC 5491, March 2009.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5985">[RFC5985]</b></td>
<td class="top">
<a>Barnes, M.</a>, "<a href="http://tools.ietf.org/html/rfc5985">HTTP-Enabled Location Delivery (HELD)</a>", RFC 5985, September 2010.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">9.2.</a> Informative references</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3261">[RFC3261]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, <a>Schulzrinne, H.</a>, <a>Camarillo, G.</a>, <a>Johnston, A.</a>, <a>Peterson, J.</a>, <a>Sparks, R.</a>, <a>Handley, M.</a> and <a>E. Schooler</a>, "<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>", RFC 3261, June 2002.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3693">[RFC3693]</b></td>
<td class="top">
<a>Cuellar, J.</a>, <a>Morris, J.</a>, <a>Mulligan, D.</a>, <a>Peterson, J.</a> and <a>J. Polk</a>, "<a href="http://tools.ietf.org/html/rfc3693">Geopriv Requirements</a>", RFC 3693, February 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4745">[RFC4745]</b></td>
<td class="top">
<a>Schulzrinne, H.</a>, <a>Tschofenig, H.</a>, <a>Morris, J.</a>, <a>Cuellar, J.</a>, <a>Polk, J.</a> and <a>J. Rosenberg</a>, "<a href="http://tools.ietf.org/html/rfc4745">Common Policy: A Document Format for Expressing Privacy Preferences</a>", RFC 4745, February 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4825">[RFC4825]</b></td>
<td class="top">
<a>Rosenberg, J.</a>, "<a href="http://tools.ietf.org/html/rfc4825">The Extensible Markup Language (XML) Configuration Access Protocol (XCAP)</a>", RFC 4825, May 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5246">[RFC5246]</b></td>
<td class="top">
<a>Dierks, T.</a> and <a>E. Rescorla</a>, "<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>", RFC 5246, August 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5687">[RFC5687]</b></td>
<td class="top">
<a>Tschofenig, H.</a> and <a>H. Schulzrinne</a>, "<a href="http://tools.ietf.org/html/rfc5687">GEOPRIV Layer 7 Location Configuration Protocol: Problem Statement and Requirements</a>", RFC 5687, March 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5751">[RFC5751]</b></td>
<td class="top">
<a>Ramsdell, B.</a> and <a>S. Turner</a>, "<a href="http://tools.ietf.org/html/rfc5751">Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.2 Message Specification</a>", RFC 5751, January 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5808">[RFC5808]</b></td>
<td class="top">
<a>Marshall, R.</a>, "<a href="http://tools.ietf.org/html/rfc5808">Requirements for a Location-by-Reference Mechanism</a>", RFC 5808, May 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6155">[RFC6155]</b></td>
<td class="top">
<a>Winterbottom, J.</a>, <a>Thomson, M.</a>, <a>Tschofenig, H.</a> and <a>R. Barnes</a>, "<a href="http://tools.ietf.org/html/rfc6155">Use of Device Identity in HTTP-Enabled Location Delivery (HELD)</a>", RFC 6155, March 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-geopriv-arch">[I-D.ietf-geopriv-arch]</b></td>
<td class="top">
<a>Barnes, R</a>, <a>Lepinski, M</a>, <a>Cooper, A</a>, <a>Morris, J</a>, <a>Tschofenig, H</a> and <a>H Schulzrinne</a>, "<a href="http://tools.ietf.org/html/draft-ietf-geopriv-arch-03">An Architecture for Location and Location Privacy in Internet Applications</a>", Internet-Draft draft-ietf-geopriv-arch-03, October 2010.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-geopriv-policy">[I-D.ietf-geopriv-policy]</b></td>
<td class="top">
<a>Schulzrinne, H</a>, <a>Tschofenig, H</a>, <a>Cuellar, J</a>, <a>Polk, J</a>, <a>Morris, J</a> and <a>M Thomson</a>, "<a href="http://tools.ietf.org/html/draft-ietf-geopriv-policy-25">Geolocation Policy: A Document Format for Expressing Privacy Preferences for Location Information</a>", Internet-Draft draft-ietf-geopriv-policy-25, October 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-sipcore-location-conveyance">[I-D.ietf-sipcore-location-conveyance]</b></td>
<td class="top">
<a>Polk, J</a>, <a>Rosen, B</a> and <a>J Peterson</a>, "<a href="http://tools.ietf.org/html/draft-ietf-sipcore-location-conveyance-09">Location Conveyance for the Session Initiation Protocol</a>", Internet-Draft draft-ietf-sipcore-location-conveyance-09, September 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-geopriv-policy-uri">[I-D.ietf-geopriv-policy-uri]</b></td>
<td class="top">
<a>Barnes, R</a>, <a>Thomson, M</a>, <a>Winterbottom, J</a> and <a>H Tschofenig</a>, "<a href="http://tools.ietf.org/html/draft-ietf-geopriv-policy-uri-03">Location Configuration Extensions for Policy Management</a>", Internet-Draft draft-ietf-geopriv-policy-uri-03, November 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-geopriv-dhcp-lbyr-uri-option">[I-D.ietf-geopriv-dhcp-lbyr-uri-option]</b></td>
<td class="top">
<a>Polk, J</a>, "<a href="http://tools.ietf.org/html/draft-ietf-geopriv-dhcp-lbyr-uri-option-12">Dynamic Host Configuration Protocol (DHCP) IPv4 and IPv6 Option for a Location Uniform Resource Identifier (URI)</a>", Internet-Draft draft-ietf-geopriv-dhcp-lbyr-uri-option-12, October 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> GEOPRIV Using Protocol Compliance</h1>
<p id="rfc.section.Appendix A.p.1">This section describes how use of HELD as a location dereference protocol complies with the GEOPRIV requirements described in <a href="#RFC3693">[RFC3693]</a>.  </p>

<dl>
<dt>Req. 16 .</dt>
<dd>(Location Object generalities): <br><br> This section relates to the <a href="#RFC4119">PIDF-LO</a> <cite title="NONE">[RFC4119]</cite> document, which is used by HELD.  These requirements are addressed by <a href="#RFC4119">[RFC4119]</a> and <a href="#RFC5491">[RFC5491]</a>.  </dd>
<dt>Req. 17 .</dt>
<dd>(Location Object fields): <br><br> This section relates to the <a href="#RFC4119">PIDF-LO</a> <cite title="NONE">[RFC4119]</cite> document, which is used by HELD.  These requirements are addressed by <a href="#RFC4119">[RFC4119]</a> and <a href="#RFC5491">[RFC5491]</a>.  </dd>
<dt>Req. 18 .</dt>
<dd>(Location Data Types): <br><br> This section relates to the <a href="#RFC4119">PIDF-LO</a> <cite title="NONE">[RFC4119]</cite> document, which is used by HELD.  These requirements are addressed by <a href="#RFC4119">[RFC4119]</a> and <a href="#RFC5491">[RFC5491]</a>.  </dd>
</dl>

<p> </p>
<p id="rfc.section.Appendix A.p.2">Section 7.2 of <a href="#RFC3693">[RFC3693]</a> details the requirements of a "Using Protocol". These requirements are restated, followed by a statement of compliance: </p>

<dl>
<dt>Req. 19 .</dt>
<dd>"The using protocol has to obey the privacy and security instructions coded in the Location Object and in the corresponding Rules regarding the transmission and storage of the LO." <br><br> Compliant: This document carries the PIDF-LO as is via HTTPS from the LS to the Location Recipient.  The sending and receiving parties are expected to comply with the instructions carried inside the object.  </dd>
<dt>Req. 20 .</dt>
<dd>"The using protocol will typically facilitate that the keys associated with the credentials are transported to the respective parties, that is, key establishment is the responsibility of the using protocol." <br><br> Compliant: This document specifies that authentication of the LS uses the established public key infrastructure used by <a href="#RFC2818">HTTP over TLS</a> <cite title="NONE">[RFC2818]</cite>.  Authentication of Location Recipients is either based on distribution of a secret (the location URI) using a conveyance protocol (for instance, <a href="#I-D.ietf-sipcore-location-conveyance">[I-D.ietf-sipcore-location-conveyance]</a>), allowances are made for later work to define alternative methods.  </dd>
<dt>Req. 21 .</dt>
<dd>"(Single Message Transfer) In particular, for tracking of small target devices, the design should allow a single message/packet transmission of location as a complete transaction." <br><br> Not Compliant: The XML encoding specified in <a href="#RFC4119">[RFC4119]</a> is not suited to single packet transfers.  Use of compressed <a href="#RFC2616">content encoding</a> <cite title="NONE">[RFC2616]</cite> might allow this condition to be met.  </dd>
</dl>

<p> </p>
<p id="rfc.section.Appendix A.p.3">Section 7.3 of <a href="#RFC3693">[RFC3693]</a> details the requirements of a "Rule based Location Data Transfer".  These requirements are restated where they are applicable to this document: </p>

<dl>
<dt>Req. 22 .</dt>
<dd>"(LS Rules) The decision of a Location Server to provide a Location Recipient access to Location Information MUST be based on Rule Maker-defined Privacy Rules." <br><br> Compliant: This document describes two alternative methods by which a Rule Maker is able to control access to location information.  Rule Maker policy is enforced by the LS when a location URI is dereferenced.  However, this document does not describe how a location URI is created, or how a Rule Maker associates policy with a location URI.  These are covered by other specifications.  </dd>
<dt>Req. 23 .</dt>
<dd>(LG Rules) Not Applicable: This relationship between LS and the source of its information (be that Location Generator (LG) or LIS) is out of scope for this document.  </dd>
<dt>Req. 24 .</dt>
<dd>"(Viewer Rules) A Viewer does not need to be aware of the full Rules defined by the Rule Maker (because a Viewer SHOULD NOT retransmit Location Information), and thus a Viewer SHOULD receive only the subset of Privacy Rules necessary for the Viewer to handle the LO in compliance with the full Privacy Rules (such as, instruction on the time period for which the LO can be retained)." <br><br> Compliant: The Rule Maker might define (via mechanisms outside the scope of this document) which policy rules are disclosed to other entities.  For instance, if <a href="#RFC4745">[RFC4745]</a> is used to convey authorization policies from Rule Maker to LS, this is possible using the parameters specified in <a href="#I-D.ietf-geopriv-policy">[I-D.ietf-geopriv-policy]</a>.  </dd>
<dt>Req. 25 .</dt>
<dd>(Full Rule language) Not Applicable: Note however that Geopriv has defined a rule language capable of expressing a wide range of privacy rules (see <a href="#RFC4745">[RFC4745]</a> and <a href="#I-D.ietf-geopriv-policy">[I-D.ietf-geopriv-policy]</a>.  </dd>
<dt>Req. 26 .</dt>
<dd>(Limited Rule language) Not Applicable: This requirement applies to (and is addressed by) <a href="#RFC4119">PIDF-LO</a> <cite title="NONE">[RFC4119]</cite>.  </dd>
</dl>

<p> </p>
<p id="rfc.section.Appendix A.p.4">Section 7.4 of <a href="#RFC3693">[RFC3693]</a> details the requirements of "Location Object Privacy and Security".  These requirements are restated where they are applicable to this document: </p>

<dl>
<dt>Req. 27 .</dt>
<dd>(Identity Protection) Compliant: Identity protection of the Target is provided as long as both of the following conditions are true: <dl>
<dt>(d )</dt>
<dd>the location URI is not associated with the identity of the Target in any context, and </dd>
<dt>(e )</dt>
<dd>the PIDF-LO does not contain information about the identity about the Target.  </dd>
</dl>
<p> For instance, this requirement is complied with if the protocol that conveys the location URI does not link the identity of the Target to the location URI and the LS doesn't include meaningful identification information in the PIDF-LO document.  </p>
<a href="#security">Section 6</a> recommends that an unlinked pseudonym is used by the LS.  </dd>
<dt>Req. 28 .</dt>
<dd>(Credential Requirements) Compliant: The primary security mechanism specified in this document is Transport Layer Security.  TLS offers the ability to use different types of credentials, including symmetric, asymmetric credentials or a combination of them.</dd>
<dt>Req. 29 .</dt>
<dd>(Security Features) Compliant: Geopriv defines a few security requirements for the protection of Location Objects such as mutual end-point authentication, data object integrity, data object confidentiality and replay protection.  The ability to use Transport Layer security fulfills most of these requirements.  Authentication of Location Recipients in this document relies on proof of a shared secret - the location URI.  This does not preclude the addition of more robust authentication procedures.  </dd>
<dt>Req. 30 .</dt>
<dd>(Minimal Crypto) Compliant: The mandatory to implement ciphersuite is provided in the TLS layer security specification.</dd>
</dl>

<p> </p>
<h1 id="rfc.appendix.Appendix B">
<a href="#rfc.appendix.Appendix%20B">Appendix B.</a> Compliance to Location Reference Requirements</h1>
<p id="rfc.section.Appendix B.p.1">This section describes how HELD complies to the location reference requirements stipulated in <a href="#RFC5808">[RFC5808]</a>.  Compliance of <a href="#RFC5985">[RFC5985]</a> to the Location Configuration Protocol is included.  </p>

<ul class="empty"><li>Note that use of HELD as a location dereference protocol does not necessarily imply that HELD is the corresponding LCP.  This document is still applicable to HTTP location URIs that are acquired by other means.  </li></ul>

<p> </p>
<h1 id="rfc.appendix.Appendix B.1">
<a href="#rfc.appendix.Appendix%20B.1">Appendix B.1.</a> Requirements for a Location Configuration Protocol</h1>
<p></p>

<dl>
<dt>C10 .</dt>
<dd>"Location URI support:  The location configuration protocol MUST support a location reference in URI form." <br><br> Compliant: HELD only provides location references in URI form.  </dd>
<dt>C11 .</dt>
<dd>"Location URI expiration:  When a location URI has a limited validity interval, its lifetime MUST be indicated." <br><br> Compliant: HELD indicates the expiry time of location URIs using the <samp>expires</samp> attribute.  <a href="#I-D.ietf-geopriv-policy-uri">[I-D.ietf-geopriv-policy-uri]</a> provides a way to control expiration of a location URI; a Device is able to specify limits on the life time of a HELD context.  </dd>
<dt>C12 .</dt>
<dd>"Location URI cancellation:  The location configuration protocol MUST support the ability to request a cancellation of a specific location URI." <br><br> Compliant with Extension: <a href="#I-D.ietf-geopriv-policy-uri">[I-D.ietf-geopriv-policy-uri]</a> describes how a location URI can be cancelled through the application of policy.  Without extensions, HELD does not provide a method for cancelling location URIs.  </dd>
<dt>C13 .</dt>
<dd>"Location Information Masking:  The location URI MUST ensure, by default, through randomization and uniqueness, that the location URI does not contain location information specific components." <br><br> Compliant: The HELD specification explicitly references this requirement in providing guidance on the format of the location URI.  </dd>
<dt>C14 .</dt>
<dd>"Target Identity Protection:  The location URI MUST NOT contain information that identifies the Target (e.g., user or device)." <br><br> Compliant: The HELD specification provides specific guidance on the anonymity of the Target with regards to the generation of location URIs.  <a href="#security">Section 6</a> expands on this guidance.  </dd>
<dt>C15 .</dt>
<dd>"Reuse indicator:  There SHOULD be a way to allow a Target to control whether a location URI can be resolved once only, or multiple times." <br><br> Not Compliant: Specific extensions to the protocol or authorization policy formats is needed to alter the default behavior, which allows unlimited resolution of the location URI.  </dd>
<dt>C16 .</dt>
<dd>"Selective disclosure:  The location configuration protocol MUST provide a mechanism that allows the Rule Maker to control what information is being disclosed about the Target." <br><br> Compliant with Extension: Use of policy mechanisms and <a href="#I-D.ietf-geopriv-policy-uri">[I-D.ietf-geopriv-policy-uri]</a> enable this capability.  Note that this document recommends that only location information be provided.  </dd>
<dt>C17 .</dt>
<dd>"Location URI Not guessable:  As a default, the location configuration protocol MUST return location URIs that are random and unique throughout the indicated lifetime.  A location URI with 128-bits of randomness is RECOMMENDED." <br><br> Compliant: HELD specifies that location URIs conform to this requirement.  </dd>
<dt>C18 .</dt>
<dd>"Location URI Options:  In the case of user-provided authorization policies, where anonymous or non-guessable location URIs are not warranted, the location configuration protocol MAY support a variety of optional location URI conventions, as requested by a Target to a location configuration server, (e.g., embedded location information within the location URI)." <br><br> Not Compliant: HELD does not support Device-specified location URI forms.  </dd>
</dl>

<p> </p>
<h1 id="rfc.appendix.Appendix B.2">
<a href="#rfc.appendix.Appendix%20B.2">Appendix B.2.</a> Requirements for a Location Dereference Protocol</h1>
<p></p>

<dl>
<dt>D6 .</dt>
<dd>"Location URI support: The location dereference protocol MUST support a location reference in URI form." <br><br> Compliant: HELD only provides location references in URI form.  </dd>
<dt>D7 .</dt>
<dd>"Authentication:  The location dereference protocol MUST include mechanisms to authenticate both the client and the server." <br><br> Partially Compliant: TLS provides means for mutual authentication.  This document only specifies the required mechanism for server authentication.  Client authentication is not precluded.  </dd>
<dt>D8 .</dt>
<dd>"Dereferenced Location Form: The value returned by the dereference protocol MUST contain a well-formed PIDF-LO document." <br><br> Compliant: HELD requires that location objects are in the form of a PIDF-LO that complies with <a href="#RFC5491">[RFC5491]</a>.  </dd>
<dt>D9 .</dt>
<dd>"Location URI Repeated Use: The location dereference protocol MUST support the ability for the same location URI to be resolved more than once, based on dereference server configuration." <br><br> Compliant: A Location Recipient may access and use a location URI as many times as desired until URI expiration results in the URI being invalidated.  Authorization policies might include rules that modify this behavior.  </dd>
<dt>D10 .</dt>
<dd>"The location dereference protocol MUST support confidentiality protection of messages sent between the Location Recipient and the location server." <br><br> Compliant: This document strongly recommends the use of TLS for confidentiality and HELD mandates its implementation.  Unsecured HTTP is permitted: the associated risks are described in <a href="#details">Section 4</a>.  </dd>
</dl>

<p> </p>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">James Winterbottom</span> 
	  <span class="n hidden">
		<span class="family-name">Winterbottom</span>
	  </span>
	</span>
	<span class="org vcardline">Commscope</span>
	<span class="adr">
	  <span>Andrew Building (39)</span>
<span>Wollongong University Campus</span>
<span>Northfields Avenue</span>

	  <span class="vcardline">
		<span class="locality">Wollongong</span>,  
		<span class="region">NSW</span> 
		<span class="code">2522</span>
	  </span>
	  <span class="country-name vcardline">AU</span>
	</span>
	<span class="vcardline">Phone: +61 242 212938</span>

<span class="vcardline">EMail: <a href="mailto:james.winterbottom@commscope.com">james.winterbottom@commscope.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Hannes Tschofenig</span> 
	  <span class="n hidden">
		<span class="family-name">Tschofenig</span>
	  </span>
	</span>
	<span class="org vcardline">Nokia Siemens Networks</span>
	<span class="adr">
	  <span>Linnoitustie 6</span>

	  <span class="vcardline">
		<span class="locality">Espoo</span>,  
		<span class="region"></span>
		<span class="code">02600</span>
	  </span>
	  <span class="country-name vcardline">Finland</span>
	</span>
	<span class="vcardline">Phone: +358 (50) 4871445</span>

<span class="vcardline">EMail: <a href="mailto:Hannes.Tschofenig@gmx.net">Hannes.Tschofenig@gmx.net</a></span>

<span class="vcardline">URI: <a href="http://www.tschofenig.priv.at">http://www.tschofenig.priv.at</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Henning Schulzrinne</span> 
	  <span class="n hidden">
		<span class="family-name">Schulzrinne</span>
	  </span>
	</span>
	<span class="org vcardline">Columbia University</span>
	<span class="adr">
	  <span>Department of Computer Science</span>

	  <span class="vcardline">
		<span class="locality">450 Computer Science Building</span>,  
		<span class="region">New York, NY</span> 
		<span class="code">10027</span>
	  </span>
	  <span class="country-name vcardline">US</span>
	</span>
	<span class="vcardline">Phone: +1 212 939 7004</span>

<span class="vcardline">EMail: <a href="mailto:hgs@cs.columbia.edu">hgs@cs.columbia.edu</a></span>

<span class="vcardline">URI: <a href="http://www.cs.columbia.edu">http://www.cs.columbia.edu</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Martin Thomson</span> 
	  <span class="n hidden">
		<span class="family-name">Thomson</span>
	  </span>
	</span>
	<span class="org vcardline">Commscope</span>
	<span class="adr">
	  <span>Andrew Building (39)</span>
<span>Wollongong University Campus</span>
<span>Northfields Avenue</span>

	  <span class="vcardline">
		<span class="locality">Wollongong</span>,  
		<span class="region">NSW</span> 
		<span class="code">2522</span>
	  </span>
	  <span class="country-name vcardline">AU</span>
	</span>
	<span class="vcardline">Phone: +61 2 4221 2915</span>

<span class="vcardline">EMail: <a href="mailto:martin.thomson@commscope.com">martin.thomson@commscope.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Martin Dawson</span> 
	  <span class="n hidden">
		<span class="family-name">Dawson</span>
	  </span>
	</span>
	<span class="org vcardline">Commscope</span>
	<span class="adr">
	  <span>Andrew Building (39)</span>
<span>Wollongong University Campus</span>
<span>Northfields Avenue</span>

	  <span class="vcardline">
		<span class="locality">Wollongong</span>,  
		<span class="region">NSW</span> 
		<span class="code">2522</span>
	  </span>
	  <span class="country-name vcardline">AU</span>
	</span>
	<span class="vcardline">Phone: +61 2 4221 2992</span>

<span class="vcardline">EMail: <a href="mailto:martin.dawson@commscope.com">martin.dawson@commscope.com</a></span>

  </address>
</div>

</body>
</html>