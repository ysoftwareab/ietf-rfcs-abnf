



RTG Working Group                                              G. Mirsky
Internet-Draft                                               J. Tantsura
Updates: 7130 (if approved)                                     Ericsson
Intended status: Standards Track                          March 21, 2016
Expires: September 22, 2016


     Bidirectional Forwarding Detection (BFD) on Multi-chassis Ling
       Aggregation Group (MC-LAG) Interfaces in IP/MPLS Networks
                 draft-tanmir-rtgwg-bfd-mc-lag-mpls-00

Abstract

   This document discusses use of Bidirectional Forwarding Detection for
   Multi-chassis Link Aggregation Group to provide faster than Link
   Aggregation Control Protocol convergence.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 22, 2016.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



Mirsky & Tantsura      Expires September 22, 2016               [Page 1]

Internet-Draft         BFD for MC-LAG over IP/MPLS            March 2016


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Conventions used in this document . . . . . . . . . . . .   2
       1.1.1.  Terminology . . . . . . . . . . . . . . . . . . . . .   2
       1.1.2.  Requirements Language . . . . . . . . . . . . . . . .   3
   2.  Problem Statement . . . . . . . . . . . . . . . . . . . . . .   3
   3.  BFD on MC-LAG with IP/MPLS data plane . . . . . . . . . . . .   3
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   The [RFC7130] defines use of Bidirectional Forwarding Detection (BFD)
   on Link Aggregation Group (LAG) interfaces.  Multi-chassis LAG (MC-
   LAG) is type of LAG [IEEE.802.1AX.2008] with member links terminated
   on separate chassis.  [IEEE.802.1AX.2008] does not specify MC-LAG but
   doesn't preclude it either.  Link Aggregation Control Protocol
   (LACP), also defined in [IEEE.802.1AX.2008], can work with MC-LAG
   but, as in LAG case, can detect link failure only in range of single
   seconds.  This document defines how mechanism defined to work on LAG
   interfaces [RFC7130] can be adopted to MC-LAG case to enable sub-
   second detection of member link failure.

1.1.  Conventions used in this document

1.1.1.  Terminology

   ACH: Associated Channel Header

   BFD: Bidirectional Forwarding Detection

   BoS: Bottom of the Stack

   G-ACh: Generic Associated Channel

   GAL: Generic Associated Label

   LAG: Link Aggregation Group

   LACP: Link Aggregation Control Protocol

   MC-LAG: Multi-chassis Link Aggregation Group

   MPLS: Multi-Protocol Label Switching



Mirsky & Tantsura      Expires September 22, 2016               [Page 2]

Internet-Draft         BFD for MC-LAG over IP/MPLS            March 2016


1.1.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   [RFC2119].

2.  Problem Statement

   [RFC7130] does not specify selection of the destination IP address
   for the BFD control packet.  The only requirement related to the
   selection is in Section 2.1 stating that the use of address family
   across all member links of the given LAG MUST be consistent across
   all the links.  Thus it is implied that the same unicast IP address
   will be used on all member links of the LAG as use of different
   destination addresses would defeat the purpose of [RFC7130]
   transforming the case into set of single-hop BFD sessions [RFC5881].
   But single unicast IP address may not work in MC-LAG case as the
   member links are terminated on the separate chassis.  This document
   proposes how to overcome this problem if using IP or Multi-Protocol
   Label Switching (MPLS) data plane encapsulation.

3.  BFD on MC-LAG with IP/MPLS data plane

   There are more optional encapsulation formats for the case of micro-
   BFD on MC-LAG over IP/MPLS data plane:

   o  [RFC5586] defined special purpose Generic Associated channel Label
      (GAL) that MAY be used in MPLS encapsulation of the micro-BFD
      control packet over MPSL data plane.  Depending on the channel
      type specified in the Associated Channel Header (ACH) that
      immediately follows after the GAL, micro-BFD MAY use IP/UDP, as
      displayed in Figure 1 or BFD format, i.e. BFD control packet
      without IP and UDP headers.

















Mirsky & Tantsura      Expires September 22, 2016               [Page 3]

Internet-Draft         BFD for MC-LAG over IP/MPLS            March 2016


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                    GAL              |  TC |1|     TTL       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |0 0 0 1|0 0 0 0|   Reserved  |     IPv4 channel (0x0021)     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                   Destination IP address                    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                     Source IP address                       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                         UDP header                          |
    |                                                             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    ~                     BFD Control Packet                      ~
    |                                                             |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

        Figure 1: BFD on MC-LAG member link on IPv4/MPLS data plane

   If IP/UDP format of BFD over MC-LAG interfaces is used, then for IPv4
   address family the destination IP address MUST be selected from 127/8
   range [RFC4379], and if IPv6 address family is used, then the
   destination IP address MUST be selected from 0:0:0:0:0:FFFF:127/104
   range.

4.  IANA Considerations

   This document makes no requests for IANA allocations.  This section
   may be deleted by RFC Editor.

5.  Security Considerations

   Security considerations discussed in [RFC7130] apply to this
   document.

6.  Acknowledgements

7.  Normative References

   [IEEE.802.1AX.2008]
              "IEEE Standard for Local and metropolitan area networks -
              Link Aggregation", IEEE 802.1-AX, November 2008.




Mirsky & Tantsura      Expires September 22, 2016               [Page 4]

Internet-Draft         BFD for MC-LAG over IP/MPLS            March 2016


   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC4379]  Kompella, K. and G. Swallow, "Detecting Multi-Protocol
              Label Switched (MPLS) Data Plane Failures", RFC 4379,
              DOI 10.17487/RFC4379, February 2006,
              <http://www.rfc-editor.org/info/rfc4379>.

   [RFC5586]  Bocci, M., Ed., Vigoureux, M., Ed., and S. Bryant, Ed.,
              "MPLS Generic Associated Channel", RFC 5586,
              DOI 10.17487/RFC5586, June 2009,
              <http://www.rfc-editor.org/info/rfc5586>.

   [RFC5881]  Katz, D. and D. Ward, "Bidirectional Forwarding Detection
              (BFD) for IPv4 and IPv6 (Single Hop)", RFC 5881,
              DOI 10.17487/RFC5881, June 2010,
              <http://www.rfc-editor.org/info/rfc5881>.

   [RFC7130]  Bhatia, M., Ed., Chen, M., Ed., Boutros, S., Ed.,
              Binderberger, M., Ed., and J. Haas, Ed., "Bidirectional
              Forwarding Detection (BFD) on Link Aggregation Group (LAG)
              Interfaces", RFC 7130, DOI 10.17487/RFC7130, February
              2014, <http://www.rfc-editor.org/info/rfc7130>.

Authors' Addresses

   Greg Mirsky
   Ericsson

   Email: gregory.mirsky@ericsson.com


   Jeff  Tantsura
   Ericsson

   Email: jeff.tantsura@ericsson.com













Mirsky & Tantsura      Expires September 22, 2016               [Page 5]
