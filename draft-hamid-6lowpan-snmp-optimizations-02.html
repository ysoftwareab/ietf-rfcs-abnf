<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>SNMP optimizations for 6LoWPAN</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="SNMP optimizations for 6LoWPAN">
<meta name="keywords" content="Network Management, 6LoWPAN">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">H. Mukhtar Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">S. Joo</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">ETRI</td></tr>
<tr><td class="header">Expires: April 24, 2010</td><td class="header">J. Schoenwaelder</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Jacobs University Bremen</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">K. Kim</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Ajou University</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 21, 2009</td></tr>
</table></td></tr></table>
<h1><br />SNMP optimizations for 6LoWPAN<br />draft-hamid-6lowpan-snmp-optimizations-02.txt</h1>

<h3>Status of This Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008. The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 24, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>Simple Network Management Protocol (SNMP) is a widely deployed application protocol for network management and data retrieval. In this document we describe the applicability of SNMP for 6LoWPANs. We discuss the implementation considerations of SNMP Agent and SNMP Manager followed by the deployment considerations of the SNMP protocol. Our discussion also covers the applicability of MIB modules for 6LoWPAN devices.
</p>
<h3>Requirements Language</h3>

<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;,
        &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
        &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;,
        &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be
        interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
        
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Why SNMP<br />
<a href="#anchor3">2.</a>&nbsp;
Little-known SNMP Features<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.1.</a>&nbsp;
SNMP Contexts<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">2.2.</a>&nbsp;
SNMP Proxies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">2.3.</a>&nbsp;
Message Size Restrictions<br />
<a href="#anchor7">3.</a>&nbsp;
SNMP Agent Implementation Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.1.</a>&nbsp;
Access Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">3.2.</a>&nbsp;
Overhead of the Different SNMP Message Formats<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">3.2.1.</a>&nbsp;
Overhead Difference of SNMPv3 Security<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">3.2.2.</a>&nbsp;
Minimum Message Size Calculation<br />
<a href="#anchor12">4.</a>&nbsp;
SNMP Manager Implementation Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">4.1.</a>&nbsp;
Polling, Pushing, and Trap-directed Polling <br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">4.2.</a>&nbsp;
Support for SNMP Proxies<br />
<a href="#anchor15">5.</a>&nbsp;
SNMP Deployment Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">5.1.</a>&nbsp;
Naming Issues<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">5.2.</a>&nbsp;
SNMP Protocol Operations <br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">5.3.</a>&nbsp;
Timeouts and Retransmissions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">5.4.</a>&nbsp;
Polling Intervals<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">5.5.</a>&nbsp;
Caching Issues<br />
<a href="#anchor21">6.</a>&nbsp;
Applicable MIB Modules<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">6.1.</a>&nbsp;
Applicable Standardized MIBs<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">6.2.</a>&nbsp;
MIB Design Guidelines for Low Overhead<br />
<a href="#anchor24">7.</a>&nbsp;
Conclusion<br />
<a href="#anchor25">8.</a>&nbsp;
IANA Consideration<br />
<a href="#anchor26">9.</a>&nbsp;
Security Considerations<br />
<a href="#anchor27">10.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">11.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">11.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">11.2.</a>&nbsp;
Informative References<br />
<a href="#anchor30">Appendix&nbsp;A.</a>&nbsp;
Calculation of Minimum packet size<br />
<a href="#anchor31">Appendix&nbsp;B.</a>&nbsp;
Possible Deployment Models for SNMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor32">B.1.</a>&nbsp;
Lightweight End-to-End<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor33">B.2.</a>&nbsp;
Proxy Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">B.3.</a>&nbsp;
SNMP with Sub-Agent Protocols<br />
<a href="#anchor35">Appendix&nbsp;C.</a>&nbsp;
Change Log <br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Simple Network Management Protocol (SNMP) is a UDP-based protocol operating in the application layer of the Internet Protocol Suite. It consists of four basic components: a managed node running an agent; an entity running management applications (typically called as a manager); a protocol to convey information between the SNMP entities; and management information.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Why SNMP</h3>

<p>SNMP is datagram-oriented and the implementations of SNMP can be very lightweight. It may fit 6LoWPAN applications very well. The following features make SNMP suitable for this network.
</p>
<p>- Protocol Maturity: SNMPv3 is a full IETF standard having a high degree of technical maturity with significant experiences in implementation and operation.
</p>
<p>- Data Naming: SNMP provides a hierarchical namespace utilizing object identifiers (OIDs) for data naming purposes.  The data accessible via SNMP is described by Management Information Bases (MIB modules). These MIB modules can either be standardized or specific to certain enterprises.
</p>
<p>- Network Management: According to <a class='info' href='#RFC4919'>[RFC4919]<span> (</span><span class='info'>Kushalnagar, N., Montenegro, G., and C. Schumacher, &ldquo;IPv6 over Low-Power Wireless Personal Area Networks (6LoWPANs): Overview, Assumptions, Problem Statement, and Goals,&rdquo; August&nbsp;2007.</span><span>)</span></a> network management is one of the goals for 6LoWPANs, wherein it is described that network management functionality is critical for 6LoWPANs. SNMP is widely used for network management and it is the Internet community's de facto management protocol. 
</p>
<p>- Data Retrieval: SNMP employs polling in which data is being requested by a manager from the agents. In addition, SNMP supports a push model in which data is sent from agents to the managers without a prior request. Trap-directed polling refers to a mode where polling is used with relatively long polling intervals but agents can send notifications in order to notify a manager of events that might require changes to the polling strategy.
</p>
<p>- Security: SNMPv3 can provide both message-level and transport-level security. SNMPv3 defines User based Security model (USM) for message-driven security; and transport-based security model (TSM) for transport-driven security. TSM makes it possible to use existing security protocols such as Transport Layer Security (TLS) <a class='info' href='#RFC5246'>[RFC5246]<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> and the Datagram Transport Layer Security (DTLS) Protocol <a class='info' href='#RFC4347'>[RFC4347]<span> (</span><span class='info'>Rescorla, E. and N. Modadugu, &ldquo;Datagram Transport Layer Security,&rdquo; April&nbsp;2006.</span><span>)</span></a> with SNMPv3. The modular design of SNMPv3 also allows new security and access control protocols to be added to it.
</p>
<p>- Access control: SNMP can provide access control of the information.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Little-known SNMP Features</h3>

<p>This section explains some little-known SNMP concepts. 
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
SNMP Contexts</h3>

<p>Each SNMP entity is composed of a single engine which is identified by an SNMP engine identifier. A context is a collection of management information accessible by an SNMP entity and it is also defined as a subset of a single SNMP entity. An SNMP entity has access to one or more contexts uniquely identified by context names. In order to identify an individual item of management information within the management domain, the SNMP entity's context is identified first (using the engine identifier and context name) and this is followed by the object type and instance. 
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
SNMP Proxies</h3>

<p>The term 'proxy' in SNMP has a restrictive meaning. A proxy refers to a proxy forwarder application which forwards SNMP messages to other SNMP engines and forwards the response to such previously forwarded messages back to SNMP engine from which the original message was received <a class='info' href='#RFC3413'>[RFC3413]<span> (</span><span class='info'>Levi, D., Meyer, P., and B. Stewart, &ldquo;Simple Network Management Protocol (SNMP) Applications,&rdquo; December&nbsp;2002.</span><span>)</span></a>. The forwarding is based on contexts and it is irrespective of the management objects being accessed. Thus, an SNMP proxy can be used to forward messages from one transport to another, or to translate SNMP messages from one version to another version. 
</p>
<p>The SNMP proxy cannot be used for translation of SNMP requests into operations of a non-SNMP management protocol and it cannot be used for supporting aggregated objects.  Proxies depend on context information and the forwarding of messages is independent of the objects being accessed. To support aggregated objects, where the value of one object depends upon multiple other remote items, special MIB modules and sub-agent protocols are used instead of proxies.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Message Size Restrictions</h3>

<p>SNMP message contains a msgMaxSize field which is used to communicate the maximum message size at the sender and the receiver side. The maximum message size is the maximum size of a message that can be accepted by the receiving entity.  
</p>
<p>The minimum required to implement message size is transport model specific. For SNMP over UDP, the size is 484 octets.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
SNMP Agent Implementation Considerations</h3>

<p>This section covers SNMP agent implementation considerations for 6LoWPAN.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Access Control</h3>

<p>The Local Configuration Datastore (LCD), which contains access rights and policies of an SNMP entity, need not be configured remotely.  It is recommended to have permanent access control tables on the nodes. The implementers should keep the authorization tables as compact as possible to reduce the memory and codesize overhead.  Compact permanent authorization tables on the nodes can for example provide read-only and read-write access to the management instrumentation on the node at almost zero processing cost since the SNMP agents may not support instance level access control granularity to further reduce performance cost. 
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Overhead of the Different SNMP Message Formats</h3>

<p>SNMPv1 <a class='info' href='#RFC1157'>[RFC1157]<span> (</span><span class='info'>Case, J., Fedor, M., Schoffstall, M., and J. Davin, &ldquo;Simple Network Management Protocol (SNMP),&rdquo; May&nbsp;1990.</span><span>)</span></a> is the earliest version of SNMP and it reached the IETF full standard status. The protocol operation consisted of Get, Get-Next, and Trap Operations for data retrieval and the Set operation for configuration.  SNMPv1 security is based on community string based authentication. Access control is provided with SNMP MIB views. SNMPv2c was an experimental improvement over SNMPv1 which introduced new data retrieval operations, i.e., Get-Bulk and Inform, and introduced improved error handling. SNMPv2c could only reach the experimental status.
</p>
<p>SNMPv3, Std 62 <a class='info' href='#RFC3411'>[RFC3411]<span> (</span><span class='info'>Harrington, D., Presuhn, R., and B. Wijnen, &ldquo;An Architecture for Describing Simple Network Management Protocol (SNMP) Management Frameworks,&rdquo; December&nbsp;2002.</span><span>)</span></a>-<a class='info' href='#RFC3418'>[RFC3418]<span> (</span><span class='info'>Presuhn, R., &ldquo;Management Information Base (MIB) for the Simple Network Management Protocol (SNMP),&rdquo; December&nbsp;2002.</span><span>)</span></a>, supports all the aforementioned data retrieval and configuration options of SNMPv1 and SNMPv2c. The SNMPv3 framework is modular in order to enhance extensibility. Moreover, SNMPv3 supports authentication and data integrity and an additional privacy option for confidentiality. After SNMPv3 became a full standard, SNMPv1 and SNMPv2c were declared Historic due to their weak security features. However, SNMPv3 can coexist with the earlier versions of SNMP <a class='info' href='#RFC3584'>[RFC3584]<span> (</span><span class='info'>Frye, R., Levi, D., Routhier, S., and B. Wijnen, &ldquo;Coexistence between Version 1, Version 2, and Version 3 of the Internet-standard Network Management Framework,&rdquo; August&nbsp;2003.</span><span>)</span></a>. 
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Overhead Difference of SNMPv3 Security</h3>

<p>SNMP security can be supported by two different approaches, i.e., message-driven security and transport-driven security. With message-driven security (the User-based Security Model, USM), SNMP provides its own security where the security parameters are passed within each SNMP message. On the other hand, transport-driven security enables operators to leverage existing secure transport protocols (e.g., the Transport Security Model, TSM).
</p>
<p>The User-based Security Model <a class='info' href='#RFC3414'>[RFC3414]<span> (</span><span class='info'>Blumenthal, U. and B. Wijnen, &ldquo;User-based Security Model (USM) for version 3 of the Simple Network Management Protocol (SNMPv3),&rdquo; December&nbsp;2002.</span><span>)</span></a> is a shared secret scheme which uses message-driven security.  Although it utilizes existing mechanisms, it is designed independent of other security infrastructures. It provides its own security and has its own key management infrastructure.  The operator configures secrets in the SNMP engines used by management applications. These independent authentication and encryption keys are used to secure communication.  Messages can be authenticated, or authenticated and encrypted.
</p>
<p>The Transport Security Model (TSM) enables operators to leverage existing security infrastructures and secure transport protocols. TSM allows security to be provided by an external secure transport protocol. TSM enables the use of existing security mechanisms, such as Transport Layer Security (TLS) <a class='info' href='#RFC5246'>[RFC5246]<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a>, Datagram Transport Layer Security (DTLS) Protocol <a class='info' href='#RFC4347'>[RFC4347]<span> (</span><span class='info'>Rescorla, E. and N. Modadugu, &ldquo;Datagram Transport Layer Security,&rdquo; April&nbsp;2006.</span><span>)</span></a>, and the Secure Shell (SSH) Protocol <a class='info' href='#RFC4251'>[RFC4251]<span> (</span><span class='info'>Ylonen, T. and C. Lonvick, &ldquo;The Secure Shell (SSH) Protocol Architecture,&rdquo; January&nbsp;2006.</span><span>)</span></a>.  
</p>
<p>In transport-driven protocols DTLS, which is UDP based, can be considered for 6LoWPAN. <a class='info' href='#I-D.draft-ietf-isms-dtls-tm'>[I&#8209;D.draft&#8209;ietf&#8209;isms&#8209;dtls&#8209;tm]<span> (</span><span class='info'>Hardaker, W., &ldquo;Transport Layer Security Transport Model for SNMP,&rdquo; September&nbsp;2009.</span><span>)</span></a> specifies how DTLS can be used with SNMP. Transport Model for DTLS protocol involves an initial handshake to establish a session. Upon successful session establishment, the security related session parameters are cached in the client and the server for the duration of the session instead of being sent in all messages. The session is based on UDP source and destination address/port pairs. Therefore for session de-multiplexing a different UDP source port is selected for every new session to distinguish between multiple sessions from a source to same port on the destination. 
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
Minimum Message Size Calculation</h3>

<p>The minimum message size for SNMPv3 with USM is 67 bytes whereas the minimum message size for SNMPv3 with TSM is 46 bytes. The minimum message size for the historic SNMPv1 message is 20 byte. The details of the calculation can be found in Appendix A. TSM may involve additional session establishment cost consisting of the initial handshake and the caching of transport parameters. The tradeoff between the message size and session overhead should be kept in mind while designing applications.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
SNMP Manager Implementation Considerations</h3>

<p>This section covers SNMP manager implementation considerations for 6LoWPAN.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Polling, Pushing, and Trap-directed Polling </h3>

<p>In Sensor networks, polling can be reactive or proactive. Data gathering or event reporting sensors may 'push' their information towards the managers or they may wait for a manager to 'pull' the information through a request. 
</p>
<p>When the demand for data is relatively high, push mechanisms are deployed in order to save energy cost where the data flows from managed entities towards the managers. SNMP notifications are a realization the push based model in which data is sent to the manager without a prior request.  Data can be reported periodically from the SNMP agent to the manager through SNMP notifications and the notifications can take the advantage of SNMP security and access control features to ensure the access to legitimate users along with confidentiality and integrity of the data. The SNMP Inform PDU requires a response back from the receiving manager and it can be used in applications in which reliability is important. 
</p>
<p>The use of notifications is recommended for data flows from sensors to the manager and also for the scenarios where multiple nodes generate the same information.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Support for SNMP Proxies</h3>

<p>The SNMP proxy forwarder application resides on an intermediate SNMP entity (e.g. an SNMP entity on a management server or an edge router in case of 6LoWPAN). The proxy forwarder registers each context to which it wishes to forward messages. After the remote context is registered, the managers send messages to the proxy forwarder's engine with the context information of the remote host. The proxy forwarder forwards the message to the remote context. Upon reception of a response from the remote host, it forwards the response back to the manager.
</p>
<p>In 6LoWPAN networks proxies may be used to change message encoding, or they may be used to translate between SNMP versions, or they may be used to change the security domain at the 6LoWPAN side of the network. 
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
SNMP Deployment Considerations</h3>

<p>Following are a list of considerations for deployment of SNMP in 6LoWPANs.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Naming Issues</h3>

<p> In order to reduce the message overhead, the managers are advised to use short values for Engine Identifiers. The minimum length for an Engine Identifier is 5 octets. The managers may generate and assign the Engine identifiers using the 16-bit short address or the 64-bit IEEE EUI-64 addresses of a node. Context name is an administratively assigned octet string that names a context. In order to reduce the message size overhead the length of the string should be kept short. The default context is identified by a a zero-length context name.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
SNMP Protocol Operations </h3>

<p>SNMP supports four basic data retrieval operations i.e. GetRequest-PDU, GetNextRequest-PDU, GetBulkRequest-PDU <a class='info' href='#RFC3416'>[RFC3416]<span> (</span><span class='info'>Presuhn, R., &ldquo;Version 2 of the Protocol Operations for the Simple Network Management Protocol (SNMP),&rdquo; December&nbsp;2002.</span><span>)</span></a>. The GetRequest-PDU is useful for retrieving well known scalar data, whereas the GetNextRequest-PDU and GetBulkRequest-PDU operations are particularly advantageous for retrieving dynamically changing tabular data. The SNMPv2-Trap-PDU and InformRequest-PDU can be used for push-based data retrieval, in which periodic or event-based notifications are sent to the managers. 
</p>
<p>During the processing of a GetBulkRequest-PDU operation, the agent can decide the number of objects to include in response. For requesting objects the manager has to consider the underlying packet size constraints. Also, the number of objects in the variable-binding in request messages and max-repeaters field of GetBulk operation should be selected keeping the constraint in mind. 
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Timeouts and Retransmissions</h3>

<p>In 6LoWPANs, the SNMP message may be fragmented or may encounter more latency because of underlying wireless link. The value of timeouts should be adjusted on the manager side by considering the link characteristics so that SNMP does not timeout between queries. In some cases the number of retries may also be adjusted to cater for link characteristics.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Polling Intervals</h3>

<p>Similarly, in order to reduce the amount of polling, the polling interval should be increased for less time critical data. 6LoWPANs are energy constrained networks and excessive polling is not recommended.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Caching Issues</h3>

<p>Caching the important information can save the transmission cost e.g. caching the snmpEngineID would save the traffic overhead of EngineID discovery mechanisms. It is recommended that the EngineID should be cached in order to reduce the transmission cost. In case of TSM, caching the transport parameters can reduce the message sizes. 
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Applicable MIB Modules</h3>

<p>This section describes some relevant MIB modules which can be used in 6LoWPAN.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Applicable Standardized MIBs</h3>

<p>ENTITY-SENSOR-MIB <a class='info' href='#RFC3433'>[RFC3433]<span> (</span><span class='info'>Bierman, A., Romascanu, D., and K. Norseth, &ldquo;Entity Sensor Management Information Base,&rdquo; December&nbsp;2002.</span><span>)</span></a> defines objects for information that is associated with physical sensors (e.g. the current value of the sensor, operational status, and the data units precision associated with the sensor). It can be reused for 6LoWPANs. Other applicable MIB modules are TBD.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
MIB Design Guidelines for Low Overhead</h3>

<p>When defining MIB modules, the MIB designers should avoid using long OIDs by avoiding unnecessary data hierarchies. Moreover, complex indexing schemes should be avoided in order to keep the overhead resulting from instance identifiers as low as possible.
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Conclusion</h3>

<p>SNMP can be very useful for 6LoWPANs due to its significant implementation and operational experiences. The standards allow for memory and CPU efficient implementations. The utilization of secure transports such as DTLS can reduce the overhead of message-based security mechanisms. This document explored the applicability of SNMP for its use in 6LoWPAN.
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Consideration</h3>

<p>
		TBD.
		
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Security Considerations</h3>

<p>
		TBD.
		
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Acknowledgments</h3>

<p>
		TBD.
		
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3411">[RFC3411]</a></td>
<td class="author-text">Harrington, D., Presuhn, R., and B. Wijnen, &ldquo;<a href="http://tools.ietf.org/html/rfc3411">An Architecture for Describing Simple Network Management Protocol (SNMP) Management Frameworks</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3411, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3411.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3412">[RFC3412]</a></td>
<td class="author-text">Case, J., Harrington, D., Presuhn, R., and B. Wijnen, &ldquo;<a href="http://tools.ietf.org/html/rfc3412">Message Processing and Dispatching for the Simple Network Management Protocol (SNMP)</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3412, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3412.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3413">[RFC3413]</a></td>
<td class="author-text">Levi, D., Meyer, P., and B. Stewart, &ldquo;<a href="http://tools.ietf.org/html/rfc3413">Simple Network Management Protocol (SNMP) Applications</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3413, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3413.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3414">[RFC3414]</a></td>
<td class="author-text">Blumenthal, U. and B. Wijnen, &ldquo;<a href="http://tools.ietf.org/html/rfc3414">User-based Security Model (USM) for version 3 of the Simple Network Management Protocol (SNMPv3)</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3414, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3414.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3415">[RFC3415]</a></td>
<td class="author-text">Wijnen, B., Presuhn, R., and K. McCloghrie, &ldquo;<a href="http://tools.ietf.org/html/rfc3415">View-based Access Control Model (VACM) for the Simple Network Management Protocol (SNMP)</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3415, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3415.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3416">[RFC3416]</a></td>
<td class="author-text">Presuhn, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3416">Version 2 of the Protocol Operations for the Simple Network Management Protocol (SNMP)</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3416, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3416.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3417">[RFC3417]</a></td>
<td class="author-text">Presuhn, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3417">Transport Mappings for the Simple Network Management Protocol (SNMP)</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3417, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3417.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3418">[RFC3418]</a></td>
<td class="author-text">Presuhn, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3418">Management Information Base (MIB) for the Simple Network Management Protocol (SNMP)</a>,&rdquo; STD&nbsp;62, RFC&nbsp;3418, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3418.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4944">[RFC4944]</a></td>
<td class="author-text">Montenegro, G., Kushalnagar, N., Hui, J., and D. Culler, &ldquo;<a href="http://tools.ietf.org/html/rfc4944">Transmission of IPv6 Packets over IEEE 802.15.4 Networks</a>,&rdquo; RFC&nbsp;4944, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4944.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5590">[RFC5590]</a></td>
<td class="author-text">Harrington, D. and J. Schoenwaelder, &ldquo;<a href="http://tools.ietf.org/html/rfc5590">Transport Subsystem for the Simple Network Management Protocol (SNMP)</a>,&rdquo; RFC&nbsp;5590, June&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5590.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5591">[RFC5591]</a></td>
<td class="author-text">Harrington, D. and W. Hardaker, &ldquo;<a href="http://tools.ietf.org/html/rfc5591">Transport Security Model for the Simple Network Management Protocol (SNMP)</a>,&rdquo; RFC&nbsp;5591, June&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5591.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3433">[RFC3433]</a></td>
<td class="author-text">Bierman, A., Romascanu, D., and K. Norseth, &ldquo;<a href="http://tools.ietf.org/html/rfc3433">Entity Sensor Management Information Base</a>,&rdquo; RFC&nbsp;3433, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3433.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1157">[RFC1157]</a></td>
<td class="author-text"><a href="mailto:case@CS.UTK.EDU">Case, J.</a>, <a href="mailto:fedor@patton.NYSER.NET">Fedor, M.</a>, <a href="mailto:schoff@NISC.NYSER.NET">Schoffstall, M.</a>, and <a href="mailto:jrd@ptt.lcs.mit.edu">J. Davin</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1157">Simple Network Management Protocol (SNMP)</a>,&rdquo; STD&nbsp;15, RFC&nbsp;1157, May&nbsp;1990 (<a href="http://www.rfc-editor.org/rfc/rfc1157.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.draft-ietf-isms-dtls-tm">[I-D.draft-ietf-isms-dtls-tm]</a></td>
<td class="author-text">Hardaker, W., &ldquo;Transport Layer Security Transport Model for SNMP,&rdquo; September&nbsp;2009.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3410">[RFC3410]</a></td>
<td class="author-text">Case, J., Mundy, R., Partain, D., and B. Stewart, &ldquo;<a href="http://tools.ietf.org/html/rfc3410">Introduction and Applicability Statements for Internet-Standard Management Framework</a>,&rdquo; RFC&nbsp;3410, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3410.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2741">[RFC2741]</a></td>
<td class="author-text"><a href="mailto:daniele@zk3.dec.com">Daniele, M.</a>, <a href="mailto:wijnen@vnet.ibm.com">Wijnen, B.</a>, <a href="mailto:ellison@world.std.com">Ellison, M.</a>, and <a href="mailto:dfrancis@cisco.com">D. Francisco</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2741">Agent Extensibility (AgentX) Protocol Version 1</a>,&rdquo; RFC&nbsp;2741, January&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2741.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3584">[RFC3584]</a></td>
<td class="author-text">Frye, R., Levi, D., Routhier, S., and B. Wijnen, &ldquo;<a href="http://tools.ietf.org/html/rfc3584">Coexistence between Version 1, Version 2, and Version 3 of the Internet-standard Network Management Framework</a>,&rdquo; BCP&nbsp;74, RFC&nbsp;3584, August&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3584.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4919">[RFC4919]</a></td>
<td class="author-text">Kushalnagar, N., Montenegro, G., and C. Schumacher, &ldquo;<a href="http://tools.ietf.org/html/rfc4919">IPv6 over Low-Power Wireless Personal Area Networks (6LoWPANs): Overview, Assumptions, Problem Statement, and Goals</a>,&rdquo; RFC&nbsp;4919, August&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4919.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5246">[RFC5246]</a></td>
<td class="author-text">Dierks, T. and E. Rescorla, &ldquo;<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>,&rdquo; RFC&nbsp;5246, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5246.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4347">[RFC4347]</a></td>
<td class="author-text">Rescorla, E. and N. Modadugu, &ldquo;<a href="http://tools.ietf.org/html/rfc4347">Datagram Transport Layer Security</a>,&rdquo; RFC&nbsp;4347, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4347.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4251">[RFC4251]</a></td>
<td class="author-text">Ylonen, T. and C. Lonvick, &ldquo;<a href="http://tools.ietf.org/html/rfc4251">The Secure Shell (SSH) Protocol Architecture</a>,&rdquo; RFC&nbsp;4251, January&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4251.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4789">[RFC4789]</a></td>
<td class="author-text">Schoenwaelder, J. and T. Jeffree, &ldquo;<a href="http://tools.ietf.org/html/rfc4789">Simple Network Management Protocol (SNMP) over IEEE 802 Networks</a>,&rdquo; RFC&nbsp;4789, November&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4789.txt">TXT</a>).</td></tr>
</table>

<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Calculation of Minimum packet size</h3>

<p>A very rough way to estimate the size needed by a varbind that is essentially a number is the following formula:
</p>
<p>   varbind-size = 6 + number-of-OID-subidentifier
</p>
<p>That is for sysUpTime (1.3.6.1.2.1.1.3), we get 14 bytes and thus the SNMPv1 message is 34 bytes, SNMPv3/TSM is 60 bytes, and the SNMPv3/USM message is 81 bytes. TSM may imply security overhead at the transport layer e.g. in case of DTLS the transport layer framing overhead is 13 bytes (compressed DTLS may further reduce the application payload length). The details of the calculation in section 3.2.2 are as follows:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

<span class='err'>* SNMPv3 minimum message size calculation

SNMPv3Message (USM)             2 byte
 msgVersion                    3 byte
 msgGlobalData (HeaderData)   15 byte
 msgSecurityParameters        23 byte
 msgData (ScopedPDU)          24 byte
                              -------
                              67 byte

SNMPv3Message (TSM)             2 byte
 msgVersion                    3 byte
 msgGlobalData (HeaderData)   15 byte
 msgSecurityParameters         2 byte
 msgData (ScopedPDU)          24 byte
                              -------
                              46 byte

UsmSecurityParameters           2 byte
 msgAuthoritativeEngineID      7 byte
 msgAuthoritativeEngineBoots   3 byte
 msgAuthoritativeEngineTime    3 byte
 msgUserName                   2 byte
 msgAuthenticationParameters   2 byte
 msgPrivacyParameters          2 byte
                              -------
                              21 byte

TsmSecurityParameters           2 byte
                              -------
                               2 byte

HeaderData                      2 byte
 msgID                         3 byte
 msgMaxSize                    4 byte
 msgFlags                      3 byte
 msgSecurityModel              3 byte
                              -------
                              15 byte

ScopedPDU                       2 byte
 contextEngineID               7 byte
 contextName                   2 byte
 PDU                          13 byte
                              -------
                              24 byte

PDU                             2 byte
 request-id                    3 byte
 error-status                  3 byte
 error-index                   3 byte
 variable-bindings             2 byte
                              -------
                              13 byte

* SNMPv1 / SNMPv2c minimum mesage size calculation

SNMPv1Message                   2 byte
 version                       3 byte
 community                     2 byte
 data (PDU)                   13 byte
                              -------
                              20 byte
</span></pre></div>
<p> The details of the calculation for DTLS framing as follows:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
        <dfn>Type</dfn>                  <span class='err'>1 byte
        Version               2 byte
        Epoch                 2 byte
        Sequence_number       6 byte
        Length                2 byte
</span></pre></div>
<a name="anchor31"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Possible Deployment Models for SNMP</h3>

<p>There can be three fundamental deployment models for SNMPv3
</p>
<a name="anchor32"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.1"></a><h3>B.1.&nbsp;
Lightweight End-to-End</h3>

<p>The SNMP manager talks SNMPv3 end-to-end to the nodes. In this way existing management tools can be reused and a few adaptations may be needed by specifying suitable deployment parameters through an Applicability Statement as covered by this draft. 
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>
<dfn>Manager</dfn> &lt;<span class='err'>-------------------------------------&gt; 6LoWPAN nodes
                       SNMPv3
</span></pre></div>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.2"></a><h3>B.2.&nbsp;
Proxy Model</h3>

<p>The SNMP manager talks SNMPv3 to an SNMP proxy residing on the 6LoWPAN Gateway (or a proxy server) as explained in this document. Existing management tools (as long as they are proxy aware, which is not generally true) can be reused. 
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>
<dfn>Manager</dfn> &lt;<span class='err'>--------&gt;    SNMP Proxy   &lt;--------------&gt; 6LoWPAN nodes
          SNMPv3     (6LoWPAN ER)       SNMPv3
</span></pre></div>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B.3"></a><h3>B.3.&nbsp;
SNMP with Sub-Agent Protocols</h3>

<p>The SNMP manager talks SNMPv3 to an extensible SNMP agent residing on the 6LoWPAN router which uses a subagent protocol (e.g. a 6LoWPAN enhanced version of AgentX, <a class='info' href='#RFC2741'>[RFC2741]<span> (</span><span class='info'>Daniele, M., Wijnen, B., Ellison, M., and D. Francisco, &ldquo;Agent Extensibility (AgentX) Protocol Version 1,&rdquo; January&nbsp;2000.</span><span>)</span></a>) to populate its MIB. However, the current standard subagent protocol is not suitable for 6LoWPAN since it assumes a reliable stream-oriented transport and an adaptation of an existing protocol may be required. Thus, this model is not recommended for 6LoWPANs. 
</p><div style='display: table; width: 0; margin-left: auto; margin-right: auto'><pre>
<dfn>Manager</dfn> &lt;<span class='err'>-------&gt;   SNMP Agent    &lt;-----------------&gt; 6LoWPAN nodes
          SNMPv3   (6LoWPAN ER)    SubAgent Protocol
</span></pre></div>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Change Log </h3>

<p>Changes from -01 to -02:
</p>
<p>The draft now covers applicability of SNMPv3 for 6LoWPANs. The focus of the draft is shifted towards supporting SNMPv3 'as is' in 6LoWPANs.
</p>
<p></p>
<ol class="text">
<li>Added SNMP Agent Implentation Considerations for 6LoWPANs.
</li>
<li>Added SNMP Manager Implentation Considerations for 6LoWPANs.
</li>
<li>Added the Deployment Considerations for 6LoWPANs.
</li>
<li>Added the Applicable MIB modules for 6LoWPANs.
</li>
<li>Moved SNMP Deployment Models to Appendix.
</li>
<li>Removed the section on Packet Compression.
</li>
</ol>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hamid Mukhtar (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ETRI</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USN Research Division, ETRI, 161 Gajeong-dong, Yuseong-gu,</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Daejeon  305-350</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">KOREA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+82 42 860 5435</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:hamid@etri.re.kr">hamid@etri.re.kr</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Seong-Soon Joo</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ETRI</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USN Research Division, ETRI, 161 Gajeong-dong, Yuseong-gu,</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Daejeon  305-350</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">KOREA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+82 42 860 6333</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:ssjoo@etri.re.kr">ssjoo@etri.re.kr</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Juergen Schoenwaelder</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jacobs University Bremen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Campus Ring 1</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bremen  28725</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 421 200-3587</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:j.schoenwaelder@jacobs-university.de">j.schoenwaelder@jacobs-university.de</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kim, Ki Hyung</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ajou University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San 5 Wonchun-dong, Yeongtong-gu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Suwon-si, Gyeonggi-do  442-749</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">KOREA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+82 31 219 2433</td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:kkim86@ajou.ac.kr">kkim86@ajou.ac.kr</a></td></tr>
</table>
</body></html>
