<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Real-time Transport Protocol (RTP) Recommendations for SIPREC</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 Definitions">
<link href="#rfc.section.4" rel="Chapter" title="4 Roles">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1 SRC acting as an RTP Translator">
<link href="#rfc.section.4.1.1" rel="Chapter" title="4.1.1 Forwarding Translator">
<link href="#rfc.section.4.1.2" rel="Chapter" title="4.1.2 Transcoding Translator">
<link href="#rfc.section.4.2" rel="Chapter" title="4.2 SRC acting as an RTP Mixer">
<link href="#rfc.section.4.3" rel="Chapter" title="4.3 SRC acting as an RTP Endpoint">
<link href="#rfc.section.5" rel="Chapter" title="5 RTCP">
<link href="#rfc.section.6" rel="Chapter" title="6 RTP Profile">
<link href="#rfc.section.7" rel="Chapter" title="7 SSRC">
<link href="#rfc.section.8" rel="Chapter" title="8 CSRC">
<link href="#rfc.section.9" rel="Chapter" title="9 SDES">
<link href="#rfc.section.9.1" rel="Chapter" title="9.1 CNAME">
<link href="#rfc.section.10" rel="Chapter" title="10 Keepalive">
<link href="#rfc.section.11" rel="Chapter" title="11 RTCP Feedback Messages">
<link href="#rfc.section.11.1" rel="Chapter" title="11.1 Full Intra Request">
<link href="#rfc.section.11.1.1" rel="Chapter" title="11.1.1 SIP INFO for FIR">
<link href="#rfc.section.11.2" rel="Chapter" title="11.2 Picture Loss Indicator">
<link href="#rfc.section.11.3" rel="Chapter" title="11.3 Temporary Maximum Media Stream Bit Rate Request">
<link href="#rfc.section.11.3.1" rel="Chapter" title="11.3.1 Renegotiation of SDP bandwidth attribute">
<link href="#rfc.section.12" rel="Chapter" title="12 Symmetric RTP/RTCP for Sending and Receiving">
<link href="#rfc.section.13" rel="Chapter" title="13 Security Considerations">
<link href="#rfc.section.14" rel="Chapter" title="14 IANA Considerations">
<link href="#rfc.section.15" rel="Chapter" title="15 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="16 References">
<link href="#rfc.references.1" rel="Chapter" title="16.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="16.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document provides recommendations and guidelines for RTP and RTCP in the context of SIPREC. This document exists as a standalone document to facilitate discussion of the RTP recommendations, and it is anticipated that portions of this document will be incorporated into " />
  <meta name="description" content="This document provides recommendations and guidelines for RTP and RTCP in the context of SIPREC. This document exists as a standalone document to facilitate discussion of the RTP recommendations, and it is anticipated that portions of this document will be incorporated into " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">SIPREC Working Group</td>
<td class="right">C. Eckel</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">September 22, 2011</td>
</tr>
<tr>
<td class="left">Expires: March 25, 2012</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Real-time Transport Protocol (RTP) Recommendations for SIPREC<br />
  <span class="filename">draft-eckel-siprec-rtp-rec-02</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document provides recommendations and guidelines for RTP and RTCP in the context of SIPREC. This document exists as a standalone document to facilitate discussion of the RTP recommendations, and it is anticipated that portions of this document will be incorporated into <a href="#I-D.ietf-siprec-protocol">[I-D.ietf-siprec-protocol]</a> rather than this document itself being adopted as a working group document.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on March 25, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">Definitions</a>
</li>
<li>4.   <a href="#rfc.section.4">Roles</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1">SRC acting as an RTP Translator</a>
</li>
<li>4.1.1.   <a href="#rfc.section.4.1.1">Forwarding Translator</a>
</li>
<li>4.1.2.   <a href="#rfc.section.4.1.2">Transcoding Translator</a>
</li>
<li>4.2.   <a href="#rfc.section.4.2">SRC acting as an RTP Mixer</a>
</li>
<li>4.3.   <a href="#rfc.section.4.3">SRC acting as an RTP Endpoint</a>
</li>
<li>5.   <a href="#rfc.section.5">RTCP</a>
</li>
<li>6.   <a href="#rfc.section.6">RTP Profile</a>
</li>
<li>7.   <a href="#rfc.section.7">SSRC</a>
</li>
<li>8.   <a href="#rfc.section.8">CSRC</a>
</li>
<li>9.   <a href="#rfc.section.9">SDES</a>
</li>
<li>9.1.   <a href="#rfc.section.9.1">CNAME</a>
</li>
<li>10.   <a href="#rfc.section.10">Keepalive</a>
</li>
<li>11.   <a href="#rfc.section.11">RTCP Feedback Messages</a>
</li>
<li>11.1.   <a href="#rfc.section.11.1">Full Intra Request</a>
</li>
<li>11.1.1.   <a href="#rfc.section.11.1.1">SIP INFO for FIR</a>
</li>
<li>11.2.   <a href="#rfc.section.11.2">Picture Loss Indicator</a>
</li>
<li>11.3.   <a href="#rfc.section.11.3">Temporary Maximum Media Stream Bit Rate Request</a>
</li>
<li>11.3.1.   <a href="#rfc.section.11.3.1">Renegotiation of SDP bandwidth attribute</a>
</li>
<li>12.   <a href="#rfc.section.12">Symmetric RTP/RTCP for Sending and Receiving</a>
</li>
<li>13.   <a href="#rfc.section.13">Security Considerations</a>
</li>
<li>14.   <a href="#rfc.section.14">IANA Considerations</a>
</li>
<li>15.   <a href="#rfc.section.15">Acknowledgements</a>
</li>
<li>16.   <a href="#rfc.references">References</a>
</li>
<li>16.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>16.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Author's Address</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">This document provides recommendations and guidelines for RTP and RTCP in the context of SIPREC. In order to communicate most effectively, the Session Recording Client (SRC) and the Session Recording (SRS) SHOULD utilize the mechanisms provided by RTP in a well defined and predicable manner. It is the goal of this document to make the reader aware of these mechanisms and provide recommendations and guidelines.</p>
<p id="rfc.section.1.p.2">This document exists as a standalone document to facilitate discussion of the RTP recommendations, and it is anticipated that portions of this document will be incorporated into <a href="#I-D.ietf-siprec-protocol">[I-D.ietf-siprec-protocol]</a> rather than this document itself being adopted as a working group document. This document makes use of normative language as it is expected to exist within the working group document into which it is eventually incorporated.</p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Terminology</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#definitions" id="definitions">Definitions</a>
</h1>
<p id="rfc.section.3.p.1">This document uses the definitions provided in <a href="#I-D.ietf-siprec-architecture">[I-D.ietf-siprec-architecture]</a> for all SIPREC modules. A Session Recording Client (SRC), as defined within SIPREC, is expected to implement one or more of a variety of RTP roles within the context of various SIPREC use cases. These roles include, but are not limited to, acting as an end system, a mixer, or a translator. This document uses the definitions provided in "RTP: A Transport Protocol for Real-Time Application" <a href="#RFC3550">[RFC3550]</a>.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#roles" id="roles">Roles</a>
</h1>
<p id="rfc.section.4.p.1">An SRC has the task of gathering media from the various UAs in a CS and forwarding the information to the SRS within the context of an RS. There are numerous ways in which an SRC may do this is, including appearing as one of the UAs within a CS, or as a B2BUA between UAs within a CS.</p>
<div id="#rfc.figure.1"></div>
<div id="#ua_src"></div>
<pre> UA &lt;-- CS --&gt; SRC &lt;-- RS --&gt; SRS </pre>
<p></p>
<div id="#rfc.figure.2"></div>
<div id="#b2bua_src"></div>
<pre>
                SRS 
                 ^  
                 |  
                RS  
                 |  
                 v  
 UA1 &lt;-- CS --&gt; SRC &lt;-- CS --&gt; UA2 </pre>
<p></p>
<p id="rfc.section.4.p.4">The following subsections define a set of roles an SRC may choose to play based on its position with respect to a UA within a CS, and an SRS within an RS.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> SRC acting as an RTP Translator</h1>
<p id="rfc.section.4.1.p.1">The SRC may act as a translator, as defined in <a href="#RFC3550">[RFC3550]</a>. A defining characteristic of a translator is that it forwards RTP packets with their SSRC identifier intact. There are two types of translators, one that simply forward, and another that performs transcoding (e.g., from one codec to another) in addition to forwarding.</p>
<h1 id="rfc.section.4.1.1">
<a href="#rfc.section.4.1.1">4.1.1.</a> Forwarding Translator</h1>
<p id="rfc.section.4.1.1.p.1">When acting as a forwarding translator, RTP received as separate streams from different sources (e.g., from different UAs with different SSRCs) cannot be mixed by the SRC and MUST be sent separately to the SRS. All RTCP reports MUST be passed by the SRC between the UAs and the SRS, such that the UAs and SRS are able to detect any SSRC collisions.</p>
<p id="rfc.section.4.1.1.p.2">RTCP Sender Reports generated by a UA sending a stream MUST be forwarded to the SRS. RTCP Receiver Reports generated by the SRS MUST be forwarded to the relevant UA.</p>
<p id="rfc.section.4.1.1.p.3">If SRTP is used on both the CS and the RS, decryption and/or re-encryption may occur. For example, if different keys are used, it will occur. If the same keys are used, it need not occur.</p>
<h1 id="rfc.section.4.1.2">
<a href="#rfc.section.4.1.2">4.1.2.</a> Transcoding Translator</h1>
<p id="rfc.section.4.1.2.p.1">When acting as a transcoding translator, an SRC MAY perform transcoding (e.g., from one codec to another), and this may result in a different rate of packets between what the SRC receives and what the sends. As when acting as a forwarding translator, RTP received as separate streams from different sources (e.g., from different UAs with different SSRCs) cannot be mixed by the SRC and MUST be sent separately to the SRS. All RTCP reports MUST passed by the SRC between the UAs and the SRS, such the UAs and SRS they are able to detect any SSRC collisions.</p>
<p id="rfc.section.4.1.2.p.2">RTCP Sender Reports generated by a UA sending a stream MUST be forwarded to the SRS. RTCP Receiver Reports generated by the SRS MUST be forwarded to the relevant UA. The SRC may need to manipulate the RTCP Receiver Reports to take account of any transcoding that has taken place.</p>
<p id="rfc.section.4.1.2.p.3">If SRTP is used on both the CS and the RS, decryption and/or re-encryption may occur. For example, if different keys are used, it will occur. If the same keys are used, it need not occur.</p>
<h1 id="rfc.section.4.2">
<a href="#rfc.section.4.2">4.2.</a> SRC acting as an RTP Mixer</h1>
<p id="rfc.section.4.2.p.1">In the case of the SRC acting as a RTP mixer, as defined in <a href="#RFC3550">[RFC3550]</a>, the SRC combines RTP streams from different UA and sends them towards the SRS using its own SSRC. The SSRCs from the contributing UA SHOULD be conveyed as CSRCs identifiers within this stream. The SRC may make timing adjustments among the received streams and generate its own timing on the stream sent to the SRS. Optionally an SRC acting as a mixer can perform transcoding, and can even cope with different codings received from different UAs. RTCP Sender Reports and Receiver Reports are not forwarded by an SRC acting as mixer, but there are requirements for forwarding RTCP Source Description (SDES) packets. The SRC generates its own RTCP Sender and Receiver reports toward the associated UAs and SRS. The use of SRTP between the SRC and the SRS for the RS is independent of the use of SRTP between the UAs and SRC for the CS.</p>
<h1 id="rfc.section.4.3">
<a href="#rfc.section.4.3">4.3.</a> SRC acting as an RTP Endpoint</h1>
<p id="rfc.section.4.3.p.1">The case of the SRC acting as an RTP endpoint, as defined in <a href="#RFC3550">[RFC3550]</a>, is similar to the mixer case, except that the RTP session between the SRC and the SRS is considered completely independent from the RTP session that is part of the CS. The SRC can, but need not, mix RTP streams from different participants prior to sending to the SRS. RTCP between the SRC and the SRS is completely independent of RTCP on the CS. The use of SRTP between the SRC and the SRS is independent of the use of SRTP on the CS.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#rtcp" id="rtcp">RTCP</a>
</h1>
<p id="rfc.section.5.p.1">The RTP data transport is augmented by a control protocol (RTCP) to allow monitoring of the data delivery. RTCP, as defined in <a href="#RFC3550">[RFC3550]</a>, is based on the periodic transmission of control packets to all participants in the RTP session, using the same distribution mechanism as the data packets. Support for RTCP is REQUIRED, per <a href="#RFC3550">[RFC3550]</a>, and it provides, among other things, the following important functionality in relation to SIPREC:</p>
<p id="rfc.section.5.p.2">1) Feedback on the quality of the data distribution. This feedback is important for flow and congestion control functions, and to get feedback from the receivers to diagnose faults in the distribution. As such, RTCP is a well defined and efficient mechanism for the SRS to inform the SRC or any issues that arise in the reception of media that is to be recorded.</p>
<p id="rfc.section.5.p.3">2) Carries a persistent transport-level identifier for an RTP source called the canonical name or CNAME. The SSRC identifier may change if a conflict is discovered or a program is restarted; in which case receivers can use the CNAME to keep track of each participant.  Receivers may also use the CNAME to associate multiple data streams from a given participant in a set of related RTP sessions, for example to synchronize audio and video. Synchronization of media streams is also facilitated by the NTP and RTP timestamps included in RTCP packets by data senders.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#rtp_profile" id="rtp_profile">RTP Profile</a>
</h1>
<p id="rfc.section.6.p.1">The RECOMMENDED RTP profiles for both the SRC and SRS are "Extended Secure RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF)", <a href="#RFC5124">[RFC5124]</a> when using encrypted RTP streams, and "Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)", <a href="#RFC4585">[RFC4585]</a> when using non encrypted media streams. However, as this is not a requirement, some implementations may use "The Secure Real-time Transport Protocol (SRTP)", <a href="#RFC3711">[RFC3711]</a> and "RTP Profile for Audio and Video Conferences with Minimal Control", AVP <a href="#RFC3551">[RFC3551]</a>. Therefore, it is RECOMMENDED that the SRC and SRS not rely entirely on SAVPF or AVPF for core functionality that may be at least partially achievable using SAVP and AVP.</p>
<p id="rfc.section.6.p.2">AVPF and SAVPF provide an improved RTCP timer model that allows more flexible transmission of RTCP packets as response to events, rather than strictly according to bandwidth. AVPF based codec control messages provide efficient mechanisms for an SRC and SRS to handle events such as scene changes, error recovery, and dynamic bandwidth adjustments. These messages are discussed in more detail later in this document.</p>
<p id="rfc.section.6.p.3">SAVP and SAVPF provide media encryption, integrity protection, replay protection, and a limited form of source authentication. They do not contain or require a specific keying mechanism.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#ssrc" id="ssrc">SSRC</a>
</h1>
<p id="rfc.section.7.p.1">The synchronization source (SSRC), as defined in <a href="#RFC3550">[RFC3550]</a>, is carried in the RTP header and in various fields of RTCP packets. It is a random 32-bit number that is required to be globally unique within an RTP session.  It is crucial that the number be chosen with care in order that participants on the same network or starting at the same time are not likely to choose the same number. Guidelines regarding SSRC value selection and conflict resolution are provided in <a href="#RFC3550">[RFC3550]</a>.</p>
<p id="rfc.section.7.p.2">The SSRC may also be used to separate different sources of media within a single RTP session. For this reason as well as for conflict resolution, it is important that the SRC and SRS handle changes in SSRC values and properly identify the reason of the change. The CNAME values carried in RTCP facilitate this identification. </p>
<h1 id="rfc.section.8">
<a href="#rfc.section.8">8.</a> <a href="#csrc" id="csrc">CSRC</a>
</h1>
<p id="rfc.section.8.p.1">The contributing source (CSRC), as defined in <a href="#RFC3550">[RFC3550]</a>, identifies the source of a stream of RTP packets that has contributed to the combined stream produced by an RTP mixer. The mixer inserts a list of the SSRC identifiers of the sources that contributed to the generation of a particular packet into the RTP header of that packet. This list is called the CSRC list. It is RECOMMENDED that a SRC, when acting a mixer, sets the CSRC list accordingly, and that the SRS interprets the CSRC list appropriately when received.</p>
<h1 id="rfc.section.9">
<a href="#rfc.section.9">9.</a> <a href="#sdes" id="sdes">SDES</a>
</h1>
<p id="rfc.section.9.p.1">The Source Description (SDES), as defined in <a href="#RFC3550">[RFC3550]</a>, contains an SSRC/CSRC identifier followed by a list of zero or more items, which carry information about the SSRC/CSRC. End systems send one SDES packet containing their own source identifier (the same as the SSRC in the fixed RTP header).  A mixer sends one SDES packet containing a chunk for each contributing source from which it is receiving SDES information, or multiple complete SDES packets if there are more than 31 such sources.</p>
<h1 id="rfc.section.9.1">
<a href="#rfc.section.9.1">9.1.</a> <a href="#cname" id="cname">CNAME</a>
</h1>
<p id="rfc.section.9.1.p.1">The Canonical End-Point Identifier (CNAME), as defined in <a href="#RFC3550">[RFC3550]</a>, provides the binding from the SSRC identifier to an identifier for the source (sender or receiver) that remains constant. It is important the an SRC and SRS generate CNAMEs appropriately and use them for this purpose. Guidelines for generating CNAME values are provided in "Guidelines for Choosing RTP Control Protocol (RTCP) Canonical Names (CNAMEs)" <a href="#RFC6222">[RFC6222]</a>. </p>
<h1 id="rfc.section.10">
<a href="#rfc.section.10">10.</a> <a href="#keepalive" id="keepalive">Keepalive</a>
</h1>
<p id="rfc.section.10.p.1">It is anticipated that media streams in SIPREC may exist in inactive states for extended periods of times for an of a number of valid reasons. In order for the bindings and any pinholes in NATs/firewalls to remain active during such intervals, it is RECOMMENDED to follow the keep-alive procedure recommended in "Application Mechanism for Keeping Alive the NAT Mappings Associated to RTP/RTP Control Protocol (RTCP) Flows" <a href="#RFC6263">[RFC6263]</a> for all RTP media streams.</p>
<h1 id="rfc.section.11">
<a href="#rfc.section.11">11.</a> <a href="#feedback" id="feedback">RTCP Feedback Messages</a>
</h1>
<p id="rfc.section.11.p.1">"Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)" <a href="#RFC5104">[RFC5104]</a> specifies extensions to the messages defined in AVPF <a href="#RFC4585">[RFC4585]</a>. Support for and proper usage of these messages is important to SRC and SRS implementations. Note that these messages are applicable only when using the AVFP or SAVPF RTP profiles. </p>
<h1 id="rfc.section.11.1">
<a href="#rfc.section.11.1">11.1.</a> <a href="#fir" id="fir">Full Intra Request</a>
</h1>
<p id="rfc.section.11.1.p.1">A Full Intra Request (FIR) Command, when received by the designate media sender, requires that the media sender sends a Decoder Refresh Point at the earliest opportunity. Using a decoder refresh point implies refraining from using any picture sent prior to that point as a reference for the encoding process of any subsequent picture sent in the stream.</p>
<p id="rfc.section.11.1.p.2">Decoder refresh points, especially Intra or IDR pictures for H.264 video codecs, are in general several times larger in size than predicted pictures. Thus, in scenarios in which the available bit rate is small, the use of a decoder refresh point implies a delay that is significantly longer than the typical picture duration.</p>
<h1 id="rfc.section.11.1.1">
<a href="#rfc.section.11.1.1">11.1.1.</a> <a href="#sip_info" id="sip_info">SIP INFO for FIR</a>
</h1>
<p id="rfc.section.11.1.1.p.1">"XML Schema for Media Control" <a href="#RFC5168">[RFC5168]</a> defines an Extensible Markup Language (XML) Schema for video fast update. Implementations are discouraged from using the method described except for backward compatibility purposes. Implementations SHOULD use FIR messages instead.</p>
<h1 id="rfc.section.11.2">
<a href="#rfc.section.11.2">11.2.</a> <a href="#pli" id="pli">Picture Loss Indicator</a>
</h1>
<p id="rfc.section.11.2.p.1">Picture Loss Indication (PLI), as defined in <a href="#RFC4585">[RFC4585]</a>, informs the encoder of the loss of an undefined amount of coded video data belonging to one or more pictures.  Using the FIR command to recover from errors is explicitly disallowed, and instead the PLI message SHOULD be used. FIR SHOULD be used only in situations where not sending a decoder refresh point would render the video usable for the users. Examples where sending FIR is appropriate include a multipoint conference when a new user joins the conference and no regular decoder refresh point interval is established, and a video switching MCU that changes streams.</p>
<h1 id="rfc.section.11.3">
<a href="#rfc.section.11.3">11.3.</a> <a href="#tmmbr" id="tmmbr">Temporary Maximum Media Stream Bit Rate Request</a>
</h1>
<p id="rfc.section.11.3.p.1">A receiver, translator, or mixer uses the Temporary Maximum Media Stream Bit Rate Request (TMMBR) to request a sender to limit the maximum bit rate for a media stream to the provided value. Appropriate use of TMMBR facilitates rapid adaptation to changes in available bandwidth.</p>
<h1 id="rfc.section.11.3.1">
<a href="#rfc.section.11.3.1">11.3.1.</a> <a href="#bandwidth" id="bandwidth">Renegotiation of SDP bandwidth attribute</a>
</h1>
<p id="rfc.section.11.3.1.p.1">If it is likely that the new value indicated by TMMBR will be valid for the remainder of the session, the TMMBR sender is expected to perform a renegotiation of the session upper limit using the session signaling protocol. Therefore for SIPREC, implementations are RECOMMENDED to use TMMBR for temporary changes, and renegotiation of bandwidth via SDP offer/answer of more permanent changes.</p>
<h1 id="rfc.section.12">
<a href="#rfc.section.12">12.</a> <a href="#symmetric_rtp" id="symmetric_rtp">Symmetric RTP/RTCP for Sending and Receiving</a>
</h1>
<p id="rfc.section.12.p.1">Within an SDP offer/answer exchange, RTP entities choose the RTP and RTCP transport addresses (i.e., IP addresses and port numbers) on which to receive packets. When sending packets, the RTP entities may use the same source port or a different source port as those signaled for receiving packets. When the transport address used to send and receive RTP is the same, it is termed "symmetric RTP" <a href="#RFC4961">[RFC4961]</a>. Likewise, when the transport address used to send and receive RTCP is the same, it is termed "symmetric RTCP" <a href="#RFC4961">[RFC4961]</a>.</p>
<p id="rfc.section.12.p.2">When sending RTP, it is REQUIRED to use symmetric RTP. When sending RTCP, it is REQUIRED to use symmetric RTCP. Although an SRS will not normally send RTP, it will send RTCP as well as receive RTP and RTCP.  Likewise, although an SRC will not normally receive RTP, it will receive RTCP as well as send RTP and RTCP.</p>
<p></p>

<ul class="empty"><li>Note: Symmetric RTP and symmetric RTCP are different from RTP/RTCP multiplexing <a href="#RFC5761">[RFC5761]</a>.</li></ul>
<h1 id="rfc.section.13">
<a href="#rfc.section.13">13.</a> <a href="#security" id="security">Security Considerations</a>
</h1>
<p id="rfc.section.13.p.1">In many scenarios it will be critical that the media transported between the SRC and SRS using RTP/RTCP be protected. Media encryption is an important element of the overall SIPREC solution. The details regarding the encryption of the RTP/RTCP media will be addressed in <a href="#I-D.ietf-siprec-protocol">[I-D.ietf-siprec-protocol]</a>.</p>
<h1 id="rfc.section.14">
<a href="#rfc.section.14">14.</a> <a href="#iana" id="iana">IANA Considerations</a>
</h1>
<p id="rfc.section.14.p.1">None.</p>
<h1 id="rfc.section.15">
<a href="#rfc.section.15">15.</a> Acknowledgements</h1>
<p id="rfc.section.15.p.1">Thank you to Andrew Hutton, Ram Mohan, and Muthu Perumal, John Elwell, and Dan Wing for their valuable contributions.</p>
<h1 id="rfc.references">
<a href="#rfc.references">16.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">16.1.</a> Normative References</h1>
<table><tbody><tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr></tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">16.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC3550">[RFC3550]</b></td>
<td class="top">
<a>Schulzrinne, H.</a>, <a>Casner, S.</a>, <a>Frederick, R.</a> and <a>V. Jacobson</a>, "<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>", STD 64, RFC 3550, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3551">[RFC3551]</b></td>
<td class="top">
<a>Schulzrinne, H.</a> and <a>S. Casner</a>, "<a href="http://tools.ietf.org/html/rfc3551">RTP Profile for Audio and Video Conferences with Minimal Control</a>", STD 65, RFC 3551, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3711">[RFC3711]</b></td>
<td class="top">
<a>Baugher, M.</a>, <a>McGrew, D.</a>, <a>Naslund, M.</a>, <a>Carrara, E.</a> and <a>K. Norrman</a>, "<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP)</a>", RFC 3711, March 2004.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4585">[RFC4585]</b></td>
<td class="top">
<a>Ott, J.</a>, <a>Wenger, S.</a>, <a>Sato, N.</a>, <a>Burmeister, C.</a> and <a>J. Rey</a>, "<a href="http://tools.ietf.org/html/rfc4585">Extended RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/AVPF)</a>", RFC 4585, July 2006.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4961">[RFC4961]</b></td>
<td class="top">
<a>Wing, D.</a>, "<a href="http://tools.ietf.org/html/rfc4961">Symmetric RTP / RTP Control Protocol (RTCP)</a>", BCP 131, RFC 4961, July 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5104">[RFC5104]</b></td>
<td class="top">
<a>Wenger, S.</a>, <a>Chandra, U.</a>, <a>Westerlund, M.</a> and <a>B. Burman</a>, "<a href="http://tools.ietf.org/html/rfc5104">Codec Control Messages in the RTP Audio-Visual Profile with Feedback (AVPF)</a>", RFC 5104, February 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5124">[RFC5124]</b></td>
<td class="top">
<a>Ott, J.</a> and <a>E. Carrara</a>, "<a href="http://tools.ietf.org/html/rfc5124">Extended Secure RTP Profile for Real-time Transport Control Protocol (RTCP)-Based Feedback (RTP/SAVPF)</a>", RFC 5124, February 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5168">[RFC5168]</b></td>
<td class="top">
<a>Levin, O.</a>, <a>Even, R.</a> and <a>P. Hagendorf</a>, "<a href="http://tools.ietf.org/html/rfc5168">XML Schema for Media Control</a>", RFC 5168, March 2008.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5761">[RFC5761]</b></td>
<td class="top">
<a>Perkins, C.</a> and <a>M. Westerlund</a>, "<a href="http://tools.ietf.org/html/rfc5761">Multiplexing RTP Data and Control Packets on a Single Port</a>", RFC 5761, April 2010.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6222">[RFC6222]</b></td>
<td class="top">
<a>Begen, A.</a>, <a>Perkins, C.</a> and <a>D. Wing</a>, "<a href="http://tools.ietf.org/html/rfc6222">Guidelines for Choosing RTP Control Protocol (RTCP) Canonical Names (CNAMEs)</a>", RFC 6222, April 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6263">[RFC6263]</b></td>
<td class="top">
<a>Marjou, X.</a> and <a>A. Sollaud</a>, "<a href="http://tools.ietf.org/html/rfc6263">Application Mechanism for Keeping Alive the NAT Mappings Associated with RTP / RTP Control Protocol (RTCP) Flows</a>", RFC 6263, June 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-siprec-architecture">[I-D.ietf-siprec-architecture]</b></td>
<td class="top">
<a>Hutton, A</a>, <a>Portman, L</a>, <a>Jain, R</a> and <a>K Rehor</a>, "<a href="http://tools.ietf.org/html/draft-ietf-siprec-architecture-02">An Architecture for Media Recording using the Session Initiation Protocol</a>", Internet-Draft draft-ietf-siprec-architecture-02, April 2011.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-siprec-protocol">[I-D.ietf-siprec-protocol]</b></td>
<td class="top">
<a>Portman, L</a>, <a>Lum, H</a>, <a>Johnston, A</a> and <a>A Hutton</a>, "<a href="http://tools.ietf.org/html/draft-ietf-siprec-protocol-00">Session Recording Protocol</a>", Internet-Draft draft-ietf-siprec-protocol-00, August 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Author's Address</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Charles Eckel</span> 
	  <span class="n hidden">
		<span class="family-name">Eckel</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco</span>
	<span class="adr">
	  <span>170 West Tasman Drive</span>

	  <span class="vcardline">
		<span class="locality">San Jose, CA 95134</span>,  
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline">United States</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:eckelcu@cisco.com">eckelcu@cisco.com</a></span>

  </address>
</div>

</body>
</html>