



Network Working Group                                            H. Chen
Internet-Draft                                                M. McBride
Intended status: Standards Track                               Futurewei
Expires: 28 January 2022                                         A. Wang
                                                           China Telecom
                                                               G. Mishra
                                                            Verizon Inc.
                                                                  Y. Fan
                                                            Casa Systems
                                                                  L. Liu
                                                                 Fujitsu
                                                                  X. Liu
                                                          Volta Networks
                                                            27 July 2021


                      OSPF Extensions for BIER-TE
                       draft-chen-bier-te-ospf-02

Abstract

   This document describes OSPF extensions for distributing BitPositions
   configured on the links in "Bit Index Explicit Replication Traffic
   Engineering" (BIER-TE) domain.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119] [RFC8174]
   when, and only when, they appear in all capitals, as shown here.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 28 January 2022.



Chen, et al.             Expires 28 January 2022                [Page 1]

Internet-Draft              OSPF for BIER-TE                   July 2021


Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Extensions to OSPFv2  . . . . . . . . . . . . . . . . . . . .   3
   3.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     6.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   [I-D.ietf-bier-te-arch] introduces Bit Index Explicit Replication
   (BIER) Traffic/Tree Engineering (BIER-TE).  It is an architecture for
   per-packet stateless explicit point to multipoint (P2MP) multicast
   path/tree.  A link in a BIER-TE domain has its BitPositions.  For a
   link between two nodes X and Y, there are two BitPositions for two
   forward connected adjacencies.  These two adjacency BitPositions
   could be configured on nodes X and Y respectively.  The BitPosition
   configured on X is the forward connected adjacency of Y.  The
   BitPosition configured on Y is the forward connected adjacency of X.

   This document proposes OSPF extensions for distributing BitPositions
   configured on the links in "Bit Index Explicit Replication Traffic
   Engineering" (BIER-TE) domain.

1.1.  Terminology

   BIER:  Bit Index Explicit Replication.

   BIER-TE:  BIER Traffic Engineering.



Chen, et al.             Expires 28 January 2022                [Page 2]

Internet-Draft              OSPF for BIER-TE                   July 2021


   BFR:  Bit-Forwarding Router.

   BFIR:  Bit-Forwarding Ingress Router.

   BFER:  Bit-Forwarding Egress Router.

   BFR-id:  BFR Identifier.  It is a number in the range [1,65535].

   BFR-NBR:  BFR Neighbor.

   LSA:  Link State Advertisement.

   OSPF:  Open Shortest Path First.

2.  Extensions to OSPFv2

   This section describes protocol extensions to OSPFv2 for distributing
   BIER-TE information such as the BitPositions configured on the links
   in a BIER-TE domain.

   [RFC7684] defines the OSPFv2 Extended Link TLV to advertise the
   information about a link.  Multiple Link TLVs for the links of a
   router are included in the OSPFv2 Extended Link Opaque LSA of the
   router.  The OSPFv2 Extended Link TLV has the following format:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            Type (1)           |      Length (Variable)        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   Link Type   |                    Reserved                   |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                             Link ID                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            Link Data                          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       Sub-TLVs (variable)                     |
      ~                                                               ~
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                     Figure 1: OSPFv2 Extended Link TLV

   Type:  1.

   Length:  Variable, dependent on Sub-TLVs.

   Link Type, Link ID and Link Data:  They are defined in Section A.4.2



Chen, et al.             Expires 28 January 2022                [Page 3]

Internet-Draft              OSPF for BIER-TE                   July 2021


         of [RFC2328].

   Reserved:  SHOULD be set to 0 on transmission and MUST be ignored on
         reception.

   Under the OSPFv2 Extended Link TLV for a link, a Sub-TLV, called
   BIER-TE Sub-TLV, is defined for distributing BIER-TE information
   about the link.  A BIER-TE Sub-TLV is included in the Link TLV for a
   link of Link Type Point-to-Point or Broadcast (or say LAN or Transit
   Network).  The BIER-TE Sub-TLV has the following format:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |          Type (TBD1)          |             Length            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | sub-domain-id |     MT-ID     |      BAR      |    IPA        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |         BitPosition           |         DrEndBitPosition      |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                         Figure 2: BIER-TE Sub-TLV

   Type:  TBD1 is to be assigned by IANA.

   Length:  8 (octets).

   sub-domain-id:  Unique value identifying a BIER-TE sub-domain.

   MT-ID:  Multi-Topology ID identifying the topology that is associated
         with the BIER-TE sub-domain.

   BAR:  Single-octet BIER Algorithm used to calculate underlay paths to
         reach other BFRs.  Values are allocated from the "BIER
         Algorithm" registry defined in [RFC8401].

   IPA:  Single-octet IGP Algorithm used to either modify, enhance, or
         replace the calculation of underlay paths to reach other BFRs
         as defined by the BAR value.  Values are defined in the "IGP
         Algorithm Types" registry.

   BitPosition:  A 2-octet field encoding the BitPosition locally
         configured on the link/interface when the Link Type of the link
         in the OSPFv2 Extended Link TLV containing this Sub-TLV is 1
         (i.e., Point-to-Point connection to another router) or 2 (i.e.,
         connection to Transit Network or say LAN).




Chen, et al.             Expires 28 January 2022                [Page 4]

Internet-Draft              OSPF for BIER-TE                   July 2021


   DrEndBitPosition:  A 2-octet field encoding the BitPosition of the
         connection on the designated router (DR) end.  This field is
         valid when the Link Type in the OSPFv2 Extended Link TLV
         containing this Sub-TLV is 2 (i.e., Transit Network or LAN).
         For the other value of the Link Type, this field MUST be
         ignored.  The DrEndBitPosition may be configured on the link/
         interface to a transit network (i.e., broadcast link or say
         LAN).

   Note that if each of BitPosition and DrEndBitPosition uses more than
   2 octets, we use 4 or more octets for each of them.

3.  Security Considerations

   TBD.

4.  IANA Considerations

   Under "OSPFv2 Extended Link TLV Sub-TLVs registry" as defined in
   [RFC7684], IANA is requested to assign a new registry value for BIER-
   TE Sub-TLV as follows:


     +==============+===================+=====================+
     |  Value       |  Description      |    reference        |
     +==============+===================+=====================+
     |  TBD1 (25)   |  BIER-TE          |    This document    |
     +--------------+-------------------+---------------------+

5.  Acknowledgements

   The authors would like to thank Acee Lindem and Tony Przygienda for
   their comments on this work.

6.  References

6.1.  Normative References

   [I-D.ietf-bier-te-arch]
              Eckert, T., Cauchie, G., and M. Menth, "Tree Engineering
              for Bit Index Explicit Replication (BIER-TE)", Work in
              Progress, Internet-Draft, draft-ietf-bier-te-arch-10, 9
              July 2021, <https://www.ietf.org/archive/id/draft-ietf-
              bier-te-arch-10.txt>.







Chen, et al.             Expires 28 January 2022                [Page 5]

Internet-Draft              OSPF for BIER-TE                   July 2021


   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC2328]  Moy, J., "OSPF Version 2", STD 54, RFC 2328,
              DOI 10.17487/RFC2328, April 1998,
              <https://www.rfc-editor.org/info/rfc2328>.

   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", RFC 5226,
              DOI 10.17487/RFC5226, May 2008,
              <https://www.rfc-editor.org/info/rfc5226>.

   [RFC7684]  Psenak, P., Gredler, H., Shakir, R., Henderickx, W.,
              Tantsura, J., and A. Lindem, "OSPFv2 Prefix/Link Attribute
              Advertisement", RFC 7684, DOI 10.17487/RFC7684, November
              2015, <https://www.rfc-editor.org/info/rfc7684>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8279]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Przygienda, T., and S. Aldrin, "Multicast Using Bit Index
              Explicit Replication (BIER)", RFC 8279,
              DOI 10.17487/RFC8279, November 2017,
              <https://www.rfc-editor.org/info/rfc8279>.

   [RFC8362]  Lindem, A., Roy, A., Goethals, D., Reddy Vallem, V., and
              F. Baker, "OSPFv3 Link State Advertisement (LSA)
              Extensibility", RFC 8362, DOI 10.17487/RFC8362, April
              2018, <https://www.rfc-editor.org/info/rfc8362>.

6.2.  Informative References

   [RFC5250]  Berger, L., Bryskin, I., Zinin, A., and R. Coltun, "The
              OSPF Opaque LSA Option", RFC 5250, DOI 10.17487/RFC5250,
              July 2008, <https://www.rfc-editor.org/info/rfc5250>.

   [RFC8296]  Wijnands, IJ., Ed., Rosen, E., Ed., Dolganow, A.,
              Tantsura, J., Aldrin, S., and I. Meilik, "Encapsulation
              for Bit Index Explicit Replication (BIER) in MPLS and Non-
              MPLS Networks", RFC 8296, DOI 10.17487/RFC8296, January
              2018, <https://www.rfc-editor.org/info/rfc8296>.






Chen, et al.             Expires 28 January 2022                [Page 6]

Internet-Draft              OSPF for BIER-TE                   July 2021


   [RFC8401]  Ginsberg, L., Ed., Przygienda, T., Aldrin, S., and Z.
              Zhang, "Bit Index Explicit Replication (BIER) Support via
              IS-IS", RFC 8401, DOI 10.17487/RFC8401, June 2018,
              <https://www.rfc-editor.org/info/rfc8401>.

   [RFC8444]  Psenak, P., Ed., Kumar, N., Wijnands, IJ., Dolganow, A.,
              Przygienda, T., Zhang, J., and S. Aldrin, "OSPFv2
              Extensions for Bit Index Explicit Replication (BIER)",
              RFC 8444, DOI 10.17487/RFC8444, November 2018,
              <https://www.rfc-editor.org/info/rfc8444>.

   [RFC8556]  Rosen, E., Ed., Sivakumar, M., Przygienda, T., Aldrin, S.,
              and A. Dolganow, "Multicast VPN Using Bit Index Explicit
              Replication (BIER)", RFC 8556, DOI 10.17487/RFC8556, April
              2019, <https://www.rfc-editor.org/info/rfc8556>.

Authors' Addresses

   Huaimo Chen
   Futurewei
   Boston, MA,
   United States of America

   Email: Huaimo.chen@futurewei.com


   Mike McBride
   Futurewei

   Email: michael.mcbride@futurewei.com


   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing
   102209
   China

   Email: wangaj3@chinatelecom.cn


   Gyan S. Mishra
   Verizon Inc.
   13101 Columbia Pike
   Silver Spring,  MD 20904
   United States of America




Chen, et al.             Expires 28 January 2022                [Page 7]

Internet-Draft              OSPF for BIER-TE                   July 2021


   Phone: 301 502-1347
   Email: gyan.s.mishra@verizon.com


   Yanhe Fan
   Casa Systems
   United States of America

   Email: yfan@casa-systems.com


   Lei Liu
   Fujitsu
   United States of America

   Email: liulei.kddi@gmail.com


   Xufeng Liu
   Volta Networks
   McLean, VA
   United States of America

   Email: xufeng.liu.ietf@gmail.com



























Chen, et al.             Expires 28 January 2022                [Page 8]
