<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Tetrys, an On-the-Fly Network Coding protocol</title>
<meta content="Jonathan Detchart" name="author">
<meta content="Emmanuel Lochin" name="author">
<meta content="Jerome Lacan" name="author">
<meta content="Vincent Roca" name="author">
<meta content="
       
            This document is a product of the Coding for Efficient Network Communications Research Group (NWCRG).  It conforms to the directions found in the NWCRG taxonomy
             
            .
       
       This document describes Tetrys, an On-The-Fly Network Coding (NC) protocol that can be used to transport delay and loss-sensitive data over a lossy network. Tetrys can recover from erasures within an RTT-independent delay, thanks to the transmission of coded packets. It can be used for both unicast, multicast and anycast communications. 
    " name="description">
<meta content="xml2rfc 3.12.0" name="generator">
<meta content="Network Coding" name="keyword">
<meta content="draft-irtf-nwcrg-tetrys-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.12.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.4
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 6.0
    requests 2.26.0
    setuptools 59.5.0
    six 1.16.0
    WeasyPrint 52.5
-->
<link href="/tmp/draft-irtf-nwcrg-tetrys-00-ty1wea9e.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Tetrys, an On-the-Fly Network Coding pro</td>
<td class="right">December 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Detchart, et al.</td>
<td class="center">Expires 20 June 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">NWCRG</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-irtf-nwcrg-tetrys-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-12-17" class="published">17 December 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-06-20">20 June 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. Detchart</div>
<div class="org">ISAE-SUPAERO</div>
</div>
<div class="author">
      <div class="author-name">E. Lochin</div>
<div class="org">ENAC</div>
</div>
<div class="author">
      <div class="author-name">J. Lacan</div>
<div class="org">ISAE-SUPAERO</div>
</div>
<div class="author">
      <div class="author-name">V. Roca</div>
<div class="org">INRIA</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Tetrys, an On-the-Fly Network Coding protocol</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
            This document is a product of the Coding for Efficient Network Communications Research Group (NWCRG).  It conforms to the directions found in the NWCRG taxonomy
            <span>[<a href="#RFC8406" class="xref">RFC8406</a>]</span>
            .<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">This document describes Tetrys, an On-The-Fly Network Coding (NC) protocol that can be used to transport delay and loss-sensitive data over a lossy network. Tetrys can recover from erasures within an RTT-independent delay, thanks to the transmission of coded packets. It can be used for both unicast, multicast and anycast communications.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 20 June 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-requirements-notation" class="xref">Requirements Notation</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-definitions-notations-and-a" class="xref">Definitions, Notations and Abbreviations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-architecture" class="xref">Architecture</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-use-cases" class="xref">Use Cases</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-overview" class="xref">Overview</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-packet-format" class="xref">Packet Format</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-common-header-format" class="xref">Common Header Format</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1.2.1">
                    <p id="section-toc.1-1.4.2.1.2.1.1"><a href="#section-4.1.1" class="xref">4.1.1</a>.  <a href="#name-header-extensions" class="xref">Header Extensions</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-source-packet-format" class="xref">Source Packet Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-coded-packet-format" class="xref">Coded Packet Format</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-acknowledgement-packet-form" class="xref">Acknowledgement Packet Format</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-the-coding-coefficient-gene" class="xref">The Coding Coefficient Generator Identifiers</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-definition" class="xref">Definition</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-table-of-identifiers" class="xref">Table of Identifiers</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-tetrys-basic-functions" class="xref">Tetrys Basic Functions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-encoding" class="xref">Encoding</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-encoding-vector-formats" class="xref">Encoding Vector Formats</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-the-elastic-encoding-window" class="xref">The Elastic Encoding Window</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-decoding" class="xref">Decoding</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-research-issues" class="xref">Research Issues</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-interaction-with-existing-c" class="xref">Interaction with Existing Congestion-Controlled Transport Protocol</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-adaptive-coding-rate" class="xref">Adaptive Coding Rate</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-using-tetrys-above-the-ip-l" class="xref">Using Tetrys Above The IP Layer For Tunneling</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
            This document describes Tetrys, a novel network coding protocol. Network codes were introduced in the early 2000s
            <span>[<a href="#AHL-00" class="xref">AHL-00</a>]</span>
            to address the limitations of transmission over the Internet (delay, capacity and packet loss). While the use of network codes is fairly recent in the Internet community, the use of application layer erasure codes in the IETF has already been standardized in the RMT
            <span>[<a href="#RFC3452" class="xref">RFC3452</a>]</span>
            and the FECFRAME
            <span>[<a href="#RFC8680" class="xref">RFC8680</a>]</span>
            working groups. The protocol presented here can be seen as a network coding extension to standards solutions.  The current proposal can be considered a combination of network erasure coding and feedback mechanisms
            <span>[<a href="#Tetrys" class="xref">Tetrys</a>]</span>
            .<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The main innovation of the Tetrys protocol is in the generation of coded packets from an elastic encoding window. This window is filled by any source packets coming from an input flow and is periodically updated with the receiver's feedbacks. These feedbacks return to the sender the highest sequence number received or rebuilt, which allows to flush the corresponding source packets stored in the window. The size of this window can be fixed or dynamically updated. If the window is full, incoming source packets are dropped. As a matter of fact, its limit should be correctly sized. Finally, Tetrys allows to deal with losses on both the forward and return paths and in particular, is resilient to acknowledgment losses.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">With Tetrys, a coded packet is a linear combination over a finite field of the data source packets belonging to the coding window. The coefficients finite field's choice is a trade-off between the best performance (with non-binary coefficients) and the system constraints (binary codes in an energy-constrained environment) and is driven by the application.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">Thanks to the elastic encoding window, the coded packets are built on-the-fly, by using an algorithm or a function to choose the coefficients. The redundancy ratio can be dynamically adjusted, and the coefficients can be generated in different ways along with a transmission. Compared to FEC block codes, this allows reducing the bandwidth use and the decoding delay.<a href="#section-1-4" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-requirements-notation">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-notation" class="section-name selfRef">Requirements Notation</a>
        </h3>
<p id="section-1.1-1">
               The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in
               <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>
               .<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="terminology">
<section id="section-2">
      <h2 id="name-definitions-notations-and-a">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-definitions-notations-and-a" class="section-name selfRef">Definitions, Notations and Abbreviations</a>
      </h2>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-2-1.1">Source symbol: a symbol that has to be transmitted between the ingress and egress of the network.<a href="#section-2-1.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.2">Coded symbol: a linear combination over a finite field of a set of source symbols.<a href="#section-2-1.2" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.3">Source symbol ID: a sequence number to identify the source symbols.<a href="#section-2-1.3" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.4">Coded symbol ID: a sequence number to identify the coded symbols.<a href="#section-2-1.4" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.5">Encoding coefficients: elements of the finite field characterizing the linear combination used to generate coded symbols.<a href="#section-2-1.5" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.6">Encoding vector: a set of the coding coefficients and input source symbol IDs.<a href="#section-2-1.6" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.7">Source packet: a source packet contains a source symbol with its associated IDs.<a href="#section-2-1.7" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.8">Coded packet: a coded packet contains a coded symbol, the coded symbol's ID, and encoding vector.<a href="#section-2-1.8" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.9">Input symbol: a symbol at the input of the Tetrys Encoding Building Block.<a href="#section-2-1.9" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.10">Output symbol: a symbol generated by the Tetrys Encoding Building Block. For a non-systematic mode, all output symbols are coded symbols. For a systematic mode, output symbols can be the input symbols and a number of coded symbols that are linear combinations of the input symbols + the encoding vectors.<a href="#section-2-1.10" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.11">Feedback packet: a feedback packet is a packet containing information about the decoded or received source symbols. It can also bring additional information about the Packet Error Rate or the number of various packets in the receiver decoding window.<a href="#section-2-1.11" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.12">Elastic Encoding Window: an encoder-side buffer that stores all the non-acknowledged source packets of the input flow involved in the coding process.<a href="#section-2-1.12" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.13">Coding Coefficient Generator Identifier: a unique identifier that defines a function or an algorithm allowing to generate the encoding vector.<a href="#section-2-1.13" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-2-1.14">Code rate: Define the rate between the number of input symbols and the number of output symbols.<a href="#section-2-1.14" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="tetrys_architecture">
<section id="section-3">
      <h2 id="name-architecture">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-architecture" class="section-name selfRef">Architecture</a>
      </h2>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-3-1.1">
                  The notation used in this document is based on the NWCRG taxonomy
                  <span>[<a href="#RFC8406" class="xref">RFC8406</a>]</span>
                  .<a href="#section-3-1.1" class="pilcrow">¶</a>
</li>
      </ul>
<div id="use_cases">
<section id="section-3.1">
        <h3 id="name-use-cases">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
        </h3>
<p id="section-3.1-1">Tetrys is well suited, but not limited to the use case where there is a single flow originated by a single source, with intra stream coding at a single encoding node. Note that the input stream can be a multiplex of several upper layer streams.
 Transmission can be over a single path or multiple paths. Besides, the flow can be sent in unicast, multicast, or anycast mode.
 This is the simplest use-case, that is very much aligned with currently proposed scenarios for end-to-end streaming.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="protocol_overview">
<section id="section-3.2">
        <h3 id="name-overview">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-overview" class="section-name selfRef">Overview</a>
        </h3>
<span id="name-tetrys-architecture"></span><div id="fig-archi-tetrys">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-3.2-1.1">
<pre>
   +----------+                +----------+
   |          |                |          |
   |    App   |                |    App   |
   |          |                |          |
   +----------+                +----------+
        |                           ^
        |  source           source  |
        |  symbols          symbols |
        |                           |
        v                           |
   +----------+                +----------+
   |          | output packets |          |
   |  Tetrys  |---------------&gt;|  Tetrys  |
   |  Encoder |feedback packets|  Decoder |
   |          |&lt;---------------|          |
   +----------+                +----------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-tetrys-architecture" class="selfRef">Tetrys Architecture</a>
          </figcaption></figure>
</div>
<p id="section-3.2-2">
               The Tetrys protocol features several key functionalities. The mandatory features are :<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-3.1">on-the-fly encoding;<a href="#section-3.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-3.2">decoding;<a href="#section-3.2-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-3.3">signaling, to carry in particular the symbol identifiers in the encoding window and the associated coding coefficients when meaningful, in a manner that was previously used in FEC;<a href="#section-3.2-3.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-3.4">feedback management;<a href="#section-3.2-3.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-3.5">elastic window management;<a href="#section-3.2-3.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-3.6">Tetrys packet header creation and processing;<a href="#section-3.2-3.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-4">
               and the optional features are :<a href="#section-3.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-5.1">channel estimation;<a href="#section-3.2-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-5.2">dynamic adjustment of the code rate and flow control;<a href="#section-3.2-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-5.3">
                     congestion control management (if appropriate). See Section
                     <a href="#transport-issue" class="xref">Section 7.1</a>
                     for further details;<a href="#section-3.2-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-6">
               Several building blocks provide these functionalities:<a href="#section-3.2-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2-7.1">The Tetrys Building Block: this BB is used during encoding, and decoding processes.
 It must be noted that Tetrys does not mandate a specific building block.
 Instead, any building block compatible with the elastic encoding window feature of Tetrys can be used.<a href="#section-3.2-7.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-7.2">
                     The Window Management Building Block: this building block is in charge of managing the encoding window at a Tetrys sender.<a href="#section-3.2-7.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.2-7.3">Other ?<a href="#section-3.2-7.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.2-8">
               To ease the addition of future components and services, Tetrys adds a header extension mechanism, compatible with that of LCT
               <span>[<a href="#RFC5651" class="xref">RFC5651</a>]</span>
               , NORM
               <span>[<a href="#RFC5740" class="xref">RFC5740</a>]</span>
               , FECFRAME
               <span>[<a href="#RFC8680" class="xref">RFC8680</a>]</span>
               .<a href="#section-3.2-8" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="encapsulation-format">
<section id="section-4">
      <h2 id="name-packet-format">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-packet-format" class="section-name selfRef">Packet Format</a>
      </h2>
<div id="common-packet-header-format">
<section id="section-4.1">
        <h3 id="name-common-header-format">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-common-header-format" class="section-name selfRef">Common Header Format</a>
        </h3>
<p id="section-4.1-1">
               All types of Tetrys packets share the same common header format (see
               <a href="#fig-common-header-format" class="xref">Figure 2</a>
               ).<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<span id="name-common-header-format-2"></span><div id="fig-common-header-format">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-4.1-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   V   | C |S|     Reserved    |   HDR_LEN     |  Packet Type  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Congestion Control Information (CCI, length = 32*C bits)    |
|                          ...                                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Transport Session Identifier (TSI, length = 32*S bits)     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                Header Extensions (if applicable)              |
|                          ...                                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-common-header-format-2" class="selfRef">Common Header Format</a>
          </figcaption></figure>
</div>
<p id="section-4.1-3">As already noted above in the document, this format is compatible with LCT and inherits from the LCT header format <span>[<a href="#RFC5651" class="xref">RFC5651</a>]</span> with slight modifications.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-4.1">Tetrys version number (V): 4 bits.
       Indicates the Tetrys version number.  The Tetrys version number for this specification is 1.<a href="#section-4.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-4.2">
                     Congestion control flag (C): 2 bits.
                   C=0 indicates the Congestion Control Information (CCI) field is 0 bits in length.  C=1 indicates the CCI field is 32 bits in length. C=2 indicates the CCI field is 64 bits in length.  C=3 indicates the CCI field is 96 bits in length.<a href="#section-4.1-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-4.3">Transport Session Identifier flag (S): 1 bit.
        This is the number of full 32-bit words in the TSI field.  The TSI field is 32*S bits in length, i.e., the length is either 0 bits or 32 bits.<a href="#section-4.1-4.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-4.4">Reserved (Resv): 9 bits. These bits are reserved.  In this version of the specification, they MUST be set to zero by senders and MUST be ignored by receivers.<a href="#section-4.1-4.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-4.5">Header length (HDR_LEN): 8 bits.
       The total length of the Tetrys header in units of 32-bit words. The
       length of the Tetrys header MUST be a multiple of 32 bits. This
       field can be used to directly access the portion of the packet
       beyond the Tetrys header, i.e., to the first next header if it
       exists, or to the packet payload if it exists and there is no
       other header, or to the end of the packet if there are no other
       headers or packet payload.<a href="#section-4.1-4.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-4.6">Packet Type: 8 bits.
 Type of packet.<a href="#section-4.1-4.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-4.7">Congestion Control Information (CCI): 0, 32, 64, or 96 bits
       Used to carry congestion control information.  For example, the
       congestion control information could include layer numbers,
       logical channel numbers, and sequence numbers.  This field is
       opaque for this specification.
       This field MUST be 0 bits (absent) if C=0.
       This field MUST be 32 bits if C=1.
       This field MUST be 64 bits if C=2.
       This field MUST be 96 bits if C=3.<a href="#section-4.1-4.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-4.1-4.8">
                     Transport Session Identifier (TSI): 0 or 32 bits
       The TSI uniquely identifies a session among all sessions from a
       particular sender. The TSI is scoped by the IP address of the
       sender, and thus the IP address of the sender and the TSI together
       uniquely identify the session.  Although a TSI in conjunction with
       the IP address of the sender always uniquely identifies a session,
       whether or not the TSI is included in the Tetrys header depends on
       what is used as the TSI value.  If the underlying transport is
       UDP, then the 16-bit UDP source port number MAY serve as the TSI
       for the session.
                     
                     If there is
       no underlying TSI provided by the network, transport or any other
       layer, then the TSI MUST be included in the Tetrys header.<a href="#section-4.1-4.8" class="pilcrow">¶</a>
</li>
        </ul>
<div id="header-extension-format">
<section id="section-4.1.1">
          <h4 id="name-header-extensions">
<a href="#section-4.1.1" class="section-number selfRef">4.1.1. </a><a href="#name-header-extensions" class="section-name selfRef">Header Extensions</a>
          </h4>
<p id="section-4.1.1-1">Header Extensions are used in Tetrys to accommodate optional header fields that are not always used or have variable size.
 The presence of Header Extensions can be inferred by the Tetrys header length (HDR_LEN).
 If HDR_LEN is larger than the length of the standard header, then the remaining header space is taken by Header Extensions.<a href="#section-4.1.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1.1-2">If present, Header Extensions MUST be processed to ensure that they are recognized before performing any congestion control procedure or otherwise accepting a packet.
 The default action for unrecognized Header Extensions is to ignore them.
 This allows the future introduction of backward-compatible enhancements to Tetrys without changing the Tetrys version number.
 Non-backward-compatible Header Extensions CANNOT be introduced without changing the Tetrys version number.<a href="#section-4.1.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1.1-3">
                  There are two formats for Header Extensions, as depicted in
                  <a href="#fig_header_extension" class="xref">Figure 3</a>
                  .
 The first format is used for variable-length extensions, with Header Extension Type (HET) values between 0 and 127.
 The second format is used for fixed-length (one 32-bit word) extensions, using HET values from 128 to 255.<a href="#section-4.1.1-3" class="pilcrow">¶</a></p>
<span id="name-header-extension-format"></span><div id="fig_header_extension">
<figure id="figure-3">
            <div class="alignLeft art-text artwork" id="section-4.1.1-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  HET (&lt;=127)  |       HEL     |                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
.                                                               .
.              Header Extension Content (HEC)                   .
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  HET (&gt;=128)  |       Header Extension Content (HEC)          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-header-extension-format" class="selfRef">Header Extension Format</a>
            </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-4.1.1-5.1">Header Extension Type (HET): 8 bits
 The type of the Header Extension.
 This document defines several possible types.
 Additional types may be defined in future versions of this specification.
 HET values from 0 to 127 are used for variable-length Header Extensions.
 HET values from 128 to 255 are used for fixed-length 32-bit Header Extensions.<a href="#section-4.1.1-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-5.2">Header Extension Length (HEL): 8 bits
 The length of the whole Header Extension field, expressed in multiples of 32-bit words.
 This field MUST be present for variable-length extensions (HETs between 0 and 127) and MUST NOT be present for fixed-length extensions (HETs between 128 and 255).<a href="#section-4.1.1-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.1.1-5.3">Header Extension Content (HEC): variable length
 The content of the Header Extension.
 The format of this sub-field depends on the Header Extension Type.
 For fixed-length Header Extensions, the HEC is 24 bits.
 For variable-length Header Extensions, the HEC field has variable size, as specified by the HEL field.
 Note that the length of each Header Extension MUST be a multiple of 32 bits.
 Also, note that the total size of the Tetrys header, including all Header Extensions and all optional header fields, cannot exceed 255 32-bit words.<a href="#section-4.1.1-5.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="source-packet">
<section id="section-4.2">
        <h3 id="name-source-packet-format">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-source-packet-format" class="section-name selfRef">Source Packet Format</a>
        </h3>
<p id="section-4.2-1">A source packet is a Common Packet Header encapsulation, a Source Symbol ID and a source symbol (payload). The source symbols can have variable sizes.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<span id="name-source-packet-format-2"></span><div id="fig-src-pkt">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-4.2-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
/                      Common Packet Header                     /
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Source Symbol ID                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
/                            Payload                            /
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-source-packet-format-2" class="selfRef">Source Packet Format</a>
          </figcaption></figure>
</div>
<p id="section-4.2-3">Common Packet Header: a common packet header (as common header format) where Packet Type=0.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">Source Symbol ID: the sequence number to identify a source symbol.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">Payload: the payload (source symbol)<a href="#section-4.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="coded-packet">
<section id="section-4.3">
        <h3 id="name-coded-packet-format">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-coded-packet-format" class="section-name selfRef">Coded Packet Format</a>
        </h3>
<p id="section-4.3-1">
               A coded packet is the encapsulation of a Common Packet Header, a Coded Symbol ID, the associated Encoding Vector, and a coded symbol (payload). As the source symbols CAN have variable sizes, each source symbol size need to be encoded. The result must be stored in the coded packet as the Encoded Payload Size (16 bits): as it is an optional field, the encoding vector MUST signal the use of variable source symbol sizes with the field V (see
               <a href="#unified-encoding-vector-format" class="xref">Section 6.1.1.2</a>
               ).<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<span id="name-coded-packet-format-2"></span><div id="fig-rpr-pkt">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-4.3-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
/                      Common Packet Header                     /
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                          Coded Symbol ID                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
/                         Encoding Vector                       /
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Encoded Payload Size      |                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
|                                                               |
/                            Payload                            /
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-coded-packet-format-2" class="selfRef">Coded Packet Format</a>
          </figcaption></figure>
</div>
<p id="section-4.3-3">Common Packet Header: a common packet header (as common header format) where Packet Type=1.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">Coded Symbol ID: the sequence number to identify a coded symbol.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">Encoding Vector: an encoding vector to define the linear combination used (coefficients and source symbols).<a href="#section-4.3-5" class="pilcrow">¶</a></p>
<p id="section-4.3-6">
               Encoded Payload Size: the coded payload size used if the source symbols have a variable size (optional,
               <a href="#unified-encoding-vector-format" class="xref">Section 6.1.1.2</a>
               )).<a href="#section-4.3-6" class="pilcrow">¶</a></p>
<p id="section-4.3-7">Payload: the coded symbol.<a href="#section-4.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ack-packet">
<section id="section-4.4">
        <h3 id="name-acknowledgement-packet-form">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-acknowledgement-packet-form" class="section-name selfRef">Acknowledgement Packet Format</a>
        </h3>
<p id="section-4.4-1">A Tetrys Decoding Building Block MAY send back to another building block some Acknowledgement packets. They contain information about what it has received and/or decoded, and other information such as a packet loss rate or the size of the decoding buffers. The acknowledgment packets are OPTIONAL hence they could be omitted or lost in transmission without impacting the protocol behavior.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<span id="name-acknowledgement-packet-forma"></span><div id="fig-ack-pkt">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-4.4-2.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
/                      Common Packet Header                     /
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Nb of missing source symbols                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|              Nb of not already used coded symbols             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    First Source Symbol ID                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      PLR      |   SACK size   |                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
|                                                               |
/                          SACK Vector                          /
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-acknowledgement-packet-forma" class="selfRef">Acknowledgement Packet Format</a>
          </figcaption></figure>
</div>
<p id="section-4.4-3">Common Packet Header: a common packet header (as common header format) where Packet Type=2.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<p id="section-4.4-4">Nb missing source symbols: the number of missing source symbols in the receiver since the beginning of the session.<a href="#section-4.4-4" class="pilcrow">¶</a></p>
<p id="section-4.4-5">Nb of not already used coded symbols: the number of coded symbols at the receiver that have not already been used for decoding (e.g., the linear combinations contain at least 2 unknown source symbols).<a href="#section-4.4-5" class="pilcrow">¶</a></p>
<p id="section-4.4-6">First Source Symbol ID: ID of the first source symbol to consider for acknowledgment.<a href="#section-4.4-6" class="pilcrow">¶</a></p>
<p id="section-4.4-7">PLR: packet loss ratio expressed as a percentage normalized to a 8-bit unsigned integer. For example, 2.5 % will be stored as floor(2.5 * 256/100). This value is used in the case of dynamic code rate or for statistical purpose. The choice of calculation is left to the appreciation of the developer but should be the PLR seen before decoding.<a href="#section-4.4-7" class="pilcrow">¶</a></p>
<p id="section-4.4-8">SACK size: the size of the SACK vector in 32-bit words. For instance, with value 2, the SACK vector is 64 bits long.<a href="#section-4.4-8" class="pilcrow">¶</a></p>
<p id="section-4.4-9">SACK vector: bit vector indicating the acknowledged symbols from the first source symbol ID.
 The "First Source Symbol" is  included in this bit vector.
 A bit equal to 1 at the i-th position means that this acknowledgment packet acknowledges the source symbol of ID equal to "First Source Symbol ID" + i.<a href="#section-4.4-9" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ccgi">
<section id="section-5">
      <h2 id="name-the-coding-coefficient-gene">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-the-coding-coefficient-gene" class="section-name selfRef">The Coding Coefficient Generator Identifiers</a>
      </h2>
<div id="ccgi_definition">
<section id="section-5.1">
        <h3 id="name-definition">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-definition" class="section-name selfRef">Definition</a>
        </h3>
<p id="section-5.1-1">The Coding Coefficient Generator Identifiers define a function or an algorithm to build the coding coefficients used to generate the coded symbols. They MUST be known by all the Tetrys encoders or decoders.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ccgi_table">
<section id="section-5.2">
        <h3 id="name-table-of-identifiers">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-table-of-identifiers" class="section-name selfRef">Table of Identifiers</a>
        </h3>
<p id="section-5.2-1">0000: Vandermonde based coefficients over a finite field with 2^^4 elements,defined by the primitive polynomial 1+x+x^^4. Each coefficient is built as alpha^( (source_symbol_id*coded-symbol_id) % 16), with alpha the root of the primitive polynomial.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">0001: Vandermonde based coefficients over a finite field with 2^^8 elements,defined by the primitive polynomial 1+x^^2+x^^3+x^^4+x^^8. Each coefficient is built as alpha^( (source_symbol_id*coded-symbol_id) % 256), with alpha the root of the primitive polynomial.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="tetrys_basic_functions">
<section id="section-6">
      <h2 id="name-tetrys-basic-functions">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-tetrys-basic-functions" class="section-name selfRef">Tetrys Basic Functions</a>
      </h2>
<div id="encoding">
<section id="section-6.1">
        <h3 id="name-encoding">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-encoding" class="section-name selfRef">Encoding</a>
        </h3>
<p id="section-6.1-1">At the beginning of a transmission, a Tetrys Encoding Building Block or MUST choose an initial code rate (added redundancy) as it doesn't know the packet loss rate of the channel. In the steady state, depending on the code-rate, the Tetrys Encoding Building Block CAN generate coded symbols when it receives a source symbol from the application or some feedback from the decoding blocks.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">When a Tetrys Encoding Building Block needs to generate a coded symbol, it considers the set of source symbols stored in the Elastic Encoding Window. These source symbols are the set of source symbols that are not yet acknowledged by the receiver.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">A Tetrys Encoding Building Block SHOULD set a limit to the Elastic Encoding Window maximum size. This controls the algorithmic complexity at the encoder and decoder by limiting the size of linear combinations. It is also needed in situations where acknowledgment packets are all lost or absent.<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1-4">At the generation of a coded symbol, the Tetrys Encoding Building Block generates an encoding vector containing the IDs of the source symbols stored in the Elastic Encoding Window. For each source symbol, a finite field coefficient is determined using a Coding Coefficient Generator. This generator CAN take as input the source symbol ID and the coded symbol ID and CAN determine a coefficient in a deterministic way. A typical example of such a deterministic function is a generator matrix where the rows are indexed by the source symbol IDs and the columns by the coded symbol IDs. For example, the entries of this matrix can be built from a Vandermonde structure, like Reed-Solomon codes, or a sparse binary matrix, like Low-Density Generator Matrix codes. Finally, the coded symbol is the sum of the source symbols multiplied by their corresponding coefficients.<a href="#section-6.1-4" class="pilcrow">¶</a></p>
<div id="encoding_packet">
<section id="section-6.1.1">
          <h4 id="name-encoding-vector-formats">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-encoding-vector-formats" class="section-name selfRef">Encoding Vector Formats</a>
          </h4>
<p id="section-6.1.1-1">Each coded packet contains an encoding vector. The encoding vectors CAN contain the ID and/or coefficient of each source symbol contained in the coded symbol.<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
<div id="sending-source-symbol-ids">
<section id="section-6.1.1.1">
            <h5 id="name-transmitting-the-source-sym">
<a href="#section-6.1.1.1" class="section-number selfRef">6.1.1.1. </a><a href="#name-transmitting-the-source-sym" class="section-name selfRef">Transmitting the source symbol IDs</a>
            </h5>
<p id="section-6.1.1.1-1">The source symbol IDs are organized as a sorted list of 32-bit unsigned integers. Depending on the feedback, the source symbol IDs can be successive or not in the list.<a href="#section-6.1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1.1.1-2">If they are successive, the boundaries are stored in the encoding vector: it just needs 2*32-bit of information.<a href="#section-6.1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1.1.1-3">If not, the edge blocks CAN be stored directly, or a differential transform to reduce the number of bits needed to represent an ID CAN be used.<a href="#section-6.1.1.1-3" class="pilcrow">¶</a></p>
<div id="compressing-encoding-vector">
<section id="section-6.1.1.1.1">
              <h6 id="name-compressed-list-of-source-s">
<a href="#section-6.1.1.1.1" class="section-number selfRef">6.1.1.1.1. </a><a href="#name-compressed-list-of-source-s" class="section-name selfRef">Compressed list of Source symbol IDs</a>
              </h6>
<p id="section-6.1.1.1.1-1">Assume the symbol IDs used in the combination are: [1..3],[5..6],[8..10].<a href="#section-6.1.1.1.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1.1.1.1-2">
<li id="section-6.1.1.1.1-2.1">Keep the first element in the packet as the first_source_id: 1.<a href="#section-6.1.1.1.1-2.1" class="pilcrow">¶</a>
</li>
                <li id="section-6.1.1.1.1-2.2">Apply a differential transform to the others elements ([3,5,6,8,10]) which removes the element i-1 to the element i, starting with the first_source_id as i0, and get the list L =&gt; [2,2,1,2,2]<a href="#section-6.1.1.1.1-2.2" class="pilcrow">¶</a>
</li>
                <li id="section-6.1.1.1.1-2.3">Compute b, the number of bits needed to store all the elements, which is ceil(log2(max(L))): here, 2 bits.<a href="#section-6.1.1.1.1-2.3" class="pilcrow">¶</a>
</li>
                <li id="section-6.1.1.1.1-2.4">Write b in the corresponding field, and write all the b * [(2 * NB blocks) - 1] elements in a bit vector, here: 10 10 01 10 10.<a href="#section-6.1.1.1.1-2.4" class="pilcrow">¶</a>
</li>
              </ol>
</section>
</div>
<div id="decompressing-encoding-vector">
<section id="section-6.1.1.1.2">
              <h6 id="name-decompressing-the-source-sy">
<a href="#section-6.1.1.1.2" class="section-number selfRef">6.1.1.1.2. </a><a href="#name-decompressing-the-source-sy" class="section-name selfRef">Decompressing the Source symbol IDs</a>
              </h6>
<p id="section-6.1.1.1.2-1">When a Tetrys Decoding Building Block wants to reverse the operations, this algorithm is used:<a href="#section-6.1.1.1.2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-6.1.1.1.2-2">
<li id="section-6.1.1.1.2-2.1">Rebuild the list of the transmitted elements by reading the bit vector and b: [10 10 01 10 10] =&gt; [2,2,1,2,2]<a href="#section-6.1.1.1.2-2.1" class="pilcrow">¶</a>
</li>
                <li id="section-6.1.1.1.2-2.2">Apply the reverse transform by adding successively the elements, starting with first_source_id: [1,1+2,(1+2)+2,(1+2+2)+1,...] =&gt; [1,3,5,6,8,10]<a href="#section-6.1.1.1.2-2.2" class="pilcrow">¶</a>
</li>
                <li id="section-6.1.1.1.2-2.3">Rebuild the blocks using the list and first_source_id: [1..3],[5..6],[8..10].<a href="#section-6.1.1.1.2-2.3" class="pilcrow">¶</a>
</li>
              </ol>
</section>
</div>
</section>
</div>
<div id="unified-encoding-vector-format">
<section id="section-6.1.1.2">
            <h5 id="name-encoding-vector-format">
<a href="#section-6.1.1.2" class="section-number selfRef">6.1.1.2. </a><a href="#name-encoding-vector-format" class="section-name selfRef">Encoding Vector Format</a>
            </h5>
<p id="section-6.1.1.2-1">The encoding vector CAN be used to store the source symbol IDs included in the associated coded symbol, the coefficients used in the combination, or both. It CAN be used to send only the number of source symbols included in the coded symbol.<a href="#section-6.1.1.2-1" class="pilcrow">¶</a></p>
<p id="section-6.1.1.2-2">If the source IDs are stored, the number of blocks MUST be different from 0.<a href="#section-6.1.1.2-2" class="pilcrow">¶</a></p>
<p id="section-6.1.1.2-3">The encoding vector format uses a 4-bit Coding Coefficient Generator Identifier to identify the algorithm to generate the coefficients. It contains a set of blocks for the source symbol IDs used in the combination. In this format, the number of blocks is stored as a 8-bit unsigned integer. To reduce the overhead, a compressed way to store the symbol IDs is used: the IDs are not stored as themselves but stored as the difference between the previous.<a href="#section-6.1.1.2-3" class="pilcrow">¶</a></p>
<span id="name-encoding-vector-format-2"></span><div id="fig-unif-enc-vec">
<figure id="figure-7">
              <div class="alignLeft art-text artwork" id="section-6.1.1.2-4.1">
<pre>
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     EV_LEN    |  CCGI | I |C|V|    NB_IDS     |   NB_COEFS    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        FIRST_SOURCE_ID                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     b_id      |                                               |
+-+-+-+-+-+-+-+-+            id_bit_vector        +-+-+-+-+-+-+-+
|                                                 |   Padding   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                          coef_bit_vector        +-+-+-+-+-+-+-+
|                                                 |   Padding   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-encoding-vector-format-2" class="selfRef">Encoding Vector Format</a>
              </figcaption></figure>
</div>
<ul class="normal">
<li class="normal" id="section-6.1.1.2-5.1">Encoding Vector Length (EV_LEN) (8-bits): size in units of 32-bit words.<a href="#section-6.1.1.2-5.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.2">
                           Coding Coefficient Generator Identifier (CCGI): 4-bit ID to identify the algorithm or the function used to generate the coefficients (see
                           <a href="#ccgi" class="xref">Section 5</a>
                           ). As a CCGI is included in each encoded vector, it can dynamically change between the generation of 2 coded symbols.<a href="#section-6.1.1.2-5.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.3">
                <p id="section-6.1.1.2-5.3.1">
                           Store the Source symbol IDs (I) (2 bits):<a href="#section-6.1.1.2-5.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1.1.2-5.3.2.1">00 means there is no source symbol ID information.<a href="#section-6.1.1.2-5.3.2.1" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-6.1.1.2-5.3.2.2">01 means the encoding vector contains the edge blocks of the source symbol IDs without compression.<a href="#section-6.1.1.2-5.3.2.2" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-6.1.1.2-5.3.2.3">10 means the encoding vector contains the compressed list of the source symbol IDs.<a href="#section-6.1.1.2-5.3.2.3" class="pilcrow">¶</a>
</li>
                  <li class="normal" id="section-6.1.1.2-5.3.2.4">11 means the encoding vector contains the compressed edge blocks of the source symbol IDs.<a href="#section-6.1.1.2-5.3.2.4" class="pilcrow">¶</a>
</li>
                </ul>
</li>
              <li class="normal" id="section-6.1.1.2-5.4">Store the coefficients (C): 1 bit to know if an encoding vector contains information about the coefficients used.<a href="#section-6.1.1.2-5.4" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.5">Having source symbols with variable size (V): set V to 1 if the combination which refers to the encoding vector is a combination of source symbols with variable sizes. In this case, the coded packets MUST have the 'Encoded Payload Size' field.<a href="#section-6.1.1.2-5.5" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.6">Number of IDs used to store the source symbol IDs (NB_IDS): the number of IDs stored (depending on I).<a href="#section-6.1.1.2-5.6" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.7">Number of coefficients (NB_COEFS): The number of the coefficients used to generate the associated coded symbol.<a href="#section-6.1.1.2-5.7" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.8">The first source Identifier (FIRST_SOURCE_ID): the first source symbol ID used in the combination.<a href="#section-6.1.1.2-5.8" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.9">
                           Number of bits for each edge block (b_id): the number of bits needed to store the edge (see
                           <a href="#sending-source-symbol-ids" class="xref">Section 6.1.1.1</a>
                           ).<a href="#section-6.1.1.2-5.9" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.10">Information about the source symbol IDs (id_bit_vector): if I=01, store the edge blocks as b_id * (NB_IDS * 2 - 1). If I=10, store in a compressed way the edge blocks.<a href="#section-6.1.1.2-5.10" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.11">The coefficients (coef_bit_vector): The coefficients stored depending on the CCGI (4 or 8 bits for each coeffecient).<a href="#section-6.1.1.2-5.11" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-6.1.1.2-5.12">Padding: padding to have an Encoding Vector size multiple of 32-bit (for the id and coefficient part).<a href="#section-6.1.1.2-5.12" class="pilcrow">¶</a>
</li>
            </ul>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="windowing">
<section id="section-6.2">
        <h3 id="name-the-elastic-encoding-window">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-the-elastic-encoding-window" class="section-name selfRef">The Elastic Encoding Window</a>
        </h3>
<p id="section-6.2-1">When an input source symbol is passed to a Tetrys Encoding Building Block, it is added to the Elastic Encoding Window. This window MUST have a limit set by the encoding building Block (depending on the use case: unicast, multicast, file transfer, real-time transfer, ...). If the Elastic Encoding Window reached its limit, the window slides over the symbols: the first (oldest) symbols are removed. Then, a packet containing this symbol can be sent onto the network. As an element of the coding window, this symbol is included in the next linear combinations created to generate the coded symbols.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">As explained below, the receiver sends periodic feedback indicating the received or decoded source symbols. In the case of unicast transmission, when the sender receives the information that a source symbol was received and/or decoded by the receiver, it removes this symbol from the coding window.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">
               In a multicast transmission:<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-4.1">If the acknowledgment packets are not enabled, the coding window grows up to a limit. When the limit is reached, the oldest symbols are removed from the coding window.<a href="#section-6.2-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.2-4.2">If the acknowledgment packets are enabled, a source symbol is removed from the coding window when all the receivers have received or decoded it or when the coding window reaches its limit.<a href="#section-6.2-4.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="decoding">
<section id="section-6.3">
        <h3 id="name-decoding">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-decoding" class="section-name selfRef">Decoding</a>
        </h3>
<p id="section-6.3-1">A classical matrix inversion is sufficient to recover the source symbols.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="research">
<section id="section-7">
      <h2 id="name-research-issues">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-research-issues" class="section-name selfRef">Research Issues</a>
      </h2>
<p id="section-7-1">The design of Tetrys protocol presented in this document provides the baseline allowing communication between a Tetrys encoder and a Tetrys decoder.  At this stage, the detailed specifications only focus on the coding and decoding aspects.  The objective of this document is first to provide guidelines to implement Tetrys as a standalone protocol or to embed Tetrys inside an existing protocol at the application layer or the IP layer.  However, both cases raise manifold research efforts to come up with a complete protocol specification.  Despite mandatory communication protocol operations such as opening/closing procedures and timeout/reset, we identified the following research issues that would need further discussion.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="transport-issue">
<section id="section-7.1">
        <h3 id="name-interaction-with-existing-c">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-interaction-with-existing-c" class="section-name selfRef">Interaction with Existing Congestion-Controlled Transport Protocol</a>
        </h3>
<p id="section-7.1-1">
               Tetrys coding and congestion control can be seen as two separate channels.  In practice, implementations may mix the signals exchanged on these channels.  This raises several concerns that must be tackled when considering using Tetrys conjointly with a congestion-controlled transport protocol.  All these numerous research issues are discussed in a separate document
               <span>[<a href="#I-D.irtf-nwcrg-coding-and-congestion" class="xref">I-D.irtf-nwcrg-coding-and-congestion</a>]</span>
               . In particular, this document investigates end-to-end unicast data transfer with FEC coding in the application (above the transport), within the transport, or directly below the transport; the relationship between transport layer and application requirements; and the case of transport multipath and multi-streams applications.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="adaptive">
<section id="section-7.2">
        <h3 id="name-adaptive-coding-rate">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-adaptive-coding-rate" class="section-name selfRef">Adaptive Coding Rate</a>
        </h3>
<p id="section-7.2-1">
               In a particular context, a redundancy adaptation algorithm might be considered helpful or mandatory when the network condition (e.g., delay, loss rate) strongly varies over time.  Hence, it requires an enhanced mechanism for erasure codes to adapt to network dynamics similarly to
               <span>[<a href="#A-FEC" class="xref">A-FEC</a>]</span>
               . However, the dynamic adaptation of an on-the-fly coding rate is slightly more complex than a block code. Furthermore, this adaptation can be done conjointly with the network as proposed in
               <span>[<a href="#RED-FEC" class="xref">RED-FEC</a>]</span>
               . In this paper, the authors propose a Random Early Detection FEC mechanism in the context of video transmission over wireless networks. In brief, the idea is to add more redundancy packets if the queue at the access point is less occupied and vice versa. A first theoretical attempt for video delivery has been proposed
               <span>[<a href="#THAI" class="xref">THAI</a>]</span>
               with Tetrys. However, this kind of algorithms should deserve more research to be deployed in practice.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tunnel">
<section id="section-7.3">
        <h3 id="name-using-tetrys-above-the-ip-l">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-using-tetrys-above-the-ip-l" class="section-name selfRef">Using Tetrys Above The IP Layer For Tunneling</a>
        </h3>
<p id="section-7.3-1">
               The use of Tetrys to protect from losses an aggregate of flows raise various issues. This occurs when an encoding mechanism is enabled below the IP layer and builds redundancy without flows differentiation. This is typically the case in a tunnel. The main problem relates to head-of-line blocking when decoding multiple flows. The number of source packets might vary following their own loss probability and lead to decoding blocking in waiting for source data packets to be suppressed from a given repair packet. This kind of issue could lead to a decrease of the decoding performance and should be further investigated. Note this research issue joins the topics discussed in the IRTF LOOPS working group
               <span>[<a href="#I-D.li-tsvwg-loops-problem-opportunities" class="xref">I-D.li-tsvwg-loops-problem-opportunities</a>]</span>
               .<a href="#section-7.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security">
<section id="section-8">
      <h2 id="name-security-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-8-1">
            Tetrys inherits a subset of the security issues described as those described in FECFRAME
            <span>[<a href="#RFC8680" class="xref">RFC8680</a>]</span>
            and in particular in sections "9.2.2. Content Corruption" and "9.3. Attacks against the FEC Parameters". As an application layer end-to-end protocol, security considerations of Tetrys should also be comparable to those of HTTP/2 with TLS.
        The considerations from Section 10 of HTTP2
            <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>
            also apply in addition to those listed here.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privacy">
<section id="section-9">
      <h2 id="name-privacy-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-9-1">N/A<a href="#section-9-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana">
<section id="section-10">
      <h2 id="name-iana-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-10-1">N/A<a href="#section-10-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ack">
<section id="section-11">
      <h2 id="name-acknowledgments">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-11-1">First, the authors want to sincerely thank Marie-Jose Montpetit for continuous help and support on Tetrys. Marie-Jo, many thanks!<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">The authors also wish to thank NWCRG group members for numerous discussions on on-the-fly coding that helped finalize this document.<a href="#section-11-2" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3452">[RFC3452]</dt>
        <dd>
<span class="refAuthor">Luby, M.</span>, <span class="refAuthor">Vicisano, L.</span>, <span class="refAuthor">Gemmell, J.</span>, <span class="refAuthor">Rizzo, L.</span>, <span class="refAuthor">Handley, M.</span>, and <span class="refAuthor">J. Crowcroft</span>, <span class="refTitle">"Forward Error Correction (FEC) Building Block"</span>, <span class="seriesInfo">RFC 3452</span>, <span class="seriesInfo">DOI 10.17487/RFC3452</span>, <time datetime="2002-12" class="refDate">December 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3452">https://www.rfc-editor.org/info/rfc3452</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5651">[RFC5651]</dt>
        <dd>
<span class="refAuthor">Luby, M.</span>, <span class="refAuthor">Watson, M.</span>, and <span class="refAuthor">L. Vicisano</span>, <span class="refTitle">"Layered Coding Transport (LCT) Building Block"</span>, <span class="seriesInfo">RFC 5651</span>, <span class="seriesInfo">DOI 10.17487/RFC5651</span>, <time datetime="2009-10" class="refDate">October 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5651">https://www.rfc-editor.org/info/rfc5651</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5740">[RFC5740]</dt>
        <dd>
<span class="refAuthor">Adamson, B.</span>, <span class="refAuthor">Bormann, C.</span>, <span class="refAuthor">Handley, M.</span>, and <span class="refAuthor">J. Macker</span>, <span class="refTitle">"NACK-Oriented Reliable Multicast (NORM) Transport Protocol"</span>, <span class="seriesInfo">RFC 5740</span>, <span class="seriesInfo">DOI 10.17487/RFC5740</span>, <time datetime="2009-11" class="refDate">November 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5740">https://www.rfc-editor.org/info/rfc5740</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7540">[RFC7540]</dt>
        <dd>
<span class="refAuthor">Belshe, M.</span>, <span class="refAuthor">Peon, R.</span>, and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 2 (HTTP/2)"</span>, <span class="seriesInfo">RFC 7540</span>, <span class="seriesInfo">DOI 10.17487/RFC7540</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7540">https://www.rfc-editor.org/info/rfc7540</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8406">[RFC8406]</dt>
        <dd>
<span class="refAuthor">Adamson, B.</span>, <span class="refAuthor">Adjih, C.</span>, <span class="refAuthor">Bilbao, J.</span>, <span class="refAuthor">Firoiu, V.</span>, <span class="refAuthor">Fitzek, F.</span>, <span class="refAuthor">Ghanem, S.</span>, <span class="refAuthor">Lochin, E.</span>, <span class="refAuthor">Masucci, A.</span>, <span class="refAuthor">Montpetit, M-J.</span>, <span class="refAuthor">Pedersen, M.</span>, <span class="refAuthor">Peralta, G.</span>, <span class="refAuthor">Roca, V., Ed.</span>, <span class="refAuthor">Saxena, P.</span>, and <span class="refAuthor">S. Sivakumar</span>, <span class="refTitle">"Taxonomy of Coding Techniques for Efficient Network Communications"</span>, <span class="seriesInfo">RFC 8406</span>, <span class="seriesInfo">DOI 10.17487/RFC8406</span>, <time datetime="2018-06" class="refDate">June 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8406">https://www.rfc-editor.org/info/rfc8406</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8680">[RFC8680]</dt>
      <dd>
<span class="refAuthor">Roca, V.</span> and <span class="refAuthor">A. Begen</span>, <span class="refTitle">"Forward Error Correction (FEC) Framework Extension to Sliding Window Codes"</span>, <span class="seriesInfo">RFC 8680</span>, <span class="seriesInfo">DOI 10.17487/RFC8680</span>, <time datetime="2020-01" class="refDate">January 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8680">https://www.rfc-editor.org/info/rfc8680</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="A-FEC">[A-FEC]</dt>
        <dd>
<span class="refAuthor">Bolot, J.</span>, <span class="refAuthor">Fosse-Parisis, S.</span>, and <span class="refAuthor">D. Towsley</span>, <span class="refTitle">"Adaptive FEC-based error control for Internet telephony"</span>, <span class="seriesInfo">IEEE INFOCOM 99, pp. 1453-1460 vol. 3 DOI 10.1109/INFCOM.1999.752166</span>, <time datetime="1999" class="refDate">1999</time>. </dd>
<dd class="break"></dd>
<dt id="AHL-00">[AHL-00]</dt>
        <dd>
<span class="refAuthor">Ahlswede, R.</span>, <span class="refAuthor">Ning Cai</span>, <span class="refAuthor">Li, S.-Y.R.</span>, and <span class="refAuthor">R.W. Yeung</span>, <span class="refTitle">"Network information flow"</span>, <span class="seriesInfo">IEEE Transactions on Information Theory vol.46, no.4, pp.1204,1216</span>, <time datetime="2000-07" class="refDate">July 2000</time>. </dd>
<dd class="break"></dd>
<dt id="I-D.irtf-nwcrg-coding-and-congestion">[I-D.irtf-nwcrg-coding-and-congestion]</dt>
        <dd>
<span class="refAuthor">Kuhn, N.</span>, <span class="refAuthor">Lochin, E.</span>, <span class="refAuthor">Michel, F.</span>, and <span class="refAuthor">M. Welzl</span>, <span class="refTitle">"Coding and congestion control in transport"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-irtf-nwcrg-coding-and-congestion-09</span>, <time datetime="2021-06-25" class="refDate">25 June 2021</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-irtf-nwcrg-coding-and-congestion-09.txt">https://www.ietf.org/archive/id/draft-irtf-nwcrg-coding-and-congestion-09.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.li-tsvwg-loops-problem-opportunities">[I-D.li-tsvwg-loops-problem-opportunities]</dt>
        <dd>
<span class="refAuthor">Li, Y.</span>, <span class="refAuthor">Zhou, X.</span>, <span class="refAuthor">Boucadair, M.</span>, <span class="refAuthor">Wang, J.</span>, and <span class="refAuthor">F. Qin</span>, <span class="refTitle">"LOOPS (Localized Optimizations on Path Segments) Problem Statement and Opportunities for Network-Assisted Performance Enhancement"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-li-tsvwg-loops-problem-opportunities-06</span>, <time datetime="2020-07-13" class="refDate">13 July 2020</time>, <span>&lt;<a href="https://www.ietf.org/archive/id/draft-li-tsvwg-loops-problem-opportunities-06.txt">https://www.ietf.org/archive/id/draft-li-tsvwg-loops-problem-opportunities-06.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RED-FEC">[RED-FEC]</dt>
        <dd>
<span class="refAuthor">Lin, C.</span>, <span class="refAuthor">Shieh, C.</span>, <span class="refAuthor">Chilamkurti, N. K.</span>, <span class="refAuthor">Ke, C.</span>, and <span class="refAuthor">H. S. Hwang</span>, <span class="refTitle">"A RED-FEC Mechanism for Video Transmission Over WLANs"</span>, <span class="seriesInfo">IEEE Transactions on Broadcasting, vol. 54, no. 3, pp. 517-524 DOI 10.1109/TBC.2008.2001713</span>, <time datetime="2008-09" class="refDate">September 2008</time>. </dd>
<dd class="break"></dd>
<dt id="Tetrys">[Tetrys]</dt>
        <dd>
<span class="refAuthor">Lacan, J.</span> and <span class="refAuthor">E. Lochin</span>, <span class="refTitle">"Rethinking reliability for long-delay networks"</span>, <span class="seriesInfo">International Workshop on Satellite and Space Communications 2008 (IWSSC08)</span>, <time datetime="2008-10" class="refDate">October 2008</time>. </dd>
<dd class="break"></dd>
<dt id="THAI">[THAI]</dt>
      <dd>
<span class="refAuthor">Tran-Thai, T.</span>, <span class="refAuthor">Lacan, J.</span>, and <span class="refAuthor">E. Lochin</span>, <span class="refTitle">"Joint on-the-fly network coding/video quality adaptation for real-time delivery"</span>, <span class="seriesInfo">Signal Processing: Image Communication, vol. 29 (no. 4), pp. 449-461 ISSN 0923-5965</span>, <time datetime="2014" class="refDate">2014</time>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jonathan Detchart</span></div>
<div dir="auto" class="left"><span class="org">ISAE-SUPAERO</span></div>
<div dir="auto" class="left"><span class="street-address">10, avenue Edouard Belin<br>BP 54032</span></div>
<div dir="auto" class="left">
<span class="postal-code">31055</span> <span class="locality">Toulouse CEDEX 4</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jonathan.detchart@isae-supaero.fr" class="email">jonathan.detchart@isae-supaero.fr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Emmanuel Lochin</span></div>
<div dir="auto" class="left"><span class="org">ENAC</span></div>
<div dir="auto" class="left"><span class="street-address">7, avenue Edouard Belin</span></div>
<div dir="auto" class="left">
<span class="postal-code">31400</span> <span class="locality">Toulouse</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:emmanuel.lochin@enac.fr" class="email">emmanuel.lochin@enac.fr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jerome Lacan</span></div>
<div dir="auto" class="left"><span class="org">ISAE-SUPAERO</span></div>
<div dir="auto" class="left"><span class="street-address">10, avenue Edouard Belin<br>BP 54032</span></div>
<div dir="auto" class="left">
<span class="postal-code">31055</span> <span class="locality">Toulouse CEDEX 4</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jerome.lacan@isae-supaero.fr" class="email">jerome.lacan@isae-supaero.fr</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Vincent Roca</span></div>
<div dir="auto" class="left"><span class="org">INRIA</span></div>
<div dir="auto" class="left"><span class="street-address">655, avenue de l'Europe<br>Inovallee; Montbonnot</span></div>
<div dir="auto" class="left">
<span class="postal-code">38334</span> <span class="locality">ST ISMIER cedex</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:vincent.roca@inria.fr" class="email">vincent.roca@inria.fr</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
