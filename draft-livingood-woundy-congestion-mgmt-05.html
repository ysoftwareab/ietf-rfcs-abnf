<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Comcast's Protocol-Agnostic Congestion Management System</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Comcast's Protocol-Agnostic Congestion Management System">
<meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, XML, Extensible Markup Language, ISP, Internet Service Provider, Congestion Management, Network Management">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">C. Bastian</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">T. Klieber</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">J. Livingood, Ed.</td></tr>
<tr><td class="header">Expires: January 10, 2011</td><td class="header">J. Mills</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Woundy</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Comcast</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 9, 2010</td></tr>
</table></td></tr></table>
<h1><br />Comcast's Protocol-Agnostic Congestion Management System<br />draft-livingood-woundy-congestion-mgmt-05</h1>

<h3>Abstract</h3>

<p>This document describes the congestion management system of Comcast Cable, a large cable broadband Internet Service Provider (ISP) in the U.S.  Comcast completed deployment of this congestion management system on December 31, 2008.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on January 10, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Applicability to Other Types of Networks<br />
<a href="#terms">3.</a>&nbsp;
Key Terminology<br />
<a href="#historical overview">4.</a>&nbsp;
Historical Overview<br />
<a href="#summary">5.</a>&nbsp;
Summary<br />
<a href="#anchor16">6.</a>&nbsp;
Relationship Between Managing Congestion and Adding Capacity<br />
<a href="#implentation-and-config">7.</a>&nbsp;
Implementation and Configuration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#near-cong-threshold">7.1.</a>&nbsp;
Thresholds For Determining When a CMTS Port Is in a Near Congestion State<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#user-threshold">7.2.</a>&nbsp;
Thresholds For Determining When a User Is in an Extended High Consumption State and for Release from that Classification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#be-qos-effects">7.3.</a>&nbsp;
Effect of BE Quality of Service on Users&apos Broadband Experience<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#gear-and-code">7.4.</a>&nbsp;
Equipment/Software Used and Location<br />
<a href="#conclusion">8.</a>&nbsp;
Conclusion<br />
<a href="#anchor17">9.</a>&nbsp;
Exceptional Network Utilization Considerations<br />
<a href="#anchor18">10.</a>&nbsp;
Limitations of This Congestion Managament System<br />
<a href="#anchor19">11.</a>&nbsp;
Low Extra Delay Background Transport and Other Possibilities<br />
<a href="#anchor20">12.</a>&nbsp;
Security Considerations<br />
<a href="#anchor21">13.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor22">14.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor23">15.</a>&nbsp;
Change Log<br />
<a href="#anchor24">16.</a>&nbsp;
Open Issues<br />
<a href="#anchor25">17.</a>&nbsp;
Notes for RFC Editor<br />
<a href="#rfc.references1">18.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Comcast Cable is a large broadband Internet Service Provider (ISP), based in the U.S., serving the majority of its customers via cable modem technology.  During the late part of 2008, and completing on December 31, 2008, Comcast deployed a new congestion management system across its entire network.  This new system was developed in response to dissatisfaction in the Internet community as well as complaints to the U.S. Federal Communications Commission (FCC) regarding Comcast's old system, which targeted specific peer-to-peer (P2P) applications. This new congestion management system is protocol-agnostic, meaning that it does not examine or impact specific user applications or network protocols, which is perceived as a more fair system for managing network resources at limited times when congestion may occur.
</p>
<p>It is important for readers to note that congestion can occur in any IP network, and, when it does, packets can be delayed or dropped. As Bob Briscoe has pointed out on an IETF mailing list, some amount of packet loss can be normal and/or tolerable, noting "But a single TCP flow with a round trip time (RTT) of 80ms can attain 50 Mbps with a loss fraction of 0.0013% (1 in ~74,000 packets) so there's no need to try to achieve loss figures much lower than this. And indeed, if flows aren't bottlenecked elsewhere, TCP will drive the system until it gets such loss levels. If, instead, a customer is downloading five separate 10 Mbps TCP flows still with an 80ms RTT, TCP will drive losses up to 1 in ~3,000, or 0.03%, and any lower loss rates won't be able to improve performance." As a result, applications and protocols have been designed to deal with the reality that congestion can occur in any IP network, the mechanics of which we explain in detail later in this document.
</p>
<p>The purpose of this document is to describe how this example of a large scale congestion management system functions. This is partially in response to questions from other ISPs as well as solution developers, who are interested in learning from and/or deploying similar systems in other networks. In addition, it is hoped that such a document may help inform new work in the IETF, in the hope that better systems and protocols may be possible in the future.  Lastly, the authors wish to transparently and openly document this system, so that there could be no doubt about how the system functioned.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Applicability to Other Types of Networks</h3>

<p>Several document reviewers and other IETF participants have pointed out that that, though we refer to functional elements that are specific to a DOCSIS-based network implementation, this type of congestion management system could be generally applied to nearly any type of network.  Thus, it is important for readers to take note of this and take into consideration that this sort of protocol-agnostic congestion management system could certainly fit in a wide variety of network types and implementations.
</p>
<a name="terms"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Key Terminology</h3>

<p>This section defines the key terms used in this document.  Some terms below refer to elements of the Comcast network.  As a result, it may be helpful to refer to <a class='info' href='#high-level-design'>Figure&nbsp;1</a> when reviewing some of these terms.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Cable Modem</h3>

<p>A device located at the customer premise used to access the Comcast High Speed Internet (HSI) network.  In some cases, the cable modem is owned by the customer, and in other cases it is owned by the cable operator.  This device has an interface (i.e., someplace to plug in a cable) for connecting the coaxial cable provided by the cable company to the modem, as well as one or more interfaces for connecting the modem to a customer's PC or home gateway device (e.g., home gateway, router, firewall, access point, etc.).  In some cases, the cable modem function, i.e., the ability to access the Internet, is integrated into a home gateway device or Embedded Multimedia Terminal Adapter (eMTA).  Once connected, the cable modem links the customer to the HSI network and ultimately the broader Internet.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Cable Modem Termination System (CMTS)</h3>

<p>A piece of hardware located in a cable operator's local network (generally in a "headend", <a class='info' href='#Headend'>Section&nbsp;3.10<span> (</span><span class='info'>Headend</span><span>)</span></a>) that acts as the gateway to the Internet for cable modems in a particular geographic area.  A simple way to think of the CMTS is as a router with interfaces on one side leading to the Internet and interfaces on the other connecting to Optical Nodes and then customers, in a so-called "last mile"" network.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Cable Modem Termination System (CMTS) Port</h3>

<p>Also referred to simply as a "port".  A port is a physical interface on a device used to connect cables in order to connect with other devices for transferring information/data.  An example of a physical port is a CMTS port. A CMTS has both upstream and downstream network interfaces to serve the local access network, which are referred to as upstream or downstream ports.  A port generally serves a neighborhood of hundreds of homes. Over time, CMTS ports tend to serve fewer and fewer homes, as the network is segmented for capacity growth purposes.  Prior to DOCSIS version 3, a single CMTS physical port was used for either transmitting or receiving data downstream or upstream to a given neighborhood.  With DOCSIS version 3, and the channel bonding feature, multiple CMTS physical ports can be combined to create a virtual port.  A CMTS is also briefly defined in Section 2.6 of <a class='info' href='#RFC3083'>[RFC3083]<span> (</span><span class='info'>Woundy, R., &ldquo;Baseline Privacy Interface Management Information Base for DOCSIS Compliant Cable Modems and Cable Modem Termination Systems,&rdquo; March&nbsp;2001.</span><span>)</span></a>.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Channel Bonding</h3>

<p>A technique for combining multiple downstream and/or upstream channels to increase customers' download and/or upload speeds, respectively.  Multiple channels from the Hybrid Fiber Coax (HFC, <a class='info' href='#HFC'>Section&nbsp;3.11<span> (</span><span class='info'>Hybrid Fiber Coax (HFC)</span><span>)</span></a>) network can be bonded into a single virtual port (called a bonded group), which acts as a large single channel or port to provide increased speeds for customers.  Channel bonding is a feature of Data Over Cable Service Interface Specification (DOCSIS) version 3, as described in the <a class='info' href='#CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification'>[CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - MAC and Upper Layer Protocols Interface Specification,&rdquo; October&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Coaxial Cable (Coax)</h3>

<p>A type of cable used by a cable operator to connect customer premise equipment (CPE) -- such as TVs, cable modems (including eMTAs), and Set Top Boxes -- to the HFC network.  This cable may be used both within the home as well as in segments of the last mile network running to a home or customer premise location. There are many grades of coaxial cable that are used for different purposes.  Different types of coaxial cable are used for different purposes on the network. 
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
Comcast High Speed Internet (HSI)</h3>

<p>A service/product offered by Comcast for delivering Internet service over a broadband connection.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.7"></a><h3>3.7.&nbsp;
Customer Premise Equipment (CPE)</h3>

<p>Any device that resides at the customer's residence.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.8"></a><h3>3.8.&nbsp;
Data Over Cable Service Interface Specification (DOCSIS)</h3>

<p>A reference standard developed by CableLabs that specifies how components on cable networks need to be built to enable HSI service over an HFC network, as noted in the <a class='info' href='#CableLabs DOCSIS 3.0 Cable Modem to Customer Premise Equipment Interface Specification'>[CableLabs DOCSIS 3.0 Cable Modem to Customer Premise Equipment Interface Specification]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Cable Modem to Customer Premise Equipment Interface Specification,&rdquo; March&nbsp;2008.</span><span>)</span></a>, <a class='info' href='#CableLabs DOCSIS 3.0 Physical Layer Specification'>[CableLabs DOCSIS 3.0 Physical Layer Specification]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Physical Layer Specification,&rdquo; January&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification'>[CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - MAC and Upper Layer Protocols Interface Specification,&rdquo; October&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#CableLabs DOCSIS 3.0 Security Specification'>[CableLabs DOCSIS 3.0 Security Specification]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Security Specification,&rdquo; March&nbsp;2008.</span><span>)</span></a>, and <a class='info' href='#CableLabs DOCSIS 3.0 Operations Support System Interface Specification'>[CableLabs DOCSIS 3.0 Operations Support System Interface Specification]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Operations Support System Interface Specification,&rdquo; October&nbsp;2009.</span><span>)</span></a>.  These standards define the specifications for the cable modem and the CMTS such that any DOCSIS certified cable modem will work on any DOCSIS-certified CMTS, independent of the selected vendor.  The interoperability of cable modems and CMTSs allows customers to purchase a DOCSIS-certified modem from a retail outlet and use it on their cable-networked home.  All DOCSIS-related standards are available to the public at the CableLabs website, at http://www.cablelabs.com.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.9"></a><h3>3.9.&nbsp;
Downstream</h3>

<p>Description of the direction in which a signal travels, in this case from the network to a user.  Downstream traffic occurs when users are downloading something from the Internet, such as watching a web-based video, reading web pages, or downloading software updates.
</p>
<a name="Headend"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.10"></a><h3>3.10.&nbsp;
Headend</h3>

<p>A cable facility responsible for receiving TV signals for distribution over the HFC network to the end customers.  This facility typically also houses one or more CMTSs.  This is sometimes also called a "hub".
</p>
<a name="HFC"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.11"></a><h3>3.11.&nbsp;
Hybrid Fiber Coax (HFC)</h3>

<p>A network architecture used primarily by cable companies, comprised of fiber optic and coaxial cables that currently deliver Voice, Video, and Internet services to customers, as defined in Section 1.2 of the <a class='info' href='#CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification'>[CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification]<span> (</span><span class='info'>CableLabs, &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - MAC and Upper Layer Protocols Interface Specification,&rdquo; October&nbsp;2009.</span><span>)</span></a>.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.12"></a><h3>3.12.&nbsp;
Internet Protocol Detail Record (IPDR)</h3>

<p>Standardized technology for monitoring and/or recording subscribers' upstream and downstream Internet usage data based on their cable modem.  The data is collected from the CMTS and sent to a server for further processing.  Additional information is available at http://www.ipdr.org, as well as <a class='info' href='#IPDR Standard'>[IPDR Standard]<span> (</span><span class='info'>Cotton, S., Cockrell, B., Walls, P., and T. Givoly, &ldquo;Network Data Management &nbhy; Usage (NDM-U) For IP-Based Services Service Specification &nbhy; Cable Labs DOCSIS 2.0 SAMIS,&rdquo; November&nbsp;2004.</span><span>)</span></a> and <a class='info' href='#CableLabs DOCSIS IPDR Support'>[CableLabs DOCSIS IPDR Support]<span> (</span><span class='info'>Yassini, R., &ldquo;Data-Over-Cable Service Interface Specifications - DOCSIS 2.0 - Operations Support System Interface Specification,&rdquo; November&nbsp;2008.</span><span>)</span></a>.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.13"></a><h3>3.13.&nbsp;
Optical Node</h3>

<p>A component of the HFC network generally located in customers' local neighborhoods which is used to convert the optical signals sent over fiber-optic cables to electrical signals that can be sent over coaxial cable to customers' cable modems, or vice versa.  A fiber optic cable connects the Optical Node, through distribution hubs, to the CMTS and coaxial cable connects the Optical Node to customers' cable modems.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.14"></a><h3>3.14.&nbsp;
Provisioned Bandwidth</h3>

<p>The peak speed associated with a tier of service purchased by a customer.  For example, a customer with a 105 Mbps downstream and 10 Mbps upstream speed tier would be said to be provisioned with 105 Mbps of downstream bandwidth and 10 Mbps of upstream bandwidth.  This is often referred to as 105/10 service in industry parlance.
</p>
<p>The Provisioned Bandwidth is the speed that a customer's modem is configured (and the network is engineered) to deliver on a regular basis (which is not the same as a "Committed Information Rate" or a guaranteed rate). Internet speeds are generally a best efforts service that are dependent on a number of variables, many of which are outside the control of an Internet Service Provide (ISP).  In general, speeds do not typically exceed a customer's provisioned speed. Comcast, however, invented a technology called "PowerBoost" <a class='info' href='#PowerBoost Specification'>[PowerBoost Specification]<span> (</span><span class='info'>Comcast Cable Communications Management LLC, &ldquo;Comcast PowerBoost Specification,&rdquo; June&nbsp;2010.</span><span>)</span></a> that, for example, enables users to experience brief boosts above their provisioned speeds while they transfer large files over the Internet, by utilizing excess capacity which may be available in the network at that time.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.15"></a><h3>3.15.&nbsp;
Quality of Service (QoS)</h3>

<p>A set of techniques to manage network resources to ensure a level of performance to specific data flows, as described in <a class='info' href='#RFC1633'>[RFC1633]<span> (</span><span class='info'>Braden, B., Clark, D., and S. Shenker, &ldquo;Integrated Services in the Internet Architecture: an Overview,&rdquo; June&nbsp;1994.</span><span>)</span></a> and <a class='info' href='#RFC2475'>[RFC2475]<span> (</span><span class='info'>Blake, S., Black, D., Carlson, M., Davies, E., Wang, Z., and W. Weiss, &ldquo;An Architecture for Differentiated Services,&rdquo; December&nbsp;1998.</span><span>)</span></a>.  One method for providing QoS to a network is by differentiating the type of traffic by class or flow and assigning priorities to each type.  When the network becomes congested, the data packets that are marked as having higher priority will have higher likelihood of being serviced.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.16"></a><h3>3.16.&nbsp;
Upstream</h3>

<p>Description of the direction in which a signal travels, in this case from the user to the network.  Upstream traffic occurs when users are uploading something to the network, such as sending email, sending files to another computer, or uploading photos to a digital photo website.
</p>
<a name="historical overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Historical Overview</h3>

<p>Comcast began the engineering project to develop a new congestion management system in March 2008, the same month that Comcast hosted the 71st meeting of the IETF in Philadelphia, PA, USA.  On May 28, 2008, Comcast participated in an IETF Peer-to-Peer Infrastructure Workshop <a class='info' href='#RFC5594'>[RFC5594]<span> (</span><span class='info'>Peterson, J. and A. Cooper, &ldquo;Report from the IETF Workshop on Peer-to-Peer (P2P) Infrastructure, May 28, 2008,&rdquo; July&nbsp;2009.</span><span>)</span></a>, hosted by the Massachusetts Institute of Technology (MIT) in Cambridge, MA, USA.
</p>
<p>In order to participate in this workshop, interested attendees were asked to submit a paper to a technical review team, which Comcast did on May 9, 2008, in the <a class='info' href='#Comcast P2Pi Position Paper'>[Comcast P2Pi Position Paper]<span> (</span><span class='info'>Livingood, J. and R. Woundy, &ldquo;Comcast's IETF P2P Infrastructure Workshop Position Paper,&rdquo; May&nbsp;2008.</span><span>)</span></a>. Comcast subsequently attended and participated in this valuable workshop. During the workshop, Comcast outlined the high-level design for a new congestion management system <a class='info' href='#Comcast IETF P2P Infrastructure Workshop Presentation'>[Comcast IETF P2P Infrastructure Workshop Presentation]<span> (</span><span class='info'>Livingood, J. and R. Woundy, &ldquo;Comcast's IETF P2P Infrastructure Workshop Presentation on May 28, 2008,&rdquo; May&nbsp;2008.</span><span>)</span></a> and solicited comments and other feedback from attendees and other members of the Internet community (presentations were also posted to the IETF's P2Pi mailing list).  The congestion management system outlined in that May 2008 workshop was later tested in trial markets and is in essence what was then deployed by Comcast later in 2008.
</p>
<p>Following an August 2008 FCC document <a class='info' href='#FCC Memorandum and Opinion - August 2008'>[FCC Memorandum and Opinion &#8209; August 2008]<span> (</span><span class='info'>Martin, K., Copps, M., Adelstein, J., Tate, D., and R. McDowell, &ldquo;FCC Memorandum and Opinion Regarding Reasonable Network Management,&rdquo; August&nbsp;2008.</span><span>)</span></a> regarding how Comcast managed congestion on its High-Speed Internet ("HSI") network, Comcast disclosed to the FCC <a class='info' href='#FCC Network Management Response - September 2008'>[FCC Network Management Response &#8209; September 2008]<span> (</span><span class='info'>Zachem, K., &ldquo;Letter to the FCC Regarding Comcast's Network Management Practices,&rdquo; September&nbsp;2008.</span><span>)</span></a> and the public additional technical details of the congestion management system that it intended to and did implement by the end of 2008 <a class='info' href='#FCC Congestion Management Deployment Completion Letter - January 2009'>[FCC Congestion Management Deployment Completion Letter &#8209; January 2009]<span> (</span><span class='info'>Zachem, K., &ldquo;Letter to the FCC Advising of Successful Deployment of Comcast's New Congestion Management System,&rdquo; January&nbsp;2009.</span><span>)</span></a>, including the thresholds involved in this new system.  While the description of how this system is deployed in the Comcast network is necessarily specific to the various technologies and designs specific to that network, a similar system could be deployed on virtually any large scale ISP network or other IP network.
</p>
<a name="summary"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Summary</h3>

<p>Comcast's HSI network has elements which are shared across many subscribers.  This means that Comcast's HSI customers share upstream and downstream bandwidth with their neighbors.  Although the available bandwidth is substantial, so, too, is the demand.  Thus, when a relatively small number of customers in a neighborhood place disproportionate demands on network resources, this can cause congestion that degrades their neighbors' Internet experience.   The goal of Comcast's new congestion management system is to enable all users of our network resources to access a "fair share" of that bandwidth, in the interest of ensuring a high-quality online experience for all of Comcast's HSI customers.
</p>
<p>Importantly, the new approach is protocol-agnostic; that is, it does not manage congestion by focusing on the use of the specific protocols that place a disproportionate burden on network resources, or any other protocols.  Rather, the new approach focuses on managing the traffic of those individuals who are using the most bandwidth at times when network congestion threatens to degrade subscribers' broadband experience and who are contributing disproportionately to such congestion at those points in time.
</p>
<p>Specific details about these practices, including relevant threshold information, the type of equipment used, and other particulars, are discussed at some length later in this document.  At the outset, however, we present a very high-level, simplified overview of how these practices work.  Despite all the detail provided further below, the fundamentals of this approach can be summarized succinctly:
				
					</p>
<ol class="text">
<li>Software installed in the Comcast network continuously examines aggregate traffic usage data for individual segments of Comcast's HSI network.  If overall upstream or downstream usage on a particular segment of Comcast's HSI network reaches a pre-determined level, the software moves on to step two.
</li>
<li>At step two, the software examines bandwidth usage data for subscribers in the affected network segment to determine which subscribers are using a disproportionate share of the bandwidth.  If the software determines that a particular subscriber or subscribers have been the source of high volumes of network traffic during a recent period of minutes, traffic originating from that subscriber or those subscribers temporarily will be assigned a lower priority status.
</li>
<li>During the time that a subscriber's traffic is assigned the lower priority status, their packets will not be delayed or dropped so long as the network segment is not actually congested.  If, however, the network segment becomes congested, their packets could be intermittently delayed or dropped.
</li>
<li>The subscriber's traffic returns to normal priority status once his or her bandwidth usage drops below a set threshold over a particular time interval.
</li>
</ol><p>
				
</p>
<p>Comcast undertook considerable effort, over the course of many months, to formulate our plans for this congestion management approach, adjusting them, and subjecting them to real-world trials.  Market trials were conducted in Chambersburg, PA; Warrenton, VA; Lake City, FL; East Orange, FL; and Colorado Springs, CO, between June and September, 2008.  This enabled us to validate the utility of the general approach and collect substantial trial data to test multiple variations and alternative formulations.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Relationship Between Managing Congestion and Adding Capacity</h3>

<p>Many people have questioned whether congestion should ever exist at all, if an ISP was adding sufficient capacity. There is certainly a relationship between capacity and congestion. But there are two types of congestion that generally present themselves in a network.  The first general type of congestion is regularly occurring and is the result of gradually increasing traffic levels up to a point where typical usage peaks cause congestion on a regular basis, and the other which is unpredictable. Comcast, like many ISPs, has a set capacity management process by which capacity additions are automatically triggered based on certain usage trends, which is geared towards bringing additional capacity to the network prior to the onset of regularly occurring congestion. As such, capacity is added when needed and before it presents noticeable effects. This process is in place since capacity additions are not instantaneous and in many cases require significant physical work.
</p>
<p>The second general type of congestion is unpredictable congestion, which can occur for a wide range of reasons. One example may be due to current events, where users may be all rushing to access specific content at the exact same time, and where the systems serving that content may not be able to keep up with demand. Another example may be due to a localized disaster, where some network paths have been destroyed or otherwise impaired, and where many users are attempting to communicate with one another at traffic levels significantly above normal.
</p>
<p>Thus in both cases, even with continuous upgrades and constant investment in additional capacity, the fact remains that network capacity is not unlimited. A congestion management system, absent superior protocol-based solutions which do not currently exist, can therefore help manage the effects of congestion on users, improving their Internet experience.
</p>
<a name="implentation-and-config"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Implementation and Configuration</h3>

<p>It is important to note that the implementation details below and the overall design of the system are matched to traffic patterns that exist on the Internet today and which the authors believe will exist in the near future.  While the authors desired to make the system highly adaptable and a good long-term network investment, significant changes in such traffic patterns may necessitate a change in the configuration of the system or, in extreme cases, a different type of system altogether.
</p>
<p>Based upon the design of the network and traffic patterns observed, the most likely place for congestion to occur in cable networks is across the Hybrid Fiber Coax (access, or last mile) network.  As a result, the congestion management system measures the traffic conditions as observed by each CMTS, and applies any policy actions to traffic on a specific interface of a CMTS (rather than some other, more distant segment of the network).
</p>
<p>To understand exactly how these new congestion management practices work, it is helpful to have a general understanding of how Comcast's HSI network is designed.  Comcast's HSI network is what is commonly referred to as a hybrid fiber-coax network, with coaxial cable connecting each subscriber's cable modem to an Optical Node, and fiber optic cables connecting the Optical Node, through distribution hubs, to the Cable Modem Termination System (CMTS), which is also known as a "data node".   The CMTSes are then connected to higher-level routers, which in turn are connected to Comcast's Internet backbone facilities.  Today, Comcast has over 3,200 CMTSes deployed throughout our network, serving over 15 million HSI subscribers.
</p>
<p>Each CMTS has multiple "ports" that handle traffic coming into and leaving the CMTS.  In particular, each cable modem deployed on the Comcast HSI network is connected to the CMTS through the ports on the CMTS.  These ports can be either "downstream" ports or "upstream" ports, depending on whether they send information to cable modems (downstream) or receive information from cable modems (upstream) attached to the port.  (Note that the term "port" as used here generally contemplates single channels on a CMTS, but these statements will apply to virtual channels, also known as "bonded groups", in a DOCSIS 3.0 environment.)   Even without channel bonding, multiple channels are usually configured to come out of each physical port. Said another way, there is generally a mapping of multiple channels to each physical port.
</p>
<p>Currently, on average, approximately 275 cable modems share the same downstream port and about 100 cable modems share the same upstream port, however this is constantly changing (both numbers generally become smaller over time, based on current DOCSIS technology).  Both types of ports can experience congestion that could degrade the broadband experience of our subscribers and, unlike with the previous congestion management practices, both upstream and downstream traffic are subject to management in this new congestion management system.
</p>
<p>Based upon the design of the network and traffic patterns observed, the most likely place for congestion to occur is on these CMTS ports.  As a result, the congestion management system measures the traffic conditions of CMTS ports, and applies any policy actions to traffic on those ports (rather than some other, more distant segment of the network).
</p>
<p>To implement Comcast's new protocol-agnostic congestion management practices, Comcast purchased new hardware and software that was deployed near the Regional Network Routers ("RNRs") that are further upstream in Comcast's network.  This new hardware consists of Internet Protocol Detail Record ("IPDR") servers, Congestion Management servers, and PacketCable Multimedia ("PCMM") servers.  Further details about each of these pieces of equipment can be found below, in <a class='info' href='#gear-and-code'>Section&nbsp;7.4<span> (</span><span class='info'>Equipment/Software Used and Location</span><span>)</span></a>.  It is important to note here, however, that even though the physical location of these servers is at the RNR, the servers communicate with -- and manage individually -- multiple ports on multiple CMTSes to effectuate the practices described in this document.  That is to say, bandwidth usage on one CMTS port will have no effect on whether the congestion management practices described herein are applied to a subscriber on a different CMTS port.
</p>
<p><a class='info' href='#high-level-design'>Figure&nbsp;1</a> provides a simplified graphical depiction of the network architecture just described:
</p><br /><hr class="insert" />
<a name="high-level-design"></a>

<p>Figure 1: Simplified Network Diagram Showing High-Level Comcast Network and Servers Relevant to Congestion Management
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                           -------------------------
                          /                         \
                         | Comcast Internet Backbone |
                          \                       ----
+------------+             --------------------/        \
| Congestion |                                /          \
| Management |&lt;+++GigE++++             +----&gt;|  Internet |
|   Server   |           +             |     |  Backbone |
+------------+           +             |      \ Router  /
                         +           Fiber     \       /
+------------+           +             |         -----
|    QoS     |           +             |
|   Server   |&lt;+++GigE++++             \/
|            |           +           -----
+------------+           +         /       \
                         +        /         \
+------------+           +       |  Regional |
| Statistics |           +++++++&gt;|  Network  |
| Collection |&lt;+++GigE++++       |   Router  |
|   Server   |                    \         /
+------------+     +---Fiber------&gt;\       /&lt;------Fiber----+
                   |                 -----                  |
                   \/                                       \/
                 -----                                     -----
               /       \                                 /       \
              /  Local  \                               /  Local  \
             |   Market  |                             |   Market  |
              \  Router /                               \  Router /
    +---------&gt;\       /&lt;------------+                   \       /
    |            -----               |                    ------
    |             /\                 |                       /\
  Fiber           |                 Fiber                    |
    |           Fiber                |                      Fiber
    |             |                  |                       |
    \/            \/                 \/                      \/
 /------\      /------\           /------\                /------\
|  CMTS  |    |  CMTS  |         |  CMTS  |              |  CMTS  |
 \------/      \------/           \------/                \------/
    /\            /\                 /\                      /\
    |             |                  |                       |
   Fiber         Fiber              Fiber                   Fiber
    |             |                  |                       |
    \/            \/                 \/                      \/
+---------+   +---------+       +---------+             +---------+
| Optical |   | Optical |       | Optical |             | Optical |
|  Node   |   |  Node   |       |  Node   |             |  Node   |
+---------+   +---------+       +---------+             +---------+
    /\          /\   /\                /\                /\     /\
    ||          ||   ||______          ||           _____||     ||
   Coax        Coax  |__Coax|         Coax         |Coax__|    Coax
    ||          ||         ||          ||          ||           ||
    \/          \/         \/          \/          \/           \/
+=======+   +=======+   +=======+   +=======+   +=======+   +=======+
= Cable =   = Cable =   = Cable =   = Cable =   = Cable =   = Cable =
= Modem =   = Modem =   = Modem =   = Modem =   = Modem =   = Modem =
+=======+   +=======+   +=======+   +=======+   +=======+   +=======+

================================================================
+ Note: This diagram is a simplification of the actual network +
+     and servers, which in actuality includes significant     +
+  redundancy and other details too complex to represent here. +
================================================================
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Each Comcast HSI subscriber's cable modem has a "bootfile", which is essentially a configuration file that contains certain pieces of information about the subscriber's service to ensure that the service functions properly. (Note: No personal information is included in the bootfile; it only includes information about the service that the subscriber has purchased.)  For example, the bootfile contains information about the maximum speed (what we refer to in this document as the "provisioned bandwidth") that a particular modem can achieve based on the tier (personal/residential, commercial, etc.) the customer has purchased.  Bootfiles are generally reset from time to time to account for changes in the network and other updates, and this is usually done through a command sent from the network and without the subscriber noticing.  In preparation for the transition to this new congestion management system, Comcast sent new bootfiles to our HSI customers' cable modems that created two Quality of Service ("QoS") levels for Internet traffic going to and from the cable modem:  (1) "Priority Best Effort" traffic ("PBE"); and (2) "Best Effort" traffic ("BE").  As with previous changes to cable modem bootfiles, the replacement of the old bootfile with the new bootfile requires no active participation by Comcast customers.
</p>
<p>Thereafter, all traffic going to or coming from cable modems on the Comcast HSI network is designated as either PBE or BE.  PBE is the default status for all Internet traffic coming from or going to a particular cable modem.  Traffic is designated BE for a particular cable modem only when both of two conditions are met:					
						</p>
<ul class="text">
<li>First, the usage level of a particular upstream or downstream port of a CMTS, as measured over a particular period of time, must be nearing the point where congestion could degrade users' experience.  We refer to this as the "Near Congestion State" and, based on the technical trials we have conducted (further validated in our full deployment), we have established a threshold, described in more detail below, for when a particular CMTS port enters that state.
</li>
<li>Second, a particular subscriber must be making an extended, high contribution to the bandwidth usage on the particular port, relative to the service tier they purchased, as measured over a particular period of time.  We refer to this as the "Extended High Consumption State" and, based on the technical trials we have conducted (further validated in our full deployment), we have established a threshold, described in more detail below, for when a particular user enters that state.
</li>
</ul><p>
					When, and only when, both conditions are met, a user's upstream or downstream traffic (depending on which type of port is in the Near Congestion State) is designated as BE.  Then, to the extent that actual congestion occurs, any delay resulting from the congestion will affect BE traffic before it affects PBE traffic.
</p>
<p>We now explain the foregoing in greater detail in the following sections.
</p>
<a name="near-cong-threshold"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Thresholds For Determining When a CMTS Port Is in a Near Congestion State</h3>

<p>For a CMTS port to enter the Near Congestion State, traffic flowing to or from that CMTS port must exceed a specified level (the "Port Utilization Threshold") for a specific period of time (the "Port Utilization Duration").  The Port Utilization Threshold on a CMTS port is measured as a percentage of the total aggregate upstream or downstream bandwidth for the particular port during the relevant timeframe.  The Port Utilization Duration on the CMTS is measured in minutes.
</p>
<p>Values for each of the thresholds which are used as part of this congestion management technique have been tentatively established after an extensive process of lab tests, simulations, technical trials, vendor evaluations, customer feedback, and a third-party consulting analysis.  In the same way that specific anti-spam or other network management practices are adjusted to address new issues that arise, it is a near certainty that these values will change over time, as Comcast gathers more data and performs additional analysis resulting from wide-scale use of the new technique.  Moreover, as with any large network or software system, software bugs and/or unexpected errors may arise, requiring software patches or other corrective actions.  As always, Comcast's decisions on these matters are driven by the marketplace imperative that we deliver the best possible experience to our HSI subscribers.
</p>
<p>Given our experience as described above, we determined that a starting point for the upstream Port Utilization Threshold should be 70 percent and the downstream Port Utilization Threshold should be 80 percent.  For the Port Utilization Duration, we determined that the starting point should be approximately 15 minutes (although some technical limitations in some newer CMTSes deployed on Comcast's network may make this time period vary slightly).  Thus, over any 15-minute period, if an average of more than 70 percent of a port's upstream bandwidth capacity or more than 80 percent of a port's downstream bandwidth capacity is utilized, that port is determined to be in a Near Congestion State.
</p>
<p>Based on the trials conducted and operational experience to date, a typical CMTS port on our HSI network is in a Near Congestion State only for relatively small portions of the day, if at all, though there is no way to forecast what will be the busiest time on a particular port on a particular day.  Moreover, the trial data and operational experience indicate that, even when a particular port is in a Near Congestion State, the instances where the network actually becomes congested during the Port Utilization Duration are few, and managed users whose packets may be intermittently delayed or dropped during those congested periods perceive little, if any, effect, as discussed below.
</p>
<a name="user-threshold"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Thresholds For Determining When a User Is in an Extended High Consumption State and for Release from that Classification</h3>

<p>Once a particular CMTS port is in a Near Congestion State, the software examines whether any cable modems are consuming bandwidth disproportionately. (Note: Although each cable modem is typically assigned to a particular household, the software does not and cannot actually identify individual users, the number of users sharing a cable modem, or analyze particular users' traffic.)  For purposes of this document, we use "cable modem", "user", and "subscriber" interchangeably to mean a subscriber account or user account and not an individual person.   For a user to enter an Extended High Consumption State, he or she must consume greater than a certain percentage of his or her provisioned upstream or downstream bandwidth (the "User Consumption Threshold") for a specific length of time (the "User Consumption Duration").  The User Consumption Threshold is measured as a user's consumption of a particular percentage of his or her total provisioned upstream or downstream bandwidth.  That bandwidth is the maximum speed that a particular modem can achieve based on the tier (personal/residential, commercial, etc.) the customer has purchased. For example, if a user buys a service with speeds of 50 Mbps downstream and 10 Mbps upstream, then his or her provisioned downstream speed is 50 Mbps and provisioned upstream speed is 10 Mbps. It is also important to note that because the User Consumption Threshold is a percentage of provisioned bandwidth for a particular user account, and not a static value, users of higher speed tiers have correspondingly higher User Consumption Thresholds.   Lastly, the User Consumption Duration is measured in minutes.
</p>
<p>Following lab tests, simulations, technical trials, customer feedback, vendor evaluations, and an independent third-party consulting analysis, we have determined that the appropriate starting point for the User Consumption Threshold is 70 percent of a subscriber's provisioned upstream or downstream bandwidth, and that the appropriate starting point for the User Consumption Duration is 15 minutes (this has been further validated in our full deployment).  That is, when a subscriber uses an average of 70 percent or more of his or her provisioned upstream or downstream bandwidth over a particular 15-minute period, that user is then in an Extended High Consumption State. Therefore, this is a consumption-based threshold and not a peak-speed-based threshold.  Thus, the Extended High Consumption State is not tied to whether a user has bursted once or more above this 70% threshold for a brief moment.  Instead, it is consumption-based, meaning that a certain bitrate must be exceeded over at least the entire User Consumption Duration.
</p>
<p>The User Consumption Thresholds have been set sufficiently high that using the HSI connection for VoIP, gaming, web surfing, or most streaming video cannot alone cause subscribers to our standard-level HSI service to exceed the User Consumption Threshold.  For example, while one of Comcast's common HSI service tiers has a provisioned downstream bandwidth of 22 Mbps today, streaming video (even some HD video) from Hulu uses less than 2.5 Mbps, a Vonage or Skype VoIP call uses less than 131 Kbps, and streaming music uses less than 128 kbps (in this example, 70 percent of 22 Mbps is 15.4 Mbps).   As noted above, these values are subject to change as necessary in the same way that specific anti-spam or other network management practices are adjusted to address new issues that arise, or should unexpected software bugs or other problems arise.
</p>
<p>Based on data collected from the trial markets where the new congestion management practices were tested (further validated in our full deployment), on average less than one-third of one percent of subscribers have had their traffic priority status changed to the BE state on any given day.  For example, in Colorado Springs, CO, the largest test market, on any given day in August 2008, an average of 22 users out of 6,016 total subscribers in the trial had their traffic priority status changed to BE at some point during the day.
</p>
<p>A user's traffic is released from a BE state when the user's bandwidth consumption drops below 50 percent of his or her provisioned upstream or downstream bandwidth for a period of approximately 15 minutes.  These release criteria are intended to minimize (and hopefully prevent) user QoS oscillation (hysteresis), i.e., a situation in which a particular user could cycle repeatedly between BE and PBE. Thus, without this lower release criteria, we were concerned that certain users would oscillate between BE and PBE states for an extended period, without clear benefit to the system and other users, and placing an unnecessary signaling burden on the system. NetForecast, Inc., an independent consultant retained to provide analysis and recommendations regarding Comcast's trials and related congestion management work, suggested this approach, which has worked well in our trials, lab testing, and subsequent national deployment.
</p>
<p>Simply put, there are four steps to determining whether the traffic associated with a particular cable modem is designated as PBE or BE:
							</p>
<ol class="text">
<li>Determine if the CMTS port is in a Near Congestion State.
</li>
<li>If yes, determine whether any users are in an Extended High Consumption State.
</li>
<li>If yes, change those users' traffic to BE from PBE.  If the answer at either step one or step two is no, no action is taken.
</li>
<li>If a user's traffic has been designated BE, check user consumption at next interval.  If user consumption has declined below predetermined threshold, reassign the user's traffic as PBE.  If not, recheck at next interval.
</li>
</ol><p>
						
</p>
<p>In cases where a CMTS regularly enters a Near Congestion State, and where congestion subsequently does occur, but where no users match the criteria to be classified in an Extended High Consumption State, this may indicate the the congestion observed is regularly occurring, rather than unpredictable congestion.  As such, this may be an additional data point in favor of considering whether and when to add capacity.
</p>
<p><a class='info' href='#us-decision-flowchart'>Figure&nbsp;2</a> graphically depicts how this congestion management process works, using an example of a situation where upstream port utilization may be reaching a Near Congestion State (the same diagram, with different values in the appropriate places, could be used to depict the management process for downstream ports, as well):
</p><br /><hr class="insert" />
<a name="us-decision-flowchart"></a>

<p>Figure 2: Upstream Congestion Management Decision Flowchart
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                      /\
+------------+       /  \            +---------+            +---------+
|   Start    |     /      \          |         |           /         /
| Congestion |    /        \         |         |          /         /
| Management +--&gt;+ Question +--YES--&gt;| Result  |--THEN--&gt;/ ACTION  /
| Process    |    \   #1   /         |   #1    |        /   #1    /
|            |     \      /          |         |       /         /
+------------+       \  /            +---------+      +---------+
                      \/                                     |
                      |                                     THEN
                      NO                                     |
                      |                                      \/
                      \/                                     /\
                 +---------+                                /  \
                 |         |                              /      \
                 |         |                             /        \
                 | Result  |&lt;-------------NO------------+ Question +
                 |   #2    |                             \   #2   /
                 |         |                              \      /
                 +---------+                                \  /
                                                             \/
                                                             |
                                                            YES
                                                             |
                         /\                                 \/
 +---------+            /  \                            +---------+
 |         |          /      \                          |         |
 |         |         /        \        THEN, AT         |         |
 | Result  |&lt;--YES--+ Question + &lt;---NEXT ANALYSIS------+ Result  |
 |   #4    |         \   #3   /         POINT        /\ |   #3    |
 |         |          \      /                       |  |         |
 +---------+            \  /                         |  +---------+
                         \/                          |
                         |                           |
                         +------------NO-------------+
KEY TO FIGURES ABOVE:
 Question #1: Is the CMTS Upstream Port Utilization at an average
              of OVER 70% for OVER 15 minutes?
 Result #1: CMTS marked in a Near Congestion State, indicating
            congestion MAY occur soon.
 Action #1: Search most recent analysis timeframe (approx. 15 mins.)
            of IPDR usage data.
 Question #2: Are any users consuming an average of OVER 70% of
              provisioned upstream bandwidth for OVER 15 minutes?
 Result #2: No action taken.
 Result #3: Change user's upstream traffic from Priority Best Effort
            (PBE) to Best Effort (BE).
 Question #3: Is the user in Best Effort (BE) consuming an average
              of LESS THAN 50% of provisioned upstream bandwidth
              over a period of 15 minutes?
 Result #4: Change user's upstream traffic back to Priority Best
            Effort (PBE) from Best Effort (BE).
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="be-qos-effects"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Effect of BE Quality of Service on Users&apos Broadband Experience</h3>

<p>When a CMTS port is in a Near Congestion State and a cable modem connected to that port is in an Extended High Consumption State, that cable modem's traffic is designated as BE.  Depending upon the level of utilization on the CMTS port, this designation may or may not result in the user's traffic being delayed or, in extreme cases, dropped before PBE traffic is dropped. This is because of the way that the CMTS handles traffic.  Specifically, CMTS ports have what is commonly called a "scheduler" that puts all the packets coming from or going to cable modems on that particular port in a queue and then handles them in turn.  A certain number of packets can be processed by the scheduler in any given moment; for each time slot, PBE traffic is given priority access to the available capacity, and BE traffic is processed on a space-available basis.
</p>
<p>A rough analogy would be to busses that empty and fill up at incredibly fast speeds.  As empty busses arrive at the figurative "bus stop" -- every two milliseconds in this case -- they fill up with as many packets as are waiting for "seats" on the bus, to the limits of the bus' capacity.  During non-congested periods, the bus will usually have several empty seats, but, during congested periods, the bus will fill up and packets will have to wait for the next bus.  It is in the congested periods that BE packets will be affected.  If there is no congestion, packets from a user in a BE state should have little trouble getting on the bus when they arrive at the bus stop.  If, on the other hand, there is congestion in a particular instance, the bus may become filled by packets in a PBE state before any BE packets can get on.  In that situation, the BE packets would have to wait for the next bus that is not filled by PBE packets.  In reality, this all takes place in two-millisecond increments, so even if the packets miss 50 "busses", the delay will only be about one-tenth of a second.
</p>
<p>During times of actual network congestion, when packets from BE traffic might be intermittently delayed, there are a variety of effects that could be experienced by a user whose traffic is delayed, depending upon what applications he or she is using.  Typically, a user whose traffic is in a BE state during actual congestion may find that a webpage loads sluggishly, a peer-to-peer upload takes somewhat longer to complete, or a VoIP call sounds choppy.  Of course, the same thing could happen to the customers on a port that is congested in the absence of any congestion management; the difference here is that the effects of any such delays are shifted toward those who have been placing the greatest burden on the network, instead of being distributed randomly among the users of that port without regard to their consumption levels. As a matter of fact, our studies concluded that the experience of the PBE subscribers improves when this congestion management system is enabled.  This conclusion is based on network measurements, such as latency.
</p>
<p>NetForecast explored the potential risk of a worst-case scenario for users whose traffic is in a BE state: the possibility of "bandwidth starvation" in the theoretical case where 100 percent of the CMTS bandwidth is taken up by PBE traffic for an extended period of time. In theory, such a condition could mean that a given user whose traffic is designated BE would be unable to effectuate an upload or download (as noted above, both are managed separately) for some period of time.  However, when these management techniques were tested, first in company testbeds and then in our real-world trials conducted in the five markets (further validated in our full deployment), such a theoretical condition did not occur.  In addition, our experience with the system as fully deployed in our production network demonstrates that these management practices have very modest real-world impacts.  In addition, Comcast did not receive a single customer complaint in any of the trial markets that could be traced to this congestion management system, despite having broadly publicized these trials. In our subsequent national deployment into our production network, we still have yet to find a specific complaint that can be traced back to the effect of this congestion management system.
</p>
<p>Comcast continues to monitor how user traffic is affected by these new congestion management techniques and will make the adjustments necessary to ensure that all Comcast HSI customers have a high-quality Internet experience.
</p>
<a name="gear-and-code"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.4"></a><h3>7.4.&nbsp;
Equipment/Software Used and Location</h3>

<p>The above-mentioned functions are carried out using three different types of application servers, supplied by three different vendors.  As mentioned above, these servers are installed near Comcast's regional network routers.  The exact locations of these servers is not particularly relevant to this document, as this does not change the fact that they manage individual CMTS ports.
</p>
<p>The first application server is an IPDR server, which collects relevant cable modem volume usage information from the CMTS, such as how many aggregate upstream or downstream bytes a subscriber uses over a particular period of time. IPDR has been adopted as a standard by many industry organizations and initiatives, such as CableLabs, ATIS, ITU, and 3GPP, among others. The IPDR software deployed was developed by Active Broadband Networks, and is noted as the Statistics Collection Server in <a class='info' href='#system-flowchart'>Figure&nbsp;3</a>.
</p>
<p>The second application server is the Congestion Management server, which uses Simple Network Management Protocol ("SNMP") <a class='info' href='#RFC3410'>[RFC3410]<span> (</span><span class='info'>Case, J., Mundy, R., Partain, D., and B. Stewart, &ldquo;Introduction and Applicability Statements for Internet-Standard Management Framework,&rdquo; December&nbsp;2002.</span><span>)</span></a> to measure CMTS port utilization and detect when a port is in a Near Congestion State.  When this happens, the Congestion Management server then queries the relevant IPDR data for a list of cable modems meeting the criteria set forth above for being in an Extended High Consumption State. The Congestion Management Server software deployed was developed by Sandvine.
</p>
<p>If one or more users meet the criteria to be managed, then the Congestion Management server notifies a third application server, the PCMM application server, as to which users have been in an Extended High Consumption State and whose traffic should be treated as BE.  The PCMM servers are responsible for signaling a given CMTS to set the traffic for specific cable modems with a BE QoS, and for tracking and managing the state of such CMTS actions.  If no users meet the criteria to be managed, no users will have their traffic managed. The PCMM software deployed was developed by Camiant, and is noted as the QoS Server in <a class='info' href='#system-flowchart'>Figure&nbsp;3</a>.
</p>
<p><a class='info' href='#system-flowchart'>Figure&nbsp;3</a> graphically depicts the high-level management flows among the congestion management components on Comcast's network, as described above:
</p><br /><hr class="insert" />
<a name="system-flowchart"></a>

<p>Figure 3: Simplified Diagram Showing High-Level Management Flows Relevant to the System
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
+---------------+                            +---------------+
|  Congestion   |     Instruct QoS Server    |      QoS      |
|  Management   |******to Change QoS for****&gt;|     Server    |
|    Server     |         a Device           |               |
+----+---+------+                            +-------+-------+
     /\  /\                                          *
     |   |    Relay Selected                         *
     X   +---Statistics: Bytes---+               QoS Action:
     |       Up/Down by Device   |             Change from PBE
     X                  +-------+-------+     to BE, or from
     |                  |  Statistics   |       BE to PBE
     X                  |  Collection   |            *
 Periodic SNMP          |    Server     |            *
  Requests to           +---------------+            *
Check CMTS Port                 /\                   *
 Utilization                    |                    *
   Levels                 Statistics Sent            *
     |                 Periodically From CMTS        *
     X                          |                    *
     |              +-----------+-----------+        *
     +-X-X-X-X-X-X-&gt;|   CMTS in Headend     |&lt;********
                    +-----------------------+
                       H   /\        /\   H
                       H Internet Traffic H
                       H  to/from User    H
                       H  \/         \/   H
                    /+---------------------+\
                   / | User's  +---------+  |\
                  /  | Home    |  Cable  |  | \
                     |         |  Modem  |  |
============         |         +---------+  |
= Notes:   =         +----------------------+
=          ======================================================
= 1-Statistics Collection Servers use IP Detail Records (IPDR). =
= 2-QoS Servers use PacketCable Multimedia (PCMM)               =
=   to set QoS gates on the CMTS.                               =
= 3-This figure is a simplificiation of the actual network and  =
=   servers, which included redundancies and other complexities =
=   not necessary to depict the functional design.              =
=================================================================
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="conclusion"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Conclusion</h3>

<p>Comcast started design and development of this new protocol-agnostic congestion management system in March 2008.  Comcast shared the design with the IETF and others in the Internet community, as well as with an independent consultant, incorporating feedback we received into the final design.  Following lab testing, the system was tested in Comcast's production network in trial markets between June and September 2008. Comcast's production network transition to this new protocol-agnostic congestion management system began in October 2008 and was completed on December 31, 2008.
</p>
<p>As described herein, the new approach does not manage congestion by focusing on managing the use of specific protocols.  Nor does this approach use TCP "reset packets" <a class='info' href='#RFC3360'>[RFC3360]<span> (</span><span class='info'>Floyd, S., &ldquo;Inappropriate TCP Resets Considered Harmful,&rdquo; August&nbsp;2002.</span><span>)</span></a>.  Rather, the system acts such that (1) during periods when a CMTS port is in a Near Congestion State, (2) it identifies the subscribers on that port who have consumed a disproportionate amount of bandwidth over the preceding 15 minutes, (3) it lowers the priority status of those subscribers' traffic to BE status until those subscribers meet the release criteria, and (4) during periods of actual congestion, handles PBE traffic before BE traffic.  Comcast's trials and subsequent national deployment indicate that this new congestion management system ensures a quality online experience for all of Comcast's HSI customers.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Exceptional Network Utilization Considerations</h3>

<p>This system was developed to cope with somewhat "normal" occurrences of congestion that could occur on virtually any IP network.  It should also be noted, however, that such a system could also prove particularly useful in the case of "exceptional network utilization" events which existing network usage models do not or cannot accurately predict. Some network operators refer to these exceptional events as 'surges' in utilization, similar to sudden surges in demand in electrical power grids, with which many people may be familiar.
</p>
<p>For example, in the case of a severe global pandemic, it may be expected that large swaths of the population may need to work remotely, via their Internet connection.  In such a case, a largely unprecedented level of utilization may occur.  In such cases, it may be helpful to have a flexible congestion management system that could adapt to this situation and help allocate network resources while additional capacity is being brought online or while a temporary condition persists.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Limitations of This Congestion Managament System</h3>

<p>The main limitations of the system include:
</p>
<p>
        			</p>
<ul class="text">
<li>The system is not an end-to-end congestion management system, nor does it enable one.
</li>
<li>The system does not signal the presence of congestion to user applications or to all devices on the network path.
</li>
<li>The system does not explicitly enable additional user and/or application responses to congestion.
</li>
<li>The system does not enable DDoS mitigation or other capabilities.
</li>
</ul><p>
        		
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Low Extra Delay Background Transport and Other Possibilities</h3>

<p>There are several new IETF working group efforts which are focused on the question of congestion and its effects, avoiding congestion, managing congestion, and communicating congestion information.  This includes the Congestion Exposure (CONEX) working group, the Application Layer Transport Optimization (ALTO) working group, and the Low Extra Delay Background Transport (LEDBAT) working group. Should one or more of these working groups be successful in producing useful work, it is possible that the design or configuration of the system documented here may need to change. For example, this congestion management system does not currently have a way take into accounts differing classes of data transfer, such as that which LEDBAT may specify, which may better yield to other traffic that existing transport protocols. In addition, CONEX may specify methods for this or other systems to signal congestion state or expected congestion to other parts of the network, and/or hosts on either end of a particular network flow.  Furthermore, it is conceivable that the result of current or future IETF work could obviate the need for such a congestion management system entirely.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Security Considerations</h3>

<p>It is important that an ISP secure access to the Congestion Management Servers and the QoS Servers, as well as QoS signaling to the CMTSes, so that unauthorized users and/or hosts cannot make unauthorized changes to QoS settings in the network. It is also important to secure access to the Statistics Collection Server since this contains ISP-proprietary traffic data.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
IANA Considerations</h3>

<p>There are no IANA considerations in this document.
</p>
<p>NOTE TO RFC EDITOR: PLEASE REMOVE THIS NULL SECTION PRIOR TO PUBLICATION.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14"></a><h3>14.&nbsp;
Acknowledgements</h3>

<p>The authors wish to acknowledge the hard work of the many people who helped to develop and/or review this document, as well as the people who helped deploy the system in such a short period of time.
</p>
<p>The authors also wish to acknowledge the following individuals for performing a detailed review of this document and/or providing comments and feedback that helped to improve and evolve this document:
</p>
<p>- Kris Bransom
</p>
<p>- Bob Briscoe
</p>
<p>- Matt Mathis
</p>
<p>- Stanislav Shalunov
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.15"></a><h3>15.&nbsp;
Change Log</h3>

<p>NOTE TO RFC EDITOR: PLEASE REMOVE THIS SECTION PRIOR TO PUBLICATION.
</p>
<p>
        	</p>
<ul class="text">
<li>-05 - minor edits from Jason's final proof-reading of the document
</li>
<li>-04 - various changes based on the recommendations of several IETF participants, especially Bob Briscoe (thanks, Bob!), made ASCII art shorter vertically (closing an open item), updated Mbps again (closing an open item), retained IPDR reference (closing an open item), added section on applicability to other networks (as suggested by Matt as well as Bob), completed security section, updated intro, closed ALL open issues
</li>
<li>v03 - changed FCC doc reference to a more stable ref point, closing an open item.  updated Mbps numbers to reflect current Internet speeds, closing an open item. also, closed out all editorial notes, closing an open item.  additional tweaks following homework assignments send to co-authors.
</li>
<li>v02 - lots of minor tweaks based on homework assignments that Jason handed out to co-authors, and closed out several open items
</li>
<li>v01 - closed item on the open issue list - updated references
</li>
<li>v00 - first version published
</li>
</ul><p>
        	
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.16"></a><h3>16.&nbsp;
Open Issues</h3>

<p>NOTE TO RFC EDITOR: PLEASE REMOVE THIS SECTION PRIOR TO PUBLICATION.
</p>
<p>
			</p>
<ol class="text">
<li>All open issues have been closed!
</li>
</ol><p>
			
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.17"></a><h3>17.&nbsp;
Notes for RFC Editor</h3>

<p>NOTE TO RFC EDITOR: PLEASE REMOVE THIS SECTION PRIOR TO PUBLICATION.
</p>
<p>Please try to adjust page breaks to keep various ASCII art on one page, as some may break across two pages now.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>18.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="CableLabs DOCSIS 3.0 Cable Modem to Customer Premise Equipment Interface Specification">[CableLabs DOCSIS 3.0 Cable Modem to Customer Premise Equipment Interface Specification]</a></td>
<td class="author-text">CableLabs, &ldquo;<a href="http://www.cablelabs.com/specifications/CM-SP-CMCIv3-I01-080320.pdf">Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Cable Modem to Customer Premise Equipment Interface Specification</a>,&rdquo; DOCSIS 3.0&nbsp;CM-SP-CMCIv3-I01-080320, March&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification">[CableLabs DOCSIS 3.0 MAC and Upper Layer Protocols Interface Specification]</a></td>
<td class="author-text">CableLabs, &ldquo;<a href="http://www.cablelabs.com/specifications/CM-SP-OSSIv2.0-C01-081104.pdf">Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - MAC and Upper Layer Protocols Interface Specification</a>,&rdquo; DOCSIS 3.0&nbsp;CM-SP-MULPIv3.0-I11-091002, October&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="CableLabs DOCSIS 3.0 Operations Support System Interface Specification">[CableLabs DOCSIS 3.0 Operations Support System Interface Specification]</a></td>
<td class="author-text">CableLabs, &ldquo;<a href="http://www.cablelabs.com/specifications/CM-SP-OSSIv3.0-I10-091002.pdf">Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Operations Support System Interface Specification</a>,&rdquo; DOCSIS 3.0&nbsp;CM-SP-OSSIv3.0-I10-091002, October&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="CableLabs DOCSIS 3.0 Physical Layer Specification">[CableLabs DOCSIS 3.0 Physical Layer Specification]</a></td>
<td class="author-text">CableLabs, &ldquo;<a href="http://www.cablelabs.com/specifications/CM-SP-PHYv3.0-I08-090121.pdf">Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Physical Layer Specification</a>,&rdquo; DOCSIS 3.0&nbsp;CM-SP-PHYv3.0-I08-090121, January&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="CableLabs DOCSIS 3.0 Security Specification">[CableLabs DOCSIS 3.0 Security Specification]</a></td>
<td class="author-text">CableLabs, &ldquo;<a href="http://www.cablelabs.com/specifications/CM-SP-SECv3.0-I11-091002.pdf">Data-Over-Cable Service Interface Specifications - DOCSIS 3.0 - Security Specification</a>,&rdquo; DOCSIS 3.0&nbsp;CM-SP-SECv3.0-I11-091002, March&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="CableLabs DOCSIS IPDR Support">[CableLabs DOCSIS IPDR Support]</a></td>
<td class="author-text">Yassini, R., &ldquo;<a href="http://www.cablelabs.com/specifications/CM-SP-OSSIv2.0-C01-081104.pdf">Data-Over-Cable Service Interface Specifications - DOCSIS 2.0 - Operations Support System Interface Specification</a>,&rdquo; DOCSIS 2.0&nbsp;CM-SP-OSSIv2.0-C01-081104, November&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="Comcast IETF P2P Infrastructure Workshop Presentation">[Comcast IETF P2P Infrastructure Workshop Presentation]</a></td>
<td class="author-text">Livingood, J. and R. Woundy, &ldquo;<a href="http://trac.tools.ietf.org/area/rai/trac/raw-attachment/wiki/PeerToPeerInfrastructure/02-Comcast-IETF-P2Pi.pdf">Comcast's IETF P2P Infrastructure Workshop Presentation on May 28, 2008</a>,&rdquo; FCC Filings&nbsp;Comcast Network Management Proceedings, May&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="Comcast P2Pi Position Paper">[Comcast P2Pi Position Paper]</a></td>
<td class="author-text">Livingood, J. and R. Woundy, &ldquo;<a href="http://trac.tools.ietf.org/area/rai/trac/raw-attachment/wiki/PeerToPeerInfrastructure/16%20ietf-p2pi-comcast-20080509.pdf">Comcast's IETF P2P Infrastructure Workshop Position Paper</a>,&rdquo; FCC Filings&nbsp;Comcast Network Management Proceedings, May&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="FCC Congestion Management Deployment Completion Letter - January 2009">[FCC Congestion Management Deployment Completion Letter - January 2009]</a></td>
<td class="author-text">Zachem, K., &ldquo;<a href="http://fjallfoss.fcc.gov/ecfs/document/view?id=6520192582">Letter to the FCC Advising of Successful Deployment of Comcast's New Congestion Management System</a>,&rdquo; FCC Filings&nbsp;Comcast Network Management Proceedings, January&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="FCC Memorandum and Opinion - August 2008">[FCC Memorandum and Opinion - August 2008]</a></td>
<td class="author-text">Martin, K., Copps, M., Adelstein, J., Tate, D., and R. McDowell, &ldquo;<a href="http://hraunfoss.fcc.gov/edocs_public/attachmatch/FCC-08-183A1.pdf">FCC Memorandum and Opinion Regarding Reasonable Network Management</a>,&rdquo; File No. EB-08-IH-1518&nbsp;WC Docket No. 07-52, August&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="FCC Network Management Response - September 2008">[FCC Network Management Response - September 2008]</a></td>
<td class="author-text">Zachem, K., &ldquo;<a href="http://fjallfoss.fcc.gov/ecfs/document/view?id=6520169715">Letter to the FCC Regarding Comcast's Network Management Practices</a>,&rdquo; FCC Filings&nbsp;Comcast Network Management Proceedings, September&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="IPDR Standard">[IPDR Standard]</a></td>
<td class="author-text">Cotton, S., Cockrell, B., Walls, P., and T. Givoly, &ldquo;<a href="http://www.ipdr.org/public/Service_Specifications/3.X/DOCSIS(R)3.5-A.0.pdf">Network Data Management &#8209; Usage (NDM-U) For IP-Based Services Service Specification &#8209; Cable Labs DOCSIS 2.0 SAMIS</a>,&rdquo; IPDR Service Specifications&nbsp;NDM-U, November&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="PowerBoost Specification">[PowerBoost Specification]</a></td>
<td class="author-text">Comcast Cable Communications Management LLC, &ldquo;<a href="http://customer.comcast.com/Pages/FAQListViewer.aspx?topic=Internet&folder=8b2fc392-4cde-4750-ba34-051cd5feacf0">Comcast PowerBoost Specification</a>,&rdquo; Website&nbsp;Comcast.com, June&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1633">[RFC1633]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, B.</a>, <a href="mailto:ddc@LCS.MIT.EDU">Clark, D.</a>, and <a href="mailto:Shenker@PARC.XEROX.COM">S. Shenker</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1633">Integrated Services in the Internet Architecture: an Overview</a>,&rdquo; RFC&nbsp;1633, June&nbsp;1994 (<a href="http://www.rfc-editor.org/rfc/rfc1633.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc1633.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc1633.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2475">[RFC2475]</a></td>
<td class="author-text"><a href="mailto:slblake@torrentnet.com">Blake, S.</a>, <a href="mailto:black_david@emc.com">Black, D.</a>, <a href="mailto:mark.carlson@sun.com">Carlson, M.</a>, <a href="mailto:elwynd@nortel.co.uk">Davies, E.</a>, <a href="mailto:zhwang@bell-labs.com">Wang, Z.</a>, and <a href="mailto:wweiss@lucent.com">W. Weiss</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2475">An Architecture for Differentiated Services</a>,&rdquo; RFC&nbsp;2475, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2475.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2475.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2475.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3083">[RFC3083]</a></td>
<td class="author-text">Woundy, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3083">Baseline Privacy Interface Management Information Base for DOCSIS Compliant Cable Modems and Cable Modem Termination Systems</a>,&rdquo; RFC&nbsp;3083, March&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3083.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3360">[RFC3360]</a></td>
<td class="author-text">Floyd, S., &ldquo;<a href="http://tools.ietf.org/html/rfc3360">Inappropriate TCP Resets Considered Harmful</a>,&rdquo; BCP&nbsp;60, RFC&nbsp;3360, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3360.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3410">[RFC3410]</a></td>
<td class="author-text">Case, J., Mundy, R., Partain, D., and B. Stewart, &ldquo;<a href="http://tools.ietf.org/html/rfc3410">Introduction and Applicability Statements for Internet-Standard Management Framework</a>,&rdquo; RFC&nbsp;3410, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3410.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5594">[RFC5594]</a></td>
<td class="author-text">Peterson, J. and A. Cooper, &ldquo;<a href="http://tools.ietf.org/html/rfc5594">Report from the IETF Workshop on Peer-to-Peer (P2P) Infrastructure, May 28, 2008</a>,&rdquo; RFC&nbsp;5594, July&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5594.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chris Bastian</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:chris_bastian@cable.comcast.com">chris_bastian@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tom Klieber</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1800 Bishops Gate Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mount Laurel, NJ  08054</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tom_klieber@cable.comcast.com">tom_klieber@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jason Livingood (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jason_livingood@cable.comcast.com">jason_livingood@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jim Mills</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1800 Bishops Gate Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mount Laurel, NJ  08054</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jim_mills@cable.comcast.com">jim_mills@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Richard Woundy</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">27 Industrial Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chelmsford, MA  01824</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:richard_woundy@cable.comcast.com">richard_woundy@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
</table>
</body></html>
