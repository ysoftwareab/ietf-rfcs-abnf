


Network Working Group                                         D. Orchard
Internet-Draft                                         BEA Systems, Inc.
Expires: June 9, 2005                                            R. Salz
                                              DataPower Technology, Inc.
                                                        December 9, 2004



                        The QName URN Namespace
                      draft-rsalz-qname-urn-00.txt


Status of this Memo


   This document is an Internet-Draft and is subject to all provisions
   of section 3 of RFC 3667.  By submitting this Internet-Draft, each
   author represents that any applicable patent or other IPR claims of
   which he or she is aware have been or will be disclosed, and any of
   which he or she become aware will be disclosed, in accordance with
   RFC 3668.


   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.


   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."


   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.


   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


   This Internet-Draft will expire on June 9, 2005.


Copyright Notice


   Copyright (C) The Internet Society (2004).


Abstract


   This specification defines a Uniform Resource Name namespace for XML
   namespace-qualified names, QNames.  As long as the URN is encoded in
   the same character set as the document containing the original QName,
   the Qname URN provides enough information to maintain the semantics,
   and optionally the exact syntax, of the original name.





Orchard & Salz            Expires June 9, 2005                  [Page 1]
Internet-Draft                  UUID URN                   December 2004



Table of Contents


   1.   Introduction and Motivation  . . . . . . . . . . . . . . . . . 3
   2.   Namespace Registration Template  . . . . . . . . . . . . . . . 3
   3.   Security Considerations  . . . . . . . . . . . . . . . . . . . 5
   4.   Normative References . . . . . . . . . . . . . . . . . . . . . 5
        Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . 6
        Intellectual Property and Copyright Statements . . . . . . . . 7












































Orchard & Salz            Expires June 9, 2005                  [Page 2]
Internet-Draft                  UUID URN                   December 2004



1.  Introduction and Motivation


   This specification defines a Uniform Resource Name namespace for XML
   namespace-qualified names, QNames.  As long as the URN is encoded in
   the same character set as the document containing the original QName,
   the Qname URN provides enough information to maintain the semantics,
   and optionally the exact syntax, of the original name.


   There are a variety of situations when a QName may need to be mapped
   to a URI.  For example, when exchanging (or referencing) an
   identifier for an XML element contained within a document, and the
   medium of exchange prefers URIs to QNames, such as an XML Schema
   anyURI data type.  Another scenario is for comparing the identifiers,
   which can be simpler by comparing just a string without having to
   also compare the context setting XML namespace attribute that may be
   declared arbitrarily earlier in the document.


   The XML Namespaces specification [2] does not provide a canonical
   mapping between QNames and URIs.  Any XML specification that wants to
   enable identifier exchanges must define a language specific QName to
   URI mapping.  There have emerged a variety of different algorithms
   and solutions for the mapping.  To date, there have been no
   standardized algorithms available that they can re-use, which has
   increased their efforts.  A standardized mapping, such as this,
   should provide increased productivity.


   Almost all of the algorithms for Qname to URI mappings are based upon
   concatenation of the URI and the name with variations based upon
   prefix inclusion, namespace name and name separator, etc.  These are
   typically problematic because it is difficult to recover the QName
   from the URI as the namespace name and name separator may have
   already been used in the namespace name.  Having the namespace name
   at the end of the identifier string avoids these and other problems.


2.  Namespace Registration Template


   The following paragraphs contain the URN namespace registration data,
   as defined in  [3].


   Namespace ID:
      qname
   Registration Information:
      Version number: 1
      Registration date: 2004-11-30
   Declared registrant of the namespace:
      The W3C Technical
          Architecture Group (TAG) [5],
      reachable at tag@w3.org [6].





Orchard & Salz            Expires June 9, 2005                  [Page 3]
Internet-Draft                  UUID URN                   December 2004



   Declaration of syntactic structure:
      The QName URN is structured as four colon-separated fields.  Note
      that colons within the fourth field, the URI part, are not
      significant; the entire fourth field is treated as a single opaque
      entity by this URN scheme.


      A QName URN is defined by the following ABNF [4]:


   qnameURN               = "qname" ":" prefix ":" localname ":" uri
   prefix                 = ncname / "" / "*"
   localname              = ncname
   uri                    = <any valid URI>
   ncname                 = <see production 4 of [2]>


      Here are three examples of a QName URN:


   urn:qname:xkms:Reject:http://w3.org/2002/xkms#
   urn:qname:Reject:http://w3.org/2002/xkms#
   urn:qname:*:Reject:http://w3.org/2002/xkms#


       The first correspond to the following element content QNames (the
      element name is not significant):


   <foo xmlns:xkms="http://ww.w3.org/2002/xkms#">xkms:Reject</foo>
   <foo xmlns="http://ww.w3.org/2002/xkms#">Reject</foo>


       The third QName URN example would match at least both of the XML
      QNames, as well as an inifinite number of others, since the
      namespace prefix is explicitly marked as "don't-care."
   Relevant ancillary documentation:
      [1][2]
   Identifier uniqueness considerations:
      An XML QName is semantically defined as a (namespace-uri,
      localname) pair; the namespace prefix is not significant.  For
      some applications, such as signature functions, the prefix is
      important and must not be preserved.


      The QName URN provides both a one-to-one mapping, that preserves
      the uniquess of the underlying QName, and an explicit many-to-one
      mapping, that does not preserve the uniquess when it is not
      important to do so.
   Identifier persistence considerations:
      QName URN's have the same persistance as the underlying XML QName
      from which they are derived.
   Process of identifier assignment:
      Assignment of identifiers depends on the original XML QName,
      typically deferring to the namespace URI.  Anyone with access to
      an XML QName can create an equivalent QName URN; no registration




Orchard & Salz            Expires June 9, 2005                  [Page 4]
Internet-Draft                  UUID URN                   December 2004



      is required.
   Process for identifier resolution:
      Inherited from the QName resolution rules (typically the namespace
      URI) from which the QName URN is created.
   Rules for Lexical Equivalence:
      If necessary, convert each QName URN to the same encoding.  The
      encoding of a QName URN is determined by context, and depends on
      the encoding of the document in which it appears.


      To be lexically equivalent the resultant QName URN's must be
      identical when compared byte-for-byte.  To be semantically
      equivalent, ignore the prefix field when comparing bytes.
   Conformance with URN Syntax:
      Fully conformant.
   Validation mechanism:
      Inherited from the namespace URI of the original QName.
   Scope:
      Inherited from the original QName.


3.  Security Considerations


   QName URN's provide a way to transcribe XML QName's into and out of
   URN syntax.  Any security considerations are inherited from the
   original QName.


4  Normative References


   [1]  Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E. and F.
        Yergeau, "Extensible Markup Language (XML) 1.0 (Third Edition)",
        W3C Recommendation, February 2004,
        <http://www.w3.org/TR/2004/REC-xml-20040204>.


   [2]  Bray, T., Hollander, D. and A. Layman, "Namespaces in XML", W3C
        Recommendation, January 1990,
        <http://www.w3.org/TR/1999/REC-xml-names-19990114>.


   [3]  Daigle, L., van Gulik, D., Iannella, R. and P. Faltstrom, "URN
        Namespace Definition Mechanisms", BCP 33, RFC 2611, June 1999.


   [4]  Crocker, D. and P. Overell, "Augmented BNF for Syntax
        Specifications: ABNF", RFC 2234, November 1997.


   [5]  <http://w3.org/2001/tag/>


   [6]  <mailto:tag@w3.org>







Orchard & Salz            Expires June 9, 2005                  [Page 5]
Internet-Draft                  UUID URN                   December 2004



Authors' Addresses


   David Orchard
   BEA Systems, Inc.
   625 W 22nd Ave
   Vancouver, BC  V5Z 1Z5
   Canada


   Phone: +1 778-772-8425
   EMail: dorchard@bea.com
   URI:   http://www.bea.com



   Rich Salz
   DataPower Technology, Inc.
   1 Alewife Center
   Cambridge, MA  02142
   US


   Phone: +1 617-864-0455
   EMail: rsalz@datapower.com
   URI:   http://www.datapower.com






























Orchard & Salz            Expires June 9, 2005                  [Page 6]
Internet-Draft                  UUID URN                   December 2004



Intellectual Property Statement


   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.


   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.


   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.



Disclaimer of Validity


   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.



Copyright Statement


   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.



Acknowledgment


   Funding for the RFC Editor function is currently provided by the
   Internet Society.





Orchard & Salz            Expires June 9, 2005                  [Page 7]


