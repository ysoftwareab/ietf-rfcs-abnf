<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>MPLS-TP Ring Protection</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="MPLS-TP Ring Protection">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">S. Bryant, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">N. Sprecher, Ed.</td></tr>
<tr><td class="header">Expires: April 29, 2010</td><td class="header">Y. Weingarten</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Nokia Siemens Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 26, 2009</td></tr>
</table></td></tr></table>
<h1><br />MPLS-TP Ring Protection<br />draft-weingarten-mpls-tp-ring-protection-01.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008. The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 29, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document describes mechanisms to address the requirements for protection of 
	  ring topologies for Multi-Protocol Label Switching Transport Profile (MPLS-TP) Label 
	  Switched Paths (LSP) and Pseudowires (PW) on multiple layers.  Ring topologies offer
	  the possibility of reducing the OAM overhead while providing a simplified protection
	  mechanism.  The document analyzes two basic ring protection schemes and explains how 
	  ring protection can be viewed as an application of linear protection.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Contributing Authors<br />
<a href="#anchor3">2.</a>&nbsp;
Ring Topologies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.1.</a>&nbsp;
Interconnected rings<br />
<a href="#section 3">3.</a>&nbsp;
Ring protection schemes<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.1.</a>&nbsp;
Wrapping<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.1.</a>&nbsp;
Optimization of wrapping<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.2.</a>&nbsp;
Steering<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.2.1.</a>&nbsp;
Point-to-Multipoint paths<br />
<a href="#anchor9">4.</a>&nbsp;
Conclusions and Recommendations<br />
<a href="#IANA">5.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">6.</a>&nbsp;
Security Considerations<br />
<a href="#Acknowledgements">7.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">8.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Multi-Protocol Label Switching Transport Profile (MPLS-TP) is being standardized
	  as part of a joint effort between the Internet Engineering Task Force (IETF) and the 
	  International Telecommunication Union Standardization (ITU-T).  These specifications
	  are based on the requirements that were generated from this joint effort.
</p>
<p>The requirements for MPLS-TP <a class='info' href='#MPLS-TP Reqs'>[MPLS&#8209;TP Reqs]<span> (</span><span class='info'>Niven-Jenkins, B., Nadeau, T., and C. Pignataro, &ldquo;Requirements for the Transport Profile of MPLS,&rdquo; April&nbsp;2009.</span><span>)</span></a> inidcates that there 
	  is requirement to support a network that may include sections that constitute a 
	  MPLS-TP ring (either logical or physical).  The support for ring topologies as stated 
	  in the requirements is based on the ability to demonstrate that this topology allows 
	  the network to optimize either the protection or the number of Operations, 
	  Administration &amp; Maintenance (OAM) entities needed to maintain the network.
</p>
<p>This document will examine different proposed mechanisms for protection of a ring
	  in the context of MPLS-TP and try and determine how they may optimize the protection 
	  and the OAM procedures for a ring topology.  Finally, we plan to show how the generic 
	  protection mechanisms can be used to address the requirements in an optimized manner.
	  
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Contributing Authors</h3>

<p>Akira Sakurai (NEC), Rolf Winter (NEC)
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Ring Topologies</h3>

<p>The MPLS-TP Requirements <a class='info' href='#MPLS-TP Reqs'>[MPLS&#8209;TP Reqs]<span> (</span><span class='info'>Niven-Jenkins, B., Nadeau, T., and C. Pignataro, &ldquo;Requirements for the Transport Profile of MPLS,&rdquo; April&nbsp;2009.</span><span>)</span></a> defines a ring as a 
	  topology in which each LSR is connected to exactly two neighboring LSRs, each via 
	  a single point-to-point birectional MPLS-TP capable link.  A ring provides certain 
	  advantages in transport networks, including:
</p>
<ul class="text">
<li>Configuration of point-to-multipoint paths around a ring are easily 
		accomplished.
</li>
<li>There are always two paths between any two LSRs on a ring that can be easily 
		identified and associated.
</li>
<li>It is believed that the number of OAM entities needed, in order to detect faults
		and perform recovery actions, may be minimized in a ring topology.
</li>
</ul>
<p>The following figure shows a MPLS-TP ring that is a segment that may be traversed
	  by numerous LSPs or PWs.  In particular, the figure shows that for all LSP that 
	  connect to the ring through LSR-B and exit the ring from LSR-F we can define two 
	  paths through the ring (the first path along B-A-F, and the second B-C-D-E-F).
</p><br /><hr class="insert" />
<a name="figure 1"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                               ____
                    =========&gt;/ LSR\
                            * \__B_/ *
                           * @      # *
                          * @        # *
                       __* @          # *___
                     /LSR\ @           #/LSR\
                     \_C_/ @           #\_A_/
                       *  @             # *
                       *  @              #*
                      _*_ @              #*_
                     /LSR\@             /LSR\========&gt;
                     \_D_/@             \_F_/
                         * @           @*
                          * @         @*
                           * @@____@@*
                             */ LSR\*
                              \__E_/


        ===&gt; connected LSP  *** physical link
        ###  logical path   @@@ secondary logical path
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: A MPLS-TP ring&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Interconnected rings</h3>

<p>The Requirements document <a class='info' href='#MPLS-TP Reqs'>[MPLS&#8209;TP Reqs]<span> (</span><span class='info'>Niven-Jenkins, B., Nadeau, T., and C. Pignataro, &ldquo;Requirements for the Transport Profile of MPLS,&rdquo; April&nbsp;2009.</span><span>)</span></a> states that the ring protection 
		must support a single ring that may be interconnected to other rings.  In addition, traffic 
		that traverses a number of rings within a network of interconnected rings must be protected 
		even if the interconnection nodes and links fail.
</p>
<p>When interconnecting rings in a network there are two common interconnection schemes:
</p>
<ul class="text">
<li>Dual-node interconnect &ndash; when the interconnected rings are interconnected by 
			two nodes from each ring (see <a class='info' href='#figure 2'>Figure&nbsp;2<span> (</span><span class='info'>Dual-node interconnected rings</span><span>)</span></a>)
</li>
<li>Single-node interconnect &ndash; when the connection between the interconnected rings 
			are through a single node (see <a class='info' href='#figure 3'>Figure&nbsp;3<span> (</span><span class='info'>Single-node interconnected rings</span><span>)</span></a>)
</li>
</ul>
<p>The protection schemes presented in <a class='info' href='#section 3'>Section&nbsp;3<span> (</span><span class='info'>Ring protection schemes</span><span>)</span></a> are capable of protecting each 
		interconnected ring as a separate entity independent of the other rings in the network.  
		This protects the traffic that traverses the entire network, as each ring will continue 
		to transfer the traffic to the interconnection points, and from there to the next ring.
</p>
<p>When the interconnection nodes or links fail, there is the need to protect these 
		connection points.  Therefore, it should be noted that in the case of single-node 
		interconnect the interconnection node (LSR-A in <a class='info' href='#figure 3'>Figure&nbsp;3<span> (</span><span class='info'>Single-node interconnected rings</span><span>)</span></a>) is a 
		single-point of failure and such an interconnection scheme should be avoided.  The 
		protection of the dual-node interconnect is essentially a linear-protection situation 
		and should be protected using appropriate protection mechanisms.
</p><br /><hr class="insert" />
<a name="figure 2"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                       ____                     ___
                      / LSR\                   /LSR\
                    * \__B_/ *                *\_1_/*
                   *          *              *       *
                  *            *            *         *
               __*              *___      _*_          * ___
             /LSR\              /LSR\****/LSR\          /LSR\
             \_C_/              \_A_/    \_6_/          \_2_/
               *     Ring #1      *        *   Ring #2    *
               *                  *        *              *
              _*_                 *_      _*_            _*_
             /LSR\              /LSR\    /LSR\          /LSR\
             \_D_/              \_F_/****\_5_/          \_3_/
                 *              *           *            *
                  *            *             *          *
                    *   ____  *               *  ____  *
                      */ LSR\*                 */LSR \*
                       \__E_/                   \__4_/


                       *** physical link

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Dual-node interconnected rings&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="figure 3"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                            ____                ___
                           / LSR\              /LSR\
                         * \__B_/ *           *\_1_/*
                        *          *         *       *
                       *            *       *         *
                    __*              *___  *           * ___
                  /LSR\              /LSR\*             /LSR\
                  \_C_/              \_A_/              \_2_/
                    *     Ring #1      * *    Ring #2     *
                    *                  *  *               *
                   _*_                _*_  *  ___        _*_
                  /LSR\              /LSR\  */LSR\      /LSR\
                  \_D_/              \_F_/   \_5_/      \_3_/
                     *              *          *        *
                      *            *           *      *
                        *   ____  *            *___  *
                          */ LSR\*             /LSR\*
                           \__E_/              \_4_/


                       *** physical link
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Single-node interconnected rings&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="section 3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Ring protection schemes</h3>

<p>There are two classic mechanisms that have been proposed in various forums 
		to perform recovery of a topological ring network - &quot;wrapping&quot; and 
		&quot;steering&quot;.  The following sub-sections will examine these two 
		mechanisms.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Wrapping</h3>

<p>The &quot;easier&quot; recovery architecture is &quot;wrapping&quot;.  This 
		  mechanism is local to the LSRs that are neighbors to the detected fault.  When 
		  a fault is detected, the neighboring LSR "wrap" all data traffic around the ring
		  until arriving at the LSR that is on the opposite side of the fault, at which 
		  point the traffic continues on the normal working path until the egress from
		  the ring segment.
</p><br /><hr class="insert" />
<a name="figure 4"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                                     ____
                           =========&gt;/ LSR\
                                   * \__B_/ *
                                  * @@@@@@@# *
                                 * @       @# *
                             ___* @         @# *___
                            /LSR\ @          @#/LSR\
                            \_C_/ @           #\_A_/
                              *  @             # *
                              *  @              XX
                             _*_ @              #*_
                            /LSR\@             /LSR\
                            \_D_/@            @\_F_/
                                * @          @#*
                                 * @       @@#*
                                  * @@____@##*
                                    */ LSR\*
                                     \__E_/========&gt;

		===&gt; connected LSP  *** physical link
		###  logical path   @@@ Bypass tunnel
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Wrapping protection&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>In this figure we have a ring with a LSP that enters the ring at LSR-B and 
		  exits at LSR-E.  The normal working path follows through B-A-F-E.  If a signal 
		  fault is detected on the link A&lt;&mdash;&gt;F, then there is the need for 
		  configuring a bypass tunnel <a class='info' href='#FRR'>[FRR]<span> (</span><span class='info'>Pan, P., Swallow, G., and A. Atlas, &ldquo;Fast Reroute Exensions to RSVP-TE for LSP Tunnels,&rdquo; May&nbsp;2005.</span><span>)</span></a> between A &amp; F.  The traffic will be
		  transmitted over this bypass tunnel from A to F, and then will continue on 
		  the normal working path from F->E.  Essentially, in this protection scheme,
		  the traffic will follow the path - B-A-B-C-D-E-F-E.
</p>
<p>This protection scheme is simple in the sense that there is no need for 
		  coordination between the different LSR in the ring - only the LSRs that detect
		  the fault must wrap the traffic, either via the bypass tunnel (at the near-end) 
		  or back to the normal path (at the far-end).
</p>
<p>When applying this scheme to a MPLS-TP ring topology segment there are the
		  following considerations:
</p>
<ul class="text">
<li>The OAM should be performed at either the link level (by defining a TCME
			between each adjacent pair of LSR) and/or per LSR (by defining a TCME between
			the LSR that are neighbors of the protected LSR) when using node-level 
			protection.
</li>
<li>For each protected TCME there is a need to define a bypass tunnel that
			traverses the alternate path around the ring to connect between the two ends
			of the TCME.  If protecting both the links and the nodes, then, for a ring
			with N nodes, there is a need for O(2N) bypass tunnels.
</li>
<li>Protection of point-to-multipoint paths is similar to the simple protection
			since the data continues along the original path after wrapping around the 
			ring.  The one exception is the case where the failed node was one of the 
			egress points for the data.
</li>
<li>When wrapping the data is transmitted over some of the links twice, once 
			in each direction.  For example, in the figure above the traffic is transmitted
			both B&mdash;&gt;A and then A&mdash;&gt;B, later it is transmitted E&mdash;&gt;F 
			and F&mdash;&gt;E.	This means that there is additional bandwith needed for 
			this protection.
</li>
<li>The wrapping also involves greater latency in delivering the packets, as a 
			result of traversing the entire ring.
</li>
<li>The resource allocation for the bypass tunnels could be problematic, since
			most of the tunnels will not be used simultaneously.  One possibility could be
			to allocate &#039;0&#039; resources and depend on the NMS to allocate the 
			proper resources around the ring.
</li>
</ul>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Optimization of wrapping</h3>

<p>It may be possible to optimize the basic performance, in terms of bandwidth 
			utilization, of the Fast-reroute mechanism when protecting particular LSPs. However, 
			it is important to consider the basic criteria for ring protection, i.e. an 
			appreciable minimization of the number of OAM sessions necessarily or the protection 
			resources needed.
</p>
<p>One suggestion for optimization is to define the bypass tunnel to wrap only 
			until the furthest egress point of the working LSP.  This method reduces the number 
			of links that are traversed twice, in most cases, by not wrapping back to the working 
			path at the far-end of the signal fault.  However, the method requires defining a 
			particular bypass tunnel for each LSP and cannot use the optimization of the OAM 
			sessions presented above to protect all LSPs with a single set of bypass LSPs.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Steering</h3>

<p>The second common scheme for ring protection redirects the traffic from the 
		  ingress point to the alternate route around the ring to the egress point.  This 
		  is illustrated in Figure 1 above, where if a Signal Fault is detected on the 
		  working path (B-A-F), then the traffic is redirected by B to the secondary 
		  path (i.e. B-C-D-E-F).
</p>
<p>When considering this mechanism it is almost identical to linear 1:1 
		  protection.  The two paths around the ring act as the working and recovery 
		  paths.  There is need to communicate to the ingress node the need to switch
		  over to the protection path and there is a need to coordinate the switchover 
		  between the two end-points of the protected path.
</p>
<p>There is one aspect that this diverts from the basic linear protection
		  scheme - in the number of OAM sessions that would be neccesary to detect faults
		  in the protected domain.  Whereas, using generic linear protection would 
		  neccesitate a separate OAM session per LSP that traverses the ring, when using 
		  ring protection there is a possiblity of taking proper advantage of the 
		  realization that we are dealing with a ring, and reduce the number of OAM 
		  sessions.  This is done by defining an OAM session on the basis of a Path Segment
		  Tunnel (PST), i.e. between any two nodes of the ring.  This would lead to the number
		  of OAM sessions for a ring with N nodes to be O(N*N/2), which could be very
		  large.  However, taking into consideration that the required support of 
		  rings, is for rings with up-to 16 nodes - this implies that the number of
		  OAM sessions should be on the order of (16*16/2) or 128.
</p>
<p>This form of OAM would allow the ingress LSR to directly detect any faulty
		  situations and redirect traffic to the secondary path without the need for 
		  any additional communication to the LSR.
</p>
<p>The following observations can be drawn from using this protection 
		  mechanism for MPLS-TP ring topologies:
</p>
<ul class="text">
<li>Steering can be based on linear protection for the protection of a single
		    ring.  For cases of interconnected rings further study is necessary.
</li>
<li>The number of OAM sessions can be greatly minimized, relative to using plain
			linear protection, by running the OAM sessions on the ring segments for
			all LSPs that traverse the ring, rather than running a OAM session per 
			LSP.  This fulfills the objective presented in [MPLS-TP Reqs].
</li>
</ul>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Point-to-Multipoint paths</h3>

<p><a class='info' href='#MPLS-TP Reqs'>[MPLS&#8209;TP Reqs]<span> (</span><span class='info'>Niven-Jenkins, B., Nadeau, T., and C. Pignataro, &ldquo;Requirements for the Transport Profile of MPLS,&rdquo; April&nbsp;2009.</span><span>)</span></a> requires that ring protection must provide 
			protection for unidirectional point-to-multipoint paths through the ring.  As 
			was pointed out in section 1, ring topologies provide a ready platform for 
			supporting such data paths.
</p>
<p>It is possible to create a protection architecture for p2mp within a MPLS-TP 
			ring topology, based on 1+1 linear protection by monitoring two p2mp uni-directional 
			PST from each ingress node on the ring with egress points at each node.  The two 
			PST traverse the ring in opposite directions, i.e. one checks the clockwise path 
			and the second the counter-clockwise path.
</p>
<p>The data for a particular p2mp LSP is transmitted on both the working and 
			protecting LSP, using a permanent bridge.  While each node detects that there is 
			connectivity from the ingress point, it continues to select the data that is 
			coming from the working path.  If a particular node stops receiving the 
			connectivity messages from the working path PST, it identifies that it must 
			switch its selector to read the data from the protecting path.
</p>
<p>This architecture has the added advantages that there is no need for the 
			ingress node to identify the existence of the misconnectivity, and there is no 
			need for a return path from the egress points to the ingress.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Conclusions and Recommendations</h3>

<p>In order to fulfill the requirements for protection of ring topologies for 
		MPLS-TP networks, according to the conditions stated in [MPLS-TP Reqs], the 
		protection should be based on MPLS-TP 1:1 linear protection.  This mechanism
		will cover the cases of a single fault in a single ring topology.
</p>
<p>When defining the OAM behavior of the ring nodes, they should define a 
		segment of all the LSPs that traverse a path within the ring.  The OAM 
		should be executed for each ring path, i.e. PST, to detect faults and trigger 
		the protection switching within the ring.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of IANA.
</p>
<p>Note to RFC Editor: this section may be removed on publication as an
      RFC.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>This document does not by itself raise any particular security
      considerations.
</p>
<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgements</h3>

<p>The authors would like to thank all members of the teams (the Joint 
	  Working Team, the MPLS Interoperability Design Team in IETF and the T-MPLS 
	  Ad Hoc Group in ITU-T) involved in the definition and specification of MPLS 
	  Transport Profile.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="FRR">[FRR]</a></td>
<td class="author-text">Pan, P., Swallow, G., and A. Atlas, &ldquo;<a href="http://tools.ietf.org/html/rfc4090">Fast Reroute Exensions to RSVP-TE for LSP Tunnels</a>,&rdquo; RFC&nbsp;4090, May&nbsp;2005 (<a href="ftp://ftp.isi.edu/in-notes/rfc4090.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="MPLS-TP Reqs">[MPLS-TP Reqs]</a></td>
<td class="author-text">Niven-Jenkins, B., Nadeau, T., and C. Pignataro, &ldquo;<a href="http://tools.ietf.org/html/rfc5654">Requirements for the Transport Profile of MPLS</a>,&rdquo; RFC&nbsp;5654, April&nbsp;2009.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Stewart Bryant (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">United Kingdom</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:stbryant@cisco.com">stbryant@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nurit Sprecher (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3 Hanagar St. Neve Ne'eman B</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hod Hasharon,   45241</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Israel</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:nurit.sprecher@nsn.com">nurit.sprecher@nsn.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yaacov Weingarten</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Siemens Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3 Hanagar St. Neve Ne'eman B</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hod Hasharon,   45241</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Israel</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+972-9-775 1827</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yaacov.weingarten@nsn.com">yaacov.weingarten@nsn.com</a></td></tr>
</table>
</body></html>
