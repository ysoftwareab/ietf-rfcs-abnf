



MPLS Working Group                                          Mike Taillon
INTERNET-DRAFT                                                Tarek Saad
Intended Status: Standards Track                      Cisco Systems Inc.
Expires September 10, 2015                                  Nicholas Tan
                                                         Arista Networks
                                                           March 9, 2015


                 RSVP-TE Summary Fast Reroute Extensions
                            for LSP Tunnels
                  draft-mtaillon-mpls-summary-frr-rsvpte-00


Abstract

   This document defines RSVP-TE signaling extensions that reduce the
   amount of RSVP signaling required for Fast Reroute (FRR) procedures
   and subsequently improve the scalability of the RSVP-TE signaling
   when undergoing FRR convergence post a link or node failure.  Such
   extensions allow the RSVP message exchange between the Point of
   Local Repair (PLR) and the Merge Point (MP) to be independent of
   the number of protected LSPs traversing between them (eg. when 
   bypass LSP FRR protection is used). The new signaling extensions
   are fully backwards compatible with nodes that do not support them.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on September 9, 2015.


 


Taillon, et al.        Expires September 10, 2015               [Page 1]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015



Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1. Introduction  . . . . . . . . . . . . . . . . . . . . . . . . .  3
     1.1. Summary FRR LSP Groups  . . . . . . . . . . . . . . . . . .  3
     1.2. Terminology . . . . . . . . . . . . . . . . . . . . . . . .  3
   2. Bypass Tunnel Assignment Coordination . . . . . . . . . . . . .  4
     2.1. SUMMARY_FRR_BYPASS_ASSIGNMENT RECORD_ROUTE subobject  . . .  4
     2.2. Bypass Tunnel Assignment Signaling Procedure  . . . . . . .  6
       2.2.1. PLR Path Signaling Procedure  . . . . . . . . . . . . .  7
       2.2.2. MP Signaling Procedure  . . . . . . . . . . . . . . . .  8
       2.2.3. PLR Resv Signaling Procedure  . . . . . . . . . . . . .  8
   3. Post FRR Trigger Signaling  . . . . . . . . . . . . . . . . . .  8
     3.1. SUMMARY_FRR_BYPASS_ACTIVE object  . . . . . . . . . . . . . 10
     3.2. PLR Summary FRR Path Signaling Procedure  . . . . . . . . . 10
     3.3. MP Summary FRR Path Signaling Procedure . . . . . . . . . . 11
     3.4. MP Summary FRR Resv Signaling Procedure . . . . . . . . . . 11
     3.5. Refreshing Summary FRR Active LSPs  . . . . . . . . . . . . 12
     3.6. Changing Summary FRR Active LSPs  . . . . . . . . . . . . . 12
   4. Compatibilty  . . . . . . . . . . . . . . . . . . . . . . . . . 13
   5. Security Considerations . . . . . . . . . . . . . . . . . . . . 13
   6. IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 13
   7.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 13
     7.1.  Normative References . . . . . . . . . . . . . . . . . . . 13
     7.2.  Informative References . . . . . . . . . . . . . . . . . . 14
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 14








 


Taillon, et al.        Expires September 10, 2015               [Page 2]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


1. Introduction

   Fast Reroute (FRR) procedures defined in [RSVP-TE-FRR] describe the
   mechanism for the Point of Local Repair (PLR) to reroute traffic and
   signaling of a protected RSVP-TE LSP onto the bypass tunnel in the
   event of a TE link or node failure. These signaling procedures are
   performed individually for each affected LSP and can lead to
   scalability and latency issues when the failure event affect a large
   number of protected LSPs between the same PLR and MP.

   In a scaled deployment, a single P node acting as a PLR may host tens
   of thousands of protected RSVP-TE LSPs egressing the same link, and
   likewise, act as a Merge Point (MP) for similar number of LSPs
   ingressing the same link. In the event of the failure of the link or
   neighbor node, the RSVP-TE control plane of PLR and MP becomes busy
   rerouting protected LSPs signaling over the bypass tunnel(s) in one
   direction, and merging signaling of received messages over bypass
   tunnels in the other direction, respectively. At the same time, head-
   end PE nodes that are notified of the local repair, attempt to
   (re)converge affected RSVP-TE LSPs over newly computed paths,
   possibly traversing the same P node. As a result, the RSVP-TE control
   plane at the PLR and MP becomes overwhelmed by the FRR processing
   overhead following link or node failure while also competing for CPU
   processing power with other control plane protocol(s) (e.g. IGP) also
   undergoing convergence.

   The extensions defined in this document enable a MP to become aware
   of the PLR's bypass assignment and allow FRR procedures between PLR
   and MP to be signaled and processed on groups of LSPs.  

1.1. Summary FRR LSP Groups

   The PLR creates and manages Summary FRR LSP groups
   (Bypass_Group_Identifiers)  and shares them with the MP via
   signaling.  Protected LSPs sharing the same egress link and bypass
   assignment are grouped together and are assigned the same group.  The
   MP maintains the PLR group assignments learned via signaling, and
   acknowledges the group assignments via signaling. Once the PLR
   receives the acknowledgement, FRR signaling can now be group based.

1.2. Terminology

   In this document, the key words "MUST", "MUST NOT", "REQUIRED",
   "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY",
   and "OPTIONAL" are to be interpreted as described in BCP 14, RFC 2119
   [RFC2119].



 


Taillon, et al.        Expires September 10, 2015               [Page 3]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


2. Bypass Tunnel Assignment Coordination

   This document defines a new subobject in RSVP RECORD_ROUTE object,
   SUMMARY_FRR_BYPASS_ASSIGNMENT, to extend RSVP-TE for summary fast-
   reroute signaling. This object is backward compatible with LSRs that
   do not recognize it (see section 4.4.5 in [RSVP-TE]).

2.1. SUMMARY_FRR_BYPASS_ASSIGNMENT RECORD_ROUTE subobject

   When used within an RSVP Path message, the
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is used to inform the MP of
   the bypass tunnel being used by the PLR and the assigned Summary FRR
   Bypass_Group_Identifier for the protected LSP.  When used within a
   RSVP Resv message, the SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is
   used by the MP to acknowledge the PLR's bypass tunnel assignment, and
   indicate support for this extension.

   The IPv4 SUMMARY_FRR_BYPASS_ASSIGNMENT subobject has the following
   format:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |       Type    |      Length     |    Bypass_Tunnel_ID         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Source_IPv4_Address                     |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Destination_IPv4_Address                |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Group_Identifier                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Summary_FRR_PLR_Generation_Identifier          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Type: 8 bits

               (TBD-1) IPv4 Summary FRR Bypass Assignment 

         Length: 8 bits

               The Length contains the total length of the subobject in 
         bytes, including the Type and Length fields.


         Bypass_Tunnel_ID: 16 bits

               The bypass tunnel identifier.

 


Taillon, et al.        Expires September 10, 2015               [Page 4]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


         Bypass_Source_IPv4_Address: 32 bits

               The bypass tunnel source IPV4 address.


         Bypass_Destination_IPv4_Address: 32 bits

               The bypass tunnel destination IPV4 address.


         Bypass_Group_Identifier: 32 bits

               The bypass tunnel group identifier.


         Summary_FRR_PLR_Generation_Identifier

               The PLR generation identifier.


   The IPv6 SUMMARY_FRR_BYPASS_ASSIGNMENT subobject has the following
   format:

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |       Type    |      Length     |    Bypass_Tunnel_ID         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       +                                                               +
       |                                                               |
       +                Bypass_Source_IPv6_Address                     +
       |                                                               |
       +                                                               +
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       +                                                               +
       |                                                               |
       +                Bypass_Destination_IPv6_Address                +
       |                                                               |
       +                                                               +
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Bypass_Group_Identifier                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                Summary_FRR_PLR_Generation_Identifier          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 


Taillon, et al.        Expires September 10, 2015               [Page 5]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


         Type: 8 bits

               (TBD-2) IPv6 Summary FRR Bypass Assignment 

         Length: 8 bits

               The Length contains the total length of the subobject in 
         bytes, including the Type and Length fields.


         Bypass_Tunnel_ID: 16 bits

               The bypass tunnel identifier.


         Bypass_Source_IPv6_Address: 128 bits

               The bypass tunnel source IPV4 address.


         Bypass_Destination_IPv6_Address: 128 bits

               The bypass tunnel destination IPV4 address.


         Bypass_Group_Identifier: 32 bits

               The bypass tunnel group identifier.


         Summary_FRR_PLR_Generation_Identifier

               The PLR generation identifier.

2.2. Bypass Tunnel Assignment Signaling Procedure    

   Before Summary FRR procedures can be used, a handshake MUST be
   completed between the PLR and MP.  This handshake is performed using
   RECORD_ROUTE subobject SUMMARY_FRR_BYPASS_ASSIGNMENT within both the
   RSVP Path and Resv messages.

   The PLR assigns a bypass tunnel and Bypass_Group_Identifier for each
   protected LSP.  The same Bypass_Group_Identifier is used for the set
   of protected LSPs that share the same bypass tunnel and traverse the
   same egress link and are not already rerouted.  The PLR also
   generates a generation identifier (per LSP) that is used by the PLR
   to later match the last sent subobject and eliminate timing issues.

 


Taillon, et al.        Expires September 10, 2015               [Page 6]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


   The PLR MUST generate a new generation identifier (per LSP) each time
   the SUMMARY_FRR_BYPASS_ASSIGNMENT subobject contents change;  for
   example, when PLR changes the bypass tunnel assignment.  

   The PLR notifies the MP of the bypass tunnel assignment via adding a
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject to the RSVP Path message
   RECORD_ROUTE object for the protected LSP using procedure described
   in section 2.2.1. 

   The MP acknowledges the PLR's assignment by echoing back the received
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject within the RSVP Resv messsage
   RECORD_ROUTE object.  

   The PLR considers the protected LSP as Summary FRR capable only if
   the SUMMARY_FRR_BYPASS_ASSIGNMENT subobjects within the sent RSVP
   Path message RECORD_ROUTE and the received RSVP Resv message
   RECORD_ROUTE match exactly. If a matching subobject does not exist,
   or is later absent in a subsequent refresh, the PLR MUST consider the
   protected LSP as not Summary FRR capable.  


2.2.1. PLR Path Signaling Procedure

   The SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is added to the
   RECORD_ROUTE object by each PLR in the RSVP Path message of the
   protected LSP to record the bypass tunnel assignment. This subobject
   is updated every time the PLR updates the bypass tunnel assignment
   (which triggers an RSVP Path change message). The
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is added in the RECORD_ROUTE
   object prior to adding the node's IP address. A node MUST NOT add a
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject without also adding the
   node's IPv4 or IPv6 subobject.
















 


Taillon, et al.        Expires September 10, 2015               [Page 7]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


2.2.2. MP Signaling Procedure

   Upon receiving an RSVP Path message with RECORD_ROUTE object, the MP
   processes all (there may be multiple PLRs for a single MP)
   SUMMARY_FRR_BYPASSS_ASSIGNMENT subobjects with a matching Bypass
   Destination address.  

   The MP first ensures the existence of the bypass tunnel and that the
   Bypass_Group_Identifier is not already active.  That is, an LSP
   cannot join a group that is already active.

   The MP builds a mirrored Summary FRR Group database per PLR, which is
   determined using the Bypass_Source_Address field.  For each
   SUMMARY_FRR_BYPASSS_ASSIGNMENT subobject that is successfully
   processed, the MP mirrors the received SUMMARY_FFR_BYPASS_ASSIGNMENT
   subobject in the RSVP Resv message RECORD_ROUTE object.  Each
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is added in the RECORD_ROUTE
   object prior to adding the node's IP address. A node MUST NOT add a
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject without also adding an IPv4
   or IPv6 subobject.

   When forwarding an RSVP Path message downstream, the MP MAY remove
   any/all SUMMARY_FRR_BYPASS_ASSIGNMENT subobjects with a matching
   Bypass_Destination_Address.

2.2.3. PLR Resv Signaling Procedure

   Upon receiving an RSVP Resv message with RECORD_ROUTE object, the PLR
   checks if the expected SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is
   present.  If present, and matches the last
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject sent within the RSVP Path
   message RECORD_ROUTE, then the MP has acknowledged the bypass
   assignment and the LSP is now ready for Summary FRR.  If a matching
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject is not present, the LSP
   remains not ready for Summary FRR.

   When forwarding an RSVP Resv message upstream, the PLR MAY remove
   any/all SUMMARY_FRR_BYPASS_ASSIGNMENT subobjects with a matching
   Bypass_Source_Address.

3. Post FRR Trigger Signaling

   Upon detection of the fault (egress link or node failure) the PLR
   first performs the object modification procedures described by
   section 6.4.3 of [RSVP-TE-FRR] for all affected protected LSPs. For
   Summary FRR LSPs assigned to the same bypass tunnel a common RSVP_HOP
   and SENDER_TEMPLATE MUST be used. 

 


Taillon, et al.        Expires September 10, 2015               [Page 8]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


   The PLR MUST first signal non-Summary FRR LSPs over the bypass tunnel
   before signaling the Summary FRR LSPs.  This is needed to allow for
   the case when the PLR has recently changed a bypass assignment which
   the MP may not have processed the change yet. 

   A new object SUMMARY_FRR_BYPASS_ACTIVE is defined and sent within the
   RSVP Path and Resv messages of the bypass tunnel for reroute
   signaling of Summary FRR LSPs.








































 


Taillon, et al.        Expires September 10, 2015               [Page 9]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


3.1. SUMMARY_FRR_BYPASS_ACTIVE object

   When sent within an RSVP Path message, the SUMMARY_FRR_BYPASS_ACTIVE
   object is used to inform the MP (bypass tunnel destination) that one
   or more groups of protected LSPs that are being protected by the
   bypass tunnel are being rerouted and refreshed.

   When sent within an RSVP Resv message, the SUMMARY_FRR_BYPASS_ACTIVE
   object is used to refresh one or more groups of LSPs that have been
   rerouted through the bypass tunnel.

   The SUMMARY_FRR_BYPASS_ACTIVE object has the following format:

      SUMMARY_FRR_BYPASS_ACTIVE Class = TBD (of the form 11bbbbbb)

      Class = SUMMARY_FRR_BYPASS_ACTIVE Class, C_Type = 1 (TBD)

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           RSVP_HOP_Object                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       Bypass_Group_Identifier                 |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                 :                             |
      //                                :                            //
      |                                 :                             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       Bypass_Group_Identifier                 |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      RSVP_HOP_Object: Class 3, as defined by [RSVP]

          Replacement HOP object to be applied to all LSPs associated
      with each of the following Bypass_Group_Identifiers

      Bypass_Group_Identifier: 32 bits

          Bypass_Group_Identifier field from the RECORD_ROUTE object
      SUMMARY_FRR_BYPASS_ASSIGNMENT subobject(s) corresponding to all
      LSPs that the bypass headend (PLR) advertised this specific
      Bypass_Group_Identifier for.  One or more
      Bypass_Group_Identifiers may be included.

3.2. PLR Summary FRR Path Signaling Procedure 

   An individual RSVP Path message for each Summary FRR LSP is not
   signaled.
 


Taillon, et al.        Expires September 10, 2015              [Page 10]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


   To reroute Summary FRR LSPs via the bypass tunnel, the PLR adds the
   SUMMARY_FRR_BYPASS_ACTIVE object in the RSVP Path message of the
   bypass tunnel.  

   The RSVP_HOP_Object field of the SUMMARY_FRR_BYPASS_ACTIVE object is
   set to the common RSVP_HOP that was used during section 3. 

   For each affected Summary FRR group, its group identifier is added to
   the SUMMARY_FRR_BYPASS_ACTIVE object.

3.3. MP Summary FRR Path Signaling Procedure

   Upon receiving an RSVP Path message with a SUMMARY_FRR_BYPASS_ACTIVE
   object, the MP performs normal merging processing for each LSP
   associated with each Bypass_Group_Identifier, as if it received
   individual RSVP Path messages for each Summary FRR LSP.

   For each Summary FRR LSP being merged, the MP first modifies the Path
   state as follows:

      1. The RSVP_HOP object is copied from the
      SUMMARY_FRR_BYPASS_ACTIVE RSVP_HOP_Object field.

      2. The SENDER_TEMPLATE object SrcAddress field is copied from the
      bypass tunnel SENDER_TEMPLATE object. For the case where PLR is
      also the headend, and SENDER_TEMPLATE SrcAddress of the protected
      LSP and bypass tunnel are the same, the MP MUST use the modified
      HOP Hop Address field instead.

      3. The ERO object is modified as per section 6.4.4. of [RSVP-TE-
      FRR]

      4. The TIME_VALUES object is copied from the bypass tunnel RSVP
      Path message. 

   Once the above modifications are completed, the MP then performs the
   merge processing as per [RSVP-TE-FRR]. 

   A failure during merge processing of any individual rerouted LSP MUST
   result in an RSVP Path Error message and the LSP MUST not be removed
   from the Bypass_Group -- this is to cover the case where the RSVP
   Path Error message doesn't reach the PLR and the RSVP Path Error
   message may need to be resignaled. 

3.4. MP Summary FRR Resv Signaling Procedure

   An individual RSVP Resv message for each successfully merged Summary
   FRR LSP is not signaled.
 


Taillon, et al.        Expires September 10, 2015              [Page 11]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


   The SUMMARY_FRR_BYPASS_ACTIVE object from the bypass tunnel RSVP Path
   message is copied into the RSVP Resv message of the bypass tunnel and
   signaled.

3.5. Refreshing Summary FRR Active LSPs

   Refreshing of Summary FRR active LSPs is performed while refreshing
   the bypass tunnel itself.

   Upon recieving the bypass tunnel RSVP Resv refresh (either normal
   full refresh message, or using [RSVP-SUMMARY-REFRESH] mechanism), the
   PLR MUST consider all Summary FRR LSPs associated with each
   Bypass_Group_Identifier listed in the SUMMARY_FRR_BYPASS_ACTIVE
   object to have their Resv state also refreshed.  The TIMES_VALUE of
   the bypass tunnel RSVP Resv message is used to calculate the
   lifetimes.

   Upon receiving the bypass tunnel RSVP Path refresh (either normal
   full refresh message, or using [RSVP-SUMMARY-REFRESH] mechanism), the
   MP MUST consider all Summary FRR LSPs associated with each
   Bypass_Group_Identifier listed in the SUMMARY_FRR_BYPASS_ACTIVE
   object to have their Path state also refreshed.  The TIMES_VALUE of
   the bypass tunnel RSVP Path message is used to calculate the
   lifetimes. If a merge was previously unsuccessful and the Summary FRR
   LSP is being refreshed, the MP MUST re-signal the RSVP Path Error
   message.


3.6. Changing Summary FRR Active LSPs

   When a change to a Summary FRR active LSP is required, the protected
   LSP association with the currently FRR active Bypass_Group_Identifier
   MUST be withdrawn.  This is accomplished by removing the appropriate 
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject from the RECORD_ROUTE object
   and signaling this in the RSVP Path or Resv change message.

   Once disassociated from the Bypass_Group_Identifier, the protected
   rerouted LSP is no longer refreshed as per section 3.5, and MUST be
   refreshed independently (either normal full refresh message, or using
   [RSVP-SUMMARY-REFRESH] mechanism).








 


Taillon, et al.        Expires September 10, 2015              [Page 12]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


4. Compatibilty

   The new SUMMARY_FRR_BYPASS_ACTIVE object is to be defined with a
   class number in the form 11bbbbbb, which ensures compatibility with
   non- supporting nodes. Per [RSVP], nodes not supporting this
   extension will ignore the object but forward it, unexamined and
   unmodified, in all messages.

   The new SUMMARY_FRR_BYPASS_ASSIGNMENT RECORD_ROUTE subobject, as per
   section 4.4.5. of [RSVP-TE], if not recognized SHOULD be ignored and
   forwarded.  

5. Security Considerations

   This document introduces new RSVP subobjects. Thus in the event of
   the interception of a signaling message, slightly more could be
   deduced about the state of the network than was previously the case.


6. IANA Considerations

   IANA is requested to administer assignment of new values for the
   namespace defined in this document and summarized in this section.

   IANA maintains a name space for RSVP-TE TE parameters "Resource
   Reservation Protocol (RSVP) Parameters" (see
   http://www.iana.org/assignments/rsvp-parameters).  From the
   registries in this namespace "Route Record" types, allocation of two
   new RECORD_ROUTE object sub-types (IPv4 and IPv6) for the new
   SUMMARY_FRR_BYPASS_ASSIGNMENT subobject are required.

   A new RSVP Class (of the form 11bbbbbb) and C-type for the new
   SUMMARY_FRR_BYPASS_ACTIVE object is required.

7.  References

7.1.  Normative References

   [RSVP]     Braden, R., Ed., Zhang, L., Berson, S., Herzog, S., and S.
              Jamin, "Resource ReSerVation Protocol (RSVP) -- Version 1
              Functional Specification", RFC 2205, September 1997.

   [RSVP-TE]  Steinberger, R. and O. Nicklass, "Definitions of Managed
              Objects for Frame Relay Service Level Definitions",
              RFC 3202, January 2002.

   [RSVP-TE-FRR]Pan, P., Ed., Swallow, G., Ed., and A. Atlas, Ed., "Fast
              Reroute Extensions to RSVP-TE for LSP Tunnels", RFC 4090,
 


Taillon, et al.        Expires September 10, 2015              [Page 13]

INTERNET DRAFT            RSVP-TE Summary FRR              March 9, 2015


              May 2005.

   [RSVP-SUMMARY-REFRESH]Berger, L., Gan, D., Swallow, G., Pan, P.,
              Tommasi, F., and S. Molendini, "RSVP Refresh Overhead
              Reduction Extensions", RFC 2961, April 2001.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.


7.2.  Informative References



Authors' Addresses


   Mike Taillon
   Cisco Systems, Inc.

   EMail: mtaillon@cisco.com


   Tarek Saad
   Cisco Systems, Inc.

   EMail: tsaad@cisco.com


   Nicholas Tan
   Arista Networks

   Email: ntan@arista.com


















Taillon, et al.        Expires September 10, 2015              [Page 14]
