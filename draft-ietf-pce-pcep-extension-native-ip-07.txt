



PCE Working Group                                                A. Wang
Internet-Draft                                             China Telecom
Intended status: Standards Track                             B. Khasanov
Expires: March 15, 2021                                          S. Fang
                                                                  R. Tan
                                             Huawei Technologies,Co.,Ltd
                                                                  C. Zhu
                                                         ZTE Corporation
                                                      September 11, 2020


                  PCEP Extension for Native IP Network
               draft-ietf-pce-pcep-extension-native-ip-07

Abstract

   This document defines the Path Computation Element Communication
   Protocol (PCEP) extension for Central Control Dynamic Routing (CCDR)
   based application in Native IP network.  The scenario and framework
   of CCDR in native IP is described in [RFC8735] and
   [I-D.ietf-teas-pce-native-ip].  This draft describes the key
   information that is transferred between Path Computation Element
   (PCE) and Path Computation Clients (PCC) to accomplish the End to End
   (E2E) traffic assurance in Native IP network under central control
   mode.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 15, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.




Wang, et al.             Expires March 15, 2021                 [Page 1]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
   3.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  STATEFUL-PCE-CAPABILITY TLV . . . . . . . . . . . . . . . . .   3
   5.  PCE-Initiated Native IP TE Procedures . . . . . . . . . . . .   4
   6.  New Objects Extension . . . . . . . . . . . . . . . . . . . .   4
   7.  Objects Formats . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  BGP Peer Info Object  . . . . . . . . . . . . . . . . . .   5
     7.2.  Explicit Peer Route Object  . . . . . . . . . . . . . . .   9
     7.3.  Peer Prefix Association Object  . . . . . . . . . . . . .  12
   8.  New Error-Types and Error-Values Defined  . . . . . . . . . .  14
   9.  Management Consideration  . . . . . . . . . . . . . . . . . .  15
   10. Security Considerations . . . . . . . . . . . . . . . . . . .  15
   11. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  15
     11.1.  PCEP Object Types  . . . . . . . . . . . . . . . . . . .  16
   12. Acknowledgement . . . . . . . . . . . . . . . . . . . . . . .  16
   13. Normative References  . . . . . . . . . . . . . . . . . . . .  16
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  17

1.  Introduction

   Traditionally, Multiprotocol Label Switching Traffic Engineering
   (MPLS-TE) traffic assurance requires the corresponding network
   devices support Multiprotocol Label Switching (MPLS) or the complex
   Resource ReSerVation Protocol (RSVP)/Label Distribution Protocol
   (LDP) /Segment Routing etc. technologies to assure the End-to-End
   (E2E) traffic performance.  But in native IP network, there will be
   no such signaling protocol to synchronize the action among different
   network devices.  It is necessary to use the central control mode
   that described in [RFC8283] to correlate the forwarding behavior
   among different network devices.  Draft [I-D.ietf-teas-pce-native-ip]
   describes the architecture and solution philosophy for the E2E
   traffic assurance in Native IP network via Dual/Multi Border Gateway
   Protocol (BGP) solution.  This draft describes the corresponding Path
   Computation Element Communication Protocol (PCEP) extensions to




Wang, et al.             Expires March 15, 2021                 [Page 2]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   transfer the key information about peer address list, peer prefix
   association and the explicit peer route on on-path router.

2.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

3.  Terminology

   .This document uses the following terms defined in [RFC5440]: PCE,
   PCEP

   The following terms are defined in this document:

   o  CCDR: Central Control Dynamic Routing

   o  E2E: End to End

   o  BPI: BGP Peer Info

   o  EPR: Explicit Peer Route

   o  PPA: Peer Prefix Association

   o  QoS: Quality of Service

4.  STATEFUL-PCE-CAPABILITY TLV

   The format of STATEFUL-PCE-CAPABILITY is defined in [RFC8231] and
   included here for easy reference with the addition of the new N flag.
   The right bits of N flag have been defined by other RFC documents.

     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |               Type            |            Length=4           |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |              Flags                        |N|*|*|*|*|*|*|I|S|U|
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-++-+-+-+-+-+-+-+-+-+-++-+-+-+-+-+
              Figure 1: STATEFUL-PCE-CAPABILITY TLV Format

   A new flag is defined to indicate the sender's support for traffic
   engineering in Native IP network.  The newly defined PCEP Objects and
   its proceeding procedures, as stated in Section 6 MUST be supported
   by PCC or PCE when this flag is set.




Wang, et al.             Expires March 15, 2021                 [Page 3]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   N( NATIVE-IP-TE-CAPABILITY-----1 bit): If set to 1 by a PCC/PCE, the
   N flag indicate that the PCC/PCE can support the traffic engineering
   in Native IP network.  The NATIVE-IP-TE-CAPABILITY flag MUST be set
   by both the PCC and PCE in order to enable PCE-initiated Native IP
   traffic engineering.

5.  PCE-Initiated Native IP TE Procedures

   PCE-Initated Native IP TE solution utilizing the existing PCE LSP
   Initate Request message(PCInitiate)[RFC8281], PCE Report
   message(PCRpt) [RFC8281]and PCE Update message(PCUpd)[RFC8281] to
   accomplish the multi BGP sessions establishment, end to end TE path
   deployment, and route prefixes advertisement among different BGP
   sessions.

   There is no label switch path within the Native IP environment, but
   there exist the end to end forwarding path that assigned to the
   priority traffic.  Such path can be identified by the PLSP-ID that
   defined in Label Switched Path(LSP) object [RFC8231]_. _The PLSP-ID
   is assigned by each PCC, based on the Symbolic Path Name TLV in the
   LSP object that from PCInitiate message.  The Symbolic Path Name TLV
   can be used to identify the end to end TE path in Native IP
   environment.  The association of Symbolic Path Name and each PLSP-ID
   in every PCC assures the TE policies are assigned end to end in the
   network.

6.  New Objects Extension

   Three new objects are defined in this draft:

   o  BPI Object: BGP Peer Info Object, used to indicate the PCC which
      peer it should be peered with dynamically.

   o  PPA Object: Peer Prefix Association Object, used to indicate the
      PCC which prefixes should be advertised via the corresponding
      peer.

   o  EPR Object: Explicit Peer Route object, used to indicate the PCC
      which route should be taken into to arrive to the peer.

7.  Objects Formats

   Each extension object takes the similar format, that is to say, it
   began with the common object header defined in [RFC5440] as the
   following:






Wang, et al.             Expires March 15, 2021                 [Page 4]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |  Object-Class |   OT  |Res|P|I|        Object Length(bytes)   |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                       (Object body)                           |
      //                                                             //
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    Figure 2: PCEP Object Format

   Different object-class, object type and the corresponding object body
   is defined separately in the following section.

7.1.  BGP Peer Info Object

   The BGP Peer Info object is used to specify the information about the
   peer that the PCC should establish the BGP relationship with.  This
   object should only be included and sent to the head and end router of
   the E2E path in case there is no Route Reflection (RR) involved.  If
   the RR is used between the head and end routers, then such
   information should be sent to head router, RR and end router
   respectively.

   By default, there MUST be no prefix be distributed via such BGP
   session that established by this object.

   By default, the Local/Peer IP address SHOULD be dedicated to the
   usage of native IP TE solution, and SHOULD not be used by other BGP
   sessions that established by manual or non PCE initiated
   configuration.

   BGP Peer Info Object-Class is TBD

   BGP Peer Info Object-Type is 1 for IPv4 and 2 for IPv6

   The format of the BGP Peer Info object body for IPv4(Object-Type=1)
   is as follows:













Wang, et al.             Expires March 15, 2021                 [Page 5]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Peer AS Number                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ETTL        |              Reserved                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Local IP Address                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   Peer IP Address                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Additional TLVs                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        Figure 3: BGP Peer Info Object Body Format for IPv4

   The format of the BGP Peer Info object body for IPv6(Object-Type=2)
   is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Peer AS Number                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   ETTL        |              Reserved                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |               Local IP Address (16 bytes)                     |
   +                                                               +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |               Peer IP Address (16 bytes)                      |
   +                                                               +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Additional TLVs                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
         Figure 4: BGP Peer Info Object Body Format for IPv6

   Peer AS Number: 4 Bytes, to indicate the AS number of Remote Peer.





Wang, et al.             Expires March 15, 2021                 [Page 6]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   ETTL: 1 Bytes, to indicate the multi hop count for EBGP session.  It
   should be 0 and ignored when Local AS and Peer AS is same.

   Reserved: Bits reserved for future use.

   Local IP Address(4/16 Bytes): IP address of the local router, used to
   peer with other end router.  When Object-Type is 1, length is 4
   bytes; when Object-Type is 2, length is 16 bytes.

   Peer IP Address(4/16 Bytes): IP address of the peer router, used to
   peer with the local router.  When Object-Type is 1, length is 4
   bytes; when Object-Type is 2, length is 16 bytes;

   Additional TLVs: TLVs that associated with this object, can be used
   to convey other necessary information for dynamic BGP session
   establishment.  Its definition is out of the current document.

   The detail procedures for the usage of this object is shown
   below(PCInitiate and PCRpt message pair, other message pairs are
   similar)































Wang, et al.             Expires March 15, 2021                 [Page 7]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


                         M2   PCInitiate Message:                             M3   PCInitiate Message:
                              PLSP-ID=X1(Symbolic Path Name=Class A)               PLSP-ID=X1(Symbolic Path Name=Class A)
                              BPI Object(Local IP=R3_A, Peer IP=R1_A)              BPI Object(Local IP=R3_A, Peer IP=R7_A)

                         M2-R PCRpt Message:                                  M3-R PCRpt Message:
                              PLSP-ID=X1                                           PLSP-ID=X1
                              BPI Object(Local IP=R3_A, Peer IP=R1_A)              BPI Object(Local IP=R3_A, Peer IP=R7_A)
                                                         ^                            ^
                                                         |                            |
                                                         |                            |
                                                         |                            |
                                                         |                            |
                                                         |    +------------------+    |
M1    PCInitiate Message:                     +    +----------+       PCE        +-----------+    + M4  PCInitiate Message:
      PLSP-ID=X1(Symbolic Path Name=Class A)  |    |     |    +--------^---------+    |      |    |     PLSP-ID=X7(Symbolic Path Name=Class A)
      BPI Object(Local IP=R1_A, Peer IP=R3_A) |    |     |             |              |      |    |     BPI Object(Local IP=R7_A,Peer IP=R3_A)
                                              |    |     +----------------------------+      |    |
                                              |    |                   |                     |    |
M1-R PCRpt Message:                         ^ |    |                   |                     |    | ^M4-R PCRpt Message:
     PLSP-ID=X1                             | |    |                  +v-+                   |    | |     PLSP-ID=X7
     BPI Object(Local IP=R1_A, Peer IP=R3_A | |    +------------------+R3+-------------------+    | |     BPI Object(Local IP=R3_A, Peer IP=R1_A)                                   )
                                            | |    |                  +--+                   |    | |
                                            | |    |                                         |    | |
                                            | |   +v-+          +--+          +--+         +-v+   | |
                                            + v   |R1+----------+R5+----------+R6+---------+R7|   v +
                                                  ++-+          +--+          +--+         +-++
                                                   |                                         |
                                                   |                                         |
                                                   |            +--+          +--+           |
                                                   +------------+R2+----------+R4+-----------+

                                              Figure 5: BGP Peer Establishment Procedures(R3 act as RR)

   When PCC receives this object with the R bit set to 0 in SRP object
   in PCInitiate message, the PCC should try to establish the BGP
   session with the indicated Peer AS and Local/Peer IP address.

   When PCC creates successfully the BGP session that is indicated by
   the associated information, it should report the result via the PCRpt
   messages, with this object included, and the corresponding SRP and
   LSP object.

   When PCC receives this object with the R bit set to 1 in SRP object
   in PCInitiate message, the PCC should clear the BGP session that
   indicated by Local/Peer IP address.






Wang, et al.             Expires March 15, 2021                 [Page 8]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   When PCC clears successfully the specified BGP session, it should
   report the result via the PCRpt message, with this object included,
   and the corresponding SRP and LSP object.

   When PCC receives this object with the LSP object in PCE Update
   message, the PCC should update the BGP session that identified by the
   PLSP-ID with the updated information contained in this object.

   When PCC updates successfully the BGP session that is indicated by
   the PLSP-ID, it should report the result via the PCRpt message, with
   this object included, and the corresponding SRP and LSP object.

   Upon PCC can't build the BGP session that required by this object, it
   should report the error values with the newly defined error type and
   error value, which is indicated in Section 8

7.2.  Explicit Peer Route Object

   The Explicit Peer Route object is defined to specify the explicit
   peer route to the corresponding peer address on each device that is
   on the E2E assurance path.  This Object should be sent to all the
   devices that locates on the E2E assurance path that calculated by
   PCE.

   The path established by this object should have higher priority than
   other path calculated by dynamic IGP protocol, but should be lower
   priority that the static route configured by manual or NETCONF
   channel.

   Explicit Peer Route Object-Class is TBD.

   Explicit Peer Route Object-Type is 1 for IPv4 and 2 for IPv6

   The format of Explicit Peer Route object body for IPv4(Object-Type=1)
   is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Route Priority        |          Resv.                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                IPv4 Peer Address                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Next Hop Address to the IPv4 Peer Address           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       Figure 6: Explicit Peer Route Object Body Format for IPv4





Wang, et al.             Expires March 15, 2021                 [Page 9]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   The format of Explicit Peer Route object body for IPv6(Object-Type=2)
   is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |       Route Priority        |           Resv.                 |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |                      IPv6 Peer Address                        |
   +                                                               +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |          Next Hop Address to the IPv6 Peer Address            |
   +                                                               +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       Figure 7: Explicit Peer Route Object Body Format for IPv6

   Route Priority: 2 Bytes, The priority of this explicit route.  The
   higher priority should be preferred by the device.

   Resv.: Bit reserved for future use.

   Peer Address: To indicate the peer address.

   Next Hop Address to the Peer: To indicate the next hop address to the
   corresponding peer.

   The detail procedures for the usage of this object is shown
   below(PCInitiate and PCRpt message pair, other message pairs are
   similar)












Wang, et al.             Expires March 15, 2021                [Page 10]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


                                                              +------------------+
M4    PCInitiate Message:                     +    +----------+       PCE        +-----------+    + M1  PCInitiate Message:
      PLSP-ID=X1(Symbolic Path Name=Class A)  |    |          +----^---^---^-----+           |    |     PLSP-ID=X7(Symbolic Path Name=Class A)
      EPR Object(Peer Address=R7_A            |    |               |   |   |                 |    |     EPR Object(Peer Address=R1_A
                 Next Hop=R2_A)               |    |               |   |   |                 |    |                Next Hop=R4_A)
                                              |    |               |   |   |                 |    |
M4-R PCRpt Message:                         ^ |    |               |   |   |                 |    | ^ M1-R PCRpt Message:
     PLSP-ID=X1                             | |    |               |  +v-+ |                 |    | |      PLSP-ID=X7
     EPR Object(Peer Address=R7_A           | |    +------------- ----+R3+-------------------+    | |      EPR Object(Peer Address=R1_A                                              )
                Next Hop=R2_A)              | |    |               |  +--+ |                 |    | |                 Next Hop=R4_A)
                                            | |    |               |       |                 |    | |
                                            | |   +v-+      +--+   |       |       +--+    +-v+   | |
                                            + v   |R1+------+R5+- -----------------+R6+----+R7|   v +
                                                  ++-+      +--+   |       |       +--+    +-++
                                                   |               |       |                 |
                                                   |           +---+       +---+             |
                                                   |          +v-+            +v-+           |
                                                   +----------+R2+-  ---------+R4+-----------+

                               M3  PCInitiate Message                         M2   PCInitiate Message
                                   PLSP-ID=X2(Symbolic Path Name=Class A)          PLSP-ID=X4(Symbolic Path Name=Class A)
                                   EPR Object(Peer Address=R1_A                    EPR Object(Peer Address=R1_A
                                              Next Hop=R1_A)                                  Next Hop=R2_A)

                              M3-R PCRpt Message                              M2-R PCRpt Message
                                   PLSP-ID=X2(Symbolic Path Name=Class A)          PLSP-ID=X4(Symbolic Path Name=Class A)
                                   EPR Object(Peer Address=R1_A                    EPR Object(Peer Address=R1_A
                                              Next Hop=R1_A)                                  Next Hop=R2_A)


                                       Figure 8: Explicit Route Establish Procedures(From R1 to R7)

   When PCC receives this object with the R bit set to 0 in SRP object
   in PCInitiate message, the PCC should install the explicit route to
   the the peer.

   When PCC install successfully the explicit route to the peer, it
   should report the result via the PCRpt messages, with this object
   included, and the corresponding SRP and LSP object.

   When PCC receives this object with the R bit set to 1 in SRP object
   in PCInitiate message, the PCC should clear the explicit route to the
   peer that indicated by this object.

   When PCC clear successfully the explicit route that indicated by this
   object, it should report the result via the PCRpt message, with this
   object included, and the corresponding SRP and LSP object.




Wang, et al.             Expires March 15, 2021                [Page 11]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   When PCC receives this object in PCUpd message, the PCC should update
   the explicit route according to info indicated in this object.

   When PCC updates the path successfully, it should report the result
   via the PCRpt message, with this object included, and the
   corresponding SRP and LSP object.

   Upon the error occurs, the PCC SHOULD send the corresponding error
   information that defined in Section 8

7.3.  Peer Prefix Association Object

   The Peer Prefix Association object is defined to specify the IP
   prefixes that should be advertised to the corresponding peer.  This
   object should only be included and sent to the head/end router of the
   end2end path.

   The prefixes information included in this object MUST only be
   advertised to the indicated peer, MUST not be advertised to other BGP
   peers.

   Peer Prefix Association Object-Class is TBD

   Peer Prefix Association Object-Type is 1 for IPv4 and 2 for IPv6

   The format of the Peer Prefix Association object body is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Peer IPv4 Address                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   //               IPv4 Prefix subobjects                         //
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     Figure 9: Peer Prefix Association Object Body Format for IPv4

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Peer IPv6 Address                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   //               IPv6 Prefix subobjects                         //
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      Figure 10: Peer Prefix Association Object Body Format for IPv6



Wang, et al.             Expires March 15, 2021                [Page 12]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   Peer IPv4 Address: 4 Bytes.  Identifies the peer IPv4 address that
   the associated prefixes will be sent to.

   IPv4 Prefix subojects: List of IPv4 Prefix subobjects that defined in
   [RFC3209], identify the prefixes that will be sent to the peer that
   identified by Peer IPv4 Address List.

   Peer IPv6 Address: 16 Bytes.  Identifies the peer IPv6 address that
   the associated prefixes will be sent to.

   IPv6 Prefix subojects: List of IPv6 Prefix subobjects that defined in
   [RFC3209], identify the prefixes that will be sent to the peer that
   identified by Peer IPv6 Address List.

   The detail procedures for the usage of this object is shown
   below(PCInitiate and PCRpt message pair, other message pairs are
   similar)

                                                              +------------------+
M1    PCInitiate Message:                     +    +----------+       PCE        +-----------+    +  M2  PCInitiate Message:
      PLSP+ID=X1(Symbolic Path Name=Class A)  |    |          +--------^---------+           |    |      PLSP+ID=X7(Symbolic Path Name=Class A)
      PPA Object(Peer IP=R7_A, Prefix=1_A)    |    |                   |                     |    |      PPA Object(Peer IP=R1_A, Prefix=7_A)
                                              |    |                   |                     |    |
                                              |    |                   |                     |    |
M1-R PCRpt Message:                         ^ |    |                   |                     |    | ^ M2-R  PCRpt Message:
     PLSP+ID=X1                             | |    |                  +v-+                   |    | |       PLSP+ID=X7
     PPA Object(Peer IP=R7_A,Prefix=1_A)    | |    +------------------+R3+-------------------+    | |       PPA Object(Peer IP=R1_A, Prefix=7_A)                                      )
                                            | |    |                  +--+                   |    | |
                                            | |    |                                         |    | |
                                            | |   +v-+          +--+          +--+         +-v+   | |
                                            + v   |R1+----------+R5+----------+R6+---------+R7|   v +
                                                  ++-+          +--+          +--+         +-++
                                                   |                                         |
                                                   |                                         |
                                                   |            +--+          +--+           |
                                                   +------------+R2+----------+R4+-----------+

                                                  Figure 11: BGP Prefix Advertisement Procedures

   When PCC receives this object with the R bit set to 0 in SRP object
   in PCInitiate message, the PCC should send the prefixes indicated in
   this object to the appointed BGP peer.

   When PCC sends successfully the prefixes to the appointed BGP peer,
   it should report the result via the PCRpt messages, with this object
   included, and the corresponding SRP and LSP object.





Wang, et al.             Expires March 15, 2021                [Page 13]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   When PCC receives this object with the R bit set to 1 in SRP object
   in PCInitiate message, the PCC should withdraw the prefixes
   advertisement to the peer that indicated by this object.

   When PCC withdraws successfully the prefixes that indicated by this
   object, it should report the result via the PCRpt message, with this
   object included, and the corresponding SRP and LSP object.

   When PCC receives this object in PCUpd message, it should update the
   BGP routes advertised to the associated peer.

   When PCC updates the advertised BGP routes successfully, it should
   report the result via the PCRpt message, with this object included,
   and the corresponding SRP and LSP object.

   The IPv4 prefix MUST only be advertised via the IPv4 BGP session and
   the IPv6 prefix MUST only be advertised via the IPv6 BGP session.  If
   mismatch occur, an error should be reported.

   When the peer info that associated with the PLSP-ID is not the same
   as the peer info that indicated in this object in PCC, a error should
   be reported via the PCRpt message.

   Upon the error occurs, the PCC SHOULD send the corresponding error
   information that defined in Section 8

   The object type of the above three objects should be identical to
   assure the prefixes from one address family are advertised via the
   peer belong to same address family, and the traffic is forwarded to
   the next hop also belong to same address family.  If the mismatch
   occur, the error should be reported to the PCE.

   For one PLSP-ID on the PCC, the object type of PAL object should be
   equal to object type of PPA object.  If not, the mismatch occurs and
   the related error should be reported.

8.  New Error-Types and Error-Values Defined

   A PCEP-ERROR object is used to report a PCEP error and is
   characterized by an Error-Type that specifies that type of error and
   an Error-value that provides additional information about the error.
   An additional Error-Type and several Error-values are defined to
   represent some the errors related to the newly defined objects, which
   are related to Native IP TE procedures.







Wang, et al.             Expires March 15, 2021                [Page 14]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


          +============+===============+==============================+
          | Error-Type | Meaning       | Error-value                  |
          +============+===============+==============================+
          | TBD        | Native IP     |                              |
          |            | TE failure    |                              |
          +------------+---------------+------------------------------+
          |            |               | 0: Unassigned                |
          +------------+---------------+------------------------------+
          |            |               | 1: Peer AS not match         |
          +------------+---------------+------------------------------+
          |            |               | 2: Peer IP can't be reached  |
          +------------+---------------+------------------------------+
          |            |               | 3: Peer Address mismatch     |
          +------------+---------------+------------------------------+
          |            |               | 4: PAL/PPA Object AF mismatch|
          +------------+---------------+------------------------------+
          |            |               | 5: PAL/EPR Object AF mismatch|
          +------------+---------------+------------------------------+
          |            |               | 6: PPA/EPR object AF mismatch|
          +------------+---------------+------------------------------+
          |            |               | 7:                           |
          +------------+---------------+------------------------------+
          |            |               | 8:                           |
          +------------+---------------+------------------------------+
          |            |               | 9:                           |
          +------------+---------------+------------------------------+
               Figure 12: Newly defined Error-Type and Error-Value

9.  Management Consideration

   The information transferred in this draft is mainly used for the
   light weight BGP session setup, the prefix distribution and the
   explicit route deployment.  The planning, allocation and distribution
   of the peer addresses within IGP should be accomplished in advanced
   and they are out of the scope of this draft.

10.  Security Considerations

   Service provider should consider the protection of PCE and their
   communication with the underlay devices, which is described in
   document [RFC5440] and [RFC8253]

11.  IANA Considerations








Wang, et al.             Expires March 15, 2021                [Page 15]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


11.1.  PCEP Object Types

   IANA is requested to allocate new registry for the PCEP Object Type:

   Object-Type Value       Name                    Reference
   TBD               BGP Peer Info               This document
                     Object-Type
                        1: IPv4 address
                        2: IPv6 address

   TBD               Peer Prefix Association         This document
                     Object-Type
                        1: IPv4 address
                        2: IPv6 address

   TBD               Explicit Peer Route             This document
                     Object-Type
                        1: IPv4 address
                        2: IPv6 address

12.  Acknowledgement

   Thanks Dhruv Dhody, Mike Koldychev, Siva Sivabalan, Adam Simpson for
   his valuable suggestions and comments.

13.  Normative References

   [I-D.ietf-teas-pce-native-ip]
              Wang, A., Khasanov, B., Zhao, Q., and H. Chen, "PCE in
              Native IP Network", draft-ietf-teas-pce-native-ip-11 (work
              in progress), August 2020.

   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", RFC 3209, DOI 10.17487/RFC3209, December 2001,
              <https://www.rfc-editor.org/info/rfc3209>.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

   [RFC8231]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", RFC 8231,
              DOI 10.17487/RFC8231, September 2017,
              <https://www.rfc-editor.org/info/rfc8231>.




Wang, et al.             Expires March 15, 2021                [Page 16]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   [RFC8253]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              RFC 8253, DOI 10.17487/RFC8253, October 2017,
              <https://www.rfc-editor.org/info/rfc8253>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

   [RFC8283]  Farrel, A., Ed., Zhao, Q., Ed., Li, Z., and C. Zhou, "An
              Architecture for Use of PCE and the PCE Communication
              Protocol (PCEP) in a Network with Central Control",
              RFC 8283, DOI 10.17487/RFC8283, December 2017,
              <https://www.rfc-editor.org/info/rfc8283>.

   [RFC8735]  Wang, A., Huang, X., Kou, C., Li, Z., and P. Mi,
              "Scenarios and Simulation Results of PCE in a Native IP
              Network", RFC 8735, DOI 10.17487/RFC8735, February 2020,
              <https://www.rfc-editor.org/info/rfc8735>.

Authors' Addresses

   Aijun Wang
   China Telecom
   Beiqijia Town, Changping District
   Beijing, Beijing  102209
   China

   Email: wangaj3@chinatelecom.cn


   Boris Khasanov
   Huawei Technologies,Co.,Ltd
   Moskovskiy Prospekt 97A
   St.Petersburg  196084
   Russia

   Email: khasanov.boris@huawei.com










Wang, et al.             Expires March 15, 2021                [Page 17]

Internet-Draft    PCEP Extension for Native IP Network    September 2020


   Sheng Fang
   Huawei Technologies,Co.,Ltd
   Huawei Bld., No.156 Beiqing Rd.
   Beijing
   China

   Email: fsheng@huawei.com


   Ren Tan
   Huawei Technologies,Co.,Ltd
   Huawei Bld., No.156 Beiqing Rd.
   Beijing
   China

   Email: tanren@huawei.com


   Chun Zhu
   ZTE Corporation
   50 Software Avenue, Yuhua District
   Nanjing, Jiangsu  210012
   China

   Email: zhu.chun1@zte.com.cn


























Wang, et al.             Expires March 15, 2021                [Page 18]
