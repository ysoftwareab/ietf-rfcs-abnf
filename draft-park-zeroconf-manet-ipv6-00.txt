





INTERNET DRAFT                                             Jung-Soo Park
Expires: January 2002                                       Yong-Jin Kim
                                                                    ETRI
                                                           Sung-Woo Park
                                                       Hannam University       
                                                               July 2001


   Stateless address autoconfiguration in Mobile Ad Hoc Networks using
       site-local address    <draft-park-zeroconf-manet-ipv6-00.txt>


Status of this Memo

     This document is an Internet-Draft and is in full conformance with
     all provisions of Section 10 of RFC2026.

     Internet Drafts are working documents of the Internet Engineering
     Task Force (IETF), its areas, and working groups. Note that other
     groups may also distribute working documents as Internet-Drafts.

     Internet-Drafts are draft documents valid for a maximum of six
     months and may be updated, replaced, or obsolete by other documents
     at anytime. It is inappropriate to use Internet Drafts as reference
     material or to cite them other than as "work in progress."

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt.

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


Abstract

     The concept of IPv6 stateless address autoconfiguration (SAA) lends
     itself easily to a mobile ad hoc network where no administrative
     configurations are available. However, the SAA designed to operate
     on a single link is not directly applicable to the mobile ad hoc
     network with multi-hop paths. In this document, we extend the
     current SAA to overcome this limitation by using the IPv6 site-
     local address.



Table of Contents:

     1. Introduction
     2. Scope of Work
     3. Protocol Overview
     3.1 Address Generation
     3.2 DAD




JPark, Kim, SPark         Expires January 2002                  [Page 1]


INTERNET-DRAFTUse of Site-Local Address in Mobile Ad Hoc Networks July 2001


     4. Security Considerations
     References




1. Introduction


     A mobile ad hoc network is a network that is built on the fly
     without any pre-established infrastructure. For a node to
     participate in communication over the network, the first thing to
     do is to obtain an IP address. However, since there exists no
     centralized administration in the mobile ad hoc network, each node
     has to be configured on its own.

     IPv6 enables a node to autoconfigure itself with an IP address in
     two different ways: stateful or stateless. The stateless address
     autoconfiguration (SAA) provides a useful way to assign IP
     addresses to nodes in the network with no configuration servers. In
     the SAA [1], each node generates a link-local address and performs
     the duplicate address detection (DAD) to verify the uniqueness of
     that address. The DAD is based on the Neighbor Discovery Protocol
     (NDP) [2] in which messages are exchanged only among neighbors.
     That is, all the messages used in NDP are link-local scoped.

     We find it difficult to apply the SAA directly in the mobile ad hoc
     network due to the mismatch between the address scope and the
     network topology. A mobile ad hoc network typically consists of
     mobile nodes connected by wireless links. Each node is conceived as
     a host-enabled router and forwards datagrams at the IP layer.
     Depending on the transmission range of wireless links, a
     communication path may span more than a single hop. In this case,
     using link-local addresses will violate the definition of the term
     "link-local" by which the transmission of datagrams must be
     confined to a single link.

     Fortunately, IPv6 defines another level of the local-scoped address
     called the "site-local" address. IP datagrams with the site-local
     scope could reach anywhere inside a site without putting any
     restrictions on the intermediate nodes. Even though there has been
     no rigorous definition yet about the site, we see that the area
     covered by the mobile ad hoc network usually fits well with that of
     the site. Accordingly, it would be appropriate to use the site-
     local address to deliver IP datagrams along the multi-hop paths
     within the mobile ad hoc network (site). The accompanied DAD also
     needs to be consistent with the multi-hop environments.


2. Scope of Work






JPark, Kim, SPark         Expires January 2002                  [Page 2]


INTERNET-DRAFTUse of Site-Local Address in Mobile Ad Hoc Networks July 2001


     A mobile ad hoc network may or may not connect to the external IP-
     based networks such as Internet. This document deals with the
     situation where the mobile ad hoc network operates in isolation
     from the outside world. Connecting to the Internet needs further
     study and is currently out of scope in this document.

     From the topology point of view, one of main features of the mobile
     ad hoc network is the dynamically changing connectivity. This
     happens due to either the unreliable wireless channels or the node
     mobility. Some nodes can be occasionally disconnected from the rest
     of the network and re-connected after a while. Recovering from this
     type of network partitioning may require additional procedures but
     is out of scope in this document.


3. Protocol Overview



3.1 Address Generation


     By the assumption of the isolated operation, we allow each node to
     generate a local-scoped address and use it inside the mobile ad hoc
     network. In IPv6, there are two types of local-scoped addresses:
     link- local and site-local. Since we would like to view the mobile
     ad hoc network as a single site, the use of site-local addresses is
     preferred.

     As specified in [3], a site-local address is composed of four
     fields: 10-bit site-local format prefix (FEC0::/10), 38-bit all
     zeros, 16-bit subnet ID, and 64-bit interface ID. The first 48 bits
     are fixed and the interface ID is determined by the link layer
     address. To construct a complete site-local address, each node
     randomly generates its own subnet ID within a permissible range. By
     doing this, every node may have different subnet ID from each
     other. As a matter of fact, the subnet ID makes no sense since it
     does not offer any type of route aggregation. Thus, the subnet ID
     is simply considered as the extension of interface ID and can be
     renumbered later by the gateway when connected to the Internet.

     Recently, there have been some arguments for treating the mobile ad
     hoc network as a single subnet. This makes it easy to connect to
     the Internet via route aggregation, but forces each node to forward
     datagrams below the IP level. In this case, the well-known subnet
     ID can be defined and used by nodes.


3.2 DAD


     Once a site-local address has been generated, its uniqueness must




JPark, Kim, SPark         Expires January 2002                  [Page 3]


INTERNET-DRAFTUse of Site-Local Address in Mobile Ad Hoc Networks July 2001


     be checked out before being assigned to the interface. DAD is such
     a procedure that detects the duplicate addresses that might be
     present in the network. The DAD can be done with the aid of the
     underlying routing protocol. A lot of different routing protocols
     are being considered for implementation in the mobile ad hoc
     network. We believe that it would be better to have the DAD
     independent from the variety of the routing protocols.

     Alternatively, the DAD may utilize the existing NDP as in [1]. The
     DAD is performed via two NDP messages: Neighbor Solicitation (NS)
     and Neighbor Advertisement (NA). Recall that all the IP addresses
     used in NDP messages are link-local scoped. On the other hand, the
     mobile ad hoc network requires the NS/NA messages be broadcast to
     all network nodes along the multi-hop path. One possible way to do
     this is to have each node forward selectively the DAD-related
     messages even though those messages are link-local scoped. However,
     rather than apply different forwarding rules to messages with the
     link-local scope, we modify the address scope of the current NS/NA
     messages for DAD in the mobile ad hoc network. If needed, new types
     of ICMP messages can be defined for the same purpose.

     With NS messages, the destination IP address of the NS message must
     be changed as follows. First, the address scope is changed from
     link-local to site-local. Next, instead of using solicited-node
     multicast address, all nodes multicast address is used. This
     prevents some nodes more than one hop away from missing NS
     messages. The resulting destination IP address of the NS message
     will be the well-known site-local all nodes multicast address
     (FF05::1). Considering that each node acts as a router, the site-
     local all routers multicast address (FF05::2) may be also used.

     In the current SAA, NA messages are already broadcast to all nodes.
     We only need to change the scope of the destination IP address from
     link- local to site-local.

     With no doubt, the NS/NA messages may be excessively flooded over
     the site due to the transmission characteristics of wireless links.
     Some mechanisms must be prepared to avoid this kind of broadcast
     storm problems. Each node can maintain a cache entry that keeps the
     addresses for which NS/NA messages has been sent. The broadcast
     identifier can be used to discard the redundant NS/NA messages.


4. Security Considerations


     TBD.


References






JPark, Kim, SPark         Expires January 2002                  [Page 4]


INTERNET-DRAFTUse of Site-Local Address in Mobile Ad Hoc Networks July 2001


[1]  S. Thomson and T. Narten, "IPv6 Stateless Address
     Autoconfiguration", RFC2462, December 1998.


[2]  T. Narten, El. Nordmark and W. Simpson, "Neighbor Discovery for IP
     version 6 (IPv6), RFC2461, December 1998.


[3]  R. Hinden and S. Deering, "IP version 6 Addressing Architecture",
     RFC2373, July 1998.






Authors Addresses

  Jung-Soo Park
  ETRI PEC
  161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
  Tel: +82 42 860 6514
  Fax: +82 42 861 5404
  E-mail: jspark@pec.etri.re.kr

  Yong-Jin Kim
  ETRI PEC
  161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
  Tel: +82 42 860 6564
  Fax: +82 42 861 5404
  E-mail: yjkim@pec.etri.re.kr

  Sung-Woo Park
  Dept. of Information and Communication Eng.
  Hannam University
  133 Ojung-Dong, Daeduk-Gu, Taejon 306-791, Korea
  Tel: +82 42 639 7398
  Fax: +82 42 629 7843
  E-mail: swpark@eve.hannam.ac.kr

















JPark, Kim, SPark         Expires January 2002                  [Page 5]
