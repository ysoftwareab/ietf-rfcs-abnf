<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Displaying Downgraded Messages for Email Address Internationalization</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Displaying Downgraded Messages for Email Address Internationalization">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Email Address Internationalization</td><td class="header">K. Fujiwara</td></tr>
<tr><td class="header">(EAI)</td><td class="header">JPRS</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">October 17, 2008</td></tr>
<tr><td class="header">Intended status: Experimental</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: April 20, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Displaying Downgraded Messages for Email Address Internationalization<br />draft-ietf-eai-downgraded-display-00.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 20, 2009.</p>

<h3>Abstract</h3>

<p>
	This document describes how to display downgraded messages
	which originally contain internationalized E-mail addresses
	or internationalized header fields.
    
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Terminology<br />
<a href="#displaying">3.</a>&nbsp;
Displaying downgraded message<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DecodingTechnique">3.1.</a>&nbsp;
Displaying technique 1<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DecodingTechnique2">3.2.</a>&nbsp;
Displaying technique 2<br />
<a href="#security">4.</a>&nbsp;
Security considerations<br />
<a href="#anchor2">5.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor3">6.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor4">7.</a>&nbsp;
Change History<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">7.1.</a>&nbsp;
draft-fujiwara-eai-downgraded-display: Version 00<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">7.2.</a>&nbsp;
draft-ietf-eai-downgraded-display: Version 00<br />
<a href="#rfc.references1">8.</a>&nbsp;
Normative References<br />
<a href="#anchor8">Appendix&nbsp;A.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">A.1.</a>&nbsp;
Displaying technique 1 example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">A.2.</a>&nbsp;
Displaying technique 2 example<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
	The Email Address Internationalization (UTF8SMTP) extension document set
	<a class='info' href='#RFC4952'>[RFC4952]<span> (</span><span class='info'>Klensin, J. and Y. Ko, &ldquo;Overview and Framework for Internationalized Email,&rdquo; July&nbsp;2007.</span><span>)</span></a>
	<a class='info' href='#RFC5336'>[RFC5336]<span> (</span><span class='info'>Yao, J. and W. Mao, &ldquo;SMTP Extension for Internationalized Email Addresses,&rdquo; September&nbsp;2008.</span><span>)</span></a>
	<a class='info' href='#RFC5335'>[RFC5335]<span> (</span><span class='info'>Abel, Y., &ldquo;Internationalized Email Headers,&rdquo; September&nbsp;2008.</span><span>)</span></a>
	<a class='info' href='#RFC5337'>[RFC5337]<span> (</span><span class='info'>Newman, C. and A. Melnikov, &ldquo;Internationalized Delivery Status and Disposition Notifications,&rdquo; September&nbsp;2008.</span><span>)</span></a>
	expands Email address structure, syntax and Email header format.
	To avoid bouncing internationalized Email messages,
	the downgrading mechanism <a class='info' href='#I-D.ietf-eai-downgrade'>[I&#8209;D.ietf&#8209;eai&#8209;downgrade]<span> (</span><span class='info'>Fujiwara, K. and Y. Yoneya, &ldquo;Downgrading mechanism for Email Address Internationalization,&rdquo; September&nbsp;2008.</span><span>)</span></a>
	converts an internationalized message to a traditional Email message
	when a server in the delivery path does not support the UTF8SMTP extension.
	The downgraded message is a traditional Email message,
	except the message has "Downgraded-" header fields.
    
</p>
<p>
	A perfect reverse-function of the downgrading does not exist
	because the encoding defined in <a class='info' href='#RFC2047'>[RFC2047]<span> (</span><span class='info'>Moore, K., &ldquo;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text,&rdquo; November&nbsp;1996.</span><span>)</span></a> is not exactly reversible
	and Received header field downgrading may remove FOR clause information.
	The restoration of the downgrading should be done once at the final
	destination of the downgraded message such as MUAs or IMAP servers.
	This document describes the restoration methods as displaying techniques
	in MUAs.
	
</p>
<p>
	This is an informational document and it does not supersede the
	referenced documents.
    
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
      The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
	"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL"
      in this document are to be interpreted as described in RFC
      2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
    
</p>
<p>
   Specialized terms used in this specification are defined in the
   EAI overview <a class='info' href='#RFC4952'>[RFC4952]<span> (</span><span class='info'>Klensin, J. and Y. Ko, &ldquo;Overview and Framework for Internationalized Email,&rdquo; July&nbsp;2007.</span><span>)</span></a> or in
	<a class='info' href='#RFC5321'>[RFC5321]<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; October&nbsp;2008.</span><span>)</span></a><a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>,
	MIME documents
		<a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>
		<a class='info' href='#RFC2047'>[RFC2047]<span> (</span><span class='info'>Moore, K., &ldquo;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text,&rdquo; November&nbsp;1996.</span><span>)</span></a>
		<a class='info' href='#RFC2183'>[RFC2183]<span> (</span><span class='info'>Troost, R., Dorner, S., and K. Moore, &ldquo;Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field,&rdquo; August&nbsp;1997.</span><span>)</span></a>
		<a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a>.
    
</p>
<p>
	This document depends on
	<a class='info' href='#RFC5335'>[RFC5335]<span> (</span><span class='info'>Abel, Y., &ldquo;Internationalized Email Headers,&rdquo; September&nbsp;2008.</span><span>)</span></a> and
	<a class='info' href='#I-D.ietf-eai-downgrade'>[I&#8209;D.ietf&#8209;eai&#8209;downgrade]<span> (</span><span class='info'>Fujiwara, K. and Y. Yoneya, &ldquo;Downgrading mechanism for Email Address Internationalization,&rdquo; September&nbsp;2008.</span><span>)</span></a>.
	Key words used in these document are used in this document, too.
    
</p>
<p>
	The term "non-ASCII" is an UTF-8 string which contains at least
	one non-ASCII character. 
    
</p>
<p>
	The term "address header field" is used for a header field which
	contains &lt;mailbox&gt; elements which is defined in <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>.
	"Address header fields" contain
	"From", "Sender", "Reply-To", "To", "Cc", "Bcc", "Resent-From",
      	"Resent-Sender", "Resent-To", "Resent-Cc", "Return-Path" header fields.
    
</p>
<p>
	An "UTF8SMTP message" is an Email messages expanded by
	<a class='info' href='#RFC5335'>[RFC5335]<span> (</span><span class='info'>Abel, Y., &ldquo;Internationalized Email Headers,&rdquo; September&nbsp;2008.</span><span>)</span></a>.
    
</p>
<a name="displaying"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Displaying downgraded message</h3>

<p>
	Displaying downgraded message is mostly performed by MIME decoding
	according to <a class='info' href='#RFC2047'>[RFC2047]<span> (</span><span class='info'>Moore, K., &ldquo;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text,&rdquo; November&nbsp;1996.</span><span>)</span></a> and <a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a>.
	Result of MIME decoding,
	 the header of the message still contains Downgraded-*: header fields,
	but the header field bodies are MIME decoded.
	These decoded "Downgraded-" header fields contain
	the original header field name and the original header field values.
	The recipient can read them.
	But the recipient's MUA cannot use the original header fields automatically.
    
</p>
<p>
	Additionally, MUAs can process "Downgraded-" header fields.
	It is described in
		<a class='info' href='#DecodingTechnique'>Section&nbsp;3.1<span> (</span><span class='info'>Displaying technique 1</span><span>)</span></a> and
		<a class='info' href='#DecodingTechnique2'>Section&nbsp;3.2<span> (</span><span class='info'>Displaying technique 2</span><span>)</span></a>.
    
</p>
<a name="DecodingTechnique"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Displaying technique 1</h3>

<p>
	MUAs may remove "Downgraded-" from decoded "Downgraded-" header fields' name.
	
</p>
<p>
	   First, decode MIME encoded header fields and MIME body part header fields
	   according to <a class='info' href='#RFC2047'>[RFC2047]<span> (</span><span class='info'>Moore, K., &ldquo;MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text,&rdquo; November&nbsp;1996.</span><span>)</span></a> and <a class='info' href='#RFC2231'>[RFC2231]<span> (</span><span class='info'>Freed, N. and K. Moore, &ldquo;MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations,&rdquo; November&nbsp;1997.</span><span>)</span></a>.
	
</p>
<p>
	   Then, for each "Downgraded-" header field,
	   generate new header field which field name is the original header field name
			and the field value is the decoded header field value,
	   and replace the "Downgraded-" header field by the generated header field.
	
</p>
<p>
	   Don't change "Downgraded-Mail-From" and "Downgraded-Rcpt-To" header fields
	   because they do not have their original header fields.
	
</p>
<p>
	With this technique, the "address header fields" may be displayed twice,
	one is from downgraded header field
	and the other is from decoded "Downgraded-" header.
	
</p>
<a name="DecodingTechnique2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Displaying technique 2</h3>

<p>
	MUAs may decode and re-generate the original header of the message.
	This technique may reconstruct the original message from the downgraded message.
	But it is not guaranteed.
	
</p>
<p>
	   This technique is implemented by the following steps.
<br />
<br />

		</p>
<blockquote class="text"><dl>
<dt>Step 1: </dt>
<dd>
		 Select "Downgraded-" header fields
		 whose original header field is an "address header field".
		 Target header fields are "Downgraded-From",
		 "Downgraded-Sender", "Downgraded-Reply-To",
		 "Downgraded-To", "Downgraded-Cc", "Downgraded-Bcc",
		 "Downgraded-Resent-From", "Downgraded-Resent-Sender",
		 "Downgraded-Resent-To", "Downgraded-Resent-Cc", and
		 "Downgraded-Return-Path" header fields.
<br />

		
</dd>
<dt>Step 2: </dt>
<dd>Generate new header field which field name is the original header field name
			and the field value is the decoded header field value from the output of Step 1.
<br />

		
</dd>
<dt>Step 3: </dt>
<dd>
		 Apply Email header fields downgrading defined in
		     section 5 of <a class='info' href='#I-D.ietf-eai-downgrade'>[I&#8209;D.ietf&#8209;eai&#8209;downgrade]<span> (</span><span class='info'>Fujiwara, K. and Y. Yoneya, &ldquo;Downgrading mechanism for Email Address Internationalization,&rdquo; September&nbsp;2008.</span><span>)</span></a> 
		     to the output of Step 2
		     without re-generating "Downgraded-" header fields.
<br />

		
</dd>
<dt>Step 4: </dt>
<dd>
		 Compare the output of Step 3 and the original header fields.
		 If the same header fields exist for both the output and the original header fields,
		  remove the same header fields from the original header fields.
		 This step outputs the original header fields which is modified by this step.
		 Before this comparison, a canonicalization described below is useful.
<br />

		 
<ol class="text">
<li>Unfold all header field continuation lines as described in <a class='info' href='#RFC5322'>[RFC5322]<span> (</span><span class='info'>Resnick, P., Ed., &ldquo;Internet Message Format,&rdquo; October&nbsp;2008.</span><span>)</span></a>.
</li>
<li>Insert a space character before and after &lt;mailbox-list&gt; separator ","
		    if there is no space character.
</li>
<li>Insert a space character before and after &lt;comment&gt; 
		    if there is no space character.
</li>
<li>Decode &lt;encoded-word&gt; whose charset is 'UTF-8'.
</li>
<li>Convert all sequences of one or more WSP characters to a single space
      	character.  WSP characters here include those before and after a
      line folding boundary.
</li>
<li>Delete all WSP characters at the end of each unfolded header field value.
</li>
<li>Delete any WSP characters remaining before and after the colon
      separating the header field name from the header field value.  The
      colon separator MUST be retained.
</li>
</ol>
<br />
<br />

		
</dd>
<dt>Step 5: </dt>
<dd>
		 Finally, do 'Displaying technique 1' described in <a class='info' href='#DecodingTechnique'>Section&nbsp;3.1<span> (</span><span class='info'>Displaying technique 1</span><span>)</span></a> to the output of Step 4.
		
</dd>
</dl></blockquote><p>
		
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security considerations</h3>

<p>
	Displaying downgraded message may break the header of the message.
	MUAs should have a function to read the original received message.
    
</p>
<p>
See "Security considerations" section in <a class='info' href='#RFC4952'>[RFC4952]<span> (</span><span class='info'>Klensin, J. and Y. Ko, &ldquo;Overview and Framework for Internationalized Email,&rdquo; July&nbsp;2007.</span><span>)</span></a> for more discussion.
    
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
    
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Acknowledgements</h3>

<p>
    
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Change History</h3>

<p>
	This section is used for tracking the update of this document.  Will be
	removed after finalize.
    
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
draft-fujiwara-eai-downgraded-display: Version 00</h3>

<p>
	</p>
<ul class="text">
<li>Initial version
</li>
<li>It is separated from Appendix A of draft-ietf-eai-downgrade-05.txt
</li>
</ul><p>
	
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
draft-ietf-eai-downgraded-display: Version 00</h3>

<p>
	</p>
<ul class="text">
<li>Submitted as a working group draft
</li>
</ul><p>
	
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-eai-downgrade">[I-D.ietf-eai-downgrade]</a></td>
<td class="author-text">Fujiwara, K. and Y. Yoneya, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-downgrade-09.txt">Downgrading mechanism for Email Address Internationalization</a>,&rdquo; draft-ietf-eai-downgrade-09 (work in progress), September&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-eai-downgrade-09.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2045">[RFC2045]</a></td>
<td class="author-text"><a href="mailto:ned@innosoft.com">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com">N. Borenstein</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2045">Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</a>,&rdquo; RFC&nbsp;2045, November&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2045.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2047">[RFC2047]</a></td>
<td class="author-text"><a href="mailto:moore@cs.utk.edu">Moore, K.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2047">MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</a>,&rdquo; RFC&nbsp;2047, November&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2047.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2047.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2047.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2183">[RFC2183]</a></td>
<td class="author-text"><a href="mailto:rens@century.com">Troost, R.</a>, <a href="mailto:sdorner@qualcomm.com">Dorner, S.</a>, and <a href="mailto:moore@cs.utk.edu">K. Moore</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2183">Communicating Presentation Information in Internet Messages: The Content-Disposition Header Field</a>,&rdquo; RFC&nbsp;2183, August&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2183.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2183.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2183.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2231">[RFC2231]</a></td>
<td class="author-text"><a href="mailto:ned.freed@innosoft.com">Freed, N.</a> and <a href="mailto:moore@cs.utk.edu">K. Moore</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2231">MIME Parameter Value and Encoded Word Extensions: Character Sets, Languages, and Continuations</a>,&rdquo; RFC&nbsp;2231, November&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2231.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2231.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2231.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4952">[RFC4952]</a></td>
<td class="author-text">Klensin, J. and Y. Ko, &ldquo;<a href="http://tools.ietf.org/html/rfc4952">Overview and Framework for Internationalized Email</a>,&rdquo; RFC&nbsp;4952, July&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4952.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5321">[RFC5321]</a></td>
<td class="author-text">Klensin, J., &ldquo;<a href="http://tools.ietf.org/html/rfc5321">Simple Mail Transfer Protocol</a>,&rdquo; RFC&nbsp;5321, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5321.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5322">[RFC5322]</a></td>
<td class="author-text"><a href="mailto:presnick@qualcomm.com">Resnick, P., Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc5322">Internet Message Format</a>,&rdquo; RFC&nbsp;5322, October&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5322.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc5322.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc5322.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5335">[RFC5335]</a></td>
<td class="author-text">Abel, Y., &ldquo;<a href="http://tools.ietf.org/html/rfc5335">Internationalized Email Headers</a>,&rdquo; RFC&nbsp;5335, September&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5335.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5336">[RFC5336]</a></td>
<td class="author-text">Yao, J. and W. Mao, &ldquo;<a href="http://tools.ietf.org/html/rfc5336">SMTP Extension for Internationalized Email Addresses</a>,&rdquo; RFC&nbsp;5336, September&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5336.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5337">[RFC5337]</a></td>
<td class="author-text">Newman, C. and A. Melnikov, &ldquo;<a href="http://tools.ietf.org/html/rfc5337">Internationalized Delivery Status and Disposition Notifications</a>,&rdquo; RFC&nbsp;5337, September&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5337.txt">TXT</a>).</td></tr>
</table>

<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Examples</h3>

<p>
	This section shows a example of displaying downgraded message.
	First, an example of the original UTF8SMTP message and its downgraded message are
	shown. They are the same as 
	"Example 1" of <a class='info' href='#I-D.ietf-eai-downgrade'>[I&#8209;D.ietf&#8209;eai&#8209;downgrade]<span> (</span><span class='info'>Fujiwara, K. and Y. Yoneya, &ldquo;Downgrading mechanism for Email Address Internationalization,&rdquo; September&nbsp;2008.</span><span>)</span></a>.
	The example UTF8SMTP message is shown in <a class='info' href='#example-originaleaismtpsession'>Figure&nbsp;1<span> (</span><span class='info'>Original message</span><span>)</span></a>.
	
</p>
<p>
	<br /><hr class="insert" />
<a name="example-originaleaismtpsession"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Message-Id: MESSAGE_ID
Mime-Version: 1.0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 8bit
Subject: NON-ASCII-SUBJECT
From: DISPLAY-local &lt;NON-ASCII-local@example.com
 &lt;ASCII-local@example.com&gt;&gt;
To: DISPLAY-remote1 &lt;NON-ASCII-remote1@example.net
 &lt;ASCII-remote1@example.net&gt;&gt;
Cc: DISPLAY-remote2 &lt;NON-ASCII-remote2@example.org&gt;
Date: DATE

MAIL_BODY

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Original message&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

	
</p>
<p>
	Delivered downgraded message is shown in <a class='info' href='#example-headerconversiondowngrading'>Figure&nbsp;2<span> (</span><span class='info'>Downgraded message</span><span>)</span></a>.
	Return-Path header will be added by the final destination MTA.
	<br /><hr class="insert" />
<a name="example-headerconversiondowngrading"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Return-Path: &lt;ASCII-local@example.com&gt;
Downgraded-Mail-From: =?UTF-8?Q?&lt;NON-ASCII-local@example.com&gt;_?=
 =?UTF-8?Q?&lt;ASCII-local@example.com&gt;?=
Downgraded-Rcpt-To: =?UTF-8?Q?&lt;NON-ASCII-remote1@example.net&gt;_?=
 =?UTF-8?Q?&lt;ASCII-remote1@example.net&gt;?=
Message-Id: MESSAGE_ID
Mime-Version: 1.0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 8bit
Subject: =?UTF-8?Q?NON-ASCII-SUBJECT?=
From: =?UTF-8?Q?DISPLAY-local?= &lt;ASCII-local@example.com&gt;
Downgraded-From: =?UTF-8?Q?DISPLAY-local_&lt;NON-ASCII-local@example.com_?=
 =?UTF-8?Q?&lt;ASCII-local@example.com&gt;&gt;?=
To: =?UTF-8?Q?DISPLAY-remote1?= &lt;ASCII-remote1@example.net&gt;
Downgraded-To: =?UTF-8?Q?DISPLAY-remote1_?=
 =?UTF-8?Q?&lt;NON-ASCII-remote1@example.net_&lt;ASCII-remote1@example.net&gt;&gt;?=
Cc: =?UTF-8?Q?DISPLAY-remote2?= Internationalized address
 =?UTF-8?Q?NON-ASCII-remote2@example.org?= removed:;
Downgraded-Cc: =?UTF-8?Q?DISPLAY-remote2_?=
 =?UTF-8?Q?&lt;NON-ASCII-remote2@example.org&gt;?=
Date: DATE

MAIL_BODY

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Downgraded message&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<p>
	<a class='info' href='#example-mimedecoded'>Figure&nbsp;3<span> (</span><span class='info'>MIME decoded message</span><span>)</span></a> shows MIME decoded message of
	<a class='info' href='#example-headerconversiondowngrading'>Figure&nbsp;2<span> (</span><span class='info'>Downgraded message</span><span>)</span></a>.
	The recipient can read the original From, To, Cc header fields as
	Downgraded-From, Downgraded-To, Downgraded-Cc header fields.
	<br /><hr class="insert" />
<a name="example-mimedecoded"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Return-Path: &lt;ASCII-local@example.com&gt;
Downgraded-Mail-From: &lt;NON-ASCII-local@example.com&gt;
 &lt;ASCII-local@example.com&gt;
Downgraded-Rcpt-To: &lt;NON-ASCII-remote1@example.net&gt;
 &lt;ASCII-remote1@example.net&gt;
Message-Id: MESSAGE_ID
Mime-Version: 1.0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 8bit
Subject: NON-ASCII-SUBJECT
From: DISPLAY-local &lt;ASCII-local@example.com&gt;
Downgraded-From: DISPLAY-local &lt;NON-ASCII-local@example.com
 &lt;ASCII-local@example.com&gt;&gt;
To: DISPLAY-remote1 &lt;ASCII-remote1@example.net&gt;
Downgraded-To: DISPLAY-remote1 &lt;NON-ASCII-remote1@example.net
 &lt;ASCII-remote1@example.net&gt;&gt;
Cc: DISPLAY-remote2 Internationalized address
 NON-ASCII-remote2@example.org removed:;
Downgraded-Cc: DISPLAY-remote2 &lt;NON-ASCII-remote2@example.org&gt;
Date: DATE

MAIL_BODY

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: MIME decoded message&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


      
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
Displaying technique 1 example</h3>

<p>
	After removing "Downgraded-" from decoded "Downgraded-" header fields from
	<a class='info' href='#example-mimedecoded'>Figure&nbsp;3<span> (</span><span class='info'>MIME decoded message</span><span>)</span></a>,
	'Displaying technique 1'
	example is shown in <a class='info' href='#displayingtechnique1example'>Figure&nbsp;4<span> (</span><span class='info'>Displaying technique 1</span><span>)</span></a>.
	
</p>
<p>
	<br /><hr class="insert" />
<a name="displayingtechnique1example"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Return-Path: &lt;ASCII-local@example.com&gt;
Mail-From: &lt;NON-ASCII-local@example.com&gt;
 &lt;ASCII-local@example.com&gt;
Rcpt-To: &lt;NON-ASCII-remote1@example.net&gt;
 &lt;ASCII-remote1@example.net&gt;
Message-Id: MESSAGE_ID
Mime-Version: 1.0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 8bit
Subject: NON-ASCII-SUBJECT
From: DISPLAY-local &lt;ASCII-local@example.com&gt;
From: DISPLAY-local &lt;NON-ASCII-local@example.com
 &lt;ASCII-local@example.com&gt;&gt;
To: DISPLAY-remote1 &lt;ASCII-remote1@example.net&gt;
To: DISPLAY-remote1 &lt;NON-ASCII-remote1@example.net
 &lt;ASCII-remote1@example.net&gt;&gt;
Cc: DISPLAY-remote2 Internationalized address
 NON-ASCII-remote2@example.org removed:;
Cc: DISPLAY-remote2 &lt;NON-ASCII-remote2@example.org&gt;
Date: DATE

MAIL_BODY

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Displaying technique 1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

	
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
Displaying technique 2 example</h3>

<p>
	This example shows displaying process of
	'Displaying technique 2' for
	<a class='info' href='#example-headerconversiondowngrading'>Figure&nbsp;2<span> (</span><span class='info'>Downgraded message</span><span>)</span></a>.
      
</p>
<p>
	First, perform Step 1.
      
</p>
<p>
	<br /><hr class="insert" />
<a name="example-step1"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Downgraded-From: =?UTF-8?Q?DISPLAY-local_&lt;NON-ASCII-local@example.com_?=
 =?UTF-8?Q?&lt;ASCII-local@example.com&gt;&gt;?=
Downgraded-To: =?UTF-8?Q?DISPLAY-remote1_?=
 =?UTF-8?Q?&lt;NON-ASCII-remote1@example.net_&lt;ASCII-remote1@example.net&gt;&gt;?=
Downgraded-Cc: =?UTF-8?Q?DISPLAY-remote2_?=
 =?UTF-8?Q?&lt;NON-ASCII-remote2@example.org&gt;?=

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Displaying technique 2: Output of Step 1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<p>
	Then, perform Step 2.
      
</p>
<p>
	<br /><hr class="insert" />
<a name="example-step2"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

From: DISPLAY-local &lt;NON-ASCII-local@example.com
 &lt;ASCII-local@example.com&gt;&gt;
To: DISPLAY-remote1 &lt;NON-ASCII-remote1@example.net
 &lt;ASCII-remote1@example.net&gt;&gt;
Cc: DISPLAY-remote2 &lt;NON-ASCII-remote2@example.org&gt;

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Displaying technique 2: Output of Step 2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<p>
	Perform Step 3.
	
</p>
<p>
	<br /><hr class="insert" />
<a name="example-step3"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

From: =?UTF-8?Q?DISPLAY-local?= &lt;ASCII-local@example.com&gt;
To: =?UTF-8?Q?DISPLAY-remote1?= &lt;ASCII-remote1@example.net&gt;
Cc: =?UTF-8?Q?DISPLAY-remote2?= Internationalized address
 =?UTF-8?Q?NON-ASCII-remote2@example.org?= removed:;

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: Displaying technique 2: Output of Step 3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<p>
	  Perform Step 4. "From", "To", "Cc" header fields are removed in <a class='info' href='#example-step4'>Figure&nbsp;8<span> (</span><span class='info'>Displaying technique 2: Output of Step 4</span><span>)</span></a>.
	
</p>
<p>
	<br /><hr class="insert" />
<a name="example-step4"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Return-Path: &lt;ASCII-local@example.com&gt;
Downgraded-Mail-From: =?UTF-8?Q?&lt;NON-ASCII-local@example.com&gt;?=
 =?UTF-8?Q?&lt;ASCII-local@example.com&gt;?=
Downgraded-Rcpt-To: =?UTF-8?Q?&lt;NON-ASCII-remote1@example.net&gt;_?=
 =?UTF-8?Q?&lt;ASCII-remote1@example.net&gt;?=
Message-Id: MESSAGE_ID
Mime-Version: 1.0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 8bit
Subject: =?UTF-8?Q?NON-ASCII-SUBJECT?=
Downgraded-From: =?UTF-8?Q?DISPLAY-local_&lt;NON-ASCII-local@example.com_?=
 =?UTF-8?Q?&lt;ASCII-local@example.com&gt;&gt;?=
Downgraded-To: =?UTF-8?Q?DISPLAY-remote1?_?=
 =?UTF-8?Q?&lt;NON-ASCII-remote1@example.net_&lt;ASCII-remote1@example.net&gt;&gt;?=
Downgraded-Cc: =?UTF-8?Q?DISPLAY-remote2_?=
 =?UTF-8?Q?&lt;NON-ASCII-remote2@example.org&gt;?=
Date: DATE

MAIL_BODY

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;8: Displaying technique 2: Output of Step 4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<p>
	    Perform Step 5. (Apply 'Displaying technique 1'.)
	  
</p>
<p>
	<br /><hr class="insert" />
<a name="displaytechnique2"></a>
</p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

Return-Path: &lt;ASCII-local@example.com&gt;
Downgraded-Mail-From: &lt;NON-ASCII-local@example.com&gt;
 &lt;ASCII-local@example.com&gt;
Downgraded-Rcpt-To: &lt;NON-ASCII-remote1@example.net&gt;
 &lt;ASCII-remote1@example.net&gt;
Message-Id: MESSAGE_ID
Mime-Version: 1.0
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: 8bit
Subject: NON-ASCII-SUBJECT
From: DISPLAY-local &lt;NON-ASCII-local@example.com
 &lt;ASCII-local@example.com&gt;&gt;
To: DISPLAY-remote1 &lt;NON-ASCII-remote1@example.net
 &lt;ASCII-remote1@example.net&gt;&gt;
Cc: DISPLAY-remote2 &lt;NON-ASCII-remote2@example.org&gt;
Date: DATE

MAIL_BODY

</pre></div><p>
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;9: Display technique 2: Decoded message&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      
</p>
<p>
	As a result, in this simple example, all original header fields are displayed in the original form.
	Differences between <a class='info' href='#example-originaleaismtpsession'>Figure&nbsp;1<span> (</span><span class='info'>Original message</span><span>)</span></a> and <a class='info' href='#displaytechnique2'>Figure&nbsp;9<span> (</span><span class='info'>Display technique 2: Decoded message</span><span>)</span></a> are Return-Path, Downgraded-Mail-From, Downgraded-Rcpt-To header fields only.
      
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Kazunori Fujiwara</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">JPRS</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chiyoda First Bldg. East 13F, 3-8-1 Nishi-Kanda</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chiyoda-ku, Tokyo  101-0065</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+81 3 5215 8451</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:fujiwara@jprs.co.jp">fujiwara@jprs.co.jp</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
