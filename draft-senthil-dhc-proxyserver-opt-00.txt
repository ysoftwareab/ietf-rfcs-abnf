
Network Working Group                            Senthil K Balasubramanian
Internet-Draft                                     Hewlett-Packard Company
Expires: May 13, 2004                                          12 Nov 2003


               DHCP Option for Proxy Server Configuration
                  draft-senthil-dhc-proxyserver-opt-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on May 13, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2003). All Rights Reserved.

Abstract

   This document defines a new Dynamic Host Configuration Protocol
   (DHCP) option, which can be used to configure the TCP/IP host's
   Proxy Server configuration for standard protocols like HTTP, FTP,
   NNTP, SOCKS, Gopher, SLL and etc. Proxy Server provides controlled 
   and efficient access to the Internet by access control mechanism 
   for different types of user requests and caching frequently accessed
   information (Web pages and possibly files that might have been
   downloaded using FTP and other protocols).

Table of Contents

   1. Terminologies Used . . . . . . . . . . . . . . . . . . . . . .  3

   2. Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4

   3. Requirements terminology . . . . . . . . . . . . . . . . . . .  4

   4. Proxy Server Configuration Option  . . . . . . . . . . . . . .  5


Senthil                     Expires May 13, 2004               [Page 1]

Internet-Draft    DHCP Option for Proxy Server Configuration   Nov 2003


   5. Option Usage  . . . . .  . . . . . . . . . . . . . . . . . . .  5

   6. Security Considerations  . . . . . . . . . . . . . . . . . . .  6

   7. IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  6

   8. Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 6

   9. Normative References . . . . .  . . . . . . . . . . . . . . . . 6

   10. Informative References  . . . . . . . . . . . . . . . . . . .  6

       Author's Address . . .  . . . . . . . . . . . . . . . . . . .  7

       Intellectual Property   . . . . . . . . . . . . . . . . . . .  7

       Copyright Statements .  . . . . . . . . . . . . . . . . . . .  8

1. Terminologies Used

        DHCP Client: A DHCP [1] client is an Internet host that uses
                DHCP to obtain configuration information such as network
	        address.

        DHCP Server: A DHCP server is an Internet host that returns
                configuration parameters to DHCP clients.

        Proxy Server: In a enterprise network that connects to Internet,
                a proxy server is a server that acts as an intermediary
                between a workstation user and the Internet so that the
                enterprise can ensure security, administrative control,
                and caching service. A Proxy server MAY be associated with
                or part of a gateway server that separates the enterprise
                network from the outside network (Usually Internet)
                and a firewall server that protects the enterprise network
                from outside intrusion.

         HTTP:  A protocol (RFC 2068, Hypertext Transfer Protocol,
                utilizing TCP) to transfer hypertext request and 
                information between servers and browsers.

         FTP:   A protocol (RFC 959, File Transfer Protocol Utilizing TCP)
                that allows users to copy file(s) between their local 
                system and any other system, which is reachable on the 
                network.

        SSL :   A protocol (Secure Sockets Layer), which provides 
                encrypted communications on the Internet.
	
        NNTP :  A Protocol (RFC 977, Network News Transfer Protocol) for
                the distribution, inquiry, retrieval and posting of news
                articles over the Internet, using a reliable stream based
                transmission.



Senthil                     Expires May 13, 2004               [Page 2]

Internet-Draft    DHCP Option for Proxy Server Configuration   Nov 2003

       Gopher:  A Protocol (RFC 1436) designed for distributed document
                search and retrieval.

        SOCKS:  SOCKSv5 is an approved standard (RFC 1928) generic,
                proxy protocol for TCP/IP based networking applications.
                The SOCKS protocol provides flexible framework for 
                developing secure communications by easily integrating 
                other security technologies.

        WAIS :  A protocol (Wide Area Information Server) designed for 
                wide-area networked-baed information system for searching,
                browsing and publishing.

2. Introduction

   The Dynamic Host Configuration Protocol [1] provides a framework for 
   passing configuration information to hosts on a TCP/IP network.
   However, the configuration capability provided by DHCP does not
   include Proxy(HTTP, FTP, NNTP, Gopher etc.)server configuration to
   be used so as to have controlled and/or efficient access to the
   Internet from within a firewall/enterprise network.

   Following Figure, depicts the typical setup of a secure subnet
   inside a firewall with Proxy server.

   +---------------------------+		+-----------+
   |                           |		|Remote HTTP|	
   |                           |	HTTP	|Server	    |
   |  +------------+        +-------------+<--->+-----------+
   |  | Clients    |        |Proxy Server |
   |  | Inside the |<------>|    +        | FTP +-----------+
   |  | Firewall   |        |Firewall     |<--->|Remote FTP |
   |  +------------+        +-------------+	|Server	    |
   |                           |  ^		+-----------+
   |                           |  |
   |                           |  |		+-----------+
   +---------------------------+  |  NNTP	|Remote NNTP|
				  +------------>|Server	    |
					        +-----------+

   The primary use of proxies is to allow access to the WWW 
   (World Wide Web) from within a firewall. A proxy is a special 
   software typically runs on firewall machine, waits for a request 
   from inside the firewall, forwards the request to the remote server
   outside the firewall, reads the response and then sends it back to
   the client. Usually, all the clients use the same proxy within a 
   given network, which helps in efficient caching of documents that 
   are requested by a number of clients. This behavior makes proxies 
   attractive to clients not inside a firewall.

   Proxy server increases the network security and user productivity 
   by content filtering and controlling both internal and external 
   access to information. Also, it provides several other 
   functionalities that are not discussed here.



Senthil                     Expires May 13, 2004               [Page 3]

Internet-Draft    DHCP Option for Proxy Server Configuration   Nov 2003

3. Requirements terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [3].

4. Proxy Server Configuration Option

   This document defines a new DHCP Option called the Proxy Server 
   Configuration Option. The format of the Proxy Server configuration
   option is:

   	   Code    Len    Proxy Server Configuration Sub Option
   	 +-------+------+------+------+------+------+-....-+------+
   	 |  TBD  |   N  |  a1  |  a2  |  a3  |  a4  |      |   aN |
   	 +-------+------+------+------+------+------+-....-+------+

   Code is TBD as per RFC-2939 [4]. The length N gives the total number
   of octets in the Proxy Server Configuration Sub Option. The minimum
   length is 8 octets. The Proxy Server Configuration sub option consists 
   of a sequence of SubOpt/Length/Value tuples for each sub option encoded
   in the following manner:

   The format Proxy Server Configuration sub Option is:

   	   SubOpt   Len    	 IP Address	      Port (2 octet)
   	 +-------+------+------+------+------+------+------+------+
   	 |  t	 |  N   |  a1  |  a2  |  a3  |  a4  |    port     |
   	 +-------+------+------+------+------+------+------+------+

   More than one Sub Option MAY be specified for the same protocol.
   In that case, the precedence should be given in the order in which
   these options are received by the client. The first one received
   shall be given higher priority and so on. The SubOpt field t 
   specifies the type of Protocol and MUST be one of the protocol 
   number.
   
       +-------------------------------+
       | protocol     |       Number   |
       +-------------------------------+
       |   HTTP       |         TBD    |
       +-------------------------------+
       |   FTP        |         TBD    |
       +-------------------------------+
       |   NNTP       |         TBD    |
       +-------------------------------+
       |   Gopher     |         TBD    |
       +-------------------------------+
       |   SSL        |         TBD    |
       +-------------------------------+
       |   SOCKS      |         TBD    |
       +-------------------------------+
       |   WAIS       |         TBD    |
       +-------------------------------+



Senthil                     Expires May 13, 2004               [Page 4]

Internet-Draft    DHCP Option for Proxy Server Configuration   Nov 2003

   DHCP server should send the port field (port number) in Network Byte
   Order.

5. Option Usage

   The Proxy Server Configuration field shall NOT be terminated with a
   255 sub-option.  The length N of the DHCP Proxy Server Configuration
   Option shall include all bytes of the sub-option code/length/value
   tuples. The length N of the sub-options shall be the number of octets
   in only that sub-option's value field. The port MUST be a valid
   TCP/UDP port. The minimum length of a sub-option is 6 octets. 
   The sub-options need not appear in protocol type order.

8. Security Considerations

    The DHCP Options defined here allow an interloper DHCP server to
    misdirect a client to access nonexistent/erring Proxy Server due to 
    which the connection to the Internet might be denied.
   
    DHCP provides an authentication mechanism, as described in RFC 3118
    [3], which may be used if authentication is required.


9. IANA Considerations
   
   IANA is requested to assign an option code to the Proxy Server
   Configuration Option and protocol numbers for the sub option.

   IANA is also requested to maintain a new number space for the 
   Proxy Server Configuration sub options.

10. Acknowledgements

   Thanks to Srinivas Reddy and Sridhar Ramamoorthy of Satyam InfoWay 
   for their extended help in technical Queries.

11. Normative References

   [1]  Droms, R., "Dynamic Host Configuration Protocol", RFC 2131,
        March 1997.

   [2]  Alexander, S. and R. Droms, "DHCP Options and BOOTP Vendor
        Extensions", RFC 2132, March 1997.

   [3] Droms, R. and W. Arbaugh, "Authentication for DHCP Messages",
	 RFC 3118, June 2001.

12. Informative References

   [4]   Bradner, S., "Key words for use in RFCs to Indicate Requirement
         Levels", BCP 14, RFC 2119, March 1997.

   [5]  Droms, R., "Procedures and IANA Guidelines for Definition of
         New DHCP Options and Message Types", BCP 43, RFC 2939,
         September 2000.


Senthil                     Expires May 13, 2004               [Page 5]

Internet-Draft    DHCP Option for Proxy Server Configuration   Nov 2003


   [6]  Narten, N. and H. Alvestrand, "Guidelines for Writing an IANA
	  Considerations Section in RFCs", BCP 26, RFC 2434, October 1998.

Author's Address

   Senthil K Balasubramanian
   Hewlett Packard
   29 Cunnigham Road,
   Bangalore
   India 560 052
     
   Phone: +91 80 205 3103
   EMail: ksenthil@india.hp.com


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights. Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11. Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard. Please address the information to the IETF Executive
   Director.




















Senthil                     Expires May 13, 2004               [Page 6]

Internet-Draft    DHCP Option for Proxy Server Configuration   Nov 2003

Full Copyright Statement

   Copyright (C) The Internet Society (2003). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.

























Senthil                     Expires May 13, 2004               [Page 7]

