d=198.76.28.4}^  |           |  v d=198.76.28.4}
                       +-----------------+       +-----------------+
                       |Stub Router w/NAT|       |Stub Router w/NAT|
                       +-----------------+       +-----------------+
                             |                         |
                             |  LAN               LAN  |
                       -------------             -------------
                                 |                 |
d=198.76.28.4}^ +--+             +--+ v d=10.81.13.22}
                                |--|             |--|
                               /____\           /____\
                             10.33.96.5       10.81.13.22

                     Figure 2: Basic NAT Operation

x=chksum[0]*256+chksum[1];
x=~x;
old=optr[0]*256+optr[1];
x-=old & 0xff00;
old=optr[0]*256+optr[1]; optr+=2;
x-=old & 0xffff;
olen-=2;
new=nptr[0]*256+nptr[1];
new=nptr[0]*256+nptr[1]; nptr+=2;
nlen-=2;
x=~x;
