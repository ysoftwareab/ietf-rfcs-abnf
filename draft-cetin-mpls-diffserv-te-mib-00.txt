Network Working Group                                      Riza Cetin
Internet Draft                                                Alcatel
Expires: May 2003                                                    
                                                        November 2002
 
                                                                      
 
 
                                                                      
                                                          
                                   
    Multiprotocol Label Switching (MPLS) Traffic Engineering
             Management Information Base for DiffServ
 
                                   
              draft-cetin-mpls-diffserv-te-mib-00.txt
                                   
                                   
Status of this Memo
  
   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC 2026.
  
   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.
  
   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."
  
   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.
  
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

1. Abstract
  
   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for diffServ based 
   Multiprotocol Label Switching (MPLS) Traffic Engineering.

2. Conventions used in this document
   
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [2].

3. Introduction
  
   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for diffServ based 
   Multiprotocol Label Switching (MPLS) Traffic Engineering.


Cetin, et. al.              Expires May 2003                 [Page 1]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



   Interaction with "Management Information Base for the Differentiated
   Service Architecture" defined in [3] is for further study.

   Configuration objects related to "Protocol Extensions for Support
   of Diff-Serv-aware MPLS Traffic Engineering" defined in [5] is for
   further study.       

4. Brief Description of MIB Objects

   The objects described in this section support MPLS-DiffServ
   extensions defined in [1].

   - Dependencies between tables/objects:

     The figure below shows the relationship and dependencies between
     configuration tables defined in this MIB.

     +--------------+                +-------+    
     | DSCP --> PHB |                |       |    
     |     Table    |--------------->|       |    
     +--------------+ ClassIndex     |  PHB  |       +-------------+
                      DropPreference | Table |------>| PHB --> EXP |
     +--------------+                |       |       |    Table    |
     | EXP  --> PHB |                |       |       +------+------+
     |     Table    |--------------->|       |              |
     +-------+------+                +---+---+              |                
             |                           | DsClassIndex     |
             | 1)                    +---+---+              | 2)
             |                       |  PSC  |              |
             |                       | Table |              |
             |                       +---+---+              |
             |                           |                  |
             |                           | 3)               |
             |                           |                  |
    +--------+---------------------------+-------------------------+
    |                         Tunnel Table                         |
    +--------------------------------------------------------------+

    1) To configure and signal EXP --> PHB mapping per E-LSP
       tunnel. This is optional, if not explicitly configured
       downstream LSRs uses the EXP --> PHB mapping configured
       on the interfaces at the ingress direction to determine
       the PHB associated with the EXP bits of the incoming MPLS
       packets.

    2) To configure PHB --> EXP mapping per E-LSP tunnels at the
       ingress LSRs. This mapping determines how to set EXP bits
       based on the PHB of the incoming IP packets.

       This configuration is optional, if not explicitly configured
       per tunnel, PHB --> EXP mapping configured on the interface
       where the tunnel leaves the ingress LSR is applied.

    3) To configure and signal PSC for the L-LSP tunnels.

Cetin, et. al.              Expires May 2003                 [Page 2]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



    - Network overview:   

      The figure below shows how configuration tables are applied
      while processing the packets at the ingress and transit LSRs.

      The packet processing is split into ingress processing and
      egress processing.

               +-------------------------------------------+
               |                Ingress LSR                |
      IP       |                                           | MPLS
      Packets  |   +--------------+      +-------------+   | Packets
      -------->+-->| DSCP --> PHB |----->| PHB --> EXP |-->+------->
               |   +--------------+      +-------------+   | 
               |  ingress processing     egress processing | EXP-PHB
               +-------------------------------------------+ mapping
                                                             signaled 
                                                             via RSVP.
               +-------------------------------------------+
               |                Transit LSR                |
      MPLS     |                                           | MPLS
      Packets  |   +--------------+      +-------------+   | Packets
      -------->+-->|  EXP --> PHB |----->| PHB --> EXP |-->+------->
               |   +--------------+      +-------------+   |
               |  ingress processing    egress processing  |
               |                            (optional)     |
               +-------------------------------------------+


4.1. mplsDsPhbTable

     This table defines Per Hop Behaviors (PHB) supported by the node.
     Each PHB is associated with a certain DiffServ class of service
     and drop preference.
     
4.2. mplsDsPscTable

     This table defines PHB Scheduling Classes (PSC) supported by the node
     Each PSC is associated with a certain DiffServ class of service.

4.3. mplsDsDscpToPhbMapTable

     This table defines mapping of DSCPs onto PHBs.
     Each DSCP is associated with the DiffServ class of service and drop
     preference of the corresponding PHB.

     DSCP --> PHB mapping is used at the ingress direction to
     determine the PHB of the incoming IP packets. 

     DSCP --> PHB mapping can be configured either per individual
     interface or globally for all interfaces (ifIndex 0).




Cetin, et. al.              Expires May 2003                 [Page 3]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



4.4. mplsDsExpToPhbMapTable

     This table defines mapping of EXP bits onto PHBs.
     Each EXP bits combination is associated with the DiffServ class of
     service and drop preference of the corresponding PHB.

     EXP --> PHB mapping can be configured per E-LSP tunnel in order to
     signal EXP to PHB mapping via RSVP (optional).

     In case, EXP --> PHB mapping is not signaled, transit LSRs use the
     mapping configured per individual interface or globally for all
     interfaces (ifIndex 0) at the ingress direction to determine the
     PHB of the incoming MPLS packets.

4.5. mplsDsPhbToExpMapTable

     This table defines mapping of incoming PHBs onto EXP bits.

     PHB --> EXP mapping is used at the ingress LSRs in order to
     determine EXP bits in the shim header for E-LSPs.

     This table can optionally be used at the transit LSRs to modify
     EXP bits in the shim header. 

     PHB --> EXP mapping can be configured per tunnel. By default
     PHB --> EXP mapping configured on the egress interface where
     tunnel leaves the ingress LSR or the mapping configured
     globally for all interface (ifIndex 0) is applied.

     L-LSPs is for further study.

4.6. mplsDsIfMapTable

     This table is used to configure mapping profiles on interfaces.

4.7. mplsDsTunnelTable

     This table extends the mplsTunnelTable (defined in MPLS-TE-MIB)
     with the objects to support DiffServ.
















Cetin, et. al.              Expires May 2003                 [Page 4]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



5. MPLS DiffServ-TE (DS) MIB Definitions

MPLS-DS-MIB DEFINITIONS ::= BEGIN

IMPORTS
       Unsigned32,
       OBJECT-TYPE,
       NOTIFICATION-TYPE,
       MODULE-IDENTITY
                               FROM SNMPv2-SMI

       TEXTUAL-CONVENTION,
       RowStatus,
       DisplayString
                               FROM SNMPv2-TC

       InterfaceIndexOrZero
                               FROM IF-MIB

       Dscp
                               FROM DIFFSERV-DSCP-TC;

mplsDsMIB MODULE-IDENTITY
   LAST-UPDATED "200211011200Z"  -- 01 November 2002 12:00:00 GMT
   ORGANIZATION "Multiprotocol Label Switching (MPLS) Working Group"
   CONTACT-INFO
       "
                Riza Cetin
        Postal: Alcatel
                Francis Wellesplein 1
                B-2018 Antwerp, Belgium
        Tel:    +32-3-2404735
        Email:  riza.cetin@alcatel.be      
       "
  
DESCRIPTION
       "This MIB module contains managed object definitions for
        MPLS DiffServ support as defined in: F. Le Faucheur, L. Wu,
        B. Davie, S. Davari, P. Vaananen, R. Krishnan, P. Cheval,
        J. Heinanen, Multi-Protocol Label Switching (MPLS) Support
        of Differentiated Services RFC 3270, May 2002."

-- Revision history.
      
   REVISION
       "200211011200Z"  -- 01 November 2002 12:00:00 GMT
   DESCRIPTION
       "Initial draft version."
    ::= { mplsMIB x }   -- to be assigned.






Cetin, et. al.              Expires May 2003                 [Page 5]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



-- Textual conventions used in this MIB.

MplsDsClassIndex                 ::=TEXTUAL-CONVENTION
     STATUS                      current
     DESCRIPTION
        "DiffServ class of service index."
     SYNTAX                      INTEGER(0..65535)

MplsTeClassType                  ::=TEXTUAL-CONVENTION
     STATUS                      current
     DESCRIPTION
        "Traffic Engineering Class Type."
     SYNTAX                      INTEGER(0..7)

MplsDsDropPreference             ::= TEXTUAL-CONVENTION
     DISPLAY-HINT                "d"
     STATUS   current
     DESCRIPTION
        "Drop preference."
     SYNTAX                      INTEGER { low    (1),
                                           medium (2),
                                           high   (3) }

MplsLspType                     ::= TEXTUAL-CONVENTION
     DISPLAY-HINT               "d"
     STATUS                     current
     DESCRIPTION
        "Defines the type of the LSP (E-LSP or L-LSP)."
     SYNTAX                    INTEGER { eLsp (1),
                                         lLsp (2) }

MplsExp                         ::= TEXTUAL-CONVENTION
     STATUS                     current
     DESCRIPTION
        "Exp bits."
     SYNTAX                     INTEGER (0..7)

-- Top-Level Components of this MIB.

-- Objects
   mplsDsObjects        OBJECT IDENTIFIER ::= {mplsDsMIB 1}

-- Per Hop Behavior (PHB) Table

mplsDsPhbTable                   OBJECT-TYPE
     SYNTAX                      SEQUENCE OF MplsDsPhbEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This table defines PHBs. A PHB consists of DiffServ class of
         service and drop preference, and gets a unique PHB-Id." 
     ::= {mplsDsObjects 1}



Cetin, et. al.              Expires May 2003                 [Page 6]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsPhbEntry                   OBJECT-TYPE
     SYNTAX                      MplsDsPhbEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "An entry for a particular PHB."
     INDEX {mplsDsPhbDsClassIndex,
            mplsDsPhbDropPreference
           }
     ::= {mplsDsPhbTable 1}

MplsDsPhbEntry                   ::= SEQUENCE
     {
     mplsDsPhbDsClassIndex       MplsDsClassIndex,
     mplsDsPhbDropPreference     MplsDsDropPreference,
     mplsDsPhbId                 Unsigned32,
     mplsDsPhbDescr              DisplayString,
     mplsDsPhbRowStatus          RowStatus
     }

mplsDsPhbDsClassIndex            OBJECT-TYPE
     SYNTAX                      MplsDsClassIndex
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "DiffServ class of service index of this PHB."
     ::= {mplsDsPhbEntry 1}

mplsDsPhbDropPreference          OBJECT-TYPE
     SYNTAX                      MplsDsDropPreference
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "Drop preference of this PHB."
     ::= {mplsDsPhbEntry 2}

mplsDsPhbId                      OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "Per Hop Behavior identification.
         It follows the unsigned 16 bit binary encoding as specified
         in RFC 3140."
     ::= {mplsDsPhbEntry 3}


mplsDsPhbDescr                   OBJECT-TYPE
     SYNTAX                      DisplayString
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "Textual description of this PHB."
     ::= {mplsDsPhbEntry 4}

Cetin, et. al.              Expires May 2003                 [Page 7]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsPhbRowStatus               OBJECT-TYPE
     SYNTAX                      RowStatus
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "This object is used to create, modify, and/or
         delete a row in this table."
     ::= {mplsDsPhbEntry 5}

-- PHB Scheduling Class (PSC) Table  

mplsDsPscTable                   OBJECT-TYPE
     SYNTAX                      SEQUENCE OF MplsDsPscEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This table defines PHB Scheduling Classes." 
     ::= {mplsDsObjects 2}

mplsDsPscEntry                   OBJECT-TYPE
     SYNTAX                      MplsDsPscEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This entry describes a PHB Scheduling Class."
     INDEX {mplsDsPscDsClassIndex}
     ::= {mplsDsPscTable 1}

MplsDsPscEntry                   ::=SEQUENCE
     {
     mplsDsPscDsClassIndex       MplsDsClassIndex,
     mplsDsPscId                 Unsigned32,
     mplsDsPscDescr              DisplayString,
     mplsDsPscTeClassType        MplsTeClassType,
     mplsDsPscRowStatus          RowStatus
     }

mplsDsPscDsClassIndex            OBJECT-TYPE
     SYNTAX                      MplsDsClassIndex
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "DiffServ class of service index."
     ::= {mplsDsPscEntry 1}











Cetin, et. al.              Expires May 2003                 [Page 8]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsPscId                      OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "The PHB Scheduling Class that is used inside the DS Domain
         while establishing an l-lsp.
         It follows the unsigned 16 bit binary encoding as specified
         in RFC 3140."
     ::= {mplsDsPscEntry 2}

mplsDsPscDescr                   OBJECT-TYPE
     SYNTAX                      DisplayString
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "Textual description of this PSC."
     ::= {mplsDsPscEntry 3}

mplsDsPscTeClassType             OBJECT-TYPE
     SYNTAX                      MplsTeClassType
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "Traffic engineering class type."
     ::= {mplsDsPscEntry 4}

mplsDsPscRowStatus               OBJECT-TYPE
     SYNTAX                      RowStatus
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
         "This object is used to create, modify, and/or
         delete a row in this table."
     ::= {mplsDsPscEntry 5}

-- DSCP to PBH Mapping Table 

mplsDsDscpToPhbMapTable          OBJECT-TYPE
     SYNTAX                      SEQUENCE OF MplsDsDscpToPhbMapEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This table is used to configure DSCP to PHB mapping
         profiles, each profile is identified by profile index."
     ::= {mplsDsObjects 3}









Cetin, et. al.              Expires May 2003                 [Page 9] 

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsDscpToPhbMapEntry          OBJECT-TYPE
     SYNTAX                      MplsDsDscpToPhbMapEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This entry describes DSCP to PHB mapping."
     INDEX {mplsDsDscpToPhbMapProfileIndex,
            mplsDsDscpToPhbMapDscp
           }
     ::= {mplsDsDscpToPhbMapTable 1}

MplsDsDscpToPhbMapEntry                  ::= SEQUENCE
     {
     mplsDsDscpToPhbMapProfileIndex      Unsigned32,
     mplsDsDscpToPhbMapDscp              Dscp,
     mplsDsDscpToPhbMapDsClassIndex      MplsDsClassIndex,
     mplsDsDscpToPhbMapDropPreference    mplsDsDropPreference,
     mplsDsDscpToPhbMapRowStatus         RowStatus
     }

mplsDsDscpToPhbMapProfileIndex   OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "The DSCP to PHB mapping profile index."
     ::= {mplsDsDscpToPhbMapEntry 1}

mplsDsDscpToPhbMapDscp           OBJECT-TYPE
     SYNTAX                      Dscp
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This is the Differentiated Services Code Point
         (DSCP)."
     ::= {mplsDsDscpToPhbMapEntry 2}

mplsDsDscpToPhbMapDsClassIndex   OBJECT-TYPE
     SYNTAX                      MplsDsClassIndex
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
       "DiffServ class of service index of this DSCP."
     DEFVAL                      {0}
     ::= {mplsDsDscpToPhbMapEntry 3}

mplsDsDscpToPhbMapDropPreference OBJECT-TYPE
     SYNTAX                      mplsDsDropPreference
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "Drop preference of this DSCP."
     DEFVAL                      {high}
     ::= {mplsDsDscpToPhbMapEntry 4}

Cetin, et. al.              Expires May 2003                [Page 10] 

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsDscpToPhbMapRowStatus      OBJECT-TYPE
     SYNTAX                      RowStatus
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "This object is used to create, modify, and/or
         delete a row in this table."
     ::= {mplsDsDscpToPhbMapEntry 5}

-- EXP to PHB Mapping Table

mplsDsExpToPhbMapTable           OBJECT-TYPE
     SYNTAX                      SEQUENCE OF MplsDsExpToPhbMapEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This table is used to configure EXP to PHB mapping
         profiles, each profile is identified by profile index.

         This table contains both pre-configured mappings and 
         mappings signaled via RSVP-TE signaling protocol."
     ::= {mplsDsObjects 4}

mplsDsExpToPhbMapEntry           OBJECT-TYPE
     SYNTAX                      MplsDsExpToPhbMapEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This entry describes EXP to PHB mapping.

         An entry can be created by a network administrator
         or by an SNMP agent as instructed by RSVP-TE
         signalling protocol."

     INDEX {mplsDsExpToPhbMapProfileIndex,
            mplsDsExpToPhbMapExp
           }
     ::= {mplsDsExpToPhbMapTable 1}

MplsDsExpToPhbMapEntry                ::= SEQUENCE
     {
     mplsDsExpToPhbMapProfileIndex    Unsigned32,
     mplsDsExpToPhbMapExp             MplsExp,
     mplsDsExpToPhbMapDsClassIndex    MplsDsClassIndex,
     mplsDsExpToPhbMapDropPreference  MplsDsDropPreference,
     mplsDsExpToPhbMapRowStatus       RowStatus,
     mplsDsExpToPhbMapStorageType     StorageType
     }







Cetin, et. al.              Expires May 2003                [Page 11] 

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsExpToPhbMapProfileIndex    OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "The EXP to PHB mapping profile index."
     ::= {mplsDsExpToPhbMapEntry 1}

mplsDsExpToPhbMapExp             OBJECT-TYPE
     SYNTAX                      MplsExp
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "Exp Bits value is used to indicate a certain PHB for
         MPLS traffic."
     ::= {mplsDsExpToPhbMapEntry 2}

mplsDsExpToPhbMapDsClassIndex    OBJECT-TYPE
     SYNTAX                      MplsDsClassIndex
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
       "DiffServ class of service index of this EXP."
     DEFVAL                      {0}
     ::= {mplsDsExpToPhbMapEntry 3}

mplsDsExpToPhbMapDropPreference  OBJECT-TYPE
     SYNTAX                      MplsDsDropPreference
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "Drop preference of this EXP."
     DEFVAL                      {high}
     ::= {mplsDsExpToPhbMapEntry 4}

mplsDsExpToPhbMapRowStatus       OBJECT-TYPE
     SYNTAX                      RowStatus
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "This object is used to create, modify, and/or
         delete a row in this table."
     ::= {mplsDsExpToPhbMapEntry 5}

mplsDsExpToPhbMapStorageType     OBJECT-TYPE
     SYNTAX                      StorageType
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "This variable indicates the storage type." 
     ::= {mplsDsExpToPhbMapEntry 6}




Cetin, et. al.              Expires May 2003                [Page 12]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



-- PHB to EXP Mapping Table  

mplsDsPhbToExpMapTable           OBJECT-TYPE
     SYNTAX                      SEQUENCE OF MplsDsPhbToExpMapEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This table is used to assign EXP values to the PHBs.
        
         At the ingress LSRs, EXP bits value is determined from the
         PHB of the incoming IP packets by using PHB-EXP mapping before
         packets are tunneled into the LSP.

         PHB-EXP mapping is configured Per PHB (Per Hop Behavior). 
         A PHB is represented by DsClassIndex and DropPreference objects."
     ::= {mplsDsObjects 5}

mplsDsPhbToExpMapEntry           OBJECT-TYPE
     SYNTAX                      MplsDsPhbToExpMapEntry
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This entry describes PHB to EXP mapping."
     INDEX {mplsDsPhbToExpMapProfileIndex,
            mplsDsPhbToExpMapDsClassIndex,
            mplsDsPhbToExpMapDropPreference
           }
     ::= {mplsDsPhbToExpMapTable 1}

MplsDsPhbToExpMapEntry               ::=  SEQUENCE
     {
     mplsDsPhbToExpMapProfileIndex   Unsigned32,
     mplsDsPhbToExpMapDsClassIndex   MplsDsClassIndex,    
     mplsDsPhbToExpMapDropPreference MplsDsDropPreference,
     mplsDsPhbToExpMapExp            MplsExp,
     mplsDsPhbToExpMapRowStatus      RowStatus 
     }

mplsDsPhbToExpMapProfileIndex    OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "The PHB to EXP Mapping profile index."
     ::= {mplsDsPhbToExpMapEntry 1}










Cetin, et. al.              Expires May 2003                [Page 13]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsPhbToExpMapDsClassIndex    OBJECT-TYPE
     SYNTAX                      MplsDsClassIndex
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "DiffServ class of service index of the incoming PHB."
     ::= {mplsDsPhbToExpMapEntry 2}

mplsDsPhbToExpMapDropPreference  OBJECT-TYPE
     SYNTAX                      MplsDsDropPreference
     MAX-ACCESS                  not-accessible
     STATUS                      current
     DESCRIPTION
        "This object indicates the drop preference of
         the incoming PHB."
     ::= {mplsDsPhbToExpMapEntry 3}

mplsDsPhbToExpMapExp             OBJECT-TYPE
     SYNTAX                      MplsExp
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "This object indicates the EXP bits to be used for the
         outgoing MPLS packets."
     DEFVAL                    {0}
     ::={mplsDsPhbToExpMapEntry 4}

mplsDsPhbToExpMapRowStatus       OBJECT-TYPE
     SYNTAX                      RowStatus
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "This object is used to create, modify, and/or
        delete a row in this table."
     ::= {mplsDsPhbToExpMapEntry 5}

-- Interface Mapping Table   

mplsDsIfMapTable                OBJECT-TYPE
     SYNTAX                     SEQUENCE OF MplsDsIfMapEntry
     MAX-ACCESS                 not-accessible
     STATUS                     current
     DESCRIPTION
        "This table is used to configure/map DSCP --> PHB, 
         EXP --> PHB and PHB --> EXP mapping profiles onto
         interfaces."
     ::= {mplsDsObjects 6}








Cetin, et. al.              Expires May 2003                [Page 14]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsIfMapEntry                OBJECT-TYPE
     SYNTAX                     MplsDsIfMapEntry
     MAX-ACCESS                 not-accessible
     STATUS                     current
     DESCRIPTION
        "This entry contains the DSCP --> PHB, EXP --> PHB and
         PHB --> EXP profiles that are mapped onto interfaces."
     INDEX {mplsDsIfMapIndex}
     ::= {mplsDsIfMapTable 1}

MplsDsIfMapEntry                       ::=  SEQUENCE
     {
     mplsDsIfMapIndex                   InterfaceIndexOrZero,
     mplsDsIfMapDscpToPhbMapProfIndex   Unsigned32,
     mplsDsIfMapExpToPhbMapProfIndex    Unsigned32,
     mplsDsIfMapPhbToExpMapProfIndex    Unsigned32
     }

mplsDsIfMapIndex                  OBJECT-TYPE
     SYNTAX                       InterfaceIndexOrZero
     MAX-ACCESS                   not-accessible
     STATUS                       current
     DESCRIPTION
        "Interface index. Profiles configured on interfaceIndex 0
         are applied globally onto all interfaces where no profile
         is explicitly configured."
     ::= {mplsDsIfMapEntry 1}

mplsDsIfMapDscpToPhbMapProfIndex  OBJECT-TYPE
     SYNTAX                       Unsigned32
     MAX-ACCESS                   read-create
     STATUS                       current
     DESCRIPTION
        "The DSCP to PHB mapping profile index.
         This profile is applied at the ingress direction.

         The index value 0 means 'no interface specific profile',
         in this case profile configured with interface index 0
         is applied."
     DEFVAL                      {0}
     ::= {mplsDsIfMapEntry 2}














Cetin, et. al.              Expires May 2003                [Page 15]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsIfMapExpToPhbMapProfIndex  OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "The EXP to PHB mapping profile index.
         This profile is applied at the ingress direction.

         The index value 0 means 'no interface specific profile',
         in this case profile configured with interface index 0
         is applied."
     DEFVAL                      {0}
     ::= {mplsDsIfMapEntry 3}

mplsDsIfMapPhbToExpMapProfIndex OBJECT-TYPE
     SYNTAX                     Unsigned32
     MAX-ACCESS                 read-create
     STATUS                     current
     DESCRIPTION
        "The PHB to EXP Mapping profile index.
         This profile is applied at the egress direction.

         The index value 0 means 'no interface specific profile',
         in this case profile configured with interface index 0
         is applied."
     DEFVAL                      {0}
     ::= {mplsDsPrPortMapEntry 4}

-- MPLS DiffServ Tunnel Table   

mplsDsTunnelTable               OBJECT-TYPE
     SYNTAX                     SEQUENCE OF MplsDsTunnelEntry
     MAX-ACCESS                 not-accessible
     STATUS                     current
     DESCRIPTION
        "This table extends the mplsTunnelTable defined in the 
         MPLS-TE MIB with the diffServ objects."
     ::= {mplsDsObjects 7}

mplsDsTunnelEntry               OBJECT-TYPE
     SYNTAX                     MplsDsTunnelEntry
     MAX-ACCESS                 not-accessible
     STATUS                     current
     DESCRIPTION
        "This entry contains the diffSer parameters of the tunnel."
     AUGMENTS { mplsTunnelEntry }
     ::= {mplsDsTunnelTable 1}








Cetin, et. al.              Expires May 2003                [Page 16]

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



MplsDsTunnelEntry                     ::=  SEQUENCE
     {
     mplsDsTunnelLspType               MplsLspType,
     mplsDsTunnelExpToPhbMapProfIndex  Unsigned32,
     mplsDsTunnelPhbToExpMapProfIndex  Unsigned32,
     mplsDsTunnelDsClassIndex          MplsDsClassIndex,
     mplsDsTunnelTeClassType           MplsTeClassType,
     mplsDsTunnelRowStatus             RowStatus
     }

mplsDsTunnelLspType              OBJECT-TYPE
     SYNTAX                      MplsLspType
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "Type of the DiffServ LSP (L-LSP or E-LSP)."
     ::= {mplsDsTunnelEntry 1}

mplsDsTunnelExpToPhbMapProfIndex OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "The EXP to PHB Mapping profile index.
         This is used for E-LSPs to signal EXP --> PHB
         mapping via RSVP-TE.

         The value 0 means that EXP --> PHB mapping is not
         signaled and downstream LSRs should use the
         mappping configured on the incoming interfaces."
     DEFVAL                    {0}
     ::= {mplsDsPrPortMapEntry 2}

mplsDsTunnelPhbToExpMapProfIndex OBJECT-TYPE
     SYNTAX                      Unsigned32
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "The PHB to EXP Mapping profile index.
         This is used to determine EXP bits at the ingress
         LSRs while IP is being tunneled into MPLS.

         The value 0 means that the mapping configured on the
         interface where the tunnel leaves the ingress LSR
         should be used."
     DEFVAL                    {0}
     ::= {mplsDsPrPortMapEntry 3}








Cetin, et. al.              Expires May 2003                [Page 17] 

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



mplsDsTunnelDsClassIndex        OBJECT-TYPE
     SYNTAX                     MplsDsClassIndex
     MAX-ACCESS                 read-create
     STATUS                     current
     DESCRIPTION
        "DiffServ class of service index of L-LSPs.
         This object is used to determine PSC for L-LSPs."
     ::= {mplsDsTunnelEntry 4}

mplsDsTunnelTeClassType         OBJECT-TYPE
     SYNTAX                     MplsTeClassType
     MAX-ACCESS                 read-create
     STATUS                     current
     DESCRIPTION
        "Traffic Engineering Class Type of this LSP."
     ::= {mplsDsTunnelEntry 5}

mplsDsTunnelRowStatus            OBJECT-TYPE
     SYNTAX                      RowStatus
     MAX-ACCESS                  read-create
     STATUS                      current
     DESCRIPTION
        "This object is used to create, modify, and/or
        delete a row in this table."
     ::= {mplsDsTunnelEntry 6}

END

6. Security Considerations
  
   It is clear that this MIB is potentially useful for configuration.
   Anything that can be configured can be misconfigured, with
   potentially disastrous effects.

   At this writing, no security holes have been identified beyond those
   that SNMP Security is itself intended to address.  These relate
   primarily to controlled access to sensitive information and the
   ability to configure a device - or which might result from operator
   error, which is beyond the scope of any security architecture.

   There are many read-write and read-create management objects defined
   in this MIB.  Such objects are often sensitive or vulnerable in some
   network environments.  The support for SET operations in a non-secure
   environment without proper protection can have a negative effect on
   network operations.  The use of SNMP Version 3 is recommended over
   prior versions for configuration control as its security model is
   improved.

   There are a number of managed objects in this MIB that may contain
   information that may be sensitive from a business perspective, in
   that they may represent a customer's service contract or the filters
   that the service provider chooses to apply to a customer's ingress or
   egress traffic.  There are no objects which are sensitive in their
   own right, such as passwords or monetary amounts.

Cetin, et. al.              Expires May 2003                [Page 18] 

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



7. References

   [1] F. Le Faucheur, L. Wu, B. Davie, S. Davari, P. Vaananen,
       R. Krishnan, P. Cheval, J. Heinanen: Multi-Protocol Label
       Switching (MPLS) Support of Differentiated Services
       RFC 3270, May 2002.

   [2] D. Black, S. Brim, B. Carpenter, F. Le Faucheur: Per Hop
       Behavior Identification Codes, RFC 3140, June 2001.

   [3] F. Baker, K. Chan, A. Smith: Management Information Base
       for the Differentiated Service Architecture, RFC 3289, May 2002.

   [4] C. Srinivasan, A. Viswanathan, Thomas D. Nadeau: Multiprotocol
       Label Switching (MPLS) Traffic Engineering Management Information
       Base, draft-ietf-mpls-te-mib-09.txt, November 2002. 

   [5] F. Le Faucheur, J. Boyle, K. Kompella, W. Townsend,
       Thomas D. Nadeau, D. Skalecki: Protocol Extensions for Support
       of Diff-Serv-aware MPLS Traffic Engineering,
       draft-ietf-tewg-diff-te-proto-02.txt, October 2002.

8. Authors' Addresses

   Riza Cetin
   Alcatel
   Francis Wellesplein 1
   B-2018 Antwerp, Belgium
   Tel  : +32-3-2404735
   Email: riza.cetin@alcatel.be   

9.   Acknowledgements

10.   Full Copyright Statement
  
   Copyright (C) The Internet Society (2001). All Rights Reserved.
  
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.





Cetin, et. al.              Expires May 2003                [Page 19] 

Internet Draft              MPLS DiffServ-TE MIB       November, 2002



   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns. This
   document and the information contained herein is provided on an "AS
   IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK
   FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
   NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN
   WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

11. Intellectual Property Considerations
   
   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to per-
   tain to the implementation or use of the technology described in this
   document or the extent to which any license under such rights might
   or might not be available; neither does it represent that it has made
   any effort to identify any such rights.  Information on the IETF's
   procedures with respect to rights in standards-track and standards-
   related documentation can be found in BCP-11.  Copies of claims of
   rights made available for publication and any assurances of licenses
   to be made available, or the result of an attempt made to obtain a
   general license or permission for the use of such proprietary rights
   by implementers or users of this specification can be obtained from
   the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.

























Cetin, et. al.              Expires May 2003                [Page 20]
