Network Working Group                                            Y. Lee
Internet Draft                                                   Huawei
Intended status: Standards Track                           G. Bernstein
Expires: February 2016                                Grotto Networking





                                                        August 28, 2015

    GMPLS OSPF Enhancement for Signal and Network Element Compatibility
                 for Wavelength Switched Optical Networks


          draft-ietf-ccamp-wson-signal-compatibility-ospf-17.txt


Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with
   the provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on February 28,2016.

Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.



   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Lee and Bernstein       Expires February 2016                  [Page 1]

Internet-Draft         OSPF Enhancement for WSON          August 2015


   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document.  Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Abstract

   This document provides Generalized Multiprotocol Label Switching
   (GMPLS) Open Shortest Path First (OSPF) routing enhancements to
   support signal compatibility constraints associated with Wavelength-
   Switched Optical network (WSON) elements. These routing enhancements
   are applicable in common optical or hybrid electro-optical networks
   where not all of the optical signals in the network are compatible
   with all network elements participating in the network.

   This compatibility constraint model is applicable to common optical
   or hybrid electro optical systems such as Optical-Electronic-Optical
   (OEO) switches, regenerators, and wavelength converters since such
   systems can be limited to processing only certain types of WSON
   signals.

Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

Table of Contents


   1. Introduction...................................................3
   2. The Optical Node Property TLV..................................3
      2.1. Resource Block Information................................5
      2.2. Resource Accessibility....................................5
      2.3. Resource Wavelength Constraints...........................5
      2.4. Resource Block Pool State.................................5
      2.5. Resource Block Shared Access Wavelength Availability......5
   3. Interface Switching Capability Descriptor (ISCD) Format
   Extensions........................................................5
      3.1. Switching Capability Specific Information.................6
   4. WSON Specific Scalability and Timeliness.......................7
   5. Security Considerations........................................8
   6. IANA Considerations............................................9



Lee and Bernstein       Expires November 2014                  [Page 2]

Internet-Draft         OSPF Enhancement for WSON          August 2015


      6.1. Optical Node Property TLV.................................9
         6.1.1. Optical Node Property Sub-TLV........................9
      6.2. WSON-LSC Switching Type TLV..............................10
         6.2.1. WSON-LSC SCSI Sub-TLVs..............................10
   7. References....................................................11
      7.1. Normative References.....................................11
      7.2. Informative References...................................11
   8. Authors' Addresses............................................12

1. Introduction

   The documents [RFC6163, RFC7446, RFC7581] explain how to extend the
   Wavelength Switched Optical Network (WSON) control plane to support
   both multiple WSON signal types and common hybrid electro optical
   systems as well hybrid systems containing optical switching and
   electro-optical resources. In WSON, not all of the optical signals
   in the network are compatible with all network elements
   participating in the network. Therefore, signal compatibility is an
   important constraint in path computation in a WSON.

   This document provides GMPLS OSPF routing enhancements to support
   signal compatibility constraints associated with general WSON
   network elements. These routing enhancements are applicable in
   common optical or hybrid electro-optical networks where not all of
   the optical signals in the network are compatible with all network
   elements participating in the network.

   This compatibility constraint model is applicable to common optical
   or hybrid electro optical systems such as OEO switches,
   regenerators, and wavelength converters since such systems can be
   limited to processing only certain types of WSON signals.

   Related to this document is [RFC7580] which provides GMPLS OSPF
   routing enhancements to support the generic routing and label
   assignment process that can be applicable to a wider range of
   technologies beyond WSON.

2. The Optical Node Property TLV

   [RFC3630] defines OSPF Traffic Engineering (TE) Link State
   Advertisement (LSA) using an opaque LSA. This document adds a new
   top level TLV for use in the OSPF TE LSA: the Optical Node Property
   TLV. The Optical Node Property TLV describes a single node. It is
   comprised of a set of optional sub-TLVs. There are no ordering
   requirements for the sub-TLVs.




Lee and Bernstein       Expires November 2014                  [Page 3]

Internet-Draft         OSPF Enhancement for WSON          August 2015


   When using the extensions defined in this document, at least one
   Optical Node Property TLV MUST be advertised in each LSA. To allow
   for fine granularity changes in topology, more than one Optical Node
   Property TLV MAY be advertised in a single LSA. Implementations MUST
   support receiving multiple Optical Node Property TLVs in an LSA.

   The Optical Node Property TLV contains all WSON-specific node
   properties and signal compatibility constraints. The detailed
   encodings of these properties are defined in [RFC7581].

   The following sub-TLVs of the Optical Node Property TLV are defined:

   Value       Length      Sub-TLV Type

   TBA1        variable    Resource Block Information
   TBA2        variable    Resource Accessibility
   TBA3        variable    Resource Wavelength Constraints
   TBA4        variable    Resource Block Pool State
   TBA5        variable    Resource Block Shared Access Wavelength
                           Availability

   The detailed encodings of these sub-TLVs are found in [RFC7581] as
   indicated in the table below.

   Sub-TLV Type                                Section [RFC7581]

   Resource Block Information                                                                                              4.1
   Resource Accessibility                                   3.1
   Resource Wavelength Constraints                          3.2
   Resource Block Pool State                                3.3
   Resource Block Shared Access Wavelength Availability     3.4


   All sub-TLVs defined here may occur at most once in any given
   Optical Node TLV under one TE LSA. If more than one copy of the sub-
   TLV is received in the same LSA, the redundant sub-TLV SHOULD be
   ignored. In case where the same sub-TLV is advertised in different
   TE LSA (which would take place only by a packaging error), then the
   sub-TLV with the largest LSA ID (Sec 2.2 of RFC 3630) SHOULD be
   picked. These restriction need not apply to future sub-TLVs.
   Unrecognized sub-TLVs are ignored.

   Among the sub-TLVs defined above, the Resource Block Pool State sub-
   TLV and Resource Block Shared Access Wavelength Availability are
   dynamic in nature while the rest are static. As such, they can be




Lee and Bernstein       Expires November 2014                  [Page 4]

Internet-Draft         OSPF Enhancement for WSON          August 2015


   separated out from the rest and be advertised with multiple TE LSAs
   per OSPF router, as described in [RFC3630] and [RFC5250].


2.1. Resource Block Information

   As defined in [RFC7446], this sub-TLV is used to represent resource
   signal constraints and processing capabilities of a node.

2.2. Resource Accessibility

   This sub-TLV describes the structure of the resource pool in
   relation to the switching device. In particular, it indicates the
   ability of an ingress port to reach a resource block and of a
   resource block to reach a particular egress port.

2.3. Resource Wavelength Constraints

   Resources, such as wavelength converters, etc., may have limited
   input or output wavelength ranges. Additionally, due to the
   structure of the optical system, not all wavelengths can necessarily
   reach or leave all the resources. The Resource Wavelength
   Constraints sub-TLV describes these properties.

2.4. Resource Block Pool State

   This sub-TLV describes the usage state of a resource that can be
   encoded as either a list of integer values or a bit map indicating
   whether a single resource is available or in use. This information
   can be relatively dynamic, i.e., can change when a connection is
   established or torn down.

2.5. Resource Block Shared Access Wavelength Availability

   Resource blocks may be accessed via a shared fiber. If this is the
   case, then wavelength availability on these shared fibers is needed
   to understand resource availability.

3. Interface Switching Capability Descriptor (ISCD) Format Extensions

   The ISCD describes switching capability of an interface [RFC4202].
   This document defines a new Switching Capability value for WSON as
   follows:

      Value                       Type




Lee and Bernstein       Expires November 2014                  [Page 5]

Internet-Draft         OSPF Enhancement for WSON          August 2015


      -----                       ----
      151 (TBA by IANA)           WSON-LSC capable (WSON-LSC)

   Switching Capability and Encoding values MUST be used as follows:

           Switching Capability = WSON-LSC

           Encoding Type = Lambda [as defined in RFC3471]

   When Switching Capability and Encoding fields are set to values as
   stated above, the Interface Switching Capability Descriptor MUST be
   interpreted as in [RFC4203] with the optional inclusion of one or
   more Switching Capability Specific Information sub-TLVs.

3.1. Switching Capability Specific Information (SCSI)

   The technology specific part of the WSON ISCD may include a variable
   number of sub-TLVs called Bandwidth sub-TLVs.  Two types of
   Bandwidth sub-TLV are defined:

         - Type 1 - Available Labels

         - Type 2 - Shared Backup Labels

   A SCSI may contain multiple Available Label sub-TLVs and multiple
   Shared Backup Label sub-TLVs.  The following figure shows the format
   for a SCSI that contains these sub-TLVs.  The order of the sub-TLVs
   in the SCSI is arbitrary.



       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Type = 1 (Available)   |           Length              |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      |                 Available Label Sub-TLV                       |
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      ~                               ...                             ~
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     Type = 2 (Shared backup)  |           Length              |




Lee and Bernstein       Expires November 2014                  [Page 6]

Internet-Draft         OSPF Enhancement for WSON          August 2015


      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      |                 Shared Backup Label Sub-TLV                   |
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                              Figure 1: SCSI format

   Where the Available Label Sub-TLV and Shared Backup Label sub-TLV
   are defined in [RFC7579]. In case where duplicated sub-TLVs are
   advertised, the router/node will ignore the duplicated labels which
   are identified by the Label format defined in [RFC6205].

   The label format defined in [RFC6205] MUST be used when advertising
   interfaces with a WSON-LSC type Switching Capability.



4. WSON Specific Scalability and Timeliness

   This document has defined five sub-TLVs specific to WSON. The
   examples given in [RFC7581] show that very large systems, in terms
   of channel count, ports, or resources, can be very efficiently
   encoded.

   There has been concern expressed that some possible systems may
   produce LSAs that exceed the IP Maximum Transmission Unit (MTU). In
   a typical node configuration, the optical node property TLV will not
   exceed the IP MTU. A typical node configuration refers to a system
   with several hundreds of channels with an OEO element in the node.
   This would give optical node property TLV less than 350 bytes. In
   addition, [RFC7581] provides mechanisms to compactly encode required
   information elements. In a rare case where the TLV exceed the IP
   MTU, IP fragmentation/reassembly can be used, which is an acceptable
   method. For IPv6, a node may use the IPv6 Fragment header to
   fragment the packet at the source and have it reassembled at the
   destination(s).

   If the size of this LSA is greater than the MTU, then these sub-TLVs
   can be packed into separate LSAs. From the point of view of path
   computation, the presence of the Resource Block Information sub-TLV
   indicates that resources exist in the system and may have signal
   compatibility or other constraints. The other four sub-TLVs indicate
   constraints on access to, and availability of those resources.



Lee and Bernstein       Expires November 2014                  [Page 7]

Internet-Draft         OSPF Enhancement for WSON          August 2015


   Hence the "synchronization" procedure from a path computation point
   of view is quite simple. Until a Resource Block Information sub-TLV
   is received for a system, path computation cannot make use of the
   other four sub-TLVs since it does not know the nature of the
   resources, e.g., are the resources wavelength converters,
   regenerators, or something else. Once this sub-TLV is received, path
   computation can proceed with whatever sub-TLVs it may have received
   (there use is dependent upon the system type).

   If path computation proceeds with out of date or missing information
   from these sub-TLVs, then there is the possibility of either (a)
   path computation computing a path that does not exist in the
   network, (b) path computation failing to find a path through the
   network that actually exists. Both situations are currently
   encountered with GMPLS, i.e., out of date information on constraints
   or resource availability.

   In case where the new sub-TLVs or their attendant encodings are
   malformed, the proper action SHOULD log the problem and MUST stop
   sending the LSA in which to contain malformed TLVs or sub-TLVs.

   Errors of this nature SHOULD be logged for the local operator.
   Implementations MUST provide a rate limit on such logs, and that
   rate limit SHOULD be configurable.

   Note that the connection establishment mechanism (signaling or
   management) is ultimately responsible for the establishment of the
   connection, and this implies that such mechanisms must insure signal
   compatibility.


5. Security Considerations

   This document does not introduce any further security issues other
   than those discussed in [RFC3630], [RFC4203].

   As with [RFC4203], it specifies the contents of Opaque LSAs in
   OSPFv2.  As Opaque LSAs are not used for Shortest Path First (SPF)
   computation or normal routing, the extensions specified here have no
   direct effect on IP routing. Tampering with GMPLS TE LSAs may have
   an effect on the underlying Transport.  [RFC3630] notes that the
   security mechanisms described in [RFC2328] apply to Opaque LSAs
   carried in OSPFv2.






Lee and Bernstein       Expires November 2014                  [Page 8]

Internet-Draft         OSPF Enhancement for WSON          August 2015


   For general security aspects relevant to Generalized Multiprotocol
   Label Switching (GMPLS)-controlled networks, please refer to
   [RFC5920].

6. IANA Considerations



6.1. Optical Node Property TLV

   This document introduces a new Top Level Node TLV (Optical Node
   Property TLV) under the OSPF TE LSA defined in [RFC3630].

   IANA is asked to register a new TLV for "Optical Node Property". The
   new TLV will be registered in the "Top Level Types in TE LSAs"
   registry in "OSPF Traffic Engineering TLVs", located at
   http://www.iana.org/assignments/ospf-traffic-eng-tlvs, as follows:



   Value             TLV Type                           Reference

   6 (TBA6)          Optical Node Property              [This.ID]



   6.1.1. Optical Node Property Sub-TLV

   Additionally, a new IANA registry will be created for sub-TLVs of
   the Optical Node Property TLV to create a new section named "Types
   of sub-TLVs of Optical Node Property TLV (Value TBA)" in the "OSPF
   Traffic Engineering TLVs" registry located at
   http://www.iana.org/assignments/ospf-traffic-eng-tlvs/ospf-traffic-
   eng-tlvs.xml, and allocate new sub-TLV Types and their Values for
   these sub-TLVs defined under the Optical Node Property TLV as
   follows:

   Value          Length      Sub-TLV Type                    Reference











Lee and Bernstein       Expires November 2014                  [Page 9]

Internet-Draft         OSPF Enhancement for WSON          August 2015


   0                          Reserved
   1 (TBA1)       variable    Resource Block Information     [This.ID]
   2 (TBA2)       variable    Resource Accessibility         [This.ID]
   3 (TBA3)       variable    Resource Wavelength
                              Constraints                    [This.ID]
   4 (TBA4)       variable    Resource Block Pool State      [This.ID]
   5 (TBA5)       variable    Resource Block Shared
                            Access Wavelength Availability [This.ID]
  6-65535                                                                                    Unassigned

   Types are to be assigned via Standards Action as defined in
   [RFC5226].

6.2. WSON-LSC Switching Type TLV

   IANA is asked to register a new switching type for "WSON-LSC
   capable" in the Switching Types registry in "GMPLS Signaling
   Parameters", located at http://www.iana.org/assignments/gmpls-sig-
   parameters/, as follows:



   Switching capability     Description                Reference
   ----------------------  --------------------------  ----------
   151 (TBA7)              WSON-LSC capable (WSON-LSC) [This.ID]


   6.2.1. WSON-LSC SCSI Sub-TLVs

   Additionally, a new IANA registry will be created for sub-TLVs of
   the WSON-LSC SCSI sub-TLV to create a new section/sub-registry named
   "Types for sub-TLVs of WSON-LSC SCSI (Switch Capability-Specific
   Information)" section under the "OSPF Traffic Engineering TLVs"
   registry, with the following sub-TLV types:

          Value               Sub-TLV                      Reference
          0                   Reserved
          1  (TBA8)           Available Labels             [This.ID]
          2  (TBA9)           Shared Backup Labels         [This.ID]
          3-65535             Unassigned

   Types are to be assigned via Standards Action as defined in
   [RFC5226].




Lee and Bernstein       Expires November 2014                 [Page 10]

Internet-Draft         OSPF Enhancement for WSON          August 2015




7. References

7.1. Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3630] Katz, D., Kompella, K., and Yeung, D., "Traffic
             Engineering (TE) Extensions to OSPF Version 2", RFC
             3630, September 2003.

   [RFC4203] Kompella, K., Ed., and Y. Rekhter, Ed., "OSPF Extensions
             in Support of Generalized Multi-Protocol Label Switching
             (GMPLS)", RFC 4203, October 2005.

   [RFC6205] T. Otani, Ed. and D. Li, Ed., "Generalized Labels for
             Lambda-Switch-Capable (LSC) Label Switching Routers", RFC
             6205, March 2011.

   [RFC7581] G. Bernstein, Y. Lee, D. Li, W. Imajuku, "Routing and
             Wavelength Assignment Information Encoding for Wavelength
             Switched Optical Networks", RFC 7581, June 2015.

   [RFC7579] G. Bernstein, Y. Lee, D. Li, W. Imajuku, "General Network
             Element Constraint Encoding for GMPLS Controlled
             Networks", RFC 7579, June 2015.

   [RFC7580] F. Zhang, Y. Lee, J. Han, G, Bernstein and Y. Xu, "OSPF-TE
             Extensions for General Network Element Constraints", RFC
             7580, June 2015.

7.2. Informative References

   [RFC7446] Y. Lee, G. Bernstein, D. Li, W. Imajuku, "Routing and
             Wavelength Assignment Information Model for Wavelength
             Switched Optical Networks", RFC 7446, February 2015.

   [RFC4202] K. Kompella, Ed., and Y. Rekhter, Ed., "Routing Extensions
             in Support of Generalized Multi-Protocol Label Switching
             (GMPLS)", RFC 4202, October 2005.

   [RFC6163] Y. Lee, G. Bernstein, W. Imajuku, "Framework for GMPLS and
             PCE Control of Wavelength Switched Optical Networks", RFC
             6163, April 2011.



Lee and Bernstein       Expires November 2014                 [Page 11]

Internet-Draft         OSPF Enhancement for WSON          August 2015


   [RFC5250] Berger, L., et al., "The OSPF Opauqe LSA option", RFC
             5250, July 2008.

   [RFC5226] Narten, T. and H. Alvestrand, "Guidelines for Writing an
             IANA Considerations Section in RFCs", BCP 26, RFC 5226,
             May 2008.

   [RFC5920] Luyuan Fang(Ed.), "Security Framework for MPLS and GMPLS N
            Networks", RFC5920, July 2010.



8. Authors' Addresses

   Young Lee (ed.)
   Huawei Technologies
   5340 Legacy Drive, Building 3
   Plano, TX 75024
   USA

   Phone: (469)277-5838
   Email: leeyoung@huawei.com


   Greg M. Bernstein (ed.)
   Grotto Networking
   Fremont California, USA

   Phone: (510) 573-2237
   Email: gregb@grotto-networking.com



















Lee and Bernstein       Expires November 2014                 [Page 12]

