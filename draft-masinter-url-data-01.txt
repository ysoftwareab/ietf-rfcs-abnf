Internet-Draft
draft-masinter-url-data-01.txt
July 12, 1996
Expires in 6 months


                       "Data: URL scheme"

Status of This Memo

     This document is an Internet-Draft.  Internet-Drafts are working
     documents of the Internet Engineering Task Force (IETF), its
     areas, and its working groups.  Note that other groups may also
     distribute working documents as Internet-Drafts.

     Internet-Drafts are draft documents valid for a maximum of six
     months and may be updated, replaced, or obsoleted by other
     documents at any time.  It is inappropriate to use Internet-
     Drafts as reference material or to cite them other than as
     ``work in progress.''

     To learn the current status of any Internet-Draft, please check
     the ``1id-abstracts.txt'' listing contained in the Internet-
     Drafts Shadow Directories on ftp.is.co.za (Africa),
     nic.nordu.net (Europe), munnari.oz.au (Pacific Rim),
     ds.internic.net (US East Coast), or ftp.isi.edu (US West Coast).

Abstract

A new URL scheme, "data:", is defined. It allows inclusion of small
data items as "immediate" data, as if it had been included externally.

Description

Some applications that use URLs also have a need to embed (small)
media type data directly inline. This document defines a new URL
scheme that would work like 'immediate addressing'. The URLs are of
the form:

	data:[<mediatype>][;base64],<value>

The <mediatype> is an Internet media type specification (with optional
parameters, etc.)  The appearance of ";base64" means that the value is
encoded as base64. Without ";base64", the value (as a sequence of
octets) is represented directly; octets outside of the range
representable by safe URL characters should be encoded using the
standard %xx hex encoding of URLs.  If <mediatype> is omitted, it
defaults to text/plain;charset=US-ASCII.  As a shorthand, "text/plain"
can be omitted but the charset parameter supplied.

The "data:" URL scheme is only useful for very short values. Note that
some applications that use URLs may impose a length limit; for
example, URLs embedded within <A> anchors in HTML have a length limit
determined by the HTML DTD.

Examples

A data: URL might be used for arbitrary types of data.

      data:,A%20brief%20note

encodes the text/plain string "A brief note", which might be useful in
a footnote link.

The HTML fragment:

<IMG
SRC="data:image/gif;base64,R0lGODdhMAAwAPAAAAAAAP///ywAAAAAMAAw
AAAC8IyPqcvt3wCcDkiLc7C0qwyGHhSWpjQu5yqmCYsapyuvUUlvONmOZtfzgFz
ByTB10QgxOR0TqBQejhRNzOfkVJ+5YiUqrXF5Y5lKh/DeuNcP5yLWGsEbtLiOSp
a/TPg7JpJHxyendzWTBfX0cxOnKPjgBzi4diinWGdkF8kjdfnycQZXZeYGejmJl
ZeGl9i2icVqaNVailT6F5iJ90m6mvuTS4OK05M0vDk0Q4XUtwvKOzrcd3iq9uis
F81M1OIcR7lEewwcLp7tuNNkM3uNna3F2JQFo97Vriy/Xl4/f1cf5VWzXyym7PH
hhx4dbgYKAAA7"
ALT=Larry>

could be used for a small inline image in a HTML document.  (The
embedded image is probably near the limit of utility. For anything
else larger, data URLs are likely to be inappropriate.)

Some applications may use the "data:" URL scheme in order to provide
setup parameters for other kinds of networking applications. For
example, one might create a media type
	application/vnd.xxx-query

whose content consists of a query string and a database identifier for
the "xxx" vendor's databases. A URL of the form:

data:application/vnd.xxx-query,select_vcount,fcol_from_fieldtable/local

could then be used in a local application to launch the "helper" for
application/vnd.xxx-query and give it the immediate data included.

History

This idea was originally proposed August 1995. Some versions of the
data URL scheme have been used in the definition of VRML, and a
version has appeared as part of a proposal for embedded data in HTML.
Various changes have been made, based on requests, to elide the media
type, pack the indication of the base64 encoding more tightly, and
eliminate "quoted printable" as an encoding since it would not easily
yield valid URLs without additional %xx encoding, which itself is
sufficient.

Security

Immediate data URLs introduce no new security considerations.

References

[RFC1738]	RFC 1738. Uniform Resource Locators (URL). T.
                Berners-Lee, L. Masinter & M. McCahill. December 1994.
                
[RFC1808]	RFC 1808. Relative Uniform Resource Locators. R.
                Fielding. June 1995.

Author contact information:

Larry Masinter
Xerox Palo Alto Research Center
3333 Coyote Hill Road
Palo Alto, CA 94304
masinter@parc.xerox.com
