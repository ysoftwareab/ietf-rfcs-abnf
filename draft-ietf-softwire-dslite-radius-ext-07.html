<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>RADIUS Extensions for Dual-Stack Lite</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Terminology">
<link href="#rfc.section.3" rel="Chapter" title="3 DS-Lite Configuration with RADIUS and DHCPv6">
<link href="#rfc.section.4" rel="Chapter" title="4 RADIUS Attribute">
<link href="#rfc.section.4.1" rel="Chapter" title="4.1  DS-Lite-Tunnel-Name ">
<link href="#rfc.section.5" rel="Chapter" title="5 Table of attributes">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.section.7" rel="Chapter" title="7 IANA Considerations">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.references.1" rel="Chapter" title="8.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="8.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Dual-Stack Lite is a solution to offer both IPv4 and IPv6 connectivity to customers which are addressed only with an IPv6 prefix.  Dual-Stack Lite requires to pre-configure the Dual-Stack Lite Address Family Transition Router (AFTR) tunnel information on the Basic Bridging BroadBand (B4) element. In many networks, the customer profile information may be stored in Authentication Authorization and Accounting (AAA) servers while client configurations are mainly provided through Dynamic Host Configuration Protocol (DHCP). This document specifies a new Remote Authentication Dial In User Service (RADIUS) attribute to carry Dual-Stack Lite Address Family Transition Router Tunnel name; the RADIUS attribute is defined based on the equivalent DHCPv6 OPTION_AFTR_NAME option. This RADIUS attribute is meant to be used between the RADIUS Server and the Network Access Server (NAS), it is not intended to be used directly between the Basic Bridging BroadBand element and the RADIUS Server." />
  <meta name="description" content="Dual-Stack Lite is a solution to offer both IPv4 and IPv6 connectivity to customers which are addressed only with an IPv6 prefix.  Dual-Stack Lite requires to pre-configure the Dual-Stack Lite Address Family Transition Router (AFTR) tunnel information on the Basic Bridging BroadBand (B4) element. In many networks, the customer profile information may be stored in Authentication Authorization and Accounting (AAA) servers while client configurations are mainly provided through Dynamic Host Configuration Protocol (DHCP). This document specifies a new Remote Authentication Dial In User Service (RADIUS) attribute to carry Dual-Stack Lite Address Family Transition Router Tunnel name; the RADIUS attribute is defined based on the equivalent DHCPv6 OPTION_AFTR_NAME option. This RADIUS attribute is meant to be used between the RADIUS Server and the Network Access Server (NAS), it is not intended to be used directly between the Basic Bridging BroadBand element and the RADIUS Server." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">softwire</td>
<td class="right">R. Maglione</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">Telecom Italia</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">A. Durand</td>
</tr>
<tr>
<td class="left">Expires: April 19, 2012</td>
<td class="right">Juniper Networks</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">October 17, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">RADIUS Extensions for Dual-Stack Lite<br />
  <span class="filename">draft-ietf-softwire-dslite-radius-ext-07</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Dual-Stack Lite is a solution to offer both IPv4 and IPv6 connectivity to customers which are addressed only with an IPv6 prefix.  Dual-Stack Lite requires to pre-configure the Dual-Stack Lite Address Family Transition Router (AFTR) tunnel information on the Basic Bridging BroadBand (B4) element. In many networks, the customer profile information may be stored in Authentication Authorization and Accounting (AAA) servers while client configurations are mainly provided through Dynamic Host Configuration Protocol (DHCP). This document specifies a new Remote Authentication Dial In User Service (RADIUS) attribute to carry Dual-Stack Lite Address Family Transition Router Tunnel name; the RADIUS attribute is defined based on the equivalent DHCPv6 OPTION_AFTR_NAME option. This RADIUS attribute is meant to be used between the RADIUS Server and the Network Access Server (NAS), it is not intended to be used directly between the Basic Bridging BroadBand element and the RADIUS Server.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on April 19, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>
<p>This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008.  The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Terminology</a>
</li>
<li>3.   <a href="#rfc.section.3">DS-Lite Configuration with RADIUS and DHCPv6</a>
</li>
<li>4.   <a href="#rfc.section.4">RADIUS Attribute</a>
</li>
<li>4.1.   <a href="#rfc.section.4.1"> DS-Lite-Tunnel-Name </a>
</li>
<li>5.   <a href="#rfc.section.5">Table of attributes</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>7.   <a href="#rfc.section.7">IANA Considerations</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li>8.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>8.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> <a href="#intro" id="intro">Introduction</a>
</h1>
<p id="rfc.section.1.p.1">Dual-Stack Lite <a href="#RFC6333">[RFC6333]</a> is a solution to offer both IPv4 and IPv6 connectivity to customers which are addressed only with an IPv6 prefix (no IPv4 address is assigned to the attachment device). One of its key components is an IPv4-over-IPv6 tunnel, but a Dual-Stack-Lite Basic Bridging BroadBand (B4) will not know if the network it is attached to offers Dual-Stack Lite support, and if it did, would not know the remote end of the tunnel to establish a connection.</p>
<p id="rfc.section.1.p.2">To inform the Basic Bridging BroadBand (B4) of the Address Family Transition Router's (AFTR) location, a Fully Qualified Domain Name (FQDN) may be used. Once this information is conveyed, the presence of the configuration indicating the AFTR's location also informs a host to initiate Dual-Stack Lite (DS-Lite) service and become a Softwire Initiator.</p>
<p><a href="#RFC6334">[RFC6334]</a> specifies a DHCPv6 option which is meant to be used by a Dual-Stack Lite client (Basic Bridging BroadBand element, B4) to discover its Address Family Transition Router (AFTR) name. In order to be able to populate such option the DHCPv6 Server must be pre-provisioned with the Address Family Transition Router (AFTR) name.</p>
<p id="rfc.section.1.p.4">In Broadband environments, customer profile may be managed by AAA servers, together with user Authentication, Authorization, and Accounting (AAA). Remote Authentication Dial In User Service (RADIUS) protocol <a href="#RFC2865">[RFC2865]</a> is usually used by AAA Servers to communicate with network elements. <a href="#I-D.ietf-radext-ipv6-access">[I-D.ietf-radext-ipv6-access]</a> describes a typical broadband network scenario in which the Network Access Server (NAS) acts as the access gateway for the users (hosts or CPEs) and the NAS embeds a DHCPv6 Server function that allows it to locally handle any DHCPv6 requests issued by the clients.</p>
<p id="rfc.section.1.p.5">Since the DS-Lite AFTR information can be stored in AAA servers and the client configuration is mainly provided through Dynamic Host Configuration Protocol (DHCP) running between the NAS and the requesting clients, a new RADIUS attribute is needed to send AFTR information from AAA server to the NAS.</p>
<p id="rfc.section.1.p.6">This document aims at defining a new RADIUS attribute to be used for carrying the DS-Lite Tunnel Name, based on the equivalent DHCPv6 option already specified in <a href="#RFC6334">[RFC6334]</a></p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#term" id="term">Terminology</a>
</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<p id="rfc.section.2.p.2">The terms DS-Lite Basic Bridging BroadBand element (B4) and the DS-Lite Address Family Transition Router element (AFTR) are defined in <a href="#RFC6333">[RFC6333]</a></p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> DS-Lite Configuration with RADIUS and DHCPv6</h1>
<p id="rfc.section.3.p.1">The <a href="#fig1">Figure 1</a> illustrates how the RADIUS protocol and DHCPv6 work together to accomplish DS-Lite configuration on the B4 element when a PPP Session is used to provide connectivity to the user.</p>
<p id="rfc.section.3.p.2">The Network Access Server (NAS) operates as a client of RADIUS and as DHCP Server for DHC protocol. The NAS initially sends a RADIUS Access Request message to the RADIUS server, requesting authentication. Once the RADIUS server receives the request, it validates the sending client and if the request is approved, the AAA server replies with an Access Accept message including a list of attribute-value pairs that describe the parameters to be used for this session. This list MAY also contain the AFTR Tunnel Name. When the NAS receives a DHCPv6 client request containing the DS-Lite tunnel Option, the NAS SHALL use the name returned in the RADIUS DS-Lite-Tunnel-Name attribute to populate the DHCPv6 OPTION_AFTR_NAME option in the DHCPv6 reply message.</p>
<div id="#rfc.figure.1"></div>
<div id="#fig1"></div>
<pre>    B4                                NAS                     AAA
    |                                  |                     Server
    |                                  |                        |
    |----PPP LCP Config Request------&gt; |                        |
    |                                  |                        |
    |                                  |----Access-Request ----&gt;|
    |                                  |                        |
    |                                  |&lt;---- Access-Accept-----|
    |                                  | (DS-Lite-Tunnel-Name)  |
    |&lt;-----PPP LCP Config ACK  ------- |                        |
    |                                  |                        | 
    |                                  |                        |   
    |------ PPP IPv6CP Config Req ----&gt;|                        |
    |                                  |                        |     
    |&lt;----- PPP IPv6CP Config ACK -----|                        |
    |                                  |                        |  
    |-------  DHCPv6 Solicit  --------&gt;|                        |
    |                                  |                        |
    |&lt;-------DHCPv6 Advertisement -----|                        |
    |      (DHCPv6 OPTION_AFTR_NAME)   |                        |
    |                                  |                        |
    |-------  DHCPv6 Request  --------&gt;|                        |
    |                                  |                        |
    |&lt;-------- DHCPv6 Reply ---------- |                        |
    |      (DHCPv6 OPTION_AFTR_NAME)   |                        |
                        
                DHCPv6                         RADIUS 
</pre>
<p></p>
<p id="rfc.section.3.p.4">The <a href="#fig2">Figure 2</a> illustrates how the RADIUS protocol and DHCPv6 work together to accomplish DS-Lite configuration on the B4 element when an IP Session is used to provide connectivity to the user.</p>
<p id="rfc.section.3.p.5">The only difference between this message flow and previous one is that in this scenario the interaction between NAS and AAA/ RADIUS Server is triggered by the DHCPv6 Solicit message received by the NAS from the B4 acting as DHCPv6 client, while in case of a PPP Session the trigger is the PPP LCP Config Request message received by the NAS.</p>
<div id="#rfc.figure.2"></div>
<div id="#fig2"></div>
<pre>    B4                                NAS                      AAA
    |                                  |                      Server
    |------ DHCPv6 Solicit ---------&gt;  |                        |
    |                                  |                        |
    |                                  |----Access-Request ----&gt;|
    |                                  |                        |
    |                                  |&lt;---Access-Accept-------|
    |                                  | (DS-Lite-Tunnel-Name)  |
    |                                  |                        |
    |&lt;-------DHCPv6 Advertisement------|                        |
    |     (DHCPv6 OPTION_AFTR_NAME)    |                        |
    |                                  |                        |
    |-------  DHCPv6 Request  --------&gt;|                        |
    |                                  |                        |    
    |                                  |                        |
    |&lt;----- DHCPv6 Reply ------------- |                        |
    |     (DHCPv6 OPTION_AFTR_NAME)    |                        |
                        
                DHCPv6                         RADIUS 
</pre>
<p></p>
<p id="rfc.section.3.p.7">In the scenario depicted in <a href="#fig2">Figure 2</a> the Access-Request packet contains a Service-Type attribute with the value Authorize Only (17), thus according to <a href="#RFC5080">[RFC5080]</a> the Access-Request packet MUST contain a State attribute.</p>
<p id="rfc.section.3.p.8">After receiving the DS-Lite-Tunnel-Name in the initial Access-Accept the NAS MUST store the received AFTR Tunnel Name locally. When the B4 sends a DHCPv6 Renew message to request an extension of the lifetimes for the assigned address or prefix, the NAS does not have to initiate a new Access-Request towards the AAA server to request the AFTR tunnel name. The NAS retrieves the previously stored AFTR tunnel name and uses it in its reply.</p>
<p id="rfc.section.3.p.9">According to <a href="#RFC3315">[RFC3315]</a> if the DHCPv6 server to which the DHCPv6 Renew message was sent at time T1 has not responded, the DHCPv6 client initiates a Rebind/Reply message exchange with any available server. In this scenario the NAS receiving the DHCPv6 rebind message MUST initiate a new Access-Request towards the AAA server. The NAS MAY include the DS-Lite-Tunnel-Name attribute in its Access-Request.</p>
<p id="rfc.section.3.p.10">If the NAS does not receive the DS-Lite-Tunnel-Name attribute in the Access-Accept it MAY fallback to a pre-configured default tunnel name, if any. If the NAS does not have any pre-configured default tunnel name or if the NAS receives an Access-Reject, the IPv4 over IPv6 tunnel cannot be established, thus the B4 element has only IPv6 connectivity.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#Attrib" id="Attrib">RADIUS Attribute</a>
</h1>
<p id="rfc.section.4.p.1">This section specifies the format of the new RADIUS attribute.</p>
<h1 id="rfc.section.4.1">
<a href="#rfc.section.4.1">4.1.</a> <a href="#DSLITE-Name" id="DSLITE-Name"> DS-Lite-Tunnel-Name </a>
</h1>
<p id="rfc.section.4.1.p.1">Description</p>
<p id="rfc.section.4.1.p.2">The DS-Lite-Tunnel-Name RADIUS attribute contains a Fully Qualified Domain Name that refers to the AFTR the client is requested to establish a connection with. The NAS SHALL use the name returned in the RADIUS DS-Lite-Tunnel-Name attribute to populate the DHCPv6 OPTION_AFTR_NAME option <a href="#RFC6334">[RFC6334]</a></p>
<p id="rfc.section.4.1.p.3">This attribute MAY be used in Access-Request packets as a hint to the RADIUS server; for example if the NAS is pre-configured with a default tunnel name, this name MAY be inserted in the attribute. The RADIUS server MAY ignore the hint sent by the NAS and it MAY assign a different AFTR tunnel name.</p>
<p id="rfc.section.4.1.p.4">If the NAS includes the DS-Lite-Tunnel-Name attribute, but the AAA server does not recognize it, this attribute MUST be ignored by the AAA Server.</p>
<p id="rfc.section.4.1.p.5">If the NAS does not receive DS-Lite-Tunnel-Name attribute in the Access-Accept it MAY fallback to a pre-configured default tunnel name, if any. If the NAS does not have any pre-configured default tunnel name, the tunnel can not be established.</p>
<p id="rfc.section.4.1.p.6">If the NAS is pre-provisioned with a default AFTR tunnel name and the AFTR tunnel name received in Access-Accept is different from the configured default, then the AFTR tunnel name received in the Access-Accept message MUST be used for the session.</p>
<p id="rfc.section.4.1.p.7">If the NAS cannot support the received AFTR tunnel name for any reason, the tunnel SHOULD NOT be established.</p>
<p id="rfc.section.4.1.p.8">When the Access-Request is triggered by a DHCPv6 Rebind message if the AFTR tunnel name received in the Access-Accept is different from the currently used one for that session, the NAS MUST force the B4 to re-establish the tunnel using the new AFTR name received in the Access-Accept message.</p>
<p id="rfc.section.4.1.p.9">If an implementation includes the Change-of-Authorization (CoA) messages <a href="#RFC5176">[RFC5176]</a>, they could be used to modify the current established DS-Lite tunnel. When the NAS receives a CoA Request message containing the DS-Lite-Tunnel-Name attribute, the NAS MUST send a Reconfigure message to a B4 to inform the B4 that the NAS has new or updated configuration parameters and that the B4 is to initiate a Renew/Reply or Information-request/Reply transaction with the NAS in order to receive the updated information.</p>
<p id="rfc.section.4.1.p.10">Upon receiving an AFTR tunnel name different from the currently used one, the B4 MUST terminate the current DS-Lite tunnel and the B4 MUST establish a new DS-LITE tunnel with the specified AFTR.</p>
<p id="rfc.section.4.1.p.11">The DS-Lite-Tunnel-Name RADIUS attribute MAY be present in Accounting-Request records where the Acct-Status-Type is set to Start, Stop or Interim-Update. The DS-Lite-Tunnel-Name RADIUS attribute MUST NOT appear more than once in a message.</p>
<p id="rfc.section.4.1.p.12">A summary of the DS-Lite-Tunnel-Name RADIUS attribute format is shown below. The fields are transmitted from left to right.</p>
<div id="#rfc.figure.3"></div>
<p></p>
<pre>    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |    Length     |  DS-Lite-Tunnel-Name(FQDN)...   
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 
</pre>
<p></p>
<p id="rfc.section.4.1.p.13">Type:</p>
<p></p>

<ul class="empty"><li>TBA1 for DS-Lite-Tunnel-Name.</li></ul>

<p>Length: </p>

<ul class="empty"><li>This field indicates the total length in octets of this attribute including the Type, the Length fields and the length in octets of the DS-Lite-Tunnel-Name field</li></ul>
<p id="rfc.section.4.1.p.15">DS-Lite-Tunnel-Name:</p>

<ul class="empty"><li>A single Fully Qualified Domain Name of the remote tunnel endpoint, located at the DS-Lite AFTR.</li></ul>
<p id="rfc.section.4.1.p.16">As the DS-Lite-Tunnel-Name attribute is used to populate the DHCPv6 OPTION_AFTR_NAME option, the DS-Lite-Tunnel-Name field is formatted as required in DHCPv6 (Section 8 of <a href="#RFC3315">[RFC3315]</a> "Representation and Use of Domain Names"). Briefly, the format described is using a single octet noting the length of one DNS label (limited to at most 63 octets), followed by the label contents. This repeats until all labels in the FQDN are exhausted, including a terminating zero-length label. Any updates to Section 8 of <a href="#RFC3315">[RFC3315]</a> also apply to encoding of this field.</p>
<p id="rfc.section.4.1.p.17">The data type of DS-Lite-Tunnel-Name RADIUS attribute is a string with opaque encapsulation, according to <a href="#RFC2865">section 5 of </a> <cite title="NONE">[RFC2865]</cite></p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> Table of attributes</h1>
<p id="rfc.section.5.p.1">The following tables provide a guide to which attributes may be found in which kinds of packets, and in what quantity.</p>
<div id="#rfc.table.1"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<thead><tr>
<th class="left">Access- Request</th>
<th class="left">Access- Accept</th>
<th class="left">Access- Reject</th>
<th class="left">Challenge</th>
<th class="left">Accounting Request</th>
<th class="left">#</th>
<th class="left">Attribute</th>
</tr></thead>
<tbody><tr>
<td class="left">0-1</td>
<td class="left">0-1</td>
<td class="left">0</td>
<td class="left">0</td>
<td class="left">0-1</td>
<td class="left">TBA1</td>
<td class="left">DS-Lite-Tunnel-Name</td>
</tr></tbody>
</table>
<div id="#rfc.table.2"></div>
<table cellpadding="3" cellspacing="0" class="tt full left">
<thead><tr>
<th class="left">CoA-Request</th>
<th class="left">CoA-ACK</th>
<th class="left">CoA-NACK</th>
<th class="left">#</th>
<th class="left">Attribute</th>
</tr></thead>
<tbody><tr>
<td class="left">0-1</td>
<td class="left">0</td>
<td class="left">0</td>
<td class="left">TBA1</td>
<td class="left">DS-Lite-Tunnel-Name</td>
</tr></tbody>
</table>
<p id="rfc.section.5.p.2">The following table defines the meaning of the above table entries.</p>
<div id="#rfc.table.3"></div>
<table cellpadding="3" cellspacing="0" class="tt full center">
<thead><tr>
<th class="left"></th>
<th class="left"></th>
</tr></thead>
<tbody>
<tr>
<td class="left">0</td>
<td class="left">This attribute MUST NOT be present in packet.</td>
</tr>
<tr>
<td class="left">0+</td>
<td class="left">Zero or more instances of this attribute MAY be present in packet.</td>
</tr>
<tr>
<td class="left">0-1</td>
<td class="left">Zero or one instance of this attribute MAY be present in packet.</td>
</tr>
</tbody>
</table>
<p></p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#seccons" id="seccons">Security Considerations</a>
</h1>
<p id="rfc.section.6.p.1">This document has no additional security considerations beyond those already identified in <a href="#RFC2865">[RFC2865]</a> for RADIUS protocol and in <a href="#RFC5176">[RFC5176]</a> for CoA messages.</p>
<p><a href="#RFC6333">[RFC6333]</a> discusses Dual-Stack Lite related security issues.</p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.7.p.1">This document requests the allocation of a new Radius attribute types from the IANA registry "Radius Attribute Types" located at http://www.iana.org/assignments/radius-types</p>
<p></p>

<ul class="empty"><li>DS-Lite-Tunnel-Name - TBA1</li></ul>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">8.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6333">[RFC6333]</b></td>
<td class="top">
<a>Durand, A.</a>, <a>Droms, R.</a>, <a>Woodyatt, J.</a> and <a>Y. Lee</a>, "<a href="http://tools.ietf.org/html/rfc6333">Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion</a>", RFC 6333, August 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC6334">[RFC6334]</b></td>
<td class="top">
<a>Hankins, D.</a> and <a>T. Mrugalski</a>, "<a href="http://tools.ietf.org/html/rfc6334">Dynamic Host Configuration Protocol for IPv6 (DHCPv6) Option for Dual-Stack Lite</a>", RFC 6334, August 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2865">[RFC2865]</b></td>
<td class="top">
<a>Rigney, C.</a>, <a>Willens, S.</a>, <a>Rubens, A.</a> and <a>W. Simpson</a>, "<a href="http://tools.ietf.org/html/rfc2865">Remote Authentication Dial In User Service (RADIUS)</a>", RFC 2865, June 2000.</td>
</tr>
<tr>
<td class="reference"><b id="RFC3315">[RFC3315]</b></td>
<td class="top">
<a>Droms, R.</a>, <a>Bound, J.</a>, <a>Volz, B.</a>, <a>Lemon, T.</a>, <a>Perkins, C.</a> and <a>M. Carney</a>, "<a href="http://tools.ietf.org/html/rfc3315">Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</a>", RFC 3315, July 2003.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5080">[RFC5080]</b></td>
<td class="top">
<a>Nelson, D.</a> and <a>A. DeKok</a>, "<a href="http://tools.ietf.org/html/rfc5080">Common Remote Authentication Dial In User Service (RADIUS) Implementation Issues and Suggested Fixes</a>", RFC 5080, December 2007.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">8.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="I-D.ietf-radext-ipv6-access">[I-D.ietf-radext-ipv6-access]</b></td>
<td class="top">
<a>Lourdelet, B</a>, <a>Dec, W</a>, <a>Sarikaya, B</a>, <a>Zorn, G</a> and <a>D Miles</a>, "<a href="http://tools.ietf.org/html/draft-ietf-radext-ipv6-access-06">RADIUS attributes for IPv6 Access Networks</a>", Internet-Draft draft-ietf-radext-ipv6-access-06, November 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC5176">[RFC5176]</b></td>
<td class="top">
<a>Chiba, M.</a>, <a>Dommety, G.</a>, <a>Eklund, M.</a>, <a>Mitton, D.</a> and <a>B. Aboba</a>, "<a href="http://tools.ietf.org/html/rfc5176">Dynamic Authorization Extensions to Remote Authentication Dial In User Service (RADIUS)</a>", RFC 5176, January 2008.</td>
</tr>
</tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Roberta Maglione</span> 
	  <span class="n hidden">
		<span class="family-name">Maglione</span>
	  </span>
	</span>
	<span class="org vcardline">Telecom Italia</span>
	<span class="adr">
	  <span>Via Reiss Romoli 274</span>

	  <span class="vcardline">
		<span class="locality">Torino</span>,  
		<span class="region"></span>
		<span class="code">10148</span>
	  </span>
	  <span class="country-name vcardline">Italy</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:roberta.maglione@telecomitalia.it">roberta.maglione@telecomitalia.it</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Alain Durand</span> 
	  <span class="n hidden">
		<span class="family-name">Durand</span>
	  </span>
	</span>
	<span class="org vcardline">Juniper Networks</span>
	<span class="adr">
	  <span>1194 North Mathilda Avenue</span>

	  <span class="vcardline">
		<span class="locality">Sunnyvale</span>,  
		<span class="region">CA</span> 
		<span class="code">94089-1206</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:adurand@juniper.net">adurand@juniper.net</a></span>

  </address>
</div>

</body>
</html>