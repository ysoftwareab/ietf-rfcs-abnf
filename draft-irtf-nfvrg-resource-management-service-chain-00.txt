



Internet Research Task Force (IRTF)                               S. Lee
Internet-Draft                                                      ETRI
Intended status: Informational                                   S. Pack
Expires: November 19, 2015                                            KU
                                                               M-K. Shin
                                                                    ETRI
                                                                 E. Paik
                                                                      KT
                                                            May 18, 2015


                Resource Management in Service Chaining
         draft-irtf-nfvrg-resource-management-service-chain-00

Abstract

   This document specifies problem definition and use cases of NFV
   resource management in service chaining for path optimization,
   traffic optimization, failover, load balancing, etc.  It further
   describes design considerations and relevant framework for the
   resource management capability that dynamically creates and updates
   network forwarding paths (NFPs) considering resource constraints of
   NFV infrastructure.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on November 19, 2015.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents



Lee, et al.             Expires November 19, 2015               [Page 1]

Internet-Draft   Resource Management in Service Chaining        May 2015


   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  Resource management in service chain  . . . . . . . . . . . .   4
     3.1.  Use cases . . . . . . . . . . . . . . . . . . . . . . . .   4
     3.2.  Design considerations . . . . . . . . . . . . . . . . . .   6
     3.3.  Framework . . . . . . . . . . . . . . . . . . . . . . . .   7
   4.  Applicability to SFC  . . . . . . . . . . . . . . . . . . . .   7
     4.1.  Related works in IETF SFC WG  . . . . . . . . . . . . . .   7
     4.2.  Integration in SFC control-plane architecture . . . . . .   8
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   9
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   9
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   9
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  10

1.  Introduction

   Network Functions Virtualisation (NFV) [ETSI-NFV-WHITE] offers a new
   way to design, deploy and manage network services.  The network
   service can be composed of one or more network functions and NFV
   relocates the network functions from dedicated hardware appliances to
   generic servers, so they can run in software.  Using these
   virtualized network functions (VNFs), one or more VNF forwarding
   graph (VNF-FG) can be associated to the network service, each of
   which describes a network connectivity topology, by referencing VNFs
   and Virtual Links that connect them.  One or more network forwarding
   paths (NFPs) can be built on top of such a topology, each defining an
   ordered sequence of VNFs and Virtual Links to be traversed by traffic
   flows matching certain criteria.

   The performance or state of the NFP depends on the ones of underlying
   NFVI resources including VNF instances (VNF-Is) and VLs.  For
   example, if one of the VNF instances in a NFP gets failed, the whole
   network service using the NFP also gets failed.  Thus, the VNF
   instances per NFP need to be carefully selected at VNF-FG
   instantiation or dynamically replaced by other VNF instances at run-
   time for better performance and resilience of the NFP.



Lee, et al.             Expires November 19, 2015               [Page 2]

Internet-Draft   Resource Management in Service Chaining        May 2015


   The resource placement problem in service chains matters not only to
   the quality of NFPs but also to the optimized use of NFVI resources.
   For example, if some of the VNF instances and VLs are selected to
   constitute a NFP but the others are not, the processing and bandwidth
   burden will converge on those VNF instances and VLs, which results in
   scalability problem.

   This document addresses resource management problem in service
   chaining to optimize the NFP quality and resource usage.  It provides
   the relevant use cases of the resource management such as traffic
   optimization, failover, load balancing and further describes design
   considerations and relevant framework for the resource management
   capability that dynamically creates and updates NFPs considering
   resource state of VNF instances.

   This document mainly focuses on the resource capability in the ETSI
   NFV framework [ETSI-NFV-ARCH] but also studies its applicability to
   the control plane of SFC architecture [I-D.ietf-sfc-architecture].


2.  Terminology

   This document uses the following terms and most of them were
   reproduced from [ETSI-NFV-TERM].

   o  Network Functions (NF): A functional building block within a
      network infrastructure, which has well-defined external interfaces
      and a well-defined functional behavior.

   o  Network service: A composition of network functions and defined by
      its functional and behavioural specification.

   o  NFV Framework: The totality of all entities, reference points,
      information models and other constructs defined by the
      specifications published by the ETSI ISG NFV.

   o  Virtualised Network Function (VNF): An implementation of an NF
      that can be deployed on a Network Function Virtualisation
      Infrastructure (NFVI).

   o  NFV Infrastructure (NFVI): The NFV-Infrastructure is the totality
      of all hardware and software components which build up the
      environment in which VNFs are deployed.

   o  NF Forwarding Graph: A graph of logical links connecting NF nodes
      for the purpose of describing traffic flow between these network
      functions.




Lee, et al.             Expires November 19, 2015               [Page 3]

Internet-Draft   Resource Management in Service Chaining        May 2015


   o  VNF Forwarding Graph (VNF-FG): A NF forwarding graph where at
      least one node is a VNF.

   o  Virtual Link: A set of connection points along with the
      connectivity relationship between them and any associated target
      performance metrics (e.g. bandwidth, latency, QoS).  The Virtual
      Link can interconnect two or more entities (VNF components, VNFs,
      or PNFs).

   o  Scaling: Ability to dynamically extend/reduce resources granted to
      the Virtual Network Function (VNF) as needed.

3.  Resource management in service chain

   The goal of the resource management is to optimize the quality of
   network services and resource usage of NFVI.  To meet this goal, NFPs
   of the network services need to consider the state of NFV resources
   (such as VNF instances or virtual links) at construction.  The NFPs
   also need to dynamically adapt to the changes of the resource state
   at run-time, such as availability, load, and topological locations of
   VNF instances; latency and bandwidth of virtual links.  The
   adaptation of NFPs can be executed by monitoring the resource state
   of VNF instances and VLs and replacing the original VNF instances of
   the NFP with new VNF instances that constitute a NFP with better
   performance.  This functionality can be a part of Orchestrator
   functional building block in the NFV framework [ETSI-NFV-MANO] but it
   needs further study.

3.1.  Use cases

   In this section, several (but not exhausted) use cases for resource
   management in service chaining are provided: fail-over, path
   optimization, traffic optimization, load balancing, and energy
   efficiency.

   Fail-over

   When one of VNF instances in a NFP gets failed to run due to failure
   of its VM or underlying network, the whole chain of network service
   also gets failed.  For service continuity, the failure of VNF
   instance needs to be detected and the failed one needs to be replaced
   with the other one which is available to use.  Figure 1 presents an
   example of the fail-over use case.  A network service is defined as a
   chain of VNF-A and VNF-B; and the service chain is instantiated with
   VNF-A1 and VNF-B1 which are instances of VNF-A and VNF-B
   respectively.  In the meantime, failure of VNF-B1 is detected so that
   VNF-B2 replaces the failed one for fail-over of the NFP.




Lee, et al.             Expires November 19, 2015               [Page 4]

Internet-Draft   Resource Management in Service Chaining        May 2015


                   +--------+                        +--------+
                   | VNF-B2 |                       #| VNF-B2 |###
      +--------+   +--------+           +--------+ # +--------+
   ###| VNF-A1 |       _|_           ###| VNF-A1 |#      _|_
      +--------+      (___)             +--------+      (___)
     ___/    #       /     \      \    ___/            /     \
    (___)+---#------+       +   ===}  (___)+----------+       +
             #       \ ___ /      /                    \ ___ /
             #        (___)                             (___)
             #          |                                 |
             #     +--------+                        +--------+
             ######| VNF-B1 |###        (failure)--> | VNF-B1 |
                   +--------+                        +--------+

   ### NFP


                      Figure 1: A fail-over use case

   Path optimization

   Traffic for a network service traverses all of the VNF instances and
   the connecting VLs given by a NFP to reach a target end point.  Thus,
   quality of the network service depends on the resource constraints
   (e.g., processing power, bandwidth, topological locations, latency)
   of VNF instances and VLs.  In order to optimize the path of the
   network service, the resource constraints of VNF instances and VLs
   need to be considered at constructing NFPs.  Since the resource state
   may vary in time during the service, NFPs also need to adapt to the
   changes of resource constraints of the VNF instances and VLs by
   monitoring and replacing them at run-time.

   Traffic optimization

   A network operator may provide multiple network services with
   different VNF-FGs and different flows of traffic traverse between
   source and destination end-points along the VNF-FGs.  For efficiency
   of network management resource usage, the NFPs need to be built as to
   localize the traffic flows or as to avoid bottleneck links shared by
   multiple traffic flows.  In this case, multiple NFV instances of
   different NFPs need to be considered together at constructing a new
   NFP or adapting one.

   Load balancing

   A single VNF instances may be shared by multiple traffic flows of the
   same of different network services.  In order to avoid bottleneck




Lee, et al.             Expires November 19, 2015               [Page 5]

Internet-Draft   Resource Management in Service Chaining        May 2015


   points due to overloaded NFV instances, NFPs need to be constructed
   or maintained to distribute workloads of the shared VNF instances.

   Energy efficiency

   Energy efficiency in the network is getting important to reduce
   impact on the environment so that energy consumption of VNF instances
   using VNFI resources (e.g., compute, storage, I/O) needs to be
   considered at NFP construction or adaptation.  For example, a NFP can
   be constructed as to make traffic flows aggregated into a limited
   number of VNF instances as much as its performance is preserved in a
   certain level.

3.2.  Design considerations

   To support the aforementioned use cases, it is required to support
   resource management capability which provides service chain (or NFP)
   construction and adaptation by considering resource state or
   constraints of VNF instances and virtual links among them.  The
   resource management operations for service chain construction and
   adaptation can be divided into several sub-actions:

   o  Select a VNF instance

   o  Evaluate a VNF instance and a virtual link

   o  Replace a VNF instance to update a NFP

   o  Monitor state or resource constraints of a VNF instance and a
      virtual link

   o  Migrate a VNF instance to another ones in different locations

   Note: While scaling-in/out or -up/down of VNF instances is one of the
   essential actions for NFV resource management, it is a different
   approach with a finer granularity than service chain adaptation.  The
   scaling approach may be integrated together with the service chain
   adaptation but it is still under study.

   As listed above, VNF instances are selected or replaced according to
   monitoring or evaluation results of performance metrics of the VNF
   instances and virtual links.  Studies about evaluation methodologies
   and performance metrics for VNF instances and NFVI resources can be
   found at [ETSI-NFV-PER001] [I-D.liu-bmwg-virtual-network-benchmark]
   [I-D.morton-bmwg-virtual-net].  The performance metrics of VNF
   instances and virtual links specific to service chain construction
   and adaptation can be defined as follows:




Lee, et al.             Expires November 19, 2015               [Page 6]

Internet-Draft   Resource Management in Service Chaining        May 2015


   o  availability (or failure) of a VNF instance and a virtual link

   o  a topological location of a VNF instance

   o  a utilization rate of a VNF instance

   o  a throughput of a VNF instance

   o  energy consumption of VNF instance

   o  bandwidth of a virtual link

   o  latency of a virtual link

3.3.  Framework

   The resource management functionality for dynamic service chain
   adaptation takes role of NFV orchestration with support of VNF
   manager and Virtualised Infrastructure Manager (VIM) in the NFV
   framework [ETSI-NFV-ARCH].  Detailed functional building block and
   interfaces are still under study.

4.  Applicability to SFC

4.1.  Related works in IETF SFC WG

   IETF SFC WG provides a new service deployment model that delivers the
   traffic along the predefined logical paths of service functions
   (SFs), called service function chains (SFCs) with no regard of
   network topologies or transport mechanisms.  Basic concept of the
   service function chaining is similar to VNF-FG where a network
   service is composed of SFs and deployed by making traffic flows
   traversed instances of the SFs in a pre-defined order.

   There are several works in progress in IETF SFC WG for resource
   management of service chaining.  [I-D.ietf-sfc-architecture] defines
   SFC control plane that selects specific SFs for a requested SFC,
   either statically or dynamically but details are currently outside
   the scope of the document.  There are other works
   [I-D.ww-sfc-control-plane] [I-D.lee-sfc-dynamic-instantiation]
   [I-D.krishnan-sfc-oam-req-framework] [I-D.aldrin-sfc-oam-framework]
   which define the control plane functionality for service function
   chain construction and adaptation but details are still under study.
   While [I-D.dunbar-sfc-fun-instances-restoration] and
   [I-D.meng-sfc-chain-redundancy] provide detailed mechanisms of
   service chain adaptation, they focus only on resilience or fail-over
   of service function chains.




Lee, et al.             Expires November 19, 2015               [Page 7]

Internet-Draft   Resource Management in Service Chaining        May 2015


4.2.  Integration in SFC control-plane architecture

   In SFC WG, [I-D.ww-sfc-control-plane] defines a generic architecture
   of SFC control plane with well-defined functional building blocks and
   interfaces as follows:

                     +-------------------------------------------------+
                     |                     SFC  Control Plane          |
                     | +---------------+  +---------------+            |
             +-------| |Chain Management  |Service Overlay|            |
             |       | |Policy Control |  |Topo Management|            |
             |       | +---------------+  +---------------+            |
             |       | +---------------+ +---------------+             |
             +---------|Chain Selection| | Chain Mapping | +----------+|
             |       | | Policy Control| | and Forwarding| |External SF|
             |         +---------------+ |    Control    | |Management||
             |       |                   +---------------+ +----------+|
             C1      +------^-----------^-------------^----------------+
      +---------------------|F----------|-------------|-------------+
      |      |            +----+        |             |             |
      |      |            | SF |        |C2           |C2           |
      |                   +----+        |             |             |
      | +----V--- --+       |           |             |             |
      | |   SFC     |     +----+      +-|--+        +----+          |
      | |Classifier |---->|SFF |----->|SFF |------->|SFF |          |
      | |   Node    |<----|    |<-----|    |<-------|    |          |
      | +-----------+     +----+      +----+        +----+          |
      |                     |           |              |            |
      |                     |C2      -------           |            |
      |                     |       |       |     +-----------+ F   |
      |                     V     +----+ +----+   | SFC Proxy |-->  |
      |                           | SF | |SF  |   +-----------+     |
      |                           +----+ +----+                     |
      |                             |F     |F                       |
      |  SFC Data Plane Components  V      V                        |
      |                                                             |
      +-------------------------------------------------------------+


                 Figure 2: SFC control plane architecture

   The service chain adaptation addressed in this document may be
   integrated into the Chain Mapping and Forwarding Control functional
   block and may use the C2 and F interfaces for monitoring or
   collecting the resource constraints of VNF instances and VLs.






Lee, et al.             Expires November 19, 2015               [Page 8]

Internet-Draft   Resource Management in Service Chaining        May 2015


   Note that SFC does not assume that Service Functions are virtualized.
   Thus, the parameters of resource constraints may differ, and it needs
   further study for integration.

5.  Security Considerations

   TBD.

6.  IANA Considerations

   TBD.

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

7.2.  Informative References

   [ETSI-NFV-ARCH]
              ETSI, "ETSI NFV Architectural Framework v1.1.1", October
              2013.

   [ETSI-NFV-MANO]
              ETSI, "Network Function Virtualization (NFV) Management
              and Orchestration V0.6.3", October 2014.

   [ETSI-NFV-PER001]
              ETSI, "Network Function Virtualization: Performance and
              Portability Best Practices v1.1.1", June 2014.

   [ETSI-NFV-TERM]
              ETSI, "NFV Terminology for Main Concepts in NFV", October
              2013.

   [ETSI-NFV-WHITE]
              ETSI, "NFV Whitepaper 2", October 2013.

   [I-D.aldrin-sfc-oam-framework]
              Aldrin, S., Krishnan, R., Akiya, N., Pignataro, C., and A.
              Ghanwani, "Service Function Chaining Operation,
              Administration and Maintenance Framework", draft-aldrin-
              sfc-oam-framework-01 (work in progress), October 2014.






Lee, et al.             Expires November 19, 2015               [Page 9]

Internet-Draft   Resource Management in Service Chaining        May 2015


   [I-D.dunbar-sfc-fun-instances-restoration]
              Dunbar, L. and A. Malis, "Framework for Service Function
              Instances Restoration", draft-dunbar-sfc-fun-instances-
              restoration-00 (work in progress), April 2014.

   [I-D.ietf-sfc-architecture]
              Halpern, J. and C. Pignataro, "Service Function Chaining
              (SFC) Architecture", draft-ietf-sfc-architecture-08 (work
              in progress), May 2015.

   [I-D.krishnan-sfc-oam-req-framework]
              Krishnan, R., Ghanwani, A., Gutierrez, P., Lopez, D.,
              Halpern, J., Kini, S., and A. Reid, "SFC OAM Requirements
              and Framework", draft-krishnan-sfc-oam-req-framework-00
              (work in progress), July 2014.

   [I-D.lee-sfc-dynamic-instantiation]
              Lee, S., Pack, S., Shin, M., and E. Paik, "SFC dynamic
              instantiation", draft-lee-sfc-dynamic-instantiation-01
              (work in progress), October 2014.

   [I-D.liu-bmwg-virtual-network-benchmark]
              Liu, V., Liu, D., Mandeville, B., Hickman, B., and G.
              Zhang, "Benchmarking Methodology for Virtualization
              Network Performance", draft-liu-bmwg-virtual-network-
              benchmark-00 (work in progress), July 2014.

   [I-D.meng-sfc-chain-redundancy]
              Wu, C., Meng, W., and C. Wang, "Redundancy Mechanism for
              Service Function Chains", draft-meng-sfc-chain-
              redundancy-01 (work in progress), December 2014.

   [I-D.morton-bmwg-virtual-net]
              Morton, A., "Considerations for Benchmarking Virtual
              Network Functions and Their Infrastructure", draft-morton-
              bmwg-virtual-net-03 (work in progress), February 2015.

   [I-D.ww-sfc-control-plane]
              Li, H., Wu, Q., Boucadair, M., Jacquenet, C., Haeffner,
              W., Lee, S., and R. Parker, "Service Function Chaining
              (SFC) Control Plane Achitecture", draft-ww-sfc-control-
              plane-04 (work in progress), March 2015.

Authors' Addresses







Lee, et al.             Expires November 19, 2015              [Page 10]

Internet-Draft   Resource Management in Service Chaining        May 2015


   Seungik Lee
   ETRI
   218 Gajeong-ro Yuseung-Gu
   Daejeon  305-700
   Korea

   Phone: +82 42 860 1483
   Email: seungiklee@etri.re.kr


   Sangheon Pack
   Korea University
   145 Anam-ro, Seongbuk-gu
   Seoul  136-701
   Korea

   Phone: +82 2 3290 4825
   Email: shpack@korea.ac.kr


   Myung-Ki Shin
   ETRI
   218 Gajeong-ro Yuseung-Gu
   Daejeon  305-700
   Korea

   Phone: +82 42 860 4847
   Email: mkshin@etri.re.kr


   EunKyoung Paik
   KT
   17 Woomyeon-dong, Seocho-gu
   Seoul  137-792
   Korea

   Phone: +82 2 526 5233
   Email: eun.paik@kt.com













Lee, et al.             Expires November 19, 2015              [Page 11]
