MPLS Working Group                                              LE ZHANG 
Internet Draft                                                    HUAWEI 
                                                               GANG CHEN 
                                                                  HUAWEI 
Expires: April 2006                                     October 17, 2005 
                                   
 
                                      
                  LABEL-EXP-Inferred-Label Switched Paths  
                      draft-zhang-mpls-l-e-lsp-00.txt 


    

Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on April 17, 2006. 

Copyright Notice 

      Copyright (C) The Internet Society (2005).  All Rights Reserved. 

Abstract 

   Solutions have been specified in Multi-Protocol Label Switching (MPLS) 
   Support of Differentiated Services(Diff-Serv) defined in RFC3270. 
   This document describes a new type of Differentiated Services(Diff-
 
 
 
ZHANG                  Expires April 17, 2006                 [Page 1] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

   Serv) LSP: LABEL-EXP-Inferred-LSP(L-E-LSP).It uses both Label and EXP 
   bits for Differentiated Services. 

    

Table of Contents 

    
   1. Introduce...................................................2 
   2. Terminology.................................................2 
   3. L-E-LSP.....................................................3 
      3.1. Extension to RSVP-TE DiffServ Object...................3 
      3.2. procedure of L-E-LSP establishment.....................4 
   4. Security Considerations.....................................5 
   5. Conclusions.................................................5 
   6. Acknowledgments.............................................6 
   7. References..................................................7 
      7.1. Normative References...................................7 
      7.2. Informative References.................................7 
   Author's Addresses.............................................7 
   Intellectual Property Statement................................8 
   Disclaimer of Validity.........................................8 
   Copyright Statement............................................9 
   Acknowledgment.................................................9 
    
1. Introduction 

   [RFC3270] specifies a set of MPLS Diff-Serv rules and two types of 
   LSP for MPLS Diff-Serv: Label-Only-Inferred-PSC LSPs (L-LSP) and EXP-
   Inferred-PSC LSPs (E-LSP)  But, the E-LSP only provides up to 8 types 
   of Service class, which is not enough for some situations; and L-LSP 
   requires a special LSP-Tunnel for each service class, which uses a 
   lot of resources.  

   In this draft, we provide a new type of Diff-Serv LSP: L-E-LSP, which 
   use both Label field and EXP field to determine Diff-Serv class. 

    

2. Terminology  

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC 2119 [1].  The use 
   of the term, "silently ignore" is not defined in RFC 2119.  However, 
   the term is used in this document and can be similarly construed. 
    
 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 2] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

   This document borrows all of the terminology from RFC3270. 

3. LABEL-EXP-Inferred-LSP(L-E-LSP) 

3.1. Extension to RSVP-TE DiffServ Object 

   Based on RFC3270 5.2 DIFFSERV Object, we define a new C-Type for L-E-
   LSP. 

    

   class = 65, C_Type = TBD

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Reserved               |             PSC               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |        Reserved                                       | MAPnb |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            MAP (1)                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      //                               ...                            //
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            MAP (MAPnb)                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


  Figure 1: Extension of DiffServ Object 

    

 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 3] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

   Reserved1 : 16 bits.  

       This field is reserved.  It must be set to zero on transmission 
   and must be ignored on receipt. 

    

   PSC : 16 bits 

       The PSC indicates a PHB Scheduling Class to be supported by the         
   LSP.  The PSC is encoded as specified in [PHBID]. 

    

   Reserved2 : 28 bits 

       This field is reserved.  It must be set to zero on transmission         
   and must be ignored on receipt. 

    

   MAPnb : 4 bits 

       Indicates the number of MAP entries included in the DIFFSERV         
   Object.  This can be set to any value from 0 to 8. 

    

   MAP : 32 bits 

       Each MAP entry defines the mapping between one EXP field value         
   and one PHB.   

    

3.2. Procedure of L-E-LSP establishment 

    

               [R1]--------[R2]---------[R5] 
                   \                   /     
                   [R3]----------- [R4]      
    

                  Figure 2: procedure of L-E-LSP establishment 

 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 4] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

    

   Suppose there are two types of class services now: data service and 
   voice service. In each service there are sub-class services: golden 
   service, silver service and common service. The topology is as figure 
   2. Each link has 100M bandwidth, and each service need 80M bandwidth. 

   To setup L-E-LSP, we determine the service class requirements of two 
   services: data service and voice service. Because the voice service 
   needs low delay quality service, voice traffic is given higher 
   priority than data service, we choose the shortest path R1->R2->R5 
   for voice service, and the LSP for Voice get the name LSP125. In 
   DiffServ Object, it appears with the PSC1. For data service, because 
   the shortest path R1->R2->R5 no longer has enough bandwidth (100M - 
   80M, not enough), we have to choose path R1->R3->R4->R5 for data 
   service, and the LSP for Voice get the name LSP1345. 

   Voice service has sub-class service: golden service, silver service 
   and common service. For this, we have three PHBIDs in DiffServ Object, 
   and they map to three different EXP bits. Now we can setup the L-E-
   LSP, it has three sub-class, with the PSC1+EXP1, PSC1+EXP2 and 
   PSC1+EXP3. Each sub-class will has its own qos quality service. 

   For data service's sub-class, it also setup L-E-LSP: PSC2+EXP1, 
   PSC2+EXP2 and PSC2+EXP3.  

4. Forwarding  

   Ingress: the router collects the information from packet, and 
   determine which service class the packet belongs to (for example, 
   data service or voice service), and which sub-class it belongs to 
   (golden, silver or common). For golden voice service, the packet will 
   be mapped into LSP125, and the EXP bits of the label will be set to 
   EXP1. The Router will do the QOS behavior based on the information, 
   and then send packet out along LSP125. 

   Transmit and egress: the router determines the service class QOS 
   information based on the in label, and the sub-class service based on 
   EXP bits. The router provides the QOS behavior based on the class 
   service, and the sub-class service. When the behavior is done, the 
   router will forward the packet to its nexthop. 

5. Security Considerations 

   This document does not introduce any new security issues beyond those 
   inherent in   Diff-Serv, MPLS and RSVP, and may use the same 
   mechanisms proposed for those technologies.  
 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 5] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

 
6. Conclusions 

   This document described a kind of technique that provide a new type 
   of MPLS Diffserv LSP. It merges the E-LSP and L-LSP, provide more QOS 
   classes of service than E-LSP without consuming resources on a per-
   class basis, as L-LSP does. 

7. Acknowledgments 

    

    

































 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 6] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

8. References 

8.1. Normative References 

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement 
         Levels", BCP 14, RFC 2119, March 1997. 

   [2]  Crocker, D. and Overell, P.(Editors), "Augmented BNF for Syntax 
         Specifications: ABNF", RFC 2234, Internet Mail Consortium and 
         Demon Internet Ltd., November 1997. 

   [3]  L. Wu, S., "Multi-Protocol Label Switching (MPLS) Support of 
         Differentiated Services", RFC3270, May 2002 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC 2119, March 1997. 

   [RFC2234] Crocker, D. and Overell, P.(Editors), "Augmented BNF for 
             Syntax Specifications: ABNF", RFC 2234, Internet Mail 
             Consortium and Demon Internet Ltd., November 1997. 

   [RFC3270] L. Wu, S., "Multi-Protocol Label Switching (MPLS) Support 
             of Differentiated Services", RFC3270, May 2002. 

8.2. Informative References 

   [4]  Faber, T., Touch, J. and W. Yue, "The TIME-WAIT state in TCP 
         and Its Effect on Busy Servers", Proc. Infocom 1999 pp. 1573-
         1583. 

   [Fab1999] Faber, T., Touch, J. and W. Yue, "The TIME-WAIT state in 
             TCP and Its Effect on Busy Servers", Proc. Infocom 1999 pp. 
             1573-1583. 

Author's Addresses 

   LE ZHANGLE 
   HUAWEI 
   Hua Wei Bld.,No.3 Xinxi Rd., 
   Shang-Di Information Industry Base 
   Hai-Dian District 
   Beijing P.R.China 
      
   Phone: +86 010 82882037 
   Email: zhangle@huawei.com 
    

 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 7] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

   GANG CHEN 
   HUAWEI 
   Hua Wei Bld.,No.3 Xinxi Rd., 
   Shang-Di Information Industry Base 
   Hai-Dian District 
   Beijing P.R.China 
      
   Phone: +86 010 82882037 
   Email: chengang@huawei.com 
    

Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org 

Disclaimer of Validity 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 



 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 8] 

Internet-Draft     draft-zhang-mpls-L-E-LSP-00.txt        October 2005 
    

Copyright Statement 

   Copyright (C) The Internet Society (2005). 

   This document is subject to the rights, licenses and restrictions 
   contained in BCP 78, and except as set forth therein, the authors 
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 


































 
 
draft-zhang-mpls-L-E-LSP-00.txt  Expires April 17, 2006        [Page 9] 

