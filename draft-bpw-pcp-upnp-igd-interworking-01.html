<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Universal Plug and Play
    (UPnP) Internet Gateway Device (IGD)-Port Control Protocol (PCP)
    Interworking Function</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Universal Plug and Play
    (UPnP) Internet Gateway Device (IGD)-Port Control Protocol (PCP)
    Interworking Function">
<meta name="keywords" content="PCP working group, UPnP, pinhole, PCP, mapping, NAT control,
    interworking">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">M. Boucadair</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">France Telecom</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">R. Penno</td></tr>
<tr><td class="header">Expires: June 26, 2011</td><td class="header">Juniper Networks</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">D. Wing</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Cisco</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">F. Dupont</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">ISC</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">December 23, 2010</td></tr>
</table></td></tr></table>
<h1><br />Universal Plug and Play
    (UPnP) Internet Gateway Device (IGD)-Port Control Protocol (PCP)
    Interworking Function<br />draft-bpw-pcp-upnp-igd-interworking-01</h1>

<h3>Abstract</h3>

<p>This document specifies the behavior of the UPnP IGD (Internet
      Gateway Device)/PCP Interworking Function. An UPnP IGD-PCP Interworking
      Function (IGD-PCP IWF) is required to be embedded in CP routers to allow
      for transparent NAT control in environments where UPnP is used in the
      LAN side and PCP in the external side of the CP router.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on June 26, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<br />
<a href="#anchor2">2.</a>&nbsp;
Acronyms<br />
<br />
<a href="#anchor3">3.</a>&nbsp;
Architecture Model<br />
<br />
<a href="#anchor4">4.</a>&nbsp;
UPnP IGD-PCP Interworking Function: Overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">4.1.</a>&nbsp;
UPnP IGD-PCP: Variables<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">4.2.</a>&nbsp;
IGD-PCP: Methods<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.3.</a>&nbsp;
UPnP IGD-PCP: Errors<br />
<br />
<a href="#anchor8">5.</a>&nbsp;
Specification of the IGD-PCP Interworking Function<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">5.1.</a>&nbsp;
PCP Server Discovery<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.2.</a>&nbsp;
Control of the Firewall<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.3.</a>&nbsp;
NAT Control in LAN Side<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.4.</a>&nbsp;
Port Mapping Tables<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#spec_no_nat">5.5.</a>&nbsp;
Interworking Function Without NAT in the CP Router<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#spec_nat">5.6.</a>&nbsp;
NAT Embedded in the CP Router<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">5.7.</a>&nbsp;
Creating a Mapping<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#addanyportmapping">5.7.1.</a>&nbsp;
AddAnyPortMapping()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#addportmapping">5.7.2.</a>&nbsp;
AddPortMapping()<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#list">5.8.</a>&nbsp;
Listing One or a Set of Mappings<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#delete">5.9.</a>&nbsp;
Delete One or a Set of Mappings: DeletePortMapping() or DeletePortMappingRange()<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sync">5.10.</a>&nbsp;
Mapping Synchronisation<br />
<br />
<a href="#IANA">6.</a>&nbsp;
IANA Considerations<br />
<br />
<a href="#Security">7.</a>&nbsp;
Security Considerations<br />
<br />
<a href="#anchor14">8.</a>&nbsp;
Acknowledgments<br />
<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>PCP <a class='info' href='#I-D.ietf-pcp-base'>[I&#8209;D.ietf&#8209;pcp&#8209;base]<span> (</span><span class='info'>Wing, D., &ldquo;Port Control Protocol (PCP),&rdquo; December&nbsp;2010.</span><span>)</span></a> discusses the
      implementation of NAT control features that rely upon Carrier Grade NAT
      devices such as DS-Lite AFTR <a class='info' href='#I-D.ietf-softwire-dual-stack-lite'>[I&#8209;D.ietf&#8209;softwire&#8209;dual&#8209;stack&#8209;lite]<span> (</span><span class='info'>Durand, A., Droms, R., Woodyatt, J., and Y. Lee, &ldquo;Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion,&rdquo; August&nbsp;2010.</span><span>)</span></a> or NAT64 <a class='info' href='#I-D.ietf-behave-v6v4-xlate-stateful'>[I&#8209;D.ietf&#8209;behave&#8209;v6v4&#8209;xlate&#8209;stateful]<span> (</span><span class='info'>Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers,&rdquo; July&nbsp;2010.</span><span>)</span></a>. Nevertheless, in
      environments where UPnP is used in the local network, an interworking
      function between UPnP IGD and PCP is required to be embedded in the CP
      router (an example is illustrated in <a class='info' href='#iwf_example'>Figure&nbsp;1<span> (</span><span class='info'>Flow Example</span><span>)</span></a>).
</p>
<p>Two configurations are considered:</p>
<ul class="text">
<li>No NAT function is embedded in the CP router. This is required
          for instance in DS-Lite or NAT64 deployments;
</li>
<li>The CP router embeds a NAT function.
</li>
</ul>

<p><br /><hr class="insert" />
<a name="iwf_example"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                         UPnP-PCP
UPnP Control           Interworking
   Point                 Function                  PCP Server
     |                      |                           |
     | (1) AddPortMapping   |                           |
     |---------------------&gt;|                           |
     |                      |   (2) PCP PINxy Request   |
     |                      |--------------------------&gt;|
     |                      |                           |</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Flow Example&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>The UPnP IGD-PCP Interworking Function (IGD-PCP IWF) maintains a
      local mapping table which stores all active mappings instructed by
      internal UPnP Control Points. This design choice restricts the amount of
      PCP messages to be exchanged with the PCP Server.
</p>
<p>Triggers for deactivating the UPnP IGD-PCP Interworking Function from
      the CP router and relying on a PCP-only mode are out of scope of this
      document.
</p>
<p>In the remaining, PINxy refers to one of the PIN44, PIN46, PING64 and
      PIN66 PCP OpCodes defined in <a class='info' href='#I-D.ietf-pcp-base'>[I&#8209;D.ietf&#8209;pcp&#8209;base]<span> (</span><span class='info'>Wing, D., &ldquo;Port Control Protocol (PCP),&rdquo; December&nbsp;2010.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Acronyms</h3>

<p>This document make use of the following abbreviations:
</p><table class="none" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="right"><col align="left">
<tr><th align="right">CP router</th><th align="left">Customer Premise router</th></tr>
<tr>
<td align="right">DS-Lite</td>
<td align="left">Dual-Stack Lite</td>
</tr>
<tr>
<td align="right">IGD</td>
<td align="left">Internet Gateway Device</td>
</tr>
<tr>
<td align="right">IWF</td>
<td align="left">Interworking Function</td>
</tr>
<tr>
<td align="right">NAT</td>
<td align="left">Network Address Translation</td>
</tr>
<tr>
<td align="right">PCP</td>
<td align="left">Port Control Protocol</td>
</tr>
<tr>
<td align="right">UPnP</td>
<td align="left">Universal Plug and Play</td>
</tr>
</table>
<br clear="all" />

<p>
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Architecture Model</h3>

<p>As a reminder, <a class='info' href='#igd_model'>Figure&nbsp;2<span> (</span><span class='info'>UPnP IGD Model</span><span>)</span></a> illustrates the
      architecture model adopted by UPnP IGD <a class='info' href='#IGD2'>[IGD2]<span> (</span><span class='info'>UPnP Forum, &ldquo;WANIPConnection:2 Service           (http://upnp.org/specs/gw/UPnP-gw-WANIPConnection-v2-Service.pdf),&rdquo; September&nbsp;2010.</span><span>)</span></a>. In
      <a class='info' href='#igd_model'>Figure&nbsp;2<span> (</span><span class='info'>UPnP IGD Model</span><span>)</span></a>, the following UPnP terminology is
      used:</p>
<ul class="text">
<li>Client refers to a host located in the local network.
</li>
<li>IGD Control Point is a UPnP control point using UPnP to control
          an IGD (Internet Gateway Device).
</li>
<li>Host represents a remote peer reachable in the Internet.
</li>
</ul>

<p><br /><hr class="insert" />
<a name="igd_model"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>+-------------+
| IGD Control |
|   Point     |-----+
+-------------+     |   +-----+       +------+
                    +---|     |       |      |
                        | IGD |-------| Host |
                    +---|     |       |      |
+-------------+     |   +-----+       +------+
|   Client    |-----+
+-------------+

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: UPnP IGD Model&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>This model is not valid when PCP is used to control for instance a
      Carrier Grade NAT (a.k.a., Provider NAT) while internal hosts continue
      to use UPnP. In such scenarios, <a class='info' href='#igdpcp'>Figure&nbsp;3<span> (</span><span class='info'>UPnP IGD-PCP Interworking Model</span><span>)</span></a> shows the
      updated model.
</p>
<p><br /><hr class="insert" />
<a name="igdpcp"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>+-------------+
| IGD Control |
|   Point     |-----+
+-------------+     |   +-----+       +--------+               +------+
                    +---| IGD-|       |Provider|               |      |
                        | PCP |-------|  NAT   |--&lt;Internet&gt;---| Peer |
                    +---| IWF |       |        |               |      |
+-------------+     |   +-----+       +--------+               +------+
| Local Host  |-----+
+-------------+
                      LAN Side  External Side
&lt;======UPnP IGD===============&gt;&lt;======PCP=====&gt;

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: UPnP IGD-PCP Interworking Model&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>In the updated model depicted in <a class='info' href='#igdpcp'>Figure&nbsp;3<span> (</span><span class='info'>UPnP IGD-PCP Interworking Model</span><span>)</span></a>, one
      or two levels of NAT can be encountered in the data path. Indeed, in
      addition to the Carrier Grade NAT, the CP router may embed a NAT
      function (<a class='info' href='#multinat'>Figure&nbsp;4<span> (</span><span class='info'>Cascaded NAT scenario</span><span>)</span></a>).
</p>
<p><br /><hr class="insert" />
<a name="multinat"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>+-------------+
| IGD Control |
|   Point     |-----+
+-------------+     |   +-----+       +----+               +------+
                    +---| IGD-|       |    |               |Remote|
                        | PCP |-------|NAT2|--&lt;Internet&gt;---| Host |
                    +---| IWF |       |    |               |      |
+-------------+     |   +-----+       +----+               +------+
| Local Host  |-----+     NAT1
+-------------+

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Cascaded NAT scenario&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>To ensure a successful interworking between UPnP IGD and PCP, an
      interworking function is embedded in the CP router. In the model defined
      in <a class='info' href='#igdpcp'>Figure&nbsp;3<span> (</span><span class='info'>UPnP IGD-PCP Interworking Model</span><span>)</span></a>, all UPnP IGD server-oriented
      functions, a PCP Client <a class='info' href='#I-D.ietf-pcp-base'>[I&#8209;D.ietf&#8209;pcp&#8209;base]<span> (</span><span class='info'>Wing, D., &ldquo;Port Control Protocol (PCP),&rdquo; December&nbsp;2010.</span><span>)</span></a> and a
      UPnP IGD-PCP Interworking Function are embedded in the CP router (i.e.,
      IGD). In the rest of the document, IGD-PCP Interworking Function refers
      to PCP Client and UPnP IGD-PCP Interworking Function.
</p>
<p>UPnP IGD-PCP Interworking Function is responsible for generating a
      well-formed PCP (resp., UPnP IGD) message from a received UPnP IGD
      (resp., PCP) message.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
UPnP IGD-PCP Interworking Function: Overview</h3>

<p>Three tables are provided to specify the mapping between UPnP IGD and
      PCP:</p>
<ol class="text">
<li><a class='info' href='#variables'>Table&nbsp;1<span> (</span><span class='info'>UPnP IGD-PCP: Variables</span><span>)</span></a> provides the mapping between
          WANIPConnection parameters and PCP parameters;
</li>
<li><a class='info' href='#methods'>Table&nbsp;2<span> (</span><span class='info'>IGD-PCP: Methods</span><span>)</span></a> focuses on the correspondence
          between supported methods;
</li>
<li><a class='info' href='#errors'>Table&nbsp;3<span> (</span><span class='info'>UPnP IGD-PCP: Errors</span><span>)</span></a> lists the IGD error messages and
          their corresponding PCP ones.
</li>
</ol>

<p>Note that some enhancements have been integrated in WANIPConnection
      as documented in <a class='info' href='#IGD2'>[IGD2]<span> (</span><span class='info'>UPnP Forum, &ldquo;WANIPConnection:2 Service           (http://upnp.org/specs/gw/UPnP-gw-WANIPConnection-v2-Service.pdf),&rdquo; September&nbsp;2010.</span><span>)</span></a>.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
UPnP IGD-PCP: Variables</h3>

<p>
</p><br /><hr class="insert" />
<a name="variables"></a>
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center"><col align="center">
<tr><th align="center">WANIPConnection</th><th align="center">PCP</th><th align="center">Comments</th></tr>
<tr>
<td align="center">PortMappingEnabled</td>
<td align="center">Not applicable</td>
<td align="center">When set to 1, this parameter MUST NOT be reproduced as an
          argument in PCP messages. If set to 0, this is the default PCP mode
          (no explicit indication in PCP messages). PCP does not support
          deactivating the dynamic NAT mapping since the initial goal of PCP
          is to ease the traversal of Carrier Grade NAT. Supporting such
          per-subscriber function may overload the Carrier Grade NAT.</td>
</tr>
<tr>
<td align="center">PortMappingLeaseDuration</td>
<td align="center">Requested Mapping Lifetime</td>
<td align="center">PCP recommends 7200s as default value. When
          PortMappingLeaseDuration is set to 0, a maximum lifetime value MAY
          be included in the corresponding PCP message. PCP allows for a
          maximum value of 65536 seconds while UPnP IGD allows 604800 seconds
          (i.e., one week) as a maximum bound. 3600s being the recommended
          lease value in UPnP IGD:2 <a class='info' href='#IGD2'>[IGD2]<span> (</span><span class='info'>UPnP Forum, &ldquo;WANIPConnection:2 Service           (http://upnp.org/specs/gw/UPnP-gw-WANIPConnection-v2-Service.pdf),&rdquo; September&nbsp;2010.</span><span>)</span></a>.</td>
</tr>
<tr>
<td align="center">ExternalPort</td>
<td align="center">External Port Number</td>
<td align="center">PCP does not support explicit wildcard values. If ExternalPort is
          a wildcard value, a random value of External Port Number MUST be
          enclosed in the corresponding PCP message.</td>
</tr>
<tr>
<td align="center">InternalPort</td>
<td align="center">Internal Port Number</td>
<td align="center">&nbsp;</td>
</tr>
<tr>
<td align="center">PortMappingProtocol</td>
<td align="center">Transport Protocol</td>
<td align="center">IGD only supports TCP and UDP.</td>
</tr>
<tr>
<td align="center">InternalClient</td>
<td align="center">Internal IP Address</td>
<td align="center">InternalClient can be an IP address or a FQDN. Only an IP address
          scheme is supported in PCP. If a FQDN is used by the IGD Control
          Point, it must be resolved to an IP address by the Interworking
          Function when relying the message to the PCP Server.</td>
</tr>
<tr>
<td align="center">ExternaIPAddress</td>
<td align="center">External IP Address</td>
<td align="center">&nbsp;</td>
</tr>
<tr>
<td align="center">PortMappingDescription</td>
<td align="center">Not applicable</td>
<td align="center">Not supported in base PCP. When present in UPnP IGD messages,
          this parameter SHOULD NOT be propagated in the corresponding PCP
          messages. If the local PCP Client support a PCP Option to convey the
          description, this option MAY be used.</td>
</tr>
<tr>
<td align="center">RemoteHost</td>
<td align="center">REMOTE_PEER</td>
<td align="center">PCP RECOMMENDS to configure the CP router's firewall instead of
          overloading the Carrier Grade NAT. The REMOTE_PEER PCP Option can be
          used.</td>
</tr>
<tr>
<td align="center">PossibleConnectionTypes</td>
<td align="center">Not applicable</td>
<td align="center">Out of scope of PCP</td>
</tr>
<tr>
<td align="center">ConnectionStatus</td>
<td align="center">Not applicable</td>
<td align="center">Out of scope of PCP</td>
</tr>
<tr>
<td align="center">PortMappingNumberOfEntries</td>
<td align="center">Not applicable</td>
<td align="center">Managed locally by the UPnP IGD-PCP Interworking Function</td>
</tr>
<tr>
<td align="center">SystemUpdateID</td>
<td align="center">Not applicable</td>
<td align="center">Managed locally by the UPnP IGD-PCP Interworking Function</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: UPnP IGD-PCP: Variables&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
IGD-PCP: Methods</h3>

<p>Both IGD:1 and IGD:2 methods are listed in <a class='info' href='#methods'>Table&nbsp;2<span> (</span><span class='info'>IGD-PCP: Methods</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="methods"></a>
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center"><col align="center">
<tr><th align="center">WANIPConnection</th><th align="center">PCP</th><th align="center">Comments</th></tr>
<tr>
<td align="center">GetGenericPortMappingEntry</td>
<td align="center">Not applicable</td>
<td align="center">This request is not relayed to the PCP Server. IGD-PCP
          Interworking Function maintains an updated list of active mappings
          instantiated in the PCP Server by internal hosts. See <a class='info' href='#list'>Section&nbsp;5.8<span> (</span><span class='info'>Listing One or a Set of Mappings</span><span>)</span></a> for more information. </td>
</tr>
<tr>
<td align="center">GetSpecificPortMappingEntry</td>
<td align="center">Not applicable</td>
<td align="center">Under normal conditions, the IGD-PCP Interworking Function
          maintains an updated list of active mapping as instantiated in the
          PCP Server. The IGD-PCP Interworking Function locally handles this
          request and provides back the port mapping entry based on the
          ExternalPort, the PortMappingProtocol, and the RemoteHost. See <a class='info' href='#list'>Section&nbsp;5.8<span> (</span><span class='info'>Listing One or a Set of Mappings</span><span>)</span></a> for more information</td>
</tr>
<tr>
<td align="center">AddPortMapping</td>
<td align="center">PINxy</td>
<td align="center">We recommend the use of AddAnyPortMapping() instead of
          AddPortMapping(). Refer to <a class='info' href='#addportmapping'>Section&nbsp;5.7.2<span> (</span><span class='info'>AddPortMapping()</span><span>)</span></a>
          </td>
</tr>
<tr>
<td align="center">DeletePortMapping</td>
<td align="center">PINxy with a requested lifetime set to 0</td>
<td align="center">Refer to <a class='info' href='#delete'>Section&nbsp;5.9<span> (</span><span class='info'>Delete One or a Set of Mappings: DeletePortMapping() or DeletePortMappingRange()</span><span>)</span></a> </td>
</tr>
<tr>
<td align="center">GetExternalIPAddress</td>
<td align="center">PCP does not support yet a method for retrieving the external IP
          address. Issuing PINxy may be used as a means to retrieve the
          external IP address</td>
<td align="center">&nbsp;</td>
</tr>
<tr>
<td align="center">DeletePortMappingRange()</td>
<td align="center">PINxy with a lifetime positioned to 0</td>
<td align="center">Individual requests are issued by the IGD-PCP Interworking
          Function. Refer to <a class='info' href='#delete'>Section&nbsp;5.9<span> (</span><span class='info'>Delete One or a Set of Mappings: DeletePortMapping() or DeletePortMappingRange()</span><span>)</span></a> for more
          details</td>
</tr>
<tr>
<td align="center">GetListOfPortMappings()</td>
<td align="center">Not applicable</td>
<td align="center">The IGD-PCP Interworking Function maintains an updated list of
          active mapping as instantiated in the PCP Server. The IGD-PCP
          Interworking Function handles locally this request. See <a class='info' href='#list'>Section&nbsp;5.8<span> (</span><span class='info'>Listing One or a Set of Mappings</span><span>)</span></a> for more information</td>
</tr>
<tr>
<td align="center">AddAnyPortMapping()</td>
<td align="center">PINxy</td>
<td align="center">No issue is encountered to proxy this request to the PCP Server.
          Refer to <a class='info' href='#addanyportmapping'>Section&nbsp;5.7.1<span> (</span><span class='info'>AddAnyPortMapping()</span><span>)</span></a> for more
          details</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 2: IGD-PCP: Methods&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
UPnP IGD-PCP: Errors</h3>

<p><a class='info' href='#errors'>Table&nbsp;3<span> (</span><span class='info'>UPnP IGD-PCP: Errors</span><span>)</span></a> lists UPnP IGD errors codes and the
        corresponding PCP ones. Error codes specific to IGD:2 are tagged
        accordingly.
</p><br /><hr class="insert" />
<a name="errors"></a>
<table class="all" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center">
<tr><th align="center">IGD Error Code</th><th align="center">PCP Error Code</th></tr>
<tr>
<td align="center">401 (InvalidAction)</td>
<td align="center">129 (UNSUPP_OPCODE)</td>
</tr>
<tr>
<td align="center">402 (InvalidArgs)</td>
<td align="center">TBD (MALFORMED_REQUEST)</td>
</tr>
<tr>
<td align="center">501(ActionFailed)</td>
<td align="center">154 (UNABLE_TO_DELETE_ALL) (??)</td>
</tr>
<tr>
<td align="center">606 (ActionNotAuthorized) (only for IGD:2)</td>
<td align="center">151 (NOT_AUTHORIZED)</td>
</tr>
<tr>
<td align="center">713 (SpecifiedArrayIndexInvalid)</td>
<td align="center">Not applicable because Get* requests are not relayed to the PCP
          Server</td>
</tr>
<tr>
<td align="center">714 (NoSuchEntryInArray)</td>
<td align="center">PCP returns always a positive response even if the mapping to be
          deleted does not exist. This error code is not applicable for Get*
          requests which are not relayed to the PCP Server</td>
</tr>
<tr>
<td align="center">715 (WildCardNotPermitedInSrcIP)</td>
<td align="center">TBD (MALFORMED_REQUEST)</td>
</tr>
<tr>
<td align="center">716 (WildCardNotPermitedInSrcExtPort)</td>
<td align="center">Not applicable</td>
</tr>
<tr>
<td align="center">718 (ConflictInMappingEntry)</td>
<td align="center">Not applicable</td>
</tr>
<tr>
<td align="center">724 (SamePortValuesRequired)</td>
<td align="center">Not applicable</td>
</tr>
<tr>
<td align="center">725 (OnlyPermanentLeaseSupported)</td>
<td align="center">Not applicable</td>
</tr>
<tr>
<td align="center">726 (RemoteHostOnlySupportsWildcard)</td>
<td align="center">130 (UNSUPP_OPTION)</td>
</tr>
<tr>
<td align="center">727 (ExternalPortOnlySupportsWildcard)</td>
<td align="center">Not applicable</td>
</tr>
<tr>
<td align="center">728 (NoPortMapsAvailable) (only for IGD:2)</td>
<td align="center">4 (NO_RESOURCES) or 152 (USER_EX_QUOTA)</td>
</tr>
<tr>
<td align="center">729 (ConflictWithOtherMechanisms) (only for IGD:2)</td>
<td align="center">TBD (MECHANISM_CONFLICT)</td>
</tr>
<tr>
<td align="center">730 (PortMappingNotFound) (only for IGD:2)</td>
<td align="center">Not applicable</td>
</tr>
<tr>
<td align="center">732 (WildCardNotPermittedInPort) (only for IGD:2)</td>
<td align="center">TBD (MALFORMED_REQUEST)</td>
</tr>
<tr>
<td align="center">733 (InconsistentParameter) (only for IGD:2)</td>
<td align="center">Not applicable</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 3: UPnP IGD-PCP: Errors&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Specification of the IGD-PCP Interworking Function</h3>

<p>This section covers the scenarios with or without NAT in the CP
      router.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
PCP Server Discovery</h3>

<p>The IGD-PCP Interworking Function implements one of the discovery
        methods identified in <a class='info' href='#I-D.ietf-pcp-base'>[I&#8209;D.ietf&#8209;pcp&#8209;base]<span> (</span><span class='info'>Wing, D., &ldquo;Port Control Protocol (PCP),&rdquo; December&nbsp;2010.</span><span>)</span></a> (e.g.,
        DHCP <a class='info' href='#I-D.bpw-pcp-dhcp'>[I&#8209;D.bpw&#8209;pcp&#8209;dhcp]<span> (</span><span class='info'>Boucadair, M., Penno, R., and D. Wing, &ldquo;DHCP and DHCPv6 Options for Port Control Protocol (PCP),&rdquo; October&nbsp;2010.</span><span>)</span></a>). The IGD-PCP
        Interworking Function behaves as a PCP Client when communicating with
        the provisioned PCP Server.
</p>
<p>In order to not impact the delivery of local services requiring the
        control of the local IGD during any failure event to reach the PCP
        Server (e.g., no IP address/prefix is assigned to the CP router),
        IGD-PCP Interworking Function MUST NOT be invoked. Indeed, UPnP
        machinery is used to control that device and therefore lead to
        successful operations of internal services.
</p>
<p>Once the PCP Sever is reachable, the IGD-PCP Interworking Function
        MUST synchronize its states as specified in <a class='info' href='#sync'>Section&nbsp;5.10<span> (</span><span class='info'>Mapping Synchronisation</span><span>)</span></a>.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Control of the Firewall</h3>

<p>In order to configure security policies to be applied to inbound
        and outbound traffic, UPnP IGD can be used to control a local firewall
        engine.
</p>
<p>No IGD-PCP Interworking Function is therefore required for that
        purpose.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
NAT Control in LAN Side</h3>

<p>Internal UPnP Control Points are not aware of the presence of the
        IGD-PCP Interworking Function in the CP router (IGD). Especially, UPnP
        Control Points MUST NOT be aware of the deactivation of the NAT in the
        CP router.
</p>
<p>No modification is required in the UPnP Control Point.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.4"></a><h3>5.4.&nbsp;
Port Mapping Tables</h3>

<p>IGD-PCP Interworking Function MUST store locally all the mappings
        instantiated by internal UPnP Control Points in the PCP Server. Port
        Forwarding mappings SHOULD be stored in a permanent storage. If not,
        upon reset or reboot, the IGD-PCP Interworking Function MUST
        synchronise its states as specified in <a class='info' href='#sync'>Section&nbsp;5.10<span> (</span><span class='info'>Mapping Synchronisation</span><span>)</span></a>.
</p>
<p>Upon receipt of a PCP PINxy Response from the PCP Server, the
        IGD-PCP Interworking Function MUST retrieve the enclosed mapping(s)
        and MUST store it in the local mapping table. The local mapping table
        is an image of the mapping table as maintained by the PCP Server for a
        given subscriber.
</p>
<a name="spec_no_nat"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.5"></a><h3>5.5.&nbsp;
Interworking Function Without NAT in the CP Router</h3>

<p>When no NAT is embedded in the CP router, the content of received
        WANIPConnection and PCP messages is not altered by the IGD-PCP
        Interworking Function (i.e., the content of WANIPConnection messages
        are copied to the PCP messages (and vice versa) according to <a class='info' href='#variables'>Table&nbsp;1<span> (</span><span class='info'>UPnP IGD-PCP: Variables</span><span>)</span></a>).
</p>
<a name="spec_nat"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.6"></a><h3>5.6.&nbsp;
NAT Embedded in the CP Router</h3>

<p>Unlike the scenario with one level of NAT (<a class='info' href='#spec_no_nat'>Section&nbsp;5.5<span> (</span><span class='info'>Interworking Function Without NAT in the CP Router</span><span>)</span></a>), the IGD-PCP Interworking Function MUST
        update their content of received mapping messages with the IP address
        and/or port number belonging to the external interface of the CP
        router (i.e., after the NAT1 operation in <a class='info' href='#multinat'>Figure&nbsp;4<span> (</span><span class='info'>Cascaded NAT scenario</span><span>)</span></a>) and not as initially positioned by the UPnP
        Control Point.
</p>
<p>All WANIPConnection messages issued by the UPnP Control Point
        (resp., PCP Server) are intercepted by the IGD-PCP Interworking
        Function. Then, the corresponding messages (see <a class='info' href='#variables'>Table&nbsp;1<span> (</span><span class='info'>UPnP IGD-PCP: Variables</span><span>)</span></a>, <a class='info' href='#methods'>Table&nbsp;2<span> (</span><span class='info'>IGD-PCP: Methods</span><span>)</span></a> and <a class='info' href='#errors'>Table&nbsp;3<span> (</span><span class='info'>UPnP IGD-PCP: Errors</span><span>)</span></a>) are generated by the IGD-PCP Interworking
        Function and sent to the provisioned PCP Server (resp., corresponding
        UPnP Control Point). The content of PCP messages received by the PCP
        Server reflects the mapping information as enforced in the first NAT.
        In particular, the internal IP address and/or port number of the
        requests are replaced with the IP address and port number as assigned
        by the NAT of the CP router. For the reverse path, PCP response
        messages are intercepted by the IGD-PCP Interworking Function. The
        content of the corresponding WANIPConnection messages are updated:
        </p>
<ul class="text">
<li>The internal IP address and/or port number as initially
            positioned by the UPnP Control Point and stored in the CP router
            NAT are used to update the corresponding fields in received PCP
            responses.
</li>
<li>The external IP and port number are not altered by the IGD-PCP
            Interworking Function.
</li>
<li>The NAT mapping entry in the first NAT is updated with the
            result of PCP request.
</li>
</ul>

<p>The lifetime of the mappings instantiated in all involved NATs
        SHOULD be the one assigned by the terminating PCP Server. In any case,
        the lifetime MUST be lower or equal to the one assigned by the
        terminating PCP Server.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.7"></a><h3>5.7.&nbsp;
Creating a Mapping</h3>

<p>Two methods can be used to create a mapping: AddPortMapping() or
        AddAnyPortMapping().
</p>
<p>AddAnyPortMapping() is the RECOMMENDED method.
</p>
<a name="addanyportmapping"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.7.1"></a><h3>5.7.1.&nbsp;
AddAnyPortMapping()</h3>

<p>When an UPnP Control Point issues a AddAnyPortMapping(), this
          request is received by the UPnP Server. The request is then relayed
          to the IGD-PCP Interworking Function which generates a PCP PINxy
          Request (see <a class='info' href='#variables'>Table&nbsp;1<span> (</span><span class='info'>UPnP IGD-PCP: Variables</span><span>)</span></a> for mapping between
          WANIPConnection and PCP parameters). Upon receipt of PCP PINxy
          Response from the PCP Server, an XML mapping is returned to the
          requesting UPnP Control Point (the content of the messages follows
          the recommendations listed in <a class='info' href='#spec_nat'>Section&nbsp;5.6<span> (</span><span class='info'>NAT Embedded in the CP Router</span><span>)</span></a> or
          <a class='info' href='#spec_no_nat'>Section&nbsp;5.5<span> (</span><span class='info'>Interworking Function Without NAT in the CP Router</span><span>)</span></a> according to the deployed
          scenario). A flow example is depicted in <a class='info' href='#igd2'>Figure&nbsp;5<span> (</span><span class='info'>Flow example when AddAnyPortMapping() is used</span><span>)</span></a>.
</p>
<p>If a PCP Error is received from the PCP Server, a corresponding
          WANIPConnection error code <a class='info' href='#errors'>Table&nbsp;3<span> (</span><span class='info'>UPnP IGD-PCP: Errors</span><span>)</span></a> is
          generated by the IGD-PCP Interworking Function and sent to the
          requesting UPnP Control Point.
</p>
<p><br /><hr class="insert" />
<a name="igd2"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                         UPnP-PCP
UPnP Control           Interworking
   Point                 Function                    PCP Server
     |                      |                             |
     |(1) AddAnyPortMapping |                             |
     |---------------------&gt;|                             |
     |                      |   (2) PCP PINxy Request     |
     |                      |(requested external port=0)  |
     |                      |----------------------------&gt;|
     |                      |                             |
     |                      |   (3) PCP PINxy Response    |
     |                      |(assigned external port=6598)|
     |                      |&lt;----------------------------|
     |(4) AddAnyPortMapping |                             |
     |   ReservedPort=6598  |                             |
     |&lt;---------------------|                             |

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Flow example when AddAnyPortMapping() is used&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>
</p>
<a name="addportmapping"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.7.2"></a><h3>5.7.2.&nbsp;
AddPortMapping()</h3>

<p>A dedicated option called HONOR_EXTERNAL_PORT is defined in <a class='info' href='#I-D.ietf-pcp-base'>[I&#8209;D.ietf&#8209;pcp&#8209;base]<span> (</span><span class='info'>Wing, D., &ldquo;Port Control Protocol (PCP),&rdquo; December&nbsp;2010.</span><span>)</span></a> to toggle the behavior in a PCP
          Request message. This options is inserted by the IGD-PCP IWF when
          issuing its requests to the PCP Server only if a specific external
          port is requested by the UPnP Control Point. When a wildcard is used
          (i.e., 0), HONOR_EXTERNAL_PORT Option is not required to be inserted
          in the PCP request to the PCP Server (see <a class='info' href='#wildcard'>Figure&nbsp;6<span> (</span><span class='info'>Example of AddPortMapping() with wildcard external port</span><span>)</span></a>). In the remaining, we assume that a
          specific external port is requested by the UPnP Control Point.
</p>
<p><br /><hr class="insert" />
<a name="wildcard"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                         UPnP-PCP
UPnP Control           Interworking
   Point                 Function                   PCP Server
     |                      |                             |
     | (1) AddPortMapping   |                             |
     |   ExternalPort=0     |                             |
     |---------------------&gt;|                             |
     |                      |   (2) PCP PINxy Request     |
     |                      |(requested external port=0)  |
     |                      |----------------------------&gt;|
     |                      |                             |
     |                      |   (3) PCP PINxy Response    |
     |                      |(assigned external port=1365)|
     |                      |&lt;----------------------------|
     |  (4) AddPortMapping  |                             |
     |   ExternalPort=1356  |                             |
     |&lt;---------------------|                             |

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Example of AddPortMapping() with wildcard external port&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>Upon receipt of AddPortMapping() from an UPnP Control Point, the
          IGD-PCP Interworking Function first checks if the requested external
          port number is not used by another Internal UPnP Control Point. In
          case a mapping bound to the requested external port number is found
          in the local mapping table, the IGD-PCP IWF MUST send back a
          ConflictInMappingEntry error to the requesting UPnP Control Point
          (see <a class='info' href='#local_check'>Figure&nbsp;7<span> (</span><span class='info'>IWF Local Behaviour</span><span>)</span></a>).
</p>
<p><br /><hr class="insert" />
<a name="local_check"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                         UPnP-PCP
UPnP Control           Interworking
   Point                 Function                  PCP Server
     |                      |                           |
     | (1) AddPortMapping   |                           |
     |   ExternalPort=2356  |                           |
     |---------------------&gt;|                           |
     |                      |                           |
     |     (2) Error:       |                           |
     |ConflictInMappingEntry|                           |
     |&lt;---------------------|                           |
     |                      |                           |
     | (3) AddPortMapping   |                           |
     |   ExternalPort=4586  |                           |
     |---------------------&gt;|                           |
     |                      |                           |
     |     (4) Error:       |                           |
     |ConflictInMappingEntry|                           |
     |&lt;---------------------|                           |
     |                      |                           |

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: IWF Local Behaviour&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p>This exchange (<a class='info' href='#local_check'>Figure&nbsp;7<span> (</span><span class='info'>IWF Local Behaviour</span><span>)</span></a>) is re-iterated
          until an external port number that is not in use is requested by the
          UPnP Control Point. Then, the IGD-PCP IWF generates a PCP PINxy
          Request with all requested mapping information as indicated by the
          UPnP Control Point if no NAT is embedded in the CP router or updated
          as specified in <a class='info' href='#spec_nat'>Section&nbsp;5.6<span> (</span><span class='info'>NAT Embedded in the CP Router</span><span>)</span></a>. In addition, the
          IGD-PCP IWF inserts a HONOR_EXTERNAL_PORT Option to the generated
          PCP request.
</p>
<p>If the requested external port is in use, a PCP Error message
          MUST be sent by the PCP Server to the IGD-PCP IWF indicating
          CANNOT_HONOR_EXTERNAL_PORT as the error cause. The IGD-PCP IWF
          relays a negative message to the UPnP Control Point indicating
          ConflictInMappingEntry as error code. The UPnP Control Point
          re-issues a new request with a new requested external port number.
          This process is repeated until a positive answer is received or
          maximum retry is reached.
</p>
<p>If the PCP Server is able to honor the requested external port, a
          positive response is sent to the requesting IGD-PCP IWF. Upon
          receipt of the response from the PCP Server, the returned mapping
          MUST be stored by the IGD-PCP Interworking Function in its local
          mapping table and a positive answer MUST be sent to the requesting
          UPnP Control Point. This answer terminates this exchange.
</p>
<p><a class='info' href='#positive'>Figure&nbsp;8<span> (</span><span class='info'>Flow Example (Positive Answer)</span><span>)</span></a> shows an example of the flow
          exchange that occurs when the PCP Server satisfies the request from
          the IGD-PCP IWF. <a class='info' href='#negative'>Figure&nbsp;9<span> (</span><span class='info'>Flow Example (Negative Answer)</span><span>)</span></a> shows the messages
          exchange when the requested external port is in use.
</p>
<p><br /><hr class="insert" />
<a name="positive"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                         UPnP-PCP
UPnP Control           Interworking
   Point                 Function                  PCP Server
     |                      |                             |
     | (1) AddPortMapping   |                             |
     |   ExternalPort=8080  |                             |
     |---------------------&gt;|                             |
     |                      |   (2) PCP PINxy Request     |
     |                      |requested external port=8080 |
     |                      |     HONOR_EXTERNAL_PORT     |
     |                      |----------------------------&gt;|
     |                      |                             |
     |                      |   (3) PCP PINxy Response    |
     |                      | assigned external port=8080 |
     |                      |&lt;----------------------------|
     | (4) AddPortMapping   |                             |
     |   ExternalPort=8080  |                             |
     |&lt;---------------------|                             |

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;8: Flow Example (Positive Answer)&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<p><br /><hr class="insert" />
<a name="negative"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                         UPnP-PCP
UPnP Control           Interworking
   Point                 Function                    PCP Server
     |                      |                             |
     | (1) AddPortMapping   |                             |
     |   ExternalPort=8080  |                             |
     |---------------------&gt;|                             |
     |                      |   (2) PCP PINxy Request     |
     |                      |requested external port=8080 |
     |                      |     HONOR_EXTERNAL_PORT     |
     |                      |----------------------------&gt;|
     |                      |   (3) PCP PINxy Response    |
     |                      | CANNOT_HONOR_EXTERNAL_PORT  |
     |                      |&lt;----------------------------|
     |     (4) Error:       |                             |
     |ConflictInMappingEntry|                             |
     |&lt;---------------------|                             |
     | (5) AddPortMapping   |                             |
     |   ExternalPort=5485  |                             |
     |---------------------&gt;|                             |
     |                      |   (6) PCP PINxy Request     |
     |                      |requested external port=5485 |
     |                      |     HONOR_EXTERNAL_PORT     |
     |                      |----------------------------&gt;|
     |                      |   (7) PCP PINxy Response    |
     |                      | CANNOT_HONOR_EXTERNAL_PORT  |
     |                      |&lt;----------------------------|
     |     (8) Error:       |                             |
     |ConflictInMappingEntry|                             |
     |&lt;---------------------|                             |
                            ....
     | (a) AddPortMapping   |                             |
     |   ExternalPort=6591  |                             |
     |---------------------&gt;|                             |
     |                      |   (b) PCP PINxy Request     |
     |                      |requested external port=6591 |
     |                      |     HONOR_EXTERNAL_PORT     |
     |                      |----------------------------&gt;|
     |                      |   (c) PCP PINxy Response    |
     |                      | CANNOT_HONOR_EXTERNAL_PORT  |
     |                      |&lt;----------------------------|
     |     (d) Error:       |                             |
     |ConflictInMappingEntry|                             |
     |&lt;---------------------|                             |

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;9: Flow Example (Negative Answer)&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<a name="list"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.8"></a><h3>5.8.&nbsp;
Listing One or a Set of Mappings</h3>

<p>In order to list active mappings, an UPnP Control Point may issue
        GetGenericPortMappingEntry(), GetSpecificPortMappingEntry() or
        GetListOfPortMappings().
</p>
<p>These methods MUST NOT be proxied to the PCP Server since a local
        mapping is maintained by the IGD-PCP Interworking Function.
</p>
<a name="delete"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.9"></a><h3>5.9.&nbsp;
Delete One or a Set of Mappings: DeletePortMapping() or DeletePortMappingRange()</h3>

<p>An UPnP Control Point proceeds to the deletion of one or a list of
        mappings by issuing DeletePortMapping() or DeletePortMappingRange().
        When one of these messages is received by the IGD-PCP Interworking
        Function, it first checks if the requested mapping to be removed is
        present in the local mapping table. If no mapping matching the request
        is found in the local table, an error is sent back to the UPnP Control
        Point (see <a class='info' href='#local_delete'>Figure&nbsp;10<span> (</span><span class='info'>Local Delete (IGD-PCP IWF)</span><span>)</span></a>).
</p><br /><hr class="insert" />
<a name="local_delete"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                         UPnP-PCP
UPnP Control           Interworking
   Point                 Function                  PCP Server
     |                      |                           |
     |(1) DeletePortMapping |                           |
     |---------------------&gt;|                           |
     |                      |                           |
     |     (2) Error:       |                           |
     |  NoSuchEntryInArray  |                           |
     |&lt;---------------------|                           |
     |                      |                           |

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;10: Local Delete (IGD-PCP IWF)&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<p>if a mapping matches in the local table, PCP PINxy delete
        request(s) is generated taking into account the input arguments: </p>
<ul class="text">
<li>as included in DeletePortMapping() if no NAT is enabled in the
            CP router; In case DeletePortMappingRange() is used, the IGD-PCP
            IWF generates individual requests to cover all the range;
<blockquote class="text">
<p>[[Note: Add a figure to illustrate the behaviour to handle
                DeletePortMappingRange()]]
</p>
</blockquote>
</li>
<li>or the corresponding local IP address and port number as
            assigned by the local NAT if a NAT is enabled in the CP
            router.
</li>
</ul>

<p>Once received by the PCP Server, it proceeds to removing the
        corresponding entry(ies). A PCP PINxy delete response is sent back if
        the removal of the corresponding entry(ies) was successful; if not, a
        PCP Error is sent back to the IGD-PCP Interworking Function including
        the corresponding error cause (e.g., Not Authorised).
</p>
<p>When a positive answer is received from the PCP Server, the IGD-PCP
        Interworking Function updates its local mapping table (i.e., remove
        the corresponding entry(ies)) and notifies the UPnP Control Point
        about the result of the removal operation.
</p>
<a name="sync"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.10"></a><h3>5.10.&nbsp;
Mapping Synchronisation</h3>

<p>[[Note: This section needs further discussion among authors]]
</p>
<p>Under normal conditions, since a valid copy of the mapping table is
        stored locally in the CP router, the IGD-PCP Interworking Function
        SHOULD NOT issue any subsequent PCP request to handle a request
        received from an UPnP Control Point to list active mappings.
        Nevertheless, in case of loss of synchronisation (e.g., reboot, system
        crashes, power outage, etc.), the IGD-PCP Interworking Function SHOULD
        generate a get method to retrieve all active mappings in the PCP
        Server and update its local mapping table without waiting for an
        explicit request from a UPnP Control Point. Doing so, the IGD-PCP
        Interworking Function maintains an updated mapping table.
</p>
<p>In case of massive reboot of CP routers (e.g., avalanche restart
        phenomenon), PCP request bursts SHOULD be avoided. For this aim, we
        recommend the use of a given timer denoted as PCP_SERVICE_WAIT. This
        timer can be pre-configured in the CP router or to be provisioned
        using a dedicated means such as DHCP. Upon reboot of the CP router,
        PCP messages SHOULD NOT be sent immediately. A random value is
        selected between 0 and PCP_SERVICE_WAIT. This value is referred to as
        RAND(PCP_SERVICE_WAIT). Upon the expiration of RAND(PCP_SERVICE_WAIT),
        the CP router SHOULD proceed to its synchronisation operations (i.e.,
        retrieve all active mappings which have been instructed by internal
        UPnP Control Point(s)).
</p>
<p>[[Note: per-subscriber quota may be exhausted due to unlimited
        lifetime and stale mappings in IGD due to reboots, etc.]]
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>This document makes no request of IANA.
</p>
<p>Note to RFC Editor: this section may be removed on publication as an
      RFC.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>This document defines a procedure to instruct PCP mappings for third
      party devices belonging to the same subscriber. Identification means to
      avoid a malicious user to instruct mappings on behalf of a third party
      must be enabled. Such means are already discussed in Section 7.4.4 of
      <a class='info' href='#I-D.ietf-pcp-base'>[I&#8209;D.ietf&#8209;pcp&#8209;base]<span> (</span><span class='info'>Wing, D., &ldquo;Port Control Protocol (PCP),&rdquo; December&nbsp;2010.</span><span>)</span></a>.
</p>
<p>Security considerations elaborated in <a class='info' href='#I-D.ietf-pcp-base'>[I&#8209;D.ietf&#8209;pcp&#8209;base]<span> (</span><span class='info'>Wing, D., &ldquo;Port Control Protocol (PCP),&rdquo; December&nbsp;2010.</span><span>)</span></a> and <a class='info' href='#Sec_DCP'>[Sec_DCP]<span> (</span><span class='info'>UPnP Forum, &ldquo;Device Protection:1,&rdquo; November&nbsp;2009.</span><span>)</span></a>
      should be taken into account.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgments</h3>

<p>Authors would like to thank F. Fontaine and C. Jacquenet for their
      review and comments.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-pcp-base">[I-D.ietf-pcp-base]</a></td>
<td class="author-text">Wing, D., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcp-base-01.txt">Port Control Protocol (PCP)</a>,&rdquo; draft-ietf-pcp-base-01 (work in progress), December&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcp-base-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.bpw-pcp-dhcp">[I-D.bpw-pcp-dhcp]</a></td>
<td class="author-text">Boucadair, M., Penno, R., and D. Wing, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-bpw-pcp-dhcp-00.txt">DHCP and DHCPv6 Options for Port Control Protocol (PCP)</a>,&rdquo; draft-bpw-pcp-dhcp-00 (work in progress), October&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-bpw-pcp-dhcp-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-behave-v6v4-xlate-stateful">[I-D.ietf-behave-v6v4-xlate-stateful]</a></td>
<td class="author-text">Bagnulo, M., Matthews, P., and I. Beijnum, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-stateful-12.txt">Stateful NAT64: Network Address and Protocol Translation from IPv6 Clients to IPv4 Servers</a>,&rdquo; draft-ietf-behave-v6v4-xlate-stateful-12 (work in progress), July&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-behave-v6v4-xlate-stateful-12.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-softwire-dual-stack-lite">[I-D.ietf-softwire-dual-stack-lite]</a></td>
<td class="author-text">Durand, A., Droms, R., Woodyatt, J., and Y. Lee, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-dual-stack-lite-06.txt">Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion</a>,&rdquo; draft-ietf-softwire-dual-stack-lite-06 (work in progress), August&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-softwire-dual-stack-lite-06.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="IGD2">[IGD2]</a></td>
<td class="author-text">UPnP Forum, &ldquo;WANIPConnection:2 Service
          (http://upnp.org/specs/gw/UPnP-gw-WANIPConnection-v2-Service.pdf),&rdquo; September&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="Sec_DCP">[Sec_DCP]</a></td>
<td class="author-text">UPnP Forum, &ldquo;Device Protection:1,&rdquo; November&nbsp;2009.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Mohamed Boucadair</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France Telecom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Rennes,   35000</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:mohamed.boucadair@orange-ftgroup.com">mohamed.boucadair@orange-ftgroup.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Reinaldo Penno</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Juniper Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1194 N Mathilda Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sunnyvale, California  94089</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:rpenno@juniper.net">rpenno@juniper.net</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dan Wing</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems, Inc.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">170 West Tasman Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">San Jose, California  95134</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dwing@cisco.com">dwing@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Francis Dupont</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ISC</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Francis.Dupont@fdupont.fr">Francis.Dupont@fdupont.fr</a></td></tr>
</table>
</body></html>
