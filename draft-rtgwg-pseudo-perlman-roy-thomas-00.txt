Routing                                                      R. Perlman 
Internet Draft                                         Sun microsystems  
Intended status: Internet Draft February 18, 2008                A. Roy 
Expires: August 2008                                      Cisco Systems
                                                              M. Thomas 
                                                    University of Essex 
                                    
 
                                      
        Automatic Method for Minimization of Extraneous Pseudonodes 
               draft-rtgwg-pseudo-perlman-roy-thomas-00.txt 


    

Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   This document may not be modified, and derivative works of it may not 
   be created. 

   This document may only be posted in an Internet-Draft. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-
   Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on August 10, 2008. 

Copyright Notice 

 
 
 
Perlman et al            Expires August 2008                   [Page 1] 

Internet-Draft  Automatic Method for the Minimization     February 2008 
                         of Extraneous Pseudonodes 

   Copyright (C) The IETF Trust (2008). 

Abstract 

   An automatic method is recommended for a link state protocol to 
   automatically decide whether an Ethernet link should be represented 
   by a pseudonode or not. 
    
Conventions used in this document 

   In examples, "C:" and "S:" indicate lines sent by the client and 
   server respectively. 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC2119 

Table of Contents 

    
   1. Introduction...................................................2 
   2. Method.........................................................3 
   3. Goals:.........................................................4 
   4. Generic changes................................................4 
   5. Security Considerations........................................5 
   6. IANA Considerations............................................5 
   7. Acknowledgments................................................5 
   8. References.....................................................5 
      8.1. Normative References......................................6 
      8.2. Informative References....................................6 
   Author's Addresses................................................6 
   Intellectual Property Statement...................................7 
   Disclaimer of Validity............................................7 
    
1. Introduction 

   When Ethernets were originally introduced as a type of link, the 
   assumption was that an "Ethernet" was assumed to be a large cloud 
   with many directly connected nodes. Given that the overhead of a link 
   state protocol (such as IS-IS or OSPF) is proportional to the number 
   of links in the topology, a cloud with a lot of neighbors, 
   represented in the most straightforward way, as having all nodes 
   on the cloud being fully connected, would represent n^2 links. Thus 
   to make large shared links scalable, the concept of a "pseudonode" 
   was introduced. If there are n neighbors on an Ethernet, rather than 
   representing the connectivity between the neighbors as n^2 links, one 
   router on the Ethernet is elected Designated Router, and that router 
 
 
Perlman et al            Expires August 2008                   [Page 2] 

Internet-Draft  Automatic Method for the Minimization     February 2008 
                         of Extraneous Pseudonodes 

   impersonates the cloud itself, issuing link state information on 
   behalf of the cloud, and each router on the cloud (in addition to the 
   Designated Router) claims only the pseudonode as a neighbor. The 
   "pseudonode" is the cloud itself. In this way the pseudonode will 
   have n router neighbors, but each router will only report a single 
   neighbor (the pseudonode). 
    
   However, Ethernet has evolved into "switched Ethernet", where instead 
   of Ethernet being a large cloud, it is often as small as a single pt-
   to-pt link connecting exactly two neighbors. An Ethernet might even 
   be a pt-to-pt link between a router and an endnode. It would be 
   wasteful to represent such a link as a pseudonode. 
    
2. Method 

   This paper presents a method that allows a router in a link state 
   protocol (IS-IS or OSPF) to decide when it is appropriate to 
   represent an Ethernet as a pseudonode, and when it is appropriate 
   instead to represent the topology as direct connections between all 
   the nodes on the cloud. Goals are not to require configuration, and 
   not to be disruptive to the rest of the network if routers on the 
   cloud fail and reappear. 
    
   The basic idea is that in the Hello message on a broadcast link, 
   routers advertise their ability to do the functionality in this 
   internet draft. If every router on the link claims the 
   ability to represent the broadcast link without a pseudonode, then 
   the Designated Router specifies to the routers on the link whether 
   the link will be represented by a pseudonode or not. 
    
   The actual algorithm chosen by the DR need not be the same for all 
   routers. A router MAY be configured with a different algorithm, or 
   experience may show that a different algorithm might be more optimal. 
   Since the DR decides on behalf of the link, whether it will be 
   represented with a pseudonode, or as fully connected direct links 
   between each pair of routers, there is no need for all routers to 
   have the same algorithm. The only requirement is that a router follow 
   the mandate of the DR. 
    
   The algorithm in this document is that the DR mandates use of a 
   pseudonode if there are at least 4 routers on the link (including the 
   DR), and mandates no pseudonode if there are only 2 routers on the 
   link (including the DR). If there are 3 routers on the link 
   (including the DR), the DR does not change the state of the link. So 
   if there are 4 routers on the link, the link will be represented by a 
   pseudonode. If one of those routers go down, the link will remain 
   represented by a pseudonode. Only when two of the four routers go 
 
 
Perlman et al            Expires August 2008                   [Page 3] 

Internet-Draft  Automatic Method for the Minimization     February 2008 
                         of Extraneous Pseudonodes 

   down, so that the DR has only one neighbor, will the DR revert to "no 
   pseudonode". When the DR has specified that the link is not to be 
   represented by a pseuonode, the link will remain as "no pseudonode" 
   until there are again 4 or more routers on the link. 
    
3. Goals: 

   o  Work well with no configuration 

   o  Optionally allow configuration 

   o  Allow incremental deployment (i.e., not require all routers to be 
      simultaneously upgraded). It is possible that while a router that 
      does not implement this feature is connected to a link, the link 
      will have to be represented by a pseudonode; however, it is 
      essential that a mixture of routers that support this feature and 
      those that don't will interoperate 

   o  Only routers on a link need support the feature; e.g., routers 
      that are not connected to the link will not be confused, even if 
      they do not support the feature 

   o  Represent large links with a pseudonode. Represent small links 
      without using a pseudonode. 

4. Generic changes  

   Generic changes to a link State protocol 
    
   1. The Hello message on a broadcast link must contain a flag 
      specifying the ability of the transmitting router to do pseudonode 
      minimization 

   2. The Hello message on a broadcast link must contain a flag set by 
      the DR to indicate that the link is not to be represented by a 
      pseudonode. If the link is not to be represented by a pseudonode, 
      then there is no need to give a name to the pseudonode. 

   3. The DR must check the "pseudonode minimization capable" flag of 
      all routers on the link. If any router does not advertise this 
      ability, the DR MUST represent the link with a pseudonode. 

   4. If the link is not to be represented by a pseudonode, then all 
      routers on the link will report direct pt-to-pt links to each 
      other router on the link. 


 
 
Perlman et al            Expires August 2008                   [Page 4] 

Internet-Draft  Automatic Method for the Minimization     February 2008 
                         of Extraneous Pseudonodes 

   5. If all routers on the link are "pseudonode minimization capable", 
      then the DR specifies that the link will not use a pseudonode if 
      the number of routers on the link is 2 or fewer (i.e., the DR has 
      at most one router neighbor). 

   6. If there are at least 4 routers on the link (i.e., the DR has at 
      least 3 router neighbors), then the DR specifies use of a 
      pseudonode for the link. 

   7. If there are 3 routers on the link, then the DR does not change 
      the state of the link. 

   8. If a non compatible router appears on the link then the DR signals 
      to the other routers to no longer perform pseudonode minimization 

5. Security Considerations 

   A group of 3 routers could maliciously come up and down as a group, 
   or a single router could pretend to be 3 routers, and cause the 
   pseudonode state of the link to oscillate. Also, a malicious DR can 
   oscillate the state of the link. A single router could oscillate the 
   state of the link by advertising first that it is capable of 
   pseudonode minimization, and then advertising that it is not capable. 
   However, any disruption to routing by a router using any of these 
   strategies can already be done trivially by, for instance, pretending 
   to be highest priority and taking over as DR, and then changing 
   identity and the pseudonode name. So the capability in this document 
   does not make it any easier for a malicious router on a link to cause 
   disruption. 
    
6. IANA Considerations 

   None 

7. Acknowledgments 

   We thank Mike Shand for doing the math to show that the link state 
   database in IS-IS becomes smaller with use of a pseudonode on a link 
   with at least 4 routers. 

8. References 

 




 
 
Perlman et al            Expires August 2008                   [Page 5] 

Internet-Draft  Automatic Method for the Minimization     February 2008 
                         of Extraneous Pseudonodes 

8.1. Normative References 

   [RFC2234] Narten, T. and H. Alvestrand, "Guidelines for Writing an 
             IANA Considerations Section in RFCs", RFC 2334, October 
             1998. 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC2119, March 1997. 

8.2. Informative References 

   [OSPFV2]  Moy, J., "OSPF Version 2", RFC2328, April 1998. 

   [OSPFV3]  Coltun, R., Ferguson, D., and J. Moy, "OSPF for IPv6", 
             RFC2740, December 1999. 

   [IS-IS]  "Intermediate System to Intermediate System Intra-Domain 
             Routing Exchange Protocol for use in Conjunction with the 
             Protocol for Providing the Connectionless-mode Network 
             Service (ISO 8473)", ISO 10589. 

   [RFC1195] Callon, R., "Use of OSI IS-IS for routing in TCP/IP and 
             dual environments", RFC 1195, December 1990. 

Author's Addresses 

   Radia Perlman 
   Sun Microsystems 
    
   Email: radia.perlman@sun.com 
    
   Abhay Roy 
   Cisco Systems 
    
   E-mail: akr@cisco.com 
    
   Matthew Thomas 
   University of Essex 
       
   Email: mrthom@essex.ac.uk 

    

    

    

 
 
Perlman et al            Expires August 2008                   [Page 6] 

Internet-Draft  Automatic Method for the Minimization     February 2008 
                         of Extraneous Pseudonodes 

Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org. 

Disclaimer of Validity 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND 
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS 
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF 
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 

Copyright Statement 

   Copyright (C) The IETF Trust (2008). 

   This document is subject to the rights, licenses and restrictions 
   contained in BCP 78, and except as set forth therein, the authors 
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 

 
 
Perlman et al            Expires August 2008                   [Page 7] 

Internet-Draft  Automatic Method for the Minimization     February 2008 
                         of Extraneous Pseudonodes 

    














































 
 
Perlman et al            Expires August 2008                   [Page 8] 

