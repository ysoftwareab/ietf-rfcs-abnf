<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Sieve Email Filtering: Use of Presence Information with Auto Responder functionality</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Sieve Email Filtering: Use of Presence Information with Auto Responder functionality">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Sieve working group</td><td class="header">R. George</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">B. Leiba</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">Huawei Technologies</td></tr>
<tr><td class="header">Expires: July 14, 2011</td><td class="header">A. Melnikov</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Isode Limited</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">January 10, 2011</td></tr>
</table></td></tr></table>
<h1><br />Sieve Email Filtering: Use of Presence Information with Auto Responder functionality<br />draft-ietf-sieve-autoreply-04</h1>

<h3>Abstract</h3>

<p>
      This document describes how the Sieve email filtering language, along with
      some extensions, can be used to create automatic replies to incoming
      electronic mail messages based on the address book and
      presence information of the recipient.
    
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on July 14, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2011 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<br />
<a href="#anchor1">2.</a>&nbsp;
How To Create Auto Replies<br />
<br />
<a href="#examples">3.</a>&nbsp;
Example Use Cases for Auto Replies<br />
<br />
<a href="#security">4.</a>&nbsp;
Security Considerations<br />
<br />
<a href="#iana">5.</a>&nbsp;
IANA Considerations<br />
<br />
<a href="#rfc.references1">6.</a>&nbsp;
Normative References<br />
<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
      This document describes how the Sieve email filtering language <a class='info' href='#RFC5228'>[RFC5228]<span> (</span><span class='info'>Guenther, P. and T. Showalter, &ldquo;Sieve: An Email Filtering Language,&rdquo; January&nbsp;2008.</span><span>)</span></a>,
      along with some extensions
      <a class='info' href='#RFC5230'>[RFC5230]<span> (</span><span class='info'>Showalter, T. and N. Freed, &ldquo;Sieve Email Filtering: Vacation Extension,&rdquo; January&nbsp;2008.</span><span>)</span></a> 
      <a class='info' href='#RFC5435'>[RFC5435]<span> (</span><span class='info'>Melnikov, A., Leiba, B., Segmuller, W., and T. Martin, &ldquo;Sieve Email Filtering: Extension for Notifications,&rdquo; January&nbsp;2009.</span><span>)</span></a> 
      <a class='info' href='#I-D.ietf-sieve-external-lists'>[I&#8209;D.ietf&#8209;sieve&#8209;external&#8209;lists]<span> (</span><span class='info'>Melnikov, A. and B. Leiba, &ldquo;Sieve Extension: Externally Stored Lists,&rdquo; May&nbsp;2010.</span><span>)</span></a> 
      <a class='info' href='#I-D.ietf-sieve-notify-presence'>[I&#8209;D.ietf&#8209;sieve&#8209;notify&#8209;presence]<span> (</span><span class='info'>George, R. and B. Leiba, &ldquo;Sieve Notification Using Presence Information,&rdquo; October&nbsp;2010.</span><span>)</span></a> 
      <a class='info' href='#I-D.ietf-sieve-vacation-seconds'>[I&#8209;D.ietf&#8209;sieve&#8209;vacation&#8209;seconds]<span> (</span><span class='info'>George, R. and B. Leiba, &ldquo;Sieve Vacation Extension: &quot;Seconds&quot; parameter,&rdquo; October&nbsp;2010.</span><span>)</span></a> 
      can be used to generate automatic replies to incoming
      electronic mail messages based on the presence information of the recipient.
      This can be used, for example, to inform the sender that
      messages will not be answered immediately because the recipient is busy or away.
    
</p>
<p>
      The auto-reply message can additionally be based
      on information about the sender from the recipient's address book,
      sub-lists therefrom, or other lists available to the recipient,
      so that different senders might get different responses.
      The recipient can create separate rules for friends, family members, colleagues,
      and so on.
    
</p>
<p>
      This can be used in mail filtering software, email-based information services,
      and other automatic responder situations.
      There are many programs currently in use that automatically respond to email.
      Some of them send many useless or unwanted responses,
      or send responses to inappropriate addresses.
      The mechanism described herein will help to avoid those problems
      (but see the discussion in <a class='info' href='#security'>Section&nbsp;4<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>).
      Implementations need to take care of tracking previous messages received from the
      same sender and they will start or stop sending responses as the presence status of
      the recipient changes.
    
</p>
<p>
      An important note, though:
      users of any auto-reply mechanism should really think about whether automatic
      replies are necessary, and at what interval they make sense when they are.
      Email is not Instant Messaging, and senders generally expect that replies might
      take a while.
      Consider whether it's truly important to tell people that you'll read their mail
      in an hour or so, or whether that can just be taken as how email works.
      There are times when this makes sense, but let's not use it to exacerbate
      information overload.
      Judicious use of appropriate presence information might serve to mitigate these issues.
    
</p>
<p>
      Implementors, therefore, need to consider this with respect to the features they
      expose to users, and the potential for inappropriate use those features represent.
      The ability to create auto-responders might be hidden behind an "advanced" button,
      and users might be warned of the consequences, and advised of the considerations
      in the previous paragraph.
    
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
How To Create Auto Replies</h3>

<p>
      When an email message arrives, the Sieve script can use the notify_method_capability
      of the Notify extension <a class='info' href='#RFC5435'>[RFC5435]<span> (</span><span class='info'>Melnikov, A., Leiba, B., Segmuller, W., and T. Martin, &ldquo;Sieve Email Filtering: Extension for Notifications,&rdquo; January&nbsp;2009.</span><span>)</span></a> to check the recipient's
      presence information.
      The Notify-presence extension <a class='info' href='#I-D.ietf-sieve-notify-presence'>[I&#8209;D.ietf&#8209;sieve&#8209;notify&#8209;presence]<span> (</span><span class='info'>George, R. and B. Leiba, &ldquo;Sieve Notification Using Presence Information,&rdquo; October&nbsp;2010.</span><span>)</span></a>
      makes additional presence, such as "away" and "do not disturb" status, available.
      The script can use the External-lists extension
      <a class='info' href='#I-D.ietf-sieve-external-lists'>[I&#8209;D.ietf&#8209;sieve&#8209;external&#8209;lists]<span> (</span><span class='info'>Melnikov, A. and B. Leiba, &ldquo;Sieve Extension: Externally Stored Lists,&rdquo; May&nbsp;2010.</span><span>)</span></a>
      to look the sender up in the recipient's address book or other list.
      If the information retrieved warrants an auto-reply message,
      the message can then be composed based on that information.
    
</p>
<p>
      The Vacation extension <a class='info' href='#RFC5230'>[RFC5230]<span> (</span><span class='info'>Showalter, T. and N. Freed, &ldquo;Sieve Email Filtering: Vacation Extension,&rdquo; January&nbsp;2008.</span><span>)</span></a> provides an easy way to send
      the auto-reply message to the sender, as it automatically keeps track of
      the automatic replies and attempts to avoid excessive messages and mail loops.
      The Vacation-seconds extension <a class='info' href='#I-D.ietf-sieve-vacation-seconds'>[I&#8209;D.ietf&#8209;sieve&#8209;vacation&#8209;seconds]<span> (</span><span class='info'>George, R. and B. Leiba, &ldquo;Sieve Vacation Extension: &quot;Seconds&quot; parameter,&rdquo; October&nbsp;2010.</span><span>)</span></a>
      allows auto-replies to be sent this way more frequently than once per day,
      when that's appropriate.
      (Alternatively, the script can use the Notify extension,<a class='info' href='#RFC5435'>[RFC5435]<span> (</span><span class='info'>Melnikov, A., Leiba, B., Segmuller, W., and T. Martin, &ldquo;Sieve Email Filtering: Extension for Notifications,&rdquo; January&nbsp;2009.</span><span>)</span></a>
      and it can use that to send a notification by a means other than email.)
    
</p>
<p>
      Personal and Group Responders can refuse to generate responses
      except to known correspondents or addresses otherwise known to the recipient.
      Such responders can also generate different kinds of
      responses for "trusted" vs "untrusted" addresses.
      This might be useful, for instance, to avoid inappropriate disclosure of personal
      or confidential information to arbitrary addresses.
    
</p>
<a name="examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Example Use Cases for Auto Replies</h3>

<p></p>
<ol class="text">
<li>
      In this example, we check that the envelope "from" is in the
      recipient's address book <a class='info' href='#I-D.ietf-sieve-external-lists'>[I&#8209;D.ietf&#8209;sieve&#8209;external&#8209;lists]<span> (</span><span class='info'>Melnikov, A. and B. Leiba, &ldquo;Sieve Extension: Externally Stored Lists,&rdquo; May&nbsp;2010.</span><span>)</span></a>
      and that the recipient's presence shows "extended away".<a class='info' href='#I-D.ietf-sieve-notify-presence'>[I&#8209;D.ietf&#8209;sieve&#8209;notify&#8209;presence]<span> (</span><span class='info'>George, R. and B. Leiba, &ldquo;Sieve Notification Using Presence Information,&rdquo; October&nbsp;2010.</span><span>)</span></a>
      If both of those are true, the "vacation" action <a class='info' href='#RFC5230'>[RFC5230]<span> (</span><span class='info'>Showalter, T. and N. Freed, &ldquo;Sieve Email Filtering: Vacation Extension,&rdquo; January&nbsp;2008.</span><span>)</span></a>
      is used to send an auto-reply,
      making sure we don't reply to the same sender more than
      once every half hour.<a class='info' href='#I-D.ietf-sieve-vacation-seconds'>[I&#8209;D.ietf&#8209;sieve&#8209;vacation&#8209;seconds]<span> (</span><span class='info'>George, R. and B. Leiba, &ldquo;Sieve Vacation Extension: &quot;Seconds&quot; parameter,&rdquo; October&nbsp;2010.</span><span>)</span></a>
      The variables extension <a class='info' href='#RFC5229'>[RFC5229]<span> (</span><span class='info'>Homme, K., &ldquo;Sieve Email Filtering: Variables Extension,&rdquo; January&nbsp;2008.</span><span>)</span></a> is used to extract the value
      of the recipient's natural-language presence status message,
      which will be used as the response to the sender.
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

require ["envelope", "extlists", "enotify", "variables",
         "vacation-seconds"];
if allof (
    envelope :list "from" "tag:example.com,2009-05-28:AddrBook",
    notify_method_capability "xmpp:me@example.com" "show" "xa"
  ) {
    # :matches "*" is used here to extract the value
    if notify_method_capability :matches
        "xmpp:myjid@example.com" "status" "*" {
      set "resp_msg" "${1}";
    } else {
      set "resp_msg" "Away for a while, without access to email.";
    }
    vacation :handle "ext-away" :seconds 1800 "${resp_msg}";
  }



</pre></div>
    
</li>
<li>
      In the next example, we'll check for the recipient's personal
      assistant, and give very detailed information about the recipient's
      status to that sender.
      For other senders in the "family" and "friends" lists we'll also send an auto-reply.
      Other senders will be considered less important, and don't need auto-replies.
      
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

require ["envelope", "extlists", "enotify", "vacation-seconds"];

if envelope :is "from" "assistant@example.com"
  {
    if notify_method_capability "xmpp:me@example.com" "show" "away"
      {
        vacation :handle "away" :seconds 600
            "I'm away for now, but I'll be back soon.";
      }
    elsif notify_method_capability "xmpp:me@example.com" "show" "dnd"
      {
        vacation :handle "dnd" :seconds 1800
            "I'm not to be disturbed.  I'll check mail later.";
      }
    elsif notify_method_capability "xmpp:me@example.com" "show" "xa"
      {
        vacation :handle "ext-away" :seconds 3600
            "I'm away for a while, without access to email.";
      }
    elsif notify_method_capability "xmpp:me@example.com" "busy" "yes"
      {
        vacation :handle "busy" :seconds 1800
            "I'm very busy, but might check email now and then.";
      }
  }
elsif envelope :list "from" ["tag:example.com,2009-05-28:family",
                             "tag:example.com,2009-05-28:friends"]
  {
    if notify_method_capability "xmpp:me@example.com" "show"
           ["away", "dnd", "xa"]
      {
        vacation :handle "away" :seconds 3600
            "I'm not available to respond to email.";
      }
  }
else
  { # We could respond as below, making it only once a day
    # for less important senders.  Better to just omit
    # that, though (see the end of the Introduction section).
    #
    # vacation :handle "catchall" :days 1
    #     "I got your message, and might read it eventually.";
  }



</pre></div>
    
</li>
<li>
      For this example,
      if the sender is a work colleague and the recipient is on extended away
      status, then reply with a message giving alternative contact information.
      The message might also include details about the reason for the absence,
      or other personal or confidential information that shouldn't be shared
      with senders who aren't associated with the recipient's company.
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

require ["envelope", "extlists", "enotify", "vacation"];

if envelope :list "from" "tag:example.com,2009-05-28:co-workers"
  {
    if notify_method_capability "xmpp:me@example.com" "show" "xa"
      {
        vacation :handle "bigtrip" :days 3
            "I'm on an extended business trip to Texas for the Foo
             project.  Contact my backup, Susan &lt;susan@example.com&gt;,
             or call my assistant on +1 666 555 1234 if you urgently
             need to contact me.";
      }
  }



</pre></div>
    
</li>
<li>
      This example is used to send an acknowledgment to every message received.
      A :seconds value of zero is used to reply to every message, with no
      removal of duplicates to the same sender.
      This requires that the Sieve engine allow an interval of zero;
      if it does not, and it imposes a minimum value, not every message will
      receive an auto-reply.
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

require ["envelope", "extlists", "vacation-seconds"];

if not envelope :list "from" "tag:example.com,2009-05-28:staff"
  {
    vacation :handle "auto-resp" :seconds 0
        "Your request has been received.  A service
         representative will contact you as soon as
         possible, usually within one business day.";
  }



</pre></div>
    
</li>
<li>
      This example uses the same structure to automatically send a copy of each incoming message
      to the recipient's backup, if the sender is a customer contact or co-worker, or if the
      message's subject includes the word "urgent".
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

require ["envelope", "extlists", "enotify"];

if anyof (
    envelope :list "from" ["tag:example.com,2009-05-28:customers",
                           "tag:example.com,2009-05-28:co-workers"],
    header :contains "subject" "urgent"
  ) {
    if notify_method_capability "xmpp:me@example.com" "show" "xa"
      {
        redirect "susan@example.com"; # send a copy to my backup
        keep; # also keep a copy for myself
      }
  }
}



</pre></div>
    
</li>
</ol>

<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
      See the Security Considerations sections of the following specifications
      for discussion of security considerations not covered here:
      <br />

      Sieve base specification <a class='info' href='#RFC5228'>[RFC5228]<span> (</span><span class='info'>Guenther, P. and T. Showalter, &ldquo;Sieve: An Email Filtering Language,&rdquo; January&nbsp;2008.</span><span>)</span></a>
      <br />

      Sieve Vacation extension <a class='info' href='#RFC5230'>[RFC5230]<span> (</span><span class='info'>Showalter, T. and N. Freed, &ldquo;Sieve Email Filtering: Vacation Extension,&rdquo; January&nbsp;2008.</span><span>)</span></a>
      <br />

      Vacation "Seconds" parameter <a class='info' href='#I-D.ietf-sieve-vacation-seconds'>[I&#8209;D.ietf&#8209;sieve&#8209;vacation&#8209;seconds]<span> (</span><span class='info'>George, R. and B. Leiba, &ldquo;Sieve Vacation Extension: &quot;Seconds&quot; parameter,&rdquo; October&nbsp;2010.</span><span>)</span></a> 
      <br />

      Sieve Externally Stored Lists extension <a class='info' href='#I-D.ietf-sieve-external-lists'>[I&#8209;D.ietf&#8209;sieve&#8209;external&#8209;lists]<span> (</span><span class='info'>Melnikov, A. and B. Leiba, &ldquo;Sieve Extension: Externally Stored Lists,&rdquo; May&nbsp;2010.</span><span>)</span></a>
      <br />

      Sieve Notify extension <a class='info' href='#RFC5435'>[RFC5435]<span> (</span><span class='info'>Melnikov, A., Leiba, B., Segmuller, W., and T. Martin, &ldquo;Sieve Email Filtering: Extension for Notifications,&rdquo; January&nbsp;2009.</span><span>)</span></a>
      (and any applicable notification methods)
    
</p>
<p>
      This document describes how to set up a system that creates automatic replies in
      an intelligent way.  Despite the "intelligence", errors in scripts can result in
      too many auto-reply messages, especially when the reply interval is minimal
      (using the "notify" action, or the "vacation" action with a small value for ":seconds").
    
</p>
<p>
      Despite the "intelligence", too, errors in scripts can result in
      private information getting to senders inappropriately.
      In example 3 in <a class='info' href='#examples'>Section&nbsp;3<span> (</span><span class='info'>Example Use Cases for Auto Replies</span><span>)</span></a>, for instance, if the :list test checks the
      wrong list, or none at all, information about the recipient's business trip might be
      sent to someone who has no need to know about it, and shouldn't.
    
</p>
<p>
      Even without errors in scripts, a sender who recognizes that auto-replies are dependent
      upon the recipient's presence can use that fact to probe the presence information.
      One result of that can be that the sender discerns changes in the recipient's presence
      that the sender would normally not be allowed to see, making this an unintentional
      back door into the user's presence information.
      Another result is that this can create a "covert channel", allowing the recipient to send
      information to a sender by changing his presence information, his address book,
      and/or his Sieve script
      (though in this regard, the exposure is comparable to any other case of shared
      presence information).
    
</p>
<p>
      An autoresponder can cause leaks of other pieces of information,
      including potentially providing the ability to attack cryptographic
      keying material.  For example, using the time it takes to perform an
      cryptographic operation, an attacker may obtain information about the
      secret key.  An autoresponder that doesn't take timing into account
      could accidentally leak this kind of information.
    
</p>
<p>
      Moreover, if an autoresponder script directly returns the results of a
      cryptographic operation, that could also provide an attack vector.  For
      example, if a script returns the results of a decryption operation, an
      attacker can send an arbitrarily encrypted message and use the results
      as a chosen cyphertext attack to decode the encryption key.  Authors
      of scripts should be careful in what information they return to
      senders.
    
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
      There are no IANA actions required by this document.
    
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sieve-external-lists">[I-D.ietf-sieve-external-lists]</a></td>
<td class="author-text">Melnikov, A. and B. Leiba, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-external-lists-02.txt">Sieve Extension: Externally Stored Lists</a>,&rdquo; draft-ietf-sieve-external-lists-02 (work in progress), May&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-external-lists-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sieve-notify-presence">[I-D.ietf-sieve-notify-presence]</a></td>
<td class="author-text">George, R. and B. Leiba, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-notify-presence-01.txt">Sieve Notification Using Presence Information</a>,&rdquo; draft-ietf-sieve-notify-presence-01 (work in progress), October&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-notify-presence-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sieve-vacation-seconds">[I-D.ietf-sieve-vacation-seconds]</a></td>
<td class="author-text">George, R. and B. Leiba, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-vacation-seconds-01.txt">Sieve Vacation Extension: "Seconds" parameter</a>,&rdquo; draft-ietf-sieve-vacation-seconds-01 (work in progress), October&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sieve-vacation-seconds-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5228">[RFC5228]</a></td>
<td class="author-text">Guenther, P. and T. Showalter, &ldquo;<a href="http://tools.ietf.org/html/rfc5228">Sieve: An Email Filtering Language</a>,&rdquo; RFC&nbsp;5228, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5228.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5229">[RFC5229]</a></td>
<td class="author-text">Homme, K., &ldquo;<a href="http://tools.ietf.org/html/rfc5229">Sieve Email Filtering: Variables Extension</a>,&rdquo; RFC&nbsp;5229, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5229.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5230">[RFC5230]</a></td>
<td class="author-text">Showalter, T. and N. Freed, &ldquo;<a href="http://tools.ietf.org/html/rfc5230">Sieve Email Filtering: Vacation Extension</a>,&rdquo; RFC&nbsp;5230, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5230.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5435">[RFC5435]</a></td>
<td class="author-text">Melnikov, A., Leiba, B., Segmuller, W., and T. Martin, &ldquo;<a href="http://tools.ietf.org/html/rfc5435">Sieve Email Filtering: Extension for Notifications</a>,&rdquo; RFC&nbsp;5435, January&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5435.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Robins George</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bangalore, Karnataka  560071</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">India</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+91-080-41117676</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:robinsgv@gmail.com">robinsgv@gmail.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Barry Leiba</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei Technologies</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 646 827 0648</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:barryleiba@computer.org">barryleiba@computer.org</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://internetmessagingtechnology.org/">http://internetmessagingtechnology.org/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alexey Melnikov</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Isode Limited</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">5 Castle Business Village, 36 Station Road</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hampton, Middlesex  TW12 2BX</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Alexey.Melnikov@isode.com">Alexey.Melnikov@isode.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.melnikov.ca/">http://www.melnikov.ca/</a></td></tr>
</table>
</body></html>
