



IDR Working Group                                            J. Tantsura
Internet-Draft                                            Nuage Networks
Intended status: Standards Track                             U. Chunduri
Expires: February 14, 2019                                    Huawei USA
                                                               G. Mirsky
                                                               ZTE Corp.
                                                            S. Sivabalan
                                                                   Cisco
                                                         August 13, 2018


 Signaling MSD (Maximum SID Depth) using Border Gateway Protocol Link-
                                 State
              draft-ietf-idr-bgp-ls-segment-routing-msd-02

Abstract

   This document defines a way for a Border Gateway Protocol Link-State
   (BGP-LS) speaker to advertise multiple types of supported Maximum SID
   Depths (MSDs) at node and/or link granularity.

   Such advertisements allow logically centralized entities (e.g.,
   centralized controllers) to determine whether a particular SID stack
   can be supported in a given network.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on February 14, 2019.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.





Tantsura, et al.        Expires February 14, 2019               [Page 1]

Internet-DrafSignaling MSD (Maximum SID Depth) using BGP-LS  August 2018


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Conventions used in this document . . . . . . . . . . . .   3
       1.1.1.  Terminology . . . . . . . . . . . . . . . . . . . . .   3
       1.1.2.  Requirements Language . . . . . . . . . . . . . . . .   3
   2.  Problem Statement . . . . . . . . . . . . . . . . . . . . . .   3
   3.  MSD supported by a node . . . . . . . . . . . . . . . . . . .   3
   4.  MSD supported on a link . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   When Segment Routing tunnels are computed by a centralized
   controller, it is critical that the controller learns the MSD
   "Maximum SID Depth" of the node or link SR tunnel exits over, so the
   SID stack depth of a path computed doesn't exceed the number of SIDs
   the node is capable of imposing.  This document describes how to use
   BGP-LS to signal the MSD of a node or link to a centralized
   controller.

   PCEP SR extensions draft [I-D.ietf-pce-segment-routing] signals MSD
   in SR PCE Capability TLV and METRIC Object.  However, if PCEP is not
   supported/configured on the head-end of a SR tunnel or a Binding-SID
   anchor node and controller does not participate in IGP routing, it
   has no way to learn the MSD of nodes and links which has been
   configured.  BGP-LS [RFC7752] defines a way to expose topology and
   associated attributes and capabilities of the nodes in that topology
   to a centralized controller.

   Other types of MSD are known to be useful.  For example,
   [I-D.ietf-ospf-mpls-elc] and [I-D.ietf-isis-mpls-elc] define Readable



Tantsura, et al.        Expires February 14, 2019               [Page 2]

Internet-DrafSignaling MSD (Maximum SID Depth) using BGP-LS  August 2018


   Label Depth Capability (RLDC) that is used by a head-end to insert an
   Entropy Label (EL) at a depth that can be read by transit nodes.

1.1.  Conventions used in this document

1.1.1.  Terminology

   BGP-LS: Distribution of Link-State and TE Information using Border
   Gateway Protocol

   MSD: Maximum SID Depth

   PCC: Path Computation Client

   PCE: Path Computation Element

   PCEP: Path Computation Element Protocol

   SID: Segment Identifier

   SR: Segment routing

1.1.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here .

2.  Problem Statement

   In existing technology only PCEP has extension to signal the MSD (SR
   PCE Capability TLV/ METRIC Object as defined in
   [I-D.ietf-pce-segment-routing],If PCEP is not supported by the node
   (head-end of the SR tunnel) controller has no way to learn the MSD of
   the node/link configured.  OSPF and IS-IS extensions are defined in:

   [I-D.ietf-ospf-segment-routing-msd]

   [I-D.ietf-isis-segment-routing-msd]

3.  MSD supported by a node

   Node MSD is encoded in a new Node Attribute TLV, as defined in
   [RFC7752]





Tantsura, et al.        Expires February 14, 2019               [Page 3]

Internet-DrafSignaling MSD (Maximum SID Depth) using BGP-LS  August 2018


      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |              Type             |             Length            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |         Sub-Type and Value ...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ...

                      Figure 1: Node attribute format

   Type : A 2-octet field specifying code-point of the new TLV type.
   Code-point:(TBD1) from BGP-LS Node Descriptor, Link Descriptor,
   Prefix Descriptor, and Attribute TLVs registry

   Length: A 2-octet field that indicates the length of the value
   portion

   Sub-Type and value fields are as defined in corresponding OSPF
   [I-D.ietf-ospf-segment-routing-msd] and IS-IS
   [I-D.ietf-isis-segment-routing-msd] extensions.

4.  MSD supported on a link

   Link MSD is encoded in a New Link Attribute TLV, as defined in
   [RFC7752]

      0                   1                   2                   3
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |              Type             |             Length            |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |         Sub-Type and Value ...
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ...

                      Figure 2: Link attribute format

   Type : A 2-octet field specifying code-point of the new TLV type.
   Code-point:(TBD2) from BGP-LS Node Descriptor, Link Descriptor,
   Prefix Descriptor, and Attribute TLVs registry

   Length: A 2-octet field that indicates the length of the value
   portion

   Sub-Type and value fields are as defined in corresponding OSPF
   [I-D.ietf-ospf-segment-routing-msd] and IS-IS
   [I-D.ietf-isis-segment-routing-msd] extensions.





Tantsura, et al.        Expires February 14, 2019               [Page 4]

Internet-DrafSignaling MSD (Maximum SID Depth) using BGP-LS  August 2018


5.  IANA Considerations

   We request IANA assign code points from the registry BGP-LS Node
   Descriptor, Link Descriptor, Prefix Descriptor, and Attribute TLVs,
   as follows: TLV Code Point Description IS-IS TLV/Sub-TLV Reference
   TBD1 Node MSD 242/23 (this document) TBD2 Link MSD
   (22,23,25,141,222,223)/15 (this document)

6.  Security Considerations

   Advertisement of the additional information defined in this document
   that is false, e.g., an MSD that is incorrect, may result in a path
   computation failing, having a service unavailable, or instantiation
   of a path that can't be supported by the head-end (the node
   performing the imposition).

   This document does not introduce security issues beyond those
   discussed in [RFC7752], [I-D.ietf-ospf-segment-routing-msd] and
   [I-D.ietf-isis-segment-routing-msd]

7.  Acknowledgements

   We like to thank Nikos Triantafillis, Acee Lindem, Ketan Talaulikar,
   Stephane Litkowski and Bruno Decraene for their reviews and valuable
   comments.

8.  References

8.1.  Normative References

   [I-D.ietf-isis-segment-routing-msd]
              Tantsura, J., Chunduri, U., Aldrin, S., and L. Ginsberg,
              "Signaling MSD (Maximum SID Depth) using IS-IS", draft-
              ietf-isis-segment-routing-msd-13 (work in progress), July
              2018.

   [I-D.ietf-ospf-segment-routing-msd]
              Tantsura, J., Chunduri, U., Aldrin, S., and P. Psenak,
              "Signaling MSD (Maximum SID Depth) using OSPF", draft-
              ietf-ospf-segment-routing-msd-15 (work in progress), July
              2018.

   [I-D.ietf-pce-segment-routing]
              Sivabalan, S., Filsfils, C., Tantsura, J., Henderickx, W.,
              and J. Hardwick, "PCEP Extensions for Segment Routing",
              draft-ietf-pce-segment-routing-12 (work in progress), June
              2018.




Tantsura, et al.        Expires February 14, 2019               [Page 5]

Internet-DrafSignaling MSD (Maximum SID Depth) using BGP-LS  August 2018


   [I-D.ietf-spring-segment-routing-mpls]
              Bashandy, A., Filsfils, C., Previdi, S., Decraene, B.,
              Litkowski, S., and R. Shakir, "Segment Routing with MPLS
              data plane", draft-ietf-spring-segment-routing-mpls-14
              (work in progress), June 2018.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC7752]  Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and
              S. Ray, "North-Bound Distribution of Link-State and
              Traffic Engineering (TE) Information Using BGP", RFC 7752,
              DOI 10.17487/RFC7752, March 2016,
              <https://www.rfc-editor.org/info/rfc7752>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

8.2.  Informative References

   [I-D.ietf-isis-mpls-elc]
              Xu, X., Kini, S., Sivabalan, S., Filsfils, C., and S.
              Litkowski, "Signaling Entropy Label Capability and Entropy
              Readable Label Depth Using IS-IS", draft-ietf-isis-mpls-
              elc-05 (work in progress), July 2018.

   [I-D.ietf-isis-segment-routing-extensions]
              Previdi, S., Ginsberg, L., Filsfils, C., Bashandy, A.,
              Gredler, H., Litkowski, S., Decraene, B., and J. Tantsura,
              "IS-IS Extensions for Segment Routing", draft-ietf-isis-
              segment-routing-extensions-19 (work in progress), July
              2018.

   [I-D.ietf-ospf-mpls-elc]
              Xu, X., Kini, S., Sivabalan, S., Filsfils, C., and S.
              Litkowski, "Signaling Entropy Label Capability and Entropy
              Readable Label-stack Depth Using OSPF", draft-ietf-ospf-
              mpls-elc-06 (work in progress), August 2018.

   [I-D.ietf-ospf-segment-routing-extensions]
              Psenak, P., Previdi, S., Filsfils, C., Gredler, H.,
              Shakir, R., Henderickx, W., and J. Tantsura, "OSPF
              Extensions for Segment Routing", draft-ietf-ospf-segment-
              routing-extensions-25 (work in progress), April 2018.




Tantsura, et al.        Expires February 14, 2019               [Page 6]

Internet-DrafSignaling MSD (Maximum SID Depth) using BGP-LS  August 2018


Authors' Addresses

   Jeff Tantsura
   Nuage Networks

   Email: jefftant.ietf@gmail.com


   Uma Chunduri
   Huawei USA

   Email: uma.chunduri@huawei.com


   Greg Mirsky
   ZTE Corp.

   Email: gregimirsky@gmail.com


   Siva Sivabalan
   Cisco

   Email: msiva@cisco.com



























Tantsura, et al.        Expires February 14, 2019               [Page 7]
