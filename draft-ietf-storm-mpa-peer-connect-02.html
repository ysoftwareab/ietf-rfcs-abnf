<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Enhanced RDMA Connection Establishment</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Enhanced RDMA Connection Establishment">
<meta name="keywords" content="RDDP, RDMA, MPA, MPACS">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">STORM</td><td class="header">A. Kanevsky, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">VMware</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc5043'>5043</a>, <a href='http://tools.ietf.org/html/rfc5044'>5044</a></td><td class="header">C. Bestler, Ed.</td></tr>
<tr><td class="header">(if&nbsp;approved)</td><td class="header">Consultant</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">R. Sharp</td></tr>
<tr><td class="header">Expires: May 27, 2011</td><td class="header">Intel</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">S. Wise</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Open Grid Computing</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">November 23, 2010</td></tr>
</table></td></tr></table>
<h1><br />Enhanced RDMA Connection Establishment<br />draft-ietf-storm-mpa-peer-connect-02</h1>

<h3>Abstract</h3>

<p> 
      Extensions to MPA are specified for RDMA Connection establishment.
      The first extension extends RFC5043, enabling peer-to-peer connection establishment over MPA/TCP.
      The second extension extends both RFC5043 and RFC5044, by providing an option for standardized exchange of RDMA-layer connection configuration.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on May 27, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Summary of changes from RFC 5044<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Summary of changes from RFC 5043<br />
<a href="#anchor4">2.</a>&nbsp;
Requirements Language<br />
<a href="#anchor5">3.</a>&nbsp;
Definitions<br />
<a href="#anchor6">4.</a>&nbsp;
Motivations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.1.</a>&nbsp;
Enabling MPA Mode<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.2.</a>&nbsp;
Lack of Explicit RTR in MPA Request/Reply Exchange<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">4.3.</a>&nbsp;
Limitations on ULP Workaround<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">4.3.1.</a>&nbsp;
Transport Neutral APIs<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">4.3.2.</a>&nbsp;
Work/Completion Queue Accounting<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">4.3.3.</a>&nbsp;
Host-based Implementation of MPA Fencing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">4.4.</a>&nbsp;
Standardized RDMA Parameter Negotiation<br />
<a href="#anchor14">5.</a>&nbsp;
MPA Connection Setup<br />
<a href="#anchor15">6.</a>&nbsp;
Enhanced MPA Request/Reply Frames<br />
<a href="#anchor16">7.</a>&nbsp;
Enhanced SCTP Session Control Chunks<br />
<a href="#anchor17">8.</a>&nbsp;
Enhanced RDMA Connection Establishment Data<br />
<a href="#anchor18">9.</a>&nbsp;
Interoperability<br />
<a href="#anchor19">10.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor20">11.</a>&nbsp;
Security Considerations<br />
<a href="#anchor21">12.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">13.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">13.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">13.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>When used over TCP, the current RDDP suite of protocols relies
      on Marker PDU Alignment (MPA) <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a> protocol for both
      connection establishment and for markers for TCP layering.
      Currently MPA only supports a client-server model for connection establishment, forcing
      peer-to-peer applications to interact as though they had a 
      client/server relationship.
      In addition negotiation of some of Remote Direct Memory Access Protocol (RDMAP) <a class='info' href='#RFC5040'>[RFC5040]<span> (</span><span class='info'>Recio, R., Metzler, B., Culley, P., Hilland, J., and D. Garcia, &ldquo;A Remote Direct Memory Access Protocol Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a> specific parameters are left to ULP negotiation.
      Providing an optional ULP-independent format for exchanging these
      parameters would be of benefit to transport neutral RDMA applications.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Summary of changes from RFC 5044</h3>

<p> This draft extends <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>
	  MPA connection setup protocol.
	  First, it add exchange and negotiation of
	  maximum number of RDMA Read Incoming (IRD) and Outgoing messages (ORD).
	  Second, it adds one more
	  Ready to Receive (RTR) frame from requestor to responder as the last message of connection
	  establishment and adds negotiation of RTR frame message type into MPA request/response
	  frames.
	  
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Summary of changes from RFC 5043</h3>

<p> This draft extends <a class='info' href='#RFC5043'>[RFC5043]<span> (</span><span class='info'>Bestler, C. and R. Stewart, &ldquo;Stream Control Transmission Protocol (SCTP) Direct Data Placement (DDP) Adaptation,&rdquo; October&nbsp;2007.</span><span>)</span></a> by adding new
	  Enhanced Session Control Chunks that extend the currently defined Chunks
	  with the addition of IRD and ORD negotiation.
	  
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Requirements Language</h3>

<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
        &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
        document are to be interpreted as described in
        <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Definitions</h3>

<p>
      </p>
<blockquote class="text"><dl>
<dt>FULPDU:</dt>
<dd>Framed Upper Layer Protocol PDU. See <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.
</dd>
<dt>Completion Queue (CQ):</dt>
<dd>A consumer accessible queue where the RDMA device reports completions of Work Requests. A Consumer is able to
      reap completions from a CQ without requiring per transaction support
      from the kernel or other privileged entity. See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>.
      
</dd>
<dt>Completion Queue Entry (CQE):</dt>
<dd>Transport and device specific
      representation of a Work Completion. A Completion Queue holds CQEs.
      See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>.
      
</dd>
<dt>Inbound RDMA Read Queue Depth (IRD):</dt>
<dd>The maximum number of incoming outstanding RDMA Read Request Messages an RDMA connection can 
      handle. See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>.
      
</dd>
<dt>IRD:</dt>
<dd>See Inbound RDMA Read Queue Depth.
</dd>
<dt>ORD:</dt>
<dd>See Outbound RDMA Read Queue Depth.
</dd>
<dt>Outbound RDMA Read Queue Depth (ORD):</dt>
<dd>The maximum number of
      outstanding RDMA Read Requests that can be issued for the RDMA connection.
      This should be less than or equal to the peer's IRD.
      See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>.
      
</dd>
<dt>Queue Pair (QP):</dt>
<dd>The traditional name for a local Endpoint in a <a class='info' href='#VIA'>[VIA]<span> (</span><span class='info'>Compaq, Intel, Microsoft, &ldquo;Virtual Interface Architecture Specification,&rdquo; 1997.</span><span>)</span></a> derived local interface. A Queue Pair is the
      set of Work Queues associated exclusively with a single Endpoint. The
      Send Queue (SQ), Receive Queue (RQ) and Inbound RDMA Read Queue (IRQ)
      are considered to be part of the Queue Pair. The potentially shared
      Completion Queue (CQ) and Shared Receive Queue (SRQ) are not.
      See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>.
      
</dd>
<dt>Shared Receive Queue(SRQ):</dt>
<dd>A shared pool of Receive Work
      Requests posted by the Consumer that can be allocated by multiple RDMA endpoints (Queue Pair). See <a class='info' href='#DAPL'>[DAPL]<span> (</span><span class='info'>, &ldquo;Direct Access Programming Library,&rdquo; .</span><span>)</span></a>.
      
</dd>
<dt>Work Queue:</dt>
<dd>An element of a <a class='info' href='#VIA'>[VIA]<span> (</span><span class='info'>Compaq, Intel, Microsoft, &ldquo;Virtual Interface Architecture Specification,&rdquo; 1997.</span><span>)</span></a> derived local interface that allows user-space applications to submit Work Requests directly to network hardware. Specific Work Queues include
      the Send Queue (SQ) for transmit requests, Receive Queue (RQ) for
      receive requests specific to a single Endpoint and Shared Receive Queues
      (SRQs) for receive requests that can be allocated by one or more
      Endpoints.
      See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>.
      
</dd>
<dt>Work Queue Element (WQE):</dt>
<dd>Transport and device specific
      representation of a Work Request.
      See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>
</dd>
<dt>Work Request:</dt>
<dd>An elementary object used by Consumers
      to enqueue a requested operation (WQEs) onto a Work Queue.
      See <a class='info' href='#RDMAC'>[RDMAC]<span> (</span><span class='info'>, &ldquo;RDMA Protocol Verbs Specification (Version 1.0),&rdquo; .</span><span>)</span></a>.
      
</dd>
</dl></blockquote><p>
      
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Motivations</h3>

<p>The goal of this draft is twofold. One is to extend support from the
	current client-server model for RDMA connection setup to a peer-to-peer model.
	The second is to add negotiation of RDMA Read queue size for both sides of an RDMA connection. 

</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Enabling MPA Mode</h3>

<p>MPA defines encoding of DDP Segments in FULPDUs (Framed Upper
        Layer Protocol PDUs). Generation of FULPDUs requires the ability
        to periodically insert MPA Markers and to generate the MPA CRC-32c
        for each frame. Reception may require parsing/removing the markers
        after using them to identify MPA Frame boundaries, and validation
        of the MPA-CRC32c.
        
</p>
<p>A major design objective for MPA was to ensure that the resulting
        TCP stream would be a fully compliant TCP stream for any and
        all TCP-aware middle-boxes. The challenge is that while only some
        TCP payload streams are a valid stream of MPA FULPDUs, any sequence
        of bytes is a valid TCP payload stream. The determination
        that a given stream is in a specific MPA mode cannot be made at the
        MPA or TCP layer. Therefore enabling of MPA mode is handled by
        the ULP.
        
</p>
<p>The MPA protocol can be viewed as having two parts.
	</p>
<ul class="text">
<li>a specification of generation and reception of MPA FULPDUs.
	This is unchanged by Enhanced RDMA Connection Establishment.
	
</li>
<li>
	a pre-MPA exchange of messages to enable a specific MPA mode for the TCP connection.
	Enhanced RDMA Connection Establishment extends this protocol with two new features.
        
</li>
</ul><p>
        
</p>
<p>In typical implementations, generation and reception of MPA FULPDUs
        is handled by hardware. The exchange of the MPA Request and Reply
        frames is then handled by host software. As will be explained,
        this implementation split prevents applications from working around
        the client-server assumptions in the current MPA Request/Reply exchange.
        
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Lack of Explicit RTR in MPA Request/Reply Exchange</h3>

<p>The exchange of MPA Request and Reply messages to place a TCP
        connection in MPA mode is specified in
        <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.
        This protocol provides many benefits to the design of MPA FULPDU
        hardware:
        </p>
<ul class="text">
<li>The ULP is responsible for specifying the exact MPA Mode (Markers
        enabled or disabled, CRC-32c enabled or suppressed) and the point in
        the TCP streams (inbound and outbound) where MPA frames will begin.
        
</li>
<li>Before the first MPA frame is transmitted, all pre-MPA mode TCP
        payload will have been acknowledged by the peer. Therefore it is never
        necessary to generate a retransmission that mixes pre-MPA and MPA payload.
        
</li>
<li>Before MPA reception is enabled, all incoming pre-MPA mode TCP
        payload will have been acknowledged. Therefore the host will never
        receive a TCP segment that mixes pre-MPA and MPA payload.
        
</li>
</ul><p>
        
</p>
<p>The limitation of the current MPA Request/Reply exchange is
        that it does not define a Ready to Receive (RTR) message that the
        active side would send, so that the passive side can know that the last
        non-MPA payload (the MPA Reply) had been received.
        
</p>
<p>Instead, the role of an RTR message is piggy-backed on the first
        MPA FULPDU sent by the active side. This is actually a valuable 
        optimization for all applications that fit the classic client/server
        model. The client only initiates the connection when it has a request
        to send to the server, and the server has nothing to send until it
        has received and processed the client request.
        
</p>
<p>Even applications where the server sends some configuration data
        immediately can easily send the same information as application private
        data in the MPA Reply. So the currently defined exchange works for
        almost all applications.
        
</p>
<p>Many peer-to-peer applications, especially those involving cluster
        calculations (frequently using MPI <a class='info' href='#UsingMPI'>[UsingMPI]<span> (</span><span class='info'>MIT Press, &ldquo;Using MPI-2: Advanced Features of the Message Passing Interface,&rdquo; 1999.</span><span>)</span></a>,
		or <a class='info' href='#RDS'>[RDS]<span> (</span><span class='info'>Open Fabrics Association, &ldquo;Reliable Datagram Socket,&rdquo; 2008.</span><span>)</span></a>), have no natural
        client or server roles (<a class='info' href='#PPMPI'>[PPMPI]<span> (</span><span class='info'>Morgan Kaufmann Publishers Inc., &ldquo;Parallel Programming with MPI,&rdquo; 2008.</span><span>)</span></a>, <a class='info' href='#OpenMP'>[OpenMP]<span> (</span><span class='info'>McGraw-Hill, &ldquo;Parallel Programming in C with MPI and OpenMP,&rdquo; 2003.</span><span>)</span></a>).
	Typically one member of the cluster is arbitrarily selected to initiate the connection when the distributed
        task is launched, while the other accepts it. At startup time, however,
        there is no way to predict which node will have the first message to
        actually send. Establishing the connections immediately, however,
        is valuable because it reduces latency once results are ready to
        transmit and it validates connectivity throughout the cluster.
        
</p>
<p>The lack of an explicit RTR message in the MPA Request/Reply exchange
        forces all applications to have a first message from the connection
        initiator, whether this matches the application communication model
        or not.
        
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Limitations on ULP Workaround</h3>

<p>The requirement that the RDMA connection initiator sends the first
        message does not appear to be that onerous on first examination.
        The natural question is why the application layer would not simply
        generate a &quot;nop&quot; message when there was no other message to
        submit.
        
</p>
<p>There are three factors that make this workaround unsuitable for
        many peer-to-peer applications.
        </p>
<ul class="text">
<li>Transport Neutral APIs.
</li>
<li>Work/Completion Queue Accounting.
</li>
<li>Host-based implementation of MPA Fencing.
</li>
</ul><p>
        
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.1"></a><h3>4.3.1.&nbsp;
Transport Neutral APIs</h3>

<p>Many of these applications access RDMA services using a transport
        neutral API such as <a class='info' href='#DAPL'>[DAPL]<span> (</span><span class='info'>, &ldquo;Direct Access Programming Library,&rdquo; .</span><span>)</span></a> or <a class='info' href='#OFA'>[OFA]<span> (</span><span class='info'>, &ldquo;OFA verbs & APIs,&rdquo; .</span><span>)</span></a>.
        Only MPA has a first message requirement. Other RDMA transports,
        including SCTP and InfiniBand, do not.
        
</p>
<p>Application or middleware communications can be expressed as
        transport neutral RDMA operations, allowing lower software layers
        to translate to transport and device specifics. Having a distinct
        extra message that is required only for one transport undermines
        the application's goal of being transport neutral.
        
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.2"></a><h3>4.3.2.&nbsp;
Work/Completion Queue Accounting</h3>

<p>RDMA local APIs conventionally use work queues to submit requests
        (work queue elements or WQEs) and to asynchronously receive completions
        (in completion queues or CQs).
        
</p>
<p>Each work request can generate a completion queue entries (CQE).
        Completions for successful transmit work requests are frequently
        suppressed, but the completion queue capacity must account for the
        possibility that each will complete in error.
        A completion queue can receive completions from multiple work queues.
        
</p>
<p>Completion Queues are defined so as to allow hardware RDMA implementations
        to generate CQEs directly to a user-space mapped
        buffer. This enables a user-space RDMA consumer to reap completions
        without requiring kernel intervention.
        
</p>
<p>A hardware RDMA implementation cannot reasonably wait for an
        available slot in the completion queue. The queue must be sized
        such that an overflow will not occur. When an overflow does occur
        it is considered catastrophic and will typically require tearing
        down all RDMA connections using that CQ.
        
</p>
<p>
        This style of interface is very efficient, but places a burden
        on the application to properly size each Completion Queue to match
        the Work Queues that feed it.
        
</p>
<p>While the format of both WQEs
        and CQEs is transport and device dependent, a transport neutral API
        can deal with WQEs and CQEs as abstract transport and device neutral
        objects. Therefore the number of WQEs and CQEs required for
        an application can be transport and device neutral.
        
</p>
<p>The capacity of the work queues and completion queues
        can be calculated in an abstract transport/device neutral fashion. Lower
        layers of the protocol stack cannot disrupt these calculations by
        inserting a dummy &quot;nop&quot; Work Request and filtering out the matching
        completion. The lower layer does not know the usage model on which
        the queue sizes are built, nor does it know how frequently an
        insertion will be required.
        
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.3"></a><h3>4.3.3.&nbsp;
Host-based Implementation of MPA Fencing</h3>

<p>Many hardware implementations of iWARP using MPA/TCP do not handle
	the MPA Request/Reply exchange in hardware, rather they are handled by the host
	processor in software.
	With such designs it is common for the MPA Fencing to be implemented
	in the user-space device-specific library (commonly referred to as a
	'User Verbs' library or module).
</p>
<p>
	When the generation and reception of MPA FULPDUs is already
        dedicated to hardware, a Work Completion can only be generated
        by an untagged message.
	
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Standardized RDMA Parameter Negotiation</h3>

<p>Most RDMA applications are developed using a transport neutral API
	to access RDMA services based on a &quot;queue pair&quot; paradigm as originally defined
	by the Virtual Interface Architecture <a class='info' href='#VIA'>[VIA]<span> (</span><span class='info'>Compaq, Intel, Microsoft, &ldquo;Virtual Interface Architecture Specification,&rdquo; 1997.</span><span>)</span></a>,
	refined by the Direct Access Programming Library <a class='info' href='#DAPL'>[DAPL]<span> (</span><span class='info'>, &ldquo;Direct Access Programming Library,&rdquo; .</span><span>)</span></a>
	and most commonly deployed with
	the OpenFabrics API <a class='info' href='#OFA'>[OFA]<span> (</span><span class='info'>, &ldquo;OFA verbs & APIs,&rdquo; .</span><span>)</span></a>.
	
</p>
<p>These transport neutral APIs seek to provide a common set of RDMA
	services whether the underlying transport is, for example, iWARP over MPA,
        iWARP over SCTP or InfiniBand.
	
</p>
<p>The common model for establishing an RDMA connection has the following steps:
</p>
<p>
	</p>
<ul class="text">
<li>The passive side ULP listens for connection requests.
</li>
<li>The active side ULP submits a connection request using an RDMA endpoint (&quot;queue pair&quot;),
        the desired destination and the parameters
	to be used for the connection. Those parameters include both RDMA
	layer characteristics, such as the RDMA Read credits to be allowed
	and application specific data (typically referred to as &quot;private
	data&quot;).
	
</li>
<li>The passive side ULP receives the Connection Request, which includes
	the identity of the active side and the requested connection characteristics.
        The passive side ULP uses this information to decide
	whether to accept the connection, and if it is to be accepted, how to
	create and/or configure the RDMA endpoint.
	
</li>
<li>If accepting, the passive side ULP submits its acceptance of the
	Connection Request. This local accept operation includes the RDMA endpoint to
        be used and the connection characteristics (both the RDMA configuration and
	any application specific private data to be returned).
	
</li>
<li>The active side receives confirmation that the connection has
	been accepted, what the configured connection characteristics are,
	and any application supplied private data.
	
</li>
</ul><p>
	
</p>
<p>As currently defined, DDP connection establishment requires
	the ULP to encode the RDMA configuration in the application specific
	private data. This results undesirable duplication of logic to cover
	both InfiniBand and iWARP, and to specify the extraction of the RDMA
	characteristics from the ULP for each specific Upper Layer Protocol.
	
</p>
<p>A standard definition of the RDMA characteristics within the private
	data section would enable common connection establishment APIs to format
	the RDMA characteristics based on the same API information used when
	establishing an InfiniBand connection. The application would then only
	have to indicate that it was using this standard format to enable 
	common connection establishment procedures to apply common code
	to properly parse these fields and configure the RDMA endpoints
	accordingly.
	
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
MPA Connection Setup</h3>

<p>Below we provide overview of Enhanced Connection Setup.
The goal is to allow standard negotiation of ORD/IRD setting on both sides
of the RDMA connection and/or to negotiate the initial data transfer operation
by an initiator when the existing 'client sends first' rule does not match application
requirements.
</p>
<p>The RDMA connection initiator sends an MPA Request, as specified in
<a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>; the new format defined here allows for:
</p>
<p></p>
<ul class="text">
<li>Standardized negotiation of ORD and IRD.
</li>
<li>Negotiation of an RTR message.
</li>
</ul><p>

</p>
<p>The RDMA connection responder processes the MPA Request and generates
an MPA Reply, as specified in <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>; the new format
completes the negotiation.

</p>
<p>The local interface SHOULD require the ULP to explicitly configure on
a per-application or per-connection basis when an explicit RTR message will
be required. Piggy-backing the RTR on a Client's first message is a
valuable optimization for most connections.

</p>
<p>The RDMA connection initiator MUST NOT allow any later FULPDUs to be
transmitted before the RTR message.  One method to achieve that is to
delay notifying the ULP that the RDMA connection has been established
until after any required RTR Message has been transmitted.

</p>
<p>All MPA exchanges are performed via TCP prior to RDMA establishment,
 and are therefore signaled via TCP and not via RDMA completion.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Enhanced MPA Request/Reply Frames</h3>

<p>Enhanced RDMA Connection Establishment uses an alternate format
for MPA Requests and Replies, as follows:

</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 0  |                                                               |
    +         Key (16 bytes containing "MPA ID Req Frame")          +
 4  |      (4D 50 41 20 49 44 20 52 65 71 20 46 72 61 6D 65)        |
    +         Or  (16 bytes containing "MPA ID Rep Frame")          +
 8  |      (4D 50 41 20 49 44 20 52 65 70 20 46 72 61 6D 65)        |
    +                                                               +
 12 |                                                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 16 |M|C|R|S| Res   |     Rev       |          PD_Length            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                                                               |
    ~                                                               ~
    ~                   Private Data                                ~
    |                                                               |
    |                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                               |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p>
</p>
<blockquote class="text"><dl>
<dt>Key:</dt>
<dd>
Unchanged from <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.

</dd>
<dt>M:</dt>
<dd>
Unchanged from <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.

</dd>
<dt>C:</dt>
<dd>
Unchanged from <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.

</dd>
<dt>R:</dt>
<dd>
Unchanged from <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.

</dd>
<dt>S:</dt>
<dd>
One if the Private Data begins with the Enhanced RDMA Connection
Establishment Data. Zero otherwise.

</dd>
<dt>Res:</dt>
<dd>
One bit smaller than in <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>, otherwise unchanged.

</dd>
<dt>Rev:</dt>
<dd>
This field contains the revision of MPA. To use any Enhanced Connection
Establishment feature this MUST be set to two, If no Enhanced Connection
Establishment features are desired it MAY be set to one. A host accepting
MPA connections SHOULD continue to accept MPA Requests with version one
even if it supports version two.

</dd>
<dt>PD_Length:</dt>
<dd>
Unchanged from <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.
This is the total length of the Private Data field, including the Enhanced
RDMA Connection Establishment Data if present.

</dd>
<dt>Private Data:</dt>
<dd>
Unchanged from <a class='info' href='#RFC5044'>[RFC5044]<span> (</span><span class='info'>Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;Marker PDU Aligned Framing for TCP Specification,&rdquo; October&nbsp;2007.</span><span>)</span></a>.
However, if the 'S' flag is set, Private Data begins with Enhanced RDMA 
Connection Establishment Data.

</dd>
</dl></blockquote><p>

</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Enhanced SCTP Session Control Chunks</h3>

<p>The type of the SCTP Session Control Chunk is defined by a Function Code.
<a class='info' href='#RFC5043'>[RFC5043]<span> (</span><span class='info'>Bestler, C. and R. Stewart, &ldquo;Stream Control Transmission Protocol (SCTP) Direct Data Placement (DDP) Adaptation,&rdquo; October&nbsp;2007.</span><span>)</span></a> already defines codes for 'DDP Stream Session Initiate' and
'DDP Stream Session Accept', which are equivalent to a MPA
Request Frame and an accepting MPA Reply Frame.

</p>
<p>Enhanced RDMA Connection Establishment requires three additional Function
codes, as follows:
</p>
<blockquote class="text"><dl>
<dt>Enhanced DDP Stream Session Initiate:</dt>
<dd>0x05
</dd>
<dt>Enhanced DDP Stream Session Accept:</dt>
<dd>0x06
</dd>
<dt>Enhanced DDP Stream Session Reject:</dt>
<dd>0x07
</dd>
</dl></blockquote><p>

</p>
<p>The Enhanced Reject function code SHOULD be used to indicate a configuration
that would have been accepted.

</p>
<p>It should be noted that <a class='info' href='#RFC5043'>[RFC5043]<span> (</span><span class='info'>Bestler, C. and R. Stewart, &ldquo;Stream Control Transmission Protocol (SCTP) Direct Data Placement (DDP) Adaptation,&rdquo; October&nbsp;2007.</span><span>)</span></a> already supports either
side sending the first DDP Message. The Payload Protocol Identifier (PPID)
already distinguishes between Session Establishment and DDP Segments.

</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Enhanced RDMA Connection Establishment Data</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 0  |A|B|        IRD                |C|D|        ORD                |
 4  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


</pre></div>
<p>
</p>
<blockquote class="text"><dl>
<dt>IRD:</dt>
<dd>In request: the Initiator requested responder IRD
for the connection. In reply: the depth the Responder will support.
An all ones value (0x3FFF) indicates that automatic negotiation of
the IRD is not desired,
and that the ULP will be responsible for doing this configuration.

</dd>
<dt>ORD:</dt>
<dd>In request: the Initiator initial ORD setting for the connection.
In reply: the depth the Responder will support.
An all ones value (0x3FFF) indicates that automatic negotiation of the IRD is not desired,
and that the ULP will be responsible for doing this configuration.
</dd>
<dt>A:</dt>
<dd>Control Flag for using a zero length ULPDU as the
RTR message.

</dd>
<dt>B:</dt>
<dd>Control Flag for using a zero length RDMA Write as the RTR message.

</dd>
<dt>C:</dt>
<dd>Control Flag for using a zero length RDMA Read as the RTR message.

</dd>
<dt>D:</dt>
<dd>Reserved. Must be sent as zero and ignored when received.

</dd>
</dl></blockquote><p>

</p>
<p>In the MPA Request, the Initiator SHOULD set the A, B and C Control Flags respectively to TRUE
 for each of the options it supports.

</p>
<p>In the MPA Reply, the Control Flag is set for the set of options that the
passive side will accept as an RTR message. This response MUST include all
options that the responder will support without requiring a connection specific
enabling action. For example, if the responder will always unblock an MPA
connection when it receives a zero length MPA Write, it should indicate so
without regard to what was in the MPA Request. Options which require connection
specific enabling actions SHOULD NOT be set unless the corresponding flag was
set in the MPA Request. The respondent MAY choose to limit the number of
modes that it enables.

</p>
<p>If there is no Standard RDMAP Configuration Data in the MPA Reply Frame,
and the Enhanced Connection Establishment version number is used, it
is the equivalent of setting 'A', 'B' and 'C'.
</p>
<p>Setting no Control Flags in the MPA Reply indicates that an RDMA Send
message will be required. As this option will require the initiator
ULP to be involved it SHOULD NOT be used unless necessary.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Interoperability</h3>

<p>An initiator SHOULD NOT use the Enhanced DDP Connection Establishment formats
or function codes when no enhanced functionality is desired.
</p>
<p>A responder SHOULD continue to accept the unenhanced connection requests.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>This document has no IANA considerations.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Security Considerations</h3>

<p>The security considerations from RFC 5044 apply and the changes
	   in this document do not introduce new security considerations.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
Acknowledgements</h3>

<p>The authors wish to thank Sean Hefty, Dave Minturn, Tom Talpey and David Black
	  for their valuable contributions and review of this document.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5043">[RFC5043]</a></td>
<td class="author-text">Bestler, C. and R. Stewart, &ldquo;<a href="http://tools.ietf.org/html/rfc5043">Stream Control Transmission Protocol (SCTP) Direct Data Placement (DDP) Adaptation</a>,&rdquo; RFC&nbsp;5043, October&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5043.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5044">[RFC5044]</a></td>
<td class="author-text">Culley, P., Elzur, U., Recio, R., Bailey, S., and J. Carrier, &ldquo;<a href="http://tools.ietf.org/html/rfc5044">Marker PDU Aligned Framing for TCP Specification</a>,&rdquo; RFC&nbsp;5044, October&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5044.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>13.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="DAPL">[DAPL]</a></td>
<td class="author-text">&ldquo;<a href="http://www.datcollaborative.org">Direct Access Programming Library</a>&rdquo; (<a href="http://www.datcollaborative.org">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="OFA">[OFA]</a></td>
<td class="author-text">&ldquo;<a href="http://www.openfabrics.org/">OFA verbs & APIs</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="OpenMP">[OpenMP]</a></td>
<td class="author-text">McGraw-Hill, &ldquo;Parallel Programming in C with MPI and OpenMP,&rdquo; 2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="PPMPI">[PPMPI]</a></td>
<td class="author-text">Morgan Kaufmann Publishers Inc., &ldquo;Parallel Programming with MPI,&rdquo; 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RDMAC">[RDMAC]</a></td>
<td class="author-text">&ldquo;<a href="http://www.rdmaconsortium.org/home/draft-hilland-iwarp-verbs-v1.0-RDMA.pdf">RDMA Protocol Verbs Specification (Version 1.0)</a>.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="RDS">[RDS]</a></td>
<td class="author-text">Open Fabrics Association, &ldquo;<a href="http://www.openfabrics.org/archives/spring2008sonoma/Tuesday/sonoma_2008_0408%20Oracle.ppt">Reliable Datagram Socket</a>,&rdquo; 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5040">[RFC5040]</a></td>
<td class="author-text">Recio, R., Metzler, B., Culley, P., Hilland, J., and D. Garcia, &ldquo;<a href="http://tools.ietf.org/html/rfc5040">A Remote Direct Memory Access Protocol Specification</a>,&rdquo; RFC&nbsp;5040, October&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5040.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="UsingMPI">[UsingMPI]</a></td>
<td class="author-text">MIT Press, &ldquo;Using MPI-2: Advanced Features of the Message Passing Interface,&rdquo; 1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="VIA">[VIA]</a></td>
<td class="author-text">Compaq, Intel, Microsoft, &ldquo;<a href="http://pllab.cs.nthu.edu.tw/cs5403/Readings/EJB/san_10.pdf">Virtual Interface Architecture Specification</a>,&rdquo; 1997.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Arkady Kanevsky (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">VMware</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">5 Cambridge Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cambridge, MA  02142</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-617-528-7721</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:arkady@vmware.com">arkady@vmware.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Caitlin Bestler (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Consultant</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">555 E El Camino Real #104</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sunnyvale, CA  94087</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-949-528-3085</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:cait@asomi.com">cait@asomi.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Robert Sharp</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Intel</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">LAD High Performance Message Passing, Mailstop: AN1-WTR1</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1501 South Mopac, Suite 400</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Austin, TX  78746</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-512-493-3242</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:robert.o.sharp@intel.com">robert.o.sharp@intel.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Steve Wise</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Open Grid Computing</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">4030 Braker Lane STE 130</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Austin, TX  78759</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-512-343-9196 x101</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:swise@opengridcomputing.com">swise@opengridcomputing.com</a></td></tr>
</table>
</body></html>
