<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RIFT Applicability</title>
<meta content="Yuehua Wei" name="author">
<meta content="Zheng Zhang" name="author">
<meta content="Dmitry Afanasiev" name="author">
<meta content="Tom Verhaeg" name="author">
<meta content="Jaroslaw Kowalczyk" name="author">
<meta content="Pascal Thubert" name="author">
<meta content="
       
This document discusses the properties, applicability and operational considerations
    of RIFT in different
network scenarios. It intends to provide a
rough guide how RIFT can be deployed to simplify routing operations in
Clos topologies and their variations.
 
    " name="description">
<meta content="xml2rfc 3.2.1" name="generator">
<meta content="RIFT" name="keyword">
<meta content="draft-ietf-rift-applicability-03" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.2.1
    Python 3.6.10
    appdirs 1.4.4
    ConfigArgParse 1.2.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.2
    kitchen 1.2.6
    lxml 4.5.2
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.3.1
    requests 2.24.0
    setuptools 40.6.2
    six 1.15.0
-->
<link href="/tmp/draft-ietf-rift-applicability-03-hkh3qwbl.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">RIFT Applicability Statement</td>
<td class="right">October 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Wei, et al.</td>
<td class="center">Expires 16 April 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">RIFT WG</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-10-13" class="published">13 October 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-04-16">16 April 2021</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">Yuehua. Wei, <span class="editor">Ed.</span>
</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">Zheng. Zhang</div>
<div class="org">ZTE Corporation</div>
</div>
<div class="author">
      <div class="author-name">Dmitry. Afanasiev</div>
<div class="org">Yandex</div>
</div>
<div class="author">
      <div class="author-name">Tom. Verhaeg</div>
<div class="org">Juniper Networks</div>
</div>
<div class="author">
      <div class="author-name">Jaroslaw. Kowalczyk</div>
<div class="org">Orange Polska</div>
</div>
<div class="author">
      <div class="author-name">P. Thubert</div>
<div class="org">Cisco Systems</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">RIFT Applicability</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
This document discusses the properties, applicability and operational considerations
    of RIFT in different
network scenarios. It intends to provide a
rough guide how RIFT can be deployed to simplify routing operations in
Clos topologies and their variations.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 16 April 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-problem-statement-of-routin" class="xref">Problem Statement of Routing in Modern IP Fabric Fat Tree Networks</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-applicability-of-rift-to-cl" class="xref">Applicability of RIFT to Clos IP Fabrics</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-overview-of-rift" class="xref">Overview of RIFT</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-applicable-topologies" class="xref">Applicable Topologies</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="xref">3.2.1</a>.  <a href="#name-horizontal-links" class="xref">Horizontal Links</a><a href="#section-toc.1-1.3.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="xref">3.2.2</a>.  <a href="#name-vertical-shortcuts" class="xref">Vertical Shortcuts</a><a href="#section-toc.1-1.3.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.2.2.3">
                    <p id="section-toc.1-1.3.2.2.2.3.1"><a href="#section-3.2.3" class="xref">3.2.3</a>.  <a href="#name-generalizing-to-any-directe" class="xref">Generalizing to any Directed Acyclic Graph</a><a href="#section-toc.1-1.3.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-use-cases" class="xref">Use Cases</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="xref">3.3.1</a>.  <a href="#name-dc-fabrics" class="xref">DC Fabrics</a><a href="#section-toc.1-1.3.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a href="#section-3.3.2" class="xref">3.3.2</a>.  <a href="#name-metro-fabrics" class="xref">Metro Fabrics</a><a href="#section-toc.1-1.3.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3.2.3">
                    <p id="section-toc.1-1.3.2.3.2.3.1"><a href="#section-3.3.3" class="xref">3.3.3</a>.  <a href="#name-building-cabling" class="xref">Building Cabling</a><a href="#section-toc.1-1.3.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3.2.4">
                    <p id="section-toc.1-1.3.2.3.2.4.1"><a href="#section-3.3.4" class="xref">3.3.4</a>.  <a href="#name-internal-router-switching-f" class="xref">Internal Router Switching Fabrics</a><a href="#section-toc.1-1.3.2.3.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.3.2.3.2.5">
                    <p id="section-toc.1-1.3.2.3.2.5.1"><a href="#section-3.3.5" class="xref">3.3.5</a>.  <a href="#name-cloudco" class="xref">CloudCO</a><a href="#section-toc.1-1.3.2.3.2.5.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-deployment-considerations" class="xref">Deployment Considerations</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-south-reflection" class="xref">South Reflection</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-suboptimal-routing-on-link-" class="xref">Suboptimal Routing on Link Failures</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-black-holing-on-link-failur" class="xref">Black-Holing on Link Failures</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-zero-touch-provisioning-ztp" class="xref">Zero Touch Provisioning (ZTP)</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-miscabling-examples" class="xref">Miscabling Examples</a><a href="#section-toc.1-1.4.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="xref">4.6</a>.  <a href="#name-positive-vs-negative-disagg" class="xref">Positive vs. Negative Disaggregation</a><a href="#section-toc.1-1.4.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.7">
                <p id="section-toc.1-1.4.2.7.1"><a href="#section-4.7" class="xref">4.7</a>.  <a href="#name-mobile-edge-and-anycast" class="xref">Mobile Edge and Anycast</a><a href="#section-toc.1-1.4.2.7.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.8">
                <p id="section-toc.1-1.4.2.8.1"><a href="#section-4.8" class="xref">4.8</a>.  <a href="#name-ipv4-over-ipv6" class="xref">IPv4 over IPv6</a><a href="#section-toc.1-1.4.2.8.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.9">
                <p id="section-toc.1-1.4.2.9.1"><a href="#section-4.9" class="xref">4.9</a>.  <a href="#name-in-band-reachability-of-nod" class="xref">In-Band Reachability of Nodes</a><a href="#section-toc.1-1.4.2.9.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.10">
                <p id="section-toc.1-1.4.2.10.1"><a href="#section-4.10" class="xref">4.10</a>. <a href="#name-dual-homing-servers" class="xref">Dual Homing Servers</a><a href="#section-toc.1-1.4.2.10.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.11">
                <p id="section-toc.1-1.4.2.11.1"><a href="#section-4.11" class="xref">4.11</a>. <a href="#name-fabric-with-a-controller" class="xref">Fabric With A Controller</a><a href="#section-toc.1-1.4.2.11.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.11.2.1">
                    <p id="section-toc.1-1.4.2.11.2.1.1"><a href="#section-4.11.1" class="xref">4.11.1</a>.  <a href="#name-controller-attached-to-tofs" class="xref">Controller Attached to ToFs</a><a href="#section-toc.1-1.4.2.11.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.11.2.2">
                    <p id="section-toc.1-1.4.2.11.2.2.1"><a href="#section-4.11.2" class="xref">4.11.2</a>.  <a href="#name-controller-attached-to-leaf" class="xref">Controller Attached to Leaf</a><a href="#section-toc.1-1.4.2.11.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.12">
                <p id="section-toc.1-1.4.2.12.1"><a href="#section-4.12" class="xref">4.12</a>. <a href="#name-internet-connectivity-with-" class="xref">Internet Connectivity With Underlay</a><a href="#section-toc.1-1.4.2.12.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty toc compact">
<li class="ulEmpty toc compact" id="section-toc.1-1.4.2.12.2.1">
                    <p id="section-toc.1-1.4.2.12.2.1.1"><a href="#section-4.12.1" class="xref">4.12.1</a>.  <a href="#name-internet-default-on-the-lea" class="xref">Internet Default on the Leaf</a><a href="#section-toc.1-1.4.2.12.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.12.2.2">
                    <p id="section-toc.1-1.4.2.12.2.2.1"><a href="#section-4.12.2" class="xref">4.12.2</a>.  <a href="#name-internet-default-on-the-tof" class="xref">Internet Default on the ToFs</a><a href="#section-toc.1-1.4.2.12.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.13">
                <p id="section-toc.1-1.4.2.13.1"><a href="#section-4.13" class="xref">4.13</a>. <a href="#name-subnet-mismatch-and-address" class="xref">Subnet Mismatch and Address Families</a><a href="#section-toc.1-1.4.2.13.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty toc compact" id="section-toc.1-1.4.2.14">
                <p id="section-toc.1-1.4.2.14.1"><a href="#section-4.14" class="xref">4.14</a>. <a href="#name-anycast-considerations" class="xref">Anycast Considerations</a><a href="#section-toc.1-1.4.2.14.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-contributors" class="xref">Contributors</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty toc compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document intends to explain the properties and applicability of
<span><a href="#I-D.ietf-rift-rift" class="xref">"Routing in Fat Trees"</a> [<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span> in different
deployment scenarios and highlight the operational simplicity of the technology compared
to traditional routing solutions. It also documents special considerations when RIFT is
    used with or without overlays, controllers and corrects topology miscablings and/or node and
    link failures.<a href="#section-1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-problem-statement-of-routin">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-problem-statement-of-routin" class="section-name selfRef">Problem Statement of Routing in Modern IP Fabric Fat Tree Networks</a>
      </h2>
<p id="section-2-1">Clos and Fat-Tree topologies have gained prominence in today's networking, primarily
as result of the paradigm shift towards a centralized data-center based architecture that
is poised to deliver a majority of computation and storage services in the future.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Today's current routing protocols were geared towards a network with an irregular
topology and low degree of connectivity originally. When they are applied to Fat-Tree
topologies:<a href="#section-2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-3.1">they tend to need extensive configuration or provisioning during bring up
            and re-dimensioning.<a href="#section-2-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.2">spine and leaf nodes have the entire network topology and
            routing information, which is in fact, not needed on the leaf nodes during normal
                operation.<a href="#section-2-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-3.3">significant Link State PDUs (LSPs) flooding duplication between
            spine nodes and leaf nodes occurs during network bring up and topology updates. It
            consumes both spine and leaf nodes' CPU and link bandwidth resources and with that
                limits protocol scalability.<a href="#section-2-3.3" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<section id="section-3">
      <h2 id="name-applicability-of-rift-to-cl">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-applicability-of-rift-to-cl" class="section-name selfRef">Applicability of RIFT to Clos IP Fabrics</a>
      </h2>
<p id="section-3-1">
Further content of this document assumes that the reader is
familiar with the
terms and concepts used in <span><a href="#RFC2328" class="xref">OSPF</a> [<a href="#RFC2328" class="xref">RFC2328</a>]</span>
and <span><a href="#ISO10589-Second-Edition" class="xref">IS-IS</a> [<a href="#ISO10589-Second-Edition" class="xref">ISO10589-Second-Edition</a>]</span> link-state protocols and
at least the sections of <span>[<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span> outlining
the requirement of routing in IP fabrics and RIFT protocol concepts.<a href="#section-3-1" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-overview-of-rift">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-overview-of-rift" class="section-name selfRef">Overview of RIFT</a>
        </h3>
<p id="section-3.1-1">RIFT is a dynamic routing protocol for Clos and fat-tree network topologies.
It defines a link-state protocol when "pointing north" and path-vector protocol
when "pointing south".<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">It floods flat link-state information northbound only so that each level
obtains the full topology of levels south of it. That information is never flooded
east-west or back South again. So a top tier node has full set of prefixes from
the SPF calculation.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">In the southbound direction the protocol operates like a "fully summarizing,
unidirectional" path vector protocol or rather a distance vector with implicit split
horizon whereas the information propagates one hop south and is 're-advertised' by
nodes at next lower level, normally just the default route.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<span id="name-rift-overview"></span><div id="pic-rift">
<figure id="figure-1">
          <div class="artwork art-text alignCenter" id="section-3.1-4.1">
<pre>
          +-----------+          +-----------+
          |    ToF    |          |    ToF    |         LEVEL 2
+         +-----+--+--+          +-+--+------+
|         |     |  |  |          | |  |      |      ^
+         |     |  |  +-------------------------+   |
Distance  |  +-------------------+ |  |      |  |   |
Vector    |  |  |  |               |  |      |  |   +
South     |  |  |  |      +--------+  |      |  |   Link-state
+         |  |  |  |      |           |      |  |   Flooding
|         |  |  +-------------+       |      |  |   North
v         |  |     |      |   |       |      |  |   +
        +-+--+-+   +------+   +-------+   +--+--+-+ |
        |SPINE |   |SPINE |   | SPINE |   | SPINE | |  LEVEL 1
+       ++----++   ++---+-+   +--+--+-+   ++----+-+ |
+        |    |     |   |        |  |      |    |   |     ^ N
Distance |    +-------+ |        |  +--------+  |   |     |   E
Vector   |          | | |        |         | |  |   |  +------&gt;
South    |  +-------+ | |        | +-------+ |  |   |     |
+        |  |         | |        | |         |  |   |     +
v       ++--++      +-+-++      ++-+-+     +-+--++  +
        |LEAF|      |LEAF|      |LEAF|     |LEAF |     LEVEL 0
        +----+      +----+      +----+     +-----+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-rift-overview" class="selfRef">Rift overview</a>
          </figcaption></figure>
</div>
<p id="section-3.1-5">A middle tier node has only information necessary for its level, which are all
destinations south of the node based on SPF calculation, default route and
potential disaggregated routes.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">RIFT combines the advantage of both link-state and distance vector:<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-7.1">Fastest Possible Convergence<a href="#section-3.1-7.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-7.2">Automatic Detection of Topology<a href="#section-3.1-7.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-7.3">Minimal Routes/Info on TORs<a href="#section-3.1-7.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-7.4">High Degree of ECMP<a href="#section-3.1-7.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-7.5">Fast De-commissioning of Nodes<a href="#section-3.1-7.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-7.6">Maximum Propagation Speed with Flexible Prefixes in an Update<a href="#section-3.1-7.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-8">And RIFT eliminates the disadvantages of link-state or distance vector:<a href="#section-3.1-8" class="pilcrow">¶</a></p>
<p id="section-3.1-9"></p>
<ul class="normal">
<li class="normal" id="section-3.1-10.1">Reduced and Balanced Flooding<a href="#section-3.1-10.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-10.2">Automatic Neighbor Detection<a href="#section-3.1-10.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-11"></p>
<p id="section-3.1-12">So there are two types of link-state database which are "north representation"
N-TIEs and "south representation" S-TIEs. The N-TIEs contain a link-state topology
description of lower levels and S-TIEs carry simply default routes for the lower
levels.<a href="#section-3.1-12" class="pilcrow">¶</a></p>
<p id="section-3.1-13">There are a bunch of more advantages unique to RIFT listed below which could be
understood if you read the details of <span>[<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span>.<a href="#section-3.1-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-14.1">True ZTP<a href="#section-3.1-14.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.2">Minimal Blast Radius on Failures<a href="#section-3.1-14.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.3">Can Utilize All Paths Through Fabric Without Looping<a href="#section-3.1-14.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.4">Automatic Disaggregation on Failures<a href="#section-3.1-14.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.5">Simple Leaf Implementation that Can Scale Down to Servers<a href="#section-3.1-14.5" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.6">Key-Value Store<a href="#section-3.1-14.6" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.7">Horizontal Links Used for Protection Only<a href="#section-3.1-14.7" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.8">Supports Non-Equal Cost Multipath and Can Replace MC-LAG<a href="#section-3.1-14.8" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-14.9">Optimal Flooding Reduction and Load-Balancing<a href="#section-3.1-14.9" class="pilcrow">¶</a>
</li>
        </ul>
</section>
<section id="section-3.2">
        <h3 id="name-applicable-topologies">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-applicable-topologies" class="section-name selfRef">Applicable Topologies</a>
        </h3>
<p id="section-3.2-1">
Albeit RIFT is specified primarily for "proper" Clos or "fat-tree" structures,
it already supports PoD concepts which are strictly speaking not found in
original Clos concepts.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">Further, the specification explains and supports operations of multi-plane
Clos variants where the protocol relies on set of rings to allow the
reconciliation of topology view of different planes as most desirable solution
making proper disaggregation viable in case of failures.
These observations hold not only in case of RIFT but in the generic
case of dynamic routing on Clos variants with multiple planes and failures
in bi-sectional bandwidth, especially on the leafs.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<section id="section-3.2.1">
          <h4 id="name-horizontal-links">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-horizontal-links" class="section-name selfRef">Horizontal Links</a>
          </h4>
<p id="section-3.2.1-1">
RIFT is not limited to pure Clos divided into PoD and multi-planes but
supports horizontal links below the top of fabric level. Those links
are used however only as routes of last resort northbound when a spine loses all
northbound links or cannot compute a default route through them.<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
<p id="section-3.2.1-2">A possible configuration is a "ring" of horizontal links
                at a level. In presence of such a "ring" in any level (except ToF level)
            neither N-SPF nor S-SPF will provide a "ring-based protection"
            scheme since such a computation would have to deal necessarily
            with breaking of "loops" in Dijkstra sense;
            an application for which
            RIFT is not intended.<a href="#section-3.2.1-2" class="pilcrow">¶</a></p>
<p id="section-3.2.1-3"> A full-mesh connectivity between nodes
            on the same level can be employed
            and that allows N-SPF to provide for
            any node loosing
            all its northbound adjacencies (as long as any of the other
            nodes in the level
            are northbound connected) to still participate in northbound forwarding.<a href="#section-3.2.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2.2">
          <h4 id="name-vertical-shortcuts">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-vertical-shortcuts" class="section-name selfRef">Vertical Shortcuts</a>
          </h4>
<p id="section-3.2.2-1">
Through relaxations of the specified adjacency forming rules
RIFT implementations can be extended to support vertical "shortcuts" as
proposed by e.g. <span>[<a href="#I-D.white-distoptflood" class="xref">I-D.white-distoptflood</a>]</span>. The RIFT specification
itself does not provide the exact details since the resulting solution suffers from
either much larger blast radius with increased flooding volumes or
in case of maximum aggregation routing bow-tie problems.<a href="#section-3.2.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2.3">
          <h4 id="name-generalizing-to-any-directe">
<a href="#section-3.2.3" class="section-number selfRef">3.2.3. </a><a href="#name-generalizing-to-any-directe" class="section-name selfRef">Generalizing to any Directed Acyclic Graph</a>
          </h4>
<p id="section-3.2.3-1">
RIFT is an anisotropic routing protocol, meaning that it has a sense of direction (northbound, southbound, east-west) and that it operates differently depending on the direction.<a href="#section-3.2.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2.3-2.1">
Northbound, RIFT operates as a link-state IGP, whereby the control packets are reflooded first all the way North and only interpreted later. All the individual fine grained routes are advertised.<a href="#section-3.2.3-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.2.3-2.2">
              <p id="section-3.2.3-2.2.1">
  Southbound, RIFT operates as a distance vector IGP, whereby the control packets are flooded only one hop, interpreted, and the consequence of that computation is what gets flooded on more hop South. In the most common use-cases, a ToF node can reach most of the prefixes in the fabric. If that is the case, the ToF node advertises the fabric default and disaggregates the prefixes that it cannot reach. On the other hand, a ToF Node that can reach only a small subset of the prefixes in the fabric will preferably advertise those prefixes and refrain from aggregating.<a href="#section-3.2.3-2.2.1" class="pilcrow">¶</a></p>
<p id="section-3.2.3-2.2.2">
  In the general case, what gets advertised South is in more details:<a href="#section-3.2.3-2.2.2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.2.3-2.2.3">
  <li id="section-3.2.3-2.2.3.1">A fabric default that aggregates all the prefixes that are reachable within the fabric, and that could be a default route or a prefix that is dedicated to this particular fabric.<a href="#section-3.2.3-2.2.3.1" class="pilcrow">¶</a>
</li>
                <li id="section-3.2.3-2.2.3.2">The loopback addresses of the northbound nodes, e.g., for inband management.<a href="#section-3.2.3-2.2.3.2" class="pilcrow">¶</a>
</li>
                <li id="section-3.2.3-2.2.3.3">The disaggregated prefixes for the dynamic exceptions to the fabric Default, advertised to route around the black hole that may form<a href="#section-3.2.3-2.2.3.3" class="pilcrow">¶</a>
</li>
              </ol>
</li>
            <li class="normal" id="section-3.2.3-2.3">east-west routing can optionally be used, with specific restrictions. It is useful in particular when a sibling has access to the fabric default but this node does not.<a href="#section-3.2.3-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-3.2.3-3">
  A Directed Acyclic Graph (DAG) provides a sense of North (the direction of the DAG) and of South (the reverse), which can be used to apply RIFT. For the purpose of RIFT, an edge in the DAG that has only incoming vertices is a ToF node.<a href="#section-3.2.3-3" class="pilcrow">¶</a></p>
<p id="section-3.2.3-4">
  There are a number of caveats though:<a href="#section-3.2.3-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.2.3-5.1">The DAG structure must exist before RIFT starts, so there is a need for a companion protocol to establish the logical DAG structure.<a href="#section-3.2.3-5.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.2.3-5.2">A generic DAG does not have a sense of east and west. The operation specified for east-west links and the southbound reflection between nodes are not applicable.<a href="#section-3.2.3-5.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.2.3-5.3">
  In order to aggregate and disaggregate routes, RIFT requires that all the ToF nodes share the full knowledge of the prefixes in the fabric. This can be achieved with a ring as suggested by the RIFT main specification, by some preconfiguration, or using a synchronization with a common repository where all the active prefixes are registered.<a href="#section-3.2.3-5.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</section>
<section id="section-3.3">
        <h3 id="name-use-cases">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-use-cases" class="section-name selfRef">Use Cases</a>
        </h3>
<section id="section-3.3.1">
          <h4 id="name-dc-fabrics">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-dc-fabrics" class="section-name selfRef">DC Fabrics</a>
          </h4>
<p id="section-3.3.1-1">
RIFT is largely driven by demands and hence ideally suited for application
in underlay of
data center IP fabrics, vast majority of which seem to be currently (and
for
the foreseeable future)
Clos architectures. It significantly simplifies operation and deployment
of such fabrics as described in <a href="#opex" class="xref">Section 4</a> for environments compared
to
extensive proprietary provisioning and operational solutions.<a href="#section-3.3.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3.2">
          <h4 id="name-metro-fabrics">
<a href="#section-3.3.2" class="section-number selfRef">3.3.2. </a><a href="#name-metro-fabrics" class="section-name selfRef">Metro Fabrics</a>
          </h4>
<p id="section-3.3.2-1">
The demand for bandwidth is increasing steadily, driven primarily by
environments close to
content producers (server farms connection via DC fabrics) but in
proximity to content consumers as well.
Consumers are often clustered in metro areas with their own network
architectures that can benefit
from simplified, regular Clos structures and hence
RIFT.<a href="#section-3.3.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3.3">
          <h4 id="name-building-cabling">
<a href="#section-3.3.3" class="section-number selfRef">3.3.3. </a><a href="#name-building-cabling" class="section-name selfRef">Building Cabling</a>
          </h4>
<p id="section-3.3.3-1">
Commercial edifices are often cabled in topologies that are
either Clos or its isomorphic equivalents. With many floors the
Clos can grow rather high and with that present a challenge
for traditional routing protocols (except BGP and by now largely
phased-out PNNI) which do not support
an arbitrary number of levels which RIFT does naturally. Moreover,
due to limited sizes of forwarding tables in active elements
of building cabling the minimum FIB size RIFT maintains under
normal conditions can prove particularly cost-effective in terms of
hardware and operational costs.<a href="#section-3.3.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3.4">
          <h4 id="name-internal-router-switching-f">
<a href="#section-3.3.4" class="section-number selfRef">3.3.4. </a><a href="#name-internal-router-switching-f" class="section-name selfRef">Internal Router Switching Fabrics</a>
          </h4>
<p id="section-3.3.4-1">
It is common in high-speed communications switching and routing
devices to use fabrics when a crossbar is not feasible due to cost,
head-of-line blocking
or size trade-offs. Normally such fabrics are not self-healing or rely
on 1:/+1 protection schemes but it is conceivable to use RIFT to
operate Clos fabrics that can deal effectively with interconnections
or subsystem failures in such module. RIFT is neither IP specific and
hence any link addressing connecting internal device subnets is
conceivable.<a href="#section-3.3.4-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3.5">
          <h4 id="name-cloudco">
<a href="#section-3.3.5" class="section-number selfRef">3.3.5. </a><a href="#name-cloudco" class="section-name selfRef">CloudCO</a>
          </h4>
<p id="section-3.3.5-1">
The Cloud Central Office (CloudCO) is a new stage of telecom Central Office. It takes the advantage of Software Defined Networking (SDN) and Network Function Virtualization (NFV) in conjunction with general purpose hardware to optimize current networks.
The following figure illustrates this architecture at a high level. It describes a single instance or macro-node of cloud CO. An Access I/O module faces a Cloud CO Access Node, and the CPEs behind it. A Network I/O module is facing the core network. The two I/O modules are interconnected by a leaf and spine fabric. <span>[<a href="#TR-384" class="xref">TR-384</a>]</span><a href="#section-3.3.5-1" class="pilcrow">¶</a></p>
<span id="name-an-example-of-cloudco-archi"></span><div id="pic-CloudCO">
<figure id="figure-2">
            <div class="artwork art-text alignCenter" id="section-3.3.5-2.1">
<pre>
+---------------------+           +----------------------+
|         Spine       |           |     Spine            |
|         Switch      |           |     Switch           |
+------+---+------+-+-+           +--+-+-+-+-----+-------+
|      |   |      | | |              | | | |     |       |
|      |   |      | | +-------------------------------+  |
|      |   |      | |                | | | |     |    |  |
|      |   |      | +-------------------------+  |    |  |
|      |   |      |                  | | | |  |  |    |  |
|      |   +----------------------+  | | | |  |  |    |  |
|      |          |               |  | | | |  |  |    |  |
|  +---------------------------------+ | | |  |  |    |  |
|  |   |          |               |    | | |  |  |    |  |
|  |   |   +-----------------------------+ |  |  |    |  |
|  |   |   |      |               |    |   |  |  |    |  |
|  |   |   |      |   +--------------------+  |  |    |  |
|  |   |   |      |   |           |    |      |  |    |  |
+--+ +-+---+--+ +-+---+--+     +--+----+--+ +-+--+--+ +--+
|L | | Leaf   | | Leaf   |     |  Leaf    | | Leaf  | |L |
|S | | Switch | | Switch |     |  Switch  | | Switch| |S |
++-+ +-+-+-+--+ +-+-+-+--+     +--+-+--+--+ ++-+--+-+ +-++
 |     | | |      | | |           | |  |     | |  |     |
 |   +-+-+-+--+ +-+-+-+--+     +--+-+--+--+ ++-+--+-+   |
 |   |Compute | |Compute |     | Compute  | |Compute|   |
 |   |Node    | |Node    |     | Node     | |Node   |   |
 |   +--------+ +--------+     +----------+ +-------+   |
 |   || VAS5 || || vDHCP||     || vRouter|| ||VAS1 ||   |
 |   |--------| |--------|     |----------| |-------|   |
 |   |--------| |--------|     |----------| |-------|   |
 |   || VAS6 || || VAS3 ||     || v802.1x|| ||VAS2 ||   |
 |   |--------| |--------|     |----------| |-------|   |
 |   |--------| |--------|     |----------| |-------|   |
 |   || VAS7 || || VAS4 ||     ||  vIGMP || ||BAA  ||   |
 |   |--------| |--------|     |----------| |-------|   |
 |   +--------+ +--------+     +----------+ +-------+   |
 |                                                      |
++-----------+                                +---------++
|Network I/O |                                |Access I/O|
+------------+                                +----------+

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-an-example-of-cloudco-archi" class="selfRef">An example of CloudCO architecture</a>
            </figcaption></figure>
</div>
<p id="section-3.3.5-3">
The Spine-Leaf architecture deployed inside CloudCO meets the network requirements of adaptable, agile, scalable and dynamic.<a href="#section-3.3.5-3" class="pilcrow">¶</a></p>
</section>
</section>
</section>
<div id="opex">
<section id="section-4">
      <h2 id="name-deployment-considerations">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-deployment-considerations" class="section-name selfRef">Deployment Considerations</a>
      </h2>
<p id="section-4-1">
RIFT presents the opportunity for organizations building and operating
IP fabrics to simplify their operation and deployments while achieving
many desirable
properties of a dynamic routing on such a substrate:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4-2.1">
RIFT design follows minimum blast radius and minimum necessary
epistemological scope philosophy which leads to very good scaling
properties while delivering maximum reactiveness.<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.2">
RIFT allows for extensive Zero Touch Provisioning within the protocol.
In its most extreme version RIFT does not rely on any specific addressing
and for IP fabric can operate using <span><a href="#RFC4861" class="xref">IPv6 ND</a> [<a href="#RFC4861" class="xref">RFC4861</a>]</span> only.<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.3">
RIFT has provisions to detect common IP fabric mis-cabling scenarios.<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.4">
RIFT negotiates automatically BFD per link allowing this way for IP and <span><a href="#RFC7130" class="xref">micro-BFD</a> [<a href="#RFC7130" class="xref">RFC7130</a>]</span> to replace LAGs which do hide bandwidth
imbalances in case of constituent failures. Further automatic link validation
techniques similar to <span>[<a href="#RFC5357" class="xref">RFC5357</a>]</span> could be supported as well.<a href="#section-4-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.5">
RIFT inherently solves many difficult problems associated with the use of
traditional routing topologies with dense meshes and high degrees of ECMP by
including automatic bandwidth balancing, flood reduction and automatic
disaggregation on failures while providing maximum aggregation of prefixes
in default scenarios.<a href="#section-4-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.6">
RIFT reduces FIB size towards the bottom of the IP fabric where most nodes
reside and allows with that for cheaper hardware on the edges and introduction
of modern IP fabric architectures that encompass e.g. server multi-homing.<a href="#section-4-2.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.7"> RIFT provides valley-free
routing and with that is loop free. This allows the use of any such valley-free
path
in bi-sectional fabric bandwidth between two destination irrespective of their
metrics which can be used to balance load on the fabric in different ways.<a href="#section-4-2.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.8">
RIFT includes a key-value distribution mechanism
which allows for many future applications
such as automatic provisioning of basic overlay services or automatic key
roll-overs over whole fabrics.<a href="#section-4-2.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.9">
RIFT is designed for minimum delay in case of prefix mobility on the fabric.<a href="#section-4-2.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-4-2.10">
Many further operational and design points collected over many years of
routing protocol deployments have been incorporated in RIFT such as
fast flooding rates, protection of information lifetimes and operationally
easily recognizable remote ends of links and node names.<a href="#section-4-2.10" class="pilcrow">¶</a>
</li>
      </ul>
<section id="section-4.1">
        <h3 id="name-south-reflection">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-south-reflection" class="section-name selfRef">South Reflection</a>
        </h3>
<p id="section-4.1-1">South reflection is a mechanism that South Node TIEs are "reflected"
    back up north to allow nodes in same level without E-W links to "see"
    each other.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">For example, Spine111\Spine112\Spine121\Spine122 reflects Node S-TIEs
    from ToF21 to ToF22 separately. Respectively, Spine111\Spine112\Spine121\Spine122 reflects Node
    S-TIEs from ToF22 to ToF21 separately.  So ToF22 and ToF21 see each other's
        node information as level 2 nodes.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">In an equivalent fashion, as the result of the south reflection between Spine121-Leaf121-Spine122
    and Spine121-Leaf122-Spine122, Spine121 and Spine 122 knows each other at
    level 1.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-suboptimal-routing-on-link-">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-suboptimal-routing-on-link-" class="section-name selfRef">Suboptimal Routing on Link Failures</a>
        </h3>
<span id="name-suboptimal-routing-upon-lin"></span><div id="pic-suboptimal">
<figure id="figure-3">
          <div class="artwork art-text alignCenter" id="section-4.2-1.1">
<pre>
               +--------+          +--------+
               | ToF21  |          |  ToF22 |                LEVEL 2
               ++--+-+-++          ++-+--+-++
                |  | | |            | |  | +
                |  | | |            | |  | linkTS8
  +-------------+  | +-+linkTS3+-+  | |  | +--------------+
  |                |   |         |  | |  +                |
  |    +----------------------------+ |  linkTS7          |
  |    |           |   |         +    +  +                |
  |    |           |   +-------+linkTS4+------------+     |
  |    |           |             +    +  |          |     |
  |    |           |     +------------+--+          |     |
  |    |           |     |       |  linkTS6         |     |
+-+----++         ++-----++     ++------+          ++-----++
|Spin111|         |Spin112|     |Spin121|          |Spin122| LEVEL 1
+-+---+-+         ++----+-+     +-+---+-+          ++---+--+
  |   |            |    |         |   |             |   |
  |   +--------------+  |         +   ++XX+linkSL6+---+ +
  |                | |  |      linkSL5              | | linkSL8
  |   +------------+ |  |         +   +---+linkSL7+-+ | +
  |   |              |  |         |   |               | |
+-+---+-+         +--+--+-+     +-+---+-+          +--+-+--+
|Leaf111|         |Leaf112|     |Leaf121|          |Leaf122| LEVEL 0
+-+-----+         ++------+     +-----+-+          +-+-----+
  +                +                  +              +
Prefix111         Prefix112     Prefix121          Prefix122
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-suboptimal-routing-upon-lin" class="selfRef">Suboptimal routing upon link failure use case</a>
          </figcaption></figure>
</div>
<p id="section-4.2-2">As shown in <a href="#pic-suboptimal" class="xref">Figure 3</a>, as the result of the south reflection between
    Spine121-Leaf121-Spine122 and Spine121-Leaf122-Spine122, Spine121 and Spine
    122 knows each other at level 1.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">Without disaggregation mechanism, when linkSL6 fails, the packet from
    leaf121 to prefix122 will probably go up through linkSL5 to linkTS3 then go
    down through linkTS4 to linkSL8 to Leaf122 or go up through linkSL5 to linkTS6
    then go down through linkTS4 and linkSL8 to Leaf122 based on pure default route.
    It's the case of suboptimal routing or bow-tieing.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">With disaggregation mechanism, when linkSL6 fails, Spine122 will detect the
    failure according to the reflected node S-TIE from Spine121. Based on the
    disaggregation algorithm provided by RIFT, Spine122 will explicitly advertise
    prefix122 in Disaggregated Prefix S-TIE PrefixesElement(prefix122, cost 1). The packet
    from leaf121 to prefix122 will only be sent to linkSL7 following a longest-prefix
    match to prefix 122 directly then go down through linkSL8 to Leaf122 .<a href="#section-4.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-black-holing-on-link-failur">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-black-holing-on-link-failur" class="section-name selfRef">Black-Holing on Link Failures</a>
        </h3>
<span id="name-black-holing-upon-link-fail"></span><div id="pic-blackhole">
<figure id="figure-4">
          <div class="artwork art-text alignCenter" id="section-4.3-1.1">
<pre>
                +--------+          +--------+
                | ToF 21 |          | ToF 22 |                LEVEL 2
                ++-+--+-++          ++-+--+-++
                 | |  | |            | |  | |
                 | |  | |            | |  | linkTS8
  +--------------+ |  +--linkTS3-X+  | |  | +--------------+
  linkTS1          |    |         |  | |  |                |
  |    +-----------------------------+ |  linkTS7          |
  |    |           |    |         |    |  |                |
  |    |      linkTS2   +--------linkTS4-X-----------+     |
  |    |           |              |    |  |          |     |
  |   linkTS5      +-+    +---------------+          |     |
  |    |             |    |       |  linkTS6         |     |
+-+----++          +-+-----+     ++----+-+          ++-----++
|Spin111|          |Spin112|     |Spin121|          |Spin122| LEVEL 1
+-+---+-+          ++----+-+     +-+---+-+          ++---+--+
  |   |             |    |         |   |             |   |
  |   +---------------+  |         |   +----linkSL6----+ |
  linkSL1           | |  |      linkSL5              | | linkSL8
  |   +---linkSL3---+ |  |         |   +----linkSL7--+ | |
  |   |               |  |         |   |               | |
+-+---+-+          +--+--+-+     +-+---+-+          +--+-+--+
|Leaf111|          |Leaf112|     |Leaf121|          |Leaf122| LEVEL 0
+-+-----+          ++------+     +-----+-+          +-+-----+
  +                 +                  +              +
Prefix111          Prefix112     Prefix121          Prefix122
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-black-holing-upon-link-fail" class="selfRef">Black-holing upon link failure use case</a>
          </figcaption></figure>
</div>
<p id="section-4.3-2">This scenario illustrates a case when double link failure occurs and with that
    black-holing can happen.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Without disaggregation mechanism, when linkTS3 and linkTS4 both fail,
    the packet from leaf111 to prefix122 would suffer 50% black-holing based
    on pure default route.  The packet supposed to go up through linkSL1 to
    linkTS1 then go down through linkTS3 or linkTS4 will be dropped.  The
    packet supposed to go up through linkSL3 to linkTS2 then go down through
    linkTS3 or linkTS4 will be dropped as well. It's the case of black-holing.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">With disaggregation mechanism, when linkTS3 and linkTS4 both fail, ToF22 will
    detect the failure according to the reflected node S-TIE of ToF21 from
    Spine111\Spine112. Based on the disaggregation algorithm
    provided by RITF, ToF22 will explicitly originate an S-TIE with prefix 121 and
    prefix 122,  that is flooded to spines 111, 112, 121 and 122.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<p id="section-4.3-5">The packet from leaf111 to prefix122 will not be routed to linkTS1 or
    linkTS2. The packet from leaf111 to prefix122 will only be routed to linkTS5
    or linkTS7 following a longest-prefix match to prefix122.<a href="#section-4.3-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4">
        <h3 id="name-zero-touch-provisioning-ztp">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-zero-touch-provisioning-ztp" class="section-name selfRef">Zero Touch Provisioning (ZTP)</a>
        </h3>
<p id="section-4.4-1">Each RIFT node may operate in zero touch provisioning (ZTP) mode. It has no
configuration (unless it is a Top-of-Fabric at the top of the topology or it is
    desired to confine it to leaf role w/o leaf-2-leaf procedures). In such case RIFT will
fully configure the node's level after it is attached to the topology.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">The most import component for ZTP is the automatic level derivation procedure.
All the Top-of-Fabric nodes are explicitly marked with TOP_OF_FABRIC flag which are
initial 'seeds' needed for other ZTP nodes to derive their level in the topology.
The derivation of the level of each node happens then based on LIEs received from its
neighbors whereas each node (with possibly exceptions of configured leafs) tries to
attach at the highest possible point in the fabric. This guarantees that even if the diffusion front reaches a
    node from "below" faster
than from "above", it will greedily abandon already negotiated level derived from nodes
topologically below it and properly peer with nodes above.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.5">
        <h3 id="name-miscabling-examples">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-miscabling-examples" class="section-name selfRef">Miscabling Examples</a>
        </h3>
<span id="name-a-single-plane-miscabling-e"></span><div id="single-plane-miscabling">
<figure id="figure-5">
          <div class="artwork art-text alignCenter" id="section-4.5-1.1">
<pre>
  +----------------+              +-----------------+
  |     ToF21      |       +------+      ToF22      |   LEVEL 2
  +-------+----+---+       |      +----+---+--------+
  |       |    |   |       |      |    |   |        |
  |       |    |   +----------------------------+   |
  |   +---------------------------+    |   |    |   |
  |   |   |    |           |           |   |    |   |
  |   |   |    |   +-----------------------+    |   |
  |   |   +------------------------+   |        |   |
  |   |        |   |       |       |   |        |   |
+-+---+-+    +-+---+-+     |     +-+---+-+    +-+---+-+
|Spin111|    |Spin112|     |     |Spin121|    |Spin122| LEVEL 1
+-+---+-+    ++----+-+     |     +-+---+-+    ++----+-+
  |   |       |    |       |       |   |       |    |
  |   +---------+  |     link-M    |   +---------+  |
  |           | |  |       |       |           | |  |
  |   +-------+ |  |       |       |   +-------+ |  |
  |   |         |  |       |       |   |         |  |
+-+---+-+    +--+--+-+     |     +-+---+-+    +--+--+-+
|Leaf111|    |Leaf112+-----+     |Leaf121|    |Leaf122| LEVEL 0
+-------+    +-------+           +-------+    +-------+
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-a-single-plane-miscabling-e" class="selfRef">A single plane miscabling example</a>
          </figcaption></figure>
</div>
<p id="section-4.5-2"><a href="#single-plane-miscabling" class="xref">Figure 5</a> shows a single plane miscabling example. It's a perfect fat-tree fabric except link-M connecting Leaf112 to ToF22.<a href="#section-4.5-2" class="pilcrow">¶</a></p>
<p id="section-4.5-3">The RIFT control protocol can discover the physical links automatically and be able to detect cabling that violates fat-tree topology constraints.
        It react accordingly to such mis-cabling attempts, at a minimum preventing adjacencies between nodes from being formed and traffic from being forwarded on those mis-cabled links.
        Leaf112 will in such scenario use link-M to derive its level (unless it is leaf) and can report links to spines 111 and 112 as miscabled unless the implementations
        allows horizontal links.<a href="#section-4.5-3" class="pilcrow">¶</a></p>
<p id="section-4.5-4"><a href="#multi-plane-miscabling" class="xref">Figure 6</a> shows a multiple plane miscabling example. Since Leaf112 and Spine121 belong to two different PoDs, the adjacency between Leaf112 and Spine121 can not be formed. link-W would be detected and prevented.<a href="#section-4.5-4" class="pilcrow">¶</a></p>
<span id="name-a-multiple-plane-miscabling"></span><div id="multi-plane-miscabling">
<figure id="figure-6">
          <div class="artwork art-text alignCenter" id="section-4.5-5.1">
<pre>
 +-------+    +-------+           +-------+    +-------+
 |ToF  A1|    |ToF  A2|           |ToF  B1|    |ToF  B2| LEVEL 2
 +-------+    +-------+           +-------+    +-------+
 |       |    |       |           |       |    |       |
 |       |    |       +-----------------+ |    |       |
 |       +--------------------------+   | |    |       |
 |            |                   | |   | |    |       |
 |     +------+                   | |   | +------+     |
 |     |        +-----------------+ |   |      | |     |
 |     |        |   +--------------------------+ |     |
 |  A  |        | B |               | A |        |  B  |
 +-----+-+    +-+---+-+           +-+---+-+    +-+-----+
 |Spin111|    |Spin112|      +----+Spin121|    |Spin122| LEVEL 1
 +-+---+-+    ++----+-+      |    +-+---+-+    ++----+-+
   |   |       |    |        |      |   |       |    |
   |   +---------+  |        |      |   +---------+  |
   |           | |  |      link-W   |           | |  |
   |   +-------+ |  |        |      |   +-------+ |  |
   |   |         |  |        |      |   |         |  |
 +-+---+-+    +--+--+-+      |    +-+---+-+    +--+--+-+
 |Leaf111|    |Leaf112+------+    |Leaf121|    |Leaf122| LEVEL 0
 +-------+    +-------+           +-------+    +-------+
+--------PoD#1----------+       +---------PoD#2---------+
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-a-multiple-plane-miscabling" class="selfRef">A multiple plane miscabling example</a>
          </figcaption></figure>
</div>
<p id="section-4.5-6">RIFT provides an optional level determination procedure in its Zero Touch Provisioning mode. Nodes in the fabric without
        their level configured determine it automatically. This can have possibly counter-intuitive consequences however.
        One extreme failure scenario is depicted in <a href="#Fallen-spine" class="xref">Figure 7</a> and it shows that if all northbound links of spine11 fail at the same time,
        spine11 negotiates a lower level than Leaf11 and Leaf12.<a href="#section-4.5-6" class="pilcrow">¶</a></p>
<p id="section-4.5-7">To prevent such scenario where leafs are expected to act as switches, LEAF_ONLY flag can be set for Leaf111 and Leaf112.
        Since level -1 is invalid, Spine11 would not derive a valid level from the topology in <a href="#Fallen-spine" class="xref">Figure 7</a>. It will be isolated from the whole fabric
        and it would be up to the leafs to declare the links towards such spine as miscabled.<a href="#section-4.5-7" class="pilcrow">¶</a></p>
<span id="name-fallen-spine"></span><div id="Fallen-spine">
<figure id="figure-7">
          <div class="artwork art-text alignCenter" id="section-4.5-8.1">
<pre>
+-------+    +-------+        +-------+    +-------+
|ToF  A1|    |ToF  A2|        |ToF  A1|    |ToF  A2|
+-------+    +-------+        +-------+    +-------+
|       |    |       |                |            |
|    +-------+       |                |            |
+    +  |            |  ====&gt;         |            |
X    X  +------+     |                +------+     |
+    +         |     |                       |     |
+----+--+    +-+-----+                     +-+-----+
|Spine11|    |Spine12|                     |Spine12|
+-+---+-+    ++----+-+                     ++----+-+
  |   |       |    |                        |    |
  |   +---------+  |                        |    |
  |           | |  |                        |    |
  |   +-------+ |  |                +-------+    |
  |   |         |  |                |            |
+-+---+-+    +--+--+-+        +-----+-+    +-----+-+
|Leaf111|    |Leaf112|        |Leaf111|    |Leaf112|
+-------+    +-------+        +-+-----+    +-+-----+
                                |            |
                                |   +--------+
                                |   |
                              +-+---+-+
                              |Spine11|
                              +-------+
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-fallen-spine" class="selfRef">Fallen spine</a>
          </figcaption></figure>
</div>
</section>
<section id="section-4.6">
        <h3 id="name-positive-vs-negative-disagg">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-positive-vs-negative-disagg" class="section-name selfRef">Positive vs. Negative Disaggregation</a>
        </h3>
<p id="section-4.6-1">
    Disaggregation is the procedure whereby <span>[<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span>
    advertises a more specific route Southwards as an exception to the
    aggregated fabric-default North. Disaggregation is useful when a prefix
    within the aggregation is reachable via some of the parents but not the
    others at the same level of the fabric.
    It is mandatory when the level is the ToF since a ToF node that cannot reach
    a prefix becomes a black hole for that prefix.
    The hard problem is to know which prefixes are reachable by whom.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<p id="section-4.6-2">
    In the general case, <span>[<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span> solves that
    problem by interconnecting the ToF nodes so they can exchange the full list
    of prefixes that exist in the fabric and figure when a ToF node lacks
    reachability and to existing prefix. This requires additional ports at the
    ToF, typically 2 ports per ToF node to form a ToF-spanning ring.
    <span>[<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span> also defines the southbound reflection
    procedure that enables a parent to explore the direct connectivity of its
    peers, meaning their own parents and children; based on the advertisements
    received from the shared parents and children, it may enable the parent to
    infer the prefixes its peers can reach.<a href="#section-4.6-2" class="pilcrow">¶</a></p>
<p id="section-4.6-3">
    When a parent lacks reachability to a prefix, it may disaggregate the prefix
    negatively, i.e., advertise that this parent can be used to reach any prefix
    in the aggregation except that one. The Negative Disaggregation signaling is
    simple and functions transitively from ToF to ToP and then from Top to Leaf.
    But it is hard for a parent to figure which prefix it needs to disaggregate,
    because it does not know what it does not know; it results that the use of a
    spanning ring at the ToF is required to operate the Negative Disaggregation.
    Also, though it is only an implementation problem, the programmation of the
    FIB is complex compared to normal routes, and may incur recursions.<a href="#section-4.6-3" class="pilcrow">¶</a></p>
<p id="section-4.6-4">
    The more classical alternative is, for the parents that can reach a prefix
    that peers at the same level cannot, to advertise a more specific route to
    that prefix. This leverages the normal longest prefix match in the FIB, and
    does not require a special implementation. But as opposed to the Negative
    Disaggregation, the Positive Disaggregation is difficult and inefficient to
    operate transitively.<a href="#section-4.6-4" class="pilcrow">¶</a></p>
<p id="section-4.6-5">
    Transitivity is not needed to a grandchild if all its parents received the
    Positive Disaggregation, meaning that they shall all avoid the black hole;
    when that is the case, they collectively build a ceiling that protects the
    grandchild. But until then, a parent that received a Positive Disaggregation
    may believe that some peers are lacking the reachability and readvertise too
    early, or defer and maintain a black hole situation longer than necessary.<a href="#section-4.6-5" class="pilcrow">¶</a></p>
<p id="section-4.6-6">

    In a non-partitioned fabric, all the ToF nodes see one another through the
    reflection and can figure if one is missing a child. In that case it is
    possible to compute the prefixes that the peer cannot reach and disaggregate
    positively without a ToF-spanning ring. The ToF nodes can also ascertain
    that the ToP nodes are connected each to at least a ToF node that can still
    reach the prefix, meaning that the transitive operation is not required.<a href="#section-4.6-6" class="pilcrow">¶</a></p>
<p id="section-4.6-7">
    The bottom line is that in a fabric that is partitioned
    (e.g., using multiple planes) and/or where the ToP nodes are not guaranteed
    to always form a ceiling for their children, it is
    mandatory to use the Negative Disaggregation.
    On the other hand, in a highly symmetrical and fully connected fabric,
    (e.g., a canonical Clos Network), the Positive Disaggregation methods allows
    to save the complexity and cost associated to the ToF-spanning ring.<a href="#section-4.6-7" class="pilcrow">¶</a></p>
<p id="section-4.6-8">
    Note that in the case of Positive Disaggregation, the first ToF node(s) that
    announces a more-specific route attracts all the traffic for that route and
    may suffer from a transient incast. A ToP node that defers injecting the
    longer prefix in the FIB, in order to receive more advertisements and spread
    the packets better, also keeps on sending a portion of the traffic to the
    black hole in the meantime. In the case of Negative Disaggregation, the last
    ToF node(s) that injects the route may also incur an incast issue; this
    problem would occur if a prefix that becomes totally unreachable is
    disaggregated, but doing so is mostly useless and is not recommended.<a href="#section-4.6-8" class="pilcrow">¶</a></p>
</section>
<section id="section-4.7">
        <h3 id="name-mobile-edge-and-anycast">
<a href="#section-4.7" class="section-number selfRef">4.7. </a><a href="#name-mobile-edge-and-anycast" class="section-name selfRef">Mobile Edge and Anycast</a>
        </h3>
<p id="section-4.7-1">
    When a physical or a virtual node changes its point of attachement in the
    fabric from a previous-leaf to a next-leaf, new routes must be installed
    that supersede the old ones. Since the flooding flows Northwards, the nodes
    (if any) between the previous-leaf and the common parent are not immediately
    aware that the path via previous-leaf is obsolete, and a stale route may
    exist for a while. The common parent needs to select the freshest route
    advertisement in order to install the correct route via the next-leaf. This
    requires that the fabric determines the sequence of the movements of the
    mobile node.<a href="#section-4.7-1" class="pilcrow">¶</a></p>
<p id="section-4.7-2">
    On the one hand, a classical sequence counter provides a total order for a
    while but it will eventually wrap. On the other hand, a timestamp provides a
    permanent order but it may miss a movement that happens too quickly vs.
    the granularity of the timing information.
    It is not envisioned in the short term that the average fabric supports a
    Precision Time Protocol, and the precision that may be available with the
    <span><a href="#RFC5905" class="xref">Network Time Protocol</a> [<a href="#RFC5905" class="xref">RFC5905</a>]</span>, in the order of 100 to
    200ms, may not be necessarily enough to cover, e.g., the fast mobility of a
    Virtual Machine.<a href="#section-4.7-2" class="pilcrow">¶</a></p>
<p id="section-4.7-3">
    Section 4.3.3.  "Mobility" of <span>[<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span>
    specifies an hybrid method that combines a sequence counter from the mobile
    node and a timestamp from the network taken at the leaf when the route is
    injected. If the timestamps of the concurrent advertisements are comparable
    (i.e., more distant than the precision of the timing protocol), then the
    timestamp alone is used to determine the relative freshness of the routes.
    Otherwise, the sequence counter from the mobile node, if available, is used.
    One caveat is that the sequence counter must not wrap within the precision
    of the timing protocol. Another is that the mobile node may not even provide
    a sequence counter, in which case the mobility itself must be slower than
    the precision of the timing.<a href="#section-4.7-3" class="pilcrow">¶</a></p>
<p id="section-4.7-4">
    Mobility must not be confused with Anycast. In both cases, a same address is
    injected in RIFT at different leaves. In the case of mobility, only the
    freshest route must be conserved, since mobile node changed its point of
    attachment for a leaf to the next. In the case of anycast, the node may be
    either multihomed (attached to multiple leaves in parallel) or reachable
    beyond the fabric via multiple routes that are redistributed to different
    leaves; either way, in the case of anycast, the multiple routes are equally
    valid and should be conserved. Without further information from the
    redistributed routing protocol, it is impossible to sort out a movement from
    a redistribution that happens asynchronously on different leaves.
    <span>[<a href="#I-D.ietf-rift-rift" class="xref">RIFT</a>]</span> expects that anycast addresses are
    advertised within the timing precision, which is typically the case with a
    low-precision timing and a multihomed node. Beyond that time interval, RIFT
    interprets the lag as a mobility and only the freshest route is retained.<a href="#section-4.7-4" class="pilcrow">¶</a></p>
<p id="section-4.7-5">
    When using <span><a href="#RFC8200" class="xref">IPv6</a> [<a href="#RFC8200" class="xref">RFC8200</a>]</span>, RIFT suggests to leverage
    <span><a href="#RFC8505" class="xref">"Registration Extensions for IPv6 over Low-Power
    Wireless Personal Area Network (6LoWPAN) Neighbor Discovery (ND)"</a> [<a href="#RFC8505" class="xref">RFC8505</a>]</span>
    as the IPv6 ND interaction between the mobile node and the leaf. This
    provides not only a sequence counter but also a lifetime and a security
    token that may be used to protect the ownership of an address.
    When using <span>[<a href="#RFC8505" class="xref">RFC8505</a>]</span>, the parallel registration of an anycast
    address to multiple leaves is done with the same sequence counter, whereas
    the sequence counter is incremented when the point of attachement changes.
    This way, it is possible to differentiate a mobile node from a multihomed
    node, even when the mobility happens within the timing precision. It is also
    possible for a mobile node to be multihomed as well, e.g., to change only
    one of its points of attachement.<a href="#section-4.7-5" class="pilcrow">¶</a></p>
</section>
<div id="v4ov6">
<section id="section-4.8">
        <h3 id="name-ipv4-over-ipv6">
<a href="#section-4.8" class="section-number selfRef">4.8. </a><a href="#name-ipv4-over-ipv6" class="section-name selfRef">IPv4 over IPv6</a>
        </h3>
<p id="section-4.8-1">RIFT allows advertising IPv4 prefixes over IPv6 RIFT network. IPv6 AF configures via the usual ND
        mechanisms and then V4 can use V6 nexthops analogous to RFC5549. It is expected that the whole fabric
        supports the same type of forwarding of address families on all the links. RIFT provides an indication
        whether a node is v4 forwarding capable and implementations are possible where different routing tables
        are computed per address family as long as the computation remains loop-free.<a href="#section-4.8-1" class="pilcrow">¶</a></p>
<span id="name-ipv4-over-ipv6-2"></span><div id="IPV4-o-IPV6">
<figure id="figure-8">
          <div class="artwork art-text alignCenter" id="section-4.8-2.1">
<pre>
              +-----+        +-----+
   +---+---+  | ToF |        | ToF |
       ^      +--+--+        +-----+
       |      |  |           |     |
       |      |  +-------------+   |
       |      |     +--------+ |   |
       |      |     |          |   |
      V6      +-----+        +-+---+
   Forwarding |SPINE|        |SPINE|
       |      +--+--+        +-----+
       |      |  |           |     |
       |      |  +-------------+   |
       |      |     +--------+ |   |
       |      |     |          |   |
       v      +-----+        +-+---+
   +---+---+  |LEAF |        | LEAF|
              +--+--+        +--+--+
                 |              |
    IPv4 prefixes|              |IPv4 prefixes
                 |              |
             +---+----+     +---+----+
             |   V4   |     |   V4   |
             | subnet |     | subnet |
             +--------+     +--------+
</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-ipv4-over-ipv6-2" class="selfRef">IPv4 over IPv6</a>
          </figcaption></figure>
</div>
</section>
</div>
<section id="section-4.9">
        <h3 id="name-in-band-reachability-of-nod">
<a href="#section-4.9" class="section-number selfRef">4.9. </a><a href="#name-in-band-reachability-of-nod" class="section-name selfRef">In-Band Reachability of Nodes</a>
        </h3>
<p id="section-4.9-1">RIFT doesn't precondition that nodes of the fabric have reachable addresses. But the operational purposes to reach the internal nodes may exist. <a href="#In-band-reach" class="xref">Figure 9</a> shows an example that the NMS attaches to LEAF1.<a href="#section-4.9-1" class="pilcrow">¶</a></p>
<span id="name-in-band-reachability-of-node"></span><div id="In-band-reach">
<figure id="figure-9">
          <div class="artwork art-text alignCenter" id="section-4.9-2.1">
<pre>
+-------+      +-------+
| ToF1  |      | ToF2  |
++---- ++      ++-----++
 |     |        |     |
 |     +----------+   |
 |     +--------+ |   |
 |     |          |   |
++-----++      +--+---++
|SPINE1 |      |SPINE2 |
++-----++      ++-----++
 |     |        |     |
 |     +----------+   |
 |     +--------+ |   |
 |     |          |   |
++-----++      +--+---++
| LEAF1 |      | LEAF2 |
+---+---+      +-------+
    |
    |NMS
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-in-band-reachability-of-node" class="selfRef">In-Band reachability of node</a>
          </figcaption></figure>
</div>
<p id="section-4.9-3">If NMS wants to access LEAF2, it simply works. Because loopback address of LEAF2 is flooded in its Prefix North TIE.<a href="#section-4.9-3" class="pilcrow">¶</a></p>
<p id="section-4.9-4">If NMS wants to access SPINE2, it simply works too. Because spine node always advertises its loopback address in the Prefix North TIE. NMS may reach SPINE2 from LEAF1-SPINE2 or LEAF1-SPINE1-ToF1/ToF2-SPINE2.<a href="#section-4.9-4" class="pilcrow">¶</a></p>
<p id="section-4.9-5">If NMS wants to access ToF2, ToF2's loopback address needs to be injected into its Prefix South TIE. Otherwise, the traffic from NMS may be sent to ToF1.<a href="#section-4.9-5" class="pilcrow">¶</a></p>
<p id="section-4.9-6">And in case of failure between ToF2 and spine nodes, ToF2's loopback address must be sent all the way down to the leaves.<a href="#section-4.9-6" class="pilcrow">¶</a></p>
</section>
<section id="section-4.10">
        <h3 id="name-dual-homing-servers">
<a href="#section-4.10" class="section-number selfRef">4.10. </a><a href="#name-dual-homing-servers" class="section-name selfRef">Dual Homing Servers</a>
        </h3>
<p id="section-4.10-1">Each RIFT node may operate in zero touch provisioning (ZTP) mode. It has no
    configuration (unless it is a Top-of-Fabric at the top of the topology or the must
    operate in the topology as leaf and/or support leaf-2-leaf procedures) and it will
    fully configure itself after being attached to the topology.<a href="#section-4.10-1" class="pilcrow">¶</a></p>
<span id="name-dual-homing-servers-2"></span><div id="dualhoming-servers">
<figure id="figure-10">
          <div class="artwork art-text alignCenter" id="section-4.10-2.1">
<pre>
    +---+         +---+         +---+
    |ToF|         |ToF|         |ToF|
    +---+         +---+         +---+
    |   |         |   |         |   |
    |   +----------------+      |   |
    |             |   |  |      |   |
    |          +----------------+   |
    |          |  |   |  |          |
    +----------+--+   +--+----------+
    | Spine|ToR1  |   | Spine|ToR2  |
    +--+------+---+   +--+-------+--+
+---+  |      |   |   |  |       |  +---+
|      |      |   |   |  |       |      |
|   +-----------------+  |       |      |
|   |  |   +-------------+       |      |
+   |  +   |  |   |-----------------+   |
X   |  X   |  +--------x-----+   |  X   |
+   |  +   |                 |   |  +   |
+---+  +---+                 +---+  +---+
|   |  |   |                 |   |  |   |
+---+  +---+  ...............+---+  +---+
SV(1) SV(2)                 SV(n+1) SV(n)
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-dual-homing-servers-2" class="selfRef">Dual-homing servers</a>
          </figcaption></figure>
</div>
<p id="section-4.10-3">In the single plane, the worst condition is disaggregation of every other servers at the same level. Suppose the links from ToR1 to all the leaves become not available. All the servers' routes are disaggregated and the FIB of the servers will be expanded with n-1 more specific routes.<a href="#section-4.10-3" class="pilcrow">¶</a></p>
<p id="section-4.10-4">Sometimes, people may prefer to disaggregate from ToR to servers from start on, i.e. the servers have couple tens of routes in FIB from start on beside default routes to avoid breakages at rack level. Full disaggregation of the fabric could be achieved by configuration supported by RIFT.<a href="#section-4.10-4" class="pilcrow">¶</a></p>
</section>
<section id="section-4.11">
        <h3 id="name-fabric-with-a-controller">
<a href="#section-4.11" class="section-number selfRef">4.11. </a><a href="#name-fabric-with-a-controller" class="section-name selfRef">Fabric With A Controller</a>
        </h3>
<p id="section-4.11-1">There are many different ways to deploy the controller. One possibility is attaching a controller to the RIFT domain from ToF and another possibility is attaching a controller from the leaf.<a href="#section-4.11-1" class="pilcrow">¶</a></p>
<span id="name-fabric-with-a-controller-2"></span><div id="Fabric-controller">
<figure id="figure-11">
          <div class="artwork art-text alignCenter" id="section-4.11-2.1">
<pre>
                 +------------+
                 | Controller |
                 ++----------++
                  |          |
                  |          |
             +----++        ++----+
 -------     | ToF |        | ToF |
    |        +--+--+        +-----+
    |        |  |           |     |
    |        |  +-------------+   |
    |        |     +--------+ |   |
    |        |     |          |   |
             +-----+        +-+---+
RIFT domain  |SPINE|        |SPINE|
             +--+--+        +-----+
    |        |  |           |     |
    |        |  +-------------+   |
    |        |     +--------+ |   |
    |        |     |          |   |
    |        +-----+        +-+---+
 -------     |LEAF |        | LEAF|
             +-----+        +-----+
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-fabric-with-a-controller-2" class="selfRef">Fabric with a controller</a>
          </figcaption></figure>
</div>
<section id="section-4.11.1">
          <h4 id="name-controller-attached-to-tofs">
<a href="#section-4.11.1" class="section-number selfRef">4.11.1. </a><a href="#name-controller-attached-to-tofs" class="section-name selfRef">Controller Attached to ToFs</a>
          </h4>
<p id="section-4.11.1-1">If a controller is attaching to the RIFT domain from ToF, it usually uses dual-homing connections. The loopback prefix of the controller should be advertised down by the ToF and spine to leaves. If the controller loses link to ToF, make sure the ToF withdraw the prefix of the controller(use different mechanisms).<a href="#section-4.11.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.11.2">
          <h4 id="name-controller-attached-to-leaf">
<a href="#section-4.11.2" class="section-number selfRef">4.11.2. </a><a href="#name-controller-attached-to-leaf" class="section-name selfRef">Controller Attached to Leaf</a>
          </h4>
<p id="section-4.11.2-1">If the controller is attaching from a leaf to the fabric, no special provisions are needed.<a href="#section-4.11.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4.12">
        <h3 id="name-internet-connectivity-with-">
<a href="#section-4.12" class="section-number selfRef">4.12. </a><a href="#name-internet-connectivity-with-" class="section-name selfRef">Internet Connectivity With Underlay</a>
        </h3>
<p id="section-4.12-1">If global addressing is running without overlay, an external default route needs to be advertised through rift fabric to achieve internet connectivity. For the purpose of forwarding of the entire rift fabric, an internal fabric prefix needs to be advertised in the South Prefix TIE by ToF and spine nodes.<a href="#section-4.12-1" class="pilcrow">¶</a></p>
<section id="section-4.12.1">
          <h4 id="name-internet-default-on-the-lea">
<a href="#section-4.12.1" class="section-number selfRef">4.12.1. </a><a href="#name-internet-default-on-the-lea" class="section-name selfRef">Internet Default on the Leaf</a>
          </h4>
<p id="section-4.12.1-1">In case that an internet access request comes from a leaf and the internet gateway is another leaf, the leaf node as the internet gateway needs to advertise a default route in its Prefix North TIE.<a href="#section-4.12.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.12.2">
          <h4 id="name-internet-default-on-the-tof">
<a href="#section-4.12.2" class="section-number selfRef">4.12.2. </a><a href="#name-internet-default-on-the-tof" class="section-name selfRef">Internet Default on the ToFs</a>
          </h4>
<p id="section-4.12.2-1">In case that an internet access request comes from a leaf and the internet gateway is a ToF, the ToF and spine nodes need to advertise a default route in the Prefix South TIE.<a href="#section-4.12.2-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4.13">
        <h3 id="name-subnet-mismatch-and-address">
<a href="#section-4.13" class="section-number selfRef">4.13. </a><a href="#name-subnet-mismatch-and-address" class="section-name selfRef">Subnet Mismatch and Address Families</a>
        </h3>
<span id="name-subnet-mismatch"></span><div id="subnet-mismatch">
<figure id="figure-12">
          <div class="artwork art-text alignCenter" id="section-4.13-1.1">
<pre>

+--------+                     +--------+
|        |  LIE          LIE   |        |
|   A    | +----&gt;       &lt;----+ |   B    |
|        +---------------------+        |
+--------+                     +--------+
   X/24                           Y/24
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-subnet-mismatch" class="selfRef">subnet mismatch</a>
          </figcaption></figure>
</div>
<p id="section-4.13-2" class="keepWithPrevious"></p>
<p id="section-4.13-3">LIEs are exchanged over all links running RIFT to perform Link (Neighbor) Discovery. A node MUST NOT originate LIEs on an address family if it does not process received LIEs on that family.
        LIEs on same link are considered part of the same negotiation independent on the address family they arrive on.
        An implementation MUST be ready to accept TIEs on all addresses it used as source of LIE frames.<a href="#section-4.13-3" class="pilcrow">¶</a></p>
<p id="section-4.13-4">As shown in the above figure, without further checks
        adjacency of node A and B may form, but the forwarding between node A and node B may fail because subnet X mismatches with subnet Y.<a href="#section-4.13-4" class="pilcrow">¶</a></p>
<p id="section-4.13-5">To prevent this a RIFT implementation should check for subnet mismatch just like e.g. ISIS does. This can lead to scenarios where an adjacency, despite exchange of LIEs in both
        address families may end up having an adjacency in a single AF only. This is a consideration especially in <a href="#v4ov6" class="xref">Section 4.8</a> scenarios.<a href="#section-4.13-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.14">
        <h3 id="name-anycast-considerations">
<a href="#section-4.14" class="section-number selfRef">4.14. </a><a href="#name-anycast-considerations" class="section-name selfRef">Anycast Considerations</a>
        </h3>
<span id="name-anycast"></span><div id="AnycastTL">
<figure id="figure-13">
          <div class="artwork art-text alignCenter" id="section-4.14-1.1">
<pre>
                        + traffic
                        |
                        v
                 +------+------+
                 |     ToF     |
                 +---+-----+---+
                 |   |     |   |
    +------------+   |     |   +------------+
    |                |     |                |
+---+---+    +-------+     +-------+    +---+---+
|       |    |       |     |       |    |       |
|Spine11|    |Spine12|     |Spine21|    |Spine22| LEVEL 1
+-+---+-+    ++----+-+     +-+---+-+    ++----+-+
  |   |       |    |         |   |       |    |
  |   +---------+  |         |   +---------+  |
  |           | |  |         |           | |  |
  |   +-------+ |  |         |   +-------+ |  |
  |   |         |  |         |   |         |  |
+-+---+-+    +--+--+-+     +-+---+-+    +--+--+-+
|       |    |       |     |       |    |       |
|Leaf111|    |Leaf112|     |Leaf121|    |Leaf122| LEVEL 0
+-+-----+    ++------+     +-----+-+    +-----+-+
  +           +                  +      ^     |
PrefixA      PrefixB         PrefixA    | PrefixC
                                        |
                                        + traffic
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-anycast" class="selfRef">Anycast</a>
          </figcaption></figure>
</div>
<p id="section-4.14-2">If the traffic comes from ToF to Leaf111 or Leaf121 which has anycast prefix PrefixA. RIFT can deal with this case well. But if the traffic comes from Leaf122, it arrives Spine21 or Spine22 at level 1. But Spine21 or Spine22 doesn't know another PrefixA attaching Leaf111. So it will always get to Leaf121 and never get to Leaf111. If the intension is that the traffic should been offloaded to Leaf111, then use policy guided prefixes [PGP reference].<a href="#section-4.14-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="Acknowledgements">
<section id="section-5">
      <h2 id="name-acknowledgements">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-5-1"></p>
</section>
</div>
<div id="Contributors">
<section id="section-6">
      <h2 id="name-contributors">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-6-1">The following people (listed in alphabetical order) contributed significantly to the content of this document and should be considered co-authors:<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">Tony Przygienda<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">Juniper Networks<a href="#section-6-3" class="pilcrow">¶</a></p>
<p id="section-6-4">1194 N. Mathilda Ave<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">Sunnyvale, CA  94089<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">US<a href="#section-6-6" class="pilcrow">¶</a></p>
<p id="section-6-7">Email: prz@juniper.net<a href="#section-6-7" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-7">
      <h2 id="name-normative-references">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="ISO10589-Second-Edition">[ISO10589-Second-Edition]</dt>
      <dd>
<span class="refAuthor">International Organization for Standardization</span>, <span class="refTitle">"Intermediate system to Intermediate system intra-domain routeing information exchange protocol for use in conjunction with the protocol for providing the connectionless-mode Network Service (ISO 8473)"</span>, <time datetime="2002-11" class="refDate">November 2002</time>. </dd>
<dd class="break"></dd>
<dt id="TR-384">[TR-384]</dt>
      <dd>
<span class="refAuthor">Broadband Forum Technical Report</span>, <span class="refTitle">"TR-384 Cloud Central Office Reference Architectural Framework"</span>, <time datetime="2018-01" class="refDate">January 2018</time>. </dd>
<dd class="break"></dd>
<dt id="RFC2328">[RFC2328]</dt>
      <dd>
<span class="refAuthor">Moy, J.</span>, <span class="refTitle">"OSPF Version 2"</span>, <span class="seriesInfo">STD 54</span>, <span class="seriesInfo">RFC 2328</span>, <span class="seriesInfo">DOI 10.17487/RFC2328</span>, <time datetime="1998-04" class="refDate">April 1998</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2328">https://www.rfc-editor.org/info/rfc2328</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4861">[RFC4861]</dt>
      <dd>
<span class="refAuthor">Narten, T.</span><span class="refAuthor">, Nordmark, E.</span><span class="refAuthor">, Simpson, W.</span><span class="refAuthor">, and H. Soliman</span>, <span class="refTitle">"Neighbor Discovery for IP version 6 (IPv6)"</span>, <span class="seriesInfo">RFC 4861</span>, <span class="seriesInfo">DOI 10.17487/RFC4861</span>, <time datetime="2007-09" class="refDate">September 2007</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4861">https://www.rfc-editor.org/info/rfc4861</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5357">[RFC5357]</dt>
      <dd>
<span class="refAuthor">Hedayat, K.</span><span class="refAuthor">, Krzanowski, R.</span><span class="refAuthor">, Morton, A.</span><span class="refAuthor">, Yum, K.</span><span class="refAuthor">, and J. Babiarz</span>, <span class="refTitle">"A Two-Way Active Measurement Protocol (TWAMP)"</span>, <span class="seriesInfo">RFC 5357</span>, <span class="seriesInfo">DOI 10.17487/RFC5357</span>, <time datetime="2008-10" class="refDate">October 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5357">https://www.rfc-editor.org/info/rfc5357</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7130">[RFC7130]</dt>
      <dd>
<span class="refAuthor">Bhatia, M., Ed.</span><span class="refAuthor">, Chen, M., Ed.</span><span class="refAuthor">, Boutros, S., Ed.</span><span class="refAuthor">, Binderberger, M., Ed.</span><span class="refAuthor">, and J. Haas, Ed.</span>, <span class="refTitle">"Bidirectional Forwarding Detection (BFD) on Link Aggregation Group (LAG) Interfaces"</span>, <span class="seriesInfo">RFC 7130</span>, <span class="seriesInfo">DOI 10.17487/RFC7130</span>, <time datetime="2014-02" class="refDate">February 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7130">https://www.rfc-editor.org/info/rfc7130</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.ietf-rift-rift">[RIFT]</dt>
      <dd>
<span class="refAuthor">Przygienda, T.</span><span class="refAuthor">, Sharma, A.</span><span class="refAuthor">, Thubert, P.</span><span class="refAuthor">, Rijsman, B.</span><span class="refAuthor">, and D. Afanasiev</span>, <span class="refTitle">"RIFT: Routing in Fat Trees"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-rift-rift-12</span>, <time datetime="2020-05-26" class="refDate">26 May 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-rift-rift-12">https://tools.ietf.org/html/draft-ietf-rift-rift-12</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.white-distoptflood">[I-D.white-distoptflood]</dt>
    <dd>
<span class="refAuthor">White, R.</span><span class="refAuthor">, Hegde, S.</span><span class="refAuthor">, and S. Zandi</span>, <span class="refTitle">"IS-IS Optimal Distributed Flooding for Dense Topologies"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-white-distoptflood-04</span>, <time datetime="2020-07-27" class="refDate">27 July 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-white-distoptflood-04">https://tools.ietf.org/html/draft-white-distoptflood-04</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-8">
      <h2 id="name-informative-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="RFC5905">[RFC5905]</dt>
      <dd>
<span class="refAuthor">Mills, D.</span><span class="refAuthor">, Martin, J., Ed.</span><span class="refAuthor">, Burbank, J.</span><span class="refAuthor">, and W. Kasch</span>, <span class="refTitle">"Network Time Protocol Version 4: Protocol and Algorithms Specification"</span>, <span class="seriesInfo">RFC 5905</span>, <span class="seriesInfo">DOI 10.17487/RFC5905</span>, <time datetime="2010-06" class="refDate">June 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5905">https://www.rfc-editor.org/info/rfc5905</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8200">[RFC8200]</dt>
      <dd>
<span class="refAuthor">Deering, S.</span><span class="refAuthor"> and R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8505">[RFC8505]</dt>
    <dd>
<span class="refAuthor">Thubert, P., Ed.</span><span class="refAuthor">, Nordmark, E.</span><span class="refAuthor">, Chakrabarti, S.</span><span class="refAuthor">, and C. Perkins</span>, <span class="refTitle">"Registration Extensions for IPv6 over Low-Power Wireless Personal Area Network (6LoWPAN) Neighbor Discovery"</span>, <span class="seriesInfo">RFC 8505</span>, <span class="seriesInfo">DOI 10.17487/RFC8505</span>, <time datetime="2018-11" class="refDate">November 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8505">https://www.rfc-editor.org/info/rfc8505</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="section-appendix.a">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yuehua Wei (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="street-address">No.50, Software Avenue</span></div>
<div dir="auto" class="left"><span class="locality">Nanjing</span></div>
<div dir="auto" class="left"><span class="postal-code">210012</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wei.yuehua@zte.com.cn" class="email">wei.yuehua@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Zheng Zhang</span></div>
<div dir="auto" class="left"><span class="org">ZTE Corporation</span></div>
<div dir="auto" class="left"><span class="street-address">No.50, Software Avenue</span></div>
<div dir="auto" class="left"><span class="locality">Nanjing</span></div>
<div dir="auto" class="left"><span class="postal-code">210012</span></div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhang.zheng@zte.com.cn" class="email">zhang.zheng@zte.com.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Dmitry Afanasiev</span></div>
<div dir="auto" class="left"><span class="org">Yandex</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fl0w@yandex-team.ru" class="email">fl0w@yandex-team.ru</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tom Verhaeg</span></div>
<div dir="auto" class="left"><span class="org">Juniper Networks</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tverhaeg@juniper.net" class="email">tverhaeg@juniper.net</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jaroslaw Kowalczyk</span></div>
<div dir="auto" class="left"><span class="org">Orange Polska</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jaroslaw.kowalczyk2@orange.com" class="email">jaroslaw.kowalczyk2@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Pascal Thubert</span></div>
<div dir="auto" class="left"><span class="org">Cisco Systems, Inc</span></div>
<div dir="auto" class="left"><span class="street-address">Building D<br>45 Allee des Ormes - BP1200</span></div>
<div dir="auto" class="left">
<span class="postal-code">06254</span> <span class="locality">MOUGINS - Sophia Antipolis</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="tel">
<span>Phone:</span>
<a href="tel:+33%20497%2023%2026%2034" class="tel">+33 497 23 26 34</a>
</div>
<div class="email">
<span>Email:</span>
<a href="mailto:pthubert@cisco.com" class="email">pthubert@cisco.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
