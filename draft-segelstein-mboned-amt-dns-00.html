<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Using Domain Name Services to Enable an AMT Gateway to Discover the Optimal AMT Relay in a Multi-Network SSM Multicast Environment</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Overview and Rationale">
<link href="#rfc.section.2" rel="Chapter" title="2 Assumptions">
<link href="#rfc.section.3" rel="Chapter" title="3 The Proposed Procedure for Finding an AMT Relay">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 The AMT Gateway Forms a DNS Query to Find the AMT Relay">
<link href="#rfc.section.3.2" rel="Chapter" title='3.2 ".net" DNS Redirects the Query to the "S1*.net" Authoritative DNS '>
<link href="#rfc.section.3.2.1" rel="Chapter" title='3.2.1 Option 1: DNS Query of the Form "S1.amt.net"'>
<link href="#rfc.section.3.2.2" rel="Chapter" title='3.2.2 Option 2: DNS Query of the Form "S1-amt.net"'>
<link href="#rfc.section.3.2.3" rel="Chapter" title='3.2.3 Option 3: DNS Query of the form "S1.net"'>
<link href="#rfc.section.3.3" rel="Chapter" title="3.3 &quot;S1*.net&quot; DNS Returns the IP Address of Its Own Network's AMT Relay">
<link href="#rfc.section.3.4" rel="Chapter" title="3.4 The Result of the Procedure ">
<link href="#rfc.section.3.5" rel="Chapter" title="3.5 Possible Inefficiencies">
<link href="#rfc.section.4" rel="Chapter" title="4 Security Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 IANA Considerations">
<link href="#rfc.section.6" rel="Chapter" title="6 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="7 References">
<link href="#rfc.references.1" rel="Chapter" title="7.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="7.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="One of the obstacles to implementing AMT Multicast in a multi-network environment is the difficulty an AMT Gateway may have in finding an AMT Relay that is optimal. Optimal in this context means that the AMT Relay has multicast connectivity to the Source, and its location minimizes the unicast (tunneled) portion of the path to the Gateway. Blind use of the global anycast address specified for AMT Relays in “Automatic IP Multicast Without Explicit Tunnels (AMT)” could result in reaching an AMT Relay that does not have multicast connectivity to the source, which would yield a failure to obtain the multicast content; or it could result in reaching an AMT Relay that is otherwise less than optimal.  This document proposes a method for implementing standard DNS procedures so that an AMT Gateway using normal DNS queries can virtually always find the optimal AMT Relay for a given Source." />
  <meta name="description" content="One of the obstacles to implementing AMT Multicast in a multi-network environment is the difficulty an AMT Gateway may have in finding an AMT Relay that is optimal. Optimal in this context means that the AMT Relay has multicast connectivity to the Source, and its location minimizes the unicast (tunneled) portion of the path to the Gateway. Blind use of the global anycast address specified for AMT Relays in “Automatic IP Multicast Without Explicit Tunnels (AMT)” could result in reaching an AMT Relay that does not have multicast connectivity to the source, which would yield a failure to obtain the multicast content; or it could result in reaching an AMT Relay that is otherwise less than optimal.  This document proposes a method for implementing standard DNS procedures so that an AMT Gateway using normal DNS queries can virtually always find the optimal AMT Relay for a given Source." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">D. Segelstein</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">A. Flavel</td>
</tr>
<tr>
<td class="left">Updates: 5357 (if approved)</td>
<td class="right">D. Nortz</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">AT&amp;T Labs</td>
</tr>
<tr>
<td class="left">Expires: January 01, 2012</td>
<td class="right">June 30, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Using Domain Name Services to Enable an AMT Gateway to Discover the Optimal AMT Relay in a Multi-Network SSM Multicast Environment<br />
  <span class="filename">draft-segelstein-mboned-amt-dns-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>One of the obstacles to implementing AMT Multicast in a multi-network environment is the difficulty an AMT Gateway may have in finding an AMT Relay that is optimal. Optimal in this context means that the AMT Relay has multicast connectivity to the Source, and its location minimizes the unicast (tunneled) portion of the path to the Gateway. Blind use of the global anycast address specified for AMT Relays in &#8220;Automatic IP Multicast Without Explicit Tunnels (AMT)&#8221; could result in reaching an AMT Relay that does not have multicast connectivity to the source, which would yield a failure to obtain the multicast content; or it could result in reaching an AMT Relay that is otherwise less than optimal.  This document proposes a method for implementing standard DNS procedures so that an AMT Gateway using normal DNS queries can virtually always find the optimal AMT Relay for a given Source.</p>
<h1><a>Requirements Language</a></h1>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">RFC 2119</a> <cite title="NONE">[RFC2119]</cite>.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 01, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Overview and Rationale</a>
</li>
<li>2.   <a href="#rfc.section.2">Assumptions</a>
</li>
<li>3.   <a href="#rfc.section.3">The Proposed Procedure for Finding an AMT Relay</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">The AMT Gateway Forms a DNS Query to Find the AMT Relay</a>
</li>
<li>3.2.   <a href="#rfc.section.3.2">".net" DNS Redirects the Query to the "S1*.net" Authoritative DNS </a>
</li>
<li>3.2.1.   <a href="#rfc.section.3.2.1">Option 1: DNS Query of the Form "S1.amt.net"</a>
</li>
<li>3.2.2.   <a href="#rfc.section.3.2.2">Option 2: DNS Query of the Form "S1-amt.net"</a>
</li>
<li>3.2.3.   <a href="#rfc.section.3.2.3">Option 3: DNS Query of the form "S1.net"</a>
</li>
<li>3.3.   <a href="#rfc.section.3.3">"S1*.net" DNS Returns the IP Address of Its Own Network's AMT Relay</a>
</li>
<li>3.4.   <a href="#rfc.section.3.4">The Result of the Procedure </a>
</li>
<li>3.5.   <a href="#rfc.section.3.5">Possible Inefficiencies</a>
</li>
<li>4.   <a href="#rfc.section.4">Security Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">IANA Considerations</a>
</li>
<li>6.   <a href="#rfc.section.6">Acknowledgements</a>
</li>
<li>7.   <a href="#rfc.references">References</a>
</li>
<li>7.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>7.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Overview and Rationale</h1>
<p id="rfc.section.1.p.1">Implicit in the definition of a global anycast address for AMT Relays <a href="#I-D.ietf-mboned-auto-multicast">[I-D.ietf-mboned-auto-multicast]</a> is the assumption that an AMT Gateway will succeed in obtaining multicast content simply by finding the closest (in routing distance) AMT Relay. Consideration of a moderately complex multi-network architecture reveals that this is not necessarily a valid assumption.</p>
<p id="rfc.section.1.p.2">An environment in which all networks are multicast-enabled and have multicast-capable interconnections would be well-suited to globally anycast-addressed AMT Relays. In that environment, the nearest AMT Relay to any given AMT Gateway will be optimal and successful in delivering multicast content. However, in general, connections among networks will not ubiquitously be multicast-capable, and that is likely to be the case for some time. In that case, reaching the nearest AMT Relay is not guaranteed to be successful. Accordingly, this document addresses the problem of finding an optimal AMT Relay in an SSM multicast, multi-network environment, where connectivity between networks may or may not be multicast-enabled.</p>
<p id="rfc.section.1.p.3">In order to successfully provide multicast content to an AMT Gateway, the AMT Relay reached must have multicast connectivity to the source. In order for it to be optimal, it must maximize the portion of the path that is multicast, and minimize the portion that requires a unicast tunnel. Further, the network reached should retain some flexibility so that its own policies may be invoked in the allocation of usage of its resources. It may, for example, seek to consider network load when directing the AMT Gateway to a specific AMT Relay. In addition, the discovery procedure should minimize the risk of exposure to the possibility of a malicious party that could advertise an anycast AMT address and attract AMT Gateway messages. This could have the potential of disabling multicast for those end-users whose Gateways reach that malicious destination.</p>
<p id="rfc.section.1.p.4">The solution presented in this document has the following characteristics:</p>
<p></p>

<ul>
<li>It requires very little or no change to existing technologies.</li>
<li>It naturally results in finding the optimal AMT Relay in most cases.</li>
<li>It allows AMT Gateways to use existing protocols and procedures.</li>
<li>It simplifies and minimizes administration and management of resources.</li>
<li>It allows flexibility in network allocation of resources.</li>
<li>It avoids exposure to malicious actors.</li>
</ul>
<p id="rfc.section.1.p.6">The implementation proposed can achieve the above characteristics for the following reasons:</p>
<p></p>

<ul>
<li>AMT Gateways require only a single, simple DNS query to find the optimal AMT Relay.</li>
<li>This implementation requires no changes to existing DNS procedures, and only requires DNS servers in relevant authoritative domains to be administered to incorporate awareness of source networks to which they have multicast connectivity, and to respond appropriately to DNS queries for optimal AMT Relays.</li>
<li>It builds efficiency into the procedure itself, and thus does not require a centralized intelligence to direct the AMT Relay discovery process.</li>
</ul>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Assumptions</h1>
<p id="rfc.section.2.p.1">This document will not address the manner in which the application discovers the Multicast Source, and generally assumes there is one source per content provider. However, a method similar to that proposed here for finding the optimal AMT Relay may in fact be used to find the optimal source in a multi-source environment.</p>
<p id="rfc.section.2.p.2">This document is meant to address issues solely related to SSM<a href="#SSM">[SSM]</a>. It does not propose to make any changes to the way SSM works as a transport, or the way DNS works to resolve names to IP addresses, and therefore will not go into any detail on the inner working of SSM or DNS.</p>
<p></p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> The Proposed Procedure for Finding an AMT Relay</h1>
<p id="rfc.section.3.p.1">Once a multicast-enabled application obtains an address for desired content, e.g., (S1,G1), it generates an IGMP message to join that stream. An AMT Gateway client (stand-alone or one incorporated into the application) will determine whether native multicast is available, and if not will invoke AMT Gateway functions to attempt to find an AMT Relay.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> The AMT Gateway Forms a DNS Query to Find the AMT Relay</h1>
<p id="rfc.section.3.1.p.1">At this point, the AMT Gateway generate a DNS query of the form "S1.amt.net" or "S1-amt.net" or "S1.net" (alternatives to be examined below) instead of seeking the AMT Relay by means of the global AMT Relay anycast address. This domain, "S1*.net", is defined so that authoritative DNS servers are resident on networks that have multicast connectivity to the network that hosts the source "S1". As an example of such a query, for a source IP address 12.123.221.123, the value of "S1" in the DNS query could be of the form "12123221123*.net.  Alternatively, it could be of a more restrictive form that could eliminate some domain possibilities. Only two things are required for this solution to function correctly:</p>

<ol>
<li>Each network that has one or more AMT Relays with multicast connectivity to a given source, and that wishes to serve content from that source, must have a DNS server that is authoritative for that source domain, and</li>
<li>That all be reachable by the same anycast address.</li>
</ol>
<p id="rfc.section.3.1.p.2">The query for "S1*.net" will initially be directed to the local DNS server defined for the end-user, which will in most cases be local to the end-user's access network.</p>
<h1 id="rfc.section.3.2">
<a href="#rfc.section.3.2">3.2.</a> ".net" DNS Redirects the Query to the "S1*.net" Authoritative DNS </h1>
<p id="rfc.section.3.2.p.1">In general, the local DNS will not be authoritative either for the ".net" domain or the "S1*.net" domain. However, the local DNS server will be aware of and will query the ".net" authoritative DNS for the anycast address of the "S1*.net" authoritative DNS.</p>
<h1 id="rfc.section.3.2.1">
<a href="#rfc.section.3.2.1">3.2.1.</a> Option 1: DNS Query of the Form "S1.amt.net"</h1>
<p id="rfc.section.3.2.1.p.1">This option assumes that there is an organization responsible for an "amt.net" domain. Then that organization would maintain DNS servers that are aware of those DNS servers authoritative for "Sx.amt.net", where "x" specifies any multicast source reachable by an AMT Relay.</p>
<p id="rfc.section.3.2.1.p.2">The ".net" DNS server redirects the local DNS query to the "amt.net" DNS server. In turn, the "amt.net" DNS servers redirects the DNS query to the appropriate DNS servers authoritative for the source being sought in the query. That will be a set of DNS servers reachable by an anycast address.</p>
<p id="rfc.section.3.2.1.p.3">When the local DNS server queries that "S1.amt.net" DNS server, the query will naturally (via anycast) be routed to the nearest (in routing metric) DNS authoritative for source "S1".</p>
<h1 id="rfc.section.3.2.2">
<a href="#rfc.section.3.2.2">3.2.2.</a> Option 2: DNS Query of the Form "S1-amt.net"</h1>
<p id="rfc.section.3.2.2.p.1">This option assumes no "amt.net" domain. Then ".net" authoritative DNS servers must be aware of those DNS servers authoritative for "Sx-amt.net", where "x" again specifies any multicast source reachable by an AMT Relay. The "-amt" qualifier simply aids the lookup by the ".net" DNS of the DNS servers authoritative for the "S1" domain. Thus, the ".net" DNS server redirects the DNS query to the appropriate DNS servers authoritative for the source being sought in the query. That will be a set of DNS servers reachable by an anycast address.</p>
<p id="rfc.section.3.2.2.p.2">When the local DNS server queries that "S1-amt.net" DNS server, the query will naturally (via anycast) be routed to the nearest (in routing metric) DNS authoritative for source "S1".</p>
<h1 id="rfc.section.3.2.3">
<a href="#rfc.section.3.2.3">3.2.3.</a> Option 3: DNS Query of the form "S1.net"</h1>
<p id="rfc.section.3.2.3.p.1">This option assumes no "-amt" to aid the lookup by the ".net" DNS of the DNS servers authoritative for "Sx". The ".net" DNS server simply looks up the DNS servers authoritative for "S1" and redirects the DNS query to those DNS servers. That will be a set of DNS servers reachable by an anycast address.</p>
<p id="rfc.section.3.2.3.p.2">When the local DNS server queries that "S1.net" DNS server, the query will naturally (via anycast) be routed to the nearest (in routing metric) DNS authoritative for source "S1".</p>
<h1 id="rfc.section.3.3">
<a href="#rfc.section.3.3">3.3.</a> "S1*.net" DNS Returns the IP Address of Its Own Network's AMT Relay</h1>
<p id="rfc.section.3.3.p.1">By virtue of the conditions set out in 3.1, above, the DNS authoritative for "S1*.net" will be resident on a network that has multicast connectivity to the source "S1". This may be because the source is on that same network, or it may be because that network has multicast interconnection to the network on which the source is located.</p>
<p id="rfc.section.3.3.p.2">Because the DNS authoritative for "S1*.net" was reached by anycast, that network is assured to be nearest (in routing metric) to the DNS local to the AMT Gateway.</p>
<p id="rfc.section.3.3.p.3">As a result of the above, the DNS reached by this last query may safely respond with the address of an AMT Relay on its own network.  That DNS may provide a response according to its own network's policies and capabilities. For example, the response may be an anycast address that would route to the closest among several possible AMT Relays. Alternatively, it may respond with a CNAME, which can be resolved by an intelligent DNS server that takes into account network load in deciding to which AMT Relay to direct the AMT Gateway. Or it may respond with the unicast address of a specific AMT Relay.</p>
<h1 id="rfc.section.3.4">
<a href="#rfc.section.3.4">3.4.</a> The Result of the Procedure </h1>
<p id="rfc.section.3.4.p.1">The procedure detailed above results in reaching an AMT Relay that has multicast connectivity to the desired source. In addition, the AMT Relay will be in the multicast-capable network closest to the end-user's local DNS server, which is in most cases local to the end-user. This minimizes the inter-network unicast path between the AMT Relay and the AMT Gateway. The reached network can, however, implement its own policies with regard to selecting a particular AMT Relay for that query, thus allowing flexibility in network administration. The end-user's AMT Gateway will thus have reached the optimal AMT Relay within the constraints of also taking into account the policies of the reached network provider.</p>
<p id="rfc.section.3.4.p.2">Administration of the DNS hierarchy is minimally affected. However, only those network providers that wish to carry multicast traffic for a given source need to undertake the minor additional steps required to make their AMT Relays authoritative for that source, and hence available to AMT Gateways seeking content from that source. Further, if the ".amt.net" option of Section 3.2.1 is adopted, the authority for the "amt.net" domain is required to administer those DNS servers in accordance with this hierarchy.</p>
<h1 id="rfc.section.3.5">
<a href="#rfc.section.3.5">3.5.</a> Possible Inefficiencies</h1>
<p id="rfc.section.3.5.p.1">In the case that an end-user's application or browser is assigned a DNS server that is not local, the anycast routing will yield a false "nearest" network DNS. The content will still be served via multicast, but the AMT Relay found will not be optimal.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#Security" id="Security">Security Considerations</a>
</h1>
<p id="rfc.section.4.p.1">This document introduces no security considerations other than any already associated with DNS and SSM.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#IANA" id="IANA">IANA Considerations</a>
</h1>
<p id="rfc.section.5.p.1">This memo makes no request of IANA.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> <a href="#Acknowledgements" id="Acknowledgements">Acknowledgements</a>
</h1>
<p id="rfc.section.6.p.1">The authors thank folks for review and comment.</p>
<h1 id="rfc.references">
<a href="#rfc.references">7.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">7.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-mboned-auto-multicast">[I-D.ietf-mboned-auto-multicast]</b></td>
<td class="top">
<a>Thaler, D</a>, <a>Talwar, M</a>, <a>Aggarwal, A</a>, <a>Vicisano, L</a>, <a>Pusateri, T</a> and <a>T Morin</a>, "<a href="http://tools.ietf.org/html/draft-ietf-mboned-auto-multicast-11">Automatic IP Multicast Tunneling</a>", Internet-Draft draft-ietf-mboned-auto-multicast-11, July 2011.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">7.2.</a> Informative References</h1>
<table><tbody><tr>
<td class="reference"><b id="SSM">[SSM]</b></td>
<td class="top">
<a>Source-Specific Multicast for IP, work in progress (expired Internet Draft)</a>", November 2000.</td>, "</tr></tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">David Segelstein</span> 
	  <span class="n hidden">
		<span class="family-name">Segelstein</span>
	  </span>
	</span>
	<span class="org vcardline">AT&T Labs</span>
	<span class="adr">
	  <span>200 Laurel Avenue South</span>

	  <span class="vcardline">
		<span class="locality">Middletown,</span>,  
		<span class="region">NJ</span> 
		<span class="code">07748</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1 732 420 1742</span>

<span class="vcardline">EMail: <a href="mailto:dsegelstein@att.com">dsegelstein@att.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Ashley Flavel</span> 
	  <span class="n hidden">
		<span class="family-name">Flavel</span>
	  </span>
	</span>
	<span class="org vcardline">AT&T Labs</span>
	<span class="adr">
	  <span>200 Laurel Avenue South</span>

	  <span class="vcardline">
		<span class="locality">Middletown,</span>,  
		<span class="region">NJ</span> 
		<span class="code">07748</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1 732 420 1762</span>

<span class="vcardline">EMail: <a href="mailto:af360w@att.com">af360w@att.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Doug Nortz</span> 
	  <span class="n hidden">
		<span class="family-name">Nortz</span>
	  </span>
	</span>
	<span class="org vcardline">AT&T Labs</span>
	<span class="adr">
	  <span>200 Laurel Avenue South</span>

	  <span class="vcardline">
		<span class="locality">Middletown,</span>,  
		<span class="region">NJ</span> 
		<span class="code">07748</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">Phone: +1 732 420 1739</span>

<span class="vcardline">EMail: <a href="mailto:dnortz@att.com">dnortz@att.com</a></span>

  </address>
</div>

</body>
</html>