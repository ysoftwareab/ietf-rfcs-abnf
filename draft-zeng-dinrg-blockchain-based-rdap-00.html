<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A registry/registrar blockchain architecture for domain name registration data access protocol</title>
<meta content="Yu Zeng" name="author">
<meta content="Man Zhang" name="author">
<meta content="Wei Wang" name="author">
<meta content="
       
 This document defines a registry/registrar blockchain architecture for domain name registration data access protocol.
       
    " name="description">
<meta content="xml2rfc 3.10.0" name="generator">
<meta content="draft-zeng-dinrg-blockchain-based-rdap-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.10.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.3
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.4.0
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 58.2.0
    six 1.16.0
-->
<link href="/tmp/draft-zeng-dinrg-blockchain-based-rdap-01-essmbnjl.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
/* Fix PDF info block run off issue */
@media print {
  #identifiers dd {
    float: none;
  }
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: auto;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">DNRD-AP</td>
<td class="right">October 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Zeng, et al.</td>
<td class="center">Expires 20 April 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-zeng-dinrg-blockchain-based-rdap-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-10-17" class="published">17 October 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-04-20">20 April 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">Y. Zeng</div>
<div class="org">CNNIC</div>
</div>
<div class="author">
      <div class="author-name">M. Zhang</div>
<div class="org">CNNIC</div>
</div>
<div class="author">
      <div class="author-name">W. Wang</div>
<div class="org">CNIC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A registry/registrar blockchain architecture for domain name registration data access protocol</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
 This document defines a registry/registrar blockchain architecture for domain name registration data access protocol.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 20 April 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-overall-process" class="xref">Overall process</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-blockchain-layer" class="xref">Blockchain layer</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1" class="keepWithNext"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-bootstrap-service-data" class="xref">Bootstrap Service data</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-the-bootstrap-service-chain" class="xref">The bootstrap service chain of registries</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-the-bootstrap-service-chain-" class="xref">The bootstrap service chain of registrars</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-data-service-access-node" class="xref">Data service access node</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-the-data-source" class="xref">The data source</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-data-consolidation-and-upda" class="xref">Data consolidation and update</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-the-path-segment-of-query-a" class="xref">The path segment of query and search</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-data-access-process" class="xref">Data access process</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-acknowledgment" class="xref">Acknowledgment</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#appendix-A" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
 WHOIS is a transmission protocol that is used to query the IP and owner of a domain name. 
 It can be used to query whether a domain name has been registered, and the detailed information of the registered domain name. 
 Early WHOIS queries existed in the form of command lines, and now there are also ways to query through web pages. 
 The query tools of the web interface still rely on the WHOIS protocol to send query requests to the server, and the tools of the command line interface are still widely used by system administrators.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
 WHOIS service is a free and open directory system that includes the registration information, such as contact information and technical information of registered domain name holders. 
 Anyone who needs to query the relevant information of the website and domain name can obtain it by querying the WHOIS directory information. 
 Registrars and registries collect data and publish them publicly in accordance with the content of the agreement signed with ICANN.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
 The shortcomings of the WHOIS protocol that have been discovered over time include:<a href="#section-1-3" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-1-4.1">
 lack of standardized command structure;<a href="#section-1-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-1-4.2"> 
 lack of standardized output and error structure;<a href="#section-1-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-1-4.3">
 lack of support for internationalization and localization;<a href="#section-1-4.3" class="pilcrow">¶</a>
</li>
        <li class="normal ulEmpty" id="section-1-4.4">
 lack of support for user identification, authentication, and access control.<a href="#section-1-4.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-5">
 REST (Representation State Transfer) is a software architecture. 
 REST observes the entire network from the perspective of resources. 
 The distributed resources are determined by the URI (Uniform Resource Identifier). 
 The client application obtains the representation of the resource through the URI, and can perform CRUD (Create, Read, Update, Delete, and create) operations on these resources. 
 Restful Web Service  is an http service based on the REST architecture. 
 RDAP uses the Restful architecture to improve the WHOIS protocol. 
 The main idea is to look up domain names, registrars, and host information as resources. 
 It uses an architecture based on the HTTP protocol, queries through URIs, and can use XML, JSON or HTML to return structured WHOIS information, thereby improving the defects of the WHOIS protocol(<span>[<a href="#RFC7480" class="xref">RFC7480</a>]</span>).<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">
 Blockchain technology is a decentralized distributed database, which can ensure the security, integrity, distribution, and non-tampering characteristics of data through chain block structure, consensus mechanism, smart contracts, etc.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">
 This document designs a blockchain-based domain name registration data access protocol, which uses the blockchain architecture to maintain and manage domain name registration data.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
<section id="section-2">
      <h2 id="name-overall-process">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overall-process" class="section-name selfRef">Overall process</a>
      </h2>
<p id="section-2-1">
 The blockchain-based RDAP mainly includes modules such as the blockchain layer, storage layer, and data service access node layer. 
 The blockchain layer includes two chains which are registry bootstrap service chain and the registrar bootstrap service chain. 
 The storage layer includes databases where registries and registrars store registration data. 
 The data service access node is responsible for receiving user query requests, obtaining service data through the registry bootstrap service chain and registrar bootstrap service chain, integrating modules of query and response technical requirements, HTTP technical requirements, security technical requirements, and returning the final response data to the user.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2"><a href="#fig-stream-send-states" class="xref">Figure 1</a> shows the registry/registrar blockchain architecture for domain name registration data access protocol .<a href="#section-2-2" class="pilcrow">¶</a></p>
<span id="name-the-overall-architecture"></span><div id="fig-stream-send-states">
<figure id="figure-1">
        <div class="alignLeft art-text artwork" id="section-2-3.1">
<pre>
                      data consolidation
           +-----------------+----------------+
           |                 |                |
   +-------v-------+   +-----+-----+   +------v------+
   |   registry    |   |   IANA    |   |  registrar  |
+--+               |   |           |   |             +--+
|  |               |   |           |   |             |  |
|  |    chain      |   |   ICANN   |   |    chain    |  |
|  +-------^-------+   +-----------+   +------^------+  |
|          |          blockchain nodes        |         |
|  +-------+-------------------+  +-----------+------+  |
|  |                           |  |                  |  |
|  |      registries           |  |    registrars    |  |
|  |                           |  |                  |  |
|  +-------+-------------------+  +-----------+------+  |
|          |    write the registration data   |         |
|  +-------v-------------------+  +-----------v------+  |
|  |                           |  |  databases of    |  |
|  |  databases of registries  |  |                  |  |
|  |                           |  |  registrars      |  |
|  +---------------------------+  +------------------+  |
|                                                       |
|  +-------------------------------------------------+  |
|  |                                                 |  |
|  |                                                 |  |
+--&gt;         The data service access node            &lt;--+
   |                                                 |
   |                                                 |
   +-------^----------------------------------^------+
           |                                  |
   +-------v----------------------------------v------+
   |                users and clients                |
   +-------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-the-overall-architecture" class="selfRef">The Overall Architecture</a>
        </figcaption></figure>
</div>
</section>
<section id="section-3">
      <h2 id="name-blockchain-layer">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-blockchain-layer" class="section-name selfRef">Blockchain layer</a>
      </h2>
<p id="section-3-1">
 The blockchain layer includes the registry bootstrap service chain and the registrar bootstrap service chain. 
 Both of these chains are consortium chains with access mechanisms. 
 They manage members based on the PKI certificate system, and issue signature certificates to participating registries, registrars and other nodes through CA services. 
 Only when nodes hold certificates can they join the blockchain network and manage the addition, modification and deletion of their own resources.<a href="#section-3-1" class="pilcrow">¶</a></p>
<section id="section-3.1">
        <h3 id="name-bootstrap-service-data">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-bootstrap-service-data" class="section-name selfRef">Bootstrap Service data</a>
        </h3>
<p id="section-3.1-1">
 Top-level domains (TLDs), autonomous system (AS) numbers and network blocks are entrusted by IANA to Internet registries, such as TLD registries and regional Internet registries (RIRs), which are subsequently released further commission and maintain information about registered resources. 
 Domain name registration data is not a single centralized management database. 
 On the contrary, multiple registries and registrars in different regions are responsible for the management of their respective registration data. 
 They formulate their own policies for WHOIS services in accordance with the minimum requirements stipulated in the contract they signed with ICANN.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">
 The registrant submits a domain name registration application to the domain name registrar. 
 After the registration is successful, the registrar will store the registration data in its own WHOIS database, and send the corresponding registration data to the TLD registry at the same time according to the requirements of the TLD registry. 
 When the client initiates a WHOIS query, the WHOIS backend service needs to initiate a query request to the corresponding TLD registry to obtain registration data information. 
 The query service itself does not store the registration data of the domain name. 
 The query tool on the web page encapsulates this process.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">
 Regarding the gTLD registries, ICANN clearly stipulates the service requirements of WHOIS in the "Registry Agreements", including two common modes "thick" and "thin". 
 Although all current new gTLD registries adopt an "thick" operating model, there are still some existing registries (such as ".COM" and ".NET") that operate under a "thin" registration model. 
 The thin registry only saves enough data in its WHOIS data repository to confirm the relevant registrar, registration status, the generation and expiration date of each registration, domain name server information and the last update time of the data in the WHOIS database. 
 In addition to providing the above information, the "thick" registry is also responsible for maintaining the registrant's contact information and designated management and technical contact information.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">
 IANA created a new registry based on the specified JSON format, named the Bootstrap Service Registry. 
 The bootstrap service data specifies a method to find which server is authoritative to answer the query of the request range, which can be specified through an HTTP request.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<p id="section-3.1-5">
 For the detailed definition of the data structure of the bootstrap service data, please refer to RFC 7484.<a href="#section-3.1-5" class="pilcrow">¶</a></p>
<p id="section-3.1-6">
 The blockchain-based domain name RDAP uses the registry service chain and the registrar service chain to store the data access service information of the registrar and the registrar respectively, and integrate with the IANA data source to obtain the final bootstrap data.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-the-bootstrap-service-chain">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-the-bootstrap-service-chain" class="section-name selfRef">The bootstrap service chain of registries</a>
        </h3>
<p id="section-3.2-1">
 The registry service chain is divided into the data layer, consensus layer and application layer. 
 The application layer is responsible for the processing of business logic, including binding of top-level domains, and addition, modification and deletion of the registry service data. 
 The consensus layer includes smart contracts and consensus algorithms to ensure the orderliness and effectiveness of blocks and the consistency of data. 
 It is recommended to adopt a hybrid consensus mechanism of DPOA and PBFT. 
 For each top-level domain, the registration data query service information provided by the registry responsible for the top-level domain is stored on the chain.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">
 The participating nodes of the registry service chain are divided into common registry nodes and consensus nodes elected by each node. 
 The registry node can publish the guidance information of the TLD that it is responsible for management, and it will sign the message, then other nodes can verify its identity and information format. 
 The management node is mainly responsible for node admission management and publishes the changed information on the blockchain.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<p id="section-3.2-3">
 The management node manages the registration of the registry through smart contracts. 
 When a registry node joins, it verifies the binding relationship between the registry and the top-level domain, and writes the relationship between the registry and the TLD into the blockchain. 
 The registry node also uses smart contract for data release and update.<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<p id="section-3.2-4">
 The functions of the registry node include adding, modifying, and deleting entries of the bootstrap service of the TLD under its own management. 
 When the registry initiates an application for data release and update, it verifies the encrypted information and identity certification through smart contracts, and writes the data to the blockchain after being reviewed by the management node. 
 Only the registry that manages a TLD has the authority to publish and change the corresponding top-level domain data records.<a href="#section-3.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3">
        <h3 id="name-the-bootstrap-service-chain-">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-the-bootstrap-service-chain-" class="section-name selfRef">The bootstrap service chain of registrars</a>
        </h3>
<p id="section-3.3-1">
 The participating nodes of the registrar service chain are each registrar. 
 It uses a hybrid consensus mechanism of DPOA and PBFT. The nodes added to the blockchain are divided into consensus nodes and ordinary nodes. 
 Ordinary nodes do not participate in the consensus, but can participate in the election to become a consensus node. 
 The K nodes with the highest votes are elected by ordinary nodes to form a consensus node set. 
 Consensus nodes participate in the consensus process and are divided into main verification nodes and other consensus nodes. 
 The main verification node is the current management node, responsible for generating blocks, and then broadcasting to other consensus nodes for block confirmation. 
 At the same time, in order to prevent external attacks, there can also be multiple master verification nodes to form an endorsement committee, and everyone sign transactions through a multi-signature mechanism. 
 After receiving the data change request, the management node will pass it to other consensus nodes for voting after verification. 
 Only if the number of votes exceeds the set threshold, the update will be approved. 
 After a certain round, the consensus nodes will be re-elected. 
 At the same time, the consensus nodes implement a regular rotation mechanism of management nodes.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3-2">
 The participating nodes of the registrar service chain are divided into registrar nodes and consensus nodes elected by each node. 
 The registrar service chain is a consortium chain, and participating nodes need to pass identity verification in the admission mechanism stage before they can join. 
 The management node is mainly responsible for reviewing the application of the registrar to join the blockchain, key management and publishing the changed information on the blockchain. 
 The registrar node can publish the bootstrap information of the domain name registration information query service provided by itself, and it will sign the message, then other nodes will verify its identity and information format.<a href="#section-3.3-2" class="pilcrow">¶</a></p>
<p id="section-3.3-3">
 Only registrars approved by ICANN can join the registrar service chain, and the management node will synchronize ICANN-approved registrar list information as the judging criteria for node joining. 
 After the registrar submits the application for joining the chain, the management node will review, verify its identity information. 
 The registrar can join the blockchain after passing the access mechanism.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">The data stored on the chain includes the base address of the registration data access service provided by each registrar. 
 For a specific registrar, the data format is shown in <a href="#initial" class="xref">Table 1</a>.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<span id="name-block-fields-description"></span><div id="initial">
<table class="center" id="table-1">
          <caption>
<a href="#table-1" class="selfRef">Table 1</a>:
<a href="#name-block-fields-description" class="selfRef">Block Fields Description</a>
          </caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Field Name</th>
              <th class="text-left" rowspan="1" colspan="1">Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">ID</td>
              <td class="text-left" rowspan="1" colspan="1">Registrar ID</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Name</td>
              <td class="text-left" rowspan="1" colspan="1">Registrar Name</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Country</td>
              <td class="text-left" rowspan="1" colspan="1">Country/Territory</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Contact</td>
              <td class="text-left" rowspan="1" colspan="1">Public contact</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">status</td>
              <td class="text-left" rowspan="1" colspan="1">Status(Accredited/Reserved/Terminated)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Link</td>
              <td class="text-left" rowspan="1" colspan="1">Registrar website link</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">serviceURL</td>
              <td class="text-left" rowspan="1" colspan="1">Service URL</td>
            </tr>
          </tbody>
        </table>
</div>
<p id="section-3.3-6"></p>
<p id="section-3.3-7">
 The functions of the registrar node include the ability to add, modify, and delete the service information provided by itself.<a href="#section-3.3-7" class="pilcrow">¶</a></p>
<p id="section-3.3-8">
 After the registrar submits the data change application, the management node verifies the legality of the application, and writes it into the blockchain after the verification is passed and reaching a consensus.<a href="#section-3.3-8" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-4">
      <h2 id="name-data-service-access-node">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-data-service-access-node" class="section-name selfRef">Data service access node</a>
      </h2>
<p id="section-4-1">
 The data access node includes a presentation module, a business module, and a data access module. 
 Representation module is responsible for processing request distribution from different clients; 
 business module includes user authentication, information query, data model definition and some other auxiliary support functions, such as rate limit, connection time limit, online user number limit and error code definition; 
 data access module is responsible for processing the interaction with the database by the data access object, and returns the data content to the upper layer.<a href="#section-4-1" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-the-data-source">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-the-data-source" class="section-name selfRef">The data source</a>
        </h3>
<p id="section-4.1-1">
 The data source of the data service access nodes is divided into two parts: one is the registrar and registrar service chain data, and the second is the data provided by IANA and ICANN.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">
 IANA's bootstrap service registry for domain name space provides the service information of each top-level domain registry, and the data access node can obtain the file content from the IANA official website.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">
 IANA's registrar ID list and ICANN's list of accredited registrars provide registrar-related information, which can be accessed and downloaded through the official website. 
 The data service access node obtains the name, number, country, contact number, email address, and registration data access service interface information of ICANN-accredited registrars from the above list.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2">
        <h3 id="name-data-consolidation-and-upda">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-data-consolidation-and-upda" class="section-name selfRef">Data consolidation and update</a>
        </h3>
<p id="section-4.2-1">
 a) The registry bootstrap data<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">
 The system regularly obtains the data in the registry service chain and the IANA bootstrap service registry. 
 If the blockchain data update timestamp or the timestamp published by the IANA data is inconsistent with the current node data timestamp, it means that the two data sources have been updated.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">
 Data update in the registry service chain is directly loaded to the data access node; 
 for records that do not exist in the registry chain, the data content in the IANA bootstrap files is used.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">
 The data access nodes extract, merge and clean data from different data sources to complete the data integration operation.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2-5">
 b) The registrar bootstrap data<a href="#section-4.2-5" class="pilcrow">¶</a></p>
<p id="section-4.2-6">
 The system regularly obtains the data of the registrar guide service chain, registrar IDs list in IANA and the ICANN accredited registrars list. 
 Through processing operations such as format conversion and splicing of the original data of the two data sources, the registrar's name, number, country, contact number, e-mail address, and registration data access service interface provided by the registrar are obtained.<a href="#section-4.2-6" class="pilcrow">¶</a></p>
<p id="section-4.2-7">
 The data update in the registrar-guided service chain is directly loaded to the data access node. 
 For records that do not exist in the registrar chain, the content integrated in the IANA and ICANN data sources will be used.<a href="#section-4.2-7" class="pilcrow">¶</a></p>
</section>
<section id="section-4.3">
        <h3 id="name-the-path-segment-of-query-a">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-the-path-segment-of-query-a" class="section-name selfRef">The path segment of query and search</a>
        </h3>
<p id="section-4.3-1">
 Typically, a registry or other service provider will provide a basic URL that identifies the protocol, host, and port. 
 The basic URL used to construct the registration data access protocol query is maintained in the blockchain layer. 
 The query is formed by retrieving the appropriate base URL from the registry and appending the specified path segment according to the query or search pattern category.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">
 For detailed definitions of specific categories and specifications of path segments, please refer to <span>[<a href="#RFC9082" class="xref">RFC9082</a>]</span>.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
</section>
<section id="section-4.4">
        <h3 id="name-data-access-process">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-data-access-process" class="section-name selfRef">Data access process</a>
        </h3>
<p id="section-4.4-1">
 The data service access node is responsible for receiving the user's request, obtaining the requested data content, fulfilling the security and authority requirements, the application technical requirements of HTTP query and response, and returning the response to the user. 
 Specific steps are as follows:<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">
 (1) The user sends a request to the data service access node. 
 In addition to the query path segment and other parameters, there is an optional parameter, which means that registry only, registrar only, or registry and registrar data are both queried at the same time. 
 The default option can be set to query the registry and registrar at the same time.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">
 (2) After receiving the user query request, the data service access node first makes a verification according to the content of the user request. 
 If it is to query the registry and the registrar at the same time, it will obtain the corresponding interface information from the registry service blockchain. 
 The data service access node adds the corresponding request path segment, and then realizes the query, response and HTTP technical requirements, and sends the query request to the back-end service. 
 It completes the user identity authorization verification at the same time, and obtains the response data returned by the registry.<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<p id="section-4.4-4">
 (3) The data service access node obtains the registrar information of the domain name from the response data in step 2, and at the same time obtains the query interface information provided by the registrar from the registrar service chain or the link field in the response in step 2. 
 Then, the data service access node adds the corresponding path segment to form a complete query request, and finally obtains the registrar response data.<a href="#section-4.4-4" class="pilcrow">¶</a></p>
<p id="section-4.4-5">
 (4) Return the data obtained in step 2 and step 3 to the user; 
 in addition, the user can also choose to only query the data content of the registry or registrar according to the type of registry.<a href="#section-4.4-5" class="pilcrow">¶</a></p>
</section>
</section>
<div id="Iana">
<section id="section-5">
      <h2 id="name-iana-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-5-1">There are no actions needed.<a href="#section-5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">The blockchain system needs to maintain the overall security of the system at the levels of data content, consensus algorithms, smart contracts, and peer-to-peer networks through technologies such as cryptography and network security. 
 Possible security problems in cryptography include improper key management, vulnerabilities in cryptographic algorithms or components. 
 At the network level, attackers can use peer-to-peer network security vulnerabilities and node network topology to launch attacks. 
 In addition, security considerations also include the consistency problem of the consensus algorithm, code vulnerability, privacy protection and so on. 
 In terms of storage, computing, and data interfaces, the blockchain architecture faces security threats similar to other information systems. 
 In the deployment process, each module should meet the corresponding security requirements.<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="acknowledgment">
<section id="section-7">
      <h2 id="name-acknowledgment">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-acknowledgment" class="section-name selfRef">Acknowledgment</a>
      </h2>
<p id="section-7-1">The authors would like to thank CNNIC RDAP team for their careful review and valuable comments.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-8">
      <h2 id="name-normative-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC7480">[RFC7480]</dt>
      <dd>
<span class="refAuthor">Newton, A.</span>, <span class="refAuthor">Ellacott, B.</span>, and <span class="refAuthor">N. Kong</span>, <span class="refTitle">"HTTP Usage in the Registration Data Access Protocol (RDAP)"</span>, <span class="seriesInfo">STD 95</span>, <span class="seriesInfo">RFC 7480</span>, <span class="seriesInfo">DOI 10.17487/RFC7480</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7480">https://www.rfc-editor.org/info/rfc7480</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9082">[RFC9082]</dt>
    <dd>
<span class="refAuthor">Hollenbeck, S.</span> and <span class="refAuthor">A. Newton</span>, <span class="refTitle">"Registration Data Access Protocol (RDAP) Query Format"</span>, <span class="seriesInfo">STD 95</span>, <span class="seriesInfo">RFC 9082</span>, <span class="seriesInfo">DOI 10.17487/RFC9082</span>, <time datetime="2021-06" class="refDate">June 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9082">https://www.rfc-editor.org/info/rfc9082</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="appendix-A">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Yu Zeng</span></div>
<div dir="auto" class="left"><span class="org">CNNIC</span></div>
<div dir="auto" class="left"><span class="street-address">4 South 4th Street, Zhongguancun, Haidian District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left">
<span class="region">Beijing</span>, <span class="postal-code">100190</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zengyu@cnnic.cn" class="email">zengyu@cnnic.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Man Zhang</span></div>
<div dir="auto" class="left"><span class="org">CNNIC</span></div>
<div dir="auto" class="left"><span class="street-address">4 South 4th Street, Zhongguancun, Haidian District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left">
<span class="region">Beijing</span>, <span class="postal-code">100190</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:zhangman@cnnic.cn" class="email">zhangman@cnnic.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Wei Wang</span></div>
<div dir="auto" class="left"><span class="org">CNIC</span></div>
<div dir="auto" class="left"><span class="street-address">4 South 4th Street, Zhongguancun, Haidian District</span></div>
<div dir="auto" class="left"><span class="locality">Beijing</span></div>
<div dir="auto" class="left">
<span class="region">Beijing</span>, <span class="postal-code">100190</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wangwei@cnic.cn" class="email">wangwei@cnic.cn</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
