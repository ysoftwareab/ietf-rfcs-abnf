Internet Engineering Task Force                             Alain Durand
INTERNET-DRAFT                                                 Jim Paugh
Feb 21, 2002                                       SUN Microsystems, Inc
Expires August 22, 2002






                             MIME TYPE definition for tunnels
                    <draft-ietf-ngtrans-tunnel-mime-type-00.txt>





Status of Memo


   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.  This document is an
   Internet-Draft. Internet-Drafts are working documents of the Internet
   Engineering Task Force (IETF), its areas, and its working groups.
   Note that other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.



Abstract


   Tunnels are very common in the Internet. They are often used to
   deploy new technologies such as multicast or IPv6 when the underlying
   infrastructure is not ready to natively support those new protocols.
   Virtual Private Network are also often build using IP in IP tunnels.
   This document describe a MIME type that provide configuration
   information for tunnels.




1. Introduction


   Managing IP in IP tunnels can be a complex task and various
   approaches have been developed to assist network administrators.  In
   the context of IPv6 transition, the tunnel broker model [BROKER] has
   been developed for that very purpose and highlighted the need for a
   formal description of IPv6 in IPv4 tunnels.  However, such a
   description can be made more generic and provide information about
   almost any kind of tunnels.



2. Related work


   [RADTUN] describe tunnel attributes in RADIUS format.



3. Tunnel management


   Tools and/or protocols to do the actual tunnel management are out of
   the scope of this document.



4. MIME type definition


   In conformance with [MIME], the MIME object to describe tunnels is
   defined in the IETF tree as a subtype of the "Application" MIME type.

   The proposed subtype is "tunnel".

   The tunnel described by this object is a unidirectional tunnel from
   host SRC to host DST.


4.1 Parameters

   Mandatory parameters: none
   Optional parameters: none


4.2 Mandatory MIME headers

4.2.1 Encapsulation type

   header name: encapsulation-type
   header type: Integer
   possible values:

   Tunnel encapsulation types values are taken from [RADTUN].

      1      Point-to-Point Tunneling Protocol [PPTP]
      2      Layer Two Forwarding [L2F]
      3      Layer Two Tunneling Protocol [L2TP]
      4      Ascend Tunnel Management Protocol [ATMP]
      5      Virtual Tunneling Protocol (VTP)
      6      IP Authentication Header in the Tunnel-mode (AH) [IPsec]
      7      IP-in-IP Encapsulation [IP-IP]
      8      Minimal IP-in-IP Encapsulation [MIN-IP]
      9      IP Encapsulating Security Payload in the Tunnel-mode [ESP]
      10     Generic Route Encapsulation [GRE]
      11     Bay Dial Virtual Services (DVS)
      12     IP-in-IP Tunneling [IPinIP]

4.2.2 Tunnel inner medium type

   header name: inner-medium
   header type: Integer
   possible values:

   Tunnel inner medium type values are taken from [NUMBER].  A short
   exerpt is:

      1      IPv4 (IP version 4)
      2      IPv6 (IP version 6)
      3      NSAP
      4      HDLC (8-bit multidrop)
      5      BBN 1822
      6      802 (includes all 802 media plus Ethernet "canonical format")
      7      E.163 (POTS)
      8      E.164 (SMDS, Frame Relay, ATM)
      9      F.69 (Telex)
      10     X.121 (X.25, Frame Relay)
      11     IPX
      12     Appletalk
      13     Decnet IV
      14     Banyan Vines
      15     E.164 with NSAP format subaddress

4.2.3 Tunnel outer medium type

   header name: outer-medium
   header type: Integer
   possible values:

   Tunnel outer medium type values are taken from [NUMBER].  A short
   exerpt is:

      1      IPv4 (IP version 4)
      2      IPv6 (IP version 6)
      3      NSAP
      4      HDLC (8-bit multidrop)
      5      BBN 1822
      6      802 (includes all 802 media plus Ethernet "canonical format")
      7      E.163 (POTS)
      8      E.164 (SMDS, Frame Relay, ATM)
      9      F.69 (Telex)
      10     X.121 (X.25, Frame Relay)
      11     IPX
      12     Appletalk
      13     Decnet IV
      14     Banyan Vines
      15     E.164 with NSAP format subaddress

4.2.4 Inner source address

   header name: inner-src
   header type: string
   possible values: any textual representation of an
                    address enclosed in square brackets.

   Inner source address is the source address in the inner header of any
   packet originated from host SRC through the tunnel.

4.2.4 Outer source address

   header name: outer-src
   header type: string
   possible values: any textual representation of an
                    address enclosed in square brackets.

   Outer source address is the source address in the outer header of any
   packet originated from host SRC through the tunnel.

4.2.5 Inner destination address

   header name: inner-dst
   header type: string
   possible values: any textual representation of an
                    address enclosed in square brackets.

   Inner destination address is the destination address in the inner
   header of any packet originated from host SRC through the tunnel.

4.2.6 Outer destination address

   header name: outer-dst
   header type: string
   possible values: any textual representation of an
                    address enclosed in square brackets.

   Outer destination address is the destination address in the outer
   header of any packet originated from host SRC through the tunnel.


4.3 Optional MIME headers

4.3.1 Inner addresses lifetime

   header name: inner-lifetime
   header type: Integer
   possible values: the lifetime in second of the inner pair
                    of addresses, source and destination.

   A value of zero means infinite lifetime.

4.3.2 Outer addresses lifetime

   header name: outer-lifetime
   header type: Integer
   possible values: the lifetime in second of the outer pair
                    of addresses, source and destination.

   A value of zero means infinite lifetime.

4.3.3 E-mail contact for SRC

   header name: src-email
   header type: string
   possible values: any valid email address, according to [MAIL].

   This is the administrative contact email address for host SRC.  The
   exact semantic of this parameter is beyond the scope of this
   document.

4.3.4 E-mail contact for DST

   header name: dst-email
   header type: string
   possible values: any valid email address, according to [MAIL].

   This is the administrative contact email address for host DST.  The
   exact semantic of this parameter is beyond the scope of this
   document.



5. Example


   The following will describe and IPv6 in IPv4 tunnel between SRC host
   A and DST host B. The lifetime of the tunnel is 1 hour. Alain Durand
   is the contact for host A and Jim Paugh is the contact for host B.

   Host A IPv4 address is 100.100.100.100
   Host A IPv6 address is 3ffe:ffff:ffff:1:0:0:0:A
   Host B IPv4 address is 200.200.200.200
   Host B IPv6 address is 3ffe:ffff:ffff:2:0:0:0:B

   The mime object is:

      Mime-version: 1.0
      Content-type: Application/tunnel

      encapsulation-type: 7
      inner-medium: 2
      outer-medium: 1
      inner-src: 3ffe:ffff:ffff:1:0:0:0:A
      outer-src: 100.100.100.100
      inner-dst: 3ffe:ffff:ffff:2:0:0:0:B
      outer-dst: 200.200.200.200
      inner-lifetime: 3600
      src-email: Alain.Durand@sun.com
      dst-email: Jim.Paugh@sun.com



6. IANA registration


   To: ietf-types@iana.org
   Subject: Registration of MIME media type application/tunnel


   MIME media type name: application


   MIME subtype name: tunnel


   Required parameters: none


   Optional parameters: none


   Encoding considerations: None


   Required headers: encapsulation-type,
                     inner-medium, outer-medium,
                     inner-src, outer-src,
                     inner-dst, outer-dst


   Optional headers: inner-lifetime, outer-lifetime,
                     src-email, dst-email


   Security considerations:

      The information contained in this MIME type may be used by
      application to configured tunnel. Inaccurate information can
      introduce all kind of security hazards, thus it is of the utmost
      importance that these information are transferred over a secure
      channel, that their originator is authenticated and that they are
      guaranteed not to be corrupted.

   Interoperability considerations:

      The mandatory parameters are necessary to guarantee
      interoperability.

   Published specification: none

   Applications which use this media type:

      Tunnel Brokers, tunnel servers, tunnel clients, any database
      storing tunnel information.

   Additional information:

      Magic number(s): none
      File extension(s): none
      Macintosh File Type Code(s): none


   Person & email address to contact for further information:

      Alain Durand           Jim Paugh
      Alain.Durand@sun.com   Jim.Paugh@sun.com

   Intended usage: COMMON


   Author/Change controller: Alain.Durand@sun.com, Jim.Paugh@sun.com



7. Security Considerations


   The information contained in this MIME type may be used by
   application to configured tunnel. Inaccurate information can
   introduce all kind of security hazards, thus it is of the utmost
   importance that these information are transferred over a secure
   channel, that their originator is authenticated and that they are
   guaranteed not to be corrupted. The exact procedure/protocols to be
   used for this purpose is out of the scope of this document.



8. References


   [BROKER] Durand, A., Fasano, P., Guardini, I., Lento, D.,
            IPv6 Tunnel Broker,
            RFC3053, February 2001


   [MIME]   Freed, N., Borenstein, N.,
            "Multipurpose Internet Mail Extensions
            (MIME) Part four: MIME registration procedure, RFC2048,
            November 1996.


   [RADTUN] Zorn, G., Leifer, D., Rubens, A., Shriver, J., Holdrege, M.,
            Goyret, I., RADIUS Attributes for Tunnel Protocol Support,
            RFC2868, June 2000.


   [MAIL]   Crocker, D.,
            Standard for the format of ARPA Internet text messages,
            RFC822, August 1982.


   [NUMBER] Reynolds, J. and J. Postel,
            "Assigned Numbers", STD 2, RFC 1700,
            October 1994.


   [PPTP]   Hamzeh, K., Pall, G., Verthein, W., Taarud,
            J., Little, W. and G. Zorn,
            "Point-to-Point Tunneling Protocol (PPTP)",
            RFC 2637, July 1999.


   [L2F]    Valencia, A., Littlewood, M. and T. Kolar, T.,
            "Cisco Layer Two Forwarding (Protocol) 'L2F'",
            RFC2341, May 1998.


   [L2TP]   Townsley, W., Valencia, A., Rubens, A., Pall,
            G., Zorn, G. and B. Palter,
            "Layer Two Tunnelling Protocol (L2TP)",
            RFC2661, August 1999.


   [ATMP]   Hamzeh, K., "Ascend Tunnel Management Protocol - ATMP",
            RFC2107, February 1997.


   [IPsec]  Kent, S. and R. Atkinson,
            "Security Architecture for the Internet Protocol",
            RFC2401, November 1998.


   [IP-IP]  Perkins, C., "IP Encapsulation within IP",
            RFC2003, October 1996.


   [Min-IP] Perkins, C., "Minimal Encapsulation within IP",
            RFC2004, October 1996.


   [ESP]    Atkinson, R., "IP Encapsulating Security Payload (ESP)",
            RFC1827, August 1995.


   [GRE]    Hanks, S., Li, T., Farinacci, D. and P. Traina,
            "Generic Routing Encapsulation (GRE)",
            RFC 1701, October 1994.


   [INinIP] Simpson, W., "IP in IP Tunneling",
            RFC1853, October 1995.



9. Author's addresses


   Alain Durand
   SUN Microsystems, Inc
   901 San Antonio Road
   MPK17-202
   Palo Alto, CA 94303-4900
   USA
   Mail: Alain.Durand@sun.com


   Jim Paugh
   SUN Microsystems, Inc
   901 San Antonio Road
   MPK17-203
   Palo Alto, CA 94303-4900
   USA
   Mail: Jim.Paugh@sun.com














