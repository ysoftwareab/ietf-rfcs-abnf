Internet Engineering Task Force                               Kushanava Laha
Internet Draft                                                   Vikram Nair 
Document: draft-ietf-megaco-r2package-03.txt         Hughes Software Systems 
Category: Standards Track                                         March 2003 
 
 


                            Megaco/H.248 R2 Package

Status of this Memo

   This document is an Internet-Draft and is in full conformance with all 
   provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering Task Force 
   (IETF), its areas, and its working groups. Note that other groups may also 
   distribute working documents as Internet-Drafts. Internet-Drafts are draft 
   documents valid for a maximum of six months and may be updated, replaced, or 
   obsolete by other documents at any time. It is inappropriate to use 
   Internet- Drafts as reference material or to cite them other than as "work in
   progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.


1. Abstract

   This document is work in progress and defines the R2 package for the 
   Megaco/H.248 Protocol that can be used to exchange call setup supervisory 
   and control information between a Media Gateway (MG) and a Media Gateway 
   Controller (MGC) to realize Signaling System R2 at a VoIP Gateway. It is 
   intended to satisfy the requirements in section 12 of the Megaco/H.248 
   protocol [2].


2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
   "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this document are to 
   be interpreted as described in RFC-2119 [3].


3. Document Organization

   The subsequent portion of this draft is organized into the following major 
   sections:

   * Introduction 
   * Assumptions 



Laha, Nair               Standards Track - Expires September 2003             1
                            Megaco/H.248 R2 Package


   * R2 package
   * Procedures 
   * References
   * Author's Address


4. Introduction 

   Signaling System R2 is used for international/national signaling for both 
   automatic and semiautomatic working. It allows for rapid call set-up by 
   providing sufficient signals in both directions to permit the transmission 
   of numerical and other information relating to the called and calling 
   subscriber lines and to increase routing facilities.

   Terminations (signaling trunks) at the MG, implementing signaling system R2 
   SHOULD realize the R2 package. 

   The R2 package presented in this draft extends the basic CAS package (bcas)
   [4]. The bcas package defines the basic properties that need to be supported
   by a termination in MG to realize any CAS protocol. It also specifies events 
   and signals required to be exchanged between the MGC and MG to execute basic 
   line signaling procedures for any CAS protocol (R2 Signaling System 
   inclusive). The R2 package adds the R2 address signaling parameters in the 
   form of additional properties, events and signals to complete the realization
   of Signaling System R2 at a VoIP Gateway.

   The forward and backward compelled register signaling sequence for exchanging
   call setup control information SHALL be executed in the MG. Signaling System 
   R2 defines several numbered (digit) and enumerated (non-digit) components of 
   the call set-up control information. The numbered call setup-up control 
   information components considered in the R2 package are the destination 
   number, source number and country code. The enumerated call set-up control 
   information components considered are echo suppression information, calling 
   subscriber category, discriminating indicator, nature of circuit, subscriber 
   line status and congestion information. Of these, the numbered components and
   the following enumerated components - echo suppression information, calling 
   subscriber category, discriminating indicator and nature of circuit, are 
   collectively termed as address parameters as they collectively convey the 
   complete address information required for call set-up in Signaling system R2. 
   They are also the components required at the minimum by the outgoing MG in 
   order to start the compelling action. The R2 package defines a "r2addr" 
   signal and event used for exchanging address signaling parameters between MG 
   and MGC. 

   To gracefully handle time sensitive issues governing the compelling sequence 
   and to keep the MGC transparent of implementation specific compelling at MG, 
   the following simple guidelines have been observed while defining the R2
   package.





Laha, Nair               Standards Track - Expires September 2003             2
                            Megaco/H.248 R2 Package


   o  All numbered address parameters are exchanged as complete digit strings 
      between the MG and MGC containing all the digits. Digit by digit reporting
      or signaling of numbered address parameters are not allowed between the MG
      and MGC. 
   o  It is necessary that the outgoing MG is equipped with all the address 
      parameters before it can start with the outpulsing compelling sequence. 
      The MGC, therefore, sends the address parameters to the outgoing MG as 
      additional parameters in one composite R2 Address signal.
   o  The MG behaving as an incoming R2 end, SHALL compel and collect all 
      the address parameters as per the provisioned compelling sequence. 
      Flexibility is there in the package for the MGC to solicit each address 
      parameter as separate events or as a single composite event - the 
      "r2addr" event, where the collected address parameters are ObservedEvents
      Descriptor parameters to the event.
   
   Signals and events related to only basic R2 signaling operation for automatic
   or semi-automatic working, have been considered in the R2 package. Variants 
   of R2 signaling MAY define new supervisory (line) and call set-up control 
   (register) signals to introduce features such as re-answering, trunk 
   offering, re-ring, operator break-in etc, to name a few. As there is no   
   single standard mechanism to implement such features (they vary from country 
   to country), they have not been considered in this package. However it is 
   possible to realize such features on the MEGACO interface, by defining 
   additional signals and events in other packages that either extend this basic
   R2 package or are to be used in conjunction with this R2 package.

   
5. Assumptions

a) As shown in the diagram below, MG can be connected to R2 exchange for R2 
   compelled signaling, peer MG for media transport and MGC for exchanging R2 
   signaling information using MEGACO/H.248 with R2 package.


                                     +-----+
                            +-MEGACO-| MGC |-MEGACO-+
                            |        +-----+        |        
                            |                       | 
      (~~~~~~)           +--+--+                 +--+--+           (~~~~~~)
      ( PSTN )====R2=====| MG1 |------RTP--------| MG2 |====R2=====( PSTN )
      (~~~~~~)           +-----+                 +-----+           (~~~~~~)
   [Call origination] [Incoming MG]           [Outgoing MG]  [Call Termination]
    

                          Incoming - Outgoing convention
                          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

   This draft uses the following convention for incoming / outgoing MG
   o  Incoming MG: R2 exchange initiates the call signaling towards MG.
   o  Outgoing MG: MG initiates the call signaling towards R2 exchange.



Laha, Nair               Standards Track - Expires September 2003             3
                            Megaco/H.248 R2 Package


   Hence as shown in the figure above, MG1 is an incoming MG and MG2 is an 
   outgoing MG.

b) The call agent (MGC) is transparent of the transmission details at the 
   physical layer i.e. the R2 terminations at MG are analogue / digital, 
   one-way / both-ways etc. The MG is therefore assumed to be provisioned with 
   the actual signaling frequencies for inter-register signaling (2-out-of-n 
   in-band multi frequency code with forward and backward compelled signaling) 
   along with their properties such as amplitude, tone duration, cadence etc 
   and also their logical significance. All timers that dictate the inter-
   register compelling actions are also assumed to be provisioned in the MG. 

c) The MG, behaving as an incoming end, MAY not be provisioned to recognize the 
   "end of pulsing" compelled forward register signal. It is assumed therefore 
   that the incoming MG SHALL detect the end of digit information in called 
   party number based on some digit map. This SHALL also take care of situations
   where identification of end of digit sequence is through length 
   determination or timeout mechanisms. Calling party number SHALL be compelled
   till the occurrence of maximum length of calling party number or timeout, 
   specified as package property, or encountering end of pulsing. The MG is 
   assumed to be provisioned with a list of possible country codes. The MG 
   SHALL compel the country code digits based on this provisioned information.

d) The VoIP Gateway (MG and MGC), supporting signaling System R2 on the PSTN 
   side, forms the signaling and media interworking gateway between two very 
   different types of signaling and network. It is therefore assumed that the MG
   SHALL either originate or terminate R2 signaling (acting as a true inter-
   working unit between the PSTN and packet network both in terms of signaling 
   and media) depending on whether it emulates the outgoing or incoming end in 
   the signal path. Under tandem operation, therefore, the MG converts end-to-
   end R2 signaling to link-by-link signaling and does not allow R2 register 
   signals to pass through it as tones.



6. R2 Package 


6.1 Package

    Package Name: R2 Package
    Package ID:   r2 (To be allocated through IANA)
    Description:  This package provides package parameters applicable to 
                  terminations supporting compelled R2 register signaling 
                  between the Media Gateway and the PSTN network.
    Version:      1
    Extends:      bcas






Laha, Nair               Standards Track - Expires September 2003             4
                            Megaco/H.248 R2 Package


6.2 Properties

   The MG has a provisioned value for all the properties. If unmodified by MGC, 
   the MG uses the provisioned value by default.

    Property Name: Source Number Length
    Property id:   snl (0x0001)
    Description:   Indicates that the calling party digits are to be collected 
                   By the MG upto a maximum length as specified by this 
                   parameter value. 
    Type:          integer
    Possible values: 0 and up 
    Defined in:    TerminationState
    Characteristics: Read/Write 

    Property Name: Compelling Sequence Keepalive Time
    Property id:   cskt (0x0002)
    Description:   Specifies the time duration for which the incoming MG MAY 
                   keep alive the compelling sequence, waiting for the
		   subscriber line status information from MGC.
    Type: integer 
    Possible Values: 0 and up in milliseconds 
    Defined In: TerminationState 
    Characteristics: Read
 

6.3 Events

   The actual frequency, cadence, duration and amplitude values for the multi-
   frequency tones that convey the register signaling information on the 
   physical interface are provisioned in the MG.


6.3.1

    Event Name:    R2 Address
    EventID:       r2addr (0x0001)
    Description:   Reports the address parameter collected through compelled 
                   register signaling. The address parameter include the 
                   destination number, source number identification, the 
                   calling subscriber category, controlling information for 
                   echo suppression, country code, nature of trunk circuit and 
		   discriminating digit information for international calls 
		   (whichever is compelled and collected). 
    EventsDescriptor Parameters: Digit map parameter activated for collection 
                   of destination number, specifying a digit map by name 
                   (previously configured) or by value.

    ObservedEventsDescriptor Parameters:
                   Parameter Name: Destination Number 
                   ParameterID: di (0x0001)


Laha, Nair               Standards Track - Expires September 2003             5
                            Megaco/H.248 R2 Package


                   Description: The called party number digit string that 
                                matched part or all of an alternative sequence 
				specified in the digit map, collected through 
				the compelled register signaling. This is a 
				mandatory ObservedEventsDescriptor parameter. 
                   Type: String of digits returned as a quoted string.
                   Possible Values: A sequence of the characters "0" through "9"

                   Parameter Name: Destination Number Termination Method
                   ParameterID: dimeth (0x0002)
                   Description: Indicates the reason for the generation of the 
                                Destination number parameter. This is a 
                                mandatory ObservedEventsDescriptor parameter. 
                   Type: enumeration
                   Possible values:
                         "UM" (0x0001) Unambiguous match
                         "PM" (0x0002) Partial match
                         "FM" (0x0003) Full match 

                   Parameter Name: Source Number 
                   ParameterID: si (0x0003)
                   Description: If present, reports the compelled calling party 
                                number digit string. 
                   Type: string of digits returned as a quoted string.
                   Possible Values: a sequence of the characters "0" through "9"

                   Parameter Name: Source Number Termination Method
                   ParameterID: simeth (0x0004)
                   Description: If Source Number parameter is reported, 
                                indicates the reason for the generation of the 
                                same. 
                   Type: enumeration
                   Possible values:
                         "EP" (0x0001) End of Pulsing
                         "ML" (0x0002) Maximum Length 
                         "TO" (0x0003) Timeout 

                   Parameter Name: Calling Subscriber Category
                   ParameterID: sc (0x0005)
                   Description: If present, reports the compelled calling party 
                                subscriber's category.
                   Type: enumeration
                   Possible Values:                        
                      "NNPS"  (0x0001) Non-priority subscriber 
                                       (National Working)
                      "NPRS"  (0x0002) Priority subscriber (National Working)
                      "NMNT"  (0x0003) Maintenance equipment (National working)
                      "NOPR"  (0x0004) Operator call (National Working)
                      "NDT"   (0x0005) Data transmission (National working)
                      "ISOPR" (0x0006) Subscriber or operator without forward 
                                       transfer facility (International working)


Laha, Nair               Standards Track - Expires September 2003             6
                            Megaco/H.248 R2 Package


                      "IOPRF" (0x0007) Operator with forward transfer facility 
                                       (International working)
                      "IDT"   (0x0008) Data transmission 
                                       (International working)
                      "IPRS"  (0x0009) Priority subscriber 
                                       (International working)
                      "NSMTR" (0x000a) Subscriber with meter
                                       (National working)
                      "SIDD" (0x000b) Subscriber with IDD 
                       
                   Parameter Name: Echo Suppression Information
                   ParameterID: es (0x0006)
                   Description: If present, conveys the compelled control 
                                information on echo suppressors
                   Type: enumeration
                   Possible Values: 
                         "OGRQ"  (0x0001) Call requires echo suppressors and 
			                  outgoing half-echo suppressor has to 
					  be inserted 
                         "NRQ"   (0x0002) Call MAY not require any echo 
			                  suppressor 
                         "OGINS" (0x0003) Call requires echo suppressors and 
			                  outgoing half-echo suppressor has 
					  already been inserted
                         "ICRQ"  (0x0004) Call requires incoming echo 
			                  suppressors to be inserted

                   Parameter Name: Country Code Information
                   ParameterID: cc (0x0007)
                   Description: If present, conveys the country code (and 
		                possibly the area code) digit string collected 
				as a part of the compelled register signaling 
				in international working. 
                   Type: string of digits returned as a quoted string.
                   Possible values: A sequence of the characters "0" through "9"

                   Parameter Name: Discriminating Indicator  
                   ParameterID: disc (0x0008)
                   Description: If present, specifies the compelled information 
                                on discriminating digit for automatic working. 
                                For semi-automatic working this MAY specify the 
                                service language (Language digit) to be used by 
                                the operator. For international working MAY 
                                serve as a test call indicator also.            
                   Type: enumeration
                   Possible Values: 
                         "DISC"(0x0001) Discriminating digit for automatic 
                                        working
                         "FR" (0x0002)  Language digit French
                         "EN" (0x0003)  Language digit English
                         "GR" (0x0004)  Language digit German
                         "RU" (0x0005)  Language digit Russian

Laha, Nair               Standards Track - Expires September 2003             7
                            Megaco/H.248 R2 Package


                         "SP" (0x0006)  Language digit Spanish
                         "OT" (0x0007)  Language digit Other
                         "TCI" (0x0008) Call by automatic test equipment

                   Parameter Name: Nature of circuit
                   ParameterID: nac (0x0009)
                   Description: If present, reports the compelled information 
		                on the nature of circuits involved in the 
				connection so far viz. inclusion of satellite 
				link.
                   Type: enumeration
                   Possible Values: 
                         "SATINC"   (0x0001) Satellite link included
                         "SATNOINC" (0x0002) Satellite link not included


6.3.2

    Event Name:    Called Party Reachability Status
    EventID:       cprs (0x0002)
    Description:   Reports the line status of the called subscriber, collected 
                   by the outgoing end through compelled register signaling. 
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Called Party Line Condition
                   ParameterID: cplc (0x0001)
                   Description: Line conditions of the called subscriber
                   Type: enumeration
                   Possible Values: 
                         "UN"     (0x0001) Unallocated number
                         "SLB"    (0x0002) Subscriber line busy
                         "SLFC"   (0x0003) Subscriber line free, charge
                         "SLFNOC" (0x0004) Subscriber line free, no charge
                         "SOO"    (0x0005) Subscriber out of order
                         "SIT"    (0x0006) Send special information tone
                         "NK"     (0x0007) Subscriber status not known, set-up 
                                           speech path


6.3.3

    Event Name:    R2 Failure
    EventID:       r2f (0x0003)
    Description:   Reports abnormal R2 register signaling conditions to MGC
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Error Code
                   ParameterID: ec (0x0001)
                   Description: Describes the failure reason
                   Type: enumeration

Laha, Nair               Standards Track - Expires September 2003             8
                            Megaco/H.248 R2 Package


                   Possible Values: 
                         "ERR"  (0x0001)  Error in compelling sequence with 
			                  peer  R2 register
                         "INC"  (0x0002)  Information signaled by the MGC is 
                                          incomplete to continue with the 
                                          compelling sequence at outgoing MG
                         "DISC" (0x0003)  Information signaled by the MGC is 
                                          inappropriate at the compelling stage 
                                          at MG and hence discarded 


6.3.4

    Event Name:    Destination number 
    EventID:       di (0x0004)
    Description:   Event to report destination number address parameter to MGC.
    EventsDescriptor Parameters: Digit map parameter activated for collection 
                                 of destination number, specifying a digit map 
				 by name (previously configured) or by value.
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Destination number 
                   ParameterID: di (0x0001)
                   Description: The called party number digit string that 
                                matched part or all of an alternative 
                                sequence specified in the digit map, collected 
                                through the compelled register signaling. 
                   Type: String of digits returned as a quoted string.
                   Possible Values: A sequence of the characters "0" through "9"

                   Parameter Name: Destination number Termination Method
                   ParameterID: dimeth (0x0002)
                   Description: Indicates the reason for the generation of the 
                                Destination number parameter.
                   Type: enumeration
                   Possible values:
                         "UM" (0x0001) Unambiguous match
                         "PM" (0x0002) Partial match
                         "FM" (0x0003) Full match


6.3.5

    Event Name:    Source number 
    EventID:       si (0x0005)
    Description:   Event to report source number address parameter to MGC.  
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Source number 
                   ParameterID: si (0x0001)



Laha, Nair               Standards Track - Expires September 2003             9
                            Megaco/H.248 R2 Package


                   Description: Reports the compelled calling party number 
                                digit string. 
                   Type: String of digits returned as a quoted string.
                   Possible Values: A sequence of the characters "0" through "9"

                   Parameter Name: Source Number Termination Method
                   ParameterID: simeth (0x0002)
                   Description: If Source Number parameter is reported, 
                                indicates the reason for the generation of the 
                                same. 
                   Type: enumeration
                   Possible values:
                         "EP" (0x0001) End of Pulsing
                         "ML" (0x0002) Maximum Length 
                         "TO" (0x0003) Timeout 


6.3.6

    Event Name:    Calling Subscriber Category
    EventID:       sc (0x0006)
    Description:   Event to report calling subscriber category parameter to MGC.
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Subscriber Category 
                   ParameterID: sc (0x0001)
                   Description: Calling Party's category, as collected through 
                                compelled register signaling.
                   Type: enumeration
                   Possible Values:
                      "NNPS"  (0x0001) Non-priority subscriber 
                                       (National Working)
                      "NPRS"  (0x0002) Priority subscriber (National Working)
                      "NMNT"  (0x0003) Maintenance equipment (National working)
                      "NOPR"  (0x0004) Operator call (National Working)
                      "NDT"   (0x0005) Data transmission (National working)
                      "ISOPR" (0x0006) Subscriber or operator without forward 
                                       transfer facility (International working)
                      "IOPRF" (0x0007) Operator with forward transfer facility 
                                       (International working)
                      "IDT"   (0x0008) Data transmission 
                                       (International working)
                      "IPRS"  (0x0009) Priority subscriber 
                                       (International working)
                      "NSMTR" (0x000a) Subscriber with meter
                                       (National working)
                      "SIDD" (0x000b) Subscriber with IDD 
                       




Laha, Nair               Standards Track - Expires September 2003            10
                            Megaco/H.248 R2 Package


6.3.7

    Event Name:    Echo Suppression Information
    EventID:       es (0x0007)
    Description:   Event to report echo suppression information parameter to 
                   MGC.
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Echo Suppression Information
                   ParameterID: es (0x0001)
                   Description: Control Information on echo suppressors
                   Type: enumeration
                   Possible Values: 
                         "OGRQ"  (0x0001) Call requires echo suppressors and 
			                  outgoing half-echo suppressor has to 
					  be inserted 
                         "NRQ"   (0x0002) Call MAY not require any echo 
			                  suppressor 
                         "OGINS" (0x0003) Call requires echo suppressors and 
                                          outgoing half-echo suppressor has 
                                          already been inserted
                         "ICRQ"  (0x0004) Call requires incoming echo 
			                  suppressors to be inserted


6.3.8

    Event Name:    Country Code Information
    EventID:       cc (0x0008)
    Description:   Event to specify country code information parameter to MGC.
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Country Code Information
                   ParameterID: cc (0x0001)
                   Description: Country code (and possibly area code)digit 
		                string collected as a part of the compelled 
				register signaling in international working. 
                   Type: string of digits returned as a quoted string.
                   Possible values: A sequence of the characters "0" through "9"


6.3.9

    Event Name:    Discriminating Indicator
    EventID:       disc (0x0009)
    Description:   Event to specify discriminating indicator parameter to MGC.
    EventsDescriptor Parameters:
                   none defined by this package



Laha, Nair               Standards Track - Expires September 2003            11
                            Megaco/H.248 R2 Package


    ObservedEventsDescriptor Parameters:
                   Parameter Name: Discriminating Indicator
                   ParameterID: disc (0x0001)
                   Description: For automatic working this MAY specify that a 
                                discriminating digit is used. For semi-
				automatic working MAY specify the service 
				language (Language digit) to be used by the 
				operator. For international working MAY serve 
				as a test call indicator.
                   Type: enumeration
                   Possible Values: 
                         "DISC"(0x0001) Discriminating digit for automatic 
                                        working
                         "FR"  (0x0002) Language digit French
                         "EN"  (0x0003) Language digit English
                         "GR"  (0x0004) Language digit German
                         "RU"  (0x0005) Language digit Russian
                         "SP"  (0x0006) Language digit Spanish
                         "OT"  (0x0007) Language digit Other
                         "TCI" (0x0008) Call by automatic test equipment


6.3.10

    Event Name:    Nature of circuit
    EventID:       nac (0x000A)
    Description:   Event to specify nature of circuit parameter to MGC. 
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   Parameter Name: Nature of circuit
                   ParameterID: nac (0x0001)
                   Description: Reports the nature of circuits involved in the 
                                connection so far viz. inclusion of satellite 
                                link.
                   Type: enumeration
                   Possible Values: 
                         "SATINC"   (0x0001) Satellite link included
                         "SATNOINC" (0x0002) Satellite link not included


6.3.11

    Event Name:    Congestion
    EventID:       cng (0x000B)
    Description:   Event to specify network congestion encountered.
    EventsDescriptor Parameters:
                   none defined by this package
    ObservedEventsDescriptor Parameters:
                   none defined by this package



Laha, Nair               Standards Track - Expires September 2003            12
                            Megaco/H.248 R2 Package


6.4 Signals

   The actual frequency, cadence, duration and amplitude values for the multi-
   frequency tones that convey the register signaling information are 
   provisioned in the MG.


6.4.1

    Signal Name:   R2 Address
    SignalID:      r2addr (0x0001)
    Description:   Composite signal that supplies all the necessary address 
                   parameters to start the compelling register signaling at the 
                   outgoing MG. All the parameter conveyed in this signal MAY 
                   not be actually applied on the termination by the outgoing 
                   MG. The MG SHALL transmit only those information that is 
                   relevant to the compelling action configured at the MG. 
    Signal Type:   (BR) Brief
    Duration:      Provisioned
    Additional Parameters: 
                   Parameter Name: Destination number 
                   ParameterID: di (0x0001)
                   Description: The called party number digits. This parameter 
                                SHALL be mandatorily present in the Address 
                                signal.
                   Type: string of digits 
                   Possible Values: a sequence of the characters "0" through "9"

                   Parameter Name: Source number 
                   ParameterID: si (0x0002)
                   Description: The calling party number digits. If the 
                                source number is not available at the MGC, this 
                                parameter MAY be absent in the Address signal. 
                   Type: string of digits 
                   Possible Values: a sequence of the characters "0" through "9"

                   Parameter Name: Calling Subscriber Category
                   ParameterID: sc (0x0003)
                   Description: Calling party subscriber's category. If the 
                                calling subscriber category is not available at 
                                the MGC, this parameter MAY be absent in the 
                                signal.
                   Type: enumeration
                   Possible Values: 
                      "NNPS"  (0x0001) Non-priority subscriber (National 
		                       Working)
                      "NPRS"  (0x0002) Priority subscriber (National Working)
                      "NMNT"  (0x0003) Maintenance equipment (National working)
                      "NOPR"  (0x0004) Operator call (National Working)
                      "NDT"   (0x0005) Data transmission (National working)



Laha, Nair               Standards Track - Expires September 2003            13
                            Megaco/H.248 R2 Package


                      "ISOPR" (0x0006) Subscriber or operator without forward 
                                       transfer facility (International 
                                       working)
                      "IOPRF" (0x0007) Operator with forward transfer facility 
                                       (International working)
                      "IDT"   (0x0008) Data transmission (International working)
                      "IPRS"  (0x0009) Priority subscriber (International 
                                       working)

                   Parameter Name: Echo Suppression Information
                   ParameterID: es (0x0004)
                   Description: Control information on echo suppressors
                   Type: enumeration
                   Possible Values: 
                         "OGRQ"  (0x0001) Call requires echo suppressors and 
                                  outgoing half-echo suppressor has to 
                                  be inserted 
                         "NRQ"   (0x0002) Call MAY not require any echo 
                                  suppressor 
                         "OGINS" (0x0003) Call requires echo suppressors and 
                                  outgoing half-echo suppressor has 
                                  already been inserted
                         "ICRQ"  (0x0004) Call requires incoming echo 
                                  suppressors to be inserted

                   Parameter Name: Country Code Information
                   ParameterID: cc (0x0005)                    
                   Description: Country code information. If present, conveys 
                                the country code (and possibly the area code as 
                                well) information digits. 
                   Type: string of digits 
                   Possible Values: a sequence of the characters "0" through "9"

                   Parameter Name: Discriminating Indicator  
                   ParameterID: disc (0x0006)
                   Description: For automatic working MAY specify that a
                                discriminating digit is used. For semi-automatic
                                working MAY specify the service language 
                                (Language digit) to be used by the operator. For
                                international working MAY serve as a test call 
                                indicator.
                   Type: enumeration
                   Possible Values: 
                         "DISC" (0x0001) Discriminating digit for automatic 
                                         working
                         "FR"   (0x0002) Language digit French
                         "EN"   (0x0003) Language digit English
                         "GR"   (0x0004) Language digit German
                         "RU"   (0x0005) Language digit Russian
                         "SP"   (0x0006) Language digit Spanish
                         "OT"   (0x0007) Language digit Other
                         "TCI"  (0x0008) Call by automatic test equipment

Laha, Nair               Standards Track - Expires September 2003            14
                            Megaco/H.248 R2 Package


                   Parameter Name: Nature of Circuit  
                   ParameterID: nac (0x0007)
                   Description: conveys the nature of circuits involved in the 
                                connection so far viz. inclusion of satellite                                    link.
                   Type: Enumeration
                   Possible Values: 
                         "SATINC"   (0x0001) Satellite link included
                         "SATNOINC" (0x0002) Satellite link not included


6.4.2

    Signal Name:   Congestion
    SignalID:      cng (0x0002)
    Description:   This signal applies the network congestion compelled R2 
                   signal on a termination in the incoming MG. It arises when at                    MGC the call setup attempt fails owing to unavailability of                    resources or encounters network congestion while routing. 
    Signal Type:   (BR) Brief
    Duration:      Provisioned
    Additional Parameters: None


6.4.3

    Signal Name:   Called Party Reachability Status
    SignalID:      cprs (0x0003)
    Description:   This signal applies the compelled R2 signal that translates 
                   to called subscriber line status information. 
    Signal Type:   (BR) Brief
    Duration:      Provisioned
    Additional Parameters: 
                   Parameter Name: Called Party Line Condition
                   ParameterID: cplc (0x0001)
                   Description: Line conditions of the called subscriber
                   Type: enumeration
                   Possible Values: 
                         "UN"     (0x0001) Unallocated number
                         "SLB"    (0x0002) Subscriber line busy
                         "SLFC"   (0x0003) Subscriber line free, charge
                         "SLFNOC" (0x0004) Subscriber line free, no charge
                         "SOO"    (0x0005) Subscriber out of order
                         "SIT"    (0x0006) Send special information tone


6.5 Statistics

   none defined by this package




Laha, Nair               Standards Track - Expires September 2003            15
                            Megaco/H.248 R2 Package


7. Procedures


7.1 Termination of Called Party Number digit collection at incoming MG

   MG SHALL collect called party number digits using the digit map specified by 
   MGC. If the MG is provisioned to recognize the "end of pulsing" register 
   signal, this signal together with the digit map SHALL determine the 
   termination condition of the accumulated digits. 

   During called party number compelling when the MG determines that an 
   unambiguous match has been found with an alternative in the digit map, the MG      
   SHALL report the collected digits with the Destination Number Termination
   Method set to "Unambiguous Match". This matching criterion MAY also coincide 
   with the reception of the "end of pulsing" signal.

   Digit collection MAY terminate due to completion by timer expiry or the 
   reception of "end of pulsing" signal when an alternative in the digit map has   
   partially matched. The MG SHALL then report the collected digits with the 
   Destination Number Termination Method set to "Partial Match". 

   Similarly, Digit collection MAY terminate due to completion by timer expiry 
   or the reception of "end of pulsing" signal after one of the alternative in 
   the digit map has fully matched and there are more digits available, the MG 
   SHALL report all the collected digits with the Destination Number Termination   
   Method set to "Full Match".

   The action taken by the MGC based on the Destination Number Termination 
   Method is left implementation specific.


7.2 Termination of Calling Party Number collection at incoming MG

   MG SHALL collect calling party number digit string till the occurrence of any   
   of the event mentioned below.

   If MG is provisioned to recognize the end-of-pulsing signal, calling party 
   number collection MAY terminate due to reception of end-of-pulsing signal. 
   In such a case, MG SHALL report all the collected calling party digits with 
   the Source Number Termination Method set to "End of Pulsing".

   If the "snl" property is set to a non-zero value, MG collects the calling 
   party number for this maximum number of digits. The MG SHALL report all the 
   collected calling party digits with the Source Number Termination Method set 
   to "Maximum Length".

   MG MAY also implement a digit timeout mechanism. The timer value is 
   provisioned at the MG and started the moment calling party number compelling 
   starts. If the digit collection terminates due to this timeout, MG SHALL 
   report all the collected calling party digits with the Source Number 
   Termination Method set to "Timeout".

   
Laha, Nair               Standards Track - Expires September 2003            16
                            Megaco/H.248 R2 Package

   The action taken by the MGC based on of the Source Number Termination Method 
   is implementation specific.


7.3 Termination of Country Code digit collection at incoming MG

   MG maybe locally provisioned with the list of country codes corresponding
   to location of the outgoing international R2 register based on which the MG 
   MAY terminate the compelling of the country code digits. 


7.4 Termination of Compelling Sequence

   R2 signaling imposes severe timing constraints on the compelling sequence 
   executed at the MG. The MGC MAY take a finite time to signal the Called Party   
   Reachability Status to the incoming MG after the necessary call setup address
   information has been compelled and reported to MGC. At this point, the 
   incoming MG MAY 

   o  Terminate the compelling sequence 
   o  Keep the compelling sequence alive 

   If compelling timings are stringent, the incoming MG MAY terminate the 
   compelling sequence without waiting for the call routing status information 
   (Called Party Reachability Status or Congestion signal) being transmitted by 
   the MGC. The MG SHALL transmit a suitable backward register signal that 
   informs the peer R2 register to setup speech-path. The call routing status 
   cannot be therefore signaled through register signaling. In this case, the 
   MGC MAY instruct the MG to transmit the call routing status as inband call 
   progress tones (out of scope of this package), if call routing tones are not 
   already available inband at the MG.

   If the compelling timings allow some room for the MG to wait for the call 
   routing status to be signaled, the incoming MG MAY alternately choose to keep   
   the compelling sequence alive within protocol limitations. The MG MAY 
   typically start a timer equal to the duration permitted by the R2 register 
   signaling protocol. If within this time, the MGC signals the Called Party 
   Reachability Status (or Congestion signal), the same is transmitted to the 
   peer R2 register as R2 register signals before completing the compelling 
   sequence. If timeout occurs at MG while waiting for the Called Party 
   Reachability Status or Congestion signal, the MG SHALL terminate the 
   compelling sequence by transmitting a suitable backward register signal that 
   informs the peer R2 register to setup speech path. 

   In either case, if the MGC signals the Called Party Reachability Status or 
   Congestion signal after the MG has terminated the compelling sequence, the MG   
   SHALL respond with an R2 Failure event with Error Code set as DISC. The MGC 
   MAY then choose to re-signal the call routing status as inband call progress 
   tones (out of scope of this package).

   MGC MAY desire to audit the time window for which the incoming MG keeps 
   alive, before terminating, the compelling sequence; waiting for the call 
   routing status. Based on this time window, MGC MAY decide before hand as to 
   
Laha, Nair               Standards Track - Expires September 2003            17
                            Megaco/H.248 R2 Package


   how to send the routing status information to the MG - as Called Party 
   Reachability Status signal (or Congestion signal) or call routing tones. The 
   Compelling Sequence Keepalive Time property MAY be used for this purpose. A 
   value of zero indicates that the MG immediately terminates the compelling 
   sequence.


8. References

[1]  Bradner, S., "The Internet Standards Process -- Revision 3", BCP 9, RFC 
     2026, October 1996.

[2]  F. Cuervo, N. Greene, A. Rayhan, C. Huitema, B. Rosen, J. Segers, "Megaco
     Protocol Version 1.0", RFC 3015, November 2000.

[3]  Bradner, S., "Key words for use in RFCs to Indicate Requirement Levels", 
     BCP 14, RFC 2119, March 1997

[4]  V.Bajaj, K.Laha, Bill Foster, Michael Brown, Wendy Bothwell, "Megaco/H.248 
     Basic CAS Packages", Internet Draft, March 2002.

[5]  Specifications of Signaling System R2, Q.400 to Q.490, Blue Book, CCITT 


9. Author's Addresses

   Kushanava Laha
   Hughes Software Systems, Ltd.
   Gurgaon,Haryana,India. 122015.
   Ph: (91)-124-2346666. Ext-2226
   Email: klaha@hss.hns.com.

   Vikram Nair
   Hughes Software Systems, Ltd.
   Gurgaon,Haryana,India. 122015.
   Ph: (91)-124-2346666. Ex-1632
   Email: vnair@hss.hns.com

   


Full Copyright Statement

   "Copyright (C) The Internet Society (June,2001). All Rights Reserved. This 
   document and translations of it may be copied and furnished to others, and 
   derivative works that comment on or otherwise explain it or assist in its 
   implementation may be prepared, copied, published and distributed, in whole 
   or in part, without restriction of any kind, provided that the above 
   copyright notice and this paragraph are included on all such copies and 
   derivative works.  However, this document itself may not be modified in any 
   way, such as by removing the copyright notice or references to the Internet 


Laha, Nair               Standards Track - Expires September 2003            18
                            Megaco/H.248 R2 Package


   Society or other Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for copyrights 
   defined in the Internet Standards process must be followed, or as required 
   to translate it into languages other than English.  The limited permissions 
   granted above are perpetual and will not be revoked by the Internet Society 
   or its successors or assigns.  This document and the information contained 
   herein is provided on an "AS IS" basis and THE INTERNET SOCIETY AND THE 
   INTERNET ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION 
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE." 










































Laha, Nair               Standards Track - Expires September 2003            19
