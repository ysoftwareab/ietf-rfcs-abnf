
Media Gateway Control                                  C. Michael Brown
                                                          Keven Chapman
                                                            Kevin Boyle
Internet Draft                                          Nortel Networks
Document: draft-brown-supplpkgs-00.txt                      March  2000
Category: Informational


                 Supplemental Packages for Megaco/H.248


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
      all provisions of Section 10 of RFC2026 [1].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as "work in
   progress."
   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.




1. Abstract

   This document provides proposed definitions for several supplemental
   packages for Megaco/H.248. These packages address support of
   functionality for basic and enhanced telephony services, and PSTN
   Per Trunk Signaling (PTS).


2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in RFC-2119 [2].


3. Telephony services package definitions

3.1 Expanded Call Progress Tones Generator Package
   PackageID: xcg
   Version: 1
   Extends: cg version 1
                Supplemental Packages for Megaco/H.248      March 2000

   This package defines additional call progress indications as
   signals.

   Properties
   None.

   Events
   None.

   Signals

   Comfort Tone
   SignaID: cmft
   Generate comfort tone, to indicate that the call is still in the
   process of being connected.  The physical characteristic of comfort
   tone is available in the gateway.
   Signal Type: Timeout
   Duration: Provisioned
   Additional Parameters: None

   Off-Hook Warning Tone
   SignaID: roh
   Generate receiver off-hook warning tone, to urge the customer to
   replace the receiver on the cradle.  The physical characteristic of
   roh tone is available in the gateway.
   Signal Type: Timeout
   Duration: Provisioned
   Additional Parameters: None

   Negative Acknowledgement
   SignaID: nack
   Signal negative acknowledgement.  The physical characteristic of
   nack tone is available in the gateway.
   Signal Type: Timeout
   Duration: Provisioned
   Additional Parameters: None

   Vacant Number Tone
   SignaID: vac
   Signal that the number dialed routes to a non-existent address.  The
   physical characteristic of vacant tone is available in the gateway.
   Signal Type: Timeout
   Duration: Provisioned
   Additional Parameters: None

   Statistics
   None.

   Procedures
   None.

3.2 Enhanced Alerting Package
   PackageID: alert
                Supplemental Packages for Megaco/H.248      March 2000

   Version: 1
   Extends:
   This package defines enhanced alerting signals for an analog line.

   Properties
   None.

   Events
   None.

   Signals

   Ring
   SignalID: ri
   Applies ringing to the line.
   Signal Type: TimeOut
   Duration: Provisioned
   Additional Parameters:
   Pattern
   ParameterID: pattern
   Type: Enumeration
   Possible Values: 1, 2, 3, 4
   The pattern is an abstract indication of the distinctive alerting
   pattern that will be applied to the line. The alert/ri pattern
   parameter has a direct mapping to the alert/cw pattern parameter and
   the alert/cid pattern parameter.  The actual cadence/frequency
   combination is available in the gateway.  The default is pattern 1,
   which indicates the default alerting style.  Ring patterns repeat
   until the signal times out, or is interrupted.

   Ringsplash
   SignalID: rs
   Applies ringsplash to the line.
   Signal Type: Brief
   Duration: 500 milliseconds
   Additional Parameters: None.

   Call Waiting
   SignaID: cw
   Generate call waiting indication to the user. The cw signal
   definition takes a pattern parameter, to allow generation of
   distinctive waiting tones.
   Signal Type: Brief
   Duration: Varies by pattern.
   Additional Parameters:
   Pattern
   ParameterID: pattern
   Type: Enumeration
   Possible Values: 1, 2, 3, 4
   The pattern is an abstract indication of the distinctive alerting
   pattern that will be applied to the line. The cw pattern parameter
   has a direct mapping to the ri pattern parameter and the cid pattern
   parameter.  The actual cadence/frequency combination is available in
                Supplemental Packages for Megaco/H.248      March 2000

   the gateway.  The default is pattern 1, which indicates the default
   alerting style.  Call wait patterns do not repeat.

   Caller Identification
   SignalID: cid
   Sends the date, caller's name and caller's number to the CPE
   display, if the set is so equipped.  Caller ID is unique in that it
   must be applied during alerting -- either power ringing, or call
   waiting.  Therefore, this signal implies alerting, which will be
   appropriately applied to the CPE by the gateway, based upon the on-
   hook/off-hook status of the line.
   Signal Type: Brief
   Duration: Variable

   Additional Parameters:

   CID Data Block
   ParameterID: cdb
   Type: String
   Possible Values: See description.
   The CID Data Block contains the hex message data to be sent to the
   set.  For example, in North America, this would be the SDMF or MDMF
   construct.  The default value is an empty data block, which will be
   discarded by the gateway.
   Pattern

   ParameterID: pattern
   Type: Enumeration
   Possible Values: 1, 2, 3, 4
   The pattern is an abstract indication of the distinve alerting
   pattern that will be applied to the line. The cid pattern parameter
   maps to the ri pattern parameter for on-hook signalling, and to the
   cw pattern parameter for off-hook signalling.  The default is
   pattern 1, which indicates the default alerting style.

   Statistics
   None.

   Procedures
   None.

3.3 Basic Services Tones Generation Package
   PackageID: srvtn
   Version: 1
   Extends: cg version 1
   This package defines signals for use by various telephony services.

   Properties
   None.

   Events
   Events are defined as in this package for the signals.
                Supplemental Packages for Megaco/H.248      March 2000

   Signals

   Recall Dial Tone
   SignalID: rdt
   Generate recall dial tone. The physical characteristic of recall
   dial tone is available in the gateway.
   Signal Type: Timeout
   Duration: Provisioned
   Additional Parameters: None

   Confirmation Tone
   SignalID: conf
   Generate confirmation tone. The physical characteristic of
   confirmation tone is available in the gateway.
   Signal Type: Brief
   Duration: N/A
   Additional Parameters: None

   Held tone
   SignalID: ht
   Generate held tone. The physical characteristic of held tone is
   available in the gateway.
   Signal Type: Timeout
   Duration: Provisioned
   Additional Parameters: None

   Statistics
   None.

   Procedures
   None.


4. PSTN Trunking Packages

4.1   Robbed Bit Signalling Package
   PackageID: rbs
   Version: 1
   Extends:

   Properties

   Wink Duration
   PropertyID: wkdur
   Defines wink duration in milliseconds.
   Type: Integer
   Possible Values:
                Generation: >=140 and <= 290
                Detection: >= 100 and <= 350
   Defined In: LocalDescriptor
   Characteristics: Global Read/Write

   Delay Dial Duration
                Supplemental Packages for Megaco/H.248      March 2000

   PropertyID: dddur (0x0041)
   Defines delay dial duration in milliseconds.
   Type: Integer
   Possible Values:
                Generation: >=140
                Detection: >= 100
   Defined In: LocalDescriptor
   Characteristics: Global Read/Write

   Events

   Seize
   EventID: sz
   Gateway detects and reports off-hook.
   EventsDescriptor Parameters: None.
   ObservedEventsDescriptor Parameters: None.

   Start Signal
   EventID: ss
   Gateway detects and reports a timed transition from on-hook to off-
   hook (leading edge) and off-hook to on-hook (trailing edge). Start
   Signal type is provisioned on a termination basis.
   EventsDescriptor Parameters: None.
   ObservedEventsDescriptor Parameters: None.

   Wink
   EventID: wk
   Gateway detects and reports a timed transition from on-hook to off-
   hook (leading edge) and off-hook to on-hook (trailing edge) for ANI
   request and wink start signal, and off-hook to on-hook (leading
   edge) and on-hook to off-hook (trailing edge) for Multi-Wink and
   Inband/Enhanced Inband Signalling.
   EventsDescriptor Parameters: None.
   ObservedEventsDescriptor Parameters: None.
   
   Answer
   EventID: an
   Gateway detects and reports off-hook.
   EventsDescriptor Parameters: None.
   ObservedEventsDescriptor Parameters: None.

   Unseize
   EventID: us
   Gateway detects and reports on-hook.
   EventsDescriptor Parameters: None.
   ObservedEventsDescriptor Parameters: None.

   Signals

   Seize
   SignaID: sz
   Gateway signals off-hook.
   Signal Type: Brief
   Duration: 140-150 milliseconds
                Supplemental Packages for Megaco/H.248      March 2000

   Additional Parameters: None

   Start Signal
   SignaID: ss
   Gateway signals a timed transition from on-hook to off-hook (leading
   edge) and off-hook to on-hook (trailing edge). Start Signal type
   provisioned on a termination basis through package properties.
   Signal Type: Brief
   Duration: Defined by wkdur and dddur properties.
   Additional Parameters: None

   Wink
   SignaID: wk
   Gateway signals a timed transition from on-hook to off-hook (leading
   edge) and off-hook to on-hook (trailing edge) for ANI request and
   wink start signal, and off-hook to on-hook (leading edge) and on-
   hook to off-hook (trailing edge) for Multi-Wink and Inband/Enhanced
   Inband Signalling.
   Signal Type: Brief
   Duration: Defined by wkdur property.
   Additional Parameters: None

   Outpulse
   SignaID: op
   Gateway signals digits specified in digit register (dr) parameter.
   Signal Completion Notification will be used to indicate, to MGC,
   digit outpulsing to network has completed.
   Signal Type: Brief
   Duration: Variable depending on number of digits to outpulse.
   Additional Parameters:
   Digit Register
   ParameterID: dr
   Type: string
   Possible Values: Each charater in the string is a digit
   Contains the complete string of digits to be outpulsed.

   Answer
   SignaID: an
   Gateway signals off-hook.
   Signal Type: Brief
   Duration: 140-150 milliseconds.
   Additional Parameters: None

   Unseize
   SignaID: us
   Gateway signals on-hook.
   Signal Type: Brief
   Duration: 140-150 milliseconds.
   Additional Parameters: None


   Procedures
   None.
                Supplemental Packages for Megaco/H.248      March 2000


4.2 Multi-Frequency Generation and Detection Package
   PackageID: mfgd
   Version: 1
   Extends:

   Properties

   Signalling Type
   PropertyID: sigtype
   Defines signalling characteristics.
   Type: Enumeration
   Possible Values: MF
   Defined In: LocalDescriptor
   Characteristics: Global Read/Write

   KP Duration
   PropertyID: kpdur
   Defines MF KP digit (and its variants) duration in milliseconds.
   Type: Integer
   Possible Values:
        Generation: >=90 and <= 120
        Detection: >= 55
   Defined In: LocalDescriptor
   Characteristics: Global Read/Write

   MF and ST Duration
   PropertyID: mfstdur
   Defines MF digit and ST digit (and its variants) duration in
   milliseconds.
   Type: Integer
   Possible Values:
        Generation: >=58 and <= 75
        Detection: >= 30
   Defined In: LocalDescriptor
   Characteristics: Global Read/Write

   Interdigit Interval
   PropertyID: idint
   Defines MF digits interdigit interval duration in milliseconds.
   Type: Integer
   Possible Values:
        Generation: >=58 and <= 75
        Detection: >= 25
   Defined In: LocalDescriptor
   Characteristics: Global Read/Write

   Events

   MF 0
   EventID: mf0
   Gateway detects and reports Multi-Frequency digit _0_.
                Supplemental Packages for Megaco/H.248      March 2000

   EventsDescriptor Parameters: None.
   ObservedEventsDescriptor Parameters: None.
   The detection events for the other digits (1-9, A-F) are defined in
   the same way.  The A-F digits have the following mappings to ST and
   KP digits:
        mfa: None.  mfa is an alternate expression for mf0.
        mfb: KP3, ST3P.
        mfc: KPP, STP.
        mfd: KP, STKP.
        mfe: KP2, ST2P.
        mff: ST.

   Digit Map Completion Event
   EventID: ce
   Signifies Digit Map criteria has been met. Note: Digit Map criteria
   must have been specified via DigitMap Descriptor (e.g. [b-f]x.[b-f])
   in order to receive this event. Example given defines the criteria
   as being any KP variant followed by any number of digits 0 through 9
   followed by any ST variant.
   EventsDescriptor Parameters: None.
   ObservedEventsDescriptor Parameters: Digit Register (DR) consisting
   of MF digits reported to have met the specified Digit Map criteria.
   Method (M) indication reason for observed event (e.g. Unambiguous
   Match (UM), Partial Match (PM), Full Match (FM)).

   Signals

   MF 0
   SignaID: mf0
   Generate Multi-Frequency digit _0_.
   Signal Type: Brief
   Duration: >= 58 and <= 75 milliseconds..
   Additional Parameters: None
   The signals for the other MF digits (1-9, A-F) are defined in the
   same fashion.  The A-F digits have the following mappings to ST and
   KP digits:
        mfa: None.  mfa is an alternate expression for mf0.
        mfb: KP3, ST3P.
        mfc: KPP, STP.
        mfd: KP, STKP.
        mfe: KP2, ST2P.
        mff: ST.

   The duration of the ST variants matches that of the 0-9 digits.  The
   duration of the KP variants shall be >= 90 milliseconds, and <= 120
   milliseconds.

   Statistics
   None.

   Procedures
   None.
                Supplemental Packages for Megaco/H.248      March 2000



5. Formal Syntax

   Not Applicable

   The following syntax specification uses the augmented Backus-Naur
   Form (BNF) as described in RFC-2234 [3].


6. Security Considerations

   Not Applicable


7. References


   1  Bradner, S., "The Internet Standards Process -- Revision 3", BCP
      9, RFC 2026, October 1996.

   2  Bradner, S., "Key words for use in RFCs to Indicate Requirement
      Levels", BCP 14, RFC 2119, March 1997

   3  Crocker, D. and Overell, P.(Editors), "Augmented BNF for Syntax
      Specifications: ABNF", RFC 2234, Internet Mail Consortium and
      Demon Internet Ltd., November 1997




8. Acknowledgments



9. Author's Addresses

   C. Michael Brown
   Nortel Networks
   4008 Chapel Hill Road
   Research Triangle Park, NC USA 27709
   Phone: (919) 991-7767
   Email: C.Michael.Brown@nortelnetworks.com

   Keven Chapman
   Nortel Networks
   4008 Chapel Hill Road
   Research Triangle Park, NC USA 27709
   Phone: (919) 991-4785
   Email: keven@americasm01.nt.com

   Kevin Boyle
                Supplemental Packages for Megaco/H.248      March 2000

   Nortel Networks
   4008 Chapel Hill Road
   Research Triangle Park, NC USA 27709
   Phone: (919) 991-2690
   Email: kboyle@nortelnetworks.com>
                Supplemental Packages for Megaco/H.248      March 2000


Full Copyright Statement

   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into
