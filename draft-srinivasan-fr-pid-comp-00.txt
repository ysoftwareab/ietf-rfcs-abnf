Network Working Group                         Eswaran Srinivasan (Editor)
Internet Draft                                           Juniper Networks
Expiration Date: June 30, 2007                          December 27, 2006



	      Compressing Protocol Identifiers for Frame Relay


			draft-srinivasan-fr-pid-comp-00.txt

Status of this Memo

    By submitting this Internet-Draft, each author represents that any
    applicable patent or other IPR claims of which he or she is aware
    have been or will be disclosed, and any of which he or she becomes
    aware will be disclosed, in accordance with Section 6 of BCP 79.

    Internet-Drafts are working documents of the Internet Engineering
    Task Force (IETF), its areas, and its working groups. Note that other
    groups may also distribute working documents as Internet-Drafts.

    Internet-Drafts are draft documents valid for a maximum of six months
    and may be updated, replaced, or obsoleted by other documents at any
    time. It is inappropriate to use Internet-Drafts as reference material
    or to cite them other than as "work in progress."

    The list of current Internet-Drafts can be accessed at
    http://www.ietf.org/1id-abstracts.html.

    The list of Internet-Draft Shadow Directories can be accessed at
    http://www.ietf.org/shadow.html.


Abstract

    This document describes a method for compressing the network protocol
    identifiers for Frame Relay.  This will reduce the payload overhead
    bytes and can improve the packet processing.


1. Specification of Requirements

    The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
    "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
    document are to be interpreted as described in RFC 2119.


2. Introduction

    At a higher level, Frame Relay uses a virtual circuit to connect the
    two service endpoints.  It can either be a permanent virtual circuit
    (PVC) or switched virtual circuit (SVC).  Also, each virtual circuit
    is uniquely identified by a Data Link Connection Identifier (DLCI).

    Each virtual circuit can carry different types of network interconnect
    traffic.  Frame Relay uses NLPID and SNAP headers to encapsulate the
    different types of frames that can be carried over a virtual circuit.
    In other words, the NLPID and SNAP headers are used to identify the
    type of the payload carried by a frame.  The NLPID and SNAP headers
    are collectively referred as "Protocol Identifiers" in this document.

    However, if a virtual circuit is used for carrying only a specific
    payload type, truly there is no need for using NLPID and/or SNAP header(s)
    to identify the payload type.  These headers can be viewed as extra
    overhead bytes in these cases.

    This memo discusses a method to compress the protocol identifiers used
    in a Frame Relay frame when a virtual circuit can be bonded to a specific
    payload type.


3. Virtual circuits for control and data traffic

    A Frame Relay virtual circuit can be used for carrying either the control
    traffic (Example: LMI traffic) or data traffic.  Some of the DLCIs are
    reserved and can't be used for carrying data traffic.

    This memo is addressing only the virtual circuits used for carrying the
    data traffic.  Hence, the virtual circuits used for the control traffic
    are not affected and there won't be any changes to the payload carried
    by these circuits.


4. Compressing protocol identifiers

    The data traffic carried by a virtual circuit can be either a routed
    frame or bridged frame.

    The sub-sections below discussses the frame format for the different
    payload types.

4.1. Routed Frames

    Usually, Frame Relay uses NLPID as the protocol identifier for carrying
    the routed frames over a virtual circuit.  However, due to the NLPID
    space limitation, not all the routed protocols have assigned NLPID
    values.  For such packets, NLPID and SNAP are used as the protocol
    identifiers.

    However, when a virtual circuit has a bonding to a particular protocol
    type, all the routed frames can be carried over without the NLPID and
    SNAP protocol identifiers.

    The figure below shows the packet format for a routed frame without
    any protocol identifiers:

			Format of Routed Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+
		  |     Routed Frame Payload      |
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+

4.2. Bridged Frames

    In general, Frame Relay uses NLPID and SNAP as the protocol identifiers
    for carrying the bridged frames over a virtual circuit.

    Hence, a frame bridged over Frame Relay can have one of the following
    frame formats:

	       Format of Bridged Ethernet/802.3 Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+
		  |    MAC Destination Address    |
		  +-------------------------------+
		  |   (Remainder of MAC frame)    |
		  +-------------------------------+
		  | LAN FCS (VC dependent option) +
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+


		    Format of Bridged 802.4 Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+
		  |         Frame Control         |
		  +-------------------------------+
		  |    MAC Destination Address    |
		  +-------------------------------+
		  |   (Remainder of MAC frame)    |
		  +-------------------------------+
		  | LAN FCS (VC dependent option) +
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+


		    Format of Bridged 802.5 Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+
		  |         Frame Control         |
		  +-------------------------------+
		  |    MAC Destination Address    |
		  +-------------------------------+
		  |   (Remainder of MAC frame)    |
		  +-------------------------------+
		  | LAN FCS (VC dependent option) +
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+

		    Format of Bridged FDDI Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+
		  |         Frame Control         |
		  +-------------------------------+
		  |    MAC Destination Address    |
		  +-------------------------------+
		  |   (Remainder of MAC frame)    |
		  +-------------------------------+
		  | LAN FCS (VC dependent option) +
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+

		    Format of Bridged 802.6 Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+ -------
		  |            Reserved           |
		  +-------------------------------+ Common
		  |             BEtag             | PDU
		  +-------------------------------+ Header
		  |             BAsize            |
		  +-------------------------------+ -------
		  |    MAC Destination Address    |
		  +-------------------------------+
		  |   (Remainder of MAC frame)    |
		  +-------------------------------+
		  |       Common PDU Trailer      +
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+

			Format of BPDU Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+
		  |       BPDU as defined by      |
		  |     802.1(d) or 802.1(g)[12]  |
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+


		 Format of Source Routing BPDU Frame

		  +-------------------------------+
		  |         Q.922 Address         |
		  +-------------------------------+
		  |      Source Routing BPDU      |
		  +-------------------------------+
		  |              FCS              |
		  +-------------------------------+


5. Acronyms

    BPDU     Bridge Protocol Data Unit
    DLCI     Data Link Connection Identifier
    FCS      Frame Check Sum
    MAC      Media Access Control
    LAN      Local Area Network
    LMI      Local Management Interface
    NLPID    Network Level Protocol ID
    PDU      Protocol Data Unit
    PVC      Permanent Virtual Circuit
    SNAP     Subnetwork Access Protocol
    SVC      Switched Virtual Circuit
    VC       Virtual Circuit


6. Security Considerations

    This document specifies only encapsulations, and not the protocols
    used to carry the encapsulated packets across the network.  Each such
    protocol may have its own set of security issues, but those issues
    are not affected by the encapsulations specified herein.


7. IANA Considerations

   This document has no IANA actions.


8. Full Copyright Statement

    Copyright (C) The IETF Trust (2006).

    This document is subject to the rights, licenses and restrictions
    contained in BCP 78, and except as set forth therein, the authors
    retain all their rights.

    This document and the information contained herein are provided on
    an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE
    REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF
    TRUST AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE
    USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
    IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
    PURPOSE.


9. Intellectual Property Statement

    The IETF takes no position regarding the validity or scope of any
    Intellectual Property Rights or other rights that might be claimed
    to pertain to the implementation or use of the technology described
    in this document or the extent to which any license under such rights
    might or might not be available; nor does it represent that it has
    made any independent effort to identify any such rights.  Information
    on the procedures with respect to rights in RFC documents can be found
    in BCP 78 and BCP 79.

    Copies of IPR disclosures made to the IETF Secretariat and any
    assurances of licenses to be made available, or the result of an
    attempt made to obtain a general license or permission for the use
    of such proprietary rights by implementers or users of this
    specification can be obtained from the IETF on-line IPR repository
    at http://www.ietf.org/ipr.

    The IETF invites any interested party to bring to its attention
    any copyrights, patents or patent applications, or other proprietary
    rights that may cover technology that may be required to implement
    this standard.  Please address the information to the IETF at
    ietf-ipr@ietf.org.


10. Normative References

   [RFC2427] "Multiprotocol Interconnect over Frame Relay", RFC2427,
	September 1998.


11. Informative References

   [RFC2684] "Multiprotocol Encapsulation over ATM Adapdation Layer 5",
	RFC2684, September 1999.


12. Author Information

    Eswaran Srinivasan
    Juniper Networks,
    1194 N. Mathilda Ave,
    Sunnyvale, CA 94089
    E-mail: esriniva@juniper.net
