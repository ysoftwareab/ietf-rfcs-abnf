





INTERNET DRAFT                                           KITAGAWA Takuro
draft-fujikawa-iptel-directory-00.txt                     FUJIKAWA Kenji
                                                        Kyoto University
                                                         12 October 2001


                Simple Directory Server for IP Telephony


Status of this Memo

   This document is an Internet-Draft and is subject to all provisions
   of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html


Abstract

   A telephone directory server, which changes a traditional telephone
   number into the information that an IP telephony application uses, is
   defined.  This server uses HTTP and CGI to communicate with a client.


1. Introduction

   When a user employs IP telephony such as NOTASIP [NOTASIP], he or she
   must specify many types of information such as IP address, port
   number, protocol for communication, audio codec, and etc.  This
   specification bothers users very much.  Thus, when a user can specify
   all information just by one telephone number, it will save him or her
   much bother and IP telephony will become easier to use.

   In this draft, a telephone directory server, which changes a



KITAGAWA & FUJIKAWA     Expires on 12 April 2001                [Page 1]






INTERNET DRAFT        Directory Server for NOTASIP          October 2001


   telephone number given by a user into the information that IP
   telephony applications require, is defined.  This server uses HTTP
   and CGI as a protocol for communication with a client.


2. Query from client to server

   A client accesses the following URI [URI] with HTTP [HTTP], using a
   GET method.

   http://<server>/[path]?<phone number>

   <server> is the host name (or IP address) of a telephone directory
   server.  A server MAY require [path], to specify a telephone
   directory in it.  <phone number> is the telephone number given by a
   user, and is composed of digit 0-9, *, and/or #.

   <server> and [path] in this URI, which are required information to
   specify a telephone directory, are set up in a client in advance.


3. Answer from server to client

   A server receives a requested telephone number with the CGI scheme.
   Then a sever refers to internal database, whether the information
   copes with the requested telephone number.


3.1 The case that server found matched information

   A server returns HTTP status code 200 (OK) to a client, and a body
   part of the answer contains the information.

   The information returned to a client depends on a telephony system,
   but usually contains:

    o  A hostname or IP address of callee
    o  A port number of callee
    o  A protocol used in calling
    o  An audio codec used in calling

   The description format of the information is notified of the client
   by the Content-Type field.  For example, IPhone URL [IPHONE] can be
   used as a concrete description format.

   Example:

   ( C> indicates the data from a client to a server, and S> indicates



KITAGAWA & FUJIKAWA     Expires on 12 April 2001                [Page 2]






INTERNET DRAFT        Directory Server for NOTASIP          October 2001


   the data from a client to a server )

       C>GET /?1234 HTTP/1.1
       C>Host: iphonebook.org
       C>
       S>HTTP/1.1 200 OK
       S>Content-Type: application/x-iphone-url
       S>
       S>iphone://130.54.0.1:10000


3.2 The case that the server could not find information

   A server returns HTTP status code 404 (Not Found) to a client.

   Example:

       C>GET /?1234 HTTP/1.1
       C>Host: iphonebook.org
       C>
       S>HTTP/1.1 404 Not Found


3.3 Timeout

   A client waits for an answer from a server during the specified time
   after it sent an query.  When a client receives no answer from a
   server during the time, it judges that a server error occurred.


3.5 Other status codes

   A server MAY return other status codes to a client if necessary.
   When a client receives an HTTP Status Code not described above, it
   SHOULD deal it as an usual HTTP user agents does.


References


[NOTASIP] Ohta, M., and Fujikawa, K., "Nothing Other Than A Simple
          Internet Phone (NOTASIP)", Internet Draft draft-ohta-
          notasip-03.txt (work in progress), October 2001.


[URI]     Berners-Lee, T., Fielding, R. and L. Masinter, ``Uniform
          Resource Identifiers (URI): Generic Syntax and Semantics,''
          RFC 2396, August 1998.



KITAGAWA & FUJIKAWA     Expires on 12 April 2001                [Page 3]






INTERNET DRAFT        Directory Server for NOTASIP          October 2001


[HTTP]    Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter,
          L., Leach, P., and Berners-Lee, T., ``Hypertext Transfer Pro-
          tocol -- HTTP/1.1,'' RFC 2616, June 1999.


[IPHONE]  FUJIKAWA K., and OHTA M., ``IPhone URL,'' Internet Draft
          draft-fujikawa-iphone-url-01.txt (work in progress), October
          2001.


Security Considerations

   A telephone directory server MAY authenticate a client in accordance
   with the HTTP framework, if necessary.


Authors' Addresses

   KITAGAWA Takuro
   Graduate School of Informatics
   Kyoto University
   Yoshidahonmachi, Sakyo-Ku, Kyoto City, 606-8501, JAPAN
   Phone: +81-75-753-5387
   Fax: +81-75-751-0482
   EMail: fujikawa@kuis.kyoto-u.ac.jp

   FUJIKAWA Kenji
   Graduate School of Informatics
   Kyoto University
   Yoshidahonmachi, Sakyo-Ku, Kyoto City, 606-8501, JAPAN
   Phone: +81-75-753-5387
   Fax: +81-75-751-0482
   EMail: fujikawa@kuis.kyoto-u.ac.jp


















KITAGAWA & FUJIKAWA     Expires on 12 April 2001                [Page 4]
