


Network Working Group                                             P. Kim
Internet-Draft                              Korea Polytechnic University
Intended status: Experimental                                     H. Han
Expires: August 24, 2009                                             KUT
										                                   February 20, 2009


       A Packet Distribution Scheme for Bandwidth Aggregation 
                        on Network Mobility
             draft-pskim-mext-multipath-distribution-00

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on August 24, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.






Kim & Han                Expires August 24, 2009                [Page 1]

Internet-Draft     Packet Distribution Scheme in NEMO      February 2009


Abstract

   This draft considers a packet distribution scheme for bandwidth
   aggregation on the mobile network with a multi-interfaced mobile 
   router (MMR). In the proposed scheme, the MMR with multiple 
   heterogeneous wireless network interfaces effectively and fairly 
   distributes packets over end-to-end multi-path through multiple 
   network interfaces. Each network interface is considered to have a 
   distribution counter associated with corresponding end-to-end path. 
   This distribution counter varied by both weighted capacity and 
   distributed packets is used to determine if a network interface has 
   enough credits to distribute incoming packets on multiple paths. The 
   capacity unit is shown to be a useful design parameter to make the 
   performance of the proposed scheme as good as possible.


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . 2
   2.  Proposed Scheme . . . . . . . . . . . . . . . . . . . . . . . 4
   2.1 Main Characteristics. . . . . . . . . . . . . . . . . . . . . 4
   2.2 Example of Operation Procedure. . . . . . . . . . . . . . . . 5
   2.3 Performance Indices and Useful Design Parameter . . . . . . . 6
   3.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . 7
   4.  References  . . . . . . . . . . . . . . . . . . . . . . . . . 7
     4.1.  Normative References  . . . . . . . . . . . . . . . . . . 7
     4.2.  Informative References  . . . . . . . . . . . . . . . . . 7
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . . 8


1.  Introduction

   In the near future, airplanes, automobiles, and even people will 
   carry entire networks of IP devices that connect to the Internet, 
   which is called a mobile network. To deal with the mobility support 
   of mobile networks, the Network Mobility (NEMO) techniques have been 
   developed[RFC5213][RFC4980][Erns2007][Chen2008]. In the NEMO, the 
   mobile router (MR) is capable of changing its point of attachment to 
   the Internet without disrupting higher layer connections of attached 
   devices. Therefore, mobile nodes (MNs) inside a mobile network are 
   unaware of their network's mobility; however, they are provided with 
   uninterrupted Internet access even when the network changes its 
   attachment point to the Internet. 

   Meanwhile, to access the Internet, today's mobile computers often 
   have more than one wireless interfaces such as WWAN(CDMA, GPRS), 
   WMAN(WiBro, 802.16e), WLAN(802.11a/b/g), WPAN(802.15), etc[IEEE21]
   [Kass2008]. Once multiple network interfaces are offered, users may 


Kim & Han                Expires August 24, 2009                [Page 2]

Internet-Draft     Packet Distribution Scheme in NEMO      February 2009


   want to select the most appropriate set of network interface(s) 
   depending on the network environment, particularly in wireless 
   networks which are mutable and less reliable than wired networks. 
   Users may also want to combine a set of interfaces to get sufficient 
   bandwidth or more bandwidth using bandwidth aggregation scheme in 
   [Cheb2006]. The bandwidth aggregation scheme combines multiple 
   network interfaces to provide end-to-end multi-path communication in 
   order to improve quality or support demanding applications that need 
   high bandwidth. In general, the bandwidth aggregation scheme 
   consists of several schemes such as bandwidth estimation, packet 
   distribution, packet reordering, etc. Among them, this draft focuses 
   on the packet distribution scheme which effectively and fairly 
   distributes packets on the appropriate end-to-end path through the 
   corresponding network interface. The packet distribution scheme is 
   categorized by priority-based and frame-based approaches.
   
   This draft considers the mobile network with the multi-interfaced 
   mobile router (MMR) as shown in [RFC4980][Erns2007][Chen2008]. To 
   consider the heterogeneous wireless network environment, the MMR can 
   be assumed to have heterogeneous multiple wireless interfaces. 
   Therefore, the MMR establishes multiple paths to the Internet through
   external wireless interfaces such as WMAN and WWAN with high mobility
   and wide coverage. However, due to bandwidth constraints of 
   multi-path through external wireless interfaces, the MMR might 
   require a bandwidth aggregation to get sufficient bandwidth for MNs' 
   demanding inside a mobile network.

   Therefore, this draft considers a packet distribution scheme for
   bandwidth aggregation on the mobile network with the MMR. In the
   proposed scheme, the MMR with multiple heterogeneous wireless network
   interfaces effectively and fairly distributes packets over end-to-end
   multi-path through multiple network interfaces. Each network 
   interface is considered to have a distribution counter associated 
   with the corresponding end-to-end path. This distribution counter is 
   used to determine if an interface has enough capacity to distribute a
   packet on the corresponding end-to-end path. The distribution counter
   can get capacity by the "weighted capacity" in bytes. This weighted 
   capacity is computed by multiplication of the weight and the capacity
   unit. The weight is determined proportionately from the available 
   bandwidth of the end-to-end path through the corresponding interface.
   The capacity unit in bytes is a useful design parameter and thus can 
   affect on the performance of the proposed scheme. The weighed 
   capacity is operated at the byte level and is added more to the 
   distribution counter with higher weight than that with less weight. 
   
   On the other hand, the distribution counter is also decreased by the 
   size of packets being distributed. Thus, the distribution counter for
   each network interface is varied by distributed packets as well as


Kim & Han                Expires August 24, 2009                [Page 3]

Internet-Draft     Packet Distribution Scheme in NEMO      February 2009


   weighted capacity. In the proposed scheme, performance indices can 
   be defined by ratio and amount of distributed packets, packet loss, 
   and throughput, etc. As mentioned previously, the capacity unit is 
   shown to be a useful design parameter to make the performance of the 
   proposed scheme as good as possible. 


2.  Proposed Scheme
   
   This draft considers the mobile network where the MMR have multiple 
   heterogeneous wireless network interfaces. The MMR establishes 
   multiple communication paths to the Internet through external 
   wireless interfaces such as WMAN and WWAN with high mobility and wide
   coverage. In this network environment, a packet distribution scheme 
   is proposed for the bandwidth aggregation over end-to-end multi-path 
   through multiple heterogeneous wireless interfaces. In the proposed 
   scheme, the MMR distributes packets effectively and fairly on the 
   appropriate end-to-end path through the corresponding network 
   interface.

2.1  Main Characteristics

   In the proposed scheme, each network interface is considered to have 
   a "distribution counter" associated with the corresponding 
   end-to-end path. This distribution counter is used to determine if a 
   path has enough credits to distribute incoming packets. The 
   distribution counter can get credits by the "weighted capacity" in 
   bytes. The weighted capacity is defined as follows: 

       Weighted capacity = Capacity unit * Weight.

   The capacity unit in bytes is a useful design parameter and thus can 
   affect on the performance of the proposed scheme. The weight is 
   determined proportionately from the estimated available bandwidth of 
   end-to-end paths. The weighed capacity is operated at the byte level 
   and is added more to the path with higher weight than that with less 
   weight. The distribution counter is also decreased by the size of 
   packets being distributed. Thus, the distribution counter for each 
   end-to-end path is varied by distributed packets as well as weighted 
   capacity.

2.2  Operation Procedure and Example
   
   The operation procedure for each round is as follows. For the first 
   path, packets are distributed when corresponding distribution 
   counter is greater than the incoming packet's size.  If it is 
   lower, then the distribution counter is increased by the weighted 
   capacity and the incoming packet is distributed on the current path. 
    
   
Kim & Han                Expires August 24, 2009                [Page 4]

Internet-Draft     Packet Distribution Scheme in NEMO      February 2009

   
   Then the distribution counter is decreased by the size of packet 
   being distributed. If the distribution counter is still lower than 
   the incoming packet's size, the incoming packet held back until the 
   proposed scheme moves on the next path. After visiting all paths, 
   the round is finished. The above operation procedure in next round 
   is repeated when there are incoming packets.

   As an example, the MMR is assumed to have heterogeneous three 
   wireless network interfaces and thus there are three communication 
   paths. These paths are called the Green (high b/w), Yellow (medium 
   b/w), Red (low b/w) paths, respectively. Since this draft focuses on
   the packet distribution scheme for the bandwidth aggregation, 
   available bandwidths for three paths through corresponding 
   interfaces are assumed to have fixed weight ratio 4:2:1. The 
   capacity unit is set by 256 bytes and thus these paths have weighted 
   capacity 1024, 512, 256 bytes, respectively. Initially, all 
   distribution counters for each path are set with 0. There are three 
   kinds of session flows and they have four kinds of packet type with 
   different sizes such as 256, 512, 768, 1024 bytes. Distribution 
   counters for three paths are set by 0 at the initial time.  
   
   - Incoming Packets at MMR
   
   Incoming packets are waiting to be distributed to the most 
   appropriate path as following order:
                                                          
     A(1024) <- D(256) <- B(768) <- C(512) <- B(768)
 
   - 1st Round
    
   At Green path, the weighted capacity is added and thus the 
   distribution counter, DC(g), is 1024. Then, since the DC(g) is not 
   less than the incoming packet's size (1024 bytes), the incoming 
   packet 'A' is distributed to Green path and thus DC(g)=0. Currently, 
   total amount of distributed packets to Green path, ADP(g), is 1024 
   bytes. At Yellow path, the weighted capacity is added and thus 
   DC(y)=512. Then, since the DC(y) is not less than the incoming 
   packet's size(256 bytes), the incoming packet 'D' is distributed to 
   Yellow path and thus DC(y)=256. Currently, ADP(y)=256. At Red path, 
   the weighted capacity is added and thus DC(r)=256. Then, since the 
   DC(r) is still less than the incoming packet's size(768 bytes), move 
   to Green path. Currently, ADP(r)=0. The 1st round is finished.
   
   - 2nd Round

   At Green path, since the DC(g) is less than the incoming packet's 
   size(768 bytes), the weighted capacity is added and thus DC(g)=1024. 



Kim & Han                Expires August 24, 2009                [Page 5]

Internet-Draft     Packet Distribution Scheme in NEMO      February 2009


   Then, since the DC(g) is not less than the incoming packet's size, 
   the incoming packet 'B' is distributed to Green path and thus 
   DC(g)=256. Currently, ADP(g)=1792. At Yellow path, since DC(y) is 
   less than the incoming packet's size(512 bytes), the weighted 
   capacity is added and thus DC(y)=768. Then, since the DC(y) is not 
   less than the incoming packet's size, the incoming packet 'C' is 
   distributed to Yellow path and thus DC(y)=256. Currently, 
   ADP(y)=768. At Red path, since DC(r) is less than the incoming 
   packet's size(768 bytes), the weighted capacity is added and thus 
   DC(r)=512. Then, since the DC(r) is still less than the incoming 
   packet's size, move to Green path. Currently, ADP(r)=0. The 2nd 
   round is finished.
 
   The above operation procedure in next round is repeated when there 
   are incoming packets.

2.3  Performance Indices and Useful Design Parameter

   There can be four performance indices in the proposed scheme as 
   follows:

    . Ratio of Distributed Packets
    . Amount of Distributed Packets
    . Packet Loss
    . Throughput

   The ratio of distributed packets means that the proposed scheme 
   should distribute packets fairly according to the weight ratio of 
   each end-to-end path. The amount of distributed packets means that 
   the proposed scheme should distribute packets as many as possible 
   over each end-to-end path. The packet loss means that the proposed 
   scheme should minimize lost packets on each end-to-end path. The 
   throughput means that the proposed scheme should maximize the average
   rate of successful packet delivery on each end-to-end path. Of 
   course, the throughput can be improved as many packets are 
   distributed. However, the improvement of the throughput doesn't have 
   the meaning if the performance for the packet loss is degraded.
   
   As mentioned before, the capacity unit is a useful design parameter 
   to determine weighted capacity that affect on four performance 
   indices. Too big value of the capacity unit can introduce excessive 
   credits for end-to-end paths, which means that network paths have 
   enough credits to distribute packets. Thus, incoming packets are more
   likely to be distributed simultaneously on every paths each round. 
   Actually, this is not fair distribution according to weights for each
   network paths, which can thus degrade the performance for ratio of 
   distributed packets. That is, since packets are distributed unfairly 
   and too much over each end-to-end path, the performance for packet 
   

Kim & Han                Expires August 24, 2009                [Page 6]

Internet-Draft     Packet Distribution Scheme in NEMO      February 2009

   loss can be degraded. Of course, since packets are distributed too 
   much over each end-to-end path, the throughput can be improved. 
   However, the improvement of the throughput doesn't have the meaning 
   since the performance for the packet loss is degraded. 
  
   On the other hand, too small value of the capacity unit can introduce
   deficient credits for end-to-end paths, which means that end-to-end
   paths don't have enough credits to distribute packets. Thus, 
   incoming packets are less likely to be distributed on every paths 
   each round, which can thus degrade the performance for the amount of 
   distributed packets. Since the amount of distributed packets over 
   each end-to-end path is small, the performance for the throughput 
   can be degraded whereas the performance for the packet loss can be 
   improved. 
      
   Thus, the important issue here can be how to choose an appropriate 
   capacity unit to make the performance of the proposed scheme as good 
   as possible. 


3.  IANA Considerations

   This document has no IANA actions.


4.  References

4.1.  Normative References

   [RFC5213]  Devarapalli, V., Wakikawa, R., Petrescu, A., Thubert, P., 
              "Network Mobility (NEMO) Basic Support", IETF RFC 3963, 
              Jan 2005.

   [RFC4980]	Ng, C. et al., "Analysis of multihoming in network 
              mobility support", RFC4980. October, 2007.

4.2.  Informative References


   [Erns2007] Ernst, T. et al., "Motivations and Scenarios for Using 
        Multiple Interfaces and Global Addresses", 
        draft-ietf-monami6-multihoming-motivation-scenario-02.txt., 
        July, 2007.

   [Chen2008]	Chen, X., Zhou, H., Qin, Y., Zhang, H., 
        "Multi-interfaced mobile router scheme and enhanced path 
        selection algorithm", International Conference on 
        Telecommunications, 2008(ICT 2008), pp. 1~8, June 2008.
        
                
        
Kim & Han                Expires August 24, 2009                [Page 7]

Internet-Draft     Packet Distribution Scheme in NEMO      February 2009
        
        
   [IEEE21]	IEEE802.21/D09.00, "Draft standard for local and 
        metropolitan area networks : Media indendent handover services", 
        Feb 2008.
        
   [Kass2008]	M. Kassar, B. Kervella, G. Pujolle, "An overview of 
        vertical handover decision strategies in heterogeneous wireless 
        networks", Computer Communications, 31(10), pp. 2607~2620, 
        2008.
        
   [Cheb2006]	Chebrolu, K., and Rao, R., "Bandwidth Aggregation for 
        Real-Time Applications in Heterogeneous Wireless Networks", IEEE
        Trans. on Mobile Computing, Vol. 5, No. 4, pp. 388-403, 2006.


Author's Address

   Pyungsoo Kim
   Department of Electronics Engineering,
   Korea Polytechnic University,
   2121 Jungwang-Dong, Shiheung City,
   Gyeonggi-Do  429-793
   KOREA

   Phone: +82 31 8041 0489
   EMail: pskim@kpu.ac.kr

   Youn-Hee Han
   KUT
   Gajeon-Ri, 307, Byeongcheon-Myeon
   Cheonan, Chungnam
   KOREA

   Phone: +82 41 560 1486
   Email: yhhan@kut.ac.kr
















Kim & Han                Expires August 24, 2009                [Page 8]
