


   DHC                                                    Josh Tseng
   Internet Draft                                     Nishan Systems
   <draft-tseng-dhc-isnsoption-00.txt>
   Expires August 2002                                 February 2002


               DHCP Options for Internet Storage Name Service

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of [RFC2026].

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as "work in
   progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Comments

   Comments should be sent to the IPS mailing list (ips@ece.cmu.edu) or
   to the authors.

                             Table of Contents

Status of this Memo...................................................1
Comments..............................................................1
Abstract..............................................................2
Conventions used in this document.....................................2
1.Introduction.......................................................2
2.iSNS Option for DHCP...............................................3
3.Security Considerations............................................4
4.References.........................................................4
5.Author's Addresses.................................................5
Full Copyright Statement..............................................6









Tseng                                                         [Page 1]

                     DHCP Option Number for iSNS        February 2002


Abstract

   This document proposes a new DHCP option number to allow iSCSI and
   iFCP devices using DHCP to discover the location of the iSNS server.
   iSNS provides discovery and management capabilities for iSCSI and
   Fibre Channel (FCP) storage devices in an enterprise-scale IP
   storage network.  iSNS provides intelligent storage management
   services comparable to those found in Fibre Channel networks,
   allowing a commodity IP network to function in a similar capacity as
   a storage area network.

Conventions used in this document

   iSNS refers to the framework consisting of the storage network model
   and associated services.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
   this document are to be interpreted as described in [RFC2119].

   All frame formats are in big endian network byte order.

   This document uses the following terms:

   "iSNS Client" - iSNS clients are processes resident in iSCSI and
   iFCP devices that initiate transactions with the iSNS server using
   the iSNS Protocol.

   "iSNS Server" - The iSNS server responds to iSNS protocol query and
   registration messages, and initiates asynchronous notification
   messages.  The iSNS server stores information registered by iSNS
   clients.

   "iSCSI (Internet SCSI)" - iSCSI is an encapsulation of SCSI for a
   new generation of storage devices interconnected with TCP/IP.

   "iFCP (Internet Fibre Channel Protocol)" - iFCP is a gateway-to-
   gateway protocol designed to interconnect existing Fibre Channel and
   SCSI devices using TCP/IP.  iFCP maps the existing FCP standard and
   associated Fibre Channel services to TCP/IP.

1.       Introduction

   The Dynamic Host Configuration Protocol provides a framework for
   passing configuration information to hosts.  Its usefulness extends
   to hosts and devices using the iSCSI and iFCP protocols to connect
   to block level storage assets over a TCP/IP network.

   The iSNS Protocol provides a framework for automated discovery,
   management, and configuration of iSCSI and iFCP devices on a TCP/IP
   network.  It provides functionality similar to that found on Fibre
   Channel networks, except that iSNS works within the context of an IP


Tseng                                                         [Page 2]

                     DHCP Option Number for iSNS        February 2002

   network.  iSNS thereby provides the requisite storage intelligence
   to IP networks that are standard on existing Fibre Channel networks.

   Existing DHCP option numbers are not plausible due to the following
   reasons:

   1)  iSNS functionality is distinctly different from other protocols
   using existing DHCP option numbers.  Specifically, iSNS provides a
   significant superset of capabilities compared to typical name
   resolution protocols such as DNS.  It is designed to support client
   devices that allow themselves to be configured and managed from a
   central iSNS server.

   2)  iSNS requires a DHCP option format that provides more than the
   location of the iSNS server.  The DHCP option number needs to
   specify the subset of iSNS services that will be actively used by
   the iSNS client.

   The proposed DHCP option for iSNS is used by iSCSI and iFCP devices
   to discover the location of the iSNS server.  Although a standard
   one-byte DHCP option number is strongly desired, the assignment of a
   two-byte option number implemented by options 126 and 127 is
   acceptable.

2.       iSNS Option for DHCP

   This option specifies the location of the primary and backup iSNS
   servers and the subset of iSNS services that will be used by the
   iSNS client.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Code = TBD  |    Length     |     Usage     |   Heartbeat   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      a1       |       a2      |       a3      |       a4      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      b1       |       b2      |       b3      |       b4      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                            . . . .                            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   The iSNS Option specifies a list of IP addresses used by iSNS
   servers.

   Length indicates the number of bytes that follow the Length field.
   The minimum value for the Length field is 2 in order to account for
   the Usage and Heartbeat bytes.

   The Usage byte indicates whether the DHCP option overrides the
   static configuration of the iSCSI or iFCP device, as well as the
   subset of iSNS features that are to be used by the iSNS client
   device.  The following table indicates how iSNS is to be used by the
   DHCP client.

Tseng                                                         [Page 3]

                     DHCP Option Number for iSNS        February 2002

        Value           iSNS Usage
        -----           ----------
          0             DISCOVERY Only
          1             DISCOVERY and AUTHORIZATION
          3             DISCOVERY, AUTHORIZATION and SECURITY
         All other values are reserved and should not be used

   A Usage byte value of 0 indicates that iSNS is to be used for
   discovery only, and that static or manual configuration of the iSCSI
   or iFCP device overrides any discovery or configuration information
   found in the iSNS server through iSNS protocol messages.  Although
   the Discovery Domain/Zoning features of the iSNS may be used to
   manage the discovery process, Discovery Domain membership does not
   indicate authorization to establish a session with any storage
   device.

   A Usage byte value of 1 indicates that iSNS is used for both
   discovery and authorization.  Information discovered from the iSNS
   server overrides any static or manual configuration of the iSCSI or
   iFCP device.  The Discovery Domain/Zoning membership configuration
   stored in the iSNS provide authorizations that determine whether
   storage sessions may be established between peer devices.

   A Usage byte value of 3 indicates that in addition to discovery and
   authorization, the iSNS is used to distribute IKE/IPSec security
   policy configuration to iSCSI and/or iFCP devices.

   The Heartbeat byte determines if the IP address indicated in a1-a4
   is the iSNS heartbeat multicast address.

   If the Heartbeat byte is 0, then then a1-a4 is the IP address of the
   primary iSNS server.  Any additional IP addresses are the iSNS
   backup servers, listed in order of precedence.

   If the Heartbeat byte is 1, then a1-a4 is the iSNS heartbeat
   multicast address, b1-b4 is the primary iSNS server IP address, and
   any following IP addresses are the iSNS backup servers listed in
   order of precedence.

3.       Security Considerations

   DHCP currently provides no authentication or security mechanisms.
   Potential exposures to attack are discussed in section 7 of the DHCP
   protocol specification [DHCP].

   iSNS security considerations are discussed in [iSNS] and [SEC-IPS].

4.       References

   [DHCP]      Droms, R., "Dynamic Host Configuration Protocol", RFC
               2131, Bucknell University, March 1997.




Tseng                                                         [Page 4]

                     DHCP Option Number for iSNS        February 2002

   [iSCSI]     Satran, J., et al., "iSCSI", Internet draft (work in
               progress), draft-ietf-ips-iSCSI-10.txt, January 2002

   [iFCP]      Monia, C., et al., "iFCP - A Protocol for Internet Fibre
               Channel Storage Networking", Internet draft (work in
               progress), draft-ietf-ips-ifcp-09.txt, January 2002

   [iSNS]      Tseng, J. et al., "iSNS - Internet Storage Name
               Service", Internet draft (work in progress), draft-ietf-
               ips-isns-08.txt, February 2002

   [SEC-IPS]   Aboba, B., et al., "Securing IP Block Storage
               Protocols", draft-ietf-ips-security-09.txt, February
               2002





   [RFC2026] Bradner, S., "The Internet Standards Process -- Revision
      3", BCP 9, RFC 2026, October 1996.

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
      Requirement Levels", BCP 14, RFC 2119, March 1997

5.       Author's Addresses

   Josh Tseng
   Nishan Systems
   3850 North First Street
   San Jose, CA 95134-1702
   Phone: (408) 519-3749
   Email: jtseng@nishansystems.com






















Tseng                                                         [Page 5]

                 Internet Storage Name Service (iSNS)    November 2001


Full Copyright Statement

   "Copyright (C) The Internet Society (date). All Rights Reserved.
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."




























Tseng                                                         [Page 6]

                 Internet Storage Name Service (iSNS)    November 2001
























































Tseng                                                         [Page 7]

