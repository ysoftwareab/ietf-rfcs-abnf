



Internet Draft                                                  W. Wimer
Expires: August 31, 1999                              FORE Systems, Inc.
<draft-wimer-ospf-traffic-00.txt>                          February 1999



   Additional OSPF Extensions for Traffic Engineering and QoS Routing


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   To view the list Internet-Draft Shadow Directories, see
   http://www.ietf.org/shadow.html.


Abstract

   OSPF is a link-state IP interior routing protocol specified in [1].
   Several different extensions to OSPF have been proposed [2,3,5] to
   support Traffic Engineering [4] and Quality of Service routing [5].
   This document acknowledges all of this earlier work and proposes that
   a single style of protocol encoding be used for all of the parameters
   involved.

   This document employs the OSPF Opaque LSA Option [6] and the TVLV
   mechanism proposed in [3] to encode additional parameters describing
   information about the state of an OSPF network.  This additional
   information is useful for Traffic Engineering and QoS-based routing.










Wimer                   Expires August 31, 1999                 [Page 1]

Internet Draft          QoS Extensions for OSPF            February 1999


1. Introduction

   A set of Traffic Engineering parameters are defined in [3] along with
   an extensible mechanism for encoding these within an OSPF Type 10
   Opaque LSA.

   This document proposes additional parameters that are useful for
   Traffic Engineering and QoS-based routing.

   This document only defines the layout of additional traffic
   engineering information in the opaque LSA using the TVLV mechanism.
   Unless stated otherwise, procedures for obtaining this information,
   and the use of this information (either within or outside of OSPF) is
   outside the scope of this document.


2.  Sub-TVLVs of the Neighbor TVLV.

   This section proposes the following additional sub-TVLVs of the
   Neighbor TVLV:

      Sub-TVLV
      type    Length (Octets)  Value (Octets)  Name
      7       1                4               Link Propagation Delay
      8       variable         4*N             Link Drop Ratios


2.1.  Sub-TVLV 7: Link Propagation Delay

   This sub-TVLV specifies the propagation delay incurred on this link
   in this direction (from the router originating the LSA to its
   neighbors).

   This quantity is meant to identify high latency links, e.g.,
   satellite links, which may be unsuitable for real-time requests.

   Propagation delay is encoded in 32 bits in IEEE 754 floating point
   format.  The units are microseconds.


2.2.  Sub-TVLV 8: Link Drop Ratios

   This sub-TVLV is used to specify packet drop ratios corresponding to
   Differentiated Services codepoints [8,9].

   The "Length" field of this sub-TVLV must contain a multiple of 4.

   The "Value" portion of this sub-TVLV consists of a contiguous set of



Wimer                   Expires August 31, 1999                 [Page 2]

Internet Draft          QoS Extensions for OSPF            February 1999


   one or more 32-bit Drop Ratio Descriptors.  The number of Descriptors
   present is equal to the "Length" of the sub-TVLV divided by 4.

   Each Drop Ratio Descriptor has the following form:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |   Reserved    |   DSCP    |Rsv|         Drop Ratio            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

            Reserved
               This 8-bit field is reserved for future use.  It must
               be zero when transmitted and ignored upon receipt.

            DSCP
               This 6-bit field represents a Differentiated Services
               codepoint.

            Rsv
               This 2-bit field is reserved for future use.  It must
               be zero when transmitted and ignored upon receipt.

            Drop Ratio
               This 16-bit field is an unsigned 16-bit integer
               representing the ratio of the number of lost outbound
               packets (generally lost due to queueing drop) to the
               total number of outbound packets, corresponding to
               the Differentiated Services codepoint specified in
               the DSCP field.

               For example, a value of 0 implies 0/65536 or no
               drops.  A value of 1 implies 1/65536 or a drop ratio
               of approximately 0.0015 percent.  A value of 32768
               implies 32768/65536 or a drop ratio of 50 percent.
               A value of 65535 implies 65535/65536 or a drop ratio
               of approximately 99.998 percent (essentially 100
               percent).


3.  Security Considerations

   This document raises no new security issues for OSPF.








Wimer                   Expires August 31, 1999                 [Page 3]

Internet Draft          QoS Extensions for OSPF            February 1999


4.  Acknowledgments

   The author would like to gratefully acknowledge the prior work on
   IS-IS and OSPF Traffic Engineering and QoS extensions cited in
   [2,3,5,7].


5.  References

   [1] RFC 2328 OSPF Version 2.  J. Moy.  April 1998.  (Format:
       TXT=447367 bytes) (Obsoletes RFC2178) (Also STD0054) (Status:
       STANDARD)

   [2] drft-ietf-ospf-omp-01.txt, "OSPF Optimized Multipath (OSPF-OMP)",
       C. Villamizar, work in progress.

   [3] draft-yeung-ospf-traffic-00.txt, "OSPF Extensions for Traffic
       Engineering", D. Yeung, work in progress.

   [4] draft-ietf-mpls-traffic-eng-00.txt, "Requirements for Traffic
       Engineering Over MPLS", D. Awduche, J. Malcolm, J. Agogbua, M.
       O'Dell, J. McManus, work in progress.

   [5] draft-guerin-ospf-routing-ospf-04.txt, "QoS Routing Mechanisms
       and OSPF Extensions", G. Apostolopoulos, R. Guerin, et al., work
       in progress.

   [6] RFC 2370 The OSPF Opaque LSA Option.  R. Coltun.  July 1998.
       (Format: TXT=33789 bytes) (Also RFC2328) (Status: PROPOSED
       STANDARD)

   [7] draft-ietf-isis-traffic-00.txt, "ISIS Extensions for Traffic
       Engineering", H. Smit, T. Li, work in progress.

   [8] RFC 2474 Definition of the Differentiated Services Field (DS
       Field) in the IPv4 and IPv6 Headers. K. Nichols, S. Blake, F.
       Baker, D. Black. December 1998.  (Obsoletes RFC1455, RFC1349)
       (Status: PROPOSED STANDARD)

   [9] RFC 2475 An Architecture for Differentiated Services. S. Blake,
       D. Black, M. Carlson, E. Davies, Z. Wang, W. Weiss. December
       1998.  (Status: PROPOSED STANDARD)









Wimer                   Expires August 31, 1999                 [Page 4]

Internet Draft          QoS Extensions for OSPF            February 1999


6.  Author's Address

   Walt Wimer
   FORE Systems, Inc.
   1000 FORE Drive
   Warrendale, PA  15086-7502

   Phone:  724-742-7324
   EMail:  wwimer@fore.com










































Wimer                   Expires August 31, 1999                 [Page 5]

