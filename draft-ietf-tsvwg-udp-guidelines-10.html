<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Unicast UDP Usage Guidelines for Application Designers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Unicast UDP Usage Guidelines for Application Designers">
<meta name="keywords" content="UDP, guidelines">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Transport Area Working Group</td><td class="header">L. Eggert</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Nokia</td></tr>
<tr><td class="header">Intended status: BCP</td><td class="header">G. Fairhurst</td></tr>
<tr><td class="header">Expires: February 23, 2009</td><td class="header">University of Aberdeen</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">August 22, 2008</td></tr>
</table></td></tr></table>
<h1><br />Unicast UDP Usage Guidelines for Application Designers<br />draft-ietf-tsvwg-udp-guidelines-10</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on February 23, 2009.</p>

<h3>Abstract</h3>

<p>
The User Datagram Protocol (UDP) provides a minimal, message-passing transport that has no inherent congestion control mechanisms. Because congestion control is critical to the stable operation of the Internet, applications and upper-layer protocols that choose to use UDP as an Internet transport must employ mechanisms to prevent congestion collapse and establish some degree of fairness with concurrent traffic. This document provides guidelines on the use of UDP for the designers of unicast applications and upper-layer protocols. Congestion control guidelines are a primary focus, but the document also provides guidance on other topics, including message sizes, reliability, checksums and middlebox traversal. 
	
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#term">2.</a>&nbsp;
Terminology<br />
<a href="#udpguide">3.</a>&nbsp;
UDP Usage Guidelines<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ccguide">3.1.</a>&nbsp;
Congestion Control Guidelines<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#msguide">3.2.</a>&nbsp;
Message Size Guidelines<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#reguide">3.3.</a>&nbsp;
Reliability Guidelines<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#chkguide">3.4.</a>&nbsp;
Checksum Guidelines<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#natguide">3.5.</a>&nbsp;
Middlebox Traversal Guidelines<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#progguide">3.6.</a>&nbsp;
Programming Guidelines<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#icmpguide">3.7.</a>&nbsp;
ICMP Guidelines<br />
<a href="#seccons">4.</a>&nbsp;
Security Considerations<br />
<a href="#anchor1">5.</a>&nbsp;
Summary<br />
<a href="#ianacons">6.</a>&nbsp;
IANA Considerations<br />
<a href="#ack">7.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">8.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">8.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">8.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
The User Datagram Protocol (UDP) <a class='info' href='#RFC0768'>[RFC0768]<span> (</span><span class='info'>Postel, J., &ldquo;User Datagram Protocol,&rdquo; August&nbsp;1980.</span><span>)</span></a> provides a minimal, unreliable, best-effort, message-passing transport to applications and upper-layer protocols (both simply called "applications" in the remainder of this document). Compared to other transport protocols, UDP and its UDP-Lite variant <a class='info' href='#RFC3828'>[RFC3828]<span> (</span><span class='info'>Larzon, L-A., Degermark, M., Pink, S., Jonsson, L-E., and G. Fairhurst, &ldquo;The Lightweight User Datagram Protocol (UDP-Lite),&rdquo; July&nbsp;2004.</span><span>)</span></a> are unique in that they do not establish end-to-end connections between communicating end systems. UDP communication consequently does not incur connection establishment and teardown overheads and there is minimal associated end system state. Because of these characteristics, UDP can offer a very efficient communication transport to some applications.
	
</p>
<p>
A second unique characteristic of UDP is that it provides no inherent congestion control mechanisms. On many platforms, applications can send UDP datagrams at the line rate of the link interface, which is often much greater than the available path capacity, and doing so contributes to congestion along the path. <a class='info' href='#RFC2914'>[RFC2914]<span> (</span><span class='info'>Floyd, S., &ldquo;Congestion Control Principles,&rdquo; September&nbsp;2000.</span><span>)</span></a> describes the best current practice for congestion control in the Internet. It identifies two major reasons why congestion control mechanisms are critical for the stable operation of the Internet:

	</p>
<ol class="text">
<li>
The prevention of congestion collapse, i.e., a state where an increase in network load results in a decrease in useful work done by the network. 
		
</li>
<li>
The establishment of a degree of fairness, i.e., allowing multiple flows to share the capacity of a path reasonably equitably. 
		
</li>
</ol><p>
	
</p>
<p>
Because UDP itself provides no congestion control mechanisms, it is up to the applications that use UDP for Internet communication to employ suitable mechanisms to prevent congestion collapse and establish a degree of fairness. <a class='info' href='#RFC2309'>[RFC2309]<span> (</span><span class='info'>Braden, B., Clark, D., Crowcroft, J., Davie, B., Deering, S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G., Partridge, C., Peterson, L., Ramakrishnan, K., Shenker, S., Wroclawski, J., and L. Zhang, &ldquo;Recommendations on Queue Management and Congestion Avoidance in the Internet,&rdquo; April&nbsp;1998.</span><span>)</span></a> discusses the dangers of congestion-unresponsive flows and states that "all UDP-based streaming applications should incorporate effective congestion avoidance mechanisms." This is an important requirement, even for applications that do not use UDP for streaming. In addition, congestion-controlled transmission is of benefit to an application itself, because it can reduce self-induced packet loss, minimize retransmissions and hence reduce delays. Congestion control is essential even at relatively slow transmission rates. For example, an application that generates five 1500-byte UDP datagrams in one second can already exceed the capacity of a 56 Kb/s path. For applications that can operate at higher, potentially unbounded data rates, congestion control becomes vital to prevent congestion collapse and establish some degree of fairness. <a class='info' href='#udpguide'>Section&nbsp;3<span> (</span><span class='info'>UDP Usage Guidelines</span><span>)</span></a> describes a number of simple guidelines for the designers of such applications.
	
</p>
<p>
A UDP datagram is carried in a single IP packet and is hence limited to a maximum payload of 65,507 bytes for IPv4 and 65,527 bytes for IPv6. The transmission of large IP packets usually requires IP fragmentation. Fragmentation decreases communication reliability and efficiency and should be avoided. IPv6 allows the option of transmitting large packets ("jumbograms") without fragmentation when all link layers along the path support this <a class='info' href='#RFC2675'>[RFC2675]<span> (</span><span class='info'>Borman, D., Deering, S., and R. Hinden, &ldquo;IPv6 Jumbograms,&rdquo; August&nbsp;1999.</span><span>)</span></a>. Some of the guidelines in <a class='info' href='#udpguide'>Section&nbsp;3<span> (</span><span class='info'>UDP Usage Guidelines</span><span>)</span></a> describe how applications should determine appropriate message sizes. Other sections of this document provide guidance on reliability, checksums and middlebox traversal.
	
</p>
<p>
This document provides guidelines and recommendations. Although most unicast UDP applications are expected to follow these guidelines, there do exist valid reasons why a specific application may decide not to follow a given guideline. In such cases, it is RECOMMENDED that the application designers document the rationale for their design choice in the technical specification of their application or protocol.
	
</p>
<p>
This document provides guidelines to designers of applications that use UDP for unicast transmission, which is the most common case. Specialized classes of applications use UDP for IP multicast <a class='info' href='#RFC1112'>[RFC1112]<span> (</span><span class='info'>Deering, S., &ldquo;Host extensions for IP multicasting,&rdquo; August&nbsp;1989.</span><span>)</span></a>, broadcast <a class='info' href='#RFC0919'>[RFC0919]<span> (</span><span class='info'>Mogul, J., &ldquo;Broadcasting Internet Datagrams,&rdquo; October&nbsp;1984.</span><span>)</span></a>, or anycast <a class='info' href='#RFC1546'>[RFC1546]<span> (</span><span class='info'>Partridge, C., Mendez, T., and W. Milliken, &ldquo;Host Anycasting Service,&rdquo; November&nbsp;1993.</span><span>)</span></a> transmissions. The design of such specialized applications requires expertise that goes beyond the simple, unicast-specific guidelines given in this document. Multicast and broadcast senders may transmit to multiple receivers across potentially very heterogeneous paths at the same time, which significantly complicates congestion control, flow control and reliability mechanisms. The IETF has defined a reliable multicast framework <a class='info' href='#RFC3048'>[RFC3048]<span> (</span><span class='info'>Whetten, B., Vicisano, L., Kermode, R., Handley, M., Floyd, S., and M. Luby, &ldquo;Reliable Multicast Transport Building Blocks for One-to-Many Bulk-Data Transfer,&rdquo; January&nbsp;2001.</span><span>)</span></a> and several building blocks to aid the designers of multicast applications, such as <a class='info' href='#RFC3738'>[RFC3738]<span> (</span><span class='info'>Luby, M. and V. Goyal, &ldquo;Wave and Equation Based Rate Control (WEBRC) Building Block,&rdquo; April&nbsp;2004.</span><span>)</span></a> or <a class='info' href='#RFC4654'>[RFC4654]<span> (</span><span class='info'>Widmer, J. and M. Handley, &ldquo;TCP-Friendly Multicast Congestion Control (TFMCC): Protocol Specification,&rdquo; August&nbsp;2006.</span><span>)</span></a>. Anycast senders must be aware that successive messages sent to the same anycast IP address may be delivered to different anycast nodes, i.e., arrive at different locations in the topology. It is not intended that the guidelines in this document apply to multicast, broadcast or anycast applications that use UDP.
	
</p>
<p>
Finally, although this document specifically refers to unicast applications that use UDP, the spirit of some of its guidelines also applies to other message-passing applications and protocols (specifically on the topics of congestion control, message sizes and reliability). Examples include signaling or control applications that choose to run directly over IP by registering their own IP protocol number with IANA. This document may provide useful background reading to the designers of such applications and protocols.
	
</p>
<a name="term"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p>
The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14, RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
	
</p>
<a name="udpguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
UDP Usage Guidelines</h3>

<p>
Internet paths can have widely varying characteristics, including transmission delays, available bandwidths, congestion levels, reordering probabilities, supported message sizes or loss rates. Furthermore, the same Internet path can have very different conditions over time. Consequently, applications that may be used on the Internet MUST NOT make assumptions about specific path characteristics. They MUST instead use mechanisms that let them operate safely under very different path conditions. Typically, this requires conservatively probing the current conditions of the Internet path they communicate over to establish a transmission behavior that it can sustain and that is reasonably fair to other traffic sharing the path. 
	
</p>
<p>
These mechanisms are difficult to implement correctly. For most applications, the use of one of the existing IETF transport protocols is the simplest method of acquiring the required mechanisms. Consequently, the RECOMMENDED alternative to the UDP usage described in the remainder of this section is the use of an IETF transport protocol such as TCP <a class='info' href='#RFC0793'>[RFC0793]<span> (</span><span class='info'>Postel, J., &ldquo;Transmission Control Protocol,&rdquo; September&nbsp;1981.</span><span>)</span></a>, SCTP <a class='info' href='#RFC4960'>[RFC4960]<span> (</span><span class='info'>Stewart, R., &ldquo;Stream Control Transmission Protocol,&rdquo; September&nbsp;2007.</span><span>)</span></a> and SCTP-PR <a class='info' href='#RFC3758'>[RFC3758]<span> (</span><span class='info'>Stewart, R., Ramalho, M., Xie, Q., Tuexen, M., and P. Conrad, &ldquo;Stream Control Transmission Protocol (SCTP) Partial Reliability Extension,&rdquo; May&nbsp;2004.</span><span>)</span></a>, or DCCP <a class='info' href='#RFC4340'>[RFC4340]<span> (</span><span class='info'>Kohler, E., Handley, M., and S. Floyd, &ldquo;Datagram Congestion Control Protocol (DCCP),&rdquo; March&nbsp;2006.</span><span>)</span></a> with its different congestion control types <a class='info' href='#RFC4341'>[RFC4341]<span> (</span><span class='info'>Floyd, S. and E. Kohler, &ldquo;Profile for Datagram Congestion Control Protocol (DCCP) Congestion Control ID 2: TCP-like Congestion Control,&rdquo; March&nbsp;2006.</span><span>)</span></a><a class='info' href='#RFC4342'>[RFC4342]<span> (</span><span class='info'>Floyd, S., Kohler, E., and J. Padhye, &ldquo;Profile for Datagram Congestion Control Protocol (DCCP) Congestion Control ID 3: TCP-Friendly Rate Control (TFRC),&rdquo; March&nbsp;2006.</span><span>)</span></a><a class='info' href='#I-D.ietf-dccp-ccid4'>[I&#8209;D.ietf&#8209;dccp&#8209;ccid4]<span> (</span><span class='info'>Floyd, S. and E. Kohler, &ldquo;Profile for Datagram Congestion Control Protocol (DCCP) Congestion ID 4:  TCP-Friendly Rate Control for Small Packets (TFRC-SP),&rdquo; July&nbsp;2009.</span><span>)</span></a>. 
	
</p>
<p>
If used correctly, these more fully-featured transport protocols are not as "heavyweight" as often claimed. For example, the TCP algorithms have been continuously improved over decades, and have reached a level of efficiency and correctness that custom application-layer mechanisms will struggle to easily duplicate. In addition, many TCP implementations allow connections to be tuned by an application to its purposes. For example, TCP's "Nagle" algorithm <a class='info' href='#RFC0896'>[RFC0896]<span> (</span><span class='info'>Nagle, J., &ldquo;Congestion control in IP/TCP internetworks,&rdquo; January&nbsp;1984.</span><span>)</span></a> can be disabled, improving communication latency at the expense of more frequent - but still congestion-controlled - packet transmissions. Another example is the TCP SYN Cookie mechanism <a class='info' href='#RFC4987'>[RFC4987]<span> (</span><span class='info'>Eddy, W., &ldquo;TCP SYN Flooding Attacks and Common Mitigations,&rdquo; August&nbsp;2007.</span><span>)</span></a>, which is available on many platforms. TCP with SYN Cookies does not require a server to maintain per-connection state until the connection is established. TCP also requires the end that closes a connection to maintain the TIME-WAIT state that prevents delayed segments from one connection instance to interfere with a later one. Applications that are aware of and designed for this behavior can shift maintenance of the TIME-WAIT state to conserve resources by controlling which end closes a TCP connection <a class='info' href='#FABER'>[FABER]<span> (</span><span class='info'>Faber, T., Touch, J., and W. Yue, &ldquo;The TIME-WAIT State in TCP and Its Effect on Busy Servers,&rdquo; March&nbsp;1999.</span><span>)</span></a>. Finally, TCP's built-in capacity-probing and awareness of the maximum transmission unit supported by the path (PMTU) results in efficient data transmission that quickly compensates for the initial connection setup delay, for transfers that exchange more than a few segments. 
	
</p>
<a name="ccguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Congestion Control Guidelines</h3>

<p>
If an application or upper-layer protocol chooses not to use a congestion-controlled transport protocol, it SHOULD control the rate at which it sends UDP datagrams to a destination host, in order to fulfill the requirements of <a class='info' href='#RFC2914'>[RFC2914]<span> (</span><span class='info'>Floyd, S., &ldquo;Congestion Control Principles,&rdquo; September&nbsp;2000.</span><span>)</span></a>. It is important to stress that an application SHOULD perform congestion control over all UDP traffic it sends to a destination, independently from how it generates this traffic. For example, an application that forks multiple worker processes or otherwise uses multiple sockets to generate UDP datagrams SHOULD perform congestion control over the aggregate traffic.
		
</p>
<p>
The remainder of this section discusses several approaches for this purpose. Not all approaches discussed below are appropriate for all UDP-transmitting applications. <a class='info' href='#btguide'>Section&nbsp;3.1.1<span> (</span><span class='info'>Bulk Transfer Applications</span><span>)</span></a> discusses congestion control options for applications that perform bulk transfers over UDP. Such applications can employ schemes that sample the path over several subsequent RTTs during which data is exchanged, in order to determine a sending rate that the path at its current load can support. Other applications only exchange a few UDP datagrams with a destination. <a class='info' href='#ldrguide'>Section&nbsp;3.1.2<span> (</span><span class='info'>Low Data-Volume Applications</span><span>)</span></a> discusses congestion control options for such "low data-volume" applications. Because they typically do not transmit enough data to iteratively sample the path to determine a safe sending rate, they need to employ different kinds of congestion control mechanisms. <a class='info' href='#tunguide'>Section&nbsp;3.1.3<span> (</span><span class='info'>UDP Tunnels</span><span>)</span></a> discusses congestion control considerations when UDP is used as a tunneling protocol.
		
</p>
<p>
It is important to note that congestion control should not be viewed as an add-on to a finished application. Many of the mechanisms discussed in the guidelines below require application support to operate correctly. Application designers need to consider congestion control throughout the design of their application, similar to how they consider security aspects throughout the design process.
		
</p>
<p>
In the past, the IETF has also investigated integrated congestion control mechanisms that act on the traffic aggregate between two hosts, 

i.e., a framework such as the Congestion Manager <a class='info' href='#RFC3124'>[RFC3124]<span> (</span><span class='info'>Balakrishnan, H. and S. Seshan, &ldquo;The Congestion Manager,&rdquo; June&nbsp;2001.</span><span>)</span></a>, where
active sessions may share current congestion information in a way that
is independent of the transport protocol. Such mechanisms have failed to see deployment, but would otherwise simplify the design of congestion control mechanisms for UDP sessions, so that they fulfill the requirements in <a class='info' href='#RFC2914'>[RFC2914]<span> (</span><span class='info'>Floyd, S., &ldquo;Congestion Control Principles,&rdquo; September&nbsp;2000.</span><span>)</span></a>.
		
</p>
<a name="btguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
Bulk Transfer Applications</h3>

<p>
Applications that perform bulk transmission of data to a peer over UDP, i.e., applications that exchange more than a small number of UDP datagrams per RTT, SHOULD implement TCP-Friendly Rate Control (TFRC) <a class='info' href='#RFC3448'>[RFC3448]<span> (</span><span class='info'>Handley, M., Floyd, S., Padhye, J., and J. Widmer, &ldquo;TCP Friendly Rate Control (TFRC): Protocol Specification,&rdquo; January&nbsp;2003.</span><span>)</span></a>, window-based, TCP-like congestion control, or otherwise ensure that the application complies with the congestion control principles.
		
</p>
<p>
TFRC has been designed to provide both congestion control and fairness in a way that is compatible with the IETF's other transport protocols. TFRC is currently being updated <a class='info' href='#I-D.ietf-dccp-rfc3448bis'>[I&#8209;D.ietf&#8209;dccp&#8209;rfc3448bis]<span> (</span><span class='info'>Handley, M., Floyd, S., Padhye, J., and J. Widmer, &ldquo;TCP Friendly Rate Control (TFRC): Protocol Specification,&rdquo; April&nbsp;2008.</span><span>)</span></a>, and application designers SHOULD always evaluate whether the latest published specification fits their needs. If an application implements TFRC, it need not follow the remaining guidelines in <a class='info' href='#btguide'>Section&nbsp;3.1.1<span> (</span><span class='info'>Bulk Transfer Applications</span><span>)</span></a>, because TFRC already addresses them, but SHOULD still follow the remaining guidelines in the subsequent subsections of <a class='info' href='#udpguide'>Section&nbsp;3<span> (</span><span class='info'>UDP Usage Guidelines</span><span>)</span></a>. 
		
</p>
<p>
Bulk transfer applications that choose not to implement TFRC or TCP-like windowing SHOULD implement a congestion control scheme that results in bandwidth use that competes fairly with TCP within an order of magnitude. Section 2 of <a class='info' href='#RFC3551'>[RFC3551]<span> (</span><span class='info'>Schulzrinne, H. and S. Casner, &ldquo;RTP Profile for Audio and Video Conferences with Minimal Control,&rdquo; July&nbsp;2003.</span><span>)</span></a> suggests that applications SHOULD monitor the packet loss rate to ensure that it is within acceptable parameters. Packet loss is considered acceptable if a TCP flow across the same network path under the same network conditions would achieve an average throughput, measured on a reasonable timescale, that is not less than that of the UDP flow. The comparison to TCP cannot be specified exactly, but is intended as an "order-of-magnitude" comparison in timescale and throughput.  
		
</p>
<p>
Finally, some bulk transfer applications may choose not to implement any congestion control mechanism and instead rely on transmitting across reserved path capacity. This might be an acceptable choice for a subset of restricted networking environments, but is by no means a safe practice for operation in the Internet. When the UDP traffic of such applications leaks out on unprovisioned Internet paths, it can significantly degrade the performance of other traffic sharing the path and even result in congestion collapse. Applications that support an uncontrolled or unadaptive transmission behavior SHOULD NOT do so by default and SHOULD instead require users to explicitly enable this mode of operation.
		
</p>
<a name="ldrguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.2"></a><h3>3.1.2.&nbsp;
Low Data-Volume Applications</h3>

<p>
When applications that exchange only a small number of UDP datagrams with a destination at any time implement TFRC or one of the other congestion control schemes in <a class='info' href='#btguide'>Section&nbsp;3.1.1<span> (</span><span class='info'>Bulk Transfer Applications</span><span>)</span></a>, the network sees little benefit, because those mechanisms perform congestion control in a way that is only effective for longer transmissions. 
		
</p>
<p>
Applications that exchange only a small number of UDP datagrams with a destination at any time SHOULD still control their transmission behavior by not sending on average more than one UDP datagram per round-trip time (RTT) to a destination. Similar to the recommendation in <a class='info' href='#RFC1536'>[RFC1536]<span> (</span><span class='info'>Kumar, A., Postel, J., Neuman, C., Danzig, P., and S. Miller, &ldquo;Common DNS Implementation Errors and Suggested Fixes,&rdquo; October&nbsp;1993.</span><span>)</span></a>, an application SHOULD maintain an estimate of the RTT for any destination with which it communicates. Applications SHOULD implement the algorithm specified in <a class='info' href='#RFC2988'>[RFC2988]<span> (</span><span class='info'>Paxson, V. and M. Allman, &ldquo;Computing TCP's Retransmission Timer,&rdquo; November&nbsp;2000.</span><span>)</span></a> to compute a smoothed RTT (SRTT) estimate. They SHOULD also detect packet loss and exponentially back-off their retransmission timer when a loss event occurs. When implementing this scheme, applications need to choose a sensible initial value for the RTT. This value SHOULD generally be as conservative as possible for the given application. TCP uses an initial value of 3 seconds <a class='info' href='#RFC2988'>[RFC2988]<span> (</span><span class='info'>Paxson, V. and M. Allman, &ldquo;Computing TCP's Retransmission Timer,&rdquo; November&nbsp;2000.</span><span>)</span></a>, which is also RECOMMENDED as an initial value for UDP applications. SIP <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> and GIST <a class='info' href='#I-D.ietf-nsis-ntlp'>[I&#8209;D.ietf&#8209;nsis&#8209;ntlp]<span> (</span><span class='info'>Schulzrinne, H. and M. Stiemerling, &ldquo;GIST: General Internet Signalling Transport,&rdquo; June&nbsp;2009.</span><span>)</span></a> use an initial value of 500 ms, and initial timeouts that are shorter than this are likely problematic in many cases. It is also important to note that the initial timeout is not the maximum possible timeout - the RECOMMENDED algorithm in <a class='info' href='#RFC2988'>[RFC2988]<span> (</span><span class='info'>Paxson, V. and M. Allman, &ldquo;Computing TCP's Retransmission Timer,&rdquo; November&nbsp;2000.</span><span>)</span></a> yields timeout values after a series of losses that are much longer than the initial value.
		
</p>
<p>
Some applications cannot maintain a reliable RTT estimate for a destination. The first case is that of applications that exchange too few UDP datagrams with a peer to establish a statistically accurate RTT estimate. Such applications MAY use a pre-determined transmission interval that is exponentially backed-off when packets are lost. TCP uses an initial value of 3 seconds <a class='info' href='#RFC2988'>[RFC2988]<span> (</span><span class='info'>Paxson, V. and M. Allman, &ldquo;Computing TCP's Retransmission Timer,&rdquo; November&nbsp;2000.</span><span>)</span></a>, which is also RECOMMENDED as an initial value for UDP applications. SIP <a class='info' href='#RFC3261'>[RFC3261]<span> (</span><span class='info'>Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;SIP: Session Initiation Protocol,&rdquo; June&nbsp;2002.</span><span>)</span></a> and GIST <a class='info' href='#I-D.ietf-nsis-ntlp'>[I&#8209;D.ietf&#8209;nsis&#8209;ntlp]<span> (</span><span class='info'>Schulzrinne, H. and M. Stiemerling, &ldquo;GIST: General Internet Signalling Transport,&rdquo; June&nbsp;2009.</span><span>)</span></a> use an interval of 500 ms, and shorter values are likely problematic in many cases. As in the previous case, note that the initial timeout is not the maximum possible timeout.		
		
</p>
<p>
A second class of applications cannot maintain an RTT estimate for a destination, because the destination does not send return traffic. Such applications SHOULD NOT send more than one UDP datagram every 3 seconds, and SHOULD use an even less aggressive rate when possible. The 3-second interval was chosen based on TCP's retransmission timeout when the RTT is unknown <a class='info' href='#RFC2988'>[RFC2988]<span> (</span><span class='info'>Paxson, V. and M. Allman, &ldquo;Computing TCP's Retransmission Timer,&rdquo; November&nbsp;2000.</span><span>)</span></a>, and shorter values are likely problematic in many cases. Note that the sending rate in this case must be more conservative than in the two previous cases, because the lack of return traffic prevents the detection of packet loss, i.e., congestion events, and the application therefore cannot perform exponential back-off to reduce load.
		
</p>
<p>
Applications that communicate bidirectionally SHOULD employ congestion control for both directions of the communication. For example, for a client-server, request-response-style application, clients SHOULD congestion control their request transmission to a server, and the server SHOULD congestion-control its responses to the clients. Congestion in the forward and reverse direction is
uncorrelated and an application SHOULD either independently detect and
respond to congestion along both directions, or limit new and
retransmitted requests based on acknowledged responses across the entire
round trip path.
		
</p>
<a name="tunguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.3"></a><h3>3.1.3.&nbsp;
UDP Tunnels</h3>

<p>
One increasingly popular use of UDP is as a tunneling protocol, where a tunnel endpoint encapsulates the packets of another protocol inside UDP datagrams and transmits them to another tunnel endpoint, which decapsulates the UDP datagrams and forwards the original packets contained in the payload. Tunnels establish virtual links that appear to directly connect locations that are distant in the physical Internet topology, and can be used to create virtual (private) networks. Using UDP as a tunneling protocol is attractive when the payload protocol is not supported by middleboxes that may exist along the path, because many middleboxes support UDP transmissions.
		
</p>
<p>
Well-implemented tunnels are generally invisible to the endpoints that happen to transmit over a path that includes tunneled links. On the other hand, to the routers along the path of a UDP tunnel, i.e., the routers between the two tunnel endpoints, the traffic that a UDP tunnel generates is a regular UDP flow, and the encapsulator and decapsulator appear as regular UDP-sending and -receiving applications. Because other flows can share the path with one or more UDP tunnels, congestion control needs to be considered.
		
</p>
<p>
Two factors determine whether a UDP tunnel needs to employ specific congestion control mechanisms. First, whether the tunneling scheme generates UDP traffic at a volume that corresponds to the volume of payload traffic carried within the tunnel. Second, whether the payload traffic is IP-based.
		
</p>
<p>
IP-based traffic is generally assumed to be congestion-controlled, i.e., it is assumed that the transport protocols generating IP-based traffic at the sender already employ mechanisms that are sufficient to address congestion on the path. Consequently, a tunnel carrying IP-based traffic should already interact appropriately with other traffic sharing the path, and specific congestion control mechanism for the tunnel are not necessary.
		
</p>
<p>
However, if the IP traffic in the tunnel is known to not be congestion-controlled, additional measures are RECOMMENDED in order to limit the impact of the tunneled traffic on other traffic sharing the path. 
		
</p>
<p>
The following guidelines define these possible cases in more detail:
		
</p>
<p>
	</p>
<ol class="text">
<li>A tunnel generates UDP traffic at a volume that corresponds to the volume of payload traffic, and the payload traffic is IP-based and congestion-controlled.<br />
<br />
This is arguably the most common case for Internet tunnels. In this case, the UDP tunnel SHOULD NOT employ its own congestion control mechanism, because congestion losses of tunneled traffic will already trigger an appropriate congestion response at the original senders of the tunneled traffic.<br />
<br />
Note that this guideline is built on the assumption that most IP-based communication is congestion-controlled. If a UDP tunnel is used for IP-based traffic that is known to not be congestion-controlled, the next set of guidelines applies:
		
</li>
<li>A tunnel generates UDP traffic at a volume that corresponds to the volume of payload traffic, and the payload traffic is not known to be IP-based, or is known to be IP-based but not congestion-controlled.<br />
<br />
This can be the case, for example, when some link-layer protocols are encapsulated within UDP (but not all link-layer protocols; some are congestion-controlled.) Because it is not known that congestion losses of tunneled non-IP traffic will trigger an appropriate congestion response at the senders, the UDP tunnel SHOULD employ an appropriate congestion control mechanism. Because tunnels are usually bulk-transfer applications as far as the intermediate routers are concerned, the guidelines in <a class='info' href='#btguide'>Section&nbsp;3.1.1<span> (</span><span class='info'>Bulk Transfer Applications</span><span>)</span></a> apply.
		
</li>
<li>A tunnel generates UDP traffic at a volume that does not correspond to the volume of payload traffic, independent of whether the payload traffic is IP-based or congestion-controlled.<br />
<br />
Examples of this class include UDP tunnels that send at a constant rate, increase their transmission rates under loss, for example, due to increasing redundancy when forward-error-correction is used, or are otherwise constrained in their transmission behavior. These specialized uses of UDP for tunneling go beyond the scope of the general guidelines given in this document. The implementer of such specialized tunnels SHOULD carefully consider congestion control in the design of their tunneling mechanism.
		
</li>
</ol><p>
		
</p>
<p>
Designing a tunneling mechanism requires significantly more expertise than needed for many other UDP applications, because tunnels virtualize lower-layer components of the Internet, and the virtualized components need to correctly interact with the infrastructure at that layer. This document only touches upon the congestion control considerations for implementing UDP tunnels; a discussion of other required tunneling behavior is out of scope. 
		
</p>
<a name="msguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Message Size Guidelines</h3>

<p>
IP fragmentation lowers the efficiency and reliability of Internet communication. The loss of a single fragment results in the loss of an entire fragmented packet, because even if all other fragments are received correctly, the original packet cannot be reassembled and delivered. This fundamental issue with fragmentation exists for both IPv4 and IPv6. In addition, some NATs and firewalls drop IP fragments. The network address translation performed by a NAT only operates on complete IP packets, and some firewall policies also require inspection of complete IP packets. Even with these being the case, some NATs and firewalls simply do not implement the necessary reassembly functionality, and instead choose to drop all fragments. Finally, <a class='info' href='#RFC4963'>[RFC4963]<span> (</span><span class='info'>Heffner, J., Mathis, M., and B. Chandler, &ldquo;IPv4 Reassembly Errors at High Data Rates,&rdquo; July&nbsp;2007.</span><span>)</span></a> documents other issues specific to IPv4 fragmentation.
		
</p>
<p>
Due to these issues, an application SHOULD NOT send UDP datagrams that result in IP packets that exceed the MTU of the path to the destination. Consequently, an application SHOULD either use the path MTU information provided by the IP layer or implement path MTU discovery itself <a class='info' href='#RFC1191'>[RFC1191]<span> (</span><span class='info'>Mogul, J. and S. Deering, &ldquo;Path MTU discovery,&rdquo; November&nbsp;1990.</span><span>)</span></a><a class='info' href='#RFC1981'>[RFC1981]<span> (</span><span class='info'>McCann, J., Deering, S., and J. Mogul, &ldquo;Path MTU Discovery for IP version 6,&rdquo; August&nbsp;1996.</span><span>)</span></a><a class='info' href='#RFC4821'>[RFC4821]<span> (</span><span class='info'>Mathis, M. and J. Heffner, &ldquo;Packetization Layer Path MTU Discovery,&rdquo; March&nbsp;2007.</span><span>)</span></a> to determine whether the path to a destination will support its desired message size without fragmentation.
		
</p>
<p>
Applications that do not follow this recommendation to do PMTU discovery SHOULD still avoid sending UDP datagrams that would result in IP packets that exceed the path MTU. Because the actual path MTU is unknown, such applications SHOULD fall back to sending messages that are shorter that the default effective MTU for sending (EMTU_S in <a class='info' href='#RFC1122'>[RFC1122]<span> (</span><span class='info'>Braden, R., &ldquo;Requirements for Internet Hosts - Communication Layers,&rdquo; October&nbsp;1989.</span><span>)</span></a>). For IPv4, EMTU_S is the smaller of 576 bytes and the first-hop MTU <a class='info' href='#RFC1122'>[RFC1122]<span> (</span><span class='info'>Braden, R., &ldquo;Requirements for Internet Hosts - Communication Layers,&rdquo; October&nbsp;1989.</span><span>)</span></a>. For IPv6, EMTU_S is 1280 bytes <a class='info' href='#RFC2460'>[RFC2460]<span> (</span><span class='info'>Deering, S. and R. Hinden, &ldquo;Internet Protocol, Version 6 (IPv6) Specification,&rdquo; December&nbsp;1998.</span><span>)</span></a>. The effective PMTU for a directly connected destination (with no routers on the path) is the configured interface MTU, which could be less than the maximum link payload size. Transmission of minimum-sized UDP datagrams is inefficient over paths that support a larger PMTU, which is a second reason to implement PMTU discovery.
		
</p>
<p>
To determine an appropriate UDP payload size, applications MUST subtract the size of the IP header (which includes any IPv4 optional headers or IPv6 extension headers) as well as the length of the UDP header (8 bytes) from the PMTU size. This size, known as the MMS_S, can be obtained from the TCP/IP stack <a class='info' href='#RFC1122'>[RFC1122]<span> (</span><span class='info'>Braden, R., &ldquo;Requirements for Internet Hosts - Communication Layers,&rdquo; October&nbsp;1989.</span><span>)</span></a>. 
		
</p>
<p>
Applications that do not send messages that exceed the effective PMTU of IPv4 or IPv6 need not implement any of the above mechanisms. Note that the presence of tunnels can cause an additional reduction of the effective PMTU, so implementing PMTU discovery will still be beneficial in some cases.
		
</p>
<p>
Applications that fragment an application-layer	message into multiple UDP datagrams SHOULD perform this fragmentation so that each datagram can be received independently, and be independently retransmitted in the case where an application implements its own reliability mechanisms.	
		
</p>
<a name="reguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Reliability Guidelines</h3>

<p>
Application designers are generally aware that UDP does not provide any reliability, e.g., it does not retransmit any lost packets. Often, this is a main reason to consider UDP as a transport. Applications that do require reliable message delivery MUST implement an appropriate mechanism themselves. 
		
</p>
<p>
UDP also does not protect against datagram duplication, i.e., an application may receive multiple copies of the same UDP datagram. Application designers SHOULD verify that their application handles datagram duplication gracefully, and may consequently need to implement mechanisms to detect duplicates. Even if UDP datagram reception triggers idempotent operations, applications may want to suppress duplicate datagrams to reduce load.
		
</p>
<p>
In addition, the Internet can significantly delay some packets with respect to others, e.g., due to routing transients, intermittent connectivity, or mobility. This can cause reordering, where UDP datagrams arrive at the receiver in an order different from the transmission order. Applications that require ordered delivery MUST reestablish datagram ordering themselves. 		
</p>
<p>
Finally, it is important to note that delay spikes can be very large. This can cause reordered packets to arrive many seconds after they were sent. <a class='info' href='#RFC0793'>[RFC0793]<span> (</span><span class='info'>Postel, J., &ldquo;Transmission Control Protocol,&rdquo; September&nbsp;1981.</span><span>)</span></a> defines the the maximum delay a TCP segment should experience - the Maximum Segment Lifetime (MSL) - as 2 minutes. No other RFC defines an MSL for other transport protocols or IP itself. This document clarifies that the MSL value to be used for UDP SHOULD be the same 2 minutes as for TCP. Applications SHOULD be robust to the reception of delayed or duplicate packets that are received within this 2-minute interval.
		
</p>
<p>
An application that requires reliable and ordered message delivery SHOULD choose an IETF standard transport protocol that provides these features. If this is not possible, it will need to implement a set of appropriate mechanisms itself.
		
</p>
<a name="chkguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Checksum Guidelines</h3>

<p>
The UDP header includes an optional, 16-bit ones-complement checksum that provides an integrity check. This results in a relatively weak protection from in terms of coding theory <a class='info' href='#RFC3819'>[RFC3819]<span> (</span><span class='info'>Karn, P., Bormann, C., Fairhurst, G., Grossman, D., Ludwig, R., Mahdavi, J., Montenegro, G., Touch, J., and L. Wood, &ldquo;Advice for Internet Subnetwork Designers,&rdquo; July&nbsp;2004.</span><span>)</span></a> and application developers SHOULD implement additional checks where data integrity is important, e.g., through a Cyclic Redundancy Check (CRC) included with the data to verify the integrity of an entire object/file sent over UDP service.
		
</p>
<p>
The UDP checksum provides a statistical guarantee that the payload was not corrupted in transit. It also allows the receiver to verify that it was the intended destination of the packet, because it covers the IP addresses, port numbers and protocol number, and it verifies that the packet is not truncated or padded, because it covers the size field. It therefore protects an application against receiving corrupted payload data in place of, or in addition to, the data that was sent. This check is not strong from a coding or cryptographic perspective, and is not designed to detect physical-layer errors or malicious modification of the datagram <a class='info' href='#RFC3819'>[RFC3819]<span> (</span><span class='info'>Karn, P., Bormann, C., Fairhurst, G., Grossman, D., Ludwig, R., Mahdavi, J., Montenegro, G., Touch, J., and L. Wood, &ldquo;Advice for Internet Subnetwork Designers,&rdquo; July&nbsp;2004.</span><span>)</span></a>.
		
</p>
<p>
Applications SHOULD enable UDP checksums, although <a class='info' href='#RFC0768'>[RFC0768]<span> (</span><span class='info'>Postel, J., &ldquo;User Datagram Protocol,&rdquo; August&nbsp;1980.</span><span>)</span></a> permits the option to disable their use. Applications that choose to disable UDP checksums when transmitting over IPv4 therefore MUST NOT make assumptions regarding the correctness of received data and MUST behave correctly when a UDP datagram is received that was originally sent to a different destination or is otherwise corrupted. The use of the UDP checksum is REQUIRED when applications transmit UDP over IPv6 <a class='info' href='#RFC2460'>[RFC2460]<span> (</span><span class='info'>Deering, S. and R. Hinden, &ldquo;Internet Protocol, Version 6 (IPv6) Specification,&rdquo; December&nbsp;1998.</span><span>)</span></a>.
		
</p>
<a name="udplite"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4.1"></a><h3>3.4.1.&nbsp;
UDP-Lite</h3>

<p>
A special class of applications can derive benefit from having partially damaged payloads delivered, rather than discarded, when using paths that include error-prone links. Such applications can tolerate payload corruption and MAY choose to use the Lightweight User Datagram Protocol (UDP-Lite) <a class='info' href='#RFC3828'>[RFC3828]<span> (</span><span class='info'>Larzon, L-A., Degermark, M., Pink, S., Jonsson, L-E., and G. Fairhurst, &ldquo;The Lightweight User Datagram Protocol (UDP-Lite),&rdquo; July&nbsp;2004.</span><span>)</span></a> variant of UDP instead of basic UDP. Applications that choose to use UDP-Lite instead of UDP should still follow the congestion control and other guidelines described for use with UDP in <a class='info' href='#udpguide'>Section&nbsp;3<span> (</span><span class='info'>UDP Usage Guidelines</span><span>)</span></a>. 
		
</p>
<p>
UDP-Lite changes the semantics of the UDP "payload length" field to that of a "checksum coverage length" field. Otherwise, UDP-Lite is semantically identical to UDP. The interface of UDP-Lite differs from that of UDP by the addition of a single (socket) option that communicates a checksum coverage length value: at the sender, this specifies the intended checksum coverage, with the remaining unprotected part of the payload called the "error insensitive part". By default, the UDP-Lite checksum coverage extends across the entire datagram. If required, an application may dynamically modify this length value, e.g., to offer greater protection to some messages. UDP-Lite always verifies that a packet was delivered to the intended destination, i.e., always verifies the header fields. Errors in the insensitive part will not cause a UDP datagram to be discarded by the destination. Applications using UDP-Lite therefore MUST NOT make assumptions regarding the correctness of the data received in the insensitive part of the UDP-Lite payload.
		
</p>
<p>
The sending application SHOULD select the minimum checksum coverage to include all sensitive protocol headers. For example, applications that use the Real-Time Protocol (RTP) <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> will likely want to protect the RTP header against corruption. Applications, where appropriate, MUST also introduce their own appropriate validity checks for protocol information carried in the insensitive part of the UDP-Lite payload (e.g., internal CRCs).
		
</p>
<p>
The receiver must set a minimum coverage threshold for incoming packets
that is not smaller than the smallest coverage used by the sender <a class='info' href='#RFC3828'>[RFC3828]<span> (</span><span class='info'>Larzon, L-A., Degermark, M., Pink, S., Jonsson, L-E., and G. Fairhurst, &ldquo;The Lightweight User Datagram Protocol (UDP-Lite),&rdquo; July&nbsp;2004.</span><span>)</span></a>. The receiver SHOULD select a threshold that is sufficiently large to block packets with an inappropriately short coverage field. This may
be a fixed value, or may be negotiated by an application. UDP-Lite does not
provide mechanisms to negotiate the checksum coverage between the sender and
receiver. 
		
</p>
<p>
Applications may still experience packet loss, rather than corruption, when
using UDP-Lite. The enhancements offered by UDP-Lite rely upon a link being
able to intercept the UDP-Lite header to correctly identify the
partial coverage required. When tunnels and/or encryption are used, this can
result in UDP-Lite datagrams being treated the same as UDP datagrams, i.e., result in packet loss. Use of IP fragmentation can also prevent special treatment for UDP-Lite datagrams, and is another reason why applications SHOULD avoid IP fragmentation (<a class='info' href='#msguide'>Section&nbsp;3.2<span> (</span><span class='info'>Message Size Guidelines</span><span>)</span></a>). 

		
</p>
<a name="natguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Middlebox Traversal Guidelines</h3>

<p>
Network address translators (NATs) and firewalls are examples of intermediary devices ("middleboxes") that can exist along an end-to-end path. A middlebox typically performs a function that requires it to maintain per-flow state. For connection-oriented protocols, such as TCP, middleboxes snoop and parse the connection-management traffic and create and destroy per-flow state accordingly. For a connectionless protocol such as UDP, this approach is not possible. Consequently, middleboxes may create per-flow state when they see a packet that indicates a new flow, and destroy the state after some period of time during which no packets belonging to the same flow have arrived.
	
</p>
<p>
Depending on the specific function that the middlebox performs, this behavior can introduce a time-dependency that restricts the kinds of UDP traffic exchanges that will be successful across the middlebox. For example, NATs and firewalls typically define the partial path on one side of them to be interior to the domain they serve, whereas the partial path on their other side is defined to be exterior to that domain. Per-flow state is typically created when the first packet crosses from the interior to the exterior, and while the state is present, NATs and firewalls will forward return traffic. Return traffic arriving after the per-flow state has timed out is dropped, as is other traffic arriving from the exterior.
	
</p>
<p>
Many applications that use UDP for communication operate across middleboxes without needing to employ additional mechanisms. One example is the Domain Name System (DNS), which has a strict request-response communication pattern that typically completes within seconds.
	
</p>
<p>
Other applications may experience communication failures when middleboxes destroy the per-flow state associated with an application session during periods when the application does not exchange any UDP traffic. Applications SHOULD be able to gracefully handle such communication failures and implement mechanisms to re-establish application-layer sessions and state.
	
</p>
<p>
For some applications, such as media transmissions, this re-synchronization is highly undesirable, because it can cause user-perceivable playback artifacts. Such specialized applications MAY send periodic keep-alive messages to attempt to refresh middlebox state. It is important to note that keep-alive messages are NOT RECOMMENDED for general use - they are unnecessary for many applications and  can consume significant amounts of system and network resources.
	
</p>
<p>
An application that needs to employ keep-alives to deliver useful service over UDP in the presence of middleboxes SHOULD NOT transmit them more frequently than once every 15 seconds and SHOULD use longer intervals when possible. No common timeout has been specified for per-flow UDP state for arbitrary middleboxes. For NATs, <a class='info' href='#RFC4787'>[RFC4787]<span> (</span><span class='info'>Audet, F. and C. Jennings, &ldquo;Network Address Translation (NAT) Behavioral Requirements for Unicast UDP,&rdquo; January&nbsp;2007.</span><span>)</span></a> requires a state timeout of 2 minutes or longer. However, empirical evidence suggests that a significant fraction of the deployed middleboxes unfortunately uses shorter timeouts. The timeout of 15 seconds originates with the Interactive Connectivity Establishment (ICE) protocol <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>. When applications are deployed in more controlled network environments, the deployers SHOULD investigate whether the target environment allows applications to use longer intervals, or whether it offers mechanisms to explicitly control middlebox state timeout durations, for example, using MIDCOM <a class='info' href='#RFC3303'>[RFC3303]<span> (</span><span class='info'>Srisuresh, P., Kuthan, J., Rosenberg, J., Molitor, A., and A. Rayhan, &ldquo;Middlebox communication architecture and framework,&rdquo; August&nbsp;2002.</span><span>)</span></a>, NSIS <a class='info' href='#I-D.ietf-nsis-nslp-natfw'>[I&#8209;D.ietf&#8209;nsis&#8209;nslp&#8209;natfw]<span> (</span><span class='info'>Stiemerling, M., Tschofenig, H., Aoun, C., and E. Davies, &ldquo;NAT/Firewall NSIS Signaling Layer Protocol (NSLP),&rdquo; April&nbsp;2010.</span><span>)</span></a> or UPnP <a class='info' href='#UPNP'>[UPNP]<span> (</span><span class='info'>UPnP Forum, &ldquo;Internet Gateway Device (IGD) Standardized Device Control Protocol V 1.0,&rdquo; November&nbsp;2001.</span><span>)</span></a>. It is RECOMMENDED that applications apply slight random variations ("jitter") to the timing of keep-alive transmissions, in order to reduce the potential for persistent synchronization between keep-alive transmissions from different hosts.
	
</p>
<p>
Sending keep-alives is not a substitute for implementing robust connection handling. Like all UDP datagrams, keep-alives can be delayed or dropped, causing middlebox state to time out. In addition, the congestion control guidelines in <a class='info' href='#ccguide'>Section&nbsp;3.1<span> (</span><span class='info'>Congestion Control Guidelines</span><span>)</span></a> cover all UDP transmissions by an application, including the transmission of middlebox keep-alives. Congestion control may thus lead to delays or temporary suspension of keep-alive transmission.
	
</p>
<p>
Keep-alive messages are NOT RECOMMENDED for general use. They are unnecessary for many applications and can consume significant amounts of system and network resources. For example, on battery-powered devices, if an application needs to maintain connectivity for long periods with little traffic, the frequency at which keep-alives are sent can become the determining factor that governs power consumption, depending on the underlying network technology. Because many middleboxes are designed to require keep-alives for TCP connections at a frequency that is much lower than that needed for UDP, this difference alone can often be sufficient to prefer TCP over UDP for these deployments. On the other hand, there is anecdotal evidence that suggests that direct communication through middleboxes, e.g., by using ICE <a class='info' href='#I-D.ietf-mmusic-ice'>[I&#8209;D.ietf&#8209;mmusic&#8209;ice]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols,&rdquo; October&nbsp;2007.</span><span>)</span></a>, does succeed less often with TCP than with UDP. The tradeoffs between different transport protocols - especially when it comes to middlebox traversal - deserve careful analysis.
	
</p>
<a name="progguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
Programming Guidelines</h3>

<p>
The de facto standard application programming interface (API) for TCP/IP applications is the "sockets" interface <a class='info' href='#POSIX'>[POSIX]<span> (</span><span class='info'>IEEE Std. 1003.1-2001, &ldquo;Standard for Information Technology - Portable Operating System Interface (POSIX),&rdquo; December&nbsp;2001.</span><span>)</span></a>. Although this API was developed for UNIX in the early 1980s, a wide variety of non-UNIX operating systems also implements it. The sockets API supports both IPv4 and IPv6 <a class='info' href='#RFC3493'>[RFC3493]<span> (</span><span class='info'>Gilligan, R., Thomson, S., Bound, J., McCann, J., and W. Stevens, &ldquo;Basic Socket Interface Extensions for IPv6,&rdquo; February&nbsp;2003.</span><span>)</span></a>. The UDP sockets API differs from that for TCP in several key ways. Because application programmers are typically more familiar with the TCP sockets API, the remainder of this section discusses these differences. <a class='info' href='#STEVENS'>[STEVENS]<span> (</span><span class='info'>Stevens, W., Fenner, B., and A. Rudoff, &ldquo;UNIX Network Programming, The sockets Networking API,&rdquo; 2004.</span><span>)</span></a> provides usage examples of the UDP sockets API.
	
</p>
<p>
UDP datagrams may be directly sent and received, without any connection setup. Using the sockets API, applications can receive packets from more than one IP source address on a single UDP socket. Some servers use this to exchange data with more than one remote host through a single UDP socket at the same time. When applications need to ensure that they receive packets from a particular source address, they MUST implement corresponding checks at the application layer or explicitly request that the operating system filter the received packets.
	
</p>
<p>
If a client/server application executes on a host with more than one IP interface, the application SHOULD send any UDP responses with an IP source address that matches the IP destination address of the UDP datagram that carried the request (see <a class='info' href='#RFC1122'>[RFC1122]<span> (</span><span class='info'>Braden, R., &ldquo;Requirements for Internet Hosts - Communication Layers,&rdquo; October&nbsp;1989.</span><span>)</span></a>, Section 4.1.3.5). Many middleboxes expect this transmission behavior and drop replies that are sent from a different IP address, as explained in <a class='info' href='#natguide'>Section&nbsp;3.5<span> (</span><span class='info'>Middlebox Traversal Guidelines</span><span>)</span></a>. 
	
</p>
<p>
A UDP receiver can receive a valid UDP datagram with a zero-length payload. Note that this is different from a return value of zero from a read() socket call, which for TCP indicates the end of the connection. 
	
</p>
<p>
Many operating systems also allow a UDP socket to be connected, i.e., to bind a UDP socket to a specific pair of addresses and ports. This is similar to the corresponding TCP sockets API functionality. However, for UDP, this is only a local operation that serves to simplify the local send/receive functions and to filter the traffic for the specified addresses and ports. Binding a UDP socket does not establish a connection - UDP does not notify the remote end when a local UDP socket is bound. Binding a socket also allows configuring options that affect the UDP or IP layers, for example, use of the UDP checksum or the IP Time Stamp Option. On some stacks, a bound socket also allows an application to be notified when ICMP error messages are received for its transmissions <a class='info' href='#RFC1122'>[RFC1122]<span> (</span><span class='info'>Braden, R., &ldquo;Requirements for Internet Hosts - Communication Layers,&rdquo; October&nbsp;1989.</span><span>)</span></a>.
	
</p>
<p>
UDP provides no flow-control. This is another reason why UDP-based applications need to be robust in the presence of packet loss. This loss can also occur within the sending host, when an application sends data faster than the line rate of the outbound network interface. It can also occur on the destination, where receive calls fail to return all the data that was sent when the application issues them too infrequently (i.e., such that the receive buffer overflows). Robust flow control mechanisms are difficult to implement, which is why applications that need this functionality SHOULD consider using a full-featured transport protocol.
	
</p>
<p>
When an application closes a TCP, SCTP or DCCP socket, the transport protocol on the receiving host is required to maintain TIME-WAIT state. This prevents delayed packets from the closed connection instance from being mistakenly associated with a later connection instance that happens to reuse the same IP address and port pairs. The UDP protocol does not implement such a mechanism. Therefore, UDP-based applications need to be robust in this case. One application may close a socket or terminate, followed in time by another application receiving on the same port. This later application may then receive packets intended for the first application that were delayed in the network.
	
</p>
<a name="icmpguide"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.7"></a><h3>3.7.&nbsp;
ICMP Guidelines</h3>

<p>
Applications can utilize information about ICMP error messages that the UDP layer passes up for a variety of purposes [RFC1122]. Applications SHOULD validate that the information in the ICMP message payload, e.g., a reported error condition, corresponds to a UDP datagram that the application actually sent. Note that not all APIs have the necessary functions to support this validation, and some APIs already perform this validation internally before passing ICMP information to the application.
	
</p>
<p>
Any application response to ICMP error messages SHOULD be robust to temporary routing failures, i.e., transient ICMP "unreachable" messages should not normally cause a communication abort. Applications SHOULD appropriately process ICMP messages generated in response to transmitted traffic. A correct response often requires context, such as local state about communication instances to each destination, that although readily available in connection-oriented transport protocols is not always maintained by UDP-based applications. 
	
</p>
<a name="seccons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
UDP does not provide communications security. Applications that need to protect their communications against eavesdropping, tampering, or message forgery SHOULD employ end-to-end security services provided by other IETF protocols. Applications that respond to short requests with potentially large responses are vulnerable to amplification attacks, and SHOULD authenticate the sender before responding. The source IP address of a request is not a useful authenticator, because it can be spoofed.
	
</p>
<p>
One option of securing UDP communications is with IPsec <a class='info' href='#RFC4301'>[RFC4301]<span> (</span><span class='info'>Kent, S. and K. Seo, &ldquo;Security Architecture for the Internet Protocol,&rdquo; December&nbsp;2005.</span><span>)</span></a>, which can provide authentication for flows of IP packets through the Authentication Header (AH) <a class='info' href='#RFC4302'>[RFC4302]<span> (</span><span class='info'>Kent, S., &ldquo;IP Authentication Header,&rdquo; December&nbsp;2005.</span><span>)</span></a> and encryption and/or authentication through the Encapsulating Security Payload (ESP) <a class='info' href='#RFC4303'>[RFC4303]<span> (</span><span class='info'>Kent, S., &ldquo;IP Encapsulating Security Payload (ESP),&rdquo; December&nbsp;2005.</span><span>)</span></a>. Applications use the Internet Key Exchange (IKE) <a class='info' href='#RFC4306'>[RFC4306]<span> (</span><span class='info'>Kaufman, C., &ldquo;Internet Key Exchange (IKEv2) Protocol,&rdquo; December&nbsp;2005.</span><span>)</span></a> to configure IPsec for their sessions. Depending on how IPsec is configured for a flow, it can authenticate or encrypt the UDP headers as well as UDP payloads. If an application only requires authentication, ESP with no encryption but with authentication is often a better option than AH, because ESP can operate across middleboxes. In order to be able to use IPsec, an application must execute on an operating system that implements the IPsec protocol suite.
	
</p>
<p>
Although it is possible to use IPsec to secure UDP communications, not all operating systems support IPsec or allow applications to easily configure it for their flows. A second option of securing UDP communications is through Datagram Transport Layer Security (DTLS) <a class='info' href='#RFC4347'>[RFC4347]<span> (</span><span class='info'>Rescorla, E. and N. Modadugu, &ldquo;Datagram Transport Layer Security,&rdquo; April&nbsp;2006.</span><span>)</span></a>. DTLS provides communication privacy by encrypting UDP payloads. It does not protect the UDP headers. Applications can implement DTLS without relying on support from the operating system.
	
</p>
<p>
Many other options for authenticating or encrypting UDP payloads exist.  For example, the GSS-API security framework <a class='info' href='#RFC2743'>[RFC2743]<span> (</span><span class='info'>Linn, J., &ldquo;Generic Security Service Application Program Interface Version 2, Update 1,&rdquo; January&nbsp;2000.</span><span>)</span></a> or Cryptographic Message Syntax (CMS) <a class='info' href='#RFC3852'>[RFC3852]<span> (</span><span class='info'>Housley, R., &ldquo;Cryptographic Message Syntax (CMS),&rdquo; July&nbsp;2004.</span><span>)</span></a> could be used to protect UDP payloads. The IETF standard for securing RTP <a class='info' href='#RFC3550'>[RFC3550]<span> (</span><span class='info'>Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;RTP: A Transport Protocol for Real-Time Applications,&rdquo; July&nbsp;2003.</span><span>)</span></a> realtime communication sessions over UDP is SRTP <a class='info' href='#RFC3711'>[RFC3711]<span> (</span><span class='info'>Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;The Secure Real-time Transport Protocol (SRTP),&rdquo; March&nbsp;2004.</span><span>)</span></a>.  In some applications, a better solution is to protect larger standalone objects, such as files or messages, instead of individual UDP payloads. In these situations, CMS <a class='info' href='#RFC3852'>[RFC3852]<span> (</span><span class='info'>Housley, R., &ldquo;Cryptographic Message Syntax (CMS),&rdquo; July&nbsp;2004.</span><span>)</span></a>, S/MIME <a class='info' href='#RFC3851'>[RFC3851]<span> (</span><span class='info'>Ramsdell, B., &ldquo;Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification,&rdquo; July&nbsp;2004.</span><span>)</span></a> or OpenPGP <a class='info' href='#RFC4880'>[RFC4880]<span> (</span><span class='info'>Callas, J., Donnerhacke, L., Finney, H., Shaw, D., and R. Thayer, &ldquo;OpenPGP Message Format,&rdquo; November&nbsp;2007.</span><span>)</span></a> could be used. In addition, there are many non-IETF protocols in this area.
	
</p>
<p>
Like congestion control mechanisms, security mechanisms are difficult to design and implement correctly. It is hence RECOMMENDED that applications employ well-known standard security mechanisms such as DTLS or IPsec, rather than inventing their own.
	
</p>
<p>
In terms of congestion control, <a class='info' href='#RFC2309'>[RFC2309]<span> (</span><span class='info'>Braden, B., Clark, D., Crowcroft, J., Davie, B., Deering, S., Estrin, D., Floyd, S., Jacobson, V., Minshall, G., Partridge, C., Peterson, L., Ramakrishnan, K., Shenker, S., Wroclawski, J., and L. Zhang, &ldquo;Recommendations on Queue Management and Congestion Avoidance in the Internet,&rdquo; April&nbsp;1998.</span><span>)</span></a> and <a class='info' href='#RFC2914'>[RFC2914]<span> (</span><span class='info'>Floyd, S., &ldquo;Congestion Control Principles,&rdquo; September&nbsp;2000.</span><span>)</span></a> discuss the dangers of congestion-unresponsive flows to the Internet. This document provides guidelines to designers of UDP-based applications to congestion-control their transmissions, and does not raise any additional security concerns.
	
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Summary</h3>

<p>
This section summarizes the guidelines made in <a class='info' href='#udpguide'>Section&nbsp;3<span> (</span><span class='info'>UDP Usage Guidelines</span><span>)</span></a> and <a class='info' href='#seccons'>Section&nbsp;4<span> (</span><span class='info'>Security Considerations</span><span>)</span></a> in a tabular format in <a class='info' href='#sumtable'>Table&nbsp;1<span> (</span><span class='info'>Summary of recommendations.</span><span>)</span></a> for easy referencing.
	
</p><br /><hr class="insert" />
<a name="sumtable"></a>
<table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="left"><col align="left">
<tr><th align="left">Recommendation</th><th align="left">Section</th></tr>
<tr>
<td align="left">MUST tolerate wide range of Internet path conditions</td>
<td align="left"><a class='info' href='#udpguide'>3<span> (</span><span class='info'>UDP Usage Guidelines</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">SHOULD use a full-featured transport (TCP, SCTP, DCCP)</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">SHOULD control rate of transmission</td>
<td align="left"><a class='info' href='#ccguide'>3.1<span> (</span><span class='info'>Congestion Control Guidelines</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">SHOULD perform congestion control over all traffic</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">for bulk transfers,</td>
<td align="left"><a class='info' href='#btguide'>3.1.1<span> (</span><span class='info'>Bulk Transfer Applications</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">SHOULD consider implementing TFRC</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">else, SHOULD otherwise use bandwidth similar to TCP</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">for non-bulk transfers,</td>
<td align="left"><a class='info' href='#ldrguide'>3.1.2<span> (</span><span class='info'>Low Data-Volume Applications</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">SHOULD measure RTT and transmit max. 1 datagram/RTT</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">else, SHOULD send at most 1 datagram every 3 seconds</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">SHOULD NOT send datagrams that exceed the PMTU, i.e.,</td>
<td align="left"><a class='info' href='#msguide'>3.2<span> (</span><span class='info'>Message Size Guidelines</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">SHOULD discover PMTU or send datagrams &lt; minimum PMTU</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">SHOULD handle datagram loss, duplication, reordering</td>
<td align="left"><a class='info' href='#reguide'>3.3<span> (</span><span class='info'>Reliability Guidelines</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">SHOULD be robust to delivery delays up to 2 minutes</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">SHOULD enable UDP checksum</td>
<td align="left"><a class='info' href='#chkguide'>3.4<span> (</span><span class='info'>Checksum Guidelines</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">else, MAY use UDP-Lite with suitable checksum coverage</td>
<td align="left"><a class='info' href='#udplite'>3.4.1<span> (</span><span class='info'>UDP-Lite</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">SHOULD NOT always send middlebox keep-alives</td>
<td align="left"><a class='info' href='#natguide'>3.5<span> (</span><span class='info'>Middlebox Traversal Guidelines</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">MAY use keep-alives when needed (min. interval 15 sec)</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">MUST check IP source address</td>
<td align="left"><a class='info' href='#progguide'>3.6<span> (</span><span class='info'>Programming Guidelines</span><span>)</span></a></td>
</tr>
<tr>
<td align="left">and, for client/server applications</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">SHOULD send responses from src address matching request</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">&nbsp;</td>
<td align="left">&nbsp;</td>
</tr>
<tr>
<td align="left">SHOULD use standard IETF security protocols when needed</td>
<td align="left"><a class='info' href='#seccons'>4<span> (</span><span class='info'>Security Considerations</span><span>)</span></a></td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Summary of recommendations.&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="ianacons"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>
This document raises no IANA considerations.
	
</p>
<p>
(Note to the RFC Editor: Please remove this section upon publication.)
	
</p>
<a name="ack"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgments</h3>

<p>
Thanks to Paul Aitken, Mark Allman, Francois Audet, Iljitsch van Beijnum, Stewart Bryant, Remi Denis-Courmont, Wesley Eddy, Pasi Eronen, Sally Floyd, Robert Hancock, Jeffrey Hutzelman, Cullen Jennings, Tero Kivinen, Peter Koch, Jukka Manner, Philip Matthews, Joerg Ott, Colin Perkins, Tom Petch, Carlos Pignataro, Pasi Sarolahti, Pascal Thubert, Joe Touch and Magnus Westerlund for their comments on this document.
	
</p>
<p>
The middlebox traversal guidelines in <a class='info' href='#natguide'>Section&nbsp;3.5<span> (</span><span class='info'>Middlebox Traversal Guidelines</span><span>)</span></a> incorporate ideas from Section 5 of <a class='info' href='#I-D.ford-behave-app'>[I&#8209;D.ford&#8209;behave&#8209;app]<span> (</span><span class='info'>Ford, B., &ldquo;Application Design Guidelines for Traversal through Network Address  Translators,&rdquo; March&nbsp;2007.</span><span>)</span></a> by Bryan Ford, Pyda Srisuresh and Dan Kegel.
	
</p>
<p>
Lars Eggert is partly funded by <a class='info' href='#TRILOGY'>[TRILOGY]<span> (</span><span class='info'>, &ldquo;Trilogy Project,&rdquo; .</span><span>)</span></a>, a research project supported by the European Commission under its Seventh Framework Program.
	
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC0768">[RFC0768]</a></td>
<td class="author-text">Postel, J., &ldquo;<a href="http://tools.ietf.org/html/rfc768">User Datagram Protocol</a>,&rdquo; STD&nbsp;6, RFC&nbsp;768, August&nbsp;1980 (<a href="http://www.rfc-editor.org/rfc/rfc768.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC0793">[RFC0793]</a></td>
<td class="author-text">Postel, J., &ldquo;<a href="http://tools.ietf.org/html/rfc793">Transmission Control Protocol</a>,&rdquo; STD&nbsp;7, RFC&nbsp;793, September&nbsp;1981 (<a href="http://www.rfc-editor.org/rfc/rfc793.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1122">[RFC1122]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, R.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1122">Requirements for Internet Hosts - Communication Layers</a>,&rdquo; STD&nbsp;3, RFC&nbsp;1122, October&nbsp;1989 (<a href="http://www.rfc-editor.org/rfc/rfc1122.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1191">[RFC1191]</a></td>
<td class="author-text"><a href="mailto:mogul@decwrl.dec.com">Mogul, J.</a> and <a href="mailto:deering@xerox.com">S. Deering</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1191">Path MTU discovery</a>,&rdquo; RFC&nbsp;1191, November&nbsp;1990 (<a href="http://www.rfc-editor.org/rfc/rfc1191.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1981">[RFC1981]</a></td>
<td class="author-text"><a href="mailto:mccann@zk3.dec.com">McCann, J.</a>, <a href="mailto:deering@parc.xerox.com">Deering, S.</a>, and <a href="mailto:mogul@pa.dec.com">J. Mogul</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1981">Path MTU Discovery for IP version 6</a>,&rdquo; RFC&nbsp;1981, August&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1981.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2460">[RFC2460]</a></td>
<td class="author-text"><a href="mailto:deering@cisco.com">Deering, S.</a> and <a href="mailto:hinden@iprg.nokia.com">R. Hinden</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2460">Internet Protocol, Version 6 (IPv6) Specification</a>,&rdquo; RFC&nbsp;2460, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2460.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2460.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2460.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2914">[RFC2914]</a></td>
<td class="author-text">Floyd, S., &ldquo;<a href="http://tools.ietf.org/html/rfc2914">Congestion Control Principles</a>,&rdquo; BCP&nbsp;41, RFC&nbsp;2914, September&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2914.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2988">[RFC2988]</a></td>
<td class="author-text">Paxson, V. and M. Allman, &ldquo;<a href="http://tools.ietf.org/html/rfc2988">Computing TCP's Retransmission Timer</a>,&rdquo; RFC&nbsp;2988, November&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2988.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3448">[RFC3448]</a></td>
<td class="author-text">Handley, M., Floyd, S., Padhye, J., and J. Widmer, &ldquo;<a href="http://tools.ietf.org/html/rfc3448">TCP Friendly Rate Control (TFRC): Protocol Specification</a>,&rdquo; RFC&nbsp;3448, January&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3448.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3828">[RFC3828]</a></td>
<td class="author-text">Larzon, L-A., Degermark, M., Pink, S., Jonsson, L-E., and G. Fairhurst, &ldquo;<a href="http://tools.ietf.org/html/rfc3828">The Lightweight User Datagram Protocol (UDP-Lite)</a>,&rdquo; RFC&nbsp;3828, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3828.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4787">[RFC4787]</a></td>
<td class="author-text">Audet, F. and C. Jennings, &ldquo;<a href="http://tools.ietf.org/html/rfc4787">Network Address Translation (NAT) Behavioral Requirements for Unicast UDP</a>,&rdquo; BCP&nbsp;127, RFC&nbsp;4787, January&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4787.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4821">[RFC4821]</a></td>
<td class="author-text">Mathis, M. and J. Heffner, &ldquo;<a href="http://tools.ietf.org/html/rfc4821">Packetization Layer Path MTU Discovery</a>,&rdquo; RFC&nbsp;4821, March&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4821.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>8.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="FABER">[FABER]</a></td>
<td class="author-text">Faber, T., Touch, J., and W. Yue, &ldquo;The TIME-WAIT State in TCP and Its Effect on Busy Servers,&rdquo; Proc.&nbsp;IEEE Infocom, March&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ford-behave-app">[I-D.ford-behave-app]</a></td>
<td class="author-text">Ford, B., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ford-behave-app-05.txt">Application Design Guidelines for Traversal through Network Address  Translators</a>,&rdquo; draft-ford-behave-app-05 (work in progress), March&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ford-behave-app-05.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-dccp-ccid4">[I-D.ietf-dccp-ccid4]</a></td>
<td class="author-text">Floyd, S. and E. Kohler, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-dccp-ccid4-05.txt">Profile for Datagram Congestion Control Protocol (DCCP) Congestion ID 4:  TCP-Friendly Rate Control for Small Packets (TFRC-SP)</a>,&rdquo; draft-ietf-dccp-ccid4-05 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-dccp-ccid4-05.txt">TXT</a>, <a href="http://www.ietf.org/internet-drafts/draft-ietf-dccp-ccid4-05.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-dccp-rfc3448bis">[I-D.ietf-dccp-rfc3448bis]</a></td>
<td class="author-text">Handley, M., Floyd, S., Padhye, J., and J. Widmer, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-dccp-rfc3448bis-06.txt">TCP Friendly Rate Control (TFRC): Protocol Specification</a>,&rdquo; draft-ietf-dccp-rfc3448bis-06 (work in progress), April&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-dccp-rfc3448bis-06.txt">TXT</a>, <a href="http://www.ietf.org/internet-drafts/draft-ietf-dccp-rfc3448bis-06.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mmusic-ice">[I-D.ietf-mmusic-ice]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-ice-19.txt">Interactive Connectivity Establishment (ICE): A Protocol for Network Address Translator (NAT) Traversal for Offer/Answer Protocols</a>,&rdquo; draft-ietf-mmusic-ice-19 (work in progress), October&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mmusic-ice-19.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-nsis-nslp-natfw">[I-D.ietf-nsis-nslp-natfw]</a></td>
<td class="author-text">Stiemerling, M., Tschofenig, H., Aoun, C., and E. Davies, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-nsis-nslp-natfw-25.txt">NAT/Firewall NSIS Signaling Layer Protocol (NSLP)</a>,&rdquo; draft-ietf-nsis-nslp-natfw-25 (work in progress), April&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-nsis-nslp-natfw-25.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-nsis-ntlp">[I-D.ietf-nsis-ntlp]</a></td>
<td class="author-text">Schulzrinne, H. and M. Stiemerling, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-nsis-ntlp-20.txt">GIST: General Internet Signalling Transport</a>,&rdquo; draft-ietf-nsis-ntlp-20 (work in progress), June&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-nsis-ntlp-20.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="POSIX">[POSIX]</a></td>
<td class="author-text">IEEE Std. 1003.1-2001, &ldquo;Standard for Information Technology - Portable Operating System Interface (POSIX),&rdquo; Open Group Technical Standard: Base Specifications&nbsp;Issue 6, ISO/IEC 9945:2002, December&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC0896">[RFC0896]</a></td>
<td class="author-text">Nagle, J., &ldquo;<a href="http://tools.ietf.org/html/rfc896">Congestion control in IP/TCP internetworks</a>,&rdquo; RFC&nbsp;896, January&nbsp;1984 (<a href="http://www.rfc-editor.org/rfc/rfc896.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC0919">[RFC0919]</a></td>
<td class="author-text">Mogul, J., &ldquo;<a href="http://tools.ietf.org/html/rfc919">Broadcasting Internet Datagrams</a>,&rdquo; STD&nbsp;5, RFC&nbsp;919, October&nbsp;1984 (<a href="http://www.rfc-editor.org/rfc/rfc919.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1112">[RFC1112]</a></td>
<td class="author-text"><a href="mailto:deering@PESCADERO.STANFORD.EDU">Deering, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1112">Host extensions for IP multicasting</a>,&rdquo; STD&nbsp;5, RFC&nbsp;1112, August&nbsp;1989 (<a href="http://www.rfc-editor.org/rfc/rfc1112.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1536">[RFC1536]</a></td>
<td class="author-text"><a href="mailto:anant@isi.edu">Kumar, A.</a>, <a href="mailto:postel@isi.edu">Postel, J.</a>, <a href="mailto:bcn@isi.edu">Neuman, C.</a>, <a href="mailto:danzig@caldera.usc.edu">Danzig, P.</a>, and <a href="mailto:smiller@caldera.usc.edu">S. Miller</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1536">Common DNS Implementation Errors and Suggested Fixes</a>,&rdquo; RFC&nbsp;1536, October&nbsp;1993 (<a href="http://www.rfc-editor.org/rfc/rfc1536.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1546">[RFC1546]</a></td>
<td class="author-text"><a href="mailto:craig@bbn.com">Partridge, C.</a>, <a href="mailto:tmendez@bbn.com">Mendez, T.</a>, and <a href="mailto:milliken@bbn.com">W. Milliken</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1546">Host Anycasting Service</a>,&rdquo; RFC&nbsp;1546, November&nbsp;1993 (<a href="http://www.rfc-editor.org/rfc/rfc1546.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2309">[RFC2309]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, B.</a>, <a href="mailto:DDC@lcs.mit.edu">Clark, D.</a>, <a href="mailto:Jon.Crowcroft@cs.ucl.ac.uk">Crowcroft, J.</a>, <a href="mailto:bdavie@cisco.com">Davie, B.</a>, <a href="mailto:deering@cisco.com">Deering, S.</a>, <a href="mailto:Estrin@usc.edu">Estrin, D.</a>, <a href="mailto:Floyd@ee.lbl.gov">Floyd, S.</a>, <a href="mailto:Van@ee.lbl.gov">Jacobson, V.</a>, <a href="mailto:Minshall@fiberlane.com">Minshall, G.</a>, <a href="mailto:craig@bbn.com">Partridge, C.</a>, <a href="mailto:LLP@cs.arizona.edu">Peterson, L.</a>, <a href="mailto:KKRama@research.att.com">Ramakrishnan, K.</a>, <a href="mailto:Shenker@parc.xerox.com">Shenker, S.</a>, <a href="mailto:JTW@lcs.mit.edu">Wroclawski, J.</a>, and <a href="mailto:Lixia@cs.ucla.edu">L. Zhang</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2309">Recommendations on Queue Management and Congestion Avoidance in the Internet</a>,&rdquo; RFC&nbsp;2309, April&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2309.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2309.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2309.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2675">[RFC2675]</a></td>
<td class="author-text"><a href="mailto:dab@bsdi.com">Borman, D.</a>, <a href="mailto:deering@cisco.com">Deering, S.</a>, and <a href="mailto:hinden@iprg.nokia.com">R. Hinden</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2675">IPv6 Jumbograms</a>,&rdquo; RFC&nbsp;2675, August&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2675.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2743">[RFC2743]</a></td>
<td class="author-text"><a href="mailto:jlinn@rsasecurity.com">Linn, J.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2743">Generic Security Service Application Program Interface Version 2, Update 1</a>,&rdquo; RFC&nbsp;2743, January&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2743.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3048">[RFC3048]</a></td>
<td class="author-text">Whetten, B., Vicisano, L., Kermode, R., Handley, M., Floyd, S., and M. Luby, &ldquo;<a href="http://tools.ietf.org/html/rfc3048">Reliable Multicast Transport Building Blocks for One-to-Many Bulk-Data Transfer</a>,&rdquo; RFC&nbsp;3048, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3048.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3124">[RFC3124]</a></td>
<td class="author-text">Balakrishnan, H. and S. Seshan, &ldquo;<a href="http://tools.ietf.org/html/rfc3124">The Congestion Manager</a>,&rdquo; RFC&nbsp;3124, June&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3124.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3261">[RFC3261]</a></td>
<td class="author-text">Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, &ldquo;<a href="http://tools.ietf.org/html/rfc3261">SIP: Session Initiation Protocol</a>,&rdquo; RFC&nbsp;3261, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3261.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3303">[RFC3303]</a></td>
<td class="author-text">Srisuresh, P., Kuthan, J., Rosenberg, J., Molitor, A., and A. Rayhan, &ldquo;<a href="http://tools.ietf.org/html/rfc3303">Middlebox communication architecture and framework</a>,&rdquo; RFC&nbsp;3303, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3303.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3493">[RFC3493]</a></td>
<td class="author-text">Gilligan, R., Thomson, S., Bound, J., McCann, J., and W. Stevens, &ldquo;<a href="http://tools.ietf.org/html/rfc3493">Basic Socket Interface Extensions for IPv6</a>,&rdquo; RFC&nbsp;3493, February&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3493.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3550">[RFC3550]</a></td>
<td class="author-text">Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, &ldquo;<a href="http://tools.ietf.org/html/rfc3550">RTP: A Transport Protocol for Real-Time Applications</a>,&rdquo; STD&nbsp;64, RFC&nbsp;3550, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3550.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3550.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3551">[RFC3551]</a></td>
<td class="author-text">Schulzrinne, H. and S. Casner, &ldquo;<a href="http://tools.ietf.org/html/rfc3551">RTP Profile for Audio and Video Conferences with Minimal Control</a>,&rdquo; STD&nbsp;65, RFC&nbsp;3551, July&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3551.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc3551.pdf">PDF</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3711">[RFC3711]</a></td>
<td class="author-text">Baugher, M., McGrew, D., Naslund, M., Carrara, E., and K. Norrman, &ldquo;<a href="http://tools.ietf.org/html/rfc3711">The Secure Real-time Transport Protocol (SRTP)</a>,&rdquo; RFC&nbsp;3711, March&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3711.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3738">[RFC3738]</a></td>
<td class="author-text">Luby, M. and V. Goyal, &ldquo;<a href="http://tools.ietf.org/html/rfc3738">Wave and Equation Based Rate Control (WEBRC) Building Block</a>,&rdquo; RFC&nbsp;3738, April&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3738.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3758">[RFC3758]</a></td>
<td class="author-text">Stewart, R., Ramalho, M., Xie, Q., Tuexen, M., and P. Conrad, &ldquo;<a href="http://tools.ietf.org/html/rfc3758">Stream Control Transmission Protocol (SCTP) Partial Reliability Extension</a>,&rdquo; RFC&nbsp;3758, May&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3758.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3819">[RFC3819]</a></td>
<td class="author-text">Karn, P., Bormann, C., Fairhurst, G., Grossman, D., Ludwig, R., Mahdavi, J., Montenegro, G., Touch, J., and L. Wood, &ldquo;<a href="http://tools.ietf.org/html/rfc3819">Advice for Internet Subnetwork Designers</a>,&rdquo; BCP&nbsp;89, RFC&nbsp;3819, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3819.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3851">[RFC3851]</a></td>
<td class="author-text">Ramsdell, B., &ldquo;<a href="http://tools.ietf.org/html/rfc3851">Secure/Multipurpose Internet Mail Extensions (S/MIME) Version 3.1 Message Specification</a>,&rdquo; RFC&nbsp;3851, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3851.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3852">[RFC3852]</a></td>
<td class="author-text">Housley, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3852">Cryptographic Message Syntax (CMS)</a>,&rdquo; RFC&nbsp;3852, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3852.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4301">[RFC4301]</a></td>
<td class="author-text">Kent, S. and K. Seo, &ldquo;<a href="http://tools.ietf.org/html/rfc4301">Security Architecture for the Internet Protocol</a>,&rdquo; RFC&nbsp;4301, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4301.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4302">[RFC4302]</a></td>
<td class="author-text">Kent, S., &ldquo;<a href="http://tools.ietf.org/html/rfc4302">IP Authentication Header</a>,&rdquo; RFC&nbsp;4302, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4302.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4303">[RFC4303]</a></td>
<td class="author-text">Kent, S., &ldquo;<a href="http://tools.ietf.org/html/rfc4303">IP Encapsulating Security Payload (ESP)</a>,&rdquo; RFC&nbsp;4303, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4303.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4306">[RFC4306]</a></td>
<td class="author-text">Kaufman, C., &ldquo;<a href="http://tools.ietf.org/html/rfc4306">Internet Key Exchange (IKEv2) Protocol</a>,&rdquo; RFC&nbsp;4306, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4306.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4340">[RFC4340]</a></td>
<td class="author-text">Kohler, E., Handley, M., and S. Floyd, &ldquo;<a href="http://tools.ietf.org/html/rfc4340">Datagram Congestion Control Protocol (DCCP)</a>,&rdquo; RFC&nbsp;4340, March&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4340.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4341">[RFC4341]</a></td>
<td class="author-text">Floyd, S. and E. Kohler, &ldquo;<a href="http://tools.ietf.org/html/rfc4341">Profile for Datagram Congestion Control Protocol (DCCP) Congestion Control ID 2: TCP-like Congestion Control</a>,&rdquo; RFC&nbsp;4341, March&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4341.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4342">[RFC4342]</a></td>
<td class="author-text">Floyd, S., Kohler, E., and J. Padhye, &ldquo;<a href="http://tools.ietf.org/html/rfc4342">Profile for Datagram Congestion Control Protocol (DCCP) Congestion Control ID 3: TCP-Friendly Rate Control (TFRC)</a>,&rdquo; RFC&nbsp;4342, March&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4342.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4347">[RFC4347]</a></td>
<td class="author-text">Rescorla, E. and N. Modadugu, &ldquo;<a href="http://tools.ietf.org/html/rfc4347">Datagram Transport Layer Security</a>,&rdquo; RFC&nbsp;4347, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4347.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4654">[RFC4654]</a></td>
<td class="author-text">Widmer, J. and M. Handley, &ldquo;<a href="http://tools.ietf.org/html/rfc4654">TCP-Friendly Multicast Congestion Control (TFMCC): Protocol Specification</a>,&rdquo; RFC&nbsp;4654, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4654.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4880">[RFC4880]</a></td>
<td class="author-text">Callas, J., Donnerhacke, L., Finney, H., Shaw, D., and R. Thayer, &ldquo;<a href="http://tools.ietf.org/html/rfc4880">OpenPGP Message Format</a>,&rdquo; RFC&nbsp;4880, November&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4880.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4960">[RFC4960]</a></td>
<td class="author-text">Stewart, R., &ldquo;<a href="http://tools.ietf.org/html/rfc4960">Stream Control Transmission Protocol</a>,&rdquo; RFC&nbsp;4960, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4960.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4963">[RFC4963]</a></td>
<td class="author-text">Heffner, J., Mathis, M., and B. Chandler, &ldquo;<a href="http://tools.ietf.org/html/rfc4963">IPv4 Reassembly Errors at High Data Rates</a>,&rdquo; RFC&nbsp;4963, July&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4963.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4987">[RFC4987]</a></td>
<td class="author-text">Eddy, W., &ldquo;<a href="http://tools.ietf.org/html/rfc4987">TCP SYN Flooding Attacks and Common Mitigations</a>,&rdquo; RFC&nbsp;4987, August&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4987.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="STEVENS">[STEVENS]</a></td>
<td class="author-text">Stevens, W., Fenner, B., and A. Rudoff, &ldquo;UNIX Network Programming, The sockets Networking API,&rdquo; &nbsp;Addison-Wesley, 2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="TRILOGY">[TRILOGY]</a></td>
<td class="author-text">&ldquo;Trilogy Project,&rdquo; &nbsp;http://www.trilogy-project.org/.</td></tr>
<tr><td class="author-text" valign="top"><a name="UPNP">[UPNP]</a></td>
<td class="author-text">UPnP Forum, &ldquo;Internet Gateway Device (IGD) Standardized Device Control Protocol V 1.0,&rdquo; November&nbsp;2001.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Lars Eggert</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Research Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.O. Box 407</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nokia Group  00045</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Finland</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+358 50 48 24461</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:lars.eggert@nokia.com">lars.eggert@nokia.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://people.nokia.net/~lars/">http://people.nokia.net/~lars/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Godred Fairhurst</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Aberdeen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Department of Engineering</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Fraser Noble Building</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Aberdeen  AB24 3UE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Scotland</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:gorry@erg.abdn.ac.uk">gorry@erg.abdn.ac.uk</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.erg.abdn.ac.uk/">http://www.erg.abdn.ac.uk/</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
