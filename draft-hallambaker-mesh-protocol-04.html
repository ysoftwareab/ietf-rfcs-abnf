<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Mathematical Mesh 3.0 Part V: Protocol Reference</title>
<meta content="Phillip Hallam-Baker" name="author">
<meta content="
       The Mathematical Mesh 'The Mesh' is an end-to-end secure infrastructure that facilitates the exchange of configuration and credential data between multiple user devices. The core protocols of the Mesh are described with examples of common use cases and reference data. 
       [Note to Readers] 
       Discussion of this draft takes place on the MATHMESH mailing list (mathmesh@ietf.org), which is archived at https://mailarchive.ietf.org/arch/search/?email_list=mathmesh. 
       This document is also available online at  . 
    " name="description">
<meta content="xml2rfc 2.37.3" name="generator">
<meta content="draft-hallambaker-mesh-protocol-04" name="ietf.draft">
<link href="/tmp/fred-ZY0hhC.xml" type="application/rfc+xml" rel="alternate">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/*
  The margin-left: 0 on <dd> removes all distinction
  between levels from nested <dl>s.  Undo that.
*/
dl.olPercent > dd,
dd {
  margin-left: revert;
}</style>
<link href="rfc-local.css" type="text/css" rel="stylesheet">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Mesh Protocol Reference</td>
<td class="right">January 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Hallam-Baker</td>
<td class="center">Expires 19 July 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-hallambaker-mesh-protocol</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-01-16" class="published">16 January 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-07-19">19 July 2020</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">P. M. Hallam-Baker</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Mathematical Mesh 3.0 Part V: Protocol Reference</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">The Mathematical Mesh 'The Mesh' is an end-to-end secure infrastructure that facilitates the exchange of configuration and credential data between multiple user devices. The core protocols of the Mesh are described with examples of common use cases and reference data.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">[Note to Readers]<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">Discussion of this draft takes place on the MATHMESH mailing list (mathmesh@ietf.org), which is archived at https://mailarchive.ietf.org/arch/search/?email_list=mathmesh.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
<p id="section-abstract-4">This document is also available online at <span><a href="http://mathmesh.com/Documents/draft-hallambaker-mesh-protocol.html">http://mathmesh.com/Documents/draft-hallambaker-mesh-protocol.html</a></span>.<a href="#section-abstract-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 19 July 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (https://trustee.ietf.org/license-info) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-definitions" class="xref">Definitions</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-requirements-language" class="xref">Requirements Language</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-defined-terms" class="xref">Defined Terms</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-related-specifications" class="xref">Related Specifications</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-implementation-status" class="xref">Implementation Status</a><a href="#section-toc.1-1.2.2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-mesh-service" class="xref">Mesh Service</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-data-model" class="xref">Data Model</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-partitioning" class="xref">Partitioning</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-protocol-bindings" class="xref">Protocol Bindings</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-dns-web-service-discovery" class="xref">DNS Web Service Discovery</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-web-service-protocol-bindin" class="xref">Web Service Protocol Binding</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-transport-security" class="xref">Transport Security</a><a href="#section-toc.1-1.4.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-http-message-binding" class="xref">HTTP Message Binding</a><a href="#section-toc.1-1.4.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-request" class="xref">Request</a><a href="#section-toc.1-1.4.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.4">
                    <p id="section-toc.1-1.4.2.2.2.4.1"><a href="#section-4.2.4" class="xref">4.2.4</a>.  <a href="#name-response" class="xref">Response</a><a href="#section-toc.1-1.4.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-dare-message-encapsulation" class="xref">DARE Message Encapsulation</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-null-authentication" class="xref">Null Authentication</a><a href="#section-toc.1-1.4.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.2">
                    <p id="section-toc.1-1.4.2.3.2.2.1"><a href="#section-4.3.2" class="xref">4.3.2</a>.  <a href="#name-device-authentication" class="xref">Device Authentication</a><a href="#section-toc.1-1.4.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.3">
                    <p id="section-toc.1-1.4.2.3.2.3.1"><a href="#section-4.3.3" class="xref">4.3.3</a>.  <a href="#name-profile-authentication" class="xref">Profile Authentication</a><a href="#section-toc.1-1.4.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.4">
                    <p id="section-toc.1-1.4.2.3.2.4.1"><a href="#section-4.3.4" class="xref">4.3.4</a>.  <a href="#name-ticket-authentication" class="xref">Ticket Authentication</a><a href="#section-toc.1-1.4.2.3.2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-payload-encoding" class="xref">Payload Encoding</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="xref">4.5</a>.  <a href="#name-error-handling-and-response" class="xref">Error handling and response codes</a><a href="#section-toc.1-1.4.2.5.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-service-description" class="xref">Service Description</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-account-management" class="xref">Account Management</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-container-synchronization" class="xref">Container Synchronization</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-status-transaction" class="xref">Status Transaction</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-download-transaction" class="xref">Download Transaction</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-7.2.1" class="xref">7.2.1</a>.  <a href="#name-conflict-detection" class="xref">Conflict Detection</a><a href="#section-toc.1-1.7.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a href="#section-7.2.2" class="xref">7.2.2</a>.  <a href="#name-filtering" class="xref">Filtering</a><a href="#section-toc.1-1.7.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-upload-transaction" class="xref">Upload Transaction</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-device-connection" class="xref">Device Connection</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-device-authenticated" class="xref">Device Authenticated</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-pin-authenticated" class="xref">PIN Authenticated</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="xref">8.3</a>.  <a href="#name-earl-connection-mode" class="xref">EARL connection mode</a><a href="#section-toc.1-1.8.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-mesh-messaging" class="xref">Mesh Messaging</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-message-exchange" class="xref">Message Exchange</a><a href="#section-toc.1-1.9.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.9.2.1.2.1">
                    <p id="section-toc.1-1.9.2.1.2.1.1"><a href="#section-9.1.1" class="xref">9.1.1</a>.  <a href="#name-client-service-post-transac" class="xref">Client-Service (Post Transaction)</a><a href="#section-toc.1-1.9.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9.2.1.2.2">
                    <p id="section-toc.1-1.9.2.1.2.2.1"><a href="#section-9.1.2" class="xref">9.1.2</a>.  <a href="#name-service-service-post-transa" class="xref">Service-Service (Post Transaction)</a><a href="#section-toc.1-1.9.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.9.2.1.2.3">
                    <p id="section-toc.1-1.9.2.1.2.3.1"><a href="#section-9.1.3" class="xref">9.1.3</a>.  <a href="#name-service-client-synchronizat" class="xref">Service-Client (Synchronization)</a><a href="#section-toc.1-1.9.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-protocol-schema" class="xref">Protocol Schema</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-request-messages" class="xref">Request Messages</a><a href="#section-toc.1-1.10.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.1.2.1">
                    <p id="section-toc.1-1.10.2.1.2.1.1"><a href="#section-10.1.1" class="xref">10.1.1</a>.  <a href="#name-message-meshrequest" class="xref">Message: MeshRequest</a><a href="#section-toc.1-1.10.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.1.2.2">
                    <p id="section-toc.1-1.10.2.1.2.2.1"><a href="#section-10.1.2" class="xref">10.1.2</a>.  <a href="#name-message-meshrequestuser" class="xref">Message: MeshRequestUser</a><a href="#section-toc.1-1.10.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-response-messages" class="xref">Response Messages</a><a href="#section-toc.1-1.10.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.2.2.1">
                    <p id="section-toc.1-1.10.2.2.2.1.1"><a href="#section-10.2.1" class="xref">10.2.1</a>.  <a href="#name-message-meshresponse" class="xref">Message: MeshResponse</a><a href="#section-toc.1-1.10.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-imported-objects" class="xref">Imported Objects</a><a href="#section-toc.1-1.10.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.4">
                <p id="section-toc.1-1.10.2.4.1"><a href="#section-10.4" class="xref">10.4</a>.  <a href="#name-common-structures" class="xref">Common Structures</a><a href="#section-toc.1-1.10.2.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.4.2.1">
                    <p id="section-toc.1-1.10.2.4.2.1.1"><a href="#section-10.4.1" class="xref">10.4.1</a>.  <a href="#name-structure-keyvalue" class="xref">Structure: KeyValue</a><a href="#section-toc.1-1.10.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.4.2.2">
                    <p id="section-toc.1-1.10.2.4.2.2.1"><a href="#section-10.4.2" class="xref">10.4.2</a>.  <a href="#name-structure-constraintsselect" class="xref">Structure: ConstraintsSelect</a><a href="#section-toc.1-1.10.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.4.2.3">
                    <p id="section-toc.1-1.10.2.4.2.3.1"><a href="#section-10.4.3" class="xref">10.4.3</a>.  <a href="#name-structure-constraintsdata" class="xref">Structure: ConstraintsData</a><a href="#section-toc.1-1.10.2.4.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.4.2.4">
                    <p id="section-toc.1-1.10.2.4.2.4.1"><a href="#section-10.4.4" class="xref">10.4.4</a>.  <a href="#name-structure-policyaccount" class="xref">Structure: PolicyAccount</a><a href="#section-toc.1-1.10.2.4.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.4.2.5">
                    <p id="section-toc.1-1.10.2.4.2.5.1"><a href="#section-10.4.5" class="xref">10.4.5</a>.  <a href="#name-structure-containerstatus" class="xref">Structure: ContainerStatus</a><a href="#section-toc.1-1.10.2.4.2.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.4.2.6">
                    <p id="section-toc.1-1.10.2.4.2.6.1"><a href="#section-10.4.6" class="xref">10.4.6</a>.  <a href="#name-structure-containerupdate" class="xref">Structure: ContainerUpdate</a><a href="#section-toc.1-1.10.2.4.2.6.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.5">
                <p id="section-toc.1-1.10.2.5.1"><a href="#section-10.5" class="xref">10.5</a>.  <a href="#name-transaction-hello" class="xref">Transaction: Hello</a><a href="#section-toc.1-1.10.2.5.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.5.2.1">
                    <p id="section-toc.1-1.10.2.5.2.1.1"><a href="#section-10.5.1" class="xref">10.5.1</a>.  <a href="#name-message-meshhelloresponse" class="xref">Message: MeshHelloResponse</a><a href="#section-toc.1-1.10.2.5.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.6">
                <p id="section-toc.1-1.10.2.6.1"><a href="#section-10.6" class="xref">10.6</a>.  <a href="#name-transaction-createaccount" class="xref">Transaction: CreateAccount</a><a href="#section-toc.1-1.10.2.6.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.6.2.1">
                    <p id="section-toc.1-1.10.2.6.2.1.1"><a href="#section-10.6.1" class="xref">10.6.1</a>.  <a href="#name-message-createrequest" class="xref">Message: CreateRequest</a><a href="#section-toc.1-1.10.2.6.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.6.2.2">
                    <p id="section-toc.1-1.10.2.6.2.2.1"><a href="#section-10.6.2" class="xref">10.6.2</a>.  <a href="#name-message-createresponse" class="xref">Message: CreateResponse</a><a href="#section-toc.1-1.10.2.6.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.7">
                <p id="section-toc.1-1.10.2.7.1"><a href="#section-10.7" class="xref">10.7</a>.  <a href="#name-transaction-deleteaccount" class="xref">Transaction: DeleteAccount</a><a href="#section-toc.1-1.10.2.7.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.7.2.1">
                    <p id="section-toc.1-1.10.2.7.2.1.1"><a href="#section-10.7.1" class="xref">10.7.1</a>.  <a href="#name-message-deleterequest" class="xref">Message: DeleteRequest</a><a href="#section-toc.1-1.10.2.7.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.7.2.2">
                    <p id="section-toc.1-1.10.2.7.2.2.1"><a href="#section-10.7.2" class="xref">10.7.2</a>.  <a href="#name-message-deleteresponse" class="xref">Message: DeleteResponse</a><a href="#section-toc.1-1.10.2.7.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.8">
                <p id="section-toc.1-1.10.2.8.1"><a href="#section-10.8" class="xref">10.8</a>.  <a href="#name-transaction-complete" class="xref">Transaction: Complete</a><a href="#section-toc.1-1.10.2.8.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.8.2.1">
                    <p id="section-toc.1-1.10.2.8.2.1.1"><a href="#section-10.8.1" class="xref">10.8.1</a>.  <a href="#name-message-completerequest" class="xref">Message: CompleteRequest</a><a href="#section-toc.1-1.10.2.8.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.9">
                <p id="section-toc.1-1.10.2.9.1"><a href="#section-10.9" class="xref">10.9</a>.  <a href="#name-transaction-status" class="xref">Transaction: Status</a><a href="#section-toc.1-1.10.2.9.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.9.2.1">
                    <p id="section-toc.1-1.10.2.9.2.1.1"><a href="#section-10.9.1" class="xref">10.9.1</a>.  <a href="#name-message-statusrequest" class="xref">Message: StatusRequest</a><a href="#section-toc.1-1.10.2.9.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.9.2.2">
                    <p id="section-toc.1-1.10.2.9.2.2.1"><a href="#section-10.9.2" class="xref">10.9.2</a>.  <a href="#name-message-statusresponse" class="xref">Message: StatusResponse</a><a href="#section-toc.1-1.10.2.9.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.10">
                <p id="section-toc.1-1.10.2.10.1"><a href="#section-10.10" class="xref">10.10</a>. <a href="#name-transaction-download" class="xref">Transaction: Download</a><a href="#section-toc.1-1.10.2.10.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.10.2.1">
                    <p id="section-toc.1-1.10.2.10.2.1.1"><a href="#section-10.10.1" class="xref">10.10.1</a>.  <a href="#name-message-downloadrequest" class="xref">Message: DownloadRequest</a><a href="#section-toc.1-1.10.2.10.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.10.2.2">
                    <p id="section-toc.1-1.10.2.10.2.2.1"><a href="#section-10.10.2" class="xref">10.10.2</a>.  <a href="#name-message-downloadresponse" class="xref">Message: DownloadResponse</a><a href="#section-toc.1-1.10.2.10.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.11">
                <p id="section-toc.1-1.10.2.11.1"><a href="#section-10.11" class="xref">10.11</a>. <a href="#name-transaction-upload" class="xref">Transaction: Upload</a><a href="#section-toc.1-1.10.2.11.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.11.2.1">
                    <p id="section-toc.1-1.10.2.11.2.1.1"><a href="#section-10.11.1" class="xref">10.11.1</a>.  <a href="#name-message-uploadrequest" class="xref">Message: UploadRequest</a><a href="#section-toc.1-1.10.2.11.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.11.2.2">
                    <p id="section-toc.1-1.10.2.11.2.2.1"><a href="#section-10.11.2" class="xref">10.11.2</a>.  <a href="#name-message-uploadresponse" class="xref">Message: UploadResponse</a><a href="#section-toc.1-1.10.2.11.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.11.2.3">
                    <p id="section-toc.1-1.10.2.11.2.3.1"><a href="#section-10.11.3" class="xref">10.11.3</a>.  <a href="#name-structure-entryresponse" class="xref">Structure: EntryResponse</a><a href="#section-toc.1-1.10.2.11.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.12">
                <p id="section-toc.1-1.10.2.12.1"><a href="#section-10.12" class="xref">10.12</a>. <a href="#name-transaction-post" class="xref">Transaction: Post</a><a href="#section-toc.1-1.10.2.12.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.12.2.1">
                    <p id="section-toc.1-1.10.2.12.2.1.1"><a href="#section-10.12.1" class="xref">10.12.1</a>.  <a href="#name-message-postrequest" class="xref">Message: PostRequest</a><a href="#section-toc.1-1.10.2.12.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.12.2.2">
                    <p id="section-toc.1-1.10.2.12.2.2.1"><a href="#section-10.12.2" class="xref">10.12.2</a>.  <a href="#name-message-postresponse" class="xref">Message: PostResponse</a><a href="#section-toc.1-1.10.2.12.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.13">
                <p id="section-toc.1-1.10.2.13.1"><a href="#section-10.13" class="xref">10.13</a>. <a href="#name-transaction-connect" class="xref">Transaction: Connect</a><a href="#section-toc.1-1.10.2.13.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.10.2.13.2.1">
                    <p id="section-toc.1-1.10.2.13.2.1.1"><a href="#section-10.13.1" class="xref">10.13.1</a>.  <a href="#name-message-connectrequest" class="xref">Message: ConnectRequest</a><a href="#section-toc.1-1.10.2.13.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.10.2.13.2.2">
                    <p id="section-toc.1-1.10.2.13.2.2.1"><a href="#section-10.13.2" class="xref">10.13.2</a>.  <a href="#name-message-connectresponse" class="xref">Message: ConnectResponse</a><a href="#section-toc.1-1.10.2.13.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
<li class="toc ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.15.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<div id="n-introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">This document describes the Mesh Service protocol supported by Mesh Services, an account-based protocol that facilitates exchange of data between devices connected to a Mesh profile and between Mesh accounts.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">Mesh Service Accounts support the following services:<a href="#section-1-2" class="pilcrow">¶</a></p>
<ul>
<li id="section-1-3.1">Provides the master persistence store for the Catalogs and Spools associated with the account.<a href="#section-1-3.1" class="pilcrow">¶</a>
</li>
<li id="section-1-3.2">Enables synchronization of Catalogs and Spools with connected devices.<a href="#section-1-3.2" class="pilcrow">¶</a>
</li>
<li id="section-1-3.3">Enforces access control on inbound Mesh Messages from other users and other Mesh Services.<a href="#section-1-3.3" class="pilcrow">¶</a>
</li>
<li id="section-1-3.4">Authenticates outbound Mesh Messages, certifying that they comply with abuse mitigation policies.<a href="#section-1-3.4" class="pilcrow">¶</a>
</li>
</ul>
<p id="section-1-4">A Mesh Profile <span class="bcp14">MAY</span> be bound to multiple Mesh Service Accounts at the same time but only one Mesh Service Account is considered to be authoritative at a time. Users may add or remove Mesh Service Accounts and change the account designated as authoritative at any time.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">The Mesh Services are build from a very small set of primitives which provide a surprisingly extensive set of capabilities. These primitives are:<a href="#section-1-5" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-1-6">
        <dt id="section-1-6.1"><code>Hello</code></dt>
<dd id="section-1-6.2">
          <p id="section-1-6.2.1">Describes the features and options provided by the service and provides a 'null' transaction which <span class="bcp14">MAY</span> be used to establish an authentication ticket without performing any action,<a href="#section-1-6.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-1-6.3">CreateAccount, DeleteAccount</dt>
<dd id="section-1-6.4">
          <p id="section-1-6.4.1">Manage the creation and deletion of accounts at the service.<a href="#section-1-6.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-1-6.5">Status, Download, <code>Upload</code>
</dt>
<dd id="section-1-6.6">
          <p id="section-1-6.6.1">Support synchronization of Mesh containers between the service (Master) and the connected devices (Replicas).<a href="#section-1-6.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-1-6.7">Connect</dt>
<dd id="section-1-6.8">
          <p id="section-1-6.8.1">Initiate the process of connecting a device to a Mesh profile from the device itself.<a href="#section-1-6.8.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-1-6.9">Post</dt>
<dd id="section-1-6.10">
          <p id="section-1-6.10.1"> Request that a Mesh Message be transferred to one or more Mesh Accounts.<a href="#section-1-6.10.1" class="pilcrow">¶</a></p>
</dd>
</dl>
<p id="section-1-7">Although these functions could in principle be used to replace many if not most existing Internet application protocols, the principal value of any communication protocol lies in the size of the audience it allows them to communicate with. Thus, while the Mesh Messaging service is designed to support efficient and reliable transfer of messages ranging in size from a few bytes to multiple terabytes, the near-term applications of these services will be to applications that are not adequately supported by existing protocols if at all.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-definitions">
<section id="section-2">
      <h2 id="name-definitions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-definitions" class="section-name selfRef">Definitions</a>
      </h2>
<p id="section-2-1">This section presents the related specifications and standard, the terms that are used as terms of art within the documents and the terms used as requirements language.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="n-requirements-language">
<section id="section-2.1">
        <h3 id="name-requirements-language">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-2.1-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-defined-terms">
<section id="section-2.2">
        <h3 id="name-defined-terms">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-defined-terms" class="section-name selfRef">Defined Terms</a>
        </h3>
<p id="section-2.2-1">The terms of art used in this document are described in the <em>Mesh Architecture Guide</em> <span>[<a href="#draft-hallambaker-mesh-architecture" class="xref">draft-hallambaker-mesh-architecture</a>]</span>.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-related-specifications">
<section id="section-2.3">
        <h3 id="name-related-specifications">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-related-specifications" class="section-name selfRef">Related Specifications</a>
        </h3>
<p id="section-2.3-1">The architecture of the Mathematical Mesh is described in the <em>Mesh Architecture Guide</em> <span>[<a href="#draft-hallambaker-mesh-architecture" class="xref">draft-hallambaker-mesh-architecture</a>]</span>. The Mesh documentation set and related specifications are described in this document.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-implementation-status">
<section id="section-2.4">
        <h3 id="name-implementation-status">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-implementation-status" class="section-name selfRef">Implementation Status</a>
        </h3>
<p id="section-2.4-1">The implementation status of the reference code base is described in the companion document <span>[<a href="#draft-hallambaker-mesh-developer" class="xref">draft-hallambaker-mesh-developer</a>]</span>.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-mesh-service">
<section id="section-3">
      <h2 id="name-mesh-service">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-mesh-service" class="section-name selfRef">Mesh Service</a>
      </h2>
<p id="section-3-1">A Mesh Service is a minimally trusted service. In particular a user does not need to trust a Mesh service to protect the confidentiality or integrity of most data stored in the account catalogs and spools.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Unless the use of the Mesh Service is highly restricted, a user does need to trust the Mesh Service in certain respects:<a href="#section-3-2" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-3-3">
        <dt id="section-3-3.1">Data Loss</dt>
<dd id="section-3-3.2">
          <p id="section-3-3.2.1">A service could refuse to respond to requests to download data.<a href="#section-3-3.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-3-3.3">Integrity (Stale Data)</dt>
<dd id="section-3-3.4">
          <p id="section-3-3.4.1">The use of Merkle Trees limits but does not eliminate the ability of a Mesh Service to respond to requests with stale data.<a href="#section-3-3.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-3-3.5">Messaging</dt>
<dd id="section-3-3.6">
          <p id="section-3-3.6.1">A service could reject requests to post messages to or accept messages from other mesh users.<a href="#section-3-3.6.1" class="pilcrow">¶</a></p>
<p id="section-3-3.6.2">This risk is a necessary consequence of the fact that the Mesh Service Provider is accountable to other Mesh Service Providers for abuse originating from their service.<a href="#section-3-3.6.2" class="pilcrow">¶</a></p>
</dd>
<dt id="section-3-3.7">Traffic analysis</dt>
<dd id="section-3-3.8">
          <p id="section-3-3.8.1">A Mesh Service has knowledge of the number of Mesh Messages being sent and received by its users and the addresses to which they are being sent to or received from.<a href="#section-3-3.8.1" class="pilcrow">¶</a></p>
</dd>
</dl>
<p id="section-3-4">The need to trust the Mesh Service in these respects is mitigated by accountability and the user's ability to change Mesh Service providers at any time they choose with minimal inconvenience.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">It is possible that some of these risks will be reduced in future versions of the Mesh Service Protocol but it is highly unlikely that these can be eliminated entirely without compromising practicality or efficiency.<a href="#section-3-5" class="pilcrow">¶</a></p>
<div id="n-data-model">
<section id="section-3.1">
        <h3 id="name-data-model">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-data-model" class="section-name selfRef">Data Model</a>
        </h3>
<p id="section-3.1-1">The design of the Mesh Service model followed a quasi-formal approach in which the system was reduced to schemas which could in principle be rendered in a formal development method but without construction of proofs.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Like the contents of Mesh Accounts, a Mesh Service may be represented by a collection of catalogs and spools, for example:<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-3.1-3">
          <dt id="section-3.1-3.1">Account Catalog</dt>
<dd id="section-3.1-3.2">
            <p id="section-3.1-3.2.1">Contains the account entries.<a href="#section-3.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-3.1-3.3">Incident Spool</dt>
<dd id="section-3.1-3.4">
            <p id="section-3.1-3.4.1">Reports of potential abuse<a href="#section-3.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
<p id="section-3.1-4">Backup of the service <span class="bcp14">MAY</span> be implemented using the same container synchronization mechanism used to synchronize account catalogs and spools.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-partitioning">
<section id="section-3.2">
        <h3 id="name-partitioning">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-partitioning" class="section-name selfRef">Partitioning</a>
        </h3>
<p id="section-3.2-1">Mesh Services supporting a large number of accounts or large activity volume <span class="bcp14">MAY</span> partition the account catalog between one or more hosts using the usual tiered service model in which a front-end server receives traffic for any account hosted at the server and routes the request to the back-end service that provides the persistence store for that account.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">In addition, the Mesh Service Protocol supports a 'direct connection' partitioning model in which devices are given a DNS name which <span class="bcp14">MAY</span> allow for direct connection to the persistence host or to a front-end service offering service that is in some way specific to that account.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-protocol-bindings">
<section id="section-4">
      <h2 id="name-protocol-bindings">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-protocol-bindings" class="section-name selfRef">Protocol Bindings</a>
      </h2>
<p id="section-4-1">Mesh Service transactions are mapped to an underlying messaging and transport protocol. The following binding<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">Mesh Services <span class="bcp14">MUST</span> support the Web Service binding specified in this document and <span class="bcp14">MAY</span> support the UDP binding currently in development.<a href="#section-4-2" class="pilcrow">¶</a></p>
<div id="n-dns-web-service-discovery">
<section id="section-4.1">
        <h3 id="name-dns-web-service-discovery">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-dns-web-service-discovery" class="section-name selfRef">DNS Web Service Discovery</a>
        </h3>
<p id="section-4.1-1">The DNS Web Service discovery mechanism is used to discover Mesh Services regardless of the protocol binding .The service name, DNS prefix and and .well-known service suffix are specified as follows:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-4.1-2.1">Service Name: mmm<a href="#section-4.1-2.1" class="pilcrow">¶</a>
</li>
<li id="section-4.1-2.2">DNS Prefix: _mmm._tcp<a href="#section-4.1-2.2" class="pilcrow">¶</a>
</li>
<li id="section-4.1-2.3">Well Known service suffix: /.well-known/mmm<a href="#section-4.1-2.3" class="pilcrow">¶</a>
</li>
</ul>
</section>
</div>
<div id="n-web-service-protocol-binding">
<section id="section-4.2">
        <h3 id="name-web-service-protocol-bindin">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-web-service-protocol-bindin" class="section-name selfRef">Web Service Protocol Binding</a>
        </h3>
<p id="section-4.2-1">The Web Service Protocol binding makes use of the most widely deployed and used protocols:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-4.2-2.1">Discovery: DNS Service discovery<a href="#section-4.2-2.1" class="pilcrow">¶</a>
</li>
<li id="section-4.2-2.2">Transport: TLS<a href="#section-4.2-2.2" class="pilcrow">¶</a>
</li>
<li id="section-4.2-2.3">Application: HTTP<a href="#section-4.2-2.3" class="pilcrow">¶</a>
</li>
<li id="section-4.2-2.4">Presentation: DARE Message<a href="#section-4.2-2.4" class="pilcrow">¶</a>
</li>
<li id="section-4.2-2.5">Encoding: JSON, JSON-B<a href="#section-4.2-2.5" class="pilcrow">¶</a>
</li>
</ul>
<p id="section-4.2-3">The chief limitations of the Web Service Protocol Binding are that the use of TCP based transport results in unsatisfactory latency for some applications and that the HTTP application layer only serves to allow a host to support multiple services on the same TCP/IP port.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<div id="n-transport-security">
<section id="section-4.2.1">
          <h4 id="name-transport-security">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-transport-security" class="section-name selfRef">Transport Security</a>
          </h4>
<p id="section-4.2.1-1">Mesh Services <span class="bcp14">MUST</span> offer TLS transport and <span class="bcp14">MAY</span> offer non TLS transport. MESH clients <span class="bcp14">SHOULD</span> use TLS transport when connecting to a MESH service.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
<p id="section-4.2.1-2">TLS version 1.3 <span>[<a href="#RFC8446" class="xref">RFC8446</a>]</span> or higher <span class="bcp14">MUST</span> be supported. Client authentication <span class="bcp14">SHOULD NOT</span> be used.<a href="#section-4.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-http-message-binding">
<section id="section-4.2.2">
          <h4 id="name-http-message-binding">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-http-message-binding" class="section-name selfRef">HTTP Message Binding</a>
          </h4>
<p id="section-4.2.2-1">All messages are exchanged as HTTP POST transactions. Support for and use of HTTP/1.1 <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span> is <span class="bcp14">REQUIRED</span>. Services <span class="bcp14">MAY</span> support HTTP/2.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">In contrast to other approaches to the design of Web Services, the only use made of the HTTP transport is to distinguish between different services on the same host using the Host header and .well-known convention and for message framing.  No use is made of the URI request line to identify commands, nor are the caching or proxy capabilities of HTTP made use of.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-request">
<section id="section-4.2.3">
          <h4 id="name-request">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-request" class="section-name selfRef">Request</a>
          </h4>
<p id="section-4.2.3-1">The HTTP request <span class="bcp14">MAY</span> contain any valid HTTP header specified in <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-4.2.3-2">
            <dt id="section-4.2.3-2.1">Request Line URI </dt>
<dd id="section-4.2.3-2.2">
              <p id="section-4.2.3-2.2.1"><code>/well-known/</code>&lt;service&gt; (unless overridden using a TXT path attribute)<a href="#section-4.2.3-2.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.3-2.3">Request Line Method</dt>
<dd id="section-4.2.3-2.4">
              <p id="section-4.2.3-2.4.1">POST<a href="#section-4.2.3-2.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.3-2.5">Host: Header</dt>
<dd id="section-4.2.3-2.6">
              <p id="section-4.2.3-2.6.1">&lt;domain&gt;<a href="#section-4.2.3-2.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.3-2.7">Content-Encoding</dt>
<dd id="section-4.2.3-2.8">
              <p id="section-4.2.3-2.8.1">As specified in section yy below.<a href="#section-4.2.3-2.8.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.3-2.9">Content-Type</dt>
<dd id="section-4.2.3-2.10">
              <p id="section-4.2.3-2.10.1">As specified in section zz below.<a href="#section-4.2.3-2.10.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.3-2.11">Content-Length or Transfer-Encoding</dt>
<dd id="section-4.2.3-2.12">
              <p id="section-4.2.3-2.12.1">As specified in <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>.<a href="#section-4.2.3-2.12.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.3-2.13">Payload</dt>
<dd id="section-4.2.3-2.14">
              <p id="section-4.2.3-2.14.1">The content payload as specified in section XX below.<a href="#section-4.2.3-2.14.1" class="pilcrow">¶</a></p>
</dd>
</dl>
<p id="section-4.2.3-3">[Note, this is showing the payload, not the binding as is intended because the current code  doesn't implement it as intended yet]<a href="#section-4.2.3-3" class="pilcrow">¶</a></p>
<div id="section-4.2.3-4">
<pre class="sourcecode">{
  "Hello": {}}</pre><a href="#section-4.2.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="n-response">
<section id="section-4.2.4">
          <h4 id="name-response">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-response" class="section-name selfRef">Response</a>
          </h4>
<p id="section-4.2.4-1">The response <span class="bcp14">MAY</span> contain any HTTP response header but since JWB services do not make use of HTTP caching and messages are not intended to be modified by HTTP intermediaries, only a limited number of headers have significance:<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-4.2.4-2">
            <dt id="section-4.2.4-2.1">Response Code</dt>
<dd id="section-4.2.4-2.2">
              <p id="section-4.2.4-2.2.1">The HTTP response code. This is processed as described in section zz below.<a href="#section-4.2.4-2.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.4-2.3">Content-Type</dt>
<dd id="section-4.2.4-2.4">
              <p id="section-4.2.4-2.4.1">As specified in section zz below.<a href="#section-4.2.4-2.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.4-2.5">Content-Length or Transfer-Encoding</dt>
<dd id="section-4.2.4-2.6">
              <p id="section-4.2.4-2.6.1">As specified in <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>.<a href="#section-4.2.4-2.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.2.4-2.7">Cache-Control</dt>
<dd id="section-4.2.4-2.8">
              <p id="section-4.2.4-2.8.1">Since the only valid HTTP method for a JWB request is POST, JWB responses are not cacheable. The use of the cache-control header is therefore unnecessary. However, experience suggests that reviewers find it easier to understand protocol specifications if they are reminded of the fact that caching is neither supported nor desired.<a href="#section-4.2.4-2.8.1" class="pilcrow">¶</a></p>
</dd>
</dl>
<p id="section-4.2.4-3">[Note, this is showing the payload, not the binding as is intended because the current code  doesn't implement it as intended yet]<a href="#section-4.2.4-3" class="pilcrow">¶</a></p>
<div id="section-4.2.4-4">
<pre class="sourcecode">{
  "MeshHelloResponse": {
    "Status": 201,
    "Version": {
      "Major": 3,
      "Minor": 0,
      "Encodings": [{
          "ID": ["application/json"]}]},
    "EnvelopedProfileService": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlU2VydmljZSI6IHsKICAgICJLZXlPZmZsaW5lU2l
  nbmF0dXJlIjogewogICAgICAiVURGIjogIk1BWk4tQUJDRy00VUg3LU5OM0gtN
  Uc3RC1LUDdYLUhSR08iLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICA
  gICAgICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0N
  DgiLAogICAgICAgICAgIlB1YmxpYyI6ICI0Xy03bXY5ZEVDU0Y1aWhxUzd3UlA
  tS1pibzRFeEpjNUpqb0g0aXVkanltUTlRYkhQVVlXCiAgSEQxWVNwVnlwYUhne
  WctWGtmaGFxa1NBIn19fX19",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MAZN-ABCG-4UH7-NN3H-5G7D-KP7X-HRGO",
            "signature": "Apr9_Nn0tfB3qNDQBsyWBW324iy3c9cLDFhRrUDrPCy
                qPD5jN
  zH3Rf6N0X6ppWWwSX5q0X6WhToAmrJR1hs5zV0HALInq4KhSPUvzyHi6OmAFVD
  ttNcfQaisl94VJfbt9FgWXtGHDD2iN6bouZWSTz0A"}],
        "PayloadDigest": "fFyeahxvdJ9nWgkHOJgitOmZXUIZ4C1ZJTmjy9kP6Xz
            zt
  k2kajc7JqSr_2DVvCqs4-EkqVWl7MVa4KXVITnnLA"}],
    "EnvelopedProfileHost": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlSG9zdCI6IHsKICAgICJLZXlPZmZsaW5lU2lnbmF
  0dXJlIjogewogICAgICAiVURGIjogIk1ETkctM1JKUy1ONkJKLU1VNjMtVTdUW
  i1SS1ZCLVNZWlQiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICA
  gICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiL
  AogICAgICAgICAgIlB1YmxpYyI6ICJCbjNZby1IaF9kb25zbWsxQVF4U2Qxbnp
  SLVNFelJjSnVkd29DMTc0REVWLVZtNHQ2U2wyCiAgalZGQXEzR0JHN2xPVUVGN
  UhmZVZxUWlBIn19fSwKICAgICJLZXlBdXRoZW50aWNhdGlvbiI6IHsKICAgICA
  gIlVERiI6ICJNRFNPLVdPVkwtUjRZRy03T1VULVBCNk8tMkRCVy1LVU5EIiwKI
  CAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUV
  DREgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQd
  WJsaWMiOiAiaEZ0bWgxRXJUOTNJVXktRkpiUEh0N1FGSUFQLW9oUU5MU3pVd3R
  YYzJFMElIN3JYRTZ1OQogIDJnbkNVUXBKVkVDdVROckh1d0FMSkI0QSJ9fX19f
  Q",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MDNG-3RJS-N6BJ-MU63-U7TZ-RKVB-SYZT",
            "signature": "4XxMRQaW2CXNVSshXDkBGN8ratT-EMiXYROyWCJ-vTF
                jj90-4
  ZLoKD9Ufh_cd8LPiZalqcCeV_0AWamPAehwNeOAsir1wrT0EsxvEkbo_7-46Rn
  zBY1yLc2Cv9qIzdz8GvwexmsM_6irYhdjdeWhsSkA"}],
        "PayloadDigest": "5srrCp5gfKaZ8VMpelOUe6ypyoZdNG8UJDrO0X2QGGY
            hx
  gWG6Ix0ZUpe2ika7Tu82fDW-JFLHT9ad8Tsm2lvxA"}]}}</pre><a href="#section-4.2.4-4" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="n-dare-message-encapsulation">
<section id="section-4.3">
        <h3 id="name-dare-message-encapsulation">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-dare-message-encapsulation" class="section-name selfRef">DARE Message Encapsulation</a>
        </h3>
<p id="section-4.3-1">The payload of the HTTP requests and responses is a DARE Message whose payload contains the Mesh Service request or response.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">The DARE Message encapsulation is used to authenticate the request or response data. The form of the authentication depending on the credentials available to the sender at the time the request is made.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">Mesh Service <span class="bcp14">MUST</span> support the use of Mutually Authenticated Key Exchange <span>[<a href="#draft-hallambaker-mesh-security" class="xref">draft-hallambaker-mesh-security</a>]</span> to establish the Master Key used for authentication of requests and responses.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">Requests and Responses <span class="bcp14">MUST</span> be authenticated. Requests and Responses <span class="bcp14">MUST</span> be encrypted if the transport is not encrypted and <span class="bcp14">MAY</span> be encrypted otherwise.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
<div id="n-null-authentication">
<section id="section-4.3.1">
          <h4 id="name-null-authentication">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-null-authentication" class="section-name selfRef">Null Authentication</a>
          </h4>
<p id="section-4.3.1-1">Null Authentication <span class="bcp14">MAY</span> be used to make a <code>Hello</code> Request.<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
<p id="section-4.3.1-2">The Null Authentication mechanism <span class="bcp14">MUST NOT</span> be used for any Mesh Service request or response other than a <code>Hello</code> request.<a href="#section-4.3.1-2" class="pilcrow">¶</a></p>
<p id="section-4.3.1-3">Since the Mutually Authenticated key exchange requires both parties to know the public key of the other, it is not possible for a client to authenticate itself to the service until it has obtained the service public key. One means by which the client <span class="bcp14">MAY</span> obtain the service public key is by requesting the service return the credential in a <code>Hello</code> transaction.<a href="#section-4.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-device-authentication">
<section id="section-4.3.2">
          <h4 id="name-device-authentication">
<a href="#section-4.3.2" class="section-number selfRef">4.3.2. </a><a href="#name-device-authentication" class="section-name selfRef">Device Authentication</a>
          </h4>
<p id="section-4.3.2-1">Device Authentication is used in two circumstances<a href="#section-4.3.2-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-4.3.2-2.1">When requesting creation of an account<a href="#section-4.3.2-2.1" class="pilcrow">¶</a>
</li>
<li id="section-4.3.2-2.2">When a device is requesting connection to a profile.<a href="#section-4.3.2-2.2" class="pilcrow">¶</a>
</li>
</ul>
</section>
</div>
<div id="n-profile-authentication">
<section id="section-4.3.3">
          <h4 id="name-profile-authentication">
<a href="#section-4.3.3" class="section-number selfRef">4.3.3. </a><a href="#name-profile-authentication" class="section-name selfRef">Profile Authentication</a>
          </h4>
<p id="section-4.3.3-1">Profile Authentication has the same form as Device Authentication except that the client provides its Device Connection Assertion as part of the request:<a href="#section-4.3.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-ticket-authentication">
<section id="section-4.3.4">
          <h4 id="name-ticket-authentication">
<a href="#section-4.3.4" class="section-number selfRef">4.3.4. </a><a href="#name-ticket-authentication" class="section-name selfRef">Ticket Authentication</a>
          </h4>
<p id="section-4.3.4-1">Ticket Authentication is used after a device has obtained an authentication ticket from a service. The ticket is returned in the response to a previous Profile Authentication exchange.<a href="#section-4.3.4-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-payload-encoding">
<section id="section-4.4">
        <h3 id="name-payload-encoding">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-payload-encoding" class="section-name selfRef">Payload Encoding</a>
        </h3>
<p id="section-4.4-1">The Dare Message payload of a <code>Hello</code> request <span class="bcp14">MUST</span> be encoded in JSON encoding. The payload of all other requests <span class="bcp14">MUST</span> be in either JSON encoding or one of the encodings advertised as being accepted in a Hello response from the Service. Services <span class="bcp14">MUST</span> accept JSON encoding and <span class="bcp14">MAY</span> support the JSON-B or JSON-C encodings as specified in this document. Services <span class="bcp14">MUST</span> generate a response that is compatible with the DARE Message Content-Type specified in the request.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<p id="section-4.4-2">JSON was originally developed to provide a serialization format for the JavaScript programming language <span>[<a href="#ECMA-262" class="xref">ECMA-262</a>]</span>. While this approach is generally applicable to the type systems of scripting programming languages, it is less well matched to the richer type systems of modern object oriented programming languages such as Java and C#.<a href="#section-4.4-2" class="pilcrow">¶</a></p>
<p id="section-4.4-3">Working within a subset of the capabilities of JSON allows a Web Service protocol to be accessed with equal ease from either platform type. The following capabilities of JSON are avoided:<a href="#section-4.4-3" class="pilcrow">¶</a></p>
<p id="section-4.4-4">The ability to use arbitrary strings as field names.<a href="#section-4.4-4" class="pilcrow">¶</a></p>
<p id="section-4.4-5">The use of JSON objects to define maps directly<a href="#section-4.4-5" class="pilcrow">¶</a></p>
<p id="section-4.4-6">The following data field types are used:<a href="#section-4.4-6" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-4.4-7">
          <dt id="section-4.4-7.1">Integer</dt>
<dd id="section-4.4-7.2">
            <p id="section-4.4-7.2.1">Integer values are encoded as JSON number values.<a href="#section-4.4-7.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.4-7.3">String</dt>
<dd id="section-4.4-7.4">
            <p id="section-4.4-7.4.1">Test strings are encoded as JSON text strings.<a href="#section-4.4-7.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.4-7.5">Boolean</dt>
<dd id="section-4.4-7.6">
            <p id="section-4.4-7.6.1">Boolean values are encoded as JSON 'false', 'true' or 'null' tokens according to value.<a href="#section-4.4-7.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.4-7.7">Sequence</dt>
<dd id="section-4.4-7.8">
            <p id="section-4.4-7.8.1">Sequences of data items that are encoded as JSON arrays<a href="#section-4.4-7.8.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.4-7.9">Object of known type</dt>
<dd id="section-4.4-7.10">
            <p id="section-4.4-7.10.1">Objects whose type is known to the receiver are encoded as JSON objects<a href="#section-4.4-7.10.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.4-7.11">Object of variable type</dt>
<dd id="section-4.4-7.12">
            <p id="section-4.4-7.12.1">Objects whose type is not known to the receiver are encoded as JSON objects containing a single field whose name describes the type of the object value and whose value contains the value.<a href="#section-4.4-7.12.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.4-7.13">Binary Data</dt>
<dd id="section-4.4-7.14">
            <p id="section-4.4-7.14.1">Byte sequences are converted to BASE64-url encoding <span>[<a href="#RFC4648" class="xref">RFC4648</a>]</span> and encoded as JSON string values.<a href="#section-4.4-7.14.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-4.4-7.15">Date Time</dt>
<dd id="section-4.4-7.16">
            <p id="section-4.4-7.16.1">Date Time values are converted to Internet time format as described in <span>[<a href="#RFC3339" class="xref">RFC3339</a>]</span> and encoded as JSON string values.<a href="#section-4.4-7.16.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-error-handling-and-response-codes">
<section id="section-4.5">
        <h3 id="name-error-handling-and-response">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-error-handling-and-response" class="section-name selfRef">Error handling and response codes</a>
        </h3>
<p id="section-4.5-1">It is possible for an error to occur at any of the three layers in the Web Service binding:<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2">Service Layer<a href="#section-4.5-2" class="pilcrow">¶</a></p>
<p id="section-4.5-3">HTTP Layer<a href="#section-4.5-3" class="pilcrow">¶</a></p>
<p id="section-4.5-4">Transport Layer<a href="#section-4.5-4" class="pilcrow">¶</a></p>
<p id="section-4.5-5">Services <span class="bcp14">SHOULD</span> always attempt to return error codes at the highest level possible. However, it is clearly impossible for a connection that is refused at the Transport layer to return an error code at the HTTP layer. It is however possible for a HTTP layer error response to contain a content body.<a href="#section-4.5-5" class="pilcrow">¶</a></p>
<p id="section-4.5-6">In the case that a response contains both a HTTP response code and a well-formed payload containing a response, the payload response <span class="bcp14">SHALL</span> have precedence.<a href="#section-4.5-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-service-description">
<section id="section-5">
      <h2 id="name-service-description">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-service-description" class="section-name selfRef">Service Description</a>
      </h2>
<p id="section-5-1">The Hello transaction is used to determine the features supported by the service and obtain the service credentials<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">The request payload:<a href="#section-5-2" class="pilcrow">¶</a></p>
<div id="section-5-3">
<pre class="sourcecode">{
  "Hello": {}}</pre><a href="#section-5-3" class="pilcrow">¶</a>
</div>
<p id="section-5-4">The response payload:<a href="#section-5-4" class="pilcrow">¶</a></p>
<div id="section-5-5">
<pre class="sourcecode">{
  "MeshHelloResponse": {
    "Status": 201,
    "Version": {
      "Major": 3,
      "Minor": 0,
      "Encodings": [{
          "ID": ["application/json"]}]},
    "EnvelopedProfileService": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlU2VydmljZSI6IHsKICAgICJLZXlPZmZsaW5lU2l
  nbmF0dXJlIjogewogICAgICAiVURGIjogIk1BWk4tQUJDRy00VUg3LU5OM0gtN
  Uc3RC1LUDdYLUhSR08iLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICA
  gICAgICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0N
  DgiLAogICAgICAgICAgIlB1YmxpYyI6ICI0Xy03bXY5ZEVDU0Y1aWhxUzd3UlA
  tS1pibzRFeEpjNUpqb0g0aXVkanltUTlRYkhQVVlXCiAgSEQxWVNwVnlwYUhne
  WctWGtmaGFxa1NBIn19fX19",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MAZN-ABCG-4UH7-NN3H-5G7D-KP7X-HRGO",
            "signature": "Apr9_Nn0tfB3qNDQBsyWBW324iy3c9cLDFhRrUDrPCy
                qPD5jN
  zH3Rf6N0X6ppWWwSX5q0X6WhToAmrJR1hs5zV0HALInq4KhSPUvzyHi6OmAFVD
  ttNcfQaisl94VJfbt9FgWXtGHDD2iN6bouZWSTz0A"}],
        "PayloadDigest": "fFyeahxvdJ9nWgkHOJgitOmZXUIZ4C1ZJTmjy9kP6Xz
            zt
  k2kajc7JqSr_2DVvCqs4-EkqVWl7MVa4KXVITnnLA"}],
    "EnvelopedProfileHost": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlSG9zdCI6IHsKICAgICJLZXlPZmZsaW5lU2lnbmF
  0dXJlIjogewogICAgICAiVURGIjogIk1ETkctM1JKUy1ONkJKLU1VNjMtVTdUW
  i1SS1ZCLVNZWlQiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICA
  gICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiL
  AogICAgICAgICAgIlB1YmxpYyI6ICJCbjNZby1IaF9kb25zbWsxQVF4U2Qxbnp
  SLVNFelJjSnVkd29DMTc0REVWLVZtNHQ2U2wyCiAgalZGQXEzR0JHN2xPVUVGN
  UhmZVZxUWlBIn19fSwKICAgICJLZXlBdXRoZW50aWNhdGlvbiI6IHsKICAgICA
  gIlVERiI6ICJNRFNPLVdPVkwtUjRZRy03T1VULVBCNk8tMkRCVy1LVU5EIiwKI
  CAgICAgIlB1YmxpY1BhcmFtZXRlcnMiOiB7CiAgICAgICAgIlB1YmxpY0tleUV
  DREgiOiB7CiAgICAgICAgICAiY3J2IjogIkVkNDQ4IiwKICAgICAgICAgICJQd
  WJsaWMiOiAiaEZ0bWgxRXJUOTNJVXktRkpiUEh0N1FGSUFQLW9oUU5MU3pVd3R
  YYzJFMElIN3JYRTZ1OQogIDJnbkNVUXBKVkVDdVROckh1d0FMSkI0QSJ9fX19f
  Q",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MDNG-3RJS-N6BJ-MU63-U7TZ-RKVB-SYZT",
            "signature": "4XxMRQaW2CXNVSshXDkBGN8ratT-EMiXYROyWCJ-vTF
                jj90-4
  ZLoKD9Ufh_cd8LPiZalqcCeV_0AWamPAehwNeOAsir1wrT0EsxvEkbo_7-46Rn
  zBY1yLc2Cv9qIzdz8GvwexmsM_6irYhdjdeWhsSkA"}],
        "PayloadDigest": "5srrCp5gfKaZ8VMpelOUe6ypyoZdNG8UJDrO0X2QGGY
            hx
  gWG6Ix0ZUpe2ika7Tu82fDW-JFLHT9ad8Tsm2lvxA"}]}}</pre><a href="#section-5-5" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="n-account-management">
<section id="section-6">
      <h2 id="name-account-management">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-account-management" class="section-name selfRef">Account Management</a>
      </h2>
<p id="section-6-1">A Mesh Account is bound to a Mesh Service by completing a <code>CreateAccount</code> transaction with the service.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">The client requesting the account creation specifies the <code>ProfileMesh</code> profile describing the requested account and lists of initial entries to populate the devices and contacts catalogs. Additional catalogs <span class="bcp14">MAY</span> be synchronized if the account creation request is accepted.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">The request payload:<a href="#section-6-3" class="pilcrow">¶</a></p>
<div id="section-6-4">
<pre class="sourcecode">{
  "CreateAccount": {
    "ServiceID": "alice@example.com",
    "SignedProfileMesh": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlTWVzaCI6IHsKICAgICJLZXlPZmZsaW5lU2lnbmF
  0dXJlIjogewogICAgICAiVURGIjogIk1DU0MtMlBPRy1QSDdULU9ESlgtSE9DQ
  S1CNFhZLUFGU0siLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICA
  gICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiL
  AogICAgICAgICAgIlB1YmxpYyI6ICJBcU9tLWVMc1VQeVNQa2VtTXZWSUpjdFh
  VU1RhNkVDNWNfdzBrTEhaQ2g0eExsRm93NFNKCiAgenNEajJ4U1g1b2ZVbDFYY
  3VDQmo5cWFBIn19fSwKICAgICJLZXlzT25saW5lU2lnbmF0dXJlIjogW3sKICA
  gICAgICAiVURGIjogIk1ESTctTE1NVC1MVEpFLTZDNVotQUZaTi02T1hXLVlMV
  zMiLAogICAgICAgICJQdWJsaWNQYXJhbWV0ZXJzIjogewogICAgICAgICAgIlB
  1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogI
  CAgICAgICAgICAiUHVibGljIjogInRRaE0ybFVpQm5LZ2s5UEFTaWdlYmRaSDE
  4bkRDNHFGU1pJSmdtd1RQWXJwZEFLc1NudVoKICBQSDdVUHUzQXRZakZGOGFHT
  Xl5RjhVdUEifX19XSwKICAgICJLZXlFbmNyeXB0aW9uIjogewogICAgICAiVUR
  GIjogIk1BVFMtMzdKNS0yNkRHLU1ZVVItN0JNVS1QUEpKLVVVTzQiLAogICAgI
  CAiUHVibGljUGFyYW1ldGVycyI6IHsKICAgICAgICAiUHVibGljS2V5RUNESCI
  6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0NDgiLAogICAgICAgICAgIlB1YmxpY
  yI6ICJTVUpOenBETEhUOWR4T3lZZHpmdWhQTDBta1IxdHctSlRqdUlWZ1U3WC1
  iRnFpMno2NmVmCiAgUXYxY3dTZVZMLW9abjJDT3BJSE4tbEtBIn19fX19",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MCSC-2POG-PH7T-ODJX-HOCA-B4XY-AFSK",
            "signature": "riRoZjc1gdnCuBooN1Nf3b-U1BxNNMNdyGoepizbYZB
                kie_TZ
  g26c-wb-Nabj1QoxckrARTeyrSA9LyI-pw2CfVYJIxxqoYjN2tzhQ_yixJ7nFk
  ieasbfVD_IKR6xU1j8agpeiU572xz42NlF5jufgkA"}],
        "PayloadDigest": "kzRXdgdpelIk0nCoPlfMJ8SN3j211cOF6ygBIQuirxT
            S8
  Q6aBJyUbbhFBRVWtyyVSQo_CA_5a5we_9dsLrkPpQ"}],
    "SignedAssertionAccount": [{
        "dig": "SHA2"},
      "ewogICJQcm9maWxlQWNjb3VudCI6IHsKICAgICJLZXlPZmZsaW5lU2l
  nbmF0dXJlIjogewogICAgICAiVURGIjogIk1DMjMtWDNDVC1FVU5CLURSM00tU
  UlCSS1XMklKLUFURVAiLAogICAgICAiUHVibGljUGFyYW1ldGVycyI6IHsKICA
  gICAgICAiUHVibGljS2V5RUNESCI6IHsKICAgICAgICAgICJjcnYiOiAiRWQ0N
  DgiLAogICAgICAgICAgIlB1YmxpYyI6ICI5dXBQMWlhazMwX0pyRzFwZVl3aGt
  UMDBEcHc4SjBqd0dRQTBuZWhuQlZQdU9hRzloNlNzCiAgRmUwRGV6MmIzYVFwb
  GRBR1VLb1VCZENBIn19fSwKICAgICJLZXlzT25saW5lU2lnbmF0dXJlIjogW3s
  KICAgICAgICAiVURGIjogIk1DUlItSkZMWi1UMkpILUlOR0QtU0JZRi1OTzZYL
  TU1Uk4iLAogICAgICAgICJQdWJsaWNQYXJhbWV0ZXJzIjogewogICAgICAgICA
  gIlB1YmxpY0tleUVDREgiOiB7CiAgICAgICAgICAgICJjcnYiOiAiRWQ0NDgiL
  AogICAgICAgICAgICAiUHVibGljIjogIkZfTUpmMHc4ZFVIaVBZeTk3WEtRbXB
  mRlZMbk5uZHNqUUg1cDFjM3ozSGxucVRhMmE3YkUKICBVQ09veGE0SEFpc2Y5Q
  nFueEpFZE9tZ0EifX19XSwKICAgICJTZXJ2aWNlSURzIjogWyJhbGljZUBleGF
  tcGxlLmNvbSJdLAogICAgIk1lc2hQcm9maWxlVURGIjogIk1DU0MtMlBPRy1QS
  DdULU9ESlgtSE9DQS1CNFhZLUFGU0siLAogICAgIktleUVuY3J5cHRpb24iOiB
  7CiAgICAgICJVREYiOiAiTUJXWS1JSUtZLVZPQjUtQlhJUC1ESVhYLVI0VEgtW
  klGMiIsCiAgICAgICJQdWJsaWNQYXJhbWV0ZXJzIjogewogICAgICAgICJQdWJ
  saWNLZXlFQ0RIIjogewogICAgICAgICAgImNydiI6ICJFZDQ0OCIsCiAgICAgI
  CAgICAiUHVibGljIjogInN3cGU2SDV5aVU0dkpvdGJvWGJGd3dJRXBfbFhPLWt
  ibTl6ajlQT0ZMTHdmcWU2QlVNc3UKICA5RkJDTDZHSHA5M3djbUxNMjd0R1JuN
  EEifX19fX0",
      {
        "signatures": [{
            "alg": "SHA2",
            "kid": "MDI7-LMMT-LTJE-6C5Z-AFZN-6OXW-YLW3",
            "signature": "BKyn2yRykmhAchtt7nfrEFbtAjq597QoPxRTb8hphW0
                1701Oh
  gTWMBilRSDRQaz-MdtVqePyDYCA7Voe6MO31wEh3xKUcD50zZeD01bKnIpbylb
  l13WNGw25loyC6ns_Xj2fbsP6bq-j98gEm4uYAwEA"}],
        "PayloadDigest": "h-nEPwrNmuSb9Eed4NgVBHIbfthIoyoHXvmyrCJ61Nm
            qc
  1GVow8VgMV-tywKMfH7rhra3iRwx4Z_ikDtgKdbOQ"}]}}</pre><a href="#section-6-4" class="pilcrow">¶</a>
</div>
<p id="section-6-5">The response payload:<a href="#section-6-5" class="pilcrow">¶</a></p>
<div id="section-6-6">
<pre class="sourcecode">{
  "CreateResponse": {
    "Status": 201,
    "StatusDescription": "Operation completed successfully"}}</pre><a href="#section-6-6" class="pilcrow">¶</a>
</div>
<p id="section-6-7">An account registration is deleted using the <code>DeleteAccount</code> transaction.<a href="#section-6-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-container-synchronization">
<section id="section-7">
      <h2 id="name-container-synchronization">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-container-synchronization" class="section-name selfRef">Container Synchronization</a>
      </h2>
<p id="section-7-1">All the state associated with a Mesh profile is stored as a sequence of DARE Messages in a Dare Container. The Mesh Service holding the master copy of the persistence stores and the devices connected to the profile containing complete copies (replicas) or partial copies (redactions).<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">Thus, the only primitive needed to achieve synchronization of the profile state are those required for synchronization of a DARE Container. These steps are:<a href="#section-7-2" class="pilcrow">¶</a></p>
<ul>
<li id="section-7-3.1">Obtain the status of the catalogs and spools associated with the account.<a href="#section-7-3.1" class="pilcrow">¶</a>
</li>
<li id="section-7-3.2">Download catalog and spool updates<a href="#section-7-3.2" class="pilcrow">¶</a>
</li>
<li id="section-7-3.3">Upload catalog updates.<a href="#section-7-3.3" class="pilcrow">¶</a>
</li>
</ul>
<p id="section-7-4">To ensure a satisfactory user experience, Mesh Messages are intentionally limited in size to 64 KB or less, thus ensuring that an application can retrieve the most recent 100 messages almost instantaneously on a high bandwidth connection and without undue delay on a slower one.<a href="#section-7-4" class="pilcrow">¶</a></p>
<div id="n-status-transaction">
<section id="section-7.1">
        <h3 id="name-status-transaction">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-status-transaction" class="section-name selfRef">Status Transaction</a>
        </h3>
<p id="section-7.1-1">The status transaction returns the status of the containers the device is authorized to access for the specified account together with the updated Device Connection Entry if this has been modified since the entry presented to authenticate the request was issued.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-download-transaction">
<section id="section-7.2">
        <h3 id="name-download-transaction">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-download-transaction" class="section-name selfRef">Download Transaction</a>
        </h3>
<p id="section-7.2-1">The download transaction returns a collection of entries from one or more containers associated with the profile.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">Optional filtering criteria <span class="bcp14">MAY</span> be specified to only return objects matching specific criteria and/or only return certain parts of the selected messages.<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2-3">The service <span class="bcp14">MAY</span> limit the number of entries returned in an individual response for performance reasons.<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<div id="n-conflict-detection">
<section id="section-7.2.1">
          <h4 id="name-conflict-detection">
<a href="#section-7.2.1" class="section-number selfRef">7.2.1. </a><a href="#name-conflict-detection" class="section-name selfRef">Conflict Detection</a>
          </h4>
<p id="section-7.2.1-1">Clients <span class="bcp14">SHOULD</span> check to determine if updates to a container conflict with pending updates on the device waiting to be uploaded. For example, if a contact that the user modified on the device attempting to synchronize was subsequently deleted.<a href="#section-7.2.1-1" class="pilcrow">¶</a></p>
<p id="section-7.2.1-2">The means of resolving such conflicts is not in the scope of this specification.<a href="#section-7.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-filtering">
<section id="section-7.2.2">
          <h4 id="name-filtering">
<a href="#section-7.2.2" class="section-number selfRef">7.2.2. </a><a href="#name-filtering" class="section-name selfRef">Filtering</a>
          </h4>
<p id="section-7.2.2-1">Clients may request container updates be filtered to redact catalog entries that have been updated or deleted or spool entries that have been read, deleted or were received before a certain date.<a href="#section-7.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-upload-transaction">
<section id="section-7.3">
        <h3 id="name-upload-transaction">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-upload-transaction" class="section-name selfRef">Upload Transaction</a>
        </h3>
<p id="section-7.3-1">The upload transaction upload objects to a catalog or spool.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">Multiple objects <span class="bcp14">MAY</span> be uploaded at once. Object updates <span class="bcp14">MAY</span> be conditional on the successful completion of other upload requests.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
<p id="section-7.3-3">The transaction <span class="bcp14">MAY</span> be performed in one request/response round trip or with separate round trips to confirm that the transaction is accepted by the service before sending large number of updates.<a href="#section-7.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-device-connection">
<section id="section-8">
      <h2 id="name-device-connection">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-device-connection" class="section-name selfRef">Device Connection</a>
      </h2>
<p id="section-8-1">Devices request connection to a Mesh profile using the <code>Connect</code> transaction. Three connection mechanisms are currently defined. All three of which offer strong mutual authentication.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">Device Authenticated<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">Pin Authenticated<a href="#section-8-3" class="pilcrow">¶</a></p>
<p id="section-8-4">EARL Connection Mode<a href="#section-8-4" class="pilcrow">¶</a></p>
<p id="section-8-5">The first two of these mechanisms are initiated from the device being connected which requires that the Mesh Service Account it is being connected to be entered into it. Use of these mechanisms thus requires keyboard and display affordances or accessibility equivalents.<a href="#section-8-5" class="pilcrow">¶</a></p>
<p id="section-8-6">The last mechanism is initiated from an administration device that is already connected to the account. It is intended for use in circumstances where the device being connected does not have the necessary affordances to allow the Device or PIN authenticated modes.<a href="#section-8-6" class="pilcrow">¶</a></p>
<p id="section-8-7">In either case, the connection request is completed by the device requesting synchronization with the Mesh Account using its device credential for authentication. If the connection request was accepted, the device will be provisioned with the Device Connection Assertion allowing it to complete the process.<a href="#section-8-7" class="pilcrow">¶</a></p>
<p id="section-8-8">The Device Connection Assertion includes an overlay device profile containing a set of private key contributions to be used to perform key cogeneration on the original set of device keys to create a new device profile to be used for all purposes associated with the Mesh Profile to which it has just been connected. This assures the user that the keys the device uses for performing operation in the context of their profile are not affected by any compromise that might have occurred during manufacture or at any point after up to the time it was connected to their profile.<a href="#section-8-8" class="pilcrow">¶</a></p>
<div id="n-device-authenticated">
<section id="section-8.1">
        <h3 id="name-device-authenticated">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-device-authenticated" class="section-name selfRef">Device Authenticated</a>
        </h3>
<p id="section-8.1-1">The direct connection mechanism requires that both the administration device and the device originating the connection request have data entry and output affordances and that it is possible for the user to compare the authentication codes presented by the two devices to check that they are identical.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-pin-authenticated">
<section id="section-8.2">
        <h3 id="name-pin-authenticated">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-pin-authenticated" class="section-name selfRef">PIN Authenticated</a>
        </h3>
<p id="section-8.2-1">The PIN Connection mechanism is similar to the Direct connection mechanism except that the process is initiated on an administration device by requesting assignment of a new authentication PIN. The PIN is then input to the connecting device to authenticate the request.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-earl-connection-mode">
<section id="section-8.3">
        <h3 id="name-earl-connection-mode">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-earl-connection-mode" class="section-name selfRef">EARL connection mode</a>
        </h3>
<p id="section-8.3-1">The EARL/QR code connection mechanisms are used to connect a constrained device to a Mesh profile by means of an Encrypted Authenticated Resource Locator, typically presented as a QR code on the device itself or its packaging.<a href="#section-8.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-mesh-messaging">
<section id="section-9">
      <h2 id="name-mesh-messaging">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-mesh-messaging" class="section-name selfRef">Mesh Messaging</a>
      </h2>
<p id="section-9-1">Mesh Messages provide a means of communication between Mesh Service Accounts with capabilities that are not possible or poorly supported in traditional SMTP mail messaging:<a href="#section-9-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-9-2.1">End-to-end confidentiality and authentication by default.<a href="#section-9-2.1" class="pilcrow">¶</a>
</li>
<li id="section-9-2.2">Abuse mitigation by applying access control to every inbound and outbound message.<a href="#section-9-2.2" class="pilcrow">¶</a>
</li>
<li id="section-9-2.3">End-to-end secure group messaging.<a href="#section-9-2.3" class="pilcrow">¶</a>
</li>
<li id="section-9-2.4">Transfer of very large data sets (Terabytes).<a href="#section-9-2.4" class="pilcrow">¶</a>
</li>
</ul>
<p id="section-9-3">Note that although Mesh Messaging is designed to facilitate the transfer of very large data sets, the size of Mesh Messages themselves is severely restricted. The current default maximum size being 64 KB. This approach allows Mesh<a href="#section-9-3" class="pilcrow">¶</a></p>
<p id="section-9-4">In addition, the platform anticipates but does not currently support additional cryptographic security capabilities:<a href="#section-9-4" class="pilcrow">¶</a></p>
<ul>
<li id="section-9-5.1">Traffic analysis resistance using mix networks (Chaum).<a href="#section-9-5.1" class="pilcrow">¶</a>
</li>
<li id="section-9-5.2">Simultaneous contract binding using fair contract signing (Micali).<a href="#section-9-5.2" class="pilcrow">¶</a>
</li>
</ul>
<p id="section-9-6">While these capabilities might in time cause Mesh Messaging to replace SMTP, this is not a near term goal. The short-term goal of Mesh Messaging is to support the Contact Exchange and Confirmation applications.<a href="#section-9-6" class="pilcrow">¶</a></p>
<p id="section-9-7">Two important classes of application that are not currently supported directly are payments and presence. While prototypes of these applications have been considered, it is not clear if these are best implemented as special cases of the Confirmation and Contact Exchange applications or as separate applications in their own right.<a href="#section-9-7" class="pilcrow">¶</a></p>
<div id="n-message-exchange">
<section id="section-9.1">
        <h3 id="name-message-exchange">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-message-exchange" class="section-name selfRef">Message Exchange</a>
        </h3>
<p id="section-9.1-1">To enable effective abuse mitigation, Mesh Messaging enforces a four corner communication model in which all outbound and inbound messages pass through a Mesh Service which accredits and authorizes the messages on the user's behalf.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<figure id="figure-1">
          <div class="artwork art-svg alignLeft" id="section-9.1-2.1">
<svg xmlns="http://www.w3.org/2000/svg" width="2.44271in" height="1.11458in" viewBox="0 0 175.875 80.25" fill="none" fill-rule="evenodd" font-size="12px" stroke-linecap="square">
              <g>
                <title>Page-1</title>
                <g transform="translate(0.75,-0.75)">
                  <title>Sheet.1</title>
                  <desc>To Be Specified</desc>
                  <rect x="0" y="1.5" width="174.375" height="78.75" fill="#ffffff" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.75"></rect>
                  <text x="49.98" y="44.48" fill="#000000" font-family="sans-serif" font-size="1.00001em">To Be Specified</text>
                </g>
              </g>
            </svg>
          </div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
<p id="section-9.1-3">The Post transaction is used for client-service and service-service messaging transactions.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
<div id="n-clientservice-post-transaction">
<section id="section-9.1.1">
          <h4 id="name-client-service-post-transac">
<a href="#section-9.1.1" class="section-number selfRef">9.1.1. </a><a href="#name-client-service-post-transac" class="section-name selfRef">Client-Service (Post Transaction)</a>
          </h4>
<p id="section-9.1.1-1">To send a message, the client creates the Mesh Message structure, encapsulates it in a DARE Message and forwards this to its service using a <code>Post</code> transaction.<a href="#section-9.1.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1.1-2">The Post transaction is authenticated to the service by device using the usual means of profile or ticket authentication.<a href="#section-9.1.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1.1-3">The DARE Message <span class="bcp14">MUST</span> be signed under a device signature key accredited by a Device Connection Assertion provided in the message signature block.<a href="#section-9.1.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-serviceservice-post-transaction">
<section id="section-9.1.2">
          <h4 id="name-service-service-post-transa">
<a href="#section-9.1.2" class="section-number selfRef">9.1.2. </a><a href="#name-service-service-post-transa" class="section-name selfRef">Service-Service (Post Transaction)</a>
          </h4>
<p id="section-9.1.2-1">The Mesh Service receiving the message from the user's device <span class="bcp14">MAY</span> attempt immediate retransmission or queue it to be sent at a future time. Mesh Services <span class="bcp14">SHOULD</span> forward messages without undue delay.<a href="#section-9.1.2-1" class="pilcrow">¶</a></p>
<p id="section-9.1.2-2">The Post transaction forwarding the message to the destination service carries the same payload as the original request but is authenticated by the service forwarding it. This authentication <span class="bcp14">MAY</span> be my means of either profile or ticket authentication.<a href="#section-9.1.2-2" class="pilcrow">¶</a></p>
<div id="n-denial-of-service-mitigation">
<section id="section-9.1.2.1">
            <h5 id="name-denial-of-service-mitigatio">
<a href="#section-9.1.2.1" class="section-number selfRef">9.1.2.1. </a><a href="#name-denial-of-service-mitigatio" class="section-name selfRef">Denial of Service Mitigation</a>
            </h5>
<p id="section-9.1.2.1-1">Services <span class="bcp14">SHOULD</span> implement Denial of Service mitigation strategies including limiting the maximum time taken to complete a transaction and refusing connections from clients that engage in patterns of behavior consistent with abuse.<a href="#section-9.1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1.2.1-2">The limitation in message size allows Mesh Services to aggressively time out connections that take too long to complete a transaction. A Mesh Service that hosted on a 10Mb/s link should be able to transfer 20 messages a second. If the service is taking more than 5 seconds to complete a transaction, either the source or the destination service is overloaded or the message itself is an attack.<a href="#section-9.1.2.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1.2.1-3">Imposing hard constraints on Mesh Service performance requires deployments to scale and apply resources appropriately. If a service is attempting to transfer 100 messages simultaneously and 40% are taking 4 seconds or more, this indicates that the number of simultaneous transfers being attempted should be reduced. Contrawise, if 90% are completinin less than a second, the number of threads allocated to sending outbound messages might be increased.<a href="#section-9.1.2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-access-control">
<section id="section-9.1.2.2">
            <h5 id="name-access-control">
<a href="#section-9.1.2.2" class="section-number selfRef">9.1.2.2. </a><a href="#name-access-control" class="section-name selfRef">Access Control</a>
            </h5>
<p id="section-9.1.2.2-1">The inbound service <span class="bcp14">MUST</span> subject inbound messages to Access Control according to the credentials presented in the DARE Message payload.<a href="#section-9.1.2.2-1" class="pilcrow">¶</a></p>
<p id="section-9.1.2.2-2">After verifying the signature and checking that the key is properly accredited in accordance with site policy, the service applies authorization controls taking account of:<a href="#section-9.1.2.2-2" class="pilcrow">¶</a></p>
<ul>
<li id="section-9.1.2.2-3.1">The accreditation of the sender<a href="#section-9.1.2.2-3.1" class="pilcrow">¶</a>
</li>
<li id="section-9.1.2.2-3.2">The accreditation of the transmitting Service<a href="#section-9.1.2.2-3.2" class="pilcrow">¶</a>
</li>
<li id="section-9.1.2.2-3.3">The type of Mesh Message being sent<a href="#section-9.1.2.2-3.3" class="pilcrow">¶</a>
</li>
<li id="section-9.1.2.2-3.4">User policy as specified in their Contact Catalog<a href="#section-9.1.2.2-3.4" class="pilcrow">¶</a>
</li>
<li id="section-9.1.2.2-3.5">Site policy.<a href="#section-9.1.2.2-3.5" class="pilcrow">¶</a>
</li>
</ul>
</section>
</div>
</section>
</div>
<div id="n-serviceclient-synchronization">
<section id="section-9.1.3">
          <h4 id="name-service-client-synchronizat">
<a href="#section-9.1.3" class="section-number selfRef">9.1.3. </a><a href="#name-service-client-synchronizat" class="section-name selfRef">Service-Client (Synchronization)</a>
          </h4>
<p id="section-9.1.3-1">The final recipient receives the message by synchronizing their inbound spool.<a href="#section-9.1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="n-protocol-schema">
<section id="section-10">
      <h2 id="name-protocol-schema">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-protocol-schema" class="section-name selfRef">Protocol Schema</a>
      </h2>
<dl class="dlParallel" id="section-10-1">
        <dt id="section-10-1.1">HTTP Well Known Service Prefix: /.well-known/mmm </dt>
<dd id="section-10-1.2"><a href="#section-10-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10-2">Every Mesh Portal Service transaction consists of exactly one request followed by exactly one response. Mesh Service transactions MAY cause modification of the data stored in the Mesh Service or the Mesh itself but do not cause changes to the connection state. The protocol itself is thus idempotent. There is no set sequence in which operations are required to be performed. It is not necessary to perform a Hello transaction prior to any other transaction.<a href="#section-10-2" class="pilcrow">¶</a></p>
<div id="n-request-messages-">
<section id="section-10.1">
        <h3 id="name-request-messages">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-request-messages" class="section-name selfRef">Request Messages</a>
        </h3>
<p id="section-10.1-1">A Mesh Portal Service request consists of a payload object that inherits from the MeshRequest class. When using the  HTTP binding, the request MUST specify the portal DNS address in the HTTP Host field.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<div id="n-message-meshrequest-">
<section id="section-10.1.1">
          <h4 id="name-message-meshrequest">
<a href="#section-10.1.1" class="section-number selfRef">10.1.1. </a><a href="#name-message-meshrequest" class="section-name selfRef">Message: MeshRequest</a>
          </h4>
<p id="section-10.1.1-1">Base class for all request messages.<a href="#section-10.1.1-1" class="pilcrow">¶</a></p>
<p id="section-10.1.1-2">[No fields]<a href="#section-10.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-message-meshrequestuser-">
<section id="section-10.1.2">
          <h4 id="name-message-meshrequestuser">
<a href="#section-10.1.2" class="section-number selfRef">10.1.2. </a><a href="#name-message-meshrequestuser" class="section-name selfRef">Message: MeshRequestUser</a>
          </h4>
<p id="section-10.1.2-1">Base class for all request messages made by a user.<a href="#section-10.1.2-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.1.2-2">
            <dt id="section-10.1.2-2.1">Inherits: MeshRequest  </dt>
<dd id="section-10.1.2-2.2"><a href="#section-10.1.2-2.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.1.2-2.3">Account: String (Optional) </dt>
<dd id="section-10.1.2-2.4">
              <p id="section-10.1.2-2.4.1">The fully qualified account name (including DNS address) to which the request is directed.<a href="#section-10.1.2-2.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.1.2-2.5">DeviceProfile: DareEnvelope (Optional) </dt>
<dd id="section-10.1.2-2.6">
              <p id="section-10.1.2-2.6.1">Device profile of the device making the request.<a href="#section-10.1.2-2.6.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-response-messages-">
<section id="section-10.2">
        <h3 id="name-response-messages">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-response-messages" class="section-name selfRef">Response Messages</a>
        </h3>
<p id="section-10.2-1">A Mesh Portal Service response consists of a payload object that inherits from the MeshResponse class. When using the HTTP binding, the response SHOULD report the Status response code in the HTTP response  message. However the response code returned in the payload object MUST always be considered authoritative.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<div id="n-message-meshresponse-">
<section id="section-10.2.1">
          <h4 id="name-message-meshresponse">
<a href="#section-10.2.1" class="section-number selfRef">10.2.1. </a><a href="#name-message-meshresponse" class="section-name selfRef">Message: MeshResponse</a>
          </h4>
<p id="section-10.2.1-1">Base class for all response messages. Contains only the status code and status description fields.<a href="#section-10.2.1-1" class="pilcrow">¶</a></p>
<p id="section-10.2.1-2">[No fields]<a href="#section-10.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-imported-objects-">
<section id="section-10.3">
        <h3 id="name-imported-objects">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-imported-objects" class="section-name selfRef">Imported Objects</a>
        </h3>
<p id="section-10.3-1">The Mesh Service protocol makes use of JSON objects defined in the JOSE Signatgure and Encryption specifications and in the DARE Data At Rest Encryption extensions to JOSE.<a href="#section-10.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-common-structures-">
<section id="section-10.4">
        <h3 id="name-common-structures">
<a href="#section-10.4" class="section-number selfRef">10.4. </a><a href="#name-common-structures" class="section-name selfRef">Common Structures</a>
        </h3>
<p id="section-10.4-1">The following common structures are used in the protocol messages:<a href="#section-10.4-1" class="pilcrow">¶</a></p>
<div id="n-structure-keyvalue-">
<section id="section-10.4.1">
          <h4 id="name-structure-keyvalue">
<a href="#section-10.4.1" class="section-number selfRef">10.4.1. </a><a href="#name-structure-keyvalue" class="section-name selfRef">Structure: KeyValue</a>
          </h4>
<p id="section-10.4.1-1">Describes a Key/Value structure used to make queries for records matching one or more selection criteria.<a href="#section-10.4.1-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.4.1-2">
            <dt id="section-10.4.1-2.1">Key: String (Optional) </dt>
<dd id="section-10.4.1-2.2">
              <p id="section-10.4.1-2.2.1">The data retrieval key.<a href="#section-10.4.1-2.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.1-2.3">Value: String (Optional) </dt>
<dd id="section-10.4.1-2.4">
              <p id="section-10.4.1-2.4.1">The data value to match.<a href="#section-10.4.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-structure-constraintsselect-">
<section id="section-10.4.2">
          <h4 id="name-structure-constraintsselect">
<a href="#section-10.4.2" class="section-number selfRef">10.4.2. </a><a href="#name-structure-constraintsselect" class="section-name selfRef">Structure: ConstraintsSelect</a>
          </h4>
<p id="section-10.4.2-1">Specifies constraints to be applied to a search result. These  allow a client to limit the number of records returned, the quantity of data returned, the earliest and latest data returned, etc.<a href="#section-10.4.2-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.4.2-2">
            <dt id="section-10.4.2-2.1">Container: String (Optional) </dt>
<dd id="section-10.4.2-2.2">
              <p id="section-10.4.2-2.2.1">The container to be searched.<a href="#section-10.4.2-2.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.2-2.3">IndexMin: Integer (Optional) </dt>
<dd id="section-10.4.2-2.4">
              <p id="section-10.4.2-2.4.1">Only return objects with an index value that is equal to or higher than the value specified.<a href="#section-10.4.2-2.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.2-2.5">IndexMax: Integer (Optional) </dt>
<dd id="section-10.4.2-2.6">
              <p id="section-10.4.2-2.6.1">Only return objects with an index value that is equal to or lower than the value specified.<a href="#section-10.4.2-2.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.2-2.7">NotBefore: DateTime (Optional) </dt>
<dd id="section-10.4.2-2.8">
              <p id="section-10.4.2-2.8.1">Only data published on or after the specified time instant  is requested.<a href="#section-10.4.2-2.8.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.2-2.9">Before: DateTime (Optional) </dt>
<dd id="section-10.4.2-2.10">
              <p id="section-10.4.2-2.10.1">Only data published before the specified time instant is requested. This excludes data published at the specified time instant.<a href="#section-10.4.2-2.10.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.2-2.11">PageKey: String (Optional) </dt>
<dd id="section-10.4.2-2.12">
              <p id="section-10.4.2-2.12.1">Specifies a page key returned in a previous search operation in which the number of responses exceeded the specified bounds.<a href="#section-10.4.2-2.12.1" class="pilcrow">¶</a></p>
<p id="section-10.4.2-2.12.2">When a page key is specified, all the other search parameters except for MaxEntries and MaxBytes are ignored and the service returns the next set of data responding to the earlier query.<a href="#section-10.4.2-2.12.2" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-structure-constraintsdata-">
<section id="section-10.4.3">
          <h4 id="name-structure-constraintsdata">
<a href="#section-10.4.3" class="section-number selfRef">10.4.3. </a><a href="#name-structure-constraintsdata" class="section-name selfRef">Structure: ConstraintsData</a>
          </h4>
<p id="section-10.4.3-1">Specifies constraints on the data to be sent.<a href="#section-10.4.3-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.4.3-2">
            <dt id="section-10.4.3-2.1">MaxEntries: Integer (Optional) </dt>
<dd id="section-10.4.3-2.2">
              <p id="section-10.4.3-2.2.1">Maximum number of entries to send.<a href="#section-10.4.3-2.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.3-2.3">BytesOffset: Integer (Optional) </dt>
<dd id="section-10.4.3-2.4">
              <p id="section-10.4.3-2.4.1">Specifies an offset to be applied to the payload data before it is sent.  This allows large payloads to be transferred incrementally.<a href="#section-10.4.3-2.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.3-2.5">BytesMax: Integer (Optional) </dt>
<dd id="section-10.4.3-2.6">
              <p id="section-10.4.3-2.6.1">Maximum number of payload bytes to send.<a href="#section-10.4.3-2.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.3-2.7">Header: Boolean (Optional) </dt>
<dd id="section-10.4.3-2.8">
              <p id="section-10.4.3-2.8.1">Return the entry header<a href="#section-10.4.3-2.8.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.3-2.9">Payload: Boolean (Optional) </dt>
<dd id="section-10.4.3-2.10">
              <p id="section-10.4.3-2.10.1">Return the entry payload<a href="#section-10.4.3-2.10.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.3-2.11">Trailer: Boolean (Optional) </dt>
<dd id="section-10.4.3-2.12">
              <p id="section-10.4.3-2.12.1">Return the entry trailer<a href="#section-10.4.3-2.12.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-structure-policyaccount-">
<section id="section-10.4.4">
          <h4 id="name-structure-policyaccount">
<a href="#section-10.4.4" class="section-number selfRef">10.4.4. </a><a href="#name-structure-policyaccount" class="section-name selfRef">Structure: PolicyAccount</a>
          </h4>
<p id="section-10.4.4-1">Describes the account creation policy including constraints on  account names, whether there is an open account creation policy, etc.<a href="#section-10.4.4-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.4.4-2">
            <dt id="section-10.4.4-2.1">Minimum: Integer (Optional) </dt>
<dd id="section-10.4.4-2.2">
              <p id="section-10.4.4-2.2.1">Specifies the minimum length of an account name.<a href="#section-10.4.4-2.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.4-2.3">Maximum: Integer (Optional) </dt>
<dd id="section-10.4.4-2.4">
              <p id="section-10.4.4-2.4.1">Specifies the maximum length of an account name.<a href="#section-10.4.4-2.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.4.4-2.5">InvalidCharacters: String (Optional) </dt>
<dd id="section-10.4.4-2.6">
              <p id="section-10.4.4-2.6.1">A list of characters that the service  does not accept in account names. The list of characters  MAY not be exhaustive but SHOULD include any illegal characters in the proposed account name.<a href="#section-10.4.4-2.6.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-structure-containerstatus-">
<section id="section-10.4.5">
          <h4 id="name-structure-containerstatus">
<a href="#section-10.4.5" class="section-number selfRef">10.4.5. </a><a href="#name-structure-containerstatus" class="section-name selfRef">Structure: ContainerStatus</a>
          </h4>
<dl class="dlParallel" id="section-10.4.5-1">
            <dt id="section-10.4.5-1.1">Container: String (Optional) </dt>
<dd id="section-10.4.5-1.2"><a href="#section-10.4.5-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.4.5-1.3">Index: Integer (Optional) </dt>
<dd id="section-10.4.5-1.4"><a href="#section-10.4.5-1.4" class="pilcrow">¶</a>
</dd>
<dt id="section-10.4.5-1.5">Digest: Binary (Optional)  </dt>
<dd id="section-10.4.5-1.6"><a href="#section-10.4.5-1.6" class="pilcrow">¶</a>
</dd>
</dl>
</section>
</div>
<div id="n-structure-containerupdate-">
<section id="section-10.4.6">
          <h4 id="name-structure-containerupdate">
<a href="#section-10.4.6" class="section-number selfRef">10.4.6. </a><a href="#name-structure-containerupdate" class="section-name selfRef">Structure: ContainerUpdate</a>
          </h4>
<dl class="dlParallel" id="section-10.4.6-1">
            <dt id="section-10.4.6-1.1">Inherits: ContainerStatus  </dt>
<dd id="section-10.4.6-1.2"><a href="#section-10.4.6-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.4.6-1.3">Envelopes: DareEnvelope [0..Many] </dt>
<dd id="section-10.4.6-1.4">
              <p id="section-10.4.6-1.4.1">The entries to be uploaded.<a href="#section-10.4.6-1.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-transaction-hello-">
<section id="section-10.5">
        <h3 id="name-transaction-hello">
<a href="#section-10.5" class="section-number selfRef">10.5. </a><a href="#name-transaction-hello" class="section-name selfRef">Transaction: Hello</a>
        </h3>
<dl class="dlParallel" id="section-10.5-1">
          <dt id="section-10.5-1.1">Request: HelloRequest </dt>
<dd id="section-10.5-1.2"><a href="#section-10.5-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.5-1.3">Response: MeshHelloResponse  </dt>
<dd id="section-10.5-1.4"><a href="#section-10.5-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.5-2">Report service and version information.<a href="#section-10.5-2" class="pilcrow">¶</a></p>
<p id="section-10.5-3">The Hello transaction provides a means of determining which protocol versions, message encodings and transport protocols are supported by the service.<a href="#section-10.5-3" class="pilcrow">¶</a></p>
<p id="section-10.5-4">The PostConstraints field MAY be used to advise senders of a maximum size of payload that MAY be sent in an initial Post request.<a href="#section-10.5-4" class="pilcrow">¶</a></p>
<div id="n-message-meshhelloresponse-">
<section id="section-10.5.1">
          <h4 id="name-message-meshhelloresponse">
<a href="#section-10.5.1" class="section-number selfRef">10.5.1. </a><a href="#name-message-meshhelloresponse" class="section-name selfRef">Message: MeshHelloResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.5.1-1">
            <dt id="section-10.5.1-1.1">ConstraintsUpdate: ConstraintsData (Optional) </dt>
<dd id="section-10.5.1-1.2">
              <p id="section-10.5.1-1.2.1">Specifies the default data constraints for updates.<a href="#section-10.5.1-1.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.5.1-1.3">ConstraintsPost: ConstraintsData (Optional) </dt>
<dd id="section-10.5.1-1.4">
              <p id="section-10.5.1-1.4.1">Specifies the default data constraints for message senders.<a href="#section-10.5.1-1.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.5.1-1.5">PolicyAccount: PolicyAccount (Optional) </dt>
<dd id="section-10.5.1-1.6">
              <p id="section-10.5.1-1.6.1">Specifies the account creation policy<a href="#section-10.5.1-1.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.5.1-1.7">EnvelopedProfileService: DareEnvelope (Optional) </dt>
<dd id="section-10.5.1-1.8">
              <p id="section-10.5.1-1.8.1">The enveloped master profile of the service.<a href="#section-10.5.1-1.8.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.5.1-1.9">EnvelopedProfileHost: DareEnvelope (Optional) </dt>
<dd id="section-10.5.1-1.10">
              <p id="section-10.5.1-1.10.1">The enveloped profile of the host.<a href="#section-10.5.1-1.10.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-transaction-createaccount-">
<section id="section-10.6">
        <h3 id="name-transaction-createaccount">
<a href="#section-10.6" class="section-number selfRef">10.6. </a><a href="#name-transaction-createaccount" class="section-name selfRef">Transaction: CreateAccount</a>
        </h3>
<dl class="dlParallel" id="section-10.6-1">
          <dt id="section-10.6-1.1">Request: CreateRequest </dt>
<dd id="section-10.6-1.2"><a href="#section-10.6-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.6-1.3">Response: CreateResponse  </dt>
<dd id="section-10.6-1.4"><a href="#section-10.6-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.6-2">Request creation of a new service account.<a href="#section-10.6-2" class="pilcrow">¶</a></p>
<p id="section-10.6-3">Attempt<a href="#section-10.6-3" class="pilcrow">¶</a></p>
<div id="n-message-createrequest-">
<section id="section-10.6.1">
          <h4 id="name-message-createrequest">
<a href="#section-10.6.1" class="section-number selfRef">10.6.1. </a><a href="#name-message-createrequest" class="section-name selfRef">Message: CreateRequest</a>
          </h4>
<p id="section-10.6.1-1">Request binding of an account to a service address.<a href="#section-10.6.1-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.6.1-2">
            <dt id="section-10.6.1-2.1">Inherits: MeshRequest  </dt>
<dd id="section-10.6.1-2.2"><a href="#section-10.6.1-2.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.6.1-2.3">ServiceID: String (Optional) </dt>
<dd id="section-10.6.1-2.4">
              <p id="section-10.6.1-2.4.1">The service account to bind to.<a href="#section-10.6.1-2.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.6.1-2.5">SignedProfileMesh: DareEnvelope (Optional) </dt>
<dd id="section-10.6.1-2.6">
              <p id="section-10.6.1-2.6.1">The persistent profile that will be used to validate changes to the account assertion.<a href="#section-10.6.1-2.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.6.1-2.7">SignedAssertionAccount: DareEnvelope (Optional) </dt>
<dd id="section-10.6.1-2.8">
              <p id="section-10.6.1-2.8.1">The signed assertion describing the account.<a href="#section-10.6.1-2.8.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-message-createresponse-">
<section id="section-10.6.2">
          <h4 id="name-message-createresponse">
<a href="#section-10.6.2" class="section-number selfRef">10.6.2. </a><a href="#name-message-createresponse" class="section-name selfRef">Message: CreateResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.6.2-1">
            <dt id="section-10.6.2-1.1">Inherits: MeshResponse  </dt>
<dd id="section-10.6.2-1.2"><a href="#section-10.6.2-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.6.2-2">Reports the success or failure of a Create transaction.<a href="#section-10.6.2-2" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.6.2-3">
            <dt id="section-10.6.2-3.1">Reason: String (Optional) </dt>
<dd id="section-10.6.2-3.2">
              <p id="section-10.6.2-3.2.1">Text explaining the status of the creation request.<a href="#section-10.6.2-3.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.6.2-3.3">URL: String (Optional) </dt>
<dd id="section-10.6.2-3.4">
              <p id="section-10.6.2-3.4.1">A URL to which the user is directed to complete the account creation  request.<a href="#section-10.6.2-3.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-transaction-deleteaccount-">
<section id="section-10.7">
        <h3 id="name-transaction-deleteaccount">
<a href="#section-10.7" class="section-number selfRef">10.7. </a><a href="#name-transaction-deleteaccount" class="section-name selfRef">Transaction: DeleteAccount</a>
        </h3>
<dl class="dlParallel" id="section-10.7-1">
          <dt id="section-10.7-1.1">Request: DeleteRequest </dt>
<dd id="section-10.7-1.2"><a href="#section-10.7-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.7-1.3">Response: DeleteResponse  </dt>
<dd id="section-10.7-1.4"><a href="#section-10.7-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.7-2">Request deletion of a service account.<a href="#section-10.7-2" class="pilcrow">¶</a></p>
<div id="n-message-deleterequest-">
<section id="section-10.7.1">
          <h4 id="name-message-deleterequest">
<a href="#section-10.7.1" class="section-number selfRef">10.7.1. </a><a href="#name-message-deleterequest" class="section-name selfRef">Message: DeleteRequest</a>
          </h4>
<p id="section-10.7.1-1">Request creation of a new portal account. The request specifies the requested account identifier and the Mesh profile to be associated  with the account.<a href="#section-10.7.1-1" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.7.1-2">
            <dt id="section-10.7.1-2.1">Inherits: MeshRequestUser  </dt>
<dd id="section-10.7.1-2.2"><a href="#section-10.7.1-2.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.7.1-3">[No fields]<a href="#section-10.7.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-message-deleteresponse-">
<section id="section-10.7.2">
          <h4 id="name-message-deleteresponse">
<a href="#section-10.7.2" class="section-number selfRef">10.7.2. </a><a href="#name-message-deleteresponse" class="section-name selfRef">Message: DeleteResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.7.2-1">
            <dt id="section-10.7.2-1.1">Inherits: MeshResponse  </dt>
<dd id="section-10.7.2-1.2"><a href="#section-10.7.2-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.7.2-2">Reports the success or failure of a Delete transaction.<a href="#section-10.7.2-2" class="pilcrow">¶</a></p>
<p id="section-10.7.2-3">[No fields]<a href="#section-10.7.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-transaction-complete-">
<section id="section-10.8">
        <h3 id="name-transaction-complete">
<a href="#section-10.8" class="section-number selfRef">10.8. </a><a href="#name-transaction-complete" class="section-name selfRef">Transaction: Complete</a>
        </h3>
<dl class="dlParallel" id="section-10.8-1">
          <dt id="section-10.8-1.1">Request: CompleteRequest </dt>
<dd id="section-10.8-1.2"><a href="#section-10.8-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.8-1.3">Response: StatusResponse  </dt>
<dd id="section-10.8-1.4"><a href="#section-10.8-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<div id="n-message-completerequest-">
<section id="section-10.8.1">
          <h4 id="name-message-completerequest">
<a href="#section-10.8.1" class="section-number selfRef">10.8.1. </a><a href="#name-message-completerequest" class="section-name selfRef">Message: CompleteRequest</a>
          </h4>
<dl class="dlParallel" id="section-10.8.1-1">
            <dt id="section-10.8.1-1.1">Inherits: StatusRequest  </dt>
<dd id="section-10.8.1-1.2"><a href="#section-10.8.1-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.8.1-1.3">ServiceID: String (Optional)  </dt>
<dd id="section-10.8.1-1.4"><a href="#section-10.8.1-1.4" class="pilcrow">¶</a>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-transaction-status-">
<section id="section-10.9">
        <h3 id="name-transaction-status">
<a href="#section-10.9" class="section-number selfRef">10.9. </a><a href="#name-transaction-status" class="section-name selfRef">Transaction: Status</a>
        </h3>
<dl class="dlParallel" id="section-10.9-1">
          <dt id="section-10.9-1.1">Request: StatusRequest </dt>
<dd id="section-10.9-1.2"><a href="#section-10.9-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.9-1.3">Response: StatusResponse  </dt>
<dd id="section-10.9-1.4"><a href="#section-10.9-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<div id="n-message-statusrequest-">
<section id="section-10.9.1">
          <h4 id="name-message-statusrequest">
<a href="#section-10.9.1" class="section-number selfRef">10.9.1. </a><a href="#name-message-statusrequest" class="section-name selfRef">Message: StatusRequest</a>
          </h4>
<dl class="dlParallel" id="section-10.9.1-1">
            <dt id="section-10.9.1-1.1">Inherits: MeshRequestUser  </dt>
<dd id="section-10.9.1-1.2"><a href="#section-10.9.1-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.9.1-1.3">DeviceUDF: String (Optional) </dt>
<dd id="section-10.9.1-1.4"><a href="#section-10.9.1-1.4" class="pilcrow">¶</a>
</dd>
<dt id="section-10.9.1-1.5">ProfileMasterDigest: Binary (Optional) </dt>
<dd id="section-10.9.1-1.6"><a href="#section-10.9.1-1.6" class="pilcrow">¶</a>
</dd>
<dt id="section-10.9.1-1.7">Catalogs: String [0..Many] </dt>
<dd id="section-10.9.1-1.8"><a href="#section-10.9.1-1.8" class="pilcrow">¶</a>
</dd>
<dt id="section-10.9.1-1.9">Spools: String [0..Many]  </dt>
<dd id="section-10.9.1-1.10"><a href="#section-10.9.1-1.10" class="pilcrow">¶</a>
</dd>
</dl>
</section>
</div>
<div id="n-message-statusresponse-">
<section id="section-10.9.2">
          <h4 id="name-message-statusresponse">
<a href="#section-10.9.2" class="section-number selfRef">10.9.2. </a><a href="#name-message-statusresponse" class="section-name selfRef">Message: StatusResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.9.2-1">
            <dt id="section-10.9.2-1.1">Inherits: MeshResponse  </dt>
<dd id="section-10.9.2-1.2"><a href="#section-10.9.2-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.9.2-1.3">EnvelopedProfileMaster: DareEnvelope (Optional) </dt>
<dd id="section-10.9.2-1.4">
              <p id="section-10.9.2-1.4.1">The master profile that provides the root of trust for this Mesh<a href="#section-10.9.2-1.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.9.2-1.5">EnvelopedCatalogEntryDevice: DareEnvelope (Optional) </dt>
<dd id="section-10.9.2-1.6">
              <p id="section-10.9.2-1.6.1">The catalog device entry<a href="#section-10.9.2-1.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.9.2-1.7">ContainerStatus: ContainerStatus [0..Many]  </dt>
<dd id="section-10.9.2-1.8"><a href="#section-10.9.2-1.8" class="pilcrow">¶</a>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-transaction-download-">
<section id="section-10.10">
        <h3 id="name-transaction-download">
<a href="#section-10.10" class="section-number selfRef">10.10. </a><a href="#name-transaction-download" class="section-name selfRef">Transaction: Download</a>
        </h3>
<dl class="dlParallel" id="section-10.10-1">
          <dt id="section-10.10-1.1">Request: DownloadRequest </dt>
<dd id="section-10.10-1.2"><a href="#section-10.10-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.10-1.3">Response: DownloadResponse  </dt>
<dd id="section-10.10-1.4"><a href="#section-10.10-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.10-2">Request objects from the specified container with the specified search criteria.<a href="#section-10.10-2" class="pilcrow">¶</a></p>
<div id="n-message-downloadrequest-">
<section id="section-10.10.1">
          <h4 id="name-message-downloadrequest">
<a href="#section-10.10.1" class="section-number selfRef">10.10.1. </a><a href="#name-message-downloadrequest" class="section-name selfRef">Message: DownloadRequest</a>
          </h4>
<dl class="dlParallel" id="section-10.10.1-1">
            <dt id="section-10.10.1-1.1">Inherits: MeshRequestUser  </dt>
<dd id="section-10.10.1-1.2"><a href="#section-10.10.1-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.10.1-2">Request objects from the specified container(s).<a href="#section-10.10.1-2" class="pilcrow">¶</a></p>
<p id="section-10.10.1-3">A client MAY request only objects matching specified search criteria be returned and MAY request that only specific fields or parts of the  payload be returned.<a href="#section-10.10.1-3" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.10.1-4">
            <dt id="section-10.10.1-4.1">Select: ConstraintsSelect [0..Many] </dt>
<dd id="section-10.10.1-4.2">
              <p id="section-10.10.1-4.2.1">Specifies constraints to be applied to a search result. These  allow a client to limit the number of records returned, the quantity of data returned, the earliest and latest data returned, etc.<a href="#section-10.10.1-4.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.10.1-4.3">ConstraintsPost: ConstraintsData (Optional) </dt>
<dd id="section-10.10.1-4.4">
              <p id="section-10.10.1-4.4.1">Specifies the data constraints to be applied to the responses.<a href="#section-10.10.1-4.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-message-downloadresponse-">
<section id="section-10.10.2">
          <h4 id="name-message-downloadresponse">
<a href="#section-10.10.2" class="section-number selfRef">10.10.2. </a><a href="#name-message-downloadresponse" class="section-name selfRef">Message: DownloadResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.10.2-1">
            <dt id="section-10.10.2-1.1">Inherits: MeshResponse  </dt>
<dd id="section-10.10.2-1.2"><a href="#section-10.10.2-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.10.2-2">Return the set of objects requested.<a href="#section-10.10.2-2" class="pilcrow">¶</a></p>
<p id="section-10.10.2-3">Services SHOULD NOT return a response that is disproportionately large relative to the speed of the network connection without a clear indication from the client that it is relevant. A service MAY limit the number of  objects returned. A service MAY limit the scope of each response.<a href="#section-10.10.2-3" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.10.2-4">
            <dt id="section-10.10.2-4.1">Updates: ContainerUpdate [0..Many] </dt>
<dd id="section-10.10.2-4.2">
              <p id="section-10.10.2-4.2.1">The updated data<a href="#section-10.10.2-4.2.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-transaction-upload-">
<section id="section-10.11">
        <h3 id="name-transaction-upload">
<a href="#section-10.11" class="section-number selfRef">10.11. </a><a href="#name-transaction-upload" class="section-name selfRef">Transaction: Upload</a>
        </h3>
<dl class="dlParallel" id="section-10.11-1">
          <dt id="section-10.11-1.1">Request: UploadRequest </dt>
<dd id="section-10.11-1.2"><a href="#section-10.11-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.11-1.3">Response: UploadResponse  </dt>
<dd id="section-10.11-1.4"><a href="#section-10.11-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.11-2">Request objects from the specified container with the specified search criteria.<a href="#section-10.11-2" class="pilcrow">¶</a></p>
<div id="n-message-uploadrequest-">
<section id="section-10.11.1">
          <h4 id="name-message-uploadrequest">
<a href="#section-10.11.1" class="section-number selfRef">10.11.1. </a><a href="#name-message-uploadrequest" class="section-name selfRef">Message: UploadRequest</a>
          </h4>
<dl class="dlParallel" id="section-10.11.1-1">
            <dt id="section-10.11.1-1.1">Inherits: MeshRequestUser  </dt>
<dd id="section-10.11.1-1.2"><a href="#section-10.11.1-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.11.1-2">Upload entries to a container. This request is only valid if it is issued by the owner of the account<a href="#section-10.11.1-2" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.11.1-3">
            <dt id="section-10.11.1-3.1">Updates: ContainerUpdate [0..Many] </dt>
<dd id="section-10.11.1-3.2">
              <p id="section-10.11.1-3.2.1">The data to be updated<a href="#section-10.11.1-3.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.11.1-3.3">Self: DareEnvelope [0..Many] </dt>
<dd id="section-10.11.1-3.4">
              <p id="section-10.11.1-3.4.1">Entries to be added to the inbound spool on the account, e.g. completion messages.<a href="#section-10.11.1-3.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-message-uploadresponse-">
<section id="section-10.11.2">
          <h4 id="name-message-uploadresponse">
<a href="#section-10.11.2" class="section-number selfRef">10.11.2. </a><a href="#name-message-uploadresponse" class="section-name selfRef">Message: UploadResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.11.2-1">
            <dt id="section-10.11.2-1.1">Inherits: MeshResponse  </dt>
<dd id="section-10.11.2-1.2"><a href="#section-10.11.2-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.11.2-2">Response to an upload request.<a href="#section-10.11.2-2" class="pilcrow">¶</a></p>
<dl class="dlParallel" id="section-10.11.2-3">
            <dt id="section-10.11.2-3.1">Entries: EntryResponse [0..Many] </dt>
<dd id="section-10.11.2-3.2">
              <p id="section-10.11.2-3.2.1">The responses to the entries.<a href="#section-10.11.2-3.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.11.2-3.3">ConstraintsData: ConstraintsData (Optional) </dt>
<dd id="section-10.11.2-3.4">
              <p id="section-10.11.2-3.4.1">If the upload request contains redacted entries, specifies constraints  that apply to the redacted entries as a group. Thus the total payloads of all the messages must not exceed the specified value.<a href="#section-10.11.2-3.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-structure-entryresponse-">
<section id="section-10.11.3">
          <h4 id="name-structure-entryresponse">
<a href="#section-10.11.3" class="section-number selfRef">10.11.3. </a><a href="#name-structure-entryresponse" class="section-name selfRef">Structure: EntryResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.11.3-1">
            <dt id="section-10.11.3-1.1">IndexRequest: Integer (Optional) </dt>
<dd id="section-10.11.3-1.2">
              <p id="section-10.11.3-1.2.1">The index value of the entry in the request.<a href="#section-10.11.3-1.2.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.11.3-1.3">IndexContainer: Integer (Optional) </dt>
<dd id="section-10.11.3-1.4">
              <p id="section-10.11.3-1.4.1">The index value assigned to the entry in the container.<a href="#section-10.11.3-1.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.11.3-1.5">Result: String (Optional) </dt>
<dd id="section-10.11.3-1.6">
              <p id="section-10.11.3-1.6.1">Specifies the result of attempting to add the entry to a catalog or spool. Valid values for a message are 'Accept', 'Reject'. Valid  values for an entry are 'Accept', 'Reject' and 'Conflict'.<a href="#section-10.11.3-1.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.11.3-1.7">ConstraintsData: ConstraintsData (Optional) </dt>
<dd id="section-10.11.3-1.8">
              <p id="section-10.11.3-1.8.1">If the entry was redacted, specifies constraints  that apply to the redacted entries as a group. Thus the total payloads of all the messages must not exceed the specified value.<a href="#section-10.11.3-1.8.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
</section>
</div>
<div id="n-transaction-post-">
<section id="section-10.12">
        <h3 id="name-transaction-post">
<a href="#section-10.12" class="section-number selfRef">10.12. </a><a href="#name-transaction-post" class="section-name selfRef">Transaction: Post</a>
        </h3>
<dl class="dlParallel" id="section-10.12-1">
          <dt id="section-10.12-1.1">Request: PostRequest </dt>
<dd id="section-10.12-1.2"><a href="#section-10.12-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.12-1.3">Response: PostResponse  </dt>
<dd id="section-10.12-1.4"><a href="#section-10.12-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.12-2">Request to post to a spool from an external party. The request and response messages are extensions of the corresponding messages for the Upload transaction. It is expected that additional fields will be added as the need arises.<a href="#section-10.12-2" class="pilcrow">¶</a></p>
<div id="n-message-postrequest-">
<section id="section-10.12.1">
          <h4 id="name-message-postrequest">
<a href="#section-10.12.1" class="section-number selfRef">10.12.1. </a><a href="#name-message-postrequest" class="section-name selfRef">Message: PostRequest</a>
          </h4>
<dl class="dlParallel" id="section-10.12.1-1">
            <dt id="section-10.12.1-1.1">Inherits: MeshRequest  </dt>
<dd id="section-10.12.1-1.2"><a href="#section-10.12.1-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.12.1-1.3">Accounts: String [0..Many] </dt>
<dd id="section-10.12.1-1.4">
              <p id="section-10.12.1-1.4.1">The account(s) to which the request is directed.<a href="#section-10.12.1-1.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.12.1-1.5">Message: DareEnvelope [0..Many] </dt>
<dd id="section-10.12.1-1.6">
              <p id="section-10.12.1-1.6.1">The entries to be uploaded. These MAY be either complete messages or redacted messages. In either case, the messages MUST conform to the ConstraintsUpdate specified by the  service<a href="#section-10.12.1-1.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.12.1-1.7">Self: DareEnvelope [0..Many] </dt>
<dd id="section-10.12.1-1.8">
              <p id="section-10.12.1-1.8.1">Messages to be appended to the user's self spool. this is typically used to post notifications to the user to mark messages as having been read or responded to.<a href="#section-10.12.1-1.8.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-message-postresponse-">
<section id="section-10.12.2">
          <h4 id="name-message-postresponse">
<a href="#section-10.12.2" class="section-number selfRef">10.12.2. </a><a href="#name-message-postresponse" class="section-name selfRef">Message: PostResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.12.2-1">
            <dt id="section-10.12.2-1.1">Inherits: UploadResponse  </dt>
<dd id="section-10.12.2-1.2"><a href="#section-10.12.2-1.2" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.12.2-2">[No fields]<a href="#section-10.12.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="n-transaction-connect-">
<section id="section-10.13">
        <h3 id="name-transaction-connect">
<a href="#section-10.13" class="section-number selfRef">10.13. </a><a href="#name-transaction-connect" class="section-name selfRef">Transaction: Connect</a>
        </h3>
<dl class="dlParallel" id="section-10.13-1">
          <dt id="section-10.13-1.1">Request: ConnectRequest </dt>
<dd id="section-10.13-1.2"><a href="#section-10.13-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.13-1.3">Response: ConnectResponse  </dt>
<dd id="section-10.13-1.4"><a href="#section-10.13-1.4" class="pilcrow">¶</a>
</dd>
</dl>
<p id="section-10.13-2">Request information necessary to begin making a connection request.<a href="#section-10.13-2" class="pilcrow">¶</a></p>
<div id="n-message-connectrequest-">
<section id="section-10.13.1">
          <h4 id="name-message-connectrequest">
<a href="#section-10.13.1" class="section-number selfRef">10.13.1. </a><a href="#name-message-connectrequest" class="section-name selfRef">Message: ConnectRequest</a>
          </h4>
<dl class="dlParallel" id="section-10.13.1-1">
            <dt id="section-10.13.1-1.1">Inherits: MeshRequest  </dt>
<dd id="section-10.13.1-1.2"><a href="#section-10.13.1-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.13.1-1.3">MessageConnectionRequestClient: DareEnvelope (Optional) </dt>
<dd id="section-10.13.1-1.4">
              <p id="section-10.13.1-1.4.1">The connection request generated by the client<a href="#section-10.13.1-1.4.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
<div id="n-message-connectresponse-">
<section id="section-10.13.2">
          <h4 id="name-message-connectresponse">
<a href="#section-10.13.2" class="section-number selfRef">10.13.2. </a><a href="#name-message-connectresponse" class="section-name selfRef">Message: ConnectResponse</a>
          </h4>
<dl class="dlParallel" id="section-10.13.2-1">
            <dt id="section-10.13.2-1.1">Inherits: MeshResponse  </dt>
<dd id="section-10.13.2-1.2"><a href="#section-10.13.2-1.2" class="pilcrow">¶</a>
</dd>
<dt id="section-10.13.2-1.3">EnvelopedConnectionResponse: DareEnvelope (Optional) </dt>
<dd id="section-10.13.2-1.4">
              <p id="section-10.13.2-1.4.1">The connection request generated by the client<a href="#section-10.13.2-1.4.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.13.2-1.5">EnvelopedProfileMaster: DareEnvelope (Optional) </dt>
<dd id="section-10.13.2-1.6">
              <p id="section-10.13.2-1.6.1">The master profile that provides the root of trust for this Mesh<a href="#section-10.13.2-1.6.1" class="pilcrow">¶</a></p>
</dd>
<dt id="section-10.13.2-1.7">EnvelopedAccountAssertion: DareEnvelope (Optional) </dt>
<dd id="section-10.13.2-1.8">
              <p id="section-10.13.2-1.8.1">The current account assertion<a href="#section-10.13.2-1.8.1" class="pilcrow">¶</a></p>
</dd>
</dl>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="n-security-considerations">
<section id="section-11">
      <h2 id="name-security-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-11-1">The security considerations for use and implementation of Mesh services and applications are described in the Mesh Security Considerations guide <span>[<a href="#draft-hallambaker-mesh-security" class="xref">draft-hallambaker-mesh-security</a>]</span>.<a href="#section-11-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-iana-considerations">
<section id="section-12">
      <h2 id="name-iana-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-12-1">All the IANA considerations for the Mesh documents are specified in this document<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="n-acknowledgements">
<section id="section-13">
      <h2 id="name-acknowledgements">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-13-1">A list of people who have contributed to the design of the Mesh is presented in <span>[<a href="#draft-hallambaker-mesh-architecture" class="xref">draft-hallambaker-mesh-architecture</a>]</span>.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-14">
      <h2 id="name-normative-references">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="draft-hallambaker-mesh-architecture">[draft-hallambaker-mesh-architecture]</dt>
<dd>
<span class="refAuthor">Hallam-Baker, P.</span>, <span class="refTitle">"Mathematical Mesh 3.0 Part I: Architecture Guide"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-hallambaker-mesh-architecture-12</span>, <time datetime="2020-01-16">16 January 2020</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-hallambaker-mesh-architecture-12">https://tools.ietf.org/html/draft-hallambaker-mesh-architecture-12</a>&gt;</span>. </dd>
<dt id="draft-hallambaker-mesh-security">[draft-hallambaker-mesh-security]</dt>
<dd>
<span class="refAuthor">Hallam-Baker, P.</span>, <span class="refTitle">"Mathematical Mesh 3.0 Part VII: Security Considerations"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-hallambaker-mesh-security-02</span>, <time datetime="2019-10-23">23 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-hallambaker-mesh-security-02">https://tools.ietf.org/html/draft-hallambaker-mesh-security-02</a>&gt;</span>. </dd>
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dt id="RFC3339">[RFC3339]</dt>
<dd>
<span class="refAuthor">Klyne, G.</span><span class="refAuthor"> and C. Newman</span>, <span class="refTitle">"Date and Time on the Internet: Timestamps"</span>, <span class="seriesInfo">RFC 3339</span>, <span class="seriesInfo">DOI 10.17487/RFC3339</span>, <time datetime="2002-07">July 2002</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3339">https://www.rfc-editor.org/rfc/rfc3339</a>&gt;</span>. </dd>
<dt id="RFC4648">[RFC4648]</dt>
<dd>
<span class="refAuthor">Josefsson, S.</span>, <span class="refTitle">"The Base16, Base32, and Base64 Data Encodings"</span>, <span class="seriesInfo">RFC 4648</span>, <span class="seriesInfo">DOI 10.17487/RFC4648</span>, <time datetime="2006-10">October 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc4648">https://www.rfc-editor.org/rfc/rfc4648</a>&gt;</span>. </dd>
<dt id="RFC7230">[RFC7230]</dt>
<dd>
<span class="refAuthor">Fielding, R.</span><span class="refAuthor"> and J. Reschke</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing"</span>, <span class="seriesInfo">RFC 7230</span>, <span class="seriesInfo">DOI 10.17487/RFC7230</span>, <time datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7230">https://www.rfc-editor.org/rfc/rfc7230</a>&gt;</span>. </dd>
<dt id="RFC8446">[RFC8446]</dt>
<dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.3"</span>, <span class="seriesInfo">RFC 8446</span>, <span class="seriesInfo">DOI 10.17487/RFC8446</span>, <time datetime="2018-08">August 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8446">https://www.rfc-editor.org/rfc/rfc8446</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-15">
      <h2 id="name-informative-references">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="draft-hallambaker-mesh-developer">[draft-hallambaker-mesh-developer]</dt>
<dd>
<span class="refAuthor">Hallam-Baker, P.</span>, <span class="refTitle">"Mathematical Mesh: Reference Implementation"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-hallambaker-mesh-developer-09</span>, <time datetime="2019-10-23">23 October 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-hallambaker-mesh-developer-09">https://tools.ietf.org/html/draft-hallambaker-mesh-developer-09</a>&gt;</span>. </dd>
<dt id="ECMA-262">[ECMA-262]</dt>
<dd>
<span class="refAuthor">Ecma International</span>, <span class="refTitle">"ECMAScript(R) 2017 Language Specification"</span>, <time datetime="2017-06">June 2017</time>. </dd>
</dl>
</section>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>
</body>
</html>
