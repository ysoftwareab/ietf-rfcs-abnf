<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang=""><head><title>DECoupled Application Data
    Enroute (DECADE) Problem Statement</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="DECoupled Application Data
    Enroute (DECADE) Problem Statement">
<meta name="keywords" content="In-network storage, P2P">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">H. Song</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">N. Zong</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Huawei</td></tr>
<tr><td class="header">Expires: April 19, 2010</td><td class="header">Y. Yang</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Alimi</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Yale University</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">October 16, 2009</td></tr>
</table></td></tr></table>
<h1><br />DECoupled Application Data
    Enroute (DECADE) Problem Statement<br />draft-song-decade-problem-statement-00</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on April 19, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>Peer-to-peer (P2P) applications have become widely used on the
      Internet today and make up a large portion of the traffic in many
      networks. In P2P applications, one technique for reducing the total
      amount of P2P traffic is to introduce storage capabilities within the
      network. Traditional caches (e.g., P2P and Web caches) provide such
      storage, but they are complex (due to explicitly supporting individual
      P2P application protocols) and they do not allow users to manage access
      to content in the cache. For example, Content Providers cannot easily
      control access and resource usage policies to satisfy their own
      requirements. This document discusses the introduction of in-network
      storage for P2P applications, shows the need for a standard protocol for
      accessing this storage, and identifies the scope of this protocol.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Terminology and Concepts<br />
<a href="#anchor3">3.</a>&nbsp;
The Problems<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
P2P infrastructural stress and inefficiency<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
P2P cache: a complex in-network storage<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.3.</a>&nbsp;
Ineffective integration of P2P applications and in-network storage<br />
<a href="#in-network-storage-capability">4.</a>&nbsp;
DECADE as an In-network Storage Capability<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">4.1.</a>&nbsp;
Data access<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.2.</a>&nbsp;
Authorization<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">4.3.</a>&nbsp;
Resource control<br />
<a href="#anchor10">5.</a>&nbsp;
Usage Scenarios<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#BitTorrent">5.1.</a>&nbsp;
BitTorrent<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.2.</a>&nbsp;
Content Publisher<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">5.3.</a>&nbsp;
Data Transfer Scenarios<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">5.3.1.</a>&nbsp;
Both Sender and Receiver Accounts are Used<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">5.3.2.</a>&nbsp;
Only Sender's Storage Account is Used<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">5.3.3.</a>&nbsp;
Only Receiver's Storage Account is Used<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">5.3.4.</a>&nbsp;
No Storage Accounts are Used<br />
<a href="#anchor17">6.</a>&nbsp;
Security Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">6.1.</a>&nbsp;
Denial of Service attack<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">6.2.</a>&nbsp;
Copyright and Legal issues<br />
<a href="#anchor20">7.</a>&nbsp;
IANA Considerations <br />
<a href="#anchor21">8.</a>&nbsp;
Acknowledgments<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>P2P applications, including both P2P streaming and P2P filesharing
      applications, make up a large fraction of the traffic in many Internet
      networks today. One way to reduce bandwidth usage by P2P applications is
      to introduce storage capabilities in the networks. Allowing P2P
      applications to store and retrieve data from inside networks can reduce
      traffic on the last-mile uplink, as well as backbone and transit links
      <a class='info' href='#I-D.weaver-alto-edge-caches'>[I&#8209;D.weaver&#8209;alto&#8209;edge&#8209;caches]<span> (</span><span class='info'>Weaver, N., &ldquo;Peer to Peer Localization Services and Edge Caches,&rdquo; March&nbsp;2009.</span><span>)</span></a>.
</p>
<p>P2P caches provide in-network storage and have been deployed in some
      networks. But the current P2P caching architecture poses challenges to
      both P2P cache vendors and P2P application developers. For P2P cache
      vendors, it is challenging to support a number of continuously evolving
      P2P application protocols, due to lack of documentation, ongoing
      protocol changes, and rapid introduction of new features by P2P
      applications. For P2P applications, closed P2P caching systems limit P2P
      applications to effectively utilize in-network storage. In particular,
      P2P caches typically do not allow users to explicitly store content into
      in-network storage. Neither do they allow users to implement controlover
      the content that have have placed into the in-network storage.
</p>
<p>Both of these challenges can be effectively addressed by using an
      open, standard protocol to access in-network storage. P2P applications
      can store and retrieve content in the in-network storage, as well as
      control resources (e.g., bandwidth, connections) consumed by peers in a
      P2P application. As a simple example, a peer of a P2P application may
      upload to other peers through its in-network storage, saving its usage
      of last-mile uplink bandwidth.
</p>
<p>In this document, we distinguish between two functional components of
      the native P2P application protocol: signaling and data transport.
      Signaling includes operations such as handshaking and discovering peer
      and content availability. The data transport component transfers content
      from one peer to another.
</p>
<p>With DECADE, P2P applications can still use their native protocols
      for signaling and data transport. However, they may use a standard
      protocol for data transport incorporating in-network storage, and fall
      back to their native data transport protocols if in-network storage is
      not available or not used.
</p>
<p>In essence, an open, standard protocol to access in-network storage
      provides an alternative mechanism for P2P application data transport
      that is decoupled from P2P application control and signaling. This
      decoupling leads to many advantages, which is explained further in <a class='info' href='#in-network-storage-capability'>Section&nbsp;4<span> (</span><span class='info'>DECADE as an In-network Storage Capability</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology and Concepts</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>The following terms have special meaning in the definition of the
      in-network storage system. </p>
<blockquote class="text">
<p>In-network Storage: A service inside a network that provides
          storage and bandwidth to network applications. In-network storage
          may reduce upload/transit/backbone traffic and improve network
          application performance.
</p>
<p>P2P Cache (Peer to Peer Cache): a kind of in-network storage that
          understands the signaling and transport of specific P2P application
          protocols.
</p>
<p>IAP (In-network storage Access Protocol): a standard protocol
          that is spoken between P2P applications and in-network storage. The
          protocol may also be used between entities implementing the
          in-network storage service.
</p>
<p>Content Publisher: An entity that originates content to
          consumers.
</p>
</blockquote>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
The Problems</h3>

<p>The emergence of peer-to-peer (P2P) as a major type of network
      applications (esp. P2P file sharing and streaming apps) has led to
      substantial opportunities. The P2P paradigm can be utilized in designing
      highly scalable and robust applications at low cost, compared with
      traditional client-server paradigms. For example, CNN [CNN] reported
      that P2P streaming by Octoshape played a major role in its distribution
      of the historical inauguration address of President Obama. PPLive, one
      of the largest P2P streaming vendors, is able to distribute large-scale,
      live streaming programs to more than 2 million users with only a handful
      of servers.
</p>
<p>However, P2P applications also face substantial design challenges. A
      particular problem facing P2P applications is the substantial stress
      that they place on the network infrastructure. Also, lacking of
      infrastructure support can lead to unstable P2P application performance
      during peer churns and flash crowd. Below we elaborate on the problems
      in more detail.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
P2P infrastructural stress and inefficiency</h3>

<p>A particular problem of the P2P paradigm is the stress that P2P
        application traffic places on the infrastructure of Internet service
        providers (ISP). Multiple measurements (e.g., [ipoque]) have shown
        that P2P traffic has become a major type of traffic on some networks.
        Furthermore, network-agnostic peering leads to unnecessary traversal
        across network domains or spanning the backbone of a network, leading
        to network inefficiency <a class='info' href='#I-D.ietf-alto-problem-statement'>[I&#8209;D.ietf&#8209;alto&#8209;problem&#8209;statement]<span> (</span><span class='info'>Seedorf, J. and E. Burger, &ldquo;Application-Layer Traffic Optimization (ALTO) Problem Statement,&rdquo; September&nbsp;2009.</span><span>)</span></a>.
</p>
<p>Recently, the IETF Application Layer Traffic Optimization (ALTO)
        Working Group is formed to provide P2P applications with network
        information so that they can perform better-than-random initial peer
        selection <a class='info' href='#I-D.ietf-alto-problem-statement'>[I&#8209;D.ietf&#8209;alto&#8209;problem&#8209;statement]<span> (</span><span class='info'>Seedorf, J. and E. Burger, &ldquo;Application-Layer Traffic Optimization (ALTO) Problem Statement,&rdquo; September&nbsp;2009.</span><span>)</span></a>.
        However, there are limitations on what ALTO can achieve alone. For
        example, network information alone cannot reduce P2P traffic in access
        networks, as the total access upload traffic is equal to the total
        access download traffic in a pure P2P system. On the other hand, it is
        reported that P2P traffic is becoming the dominating traffic on the
        access networks of some networks, reaching as high as 50-60% at the
        down-links and 60-90% at the uplinks (<a class='info' href='#DCIA'>[DCIA]<span> (</span><span class='info'>http://www.dcia.info, &ldquo;Distributed Computing Industry Association,&rdquo; .</span><span>)</span></a><a class='info' href='#ICNP'>,<span> (</span><span class='info'>Wu, H., &ldquo;Challenges and opportunities of Internet developments in           China, ICNP 2007 Keynote,&rdquo; Oct.&nbsp;2007.</span><span>)</span></a> [ICNP]<a class='info' href='#ipoque.P2P_survey.'>,<span> (</span><span class='info'>, &ldquo;Emerging Technologies Conference at MIT,&rdquo; Sept.&nbsp;2007.</span><span>)</span></a> [ipoque.P2P_survey.]<a class='info' href='#P2P_file_sharing'>,<span> (</span><span class='info'>Parker, A., &ldquo;The true picture of peer-to-peer filesharing,&rdquo; July&nbsp;2004.</span><span>)</span></a> [P2P_file_sharing]). Consequently, it becomes
        increasingly important to complement the ALTO effort and reduce upload
        access traffic, in addition to cross-domain and backbone traffic.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
P2P cache: a complex in-network storage</h3>

<p>An effective technique to reduce P2P infrastructural stress and
        inefficiency is to introduce in-network storage. For example, in <a class='info' href='#I-D.weaver-alto-edge-caches'>[I&#8209;D.weaver&#8209;alto&#8209;edge&#8209;caches]<span> (</span><span class='info'>Weaver, N., &ldquo;Peer to Peer Localization Services and Edge Caches,&rdquo; March&nbsp;2009.</span><span>)</span></a>, the author demonstrates
        clearly the potential benefits of introducing in-network storage to
        improve network efficiency and thus reduce network infrastructure
        stress.
</p>
<p>In the current Internet, in-network storage is introduced as P2P
        caches, either transparently or explicitly as a P2P peer. To provide
        service to a specific P2P application, the P2P cache server must
        support the specific signaling and transport protocols of the specific
        P2P application. This can lead to substantial complexity.
</p>
<p>First, there are multiple P2P applications on the Internet (e.g.,
        BitTorrent, eMule, Flashget, and Thunder for file sharing; Abacast,
        Kontiki, Octoshape, PPLive, PPStream, and UUSee for P2P streaming).
        Consequently, a P2P cache vendor faces the challenge of supporting a
        large number of P2P application protocols, leading to product
        complexity and increased development cost.
</p>
<p>Furthermore, a specific P2P application protocol may be evolving
        continuously, to add new features or fix bugs. This forces a P2P cache
        vendor to continuously update to track the changes of the P2P
        application, leading to product complexity, high cost, and low
        reliability.
</p>
<p>Third, many P2P applications use proprietary protocols or support
        end-to-end encryption. This can render P2P caches ineffective.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Ineffective integration of P2P applications and in-network storage</h3>

<p>As P2P applications evolve, it becomes increasingly clear that they
        will need in-network resources to provide positive user experiences.
        For example, multiple P2P streaming systems seek additional in-network
        resources during flash crowd, such as just before a major live
        streaming event. In asymmetric networks when the aggregated upload
        bandwidth of a channel cannot meet the download demand, a P2P
        application may seek additional in-network resources to maintain a
        stable system.
</p>
<p>A requirement by some P2P applications in using in-network
        infrastructural resources, however, is flexibility in implementing
        resource allocation policies. A major competitive advantage of many
        successful P2P systems is their substantial expertise in how to most
        efficiently utilize peer and infrastructural resources. For example,
        many live P2P systems have their specific algorithms in selecting the
        peers that should receive from the more stable, higher bandwidth
        sources. They continue to fine-tune such algorithms. In other words,
        in-network storage should export basic mechanisms and allow as much
        flexibility as possible to P2P applications to implement specific
        policies. This conforms to the end-to-end systems principle and allows
        innovation and satisfaction of specific business goals. Existing
        techniques for P2P application in-network storage lack these
        capabilities.
</p>
<a name="in-network-storage-capability"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
DECADE as an In-network Storage Capability</h3>

<p>The objective of this working group is to design DECADE, an
      in-network storage protocol to address the problems discussed in the
      preceding section.
</p>
<p>DECADE will provide access to storage and data transport services in
      the network to P2P applications to improve their efficiency and reduce
      the stress on the network infrastructure. Unlike the existing P2P
      caching architecture, DECADE is a standard interface for various P2P
      applications (both content publishers and end users) to access
      in-network storage. This decoupling of P2P data transport from P2P
      application control and signaling reduces the complexity of in-network
      storage services. Furthermore, DECADE provides basic access mechanisms
      and allows P2P applications to implement flexible policies to create an
      ecosystem for application innovation and various business goals.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                         IAP
                     -----------+
                     |          |
                     |          v
                +--------------------+
                | In-network Storage |
                +--------------------+
                  ^               ^
              IAP |           IAP |
    +-------------v-+           +-v-------------+
    | P2P           |           |  Content      |
    | application   |           |  publishers   |
    | clients       |           +---------------+
    +---------------+
     |             ^
     |             |
     +-------------+
     P2P application
     native protocol

Figure 1  Overview of protocol interaction between DECADE elements</pre></div>
<p>Specifically, the main component of DECADE is the in-network storage
      access protocol (IAP), which is a standard, P2P-application-agnostic
      protocol for different P2P applications to access in-network storage.
      IAP defines a set of commands that P2P application elements can issue to
      in-network storage to store and retrieve data. IAP includes the
      following functionalities:
</p>
<p>(1) Data access provides read/write by users (e.g., P2P application
      clients and content publishers) to the corresponding in-network storage
      and between entities implementing the in-network storage;
</p>
<p>(2) Authorization implements access control to resources provided by
      in-network storage;
</p>
<p>(3) Resource control allows users to implement application policies
      for the corresponding in-network storage.
</p>
<p>Note that DECADE is independent of current IETF work on P2P, e.g.
      P2PSIP, ALTO, PPSP. For example, peers discovered by either RELOAD or
      ALTO can all use DECADE to share data. DECADE will focus on the problems
      of P2P applications, although the solution might be used in other
      context.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Data access</h3>

<p>P2P application clients use the protocol to read data from an in-
        network storage, store data to an in-network storage, or remove data
        from an in-network storage. The data could be of various types.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Authorization</h3>

<p>In-network storage only permits the users with authorization to
        access the corresponding contents. The admission could be based on
        user, content, time period, etc.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Resource control</h3>

<p>A user uses the protocol to manage the resources on in-network
        storage that can be used by other peers, e.g., the bandwidth or
        connections.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Usage Scenarios</h3>

<p>Usage scenarios are described from two perspectives. First, we
      introduce high-level use cases showing how P2P applications may utilize
      in-network storage. Second, we show how in more detail how users
      exchange data using IAP.
</p>
<a name="BitTorrent"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
BitTorrent</h3>

<p>BitTorrent may be integrated with DECADE to be more network
        efficient and reduce the bandwidth consumed on ISP networks. When a
        BitTorrent client uploads a block to peers, the block traverses the
        last-mile uplink once for each peer. With DECADE, however, the
        BitTorrent client may upload the block to its in-network storage.
        Peers may retrieve the block from the in-network storage, reducing the
        amount of data on the last-mile uplink.
</p>
<p>We now describe in more detail how BitTorrent can utilize DECADE.
        For illustration, we assume that both the BitTorrent client (A) and
        its peer (B) utilize in-network storage. When A requests a block, it
        indicates that it would like the block stored in its in-network
        storage and provides the necessary access control. Instead of sending
        the 'piece' message with the desired block, peer B replies with a
        'redirect' message indicating that the content should be retrieved
        from its own in-network storage and provides the necessary access
        control. If the peer B had not previously stored the content in its
        in-network storage, it uploads the block. A downloads the block into
        its own in-network storage from B's in-network storage, and finally A
        itself retrieves the block.
</p>
<p>Note that this requires extensions to the BitTorrent protocol.
        While there are multiple ways to do so, this example assumes the
        native BitTorrent 'request' message is extended to carry additional
        information and that a new 'redirect' message is added. Upload and
        download to/from in-network storage uses the standard IAP
        protocol.
</p>
<p>This example has illustrated how utilizing DECADE can increase
        BitTorrent's network efficiency. First, notice that peer B does not
        utilize any uplink bandwidth if the block was already present in its
        in-network storage. Second, notice that the block is downloaded
        directly into A's in-network storage. When A wishes to share the block
        with another peer (say, peer C) that supports DECADE, it may upload
        directly from its in-network storage, again avoiding usage of the
        last-mile uplink.
</p>
<p>This technique can be applied to other P2P applications as well.
        Since P2P applications use a standard for communicating with
        in-network storage, they no longer require in-network storage to
        explicitly support their protocol. P2P applications retain the ability
        to explicitly manage which content is placed in in-network storage, as
        well as access and resource control polices.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Content Publisher</h3>

<p>Content Publishers may also utilize in-network storage. For
        example, consider a P2P live streaming application. A Content
        Publisher typically maintains a small number of sources, each of which
        distributes blocks in the current play buffer to a set of the P2P
        peers.
</p>
<p>Consider a case where the Content Publisher owns an in-network
        storage account within ISP A. If there are multiple P2P peers within
        ISP A, the Content Publisher may utilize DECADE to distribute content
        to the peers.
</p>
<p>First, the Content Publisher stores a block in the in-network
        storage, and then sends to each peer in ISP A the block's identifier
        and necessary access control. Second, each peer may then download from
        the Content Publisher's in-network storage.
</p>
<p>In this example, the block is distributed in a more network
        efficient way (the content only traverses the ISP's interdomain link
        once), while the Content Publisher retains explicit control over
        access to the content placed in its own storage. The Content Publisher
        can remove content from its in-network storage when it is stale or
        needs to be replaced, and grant access and resources to only the
        desired peers.
</p>
<p>Note that Content Publishers and individual peers can each use
        in-network storage. For example, after downloading content from the
        Content Publisher's in-network storage, peers may each utilize their
        own in-networks storage similar to the usage scenario in <a class='info' href='#BitTorrent'>Section&nbsp;5.1<span> (</span><span class='info'>BitTorrent</span><span>)</span></a>. This can have the benefit of increased
        network efficiency, while Content Publishers and peers still retain
        control over content placed in their own in-network storage.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Data Transfer Scenarios</h3>

<p>The previous usage scenarios have utilized the ability for peers to
        transfer data by storing and retrieving from in-network storage. This
        section describes in further detail an example solution of how DECADE
        can provide this capability.
</p>
<p>In this section, we consider the case of a user B (the receiver)
        requesting data from user A (the sender). We use Sa to denote User A's
        storage account, and Sb to denote User B's storage account. Each user
        independently decides if its in-network storage account is used, so
        there are four cases.
</p>
<p>When a user indicates that it wishes to use its in-network storage,
        it provides an access control token the other user. The token is sent
        using the application's protocol. To simplify the illustration, we
        omit details of the access control from the detailed scenarios
        below.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.1"></a><h3>5.3.1.&nbsp;
Both Sender and Receiver Accounts are Used</h3>

<p>This scenario is illustrated in Figure 2. B first requests an
          object from A using the application protocol indicating it wishes
          the object to be stored in Sb. A responds using the application
          protocol indicating that B should download the object from Sa. B
          sends a IAP request to Sb indicating that the object should be
          downloaded from Sa. Sb uses IAP to download from Sa, and finally, B
          downloads the object from Sb (also using IAP).
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      +-------+ IAP Get +-------+
      |  Sa   | &lt;-------+  Sb   |
      +-------+    4    +-------+
                            ^
                              \  3 IAP Get
             1 App request     \
   +-------+&lt;-------------------+-------+
   |User A |                    |User B |
   +-------+-------------------&gt;+-------+
             2 App response

Figure 2: Usage Scenario 1 (Sender and receiver Accounts used)</pre></div>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.2"></a><h3>5.3.2.&nbsp;
Only Sender's Storage Account is Used</h3>

<p>This scenario is illustrated in Figure 3. B requests an object
          from A using the application protocol. A responds using the
          application protocol indicating that B should download the object
          from Sa. Finally, B sends a IAP request to Sa to download the
          object.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
                     +-------+
                     |  Sa   |
                     +-------+
                             ^
                               \  3 IAP Get
              1 App request     \
    +-------+&lt;-------------------+-------+
    |User A |                    |User B |
    +-------+-------------------&gt;+-------+
              2 App response

Firgure 3: Usage Scenario 2 (Sender account used)</pre></div>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.3"></a><h3>5.3.3.&nbsp;
Only Receiver's Storage Account is Used</h3>

<p>This scenario is illustrated in Figure 4. B requests an object
          from A using the application protocol indicating that it wishes the
          object to be stored in Sb. A stores the object in Sb (using IAP),
          and responds to B (using the application protocol) that it should
          download from Sb. B uses IAP to download the object from Sb.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>                     +-------+
                   &gt; |  Sb   |
         3.       /  +-------+
      IAP Store /            ^
              /                \  3.IAP Get
            / 1.App request     \
    +-------+&lt;-------------------+-------+
    |User A |                    |User B |
    +-------+-------------------&gt;+-------+
              2.App response

Figure 4: Usage Scenario 3 (Receiver account used)</pre></div>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3.4"></a><h3>5.3.4.&nbsp;
No Storage Accounts are Used</h3>

<p>This scenario is illustrated in Figure 5. In this scenario, the
          application protocol is used directly to send data. This scenario
          applies with one of the peers does not support IAP, or neither of
          the peers are using in-network storage.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
               1.App request
     +-------+&lt;-------------------+-------+
     |User A |   ...   ...   ...  |User B |
     +-------+-------------------&gt;+-------+
               2.data transfer

Figure 5: Usage Scenario 4 ( No storage accounts used)</pre></div>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>There are multiple security considerations. We focus on two in this
      section.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Denial of Service attack</h3>

<p>Without access control or resource control, an attacker can try to
        consume a large portion of the in-network storage, or exhaust the
        connections of the in-network storage to commit a Denial of Service
        (DoS) attack. Thus, access control and resource control mechanisms are
        mandatory. A resource control mechanism should be used to allow a user
        to allocate the resource in its in-network storage account to be
        utilized by other clients.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Copyright and Legal issues</h3>

<p>Copyright and other laws may prevent the distribution of certain
        content in various localities. While in-network storage operators may
        adopt system-wide ingress or egress filters to implement necessary
        policies for storing or retrieving content, the specification and
        implementation of such policies (e.g., filtering and DRM) is outside
        of the scope of this working group.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations </h3>

<p>There is no IANA consideration with this document.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgments</h3>

<p>We would like to thank the following people for contributing to the
      discussion of this document:
</p>
<p>Kar Ann Chew
</p>
<p>Richard Woundy
</p>
<p>Yunfei Zhang
</p>
<p>Yu-shun Wang
</p>
<p>David Bryan
</p>
<p>Roni Even
</p>
<p>Yingjie Gu
</p>
<p>Hongqiang Law.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ipoque.com">[ipoque.com]</a></td>
<td class="author-text">&ldquo;http://www.ipoque.com/resources/internet-studies/internet-study-2008_2009.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-alto-problem-statement">[I-D.ietf-alto-problem-statement]</a></td>
<td class="author-text">Seedorf, J. and E. Burger, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-alto-problem-statement-04.txt">Application-Layer Traffic Optimization (ALTO) Problem Statement</a>,&rdquo; draft-ietf-alto-problem-statement-04 (work in progress), September&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-alto-problem-statement-04.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.weaver-alto-edge-caches">[I-D.weaver-alto-edge-caches]</a></td>
<td class="author-text">Weaver, N., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-weaver-alto-edge-caches-00.txt">Peer to Peer Localization Services and Edge Caches</a>,&rdquo; draft-weaver-alto-edge-caches-00 (work in progress), March&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-weaver-alto-edge-caches-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="DCIA">[DCIA]</a></td>
<td class="author-text">http://www.dcia.info, &ldquo;Distributed Computing Industry Association.&rdquo;</td></tr>
<tr><td class="author-text" valign="top"><a name="ipoque.P2P_survey.">[ipoque.P2P_survey.]</a></td>
<td class="author-text">&ldquo;Emerging Technologies Conference at MIT,&rdquo; Sept.&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="P2P_file_sharing">[P2P_file_sharing]</a></td>
<td class="author-text">Parker, A., &ldquo;The true picture of peer-to-peer filesharing,&rdquo; July&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="ICNP">[ICNP]</a></td>
<td class="author-text">Wu, H., &ldquo;Challenges and opportunities of Internet developments in
          China, ICNP 2007 Keynote,&rdquo; Oct.&nbsp;2007.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Song Haibin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Baixia Road No. 91</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nanjing, Jiangsu Province  210001</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R.China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86-25-84565867</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:melodysong@huawei.com">melodysong@huawei.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ning Zong</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Huawei</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Baixia Road No. 91</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nanjing, Jiangsu Province  210001</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">P.R.China</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+86-25-84565866</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:zongning@huawei.com">zongning@huawei.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Y. Richard Yang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yale University</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yry@cs.yale.edu">yry@cs.yale.edu</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Richard Alimi </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yale University</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:richard.alimi@yale.edu">richard.alimi@yale.edu</a></td></tr>
</table>
</body></html>
