<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Anonymity Support for Kerberos</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Anonymity Support for Kerberos">
<meta name="keywords" content="Internet-Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">NETWORK WORKING GROUP</td><td class="header">L. Zhu</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">P. Leach</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc4120'>4120</a>, <a href='http://tools.ietf.org/html/rfc4121 and 4556'>4121 and 4556</a></td><td class="header">Microsoft Corporation</td></tr>
<tr><td class="header">(if&nbsp;approved)</td><td class="header">S. Hartman</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Painless Security</td></tr>
<tr><td class="header">Expires: December 31, 2010</td><td class="header">June 29, 2010</td></tr>
</table></td></tr></table>
<h1><br />Anonymity Support for Kerberos<br />draft-ietf-krb-wg-anon-11</h1>

<h3>Abstract</h3>

<p>   This document defines extensions to the Kerberos protocol to allow
   a Kerberos client to securely communicate with a Kerberos application
   service without revealing its identity, or without revealing more
   than its Kerberos realm.  It also defines extensions which allow a
   Kerberos client to obtain anonymous credentials without revealing
   its identity to the Kerberos Key Distribution Center (KDC).  This
   document updates RFC 4120, RFC 4121, and RFC 4556.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on December 31, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<p>
This document may contain material from IETF Documents or IETF
Contributions published or made publicly available before November
10, 2008.  The person(s) controlling the copyright in some of this
material may not have granted the IETF Trust the right to allow
modifications of such material outside the IETF Standards Process.
Without obtaining an adequate license from the person(s) controlling
the copyright in such materials, this document may not be modified
outside the IETF Standards Process, and derivative works of it may
not be created outside the IETF Standards Process, except to format
it for publication as an RFC or to translate it into languages other
than English.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#introduction">1.</a>&nbsp;
Introduction<br />
<a href="#anchor1">2.</a>&nbsp;
Conventions Used in This Document<br />
<a href="#defs">3.</a>&nbsp;
Definitions<br />
<a href="#protodefs">4.</a>&nbsp;
Protocol Description<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#proto_as">4.1.</a>&nbsp;
Anonymity Support in AS Exchange<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">4.1.1.</a>&nbsp;
Anonymous PKINIT<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#proto_tgs">4.2.</a>&nbsp;
Anonymity Support in TGS Exchange<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">4.3.</a>&nbsp;
Subsequent Exchanges and Protocol Actions Common to AS and TGS for Anonymity Support<br />
<a href="#anchor4">5.</a>&nbsp;
Interoperability Requirements<br />
<a href="#anchor5">6.</a>&nbsp;
GSS-API Implementation Notes<br />
<a href="#anchor6">7.</a>&nbsp;
PKINIT Client Contribution to the Ticket Session Key<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#KRB-FX-CF2">7.1.</a>&nbsp;
Combinging Two protocol Keys<br />
<a href="#securityconsideration">8.</a>&nbsp;
Security Considerations<br />
<a href="#anchor7">9.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor8">10.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">11.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">11.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">11.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>In certain situations, the Kerberos <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> client may wish to
   authenticate a server and/or protect communications without 
   revealing the client's own identity. For example,
   consider an application which provides read access to a research
   database, and which permits queries by arbitrary requestors.  A
   client of such a service might wish to authenticate the service, to
   establish trust in the information received from it, but might not
   wish to disclose the client's identity to the service for privacy reasons.
</p>
<p> Extensions to Kerberos are specified in this document by which 
a client can authenticate the Key Distribution Center (KDC) and request an anonymous ticket.  The client can use the anonymous ticket to authenticate the server
and protect subsequent client-server communications. 
</p>
<p>By using the extensions defined in this specification, the client can
   request an anonymous ticket where the client may reveal the client's
   identity to the client's own KDC, or the client can hide the client's
   identity completely by using anonymous Public Key Cryptography for
   Initial Authentication in Kerberos (PKINIT) as defined in
   <a class='info' href='#proto_as'>Section&nbsp;4.1<span> (</span><span class='info'>Anonymity Support in AS Exchange</span><span>)</span></a>.  Using the returned anonymous ticket, the client remains
   anonymous in subsequent Kerberos exchanges thereafter to KDCs on the
   cross-realm authentication path, and to the server with which it
   communicates. 
</p>
<p>In this specification, the client realm in the anonymous ticket is
   the anonymous realm name when anonymous PKINIT is used to obtain the
   ticket.  The client realm is the client's real realm name if the
   client is authenticated using the client's long term keys.  Note that
   the membership of a realm can imply a member of the community
   represented by the realm.  
</p>
<p>The interaction with Generic Security Service Application Program
   Interface (GSS-API) is described after the protocol description.
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Conventions Used in This Document</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
    "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="defs"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Definitions</h3>

<p>The anonymous Kerberos realm name
is defined as a well-known realm name based on <a class='info' href='#KRBNAM'>[KRBNAM]<span> (</span><span class='info'>Zhu, L., &ldquo;Additional Kerberos Naming Constraints,&rdquo; 2008.</span><span>)</span></a>, and the value of this
well-known realm name is 
the literal "WELLKNOWN:ANONYMOUS".
</p>
<p> The anonymous Kerberos principal name is defined as a well-known Kerberos principal 
name based on <a class='info' href='#KRBNAM'>[KRBNAM]<span> (</span><span class='info'>Zhu, L., &ldquo;Additional Kerberos Naming Constraints,&rdquo; 2008.</span><span>)</span></a>. 
The value of the name-type field is KRB_NT_WELLKNOWN <a class='info' href='#KRBNAM'>[KRBNAM]<span> (</span><span class='info'>Zhu, L., &ldquo;Additional Kerberos Naming Constraints,&rdquo; 2008.</span><span>)</span></a>, and the value of 
the name-string field is a sequence of two KerberosString components: "WELLKNOWN", "ANONYMOUS".
</p>
<p> The anonymous ticket flag is defined as bit 16 (with the first bit being bit 0) in the TicketFlags:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
        TicketFlags     ::= KerberosFlags
          -- anonymous(16)
          -- TicketFlags and KerberosFlags are defined in [RFC4120]
</pre></div>
<p>This is a new ticket flag that is used to indicate a ticket is an anonymous one.
</p>
<p>An anonymous ticket is a ticket that has all of the following properties:
</p>
<p> </p>
<ul class="text">
<li>The cname field 
     contains the anonymous Kerberos principal name.<br />
<br />

</li>
<li> The crealm field contains the client's realm name or the anonymous realm name.<br />
<br />

</li>
<li> The anonymous ticket contains no information that can reveal the client's identity.  However
the ticket may contain the client realm, intermediate realms on the client's authentication path, and
authorization data that may provide information related to the client's identity. For example,
an anonymous principal that is identifiable only within a particular group of users 
can be implemented using authorization data and such authorization data, if included in the anonymous
ticket, would disclose the client's membership of that group.<br />
<br />
                                                 
     
</li>
<li> The anonymous ticket flag is set. 
</li>
</ul>

<p> The anonymous KDC option is defined as bit 16 (with the first bit being bit 0) in the KDCOptions:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
        KDCOptions      ::= KerberosFlags
          -- anonymous(16)
          -- KDCOptions and KerberosFlags are defined in [RFC4120]
</pre></div>
<p>As described in <a class='info' href='#protodefs'>Section&nbsp;4<span> (</span><span class='info'>Protocol Description</span><span>)</span></a>, the anonymous KDC option
is set to request an anonymous ticket in an Authentication Service (AS) request or an Ticket Granting Service (TGS) request.
</p>
<a name="protodefs"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Protocol Description</h3>

<p> In order to request an anonymous ticket, the client sets the anonymous KDC option
in an AS request or an TGS request.
</p>
<p>The rest of this section is organized as follows: it first describes protocol actions specific to 
 AS exchanges, then it describes those of TGS exchange.  These are then followed by the decription 
 of protocol actions common to both AS and TGS and those in
 subsequent exchanges.
</p>
<a name="proto_as"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Anonymity Support in AS Exchange</h3>

<p>The client requests an anonymous ticket by setting the anonymous KDC option
in an AS exchange.
</p>
<p>
   The Kerberos client can use the client's long term keys, or the client's X.509 certificates 
   <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>, or
    any other preauthenication data,  to
   authenticate to the KDC and requests an anonymous ticket in an AS
   exchange where the client's identity is known to the KDC.
 
</p>
<p>If the client in the AS request is anonymous, the anonymous KDC option MUST be set
in the request. Otherwise, the KDC MUST return a KRB-ERROR message with the code KDC_ERR_BADOPTION.
</p>
<p> If the client is anonymous and the KDC does not have a key to encrypt the reply (this can happen when, 
for example, the KDC does not support PKINIT <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>), 
the KDC MUST return an error message with the code KDC_ERR_NULL_KEY <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a>.
</p>
<p>When policy allows, the KDC issues an anonymous ticket. If the client name
in the request is the anonymous principal, the client realm (crealm) in the reply is the anonymous realm,
otherwise the client realm is the realm of the AS.
According to <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> the client name and the client realm in the EncTicketPart 
of the reply MUST match with the corresponding client name and the client realm
of the anonymous ticket in the reply; the client MUST use the client name and the client realm
returned in the KDC-REP in subsequent message exchanges when using the obtained anonymous ticket. 
</p>
<p> Care MUST be taken by the KDC not to reveal the client's identity in the authorization data of the returned ticket 
when populating the authorization data in a returned anonymous ticket.
</p>
<p>The AD-INITIAL-VERIFIED-CAS authorization data as defined in <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a> contains the issuer name of the client
 certificate. This authorization is not applicable and MUST NOT be present in the returned anonymous ticket  when anonymous PKINIT is used. When the client
 is authenticated (i.e. anonymous PKINIT is not used), if it is undesirable to disclose such information about the client's identity, the AD-INITIAL-VERIFIED-CAS authorization data SHOULD be
 removed from the returned anonymous ticket.
</p>
<p> The client can use the client keys to mutually authenticate with the KDC, 
request an anonymous TGT in the AS request. And in that case,
the reply key is selected as normal according to Section 3.1.3 of <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1.1"></a><h3>4.1.1.&nbsp;
Anonymous PKINIT</h3>

<p> This sub-section defines anonymity PKINIT. 
</p>
<p> As described earlier in this section, the client can request an anonymous ticket by authenticating to the KDC using the client's identity; 
alternatively without revealing the client's identity to the KDC, 
the Kerberos client can request an anonymous ticket as follows: 
the client sets the client name 
as the anonymous principal in the AS exchange and provides a
PA_PK_AS_REQ pre-authentication data <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a> where both the 
signerInfos field and the certificates field of the SignedData <a class='info' href='#RFC3852'>[RFC3852]<span> (</span><span class='info'>Housley, R., &ldquo;Cryptographic Message Syntax (CMS),&rdquo; July&nbsp;2004.</span><span>)</span></a> of the PA_PK_AS_REQ are 
empty. Because the anonymous client does not have an associated asymmetric key pair, 
the client MUST choose the Diffie-Hellman key agreement
 method by filling in the Diffie-Hellman domain parameters in the clientPublicValue <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>. This use of 
 the anonymous client name in conjunction with PKINIT is referred to as anonymous PKINIT. If anonymous PKINIT is used,
 the realm name in the returned anonymous ticket MUST be the anonymous realm.
</p>
<p>Upon receiving the anonymous PKINIT request from the client, 
the KDC processes the request according to Section 3.1.2 of <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a>.
The KDC skips the checks for the client's signature and the client's public key 
(such as the verification of the binding between the client's public key and the client name), but performs otherwise-applicable checks,
  and proceeds as normal according to <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>.
 For example, the AS MUST check if the client's Diffie-Hellman domain parameters are acceptable.  
The Diffie-Hellman key agreement method MUST be used and the reply key is derived according to
Section 3.2.3.1 of <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>. If the clientPublicValue is not present in the
request, the KDC MUST return a KRB-ERROR with the code KDC_ERR_PUBLIC_KEY_ENCRYPTION_NOT_SUPPORTED 
<a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>. If all goes well, an anonymous ticket is generated
according to Section 3.1.3 of <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> and a PA_PK_AS_REP <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a> pre-authentication data is
included in the KDC reply according to <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>. If the KDC 
does not have an asymmetric key pair, it MAY reply anonymously or reject the authentication attempt. If the KDC replies anonymously, both the 
signerInfos field and the certificates field of the SignedData <a class='info' href='#RFC3852'>[RFC3852]<span> (</span><span class='info'>Housley, R., &ldquo;Cryptographic Message Syntax (CMS),&rdquo; July&nbsp;2004.</span><span>)</span></a> of PA_PK_AS_REP in the reply are 
empty. The server name in the anonymous KDC reply contains the name of the TGS.
</p>
<p>Upon receipt of the KDC reply that contains an anonymous ticket and a PA_PK_AS_REP <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a> pre-authentication data, the client
can then authenticate the KDC based on the KDC's signature in the PA_PK_AS_REP.  
If the KDC's signature is missing in the KDC reply (the reply is anonymous), the client MUST reject the returned ticket if it cannot
authenticate the KDC otherwise.
</p>
<p>A KDC that supports anonymous PKINIT MUST indicate the support of PKINIT according to Section 3.4 of <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a>.
</p>
<p>Note that in order to obtain an anonymous ticket with the anonymous realm name,
 the client MUST set the client name as the anonymous principal in the request 
 when requesting an anonymous ticket in an AS exchange.
 Anonymity PKINIT is the only way via which an anonymous
   ticket with the anonymous realm as the client realm can be generated
   in this specification.

</p>
<a name="proto_tgs"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Anonymity Support in TGS Exchange</h3>

<p>The client requests an anonymous ticket by setting the anonymous KDC option
in a TGS exchange, and in that request the client can use a normal Ticket Granting
   Ticket (TGT) with the client's identity, or an anonymous TGT, or an anonymous cross realm TGT. If the
   client uses a normal TGT, the client's identity is known to the TGS. 
</p>
<p>Note that the client can completely hide the client's identity in an
   AS exchange using anonymous PKINIT as described in the previous
   section.

</p>
<p>If the ticket in the 
PA-TGS-REQ of the TGS request is an anonymous one, the anonymous KDC option MUST be set
in the request. Otherwise, the KDC MUST return a KRB-ERROR message with the code KDC_ERR_BADOPTION.
</p>
<p>When policy allows, the KDC issues an anonymous ticket.  If the
   ticket in the TGS request is an anonymous one, the client name and
   the client realm are copied from that ticket; otherwise the ticket in
   the TGS request is a normal ticket, the returned anonymous ticket
   contains the client name as the anonymous principal and the client
   realm as the true realm of the client.  In all cases, according to
   <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> the client name and the client realm in the EncTicketPart
   of the reply MUST match with the corresponding client name and the
   client realm of the anonymous ticket in the reply; the client MUST
   use the client name and the client realm returned in the KDC-REP in
   subsequent message exchanges when using the obtained anonymous
   ticket. 
</p>
<p>Care MUST be taken by the TGS not to reveal the client's identity in
   the authorization data of the returned ticket.  When propagating
   authorization data in the ticket or in the enc-authorization-data
   field of the request, the TGS MUST ensure that the client
   confidentiality is not violated in the returned anonymous ticket.
   The TGS MUST process the authorization data recursively according to
   Section 5.2.6 of <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> beyond the container levels such that all
   embedded authorization elements are interpreted.  The TGS SHOULD NOT
   populate identity-based authorization data into an anonymous ticket
   in that such authorization data typically reveals the client's
   identity.  The specification of a new authorization data type MUST
   specify the processing rules of the authorization data when an
   anonymous ticket is returned.  If there is no processing rule defined
   for an authorization data element or the authorization data element
   is unknown, the TGS MUST process it when an anonymous ticket is
   returned as follows: 
</p>
<p> </p>
<ul class="text">
<li>  If the authorization data element may reveal the client's
      identity, it MUST be removed unless otherwise specified.<br />
<br />

</li>
<li>  If the authorization data element, that could reveal's the client's identity.
   is intended to restrict the use
      of the ticket or limit the rights otherwise conveyed in the
      ticket, it cannot be removed in order to hide the client's
      identity.  In this case, the authentication attempt MUST be
      rejected, and the TGS MUST return an error message with the code
      KDC_ERR_POLICY. Note this is applicable to both critical and
      optional authorization data.<br />
<br />

</li>
<li>  If the authorization data element is unknown, the TGS MAY remove
      it, or transfer it into the returned anonymous ticket, or reject the
      authentication attempt, based on local policy for that
      authorization data type unless otherwise specified. If there is no policy defined
      for a given unknown authorization data type, the authentication MUST be rejected.  
      The error code is KDC_ERR_POLICY when the authentication is rejected.
</li>
</ul>

<p>The AD-INITIAL-VERIFIED-CAS authorization data as defined in <a class='info' href='#RFC4556'>[RFC4556]<span> (</span><span class='info'>Zhu, L. and B. Tung, &ldquo;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT),&rdquo; June&nbsp;2006.</span><span>)</span></a> contains the issuer name of the client
   certificate. If it is undesirable to disclose such information about the client's identity, the AD-INITIAL-VERIFIED-CAS authorization data SHOULD be
   removed from an anonymous ticket.
</p>
<p>The TGS encodes the name of the previous realm into the transited field according to Section 3.3.3.2 of 
<a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a>. Based on local policy, the TGS MAY omit the previous realm if the cross realm TGT is an anonymous one
in order to hide the authentication path of the client. The unordered set of realms in the transited field, if present, can reveal
which realm may potentially be the realm of the client or the realm that issued the anonymous TGT. The anonymous Kerberos realm name MUST
NOT be present in the transited field of a ticket. The true name of the realm that issued the anonymous ticket MAY
be present in the transited field of a ticket.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Subsequent Exchanges and Protocol Actions Common to AS and TGS for Anonymity Support</h3>

<p>In both AS and TGS exchanges, the realm field in the KDC request is
   always the realm of the target KDC, not the anonymous realm when the
   client requests an anonymous ticket.
</p>
<p>Absent other information the KDC MUST NOT include any identifier in the returned anonymous
   ticket that could reveal the client's identity to the server.
</p>
<p>Unless anonymous PKINIT is used, if a client requires anonymous
   communication then the client MUST check to make sure that the ticket
   in the reply is actually anonymous by checking the presence of the
   anonymous ticket flag in the flags field of the EncKDCRepPart.  This
   is because KDCs ignore unknown KDC options.  A KDC that does not
   understand the anonymous KDC option will not return an error, but
   will instead return a normal ticket.
</p>
<p>The subsequent client and server communications then proceed as described in <a class='info' href='#RFC4120'>[RFC4120]<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a>.
</p>
<p> Note that the anonymous principal name and realm 
are only applicable to the client in Kerberos messages, the server cannot be anonymous
in any Kerberos message per this specification.
</p>
<p>A server accepting an anonymous service ticket
may assume that subsequent requests using the same ticket 
originate from the same client. Requests with different tickets are 
likely to originate from different clients.
</p>
<p>Upon receipt of an anonymous ticket, the transited policy check is preformed in the same way as that of a normal ticket  if the client's realm
is not the anonymous realm;
if the client realm is the anonymous realm, absent other
   information any realm in the authentication path is allowed by the
   cross-realm policy check.

</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Interoperability Requirements</h3>

<p>Conforming implementations MUST support the anonymous principal with a non-anonymous realm, and
    they MAY support the anonymous principal with the anonymous realm using anonymous PKINIT.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
GSS-API Implementation Notes</h3>

<p>GSS-API defines the name_type GSS_C_NT_ANONYMOUS <a class='info' href='#RFC2743'>[RFC2743]<span> (</span><span class='info'>Linn, J., &ldquo;Generic Security Service Application Program Interface Version 2, Update 1,&rdquo; January&nbsp;2000.</span><span>)</span></a> to
   represent the anonymous identity.  In addition, Section 2.1.1 of
   <a class='info' href='#RFC1964'>[RFC1964]<span> (</span><span class='info'>Linn, J., &ldquo;The Kerberos Version 5 GSS-API Mechanism,&rdquo; June&nbsp;1996.</span><span>)</span></a> defines the single string representation of a Kerberos
   principal name with the name_type GSS_KRB5_NT_PRINCIPAL_NAME.  The
   anonymous principal with the anonymous realm corresponds to the GSS-
   API anonymous principal.  A principal with the anonymous principal
   name and a non-anonymous realm is an authenticated principal, hence
   such a principal does not correspond to the anonymous principal in
   GSS-API with the GSS_C_NT_ANONYMOUS name type.
   The <a class='info' href='#RFC1964'>[RFC1964]<span> (</span><span class='info'>Linn, J., &ldquo;The Kerberos Version 5 GSS-API Mechanism,&rdquo; June&nbsp;1996.</span><span>)</span></a> name syntax for 
GSS_KRB5_NT_PRINCIPAL_NAME MUST be used for importing the anonymous principal name with 
a non-anonymous realm name and for displaying and exporting these names.     In addition, this syntax must be used along with the name type
     GSS_C_NT_ANONYMOUS for displaying and exporting  the anonymous
     principal with the anonymous realm.

</p>
<p>At the GSS-API <a class='info' href='#RFC2743'>[RFC2743]<span> (</span><span class='info'>Linn, J., &ldquo;Generic Security Service Application Program Interface Version 2, Update 1,&rdquo; January&nbsp;2000.</span><span>)</span></a> level, an initiator/client requests the
use of an anonymous principal with the anonymous realm by asserting
the "anonymous" flag when calling GSS_Init_Sec_Context().  The
GSS-API implementation MAY provide implementation-specific
means for requesting the use of an anonymous principal with a
non-anonymous realm.
</p>
<p> GSS-API does not know or define "anonymous credentials", so the
(printable) name of the anonymous principal will rarely be used by or relevant for the initiator/client. 
The printable name is relevant for the acceptor/server when performing an authorization decision based 
on the initiator name that is returned from the acceptor side upon the successful security context establishment.
</p>
<p> A GSS-API initiator MUST carefully check the resulting context attributes from 
the initial call to GSS_Init_Sec_Context() when requesting anonymity, 
because (as in the GSS-API tradition and for backwards compatibility) 
anonymity is just another optional context attribute.  
It could be that the mechanism doesn't recognize the attribute at all or that 
anonymity is not available for some other reasons -- and in that case the initiator MUST NOT 
send the initial security context token to the acceptor, because it will likely reveal 
the initiators identity to the acceptor, something that can rarely be "un-done".
</p>
<p> Portable initiators are RECOMMENDED to use default credentials whenever possible, and 
request anonymity only through the input anon_req_flag <a class='info' href='#RFC2743'>[RFC2743]<span> (</span><span class='info'>Linn, J., &ldquo;Generic Security Service Application Program Interface Version 2, Update 1,&rdquo; January&nbsp;2000.</span><span>)</span></a> to GSS_Init_Sec_Context().
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
PKINIT Client Contribution to the Ticket Session Key</h3>

<p> The definition in this section was motivated by protocol analysis of
  anonymous PKINIT (defined in this document) in building 
  tunneling channels <a class='info' href='#FAST'>[FAST]<span> (</span><span class='info'>Zhu, L. and S. Hartman, &ldquo;A Generalized Framework for Kerberos Pre-Authentication,&rdquo; 2008.</span><span>)</span></a> and subsequent channel bindings.  In order
  to enable applications of anonymous PKINIT to form
  channels, all implementations of anonymous PKINIT need to meet the
  requirements of this section. There is otherwise no connection to the rest of this document. 
</p>
<p>PKINIT is useful for constructing
  tunneling channels.  To ensure that an attacker cannot create a
  channel with a given name, it is desirable that neither the KDC nor
  the client can unilaterally determine the ticket session key.  To
  achieve that end, a KDC conforming to this definition MUST encrypt a
  randomly generated key, called the KDC contribution key, in the
  PA_PKINIT_KX padata (defined next in this section).  The KDC contribution key is then combined with
  the reply key to form the ticket session key of the returned ticket.
  These two keys are then combined using the KRB-FX-CF2 operation defined
  in <a class='info' href='#KRB-FX-CF2'>Section&nbsp;7.1<span> (</span><span class='info'>Combinging Two protocol Keys</span><span>)</span></a>, where K1 is the KDC contribution key, K2 is the reply key,
  the input pepper1 is American Standard Code for Information
  Interchange (ASCII) [ASAX34] string "PKINIT", and the input pepper2
  is ASCII string "KeyExchange".
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PA_PKINIT_KX      147
  -- padata for PKINIT that contains an encrypted
  -- KDC contribution key.

PA-PKINIT-KX  ::= EncryptedData -- EncryptionKey
  -- Contains an encrypted key randomly
  -- generated by the KDC (known as the KDC contribution key).
  -- Both EncryptedData and EncryptionKey are defined in [RFC4120]
</pre></div>
<p>The PA_PKINIT_KX padata MUST be included in the KDC reply when
  anonymous PKINIT is used; it SHOULD be included if PKINIT is used
  with the Diffie-Hellman key exchange but the client is not
  anonymous; it MUST NOT be included otherwise (e.g. when PKINIT is
  used with the public key encryption as the key exchange).  
</p>
<p>The padata-value field of the PA-PKINIT-KX type padata contains the
  DER [X680] [X690] encoding of the Abstract Syntax Notation One
  (ASN.1) type PA-PKINIT-KX.  The PA-PKINIT-KX structure is a
  EncryptedData.  The clear text data being encrypted is the DER
  encoded KDC contribution  key randomly generated by the KDC.  The
  encryption key is the reply key and the key usage number is
  KEY_USAGE_PA_PKINIT_KX (44).   
</p>
<p>The client then decrypts the KDC contribution key and verifies
  the ticket session key in the returned ticket is the combined key 
  of the KDC contribution key and the reply key as described above. A conforming client MUST reject anonymous PKINIT authentication if
  the PA_PKINIT_KX padata is not present in the KDC reply or if the
  ticket session key of the returned ticket is not the combined key of
  the KDC contribution key and the reply key when PA-PKINIT-KX is
  present in the KDC reply.  
</p>
<a name="KRB-FX-CF2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Combinging Two protocol Keys</h3>

<p> KRB-FX-CF2()  combines two protocol keys based on the pseudo-random() function defined in <a class='info' href='#RFC3961'>[RFC3961]<span> (</span><span class='info'>Raeburn, K., &ldquo;Encryption and Checksum Specifications for Kerberos 5,&rdquo; February&nbsp;2005.</span><span>)</span></a>.
</p>
<p> Given two input keys, K1 and K2, where K1 and K2 can be of two different enctypes, the output
key of KRB-FX-CF2(), K3, is derived as follows:                                                    
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 KRB-FX-CF2(protocol key, protocol key, octet string,
           octet string)  -&gt;  (protocol key)

 PRF+(K1, pepper1) -&gt; octet-string-1
 PRF+(K2, pepper2) -&gt; octet-string-2
 KRB-FX-CF2(K1, K2, pepper1, pepper2) -&gt;
        random-to-key(octet-string-1 ^ octet-string-2)
</pre></div>
<p>Where ^ denotes the exclusive-OR operation.  PRF+() is defined as follows:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PRF+(protocol key, octet string) -&gt; (octet string)

PRF+(key, shared-info) -&gt; pseudo-random( key,  1 || shared-info ) ||
             pseudo-random( key, 2 || shared-info ) ||
             pseudo-random( key, 3 || shared-info ) || ...
</pre></div>
<p>Here the counter value 1, 2, 3 and so on are encoded as a one-octet integer.
The pseudo-random() operation is specified by the enctype of the protocol key. 
PRF+() uses the counter to generate enough bits as needed by the random-to-key() <a class='info' href='#RFC3961'>[RFC3961]<span> (</span><span class='info'>Raeburn, K., &ldquo;Encryption and Checksum Specifications for Kerberos 5,&rdquo; February&nbsp;2005.</span><span>)</span></a>
function for the encryption type specified for the resulting key;
unneeded bits are removed from the tail.
</p>
<a name="securityconsideration"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p> Since KDCs ignore unknown options, a client requiring anonymous communication
needs to make sure that the returned ticket is actually anonymous. This is because a KDC that
that does not understand the anonymous option would not return an anonymous ticket.
</p>
<p>
   By using the mechanism defined in this specification, the client does
   not reveal the client's identity to the server but the client
   identity may be revealed to the KDC of the server principal (when the
   server principal is in a different realm than that of the client),
   and any KDC on the cross-realm authentication path.  The Kerberos
   client MUST verify the ticket being used is indeed anonymous before
   communicating with the server, otherwise the client's identity may be
   revealed unintentionally.

</p>
<p>In cases where specific server principals must not have access to the client's identity 
(for example, an anonymous poll service), the KDC can define server principal specific policy
that insure any normal service ticket can NEVER be issued to any of these server principals.
</p>
<p>If the KDC that issued an anonymous ticket were to maintain 
records of the association of identities to an anonymous ticket, 
then someone obtaining such records could breach the anonymity.  
Additionally, the implementations of most (for now all) KDC's respond 
to requests at the time that they are received.  
Traffic analysis on the connection to the KDC will allow an attacker to 
match client identities to anonymous tickets issued.  
Because there are plaintext parts of the tickets that are exposed on the wire, 
such matching by a third party observer is relatively straightforward. A service
that is authenticated by the anonymous principals may be able to infer the identity of the client by examining and linking quasi-static protocol
 information such as the IP address from which a request is received, or by linking multiple uses of the same anonymous ticket.

</p>
<p>The client's real identity is not revealed when the client is authenticated as the anonymous principal. Application servers
MAY reject the authentication in order to, for example, prevent information disclosure or as part of Denial of Service (DOS) prevention. Application servers MUST avoid accepting anonymous credentials 
in situations where they must record the client's identity; for example, 
when there must be an audit trail.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>JK Jaganathan helped editing early revisions of this document.
</p>
<p> Clifford Neuman contributed the core notions of this document.
</p>
<p> Ken Raeburn reviewed the document and provided suggestions for improvements.
</p>
<p> Martin Rex wrote the text for GSS-API considerations.
</p>
<p> Nicolas Williams reviewed the GSS-API considerations section and suggested ideas for improvements.
</p>
<p> Sam Hartman and Nicolas Williams were great champions of this work.
</p>
<p>Miguel Garcia and Phillip Hallam-Baker reviewed the document and provided helpful suggestions.
</p>
<p>In addition, the following individuals made significant contributions: 
Jeffrey Altman, Tom Yu, Chaskiel M Grundman,
Love Hornquist Astrand, Jeffrey Hutzelman, and Olga Kornievskaia.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>This document defines a new 'anonymous' Kerberos well-known name and a new 'anonymous' Kerberos well-known realm based on <a class='info' href='#KRBNAM'>[KRBNAM]<span> (</span><span class='info'>Zhu, L., &ldquo;Additional Kerberos Naming Constraints,&rdquo; 2008.</span><span>)</span></a>. 
    IANA is requested to add these two values to the Kerberos naming registries that are created in <a class='info' href='#KRBNAM'>[KRBNAM]<span> (</span><span class='info'>Zhu, L., &ldquo;Additional Kerberos Naming Constraints,&rdquo; 2008.</span><span>)</span></a>. 
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="KRBNAM">[KRBNAM]</a></td>
<td class="author-text">Zhu, L., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-krb-wg-naming.txt">Additional Kerberos Naming Constraints</a>,&rdquo; draft-ietf-krb-wg-naming (work in progress), 2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1964">[RFC1964]</a></td>
<td class="author-text"><a href="mailto:John.Linn@ov.com">Linn, J.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1964">The Kerberos Version 5 GSS-API Mechanism</a>,&rdquo; RFC&nbsp;1964, June&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1964.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2743">[RFC2743]</a></td>
<td class="author-text"><a href="mailto:jlinn@rsasecurity.com">Linn, J.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2743">Generic Security Service Application Program Interface Version 2, Update 1</a>,&rdquo; RFC&nbsp;2743, January&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2743.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3852">[RFC3852]</a></td>
<td class="author-text">Housley, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3852">Cryptographic Message Syntax (CMS)</a>,&rdquo; RFC&nbsp;3852, July&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3852.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3961">[RFC3961]</a></td>
<td class="author-text">Raeburn, K., &ldquo;<a href="http://tools.ietf.org/html/rfc3961">Encryption and Checksum Specifications for Kerberos 5</a>,&rdquo; RFC&nbsp;3961, February&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3961.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4120">[RFC4120]</a></td>
<td class="author-text">Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;<a href="http://tools.ietf.org/html/rfc4120">The Kerberos Network Authentication Service (V5)</a>,&rdquo; RFC&nbsp;4120, July&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4120.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4556">[RFC4556]</a></td>
<td class="author-text">Zhu, L. and B. Tung, &ldquo;<a href="http://tools.ietf.org/html/rfc4556">Public Key Cryptography for Initial Authentication in Kerberos (PKINIT)</a>,&rdquo; RFC&nbsp;4556, June&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4556.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="FAST">[FAST]</a></td>
<td class="author-text">Zhu, L. and S. Hartman, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-krb-wg-preauth-framework.txt">A Generalized Framework for Kerberos Pre-Authentication</a>,&rdquo; draft-ietf-krb-wg-preauth-framework (work in progress), 2008.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Larry Zhu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Microsoft Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redmond, WA  98052</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:larry.zhu@microsoft.com">larry.zhu@microsoft.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Paul Leach</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Microsoft Corporation</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Microsoft Way</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Redmond, WA  98052</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:paulle@microsoft.com">paulle@microsoft.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sam Hartman</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Painless Security</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:hartmans-ietf@mit.edu">hartmans-ietf@mit.edu</a></td></tr>
</table>
</body></html>
