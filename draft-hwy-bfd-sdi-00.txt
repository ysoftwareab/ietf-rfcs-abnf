



BFD Working Group                                                 L. Han
Internet-Draft                                                   M. Wang
Intended status: Standards Track                            China Mobile
Expires: April 28, 2022                                          F. Yang
                                                     Huawei Technologies
                                                        October 25, 2021


                    Signal Degrade Indication in BFD
                          draft-hwy-bfd-sdi-00

Abstract

   To satisfy the requirements of signal degrade indication described in
   [I-D.yang-mpls-ps-sdi-sr], this document illustrates the extension of
   BFD protocol to support signal degrade indication.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on April 28, 2022.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of



Han, et al.              Expires April 28, 2022                 [Page 1]

Internet-Draft            draft-hwy-bfd-sdi-00              October 2021


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Background  . . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Signal Degrade Overview . . . . . . . . . . . . . . . . . . .   3
     3.1.  Signal Degrade Definition . . . . . . . . . . . . . . . .   3
     3.2.  Signal Degrade vs Packet Loss Rate  . . . . . . . . . . .   3
     3.3.  Use BFD to Support Signal Degrade Indication  . . . . . .   4
     3.4.  Notification Spread in Network  . . . . . . . . . . . . .   4
   4.  BFD Extension to Indicate Signal Degrade  . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Background

   Signal Degrade (SD) is categorized as one of triggers to bring
   survivability challenge to networks [RFC4428].  Not like the signal
   failure caused by failure of links or nodes, Signal Degrade (SD) is
   normally caused by fiber aging, fiber impairment, fiber pollution,
   optical module mismatch or WDM transmission error etc.

   The detection and transmission of signal degrade is discussed in
   [I-D.zhl-mpls-tp-sd] and [I-D.yang-mpls-ps-sdi-sr].  When signal
   degrade is detected, it can be spread via control plane, forwarding
   plane, or management plane, or combination of any of them.

   BFD [RFC5880] and SBFD [RFC7880] are widely used as the failure
   notification in networks due to the characteristics of simplicity and
   efficiency.  BFD also provides good opportunity to indicate signal
   degrade by reflecting it in BFD state changes.  This document extends
   the BFD protocol to carry signal degrade indication in networks.

2.  Terminology

   SD: Signal Degrade

   BER: Bit Error Rate



Han, et al.              Expires April 28, 2022                 [Page 2]

Internet-Draft            draft-hwy-bfd-sdi-00              October 2021


   MIP: Maintenance Entity Group Intermediate Point

   PLR: Packet Loss Rate

   FEC: Forwarding Error Correction

   SLA: Service Level Agreement

   BFD: Bidirectional Forwarding Detection

   SBFD: Seamless BFD

   OAM: Operation, Administration and Maintenance

3.  Signal Degrade Overview

3.1.  Signal Degrade Definition

   In [IEEE 802.3-2018], Bit Error Rate (BER) is defined as the ratio of
   the number of bits received in error to the total number of bits
   received.  It is one of parameters to indicate quality of physical
   links.  Depending on the Forwarding Error Correction (FEC) capability
   of PHYs, BER can be classified into pre-FEC BER and post-FEC BER.
   The pre-FEC BER value acquired from PHY on receiving port indicates
   the on wire BER value of physical link.  This value can also be
   measured via external test instruments.  Generally speaking, BER
   specifically refers to pre-FEC BER.  If FEC capability is unavailable
   for some legacy PHYs, it is meaningless to differentiate pre-FEC and
   post-FEC BER values.

   Signal degrade can be detected based on the physical bit error
   statistic on port level, no matter whether the PHY is with or without
   Forwarding Error Correction.  Port level statistic is an intuitive
   approach to be best understood in the equipment and network systems.
   In practice, flexible configuration of the watermark to trigger the
   indication of signal degrade is also preferred.

3.2.  Signal Degrade vs Packet Loss Rate

   In packet switched network, the measurement of physical link is based
   on the unit of packet, resulting in either no packet loss or a number
   of packet loss to indicate the status of link.  Although PHYs are
   defined in [IEEE 802.3-2018], vendors may have different
   implementations to deal with the error bits when equipment detects
   them.  Moreover, bit is a fix unit, but packet has variable length.
   Several error bits can lead to one packet loss, or multiple packets'
   loss.  There is no uniform approach to calculate pre-FEC BER into




Han, et al.              Expires April 28, 2022                 [Page 3]

Internet-Draft            draft-hwy-bfd-sdi-00              October 2021


   PLR.  It means there is no parameter directly indicated the status of
   physical links in packet switched network.

3.3.  Use BFD to Support Signal Degrade Indication

   For the network where BFD is used to provide the fast failure
   detection, the minimal detection interval e.g. 3.3ms actually leaves
   a huge gap of data packets between two consecutive BFD packets when
   the line rate packets are transmitted over high speed Ethernet link.
   Take an example of 10Gbps link transmitting the packets with length
   of 192 bytes to calculate, more than twenty thousand packets are
   transmitted within 3.3ms.  Note that the criteria to announce a
   failure of BFD based on three consecutive BFD packet loss.  It may
   not be accurate to rely on BFD to detect and trigger the protection
   mechanism if there is signal degrade on the physical link.

3.4.  Notification Spread in Network

   In current packet switched networks, the error bit information like
   BER is only obtained and processed locally on each node.  There is no
   indication or advertisement of the errors or its indications of
   physical links.  It should be possible to spread this information via
   control plane, management plane or even data plane to suit for
   different needs.  Especially, if the signal degrade of the link could
   be transmitted in data plane and aware by any other nodes, local
   repair or end-to-end path protection could be performed even more
   efficiently.  Previous work proposed in [I-D.rkhd-mpls-tp-sd],
   [I-D.zhl-mpls-tp-sd] and [I-D.zhang-ccamp-rsvpte-ber-measure] give
   the examples of protocol extensions to support SD transmission for
   further network convergence behaviors.  With the emerge of telemetry,
   it is also possible to collect and report this information more
   frequently to SDN controller to facilitate the network operation and
   management.

4.  BFD Extension to Indicate Signal Degrade

   The Diagnostic code in BFD specifies the local system's reason for
   the last change in session state.  The definition of the Values is
   specified in Section 4.1 of [RFC5880].

   In this document, reserved values from 9 to 31 are requested to IANA
   to support the signal degrade indication and removal.









Han, et al.              Expires April 28, 2022                 [Page 4]

Internet-Draft            draft-hwy-bfd-sdi-00              October 2021


                                (preamble)

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |Vers |  Diag   |Sta|P|F|C|A|D|M|  Detect Mult  |    Length     |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                       My Discriminator                        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                      Your Discriminator                       |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                    Desired Min TX Interval                    |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                   Required Min RX Interval                    |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                 Required Min Echo RX Interval                 |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                   Authentication (optional)                   |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                             BFD Packet Format

5.  IANA Considerations

   The document requires the definition of the new indication and
   removal of the signal degrade indication in BFD Value code.

6.  Security Considerations

   TBD

7.  References

7.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5880]  Katz, D. and D. Ward, "Bidirectional Forwarding Detection
              (BFD)", RFC 5880, DOI 10.17487/RFC5880, June 2010,
              <https://www.rfc-editor.org/info/rfc5880>.

   [RFC7880]  Pignataro, C., Ward, D., Akiya, N., Bhatia, M., and S.
              Pallagatti, "Seamless Bidirectional Forwarding Detection
              (S-BFD)", RFC 7880, DOI 10.17487/RFC7880, July 2016,
              <https://www.rfc-editor.org/info/rfc7880>.



Han, et al.              Expires April 28, 2022                 [Page 5]

Internet-Draft            draft-hwy-bfd-sdi-00              October 2021


7.2.  Informative References

   [I-D.rkhd-mpls-tp-sd]
              Ram, R., Cohn, D., Daikoku, M., Yuxia, M., Jian, Y., and
              A. D'Alessandro, "SD detection and protection triggering
              in MPLS-TP", draft-rkhd-mpls-tp-sd-03 (work in progress),
              May 2011.

   [I-D.yang-mpls-ps-sdi-sr]
              Yang, F., Han, L., and J. Zhao, "Problem Statement of
              Signal Degrade Indication for SR over MPLS", draft-yang-
              mpls-ps-sdi-sr-01 (work in progress), November 2020.

   [I-D.zhang-ccamp-rsvpte-ber-measure]
              Li, Z., Zhang, L., and G. Yang, "RSVP-TE Extensions for
              Bit Error Rate (BER) Measurement", draft-zhang-ccamp-
              rsvpte-ber-measure-02 (work in progress), July 2014.

   [I-D.zhl-mpls-tp-sd]
              Haiyan, Z., Jia, H., and H. Li, "SD-Triggered Protection
              Switching in MPLS-TP", draft-zhl-mpls-tp-sd-03 (work in
              progress), October 2010.

   [RFC4428]  Papadimitriou, D., Ed. and E. Mannie, Ed., "Analysis of
              Generalized Multi-Protocol Label Switching (GMPLS)-based
              Recovery Mechanisms (including Protection and
              Restoration)", RFC 4428, DOI 10.17487/RFC4428, March 2006,
              <https://www.rfc-editor.org/info/rfc4428>.

   [RFC5586]  Bocci, M., Ed., Vigoureux, M., Ed., and S. Bryant, Ed.,
              "MPLS Generic Associated Channel", RFC 5586,
              DOI 10.17487/RFC5586, June 2009,
              <https://www.rfc-editor.org/info/rfc5586>.

   [RFC6372]  Sprecher, N., Ed. and A. Farrel, Ed., "MPLS Transport
              Profile (MPLS-TP) Survivability Framework", RFC 6372,
              DOI 10.17487/RFC6372, September 2011,
              <https://www.rfc-editor.org/info/rfc6372>.

Authors' Addresses

   Liuyan Han
   China Mobile
   No.32 Xuanwumen west street
   Beijing  100053
   China

   Email: hanliuyan@chinamobile.com



Han, et al.              Expires April 28, 2022                 [Page 6]

Internet-Draft            draft-hwy-bfd-sdi-00              October 2021


   Minxue Wang
   China Mobile
   No.32 Xuanwumen west street
   Beijing  100053
   China

   Email: wangminxue@chinamobile.com


   Fan Yang
   Huawei Technologies
   Huawei Campus, No. 156 Beiqing Rd.
   Beijing  100095
   China

   Email: shirley.yangfan@huawei.com



































Han, et al.              Expires April 28, 2022                 [Page 7]
