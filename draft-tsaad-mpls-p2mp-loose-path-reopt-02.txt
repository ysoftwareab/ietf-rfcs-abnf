 



MPLS Working Group                                       Tarek Saad, Ed.
Internet-Draft                                        Rakesh Gandhi, Ed.
Intended status: Standards Track                               Zafar Ali
Expires: October 24, 2014                            Cisco Systems, Inc.
                                                       Robert H. Venator
                                      Defense Information Systems Agency
                                                             Yuji Kamite
                                          NTT Communications Corporation
                                                          April 22, 2014


       Reoptimization of Point-to-Multipoint Traffic Engineering
                          Loosely Routed LSPs
               draft-tsaad-mpls-p2mp-loose-path-reopt-02


Abstract

   This document defines Resource Reservation Protocol - Traffic
   Engineering (RSVP-TE) signaling extensions for reoptimizing loosely
   routed Point-to-Multipoint (P2MP) Traffic Engineered (TE) Label
   Switched Paths (LSPs) in an Multi-Protocol Label Switching (MPLS)
   and/or Generalized MPLS (GMPLS) networks.

Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."










 


Saad, et al.            Expires October 24, 2014                [Page 1]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


Copyright Notice

   Copyright (c) 2014 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.









Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  4
     2.1.  Abbreviations  . . . . . . . . . . . . . . . . . . . . . .  4
     2.2.  Nomenclatures  . . . . . . . . . . . . . . . . . . . . . .  5
     2.3.  Conventions used in this document  . . . . . . . . . . . .  5
   3.  Signaling Procedure For Loosely Routed P2MP-TE LSP
       Reoptimization . . . . . . . . . . . . . . . . . . . . . . . .  5
   4.  RSVP Signaling Extensions  . . . . . . . . . . . . . . . . . .  6
     4.1.  P2MP-TE Tree Re-evaluation Request Flag  . . . . . . . . .  6
     4.2.  Preferable P2MP-TE Tree Exists Path Error sub-code . . . .  6
   5.  Compatibility  . . . . . . . . . . . . . . . . . . . . . . . .  7
   6.  Security Considerations  . . . . . . . . . . . . . . . . . . .  7
   7.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  7
     7.1.  P2MP-TE Tree Re-evaluation Request Flag  . . . . . . . . .  8
     7.2.  Preferable P2MP-TE Tree Exists Path Error sub-code . . . .  8
   8.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . .  8
   9.  References . . . . . . . . . . . . . . . . . . . . . . . . . .  9
     9.1.  Normative References . . . . . . . . . . . . . . . . . . .  9
     9.2.  Informative References . . . . . . . . . . . . . . . . . .  9
   Author's Addresses . . . . . . . . . . . . . . . . . . . . . . . . 10



 


Saad, et al.            Expires October 24, 2014                [Page 2]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


1.  Introduction

   This document defines Resource Reservation Protocol - Traffic
   Engineering (RSVP-TE) [RFC2205] [RFC3209] signaling extensions for
   reoptimizing loosely routed Point-to-Multipoint (P2MP) Traffic
   Engineered (TE) Label Switched Paths (LSPs) [RFC4875] in an
   Multi-Protocol Label Switching (MPLS) and/or Generalized MPLS (GMPLS)
   networks.

   A P2MP-TE LSP is comprised of one or more source-to-leaf (S2L)
   sub-LSPs.  A loosely routed P2MP-TE S2L sub-LSP is defined as one
   whose path does not contain the full explicit route identifying each
   node along the path to the egress node at the time of its signaling
   by the ingress node.  Such an S2L sub-LSP is signaled with no
   Explicit Route Object (ERO) [RFC3209], or with an ERO that contains
   at least one loose hop, or with an ERO that contains an abstract node
   that is not a simple abstract node (that is, an abstract node that
   identifies more than one node).  This is often the case with
   inter-domain P2MP-TE LSPs where Path Computation Element (PCE) is not
   used [RFC5440].

   As per [RFC4875], an ingress node may reoptimize the entire P2MP-TE
   LSP by resignaling all its S2L sub-LSP(s) or may reoptimize
   individual S2L sub-LSP(s) i.e. individual destination(s).

   [RFC4736] defines RSVP signaling extensions for reoptimizing loosely
   routed P2P TE LSP(s) as follows.  

   - An egress border node MAY send a solicited or unsolicited PathErr
   with the Notify error code (25 as defined in [RFC3209]) with sub-code
   6 to indicate "Preferable Path Exists" to the ingress node.

   - An ingress node MAY solicit a PathErr that indicates "Preferable
   Path Exists" by sending a "Path Re-evaluation Request" to an egress
   border node by setting a flag (0x20) in SESSION_ATTRIBUTES object in
   the Path message.

   - The ingress node upon receiving this PathErr either solicited or
   unsolicited initiates reoptimization of the LSP.  


   [RFC4736] does not define signaling extensions specific for
   reoptimizing entire P2MP-TE LSP tree.  Mechanisms defined in
   [RFC4736] can be used for signaling the reoptimization of individual
   S2L sub- LSP(s).  However, to use [RFC4736] mechanisms for
   reoptimizing an entire P2MP-TE LSP tree, an ingress node needs to
   send the query on all (typically 100s of) S2L sub-LSPs and an egress
   border node needs to notify PathErrs for all S2L sub-LSPs.  Such a
 


Saad, et al.            Expires October 24, 2014                [Page 3]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


   procedure may lead to the following issues.

   - An egress border node has to accumulate the received queries on all
   S2L sub-LSPs (using a wait timer) and interpret them as a
   reoptimization request for the P2MP-TE LSP tree.  An egress border
   node may prematurely notify "Preferable Path Exists" for one or a
   sub-set of S2L sub-LSPs.

   - When the ingress node gradually receives unsolicited PathErr
   notifications for individual S2L sub-LSPs, it may prematurely start
   reoptimizing a sub-set of S2L sub-LSPs.  However, as mentioned in
   [RFC4875] Section 14.2, such reoptimization procedure may result in
   data duplication that can be avoided if the entire P2MP-TE LSP tree
   is reoptimized, especially if the ingress node eventually receives
   PathErr notifications for all S2L sub-LSPs of the P2MP-TE LSP tree.

   - The ingress node may have to heuristically determine when to
   perform entire P2MP-TE LSP tree reoptimization versus per S2L sub-LSP
   reoptimization, for example, to delay reoptimization long enough to
   allow all PathErr(s) to be received.  Once all PathErr(s) are
   received, the ingress node has to accumulate them to see if
   reoptimization of the entire P2MP-TE is necessary.  Such procedures
   may produce undesired results due to timing related issues.  This may
   be easily avoided by the RSVP signaling messages defined in this
   document.

   This document defines RSVP-TE signaling extensions to query and
   notify the existance of a preferable path for reoptimizing loosely
   routed P2MP-TE LSP tree.


2.  Terminology

2.1.  Abbreviations

   ABR: Area Border Router.

   AS: Autonomous System.

   ERO: Explicit Route Object.

   TE LSP: Traffic Engineering Label Switched Path.

   TE LSP ingress: head/source of the TE LSP.

   TE LSP egress: tail/destination of the TE LSP.


 


Saad, et al.            Expires October 24, 2014                [Page 4]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


2.2.  Nomenclatures

   Domain: Routing or administrative domain such as an IGP area and an
   autonomous system. 

   Interior Gateway Protocol Area (IGP Area): OSPF Area or IS-IS level.

   Inter-area TE LSP: A TE LSP whose path transits across at least two
   different IGP areas.

   Inter-AS MPLS TE LSP: A TE LSP whose path transits across at least
   two different Autonomous Systems (ASes) or sub-ASes (BGP
   confederations).

   S2L sub-LSP: Source-to-leaf sub Label Switched Path.

2.3.  Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].  The reader
   is assumed to be familiar with the terminology in [RFC4875] and
   [RFC4736].

3.  Signaling Procedure For Loosely Routed P2MP-TE LSP Reoptimization

   It might be preferable, as per [RFC4875], to reoptimize the entire
   P2MP-TE LSP by resignaling all its S2L sub-LSP(s) (Section 14.1,
   "Make-before- Break") or reoptimize individual S2L sub-LSP(s) i.e.
   individual destination(s) (Section 14.2 "Sub-Group-Based Re-
   Optimization").

   It might be preferable to use the procedures defined in [RFC4736] to
   individually reoptimize the S2L sub-LSP(s) of a P2MP-TE LSP.

   To reoptimize an entire P2MP-TE LSP tree, in order to query egress
   border nodes to check if a preferable P2MP-TE LSP tree exists, an
   ingress node sends a Path message with "P2MP-TE Tree Re-evaluation
   Request" defined in this document.  An ingress node may select one or
   more S2L sub-LSP of the P2MP-TE LSP tree transiting through the
   egress border node to send the query to that egress border node.

   An egress border node receiving the "P2MP-TE Tree Re-evaluation
   Request" checks for a preferable P2MP-TE LSP tree by re-evaluating
   loosely expanded paths for all S2L sub-LSP(s) of the P2MP-TE LSP.  If
   a preferable P2MP-TE LSP tree is found, the egress border node
   immediately sends an RSVP PathErr to the ingress node with Error code
   25 (Notify defined in [RFC3209] and Error sub-code defined in this
 


Saad, et al.            Expires October 24, 2014                [Page 5]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


   document "Preferable P2MP-TE Tree Exists".  At this point, the egress
   border node does not propagate this bit in subsequent RSVP Path
   messages sent downstream for the re-evaluated P2MP-TE LSP.  The
   sending of an RSVP PathErr Notify message "Preferable P2MP-TE Tree
   Exists" to the ingress node will notify the ingress node of the
   existence of a preferable P2MP-TE LSP tree.

   If no preferable path for P2MP-TE LSP tree can be found, the
   recommended mode is for the egress border node to relay the request
   downstream by setting the "P2MP-TE Tree Re-evaluation Request" bit in
   the LSP_ATTRIBUTES object of RSVP Path message.

   An egress border node may send "Preferable P2MP-TE Tree Exists" with
   PathErr code 25 to the ingress node to notify an existence of a
   preferred path for the P2MP-TE LSP tree with an unsolicited PathErr
   message.  The egress border node may select one or more S2L sub-
   LSP(s) of the P2MP-TE LSP tree to send this PathErr message to the
   ingress node.

4.  RSVP Signaling Extensions

4.1.  P2MP-TE Tree Re-evaluation Request Flag

   In order to query egress border nodes to check if a preferable P2MP-
   TE LSP tree exists, a new flag is defined in Attributes Flags TLV of
   the LSP_ATTRIBUTES object [RFC5420] as follows:

      Bit Number (to be assigned by IANA): P2MP-TE Tree Re-evaluation
            Request flag


   The "P2MP-TE Tree Re-evaluation Request" flag is meaningful in a Path
   message of a P2MP-TE S2L sub-LSP and is inserted by the ingress node.

4.2.  Preferable P2MP-TE Tree Exists Path Error sub-code

   In order to indicate to an ingress node that a preferable P2MP-TE LSP
   tree is available, following new sub-code for PathErr code 25 (Notify
   Error) [RFC3209] is defined:

      Sub-code (to be assigned by IANA): Preferable P2MP-TE Tree Exists
            sub-code


   When a preferable path for P2MP-TE LSP tree is found, the egress
   border node sends a solicited or unsolicited "Preferable P2MP-TE Tree
   Exists" PathErr notification to the ingress node of the P2MP-TE LSP.

 


Saad, et al.            Expires October 24, 2014                [Page 6]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


5.  Compatibility

   The LSP_ATTRIBUTES object has been defined in [RFC5420] with class
   numbers in the form 11bbbbbb, which ensures compatibility with
   non-supporting nodes.  Per [RFC2205], nodes not supporting this
   extension will ignore the new flag defined in this document but
   forward it without modification.

6.  Security Considerations

   This document defines a mechanism for an egress border node to notify
   the ingress node of the existence of a preferable path.  As per
   [RFC4736], in the case of a P2MP-TE LSP S2L sub-LSP spanning multiple
   domains, it may be desirable for a border node to modify the RSVP
   PathErr message defined in this document to maintain confidentiality
   across different domains.  Furthermore, an ingress node may decide to
   ignore this PathErr message coming from an egress border node
   residing in another domain.  Similarly, an egress border node may
   decide to ignore the path re-evaluation request originating from
   another ingress domain.

7.  IANA Considerations

   IANA maintains a name space for RSVP-TE TE parameters "Resource
   Reservation Protocol-Traffic Engineering (RSVP-TE) Parameters".  From
   the registries in this name space "Attribute Flags" allocation of new
   flag is requested (Section 4.1).

   IANA also maintains a name space for RSVP protocol parameters
   "Resource Reservation Protocol (RSVP) Parameters".  From the sub-
   registry "Sub-Codes - 25 Notify Error" in registry "Error Codes and
   Globally-Defined Error Value Sub-Codes" allocation of a new error
   code is requested (Section 4.2).















 


Saad, et al.            Expires October 24, 2014                [Page 7]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


7.1.  P2MP-TE Tree Re-evaluation Request Flag

   The following new flag is defined for the Attributes Flags TLV in the
   LSP_ATTRIBUTES object [RFC5420].  The numeric value is to be assigned
   by IANA.

   o  P2MP-TE Tree Re-evaluation Request Flag:

   +--------+---------------+---------+---------+---------+------------+
   | Bit No | Attribute     | Carried | Carried | Carried | Reference  |
   |        | Flag Name     | in Path | in Resv | in RRO  |            |
   +--------+---------------+---------+---------+---------+------------+
   | TBA by | P2MP-TE Tree  | Yes     | No      | No      | This       |
   | IANA   | Re-evaluation |         |         |         | document   |
   +--------+---------------+---------+---------+---------+------------+

7.2.  Preferable P2MP-TE Tree Exists Path Error sub-code

   As defined in [RFC3209], the Error Code 25 in the ERROR SPEC object
   corresponds to a Notify Error PathErr.  This document adds a new
   sub-code as follows for this PathErr:

   o  Preferable P2MP-TE Tree Exists sub-code:

   +----------+--------------------+---------+---------+-----------+
   | Sub-code | Sub-code           | PathErr | PathErr | Reference |
   | value    | Name               | Code    | Name    |           |
   +----------+--------------------+---------+---------+-----------+
   | TBA by   | Preferable P2MP-TE | 25      | Notify  | This      |
   | IANA     | Tree Exists        |         | error   | document  |
   +----------+--------------------+---------+---------+-----------+


8.  Acknowledgments

   The authors would like to thank Loa Andersson for reviewing this
   document.











 


Saad, et al.            Expires October 24, 2014                [Page 8]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


9.  References

9.1.  Normative References

   [RFC2205]  Braden, R., Ed., Zhang, L., Berson, S., Herzog, S., and S.
              Jamin, "Resource ReSerVation Protocol (RSVP) -- Version 1
              Functional Specification", RFC 2205, September 1997.

   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", RFC 3209, December 2001.

   [RFC4875]  Aggarwal, R., Papadimitriou, D., and S. Yasukawa,
              "Extensions to Resource Reservation Protocol Traffic
              Engineering (RSVP-TE) for Point-to-Multipoint TE Label
              Switched Paths (LSPs)", RFC 4875, May 2007.

   [RFC5420]  Farrel, A., Papadimitriou, D., Vasseur, JP., and A.
              Ayyangarps, "Encoding of Attributes for MPLS LSP
              Establishment Using Resource Reservation Protocol Traffic
              Engineering (RSVP-TE)", RFC 5420, February 2009.

9.2.  Informative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC4736]  Vasseur, JP., Ikejiri, Y. and Zhang, R, "Reoptimization of
              Multiprotocol Label Switching (MPLS) Traffic Engineering
              (TE) Loosely Routed Label Switched Path (LSP)", RFC 4736,
              November 2006.

   [RFC5440]  Vasseur, JP., Ed., and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              March 2009.













 


Saad, et al.            Expires October 24, 2014                [Page 9]

Internet-Draft        P2MP-TE Loosely Routed LSPs         April 22, 2014


Author's Addresses


   Tarek Saad (editor)
   Cisco Systems

   Email: tsaad@cisco.com


   Rakesh Gandhi (editor)
   Cisco Systems

   Email: rgandhi@cisco.com


   Zafar Ali
   Cisco Systems

   Email: zali@cisco.com


   Robert H. Venator
   Defense Information Systems Agency

   Email: robert.h.venator.civ@mail.mil


   Yuji Kamite
   NTT Communications Corporation

   Email: y.kamite@ntt.com




















Saad, et al.            Expires October 24, 2014               [Page 10]
