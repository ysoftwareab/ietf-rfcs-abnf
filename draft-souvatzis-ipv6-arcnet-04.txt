


INTERNET-DRAFT                                              I. Souvatzis
Expires 1 April 1999                                  The NetBSD Project
                                                          1 October 1998


  A Method for the Transmission of IPv6 Packets over ARCnet Networks.
                  <draft-souvatzis-ipv6-arcnet-04.txt>


Status of this Memo

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet- Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ftp.ietf.org (US East Coast), or
   ftp.isi.edu (US West Coast).

   Distribution of this memo is unlimited. Please send comments to the
   author.

1. Introduction

   This memo specifies a frame format for transmission of IPv6 [IPV6]
   packets and the method of forming IPv6 link-local and statelessly
   autoconfigured addresses on ARCnet networks. It also specifies the
   content of the Source/Target Link-layer Address option used by the
   Router Solicitation, Router Advertisement, Neighbor Solicitation,
   Neighbor Advertisement and Redirect messages described in [DISC],
   when those messages are transmitted on an ARCnet.


      The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
      NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and
      "OPTIONAL" in this document are to be interpreted as described in
      RFC 2119 [KWORD].

2. Frame Format




Souvatzis                 Expires 1 April 1999          [Page 1]

INTERNET-DRAFT          IPv6 Datagrams on ARCnet          1 October 1998


   IPv6 packets are link layer fragmented and reassembled according to
   [PHDS]. A brief but sufficient discussion of this fragmentation
   method can be found in [ARCIP4].

   The protocol id used is D4 hexadecimal, the same as for IPv4. IPv6
   packets are recognized by looking at the version number in the high
   half of the first octet of the data, which is 4 for IPv4 and 6 for
   IPv6. This method of distinguishing IPv6 packets was chosen because
   there are only 256 values of ARCnet protocol ids available.

3. Maximum Transmission Unit

   The maximum IPv6 packet length possible using this encapsulation
   method is 60480 octets. Since this length is impractical because of
   its worst case transmission time of several seconds, all ARCnet
   implementations on a given ARCnet network should agree on a smaller
   value.

   Implementations SHOULD support an MTU of 9072 octets and MUST support
   the minimum MTU required by [IPV6].

   In the presence of a router, this size MAY be changed by a Router
   Advertisement [DISC] containing an MTU option. If a Router
   Advertisement is received with an MTU option specifying an MTU larger
   than 60480, or larger than a manually configured value less than
   60480, that MTU option may be logged to system management but MUST be
   otherwise ignored.

   If no router is available, the local MTU MUST be left at 9072 or MUST
   be manually configured to the same different value on all connected
   stations.

   Implementations MAY accept arriving IPv6 datagrams which are larger
   than their configured maximum transmission unit.  They are not
   required to discard such datagrams. If they can not handle larger
   datagrams, they MAY log the event to the system administration, but
   MUST otherwise silently discard them.

4. Stateless Auto-configuration

   If a node has an EUI-64 which is not used to form the Interface
   Identifier for any other interface, it SHOULD use that EUI-64 to form
   the Interface Identifier for its ARCnet interface.  If that EUI-64 is
   in use for another interface attached to a different link, it MAY be
   used for the ARCnet interface as well.

   The Interface Identifier is then formed from the EUI-64 by
   complementing the "Universal/Local" (U/L) bit, which is the next- to-



Souvatzis                 Expires 1 April 1999          [Page 2]

INTERNET-DRAFT          IPv6 Datagrams on ARCnet          1 October 1998


   lowest order bit of the first octet of the EUI-64.

   When a node has no EUI-64 available for forming its ARCnet Interface
   Identifer, it MUST form that identifier as specified in [AARCH],
   Appendix A, section "Links with Non-Global Identifier".  That is, the
   8 bit manually configured ARCnet address is appended to the 56 zero
   bits.

   For example, for an ARCnet interface with the configured address of
   49 hexadecimal this results in the following identifier:

   |0              1|1              3|3              4|4              6|
   |0              5|6              1|2              7|8              3|
   +----------------+----------------+----------------+----------------+
   |0000000000000000|0000000000000000|0000000000000000|0000000001001001|
   +----------------+----------------+----------------+----------------+

   Note that this results in the universal/local bit set to "0" to
   indicate local scope.

   An IPv6 address prefix used for stateless auto-configuration [ACONF]
   of an ARCnet interface MUST have a length of 64 bits.

5. Link-Local Addresses

   The IPv6 link-local address [AARCH] for an Ethernet interface is
   formed by appending the Interface Identifier, as defined above, to
   the prefix FE80::/64.


    10 bits            54 bits                  64 bits
   +----------+-----------------------+----------------------------+
   |1111111010|         (zeros)       |    Interface Identifier    |
   +----------+-----------------------+----------------------------+

6. Address Mapping -- Unicast

   The procedure for mapping IPv6 addresses into ARCnet link-layer
   addresses is described in [DISC]. The Source/Target link layer
   Address option has the following form when the link layer is ARCnet.

                     0                   1
                     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    |     Type      |    Length     |
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    |ARCnet address |               |
                    +---------------+              -+



Souvatzis                 Expires 1 April 1999          [Page 3]

INTERNET-DRAFT          IPv6 Datagrams on ARCnet          1 October 1998


                    |                               |
                    +-    5 octets of padding      -+
                    |                               |
                    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   Option fields:

   Type      1 for Source Link-layer address.
             2 for Target Link-layer address.
   Length         1 (in units of 8 octets).

   ARCnet address The 8 bit ARCnet address, in canonical bit order.

7. Address Mapping -- Multicast

   As ARCnet only provides 1 multicast address (00 hexadecimal), all
   IPv6 multicast addresses must be mapped to this address.

8. Security Considerations

   The method of derivation of Interface Identifiers from ARCnet
   addresses is intended to preserve local uniqueness when possible.
   However, there is no protection from duplication through accident or
   forgery.

9. Acknowledgements

   Big parts of the new version of this draft are either based on
   [ETHIPV6] or on Matt Crawfords review of an earlier version.

10. References


[AARCH]   Hinden, R., and S. Deering, "IP Version 6 Addressing Architec­
          ture", RFC 2373.


[ACONF]   S. Thomson, T. Narten, "IPv6 Stateless Address Autoconfigura­
          tion", currently draft-ietf-ipngwg-addrconf-v2-02.txt.


[ARCIPV4] Provan, D., "Transmitting IP Traffic over ARCNET Networks",
          RFC1201, Novell, Inc., February 1991.


[DISC]    Narten, T., Nordmark, E., and W. Simpson, "Neighbor Discovery
          for IP Version 6 (IPv6)", currently draft-ietf-ipngwg-discov­
          ery-v2-03.txt.



Souvatzis                 Expires 1 April 1999          [Page 4]

INTERNET-DRAFT          IPv6 Datagrams on ARCnet          1 October 1998


[ETHIPV6] M. Crawford, "Transmission of IPv6 Packets over Ethernet Net­
          works", currently draft-ietf-ipngwg-trans-ethernet-04.txt


[EUI64]   "64-Bit Global Identifier Format Tutorial", http://stan­
          dards.ieee.org/db/oui/tutorials/EUI64.html.


[IPV6]    S. Deering, R. Hinden, "Internet Protocol, Version 6 (IPv6)
          Specification", currently draft-ietf-ipngwg-ipv6-spec-
          v2-02.txt.


[KWORD]   S.Bradner, "Key words for use in RFCs to Indicate Requirement
          Levels", RFC 2119.


[PHDS]    Novell, Inc., "ARCNET Packet Header Definition Standard",
          November 1989.
































Souvatzis                 Expires 1 April 1999          [Page 5]

INTERNET-DRAFT          IPv6 Datagrams on ARCnet          1 October 1998


10. Author's Address

          Ignatios Souvatzis
          The NetBSD Project
          Stationenweg 29
          D-53332 Bornheim
          Germany

          Phone (work): +49 (228) 734316

          EMail: is@netbsd.org








































Souvatzis                 Expires 1 April 1999          [Page 6]

