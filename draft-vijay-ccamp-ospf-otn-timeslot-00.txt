Network Working Group                           Vijayanand Chandrasekar
INTERNET DRAFT                                   Individual Contributor 
Intended Status: Standards Track                       August 16, 2019    
Expires:  15 Febraury, 2020                                       

                                                                                     
 
            Advertising OTN Fixed Time slot constraints in OSPF 
              draft-vijay-ccamp-ospf-otn-timeslot-00.txt 
    
   Status of this Memo 
    
   This Internet-Draft is submitted in full conformance with the 
   provisions of BCP 78 and BCP 79. 
 
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF).  Note that other groups may also distribute 
   working documents as Internet-Drafts.  The list of current Internet- 
   Drafts is at https://datatracker.ietf.org/drafts/current/. 
 
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 
  
   This Internet-Draft will expire on January 31, 2020. 
 
 
Copyright Notice 
 
   Copyright (c) 2019 IETF Trust and the persons identified as the 
   document authors.  All rights reserved. 
 
   This document is subject to BCP 78 and the IETF Trust's Legal 
   Provisions Relating to IETF Documents 
   (https://trustee.ietf.org/license-info) in effect on the date of 
   publication of this document.  Please review these documents 
   carefully, as they describe your rights and restrictions with respect 
   to this document.  Code Components extracted from this document must 
   include Simplified BSD License text as described in Section 4.e of 
   the Trust Legal Provisions and are provided without warranty as 
   described in the Simplified BSD License. 
 
 
   Abstract 
    
    
Vijayanand C             Expires February 2020                  [Page 1] 





 
INTERNET DRAFT   OTN fixed Timeslot constraints in OSPF    August 2019                
    
    
   This document describes the extensions needed to OSPF for 
   advertising the constraints that exists in some OTN switches while 
   switching timeslots between ports. This advertisement would be 
   needed for computing path of LSP through these switches taking into 
   account the above mentioned constraint.  
    
   This document proposes extensions to existing OSPF for advertising 
   the timeslots available on each OTN port in a new sub-tlv and the 
   connectivity matrix representing the capability of the device to 
   cross connect these timeslots in another new sub-tlv  
    
1. Introduction 
    
       In [RFC7138], a mechanism for advertising the ODU multiplexing 
   hierarchy is described. In [RFC7580], an optical node property TLV 
   is defined as an extension to the OSPF opaque LSA defined in 
   {RFC3630]. 
   . 
    
       This document describes the use of OSPF-TE in carrying 
   information about the details of OTN time slots available in each 
   port of an OTN switch and the connectivity matrix describing the 
   connectivity between the timeslots of the different ports. 
    
2. Terminology 
       
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC2119 [RFC2110]. 
    
   The reader is assumed to be familiar with the terminology in 
   RFC7138[RFC7138],RFC5780[RFC7580] and RFC3630{RFC3630] 
    
 
3. OSPF Extensions 
    
    
       A new OTN timeslot sub-TLV and OTN Connectivity matrix sub-TLV 
   are proposed in this document. The OTN timeslot sub-TLV will be used 
   in conjunction with the SCSI described in section 4.1 of 
   RFC7138[RFC7138]. The OTN connectivity matrix will be carried in the 
   Optical node property TLV described in RFC7580[RFC7580]   
    
    
   3.1 OTN Timeslot sub-TLV 
    
       0                   1                   2                   3  
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |  Type {TBD)                   |            Length             | 
Vijayanand C             Expires February 2020               [page 2 ] 







 
INTERNET DRAFT   OTN fixed Timeslot constraints in OSPF    August 2019                
    
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |Pri  | Bitmap Length           | G | BitMap(variable length)   | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |          BitMap(variable length)                              | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |Pri  | Bitmap Length           | G| BitMap(variable length)    | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |          BitMap(variable length)                              | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-| 
      |                                                               | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    
    
   Type 
    
         TBD    
    
   Length  
      
         Length of Sub-TLV 
    
   Pri  
    
         Priority level (0-7) at which the bitmap is advertised  
          
   G: Timeslot granularity 
        0 - 1.25 Gbps 
        1 -  2.5 Gbps 
        2 -  5 Gbps 
    
         Priority (0-7) at which the bitmap is available 
    
   Bitmap Length 
     
         Length in bits of the bitmap following this 
    
    
    
   BitMap 
     
         The bitmap represents the timeslots available which is 
   advertised through this sub-TLB. A 1 in the bit position represents 
   that the timeslot is available , while a 0 represents that the 
   timeslot is not available.The Bitmap is padded to the nearest byte 
   boundary. 
    
                          
           
   3.2  Connectivity matrix sub-TLV 
    
    
Vijayanand C             Expires February 2020               [page 3 ] 







 
INTERNET DRAFT   OTN fixed Timeslot constraints in OSPF    August 2019                

       The Connectivity matrix TLV is described below. 
    
    
    
       0                   1                   2                   3  
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |    Type( TBD)                 |         Length                |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                  Number of Link pairs                         | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+      
      |                        Link Identifier                        |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                        Link Identifier                        |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                  Number of Bitmap pair pairs                  | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+      
      |Bit Map Length                 | G | TimeSlot BitMap           | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                        BitMap(contd)                          |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |Bit Map Length                 |G  | TimeSlot BitMap           | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                        BitMap(contd)                          |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
 
                                      . 
                                      . 
                                      . 
                                      .                                   
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+      
      |                        Link Identifier                        |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                        Link Identifier                        |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                  Number of Bitmap pair pairs                  | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+      
      |Bit Map Length                 |G  | TimeSlot BitMap           | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                        BitMap(contd)                          |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+      
      |Bit Map Length                 |G  | TimeSlot BitMap           | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
      |                        BitMap(contd)                          |  
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
 
    
    
    Type 
    
         TBD    
    
Vijayanand C             Expires February 2020               [page 4 ] 







 
INTERNET DRAFT   OTN fixed Timeslot constraints in OSPF    August 2019                
   Length  
    
      
         Length of Sub-TLV 
    
   Number of Link pairs 
    
         The number of pair of link identifiers advertised. 
    
   Link Identifier 
    
    
           An identifier for the port that is described 
 
    
   Number of Bitmap pairs 
    
         The number of pair of bitmaps advertised. 
    
    
   Bit Map Length  
      
         Length in bits of the bitmap 
    
   G 
     
         Timeslot granularity 
         0:1.25 Gbps 
         1:2.5  Gbps 
         2:5 Gbps 
    
    Timeslot BitmAp 
    
         The BitMap representing the timeslots  
    
    
4. Operational overview 
        
       This section details the operation of the scheme proposed in 
   this document. 
     
        On some OTN switches there exists constraints on which OTN 
   timeslots can be cross connected to which other OTN timeslots. 
   Therefore, the node computing the path through such switches needs 
   to be aware of the OTN timeslots which are available and to which 
   other timeslots they can be cross connected. 
    
        The OTN timeslot sub-TLV is advertised along with the SCSI 
   defined in section 4.1 of RFC7138[RFC7138] as a separate sub-tlv of 
   the link tlv. The SCSI in RFC7138[RFC7138] only advertises the 
   number of timeslots available whereas this sub-TLV defines the exact 
   timeslots which are available in the form a bitmap. 
Vijayanand C             Expires February 2020               [page 5 ] 







 
INTERNET DRAFT   OTN fixed Timeslot constraints in OSPF    August 2019                
    
    
       The connectivity matrix sub-TLV is advertised in the node 
   attribute TLV of the opaque LSA defined in RFC3630[RFC3630} in line 
   with the connectivity matrix that is advertised in [RFC7580]. This 
   advertisement describes exactly which timeslots of an OTN interface 
   can be cross connected to which other timeslots of another OTN 
   Interface. For every pair of link identifiers, multiple pairs of 
   bitmaps are advertised, this denotes that timeslots, of the first 
   interface in the interface identifier pair, identified in the first 
   bitmap of the bitmap pair can be cross connected to timeslots, of 
   the second interface in the interface identifier pair, identified in 
   the second bitmap of the bitmap pair. Like this several interface 
   pairs and their corresponding bitmap pairs can be advertised.  
    For example, if on Interface I1 timeslots (t1,t3,t5) can be cross-
   connected to timeslots ( t2,t4,t6) on Interface I2 and ( t2,t4,t6)on 
   Interface I1 can be cross-connected to  (t1,t3,t5) on Interface I2, 
   then there will be one interface Identifier pair (I1,I2) advertised 
   with two bitmap pairs corresponding to (t1,t3,t5), (t2,t4,t6) and ( 
   t2,t4,t6), ( t1,t3,t5) 
    
      The above mentioned sub-TLVs together would help the node which 
   is computing the path to determine which timeslot to select on each 
   of the OTN ports to route the LSP on OTN switches which have 
   restriction on cross connecting OTN timeslots. 
    
      
 
    
5. Interoperability Considerations 
    
       The feature described in this document would be operational only 
   if all the OSPF routers in area support the extension described 
   above.  
    
6. Security considerations 
        
      None 
    
7. IANA Considerations 
 
   IANA needs to allocate a new Type for the OTN timeslot sub-TLV 
   described in section 3.1 and a new Type for the connectivity matrix 
   sub-TLV described in section 3.2 
    
8. Authors' Address 
    
   Vijayanand Chandrasekar
   Individual Contributor

   Email: vijayanandc159@outlook.com 
        
9. References 
Vijayanand C             Expires February 2020               [page 6 ] 








 
INTERNET DRAFT   OTN fixed Timeslot constraints in OSPF    August 2019                
    
 
9.1 Normative References 
    
   [RFC7138], D. Ceccarelli, F. Zhang, S. Belotti, R. Rao and J. Drake, 
   " Traffic Engineering Extensions to OSPF for GMPLS Control of 
   Evolving G.709 Optical Transport Networks ",RFC7138,March 2014. 
   
   [RFC7580], F. Zhang, Y. Lee, J.Han, G. Bernstein and Y. Xu, " OSPF- 
   TE Extensions for General Network Element Constraints 
   ",RFC7580, June 2015. 
    
   [RFC3630], D. Katz, K. Kompella and D. Yeung, " Traffic Engineering 
   (TE) Extensions to OSPF Version 2", RFC3630, September 2003 
. 
9.2 Informative references 
 
    [RFC2110]  Bradner, S., "Key words for use in RFCs to Indicate 
   Requirement Levels", RFC 2119, March 1997. 
    
   [RFC5226] T. Narten and H. Alvestrand, "Guidelines for Writing an 
   IANA Considerations Section in RFCs", RFC 5226. 
    
                                         


























Vijayanand C             Expires February 2020               [page 7 ] 










