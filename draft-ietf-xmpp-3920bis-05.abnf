jid             = [ localpart "@" ] domain [ "/" resource ]
localpart       = 1*(nodepoint)
                        ; a "nodepoint" is a UTF-8 encoded Unicode code
                        ; point that satisfies the Nodeprep profile of
                        ; stringprep
domain          = fqdn / address-literal
fqdn            = *(ldhlabel ".") toplabel
ldhlabel        = letdig [*61(ldh) letdig]
toplabel        = ALPHA   *61(ldh) letdig
letdig          = ALPHA / DIGIT
ldh             = ALPHA / DIGIT / "-"
address-literal = IPv4address / IPv6address
                        ; the "IPv4address" and "IPv6address" rules are
                        ; defined in RFC 3986
resource        = 1*(resourcepoint)
                        ; a "resourcepoint" is a UTF-8 encoded Unicode
                        ; code point that satisfies the Resourceprep
                        ; profile of stringprep

from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='example.net'
to='im.example.com'
version='1.0'
xmlns='jabber:server'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='g4qSvGvBxJ+xeAd7QKezOQJFFlw='
to='example.net'
version='1.0'
xmlns='jabber:server'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='unknown.host.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='example.net'
to='foo.im.example.com'
version='1.0'
xmlns='jabber:server'
from='im.example.com'
id='g4qSvGvBxJ+xeAd7QKezOQJFFlw='
to='example.net'
version='1.0'
xmlns='jabber:server'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='example.net'
to='example.org'
version='1.0'
xmlns='jabber:server'
from='im.example.com'
id='g4qSvGvBxJ+xeAd7QKezOQJFFlw='
to='example.net'
version='1.0'
xmlns='jabber:server'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='example.net'
to='im.example.com'
id='unknown-id'
type='invalid'/>

xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
id='some-id'
to='im.example.com'
type='subscribe'>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
href='http://denmark.example/2003/12/13/atom03'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='11.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
to='romeo@example.net'
to='juliet@im.example.com/balcony'
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='++TR84Sm6A3hnt3Q065SnAbbk3Y='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
to='romeo@example.net'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='t7AMCin9zjMNwQKDnplntZPIDEI='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='vgKi/bkYME8OAj4rlXMkpucAqe4='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='vgKi/bkYME8OAj4rlXMkpucAqe4='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
mechanism='PLAIN'>AGp1bGlldAByMG0zMG15cjBtMzA=</auth>

from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='gPybzaOzBmaADgxKXu9UClbprp0='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
mechanism='PLAIN'>AGp1bGlldAByMG0zMG15cjBtMzA=</auth>

mechanism='PLAIN'>AGp1bGlldAByMG0zMG15cjBtMzA=</auth>

mechanism='DIGEST-MD5'>[ ... ]</auth>

mechanism='CRAM-MD5'/>

mechanism='ANONYMOUS'>[ ... some-long-token ... ]</auth>

mechanism='PLAIN'>AGp1bGlldAByMG0zMG15cjBtMzA=</auth>

mechanism='CRAM-MD5'>[ ... ]</auth>

from='im.example.com'
id='gPybzaOzBmaADgxKXu9UClbprp0='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
to='romeo@example.net'>
to='juliet@im.example.com'
id='some-id'
to='im.example.com'
type='subscribe'>
id='some-id'
to='juliet@im.example.com/balcony'
type='error'>
id='subscriptions1'
to='pubsub.example.com'
type='get'>
id='subscriptions1'
to='juliet@im.example.com/balcony'
type='error'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
xmlns='http://jabber.org/protocol/pubsub#errors'
feature='retrieve-subscriptions'/>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'
type='error'>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'
type='error'>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'
type='error'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
to='nosuchroom@conference.example.org/foo'/>

to='userfoo@example.com/bar'
type='error'>
from='juliet@im.example.com/balcony'
to='ch@r@cters@muc.example.com/JulieC'>
from='ch@r@cters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'
type='error'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'
type='error'>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'>
id='roster2'
type='get'>
to='juliet@capulet.com/balcony'
id='roster2'>
id='items1'
to='pubsub.example.com'
type='get'>
id='items1'
to='romeo@example.net/foo'
type='error'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'
type='error'>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
from='juliet@im.example.com/balcony'
to='characters@muc.example.com/JulieC'>
from='characters@muc.example.com/JulieC'
to='juliet@im.example.com/balcony'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
id='items1'
to='pubsub.example.com'
type='get'>
id='items1'
to='romeo@example.net/foo'
type='error'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
to='juliet@im.example.com'>
to='romeo@example.net'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
from='romeo@example.net/orchard'
to='playbot@shakespeare.example.com'
from='playbot@shakespeare.example.com'
to='romeo@example.net/orchard'
type='error'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
from='northumberland@shakespeare.example'
id='richard2-4.1.247'
to='kingrichard@royalty.england.example'>
condition='deliver'
value='stored'/>
id='amp1'
to='northumberland@example.net/field'
type='error'>
from='kingrichard@example.org'
status='error'
to='northumberland@example.net/field'>
condition='deliver'
value='stored'/>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
condition='deliver'
value='stored'/>
id='unsub1'
to='pubsub.example.com'
type='set'>
node='my_musings'
jid='romeo@example.net'/>
id='unsub1'
to='romeo@example.net/foo'
type='error'>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
xmlns='http://jabber.org/protocol/pubsub#errors'/>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'/>
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'>
id='roster1'
type='get'>
node='http://exodus.jabberstudio.org/caps'
ver='0.9'/>
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='t7AMCin9zjMNwQKDnplntZPIDEI='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='vgKi/bkYME8OAj4rlXMkpucAqe4='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
mechanism='PLAIN'>AGp1bGlldAByMG0zMG15cjBtMzA=</auth>

from='juliet@im.example.com'
to='im.example.com'
version='1.0'
xmlns='jabber:client'
from='im.example.com'
id='gPybzaOzBmaADgxKXu9UClbprp0='
to='juliet@im.example.com'
version='1.0'
xmlns='jabber:client'
to='romeo@example.net'
to='juliet@im.example.com/balcony'
from='im.example.com'
to='example.net'
version='1.0'
xmlns='jabber:server'
from='example.net'
id='hTiXkW+ih9k2SqdGkk/AZi0OJ/Q='
to='im.example.com'
version='1.0'
xmlns='jabber:server'
from='im.example.com'
to='example.net'
version='1.0'
xmlns='jabber:server'
from='example.net'
id='RChdjlgj/TIBcbT9Keu31zDihH4='
to='im.example.com'
version='1.0'
xmlns='jabber:server'
mechanism='EXTERNAL'/>aW0uZXhhbXBsZS5jb20=</auth>

from='im.example.com'
to='example.net'
version='1.0'
xmlns='jabber:server'
from='example.net'
id='MbbV2FeojySpUIP6J91qaa+TWHM='
to='im.example.com'
version='1.0'
xmlns='jabber:server'
to='romeo@example.net'
to='juliet@im.example.com/balcony'
subjectAltName=otherName:id-on-xmppAddr;UTF8:juliet@im.example.com
targetNamespace='http://etherx.jabber.org/streams'
xmlns='http://etherx.jabber.org/streams'
elementFormDefault='unqualified'>

minOccurs='0'
maxOccurs='unbounded'/>
minOccurs='0'
maxOccurs='unbounded'/>
minOccurs='0'
maxOccurs='1'/>
minOccurs='0'
maxOccurs='1'/>
targetNamespace='urn:ietf:params:xml:ns:xmpp-streams'
xmlns='urn:ietf:params:xml:ns:xmpp-streams'
elementFormDefault='qualified'>

targetNamespace='urn:ietf:params:xml:ns:xmpp-tls'
xmlns='urn:ietf:params:xml:ns:xmpp-tls'
elementFormDefault='qualified'>

targetNamespace='urn:ietf:params:xml:ns:xmpp-sasl'
xmlns='urn:ietf:params:xml:ns:xmpp-sasl'
elementFormDefault='qualified'>

minOccurs='1'
maxOccurs='unbounded'
type='xs:NMTOKEN'/>
minOccurs='0'
minOccurs='unbounded'/>
type='xs:NMTOKEN'
use='required'/>
targetNamespace='urn:ietf:params:xml:ns:xmpp-bind'
xmlns='urn:ietf:params:xml:ns:xmpp-bind'
elementFormDefault='qualified'>

minOccurs='0'
minOccurs='unbounded'/>
targetNamespace='urn:ietf:params:xml:ns:xmpp-stanzas'
xmlns='urn:ietf:params:xml:ns:xmpp-stanzas'
elementFormDefault='qualified'>

