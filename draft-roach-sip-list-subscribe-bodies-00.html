<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Application of Event Package Bodies to Subscriptions to
      Lists of Resources in the Session Initiation Protocol (SIP)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Application of Event Package Bodies to Subscriptions to
      Lists of Resources in the Session Initiation Protocol (SIP)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">SIP WG</td><td class="header">A. Roach</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Tekelec</td></tr>
<tr><td class="header">Expires: January 3, 2009</td><td class="header">July 02, 2008</td></tr>
</table></td></tr></table>
<h1><br />Application of Event Package Bodies to Subscriptions to
      Lists of Resources in the Session Initiation Protocol (SIP)<br />draft-roach-sip-list-subscribe-bodies-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on January 3, 2009.</p>

<h3>Abstract</h3>

<p>
    This document specifies a mechanism by which subscriptions
    to the state of request-contained ("ad-hoc") lists of resources
    can have event-package-defined bodies applied to each of the
    contained resources.
  
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
List Subscription Bodies<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.</a>&nbsp;
Negotitaion of Support<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#xml-format">2.2.</a>&nbsp;
Extension to the Resource Lists Data Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.3.</a>&nbsp;
Application of multipart/related MIME Type<br />
<a href="#anchor5">3.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.</a>&nbsp;
Subscription to Presence Event Package with Filters<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.2.</a>&nbsp;
Subscription to XCAP Diff Event Package<br />
<a href="#anchor8">4.</a>&nbsp;
Security Considerations<br />
<a href="#anchor9">5.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">5.1.</a>&nbsp;
XML Namespace Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">5.2.</a>&nbsp;
XML Schema Registration<br />
<a href="#rfc.references1">6.</a>&nbsp;
References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
      The SIP-specific event notification protocol extension
      speficied by RFC 3265 <a class='info' href='#RFC3265'>[RFC3265]<span> (</span><span class='info'>Roach, A., &ldquo;Session Initiation Protocol (SIP)-Specific Event Notification,&rdquo; June&nbsp;2002.</span><span>)</span></a> provides
      the ability for event packages to define bodies for use
      in SUBSCRIBE messages. These bodies generally provide
      information that modifies the behavior of the subscription,
      such as filtering or throttling the information that arrives
      in subsequent NOTIFY messages.
    
</p>
<p>
      The extension for susbcriptions to predefined lists of
      resoueces <a class='info' href='#RFC4662'>[RFC4662]<span> (</span><span class='info'>Roach, A., Campbell, B., and J. Rosenberg, &ldquo;A Session Initiation Protocol (SIP) Event Notification Extension for Resource Lists,&rdquo; August&nbsp;2006.</span><span>)</span></a> defines a mechanism
      by which a single SUBSCRIBE message can be used to retrieve
      the state of multiple resources. This is achieved by defining,
      via some non-SIP mechanism, a list of resources and associtating
      these resources with a SIP URI. Subscribers can then subscribe
      to this single SIP URI and receive state information for
      each resource in the associated list.
    
</p>
<p>
      The extension for subscriptions to request-contatined ("ad-hoc")
      lists of resources <a class='info' href='#I-D.ietf-sip-uri-list-subscribe'>[I&#8209;D.ietf&#8209;sip&#8209;uri&#8209;list&#8209;subscribe]<span> (</span><span class='info'>Camarillo, G., Roach, A., and O. Levin, &ldquo;Subscriptions to Request-Contained Resource Lists in the Session Initiation  Protocol (SIP),&rdquo; November&nbsp;2007.</span><span>)</span></a>
      specifies a mechanism for subscribing to a list of resources
      in SIP, while defining the list of resources at the time the
      subscription is created. This is performed by including the
      list of the URIs to which a list subscription is desired in
      the body of the SUBSCRIBE message.
    
</p>
<p>
      The current set of mechanisms for subscribing to a list of
      several resources does not currently provide the means for
      specification of the body or bodies that are to apply to
      each of the subscriptions. For certain types of subscriptions,
      such as presence subscriptions, this creates an inconvenience,
      as filters cannot be adequately conveyed on a per-resource basis.
      For other event packages, such as XCAP diff
      <a class='info' href='#I-D.ietf-simple-xcap-diff'>[I&#8209;D.ietf&#8209;simple&#8209;xcap&#8209;diff]<span> (</span><span class='info'>Rosenberg, J. and J. Urpalainen, &ldquo;An Extensible Markup Language (XML) Document Format for Indicating A Change  in XML Configuration Access Protocol (XCAP) Resources,&rdquo; May&nbsp;2008.</span><span>)</span></a>, this provides
      a complete barrier to operation, as XCAP diff subscriptions
      require the presence of SUBSCRIBE bodies to function at all.
    
</p>
<p>
      This document proposes a solution to this situation by the
      optional application of a multipart/related <a class='info' href='#RFC2387'>[RFC2387]<span> (</span><span class='info'>Levinson, E., &ldquo;The MIME Multipart/Related Content-type,&rdquo; August&nbsp;1998.</span><span>)</span></a>
      body in ad-hoc list
      subscriptions. In this multipart/related document, the root
      document contains the ad-hoc list of resources to which the
      subscription is being established, while the additional body parts
      contain information relevant to the event-package being invoked.
    
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
List Subscription Bodies</h3>

<p>
      Subscribers making use of ad-hoc list subscriptions can indicate
      bodies to be applied to one or more of the resources on the list
      by using a multipart/related body, as described in the following
      sections.
    
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Negotitaion of Support</h3>

<p>
        [Open Issue: should we simply rely on the normal
         SIP content-type negotiate here? Or do we need to
         add yet another option tag to explicitly signal
         support for this behavior?]
      
</p>
<a name="xml-format"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Extension to the Resource Lists Data Format</h3>

<p>
        This document defines an extension to the XML resource
        list data format <a class='info' href='#RFC4826'>[RFC4826]<span> (</span><span class='info'>Rosenberg, J., &ldquo;Extensible Markup Language (XML) Formats for Representing Resource Lists,&rdquo; May&nbsp;2007.</span><span>)</span></a> that allows
        binding of resource list elements to body parts in a
        multipart MIME body. To acheive this, this document adds
        a new "cid" attribute to the &lt;entry> element of the
        resource list document format. This "cid" attribute binds
        the resource to a body part contained within the same
        multipart MIME document as the resource list itself
        appears. For resource lists appearing outside of the
        context of a multipart MIME body, the "cid" attribute has
        no meaning, and can safely be ignored.
      
</p>
<p>
        The schema for the new "cid" attribute is as follows:
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;xs:schema targetNamespace="urn:ietf:params:xml:ns:rl-cid"
       xmlns="urn:ietf:params:xml:ns:rl-cid"
       xmlns:rls="urn:ietf:params:xml:ns:resource-lists"
       xmlns:xs="http://www.w3.org/2001/XMLSchema"
       elementFormDefault="qualified"
       attributeFormDefault="unqualified"&gt;

      &lt;xs:import namespace="urn:ietf:params:xml:ns:resource-lists"
        schemaLocation="urn:ietf:params:xml:schema:resource-lists"/&gt;

      &lt;xs:attribute name="cid" type="xs:string"/&gt;
   &lt;/xs:schema&gt;
</pre></div>
<p>
        [TODO: I'm not completely certain that this schema is 100% correct
         -- how do we indicate that is specific to the &lt;entry> element?]
      
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Application of multipart/related MIME Type</h3>

<p>
        To apply event-package-defined bodies to a resource in an
        ad-hoc list subscription, subscribers compose a SUBSCRIBE
        message with a top-level MIME body type of "multipart/related."
        The root of this document will be the resource list (of
        content type "application/resource-lists+xml") that defines
        the list of resources to which the request pertains. The remaing
        sections in the multipart/related document will contain bodies
        that are to be interpreted according to the event package
        indicated in the SUBSCRIBE message "Event" header field.
      
</p>
<p>
        Within the resource list document, any
        &lt;entry> to which an event-package-defined body is to be
        applied will also contain a "cid" attribute. This "cid"
        attribute identifies a section within the multipart/related
        document; this section contains an event-package-specific 
        document that is to be applied to the corresponding
        resource, according to the rules of the event package. 
      
</p>
<p>
        In many cases, such as when the event-package-specific bodies
        are filtering the state that is to be sent for a resouce, the
        body to be applied may be common for several resources. To allow
        for efficient encoding of these cases, multiple &lt;entry>
        elements may refer to the same cid. The section indicated
        by the cid is appplies to every &lt;entry> that references it.
      
</p>
<p>
        Implementors of the mechanism defined in this document are
        cautioned to take particular care that Content-Disposition
        headers are associated with the proper MIME body. For example,
        the top-level MIME body, of type "multipart/related", will not
        contain a "Content-Disposition" of "recipient-list"; however,
        its root document, of type "aapplication/resource-lists+xml",
        will.
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Examples</h3>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Subscription to Presence Event Package with Filters</h3>

<p>
        This example shows the SUBSCRIBE message for a subscription
        to an ad-hoc list of presence information
        <a class='info' href='#I-D.ietf-simple-xcap-diff'>[I&#8209;D.ietf&#8209;simple&#8209;xcap&#8209;diff]<span> (</span><span class='info'>Rosenberg, J. and J. Urpalainen, &ldquo;An Extensible Markup Language (XML) Document Format for Indicating A Change  in XML Configuration Access Protocol (XCAP) Resources,&rdquo; May&nbsp;2008.</span><span>)</span></a>, with the
        application of a single notification filter
        <a class='info' href='#RFC4660'>[RFC4660]<span> (</span><span class='info'>Khartabil, H., Leppanen, E., Lonnfors, M., and J. Costa-Requena, &ldquo;Functional Description of Event Notification Filtering,&rdquo; September&nbsp;2006.</span><span>)</span></a> to all of the indicated resources.
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  SUBSCRIBE sip:rls@example.com SIP/2.0
  Via: SIP/2.0/TCP terminal.example.com;branch=z9hG4bKDlg07GFl
  Max-Forwards: 70
  To: RLS &lt;sip:rls@example.com&gt;
  From: &lt;sip:adam@example.com&gt;;tag=sg83ltmq
  Call-ID: srag0983kgo@terminal.example.com
  CSeq: 1 SUBSCRIBE
  Contact: &lt;sip:terminal.example.com&gt;
  Event: xcap-diff; diff-processing=agregate
  Expires: 7200
  Require: recipient-list-subscribe
  Supported: eventlist
  Accept: application/pidf+xml
  Accept: application/rlmi+xml
  Accept: multipart/related
  Accept: multipart/signed
  Accept: multipart/encrypted
  Content-Type: multipart/related;
      type="application/resource-lists+xml";
      start="&lt;nXYxAE@example.com&gt;";
      boundary="05HOsJ2YFPIYgttHCr0m"
  Content-Length: [TBD]

  --05HOsJ2YFPIYgttHCr0m
  Content-ID: &lt;nXYxAE@example.com&gt;
  Content-Type: application/resource-lists+xml;charset="UTF-8"
  Content-Disposition: recipient-list

  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;resource-lists xmlns="urn:ietf:params:xml:ns:resource-lists"
      xmlns:rc="urn:ietf:params:xml:ns:rl-cid"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;list&gt;
      &lt;entry uri="sip:buddies@dallas.example.com"
             rc:cid="bUZBsM@example.com" /&gt;
      &lt;entry uri="sip:buddies@tokyo.example.org"
             rc:cid="bUZBsM@example.com" /&gt;
    &lt;/list&gt;
  &lt;/resource-lists&gt;

  --05HOsJ2YFPIYgttHCr0m
  Content-ID: &lt;bUZBsM@example.com&gt;
  Content-Type: application/simple-filter+xml;charset="UTF-8"

  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;filter-set xmlns="urn:ietf:params:xml:ns:simple-filter"&gt;
    &lt;ns-bindings&gt;
      &lt;ns-binding prefix="pidf" urn="urn:ietf:params:xml:ns:pidf"/&gt;
    &lt;/ns-bindings&gt;
    &lt;filter id="999" uri="sip:sarah@example.com"&gt;
      &lt;what&gt;
        &lt;include type="namespace"&gt;
          urn:ietf:params:xml:ns:pidf&lt;/include&gt;
        &lt;exclude&gt;
          //pidf:tuple/pidf:note&lt;/exclude&gt;
      &lt;/what&gt;
    &lt;/filter&gt;
    &lt;filter id="8439"&gt;
      &lt;what&gt;
        &lt;include&gt;
          //pidf:tuple/pidf:status/pidf:basic&lt;/include&gt;
      &lt;/what&gt;
    &lt;/filter&gt;
  &lt;/filter-set&gt;

  --05HOsJ2YFPIYgttHCr0m--
</pre></div>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Subscription to XCAP Diff Event Package</h3>

<p>
        This example shows the SUBSCRIBE message for a subscription
        to an ad-hoc list of XCAP-diff 
        <a class='info' href='#I-D.ietf-simple-xcap-diff'>[I&#8209;D.ietf&#8209;simple&#8209;xcap&#8209;diff]<span> (</span><span class='info'>Rosenberg, J. and J. Urpalainen, &ldquo;An Extensible Markup Language (XML) Document Format for Indicating A Change  in XML Configuration Access Protocol (XCAP) Resources,&rdquo; May&nbsp;2008.</span><span>)</span></a>
        resources. This would be
        applicable, for example, if a client wants to monitor resources
        on multiple XCAP servers through a single subscription.
      
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  SUBSCRIBE  sip:rls@example.com SIP/2.0
  Via: SIP/2.0/TCP terminal.example.com;branch=z9hG4bKwYb6QREiCL
  Max-Forwards: 70
  To: RLS &lt;sip:rls@example.com&gt;
  From: &lt;sip:adam@example.com&gt;;tag=ie4hbb8t
  Call-ID: cdB34qLToC@terminal.example.com
  CSeq: 1 SUBSCRIBE
  Contact: &lt;sip:terminal.example.com&gt;
  Event: xcap-diff; diff-processing=agregate
  Expires: 7200
  Require: recipient-list-subscribe
  Supported: eventlist
  Accept: application/xcap-diff+xml
  Accept: application/rlmi+xml
  Accept: multipart/related
  Accept: multipart/signed
  Accept: multipart/encrypted
  Content-Type: multipart/related;
      type="application/resource-lists+xml";
      start="&lt;nXYxAE@example.com&gt;";
      boundary="50UBfW7LSCVLtggUPe5z"
  Content-Length: [TBD]

  --50UBfW7LSCVLtggUPe5z
  Content-ID: &lt;nXYxAE@example.com&gt;
  Content-Type: application/resource-lists+xml;charset="UTF-8"
  Content-Disposition: recipient-list

  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;resource-lists xmlns="urn:ietf:params:xml:ns:resource-lists"
      xmlns:rc="urn:ietf:params:xml:ns:rl-cid"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
    &lt;list&gt;
      &lt;entry uri="sip:xcap@dallas.example.com"
             rc:cid="bUZBsM@example.com" /&gt;
      &lt;entry uri="sip:xcap@tokyo.example.org"
             rc:cid="ZvSvkz@example.com" /&gt;
    &lt;/list&gt;
  &lt;/resource-lists&gt;

  --50UBfW7LSCVLtggUPe5z
  Content-ID: &lt;bUZBsM@example.com&gt;
  Content-Type: application/resource-lists+xml;charset="UTF-8"
  Content-Disposition: [!!! XCAP Event still needs to define one !!!]

  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;resource-lists xmlns="urn:ietf:params:xml:ns:resource-lists"&gt;
   &lt;list&gt;
    &lt;entry uri="tests/users/sip:alice@dallas.example.com/"/&gt;
    &lt;entry uri="tests/users/sip:bob@dallas.example.com/"/&gt;
   &lt;/list&gt;
  &lt;/resource-lists&gt;

  --50UBfW7LSCVLtggUPe5z
  Content-ID: &lt;ZvSvkz@example.com&gt;
  Content-Type: application/resource-lists+xml;charset="UTF-8"
  Content-Disposition: [!!! XCAP Event still needs to define one !!!]

  &lt;?xml version="1.0" encoding="UTF-8"?&gt;
  &lt;resource-lists xmlns="urn:ietf:params:xml:ns:resource-lists"&gt;
   &lt;list&gt;
    &lt;entry uri="tests/users/sip:hiroshi@tokyo.example.org/"/&gt;
    &lt;entry uri="tests/users/sip:keiko@tokyo.example.org/"/&gt;
   &lt;/list&gt;
  &lt;/resource-lists&gt;

  --50UBfW7LSCVLtggUPe5z--
</pre></div>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
      The security considerations that apply to SIP list
      subscriptions also apply to this work, as do the
      considerations surrounding the use of filters for
      state subscriptions. The author of this document has
      not identified any unique security considerations
      that arise from the combination of these two protocol
      extensions.
    
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
XML Namespace Registration</h3>

<p>
        This section registers a new XML namespace in the
        IANA XML registry, as described in RFC 3688
        <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
      
</p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd> urn:ietf:params:xml:ns:rl-cid <br />

</dd>
<dt>Registrant Contact:</dt>
<dd>
           IETF, SIP working group &lt;sip@ietf.org><br />

        
</dd>
<dt>XML:</dt>
<dd>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

  BEGIN
   &lt;?xml version="1.0"?&gt;
   &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML Basic 1.0//EN"
     "http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd"&gt;
   &lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
   &lt;head&gt;
     &lt;meta http-equiv="content-type"
        content="text/html;charset=iso-8859-1"/&gt;
     &lt;title&gt;Resource List CID Attribute&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
     &lt;h1&gt;Namespace for a CID attribute in Resource Lists&lt;/h1&gt;
     &lt;h2&gt;urn:ietf:params:xml:ns:rl-cid&lt;/h2&gt;
     &lt;p&gt;See &lt;a href="[URL of published RFC]"&gt;RFCXXXX
     [NOTE TO IANA/RFC-EDITOR: Please replace XXXX with
     the RFC number of this specification.]&lt;/a&gt;.&lt;/p&gt;
   &lt;/body&gt;
   &lt;/html&gt;
  END
</pre></div>
        
</dd>
</dl></blockquote>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
XML Schema Registration</h3>

<p>
        This section registers a new XML Schema in the
        IANA XML registry, as described in RFC 3688
        <a class='info' href='#RFC3688'>[RFC3688]<span> (</span><span class='info'>Mealling, M., &ldquo;The IETF XML Registry,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
      
</p>
<blockquote class="text"><dl>
<dt>URI:</dt>
<dd> urn:ietf:params:xml:ns:rl-cid <br />

</dd>
<dt>Registrant Contact:</dt>
<dd>
           IETF, SIP working group &lt;sip@ietf.org><br />

        
</dd>
</dl></blockquote>
<p>
        The schema for this registration can be found in
        <a class='info' href='#xml-format'>Section&nbsp;2.2<span> (</span><span class='info'>Extension to the Resource Lists Data Format</span><span>)</span></a>.
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.&nbsp;References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-sip-uri-list-subscribe">[I-D.ietf-sip-uri-list-subscribe]</a></td>
<td class="author-text">Camarillo, G., Roach, A., and O. Levin, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-uri-list-subscribe-02.txt">Subscriptions to Request-Contained Resource Lists in the Session Initiation  Protocol (SIP)</a>,&rdquo; draft-ietf-sip-uri-list-subscribe-02 (work in progress), November&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-sip-uri-list-subscribe-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-simple-xcap-diff">[I-D.ietf-simple-xcap-diff]</a></td>
<td class="author-text">Rosenberg, J. and J. Urpalainen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-diff-09.txt">An Extensible Markup Language (XML) Document Format for Indicating A Change  in XML Configuration Access Protocol (XCAP) Resources</a>,&rdquo; draft-ietf-simple-xcap-diff-09 (work in progress), May&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-simple-xcap-diff-09.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2387">[RFC2387]</a></td>
<td class="author-text"><a href="mailto:XIson@cnj.digex.com">Levinson, E.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2387">The MIME Multipart/Related Content-type</a>,&rdquo; RFC&nbsp;2387, August&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2387.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2387.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2387.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3265">[RFC3265]</a></td>
<td class="author-text">Roach, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3265">Session Initiation Protocol (SIP)-Specific Event Notification</a>,&rdquo; RFC&nbsp;3265, June&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3265.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3688">[RFC3688]</a></td>
<td class="author-text">Mealling, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3688">The IETF XML Registry</a>,&rdquo; BCP&nbsp;81, RFC&nbsp;3688, January&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3688.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4660">[RFC4660]</a></td>
<td class="author-text">Khartabil, H., Leppanen, E., Lonnfors, M., and J. Costa-Requena, &ldquo;<a href="http://tools.ietf.org/html/rfc4660">Functional Description of Event Notification Filtering</a>,&rdquo; RFC&nbsp;4660, September&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4660.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4662">[RFC4662]</a></td>
<td class="author-text">Roach, A., Campbell, B., and J. Rosenberg, &ldquo;<a href="http://tools.ietf.org/html/rfc4662">A Session Initiation Protocol (SIP) Event Notification Extension for Resource Lists</a>,&rdquo; RFC&nbsp;4662, August&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4662.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4826">[RFC4826]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4826">Extensible Markup Language (XML) Formats for Representing Resource Lists</a>,&rdquo; RFC&nbsp;4826, May&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4826.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Adam Roach</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tekelec</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">17210 Campbell Rd.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Suite 250</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dallas, TX  75252</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:adam@nostrum.com">adam@nostrum.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
