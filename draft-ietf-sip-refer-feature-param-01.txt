



SIP Working Group                                               O. Levin
Internet-Draft                                     Microsoft Corporation
Expires: July 17, 2006                                       A. Johnston
                                                       Tello Corporation
                                                        January 13, 2006


  Conveying Feature Tags with Session Initiation Protocol REFER Method
                 draft-ietf-sip-refer-feature-param-01

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on July 17, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2006).

Abstract

   This document extends the REFER method, defined in RFC 3515, to
   convey feature parameters defined in RFC 3840.








Levin & Johnston          Expires July 17, 2006                 [Page 1]

Internet-Draft         Feature Tags with SIP REFER          January 2006


Table of Contents

   1.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . . . 3
   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
   3.  Definitions . . . . . . . . . . . . . . . . . . . . . . . . . . 3
   4.  Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
     4.1.  isfocus Feature Tag Usage . . . . . . . . . . . . . . . . . 4
     4.2.  Voice and Video Feature Tags Usage  . . . . . . . . . . . . 4
     4.3.  Example with URI parameters and multiple feature tags . . . 4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . . . 5
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . 5
   8.  Normative References  . . . . . . . . . . . . . . . . . . . . . 5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 6
   Intellectual Property and Copyright Statements  . . . . . . . . . . 7




































Levin & Johnston          Expires July 17, 2006                 [Page 2]

Internet-Draft         Feature Tags with SIP REFER          January 2006


1.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [1].

   To simplify discussions of the REFER method and its extensions, three
   new terms are being used throughout the document:
   o  REFER-Issuer: the UA issuing the REFER request
   o  REFER-Recipient: the UA receiving the REFER request
   o  REFER-Target: the UA designated in the Refer-To URI


2.  Introduction

   This document extends REFER method defined in RFC 3515 [3] to be used
   with feature parameters defined in RFC 3840 [4].

   Feature tags are used by a UA to convey to another UA information
   about capabilities and features.  This information can be shared by a
   UA using a number of mechanisms including registration requests,
   OPTIONS responses, or shared in the context of a dialog by inclusion
   with a remote target URI (Contact URI).

   Feature tag information can be very useful to another UA.  It is
   especially useful prior to the establishment of a session.  For
   example, if a UA knows (through an OPTIONS query, for example) that
   the remote UA supports both video and audio, the calling UA might
   call offering video in the SDP.  Another example is when a UA knows
   that a remote UA is acting as a focus and hosting a conference.  In
   this case, the UA might first subscribe to the conference URI and
   find out details about the conference prior to sending an INVITE to
   join.

   This extension to the REFER method provides a mechanism by which the
   REFER-Issuer can provide this useful information about the REFER-
   Target capabilities and functionality to the REFER-Recipient by
   including feature tags in the Refer-To header field in a REFER
   request.


3.  Definitions

   The Refer-To BNF from RFC 3515:

   Refer-To = ("Refer-To" / "r") HCOLON ( name-addr / addr-spec )
                     * (SEMI generic-param)




Levin & Johnston          Expires July 17, 2006                 [Page 3]

Internet-Draft         Feature Tags with SIP REFER          January 2006


   is extended to:

   Refer-To = ("Refer-To" / "r") HCOLON ( name-addr / addr-spec )
                     * (SEMI refer-param)
   refer-param = generic-param / feature-param

   where feature-param is defined in Section 9 of RFC 3840 [4].

   Note that if any URI parameters are present, the entire URI must be
   enclosed in "&lt" and "&gt".  If no "&lt" and "&gt" are present, all
   parameters after the URI are header parameters, not URI parameters.


4.  Examples

4.1.  isfocus Feature Tag Usage

   The example below shows how the "isfocus" feature tag can be used by
   REFER-Issuer to tell the REFER-Recipient that the REFER-Target is a
   conference focus and, consequently, sending an INVITE will bring the
   REFER-Recipient into the conference:

   Refer-To: sip:conf44@example.com;isfocus

4.2.  Voice and Video Feature Tags Usage

   The example below shows how a REFER-Issuer can tell the REFER-
   Recipient that the REFER-Target supports audio and video and,
   consequently, that a video and audio session can be established by
   sending an INVITE to the REFER-Target:

   Refer-To: "Alice's Videophone" <sip:alice@videophone.example.com>
                   ;audio;video

4.3.  Example with URI parameters and multiple feature tags

   The example below shows how the REFER-Issuer can tell the REFER-
   Recipient that the REFER-Target is a voicemail server.  Note that the
   transport URI parameter is enclosed within the "&lt" and "&gt" so
   that it is not interpreted as a header parameter.

   Refer-To: <sip:alice-vm@example.com;transport=tcp>
                   ;actor="msg-taker";automata;audio


5.  IANA Considerations

   None.



Levin & Johnston          Expires July 17, 2006                 [Page 4]

Internet-Draft         Feature Tags with SIP REFER          January 2006


6.  Security Considerations

   Feature tags can provide sensitive information about a user or a UA.
   As such, RFC 3840 cautions against providing sensitive information to
   another party.  Once this information is given out, any use may be
   made of it, including relaying to a third party as in this
   specification.

   A REFER-Issuer MUST NOT create or guess feature tags - instead a
   feature tag included in a REFER SHOULD have been discovered in an
   authenticated and secure method (such as an OPTIONS response or from
   a remote target URI in a dialog) directly from the REFER-Target.

   It is RECOMMENDED that the REFER-Issuer includes in the Refer-To
   header field all feature tags that were listed in the most recent
   Contact header field of the REFER-Target.

   A feature tag provided by a REFER-Issuer can not be authenticated or
   certified directly from the REFER request.  As such, the REFER-
   Recipient MUST treat the information as hint.  If the REFER-Recipient
   application logic or user's action depends on the presence of the
   expressed feature, the feature tag can be verified.  For example, in
   order to do so, the REFER-Recipient can directly send an OPTIONS
   query to the REFER-Target over a secure (e.g. mutually authenticated
   and integrity protected) connection.  This protects the REFER-
   Recipient against incorrect or malicious feature tags being sent.


7.  Acknowledgements

   The authors would like to thank Jonathan Rosenberg for providing
   helpful guidance to this work.

8.  Normative References

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
        Levels", BCP 14, RFC 2119, March 1997.

   [2]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A.,
        Peterson, J., Sparks, R., Handley, M., and E. Schooler, "SIP:
        Session Initiation Protocol", RFC 3261, June 2002.

   [3]  Sparks, R., "The Session Initiation Protocol (SIP) Refer
        Method", RFC 3515, April 2003.

   [4]  Rosenberg, J., Schulzrinne, H., and P. Kyzivat, "Indicating User
        Agent Capabilities in the Session Initiation Protocol (SIP)",
        RFC 3840, August 2004.



Levin & Johnston          Expires July 17, 2006                 [Page 5]

Internet-Draft         Feature Tags with SIP REFER          January 2006


Authors' Addresses

   Orit Levin
   Microsoft Corporation
   One Microsoft Way
   Redmond, WA  98052
   USA

   Phone: 425-722-2225
   Email: oritl@microsoft.com


   Alan Johnston
   Tello Corporation
   999 Baker Way, Suite 250
   San Mateo, CA  94404

   Email: ajohnston@tello.com

































Levin & Johnston          Expires July 17, 2006                 [Page 6]

Internet-Draft         Feature Tags with SIP REFER          January 2006


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2006).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Levin & Johnston          Expires July 17, 2006                 [Page 7]


