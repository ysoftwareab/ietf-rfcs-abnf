Network Working Group                                       Jianhua Gao 
                                                                 Dan Li 
Internet Draft                                                   Huawei 
 
                                                       Snigdho Bardalai 
                                                         Richard Rabbat 
                                                                Fujitsu 
                                                                       
                                                         Diego Caviglia 
                                                          Dino Bramanti 
                                                               Ericsson 
Category: Standards Track                                             
                                                                       
Expires: April 2007                                      October, 2006 
 
                                      
      Problem and Applicability Statements for the use of Generalized 
    Multi-Protocol Label Switching (GMPLS) to Support Multiplex Section 
                    Shared Protection Ring (MS-SPRing) 
                                      
                   draft-gao-ccamp-gmpls-msspring-01.txt 


Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 

    

Abstract 
 
 
 
Li                       Expires April 2007                   [Page 1] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   In order to provide high availability for transport networks, link 
   protection technologies are adopted in the data plane. In present 
   Synchronous Digital Hierarchy (SDH) and Synchronous Optical Network 
   (SONET) optical transport networks, one of these protection 
   technologies, shared ring protection technologies, such as the 2/4-
   Fiber Bi-directional Multiplex Section Shared Protection Ring(MS-
   SPRing), are widely used. The same technologies can also be applied 
   in Optical Transport Networks (OTNs). This document describes a set 
   of issues to be addressed when applying GMPLS) to support MS-SPRings, 
   and sets out how GMPLS can be applied. 

Table of Contents 

    
   1. Introduction................................................3 
   2. Multiplex Section Shared Protection Ring Overview............3 
      2.1. 2-Fiber and 4-Fiber Bi-directional MS-SPRing............3 
   3. Use of MS-SPRings within GMPLS Networks......................3 
   4. Issues with MS-SPRing........................................3 
      4.1. Advertising a TE Link In an MS-SPRing...................4 
      4.2. Re-Advertising the TE Link in Failure States............5 
         4.2.1. Scenario for Two Fibers MS-SPRing..................6 
         4.2.2. Scenarios for Four Fibers MS-SPRing................7 
      4.3. LSP Re-Routing After MS-SPRing Failure..................8 
      4.4. Consistent Resource/Label Usage.........................9 
      4.5. SRLG Consideration......................................9 
      4.6. LSP End-to-end / Segment Recovery......................10 
      4.7. Ring Map configuration for squelching..................11 
      4.8. Data Plane and Control Plane misalignment..............11 
   5. Application of GMPLS to MS-SPRings..........................11 
      5.1. Routing...............................................12 
         5.1.1. TE Link Advertisement.............................12 
         5.1.2. Re-Advertising TE Links...........................13 
         5.1.3. SRLGs............................................13 
      5.2. Signaling.............................................14 
      5.3. LSP End-to-end / Segment Recovery......................14 
   6. Security Considerations.....................................14 
   7. Acknowledgments............................................15 
   8. References.................................................15 
      8.1. Normative References...................................15 
      8.2. Informative References.................................15 
   APPENDIX A: MS-SPRing Overview.................................16 
   a.   Information needed by MS-SPRing..........................17 
   b.   MS-SPRing Example........................................19 
   c.   Time Slot Interchange (TSI)..............................23 
   d.   Squelching..............................................24 
   9. Author's Addresses.........................................26 
 
 
Li                       Expires April 2007                   [Page 2] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   10. Full Copyright Statement...................................27 
   11. Intellectual Property Statement............................27 
    
1. Introduction 

   In order to provide high availability for transport networks, link 
   protection technologies are adopted in the data plane. In present 
   Synchronous Digital Hierarchy (SDH) and Synchronous Optical Network 
   (SONET)optical transport networks, shared ring protection 
   technologies, such as the 2/4-Fiber Bi-directional Multiplex Section 
   Shared Protection Ring(MS-SPRing) [G.841], are widely used. The same 
   technologies can also be applied in Optical Transport Networks (OTNs). 
   This document describes a set of issues to be addressed when applying 
   Generalized Multiprotocol Label Switching (GMPLS) to support MS-
   SPRings, and sets out how GMPLS can be applied. 

2. Multiplex Section Shared Protection Ring Overview 

2.1. 2-Fiber and 4-Fiber Bi-directional MS-SPRing 

   Please refer to Appendix for a quick MS-SPRing overview. 

3. Use of MS-SPRings within GMPLS Networks 

   In this document, we only consider how to run GMPLS over a data plane 
   that includes network elements participating in MS-SPRing protection 
   rings. Controlling or emulating MS-SPRing using GMPLS are out of 
   scope. 

   This document will describe the GMPLS requirements and applicability 
   for setting up of LSPs in a network that has a MS-SPRing or multiple 
   MS-SPRings. In general the topology can be viewed as: 

   - A single ring in the network 

   - Multiple interconnected rings in the network 

   This document will also cover GMPLS requirements and applicability 
   for setting up of LSPs with end-to-end recovery or segment recovery 
   capability in a network as described above. 

4. Issues with MS-SPRing 

   The following is a list summarizing the issues that need to be 
   addressed to enable an effective interworking and relationship 
   between GMPLS protocols policies and MS-SPRing inherent operating 
   rules. 
 
 
Li                       Expires April 2007                   [Page 3] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   o Advertising TE Links belonging to MS-SPRing rings; 

   o Avoiding label change within a MS-SPRing due to No TimeSlot 
      Interchange constraint imposed by underlying data plane; 

   o Ring Map configuration for squelching; 

   Possible misalignment, in case of failure recovered by MS-SPRing, 
   between the actual data plane path of LSP and what is stored in the 
   RRO. 

4.1. Advertising a TE Link In an MS-SPRing 

   When an MS-SPRing exists within a GMPLS network, it is able to 
   support multiple TE links between each pair of neighbor nodes in the 
   ring. Each TE link can use the features of the ring to provide 
   protection for the traffic it carries. 

   For a 2-Fiber bi-directional MS-SPRing, there are two fibers for each 
   span of the ring. Each fiber is equally divided into working and 
   protection channels, that is, each fiber provides protection for 
   traffic on the other fiber.  

   Using the terminology of [RFC4202], the resources (i.e. timeslots or 
   lambdas) on the data links that make up the ring have protection 
   types "Enhanced", "Shared", "Dedicated 1:1"(for 4-fiber bi-MS-SPRing 
   when there is a link failure in the ring) or "Extra Traffic". It is 
   also desirable to support unprotected traffic across the data link 
   whose part of resource has been configured with MS-SPring, so the 
   resources may also have protection type "Unprotected". 

   A 1:1 shared protection type TE link, for example, can be supported 
   by two types link resources: one type of link resource is used to 
   carry the protected traffic, another type of link resource is used to 
   carry the extra traffic. 

   The question arises of how to advertise the TE link between two nodes 
   in the ring. Note that according to the definition in section 1.2 of 
   [RFC4203], the GMPLS routing protocols only support one protection 
   type per TE link. But should we advertise the shared, extra-traffic, 
   or unprotected traffic capabilities of the link between the two nodes? 

   For a 4-Fiber bi-directional MS-SPRing, there are two pairs of fibers 
   for each span of the ring. Each pair of fibers is defined as working 
   or protection channels. The same issue of choosing which protection 
   capabilities to advertise exists for the 4-Fiber bi-directional MS-
   SPRing case. 
 
 
Li                       Expires April 2007                   [Page 4] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

4.2. Re-Advertising the TE Link in Failure States  

   In 2/4-Fiber MS-SPRing, if a fiber is broken, all the protection 
   capability of TE links in MS-SPRing will be affected. For example, in 
   4-Fiber MS-SPRing, when a working fiber is broken, all the protected 
   traffic carried by that fiber is switched to the protection fiber. 
   The broken link that previously offered "Enhanced" protection can now 
   only provide the "Shared" protection for the protected traffic. The 
   link in the same span with the broken link that was previously 
   offered "Extra Traffic" can not carry the extra traffic any more. The 
   other links in the ring that previously offered "Enhanced" protection 
   can now only provides the " Dedicated 1:1" protection for the 
   protected traffic . the other links in the ring that was previously 
   offered "Extra Traffic" can still carry the extra traffic. 

   The link protection type would normally be configured and should not 
   be affected by the link failure: either the link is available, or it 
   isn't. But the available link resources change in the event of the 
   link failure. 

   The question is how to advertise (or re-advertise) the TE links in 
   the case of a failure on the ring. There may have two options with 
   respect to this situation. 

   Option 1: Advertising TE link is not available 

   We may simply advertise the TE link with configured protection type 
   (enhanced or shared) is not available, because the TE link could not 
   provide the protected service as it was promised before. 

   Option 2: Advertising TE link is degraded but available 

   Even when the TE link is not available with previous protection type, 
   it can still be used to carry the traffic. Especially in the case of 
   where the transport resource is limited, if we can use the degraded 
   TE link to establish the LSP, the transport resource utilization 
   could be improved. For example, if the configured protection type of 
   the TE link is "enhanced", in case of the link failure in the ring, 
   the TE link may be advertised with "shared" temporary protection type. 
   If the requested service is "shared" protection type, then this TE 
   link can be selected to establish the LSP with requested protection 
   type to carry the traffic. Once the link failure is recovered, the 
   protection type of the TE link should also be restored as "enhanced" 
   protection type. 



 
 
Li                       Expires April 2007                   [Page 5] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   There are three typical fault scenarios, during the link failure, the 
   protection capability of TE links in MS-SPRing is described in the 
   following tables. 

4.2.1. Scenario for Two Fibers MS-SPRing 

              +---------+              +---------+ 
              |         |------------->|         | 
              |   TNE1  |     W1/P1    |   TNE2  | 
              |         |<-------------|         | 
              +---------+              +---------+ 
                ^     |                  ^     |   
                |     |                  |     |   
                |W4/P4|                  |W2/P2| 
                |     |                  |     |   
                |     v                  |     v   
              +---------+              +---------+ 
              |         |------------->|         | 
              |   TNE4  |     W3/P3    |   TNE3  | 
              |         |<-------------|         | 
              +---------+              +---------+ 
        Figure 1: MS-SPRing two fibers reference circuit 

   For two fibers MS-SPRing as shown in Figure 1, there are two TE links 
   in each pair of fibers. For example, W1 and P1 are in same pair of 
   fibers between TNE1 and TNE2. If the data link between TNE1 and TNE2 
   is broken, the protection capability which the TE links in the ring 
   can provide is as follows: 

   TE Link   Initial advertised      Able to provide protection 
           link protection type     capability after the link  
                             failure 
   ------------------------------------------------------------------- 
   W1        Shared              Unprotected 

   P1        Extra Traffic         Unavailable 

   W2        Shared              Unprotected 

   P2        Extra Traffic         Unavailable 

   W3        Shared              Unprotected 

   P3        Extra Traffic         Unavailable 

   W4        Shared              Unprotected 

 
 
Li                       Expires April 2007                   [Page 6] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   P4        Extra Traffic         Unavailable 

    

4.2.2. Scenarios for Four Fibers MS-SPRing 

              +----------+      W1      +----------+ 
              |          |------------->|          | 
              |          |<-------------|          | 
              |   TNE1   |              |   TNE2   | 
              |          |<-------------|          | 
              |          |------------->|          | 
              +----------+      P1      +----------+ 
                ^ |  ^ |                  | ^  | ^   
                | |  | |                  | |  | |   
              W4| |  | |P4              P2| |  | |W2 
                | |  | |                  | |  | | 
                | |  | |                  | |  | |  
                | v  | v                  V |  v |   
              +----------+      P3      +----------+ 
              |          |------------->|          | 
              |          |<-------------|          | 
              |   TNE4   |              |   TNE3   | 
              |          |------------->|          | 
              |          |<-------------|          | 
              +----------+      W3      +----------+ 
        Figure 2: MS-SPRing four fibers reference circuit 

   There are two failure scenarios in four fibers MS-SPRing: 

   Scenario 1: If the TE link W1 is broken in Figure 2, the protection 
   capability which the TE links in the ring can provide is as follows: 

   TE Link   Initial advertised      Able to provide protection 
           link protection type     capability after the link  
                             failure 
   ------------------------------------------------------------------- 
   W1        Enhanced             Shared 

   P1        Extra Traffic         Unavailable 

   W2        Enhanced             Dedicated 1:1 

   P2        Extra Traffic         Extra Traffic 

   W3        Enhanced             Dedicated 1:1 

 
 
Li                       Expires April 2007                   [Page 7] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   P3        Extra Traffic         Extra Traffic 

   W4        Enhanced             Dedicated 1:1 

   P4        Extra Traffic         Extra Traffic 

    

   Scenario 2: If the TE link W1 and P1 are broken in Figure 2, the 
   protection capability which the TE links in the ring can provide is 
   as follows: 

   TE Link   Initial advertised      Able to provide protection 
           link protection type     capability after the link  
                             failure 
   ------------------------------------------------------------------- 
   W1        Enhanced             Extra Traffic 

   P1        Extra Traffic         Unavailable 

   W2        Enhanced             Dedicated 1:1 

   P2        Extra Traffic         Unavailable 

   W3        Enhanced             Dedicated 1:1 

   P3        Extra Traffic         Unavailable 

   W4        Enhanced             Dedicated 1:1 

   P4        Extra Traffic         Unavailable 

    

4.3. LSP Re-Routing After MS-SPRing Failure 

   When a failure occurs in an MS-SPRing, the affected TE links may be  
   re-advertised in the network in answer to the question in the 
   previous section. LSPs that used the TE links across the ring may 
   still be able to carry traffic (using the protection capabilities of 
   the ring), or may have been displaced (because they were extra 
   traffic, or because they were unprotected). 

   The paths of the LSPs can be re-computed based on the current TE link 
   capabilities, and the re-routing process may be invoked if necessary.  


 
 
Li                       Expires April 2007                   [Page 8] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   The question to be answered here is which LSPs should be 
   recomputed/re-routed first: those that have degraded protection 
   (below the original service request level), but where the traffic is 
   still being delivered; or those where the traffic has been completely 
   disrupted? 

4.4. Consistent Resource/Label Usage 

   If there is a connection across the MS-SPRing through the two non-
   adjacent nodes then, according to the switching principle of MS-
   SPRing, when two link failures occur along the connection path in the 
   MS-SPRing and there is still physical connectivity between the two 
   non-adjacent nodes in the other direction around the MS-SPRing, the 
   connection can be protected. 

   Thus, if the label (time slot or wavelength) is changed at a transit 
   node along the LSP's path around the MS-SPRing, it may not be 
   possible to protect the LSP, and mis-connection may occur. 

   The question arises of how to ensure that the LSP is allocated the 
   same label (time slot or wavelength) along its path in the MS-SPRing 
   to ensure that the LSP gains full maximal protection. This means Time 
   Slot Interchange (TSI) is not allowed when the LSP switches from the 
   incoming span to the outgoing span part of the same MS-SPRing. TSI 
   can be allowed in case the incoming span and outgoing span belongs to 
   different MS-SPRings in the same node. 

   Regarding such constraint about avoidance of the TimeSlot Interchange 
   within MS-SPRing, you can find a brief description in section c of 
   the Appendix. 

4.5. SRLG Consideration 

   The nature of the MS-SPRing technology is that any failure in a ring 
   may affect all of the TE links which cross the MS-SPRing.  

   When computing paths across the network, it is desirable for the 
   computation to be aware of TE links that appear to be disjoint but 
   actually use the same underlying resources because these TE links are 
   subject to the same failure conditions. This is usually achieved by 
   defining a Shared Risk Link Group (SRLG) and having each TE link 
   advertise its membership of the same group. 

   The question is how to indicate that two TE links that cross an MS-
   SPRing that may not have the same entry or exit point in common are 
   members of the same SRLG, and how to coordinate the allocation of the 
   SRLG ID for advertisement by the end points of the TE links. 
 
 
Li                       Expires April 2007                   [Page 9] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

4.6. LSP End-to-end / Segment Recovery 

   Setting up LSPs with recovery in a network with MS-SPRing requires 
   that every non-MS-SPRing link in the LSP has a backup LSP in order to 
   provide end-to-end protection.  

   MS-SPRing links do not require any backup LSPs because there is a 
   backup route available for enhanced traffic that goes around the ring. 
   There is in fact a restriction in branching out from a MS-SPRing 
   entry point or merging at a MS-SPRing exit point. Whereas it is 
   allowed to merge at the MS-SPRing entry point and branch at the MS-
   SPRing exit point. 

        +-------------------+ 
        |                   | 
     +-----+             +-----+ 
     |  |  |             |  |  | 
     |--/  |             |  \--|  
     |--\  |A           B|  /--| 
     |  |  |             |  |  |   
     +-----+             +-----+ 
        |                   | 
        +-------------------+ 
    

   In the figure above if nodes A and B are MS-SPRing nodes then the 
   branch point at node A i.e. the ring entry point is not allowed. 
   Neither the merge point at node B i.e. the ring exit point is not 
   allowed. 

                       +-------------------+ 
                       |                   | 
       +-----+      +-----+             +-----+       +-----+ 
       |     |      |  |  |             |  |  |       |     | 
    <->|-----|------|--/  |             |  \--|-------|--   | 
       |  \  |A     |  |  |B           C|  |  |      D|  \  | 
       +-----+      +-----+             +-----+       +-----+ 
          |            |                   |             | 
          |            |     MS-SPRing     |             | 
       +-----+      +-----+             +-----+       +-----+ 
       |  \  |      |  |  |             |  |  |       |  \  | 
       |   --|------|--/  |             |  \--|-------|-----|<-> 
       |     |E     |     |F           G|     |      H|     | 
       +-----+      +-----+             +-----+       +-----+ 
                       |                   | 
                       +-------------------+ 
    
 
 
Li                       Expires April 2007                  [Page 10] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   In the figure above nodes B, C, F and G are part of the MS-SPRing. 
   Nodes A, E, D and H are non-MS-SPRing nodes. This example shows that 
   merging is allowed at the ring entry point and branching is allowed 
   at the ring exit point. 

4.7. Ring Map configuration for squelching 

   Please refer to Section d of the Appendix for an overview of the 
   squelching issue introduced by MS-SPRing operation.  

4.8. Data Plane and Control Plane misalignment 

   When a failure affects an LSP that traverses an MS-SPRing protected 
   ring the data plane scenario is the same as in Figure A-3 in the 
   apppendix. 

   Referring to that scheme, data Traffic is flowing through: 

   Node-A<-->Node-B<-->Node-A<-->Node-F<-->Node-E<-->Node-D<-->Node-C<--
   >Node-D  

   while from a control plane perspective traffic is still flowing 
   through Node-A<-->Node-B<-->Node-C<-->Node-D. 

   It may be noted that the loop Node-A<-->Node-B<-->Node-A could be 
   bridged, releasing the protection channels for extra traffic use thus 
   increasing the availability of extra traffic resources. It has to be 
   noted however that doing this requires an update to the Ring map. 

   The afore mentioned misalignment between control and data plane 
   arises because the control plane is un-aware of the failure. 

   In such case a mechanism targeted at realigning the control plane 
   view with the actual scenario present in data plane may be required. 

   In other words, when data plane inherent protection scheme imposes 
   autonomously (i.e. not as a  result of a control plane 
   command)changes to relevant LSP characteristic, a communication 
   mechanism that re-aligns control plane to data plane state may be 
   required if an exact map of data plane resources held by a LSP is 
   needed within control plane . 

5. Application of GMPLS to MS-SPRings 

   With reference to the issues detailed in previous sections, possible 
   solutions, allowing an effective and harmless overlaying of Control 

 
 
Li                       Expires April 2007                  [Page 11] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   Plane protocols over a data plane enhanced with MS-SPRing inherent 
   protection mechanism, are introduced. 

   Part of the mentioned issues may be addressed by exploiting routing 
   related methods, while mechanisms based on signalling may used for 
   others.  

   It has to be noted that structural modification to routing or 
   signalling protocols have been avoided in proposed solutions. However, 
   issues such as Squelching management (see section 4.7 in this 
   document and details in appendix) or modification of actual data 
   plane LSP segments within the MS-SPRing ring transparently to control 
   plane(see 4.8) are not covered at present in following paragraphs. A 
   solution to such problems seem to imply a major impact (i.e. 
   enhancement) on GMPLS protocols mechanisms or operation 

5.1. Routing 

5.1.1. TE Link Advertisement 

   Each node in the MS-SPRing is responsible for advertising the TE 
   links between the adjacent nodes. There are two options: 

   o Three distinct TE links may be advertised for each pair of 
      adjacent nodes in the MS-SPRing, i.e. an MS-SPRing component link 
      or span. Such advertisements would reflect the split of ring 
      resources into working, protection/extra-traffic, and unprotected 
      resources. That is, one TE link could be advertised as "Dedicated 
      1:1", one TE link as "Extra Traffic", and one TE link as 
      "unprotected". An entity computing the path of an LSP through the 
      network could then be aware of what resources existed at each 
      capability, and could select the appropriate TE link for the level 
      of service required. 

   o A single TE link may be advertised with protection type "Enhanced". 
      Path computation could select this link to support any protected 
      traffic, extra traffic, or unprotected traffic. In this mode of 
      operation, it is the responsibility of the entry node to allocate 
      resources on the ring commensurate with service level requested 
      for the LSP in the signaling message. 

   A hybrid mechanism has been proposed where a single TE link could be 
   advertised with multiple protection types. This is contrary to the 
   specification in [RFC4202] and does not appear to gain anything over 
   the second option stated above. Therefore, this document does not 
   propose any extensions to the routing protocols. Should an operator 
   wish to distinguish the different ring resources (or even ring 
 
 
Li                       Expires April 2007                  [Page 12] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   directions) while still using the second option listed above, they 
   can define a link bundle (see [RFC4201]). 

5.1.2. Re-Advertising TE Links  

   When a failure occurs in an MS-SPRing, the protection capabilities of 
   some TE links may be decreased. Some TE links may become incapable of 
   providing link level protection, and some may be completely broken. 

   Lastly, when the ring is repaired, the protection capabilities of the 
   TE links that cross the ring is restored. 

   The new protection capabilities of a link can be advertised in a 
   routing protocol update advertisement. As with advertisements for 
   changes in available bandwidth, care should be taken by 
   implementations not to generate updates too frequently. Depending on 
   administrative network policy it may be better to favor updates that 
   remove capabilities over updates that restore capabilities. 

   Note that the coordination of the interaction between distinct TE 
   links that cross the ring is the responsibility of the management 
   system that control the MS-SPRing. 

5.1.3. SRLGs 

   [RFC4203] and [RFC4205] define how the SRLGs that apply to a TE link 
   may be advertised by routing protocols. Management plane coordination 
   can be used so that all nodes on an MS-SPRing know the SRLG ID for 
   the ring and can advertise it as part of the TE link advertisements 
   that they originate for TE links that cross the ring. 

   It is possible that it will be advantageous for a path computing 
   entity to know the type of association represented by an SRLG. For 
   example, it may be beneficial to be able to distinguish an SRLG that 
   means that two TE links share a duct, from and SRLG that means that 
   two TE links cross the same road bridge. Similarly, it may be 
   advantageous to know that the SRLG advertised indicates that the TE 
   links share the same ring because this will indicate that the shared 
   risk is graded through a loss of protection capabilities before a 
   complete loss of connectivity. 

   At the moment there are no classifications of SRLG IDs standardized. 
   An operator is free to sub-divide the space of SRLG IDs within their 
   Administrative Domain and place meaning on the sub-divisions. 
   Standardization of the classification of SRLGs is for future study. 


 
 
Li                       Expires April 2007                  [Page 13] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

5.2. Signaling 

   If label continuity is the responsibility of the management plane 
   then there is no additional requirement on GMPLS to control the 
   allocation of labels within the ring, and the entry and exit nodes 
   are responsible for selecting suitable labels for use on the TE link. 

   In this case, if an inappropriate label is provided in the Explicit 
   Route object (ERO) signaled to the entry point node, it may be 
   necessary for the node to reject the signaling message. 

   In order to support the consistent label allocation when the ring is 
   controlled using GMPLS, the Label Set object can be used with a 
   single label member for the LSPs signaled within the ring. If the 
   label in label set object is not available on a certain node in the 
   MS-SPRing,  an Acceptable Label Set object can be returned to 
   indicate which labels would have been consistently available. 

   When failure occurs in a MSPRing, the data plane connection may be 
   switched to a different protection path transparently to control 
   plane. The control plane will not reroute the affected end-to-end 
   LSPs to be aligned with the actual data plane connection path because 
   the LSPs are protected successfully according to MS-SPRing way of 
   operation. The control plane doesn't actually need to perceive the 
   failure in the TE link around MS-SPRing, still being present a 
   misalignment (limited within the MS-SPRing ring) between the LSP path 
   records within control plane and actual data plane path. 

5.3. LSP End-to-end / Segment Recovery 

   In order to ensure that the MS-SPRing branching and merging 
   restrictions are met it is necessary to create appropriate segment 
   LSPs in order to provide the backup paths for the non-MS-SPRing 
   segments.  

   In order to compute paths for the segment LSPs it would be required 
   to identify the MS-SPRing links. In case of intra-domain LSPs there 
   is no issue because the protection-type information is advertised as 
   part of the TE link. In case of inter-domain LSPs some extensions may 
   be required to be made to the RRO / XRO objects [EXCLUDE]. 

6. Security Considerations 

   End-to-end security within the GMPLS network is not adversely 
   impacted by the use of MS-SPRings within the network. Indeed, the 
   protection properties of the ring enhance the resilience of the GMPLS 
   LSP to physical attacks on the network infrastructure. 
 
 
Li                       Expires April 2007                  [Page 14] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   The use of a GMPLS control plane to operate the MS-SPRing itself 
   raises the same security benefits and concerns as exist when an 
   entire network is migrated from the management plane (or from an pre-
   existing control plane) to GMPLS. 

   Further notes on GMPLS security can be found in [RFC3945]. 

7. Acknowledgments 

   We would like to thank Adrian Farrel for his useful comments. 

8. References 

8.1. Normative References 

[RFC3945]  Mannie, E., Ed., "Generalized Multiprotocol Label Switching 
           (GMPLS) Architecture", RFC 3945, October 2004. 

[RFC4202]  Kompella, K., Ed., and Y. Rekhter, Ed., "Routing Extensions 
           in Support of Generalized Multi-Protocol Label Switching 
           (GMPLS)", RFC 4202, October 2005. 

[RFC4203]  Kompella, K., Ed., and Y. Rekhter, Ed., "OSPF Extensions in 
           Support of Generalized Multi-Protocol Label Switching 
           (GMPLS)", RFC 4203, October 2005. 

[RFC4205]  Kompella, K. Ed. and Y. Rekhter, Ed., "Intermediate System 
           to Intermediate System (IS-IS) Extensions in Support of 
           Generalized Multi-Protocol Label Switching (GMPLS)", RFC 
           4205, October 2005. 

[G.841]    ITU-T "Types and characteristics of SDH network protection 
           architectures", October 1998. 

8.2. Informative References 

[RFC4201]  Kompella, K., Rekhter, Y., and L. Berger, "Link Bundling in 
           MPLS Traffic Engineering (TE)", RFC 4201, October 2005. 

[EXCLUDE]  C-Y. Lee, A. Farrel and S De Cnodder, "Exclude Routes - 
           Extension to RSVP-TE", draft-ietf-ccamp-rsvp-te-exclude-
           route, work in progress. 





 
 
Li                       Expires April 2007                  [Page 15] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

APPENDIX A: MS-SPRing Overview 

   The main reference for this Section is ITU-T G.841.  G.841 defines 
   two different kinds of MS-SPRing namely two fibers and four fibers. 

   Two-fiber MS switched rings require only two fibers for each span of 
   the ring. Each fiber carries both working channels and protection 
   channels. On each fiber, up to half the channels are defined as 
   working channels and up to half are defined as protection channels.  

   It is possible that some channels are not protected at all, being 
   defined as Non-pre-emptible Unprotected Traffic (NUT) channels. 

   The traffic carried on working channels inside one fiber is protected 
   by channels going in the opposite direction around the ring.  This 
   allows for a bi-directional transport of normal traffic and makes 
   possible a sharing of the protection resources when needed.  

   The following picture illustrates the two fibers case, no NUT in this 
   example. 

   WPx links are 50% for worker traffic and 50% for protection traffic, 
   e.g. and STM-16 links have 8 AU-4 timeslot for worker traffic and 8 
   AU-4 timeslot for protection. 

        TNE A                   TNE B                   TNE C                  
    +----------+            +----------+            +----------+ 
    |          |            |          |            |          | 
    |          |----------->|          |----------->|          | 
    |          |    WP1     |          |     WP2    |          | 
    |          |<-----------|          |<-----------|          | 
    |          |            |          |            |          | 
    +----------+            +----------+            +----------+ 
      ^     |                                          ^     | 
      |     |                                          |     | 
      | WP3 |          WP Links Resources are          | WP4 | 
      |     |             50% Worker                   |     | 
      |     |             50% Protection               |     | 
      |     v                                          |     v 
    +----------+            +----------+            +----------+ 
    |          |            |          |            |          | 
    |          |----------->|          |----------->|          | 
    |          |    WP5     |          |    WP6     |          | 
    |          |<-----------|          |<-----------|          | 
    |          |            |          |            |          | 
    +----------+            +----------+            +----------+ 
        TNE F                   TNE E                   TNE D 
 
 
Li                       Expires April 2007                  [Page 16] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

             Figure A-1: MS-SPRing two fibers reference circuit 
    
   Four-fiber MS shared protection rings require four fibers for each 
   span of the ring. As illustrated in Figure 1-2, working and 
   protection channels are carried over different fibers: two multiplex 
   sections transmitting in opposite directions carry the working 
   channels while two multiplex sections, also transmitting in opposite 
   directions, carry the protection channels. This enables the bi-
   directional transport of normal traffic, sharing as well the 
   protection capability. 

   The following picture illustrates the reference circuit (four fiber 
   MS-SPRing) used in this Section. 

         TNE A                     TNE B                     TNE C              
    +------------+            +------------+            +------------+ 
    |            |----------->|            |----------->|            | 
    |            |     W1     |            |     W2     |            | 
    |            |<-----------|            |<-----------|            | 
    |            |            |            |            |            | 
    |            |===========>|            |===========>|            | 
    |            |     P1     |            |     P2     |            | 
    |            |<===========|            |<===========|            | 
    +------------+            +------------+            +------------+ 
      ^  |  ^  l                                          ^  l  ^  | 
      |  |  l  l                                          l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |W3|  lP3l       ------------ Working Link          lP4l  |W4| 
      |  |  l  l       llll and === Protection Link       l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |  v  l  v                                          l  v  |  v 
    +------------+            +------------+            +------------+ 
    |            |===========>|            |===========>|            | 
    |            |     P5     |            |     P6     |            | 
    |            |<===========|            |<===========|            | 
    |            |            |            |            |            | 
    |            |----------->|            |----------->|            | 
    |            |     W5     |            |     W6     |            | 
    |            |<-----------|            |<-----------|            | 
    +------------+            +------------+            +------------+ 
         TNE F                    TNE E                      TNE D 
    
      Figure A-2: Reference circuit for MS-SPRing, four fibers variant 
    
a. Information needed by MS-SPRing 
    

 
 
Li                       Expires April 2007                  [Page 17] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   The MS-SPRing protection mechanism is implemented via a SDH 
   signalling protocol known as Automatic Protection Switching (APS). 
   This protocol makes use of SDH overhead bytes (K1 and K2, MS overhead 
   bytes) as a means to transport its own information. APS is not 
   detailed here as it is outside the scope of this document. 

   Each node on the ring shall be assigned an ID that is a number from 0 
   to 15, allowing a maximum of 16 nodes on the ring. Such ID value is 
   not related to the position of corresponding node in the ring, i.e. 
   the order of the nodes is not tied to nodes ID assignment. 

   Each node has a ring topology map that associates a node's ID with 
   its address. 

   With respect to the Figures 1-1/2 the ring topology map is: 

                   TNE-ID  TNE-Address 
                      1       B 
                      2       F 
                      3       A 
                      4       E 
                      5       C 
                      6       D 
    
                        Table A-1 Ring Topology map 
    
   The following tables represent the traffic matrix of the ring and the 
   squelching (for definition of squelching please refer to Section 1.4) 
   tables of the TNEs. 

   +------------------------------------------------------------------+ 
   |   AU   | <---- West               Nodes                East ---->| 
   | Number |  A         B          C        D        E        F     A| 
   +--------+---------------------------------------------------------+ 
   |  1     |  <--------> <------------------>                        | 
   |  2     |  <----------------------------->                        | 
   |  3     |  <--------------------><------------------------->      | 
   +------------------------------------------------------------------+ 
                                      
                         Table A-2 Traffic Matrix 
    
   +---------------------------------+--------------------------------- 
                     TNE-A           |                 TNE-B       
      AU       West           East   | AU       West             East 
            Src   Dst      Src   Dst |       Src   Dst         Src   Dst 
      1                     A     B  | 1      B     A           B     D 
      2                     A     D  | 2      D     A           A     D 
 
 
Li                       Expires April 2007                  [Page 18] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

      3                     A     C  | 3      C     A           C     F 
   ----------------------------------+---------------------------------- 
    
   ----------------------------------+--------------------------------- 
                     TNE-C           |                 TNE-D       
      AU       West           East   | AU       West              East 
            Src   Dst      Src   Dst |       Src   Dst         Src   Dst 
      1      D     B        B     D  | 1      D     B           B     D 
      2      D     A        A     D  | 2      D     A           A     D 
      3      C     A        C     F  | 3      F     C           C     F 
   ----------------------------------+--------------------------------- 
    
   ----------------------------------+--------------------------------- 
                     TNE-E           |                 TNE-F       
      AU       West           East   | AU       West              East 
            Src   Dst      Src   Dst |       Src   Dst         Src   Dst 
      1                              | 1 
      2                              | 2 
      3      F     C        C     F  | 3      F     C           C     F 
   ----------------------------------+--------------------------------- 
    
                        Table A-3 Squelching Table 
    
   When a node determines that a protection switch is required, it 
   sources the appropriate bridge request using the APS protocol to the 
   node at the far end of the affected MS (for more details on how APS 
   carries that information please refer to G.841 [G.841]). 

   We'll call Ring Map the sum of the information contained in all the 
   above Tables. 

b. MS-SPRing Example 
    
   The worker circuit follows this path (4_fibers/2_fibers): 

   TNE-A <-Link W1/WP1-> TNE-B <-Link W2/WP2-> TNE-C <-Link W4/WP4-> 
   TNE-D : AU Timeslot 1 

   In four fibers scenario failure of Links W2 and P2 triggers the MS-
   SPRing protection.   

   Traffic is protected using this path:  

   TNE-A <-Link W1-> TNE-B [Internal Bridge] <-Link P1-> TNE-A <-Link 
   P3-> TNE F <-Link P5-> TNE-E <-Link P6-> TNE-D <-Link P4-> TNE-C 
   [Internal Bridge] <- Link W4 -> TNE-D: AU Timeslot 1. 

 
 
Li                       Expires April 2007                  [Page 19] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   The following picture illustrates the state of the network after the 
   recovery, by means of MS-SPRing, of the failure. 

               1   
        TNE A  v                  TNE B                      TNE C              
    +----------|-+            +------------+            +------------+ 
    |          +------------->----->----+  |XXXXXXXXXXXX| +--------+ | 
    |            |     W1     |         |  |     W2     | |        | | 
    |            |<-----------|         |  |XXXXXXXXXXXX| |        | | 
    |            |            |         v  |            | ^        v | 
    |            |===========>|         |  |XXXXXXXXXXXX| |        | | 
    |            |     P1     |         |  |     P2     | |        | | 
    |          +--<===========-----<----+  |XXXXXXXXXXXX| |        | | 
    +----------|-+            +------------+            +-|--------|-+ 
      ^  |  ^  l                                          ^  l  ^  | 
      |  |  l  l                                          l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |W3|  lP3l       ------------ Working Link          lP4l  |W4| 
      |  |  l  l       llll and === Protection Link       l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |  v  l  v                                          l  v  |  v 
    +----------|-+            +------------+            +-|--------|-+ 
    |          +--===========>------->------===========>--+        | | 
    |            |     P5     |            |     P6     |          | | 
    |            |<===========|            |<===========|          | | 
    |            |            |            |            |          v | 
    |            |----------->|            |----------->|          | | 
    |            |     W5     |            |     W6     |          | | 
    |            |<-----------|            |<-----------|          | | 
    +------------+            +------------+            +----------|-+ 
     TNE F                     TNE E                     TNE D     v 
                                                                   1 
             Figure A-3: MS-SPRing four fibers ring-switching 
    
   The extra traffic in spans P1, P3, P4, P5 and P6 is affected. 

   Note that in this case working traffic passes the same section two 
   times, i.e. link W1 and link P1, link P4 and link W4. 

   If these sections are very long, e.g. in trans-oceanic applications, 
   the propagation delay is affected considerably and will result in a 
   degradation of performance. 

   For trans-oceanic applications intermediate nodes, not adjacent to an 
   affected section, will switch bridges as well. 

   Traffic is now protected using this path:  
 
 
Li                       Expires April 2007                  [Page 20] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   TNE-A [Internal Bridge] TNE-A <-Link P3-> TNE F <-Link P5-> TNE-E <-
   Link P6-> TNE-D [Internal Bridge] TNE-D: AU Timeslot 1. 

   The following picture illustrates the state of the network after the 
   recovery, by means of trans-oceanic MS-SPRing, of the failure. 

               1   
        TNE A  v                  TNE B                      TNE C              
    +----------|-+            +------------+            +------------+ 
    |          | |----------->|            |XXXXXXXXXXXX|            | 
    |          | |     W1     |            |     W2     |            | 
    |          | |<-----------|            |XXXXXXXXXXXX|            | 
    |          v |            |            |            |            | 
    |          | |===========>|            |XXXXXXXXXXXX|            | 
    |          | |     P1     |            |     P2     |            | 
    |          | |<===========|            |XXXXXXXXXXXX|            | 
    +----------|-+            +------------+            +------------+ 
      ^  |  ^  l                                          ^  l  ^  | 
      |  |  l  l                                          l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |W3|  lP3l       ------------ Working Link          lP4l  |W4| 
      |  |  l  l       llll and === Protection Link       l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |  v  l  v                                          l  v  |  v 
    +----------|-+            +------------+            +------------+ 
    |          +--===========>------->------===========>------>----+ | 
    |            |     P5     |            |     P6     |          | | 
    |            |<===========|            |<===========|          | | 
    |            |            |            |            |          v | 
    |            |----------->|            |----------->|          | | 
    |            |     W5     |            |     W6     |          | | 
    |            |<-----------|            |<-----------|          | | 
    +------------+            +------------+            +----------|-+ 
     TNE F                     TNE E                     TNE D     v 
                                                                   1 
       Figure A-4: MS-SPRing four fibers trans-oceanic ring-switching 
    
   Only the extra traffic in spans P3, P5 and P6 is affected. 

   Instead of bridging all working traffic to the protections channels 
   in the nodes adjacent to the failure in trans-oceanic ring-switching 
   the individual AU tributaries are switched in their ingress and 
   egress nodes using ring maps and APS information. Due to the transfer 
   and evaluation of the information more time is required for the 
   protection switch to complete, the objective is 300 ms or less.  
   Because tributaries are switched in their ingress and egress nodes no 

 
 
Li                       Expires April 2007                  [Page 21] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   squelching is required and protection channels not required for 
   protection may carry pre-empted extra traffic. 

   A mechanism is required to auto-provision the ring maps and maintain 
   their consistency. 

   In two fibers scenario failure of Links W2 and P2 triggers the MS-
   SPRing protection.   

   Traffic is protected using this path:  

   TNE-A <-Link WP1-> TNE-B [Internal Bridge] <-Link WP1-> TNE-A <-Link 
   WP3-> TNE F <-Link WP5-> TNE-E <-Link WP6-> TNE-D <-Link WP4-> TNE-C 
   [Internal Bridge] <- Link WP4 -> TNE-D: AU Timeslot 1 is used on all 
   the links. 

   The following picture illustrates the state of the network after the 
   recovery from the failure done by means of MS-SPRing mechanism. 

               | 
      TNE A    v                    TNE B                     TNE C             
    +------------+            +------------+            +------------+ 
    |          | |        |            |         |            | 
    |          | |            |            |            |            | 
    |          +-|----------->|------+     |xxxxxxxxxxx>|   +-----+  | 
    |            |    WP1     |      |     |     WP2    |   |     |  | 
    |       +----|<-----------|------+     |<-----------|   ^     v  | 
    |       |    |          |            |            |   |     |  | 
    |       |    |            |            |            |   |     |  | 
    +------------+            +------------+            +------------+ 
      ^     |                                               ^     | 
      |     |             WP Links Resources are            |     | 
      | WP3 |                50% Worker                     | WP4 | 
      |     |                50% Protection                 |     | 
      |     v                                               |     v 
    +------------+            +------------+            +------------+ 
    |       |    |            |            |            |   |     |  | 
    |       |    |            |            |            |   |     |  | 
    |       +----|----------->|------------|----------->|---+     |  | 
    |            |    WP5     |            |    WP6     |         |  | 
    |            |<-----------|            |<-----------|         |  | 
    |            |            |            |            |         |  | 
    |            |            |            |            |         |  | 
    +------------+            +------------+            +------------+ 
        TNE F                     TNE E                    TNE D  v 
    
              Figure A-5: MS-SPRing two fibers ring-switching 
 
 
Li                       Expires April 2007                  [Page 22] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   Figure 1-3 and 1-5 illustrates the so-called "ring-switching" 
   protection. 

   In four-fiber MS-SPRing there exists also "span-switching" and in 
   this case only the working fibers are cut while the protection fibers 
   remain intact. See figure 1-6. The protection switch affects the 
   extra traffic in span P2. 

               1   
        TNE A  v                   TNE B                     TNE C              
    +----------|-+            +------------+            +------------+ 
    |          +------------->----->----+  |XXXXXXXXXXXX| +--------+ | 
    |            |     W1     |         |  |     W2     | |        | | 
    |            |<-----------|         v  |XXXXXXXXXXXX| ^        | | 
    |            |            |         |  |            | |        | | 
    |            |===========>|         +---===========>--+        v | 
    |            |     P1     |            |     P2     |          | | 
    |            |<===========|            |<===========|          | | 
    +------------+            +------------+            +----------|-+ 
      ^  |  ^  l                                          ^  l  ^  | 
      |  |  l  l                                          l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |W3|  lP3l       ------------ Working Link          lP4l  |W4| 
      |  |  l  l       llll and === Protection Link       l  l  |  | 
      |  |  l  l                                          l  l  |  | 
      |  v  l  v                                          l  v  |  v 
    +------------+            +------------+            +----------|-+ 
    |            |===========>|            |===========>|          | | 
    |            |     P5     |            |     P6     |          | | 
    |            |<===========|            |<===========|          | | 
    |            |            |            |            |          v | 
    |            |----------->|            |----------->|          | | 
    |            |     W5     |            |     W6     |          | | 
    |            |<-----------|            |<-----------|          | | 
    +------------+            +------------+            +----------|-+ 
       TNE F                     TNE E                     TNE D   v 
                                                                   1 
    
                     Figure A-6: MS-SPRing span-switch 
    
c. Time Slot Interchange (TSI)  
    
   TSI is the connection function capability of changing the time slot 
   position of through-connected traffic (i.e. traffic that is not added 
   or dropped from the node). At present there is no TSI capability 
   specified in nodes belonging to a MS-SPRing sub network. Channels at 
   MS-SPRing node's egress are nailed to the same timeslot used by the 
 
 
Li                       Expires April 2007                  [Page 23] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   same channels at node's ingress. This is a currently required 
   condition to ensure MS-SPRing correct operation. 

d. Squelching  
    
   Squelching is defined as the process of inserting AU-AIS in order to 
   prevent misconnections. The squelching process application over 
   traffic results in an "all 1's" signal. 

   1.  Squelching to avoid misconnected traffic 

   To perform a ring switch, the protection channels are essentially 
   shared among each span of the ring. Also, extra traffic may reside in 
   the protection channels when the protection channels are not 
   currently being used to restore normal traffic transported on the 
   working channels. Thus, each protection channel time slot is subject 
   to use by multiple services (services from the same time slot but on 
   different spans, and service from extra traffic). With no extra 
   traffic on the ring, under certain multiple point failures, such as 
   those that cause node(s) isolation, services (from the same time slot 
   but on different spans) may contend for access to the same protection 
   channel time slot. This yields a potential for misconnected traffic. 
   With extra traffic on the ring, even under single point failures, 
   normal traffic on the working channels may contend for access to the 
   same protection channel time slot that carries the extra traffic. 
   This also yields a potential for misconnected traffic. 

   Without a mechanism to prevent misconnection, the following failure 
   scenario would yield misconnections.  

   Referring to Figure 1-1, two circuits traverse the MS-SPRing namely 
   circuit Q and R the path that they traverse is: 

   Circuit R:  TNE-A <-Link WP3 AU 1-> TNE-F  

   Circuit Q:  TNE-A <-Link WP1 AU 1-> TNE-B <-Link WP2 AU 1-> TNE-C 

   Suppose a cut in both the spans between nodes A and F and between 
   nodes A and B (isolating node A, that is the same as a TNE A failure)  
   causes circuits Q and R to attempt to access time slot #1P on the 
   protection channels.  The mechanism for the MS-SPRing protection is 
   as depicted in previous sub-section.   

   A potential misconnection is determined by identifying the nodes that 
   will act as the switching nodes for a bridge request, and by 
   examining the traffic that will be affected by the switch. The 
   switching nodes can be determined from the node addresses in the K1 
 
 
Li                       Expires April 2007                  [Page 24] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   and K2 bytes. The switching nodes determine the traffic affected by 
   the protection switch from the information contained in their ring 
   maps and from the identifications of the switching nodes. Potential 
   misconnections shall be squelched by inserting the appropriate AU-AIS 
   in those time slots where misconnected traffic could occur. 
   Specifically, the traffic that is sourced or dropped at the node(s) 
   isolated from the ring by the failure shall be squelched. For rings 
   operating at an AU-4 level, this squelching occurs at the switching 
   nodes. AU level squelching occurs for the normal or extra traffic 
   into or out of the protection channels (i.e. normal traffic into or 
   out of working channels is never squelched). 

   For example, consider a segment of a ring consisting of three nodes, 
   A, B, and C where B has failed. In a typical scenario, both A and C 
   will send bridge requests destined for B. When A sees the bridge 
   request from C, and sees that B is between A and C (from the node 
   map), it can deduce that B is isolated from the ring. A and C will 
   use their respective maps to find out which channels are added or 
   dropped by B. A and C will squelch these channels before the ring 
   switch is performed by inserting AU-AIS. Thus, any node on the ring 
   that was connected to B will now receive AIS on those channels. 

   Each of the ring maps, then, shall contain at minimum: 

   1. a ring map that contains information regarding the order in which 
      the nodes appear on the ring; 

   2. a cross-connect map that contains the AU-4 time-slot assignments 
      for traffic that is both terminated at that node and passed-
      through that node; 

   3. a squelch table that contains, for each of these AU-4 time slots, 
      the node addresses at which the traffic enters and exits the ring; 
      and 

   4. an optional indication of whether the AU is being accessed at the 
      lower order VC level somewhere on the ring (not covered by this 
      Document) 

   An example of such ring maps and squelching table is given in this 
   Appendix Section a. 

    




 
 
Li                       Expires April 2007                  [Page 25] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

9. Author's Addresses 

   Jianhua Gao 
   Huawei Technologies Co., Ltd. 
   F3-5-B R&D Center, Huawei Base, 
   Bantian, Longgang District 
   Shenzhen 518129 
   P.R.China 
      
   Phone: +86 755 2897 2902 
   Email: gjhhit@huawei.com 
    

   Dan Li 
   Huawei Technologies Co., Ltd. 
   F3-5-B R&D Center, Huawei Base, 
   Bantian, Longgang District 
   Shenzhen 518129  
   P.R.China 
      
   Phone: +86 755 2897 2910 
   Email: danli@huawei.com 

    
   Huub van Helvoort  
   Huawei Technologies, Ltd.  
   Kolkgriend 38, 1356 BC Almere  
   The Netherlands  
        
   Phone: +31 36 5315076  
   Email: hhelvoort@huawei.com 
    
    
   Snigdho C. Bardalai 
   Fujitsu Network Communications, Inc. 
   2801 Telecom Parkway, 
   Richardson, Texas 75082 
   United States of America 
    
   Phone: +1 972 479 2951 
   Email: snigdho.bardalai@us.fujitsu.com 
    
    
   Richard Rabbat 
   Fujitsu 
   1240 East Arques Ave, MS 345 
   Sunnyvale, CA 94085 
 
 
Li                       Expires April 2007                  [Page 26] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   United States of America 
    
   Phone: +1 408-530-4537 
   Email: rabbat@alum.mit.edu 
    
    
   Diego Caviglia   
   Ericsson  
   Via A. Negrone 1/A 16153  
   Genoa Italy  
        
   Phone: +39 010 600 3736  
   Email: diego.caviglia@(marconi.com, ericsson.com)  
     
    
   Dino Bramanti  
   Ericsson  
   Via Moruzzi 1  
   C/O Area Ricerca CNR  
   Pisa, Italy 
    
   Email: dino.bramanti@marconi.com 

10. Full Copyright Statement 

   Copyright (C) The Internet Society (2006).  This document is subject 
   to the rights, licenses and restrictions contained in BCP 78, and 
   except as set forth therein, the authors retain all their rights. 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 

11. Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 
 
 
Li                       Expires April 2007                  [Page 27] 

Internet-Draft     draft-gao-ccamp-msspring-00.txt        October 2006 
    

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups. Note that other 
   groups may also distribute working documents as Internet- Drafts. 

   Internet-Drafts are draft documents valid for a maximum  of six 
   months and may be updated, replaced, or obsoleted by other documents 
   at any time. It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress". 

    

    





















 
 
Li                       Expires April 2007                  [Page 28] 

