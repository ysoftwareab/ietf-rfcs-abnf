


Network Working Group                                             D. Rao
Internet-Draft                                              P. Mohapatra
Intended status: Standards Track                           Cisco Systems
Expires: April 24, 2009                                          J. Haas
                                                          Arbor Networks
                                                        October 21, 2008


   Generic Subtype for BGP Four-octet AS specific extended community
         draft-dhrao-idr-4octet-extcomm-generic-subtype-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on April 24, 2009.

Abstract

   Maintaining the current best practices with communities, ISPs and
   enterprises that get assigned a 4-octet AS number may want the BGP
   UPDATE messages they receive from their customers or peers to include
   a 4-octet AS specific extended community.  This document defines a
   new sub-type within the four-octet AS specific extended community to
   facilitate this practice.







Rao, et al.              Expires April 24, 2009                 [Page 1]

Internet-Draft       4octet Extcomm generic sub-type        October 2008


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . 3
     1.1.  Requirements Language . . . . . . . . . . . . . . . . . . . 3
   2.  Generic Subtype Definition  . . . . . . . . . . . . . . . . . . 3
   3.  Deployment Considerations . . . . . . . . . . . . . . . . . . . 4
   4.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . . . 5
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . . . 5
   6.  Security Considerations . . . . . . . . . . . . . . . . . . . . 5
   7.  Normative References  . . . . . . . . . . . . . . . . . . . . . 5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . . . 5
   Intellectual Property and Copyright Statements  . . . . . . . . . . 7







































Rao, et al.              Expires April 24, 2009                 [Page 2]

Internet-Draft       4octet Extcomm generic sub-type        October 2008


1.  Introduction

   Maintaining the current best practices with communities, ISPs and
   enterprises that get assigned a 4-octet AS number may want the BGP
   UPDATE messages they receive from their customers or peers to include
   a 4-octet AS specific extended community.  This document defines a
   new sub-type within the four-octet AS specific extended community to
   facilitate this practice.

   As an example, [RFC1998] describes an application of BGP community
   attribute ([RFC1997]) to implement flexible routing policies for
   sites multi-homed to one or multiple providers.  In a two-octet AS
   environment, the advertised routes are usually associated with a
   community attribute that encodes the provider's AS number in the
   first two octets of the community and a LOCAL_PREF value in the
   second two octets of the community.  The community attribute signals
   the provider edge routers connected to the site to set the
   corresponding LOCAL_PREF on their advertisements to the IBGP mesh.
   In this way, customers can put into practice topologies like active-
   backup.

   When such a provider is assigned a four-octet AS number, the existing
   mechanism of using communities is not sufficient since the community
   value can not exceed four bytes.  The natural alternative is to
   extend the same mechanism using extended communities since it allows
   for encoding eight bytes of information.

   [I-D.ietf-l3vpn-as4octet-ext-community] defines four-octet AS
   specific extended community with a designated type field.  At the
   time of writing this document, there are two known sub-types defined:
   Four-octet specific Route Target extended community and Four-octet
   specific Route Origin extended community.  This document specifies a
   generic sub-type for the four-octet AS specific extended community to
   provide benefits such as the one cited above as the Internet migrates
   to four-octet AS space.

1.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].


2.  Generic Subtype Definition







Rao, et al.              Expires April 24, 2009                 [Page 3]

Internet-Draft       4octet Extcomm generic sub-type        October 2008


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |      0x02     |     0x04      |         Four-Octet AS         |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |    Four-Octet AS (cont.)      |    Local Administrator        |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

   This is a transitive extended community with Type Field comprising of
   2 octets and Value Field comprising of 6 octets.

   The high-order octet of this extended type is set to 0x02 as defined
   in [I-D.ietf-l3vpn-as4octet-ext-community].  The low-order octet or
   the sub-type is set to 0x04.


    The Value Field consists of two sub-fields:

       Global Administrator sub-field: 4 octets

          This sub-field contains a four-octet Autonomous System number.

       Local Administrator sub-field: 2 octets

          This sub-field contains a value that can influence
          routing policies. It is expected that the values
          will be identical to the ones used in practice with standard
          communities and will be of significance between the local
          Autonomous System and its customer or peering Autonomous
          Systems.


3.  Deployment Considerations

   A speaker with a 4-octet Autonomous System may have a customer or
   peer with a 2-octet Autonomous System.  If such a peer supports
   4-octet extended communities, then it will be able to tag its routes
   with the 4-octet extended community defined by the speaker.  If the
   peer does not support 4-octet extended communities, then the speaker
   may need to define an appropriate standard community value for the
   same purpose.

   Similarly, a 2-octet AS may have two valid representations as either
   a standard community or a 4-octet extended community with the upper
   two octets of the AS set to zero.  Therefore, as per
   [I-D.ietf-l3vpn-as4octet-ext-community], two-octet ASes SHOULD use
   standard 2-octet communities rather than 4-octet AS specific extended
   communities in order to avoid inconsistencies.



Rao, et al.              Expires April 24, 2009                 [Page 4]

Internet-Draft       4octet Extcomm generic sub-type        October 2008


4.  Acknowledgments


5.  IANA Considerations

   IANA is requested to assign sub-type 0x04 as a generic four-octet AS
   specific extended community.


6.  Security Considerations

   There are no additional security risks introduced by this design.


7.  Normative References

   [I-D.ietf-l3vpn-as4octet-ext-community]
              Rekhter, Y., Sangli, S., and D. Tappan, "Four-octet AS
              Specific BGP Extended Community",
              draft-ietf-l3vpn-as4octet-ext-community-00 (work in
              progress), September 2008.

   [RFC1997]  Chandrasekeran, R., Traina, P., and T. Li, "BGP
              Communities Attribute", RFC 1997, August 1996.

   [RFC1998]  Chen, E. and T. Bates, "An Application of the BGP
              Community Attribute in Multi-home Routing", RFC 1998,
              August 1996.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.


Authors' Addresses

   Dhananjaya Rao
   Cisco Systems
   170 W. Tasman Drive
   San Jose, CA  95134
   USA

   Email: dhrao@cisco.com









Rao, et al.              Expires April 24, 2009                 [Page 5]

Internet-Draft       4octet Extcomm generic sub-type        October 2008


   Pradosh Mohapatra
   Cisco Systems
   170 W. Tasman Drive
   San Jose, CA  95134
   USA

   Email: pmohapat@cisco.com


   Jeffrey Haas
   Arbor Networks
   2727 S. State St.
   Ann Arbor, MI  48104
   USA

   Email: jhaas@arbor.net



































Rao, et al.              Expires April 24, 2009                 [Page 6]

Internet-Draft       4octet Extcomm generic sub-type        October 2008


Full Copyright Statement

   Copyright (C) The IETF Trust (2008).

   This document is subject to the rights, licenses and restrictions
   contained in BCP 78, and except as set forth therein, the authors
   retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.











Rao, et al.              Expires April 24, 2009                 [Page 7]

