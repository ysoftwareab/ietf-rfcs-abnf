<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Deriving Keys From TLS for Kerberos V5</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Deriving Keys From TLS for Kerberos V5">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">S. Josefsson</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">SJD AB</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc4120'>4120</a> (if&nbsp;approved)</td><td class="header">March 06, 2009</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: September 7, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Deriving Keys From TLS for Kerberos V5<br />draft-josefsson-krb5starttls-bootstrap-02</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 7, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document describes how clients can use the Kerberos V5
	over TLS protocol together with its long term key to 1) avoid
	having to validate the server certificate, 2) securely learn a
	KDC's server certificate, and 3) learn the trust anchors used
	by the KDC.
</p>
<p>We also describe how the Kerberos V5 over TLS protocol can be
	used to 4) avoid the need for a long term shared key between
	the client and the KDC by instead using TLS client
	authentication.
</p>
<p>These goals are achieved by introducing a new Kerberos V5
	pre-authentication type that modify how the Kerberos V5 reply
	key is derived.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction and Background<br />
<a href="#anchor2">2.</a>&nbsp;
The Krb5KeyFromTLS Function<br />
<a href="#anchor3">3.</a>&nbsp;
The PA-TLS Pre-Authentication Type<br />
<a href="#anchor4">4.</a>&nbsp;
Reply Key Strengthening<br />
<a href="#anchor5">5.</a>&nbsp;
Avoiding Use Of Long-Term Shared Key<br />
<a href="#anchor6">6.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor7">7.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor8">8.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction and Background</h3>

<p>This document describes a <a class='info' href='#RFC4120'>Kerberos
	V5<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> [RFC4120] pre-authentication type that
	uses <a class='info' href='#I-D.josefsson-kerberos5-starttls'>Kerberos
	V5 over TLS<span> (</span><span class='info'>Josefsson, S., &ldquo;Using Kerberos V5 over the Transport Layer Security (TLS) protocol,&rdquo; January&nbsp;2010.</span><span>)</span></a> [I&#8209;D.josefsson&#8209;kerberos5&#8209;starttls] to achieve:
</p>
<p></p>
<ul class="text">
<li>The ability to use Kerberos V5 over TLS without having to
	    validate the server certificates.
</li>
<li>Allow Kerberos V5 clients to securely learn a Kerberos V5
	    realm's Key Distribution Center (KDC) certificates.
</li>
<li>Securely distribute the trust anchors used by the Key
	    Distribution Center (KDC) in a Kerberos V5 realm.
</li>
</ul>

<p>These goals are achieved by having the client connect to a
	KDC without verifying the server certificates, take a note of
	the server certificate and the certificate chain, and verify
	them as belonging to the KDC the client trusts by properly
	decrypting the Kerberos V5 response using the clients long
	term key.  Only the correct KDC will be able to generate a
	Kerberos V5 response using the clients long-term key and the
	secrets derived from the <a class='info' href='#RFC5246'>TLS
	channel<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5246].
</p>
<p>The document also describes a mechanism to achieve:
</p>
<p></p>
<ul class="text">
<li>Allow use of Kerberos V5 without a long-term shared
	    secret between the client and the KDC.
</li>
</ul>

<p>This goal is achieved by having the client authenticate
	itself using TLS, and having the KDC request that the client
	send a PA-ENC-TIMESTAMP pre-authentication data encrypted
	using a key derived from the TLS channel.  If successful, the
	KDC will encrypt the response using a reply key derived only
	from the TLS channel.
</p>
<p>This document requires that both the client and the KDC MUST
	support <a class='info' href='#I-D.josefsson-kerberos5-starttls'>Kerberos
	V5 over TLS<span> (</span><span class='info'>Josefsson, S., &ldquo;Using Kerberos V5 over the Transport Layer Security (TLS) protocol,&rdquo; January&nbsp;2010.</span><span>)</span></a> [I&#8209;D.josefsson&#8209;kerberos5&#8209;starttls].
</p>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
	NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
	"OPTIONAL" in this document are to be interpreted as described
	in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
The Krb5KeyFromTLS Function</h3>

<p>The following function Krb5KeyFromTLS is used to derive keys
	from a TLS session.  This builds on
	the <a class='info' href='#I-D.ietf-tls-extractor'>Keying Material
	Exporters for Transport Layer Security (TLS)<span> (</span><span class='info'>Rescorla, E., &ldquo;Keying Material Exporters for Transport Layer Security (TLS),&rdquo; September&nbsp;2009.</span><span>)</span></a> [I&#8209;D.ietf&#8209;tls&#8209;extractor] framework
	and uses functions defined
	in <a class='info' href='#RFC3961'>Encryption and Checksum
	Specifications for Kerberos 5<span> (</span><span class='info'>Raeburn, K., &ldquo;Encryption and Checksum Specifications for Kerberos 5,&rdquo; February&nbsp;2005.</span><span>)</span></a> [RFC3961].
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   Krb5KeyFromTLS (ltkey, ltkey_len,
                   tlscb, tlscb_len,
                   enctype,
                   label)

   Input:          ltkey      long term key,
                              an octet string
                   ltkey_len  length of long term key,
                              an integer larger or equal to 0
                   tlscb      channel binding data,
                              an octet string
                   tlscb_len  length of channel binding data,
                              a positive integer
                   etype      number assigned for an encryption type
                   label      the TLS PRF label to use,
                              a IANA registered string

   Output:         protkey    derived protocol-key

   Steps:

      1. Set "length" to the key-generation seed length, K, for the
         encryption type "enctype" as per RFC 3961.

      2. Set "context_value" to the concatenation of "ltkey" followed
         by "tlscb".  Note that "ltkey" may be empty.

      3. Derive the value for "context_value_length" from the sum of
         "ltkey_len" and "tlscb_len".

      4. Perform the TLS Exporter step:

          outkey = PRF(master_secret, label,
                       SecurityParameters.client_random +
                       SecurityParameters.server_random +
                       context_value_length + context_value
                      )[length]

      5. Output random-to-key(outkey).  The random-to-key function is
         defined in RFC 3961.
</pre></div>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
The PA-TLS Pre-Authentication Type</h3>

<p>The PA-TLS pre-authentication type is sent by the client to a
	KDC.  It requests that the server uses a different Kerberos V5
	reply key.  If the "only-tls" flag is true, the reply key will
	be derived from only the TLS session.  If the "only-tls" flag
	is false, the key will be derived from both the TLS session
	and the the client long-term key.  The exact semantic is
	described in sub-sequent sections.
</p>
<p>The syntax of PA-TLS is defined as follows.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   PA-TLS        ::= EncryptedData -- PA-TLS-ENC

   PA-TLS-ENC           ::= SEQUENCE {
           patimestamp     [0] KerberosTime -- client's time --,
           pausec          [1] Microseconds OPTIONAL,
           only-tls        [2] BOOLEAN
   }
</pre></div>
<p>The client choses the encryption type to
	use.  <a class='info' href='#RFC4120'>Kerberos V5<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> [RFC4120] mandates
	support
	for <a class='info' href='#RFC3962'>AES256-CTS-HMAC-SHA1-96<span> (</span><span class='info'>Raeburn, K., &ldquo;Advanced Encryption Standard (AES) Encryption for Kerberos 5,&rdquo; February&nbsp;2005.</span><span>)</span></a> [RFC3962].  If
	the client do not have out of band information to use another
	encryption type, clients MUST use AES256-CTS-HMAC-SHA1-96.
</p>
<p>The key used to encrypt the PA-TLS-ENC is derived using
	Krb5KeyFromTLS with the following input:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   ltkey: empty string
   ltkey_len: 0
   tlscb: the client's TLS Finished message data,
          as described in the "tls-unique" channel binding
          registration.
   tlscb_len: length of "tlscb".
   etype: the encryption type number chosen by the client
   label: "Kerberos pre-auth key"
</pre></div>
<p>The server process an PA-TLS by verifying that the encryption
	type is acceptable.  If this fails, the server MAY respond
	with a PA-ETYPE-INFO-TLS as defined below.  The server proceed
	and derive the keys and decrypt the PA-TLS.  If this fails,
	the server MUST respond with a KDC_ERR_PREAUTH_FAILED
	error.
</p>
<p>When the PA-TLS is successfully decrypted, the KDC needs to
	decide whether to honor the request or not.  This is a policy
	decision that can depend on several reasons, including the
	content of the request.
</p>
<p>When the "tls-only" flag is true, the server MUST verify that
	TLS has authenticated the client (e.g., by a X.509 client
	certificate, OpenPGP key, or SRP password).  The KDC may
	perform policy checks whether a particular client should be
	allowed to use this pre-authentication type.
</p>
<p>If for any reason the server decides that it does not wish to
	accept the PA-TLS request, the server MUST fail the request by
	returning KDC_ERR_PREAUTH_FAILED.
</p>
<p>An PA-ETYPE-INFO-TLS message is used by the KDC to demand
	that a client sends a PA-TLS.  The PA-ETYPE-INFO-TLS contains,
	by the KDC, acceptable encryption types.  The
	PA-ETYPE-INFO-TLS message can be used by a KDC to require that
	clients uses PA-TLS, or to require that clients send a PA-TLS
	using some particular encryption types.
</p>
<p>The PA-ETYPE-INFO-TLS is used as follows.  The KDC sends a
	KRB-ERROR packet with the KDC_ERR_PREAUTH_REQUIRED error-code
	and store a METHOD-DATA containing an PA-ETYPE-INFO-TLS in the
	e-data field.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
PA-ETYPE-INFO-TLS          ::= SEQUENCE OF Int32 -- EncryptionType
                                    -- in preference order --,
</pre></div>
<p>The client responds by sending a PA-TLS encrypted using one
	of the indicated types, or fail for policy reasons (e.g., none
	of the proposed encryption types are acceptable).
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Reply Key Strengthening</h3>

<p>If the client do not have the required information needed to
	verify a server certificate, it will delay verification of the
	server certificate.  The server MUST include a root
	certificate in the TLS certificate_list.
</p>
<p>The client sends a PA-TLS type with the "tls-only" flag set
	to FALSE.  The server process the PA-TLS as described earlier.
	On success, the server process the incoming requests as usual
	except that any KDC-REP reply key is post processed using the
	Krb5KeyFromTLS function with the following inputs:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   ltkey: client long term key in protocol-key format
   ltkey_len: length of "ltkey"
   tlscb: the client's TLS Finished message data,
          as described in the "tls-unique" channel binding
          registration.
   tlscb_len: length of "tlscb".
   etype: encryption type number of client long-term key
   label: "Kerberos strengthen key"
</pre></div>
<p>The client will strengthen its local KDC-REP reply key using
	the same procedure.  On successful decryption of the KDC-REP,
	the clients is certain that it is talking to a KDC that knows
	the client's shared key without any man-in-the-middle.  The
	client can then remember the server certificate and/or trust
	anchors transferred during the TLS handshake, to be used
	during future Kerberos V5 over TLS connections.
</p>
<p>If the client can securely store the information required to
	validate the server in the future, the client MAY skip using
	the PA-TLS for future connections, and instead rely on the
	standard Kerberos V5 over TLS protocol with proper validation
	of server certificate.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Avoiding Use Of Long-Term Shared Key</h3>

<p>The client can use TLS to authenticate it, and then ask the
	KDC to use the TLS authentication to authenticate the Kerberos
	request.  The latter step is performed by sending a PA-TLS
	type with "only-tls" set to TRUE.
</p>
<p>The server process the PA-TLS as described earlier.  On
	success, the server process the incoming Kerberos requests as
	usual except that the KDC-REP reply key will be generated by
	Krb5KeyFromTLS with the following inputs:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   ltkey: empty string
   ltkey_len: 0
   tlscb: the client's TLS Finished message data,
          as described in the "tls-unique" channel binding
          registration.
   tlscb_len: length of "tlscb".
   etype: encryption type used for the PA-TLS
   label: "Kerberos derive key"
</pre></div>
<p>The client derives the key the same way, and will be able to
	decrypt the response.
</p>
<p>Note that this means the long term shared key will not be
	involved in deriving the reply that protects the Kerberos V5
	response.
</p>
<p>(The reason for encrypting the response is because Kerberos
	V5 does not have any null encryption scheme.)
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p>The IANA is requested to allocate the strings "Kerberos
	pre-auth key", "Kerberos strengthen key", and "Kerberos derive
	key" in the TLS Exporter label registry.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Acknowledgements</h3>

<p>Nicolas Williams mentioned the advantages in
	&lt;http://permalink.gmane.org/gmane.ietf.krb-wg/5016&gt;, and
	suggested the use of (what became) PA-TLS.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>The security considerations
	in <a class='info' href='#RFC4120'>Kerberos V5<span> (</span><span class='info'>Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;The Kerberos Network Authentication Service (V5),&rdquo; July&nbsp;2005.</span><span>)</span></a> [RFC4120],
	<a class='info' href='#RFC5246'>TLS<span> (</span><span class='info'>Dierks, T. and E. Rescorla, &ldquo;The Transport Layer Security (TLS) Protocol Version 1.2,&rdquo; August&nbsp;2008.</span><span>)</span></a> [RFC5246], <a class='info' href='#RFC5021'>Kerberos
	V5 TCP extension<span> (</span><span class='info'>Josefsson, S., &ldquo;Extended Kerberos Version 5 Key Distribution Center (KDC) Exchanges over TCP,&rdquo; August&nbsp;2007.</span><span>)</span></a> [RFC5021],
	and <a class='info' href='#I-D.josefsson-kerberos5-starttls'>Kerberos
	V5 over TLS<span> (</span><span class='info'>Josefsson, S., &ldquo;Using Kerberos V5 over the Transport Layer Security (TLS) protocol,&rdquo; January&nbsp;2010.</span><span>)</span></a> [I&#8209;D.josefsson&#8209;kerberos5&#8209;starttls] are inherited.
</p>
<p>By request PA-TLS with only-tls set to TRUE the client's
	long-term key is no longer involved in deriving the Kerberos
	V5 ticket.  Instead only the authentication from the TLS
	channel is used.  This changes the cryptographic model of
	Kerberos V5 significantly, and makes it possible to operate
	Kerberos V5 without even having a long term shared key for a
	particular user.  This changes how a Kerberos V5 security
	analysis should be made, so be aware of this model change when
	reading other literature.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3961">[RFC3961]</a></td>
<td class="author-text">Raeburn, K., &ldquo;<a href="http://tools.ietf.org/html/rfc3961">Encryption and Checksum Specifications for Kerberos 5</a>,&rdquo; RFC&nbsp;3961, February&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3961.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3962">[RFC3962]</a></td>
<td class="author-text">Raeburn, K., &ldquo;<a href="http://tools.ietf.org/html/rfc3962">Advanced Encryption Standard (AES) Encryption for Kerberos 5</a>,&rdquo; RFC&nbsp;3962, February&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3962.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4120">[RFC4120]</a></td>
<td class="author-text">Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &ldquo;<a href="http://tools.ietf.org/html/rfc4120">The Kerberos Network Authentication Service (V5)</a>,&rdquo; RFC&nbsp;4120, July&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4120.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.josefsson-kerberos5-starttls">[I-D.josefsson-kerberos5-starttls]</a></td>
<td class="author-text">Josefsson, S., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-josefsson-kerberos5-starttls-08.txt">Using Kerberos V5 over the Transport Layer Security (TLS) protocol</a>,&rdquo; draft-josefsson-kerberos5-starttls-08 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-josefsson-kerberos5-starttls-08.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-tls-extractor">[I-D.ietf-tls-extractor]</a></td>
<td class="author-text">Rescorla, E., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-tls-extractor-07.txt">Keying Material Exporters for Transport Layer Security (TLS)</a>,&rdquo; draft-ietf-tls-extractor-07 (work in progress), September&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-tls-extractor-07.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC5021">[RFC5021]</a></td>
<td class="author-text">Josefsson, S., &ldquo;<a href="http://tools.ietf.org/html/rfc5021">Extended Kerberos Version 5 Key Distribution Center (KDC) Exchanges over TCP</a>,&rdquo; RFC&nbsp;5021, August&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5021.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5246">[RFC5246]</a></td>
<td class="author-text">Dierks, T. and E. Rescorla, &ldquo;<a href="http://tools.ietf.org/html/rfc5246">The Transport Layer Security (TLS) Protocol Version 1.2</a>,&rdquo; RFC&nbsp;5246, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5246.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Simon Josefsson</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Simon Josefsson Datakonsult AB</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hagagatan 24</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Stockholm  113 47</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sweden</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:simon@josefsson.org">simon@josefsson.org</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://josefsson.org/">http://josefsson.org/</a></td></tr>
</table>
</body></html>
