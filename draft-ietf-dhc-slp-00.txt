Internet Engineering Task Force                               C. Perkins
INTERNET DRAFT                                                       IBM
                                                          27 August 1996


               DHCP Options for Service Location Protocol
                       draft-ietf-dhc-slp-00.txt


Status of This Memo

   This document is a submission to the Dynamic Host Configuration
   Working Group of the Internet Engineering Task Force (IETF). Comments
   should be submitted to the dhcp@bucknell.edu mailing list.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at
   any time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as ``work in progress.''

   To learn the current status of any Internet-Draft, please check the
   ``1id-abstracts.txt'' listing contained in the Internet- Drafts
   Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
   munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
   ftp.isi.edu (US West Coast).


Abstract

   The Dynamic Host Configuration Protocol provides a framework for
   passing configuration information to hosts on a TCP/IP network.
   Entities using the Service Location Protocol need to find out the
   address of Directory Agents in order to transact messages.  In
   certain other instances they may need to discover the correct scope
   and naming authority to be used in conjunction with the service
   attributes and URLS which are exchanged using the Service Location
   Protocol.










Perkins                Expires 27 February 1997                 [Page i]

Internet Draft     DHCP Options for Service Location      27 August 1996


1. Directory Agent Extension

   This extension specifies a Directory Agent (DA) [3], along with zero
   or more Naming Authorities [2] known to that DA and zero or more
   scopes supported by that DA.

   The code for this extension is 78.  Each Naming Authority and each
   scope MUST be a null-terminated string of ASCII characters.  The
   lengths of the strings are only indicated implicitly by their null
   termination and the overall length of the extension.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Code     |     Length    |D|   NA count  |  scope count  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         (if present)                          |
   |              Directory Agent address (16 octets)              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                            NA list ...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          scope list ...
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      Code     78

      Length   variable

      D        If the 'D' bit is set, the Directory Agent address is
               present.

      NA count
               The number of Naming Authorities indicated by strings in
               the NA list following.

      scope count
               The number of scopes indicated by strings in the scope
               list following.

      NA list
               A list of strings denoting Naming Authorities.

      scope list
               A list of strings denoting scopes.

   Note that more than one Directory Agent extension may be present in
   a DHCP message.  Each such extension may have the same or different
   lists of Naming Authorities and scopes.  The client may request a



Perkins                Expires 27 February 1997                 [Page 1]

Internet Draft     DHCP Options for Service Location      27 August 1996


   Directory Agent with a particular scope, and/or knowledgeable about
   schemes defined by a particular Naming Authority, by including the
   Directory Agent extension in a DHCP Request message with no Directory
   Agent address included (the 'D' bit set to zero), and the appropriate
   strings in the NA list and/or scope list.


2. Service Scope Extension

   This extension indicates a scope that should be used by a Service
   Agent (SA) [3], when responding to Service Request messages as
   specified by the Service Location Protocol.

    Code   Len
   +-----+-----+-----+-----
   |  79 |  n  |  Scope ...
   +-----+-----+-----+-----

   Scope is a null-terminated ASCII string, of length 'n' including the
   terminating null character.


3. Naming Authority Extension

   This extension indicates a naming authority (which specifies the
   syntax for schemes that may be used in URLs [1]) for use by entities
   with the Service Location Protocol.

    Code   Len
   +-----+-----+-----+-----+-----+-----
   |  80 |  n  |  Naming Authority ...
   +-----+-----+-----+-----+-----+-----

   Naming Authority is a null-terminated ASCII string, of length 'n'
   including the terminating null character.


4. Security Considerations

   If a malicious host is able to insert fraudulent information in
   DHCPOFFER packets sent to a prospective client of the Service
   Location Protocol, then the client will be unable to obtain service,
   and vulnerable to disclosing information to unauthorized service
   agents.  Likewise, a service agent would find that it might rely on
   fraudulent or otherwise malicious directory agents to advertise its
   services.  Many opportunities for denial of service exist.





Perkins                Expires 27 February 1997                 [Page 2]

Internet Draft     DHCP Options for Service Location      27 August 1996


   This difficulty is inherited from the much larger and more serious
   problem, viz.  securing or authenticating any information whatsoever
   from a DHCP server (or client!)  is not possible in common DHCP
   deployments.


5. Acknowledgements

   Thanks to Erik Guttman for his helpful suggestions in the creation of
   this draft.


References

   [1] T. Berners-Lee, L. Masinter, and M. McCahill.  Uniform Resource
       Locators (URL).  RFC 1738, December 1994.

   [2] Paul E. Hoffman and Ron Daniel, Jr.  Generic URN Syntax.
       draft-ietf-uri-urn-syntax-00.txt -- work in progress, April 1995.

   [3] J. Veizades, E. Guttman, C. Perkins, and S. Kaplan.  Service
       Location Protocol.  draft-ietf-svrloc-protocol-14.txt - work in
       progress, June 1996.


Author's Address

   Questions about this memo can be directed to:

          Charles Perkins
          Room J1-A25
          T. J. Watson Research Center
          IBM Corporation
          30 Saw Mill River Rd.
          Hawthorne, NY  10532

          Work:  +1 914 7847350
          Fax:   +1 914 7847007
          E-mail: perk@watson.ibm.com












Perkins                Expires 27 February 1997                 [Page 3]
