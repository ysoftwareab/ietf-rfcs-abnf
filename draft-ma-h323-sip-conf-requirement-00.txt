


SIPPING Working Group                                              Y. Ma
                                                                 H.Ikeda
                                                                  H.Deng
Internet-Draft                                           Hitachi (China)
Expires: January 11, 2006                                  July 10, 2005


 Requirements for the interworking between IPv4-based H.323 system and
                    IPv6-based SIP conference system
                draft-ma-h323-sip-conf-requirement-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 11, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   H.323 conference system is well defined and widely deployed today.
   It is important for SIP UA, both IPv4 and IPv6, to access H.323
   conference system.  This document defines an architecture for a SIP
   UA to access H.323 conference system.  The requirements for the
   elements in this architecture are examined.  Also the transition
   scenario for IPv6 SIP UA to access IPv4 H.323 conference system is
   discussed.




Ma                      Expires January 11, 2006                [Page 1]

Internet-Draft     Interworking between H.323 and SIP          July 2005


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  4
   3.  General architecture . . . . . . . . . . . . . . . . . . . . .  5
   4.  Signaling Layer  . . . . . . . . . . . . . . . . . . . . . . .  6
     4.1   Alias Mapping  . . . . . . . . . . . . . . . . . . . . . .  6
     4.2   Message Mapping  . . . . . . . . . . . . . . . . . . . . .  6
     4.3   Conference Control . . . . . . . . . . . . . . . . . . . .  6
     4.4   Floor control  . . . . . . . . . . . . . . . . . . . . . .  7
     4.5   IPv4/IPv6 transition . . . . . . . . . . . . . . . . . . .  7
   5.  The Media Layer  . . . . . . . . . . . . . . . . . . . . . . .  8
     5.1   IPv4/IPv4  . . . . . . . . . . . . . . . . . . . . . . . .  8
     5.2   IPv4/IPv6 transition . . . . . . . . . . . . . . . . . . .  8
   6.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . .  9
   7.  Security Considerations  . . . . . . . . . . . . . . . . . . . 10
   8.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 11
     8.1   Normative References . . . . . . . . . . . . . . . . . . . 11
     8.2   Informative References . . . . . . . . . . . . . . . . . . 11
       Author's Address . . . . . . . . . . . . . . . . . . . . . . . 12
       Intellectual Property and Copyright Statements . . . . . . . . 13





























Ma                      Expires January 11, 2006                [Page 2]

Internet-Draft     Interworking between H.323 and SIP          July 2005


1.  Introduction

   H.323 conference system is well defined and widely deployed today.
   SIPPING WG is also defining tightly coupled SIP conferencing 
   now[CONFFM][CCCONF]. It is important for the two conference system to 
   interoperate with each other.  In addition, H.323 conference system
   deployed today is IPv4 only.  As for SIP, both IPv4 and IPv6 elements
   have been implemented. It is necessary for IPv6 SIP system to 
   communicate with IPv4 H.323 conference system.

   There are two scenarios for the two systems to communicate with each
   other depending on the location of the conference control unit.  One
   is that the conference control unit locates in H.323 network, a SIP
   UA joins the conference through some methods.  The other is that the
   conference control unit locates in SIP network.  H.323 terminal joins
   a SIP conference defined in [CONFFM].

   This document will focus on the scenario where the conferenceing
   control function locates in H.323 conference system.  This document
   defines an architecture for a SIP UA, both IPv4 and IPv6, to access
   H.323 conference system.  The requirements for the entities in this
   architecture are examined.

   For the two conference system to interoperate with each other the
   signaling needs to be translated.  Further more, for IPv6 SIP UA to
   access IPv4 H.323 system media layer also needs to be manipulated.
   Section 3 describe the architecture for the interoperation.  Section
   4 discusses the signalig layer.  Section 5 disscusses the media
   layer.






















Ma                      Expires January 11, 2006                [Page 3]

Internet-Draft     Interworking between H.323 and SIP          July 2005


2.  Terminology

   In this document, the key words "MUST", "MUST NOT", "REQUIRED",
   "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT
   RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as
   described in BCP 14, [RFC2119] and indicate requirement levels for
   compliant implementations.












































Ma                      Expires January 11, 2006                [Page 4]

Internet-Draft     Interworking between H.323 and SIP          July 2005


3.  General architecture

   The requirement for SIP-H.323 interworking is defined in [RFC4123].
   Common architectures involving an IWF are introduced int the domument.
   For the two conference system to interoperate with each other, the
   architecture is shown in Figure 1.  The IWF is the interworking
   unit for the two systems.  The MCU is the conference control unit in
   H.323 system.  The IWF communicates with MCU through H.323 GK.  The
   SIP UA communicates with IWF through SIP proxy.  With the help of IWF
   a SIP UA can join an H.323 conference maintained in MCU.

   The IWF is interworking function unit.  It is in charge of signaling
   layer interoperation.


                   _____     ________     ____
               -->| SIP |<->|  IWF   |<->|    |<---
              /   |Proxy|   |        |   | GK |    \
             |    |_____|   |________|   |____|    |
             |               |^    ^|              |   _____________
             |               ||    ||               \->| MCU within |
             |               ||    ||                  |H.323 domain|
    ______   |               ||    ||                  |____________|
   |      |<-/              _v|____|v_                       |        
   |      |                |          |                ______|_____
   |SIP UA|<-------------->|   NAT    |<-------------->|  media   |
   |      |                |__________|                |  server  |
   |______|<------------------------------------------>|__________|

                      Fig.1 Interworking architecture

   The SIP UA needs to transmit media with media server.  If both use
   global reachable IPv4 address, the media can be transmitted directly
   after the negotiation process in the call set up procedure.  If the
   SIP UA is IPv6 only and MCU is IPv4 only they need to communicate
   through a NAT.
















Ma                      Expires January 11, 2006                [Page 5]

Internet-Draft     Interworking between H.323 and SIP          July 2005


4.  Signaling Layer

   The IWF works for signaling interoperation.  In H.323 domain the IWF
   registers to the GK as a GW end point.  In SIP domain it is a focus
   UA as defined in [CONFFM][CCCONF].

   The floor control server is the H.323 MCU.  The floor chairs also
   reside in the H.323 domain.  The SIP UA in this conference is just
   common participant. Other scenarios are out of the scope of this 
   document.

4.1  Alias Mapping

   There are different formats of alias addresses in H.323 and the
   corresponding addresses in SIP.

   H.323 supports different types of alias addresses. The IWF should
   support all the types of alias addresses.
   The IWF MUST support alias mapping.  It MUST have means to map SIP
   URI to H.323 alias address and vice versa.

4.2  Message Mapping

   The IWF MUST map SIP messages to H.323 messages and vice versa.  

4.3  Conference Control

   In SIP domain the IWF behaves as a focus.  A focus, as defined in
   [CONFFM], maintains a SIP signaling relationship with each 
   participant in the conference.

   The IWF SHOULD support the conference package, behave as a
   notifier for that package, and indicate its support in the Allow-
   Events header fields in requests and responses. 

   A globally routable Conference Factory URI can be allocated and
   published for the IWF.  When the UA calls the conference factory URI,
   a new conference is created through interaction with MCU.



Ma                      Expires January 11, 2006                [Page 6]

Internet-Draft     Interworking between H.323 and SIP          July 2005


   When other URI is called, the call is routed to GK to find
   correspondent conference.

4.4  Floor control

   Floor control is well defined in H.323 system[H.323].  [H.248.19]
   defines the floor control package between MC and MP.  The IWF MUST
   support floor control protocol in H.323.

   In XCON [BFCP] is defined.  The SDP for BFCP[SDPBFCP] is defined in
   MMUSIC.  The IWF MUST support floor control in SIP message.

   The IWF MUST map H.323 floor control to BFCP in SIP message and vice
   versa.

4.5  IPv4/IPv6 transition

   The IPv4/IPv6 transition in signaling layer is done by the IWF. all
   the signaling should be transmitted through the IWF.

   The IWF should understand the format of both IPv4 and IPv6 address.  
   For address translation it SHOULD support NAT traversal[NAT].





























Ma                      Expires January 11, 2006                [Page 7]

Internet-Draft     Interworking between H.323 and SIP          July 2005


5.  The Media Layer

   The media layer has two cases.  In the first case both SIP UA and
   H.323 MCU have IPv4 addresses.  In the second case the SIP UA is in
   IPv6 network while the H.323 MCU is in IPv4 network.  In the second
   case a NAT is needed to translate media stream.

5.1  IPv4/IPv4

   In this scenario the SIP UA and H.323 MCU can exchange RTP stream
   directly after SDP/H.245 negotiation.  The IWF MUST support SDP/H.245
   mapping.

   If NAT exists in the media path the UA can use STUN or other means to
   traverse the NAT.

5.2  IPv4/IPv6 transition

   In this scenario a NAT is necessary to translate IPv4 address to IPv6
   address and vice versa.

   For terminals to communicate with each other the IWF should support
   MIDCOM[RFC3303].  It behaves as a MIDCOM agent.  With the information
   extracted from SDP/H.245 it MUST notify the NAT to enable media
   transmission through NAT device.


























Ma                      Expires January 11, 2006                [Page 8]

Internet-Draft     Interworking between H.323 and SIP          July 2005


6.  IANA Considerations

   There are no IANA considerations associated with this specification.
















































Ma                      Expires January 11, 2006                [Page 9]

Internet-Draft     Interworking between H.323 and SIP          July 2005


7.  Security Considerations

   As an interworking entity the IWF should be compliant to the security
   requirements defined in [RFC4123].
















































Ma                      Expires January 11, 2006               [Page 10]

Internet-Draft     Interworking between H.323 and SIP          July 2005


8.  References

8.1  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC3261]  Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston,
              A., Peterson, J., Sparks, R., Handley, M., and E.
              Schooler, "SIP: Session Initiation Protocol", RFC 3261,
              June 2002.

   [H.323]    International Telecommunication Union, "Packet based
              multimedia communication systems", Recommendation H.323,
              July 2003.

   [RFC4123]  Schulzrinne, H., C. Agboh, "Session Initiation Protocol
              (SIP)-H.323 Interworking Requirements",
              RFC 4123, July 2005.

8.2  Informative References


   [BFCP]     Camarillo, G., "The Binary Floor Control Protocol (BFCP)",
              draft-ietf-xcon-bfcp-04 (work in progress), May 2005.

   [SDPBFCP]  Camarillo, G., "Session Description Protocol (SDP) Format
              for Binary Floor Control Protocol  (BFCP) Streams",
              draft-ietf-mmusic-sdp-bfcp-01 (work in progress),
              May 2005.

   [CCCONF]   Johnston, A. and O. Levin, "Session Initiation Protocol
              Call Control - Conferencing for User Agents",
              draft-ietf-sipping-cc-conferencing-07 (work in progress),
              June 2005.

   [CONFFM]   Rosenberg, J., "A Framework for Conferencing with the
              Session Initiation Protocol",
              draft-ietf-sipping-conferencing-framework-05 (work in
              progress), May 2005.

   [NAT]      Boulton, C. and J. Rosenberg, "Best Current Practices for
              NAT Traversal for SIP",
              draft-ietf-sipping-nat-scenarios-02 (work in progress),
              February 2005.





Ma                      Expires January 11, 2006               [Page 11]

Internet-Draft     Interworking between H.323 and SIP          July 2005


   [RFC3303]  Srisuresh, P., Kuthan, J., Rosenberg, J., Molitor, A., and
              A. Rayhan, "Middlebox communication architecture and
              framework", RFC 3303, August 2002.

   [H.248.19] International Telecommunication Union, "Gateway control 
              protocol: Decomposed multipoint control unit, audio, video
              and data conferencing packages", Recommendation H.248.19,
              March 2004.
 
Author's Address

   Yuanchen Ma
   Hitachi (China) R&D
   No. 5 Dong San Huan Bei Lu Road
   Chaoyang District
   Beijing  100004
   China

   Phone: +86 10 6590 8111
   Email: ycma@hitachi.cn

   Hiroki Ikeda
   Hitachi (China) R&D
   No. 5 Dong San Huan Bei Lu Road
   Chaoyang District
   Beijing  100004
   China

   Phone: +86 10 6590 8111
   Email: hikeda@hitachi.cn

   Hui Deng
   Hitachi (China) R&D
   No. 5 Dong San Huan Bei Lu Road
   Chaoyang District
   Beijing  100004
   China

   Phone: +86 10 6590 8111
   Email: hdeng@hitachi.cn


















Ma                      Expires January 11, 2006               [Page 12]

Internet-Draft     Interworking between H.323 and SIP          July 2005


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Ma                      Expires January 11, 2006               [Page 13]

