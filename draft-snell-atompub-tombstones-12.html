<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>The Atom "deleted-entry" Element</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="The Atom &quot;deleted-entry&quot; Element">
<meta name="keywords" content="I-D, Internet-Draft, XML, Extensible Markup Language, Atom, RSS, Syndication">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">J. Snell</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">December 6, 2010</td></tr>
<tr><td class="header">Updates: <a href='http://tools.ietf.org/html/rfc4287'>4287</a> (if&nbsp;approved)</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: June 9, 2011</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />The Atom "deleted-entry" Element<br />draft-snell-atompub-tombstones-12.txt</h1>

<h3>Abstract</h3>

<p>This specification adds mechanisms to the Atom Syndication Format 
which publishers of Atom Feed and Entry documents can use to explicitly 
identify Atom entries that have been removed.
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on June 9, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Notational Conventions<br />
<a href="#anchor3">3.</a>&nbsp;
The at:deleted-entry element<br />
<a href="#anchor4">4.</a>&nbsp;
Deleted Entry Document<br />
<a href="#anchor5">5.</a>&nbsp;
Digital Signatures<br />
<a href="#anchor6">6.</a>&nbsp;
Encryption<br />
<a href="#anchor7">7.</a>&nbsp;
Security Considerations<br />
<a href="#anchor8">8.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor9">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This specification adds mechanisms to the Atom Syndication Format which 
publishers of Atom Feed and Entry documents can use to explicitly identify 
Atom entries that have been removed.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Notational Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", 
"SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be 
interpreted as described in BCP 14, <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>
</p>
<p>This specification uses XML Namespaces <a class='info' href='#W3C.REC-xml-names-19990114'>[W3C.REC&#8209;xml&#8209;names&#8209;19990114]<span> (</span><span class='info'>Hollander, D., Layman, A., and T. Bray, &ldquo;Namespaces in XML,&rdquo; January&nbsp;1999.</span><span>)</span></a> 
to uniquely identify XML element names.  It uses the following namespace prefix 
for the indicated namespace URI;
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
 "at": "http://purl.org/atompub/tombstones/1.0"
</pre></div>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
The at:deleted-entry element</h3>

<p>The at:deleted-entry element represents an Atom Entry that has been removed.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  deletedEntry = element at:deleted-entry {
    atomCommonAttributes,
    attribute ref { atomUri },
    attribute when { atomDateConstruct },
    ( element at:by { atomPersonConstruct }?
    &amp; element at:comment { atomTextConstruct }?
    &amp; element atom:link*
    &amp; element atom:source?
    &amp; anyElement* )
  }
</pre></div>
<p>The at:deleted-entry element MUST contain a ref attribute whose value 
specifies the value of the atom:id of the entry that has been removed.
</p>
<p>The at:deleted-entry element MUST contain a when attribute whose value is an 
<a class='info' href='#RFC3339'>[RFC3339]<span> (</span><span class='info'>Klyne, G., Ed. and C. Newman, &ldquo;Date and Time on the Internet: Timestamps,&rdquo; July&nbsp;2002.</span><span>)</span></a> "date-time" specifying the instant the entry was removed.
An uppercase "T" character MUST be used to separate date and time, and an uppercase 
"Z" character MUST be present in the absence of a numeric time zone offset
</p>
<p>The at:deleted-entry element MAY contain one at:by element used to identify the
entity that removed the entry. The at:by element is an Atom Person
Construct as defined by Section 3.2 of <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
</p>
<p>The at:deleted-entry element MAY contain one at:comment element whose value 
provides additional, language-sensitive information about the deletion operation.  
The atom:comment element is an Atom Text Construct as defined by Section 3.1 of 
<a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
</p>
<p>The at:deleted-entry element MAY contain any number of atom:link elements 
as specified by Section 4.2.7 of <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
</p>
<p>The at:deleted-entry element MAY contain one atom:source element as defined
by Section 4.2.11 of <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>. Within the context of an
at:deleted-entry element, the atom:source element is intended to allow the 
aggregation of at:deleted-entry element from different feeds while retaining
information about an at:deleted-entry's source feed. When an at:deleted-entry
element appears in a Feed document other than it's source Feed or when an
at:deleted-entry element that has a source Feed document is used in the 
context of a Deleted Entry Document, it MUST contain an atom:source element.
</p>
<p>An Atom feed MAY contain any number of at:deleted-entry elements, but 
MUST NOT contain more than one with the same combination of ref and when 
attribute values.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  &lt;feed xmlns="http://www.w3.org/2005/Atom"
        xmlns:at="http://purl.org/atompub/tombstones/1.0"&gt;
     ...
     &lt;!-- Minimal deleted-entry --&gt;
     &lt;at:deleted-entry
       ref="tag:example.org,2005:/entries/1"
       when="2005-11-29T12:11:12Z"/&gt;

     &lt;!-- Extended deleted-entry --&gt;
     &lt;at:deleted-entry
       ref="tag:example.org,2005:/entries/2"
       when="2005-11-29T12:11:12Z"&gt;
       &lt;at:by&gt;
         &lt;name&gt;John Doe&lt;/name&gt;
         &lt;email&gt;jdoe@example.org&lt;/email&gt;
       &lt;/at:by&gt;
       &lt;at:comment&gt;Removed comment spam&lt;/at:comment&gt;
     &lt;/at:deleted-entry&gt;
     ...
  &lt;/feed&gt;
</pre></div>
<p>An Atom feed MAY contain atom:entry elements and at:deleted-entry elements 
sharing the same atom:id value.  Atom processors SHOULD ignore any at:deleted-entry 
elements sharing an atom:id value with an atom:entry whose atom:updated element 
specifies a date and time more recent than or equal to the at:deleted-entry 
element's when value.
</p>
<p>Implementors should note that the at:deleted-entry element is informative
in nature only and may be ignored by Atom processors. The presence of an 
at:deleted-entry element does not guarantee that the atom:entry to which it
is referring will no longer be available.
</p>
<p>Elements and attributes from any XML vocabulary MAY be used within an
at:deleted-entry element. Processors encountering such markup MUST NOT stop 
processing or signal an error. It might be the case that the Processor is able 
to process the foreign markup correctly and does so.  When unknown markup is 
encountered as a child of at:deleted-entry, Processors MAY bypass the markup 
and any textual content and MUST NOT change their behavior as a result of the 
markup's presence.
</p>
<p>This specification allows the use of IRIs <a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>Duerst, M. and M. Suignard, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; January&nbsp;2005.</span><span>)</span></a> in 
precisely the same manner specified in Section 2 of <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
</p>
<p>Any element defined by this specification MAY have an xml:base
attribute <a class='info' href='#W3C.REC-xmlbase-20010627'>[W3C.REC&#8209;xmlbase&#8209;20010627]<span> (</span><span class='info'>Marsh, J., &ldquo;XML Base,&rdquo; June&nbsp;2001.</span><span>)</span></a>.  When xml:base is 
used, it serves the function described in section 5.1.1 of <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>, 
establishing the base URI (or IRI) for resolving any relative references found 
within the effective scope of the xml:base attribute.
</p>
<p>Any element defined by this specification MAY have an xml:lang attribute, 
whose content indicates the natural language for the element and its descendents.  
Requirements regarding the content and interpretation of xml:lang are specified in XML 1.0
<a class='info' href='#W3C.REC-xml-20040204'>[W3C.REC&#8209;xml&#8209;20040204]<span> (</span><span class='info'>Maler, E., Paoli, J., Yergeau, F., Sperberg-McQueen, C., and T. Bray, &ldquo;Extensible Markup Language (XML) 1.0 (Third Edition),&rdquo; February&nbsp;2004.</span><span>)</span></a>, Section 2.12.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Deleted Entry Document</h3>

<p>A "Deleted Entry Document" represents exactly one at:deleted-entry element
outside the context of an Atom feed. It's root is the at:deleted-entry element.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
namespace at = "http://purl.org/atompub/tombstones/1.0"
start = at:deleted-entry
</pre></div>
<p>Deleted Entry Documents are specified in terms of the XML Information Set, 
serialized as XML 1.0 <a class='info' href='#W3C.REC-xml-20040204'>[W3C.REC&#8209;xml&#8209;20040204]<span> (</span><span class='info'>Maler, E., Paoli, J., Yergeau, F., Sperberg-McQueen, C., and T. Bray, &ldquo;Extensible Markup Language (XML) 1.0 (Third Edition),&rdquo; February&nbsp;2004.</span><span>)</span></a> and identified 
with the "application/atomdeleted+xml" media type. Deleted Entry Documents 
MUST be well-formed XML. This specification does not define a DTD for Deleted
Entry Documents, and hence does not require them to be valid (in the sense 
used by XML).
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Digital Signatures</h3>

<p>The at:deleted-entry element MAY have an Enveloped Signature, as described 
by XML-Signature and Syntax Processing <a class='info' href='#W3C.REC-xmldsig-core-20020212'>[W3C.REC&#8209;xmldsig&#8209;core&#8209;20020212]<span> (</span><span class='info'>Solo, D., Reagle, J., and D. Eastlake, &ldquo;XML-Signature Syntax and Processing,&rdquo; February&nbsp;2002.</span><span>)</span></a>.
</p>
<p>Processors MUST NOT reject an at:deleted-entry containing such a
signature because they are not capable of verifying it; they MUST
continue processing and MAY inform the user of their failure to
validate the signature.
</p>
<p>In other words, the presence of an element with the namespace URI
"http://www.w3.org/2000/09/xmldsig#" and a local name of "Signature"
as a child of the document element MUST NOT cause an Processor
to fail merely because of its presence.
</p>
<p>Section 6.5.1 of <a class='info' href='#W3C.REC-xmldsig-core-20020212'>[W3C.REC&#8209;xmldsig&#8209;core&#8209;20020212]<span> (</span><span class='info'>Solo, D., Reagle, J., and D. Eastlake, &ldquo;XML-Signature Syntax and Processing,&rdquo; February&nbsp;2002.</span><span>)</span></a> requires support for
Canonical XML <a class='info' href='#W3C.REC-xml-c14n-20010315'>[W3C.REC&#8209;xml&#8209;c14n&#8209;20010315]<span> (</span><span class='info'>Boyer, J., &ldquo;Canonical XML Version 1.0,&rdquo; March&nbsp;2001.</span><span>)</span></a>.  However, many implementers do 
not use it because signed XML documents enclosed in other XML documents have 
their signatures broken.  Thus, Processors that verify signed at:deleted-entry
elements MUST be able to canonicalize with the exclusive XML canonicalization method
identified by the URI "http://www.w3.org/2001/10/xml-exc-c14n#", as
specified in Exclusive XML Canonicalization <a class='info' href='#W3C.REC-xml-exc-c14n-20020718'>[W3C.REC&#8209;xml&#8209;exc&#8209;c14n&#8209;20020718]<span> (</span><span class='info'>Reagle, J., Boyer, J., and D. 3rd, &ldquo;Exclusive XML Canonicalization Version 1.0,&rdquo; July&nbsp;2002.</span><span>)</span></a>.
</p>
<p>Intermediaries such as aggregators may need to add an atom:source
element to an at:deleted-entry that does not contain its own atom:source
element.  If such an entry is signed, the addition will break the
signature.  Thus, a publisher of individually-signed at:deleted-entry's should
strongly consider adding an atom:source element to those elements
before signing them.  Implementers should also be aware of the issues
concerning the use of markup in the "xml:" namespace as it interacts
with canonicalization.
</p>
<p>Section 4.4.2 of <a class='info' href='#W3C.REC-xmldsig-core-20020212'>[W3C.REC&#8209;xmldsig&#8209;core&#8209;20020212]<span> (</span><span class='info'>Solo, D., Reagle, J., and D. Eastlake, &ldquo;XML-Signature Syntax and Processing,&rdquo; February&nbsp;2002.</span><span>)</span></a> requires support for
DSA signatures and recommends support for RSA signatures.  However,
because of the much greater popularity in the market of RSA versus
DSA, Atom Processors that verify signed Atom Documents MUST be able
to verify RSA signatures, but do not need be able to verify DSA
signatures.  Due to security issues that can arise if the keying
material for message authentication code (MAC) authentication is not
handled properly, Atom Documents SHOULD NOT use MACs for signatures.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Encryption</h3>

<p>The root of a Deleted Entry Document (the at:deleted-entry element) MAY be 
encrypted, using the mechanisms described by XML Encryption Syntax and
Processing <a class='info' href='#W3C.REC-xmlenc-core-20021210'>[W3C.REC&#8209;xmlenc&#8209;core&#8209;20021210]<span> (</span><span class='info'>Eastlake, D. and J. Reagle, &ldquo;XML Encryption Syntax and Processing,&rdquo; December&nbsp;2002.</span><span>)</span></a>.
</p>
<p>Section 5.1 of <a class='info' href='#W3C.REC-xmlenc-core-20021210'>[W3C.REC&#8209;xmlenc&#8209;core&#8209;20021210]<span> (</span><span class='info'>Eastlake, D. and J. Reagle, &ldquo;XML Encryption Syntax and Processing,&rdquo; December&nbsp;2002.</span><span>)</span></a> requires support of
TripleDES, AES-128, and AES-256. Processors that decrypt Deleted Entry
Documents MUST be able to decrypt with AES-128 in Cipher Block
Chaining (CBC) mode.
</p>
<p>Encryption based on <a class='info' href='#W3C.REC-xmlenc-core-20021210'>[W3C.REC&#8209;xmlenc&#8209;core&#8209;20021210]<span> (</span><span class='info'>Eastlake, D. and J. Reagle, &ldquo;XML Encryption Syntax and Processing,&rdquo; December&nbsp;2002.</span><span>)</span></a> does not ensure
integrity of the original document.  There are known cryptographic
attacks where someone who cannot decrypt a message can still change
bits in a way where part or all the decrypted message makes sense but
has a different meaning.  Thus, Processors that decrypt Deleted Entry
Documents SHOULD check the integrity of the decrypted document by
verifying the hash in the signature (if any) in the document, or by
verifying a hash of the document within the document (if any).
</p>
<p>When a Deleted Entry Document is to be both signed and encrypted, it is
generally a good idea to first sign the document, then encrypt the
signed document.  This provides integrity to the base document while
encrypting all the information, including the identity of the entity
that signed the document.  Note that, if MACs are used for
authentication, the order MUST be that the document is signed and
then encrypted, and not the other way around.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>As specified in <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>, Atom processors should be
  aware of the potential for spoofing attacks where an attacker publishes
  atom:entry or atom:deleted-entry elements using the same atom:id values as 
  entries from other Atom feeds.  An attacker may attempt to trick an application 
  into believing that a given entry has either been removed from or added to a feed.  
  To mitigate this issue, Atom processors are advised to ignore at:deleted-entry 
  elements referencing entries that have not previously appeared within the 
  containing Feed document and should take steps to verify the origin of the
  Atom feed before considering the entries to be removed.
</p>
<p>The at:deleted-entry element can be encrypted and signed using
  <a class='info' href='#W3C.REC-xmlenc-core-20021210'>[W3C.REC&#8209;xmlenc&#8209;core&#8209;20021210]<span> (</span><span class='info'>Eastlake, D. and J. Reagle, &ldquo;XML Encryption Syntax and Processing,&rdquo; December&nbsp;2002.</span><span>)</span></a> and <a class='info' href='#W3C.REC-xmldsig-core-20020212'>[W3C.REC&#8209;xmldsig&#8209;core&#8209;20020212]<span> (</span><span class='info'>Solo, D., Reagle, J., and D. Eastlake, &ldquo;XML-Signature Syntax and Processing,&rdquo; February&nbsp;2002.</span><span>)</span></a>,
  respectively, and are subject to the security considerations implied
  by their use.
</p>
<p>Digital signatures provide authentication, message integrity, and
  non-repudiation with proof of origin.  Encryption provides data
  confidentiality.
</p>
<p>An application supporting the use of digitally signed atom:entry and 
  at:deleted-entry elements should be aware of the potential issues that
  could arise if a at:deleted-entry element indicating the deletion of 
  an atom:entry element has been signed using a different key than what was 
  used to sign the atom:entry, or when an unsigned at:deleted-entry is used to 
  indicate the deletion of a signed atom:entry. Either case can potentially 
  indicate a form of spoofing attack. Processors must take steps to verify 
  the validity of the at:deleted-entry element.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>A Deleted Entry Document, when serialized as XML 1.0, can be identified with
the following media type:
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
  Type name:  application
  Subtype name:  atomdeleted+xml
  Required parameters:  None.
  Optional parameters:
    "charset":  This parameter has semantics identical to the charset
      parameter of the "application/xml" media type as specified in
      [RFC3023].
  Encoding considerations:  Identical to those of "application/xml" as
    described in [RFC3023], Section 3.2.
  Security considerations:  As defined in this specification.
    In addition, as this media type uses the "+xml" convention, it
    shares the same security considerations as described in [RFC3023],
    Section 10.
  Interoperability considerations:  There are no known interoperability
    issues.
  Published specification:  This specification.
  Applications that use this media type:  No known applications
    currently use this media type.
  Additional information:
    Magic number(s):  As specified for "application/xml" in [RFC3023],
      Section 3.2.
    File extension:  .atomdeleted
    Macintosh File Type code:  TEXT
  Person and email address to contact for further information:
    James M Snell &lt;jasnell@us.ibm.com&gt;
  Intended usage:  COMMON
  Author/Change controller:  IESG
</pre></div>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>The author gratefully acknowledges the feedback from the members of the 
Atom Publishing Format and Protocol working group during the development of 
this specification.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3023">[RFC3023]</a></td>
<td class="author-text">Murata, M., St. Laurent, S., and D. Kohn, &ldquo;<a href="http://tools.ietf.org/html/rfc3023">XML Media Types</a>,&rdquo; RFC&nbsp;3023, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3023.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3339">[RFC3339]</a></td>
<td class="author-text"><a href="mailto:GK@ACM.ORG">Klyne, G., Ed.</a> and <a href="mailto:chris.newman@sun.com">C. Newman</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3339">Date and Time on the Internet: Timestamps</a>,&rdquo; RFC&nbsp;3339, July&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3339.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3339.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3339.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3987">[RFC3987]</a></td>
<td class="author-text">Duerst, M. and M. Suignard, &ldquo;<a href="http://tools.ietf.org/html/rfc3987">Internationalized Resource Identifiers (IRIs)</a>,&rdquo; RFC&nbsp;3987, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3987.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4287">[RFC4287]</a></td>
<td class="author-text"><a href="mailto:mnot@pobox.com">Nottingham, M., Ed.</a> and <a href="mailto:rfsayre@boswijck.com">R. Sayre, Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4287">The Atom Syndication Format</a>,&rdquo; RFC&nbsp;4287, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4287.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc4287.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc4287.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-20040204">[W3C.REC-xml-20040204]</a></td>
<td class="author-text">Maler, E., Paoli, J., Yergeau, F., Sperberg-McQueen, C., and T. Bray, &ldquo;<a href="http://www.w3.org/TR/2004/REC-xml-20040204">Extensible Markup Language (XML) 1.0 (Third Edition)</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xml-20040204, February&nbsp;2004 (<a href="http://www.w3.org/TR/2004/REC-xml-20040204">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-c14n-20010315">[W3C.REC-xml-c14n-20010315]</a></td>
<td class="author-text">Boyer, J., &ldquo;<a href="http://www.w3.org/TR/2001/REC-xml-c14n-20010315">Canonical XML Version 1.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xml-c14n-20010315, March&nbsp;2001 (<a href="http://www.w3.org/TR/2001/REC-xml-c14n-20010315">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-exc-c14n-20020718">[W3C.REC-xml-exc-c14n-20020718]</a></td>
<td class="author-text">Reagle, J., Boyer, J., and D. 3rd, &ldquo;<a href="http://www.w3.org/TR/2002/REC-xml-exc-c14n-20020718">Exclusive XML Canonicalization Version 1.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xml-exc-c14n-20020718, July&nbsp;2002 (<a href="http://www.w3.org/TR/2002/REC-xml-exc-c14n-20020718">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-names-19990114">[W3C.REC-xml-names-19990114]</a></td>
<td class="author-text">Hollander, D., Layman, A., and T. Bray, &ldquo;<a href="http://www.w3.org/TR/1999/REC-xml-names-19990114">Namespaces in XML</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xml-names-19990114, January&nbsp;1999 (<a href="http://www.w3.org/TR/1999/REC-xml-names-19990114">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xmlbase-20010627">[W3C.REC-xmlbase-20010627]</a></td>
<td class="author-text">Marsh, J., &ldquo;<a href="http://www.w3.org/TR/2001/REC-xmlbase-20010627">XML Base</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xmlbase-20010627, June&nbsp;2001 (<a href="http://www.w3.org/TR/2001/REC-xmlbase-20010627">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xmldsig-core-20020212">[W3C.REC-xmldsig-core-20020212]</a></td>
<td class="author-text">Solo, D., Reagle, J., and D. Eastlake, &ldquo;<a href="http://www.w3.org/TR/2002/REC-xmldsig-core-20020212">XML-Signature Syntax and Processing</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xmldsig-core-20020212, February&nbsp;2002 (<a href="http://www.w3.org/TR/2002/REC-xmldsig-core-20020212">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xmlenc-core-20021210">[W3C.REC-xmlenc-core-20021210]</a></td>
<td class="author-text">Eastlake, D. and J. Reagle, &ldquo;<a href="http://www.w3.org/TR/2002/REC-xmlenc-core-20021210">XML Encryption Syntax and Processing</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xmlenc-core-20021210, December&nbsp;2002 (<a href="http://www.w3.org/TR/2002/REC-xmlenc-core-20021210">HTML</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">James M Snell</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jasnell@us.ibm.com">jasnell@us.ibm.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://ibm.com">http://ibm.com</a></td></tr>
</table>
</body></html>
