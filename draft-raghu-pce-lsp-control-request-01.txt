



PCE Working Group                                            A. Raghuram
Internet-Draft                                                A. Goddard
Intended status: Standards Track                           C. Yadlapalli
Expires: April 28, 2017                                             AT&T
                                                              J. Karthik
                                                            S. Sivabalan
                                                               J. Parker
                                                     Cisco Systems, Inc.
                                                                D. Dhody
                                                     Huawei Technologies
                                                        October 25, 2016


   Ability for a stateful PCE to request and obtain control of a LSP
                 draft-raghu-pce-lsp-control-request-01

Abstract

   The stateful Path Computation Element (PCE) communication Protocol
   (PCEP) extensions provide stateful control of Multiprotocol Label
   Switching (MPLS) Traffic Engineering Label Switched Paths (TE LSP)
   via PCEP, for a model where a Path Computation Client (PCC) delegates
   control over one or more locally configured LSPs to a stateful PCE.
   There are use-cases in which a stateful PCE may wish to request and
   obtain control of one or more LSPs from a PCC.  This document
   describes a simple extension to stateful PCEP to achieve such an
   objective.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."



Raghuram, et al.         Expires April 28, 2017                 [Page 1]

Internet-Draft             LSP Control Request              October 2016


   This Internet-Draft will expire on April 28, 2017.

Copyright Notice

   Copyright (c) 2016 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  LSP Control Request Flag  . . . . . . . . . . . . . . . . . .   3
   4.  Operation . . . . . . . . . . . . . . . . . . . . . . . . . .   4
   5.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   Stateful PCEP extensions [I-D.ietf-pce-stateful-pce] specifies a set
   of extensions to PCEP [RFC5440] to enable stateful control of TE LSPs
   between and across PCEP sessions in compliance with [RFC4657].  It
   includes mechanisms to effect LSP state synchronization between PCCs
   and PCEs, delegation of control of LSPs to PCEs, and PCE control of
   timing and sequence of path computations within and across PCEP
   sessions.  The stateful PCEP defines the following two useful network
   operations:

   o  Delegation: an operation in which a PCC temporarily grants the
      rights to modify one or more LSPs to a PCE, and such LSPs are
      referred to as delegated LSPs.

   o  Revocation: an operation in which a PCC revokes the previously
      granted rights to modify one or more LSPs from a PCE.



Raghuram, et al.         Expires April 28, 2017                 [Page 2]

Internet-Draft             LSP Control Request              October 2016


   For Redundant Stateful PCEs (section 5.7.4. of [I-D.ietf-pce-
   stateful-pce]), during a PCE failure, one of the redundant PCE could
   request to take control over an LSP.  The redundant PCEs MAY use a
   local policy or a proprietary election mechanism to decide which PCE
   to take control.  In this case, a mechanism is needed for a stateful
   PCE to request control of one or more LSPs for a PCC, so that a newly
   elected primary PCE can request to take over control.

   In some deployments, the operator would like to use stateful PCE for
   global optimization algorithms but would still like to keep the
   control of the LSP at the PCC.  In such cases, a stateful PCE could
   request to take control during the global optimization and return the
   delegation once done.

   This specification provides a simple extension using which a PCE can
   request control of one or more LSPs from any PCC over stateful PCEP
   channel.  The procedures for granting and relinquishing control of
   the LSPs are specified in accordance with the specification
   [I-D.ietf-pce-stateful-pce].

2.  Terminology

   The following terminologies are used in this document:

   PCC:  Path Computation Client.

   PCE:  Path Computation Element

   PCEP:  Path Computation Element communication Protocol.

   PCRpt:  Path Computation State Report message.

   PCUpd:  Path Computation Update Request message.

   PLSP-ID:  A PCEP-specific identifier for the LSP.

3.  LSP Control Request Flag

   The SRP object is defined in [I-D.ietf-pce-stateful-pce]  and
   included here for ease of reference.











Raghuram, et al.         Expires April 28, 2017                 [Page 3]

Internet-Draft             LSP Control Request              October 2016


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                          Flags                            |C|R|
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                        SRP-ID-number                          |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                                                               |
       //                      Optional TLVs                          //
       |                                                               |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                         Figure 1: The SRP Object

   A new flag, the "LSP Control Request Flag" (C), is introduced in the
   Stateful PCE Request Parameters (SRP) object.  On a PCUpd message, a
   PCE sets the C Flag to 1 to indicate that it wishes to gain control
   of LSP(s).  The LSP is identified by the LSP object.  A PLSP-ID of
   value other than 0 and 0xFFFFF is used to identify the LSP for which
   the PCE requests control.  The PLSP-ID value of 0 indicates that the
   PCE is requesting control of all LSPs originating from the PCC.  The
   flag has no meaning in the PCRpt and PCInitiate message and MUST be
   set to 0 on transmission and MUST be ignored on receipt.

4.  Operation

   During normal operation, a PCC that wishes to delegate the control of
   an LSP sets the D Flag to 1 in all PCRpt messages pertaining to the
   LSP.  The PCE confirms the delegation by setting D Flag to 1 in all
   PCUpd messages pertaining to the LSP.  The PCC revokes the control of
   the LSP from the PCE by setting D Flag to 0 in PCRpt messages
   pertaining to the LSP.  If the PCE wishes to relinquish the control
   of the LSP, it sets D Flag to 0 in all PCUpd messages pertaining to
   the LSP.

   If a PCE wishes to gain control over an LSP, it sends a PCUpd message
   with C Flag set to 1 in SRP object.  The LSP for which the PCE
   requests control is identified by the PLSP-ID.  The PLSP-ID of 0
   indicates that the PCE wants control over all LSPs originating from
   the PCC.  If the LSP(s) is/are already delegated to the PCE, the PCC
   ignores the C Flag.  A PCC can decide to delegate the control of the
   LSP at its own discretion.  If the PCC grants or denies the control,
   it sends PCRpt message with D Flag set to 1 and 0 respectively in
   accordance with according with stateful PCEP
   [I-D.ietf-pce-stateful-pce] . If the PCC does not grant the control,
   the PCE may choose to retry requesting the control preferably using
   exponentially increasing timer.  A PCE ignores the C Flag on the
   PCRpt message



Raghuram, et al.         Expires April 28, 2017                 [Page 4]

Internet-Draft             LSP Control Request              October 2016


   In case multiple PCEs request control over an LSP, and if the PCC is
   willing to grant the control, the LSP MUST be delegated to only one
   PCE chosen by the PCC based on its local policy.

   It should be noted that a legacy implementation of PCC, that does not
   understand the C flag in PCUpd message, would simply ignore the flag
   and the request to grant control over the LSP.

5.  Security Considerations

   No additional security measure is required.

6.  IANA Considerations

   None.

7.  Acknowledgements

   TBD.

8.  References

8.1.  Normative References

   [I-D.ietf-pce-stateful-pce]
              Crabbe, E., Minei, I., Medved, J., and R. Varga, "PCEP
              Extensions for Stateful PCE", draft-ietf-pce-stateful-
              pce-16 (work in progress), September 2016.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <http://www.rfc-editor.org/info/rfc5440>.

8.2.  Informative References

   [RFC4657]  Ash, J., Ed. and J. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol Generic
              Requirements", RFC 4657, DOI 10.17487/RFC4657, September
              2006, <http://www.rfc-editor.org/info/rfc4657>.






Raghuram, et al.         Expires April 28, 2017                 [Page 5]

Internet-Draft             LSP Control Request              October 2016


Authors' Addresses

   Aswatnarayan Raghuram
   AT&T
   200 S Laurel Aevenue
   Middletown, NJ  07748
   USA

   Email: ar2521@att.com


   Al Goddard
   AT&T
   200 S Laurel Aevenue
   Middletown, NJ  07748
   USA

   Email: ag6941@att.com


   Chaitanya Yadlapalli
   AT&T
   200 S Laurel Aevenue
   Middletown, NJ  07748
   USA

   Email: cy098d@att.com


   Jay Karthik
   Cisco Systems, Inc.
   125 High Street
   Boston, Massachusetts  02110
   USA

   Email: jakarthi@cisco.com


   Siva Sivabalan
   Cisco Systems, Inc.
   2000 Innovation Drive
   Kanata, Ontario  K2K 3E8
   Canada

   Email: msiva@cisco.com






Raghuram, et al.         Expires April 28, 2017                 [Page 6]

Internet-Draft             LSP Control Request              October 2016


   Jon Parker
   Cisco Systems, Inc.
   2000 Innovation Drive
   Kanata, Ontario  K2K 3E8
   Canada

   Email: jdparker@cisco.com


   Dhruv Dhody
   Huawei Technologies
   Divyashree Techno Park, Whitefield
   Bangalore, Karnataka  560066
   India

   Email: dhruv.ietf@gmail.com



































Raghuram, et al.         Expires April 28, 2017                 [Page 7]
