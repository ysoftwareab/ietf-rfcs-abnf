



Network Working Group                                           O. Troan
Internet-Draft                                             Cisco Systems
Intended status: Experimental                          December 17, 2018
Expires: June 20, 2019


      The Universal IPv6 Router Advertisement Option (experiment)
                draft-troan-6man-universal-ra-option-00

Abstract

   The intentions for the IPv6 host configuration design, was to
   configure the core network layer parameters with IPv6 ND, and use
   service discovery for other configuration parameters.  Unfortunately
   that hasn't panned out as planned, and we are in a situation where
   all kinds of configuration options are requested in RAs and in DHCP.
   This document proposes an a new universal option, formatted in JSON.
   The list of elements are maintained in an IANA registry, with greatly
   relaxed rules for registration.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on June 20, 2019.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must



Troan                     Expires June 20, 2019                 [Page 1]

Internet-Draft                                             December 2018


   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

1.  Introduction

   The intentions for the IPv6 host configuration design, was to
   configure the core network layer parameters with IPv6 ND, and use
   service discovery for other configuration parameters.  Unfortunately
   that hasn't panned out as planned, and we are in a situation where
   all kinds of configuration options are requested in RAs and in DHCP.
   This document proposes an a new universal option, formatted in JSON.
   The list of elements are maintained in an IANA registry, with greatly
   relaxed rules for registration.

   DHCP is suited to give per-client configuration information, while
   the RA mechanism advertises configuration information to all hosts on
   the link.  There is a long running history of "conflict" between the
   two.  The arguments go; there is less fate-sharing in DHCP, DHCP
   doesn't deal with multiple sources of information, or make it more
   difficult to change information independent of the lifetimes, RA
   cannot be used to configure different information to different
   clients and son on.  And of course some options are only available in
   RAs and some options are only available in DHCP.

   While this proposal does not resolve the DHCP vs RA debate, it
   proposes an experimental solution to the problem of a very slow
   process of standardizing new options, and the IETF spending an
   inordinate amount of time arguing over new configuration options.

2.  The Experiment

   This document specifies a new "self-describing" universal RA option.
   Currently any new configuration option requires "standards action".
   The experiment is to find out what happens when change control is
   relaxed.  The proposal is that no document is required.  The
   configuration option is described directly in the universal RA IANA
   registry.

   Duration of experiment: 2 years.

   How to evaluate success?  How many new options have been defined.
   Did expert review suffice to stop "harmful" options?  Was any of the
   options implemented and deployed?  On a successful experiment, the
   time limit of the registry will be removed and it's experimental
   status will be removed.  If the experiment is deamed a failure, then
   the registry will be removed.




Troan                     Expires June 20, 2019                 [Page 2]

Internet-Draft                                             December 2018


3.  The Universal RA option

        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |     Type      |    Length     |    JSON object
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                   Figure 1: Universal RA Option Format

   Fields:

   Type  42 for Universal RA Option

   Length  The length of the option (including the type and length
      fields) in units of 8 octets.

   JSON object  JSON [RFC8259] in ASCII space padded to nearest 8 octet
      boundary.  A JSON object with each option as JSON objects under
      the main key "ietf".

   Example:


   {
       "ietf": {
           "dns": {
               "dnssl": [
                   "example.com"
               ],
               "lifetime": 86400,
               "rdnss": [
                   "2001:db8::1",
                   "2001:db8::2"
               ]
           },
           "nat64": {
               "lifetime": 86400,
               "prefix": "64:ff9b::/96"
           }
       }
   }

                                 Figure 2






Troan                     Expires June 20, 2019                 [Page 3]

Internet-Draft                                             December 2018


4.  IANA Considerations

   IANA is requested to add a new registry for the Universal RA option.
   The registry should be named "IPv6 ND RA Universal option
   (experimental)".  Changes and additions to the registry require
   expert review.

   The schema field follows the JSON schema definition in
   [I-D.handrews-json-schema].

   The IANA is requested to add the universal option to the "IPv6
   Neighbor Discovery Option Formats" registry with the value of 42.

4.1.  Initial objects in the registry


      +---------------+---------------------------------+-----------+
      | JSON key      | Description                     | Reference |
      +---------------+---------------------------------+-----------+
      | dns           |"dns": {                         | [RFC8106] |
      |               |    "dnssl": {                   |           |
      |               |        "items": {               |           |
      |               |            "type": "domain-name"|           |
      |               |        },                       |           |
      |               |        "type": "array"          |           |
      |               |    },                           |           |
      |               |    "lifetime": {                |           |
      |               |        "type": "integer"        |           |
      |               |    },                           |           |
      |               |    "rdnss": {                   |           |
      |               |        "items": {               |           |
      |               |           "type": "ipv6-address"|           |
      |               |        },                       |           |
      |               |        "type": "array"          |           |
      |               |    }                            |           |
      |               |},                               |           |
      | nat64         |"nat64": {                       | [RFC7050] |
      |               |    "lifetime": {                |           |
      |               |        "type": "integer"        |           |
      |               |    },                           |           |
      |               |    "prefix": {                  |           |
      |               |        "type": "ipv6-prefix"    |           |
      |               |    }                            |           |
      |               |}                                |           |
      +---------------+---------------------------------+-----------+


                                 Figure 3



Troan                     Expires June 20, 2019                 [Page 4]

Internet-Draft                                             December 2018


5.  References

   [I-D.handrews-json-schema]
              Wright, A. and H. Andrews, "JSON Schema: A Media Type for
              Describing JSON Documents", draft-handrews-json-schema-01
              (work in progress), March 2018.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC4861]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", RFC 4861,
              DOI 10.17487/RFC4861, September 2007,
              <https://www.rfc-editor.org/info/rfc4861>.

   [RFC7049]  Bormann, C. and P. Hoffman, "Concise Binary Object
              Representation (CBOR)", RFC 7049, DOI 10.17487/RFC7049,
              October 2013, <https://www.rfc-editor.org/info/rfc7049>.

   [RFC8126]  Cotton, M., Leiba, B., and T. Narten, "Guidelines for
              Writing an IANA Considerations Section in RFCs", BCP 26,
              RFC 8126, DOI 10.17487/RFC8126, June 2017,
              <https://www.rfc-editor.org/info/rfc8126>.

   [RFC8259]  Bray, T., Ed., "The JavaScript Object Notation (JSON) Data
              Interchange Format", STD 90, RFC 8259,
              DOI 10.17487/RFC8259, December 2017,
              <https://www.rfc-editor.org/info/rfc8259>.

Author's Address

   Ole Troan
   Cisco Systems
   Philip Pedersens vei 1
   Lysaker  1366
   Norway

   Email: ot@cisco.com











Troan                     Expires June 20, 2019                 [Page 5]
