<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Auto-Configuration in Virtual Aggregation</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.1.1" rel="Chapter" title="1.1 Requirements notation">
<link href="#rfc.section.2" rel="Chapter" title="2 Specification">
<link href="#rfc.section.3" rel="Chapter" title="3 IANA Considerations">
<link href="#rfc.section.4" rel="Chapter" title="4 Security Considerations">
<link href="#rfc.section.5" rel="Chapter" title="5 Acknowledgements">
<link href="#rfc.references" rel="Chapter" title="6 References">
<link href="#rfc.references.1" rel="Chapter" title="6.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="6.2 Informative References">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="Virtual Aggregation as specified in " />
  <meta name="description" content="Virtual Aggregation as specified in " />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">P. Francis</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">MPI-SWS</td>
</tr>
<tr>
<td class="left">Intended status: Informational</td>
<td class="right">X. Xu</td>
</tr>
<tr>
<td class="left">Expires: January 02, 2012</td>
<td class="right">Huawei</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">H. Ballani</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Cornell U.</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">D. Jen</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">UCLA</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">R. Raszuk</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">Cisco</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">L. Zhang</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">UCLA</td>
</tr>
<tr>
<td class="left"></td>
<td class="right">July 01, 2011</td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Auto-Configuration in Virtual Aggregation<br />
  <span class="filename">draft-ietf-grow-va-auto-04.txt</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>Virtual Aggregation as specified in <a href="#I-D.ietf-grow-va">[I-D.ietf-grow-va]</a> requires configuration of a static "VP-List" on all routers.  The VP-List allows routers to know which prefixes may or may not be FIB-installed.  This draft specified an optional method of determining this that requires far less configuration.  Specifically, it requires the configuration of a "VP-Range" in ASBRs connected to transit and peer ISPs.  A Non-transitive Extended Communities Attribute is used to convey to other routers that a given route can be FIB-suppressed.  </p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted to IETF in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on January 02, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>1.1.   <a href="#rfc.section.1.1">Requirements notation</a>
</li>
<li>2.   <a href="#rfc.section.2">Specification</a>
</li>
<li>3.   <a href="#rfc.section.3">IANA Considerations</a>
</li>
<li>4.   <a href="#rfc.section.4">Security Considerations</a>
</li>
<li>5.   <a href="#rfc.section.5">Acknowledgements</a>
</li>
<li>6.   <a href="#rfc.references">References</a>
</li>
<li>6.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>6.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">As the current VA specification stands (<a href="#I-D.ietf-grow-va">[I-D.ietf-grow-va]</a>), routers have to know which prefixes they must FIB-install and which they need not FIB-install.  The VP-List tells them this:  they must FIB-install routes to Virtual Prefixes (VP), and they need not FIB-install routes to prefixes that fall within VPs for which they are not an Aggregation Point Router (APR).  The same VP-List must be installed in every router.  </p>
<p id="rfc.section.1.p.2">This draft specifies an optional alternative to the VP-List that requires far less configuration.  Specifically, a list of one or more "VP-Ranges" is configured in ASBRs --- typically ASBRs that do not connect to customer networks.  These ASBRs then simply tag routes as to whether the route can be suppressed.  This is simpler than the current configured VP-List approach in two regards.  First, fewer routers need to be configured.  Second, the VP-Range is simpler than the VP-List.  In most cases, once an ISP is past its initial VA roll-out phase, the VP-Range consists of a single 0/0 entry.  </p>
<p id="rfc.section.1.p.3">This draft uses terms defined in <a href="#I-D.ietf-grow-va">[I-D.ietf-grow-va]</a>.  </p>
<h1 id="rfc.section.1.1">
<a href="#rfc.section.1.1">1.1.</a> Requirements notation</h1>
<p id="rfc.section.1.1.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.  </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> <a href="#sec-can-suppress-tag" id="sec-can-suppress-tag">Specification</a>
</h1>
<p id="rfc.section.2.p.1">With the "VP-Range" approach to determining suppressability, certain ASBRs are designated as "tagging routers".  Tagging routers explicitly tag routes with a Non-transitive Extended Communities Attribute that indicates whether the route can be FIB-suppressed.  All ASBRs that connect to one or more transit provider ISPs MUST be tagging routers.  ASBRs that connect to one or more peer ISPs SHOULD be tagging routers.  ASBRs that connect to customer networks SHOULD NOT be tagging routers.  </p>
<p id="rfc.section.2.p.2">Tagging routers are configured with a "VP-Range" list.  This consists of the ranges of IP address that are collectively covered by all VPs in the AS.  In a mature deployment of VA, the range would amount to all IP addresses, in which case the VP-Range is simply 0/0.  Early in VA deployment, when an ISP is still in the testing or roll-out phase, the VP-Range may consist of multiple entries.  </p>
<p id="rfc.section.2.p.3">Tagging routers SHOULD tag any route whose prefix falls within the VP-Range with a "can-suppress" tag, with the following exceptions: </p>
<p id="rfc.section.2.p.4">The can-suppress tag itself is an Extended Communities Attribute <a href="#RFC4360">[RFC4360]</a> to be assigned by IANA from the "well-known" pool define in <a href="#I-D.ietf-idr-reserved-extended-communities">[I-D.ietf-idr-reserved-extended-communities]</a>.  The Transitive Bit MUST be set to value 1 (the community is non-transitive across ASes).  </p>
<p id="rfc.section.2.p.5">Routers install or suppress FIB entries according to the following rules.  Note that tagging routers conceptually follow these rules after tagging (or not tagging) the route.  Note also that these rules apply only to the route used by the router as the best route.  In other words, if a router receives two routes for the same prefix, and one route is tagged can-suppress and the other is not, the router follows these rules only with respect to the route that it selects as the best route.  </p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#sec-iana" id="sec-iana">IANA Considerations</a>
</h1>
<p id="rfc.section.3.p.1">IANA is requested to assign, from the registry "BGP Assigned non-transitive extended communities", a value TBD for "VA can suppress": </p>
<div id="#rfc.figure.1"></div>
<pre>

   Registry Name: BGP Assigned non-transitive extended 
   communities

    Name                                          Type Value
    ----                                          ----------
    VA can suppress                               TBD

 </pre>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> <a href="#sec-consider" id="sec-consider">Security Considerations</a>
</h1>
<p id="rfc.section.4.p.1">As of this writing, there are no known new security threats introduced by this draft.  </p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> <a href="#sec-ack" id="sec-ack">Acknowledgements</a>
</h1>
<p id="rfc.section.5.p.1">The authors would like to thank Wes George and Bruno Decraene for their reviews and suggestions.  </p>
<h1 id="rfc.references">
<a href="#rfc.references">6.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">6.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-grow-va">[I-D.ietf-grow-va]</b></td>
<td class="top">
<a>Francis, P</a>, <a>Xu, X</a>, <a>Ballani, H</a>, <a>Jen, D</a>, <a>Raszuk, R</a> and <a>L Zhang</a>, "<a href="http://tools.ietf.org/html/draft-ietf-grow-va-04">FIB Suppression with Virtual Aggregation</a>", Internet-Draft draft-ietf-grow-va-04, Oct 2009.</td>
</tr>
<tr>
<td class="reference"><b id="I-D.ietf-idr-reserved-extended-communities">[I-D.ietf-idr-reserved-extended-communities]</b></td>
<td class="top">
<a>Decraene, B</a> and <a>P Francois</a>, "<a href="http://tools.ietf.org/html/draft-ietf-idr-reserved-extended-communities-01">Assigned BGP extended communities</a>", Internet-Draft draft-ietf-idr-reserved-extended-communities-01, May 2011.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4360">[RFC4360]</b></td>
<td class="top">
<a>Sangli, S.</a>, <a>Tappan, D.</a> and <a>Y. Rekhter</a>, "<a href="http://tools.ietf.org/html/rfc4360">BGP Extended Communities Attribute</a>", RFC 4360, February 2006.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">6.2.</a> Informative References</h1>
<table><tbody></tbody></table>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Paul Francis</span> 
	  <span class="n hidden">
		<span class="family-name">Francis</span>
	  </span>
	</span>
	<span class="org vcardline">Max Planck Institute for Software Systems</span>
	<span class="adr">
	  <span>Gottlieb-Daimler-Strasse</span>

	  <span class="vcardline">
		<span class="locality">Kaiserslautern</span>,  
		<span class="region"></span>
		<span class="code">67633</span>
	  </span>
	  <span class="country-name vcardline">Germany</span>
	</span>
	<span class="vcardline">Phone: +49 631 930 39600</span>

<span class="vcardline">EMail: <a href="mailto:francis@mpi-sws.org">francis@mpi-sws.org</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Xiaohu Xu</span> 
	  <span class="n hidden">
		<span class="family-name">Xu</span>
	  </span>
	</span>
	<span class="org vcardline">Huawei Technologies</span>
	<span class="adr">
	  <span>No.3 Xinxi Rd., Shang-Di Information Industry Base, Hai-Dian District </span>

	  <span class="vcardline">
		<span class="locality">Beijing</span>,  
		<span class="region">Beijing</span> 
		<span class="code">100085</span>
	  </span>
	  <span class="country-name vcardline">P.R.China</span>
	</span>
	<span class="vcardline">Phone: +86 10 82836073</span>

<span class="vcardline">EMail: <a href="mailto:xuxh@huawei.com">xuxh@huawei.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Hitesh Ballani</span> 
	  <span class="n hidden">
		<span class="family-name">Ballani</span>
	  </span>
	</span>
	<span class="org vcardline">Cornell University</span>
	<span class="adr">
	  <span>4130 Upson Hall</span>

	  <span class="vcardline">
		<span class="locality">Ithaca</span>,  
		<span class="region">NY</span> 
		<span class="code">14853</span>
	  </span>
	  <span class="country-name vcardline">US</span>
	</span>
	<span class="vcardline">Phone: +1 607 279 6780</span>

<span class="vcardline">EMail: <a href="mailto:hitesh@cs.cornell.edu">hitesh@cs.cornell.edu</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Dan Jen</span> 
	  <span class="n hidden">
		<span class="family-name">Jen</span>
	  </span>
	</span>
	<span class="org vcardline">UCLA</span>
	<span class="adr">
	  <span>4805 Boelter Hall </span>

	  <span class="vcardline">
		<span class="locality">Los Angeles</span>,  
		<span class="region">CA</span> 
		<span class="code">90095 </span>
	  </span>
	  <span class="country-name vcardline">US</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:jenster@cs.ucla.edu">jenster@cs.ucla.edu</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Robert Raszuk</span> 
	  <span class="n hidden">
		<span class="family-name">Raszuk</span>
	  </span>
	</span>
	<span class="org vcardline">Cisco Systems, Inc.</span>
	<span class="adr">
	  <span>170 West Tasman Drive</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA </span> 
		<span class="code">95134 </span>
	  </span>
	  <span class="country-name vcardline">USA </span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:raszuk@cisco.com">raszuk@cisco.com</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Lixia Zhang</span> 
	  <span class="n hidden">
		<span class="family-name">Zhang</span>
	  </span>
	</span>
	<span class="org vcardline">UCLA</span>
	<span class="adr">
	  <span>3713 Boelter Hall </span>

	  <span class="vcardline">
		<span class="locality">Los Angeles</span>,  
		<span class="region">CA</span> 
		<span class="code">90095 </span>
	  </span>
	  <span class="country-name vcardline">US</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:lixia@cs.ucla.edu">lixia@cs.ucla.edu</a></span>

  </address>
</div>

</body>
</html>