Internet Draft                                                   C. Lynn
Nimrod Working Group			    BBN Systems and Technologies
Expiration Date: May 1996                                  November 1995
draft-ietf-nimrod-eid-00.txt


                Endpoint Identifier Destination Option


Status of this Memo

      This document is an Internet-Draft.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

      Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other
   documents at any time.  It is inappropriate to use Internet-Drafts
   as reference material or to cite them other than as "work in
   progress".

      To learn the current status of any Internet-Draft, please check
   the "1id-abstracts.txt" listing contained in the Internet-Drafts
   Shadow Directories on ds.internic.net (US East Coast),
   nic.nordu.net (Europe), ftp.isi.edu (US West Coast), or
   munnari.oz.au (Pacific Rim).

      Please send comments on this draft to the Nimrod Working Group,
   nimrod-wg@BBN.Com.

      This Internet Draft expires May 1996.


Abstract

      This document describes a Destination Option that is used to
   convey topologically independent endpoint identification
   information between source and destination endpoints in either IPv4
   or IPv6 packets.  The general format of Destination Options are
   described in [5].  The Nimrod Routing System [1] will make use of
   this option to convey Nimrod EIDs.


1  Introduction

      Nimrod is a scalable internetwork routing architecture [1,2,3].
   The Nimrod architecture is designed to accommodate an internetwork
   of arbitrary size, with heterogeneous service requirements and
   restrictions, and to admit incremental deployment throughout an
   internetwork.  The key to Nimrod's scalability is its ability to
   represent and manipulate routing-related information at multiple
   levels of abstraction.




draft-ietf-nimrod-eid-00.txt                                    [Page 1]

Internet Draft    Endpoint Identifier Destination Option   November 1995


      To do this efficiently, Nimrod separates the identification of
   communicating entities (endpoints, or "hosts") from any topological
   location information.  Endpoint Identifiers (EIDs) are used to
   specify and uniquely identify endpoints connected to the network.
   Information about the topological location of an endpoint in an
   internetwork is given by a locator.  An endpoint's locator may
   change as the network topology changes.  Ongoing communication is
   not disrupted when a locator changes since the communicating
   endpoints are identified by their EIDs and not their locators.

      The mapping from an endpoint name to an EID and set of locators
   will be stored in the existing DNS system as two additional RRs [4]
   under the Domain Name of the endpoint.  This document describes how
   the Source and Destination EIDs are communicated in IP packets
   using the Destination Options Extension Header.

      A Nimrod EID is a short binary identifier for an endpoint of a
   communication (e.g., a host) and has no structure or significance
   to the routing system other than global uniqueness.  An endpoint
   can retain the same EID forever, no matter where in the network it
   is located.


2  Definition of the Endpoint Identifier Option

      The Endpoint Identifier Option is contained in the Destinations
   Options Extension Header (type 60) of an IPv4 or IPv6 packet.  An
   endpoint identifier may be of variable length and is not restricted
   to the format used by Nimrod.  This document specifies the encoding
   for 8-octet Nimrod EIDs, which results in an option containing
   twenty (20) octets.  The alignment requirement for the encoding
   specified herein is 8n.  Subsequent versions of this document may
   specify encodings for endpoint identifiers of other lengths or
   formats.

      Implementations are expected to verify that the Opt Data Len
   field contains 18 and that the Src and Dst Len fields contain 8
   when using the following encoding.

   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Option Type  |  Opt Data Len |    Src Len	   |    Dst Len    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |0 0 1 0 0                                                      |
   +-+-                       Source EID                        -+-+
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |0 0 1 0 0                                                      |
   +-+-                     Destination EID                     -+-+
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


draft-ietf-nimrod-eid-00.txt                                    [Page 2]

Internet Draft    Endpoint Identifier Destination Option   November 1995


   Option Type		8-bit selector.  The value <TBD> is used for
			the 5 least-significant bits of the Endpoint
			Identifier Option.

			The two most significant bits of the Option
			Type may vary from instance to instance.  The
			value 00 should not be used.  An endpoint may
			use other values as it deems appropriate to
			indicate whether or not an ICMP error message
			should be returned.  See [5].

			Since endpoint identifiers do not change en-
			route, the third most significant bit should
			be zero.

   Opt Data Len		8-bit unsigned integer.  The length, in
			octets, of the endpoint identification data
			in the Source and Destination EID fields.

   Src Len		8-bit unsigned integer.  The length, in
			octets, of the endpoint identifier in the
			Source EID field.

   Dst Len		8-bit unsigned integer.  The length, in
			octets, of the endpoint identifier in the
			Destination EID field.

   Source EID		The endpoint identifier of the source.  Nimrod
			EIDs begin with the five bits 00100.  Other
			formats may be defined in subsequent versions
			of this document.

   Destination EID	The endpoint identifier of the destination.
			Nimrod EIDs begin with the five bits 00100.
			Other formats may be defined in subsequent
			versions of this document.


3  Option Processing

      The endpoint identifiers specified in the Endpoint Identifier
   Option are used to perform demultiplexing of IP packets at the
   transport layer.  The Source EID field replaces the Source IP
   Address, and the Destination EID replaces the Destination IP
   Address, when identifying transport layer associations.  They are
   also used in any pseudo headers [5,6,7] that are included in
   transport layer checksums.

      The Endpoint Identifier Option need not appear in every packet.
   When the communicating peers retain state information, as is the
   case for connection oriented transports such as TCP [7], or the


draft-ietf-nimrod-eid-00.txt                                    [Page 3]

Internet Draft    Endpoint Identifier Destination Option   November 1995


   packets are part of an IPv6 Flow [5], the endpoint identifiers
   should be retained as part of the communication state, and thus
   their presence in subsequent packets is optional.  Note that the
   option should not be omitted until the sending endpoint has
   received notification from its communication peer(s) indicating
   that they have received the identification information.  For
   example, the ACK of a TCP SYN is sufficient notification in the
   case of TCP [7].  The endpoint identifiers are included in any
   pseudo header even when they are not present in a given packet.


4  Security Considerations

      In order to detect spoofing, packets that contain the Endpoint
   Identifier Option should be protected by an authentication and
   integrity mechanism.


5  Author's Address

   Charles Lynn				Email: CLynn@BBN.Com
   BBN Systems and Technologies		Phone: (617) 873 3367
   10 Moulton Street
   Cambridge, MA, 02138			


6  References

   [1]  "The Nimrod Routing Architecture", I. Castineyra, J. N.
	Chiappa, M. Steenstrup, draft-ietf-nimrod-routing-arch-00.txt,
	March 1995.

   [2]  "Mobility Support for Nimrod : Requirements and Solution
	Approaches", Ram Ramanathan,
	draft-ietf-nimrod-mobility-01.txt, .ps, March 1995.

   [3]  "Multicast Support for Nimrod : Requirements and Solution
	Approaches", Ram Ramanathan,
	draft-ietf-nimrod-multicast-01.txt, .ps, March 1995.

   [4]  "DNS Resource Records for Nimrod Routing Architecture", M. A.
	Patton, draft-ietf-nimrod-dns-01.txt, October 1995.

   [5]  "Internet Protocol, Version 6 (IPv6) Specification", S.
	Deering, R. Hinden, draft-ietf-ipngwg-ipv6-spec-02.txt, June
	19, 1995.

   [6]  "User Datagram Protocol", J. Postel, RFC 768, 28 August 1980.

   [7]  "TRANSMISSION CONTROL PROTOCOL", Information Sciences Institute,
	RFC 793, September 1981.


draft-ietf-nimrod-eid-00.txt                                    [Page 4]
