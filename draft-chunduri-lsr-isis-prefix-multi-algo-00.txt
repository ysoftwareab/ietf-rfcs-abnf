



LSR Working Group                                            U. Chunduri
Internet-Draft                                                     Y. Qu
Intended status: Standards Track                              Huawei USA
Expires: October 19, 2018                                 April 17, 2018


             Multiple Algorithm support for IS-IS Prefixes
              draft-chunduri-lsr-isis-prefix-multi-algo-00

Abstract

   This document specifies an extension to Intermediate System to
   Intermediate System (IS-IS) protocol by adding an Algorithm support
   for prefixes advertised.  This allows multiple independent algorithm
   usage for computing the reachability of nodes and prefixes as opposed
   to only one algorithm.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on October 19, 2018.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of



Chunduri & Qu           Expires October 19, 2018                [Page 1]

Internet-DraftMultiple Algorithm support for IS-IS Prefixes   April 2018


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Acronyms  . . . . . . . . . . . . . . . . . . . . . . . .   3
   2.  IS-IS Route Computation Algorithm sub-TLV in prefixes . . . .   3
   3.  Elements of Procedure . . . . . . . . . . . . . . . . . . . .   4
     3.1.  Single Topology or Multi-Topology Mode  . . . . . . . . .   4
   4.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   Reachability of various nodes or prefixes attached to these nodes is
   done through Shortest Path First (SPF) algorithm as defined in
   [ISO10589].  This is done today with in a single topology [RFC5305]
   [RFC5308] or in multi-topology (MT) routing [RFC5120] and with out
   any explicit advertisement of computation algorithm that is being
   used.

   IS-IS Segment Routing (SR) extensions
   [I-D.ietf-isis-segment-routing-extensions], extended the support for
   reachability computation for other algorithms other than SPF.  This
   is done by advertising the computation algorithms supported at node
   level and also by advertising the algorithm being supported by Prefix
   Segment Identifier (SID) sub-TLV advertised in reachability prefixes.

   While the above would give the flexibility to use different
   reachability computation algorithm than the SPF, it is restricted to
   one particular data plane as opposed to the prefix itself.  This
   document removes that restriction and advertises the algorithm to be
   used for reachability computation in the prefix itself, thus applying
   the same to any underlying data plane (E.g.  SR-MPLS, SRH, IPv6,
   IPv4).

   Section 2 details the details of the sub-TLV and Section 3 talks
   about how to use te same and restrictions around it.



Chunduri & Qu           Expires October 19, 2018                [Page 2]

Internet-DraftMultiple Algorithm support for IS-IS Prefixes   April 2018


1.1.  Acronyms

   IGP      -  Interior Gateway Protocols

   IS-IS    -  Intermediate System to Intermediate System

   LSR      -  Link State Routing

   MT       -  Multi Topology

   OSPF     -  Open Shortest Path First

   SID      -  Segment Identifier

   SR       -  Segment Routing

2.  IS-IS Route Computation Algorithm sub-TLV in prefixes

   This section defines the encoding of Route Computation Algorithm
   (RCA) value that MUST be used while calculating the reachability to
   other nodes or to the prefixes attached to the other nodes.  The RCA
   sub-TLV has the following format:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |  Type         | Length        | Flags         | Algorithm     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      //              sub-sub-TLVs                                   //
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

          Figure 1: Route Computation Algorithm - sub-TLV Format

      Type - TBD (IANA) from Sub-TLVs for TLVs 135, 235, 236, and 237
      (Extended IP reachability, MT IP.  Reach, IPv6 IP.  Reach, and MT
      IPv6 IP.  Reach TLVs) registry.

      Length - Total length of the value field in bytes (variable).

      Flags - TBD

      Algorithm - Route Computation Algorithm value as defined in "IGP
      Algorithm Types" registry defined under "Interior Gateway Protocol
      (IGP) Parameters" IANA registries.

      sub-sub-TLVs - Optional and can be used to specify any information
      w.r.t to the algorithm being advertised with this prefix (TBD).




Chunduri & Qu           Expires October 19, 2018                [Page 3]

Internet-DraftMultiple Algorithm support for IS-IS Prefixes   April 2018


   If multiple algorithms have to be adevrtised for the prefix, multiple
   instances of this sub-TLV with different algorithms can be used.  If
   Algorithm value is '0' is the only algorithm on the prefix, it is
   optional to advertise it in this sub-TLV.  Thus, not including such a
   sub-TLV in the prefix implies Algorithm value '0' capability only.

3.  Elements of Procedure

   When provisioned an IS-IS node MUST compute reachability for more
   than one algorithm as indicated in the reachability prefix through
   this sub-TLV.

   Default metrics used for computation of any algorithm MUST be as
   defined in [RFC5120].  However, a particular algorithm can define
   other than default metrics and can be used while doing the
   computation.  If non-default metrics are being used, those MUST be
   configured on the links and MUST be advertised through IS-IS Area/
   domain.

   If a prefix is provisioned with multiple algorithms and after the
   reachability computation, nexthop is different for each algorithm it
   MUST use the lowest algorithm number to resolve the conflict.

   Once computation is done with the specified algorithm, this is
   applicable to all the data planes that are being supported for the
   prefix.  If a particular data plane specific 'algorithms' as defined
   is in [I-D.ietf-isis-segment-routing-extensions] conflict (for e.g.
   preference) with data plane independent prefix algorithm (as defined
   in this draft); preference defined in a particular data plane MUST be
   used.

3.1.  Single Topology or Multi-Topology Mode

   An SPF trigger can be common to multiple IS-IS Levels or for multiple
   address families with multi-topologies.  Currently there is no
   specified order for reachability computation today and it is
   implementation dependent.  This document specifies the order of
   reachability computation MUST be IS-IS area/level, topology [RFC5120]
   and algorithm specified in the reachability prefix.  Doing
   computation in a particular order is also important for avoiding
   micro-loops as described in [I-D.ietf-rtgwg-spf-uloop-pb-statement].

   If network uses single topology mode with only IPv4 adress family
   [RFC 5305] or in Single topology mode with IPv6 address family [RFC
   5308] - a node configured with multiple algorithms MUST do route
   computation with all the algorithms as advertised in the prefixes.
   If network uses MT [RFC 5120], for each MT ID, per algorithm route
   computation MUST be done.



Chunduri & Qu           Expires October 19, 2018                [Page 4]

Internet-DraftMultiple Algorithm support for IS-IS Prefixes   April 2018


4.  Acknowledgements

   TBD.

5.  IANA Considerations

   This document requests IANA to assign a sub-TLV code point from the
   "Sub-TLVs for TLVs 135, 235, 236, and 237 (Extended IP reachability,
   MT IP.  Reach, IPv6 IP.  Reach, and MT IPv6 IP.  Reach TLVs)"
   registry as follows: Route Computation Algorithm - Route Computation
   Algorithm sub-TLV as described in Section 2.

        TLV #   Name
        -----   --------------------------------------------------------
        TBD     Route Computation Algorithm sub-TLV in IS-IS Prefix TLVs


6.  Security Considerations

   Security concerns for IS-IS are addressed in [RFC5304] and [RFC5310].
   Further security analysis for IS-IS protocol is done in [RFC7645]
   including analysis of both the above documents.  Advertisement of the
   additional information defined in this document introduces no new
   security concerns in IS-IS protocol.

7.  References

7.1.  Normative References

   [RFC1195]  Callon, R., "Use of OSI IS-IS for routing in TCP/IP and
              dual environments", RFC 1195, DOI 10.17487/RFC1195,
              December 1990, <https://www.rfc-editor.org/info/rfc1195>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5120]  Przygienda, T., Shen, N., and N. Sheth, "M-ISIS: Multi
              Topology (MT) Routing in Intermediate System to
              Intermediate Systems (IS-ISs)", RFC 5120,
              DOI 10.17487/RFC5120, February 2008,
              <https://www.rfc-editor.org/info/rfc5120>.








Chunduri & Qu           Expires October 19, 2018                [Page 5]

Internet-DraftMultiple Algorithm support for IS-IS Prefixes   April 2018


7.2.  Informative References

   [I-D.ietf-isis-segment-routing-extensions]
              Previdi, S., Ginsberg, L., Filsfils, C., Bashandy, A.,
              Gredler, H., Litkowski, S., Decraene, B., and J. Tantsura,
              "IS-IS Extensions for Segment Routing", draft-ietf-isis-
              segment-routing-extensions-15 (work in progress), December
              2017.

   [I-D.ietf-rtgwg-spf-uloop-pb-statement]
              Litkowski, S., Decraene, B., and M. Horneffer, "Link State
              protocols SPF trigger and delay algorithm impact on IGP
              micro-loops", draft-ietf-rtgwg-spf-uloop-pb-statement-06
              (work in progress), January 2018.

   [RFC5304]  Li, T. and R. Atkinson, "IS-IS Cryptographic
              Authentication", RFC 5304, DOI 10.17487/RFC5304, October
              2008, <https://www.rfc-editor.org/info/rfc5304>.

   [RFC5305]  Li, T. and H. Smit, "IS-IS Extensions for Traffic
              Engineering", RFC 5305, DOI 10.17487/RFC5305, October
              2008, <https://www.rfc-editor.org/info/rfc5305>.

   [RFC5308]  Hopps, C., "Routing IPv6 with IS-IS", RFC 5308,
              DOI 10.17487/RFC5308, October 2008,
              <https://www.rfc-editor.org/info/rfc5308>.

   [RFC5310]  Bhatia, M., Manral, V., Li, T., Atkinson, R., White, R.,
              and M. Fanto, "IS-IS Generic Cryptographic
              Authentication", RFC 5310, DOI 10.17487/RFC5310, February
              2009, <https://www.rfc-editor.org/info/rfc5310>.

   [RFC7645]  Chunduri, U., Tian, A., and W. Lu, "The Keying and
              Authentication for Routing Protocol (KARP) IS-IS Security
              Analysis", RFC 7645, DOI 10.17487/RFC7645, September 2015,
              <https://www.rfc-editor.org/info/rfc7645>.

Authors' Addresses

   Uma Chunduri
   Huawei USA
   2330 Central Expressway
   Santa Clara, CA  95050
   USA

   Email: uma.chunduri@huawei.com





Chunduri & Qu           Expires October 19, 2018                [Page 6]

Internet-DraftMultiple Algorithm support for IS-IS Prefixes   April 2018


   Yingzhen Qu
   Huawei USA
   2330 Central Expressway
   Santa Clara, CA  95050
   USA

   Email: yingzhen.qu@huawei.com












































Chunduri & Qu           Expires October 19, 2018                [Page 7]