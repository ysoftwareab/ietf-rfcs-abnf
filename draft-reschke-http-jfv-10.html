<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A JSON Encoding for HTTP Header Field Values</title>
<meta content="Julian F. Reschke" name="author">
<meta content="
       This document establishes a convention for use of JSON-encoded field values in HTTP header fields.   
    " name="description">
<meta content="xml2rfc 2.32.0" name="generator">
<meta content="HTTP" name="keyword">
<meta content="JSON" name="keyword">
<meta content="Header Field Value" name="keyword">
<meta content="draft-reschke-http-jfv-10" name="ietf.draft">
<link href="/tmp/draft-reschke-http-jfv-10-N6hGQC.xml" type="application/rfc+xml" rel="alternate">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0;
}
/* Additional page break settings */
@media print {
  table, .references dd {
    page-break-inside: avoid;
  }
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}</style>
<link href="rfc-local.css" type="text/css" rel="stylesheet">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">JSON Encoding for HTTP Field Values</td>
<td class="right">October 2019</td>
</tr></thead>
<tfoot><tr>
<td class="left">Reschke</td>
<td class="center">Expires 16 April 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2019-10-14" class="published">14 October 2019</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-04-16">16 April 2020</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. F. Reschke</div>
<div class="org">greenbytes</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A JSON Encoding for HTTP Header Field Values</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document establishes a convention for use of JSON-encoded field values in HTTP header fields.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-editorial-note">
<a href="#name-editorial-note" class="section-name selfRef">Editorial Note</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Distribution of this document is unlimited. Although this is not a work item of the HTTPbis Working Group, comments should be sent to the Hypertext Transfer Protocol (HTTP) mailing list at <a href="mailto:ietf-http-wg@w3.org">ietf-http-wg@w3.org</a>, which may be joined by sending a message with subject "subscribe" to <a href="mailto:ietf-http-wg-request@w3.org?subject=subscribe">ietf-http-wg-request@w3.org</a>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Discussions of the HTTPbis Working Group are archived at <span><a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">http://lists.w3.org/Archives/Public/ietf-http-wg/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">XML versions and latest edits for this document are available from <span><a href="http://greenbytes.de/tech/webdav/#draft-reschke-http-jfv">http://greenbytes.de/tech/webdav/#draft-reschke-http-jfv</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
<p id="section-note.1-5">The changes in this draft are summarized in <a href="#changes.since.09" class="xref">Appendix E.13</a>.<a href="#section-note.1-5" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 16 April 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2019 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-boilerplate.3">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.1">
            <p id="section-boilerplate.3-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-boilerplate.3-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.2">
            <p id="section-boilerplate.3-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-data-model-and-format" class="xref">Data Model and Format</a><a href="#section-boilerplate.3-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.3">
            <p id="section-boilerplate.3-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-sender-requirements" class="xref">Sender Requirements</a><a href="#section-boilerplate.3-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.4">
            <p id="section-boilerplate.3-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-recipient-requirements" class="xref">Recipient Requirements</a><a href="#section-boilerplate.3-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.5">
            <p id="section-boilerplate.3-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-using-this-format-in-header" class="xref">Using this Format in Header Field Definitions</a><a href="#section-boilerplate.3-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.6">
            <p id="section-boilerplate.3-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-deployment-considerations" class="xref">Deployment Considerations</a><a href="#section-boilerplate.3-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.7">
            <p id="section-boilerplate.3-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-interoperability-considerat" class="xref">Interoperability Considerations</a><a href="#section-boilerplate.3-1.7.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.7.2.1">
                <p id="section-boilerplate.3-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-encoding-and-characters" class="xref">Encoding and Characters</a><a href="#section-boilerplate.3-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.7.2.2">
                <p id="section-boilerplate.3-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-numbers" class="xref">Numbers</a><a href="#section-boilerplate.3-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.7.2.3">
                <p id="section-boilerplate.3-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-object-constraints" class="xref">Object Constraints</a><a href="#section-boilerplate.3-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.8">
            <p id="section-boilerplate.3-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-internationalization-consid" class="xref">Internationalization Considerations</a><a href="#section-boilerplate.3-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.9">
            <p id="section-boilerplate.3-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-boilerplate.3-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.10">
            <p id="section-boilerplate.3-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a><a href="#section-boilerplate.3-1.10.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.10.2.1">
                <p id="section-boilerplate.3-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-boilerplate.3-1.10.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.10.2.2">
                <p id="section-boilerplate.3-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-boilerplate.3-1.10.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.11">
            <p id="section-boilerplate.3-1.11.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-examples" class="xref">Examples</a><a href="#section-boilerplate.3-1.11.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.11.2.1">
                <p id="section-boilerplate.3-1.11.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-content-length" class="xref">Content-Length</a><a href="#section-boilerplate.3-1.11.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.11.2.2">
                <p id="section-boilerplate.3-1.11.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-content-disposition" class="xref">Content-Disposition</a><a href="#section-boilerplate.3-1.11.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.11.2.3">
                <p id="section-boilerplate.3-1.11.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-www-authenticate" class="xref">WWW-Authenticate</a><a href="#section-boilerplate.3-1.11.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.11.2.4">
                <p id="section-boilerplate.3-1.11.2.4.1"><a href="#section-a.4" class="xref">A.4</a>.  <a href="#name-accept-encoding" class="xref">Accept-Encoding</a><a href="#section-boilerplate.3-1.11.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.12">
            <p id="section-boilerplate.3-1.12.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-use-of-json-field-value-enc" class="xref">Use of JSON Field Value Encoding in the Wild</a><a href="#section-boilerplate.3-1.12.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.12.2.1">
                <p id="section-boilerplate.3-1.12.2.1.1"><a href="#section-b.1" class="xref">B.1</a>.  <a href="#name-w3c-reporting-api-specifica" class="xref">W3C Reporting API Specification</a><a href="#section-boilerplate.3-1.12.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.12.2.2">
                <p id="section-boilerplate.3-1.12.2.2.1"><a href="#section-b.2" class="xref">B.2</a>.  <a href="#name-w3c-clear-site-data-specifi" class="xref">W3C Clear Site Data Specification</a><a href="#section-boilerplate.3-1.12.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.12.2.3">
                <p id="section-boilerplate.3-1.12.2.3.1"><a href="#section-b.3" class="xref">B.3</a>.  <a href="#name-w3c-feature-policy-specific" class="xref">W3C Feature Policy Specification</a><a href="#section-boilerplate.3-1.12.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.13">
            <p id="section-boilerplate.3-1.13.1"><a href="#section-appendix.c" class="xref">Appendix C</a>.  <a href="#name-relation-to-http-key-header" class="xref">Relation to HTTP 'Key' Header Field</a><a href="#section-boilerplate.3-1.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.14">
            <p id="section-boilerplate.3-1.14.1"><a href="#section-appendix.d" class="xref">Appendix D</a>.  <a href="#name-discussion" class="xref">Discussion</a><a href="#section-boilerplate.3-1.14.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.15">
            <p id="section-boilerplate.3-1.15.1"><a href="#section-appendix.e" class="xref">Appendix E</a>.  <a href="#name-change-log" class="xref">Change Log</a><a href="#section-boilerplate.3-1.15.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.1">
                <p id="section-boilerplate.3-1.15.2.1.1"><a href="#section-e.1" class="xref">E.1</a>.  <a href="#name-since-draft-reschke-http-jf" class="xref">Since draft-reschke-http-jfv-00</a><a href="#section-boilerplate.3-1.15.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.2">
                <p id="section-boilerplate.3-1.15.2.2.1"><a href="#section-e.2" class="xref">E.2</a>.  <a href="#name-since-draft-reschke-http-jfv" class="xref">Since draft-reschke-http-jfv-01</a><a href="#section-boilerplate.3-1.15.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.3">
                <p id="section-boilerplate.3-1.15.2.3.1"><a href="#section-e.3" class="xref">E.3</a>.  <a href="#name-since-draft-reschke-http-jfv-" class="xref">Since draft-reschke-http-jfv-02</a><a href="#section-boilerplate.3-1.15.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.4">
                <p id="section-boilerplate.3-1.15.2.4.1"><a href="#section-e.4" class="xref">E.4</a>.  <a href="#name-since-draft-reschke-http-jfv-0" class="xref">Since draft-reschke-http-jfv-03</a><a href="#section-boilerplate.3-1.15.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.5">
                <p id="section-boilerplate.3-1.15.2.5.1"><a href="#section-e.5" class="xref">E.5</a>.  <a href="#name-since-draft-reschke-http-jfv-04" class="xref">Since draft-reschke-http-jfv-04</a><a href="#section-boilerplate.3-1.15.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.6">
                <p id="section-boilerplate.3-1.15.2.6.1"><a href="#section-e.6" class="xref">E.6</a>.  <a href="#name-since-draft-ietf-httpbis-jf" class="xref">Since draft-ietf-httpbis-jfv-00</a><a href="#section-boilerplate.3-1.15.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.7">
                <p id="section-boilerplate.3-1.15.2.7.1"><a href="#section-e.7" class="xref">E.7</a>.  <a href="#name-since-draft-ietf-httpbis-jfv" class="xref">Since draft-ietf-httpbis-jfv-01</a><a href="#section-boilerplate.3-1.15.2.7.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.8">
                <p id="section-boilerplate.3-1.15.2.8.1"><a href="#section-e.8" class="xref">E.8</a>.  <a href="#name-since-draft-ietf-httpbis-jfv-" class="xref">Since draft-ietf-httpbis-jfv-02</a><a href="#section-boilerplate.3-1.15.2.8.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.9">
                <p id="section-boilerplate.3-1.15.2.9.1"><a href="#section-e.9" class="xref">E.9</a>.  <a href="#name-since-draft-reschke-http-jfv-05" class="xref">Since draft-reschke-http-jfv-05</a><a href="#section-boilerplate.3-1.15.2.9.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.10">
                <p id="section-boilerplate.3-1.15.2.10.1"><a href="#section-e.10" class="xref">E.10</a>. <a href="#name-since-draft-reschke-http-jfv-06" class="xref">Since draft-reschke-http-jfv-06</a><a href="#section-boilerplate.3-1.15.2.10.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.11">
                <p id="section-boilerplate.3-1.15.2.11.1"><a href="#section-e.11" class="xref">E.11</a>. <a href="#name-since-draft-reschke-http-jfv-07" class="xref">Since draft-reschke-http-jfv-07</a><a href="#section-boilerplate.3-1.15.2.11.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.12">
                <p id="section-boilerplate.3-1.15.2.12.1"><a href="#section-e.12" class="xref">E.12</a>. <a href="#name-since-draft-reschke-http-jfv-08" class="xref">Since draft-reschke-http-jfv-08</a><a href="#section-boilerplate.3-1.15.2.12.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-boilerplate.3-1.15.2.13">
                <p id="section-boilerplate.3-1.15.2.13.1"><a href="#section-e.13" class="xref">E.13</a>. <a href="#name-since-draft-reschke-http-jfv-09" class="xref">Since draft-reschke-http-jfv-09</a><a href="#section-boilerplate.3-1.15.2.13.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.16">
            <p id="section-boilerplate.3-1.16.1"><a href="#section-appendix.f" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-boilerplate.3-1.16.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-boilerplate.3-1.17">
            <p id="section-boilerplate.3-1.17.1"><a href="#section-appendix.g" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-boilerplate.3-1.17.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Defining syntax for new HTTP header fields (<span>[<a href="#RFC7230" class="xref">RFC7230</a>], <a href="https://rfc-editor.org/rfc/rfc7230#header.fields" class="relref">Section 3.2</a></span>) is non-trivial. Among the commonly encountered problems are:<a href="#section-1-1" class="pilcrow">¶</a></p>
<ul>
<li id="section-1-2.1">There is no common syntax for complex field values. Several well-known header fields do use a similarly looking syntax, but it is hard to write generic parsing code that will both correctly handle valid field values but also reject invalid ones.<a href="#section-1-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-2.2">The HTTP message format allows header fields to repeat, so field syntax needs to be designed in a way that these cases are either meaningful, or can be unambiguously detected and rejected.<a href="#section-1-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-1-2.3">HTTP/1.1 does not define a character encoding scheme (<span>[<a href="#RFC6365" class="xref">RFC6365</a>], <a href="https://rfc-editor.org/rfc/rfc6365#section-2" class="relref">Section 2</a></span>), so header fields are either stuck with US-ASCII (<span>[<a href="#RFC0020" class="xref">RFC0020</a>]</span>), or need out-of-band information to decide what encoding scheme is used. Furthermore, APIs usually assume a default encoding scheme in order to map from octet sequences to strings (for instance, <span>[<a href="#XMLHttpRequest" class="xref">XMLHttpRequest</a>]</span> uses the IDL type "ByteString", effectively resulting in the ISO-8859-1 character encoding scheme <span>[<a href="#ISO-8859-1" class="xref">ISO-8859-1</a>]</span> being used).<a href="#section-1-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-3">(See <span><a href="https://rfc-editor.org/rfc/rfc7231#considerations.for.new.header.fields" class="relref">Section 8.3.1</a> of [<a href="#RFC7231" class="xref">RFC7231</a>]</span> for a summary of considerations for new header fields.)<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This specification addresses the issues listed above by defining both a generic JSON-based (<span>[<a href="#RFC8259" class="xref">RFC8259</a>]</span>) data model and a concrete wire format that can be used in definitions of new header fields, where the goals were:<a href="#section-1-4" class="pilcrow">¶</a></p>
<ul>
<li id="section-1-5.1">to be compatible with header field recombination when fields occur multiple times in a single message (<span><a href="https://rfc-editor.org/rfc/rfc7230#field.order" class="relref">Section 3.2.2</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>), and<a href="#section-1-5.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-5.2">not to use any problematic characters in the field value (non-ASCII characters and certain whitespace characters).<a href="#section-1-5.2" class="pilcrow">¶</a>
</li>
      </ul>
<aside id="section-1-6">
        <p id="section-1-6.1"><strong>Note:</strong><span>[<a href="#HSTRUCT" class="xref">HSTRUCT</a>]</span>, a work item of the IETF HTTP Working Group, is a different attempt to address this set of problems -- it tries to identify and formalize common field structures in existing header fields; the syntax defined over there would usually lead to a more compact notation.<a href="#section-1-6.1" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
<div id="data-model-and-format">
<section id="section-2">
      <h2 id="name-data-model-and-format">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-data-model-and-format" class="section-name selfRef">Data Model and Format</a>
      </h2>
<p id="section-2-1">In HTTP, header fields with the same field name can occur multiple times within a single message (<span><a href="https://rfc-editor.org/rfc/rfc7230#field.order" class="relref">Section 3.2.2</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>).  When this happens, recipients are allowed to combine the field values using commas as delimiter. This rule matches nicely JSON's array format (<span><a href="https://rfc-editor.org/rfc/rfc8259#arrays" class="relref">Section 5</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>). Thus, the basic data model used here is the JSON array.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">Header field definitions that need only a single value can restrict themselves to arrays of length 1, and are encouraged to define error handling in case more values are received (such as "first wins", "last wins", or "abort with fatal error message").<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">JSON arrays are mapped to field values by creating a sequence of serialized member elements, separated by commas and optionally whitespace. This is equivalent to using the full JSON array format, while leaving out the "begin-array" ('[') and "end-array" (']') delimiters.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">The ABNF character names and classes below are used (copied from <span>[<a href="#RFC5234" class="xref">RFC5234</a>], <a href="https://rfc-editor.org/rfc/rfc5234#appendix-B.1" class="relref">Appendix B.1</a></span>):<a href="#section-2-4" class="pilcrow">¶</a></p>
<div id="section-2-5">
<pre class="sourcecode lang-abnf2616">CR               = %x0D    ; carriage return HTAB             = %x09    ; horizontal tab LF               = %x0A    ; line feed SP               = %x20    ; space VCHAR            = %x21-7E ; visible (printing) characters </pre><a href="#section-2-5" class="pilcrow">¶</a>
</div>
<p id="section-2-6">Characters in JSON strings that are not allowed or discouraged in HTTP header field values -- that is, not in the "VCHAR" definition -- need to be represented using JSON's "backslash" escaping mechanism (<span>[<a href="#RFC8259" class="xref">RFC8259</a>], <a href="https://rfc-editor.org/rfc/rfc8259#strings" class="relref">Section 7</a></span>).<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">The control characters CR, LF, and HTAB do not appear inside JSON strings, but can be used outside (line breaks, indentation etc.). These characters need to be either stripped or replaced by space characters (ABNF "SP").<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">Formally, using the HTTP specification's ABNF extensions defined in <span><a href="https://rfc-editor.org/rfc/rfc7230#abnf.extension" class="relref">Section 7</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>:<a href="#section-2-8" class="pilcrow">¶</a></p>
<div id="section-2-9">
<pre class="sourcecode lang-abnf2616">json-field-value = #json-field-item json-field-item  = JSON-Text ; see [RFC8259], Section 2, ; post-processed so that only VCHAR characters ; are used </pre><a href="#section-2-9" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-3">
      <h2 id="name-sender-requirements">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-sender-requirements" class="section-name selfRef">Sender Requirements</a>
      </h2>
<p id="section-3-1">To map a JSON array to an HTTP header field value, process each array element separately by:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal" id="section-3-2">
        <li id="section-3-2.1">generating the JSON representation,<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.2">stripping all JSON control characters (CR, HTAB, LF), or replacing them by space ("SP") characters,<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.3">replacing all remaining non-VSPACE characters by the equivalent backslash-escape sequence (<span>[<a href="#RFC8259" class="xref">RFC8259</a>], <a href="https://rfc-editor.org/rfc/rfc8259#strings" class="relref">Section 7</a></span>).<a href="#section-3-2.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-3-3">The resulting list of strings is transformed into an HTTP field value by combining them using comma (%x2C) plus optional SP as delimiter, and encoding the resulting string into an octet sequence using the US-ASCII character encoding scheme (<span>[<a href="#RFC0020" class="xref">RFC0020</a>]</span>).<a href="#section-3-3" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-recipient-requirements">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-recipient-requirements" class="section-name selfRef">Recipient Requirements</a>
      </h2>
<p id="section-4-1">To map a set of HTTP header field instances to a JSON array:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal" id="section-4-2">
        <li id="section-4-2.1">combine all header field instances into a single field as per <span><a href="https://rfc-editor.org/rfc/rfc7230#field.order" class="relref">Section 3.2.2</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>,<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.2">add a leading begin-array ("[") octet and a trailing end-array ("]") octet, then<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.3">run the resulting octet sequence through a JSON parser.<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-4-3">The result of the parsing operation is either an error (in which case the header field values needs to be considered invalid), or a JSON array.<a href="#section-4-3" class="pilcrow">¶</a></p>
</section>
<div id="using-this-format-in-header-field-definitions">
<section id="section-5">
      <h2 id="name-using-this-format-in-header">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-using-this-format-in-header" class="section-name selfRef">Using this Format in Header Field Definitions</a>
      </h2>
<p id="section-5-1">Specifications defining new HTTP header fields need to take the considerations listed in <span><a href="https://rfc-editor.org/rfc/rfc7231#considerations.for.new.header.fields" class="relref">Section 8.3.1</a> of [<a href="#RFC7231" class="xref">RFC7231</a>]</span> into account. Many of these will already be accounted for by using the format defined in this specification.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">Readers of HTTP-related specifications frequently expect an ABNF definition of the field value syntax. This is not really needed here, as the actual syntax is JSON text, as defined in <span><a href="https://rfc-editor.org/rfc/rfc8259#grammar" class="relref">Section 2</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">A very simple way to use this JSON encoding thus is just to cite this specification -- specifically the "json-field-value" ABNF production defined in <a href="#data-model-and-format" class="xref">Section 2</a> -- and otherwise not to talk about the details of the field syntax at all.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">An alternative approach is just to repeat the ABNF-related parts from <a href="#data-model-and-format" class="xref">Section 2</a>.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">This frees the specification from defining the concrete on-the-wire syntax.  What's left is defining the field value in terms of a JSON array. An important aspect is the question of extensibility, e.g. how recipients ought to treat unknown field names. In general, a "must ignore" approach will allow protocols to evolve without versioning or even using entire new field names.<a href="#section-5-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-deployment-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-deployment-considerations" class="section-name selfRef">Deployment Considerations</a>
      </h2>
<p id="section-6-1">This JSON-based syntax will only apply to newly introduced header fields, thus backwards compatibility is not a problem. That being said, it is conceivable that there is existing code that might trip over double quotes not being used for HTTP's quoted-string syntax (<span><a href="https://rfc-editor.org/rfc/rfc7230#field.components" class="relref">Section 3.2.6</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>).<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
<div id="interop">
<section id="section-7">
      <h2 id="name-interoperability-considerat">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-interoperability-considerat" class="section-name selfRef">Interoperability Considerations</a>
      </h2>
<p id="section-7-1">The "I-JSON Message Format" specification (<span>[<a href="#RFC7493" class="xref">RFC7493</a>]</span>) addresses known JSON interoperability pain points. This specification borrows from the requirements made over there:<a href="#section-7-1" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-encoding-and-characters">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-encoding-and-characters" class="section-name selfRef">Encoding and Characters</a>
        </h3>
<p id="section-7.1-1">This specification requires that field values use only US-ASCII characters, and thus by definition use a subset of UTF-8 (<span><a href="https://rfc-editor.org/rfc/rfc7493#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC7493" class="xref">RFC7493</a>]</span>).<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-7.2">
        <h3 id="name-numbers">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-numbers" class="section-name selfRef">Numbers</a>
        </h3>
<p id="section-7.2-1">Be aware of the issues around number precision, as discussed in <span><a href="https://rfc-editor.org/rfc/rfc7493#section-2.2" class="relref">Section 2.2</a> of [<a href="#RFC7493" class="xref">RFC7493</a>]</span>.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-7.3">
        <h3 id="name-object-constraints">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-object-constraints" class="section-name selfRef">Object Constraints</a>
        </h3>
<p id="section-7.3-1">As described in <span><a href="https://rfc-editor.org/rfc/rfc8259#section-4" class="relref">Section 4</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>, JSON parser implementations differ in the handling of duplicate object names. Therefore, senders <span class="bcp14">MUST NOT</span> use duplicate object names, and recipients <span class="bcp14">SHOULD</span> either treat field values with duplicate names as invalid (consistent with <span>[<a href="#RFC7493" class="xref">RFC7493</a>], <a href="https://rfc-editor.org/rfc/rfc7493#section-2.3" class="relref">Section 2.3</a></span>) or use the lexically last value (consistent with <span>[<a href="#ECMA-262" class="xref">ECMA-262</a>], <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-internalizejsonproperty" class="relref">Section 24.3.1.1</a></span>).<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">Furthermore, ordering of object members is not significant and can not be relied upon.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-8">
      <h2 id="name-internationalization-consid">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-internationalization-consid" class="section-name selfRef">Internationalization Considerations</a>
      </h2>
<p id="section-8-1">In HTTP/1.1, header field values are represented by octet sequences, usually used to transmit ASCII characters, with restrictions on the use of certain control characters, and no associated default character encoding, nor a way to describe it (<span>[<a href="#RFC7230" class="xref">RFC7230</a>], <a href="https://rfc-editor.org/rfc/rfc7230#header.fields" class="relref">Section 3.2</a></span>).  HTTP/2 does not change this.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">This specification maps all characters which can cause problems to JSON escape sequences, thereby solving the HTTP header field internationalization problem.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">Future specifications of HTTP might change to allow non-ASCII characters natively. In that case, header fields using the syntax defined by this specification would have a simple migration path (by just stopping to require escaping of non-ASCII characters).<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">Using JSON-shaped field values is believed to not introduce any new threads beyond those described in <span><a href="https://rfc-editor.org/rfc/rfc8259#section-12" class="relref">Section 12</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>, namely the risk of recipients using the wrong tools to parse them.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">Other than that, any syntax that makes extensions easy can be used to smuggle information through field values; however, this concern is shared with other widely used formats, such as those using parameters in the form of name/value pairs.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC0020">[RFC0020]</dt>
        <dd>
<span class="refAuthor">Cerf, V.</span>, <span class="refTitle">"ASCII format for network interchange"</span>, <span class="seriesInfo">STD 80</span>, <span class="seriesInfo">RFC 20</span>, <span class="seriesInfo">DOI 10.17487/RFC0020</span>, <time datetime="1969-10">October 1969</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc20">https://www.rfc-editor.org/info/rfc20</a>&gt;</span>. </dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span><span class="refAuthor"> and P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dt id="RFC7230">[RFC7230]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span><span class="refAuthor"> and J. F. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing"</span>, <span class="seriesInfo">RFC 7230</span>, <span class="seriesInfo">DOI 10.17487/RFC7230</span>, <time datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7230">https://www.rfc-editor.org/info/rfc7230</a>&gt;</span>. </dd>
<dt id="RFC7231">[RFC7231]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span><span class="refAuthor"> and J. F. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Semantics and Content"</span>, <span class="seriesInfo">RFC 7231</span>, <span class="seriesInfo">DOI 10.17487/RFC7231</span>, <time datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7231">https://www.rfc-editor.org/info/rfc7231</a>&gt;</span>. </dd>
<dt id="RFC7493">[RFC7493]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The I-JSON Message Format"</span>, <span class="seriesInfo">RFC 7493</span>, <span class="seriesInfo">DOI 10.17487/RFC7493</span>, <time datetime="2015-03">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;</span>. </dd>
<dt id="RFC8259">[RFC8259]</dt>
      <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="CLEARSITE">[CLEARSITE]</dt>
        <dd>
<span class="refAuthor">West, M.</span>, <span class="refTitle">"Clear Site Data"</span>, <span class="seriesInfo">W3C Working Draft WD-clear-site-data-20171130</span>, <time datetime="2017-11-30">30 November 2017</time>, <span>&lt;<a href="https://www.w3.org/TR/2017/WD-clear-site-data-20171130/">https://www.w3.org/TR/2017/WD-clear-site-data-20171130/</a>&gt;</span>. <span class="annotation">Latest version available at <span><a href="https://www.w3.org/TR/clear-site-data/">https://www.w3.org/TR/clear-site-data/</a></span>.  </span>
        </dd>
<dt id="ECMA-262">[ECMA-262]</dt>
        <dd>
<span class="refAuthor">Ecma International</span>, <span class="refTitle">"ECMA-262 6th Edition, The ECMAScript 2015 Language Specification"</span>, <span class="seriesInfo">Standard ECMA-262</span>, <time datetime="2015-06">June 2015</time>, <span>&lt;<a href="http://www.ecma-international.org/ecma-262/6.0/">http://www.ecma-international.org/ecma-262/6.0/</a>&gt;</span>. </dd>
<dt id="FEATUREPOL">[FEATUREPOL]</dt>
        <dd>
<span class="refAuthor">Clelland, I.</span>, <span class="refTitle">"Feature Policy"</span>, <span class="seriesInfo">W3C Draft Community Group Report </span>, <time datetime="2019-10-03">3 October 2019</time>, <span>&lt;<a href="https://wicg.github.io/feature-policy/">https://wicg.github.io/feature-policy/</a>&gt;</span>. </dd>
<dt id="HSTRUCT">[HSTRUCT]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span><span class="refAuthor"> and P-H. Kamp</span>, <span class="refTitle">"Structured Headers for HTTP"</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-header-structure-13</span>, <time datetime="2019-08">August 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-httpbis-header-structure-13">https://tools.ietf.org/html/draft-ietf-httpbis-header-structure-13</a>&gt;</span>. </dd>
<dt id="ISO-8859-1">[ISO-8859-1]</dt>
        <dd>
<span class="refAuthor">International Organization for Standardization</span>, <span class="refTitle">"Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1"</span>, <span class="seriesInfo">ISO/IEC 8859-1:1998</span>, <time datetime="1998">1998</time>. </dd>
<dt id="KEY">[KEY]</dt>
        <dd>
<span class="refAuthor">Fielding, R.</span><span class="refAuthor"> and M. Nottingham</span>, <span class="refTitle">"The Key HTTP Response Header Field"</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-key-01</span>, <time datetime="2016-03">March 2016</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-httpbis-key-01">https://tools.ietf.org/html/draft-ietf-httpbis-key-01</a>&gt;</span>. </dd>
<dt id="REPORTING">[REPORTING]</dt>
        <dd>
<span class="refAuthor">Creager, D.</span><span class="refAuthor">, Grigorik, I.</span><span class="refAuthor">, Meyer, P.</span><span class="refAuthor">, and M. West</span>, <span class="refTitle">"Reporting API"</span>, <span class="seriesInfo">W3C Working Draft WD-reporting-1-20180925</span>, <time datetime="2018-09-25">25 September 2018</time>, <span>&lt;<a href="https://www.w3.org/TR/2018/WD-reporting-1-20180925/">https://www.w3.org/TR/2018/WD-reporting-1-20180925/</a>&gt;</span>. <span class="annotation">Latest version available at <span><a href="https://www.w3.org/TR/reporting-1/">https://www.w3.org/TR/reporting-1/</a></span>.  </span>
        </dd>
<dt id="RFC6266">[RFC6266]</dt>
        <dd>
<span class="refAuthor">Reschke, J. F.</span>, <span class="refTitle">"Use of the Content-Disposition Header Field in the Hypertext Transfer Protocol (HTTP)"</span>, <span class="seriesInfo">RFC 6266</span>, <span class="seriesInfo">DOI 10.17487/RFC6266</span>, <time datetime="2011-06">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6266">https://www.rfc-editor.org/info/rfc6266</a>&gt;</span>. </dd>
<dt id="RFC6365">[RFC6365]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span><span class="refAuthor"> and J. Klensin</span>, <span class="refTitle">"Terminology Used in Internationalization in the IETF"</span>, <span class="seriesInfo">BCP 166</span>, <span class="seriesInfo">RFC 6365</span>, <span class="seriesInfo">DOI 10.17487/RFC6365</span>, <time datetime="2011-09">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6365">https://www.rfc-editor.org/info/rfc6365</a>&gt;</span>. </dd>
<dt id="RFC7235">[RFC7235]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span><span class="refAuthor"> and J. F. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Authentication"</span>, <span class="seriesInfo">RFC 7235</span>, <span class="seriesInfo">DOI 10.17487/RFC7235</span>, <time datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7235">https://www.rfc-editor.org/info/rfc7235</a>&gt;</span>. </dd>
<dt id="RFC8187">[RFC8187]</dt>
        <dd>
<span class="refAuthor">Reschke, J. F.</span>, <span class="refTitle">"Indicating Character Encoding and Language for HTTP Header Field Parameters"</span>, <span class="seriesInfo">RFC 8187</span>, <span class="seriesInfo">DOI 10.17487/RFC8187</span>, <time datetime="2017-09">September 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8187">https://www.rfc-editor.org/info/rfc8187</a>&gt;</span>. </dd>
<dt id="XMLHttpRequest">[XMLHttpRequest]</dt>
      <dd>
<span class="refAuthor">WhatWG</span>, <span class="refTitle">"XMLHttpRequest"</span>, <time>October 2019</time>, <span>&lt;<a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>&gt;</span>. </dd>
</dl>
</section>
</section>
<div id="examples">
<section id="section-appendix.a">
      <h2 id="name-examples">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
      </h2>
<p id="section-appendix.a-1">This section shows how some of the existing HTTP header fields would look like if they would use the format defined by this specification.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
<div id="example.content-length">
<section id="section-a.1">
        <h2 id="name-content-length">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-content-length" class="section-name selfRef">Content-Length</a>
        </h2>
<p id="section-a.1-1">"Content-Length" is defined in <span><a href="https://rfc-editor.org/rfc/rfc7230#header.content-length" class="relref">Section 3.3.2</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>, with the field value's ABNF being:<a href="#section-a.1-1" class="pilcrow">¶</a></p>
<div id="section-a.1-2">
<pre class="sourcecode lang-abnf2616">Content-Length = 1*DIGIT </pre><a href="#section-a.1-2" class="pilcrow">¶</a>
</div>
<p id="section-a.1-3">So the field value is similar to a JSON number (<span>[<a href="#RFC8259" class="xref">RFC8259</a>], <a href="https://rfc-editor.org/rfc/rfc8259#numbers" class="relref">Section 6</a></span>).<a href="#section-a.1-3" class="pilcrow">¶</a></p>
<p id="section-a.1-4">Content-Length is restricted to a single field instance, as it doesn't use the list production (as per <span><a href="https://rfc-editor.org/rfc/rfc7230#field.order" class="relref">Section 3.2.2</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>).  However, in practice multiple instances do occur, and the definition of the header field does indeed discuss how to handle these cases.<a href="#section-a.1-4" class="pilcrow">¶</a></p>
<p id="section-a.1-5">If Content-Length was defined using the JSON format discussed here, the ABNF would be something like:<a href="#section-a.1-5" class="pilcrow">¶</a></p>
<div id="section-a.1-6">
<pre class="sourcecode lang-abnf2616">Content-Length = #number ; number: [RFC8259], Section 6 </pre><a href="#section-a.1-6" class="pilcrow">¶</a>
</div>
<p id="section-a.1-7">...and the prose definition would:<a href="#section-a.1-7" class="pilcrow">¶</a></p>
<ul>
<li id="section-a.1-8.1">restrict all numbers to be non-negative integers without fractions, and<a href="#section-a.1-8.1" class="pilcrow">¶</a>
</li>
          <li id="section-a.1-8.2">require that the array of values is of length 1 (but allow the case where the array is longer, but all members represent the same value)<a href="#section-a.1-8.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="example.content-disposition">
<section id="section-a.2">
        <h2 id="name-content-disposition">
<a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-content-disposition" class="section-name selfRef">Content-Disposition</a>
        </h2>
<p id="section-a.2-1">Content-Disposition field values, defined in <span>[<a href="#RFC6266" class="xref">RFC6266</a>]</span>, consist of a "disposition type" (a string), plus multiple parameters, of which at least one ("filename") sometime needs to carry non-ASCII characters.<a href="#section-a.2-1" class="pilcrow">¶</a></p>
<p id="section-a.2-2">For instance, the first example in <span><a href="https://rfc-editor.org/rfc/rfc6266#section-5" class="relref">Section 5</a> of [<a href="#RFC6266" class="xref">RFC6266</a>]</span>:<a href="#section-a.2-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.2-3">
<pre>
  Attachment; filename=example.html
</pre><a href="#section-a.2-3" class="pilcrow">¶</a>
</div>
<p id="section-a.2-4">has a disposition type of "Attachment", with filename parameter value "example.html". A JSON representation of this information might be:<a href="#section-a.2-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-application/json" id="section-a.2-5">
<pre>
  {
    "Attachment": {
      "filename" : "example.html"
    }
  }
</pre><a href="#section-a.2-5" class="pilcrow">¶</a>
</div>
<p id="section-a.2-6">which would translate to a header field value of:<a href="#section-a.2-6" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-application/json" id="section-a.2-7">
<pre>
  { "Attachment": { "filename" : "example.html" } }
</pre><a href="#section-a.2-7" class="pilcrow">¶</a>
</div>
<p id="section-a.2-8">The third example in <span><a href="https://rfc-editor.org/rfc/rfc6266#section-5" class="relref">Section 5</a> of [<a href="#RFC6266" class="xref">RFC6266</a>]</span> uses a filename parameter containing non-US-ASCII characters:<a href="#section-a.2-8" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.2-9">
<pre>
  attachment; filename*=UTF-8''%e2%82%ac%20rates
</pre><a href="#section-a.2-9" class="pilcrow">¶</a>
</div>
<p id="section-a.2-10">Note that in this case, the "filename*" parameter uses the encoding defined in <span>[<a href="#RFC8187" class="xref">RFC8187</a>]</span>, representing a filename starting with the Unicode character <span class="unicode">"€" (EURO SIGN, U+20AC)</span>, followed by " rates". If the definition of Content-Disposition would have used the format proposed here, the workaround involving the "parameter*" syntax would not have been needed at all.<a href="#section-a.2-10" class="pilcrow">¶</a></p>
<p id="section-a.2-11">The JSON representation of this value could then be:<a href="#section-a.2-11" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-application/json" id="section-a.2-12">
<pre>
  { "attachment": { "filename" : "\u20AC rates" } }
</pre><a href="#section-a.2-12" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example.www-authenticate">
<section id="section-a.3">
        <h2 id="name-www-authenticate">
<a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-www-authenticate" class="section-name selfRef">WWW-Authenticate</a>
        </h2>
<p id="section-a.3-1">The WWW-Authenticate header field value is defined in <span><a href="https://rfc-editor.org/rfc/rfc7235#header.www-authenticate" class="relref">Section 4.1</a> of [<a href="#RFC7235" class="xref">RFC7235</a>]</span> as a list of "challenges":<a href="#section-a.3-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-abnf2616" id="section-a.3-2">
<pre>
   WWW-Authenticate = 1#challenge
</pre><a href="#section-a.3-2" class="pilcrow">¶</a>
</div>
<p id="section-a.3-3">...where a challenge consists of a scheme with optional parameters:<a href="#section-a.3-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-abnf2616" id="section-a.3-4">
<pre>
  challenge   = auth-scheme [ 1*SP ( token68 / #auth-param ) ]
</pre><a href="#section-a.3-4" class="pilcrow">¶</a>
</div>
<p id="section-a.3-5">An example for a complex header field value given in the definition of the header field is:<a href="#section-a.3-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.3-6">
<pre>
  Newauth realm="apps", type=1, title="Login to \"apps\"",
  Basic realm="simple"
</pre><a href="#section-a.3-6" class="pilcrow">¶</a>
</div>
<p id="section-a.3-7">(line break added for readability)<a href="#section-a.3-7" class="pilcrow">¶</a></p>
<p id="section-a.3-8">A possible JSON representation of this field value would be the array below:<a href="#section-a.3-8" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-application/json" id="section-a.3-9">
<pre>
  [
    {
      "Newauth" : {
        "realm": "apps",
        "type" : 1,
        "title" : "Login to \"apps\""
      }
    },
    {
      "Basic" : {
        "realm": "simple"
      }
    } 
  ]
</pre><a href="#section-a.3-9" class="pilcrow">¶</a>
</div>
<p id="section-a.3-10">...which would translate to a header field value of:<a href="#section-a.3-10" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.3-11">
<pre>
  { "Newauth" : { "realm": "apps", "type" : 1,
                  "title": "Login to \"apps\"" }},
  { "Basic" : { "realm": "simple"}}
</pre><a href="#section-a.3-11" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="example.accept-encoding">
<section id="section-a.4">
        <h2 id="name-accept-encoding">
<a href="#section-a.4" class="section-number selfRef">A.4. </a><a href="#name-accept-encoding" class="section-name selfRef">Accept-Encoding</a>
        </h2>
<p id="section-a.4-1">The Accept-Encoding header field value is defined in <span><a href="https://rfc-editor.org/rfc/rfc7231#header.accept-encoding" class="relref">Section 5.3.4</a> of [<a href="#RFC7231" class="xref">RFC7231</a>]</span> as a list of codings, each of which allowing a weight parameter 'q':<a href="#section-a.4-1" class="pilcrow">¶</a></p>
<div id="section-a.4-2">
<pre class="sourcecode lang-abnf2616">Accept-Encoding = #( codings [ weight ] ) codings         = content-coding / "identity" / "*" weight          = OWS ";" OWS "q=" qvalue qvalue          = ( "0" [ "." 0*3DIGIT ] ) / ( "1" [ "." 0*3("0") ] ) </pre><a href="#section-a.4-2" class="pilcrow">¶</a>
</div>
<p id="section-a.4-3">An example for a complex header field value given in the definition of the header field is:<a href="#section-a.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.4-4">
<pre>
  gzip;q=1.0, identity; q=0.5, *;q=0
</pre><a href="#section-a.4-4" class="pilcrow">¶</a>
</div>
<p id="section-a.4-5">Due to the defaulting rules for the quality value (<span>[<a href="#RFC7231" class="xref">RFC7231</a>], <a href="https://rfc-editor.org/rfc/rfc7231#quality.values" class="relref">Section 5.3.1</a></span>), this could also be written as:<a href="#section-a.4-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.4-6">
<pre>
  gzip, identity; q=0.5, *; q=0
</pre><a href="#section-a.4-6" class="pilcrow">¶</a>
</div>
<p id="section-a.4-7">A JSON representation could be:<a href="#section-a.4-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-application/json" id="section-a.4-8">
<pre>
  [
    {
      "gzip" : {
      }
    },
    {
      "identity" : {
        "q": 0.5
      }
    },
    {
      "*" : {
        "q": 0
      }
    }
  ]
</pre><a href="#section-a.4-8" class="pilcrow">¶</a>
</div>
<p id="section-a.4-9">...which would translate to a header field value of:<a href="#section-a.4-9" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.4-10">
<pre>
  {"gzip": {}}, {"identity": {"q": 0.5}}, {"*": {"q": 0}}
</pre><a href="#section-a.4-10" class="pilcrow">¶</a>
</div>
<p id="section-a.4-11">In this example, the part about "gzip" appears unnecessarily verbose, as the value is just an empty object. A simpler notation would collapse members like these to string literals:<a href="#section-a.4-11" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.4-12">
<pre>
  "gzip", {"identity": {"q": 0.5}}, {"*": {"q": 0}}
</pre><a href="#section-a.4-12" class="pilcrow">¶</a>
</div>
<p id="section-a.4-13">If this is desirable, the header field definition could allow both string literals and objects, and define that a mere string literal would be mapped to a member whose name is given by the string literal, and the value is an empty object.<a href="#section-a.4-13" class="pilcrow">¶</a></p>
<p id="section-a.4-14">For what it's worth, one of the most common cases for 'Accept-Encoding' would become:<a href="#section-a.4-14" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft art-example" id="section-a.4-15">
<pre>
  "gzip", "deflate"
</pre><a href="#section-a.4-15" class="pilcrow">¶</a>
</div>
<p id="section-a.4-16">which would be only a small overhead over the original format.<a href="#section-a.4-16" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-appendix.b">
      <h2 id="name-use-of-json-field-value-enc">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-use-of-json-field-value-enc" class="section-name selfRef">Use of JSON Field Value Encoding in the Wild</a>
      </h2>
<p id="section-appendix.b-1">Since work started on this document, various specifications have adopted this format. At least one of these moved away after the HTTP Working Group decided to focus on <span>[<a href="#HSTRUCT" class="xref">HSTRUCT</a>]</span> (see thread starting at <span><a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2016OctDec/0505.html">https://lists.w3.org/Archives/Public/ietf-http-wg/2016OctDec/0505.html</a></span>).<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
<p id="section-appendix.b-2">The sections below summarize the current usage of this format.<a href="#section-appendix.b-2" class="pilcrow">¶</a></p>
<section id="section-b.1">
        <h2 id="name-w3c-reporting-api-specifica">
<a href="#section-b.1" class="section-number selfRef">B.1. </a><a href="#name-w3c-reporting-api-specifica" class="section-name selfRef">W3C Reporting API Specification</a>
        </h2>
<p id="section-b.1-1">Defined in W3C Working Draft "Reporting API" (<span><a href="https://www.w3.org/TR/2018/WD-reporting-1-20180925/#header" class="relref">Section 3.1</a> of [<a href="#REPORTING" class="xref">REPORTING</a>]</span>).  Still in use in latest working draft dated September 2018.<a href="#section-b.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-b.2">
        <h2 id="name-w3c-clear-site-data-specifi">
<a href="#section-b.2" class="section-number selfRef">B.2. </a><a href="#name-w3c-clear-site-data-specifi" class="section-name selfRef">W3C Clear Site Data Specification</a>
        </h2>
<p id="section-b.2-1">Used in earlier versions of "Clear Site Data". The current version replaces the use of JSON with a custom syntax that happens to be somewhat compatible with an array of JSON strings (see <span><a href="https://www.w3.org/TR/2017/WD-clear-site-data-20171130/#header" class="relref">Section 3.1</a> of [<a href="#CLEARSITE" class="xref">CLEARSITE</a>]</span> and <span><a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2017AprJun/0214.html">https://lists.w3.org/Archives/Public/ietf-http-wg/2017AprJun/0214.html</a></span> for feedback).<a href="#section-b.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-b.3">
        <h2 id="name-w3c-feature-policy-specific">
<a href="#section-b.3" class="section-number selfRef">B.3. </a><a href="#name-w3c-feature-policy-specific" class="section-name selfRef">W3C Feature Policy Specification</a>
        </h2>
<p id="section-b.3-1">Originally defined in W3C Draft Community Group Report "Feature Policy" (<span>[<a href="#FEATUREPOL" class="xref">FEATUREPOL</a>]</span>), but now replaced with a custom syntax (see <span><a href="https://github.com/WICG/feature-policy/pull/83">https://github.com/WICG/feature-policy/pull/83</a></span>).<a href="#section-b.3-1" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-appendix.c">
      <h2 id="name-relation-to-http-key-header">
<a href="#section-appendix.c" class="section-number selfRef">Appendix C. </a><a href="#name-relation-to-http-key-header" class="section-name selfRef">Relation to HTTP 'Key' Header Field</a>
      </h2>
<p id="section-appendix.c-1"><span>[<a href="#KEY" class="xref">KEY</a>]</span> aims to improve the cacheability of responses that vary based on certain request header fields, addressing lack of granularity in the existing "Vary" response header field (<span>[<a href="#RFC7231" class="xref">RFC7231</a>], <a href="https://rfc-editor.org/rfc/rfc7231#header.vary" class="relref">Section 7.1.4</a></span>).  If the JSON-based format described by this document gains popularity, it might be useful to add a JSON-aware "Key Parameter" (see <span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-key-01#section-2.3" class="relref">Section 2.3</a> of [<a href="#KEY" class="xref">KEY</a>]</span>).<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
</section>
<section id="section-appendix.d">
      <h2 id="name-discussion">
<a href="#section-appendix.d" class="section-number selfRef">Appendix D. </a><a href="#name-discussion" class="section-name selfRef">Discussion</a>
      </h2>
<p id="section-appendix.d-1">This approach uses a default of "JSON array", using implicit array markers.  An alternative would be a default of "JSON object". This would simplify the syntax for non-list-typed header fields, but all the benefits of having the same data model for both types of header fields would be gone.  A hybrid approach might make sense, as long as it doesn't require any heuristics on the recipient's side.<a href="#section-appendix.d-1" class="pilcrow">¶</a></p>
<aside id="section-appendix.d-2">
        <p id="section-appendix.d-2.1"><strong>Note:</strong> a concrete proposal was made by Kazuho Oku in <span><a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2016JanMar/0155.html">https://lists.w3.org/Archives/Public/ietf-http-wg/2016JanMar/0155.html</a></span>.<a href="#section-appendix.d-2.1" class="pilcrow">¶</a></p>
</aside>
<p id="section-appendix.d-3"><span class="cref">Use of generic libs vs compactness of field values..</span><a href="#section-appendix.d-3" class="pilcrow">¶</a></p>
</section>
<div id="change.log">
<section id="section-appendix.e">
      <h2 id="name-change-log">
<a href="#section-appendix.e" class="section-number selfRef">Appendix E. </a><a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<p id="section-appendix.e-1">This section is to be removed before publishing as an RFC.<a href="#section-appendix.e-1" class="pilcrow">¶</a></p>
<div id="changes.since.00">
<section id="section-e.1">
        <h2 id="name-since-draft-reschke-http-jf">
<a href="#section-e.1" class="section-number selfRef">E.1. </a><a href="#name-since-draft-reschke-http-jf" class="section-name selfRef">Since draft-reschke-http-jfv-00</a>
        </h2>
<p id="section-e.1-1">Editorial fixes + working on the TODOs.<a href="#section-e.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.01">
<section id="section-e.2">
        <h2 id="name-since-draft-reschke-http-jfv">
<a href="#section-e.2" class="section-number selfRef">E.2. </a><a href="#name-since-draft-reschke-http-jfv" class="section-name selfRef">Since draft-reschke-http-jfv-01</a>
        </h2>
<p id="section-e.2-1">Mention slightly increased risk of smuggling information in header field values.<a href="#section-e.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.02">
<section id="section-e.3">
        <h2 id="name-since-draft-reschke-http-jfv-">
<a href="#section-e.3" class="section-number selfRef">E.3. </a><a href="#name-since-draft-reschke-http-jfv-" class="section-name selfRef">Since draft-reschke-http-jfv-02</a>
        </h2>
<p id="section-e.3-1">Mention Kazuho Oku's proposal for abbreviated forms.<a href="#section-e.3-1" class="pilcrow">¶</a></p>
<p id="section-e.3-2">Added a bit of text about the motivation for a concrete JSON subset (ack Cory Benfield).<a href="#section-e.3-2" class="pilcrow">¶</a></p>
<p id="section-e.3-3">Expand I18N section.<a href="#section-e.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.03">
<section id="section-e.4">
        <h2 id="name-since-draft-reschke-http-jfv-0">
<a href="#section-e.4" class="section-number selfRef">E.4. </a><a href="#name-since-draft-reschke-http-jfv-0" class="section-name selfRef">Since draft-reschke-http-jfv-03</a>
        </h2>
<p id="section-e.4-1">Mention relation to KEY header field.<a href="#section-e.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.04">
<section id="section-e.5">
        <h2 id="name-since-draft-reschke-http-jfv-04">
<a href="#section-e.5" class="section-number selfRef">E.5. </a><a href="#name-since-draft-reschke-http-jfv-04" class="section-name selfRef">Since draft-reschke-http-jfv-04</a>
        </h2>
<p id="section-e.5-1">Between June and December 2016, this was a work item of the HTTP working group (see <span><a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-jfv/">https://datatracker.ietf.org/doc/draft-ietf-httpbis-jfv/</a></span>).  Work (if any) continues now on <span><a href="https://datatracker.ietf.org/doc/draft-reschke-http-jfv/">https://datatracker.ietf.org/doc/draft-reschke-http-jfv/</a></span>.<a href="#section-e.5-1" class="pilcrow">¶</a></p>
<p id="section-e.5-2">Changes made while this was a work item of the HTTP Working Group:<a href="#section-e.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.wg.00">
<section id="section-e.6">
        <h2 id="name-since-draft-ietf-httpbis-jf">
<a href="#section-e.6" class="section-number selfRef">E.6. </a><a href="#name-since-draft-ietf-httpbis-jf" class="section-name selfRef">Since draft-ietf-httpbis-jfv-00</a>
        </h2>
<p id="section-e.6-1">Added example for "Accept-Encoding" (inspired by Kazuho's feedback), showing a potential way to optimize the format when default values apply.<a href="#section-e.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.wg.01">
<section id="section-e.7">
        <h2 id="name-since-draft-ietf-httpbis-jfv">
<a href="#section-e.7" class="section-number selfRef">E.7. </a><a href="#name-since-draft-ietf-httpbis-jfv" class="section-name selfRef">Since draft-ietf-httpbis-jfv-01</a>
        </h2>
<p id="section-e.7-1">Add interop discussion, building on I-JSON and ECMA-262 (see <span><a href="https://github.com/httpwg/http-extensions/issues/225">https://github.com/httpwg/http-extensions/issues/225</a></span>).<a href="#section-e.7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.wg.02">
<section id="section-e.8">
        <h2 id="name-since-draft-ietf-httpbis-jfv-">
<a href="#section-e.8" class="section-number selfRef">E.8. </a><a href="#name-since-draft-ietf-httpbis-jfv-" class="section-name selfRef">Since draft-ietf-httpbis-jfv-02</a>
        </h2>
<p id="section-e.8-1">Move non-essential parts into appendix.<a href="#section-e.8-1" class="pilcrow">¶</a></p>
<p id="section-e.8-2">Updated XHR reference.<a href="#section-e.8-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.05">
<section id="section-e.9">
        <h2 id="name-since-draft-reschke-http-jfv-05">
<a href="#section-e.9" class="section-number selfRef">E.9. </a><a href="#name-since-draft-reschke-http-jfv-05" class="section-name selfRef">Since draft-reschke-http-jfv-05</a>
        </h2>
<p id="section-e.9-1">Add meat to "Using this Format in Header Field Definitions".<a href="#section-e.9-1" class="pilcrow">¶</a></p>
<p id="section-e.9-2">Add a few lines on the relation to "Key".<a href="#section-e.9-2" class="pilcrow">¶</a></p>
<p id="section-e.9-3">Summarize current use of the format.<a href="#section-e.9-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.06">
<section id="section-e.10">
        <h2 id="name-since-draft-reschke-http-jfv-06">
<a href="#section-e.10" class="section-number selfRef">E.10. </a><a href="#name-since-draft-reschke-http-jfv-06" class="section-name selfRef">Since draft-reschke-http-jfv-06</a>
        </h2>
<p id="section-e.10-1">RFC 5987 is obsoleted by RFC 8187.<a href="#section-e.10-1" class="pilcrow">¶</a></p>
<p id="section-e.10-2">Update CLEARSITE comment.<a href="#section-e.10-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.07">
<section id="section-e.11">
        <h2 id="name-since-draft-reschke-http-jfv-07">
<a href="#section-e.11" class="section-number selfRef">E.11. </a><a href="#name-since-draft-reschke-http-jfv-07" class="section-name selfRef">Since draft-reschke-http-jfv-07</a>
        </h2>
<p id="section-e.11-1">Update JSON and HSTRUCT references.<a href="#section-e.11-1" class="pilcrow">¶</a></p>
<p id="section-e.11-2">FEATUREPOL doesn't use JSON syntax anymore.<a href="#section-e.11-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.08">
<section id="section-e.12">
        <h2 id="name-since-draft-reschke-http-jfv-08">
<a href="#section-e.12" class="section-number selfRef">E.12. </a><a href="#name-since-draft-reschke-http-jfv-08" class="section-name selfRef">Since draft-reschke-http-jfv-08</a>
        </h2>
<p id="section-e.12-1">Update HSTRUCT reference.<a href="#section-e.12-1" class="pilcrow">¶</a></p>
<p id="section-e.12-2">Update notes about CLEARSITE and FEATUREPOL.<a href="#section-e.12-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.09">
<section id="section-e.13">
        <h2 id="name-since-draft-reschke-http-jfv-09">
<a href="#section-e.13" class="section-number selfRef">E.13. </a><a href="#name-since-draft-reschke-http-jfv-09" class="section-name selfRef">Since draft-reschke-http-jfv-09</a>
        </h2>
<p id="section-e.13-1">Update HSTRUCT and FEATUREPOL references.<a href="#section-e.13-1" class="pilcrow">¶</a></p>
<p id="section-e.13-2">Update note about REPORTING.<a href="#section-e.13-2" class="pilcrow">¶</a></p>
<p id="section-e.13-3">Changed category to "informational".<a href="#section-e.13-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="acks">
<section id="section-appendix.f">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-appendix.f-1">Thanks go to the Hypertext Transfer Protocol Working Group participants.<a href="#section-appendix.f-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.g">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Julian F. Reschke</span></div>
<div dir="auto" class="left"><span class="org">greenbytes GmbH</span></div>
<div dir="auto" class="left"><span class="street-address">Hafenweg 16</span></div>
<div dir="auto" class="left">
<span class="postal-code">48155</span> <span class="locality">Münster</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:julian.reschke@greenbytes.de" class="email">julian.reschke@greenbytes.de</a>
</div>
<div class="url">
<span>URI:</span>
<a href="http://greenbytes.de/tech/webdav/" class="url">http://greenbytes.de/tech/webdav/</a>
</div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>
</body>
</html>
