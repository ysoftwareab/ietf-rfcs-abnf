DHC Working Group                                             Zi Kang 
Internet Draft                           Huawei Techonologies Co., Ltd 
Expires: April 2006                                   October 17, 2005 
                                   
 
                                      
             DHCP Relay agent Request from Multi Address Pool 
               draft-zi-dhc-agent-request-multi-pool-00.txt 


    


Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on April 17, 2006. 

Copyright Notice 

      Copyright (C) The Internet Society (2005).  All Rights Reserved. 

Abstract 

   This document modifies the Subnet selection option and defines a new 
   sub-option of the relay-agent-information option. Each of these 
   options is used by the relay agent to tell the DHCP Server to 
   allocation address from more than one address pool.  
 
 
 
Zi                     Expires April 17, 2006                 [Page 1] 

Internet-DraftDHCP Relay agent Request from Multi Address Pool October 
2005 
    

    

Conventions used in this document 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119 [1]. 

Table of Contents 

    
   1. Introduction................................................2 
   2. Modified Subnet Selection Option format......................2 
   3. Multi-gateway Selection Sub-Option Definition................3 
   4. Security Considerations......................................4 
   5. IANA Considerations.........................................4 
   6. Acknowledgments.............................................4 
      6.1. Normative References....................................5 
   Author's Addresses.............................................5 
   Intellectual Property Statement.................................5 
   Disclaimer of Validity.........................................6 
   Copyright Statement............................................6 
   Acknowledgment.................................................6 
    
1. Introduction 

   There is a need for a DHCP Relay to be able to tell the DHCP Server 
   that DHCP Server can allocate an address from multi address pool. 
   When DHCP Relay can not decide the address pool from the information 
   of DHCP Client, it sends the information of multi address pool to 
   DHCP Server. 

   This draft introduces two methods. The first method is modifying the 
   Subnet Selection Option [RFC3011], change from one subnet to multi-
   subnet. The second is a new sub-option of the relay-agent-information 
   option. 

    

2. Modified Subnet Selection Option format 

   The modified format of the option is: 

    

           Code   Len        IPv4 Address(n) 
 
 
Zi                     Expires April 17, 2006                 [Page 2] 

Internet-DraftDHCP Relay agent Request from Multi Address Pool October 
2005 
    

          +-----+-----+-----+-----+-----+-----+----- 

          | 118 | n*4 | A1  | A2  | A3  | A4  | ...  

          +-----+-----+-----+-----+-----+-----+----- 

    

   This option is defined in RFC3011. Now, the number of IPv4 Address is 
   changing from one to numerous. The number of total IPv4 Address is 
   not more than 63, it is enough to use. 

   If the DHCP Client's request does not include this option, the relay 
   agent inserts the information of multi-subnet in the packet and 
   forwards to the DHCP Server. 

   If the DHCP Client's request includes this option, the relay agent 
   MUST does not change the data of this option, and forwards to the 
   DHCP Server. 

   The DHCP Server decides allocation from which subnet by the 
   information of client and the subnets. 

    

3. Multi-gateway Selection Sub-Option Definition 

   The multi-gateway-selection sub-option is a sub-option of the relay-
   agent-information option [RFC3046]. 

   The multi-gateway-selection sub-option MAY be used by any DHCP relay 
   agent which desires to specify multi-gateway information for a DHCP 
   client request. 

   The multi-gateway-selection sub-option contains a generalized way to 
   specify the multi-gateway information. 

   The format of the option is: 

              SubOpt   Len   IPv4 Gateway Address 

             +------+------+------+------+------+------+--- 

             | TBD  |   n  |  A1  |  A2  |  A3  |  A4  | ... 

             +------+------+------+------+------+------+--- 
 
 
Zi                     Expires April 17, 2006                 [Page 3] 

Internet-DraftDHCP Relay agent Request from Multi Address Pool October 
2005 
    

           n = 4 * number of gateway(not more than 63) 

   The relay agent inserts the information of multi-gateway in the 
   packet from DHCP Client, and forwards to the DHCP Server. 

   The DHCP Server decides allocation from which address pool by the 
   information of client and the gateways. 

    

4. Security Considerations 

   This document does not introduce any new security concerns beyond 
   those specified in the basic DHCP [RFC2131] and DHCPv6 [RFC3315] 
   specifications.   

    

5. IANA Considerations 

   The code of Multi-gateway-selection sub-option must be assigned by 
   IANA. 

    

6. Acknowledgments 

   None. 

















 
 
Zi                     Expires April 17, 2006                 [Page 4] 

Internet-DraftDHCP Relay agent Request from Multi Address Pool October 
2005 
    

    

                     6.1. Normative References 

   [1]  Bradner, S., "Key words for use in RFCs to Indicate Requirement 
         Levels", BCP 14, RFC 2119, March 1997. 

   [2]  Crocker, D. and Overell, P.(Editors), "Augmented BNF for Syntax 
         Specifications: ABNF", RFC 2234, Internet Mail Consortium and 
         Demon Internet Ltd., November 1997. 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC 2119, March 1997. 

   [RFC2234] Crocker, D. and Overell, P.(Editors), "Augmented BNF for 
             Syntax Specifications: ABNF", RFC 2234, Internet Mail 
             Consortium and Demon Internet Ltd., November 1997. 

   [RFC3011] G. Waters, "The IPv4 Subnet Selection Option for DHCP", RFC 
             3011, Nortel Networks, November 2000. 

   [RFC3046] M. Patrick, "DHCP Relay Agent Information Option", RFC 3046, 
             Motorola BCS, January 2001. 

 

Author's Addresses 

   Zi Kang 
   Huawei Technologies Co., Ltd. 
   Floor 10, HuiHong Mansion, No.91 BaiXia Rd. 
   NanJing, P.R. of China 
    
   Phone: ( 86)25-84565325 
   Email: zikang@huawei.com 
    

Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 

 
 
Zi                     Expires April 17, 2006                 [Page 5] 

Internet-DraftDHCP Relay agent Request from Multi Address Pool October 
2005 
    

   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org 

Disclaimer of Validity 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 

Copyright Statement 

   Copyright (C) The Internet Society (2005). 

   This document is subject to the rights, licenses and restrictions 
   contained in BCP 78, and except as set forth therein, the authors 
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 







 
 
Zi                     Expires April 17, 2006                 [Page 6] 

