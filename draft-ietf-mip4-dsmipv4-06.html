<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Dual Stack Mobile IPv4</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Dual Stack Mobile IPv4">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">G. Tsirtsis</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">V. Park</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Qualcomm</td></tr>
<tr><td class="header">Expires: August 16, 2008</td><td class="header">H. Soliman</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Elevate Technologies</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">February 13, 2008</td></tr>
</table></td></tr></table>
<h1><br />Dual Stack Mobile IPv4<br />draft-ietf-mip4-dsmipv4-06.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 16, 2008.</p>

<h3>Abstract</h3>

<p>This specification provides IPv6 extensions to the Mobile IPv4
                protocol. The extensions allow a dual stack node to use IPv4 and
                IPv6 home addresses as well as to move between IPv4 and dual
                stack network infrastructures. 
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Requirements notation<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">2.1.</a>&nbsp;
Goals<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">2.2.</a>&nbsp;
Non-Goals<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#imp-exp">2.3.</a>&nbsp;
Implicit and Explicit Modes<br />
<a href="#anchor5">3.</a>&nbsp;
Extension Formats<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.</a>&nbsp;
IPv6 Prefix Request Extension<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.2.</a>&nbsp;
IPv6 Prefix Reply Extension<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.3.</a>&nbsp;
IPv6 Tunneling Mode Extension<br />
<a href="#anchor9">4.</a>&nbsp;
Mobile IP Registrations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">4.1.</a>&nbsp;
Registration Request<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">4.2.</a>&nbsp;
Registration Reply<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ha">4.3.</a>&nbsp;
Home Agent Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">4.3.1.</a>&nbsp;
IPv6 Packet Processing<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#tun">4.3.2.</a>&nbsp;
Processing intercepted IPv6 Packets<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">4.3.3.</a>&nbsp;
IPv6 Multicast Membership Control<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">4.4.</a>&nbsp;
Foreign Agent Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#MN">4.5.</a>&nbsp;
Mobile Node Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">4.6.</a>&nbsp;
Dynamic IPv6 Prefix allocation<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">4.6.1.</a>&nbsp;
Mobile IP Style Address Allocation<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">4.7.</a>&nbsp;
Deregistration of IPv6 Prefix<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">4.8.</a>&nbsp;
Registration with a private CoA<br />
<a href="#anchor19">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor20">6.</a>&nbsp;
IANA Considerations<br />
<a href="#tbr">7.</a>&nbsp;
Change history<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">7.1.</a>&nbsp;
Changes from v04 to v05<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">7.2.</a>&nbsp;
Changes from v03 to v04<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">7.3.</a>&nbsp;
Changes from v02 to v03<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">7.4.</a>&nbsp;
Changes from v01 to v02<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">7.5.</a>&nbsp;
Changes from v00 to v01<br />
<a href="#anchor26">8.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">9.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">9.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">9.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements notation</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
                NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
                "OPTIONAL" in this document are to be interpreted as described
                in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p>Mobile IPv4 <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> allows a mobile node with an
                IPv4 address to maintain communications while moving in an IPv4
                network. 
</p>
<p>Extensions defined in this document allow a node that has IPv4
                and IPv6 addresses <a class='info' href='#RFC2460'>[RFC2460]<span> (</span><span class='info'>Deering, S. and R. Hinden, &ldquo;Internet Protocol, Version 6 (IPv6) Specification,&rdquo; December&nbsp;1998.</span><span>)</span></a> to maintain
                communications through any of its addresses while moving in IPv4
                or dual stack networks.
</p>
<p>Essentially, this specification separates the Mobile IPv4
                signaling from the IP version of the traffic it tunnels. Mobile
                IPv4 with the present extensions remains a signaling protocol
                that runs over IPv4, and yet can set-up both IPv4 and IPv6
                tunnels over IPv4.
</p>
<p> The aim is two-fold:
</p>
<p>
                </p>
<blockquote class="text">
<p>On one hand, Mobile IPv4 with the present extensions
                        becomes a useful transition mechanism, allowing
                        automated but controlled tunneling of IPv6 traffic over
                        IPv4 tunnels. Dual stack nodes in dual stack home
                        networks can now roam to and from legacy IPv4 networks,
                        while IPv4 mobile nodes and networks can migrate to IPv6
                        without changing mobility management, and without
                        upgrading all network nodes to IPv6 at once.
</p>
<p> On the other hand, and more importantly, it allows dual
                        stack mobile nodes and networks to utilize a single
                        protocol for the movement of both IPv4 and IPv6 stacks
                        in the network topology.
</p>
</blockquote><p>
            
</p>
<p> Note that features like Mobile IPv6 <a class='info' href='#RFC3775'>[RFC3775]<span> (</span><span class='info'>Johnson, D., Perkins, C., and J. Arkko, &ldquo;Mobility Support in IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a>
                style route optimization will not be possible with this solution
                as it still relies on Mobile IPv4 signaling, which does not
                provide route optimization. 
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Goals</h3>

<p>
                    </p>
<blockquote class="text"><dl>
<dt>a.</dt>
<dd>The solution supports the registration of IPv6 home
                            address(es) and/or prefix(s) in addition to regular
                            IPv4 home address registration
</dd>
<dt>b.</dt>
<dd>The solution supports static and dynamic IPv6 home
                            address(s)/prefix(s) allocations
</dd>
<dt>c.</dt>
<dd>The solution supports the above registrations with
                            and without FA support
</dd>
</dl></blockquote><p>
                
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Non-Goals</h3>

<p>
                    </p>
<blockquote class="text"><dl>
<dt>a.</dt>
<dd>The solution does not provide support for IPv6
                            care-of address registration
</dd>
</dl></blockquote><p>
                
</p>
<a name="imp-exp"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.3"></a><h3>2.3.&nbsp;
Implicit and Explicit Modes</h3>

<p>As defined in NEMO <a class='info' href='#RFC3963'>[RFC3963]<span> (</span><span class='info'>Devarapalli, V., Wakikawa, R., Petrescu, A., and P. Thubert, &ldquo;Network Mobility (NEMO) Basic Support Protocol,&rdquo; January&nbsp;2005.</span><span>)</span></a>, this
                    specification also supports two modes of operation; the
                    implicit mode and the explicit mode.
</p>
<p>In the implicit mode, the mobile node does not include any
                    IPv6 Prefix Request extensions in the Registration Request.
                    The home agent can use any mechanism (not defined in this
                    document) to determine the IPv6 Prefix(es) owned by the
                    mobile node and to set up forwarding for these prefixes. In
                    this mode of operation all traffic to and from the IPv6
                    prefixes MUST be encapsulated over the IPv4 tunnel between
                    the mobile node's IPv4 home address and the IPv4 address of
                    the home agent, and as such it is transparent to any foreign
                    agent in the path. This IPv4 tunnel is established by
                    mechanisms that are out of the scope of this document on
                    both the mobile node and home agent when operating in the
                    implicit mode.
</p>
<p>In the explicit mode, IPv6 address bindings are signalled
                    explicitly. The mobile node includes one or more IPv6 Prefix
                    Request extensions in the Registration Request, while the
                    home agent returns corresponding IPv6 Prefix Reply
                    extensions to accept/reject the IPv6 bindings. 
</p>
<p>Additionally, in the explicit mode, the mobile node (when
                    co-located mode of operation is used) or the foreign agent
                    (when present) can indicate whether IPv6 traffic should be
                    tunneled to the care-of address of the home address of the
                    mobile node.
</p>
<p>The rest of this specification is primarily defining the
                    explicit mode.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Extension Formats</h3>

<p>The following extensions are defined according to this
                specification. 
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
IPv6 Prefix Request Extension</h3>

<p>A new skippable extension to the Mobile IPv4 registration
                    request message in accordance to the short extension format
                    of <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> is defined here.
</p><br /><hr class="insert" />
<a name="IPv6Prefix"></a>

<p>This extension contains a mobile IPv6 network
                        prefix and its prefix length.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |      Type     |   Length      |   Sub-Type    | Prefix Length |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                                                               +
   |                                                               |
   +                   Mobile IPv6 Network Prefix                  +
   |                                                               |
   +                                                               +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1:  IPv6 Prefix Request Extension&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Type
</p>
<p>
                    </p>
<blockquote class="text">
<p>TBD (DSMIPv4 Extension)(skippable type to be assigned
                            by IANA)
</p>
</blockquote><p>
                
</p>
<p>Length
</p>
<p>
                    </p>
<blockquote class="text">
<p>18
</p>
</blockquote><p>
                
</p>
<p>Sub-Type
</p>
<p>
                    </p>
<blockquote class="text">
<p>1 ( IPv6 Prefix Request)
</p>
</blockquote><p>
                
</p>
<p>Prefix Length
</p>
<p>
                    </p>
<blockquote class="text">
<p>Indicates the prefix length of the prefix included in
                            the Mobile IPv6 Network Prefix field
</p>
</blockquote><p>
                
</p>
<p>Mobile IPv6 Network Prefix
</p>
<p>
                    </p>
<blockquote class="text">
<p>A sixteen-byte field containing the Mobile IPv6
                            Network Prefix
</p>
</blockquote><p>
                
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
IPv6 Prefix Reply Extension</h3>

<p>A new skippable extension to the Mobile IPv4 registration
                    reply message in accordance to the short extension format of
                        <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> is defined here.
</p><br /><hr class="insert" />
<a name="Code"></a>

<p>This extension defines a mobile IPv6 network
                        prefix and its prefix length, as well as a code. 
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |   Length      |   Sub-Type    |     Code      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Prefix Length |    Reserved   |                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
   |                                                               |
   +                                                               +
   |                                                               |
   +                   Mobile IPv6 Network Prefix                  +
   |                                                               |
   +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: IPv6 Prefix Reply Extension&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Type
</p>
<p>
                    </p>
<blockquote class="text">
<p>TBD (DSMIPv4 Extension)(skippable type to be assigned
                            by IANA)
</p>
</blockquote><p>
                
</p>
<p>Length
</p>
<p>
                    </p>
<blockquote class="text">
<p>20
</p>
</blockquote><p>
                
</p>
<p>Sub-Type
</p>
<p>
                    </p>
<blockquote class="text">
<p>2 (IPv6 Prefix Reply)
</p>
</blockquote><p>
                
</p>
<p>Code
</p>
<p>
                    </p>
<blockquote class="text">
<p>A value indicating the result of the registration
                            request with respect to the IPv6 home address
                            registration. See below for currently defined
                        Codes.
</p>
</blockquote><p>
                
</p>
<p>Prefix Length
</p>
<p>
                    </p>
<blockquote class="text">
<p>Indicates the prefix length of the prefix included in
                            the Mobile IPv6 Network Prefix field
</p>
</blockquote><p>
                
</p>
<p>Reserved
</p>
<p>
                    </p>
<blockquote class="text">
<p> Set to 0 by the sender, ignored by the receiver
</p>
</blockquote><p>
                
</p>
<p>Mobile IPv6 Network Prefix
</p>
<p>
                    </p>
<blockquote class="text">
<p>A sixteen-byte field containing the Mobile IPv6
                            Network Prefix
</p>
</blockquote><p>
                
</p>
<p>The following values are defined for use as a Code value in
                    the above extension
</p>
<p>
                    </p>
<blockquote class="text">
<p>0 registration accepted, IPv6 to be tunneled to HoA
</p>
<p>1 registration accepted, IPv6 to be tunneled to CoA
</p>
<p>8 registration rejected, reason unspecified
</p>
<p>9 registration rejected, administratively prohibited
</p>
<p>10 registration rejected, not home subnet
</p>
<p>11 registration rejected, Duplicate Address Detection
                            failed
</p>
</blockquote><p>
                
</p>
<p> Note that a registration reply that does not include an IPv6
                    Prefix Reply extension indicates that the home agent does
                    not support IPv6 extensions and thus has ignored such
                    extensions in the registration request.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
IPv6 Tunneling Mode Extension</h3>

<p>A new skippable extension to the Mobile IPv4 registration
                    request message in accordance to the short extension format
                    of <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> is defined here.
</p><br /><hr class="insert" />
<a name="Mode"></a>

<p>By including this extension in a registration
                        request the sender indicates that IPv6 traffic can be
                        tunneled to the mobile's CoA.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |   Length      |    Sub-Type   |   Reserved    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: IPv6 Tunneling Mode Extension&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>Type
</p>
<p>
                    </p>
<blockquote class="text">
<p>TBD (DSMIPv4 Extension) (skippable type to be
                            assigned by IANA)
</p>
</blockquote><p>
                
</p>
<p>Length
</p>
<p>
                    </p>
<blockquote class="text">
<p>2
</p>
</blockquote><p>
                
</p>
<p>Sub-Type
</p>
<p>
                    </p>
<blockquote class="text">
<p>3 (IPv6 Tunneling Mode)
</p>
</blockquote><p>
                
</p>
<p>Reserved
</p>
<p>
                    </p>
<blockquote class="text">
<p> Set to 0 by the sender, ignored by the receiver
</p>
</blockquote><p>
                
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Mobile IP Registrations</h3>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Registration Request</h3>

<p>A mobile node MAY include one or more IPv6 Prefix Request
                    extensions defined in this specification in a registration
                    request.
</p>
<p> A mobile node MAY include exactly one IPv6 tunneling mode
                    extension when it uses the co-located care-of address mode
                    of <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>.
</p>
<p> When IPv6 prefix and/or IPv6 tunneling mode extensions are
                    used by the mobile IP client, they MUST be placed after the
                    registration request header and before the mobile – home
                    authentication extension so they MUST be included in the
                    computation of any authentication extension.
</p>
<p> A foreign agent MAY include exactly one IPv6 tunneling mode
                    extension, defined in this specification, in a registration
                    request when a mobile node registers using the care-of
                    address mode via the foreign agent.
</p>
<p> When the IPv6 tunneling mode extension is used by a foreign
                    agent it MUST be placed after the mobile – home
                    authentication extensions and before the foreign – home
                    authentication extension so they MUST be included in the
                    computation of the foreign – home authentication extension
                    when one exists.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Registration Reply</h3>

<p> The mechanism described in the specification depends on
                    skippable extensions. For that reason, a registration reply
                    that does not include an IPv6 Prefix Reply extension, in
                    response to a registration request that included an IPv6
                    Prefix Request extension, indicates that the home agent does
                    not support IPv6 extensions and has ignored the request.
</p>
<p> If an IPv6 Prefix Reply extension is included in a
                    registration reply, then the extension indicates the success
                    or failure of the IPv6 prefix registration. The IPv6 Prefix
                    Reply extension does not affect in any way the code value in
                    the registration reply header but it is superseded by it. In
                    other words if the code field in the registration reply
                    header is set to a reject code, then all IPv6 Prefix Request
                    extensions are also rejected. If the code field in the
                    registration reply header, however, is set to an accept
                    code, then an IPv6 Prefix Reply extension with a code field
                    set to a reject code only rejects the binding for the
                    specific IPv6 prefix indicated in the same extension.
</p>
<p> Note that a rejecting IPv6 Prefix Reply extension has the
                    same effect as not including such an extension at all in the
                    sense that in both cases the mobile node and foreign agent
                    must act as if the corresponding IPv6 Prefix Request
                    extension included in the registration request was rejected.
                    Of course, the inclusion of the IPv6 Prefix Reply extension
                    allows the home agent to indicate why a given IPv6 Prefix
                    Request extension was rejected. Consequently, home agent
                    implementations of this specification SHOULD include, in the
                    registration reply messages, an IPv6 Prefix Reply extension
                    for each IPv6 Prefix Request extension included in the
                    corresponding registration request message. A detailed
                    description of how the mobile node handles different IPv6
                    Prefix Reply extension code values and the absence of IPv6
                    Prefix Reply extensions is given in <a class='info' href='#MN'>Section&nbsp;4.5<span> (</span><span class='info'>Mobile Node Considerations</span><span>)</span></a>.
</p>
<a name="ha"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
Home Agent Considerations</h3>

<p>The dual stack home agent defined in this specification is a
                    Mobile IPv4 <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> Home Agent, in that it
                    MUST operate as defined in MIPv4 <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>.
                    In addition to that the following mechanism are defined in
                    this specification.
                    
                
</p>
<p> For each IPv6 Prefix Request extension included in a valid
                    registration request, a home agent that supports this
                    specification SHOULD include a corresponding IPv6 Prefix
                    Reply extension in the registration reply message. The home
                    agent MUST NOT included more than one IPv6 Prefix Reply
                    extension for the same prefix. For each accepted IPv6 prefix
                    the home agent MUST decide the tunneling mode it is going to
                    use and set the Code field of the IPv6 Prefix Reply
                    extension to the appropriate value. The IPv6 prefix field of
                    each of the IPv6 Prefix Reply extensions included in the
                    registration reply MUST match the IPv6 prefix field of an
                    IPv6 Prefix Request extensions included in the corresponding
                    registration request message.
</p>
<p>If the IPv6 home address included in an IPv6 Prefix Request
                    extension is not an on-link IPv6 address with respect to the
                    home agent's current Prefix List or a prefix it is
                    configured to serve, the home agent MUST reject the IPv6
                    Prefix Request extension and SHOULD return an IPv6 Prefix
                    Reply extension with rejection code "registration rejected,
                    not home subnet" in the registration reply to the mobile
                    node.
</p>
<p> When the IPv6 Prefix Request extension contains a /128 IPv6
                    address and unless this home agent already has a binding for
                    the given IPv6 address indicated, the home agent MUST
                    perform Duplicate Address Detection <a class='info' href='#RFC4862'>[RFC4862]<span> (</span><span class='info'>Thomson, S., Narten, T., and T. Jinmei, &ldquo;IPv6 Stateless Address Autoconfiguration,&rdquo; September&nbsp;2007.</span><span>)</span></a>
                    on the mobile node's home IPv6 link before returning a
                    registration reply. This ensures that no other node on the
                    home link is using the IPv6 home address. Duplicate address
                    detection is not required when the IPv6 Prefix Request
                    extension contains a prefix. If this Duplicate Address
                    Detection fails for the given IPv6 home address or an
                    associated link local address, then the home agent MUST
                    reject the IPv6 Prefix Request extension and SHOULD return a
                    registration reply to the mobile node, in which the code
                    field of the corresponding IPv6 Prefix Reply extension is
                    set to "registration rejected, Duplicate Address Detection
                    failed". 
</p>
<p>When the home agent sends a successful registration reply to
                    the mobile node, with the Code field of a corresponding IPv6
                    Prefix Reply extension set to one of the "registration
                    accepted" values, the home agent assures the mobile node
                    that its IPv6 address(es) will be kept unique by the home
                    agent for as long as the lifetime is granted for the
                    binding. It also indicates the tunneling mode used i.e.,
                    tunneling to home address or care-of address, based on the
                    value of the code field used in the IPv6 Prefix Reply
                    extension. 
</p>
<p>Note that for IPv6 prefixes (rather than addresses), the home
                    agent does not have to perform Duplicate Address Detection
                    but it MUST check that allocated prefixes are not
                    overlapping so that all addresses under each allocated
                    prefix are allocated only to a single mobile node at any one
                    time.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.1"></a><h3>4.3.1.&nbsp;
IPv6 Packet Processing</h3>

<p>Dual stack home agents MUST use Proxy Neighbor Discovery
                            <a class='info' href='#RFC4861'>[RFC4861]<span> (</span><span class='info'>Narten, T., Nordmark, E., Simpson, W., and H. Soliman, &ldquo;Neighbor Discovery for IP version 6 (IPv6),&rdquo; September&nbsp;2007.</span><span>)</span></a> on behalf of the nodes they
                        serve. This allows the home agent to receive IPv6
                        packets addressed to the mobile node's registered IPv6
                        address(es).
</p>
<p>In this respect, the dual stack home agent MUST act as
                        defined in MIPv6 <a class='info' href='#RFC3775'>[RFC3775]<span> (</span><span class='info'>Johnson, D., Perkins, C., and J. Arkko, &ldquo;Mobility Support in IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a>, Section
                        10.4.1. in order to intercept IPv6 packets for the
                        mobile nodes it serves.
</p>
<p>
                        The
                        home agent MUST advertise reachability for the
                        registered prefixes as defined in NEMO <a class='info' href='#RFC3963'>[RFC3963]<span> (</span><span class='info'>Devarapalli, V., Wakikawa, R., Petrescu, A., and P. Thubert, &ldquo;Network Mobility (NEMO) Basic Support Protocol,&rdquo; January&nbsp;2005.</span><span>)</span></a>, section 6.3.
</p>
<a name="tun"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.2"></a><h3>4.3.2.&nbsp;
Processing intercepted IPv6 Packets</h3>

<p>A dual stack home agent that supports the IPv6 extensions
                        defined in this specification, MUST keep track of the
                        following IPv6 related state for the mobile nodes it
                        supports, in addition to the state defined in <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>.
</p>
<p>- Registered IPv6 prefix(es) and prefix length(s)
</p>
<p>- Tunneling mode for IPv6 traffic:
</p>
<p>
                        </p>
<blockquote class="text">
<p>- Tunnel to IPv4 HoA and accept IPv6 tunneled
                                from IPv4 HoA
</p>
<p>- Tunnel to CoA and accept IPv6 tunneled from
                            CoA
</p>
</blockquote><p>
                    
</p>
<p> When IPv6 traffic is encapsulated over the tunnel
                        between the HA and the mobile node's care-off address,
                        the tunneling mechanism used should be the same as the
                        mechanism negotiated by the Mobile IP header as defined
                        in MIPv4 <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>. In that case, when
                        IPinIP encapsulation is negotiated, IPv6 is tunneled
                        over IPv4 according to<a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a>. GRE and
                        Minimal Encapsulation techniques also allow tunneling of
                        IPv6 packets by setting the Protocol Type <a class='info' href='#RFC2784'>[RFC2784]<span> (</span><span class='info'>Farinacci, D., Li, T., Hanks, S., Meyer, D., and P. Traina, &ldquo;Generic Routing Encapsulation (GRE),&rdquo; March&nbsp;2000.</span><span>)</span></a> and Protocol <a class='info' href='#RFC2004'>[RFC2004]<span> (</span><span class='info'>Perkins, C., &ldquo;Minimal Encapsulation within IP,&rdquo; October&nbsp;1996.</span><span>)</span></a> fields to appropriate payload
                        type defined for IPv6 by IANA. When, however, IPv6
                        traffic is encapsulated over the tunnel between the HA
                        and the mobile node's home address, IPv6 is always
                        tunneled over IPv4 according to <a class='info' href='#RFC4213'>[RFC4213]<span> (</span><span class='info'>Nordmark, E. and R. Gilligan, &ldquo;Basic Transition Mechanisms for IPv6 Hosts and Routers,&rdquo; October&nbsp;2005.</span><span>)</span></a>, no matter what tunneling mechanism is negotiated in
                        MIPv4 signaling. 
</p>
<p> A home agent that supports this specification MUST be
                        able to defend IPv4 and IPv6 addresses registered by
                        mobile nodes according to mechanisms described in MIPv4
                            <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> and MIPv6 <a class='info' href='#RFC3775'>[RFC3775]<span> (</span><span class='info'>Johnson, D., Perkins, C., and J. Arkko, &ldquo;Mobility Support in IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a> specifications. 
</p>
<p> Tunneling mode selection for IPv6 traffic depends on the
                        following parameters in a successful registration
                        request:
</p>
<p>1) A registration request is received with one or more
                        IPv6 Prefix Request extensions. An IPv6 tunneling mode
                        extension is not included.
</p>
<p>
                        </p>
<blockquote class="text">
<p>All IPv6 packets destined to the registered IPv6
                                prefix(es) MUST be tunneled by the home agent to
                                the registered IPv4 home address of the mobile.
                                The home agent first encapsulates the IPv6
                                packetm addressing it to the mobile node's IPv4
                                home address, and then tunnels this encapsulated
                                packet to the foreign agent. This extra level of
                                encapsulation is required so that IPv6 routing
                                remains transparent to a foreign agent that does
                                not support IPv6. When received by the foreign
                                agent, the unicast encapsulated packet is
                                detunneled and delivered to the mobile node in
                                the same way as any other packet. The mobile
                                node must decapsulate the received IPv4 packet
                                in order to recover the original IPv6 packet.
</p>
<p> Additionally, the home agent MUST be prepared to
                                accept reverse tunneled packets from the IPv4
                                home address of the mobile encapsulating IPv6
                                packets sent by that mobile. 
</p>
</blockquote><p>
                    
</p>
<p>2) A registration request is received with one or more
                        IPv6 Prefix Request extensions. An IPv6 tunneling mode
                        extension is included.
</p>
<p>
                        </p>
<blockquote class="text">
<p>All IPv6 packets destined to the registered IPv6
                                home address(s) SHOULD be tunneled by the home
                                agent to the registered care-of address of the
                                mobile node. Additionally, the home agent SHOULD
                                be prepared to accept reverse tunneled packets
                                from the care-of address of the mobile
                                encapsulating IPv6 packets sent by that mobile.
                                The home agent MAY ignore the presence of the
                                IPv6 tunneling mode extension and act as in case
                                (1) above. 
</p>
</blockquote><p>
                    
</p>
<p>Packets addressed to the mobile node's IPv6 link-local
                        address MUST NOT be tunneled to the mobile node.
                        Instead, these packets MUST be discarded and the home
                        agent SHOULD return an ICMPv6 Destination Unreachable,
                        Code 3, message to the packet's Source Address (unless
                        this Source Address is a multicast address).
</p>
<p> The home agent SHOULD check that all inner IPv6 packets
                        received from the mobile node over a tunnel with outer
                        source address the home address or the care-of address,
                        include a source address that falls under the registered
                        IPv6 prefix(es) for that mobile node. If the source
                        address of the outer header of a tunneled packet is not
                        the registered IPv4 care-of address or the registered
                        IPv4 home addresses, the packet SHOULD be dropped. If
                        the source address of the inner header of an tunneled
                        packet does not match any of the registered home
                        addresses and/or prefixes the packet SHOULD be dropped.
</p>
<p> Interception and tunneling IPv6 multicast addressed
                        packets on the home network is only done if the home
                        agent supports multicast group membership control
                        messages from the mobile node as described in the next
                        section. Multicast IPv6 packets addressed to a multicast
                        address with link-local scope <a class='info' href='#RFC4291'>[RFC4291]<span> (</span><span class='info'>Hinden, R. and S. Deering, &ldquo;IP Version 6 Addressing Architecture,&rdquo; February&nbsp;2006.</span><span>)</span></a>,
                        to which the mobile node is subscribed, MUST NOT be
                        tunneled to the mobile node. These packets SHOULD be
                        silently discarded (after delivering to other local
                        multicast recipients). Multicast packets addressed to a
                        multicast address with a scope larger than link-local,
                        but smaller than global (e.g., site- local and
                        organization-local <a class='info' href='#RFC4291'>[RFC4291]<span> (</span><span class='info'>Hinden, R. and S. Deering, &ldquo;IP Version 6 Addressing Architecture,&rdquo; February&nbsp;2006.</span><span>)</span></a>, to which
                        the mobile node is subscribed, SHOULD NOT be tunneled to
                        the mobile node. Multicast packets addressed with a
                        global scope, to which the mobile node has successfully
                        subscribed, MUST be tunneled to the mobile node.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3.3"></a><h3>4.3.3.&nbsp;
IPv6 Multicast Membership Control</h3>

<p>IPv6 multicast membership control is provided as defined
                        in MIPv6 <a class='info' href='#RFC3775'>[RFC3775]<span> (</span><span class='info'>Johnson, D., Perkins, C., and J. Arkko, &ldquo;Mobility Support in IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a>, Section 10.4.3. The
                        only clarification required for the purpose of this
                        specification is that all MLD <a class='info' href='#RFC2710'>[RFC2710]<span> (</span><span class='info'>Deering, S., Fenner, W., and B. Haberman, &ldquo;Multicast Listener Discovery (MLD) for IPv6,&rdquo; October&nbsp;1999.</span><span>)</span></a>
                        or MLDv2 <a class='info' href='#RFC3810'>[RFC3810]<span> (</span><span class='info'>Vida, R. and L. Costa, &ldquo;Multicast Listener Discovery Version 2 (MLDv2) for IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a> messages between the
                        mobile node and the home agent MUST be tunneled between
                        the mobile node and the home agent, bypassing the
                        foreign agent.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.4"></a><h3>4.4.&nbsp;
Foreign Agent Considerations</h3>

<p>A dual stack foreign agent that supports the IPv6 extensions
                    defined in this specification MUST keep track of the
                    following IPv6 related state for the mobile IP clients it
                    supports in addition to the state defined in <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>.
</p>
<p>- IPv6 Prefix(es) and Prefix Length(s)
</p>
<p>- Tunneling mode for IPv6 traffic:
</p>
<p>
                    </p>
<blockquote class="text">
<p>- accept IPv6 encapsulated in IPv4 and reverse tunnel
                            IPv6
</p>
<p>- IPv6 is tunneled directly to the IPv4 HoA so the
                            foreign agent will not provide
                            encapsulation/decapsulation services for IPv6
                            traffic for this mobile.
</p>
</blockquote><p>
                
</p>
<p>When a foreign agent receives a registration request with
                    IPv6 Prefix Request extension(s) it has the following
                    choices:
</p>
<p>1) Ignore the extension(s). The registration request is
                    forwarded as is to the home agent. 
</p>
<p>
                    </p>
<blockquote class="text">
<p>The foreign agent SHOULD operate according to MIPv4
                                <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>
                        
</p>
</blockquote><p>
                
</p>
<p>2) Attach an IPv6 tunneling mode extension to the
                    registration request sent to the home agent.
</p>
<p>
                    </p>
<blockquote class="text">
<p>The foreign agent MUST be prepared to decapsulate and
                            deliver IPv6 packets, in addition to the IPv4
                            packets, sent to it in the home agent to foreign
                            agent tunnel for that mobile node. The foreign agent
                            MUST be prepared to receive IPv6 packets from the
                            mobile node, in addition to IPv4 packets. All IPv6
                            traffic MUST be reverse tunneled to the home agent
                            by the foreign agent irrespectively from the reverse
                            tunneling setting negotiated for IPv4 packets by
                            mechanisms in <a class='info' href='#RFC3024'>[RFC3024]<span> (</span><span class='info'>Montenegro, G., &ldquo;Reverse Tunneling for Mobile IP, revised,&rdquo; January&nbsp;2001.</span><span>)</span></a>
                        
</p>
</blockquote><p>
                
</p>
<p>If the foreign agent sets the R flag included in the mobility
                    agent advertisement <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> and a mobile
                    node uses the co-located address mode of operation, the
                    foreign agent MUST NOT include an IPv6 tunneling mode
                    extension in the registration request messages sent from
                    that mobile node.
</p>
<a name="MN"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.5"></a><h3>4.5.&nbsp;
Mobile Node Considerations</h3>

<p>A dual stack mobile node that supports the extensions
                    described in this document MAY use these extensions to
                    register its IPv6 home address(es) and/or prefix(es) while
                    moving between access routers.
</p>
<p>The mobile node MAY include one or more IPv6 Prefix Request
                    extension(s) in the registration request. 
</p>
<p> In this case the mobile MUST take the following action
                    depending on the extensions included in the registration
                    reply it receives in response to the registration request:
</p>
<p>1) The registration reply does not include any IPv6 Prefix
                    Reply extensions.
</p>
<p>
                    </p>
<blockquote class="text">
<p> The mobile node SHOULD assume that the home agent
                            does not support the extensions defined in this
                            specification. The mobile node SHOULD continue to
                            operate according to MIPv4 <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>.
                        
</p>
</blockquote><p>
                
</p>
<p>2) The registration reply includes one or more IPv6 Prefix
                    Reply extensions.
</p>
<p>
                    </p>
<blockquote class="text">
<p>The mobile node MUST match each IPv6 Prefix Reply
                            extension with one of the IPv6 Prefix Request
                            extensions earlier included in the corresponding
                            registration request message.
</p>
<p> If a matching IPv6 Prefix Reply extension is not
                            included for one or more of corresponding IPv6
                            Prefix Request extensions included in the
                            registration request message, the mobile node SHOULD
                            assume that these IPv6 prefixes are rejected.
</p>
<p> For each matching IPv6 Prefix Reply extensions the
                            mobile node MUST inspect the Code field. If the
                            field is set to a rejection code then the
                            corresponding IPv6 prefix registration has been
                            rejected. If the Code field is set to an acceptance
                            code then the corresponding IPv6 prefix registration
                            has been accepted.
</p>
<p> If the Code field is set to “0” then the mobile node
                            MUST be prepared to send/receive IPv6 packets
                            encapsulated in the bidirectional tunnel between the
                            home agent address and the registered IPv4 home
                            address of the mobile node.
</p>
<p>If the Code field is set to “1” then the mobile node
                            MUST act as follows:
</p>
<p>- If the care-of address mode of operation is used,
                            the mobile node MUST be prepared to send/receive
                            IPv6 traffic on its interface natively (i.e.,
                            without any Mobile IP related tunnel headers). If
                            reverse tunneling is negotiated, then IPv6 traffic
                            sent by the mobile node may be reverse tunneled via
                            the foreign agent using either the direct delivery
                            style or the encapsulating delivery style as defined
                            in <a class='info' href='#RFC3024'>[RFC3024]<span> (</span><span class='info'>Montenegro, G., &ldquo;Reverse Tunneling for Mobile IP, revised,&rdquo; January&nbsp;2001.</span><span>)</span></a> for IPv4 traffic.
</p>
<p>- If the co-located care-of address mode is used, the
                            mobile node MUST be prepared to send/receive IPv6
                            packets over the bidirectional tunnel between the
                            home agent address and its co-located care-of
                            address.
</p>
</blockquote><p>
                
</p>
<p>The mobile node SHOULD include exactly one IPv6 tunneling
                    mode extension if it uses the co-located care-of address
                    model and it wants to request that IPv6 packets are tunneled
                    to its co-located care-of address. If the mobile node uses
                    the co-located care-of address model but it does not include
                    the IPv6 tunneling mode extension the home agent will tunnel
                    IPv6 traffic to the mobile node’s home address. The mobile
                    node MUST NOT include an IPv6 tunneling mode extension if it
                    uses the foreign agent care-of address mode of operation.
                    Note that if the mobile includes an IPv6 tunneling mode
                    extension in this case, IPv6 packets could be tunneled to
                    the FA by the HA. The FA is then likely to drop them since
                    it may not have appropriate state to process them.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6"></a><h3>4.6.&nbsp;
Dynamic IPv6 Prefix allocation</h3>

<p>The dynamic IPv6 prefix allocation described in the following
                    section reuses the Mobile IPv4 mechanisms defined for IPv4
                    address allocation. An implementation can use a different
                    mechanism to dynamically allocate IPv6 addresses in which
                    case once such IPv6 addresses are allocated, they can be
                    registered using the extensions and mechanism already
                    described.
</p>
<p>How a home agent decides to provide, or accept, an IPv6 home
                    address or prefix for a given mobile node, is out of scope
                    of this specification. Local configuration or external
                    authorization via an authorization system e.g., Diameter
                        <a class='info' href='#RFC3588'>[RFC3588]<span> (</span><span class='info'>Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and J. Arkko, &ldquo;Diameter Base Protocol,&rdquo; September&nbsp;2003.</span><span>)</span></a>, or other mechanisms may be
                    used to make such determination
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.6.1"></a><h3>4.6.1.&nbsp;
Mobile IP Style Address Allocation</h3>

<p>A mobile node may include one or more IPv6 Prefix Request
                        extensions with the IPv6 prefix field set to zero. The
                        mobile node MAY set the prefix length field of such
                        extensions to zero or to a length of its choice as a
                        hint to the home agent. Such IPv6 Prefix Request
                        extensions indicate that the mobile node requests IPv6
                        address(es) and prefix(es) to be assigned to it by the
                        home agent. 
</p>
<p>A home agent receiving an IPv6 Prefix Request extension
                        with the IPv6 prefix field set to zero MAY return an
                        IPv6 Prefix Reply extension with the IPv6 prefix field
                        set to the IPv6 prefix allocated to the mobile node. The
                        length of that prefix is at the discretion of the home
                        agent. The home agent may take into account the prefix
                        length hint if one is included in the IPv6 Prefix
                        Request extension.
</p>
<p>A mobile node MAY include one or more IPv6 Prefix Request
                        extensions with the IPv6 Prefix field set to
                        ::interface_identifier, where interface_identifier is
                        the unique layer 2 address of the client. The
                        interface_identifier MUST be less than or equal to 64
                        bits in length. In this case the prefix length field
                        MUST be set to 128.
</p>
<p>The home agent MAY in this case return an IPv6 Prefix
                        Reply extension with:
</p>
<p>
                        </p>
<blockquote class="text">
<p>- the IPv6 prefix field set to PREFIX:: and the
                                prefix length field set to the desired prefix
                                length value. In this case the PREFIX:: subnet
                                is allocated to the mobile node, which should
                                proceed in constructing IPv6 addresses as
                                defined in <a class='info' href='#RFC4862'>[RFC4862]<span> (</span><span class='info'>Thomson, S., Narten, T., and T. Jinmei, &ldquo;IPv6 Stateless Address Autoconfiguration,&rdquo; September&nbsp;2007.</span><span>)</span></a>
                            
</p>
<p>- the IPv6 prefix field set to
                                PREFIX::interface_identifier and the prefix
                                length field set to 128. In this case an
                                individual IPv6 address is allocated to the
                                mobile node.
</p>
</blockquote><p>
                    
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.7"></a><h3>4.7.&nbsp;
Deregistration of IPv6 Prefix</h3>

<p>The mobile IP registration lifetime included in the
                    registration request header is valid for all the bindings
                    created by the registration request, which may include
                    bindings for IPv6 address(es) and prefix(es).
</p>
<p>A registration request with a zero lifetime can be used to
                    remove all bindings from the home agent.
</p>
<p>A re-registration request with non-zero lifetime can be used
                    to deregister some of the registered IPv6 prefixes by not
                    including corresponding IPv6 Prefix Request extensions in
                    the registration request message.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.8"></a><h3>4.8.&nbsp;
Registration with a private CoA</h3>

<p>If the care-of address is a private address then Mobile IP
                    NAT Traversal as <a class='info' href='#RFC3519'>[RFC3519]<span> (</span><span class='info'>Levkowetz, H. and S. Vaarala, &ldquo;Mobile IP Traversal of Network Address Translation (NAT) Devices,&rdquo; April&nbsp;2003.</span><span>)</span></a> MAY be used in
                    combination with the extensions described in this
                    specification. In that case, to transport IPv6 packets, the
                    next header field of the Mobile Tunnel Data message header
                        <a class='info' href='#RFC3519'>[RFC3519]<span> (</span><span class='info'>Levkowetz, H. and S. Vaarala, &ldquo;Mobile IP Traversal of Network Address Translation (NAT) Devices,&rdquo; April&nbsp;2003.</span><span>)</span></a> MUST be set to the value for
                    IPv6. 
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>This specification operates in the security constraints and
                requirements of <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a>. It extends the
                operations defined in <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> for IPv4 home
                addresses to cover home IPv6 addresses prefixes and provides the
                same level of security for both IP address versions.
</p>
<p>As defined in the security considerations section of RFC3344,
                ingress filtering in the data path may prevent mobiles from
                using triangular routing for their IPv6 communications even if
                the foreign agent used supports the dual stack extensions
                defined in this specification. In such cases reverse tunneling
                can be used to allow for effective ingress filtering in
                intermediate routers without blocking IPv6 traffic to reach its
                destination.
</p>
<p>Home Agents MUST perform appropriate checks for reversed tunneled
                IPv6 packets similar to what is defined in <a class='info' href='#RFC3024'>[RFC3024]<span> (</span><span class='info'>Montenegro, G., &ldquo;Reverse Tunneling for Mobile IP, revised,&rdquo; January&nbsp;2001.</span><span>)</span></a> for IPv4 packets. The check defined in
                    <a class='info' href='#RFC3024'>[RFC3024]<span> (</span><span class='info'>Montenegro, G., &ldquo;Reverse Tunneling for Mobile IP, revised,&rdquo; January&nbsp;2001.</span><span>)</span></a> requires that the outer header's
                source address is set to a registered care-of address for the
                mobile node and as such the same check protects from attacks
                whether the encapsulated (inner) header is IPv4 or IPv6.
</p>
<p>In addition to that, the home agent SHOULD check that the source
                address of the inner header is a register IPv4 or IPv6 home
                address for this mobile node. If that is not the case, the home
                agent SHOULD silently discard the packet and log the event as a
                security exception.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<p> This specification requires the allocation of a new type number
                for DSMIPv4 extensions, from the space of numbers for skippable
                mobility extensions (i.e., 128-255) defined for Mobile IPv4
                    <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> at
                http://www.iana.org/assignments/mobileip-numbers. 
</p>
<p> This specification also creates a new subtype space for the type
                number of this extension. The subtype values 1, 2 and 3 are
                defined in this specification. 
</p>
<p>Finally, this specification creates a new space for the Code
                field of the IPv6 Prefix Reply extension. Values 0, 1, 8, 9, 10,
                11 are defined in this specification. Values 0-7 are reserved
                for accept codes and the rest of the values are reserved for
                reject values. 
</p>
<p>Similar to the procedures specified for Mobile IPv4 <a class='info' href='#RFC3344'>[RFC3344]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> number spaces, future allocations from
                this number space require expert review <a class='info' href='#RFC2434'>[RFC2434]<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; October&nbsp;1998.</span><span>)</span></a>.
</p>
<a name="tbr"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Change history</h3>

<p>NOTE TO RFC EDITOR: Remove <a class='info' href='#tbr'>Section&nbsp;7<span> (</span><span class='info'>Change history</span><span>)</span></a> before
                publication.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Changes from v04 to v05</h3>

<p>Corrected nits.
</p>
<p> Added IANA considerations section.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Changes from v03 to v04</h3>

<p>Clarified that DAD is only needed on IPv6 addresses and not
                    prefixes, in <a class='info' href='#ha'>Section&nbsp;4.3<span> (</span><span class='info'>Home Agent Considerations</span><span>)</span></a>.
</p>
<p>Clarified of tunneling process in <a class='info' href='#tun'>Section&nbsp;4.3.2<span> (</span><span class='info'>Processing intercepted IPv6 Packets</span><span>)</span></a>
                
</p>
<p>Numerous editorial and clarification changes.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
Changes from v02 to v03</h3>

<p>Clarified high level description of implicit mode in <a class='info' href='#imp-exp'>Section&nbsp;2.3<span> (</span><span class='info'>Implicit and Explicit Modes</span><span>)</span></a> (thanks to Kent for suggesting
                    appropriate text).
</p>
<p>Clarified how IPv6 is tunneled over various tunneling modes
                    allowed by MIPv4 in <a class='info' href='#tun'>Section&nbsp;4.3.2<span> (</span><span class='info'>Processing intercepted IPv6 Packets</span><span>)</span></a> (thanks to Alex for
                    spotting this).
</p>
<p>Numerous editorial and clarification changes.
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.4"></a><h3>7.4.&nbsp;
Changes from v01 to v02</h3>

<p>Expanded high level description of explicit mode in <a class='info' href='#imp-exp'>Section&nbsp;2.3<span> (</span><span class='info'>Implicit and Explicit Modes</span><span>)</span></a>. 
</p>
<p>Fixed alignment of figures.
</p>
<p>Fixed length fields in extensions to reflect short extension
                    format correctly (thanks to Jun Awano for catching this one)
</p>
<p>Removed section on Prefix Delegation and replaced it with
                    more generic text that allows any other address allocation
                    mechanism to be used to allocate IPv6 addresses and then
                    extensions and mechanism described in this specification can
                    be used to registered these addresses.
</p>
<p>Numerous editorial and clarification changes.
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.5"></a><h3>7.5.&nbsp;
Changes from v00 to v01</h3>

<p>The Home Agent Considerations section was re-written and
                    expanded with a lot more details by adapting text from MIPv6
                    and NEMO specifications.
</p>
<p>New error codes were added to section 3.2
</p>
<p>Allowed for any length prefix, not just 64 and 128.
</p>
<p>Numerous editorial and clarification changes.
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Acknowledgements</h3>

<p>Thanks to Pat Calhoun, Paal Engelstad, Tom Hiller and Pete McCann
                for earlier work on this subject. Thanks also to Alex Petrescu
                for suggesting the use of additional mechanisms for dynamic IPv6
                address allocation. Special thanks also to Sri Gundavelli and
                Kent Leung for their thorough review and suggestions.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2434">[RFC2434]</a></td>
<td class="author-text"><a href="mailto:narten@raleigh.ibm.com">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no">H. Alvestrand</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2434">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;2434, October&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2434.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2434.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2434.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2460">[RFC2460]</a></td>
<td class="author-text"><a href="mailto:deering@cisco.com">Deering, S.</a> and <a href="mailto:hinden@iprg.nokia.com">R. Hinden</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2460">Internet Protocol, Version 6 (IPv6) Specification</a>,&rdquo; RFC&nbsp;2460, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2460.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2460.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2460.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3024">[RFC3024]</a></td>
<td class="author-text">Montenegro, G., &ldquo;<a href="http://tools.ietf.org/html/rfc3024">Reverse Tunneling for Mobile IP, revised</a>,&rdquo; RFC&nbsp;3024, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3024.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3344">[RFC3344]</a></td>
<td class="author-text">Perkins, C., &ldquo;<a href="http://tools.ietf.org/html/rfc3344">IP Mobility Support for IPv4</a>,&rdquo; RFC&nbsp;3344, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3344.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3519">[RFC3519]</a></td>
<td class="author-text">Levkowetz, H. and S. Vaarala, &ldquo;<a href="http://tools.ietf.org/html/rfc3519">Mobile IP Traversal of Network Address Translation (NAT) Devices</a>,&rdquo; RFC&nbsp;3519, April&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3519.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3775">[RFC3775]</a></td>
<td class="author-text">Johnson, D., Perkins, C., and J. Arkko, &ldquo;<a href="http://tools.ietf.org/html/rfc3775">Mobility Support in IPv6</a>,&rdquo; RFC&nbsp;3775, June&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3775.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3963">[RFC3963]</a></td>
<td class="author-text">Devarapalli, V., Wakikawa, R., Petrescu, A., and P. Thubert, &ldquo;<a href="http://tools.ietf.org/html/rfc3963">Network Mobility (NEMO) Basic Support Protocol</a>,&rdquo; RFC&nbsp;3963, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3963.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4213">[RFC4213]</a></td>
<td class="author-text">Nordmark, E. and R. Gilligan, &ldquo;<a href="http://tools.ietf.org/html/rfc4213">Basic Transition Mechanisms for IPv6 Hosts and Routers</a>,&rdquo; RFC&nbsp;4213, October&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4213.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4291">[RFC4291]</a></td>
<td class="author-text">Hinden, R. and S. Deering, &ldquo;<a href="http://tools.ietf.org/html/rfc4291">IP Version 6 Addressing Architecture</a>,&rdquo; RFC&nbsp;4291, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4291.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4861">[RFC4861]</a></td>
<td class="author-text">Narten, T., Nordmark, E., Simpson, W., and H. Soliman, &ldquo;<a href="http://tools.ietf.org/html/rfc4861">Neighbor Discovery for IP version 6 (IPv6)</a>,&rdquo; RFC&nbsp;4861, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4861.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4862">[RFC4862]</a></td>
<td class="author-text">Thomson, S., Narten, T., and T. Jinmei, &ldquo;<a href="http://tools.ietf.org/html/rfc4862">IPv6 Stateless Address Autoconfiguration</a>,&rdquo; RFC&nbsp;4862, September&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4862.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>9.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2004">[RFC2004]</a></td>
<td class="author-text"><a href="mailto:perk@watson.ibm.com">Perkins, C.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2004">Minimal Encapsulation within IP</a>,&rdquo; RFC&nbsp;2004, October&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc2004.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2004.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2004.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2710">[RFC2710]</a></td>
<td class="author-text"><a href="mailto:deering@cisco.com">Deering, S.</a>, <a href="mailto:fenner@research.att.com">Fenner, W.</a>, and <a href="mailto:haberman@raleigh.ibm.com">B. Haberman</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2710">Multicast Listener Discovery (MLD) for IPv6</a>,&rdquo; RFC&nbsp;2710, October&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2710.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2784">[RFC2784]</a></td>
<td class="author-text"><a href="mailto:dino@procket.com">Farinacci, D.</a>, <a href="mailto:tony1@home.net">Li, T.</a>, <a href="mailto:stan_hanks@enron.net">Hanks, S.</a>, <a href="mailto:dmm@cisco.com">Meyer, D.</a>, and <a href="mailto:pst@juniper.net">P. Traina</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2784">Generic Routing Encapsulation (GRE)</a>,&rdquo; RFC&nbsp;2784, March&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2784.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3588">[RFC3588]</a></td>
<td class="author-text">Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and J. Arkko, &ldquo;<a href="http://tools.ietf.org/html/rfc3588">Diameter Base Protocol</a>,&rdquo; RFC&nbsp;3588, September&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3588.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3810">[RFC3810]</a></td>
<td class="author-text">Vida, R. and L. Costa, &ldquo;<a href="http://tools.ietf.org/html/rfc3810">Multicast Listener Discovery Version 2 (MLDv2) for IPv6</a>,&rdquo; RFC&nbsp;3810, June&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3810.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">George Tsirtsis</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Qualcomm</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+908-947-7059</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tsirtsis@qualcomm.com; tsirtsisg@yahoo.com">tsirtsis@qualcomm.com; tsirtsisg@yahoo.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vincent Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Qualcomm</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+908-947-7084</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:vpark@qualcomm.com">vpark@qualcomm.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hesham Soliman</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Elevate Technologies</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+614-111-410-445</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:hesham@elevatemobile.com">hesham@elevatemobile.com</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
