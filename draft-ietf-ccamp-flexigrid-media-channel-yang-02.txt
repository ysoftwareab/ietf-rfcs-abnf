CCAMP Working Group                              J.E. Lopez de Vergara
Internet Draft                          Universidad Autonoma de Madrid
Intended status: Standards Track                           D. Perdices
Expires: September 25, 2019                                Naudit HPCN
                                                              V. Lopez
                                                   O. Gonzalez de Dios
                                                   Telefonica I+D/GCTO
                                                               D. King
                                                  Lancaster University
                                                                Y. Lee
                                                                Huawei
                                                         G. Galimberti
                                                   Cisco Photonics Srl
                                                        March 24, 2019

           YANG data model for Flexi-Grid media-channels
       draft-ietf-ccamp-flexigrid-media-channel-yang-02.txt


Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79. This document may not be modified,
   and derivative works of it may not be created, except to publish it
   as an RFC and to translate it into languages other than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on September 25, 2019.   

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents


Lopez de Vergara, et al.      Expires September 25, 2019        [Page 1]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


   carefully, as they describe your rights and restrictions with
   respect to this document. Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Abstract

   This document defines a YANG model for managing flexi-grid optical
   media channels, complementing the information provided by the
   flexi-grid topology model.
   It is also grounded on other defined YANG abstract models.

Table of Contents

   1.  Introduction ..............................................  2
   2.  Conventions used in this document .........................  3
   3.  Flexi-grid media-channel overview .........................  3
   4.  Example of use ............................................  4
   5.  Media Channel YANG Model ..................................  5
       5.1. YANG Model - Tree ....................................  5
       5.2. YANG Model - Code .................................... 16
       5.3. License .............................................. 32
   6.  Security Considerations ................................... 33
   7.  IANA Considerations ....................................... 33
   8.  References ................................................ 33
       8.1. Normative References ................................. 33
       8.2. Informative References ............................... 34
   9.  Contributors .............................................. 34
   10. Acknowledgments ........................................... 35
   Authors' Addresses ............................................ 35


1. Introduction

   Transport networks are evolving from current DWDM systems towards
   elastic optical networks, based on flexi-grid transmission and
   switching technologies [RFC7698]. Such technology aims at increasing
   both transport network scalability and flexibility, allowing the
   optimization of bandwidth usage.


Lopez de Vergara, et al.      Expires September 25, 2019        [Page 2]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


   While [I-D.draft-ietf-ccamp-flexigrid-yang] focuses on flexi-grid
   objects such as nodes, transponders and links, this document presents
   a YANG [RFC7950] model for the flexi-grid media-channel. This YANG 
   module defines the whole path from a source transponder or node to 
   the destination through a number of intermediate nodes in the
   flexi-grid network.

   This document identifies the flexi-grid media-channel components,
   parameters and their values, characterizes the features and the
   performances of the flexi-grid elements. An application example is
   provided towards the end of the document to better understand
   their utility.

2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

   In this document, these words will appear with that interpretation
   only when in ALL CAPS. Lower case uses of these words are not to be
   interpreted as carrying RFC-2119 significance.

   In this document, the characters ">>" preceding an indented line(s)
   indicates a compliance requirement statement using the key words
   listed above. This convention aids reviewers in quickly identifying
   or finding the explicit compliance requirements of this RFC.


3. Flexi-grid media-channel overview

   The present model defines a flexi-grid media-channel mainly
   composed of:
      - source address
      - source flexi-grid port
      - source flexi-grid transponder
      - destination address
      - destination flexi-grid port
      - destination flexi-grid transponder
      - A list of links that defines the path
      - Other optical attributes

    Each path can be a media-channel (only defined by source and
    destination node) or a network media-channel (additionally needs
    source and destination transponders). Therefore, all the attributes
    are optional to support both situations.


Lopez de Vergara, et al.      Expires September 25, 2019        [Page 3]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


    This is achieved by a combination of the traffic engineering tunnel
    attributes explained in [I-D.draft-ietf-teas-yang-te] and augments
    when necessary. For instance, source address, source flexi-grid
    transponder, destination address and destination flexi-grid
    transponder attributes are directly taken from tunnel, whereas other
    attributes such as source flexi-grid port, destination flexi-grid
    port are defined, as they are specific for flexi-grid.



4. Example of use

   In order to explain how this model is used, we provide the following
   example. An optical network usually has multiple transponders,
   switches (nodes) and links between them. Figure 1 shows a simple
   topology, where two physical paths interconnect two optical
   transponders.
                               Media channel
            <==================================================>
                                  Path x
            <-------------------------------------------------->

                     +----------+          +----------+
              Link 1 |Flexi-grid|  Link 2  |Flexi-grid| Link 3
                .--->|   node   |<-------->|   node   |<---.
                |    |    B     |          |    C     |    |
                |    +----------+          +----------+    |
                v                                          v
             /-----------\                       /-----------\
            / Flexi-grid  \                     / Flexi-grid  \
            | transponder |                     | transponder |
            \      A      /                     \      E      /
             \-----------/                       \-----------/
                  ^                                     ^
                  |             +----------+            |
                  |    Link 4   |Flexi-grid|   Link 5   |
                  '------------>|   node   |<-----------'
                                |    D     |
                                +----------+
            <-------------------------------------------------->
                                  Path y

                      Figure 1. Topology example.


   After the nodes, links and transponders have been defined using
   [I-D.draft-ietf-ccamp-flexigrid-yang], we can configure the
   media-channel from the information we have stored in the
   flexi-grid topology, by querying which elements are available, and
   planning the resources that have to be provided on each situation.
   Note that every element in the flexi-grid topology has a reference,
   and this is the way in which they are called in the media-channel.


Lopez de Vergara, et al.      Expires September 25, 2019        [Page 4]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


   1. Depending on the case, it is possible to define either the source
      and destination node ports, or the source and destination node
      and transponder. In our case, we would define a network media
      channel, with source transponder A and source node B, and
      destination transponder E and destination node C. Thus, we are
      going to follow path x.

   2. Then, for each link in the path x, we indicate which channel we
      are going to use, providing information about the slots, and what
      nodes are connected.

   3. Finally, the flexi-grid topology has to be updated with each
      element usage status each time a media channel is created or torn
      down.

5. Media Channel YANG Model

5.1. YANG Model - Tree

module: ietf-flexi-grid-media-channel
  augment /te:te/te:tunnels/te:tunnel:
    +--rw src-client-signal?   identityref
    +--rw dst-client-signal?   identityref
    +--rw fec-type?            identityref
    +--rw termination-type?    identityref
    +--rw bit-stuffing?        boolean
  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:te-bandwidth/te:technology:
    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref
  augment /te:te/te:tunnels/te:tunnel/te:te-bandwidth/te:technology:
    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:te-bandwidth/te:technology:
    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/
    te:te-bandwidth/te:technology:
    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:te-bandwidth/te:technology:
    +--:(flexi-grid)
       +--rw bandwidth-type?   identityref

Lopez de Vergara, et al.      Expires September 25, 2019        [Page 5]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:explicit-route-objects-always/
    te:route-object-exclude-always/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:explicit-route-objects-always/
    te:route-object-include-exclude/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:path-in-segment/te:label-restrictions/
    te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:path-in-segment/te:label-restrictions/
    te:label-restriction/te:label-start/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:path-in-segment/te:label-restrictions/
    te:label-restriction/te:label-end/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16

Lopez de Vergara, et al.      Expires September 25, 2019        [Page 6]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:path-out-segment/te:label-restrictions/
    te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:path-out-segment/te:label-restrictions/
    te:label-restriction/te:label-start/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:globals/te:named-path-constraints/
    te:named-path-constraint/te:path-out-segment/te:label-restrictions/
    te:label-restriction/te:label-end/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:optimizations/te:algorithm/te:metric/
    te:optimization-metric/te:explicit-route-exclude-objects/
    te:route-object-exclude-object/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:optimizations/te:algorithm/te:metric/
    te:optimization-metric/te:explicit-route-include-objects/
    te:route-object-include-object/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16

Lopez de Vergara, et al.      Expires September 25, 2019        [Page 7]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:explicit-route-objects-always/
    te:route-object-exclude-always/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:explicit-route-objects-always/
    te:route-object-include-exclude/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:path-in-segment/te:label-restrictions/
    te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:path-in-segment/te:label-restrictions/
    te:label-restriction/te:label-start/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:path-in-segment/te:label-restrictions/
    te:label-restriction/te:label-end/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16

Lopez de Vergara, et al.      Expires September 25, 2019        [Page 8]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:path-out-segment/te:label-restrictions/
    te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:path-out-segment/te:label-restrictions/
    te:label-restriction/te:label-start/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:path-out-segment/te:label-restrictions/
    te:label-restriction/te:label-end/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:computed-paths-properties/
    te:computed-path-properties/te:path-properties/
    te:path-route-objects/te:path-computed-route-object/te:type/
    te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:lsps/te:lsp/te:lsp-record-route-information/
    te:lsp-record-route-information/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16

Lopez de Vergara, et al.      Expires September 25, 2019        [Page 9]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:lsps/te:lsp/te:path-properties/
    te:path-route-objects/te:path-computed-route-object/te:type/
    te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:optimizations/
    te:algorithm/te:metric/te:optimization-metric/
    te:explicit-route-exclude-objects/te:route-object-exclude-object/
    te:type/te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:optimizations/
    te:algorithm/te:metric/te:optimization-metric/
    te:explicit-route-include-objects/te:route-object-include-object/
    te:type/te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/
    te:explicit-route-objects-always/te:route-object-exclude-always/
    te:type/te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 10]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/
    te:explicit-route-objects-always/te:route-object-include-exclude/
    te:type/te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:path-in-segment/
    te:label-restrictions/te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:path-in-segment/
    te:label-restrictions/te:label-restriction/te:label-start/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:path-in-segment/
    te:label-restrictions/te:label-restriction/te:label-end/te:te-label/
    te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:path-out-segment/
    te:label-restrictions/te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:path-out-segment/
    te:label-restrictions/te:label-restriction/te:label-start/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 11]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/ 
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:path-out-segment/
    te:label-restrictions/te:label-restriction/te:label-end/te:te-label/
    te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/
    te:computed-paths-properties/te:computed-path-properties/
    te:path-properties/te:path-route-objects/
    te:path-computed-route-object/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:lsps/te:lsp/
    te:lsp-record-route-information/te:lsp-record-route-information/
    te:type/te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-primary-paths/
    te:p2p-primary-path/te:p2p-primary-reverse-path/te:lsps/te:lsp/
    te:path-properties/te:path-route-objects/
    te:path-computed-route-object/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 12]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:optimizations/te:algorithm/te:metric/
    te:optimization-metric/te:explicit-route-exclude-objects/
    te:route-object-exclude-object/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:optimizations/te:algorithm/te:metric/
    te:optimization-metric/te:explicit-route-include-objects/
    te:route-object-include-object/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:explicit-route-objects-always/
    te:route-object-exclude-always/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:explicit-route-objects-always/
    te:route-object-include-exclude/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw flex-n?              int16
          |  +--rw flex-m?              uint16
          +--:(super)
             +--rw subcarrier-flex-n* [flex-n]
                +--rw flex-n    int16
                +--rw flex-m?   uint16

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 13]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:path-in-segment/te:label-restrictions/
    te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:path-in-segment/te:label-restrictions/
    te:label-restriction/te:label-start/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:path-in-segment/te:label-restrictions/
    te:label-restriction/te:label-end/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:path-out-segment/te:label-restrictions/
    te:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flexi-grid
       +--rw nominal-central-frequency-granularity?   identityref
       +--rw slot-width-granularity?                  identityref
       +--rw min-slot-width-factor?                   uint16
       +--rw max-slot-width-factor?                   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:path-out-segment/te:label-restrictions/
    te:label-restriction/te:label-start/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:path-out-segment/te:label-restrictions/
    te:label-restriction/te:label-end/te:te-label/te:technology:
    +--:(flexi-grid)
       +--rw flex-n?   int16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:computed-paths-properties/
    te:computed-path-properties/te:path-properties/
    te:path-route-objects/te:path-computed-route-object/te:type/
    te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 14]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:lsps/te:lsp/
    te:lsp-record-route-information/te:lsp-record-route-information/
    te:type/te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16
  augment /te:te/te:tunnels/te:tunnel/te:p2p-secondary-paths/
    te:p2p-secondary-path/te:lsps/te:lsp/te:path-properties/
    te:path-route-objects/te:path-computed-route-object/te:type/
    te:label/te:label-hop/te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16
  augment /te:te/te:lsps-state/te:lsp/te:lsp-record-route-information/
    te:lsp-record-route-information/te:type/te:label/te:label-hop/
    te:te-label/te:technology:
    +--:(flexi-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro flex-n?              int16
          |  +--ro flex-m?              uint16
          +--:(super)
             +--ro subcarrier-flex-n* [flex-n]
                +--ro flex-n    int16
                +--ro flex-m?   uint16
  augment /te:tunnels-rpc/te:input/te:tunnel-info/tepc:path-request:
    +-- src-client-signal?       identityref
    +-- dst-client-signal?       identityref
    +-- fec-type?                identityref
    +-- termination-type?        identityref
    +-- bit-stuffing?            boolean
    +-- wavelength-assignment?   identityref


Lopez de Vergara, et al.     Expires September 25, 2019        [Page 15]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


5.2. YANG Model - Code

<CODE BEGINS> file "ietf-flexi-grid-media-channel@2019-03-24.yang"

module ietf-flexi-grid-media-channel {
  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-flexi-grid-media-channel";
  prefix "flexi-grid-media-channel";

  import ietf-te { prefix "te"; }
  import ietf-layer0-types{ prefix "layer0-types"; }
  import ietf-te-path-computation { prefix "tepc"; }
  import ietf-otn-types { prefix "otn-types"; }

  organization
    "IETF CCAMP Working Group";

  contact
    "WG Web:   <http://tools.ietf.org/wg/ccamp/>
     WG List:  <mailto:ccamp@ietf.org>

     WG Chair: Daniele Ceccarelli
               <mailto:daniele.ceccarelli@ericsson.com>

     WG Chair: Fatai Zhang
               <mailto:zhangfatai@huawei.com>

     Editor: Jorge E. Lopez de Vergara <jorge.lopez_vergara@uam.es>
     Editor: Daniel Perdices <daniel.perdices@naudit.es>
     Editor: Victor Lopez <victor.lopezalvarez@telefonica.com>
     Editor: Young Lee <leeyoung@huawei.com>";
     description
       "This module defines a model for Flex-grid Media Channel
       Services.";

  revision "2019-03-24" {
    description
      "version 2";
    reference "version 2";
  }


Lopez de Vergara, et al.     Expires September 25, 2019        [Page 16]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


  /* Groupings. */

  grouping flexi-grid-media-channel-attributes {
    description "Parameters for flexi-grid media channel.";

    leaf src-client-signal {
      type identityref {
        base otn-types:client-signal;
      }
      description
        "Client signal at the source endpoint of
         the media channel.";
    }

    leaf dst-client-signal {
      type identityref {
        base otn-types:client-signal;
      }
      description
        "Client signal at the destination endpoint of
         the media channel.";
    }

    leaf fec-type {
      type identityref {
        base layer0-types:fec-type;
      }
      description
        "FEC type.";
    }

    leaf termination-type {
      type identityref {
        base layer0-types:term-type;
      }
      description
        "Termination type.";
    }
    leaf bit-stuffing {
      type boolean;
      description
        "Bit stuffing enabled/disabled.";
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 17]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


  grouping flexi-grid-path-constraints {
    description
      "Global named path constraints configuration
       grouping for flexi-grid media channel";

    leaf wavelength-assignment {
      type identityref {
        base layer0-types:wavelength-assignment;
      }
      description "Wavelength Allocation Method";
    }
  }

 /*
  * Data nodes
  */

  augment "/te:te/te:tunnels/te:tunnel" {
    description
      "Augment with additional parameters required for flexi-grid
       media channel.";
    uses flexi-grid-media-channel-attributes;
  }

  /*
   * Augment TE bandwidth
   */

  /* Augment bandwidth of named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/"
        + "te:te-bandwidth/te:technology" {
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-bandwidth;
    }
  }
  /* Augment bandwdith of tunnel */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:te-bandwidth/te:technology" {
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-bandwidth;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 18]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


  /* Augment bandwidth of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:te-bandwidth/te:technology" {
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-bandwidth;
    }
  }

  /* Augment bandwidth of reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:te-bandwidth/te:technology" {
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-bandwidth;
    }
  }

  /* Augment bandwidht of secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:te-bandwidth/te:technology" {
    description "flexi-grid bandwidth.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-bandwidth;
    }
  }

  /*
   * Augment TE label.
   */
  /* Augment label hop of route-object-exclude-always of
     named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:explicit-route-objects-always/"
        + "te:route-object-exclude-always/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 19]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


  /* Augment label hop of route-object-include-exclude of 
     named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:explicit-route-objects-always/"
        + "te:route-object-include-exclude/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

  /* Augment label restrictions for the path-in-segment of 
     named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:path-in-segment/"
        + "te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }

  /* Augment label restrictions start for the path-in-segment 
    of named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:path-in-segment/"
        + "te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end for the path-in-segment of 
    named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:path-in-segment/"
        + "te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 20]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label restrictions for the path-out-segment of 
     named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:path-out-segment/"
        + "te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start for the path-out-segment 
     of named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:path-out-segment/"
        + "te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end for the path-out-segment of
     named-path-constraints */
  augment "/te:te/te:globals/te:named-path-constraints/"
        + "te:named-path-constraint/te:path-out-segment/"
        + "te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }

  /* Augment label hop of route-exclude of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:optimizations/te:algorithm/te:metric/"
        + "te:optimization-metric/te:explicit-route-exclude-objects/"
        + "te:route-object-exclude-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 21]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


  /* Augment label hop of route-include of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:optimizations/te:algorithm/te:metric/"
        + "te:optimization-metric/te:explicit-route-include-objects/"
        + "te:route-object-include-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

  /* Augment label hop of route-object-exclude-always of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:explicit-route-objects-always/"
        + "te:route-object-exclude-always/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-object-include-exclude of primary path 
   */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:explicit-route-objects-always/"
        + "te:route-object-include-exclude/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label restrictions for the path-in-segment of 
     primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 22]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label restrictions start for the path-in-segment
     of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end for the path-in-segment 
     of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions for the path-out-segment of 
     primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start for the path-out-segment 
     of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 23]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label restrictions end for the path-out-segment 
     of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label hop of path-route of primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:computed-paths-properties/"
    + "te:computed-path-properties/te:path-properties/"
        + "te:path-route-objects/te:path-computed-route-object/"
        + "te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of record-route of primary LSP */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:lsps/te:lsp/te:lsp-record-route-information/"
        + "te:lsp-record-route-information/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of path-route of primary LSP */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:lsps/te:lsp/te:path-properties/"
        + "te:path-route-objects/te:path-computed-route-object/"
        + "te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 24]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label hop of route-exclude of reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:optimizations/te:algorithm/te:metric/"
        + "te:optimization-metric/te:explicit-route-exclude-objects/"
        + "te:route-object-exclude-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-include of reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:optimizations/te:algorithm/te:metric/"
        + "te:optimization-metric/te:explicit-route-include-objects/"
        + "te:route-object-include-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-object-exclude-always of reverse 
     primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:explicit-route-objects-always/"
        + "te:route-object-exclude-always/"
        + "te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 25]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label hop of route-object-include-exclude of reverse 
     primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:explicit-route-objects-always/"
        + "te:route-object-include-exclude/"
        + "te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

  /* Augment label restrictions for the path-in-segment of 
     reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start for the path-in-segment 
     of reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end for the path-in-segment 
     of reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 26]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label restrictions for the path-out-segment of 
     reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start for the path-out-segment 
     of reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions end for the path-out-segment of
     reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label hop of path-route of reverse primary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:computed-paths-properties/"
    + "te:computed-path-properties/te:path-properties/"
        + "te:path-route-objects/te:path-computed-route-object/"
        + "te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 27]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label hop of record-route of reverse primary LSP */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:lsps/te:lsp/te:lsp-record-route-information/"
        + "te:lsp-record-route-information/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of path-route of reverse primary LSP */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-primary-paths/te:p2p-primary-path/"
        + "te:p2p-primary-reverse-path/"
        + "te:lsps/te:lsp/te:path-properties/"
        + "te:path-route-objects/te:path-computed-route-object/"
        + "te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-exclude of secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:optimizations/te:algorithm/te:metric/"
        + "te:optimization-metric/te:explicit-route-exclude-objects/"
        + "te:route-object-exclude-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-include of secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:optimizations/te:algorithm/te:metric/"
        + "te:optimization-metric/te:explicit-route-include-objects/"
        + "te:route-object-include-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 28]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label hop of route-object-exclude-always of secondary path 
   */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:explicit-route-objects-always/"
        + "te:route-object-exclude-always/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of route-object-include-exclude of secondary 
     path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:explicit-route-objects-always/"
        + "te:route-object-include-exclude/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label restrictions for the path-in-segment of 
     secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start for the path-in-segment 
     of secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 29]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label restrictions end for the path-in-segment 
     of secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:path-in-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
  /* Augment label restrictions for the path-out-segment of
     secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction" {
    description "flexi-grid label.";
    uses layer0-types:flexi-grid-label-restriction;
  }
  /* Augment label restrictions start for the path-out-segment 
     of secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-start/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }
 /* Augment label restrictions end for the path-out-segment of
    secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:path-out-segment/te:label-restrictions/"
        + "te:label-restriction/te:label-end/"
        + "te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 30]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  /* Augment label hop of path-route of secondary path */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:computed-paths-properties/"
        + "te:computed-path-properties/te:path-properties/"
    + "te:path-route-objects/"
        + "te:path-computed-route-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of record-route of secondary LSP */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:lsps/te:lsp/te:lsp-record-route-information/"
        + "te:lsp-record-route-information/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of path-route of secondary LSP */
  augment "/te:te/te:tunnels/te:tunnel/"
        + "te:p2p-secondary-paths/te:p2p-secondary-path/"
        + "te:lsps/te:lsp/te:path-properties/"
        + "te:path-route-objects/"
        + "te:path-computed-route-object/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }
  /* Augment label hop of record-route of LSP */
  augment "/te:te/te:lsps-state/"
        + "te:lsp/te:lsp-record-route-information/"
        + "te:lsp-record-route-information/te:type/te:label/"
        + "te:label-hop/te:te-label/te:technology" {
    description "flexi-grid label.";
    case flexi-grid {
      uses layer0-types:flexi-grid-path-label;
    }
  }    

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 31]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

  augment "/te:tunnels-rpc/te:input/te:tunnel-info/"
        + "tepc:path-request" {
    description 
       "Augment with additional constraints flexi-grid
        media channel.";
    uses flexi-grid-media-channel-attributes;
    uses flexi-grid-path-constraints;
  }
}


<CODE ENDS>


5.3. License

   Copyright (c) 2018 IETF Trust and the persons identified as authors
   of the code. All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

   o  Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

   o  Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in
      the documentation and/or other materials provided with the
      distribution.

   o  Neither the name of Internet Society, IETF or IETF Trust, nor the
      names of specific contributors, may be used to endorse or promote
      products derived from this software without specific prior
      written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
   FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.

Lopez de Vergara, et al.     Expires September 25, 2019        [Page 32]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


6. Security Considerations

   The YANG module specified in this document defines a schema for data
   that is designed to be accessed via network management protocols
   such as NETCONF [RFC6241] or RESTCONF [RFC8040]. The lowest NETCONF
   layer is the secure transport layer, and the mandatory-to-implement
   secure transport is Secure Shell (SSH) [RFC6242]. The lowest
   RESTCONF layer is HTTPS, and the mandatory-to-implement secure
   transport is TLS [RFC8446].

   The NETCONF access control model [RFC8341] provides the means to
   restrict access for particular NETCONF users to a preconfigured
   subset of all available NETCONF protocol operations and content. The
   NETCONF Protocol over Secure Shell (SSH) [RFC6242] describes a
   method for invoking and running NETCONF within a Secure Shell (SSH)
   session as an SSH subsystem. The Network Configuration Access
   Control Model (NACM) [RFC8341] provides the means to restrict access
   for particular NETCONF or RESTCONF users to a preconfigured subset
   of all available NETCONF or RESTCONF protocol operations and
   content.

   A number of configuration data nodes defined in this document are
   writable/deletable (i.e., "config true"). These data nodes may be
   considered sensitive or vulnerable in some network environments.

   There are a number of data nodes defined in this YANG module that
   are writable/creatable/deletable (i.e., config true, which is the
   default).  These data nodes may be considered sensitive or
   vulnerable in some network environments.  Write operations (e.g.,
   edit-config) to these data nodes without proper protection can have
   a negative effect on network operations. 



7. IANA Considerations

   The namespace used in the defined model has to register a URI in
   the IETF XML registry [RFC3688], as well as in the YANG Module
   Names registry [RFC6020].


8. References

8.1. Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.
   
   [RFC3688] Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
             January 2004.


Lopez de Vergara, et al.     Expires September 25, 2019        [Page 33]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

   [RFC6020] Bjorklund, M., Ed., "YANG - A Data Modeling Language for
             the Network Configuration Protocol (NETCONF)", RFC 6020,
             October 2010.

   [RFC6241] R. Enns, Ed., M. Bjorklund, Ed., J. Schoenwaelder, Ed.,
             "Network Configuration Protocol (NETCONF)", RFC 6241, June
             2011.

   [RFC6242] M. Wasserman, "Using the NETCONF Protocol over Secure
             Shell (SSH)", RFC 6242, June 2011.

   [RFC7950] Bjorklund, M., Ed., "The YANG 1.1 Data Modeling 
             Language", RFC 7950, August 2016.

   [RFC8040] A. Bierman, M. Bjorklund, K. Watsen, "RESTCONF Protocol",
             RFC 8040, January 2017.

   [RFC8341] A. Bierman, M. Bjorklund, "Network Configuration Access
             Control Model", RFC 8341, March 2018.

   [RFC8446] E. Rescorla, "The Transport Layer Security (TLS) Protocol
             Version 1.3", RFC8446, August 2018.


8.2. Informative References

   [RFC7698] Gonzalez de Dios, O., Casellas, R., Eds. "Framework and
             Requirements for GMPLS-Based Control of Flexi-Grid Dense
             Wavelength Division Multiplexing (DWDM) Networks",
             RFC7698, November 2015.
   [I-D.draft-ietf-ccamp-flexigrid-yang] Lopez de Vergara, J.,
          Perdices, D., Lopez, V., Gonzalez de Dios, O.,  King, D.,
          Lee, Y., Galimberti, G., "YANG data model for Flexi-Grid
          Optical Networks", Internet Draft,
          draft-ietf-ccamp-flexigrid-yang-03, 2019.
   [I-D.draft-ietf-teas-yang-te]
          Saad, T., Gandhi, R., Liu, X., Beeram, V., Shah, H.,
          Bryskin, I., Chen, X., Jones, R., and B. Wen, "A YANG Data
          Model for Traffic Engineering Tunnels and Interfaces",
          draft-ietf-teas-yang-te-19, 2019.


9. Contributors

   The model presented in this paper was contributed to by more people
   than can be listed on the author list.  Additional contributors
   include:

   o Zafar Ali, Cisco Systems
   o Daniel Michaud Vallinoto, Universidad Autonoma de Madrid



Lopez de Vergara, et al.     Expires September 25, 2019        [Page 34]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019

10. Acknowledgments

   The work presented in this Internet-Draft has been partially funded
   by the European Commission under the project H2020 METRO-HAUL
   (Metro High bandwidth, 5G Application-aware optical network, with
   edge storage, compUte and low Latency), Grant Agreement number:
   761727, and by the Spanish Ministry of Economy and Competitiveness
   under the project TRAFICA, MINECO/FEDER TEC2015-69417-C2-1-R.


Authors' Addresses

   Jorge E. Lopez de Vergara
   Universidad Autonoma de Madrid
   Escuela Politecnica Superior
   C/Francisco Tomas y Valiente, 11
   E-28049 Madrid, Spain

   Email: jorge.lopez_vergara@uam.es

   Daniel Perdices Burrero
   Naudit High Performance Computing and Networking, S.L.
   C/Faraday, 7
   E-28049 Madrid, Spain

   Email: daniel.perdices@naudit.es

   Victor Lopez
   Telefonica I+D/GCTO
   Distrito Telefonica
   E-28050 Madrid, Spain

   Email: victor.lopezalvarez@telefonica.com

   Oscar Gonzalez de Dios
   Telefonica I+D/GCTO
   Distrito Telefonica
   E-28050 Madrid, Spain

   Email: oscar.gonzalezdedios@telefonica.com


   Daniel King
   Lancaster University

   Email: d.king@lancaster.ac.uk


   Young Lee
   Huawei Technologies

   Email: leeyoung@huawei.com


Lopez de Vergara, et al.     Expires September 25, 2019        [Page 35]
Internet-Draft  YANG data model for Flexi-Grid media-channels  Mar.2019


   Gabriele Galimberti
   Cisco Photonics Srl

   Email: ggalimbe@cisco.com

Lopez de Vergara, et al.     Expires September 25, 2019       [Page 36]
