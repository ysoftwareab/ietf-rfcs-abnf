
Network Working Group                                      C. Allocchio
INTERNET-DRAFT                                               GARR-Italy
Expires: June 1998                                        December 1997



 
             Minimal PSTN address format in Internet Mail

                 (draft-ietf-fax-minaddrgen-01.txt)


Status of this Memo

This document is an Internet Draft.  Internet Drafts are working
documents of the Internet Engineering Task Force (IETF), its Areas,
and its Working Groups.  Note that other groups may also distribute
working documents as Internet Drafts.  Internet Drafts are draft
documents valid for a maximum of six months.  Internet Drafts may be
updated, replaced, or obsoleted by other documents at any time.  It is
not appropriate to use Internet Drafts as reference material or to
cite them other than as a ``working draft'' or ``work in progress.''
Please check the I-D abstract listing contained in each Internet Draft
directory to learn the current status of this or any other Internet
Draft.


1. Introduction

   Since the very first e-mail to PSTN services gateway appeared, a 
   number of different methods to specify a PSTN address as an e-mail 
   address have been used by implementors. Two major objectives for 
   this were

     - enable an e-mail user to access these services from his/her
       e-mail interface;

     - enable some kind of ''PSTN over e-mail service'' transport, to
       reduce the costs of PSTN long distance transmissions, and use
       the existing e-mail infrastructure.

   This memo describes the MINIMAL addressing method to encode PSTN
   addresses into e-mail addresses and the standard extension mechanism 
   to allow definition of further standard elements. The opposite problem,
   i.e. to allow a traditional numeric-only PSTN device user to access 
   the e-mail transport service, is not discussed here. 

   All implementations supporting this PSTN over e-mail service MUST
   support as a minimum the specification described in this document.
   The generic complex case of converting the whole PSTN addressing 
   into e-mail is out of scope in this minimal specification: there 
   is some work in progress in the field, where also a number of 
   standard optional extensions are being defined.

   In this document the formal definitions are described using ABNF
   syntax, as defined into [7]. We will also use some of the ''CORE 
   DEFINITIONS'' defined in ''APPENDIX A - CORE'' of that document. The
   exact meaning of the capitalised words 

      "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
      "SHOULD NOT", "RECOMMENDED",  "MAY", "OPTIONAL"

   is defined in reference [6].


2. Minimal PSTN address

   The minimal specification of a PSTN address in e-mail address is 
   as follows:

      pstn-address = pstn-mbox  [ qualif-type1 ]

      pstn-mbox = service-selector "=" global-phone

      service-selector = 1*( DIGIT / ALPHA / "-" )
                         ; note that SP (space) is not allowed in 
                         ; service-selector.
                         ; service-selector MUST be handled as a case 
                         ; INSENSITIVE string by implementations.

   Specifications adopting the "pstn-address" definition MUST define a
   unique case insensitive "service-selector" element to identify the 
   specific messaging service involved.

   These specifications MUST also define which minimal "qualif-type1"
   extensions, if any, MUST be supported for the specified service.

   Implementations confirming to these minimal requirements specification 
   are allowed to ingnore any other non-minimal extensions address 
   element which can be present in the "pstn-address". However, conforming 
   implementations MUST preserve all "qualif-type1" address elements they 
   receive.

   The generic "qualif-type1" element is defined as:

      qualif-type1 = "/" keyword "=" string

      keyword = 1*( DIGIT / ALPHA / "-" )
                ; note that SP (space) is not allowed in keyword

      string = PCHAR
               ; note that printable characters are %x20-7E

   As such, all "pstn-address" extensions elements MUST be defined in the
   "qualif-type1" form.


2.1 Minimal "global-phone" definition

   We now define the minimal supported syntax for global-phone:

      global-phone = "+" 1*( DIGIT , written-sep )

      written-sep = ( "-" / "." )

   The use of other dialling schemas for PSTN numbers (like private
   numbering plans or local dialling conventions) is also allowed.
   However, this does not preclude nor remove the minimal compulsory
   requirement to support the "global-phone" syntax as defined above.

   Any non "global-phone" dialling schema MUST NOT use the leading
   "+" between the "=" sign and the dialling string. The "+" sign is
   strictly reserved for the standard "global-phone" syntax.

   Note:
     The specification of these different dialling schemas is out of scope
     for this minimal specification.

   User specification of PSTN e-mail addresses will be facilitated if
   they can insert these separators between dial elements like digits etc.
   For this reason we allow them in the syntax the written-sep element.

   Implementors' note:
     Use of the written-sep elements is allowed, but not recommended. Any
     occurences of written-sep elements in a pstn-mbox MUST be ignored by
     all conformant implementations. User Agents SHOULD remove written-sep
     elements before submitting messages to the Message Transport System.


2.2 Some examples of a minimal "pstn-address"

      VOICE=+3940226338

      FAX=+12027653000/T33S=6377

      SMS=+33-1-88335215


3. The e-mail address of the I-pstn device: mta-I-pstn
  
   An "I-pstn device" has an e-mail address, or to be more exact, a 
   name which enables a mail system to identify it on the e-mail 
   global system.

   In Internet mail, this is the Right Hand Side (RHS) part of the 
   address, i.e. the part on the right of the "@" sign. We will call
   this "mta-I-pstn"

      mta-I-pstn = domain

   For "domain" strings used in SMTP transmissions, the string MUST conform
   to the requirements of that standard's <domain> specifications [1], [3]
   and their updates. For "domain" strings used in message content headers,
   the string MUST conform to the requirements of the relevant standards [2],
   [3] and their updates.

   Note: in both cases, the standards permit use of "domain names" or "domain
         literals" in addresses.


4. The pstn-email

   The complete structure used to transfer a minimal PSTN address over the
   Internet e-mail transport system is called "pstn-email". This object 
   is a an e-mail address which conforms to RFC822 [2] (and its updates)
   "addr-spec" syntax, with some extra structure which allows the PSTN 
   number to be identified.

         pstn-email =  ["/"] pstn-address ["/"] "@" mta-I-pstn


   Implementors' note: 
     The optional "/" characters can result from other mail transport 
     services gateways, where it is also an optional element. 
     Implementations MUST accept the optional slashes but SHOULD NOT 
     generate them. Gateways are allowed to strip them off when 
     converting to Internet mail addressing.

4.1 Multiple subaddresses

   In case a particular service requires multiple subaddresses (in any form
   defined by the specific standard specification for that service), and 
   these subaddresses need to be given on the same "pstn-mbox", multiple 
   "pstn-email" elements will be used. 

   Implementors' note: 
     The UA could accept multiple subaddress elements for the same 
     global-phone, but it must generate multiple "pstn-mbox" elements
     when passing the message to the MTA.


4.2 Some examples of "pstn-email"

      VOICE=+3940226338@worldvoice.com

      FAX=+1.202.7653000/T33S=6377@faxserv.org

      /SMS=+33-1-88335215/@telecom.com


5. Conclusions

   This proposal creates a minimal standard encoding for PSTN addresses
   within the global e-mail transport system and defines the standard 
   extension mechanism to be used to introduce specific new elements.

   The proposal requires no changes to existing e-mail software. Each 
   specific PSTN service using this proposal MUST define its own 
   "service-selector" specification and MUST define the eventual other 
   "qualif-type1" elements to be supported for its minimal addressing
   specification. An example is in reference [13].


6. Security Considerations

   This document specifies a means by which PSTN addresses can be
   encoded into e-mail addresses. As routing of e-mail messages is
   determined by Domain Name System (DNS) information, a successful 
   attack on this service could force the mail path via some particular
   gateway or message transfer agent where mail security can be
   affected by compromised software.

   There are several means by which an attacker might be able to
   deliver incorrect mail routing information to a client. These 
   include: (a) compromise of a DNS server, (b) generating a 
   counterfeit response to a client's DNS query, (c) returning 
   incorrect "additional information" in response to an unrelated 
   query. Clients SHOULD ensure that mail routing is based only 
   on authoritative answers. Once DNS Security mechanisms [5] 
   become more widely deployed, clients SHOULD employ those mechanisms 
   to verify the authenticity and integrity of mail routing records.

7. Copyright

   "Copyright (C) The Internet Society (date). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published and
   distributed, in whole or in part, without restriction of any kind,
   provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this 
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the  purpose of 
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be followed,
   or as required to translate it into languages other than English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
   NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL
   NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR
   FITNESS FOR A PARTICULAR PURPOSE." 


8. Author's Address

   Claudio Allocchio
   Sincrotrone Trieste
   SS 14 Km 163.5 Basovizza
   I 34012 Trieste
   Italy

   RFC822: Claudio.Allocchio@elettra.trieste.it
   X.400:  C=it;A=garr;P=Trieste;O=Elettra;
           S=Allocchio;G=Claudio;
   Phone:  +39 40 3758523
   Fax:    +39 40 3758565


9. References

[1]  RFC821 Simple Mail Transfer Protocol. J. Postel. (August 1982)

[2]  RFC822 Standard for the format of ARPA Internet text messages. D.
     Crocker. (August 1982)

[3]  RFC1123 Requirements for Internet hosts - application and support. R.T.
     Braden. (October 1989)

[4]  RFC1528 Principles of Operation for the TPC.INT Subdomain: Remote
     Printing -- Technical Procedures. C. Malamud & M. Rose. (October 1993)

[5]  RFC2065 Domain Name System Security Extensions. D. Eastlake, 3rd, C.
     Kaufman. (January 1997)

[6]  RFC2119 Key words for use in RFCs to Indicate Requirement Levels.
     S. Bradner (March 1997)

[7]  RFC2234 Augmented BNF for Syntax Specifications. D. Crocker,
     P. Overell (November 1997).

[8]  ITU F.401 - Message Handling Services: Naming and Addressing for Public
     Message Handling Service; recommendation F.401 (August 1992)

[9]  ITU F.423 - Message Handling Services: Intercommunication Between the
     Interpersonal Messaging Service and the Telefax Service; recommendation 
     F.423 (August 1992)

[10] ITU E.164 - Numbering plan for the ISDN era; recommendation E.164/I.331 
     (August 1991)

[11] ITU T.33 - Facsimile routing utilizing the subaddress; recommendation 
     T.33 (July, 1996)

[12] ETSI I-ETS 300,380 - Universal Personal Telecommunication (UPT): Access 
     Devices Dual Tone Multi Frequency (DTMF) sender for acoustical coupling
     to the microphone of a handset telephone (March 1995)

[13] RFCxxxx (DRAFT-IETF-FAX-ADDRMINFAX-xx.TXT) Minimal FAX address format 
     in Internet Mail. C. Allocchio (xxxx 199x)

[14] RFCxxxx (DRAFT-KILLE-MIXER-RFC1327BIS-xx.TXT) MIXER (Mime Internet
     X.400 Enhanced Relay): Mapping between X.400 and RFC 822/MIME.
     S.E. Kille. (xxxx 199x)

