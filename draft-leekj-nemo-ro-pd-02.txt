
   Individual Submission                                                
   Internet Draft                                        Kyeong-Jin Lee 
                                                         Jae-Hoon Jeong 
                                                          Jung-Soo Park 
                                                         Hyoung-Jun Kim 
   <draft-leekj-nemo-ro-pd-02.txt>                                 ETRI 
   Expires: August 2004                                16 February 2004 
    
    
           Route Optimization for Mobile Nodes in Mobile Network  
                        based on Prefix Delegation   
    
    
Status of this Memo 
    
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026 except that the right to 
   produce derivative works is not granted [1]. 
    
   Internet-Drafts are working documents of the Internet Engineering     
   Task Force (IETF), its areas, and its working groups.  Note that     
   other groups may also distribute working documents as Internet-     
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress". 
    
   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 
    
    
Abstract 
    
   This document describes how to support Route Optimization for the 
   Mobile Nodes in IPv6 Mobile Network. The support is provided by 
   Prefix Delegation. Mobile Router gets a prefix from an access router 
   using Prefix Delegation protocol and advertises the delegated prefix 
   to its subnet. Each Mobile Nodes makes its care-of address from the 
   prefix and performs binding update. It allows the Mobile Nodes to 
   communicate with correspondent nodes directly, avoiding ingress 
   filtering.  
    
    
 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 1] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
    
Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC 2119 [2]. 
    
    
Table of Contents 
    
   1. Terminology and Abbreviation..................................2 
   2. Introduction..................................................2 
   3. Protocol Overview.............................................3 
   4. Neighbor Discovery extension : Delegated Prefix option format.6 
   5. Mobile IPv6 extension : Process of Delegated Prefix option....7 
   6. Handover Considerations.......................................7 
   7. Security Considerations.......................................7 
   8. Consideration for Optimization of DNS Name Resolution.........7 
   9. Applicability Statements......................................7 
   10. References....................................................8 
   11. Authors' Addresses............................................8 
    
 
1. Terminology and Abbreviation 
    
   This document uses the terminology and abbreviation conformed to [1] 
   [2] and [3] on the assumption that the reader is familiar with Mobile 
   IPv6 and NEMO terminology. In addition, following terms are used: 
 
     Delegated Prefix (DP) 
        A prefix assigned to a site by a provider, from which the site 
        may derive link prefixes [3] 
 
 
2. Introduction 
    
   NEMO Basic Support is to preserve session continuity using 
   bidirectional tunnel between Mobile Router (MR) and the MRÆs HA. The 
   support is reasonable for small-scale mobile network because MR MUST 
   encapsulate and decapsulate all packets for Mobile Network Nodes. 
   Specially, outbound packets MUST be tunneled in order to pass ingress 
   filtering. 
    
   The purpose of this document is to enable MNs behind the MR to 
   perform Mobile IPv6 Route Optimization. This can reduce the overhead 
   on MR because MR considers the packets of Local Fixed Nodes in the 
   bidirectional tunnel between MR and HA. 

 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 2] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
    
   When MR detects its movement, it runs Prefix Delegation (PD) protocol 
   such as APD, RA-PD and DHCPv6 described in [5]-[7] respectively. If 
   MRs become placed in multiple levels, the mobile network has 
   hierarchical architecture. Most of the current PD protocols are 
   designed for leaf network. How to extend PD protocol for hierarchical 
   IPv6 network is outside the scope of this specification. For example, 
   HPD (Hierarchical APD) protocol described in [10] is an extension of 
   the APD protocol. 
    
   Even when every AR on visited network does not support PD, there 
   SHOULD be no problem in the communication between MN and CN. If this 
   mechanism is disabled, all the Mobile Network Nodes (MNNs) 
   communicate with CN by NEMO Basic Support. Therefore, it can provide 
   Route Optimization for mobile nodes within mobile network according 
   as the access network allows PD.  
    
   This specification defines a new Neighbor Discovery Protocol option 
   and modifies the operation of MR and MN to support route optimization. 
   Fixed router in mobile network is not considered in this 
   specification. 
    
    
3. Protocol Overview 
    
   This document assumes that all AR and MR support PD. Otherwise, only 
   NEMO Basic Support [8] is provided to preserve session continuity and 
   Route Optimization is disabled. 
    
   Figure 1 shows a topology before two MRs move from home link to 
   foreign link. When the MR1 and MR2 are at home link, each MR uses 
   1:1:: and 2:1:: respectively as its own mobile network prefix. 
 
    
    
    
    
    
    
    
    
    
    
    
    
    
    
 
 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 3] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
                               +---+  
                               |CN |  
                               +-+-+  
                                 |     
           +------+           +--+-----+                +------+  
           |HA-MR1|-----------|Internet|----------------|HA-MR2|   
           +---+--+           +--+-----+                +----+-+  
               |1::              |                       2:: |  
             +-+-+1           +--+-+                       +-+-+3  
             |MR1|            | AR |                       |MR2|  
             +-+-+2           +--+-+                       +-+-+4  
               |1:1::            | 3::                 2:1:: |  
         --+---+--+------+-  ----+---                 ---+---+--+--  
           |      |      |                               |      |  
         +-+-+5 +-+-+6 +-+-+7                          +-+-+8 +-+-+9  
         |LMN|  |VMN|  |LFN|                           |LMN|  |VMN|  
         +---+  +---+  +---+                           +---+  +---+  
          
                          
       Figure 1. Mobile router at home link 
    
   Figure 2 shows a topology after two MRs move from home link to 
   foreign link and each MR performs PD. First, MR1 detects movement and 
   gets a prefix (3:1::) from AR. MR1 advertises the DP to its subnet by 
   sending RA message with Delegated Prefix option. And then, MR2 moves 
   to MR1's network. MR2 gets prefix (3:1:1::) from MR1 and advertises 
   the prefix to its subnet.    
    
   When each MN receives RA message with Delegated Prefix option, it 
   processes the DP option preferentially: make CoA from the prefix and 
   performs binding updates to HA and CN. In figure 2, CoA1 is used as a 
   primary CoA, which is made from DP. This process is transparent to 
   LFNs. 
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 4] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
                               +---+  
                               |CN |  
                               +-+-+  
                                 |     
           +------+           +--+-----+                +------+  
           |HA-MR1|-----------|Internet|----------------|HA-MR2|   
           +---+--+           +--+-----+                +----+-+  
               |1::              |                       2:: |  
                              +--+-+  
                              | AR |  
                              +--+-+  
                                 | 3::  
                          --+----+------  
                            |    
                          +-+-+ HoA 1::1, CoA 3::1  
                          |MR1| Delegated Prefix(DP) = 3:1::  
                          +-+-+ Mobile Network Prefix(MNP) = 1:1::  
                            |  
                      --+---+--+------+--------+------  
                        |      |      |        |  
                      +-+-+  +-+-+  +-+-+    +-+-+ HoA  2::3   
                      |LMN|  |VMN|  |LFN|    |MR2| CoA1 3:1::3  
                      +---+  +---+  +---+    +-+-+ CoA2 1:1::3  
                CoA1 3:1::5  3:1::6            |      DP = 3:1:1::  
                CoA2         1:1::6     ---+---+--+-- MNP = 2:1::  
                                           |      |  
                                         +-+-+  +-+-+  
                                         |LMN|  |VMN|  
                                         +-+-+  +-+-+  
                               CoA1    3:1:1::8  3:1:1::9  
                               CoA2              2:1::9  
              
                               
       Figure 2. Prefix Delegation for Route Optimization  
         
   After the PD, the routing table of routers is updated. It is possible 
   because each router has information about delegated prefix.  
    
    
    
    
    
    
    
    
    
    

 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 5] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
4. Neighbor Discovery extension : Delegated Prefix option format 
    
   This specification defines a new option, the Delegated Prefix option,    
   for the Neighbor Discovery protocol of IPv6. The option format is 
   shown in Figure 2.   
        
       0                   1                   2                   3  
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1  
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
       |     Type      |    Length     | Prefix Length |L|A| Reserved1 |  
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
       |                         Valid Lifetime                        |  
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
       |                       Preferred Lifetime                      |  
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
       |                           Reserved2                           |  
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
       |                                                               |  
       +                                                               +  
       |                                                               |  
       +                            Prefix                             +  
       |                                                               |  
       +                                                               +  
       |                                                               |  
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+  
       Figure 2. Delegated Prefix Option Format for Route Optimization  
        
        
       Fields:   
        
         Type         XXX [TBD: IANA]  
           
         Prefix       Delegated Prefix. The Prefix Length field contains 
                      the number of valid leading bits in the prefix.  
                      The bits in the prefix after the prefix length  
                      are reserved and MUST be initialized to zero by  
                      the sender and ignored by the receiver  
        
   The Delegated Prefix option provides mobile nodes with on-link prefix 
   of access network and prefix for address autoconfiguration of CoA. 
   The Delegated Prefix option appears in Router Advertisement packets 
   and MUST be silently ignored for other messages.  
    
    
    
    
    

 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 6] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
5. Mobile IPv6 extension : Process of Delegated Prefix option 
    
   MN scans all options in received router advertisement message. To 
   initiate Route Optimization MN operation MUST be extended as follows:  
    
   (1)Process the new RA option, Delegated Prefix option: MN forms CoA 
      using the prefix.  
   (2)Use the CoA as primary CoA.   
       
   MN performs registration procedure according to the Mobile IPv6 
   protocol. Even if LMN is on home link, it SHOULD make new CoA using 
   the DP and SHOULD perform binding updates to HA and CN. In this case, 
   deregistration SHOULD NOT be performed.  
    
   There is no change of HA and CN operations. 
    
    
6. Handover Considerations 
    
   When a MR moves into another AR and detects movement, it SHOULD NOT 
   return prefix delegated from the old AR immediately. It takes some 
   time to find out whether the new AR supports PD or not. Moreover, MR 
   can fail in PD for several reasons. Therefore, some considerations 
   are needed for smooth handover. 
    
    
7. Security Considerations 
    
   Because the mechanism described in this document needs to exchange PD 
   message between a MR and its AR, AAA MAY be used to authenticate MR.  
    
    
8. Consideration for Optimization of DNS Name Resolution 
    
   The optimization of DNS name resolution is possible if mobile router 
   announces the address of local recursive DNS server as well as prefix 
   information through RA message. The DNS server can exist either 
   within mobile network or within access network. The address of 
   recursive DNS server is delivered to mobile nodes through Recursive 
   DNS Server option, one of RA options [10]. 
    
    
9. Applicability Statements 
    
   Proposed mechanism in this draft is applicable to large, hierarchical 
   and stable mobile network such as train or airplane because it takes 
   some time to configure and update new CoA by prefix delegation 
   protocol. Those mobile networks do not change its topology frequently 
 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 7] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
   so it reduces time to be consumed for prefix delegation whenever the 
   topology changes in the mobile network. 
    
    
10. References 
    
   [1] Bradner, S., "The Internet Standards Process -- Revision 3", BCP9, 
       RFC 2026, October 1996.   
    
   [2] Thierry Ernst, "Network Mobility Support Terminology", draft-
       ietf-nemo-terminology-00.txt, May 2003.  
        
   [3] D. Johnson, C. Perkins and J. Arkko, "Mobility Support in IPv6", 
       draft-ietf-mobileip-ipv6-24.txt, June 2003.  
        
   [4] J. Manner and M. Kojo, "Mobility Related Terminology", draft-
       ietf-seamoby-mobility-terminology-05.txt, Nov 2003.  
        
   [5] Nathan Lutchansky, "IPv6 Router Advertisement Prefix Delegation 
       Option", draft-lutchann-ipv6-delegate-option-00.txt, Aug 2002.  
    
   [6] B. Haberman, "Automatic Prefix Delegation Protocol for Internet 
       Protocol Version 6 (IPv6)", draft-haberman-ipngwg-auto-prefix-
       02.txt, Aug 2002.  
        
   [7] O. Troan and R. Droms, "IPv6 Prefix Options for DHCPv6", draft-
       troan-dhcpv6-opt-prefix-delegation-00.txt, Aug 2002.  
        
   [8] Vijay Devarapalli, Ryuji wakikawa, Alexandru Petrescu and Pascal 
       Thubert, "Network Mobility (NEMO) Basic Support Protocol", 
       draft-ietf-nemo-basic-support-02.txt, Dec 2003.  
        
   [9] Jaehoon Jeong, Soohong D. Park, Luc Beloeil and Syam Madanapalli, 
       "IPv6 DNS Discovery based on Router Advertisement", draft-jeong-
       dnsop-ipv6-dns-discovery-01.txt, Feb 2004. 
    
   [10] Byung-Yeob Kim, Kyeong-Jin Lee, Jung-Soo Park and Hyoung-Jun Kim, 
       "Hierarchical Prefix Delegation Protocol for Internet Protocol 
       Version 6(IPv6)", draft-bykim-ipv6-hpd-01.txt, Feb 2004. 
    
    
11. Authors' Addresses 
    
   Kyeong-Jin Lee 
   ETRI / PEC 
   161 Gajong-Dong, Yusong-Gu 
   Daejon 305-350 
   Korea 
 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 8] 
 
Internet-Draft Route Optimization for MN based on PD     February 2004 
 
 
    
   Phone: +82 42 860 6484 
   EMail: leekj@etri.re.kr 
    
   Jae-Hoon Jeong 
   ETRI / PEC 
   161 Gajong-Dong, Yusong-Gu 
   Daejon 305-350 
   Korea 
    
   Phone: +82 42 860 1664 
   EMail: paul@etri.re.kr 
    
   Jung-Soo Park 
   ETRI / PEC 
   161 Gajong-Dong, Yusong-Gu 
   Daejon 305-350 
   Korea 
    
   Phone: +82 42 860 6514 
   EMail: pjs@etri.re.kr 
    
   Hyoung-Jun Kim 
   ETRI / PEC 
   161 Gajong-Dong, Yusong-Gu 
   Daejon 305-350 
   Korea 
    
   Phone: +82 42 860 6576 
   EMail: khj@etri.re.kr 
 

















 
 
Lee, Jeong, Park, Kim    Expires - August 2004                [Page 9] 

