WG MMUSIC                                              Keith Drage, Ed.
Internet Draft                                 Juergen Stoetzer-Bradler
Intended status: Standards track                       Albrecht Schwarz
Expires: February 2016                                   Alcatel-Lucent
                                                        August 10, 2015


                T.140 Text Conversation over Data Channels
            draft-schwarz-mmusic-t140-usage-data-channel-00.txt




Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008. The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on February 10, 2016.




Schwarz               Expires February 10, 2016                [Page 1]

Internet-Draft    SDP codepoints for gateway control        August 2015


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document.

Abstract

   This document specifies how the ITU-T Protocol for multimedia
   application text conversation (Recommendation ITU-T T.140) can be
   instantiated as a data channel sub-protocol, using the SDP
   offer/answer exchange-based external negotiation defined in [I-
   D.ietf-mmusic-data-channel-sdpneg]. Two network configurations are
   documented: a WebRTC end-to-end configuration (connecting two T.140
   over data channel endpoints), and a gateway configuration
   (connecting an T.140 over data channel endpoint with an T.140 over
   RTP/UDP endpoint).

Table of Contents


   1. Introduction...................................................3
      1.1. Motivation................................................3
      1.2. Framework of WebRTC data applications.....................4
   2. Conventions....................................................4
      2.1. Prescriptive language.....................................4
      2.2. Notation..................................................4
   3. Terminology and abbreviations..................................4
      3.1. Terminology used..........................................4
      3.2. Abbreviations used........................................5
   4. Prinicples.....................................................6
      4.1. T.140 Data Channel........................................6
      4.2. Session Mapping...........................................6
   5. End-to-End Configuration.......................................6
      5.1. Basic T.140 Support.......................................6
         5.1.1. Session Negotiation..................................6
            5.1.1.1. Use of dcmap Attribute..........................6
            5.1.1.2. Use of dcsa Attribute...........................7
            5.1.1.3. Example SDP Negotiation.........................7
         5.1.2. Session Opening......................................7
         5.1.3. Data Framing.........................................7


Schwarz               Expires February 10, 2016                [Page 2]

Internet-Draft    SDP codepoints for gateway control        August 2015


         5.1.4. Data Sending and Reporting...........................7
         5.1.5. Session Closing......................................7
      5.2. Support of T.140-specific Functions.......................7
   6. Gateway Configurations.........................................8
      6.1. Introduction..............................................8
      6.2. Gateway-embedded Interworking Functions for T.140.........8
         6.2.1. WebRTC T.140 text to IP text telephony in text
         conversation mode...........................................8
         6.2.2. WebRTC T.140 text to IP text telephony in text relay
         mode........................................................8
         6.2.3. WebRTC T.140 text to IP text telephony in text pass-
         through mode................................................9
         6.2.4. WebRTC T.140 text to PSTN text telephony.............9
      6.3. Example gateway configuration in more detail..............9
   7. Security Considerations.......................................10
   8. IANA Considerations...........................................10
   9. References....................................................10
      9.1. Normative References.....................................10
      9.2. Informative References...................................11
   10. Acknowledgments..............................................11
   11. CHANGE LOG...................................................13
      11.1. Initial draft-schwarz-mmusic-t140-usage-data-channel-01.13
         11.1.1. Status.............................................13
         11.1.2. Changes against "draft-ietf-mmusic-msrp-usage-data-
         channel-01"................................................13

1. Introduction

1.1. Motivation

   Recommendation ITU-T T.140 [ITU-T T.140] defines a protocol for text
   conversation, also known as realtime text or text telephony. The
   native transport for IP networks is based on the Real-time Transport
   Protocol (RTP; see [RFC4103]) due to its inherent realtime
   characteristics, similar as conversational audio and video services.

   WebRTC text conversation is based on T.140, but considered as "data
   traffic" component (despite the fact of the native RTP-based
   transport in non-WebRTC environments), see [I-D.ietf-rtcweb-????].

   This document defines the SDP-based negotiation and transport of the
   T.140 protocol over data channels, where a data channel is a bi-
   directional communication channel running on top of SCTP/DTLS (as
   per [I-D.ietf-rtcweb-data-channel]) and where T.140 is instantiated
   as a sub-protocol of this data channel.




Schwarz               Expires February 10, 2016                [Page 3]

Internet-Draft    SDP codepoints for gateway control        August 2015


   Considering an T.140 endpoint being an T.140 application that uses
   data channel from WebRTC specifications [I-D.ietf-rtcweb-data-
   channel], this document describes two configurations where the other
   endpoint is respectively either another T.140 over data channel
   endpoint (e.g., a WebRTC application) or an T.140 endpoint using
   native RTP transport.

1.2. Framework of WebRTC data applications

   There are multiple IP application protocols which using WebRTC data
   channels as transport, such as MSRP or BFCP besides T.140. The SDP-
   based indication and negotiation of such WebRTC data applications at
   call control signalling level follows common principles. The first
   WebRTC application from this suite is/was the MSRP-based instant
   messaging service for WebRTC, see [I-D.ietf-mmusic-msrp-usage-data-
   channel]. This specification for T.140 was derived from that
   document and uses an aligned clause structuring.

   It may be noted that the T.140 protocol as such is much simpler in
   comparison to the MSRP, which requires an extensive set of SDP
   elements (in comparison to T.140) for the description of specific
   MSRP services and their protocol parameter settings.

2. Conventions

2.1. Prescriptive language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [RFC2119].

2.2. Notation

   The brief notation "T.140" is used as a synonym for the text
   conversation protocol according to [ITU-T T.140].

3. Terminology and abbreviations

3.1. Terminology used

   This document uses the following terms:

   Data channel: A WebRTC data channel as specified in [I-D.ietf-
   rtcweb-data-channel].

   T.140 data channel: A data channel specifically used to transport
   the text and presentation control information of one T.140 session.


Schwarz               Expires February 10, 2016                [Page 4]

Internet-Draft    SDP codepoints for gateway control        August 2015


   External negotiation: Data channel negotiation based on out-of-band
   or in-band mechanisms other than the Data Channel Establishment
   Protocol specified in [I-D.ietf-rtcweb-data-protocol].

   In-band: Transmission through the peer-to-peer SCTP association.

   Out-of-band: Transmission through the call control signaling path,
   e.g., using JSEP [I-D.ietf-rtcweb-jsep] and the SDP Offer/Answer
   model [RFC3264].

   Peer: From the perspective of one of the agents in a session, its
   peer is the other agent. Specifically, from the perspective of the
   SDP offerer, the peer is the SDP answerer. From the perspective of
   the SDP answerer, the peer is the SDP offerer

3.2. Abbreviations used

   DS       #####

   DTLS     Datagram Transport Layer Security

   GCP      Gateway Control Protocol

   ITU-T    International Telecommunication Union Telecommunication
            Standardization Sector

   IWF      Interworking Function

   JSEP     #####

   MG       (H.248) Media Gateway

   MGC      (H.248) Media Gateway Controller

   RTP      Real-time Transport Protocol

   SCTP     Stream Control Transmission Protocol

   SDP      Session Description Protocol

   SIP      Session Initiation Protocol

   TCP      Transmission Control Protocol

   TDM      (Synchronous) Time Division Multiplexing

   ToIP     Text over IP


Schwarz               Expires February 10, 2016                [Page 5]

Internet-Draft    SDP codepoints for gateway control        August 2015


   TLS      Transport Layer Security

   UA       User Agent

   UDP      User Datagram Protocol

   VBD      Voiceband Data

4. Prinicples

4.1. T.140 Data Channel

   In this document, an T.140 data channel is a data channel for which
   the instantiated sub-protocol is "t140", and where the T.140-related
   negotiation is done as part of the SDP-based external negotiation
   method defined in [I-D.ietf-mmusic-data-channel-sdpneg].

4.2. Session Mapping

   In this design, the T.140 session maps to the SCTP association and
   the "SCTP stream pair" assigned to the data channel, and each T.140
   session maps to one data channel exactly.

5. End-to-End Configuration

   This section describes the network configuration where each T.140
   endpoint is running T.140 over a data channel.

5.1. Basic T.140 Support

5.1.1. Session Negotiation

5.1.1.1. Use of dcmap Attribute

   The SDP offer shall include a dcmap attribute line (defined in [I-
   D.ietf-mmusic-data-channel-sdpneg], within the media description for
   the SCTP association for each T.140 data channel session to be
   negotiated.

   The attribute includes the following data channel parameters:

   o  "label=" labelstring

   o  "subprotocol=" "t140"





Schwarz               Expires February 10, 2016                [Page 6]

Internet-Draft    SDP codepoints for gateway control        August 2015


   The labelstring is set by the T.140 application according to [I-
   D.ietf-mmusic-data-channel-sdpneg]. The max-retr, max-time and
   ordered parameters shall not be used.

   Rest of the SDP offer/answer procedures are per [I-D.ietf-mmusic-
   data-channel-sdpneg].

   The following is an example of the dcmap attribute for an T.140
   session to be negotiated (on default SCTP port 5000) with stream=3
   and without any label:

   a=dcmap:3 subprotocol="t140"

5.1.1.2. Use of dcsa Attribute

   FIXTHIS

5.1.1.3. Example SDP Negotiation

   FIXTHIS

5.1.2. Session Opening

   FIXTHIS

5.1.3. Data Framing

   FIXTHIS

5.1.4. Data Sending and Reporting

   FIXTHIS

5.1.5. Session Closing

   FIXTHIS

5.2. Support of T.140-specific Functions

   FIXTHIS (e.g., T.140 specific reliable transport requirements)









Schwarz               Expires February 10, 2016                [Page 7]

Internet-Draft    SDP codepoints for gateway control        August 2015


6. Gateway Configurations

6.1. Introduction

   This section describes the network configuration where one T.140
   endpoint uses data channels as T.140 transport, the other T.140
   endpoint uses a different protocol stack. There is consequently an
   interworking function (IWF) in the media plane required, associated
   with correspondent interworking in the signalling plane. Such type
   of IWFs are provided by gateway devices, given here by WebRTC
   gateways as defined by [I-D.ietf-rtcweb-gateways], [ITU-T H.248.94],
   [3GPP 29.334], etc.

6.2. Gateway-embedded Interworking Functions for T.140

   There are a plethora of interworking functions knowns for T.140
   [ITU-T T.140] due to the long history and usage of this service in
   legacy packet-switched and circuit-switched networks. Some examples
   are indicated below.

6.2.1. WebRTC T.140 text to IP text telephony in text conversation mode

   Service "IP text telephony in text conversation mode":

     Transport service according to [RFC4103].

   Media plane IWF:

     "T.140-over-SCTP stream-over-SCTP association-over-DTLS-over-L4"
     to "T.140-over-RTP/UDP"



6.2.2. WebRTC T.140 text to IP text telephony in text relay mode

   Service "IP text telephony in text relay mode":

     Transport of T.140 over IP networks, according to [ITU-T V.151].
     Also known as Text-over-IP (ToIP).

   Media plane IWF:

     "T.140-over-SCTP stream-over-SCTP association-over-DTLS-over-L4"
     to "T.140-over-IP TLP-UDP".

     NOTE: [ITU-T V.151] uses the concept of an "IP Transport Layer
     Protocol" (IP-TLP) above the native IP transport layer, which


Schwarz               Expires February 10, 2016                [Page 8]

Internet-Draft    SDP codepoints for gateway control        August 2015


     again allows different framing protocol options (such as RTP-based
     or SPRT-based framing (Simple Packet Relay Transport, see Annex B
     of [ITU-T V.150.1])).



6.2.3. WebRTC T.140 text to IP text telephony in text pass-through mode

   Service "IP text telephony in text pass-through mode":

     Transport of analogue PSTN text telephones signals over PCM
     encoded voice over IP networks, according to [ITU-T V.152]. Also
     known as Voiceband-over-IP (VBDoIP).

   Media plane IWF:

     "T.140-over-SCTP stream-over-SCTP association-over-DTLS-over-L4"
     to "text/modem-over-G.711-over-RTP/UDP".

     NOTE: This is the VBD mode according to [ITU-T V.152], using ITU-T
     G.711 as VBD codec (i.e., a different codec configuration as in
     comparison to G.711 as audio codec).



6.2.4. WebRTC T.140 text to PSTN text telephony

   Service "PSTN text telephony":

     Transport of analogue PSTN text telephones signals over a)
     analogue lines or b) circuit-switched 64-kbit/s channels.

   Media plane IWF:

     "T.140-over-SCTP stream-over-SCTP association-over-DTLS-over-L4"
     to "text/modem-over-DS0/TDM" (in case of circuit-switched
     networks).



6.3. Example gateway configuration in more detail

   The signalling plane and media plane interworking functions are
   elaborated in more detail at the example of a WebRTC gateway with
   support of interworking to IP text telephony in text conversation
   mode.



Schwarz               Expires February 10, 2016                [Page 9]

Internet-Draft    SDP codepoints for gateway control        August 2015


   This example describes the network configuration where one T.140
   endpoint uses data channels as T.140 transport, the other T.140
   endpoint uses RTP/UDP connections as T.140 transport, and the two
   T.140 endpoints interwork via an appropriate interworking function.

   FIXTHIS - details



7. Security Considerations

   FIXTHIS

8. IANA Considerations

   FIXTHIS

9. References

9.1. Normative References

   [RFC2119] RFC 2119 (03/1997), "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14.

   [RFC3264] RFC 3264 (06/2002), "An Offer/Answer Model with the
             Session Description Protocol (SDP)".

   [RFC4103] RFC 4103 (06/2005), "RTP Payload for Text Conversation".

   [RFC4566] RFC 4566 (07/2006), "SDP: Session Description Protocol".

   [I-D.ietf-rtcweb-data-protocol]  draft-ietf-rtcweb-data-channel
             (##/2015), "WebRTC Data Channel Establishment Protocol".

   [I-D.ietf-rtcweb-data-channel]
               http://tools.ietf.org/wg/rtcweb/draft-ietf-rtcweb-data-
             channel/draft-ietf-rtcweb-data-channel (##/2015), "WebRTC
             Data Channels".

   [I-D.ietf-mmusic-data-channel-sdpneg]  draft-ietf-mmusic-data-
             channel-sdpneg (##/2015), "SDP-based Data Channel
             Negotiation".

   [I-D.ietf-mmusic-msrp-usage-data-channel] draft-ietf-mmusic-msrp-
             usage-data-channel (##/2015), "MSRP over Data Channels".




Schwarz               Expires February 10, 2016               [Page 10]

Internet-Draft    SDP codepoints for gateway control        August 2015


   [ITU-T T.140]  Recommendation ITU-T T.140 (02/1998), "Protocol for
             multimedia application text conversation".
             Free copy via:
             https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-
             T.140-199802-I!!PDF-E&type=items

9.2. Informative References

   [I-D.ietf-rtcweb-gateways] draft-ietf-rtcweb-gateways (##/2015),
             "WebRTC Gateways".

   [ITU-T H.248.94]  Recommendation ITU-T H.248.94 (10/2015), "Web-
             based real-time communication services - H.248 protocol
             support and profile guidelines".
             Status: still work in progress in ITU-T SG16 Question 3
             Free copy via: FIXTHIS

   [ITU-T V.151]  Recommendation ITU-T V.151 (05/2006), "Procedures for
             the end-to-end connection of analogue PSTN text telephones
             over an IP network utilizing text relay".
             Free copy via:
             https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-
             V.151-200605-I!!PDF-E&type=items

   [ITU-T V.152]  Recommendation ITU-T V.152 (09/2010), "Procedures for
             supporting voice-band data over IP networks".
             Free copy via:
             https://www.itu.int/rec/dologin_pub.asp?lang=e&id=T-REC-
             V.152-201009-I!!PDF-E&type=items

   [3GPP 29.334]  3GPP TS 29.334 Release 13 (2015), "Digital cellular
             telecommunications system (Phase 2+); Universal Mobile
             Telecommunications System (UMTS); LTE; IMS Application
             Level Gateway (IMS-ALG) - IMS Access Gateway (IMS-AGW); Iq
             Interface; Stage 3".
             Free copy via:
             ftp://ftp.3gpp.org/specs/archive/29_series/29.334/

10. Acknowledgments

   FIXTHIS








Schwarz               Expires February 10, 2016               [Page 11]

Internet-Draft    SDP codepoints for gateway control        August 2015


Authors' Addresses

   Keith Drage (editor)
   Alcatel-Lucent
   Quadrant, Stonehill Green, Westlea
   Swindon
   UK

   Email: keith.drage@alcatel-lucent.com


   Dr. Juergen Stoetzer-Bradler
   Alcatel-Lucent
   Lorenzstrasse 10
   D-70435 Stuttgart
   GERMANY

   Email: Juergen.Stoetzer-Bradler@alcatel-lucent.com


   Dr. Albrecht Schwarz
   Alcatel-Lucent
   Lorenzstrasse 10
   D-70435 Stuttgart
   GERMANY

   Email: Albrecht.Schwarz@alcatel-lucent.com






















Schwarz               Expires February 10, 2016               [Page 12]

Internet-Draft    SDP codepoints for gateway control        August 2015


11. CHANGE LOG

11.1. Initial draft-schwarz-mmusic-t140-usage-data-channel-01

11.1.1. Status

   o  The initial document represents a skeleton where still a number
      of clauses are still empty.

   o  The intention is to propose a document structure aligned with the
      MSRP draft, and to emphasize WebRTC gateway flavours.

11.1.2. Changes against "draft-ietf-mmusic-msrp-usage-data-channel-01"

   o  Replace protocol "MSRP" by "T.140" plus protocol specific
      adaptations

   o  Initial scope of gateway section































Schwarz               Expires February 10, 2016               [Page 13]

