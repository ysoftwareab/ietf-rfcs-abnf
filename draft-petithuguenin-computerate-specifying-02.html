<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>The Computerate Specifying Paradigm</title>
<meta content="Marc Petit-Huguenin" name="author">
<meta content="
       This document specifies a paradigm named Computerate Specifying, designed to simultaneously document and formally specify communication protocols.
This paradigm can be applied to any document produced by any Standard Developing Organization (SDO), but this document targets specifically documents produced by the IETF. 
    " name="description">
<meta content="xml2rfc 2.35.0" name="generator">
<meta content="draft-petithuguenin-computerate-specifying-02" name="ietf.draft">
<link href="/tmp/draft-petithuguenin-computerate-specifying-02-hkTEFu.xml" type="application/rfc+xml" rel="alternate">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin: 0 0 0.25em 0;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .sourcecode {
    margin-bottom: 1em;
  }
}</style>
<link href="rfc-local.css" type="text/css" rel="stylesheet">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Computerate Specifying</td>
<td class="right">November 2019</td>
</tr></thead>
<tfoot><tr>
<td class="left">Petit-Huguenin</td>
<td class="center">Expires 20 May 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-petithuguenin-computerate-specifying-02</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2019-11-17" class="published">17 November 2019</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Experimental</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-05-20">20 May 2020</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Petit-Huguenin</div>
<div class="org">Impedance Mismatch LLC</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">The Computerate Specifying Paradigm</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document specifies a paradigm named Computerate Specifying, designed to simultaneously document and formally specify communication protocols.
This paradigm can be applied to any document produced by any Standard Developing Organization (SDO), but this document targets specifically documents produced by the IETF.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 20 May 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2019 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-of-operations" class="xref">Overview of Operations</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-libraries" class="xref">Libraries</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-retrofitting-specifications" class="xref">Retrofitting Specifications</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-revision-of-standards" class="xref">Revision of Standards</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-content-of-a-computerate-sp" class="xref">Content of a Computerate Specification</a><a href="#section-toc.1-1.2.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-syntax" class="xref">Syntax</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-syntax-examples" class="xref">Syntax Examples</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1"><a href="#section-3.1.1" class="xref">3.1.1</a>.  <a href="#name-data-type" class="xref">Data Type</a><a href="#section-toc.1-1.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="xref">3.1.2</a>.  <a href="#name-serializer" class="xref">Serializer</a><a href="#section-toc.1-1.3.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.1.2.3">
                    <p id="section-toc.1-1.3.2.1.2.3.1"><a href="#section-3.1.3" class="xref">3.1.3</a>.  <a href="#name-presentation-format" class="xref">Presentation Format</a><a href="#section-toc.1-1.3.2.1.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-formal-syntax-language" class="xref">Formal Syntax Language</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="xref">3.2.1</a>.  <a href="#name-augmented-bnf-abnf" class="xref">Augmented BNF (ABNF)</a><a href="#section-toc.1-1.3.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="xref">3.2.2</a>.  <a href="#name-augmented-packet-header-dia" class="xref">Augmented Packet Header Diagrams (APHD)</a><a href="#section-toc.1-1.3.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.3">
                    <p id="section-toc.1-1.3.2.2.2.3.1"><a href="#section-3.2.3" class="xref">3.2.3</a>.  <a href="#name-mathematical-formulas" class="xref">Mathematical Formulas</a><a href="#section-toc.1-1.3.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.4">
                    <p id="section-toc.1-1.3.2.2.2.4.1"><a href="#section-3.2.4" class="xref">3.2.4</a>.  <a href="#name-relax-ng-format" class="xref">RELAX NG Format</a><a href="#section-toc.1-1.3.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.5">
                    <p id="section-toc.1-1.3.2.2.2.5.1"><a href="#section-3.2.5" class="xref">3.2.5</a>.  <a href="#name-asn1" class="xref">ASN.1</a><a href="#section-toc.1-1.3.2.2.2.5.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.2.2.6">
                    <p id="section-toc.1-1.3.2.2.2.6.1"><a href="#section-3.2.6" class="xref">3.2.6</a>.  <a href="#name-tls-description-language" class="xref">TLS Description Language</a><a href="#section-toc.1-1.3.2.2.2.6.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-proofs-for-syntax" class="xref">Proofs for Syntax</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.1">
                    <p id="section-toc.1-1.3.2.3.2.1.1"><a href="#section-3.3.1" class="xref">3.3.1</a>.  <a href="#name-isomorphism-between-type-an" class="xref">Isomorphism Between Type and Formal Language</a><a href="#section-toc.1-1.3.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.2">
                    <p id="section-toc.1-1.3.2.3.2.2.1"><a href="#section-3.3.2" class="xref">3.3.2</a>.  <a href="#name-data-format-conversion" class="xref">Data Format Conversion</a><a href="#section-toc.1-1.3.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.3">
                    <p id="section-toc.1-1.3.2.3.2.3.1"><a href="#section-3.3.3" class="xref">3.3.3</a>.  <a href="#name-interoperability-with-previ" class="xref">Interoperability with Previous Versions</a><a href="#section-toc.1-1.3.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.3.2.3.2.4">
                    <p id="section-toc.1-1.3.2.3.2.4.1"><a href="#section-3.3.4" class="xref">3.3.4</a>.  <a href="#name-postels-law" class="xref">Postel's Law</a><a href="#section-toc.1-1.3.2.3.2.4.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-semantics" class="xref">Semantics</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-typed-petri-nets" class="xref">Typed Petri Nets</a><a href="#section-toc.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-semantics-examples" class="xref">Semantics Examples</a><a href="#section-toc.1-1.4.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.1">
                    <p id="section-toc.1-1.4.2.2.2.1.1"><a href="#section-4.2.1" class="xref">4.2.1</a>.  <a href="#name-data-type-2" class="xref">Data Type</a><a href="#section-toc.1-1.4.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.2">
                    <p id="section-toc.1-1.4.2.2.2.2.1"><a href="#section-4.2.2" class="xref">4.2.2</a>.  <a href="#name-serializer-2" class="xref">Serializer</a><a href="#section-toc.1-1.4.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.2.2.3">
                    <p id="section-toc.1-1.4.2.2.2.3.1"><a href="#section-4.2.3" class="xref">4.2.3</a>.  <a href="#name-presentation-format-2" class="xref">Presentation Format</a><a href="#section-toc.1-1.4.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="xref">4.3</a>.  <a href="#name-formal-semantics-language" class="xref">Formal Semantics Language</a><a href="#section-toc.1-1.4.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.3.2.1">
                    <p id="section-toc.1-1.4.2.3.2.1.1"><a href="#section-4.3.1" class="xref">4.3.1</a>.  <a href="#name-cosmogol" class="xref">Cosmogol</a><a href="#section-toc.1-1.4.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="xref">4.4</a>.  <a href="#name-proofs-for-semantics" class="xref">Proofs for Semantics</a><a href="#section-toc.1-1.4.2.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.1">
                    <p id="section-toc.1-1.4.2.4.2.1.1"><a href="#section-4.4.1" class="xref">4.4.1</a>.  <a href="#name-isomorphism" class="xref">Isomorphism</a><a href="#section-toc.1-1.4.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.2">
                    <p id="section-toc.1-1.4.2.4.2.2.1"><a href="#section-4.4.2" class="xref">4.4.2</a>.  <a href="#name-postels-law-2" class="xref">Postel's Law</a><a href="#section-toc.1-1.4.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.3">
                    <p id="section-toc.1-1.4.2.4.2.3.1"><a href="#section-4.4.3" class="xref">4.4.3</a>.  <a href="#name-termination" class="xref">Termination</a><a href="#section-toc.1-1.4.2.4.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.4">
                    <p id="section-toc.1-1.4.2.4.2.4.1"><a href="#section-4.4.4" class="xref">4.4.4</a>.  <a href="#name-liveness" class="xref">Liveness</a><a href="#section-toc.1-1.4.2.4.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty" id="section-toc.1-1.4.2.4.2.5">
                    <p id="section-toc.1-1.4.2.4.2.5.1"><a href="#section-4.4.5" class="xref">4.4.5</a>.  <a href="#name-verified-code" class="xref">Verified Code</a><a href="#section-toc.1-1.4.2.4.2.5.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-command-line-tools" class="xref">Command Line Tools</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-installation" class="xref">Installation</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-a.1.1" class="xref">A.1.1</a>.  <a href="#name-download-the-docker-image" class="xref">Download the Docker Image</a><a href="#section-toc.1-1.6.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-using-the-computerate-comma" class="xref">Using the <code>computerate</code> Command</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-using-the-idris-repl" class="xref">Using the Idris REPL</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-a.4" class="xref">A.4</a>.  <a href="#name-using-other-commands" class="xref">Using Other Commands</a><a href="#section-toc.1-1.6.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-a.5" class="xref">A.5</a>.  <a href="#name-bugs-and-workarounds" class="xref">Bugs and Workarounds</a><a href="#section-toc.1-1.6.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.6.2.6">
                <p id="section-toc.1-1.6.2.6.1"><a href="#section-a.6" class="xref">A.6</a>.  <a href="#name-todo-list" class="xref">TODO List</a><a href="#section-toc.1-1.6.2.6.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-computerate-specifications-" class="xref">Computerate Specifications Library</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-b.1" class="xref">B.1</a>.  <a href="#name-installation-2" class="xref">Installation</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-b.2" class="xref">B.2</a>.  <a href="#name-catalog" class="xref">Catalog</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty">
<li class="toc ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-b.2.1" class="xref">B.2.1</a>.  <a href="#name-rfc5234" class="xref">RFC5234</a><a href="#section-toc.1-1.7.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-appendix.c" class="xref">Appendix C</a>.  <a href="#name-errata-statistics" class="xref">Errata Statistics</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-appendix.d" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.e" class="xref"></a><a href="#name-changelog" class="xref">Changelog</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.f" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">If, as the unofficial IETF motto states, we believe that "running code" is an important part of the feedback provided to the standardization process, then as per the Curry-Howard equivalence <span>[<a href="#Curry-Howard" class="xref">Curry-Howard</a>]</span> (that states that code and mathematical proofs are the same), we ought to also believe that "verified proof" is an equally important part of that feedback.
A verified proof is a mathematical proof of a logical proposition that was mechanically verified by a computer, as opposed to just peer-reviewed.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The "Experiences with Protocol Description" paper from Pamela Zave <span>[<a href="#Zave" class="xref">Zave</a>]</span> gives three conclusions about the usage of formal specifications for a protocol standard.
The first conclusion states that informal methods (i.e. the absence of verified proofs) are inadequate for widely used protocols.
This document is based on the assumption that this conclusion is correct, so its validity will not be discussed further.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">The second conclusion states that formal specifications are useful even if they fall short of the "gold standard" of a complete formal specification.
We will show that a formal specification can be incrementally added to a standard.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The third conclusion from Zave's paper states that the normative English language should be paraphrasing the formal specification.
The difficulty here is that to be able to keep the formal specification and the normative language synchronized at all times, these two should be kept as physically close as possible to each other.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">To do that we introduce the concept of "Computerate Specifying" (note that Computerate is a British English word).
"Computerate Specifying" is a play on "Literate Computing", itself a play on "Structured Computing" (see <span>[<a href="#Knuth92" class="xref">Knuth92</a>]</span> page 99).
In the same way that Literate Programming enriches code by interspersing it with its own documentation, Computerate Specifying enriches a standard specification by interspersing it with code (or with proofs, as they are the same thing), making it a computerate specification.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">Note that computerate specifying is not specific to the IETF, just like literate computing is not restricted to the combination of Tex and Pascal described in Knuth's paper.
What this document describes is a specific instance of computerate specifying that combines <span>[<a href="#AsciiDoc" class="xref">AsciiDoc</a>]</span> as formatting language and <span>[<a href="#Idris" class="xref">Idris</a>]</span> as programming language with the goal of formally specifying IETF protocols.<a href="#section-1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="overview">
<section id="section-2">
      <h2 id="name-overview-of-operations">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-of-operations" class="section-name selfRef">Overview of Operations</a>
      </h2>
<p id="section-2-1">Nowadays specifications at the IETF are written in a format named <span><a href="#RFC7991" class="xref">xml2rfc v3</a> [<a href="#RFC7991" class="xref">RFC7991</a>]</span> but unfortunately making that format "Computerable" is not trivial, mostly because there is no simple solution to mix code and XML together in the same file.
Instead, we chose the AsciiDoc format as the basis for computerate specifications as it permits the generation of specifications in the xmlrfc v3 format (among other formats) and also because it can be enriched with code in the same file.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2"><span>[<a href="#I-D.ribose-asciirfc" class="xref">I-D.ribose-asciirfc</a>]</span> describes a backend for the <span>[<a href="#Asciidoctor" class="xref">Asciidoctor</a>]</span> tool that converts an AsciiDoc document into an xmlrfc3 document.
The AsciiRFC document states various reasons why AsciiDoc is a superior format for the purpose of writing standards, so we will not discuss these further.
Note that the same team developed Asciidoctor backends for other Standards Developing Organizations (SDO) <span>[<a href="#Metanorma" class="xref">Metanorma</a>]</span>, making it easy to develop computerate specifications targeting the standards developed by these SDOs.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">The code in a computerate specification uses the programming language Idris in <span><a href="#Literate" class="xref">literate programming</a> [<a href="#Literate" class="xref">Literate</a>]</span> mode using the Bird-style, by having each line of code starting with a "&gt;" mark in the first column.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">That same symbol was also used by AsciiDoc as an alternate way of defining a <span><a href="#Blockquotes" class="xref">blockquote</a> [<a href="#Blockquotes" class="xref">Blockquotes</a>]</span> way which is no longer available in a computerate specification.
Bird-style code will simply not appear in the rendered document.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">The result of Idris code execution can be inserted inside the document part by putting that code fragment in the document between the "{`" string and the "`}" string.<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">A computerate specification is processed by an Asciidoctor preprocessor that does the following:<a href="#section-2-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal" id="section-2-7">
        <li id="section-2-7.1">Loads the whole document as an Idris program, including importing modules.<a href="#section-2-7.1" class="pilcrow">¶</a>
</li>
        <li id="section-2-7.2">For each instance of an inline code fragment, evaluates that fragment and replace it (including the delimiters) by the result of that evaluation.<a href="#section-2-7.2" class="pilcrow">¶</a>
</li>
        <li id="section-2-7.3">Continues with the normal processing of the modified document.<a href="#section-2-7.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-2-8">For instance the following computerate specification fragment taken from the computerate specification of STUNbis<a href="#section-2-8" class="pilcrow">¶</a></p>
<figure id="figure-1">
        <div id="section-2-9.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; rto : Int
&gt; rto = 500
&gt;
&gt; rc : Nat
&gt; rc = 7
&gt;
&gt; rm : Int
&gt; rm = 16
&gt;
&gt; -- A stream of transmission times
&gt; transmissions : Int -&gt; Int -&gt; Stream Int
&gt; transmissions value rto = value :: transmissions (value + rto)
&gt;   (rto * 2)
&gt;
&gt; -- Returns a specific transmission time
&gt; transmission : Int -&gt; Nat -&gt; Int
&gt; transmission timeout i = index i $ transmissions 0 timeout
&gt;
&gt; a1 : String
&gt; a1 = show rto
&gt;
&gt; a2 : String
&gt; a2 = concat (take (rc - 1) (map (\t =&gt; show t ++ " ms, ")
&gt;   (transmissions 0 rto))) ++ "and " ++ show (transmission rto
&gt;     (rc - 1)) ++ " ms"
&gt;
&gt; a3 : String
&gt; a3 = show $ transmission rto (rc - 1) + rto * rm

For example, assuming an RTO of {`a1`}ms, requests would be sent at
times {`a2`}.
If the client has not received a response after {`a3`} ms, the
client will consider the transaction to have timed out.
&lt;CODE ENDS&gt;
</pre><a href="#section-2-9.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a></figcaption></figure>
<p id="section-2-10">is rendered as<a href="#section-2-10" class="pilcrow">¶</a></p>
<figure id="figure-2">
        <div class="artwork art-text alignLeft art-ascii-art" id="section-2-11.1">
<pre>
"                                            For example, assuming an
 RTO of 500ms, requests would be sent at times 0 ms, 500 ms, 1500 ms,
 3500 ms, 7500 ms, 15500 ms, and 31500 ms.  If the client has not
 received a response after 39500 ms, the client will consider the
 transaction to have timed out."
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a></figcaption></figure>
<p id="section-2-12"><a href="#cli" class="xref">Appendix A</a> explains how to install the command line tools to process a computerate specification.<a href="#section-2-12" class="pilcrow">¶</a></p>
<p id="section-2-13">The Idris programming language has been chosen because its type system supports dependent and linear types, and that type system is the language in which formal specifications are written.<a href="#section-2-13" class="pilcrow">¶</a></p>
<p id="section-2-14">Following Zave's second conclusion, a computerate specification does not have to be about just formally specifying a protocol and proving properties about it.
There is a whole spectrum of formalism that can be introduced in a specification, and we will present it in the remaining sections by increasing order of complexity.
Note that because the formal language is a programming language, these usages are not exhaustive, and plenty of other usages can and will be found after the publication of this document.<a href="#section-2-14" class="pilcrow">¶</a></p>
<div id="overview_lib">
<section id="section-2.1">
        <h3 id="name-libraries">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-libraries" class="section-name selfRef">Libraries</a>
        </h3>
<p id="section-2.1-1">A computerate specification does not disappear as soon the standard it describes is published.
Quite the opposite, each specification is designed to be used as an Idris module that can be imported in subsequent specifications, reducing over time the amount of code that needs to be written.
At the difference of an RFC that is immutable after publication, the code in a specification will be improved over time, especially as new properties are proved or disproved.
The latter will happen when a bug is discovered in a specification and a proof of negation is added to the specification, paving the way to a revision of the standard.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">This document is itself a computerate specification that contains data types and functions that can be reused in future specifications, and as a whole can be considered as the standard library for computerate specifying.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">For convenience, each public computerate specification, including the one behind this document, will be made available as an individual git repository.
<a href="#source" class="xref">Appendix B</a> explains how to gain access to these computerate specifications.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="overview_retro">
<section id="section-2.2">
        <h3 id="name-retrofitting-specifications">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-retrofitting-specifications" class="section-name selfRef">Retrofitting Specifications</a>
        </h3>
<p id="section-2.2-1">RFCs, Internet-Drafts and standard documents published by other SDOs did not start their life as computerate specifications, so to be able to use them as Idris modules they will need to be progressively retrofitted.
This is done by converting the documents into an AsciiDoc documents and then enriching them with code, in the same way that would have been done if the standard was developed directly as a computerate specification.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">Converting the whole document in AsciiDoc and enriching it with code, instead of just maintaining a library of code, seems a waste of resources.
The reason for doing so is to be able to verify that the rendered text is equivalent to the original standard, which will validate the examples and formal languages.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2-3">Retrofitted specifications will also be made available as individual git repositories as they are converted.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2-4">Because the IETF Trust does not permit modifying an RFC as a whole (except for translation purposes), a retrofitted RFC uses transclusion, a mechanism that includes parts of a separate document at runtime.
This way, a retrofitted RFC is distributed as two separate files, the original RFC in text form, and a computerate specification that contains only code and transclusions.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<p id="section-2.2-5">Transclusion is a special form of AsciiDoc include that takes a range of lines as parameters:<a href="#section-2.2-5" class="pilcrow">¶</a></p>
<figure id="figure-3">
          <div class="artwork art-text alignLeft art-ascii-art" id="section-2.2-6.1">
<pre>
include::rfc5234.txt[lines=26..35]
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a></figcaption></figure>
<p id="section-2.2-7">Here the <code>include</code> macro will be replaced by the content of lines 26 to 35 (included) of RFC 5234.<a href="#section-2.2-7" class="pilcrow">¶</a></p>
<p id="section-2.2-8">The "sub" parameter permits modifying the copied content according to a regular expression.
For instance the following converts references into the AsciiDoc format:<a href="#section-2.2-8" class="pilcrow">¶</a></p>
<figure id="figure-4">
          <div class="artwork art-text alignLeft art-ascii-art" id="section-2.2-9.1">
<pre>
include::rfc5234.txt[lines=121..131,sub="/\[([^\]])\]/&lt;&lt;\1&gt;&gt;/"]
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a></figcaption></figure>
<p id="section-2.2-10">In the following example, the text is converted into a note:<a href="#section-2.2-10" class="pilcrow">¶</a></p>
<figure id="figure-5">
          <div class="artwork art-text alignLeft art-ascii-art" id="section-2.2-11.1">
<pre>
include::rfc5234.txt[lines=151,sub="/^.*$/NOTE: \0/"]
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a></figcaption></figure>
</section>
</div>
<div id="overview_rev">
<section id="section-2.3">
        <h3 id="name-revision-of-standards">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-revision-of-standards" class="section-name selfRef">Revision of Standards</a>
        </h3>
<p id="section-2.3-1">Standards evolve, but because RFCs are immutable, revisions for a standard are done by publishing new RFCs.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">The matching computerate specifications need to reflect that relationship by extending the data type of syntax and semantics in the new version, instead of recreating new data types from scratch.
There are two diametrically opposed directions when extending a type:<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<ul>
<li id="section-2.3-3.1">The new standard is adding constraints.
This is done by indexing the new type over the old type.<a href="#section-2.3-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-2.3-3.2">The new standard is removing constraints.
This is done by defining the new type as a sum type, with one of the alternatives being the old type.<a href="#section-2.3-3.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-2.3-4"><span class="cref">This is correct in theory, but in practice creating new specifications from old ones as described above is not very convenient.
Maybe an alternate solution is to define the new specifications from scratch, and use an isomorphism proof to precisely define the differences between the two.
An Idris elaboration script may permit duplicating a type and modifying it without having to manually copy it.</span><a href="#section-2.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="overview_content">
<section id="section-2.4">
        <h3 id="name-content-of-a-computerate-sp">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-content-of-a-computerate-sp" class="section-name selfRef">Content of a Computerate Specification</a>
        </h3>
<p id="section-2.4-1">Communication protocol specifications are generally split in two distinct parts, syntax (the data layout of the messages exchanged) and semantics (the rules that drive the exchange of messages).<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2"><a href="#syntax" class="xref">Section 3</a> will discuss in detail the application of computerate specifying to syntax descriptions, and <a href="#semantics" class="xref">Section 4</a> will be about specifying semantics.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="syntax">
<section id="section-3">
      <h2 id="name-syntax">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-syntax" class="section-name selfRef">Syntax</a>
      </h2>
<p id="section-3-1">The syntax of a communication protocol determines how data is laid out before it is sent over a communication link.
Generally the syntax is described only in the context of the layer that this particular protocol is operating at, e.g. an application protocol syntax only describes the data as sent over UDP or TCP, not over Ethernet or Wi-Fi.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">Syntaxes can generally be split into two broad categories, binary and text, and generally a protocol syntax falls completely into one of these two categories.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">Syntax descriptions can be formalized for at least three reasons that will be presented in the following sections.<a href="#section-3-3" class="pilcrow">¶</a></p>
<div id="syntax_examples">
<section id="section-3.1">
        <h3 id="name-syntax-examples">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-syntax-examples" class="section-name selfRef">Syntax Examples</a>
        </h3>
<p id="section-3.1-1">Examples in protocol documentation are frequently incorrect, which should not be that much of an issue but for the fact that most developers do not read the normative text when an example is available.
See <a href="#errata" class="xref">Appendix C</a> for statistics about the frequency of incorrect examples in RFC errata.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Moving the examples into appendices or adding caution notices may show limited success in preventing that problem.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">So ensuring that examples match the normative text seems like a good starting point for a computerate specification.
This is done by having the possibility of adding the result of a computation directly inside the document.
If that computation is done from a type that is (physically and conceptually) close to the normative text, then we gain some level of assurance that both the normative text and the derived examples will match.
Note that examples can be inserted in the document as whole blocks of text, or as inline text.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4"><a href="#source_catalog_rfc5234" class="xref">Appendix B.2.1</a> showcases the conversion of the examples in <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<div id="syntax_examples_data-type">
<section id="section-3.1.1">
          <h4 id="name-data-type">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-data-type" class="section-name selfRef">Data Type</a>
          </h4>
<p id="section-3.1.1-1">The first step is to define an Idris type that completely defines the layout of the messages exchanged.
By "completely define" we mean that the type checker will prevent creating any invalid value of this type.
That ensures that all values are correct by construction.<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1.1-2">E.g. here is the definition of a DNS label per <span>[<a href="#RFC1034" class="xref">RFC1034</a>]</span>:<a href="#section-3.1.1-2" class="pilcrow">¶</a></p>
<figure id="figure-6">
            <div id="section-3.1.1-3.1">
<pre class="sourcecode">
&lt;CODE STARTS&gt;
&gt; data PartialLabel' : List Char -&gt; Type where
&gt;   Empty : PartialLabel' []
&gt;   More : (c : Char) -&gt; (prf1 : isAlphaNum c || c == '-' = True) -&gt;
&gt;     PartialLabel' s -&gt; (prf2 : length s &lt; 61 = True) -&gt;
&gt;     PartialLabel' (c :: s)
&gt;
&gt; data Label' : List Char -&gt; Type where
&gt;   One : (c : Char) -&gt; (prf1 : isAlpha c = True) -&gt; Label' [c]
&gt;   Many : (begin : Char) -&gt; (prf1 : isAlpha begin = True) -&gt;
&gt;     (middle : PartialLabel' xs) -&gt;
&gt;     (end : Char) -&gt; (prf2 : isAlphaNum end = True) -&gt;
&gt;     Label' ([begin] ++ xs ++ [end])
&gt;
&gt; data Label : {a : Type} -&gt; a -&gt; Type where
&gt;   MkLabel : {xs : String} -&gt; Label' (unpack xs) -&gt; Label xs
&lt;CODE ENDS&gt;
</pre><a href="#section-3.1.1-3.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a></figcaption></figure>
</section>
</div>
<div id="syntax_examples_serializer">
<section id="section-3.1.2">
          <h4 id="name-serializer">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-serializer" class="section-name selfRef">Serializer</a>
          </h4>
<p id="section-3.1.2-1">The second step is writing a serializer from that type into the wire representation.
For a text format, it is done by implementing the Show interface:<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
<figure id="figure-7">
            <div id="section-3.1.2-2.1">
<pre class="sourcecode">
&lt;CODE STARTS&gt;
&gt; Show (Label xs) where
&gt;   show _ = xs
&lt;CODE ENDS&gt;
</pre><a href="#section-3.1.2-2.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a></figcaption></figure>
<p id="section-3.1.2-3"><span class="cref">Define binary serializer.</span><a href="#section-3.1.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_examples_presentation">
<section id="section-3.1.3">
          <h4 id="name-presentation-format">
<a href="#section-3.1.3" class="section-number selfRef">3.1.3. </a><a href="#name-presentation-format" class="section-name selfRef">Presentation Format</a>
          </h4>
<p id="section-3.1.3-1">Instead of directly generating character strings, the serializer will use as target a dependent type that formalizes the AsciiDoc language.
This will permit to know the context in which a character string will be subsequently generated and to correctly escape special characters in that string.<a href="#section-3.1.3-1" class="pilcrow">¶</a></p>
<p id="section-3.1.3-2">Using an intermediary type will also permit to correctly generate AsciiDoc that can generate an xmlrfc 3 file that supports both text and graphical versions of a figure.
This will be done by having AsciiDoc blocks converted into &lt;artwork&gt; elements that contains both the 72 column formatted text and an equivalent SVG file, even for code source (instead of using the &lt;sourcecode&gt; element).<a href="#section-3.1.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="syntax_formal">
<section id="section-3.2">
        <h3 id="name-formal-syntax-language">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-formal-syntax-language" class="section-name selfRef">Formal Syntax Language</a>
        </h3>
<p id="section-3.2-1">Some specifications use a formal language to describe the data layout.
One shared property of these languages is that they cannot always formalize all the constraints of a specific data layout, so they have to be enriched with comments.
One consequence of this is that they cannot be used as a replacement for the Idris data type described in <a href="#syntax_examples_data-type" class="xref">Section 3.1.1</a>, data type that is purposely complete.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">The following sections describe how these formal languages have been or will be themselves formalized with the goal of using them in computerate specifications.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
<div id="syntax_formal_abnf">
<section id="section-3.2.1">
          <h4 id="name-augmented-bnf-abnf">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-augmented-bnf-abnf" class="section-name selfRef">Augmented BNF (ABNF)</a>
          </h4>
<p id="section-3.2.1-1"><span><a href="#RFC5234" class="xref">Augmented Backus-Naur Form</a> [<a href="#RFC5234" class="xref">RFC5234</a>]</span> (ABNF) is a formal language used to describe a text based data layout.<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
<p id="section-3.2.1-2">The <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span> document has been retrofitted as a computerate specification to provide an internal Domain Specific Language (DSL) that permits specifying an ABNF for a specification.
The encoding of an example from Section 2.3 of <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span> looks like this:<a href="#section-3.2.1-2" class="pilcrow">¶</a></p>
<figure id="figure-8">
            <div id="section-3.2.1-3.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; rulename : Rule
&gt; rulename = "rulename" `Eq` (Concat (TermDec 97 []) (TermDec 98 [])
&gt;   [TermDec 99 []])
&lt;CODE ENDS&gt;
</pre><a href="#section-3.2.1-3.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a></figcaption></figure>
<p id="section-3.2.1-4">A serializer, also defined in the same specification, permits converting that description into proper ABNF text that can be inserted into the document such as in the following fragment:<a href="#section-3.2.1-4" class="pilcrow">¶</a></p>
<figure id="figure-9">
            <div id="section-3.2.1-5.1">
<pre class="sourcecode lang-adoc">
&lt;CODE BEGINS&gt;
[source,abnf]
----
{`show rulename`}
----
&lt;CODE ENDS&gt;
</pre><a href="#section-3.2.1-5.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a></figcaption></figure>
<p id="section-3.2.1-6">is rendered as<a href="#section-3.2.1-6" class="pilcrow">¶</a></p>
<figure id="figure-10">
            <div class="artwork art-text alignLeft art-ascii-art" id="section-3.2.1-7.1">
<pre>
rulename = %d97 %d98 %d99
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a></figcaption></figure>
<p id="section-3.2.1-8">See <a href="#source_catalog_rfc5234" class="xref">Appendix B.2.1</a> for access to the source of the retrofitted specification for <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>.<a href="#section-3.2.1-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_formal_aad">
<section id="section-3.2.2">
          <h4 id="name-augmented-packet-header-dia">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-augmented-packet-header-dia" class="section-name selfRef">Augmented Packet Header Diagrams (APHD)</a>
          </h4>
<p id="section-3.2.2-1"><span><a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">Augmented Packet Header Diagram</a> [<a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">I-D.mcquistin-augmented-ascii-diagrams</a>]</span> (APHD) is a formal language used to describe a binary data layout in a machine-readable format.<a href="#section-3.2.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2.2-2">The <span>[<a href="#I-D.mcquistin-augmented-ascii-diagrams" class="xref">I-D.mcquistin-augmented-ascii-diagrams</a>]</span> document will be retrofitted as a computerate specification to provide an internal Domain Specific Language (DSL) that permits specifying an APHD for a specification.
The partial encoding of an example from section 4.1 looks like this:<a href="#section-3.2.2-2" class="pilcrow">¶</a></p>
<figure id="figure-11">
            <div id="section-3.2.2-3.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; ipv4 : Aphd
&gt; ipv4 = MkAphd "IPv4 Header" [
&gt;   MkField "Version" (Just "V") (Number 4) Bits "This is a" ++
&gt;     " fixed-width field, whose full label is shown in the" ++
&gt;     " diagram.  The field's width -- 4 bits -- is given in" ++
&gt;     " the label of the description list, separated from the" ++
&gt;     " field's label by a colon.",
&gt; ...
&gt;   MkField "Options" Nothing (Mult (Sub (Name "IHL") (Number 5))
&gt;     (Number 32)) Bits "This is a variable-length field, whose" ++
&gt;     " length is defined by the value of the field with short" ++
&gt;     " label IHL (Internet Header Length).  Constraint" ++
&gt;     " expressions can be used in place of constant values: the" ++
&gt;     " grammar for the expression language is defined in" ++
&gt;     " Appendix A.1.  Constraints can include a previously" ++
&gt;     " defined field's short or full label, where one has been" ++
&gt;     " defined.  Short variable-length fields are indicated by" ++
&gt;     " \"...\" instead of a pipe at the end of the row."
&gt; ...
&gt; ]
&lt;CODE ENDS&gt;
</pre><a href="#section-3.2.2-3.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a></figcaption></figure>
<p id="section-3.2.2-4">A serializer, also defined in the same specification, permits converting that description into proper ABNF text that can be inserted into the document such as in the following fragment:<a href="#section-3.2.2-4" class="pilcrow">¶</a></p>
<figure id="figure-12">
            <div id="section-3.2.2-5.1">
<pre class="sourcecode lang-adoc">
&lt;CODE BEGINS&gt;
 ....
 {`show ipv4`}
 ....
&lt;CODE ENDS&gt;
</pre><a href="#section-3.2.2-5.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a></figcaption></figure>
<p id="section-3.2.2-6">is rendered as<a href="#section-3.2.2-6" class="pilcrow">¶</a></p>
<figure id="figure-13">
            <div class="artwork art-text alignLeft art-ascii-art" id="section-3.2.2-7.1">
<pre>
An IPv4 Header is formatted as follows:

 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version|   IHL |    DSCP   |ECN|         Total Length          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Identification        |Flags|     Fragment Offset     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Time to Live  |    Protocol   |        Header Checksum        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         Source Address                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                      Destination Address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                            Options                          ...
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               :
:                            Payload                            :
:                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

where:

Version (V): 4 bits.  This is a fixed-width field, whose full label
  is shown in the diagram.  The field's width -- 4 bits -- is given
  in the label of the description list, separated from the field's
  label by a colon.

...

Options: (IHL-5)*32 bits.  This is a variable-length field, whose
  length is defined by the value of the field with short label IHL
  (Internet Header Length).  Constraint expressions can be used in
  place of constant values: the grammar for the expression language
  is defined in Appendix A.1.  Constraints can include a previously
  defined field's short or full label, where one has been defined.
  Short variable-length fields are indicated by "..." instead of a
  pipe at the end of the row.

 ...
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a></figcaption></figure>
<p id="section-3.2.2-8">Here the serializer generates an instance of the intermediary AsciiDoc type that describes the header line (which can be concatenated to previous lines), the block containing the diagram itself, and then a list of all the field definitions.<a href="#section-3.2.2-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_formal_stem">
<section id="section-3.2.3">
          <h4 id="name-mathematical-formulas">
<a href="#section-3.2.3" class="section-number selfRef">3.2.3. </a><a href="#name-mathematical-formulas" class="section-name selfRef">Mathematical Formulas</a>
          </h4>
<p id="section-3.2.3-1">AsciiDoc supports writing equations using either asciimath or latexmath.
The rendering for RFCs will generate an artwork element that contains both the text version of the equation and a graphical version in an SVG file.<span class="cref">Not sure what to do with inline formulas, as we cannot generate an artwork element in that case.</span><a href="#section-3.2.3-1" class="pilcrow">¶</a></p>
<p id="section-3.2.3-2">An Idris type will be used to described equations at the type level.
An interpreter will be used to calculate and insert examples in the document.<a href="#section-3.2.3-2" class="pilcrow">¶</a></p>
<p id="section-3.2.3-3">A serializer will be used to generate the asciimath code that is inserted inside a stem block.<a href="#section-3.2.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_format_rn_">
<section id="section-3.2.4">
          <h4 id="name-relax-ng-format">
<a href="#section-3.2.4" class="section-number selfRef">3.2.4. </a><a href="#name-relax-ng-format" class="section-name selfRef">RELAX NG Format</a>
          </h4>
<p id="section-3.2.4-1">TBD<a href="#section-3.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_formal_asn1">
<section id="section-3.2.5">
          <h4 id="name-asn1">
<a href="#section-3.2.5" class="section-number selfRef">3.2.5. </a><a href="#name-asn1" class="section-name selfRef">ASN.1</a>
          </h4>
<p id="section-3.2.5-1">TBD<a href="#section-3.2.5-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_formal_tls">
<section id="section-3.2.6">
          <h4 id="name-tls-description-language">
<a href="#section-3.2.6" class="section-number selfRef">3.2.6. </a><a href="#name-tls-description-language" class="section-name selfRef">TLS Description Language</a>
          </h4>
<p id="section-3.2.6-1">TBD<a href="#section-3.2.6-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="syntax_proof">
<section id="section-3.3">
        <h3 id="name-proofs-for-syntax">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-proofs-for-syntax" class="section-name selfRef">Proofs for Syntax</a>
        </h3>
<p id="section-3.3-1">The kind of proofs that one would want in a specification are related to isomorphism, i.e. a guarantee that two or more descriptions of a data layout contain exactly the same information.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<div id="syntax_proof_iso">
<section id="section-3.3.1">
          <h4 id="name-isomorphism-between-type-an">
<a href="#section-3.3.1" class="section-number selfRef">3.3.1. </a><a href="#name-isomorphism-between-type-an" class="section-name selfRef">Isomorphism Between Type and Formal Language</a>
          </h4>
<p id="section-3.3.1-1">We saw above that when a data layout is described with a formal language, we end up with two descriptions of that data layout, one using the Idris dependent type (and used to generate examples) and one using the formal language.<a href="#section-3.3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.3.1-2">Proving isomorphism requires generating an Idris type from the formal language instance, which is done using an Idris elaborator script.<a href="#section-3.3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.3.1-3">In Idris, <span><a href="#Elab" class="xref">Elaborator Reflection</a> [<a href="#Elab" class="xref">Elab</a>]</span> is a metaprogramming facility that permits writing code generating type declarations and code (including proofs) automatically.<a href="#section-3.3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.3.1-4">For instance the ABNF language is itself defined using ABNF, so after converting that ABNF into an instance of the Syntax type (which is an holder for a list of instances of the Rule type), it is possible to generate a suite of types that represents the same language:<a href="#section-3.3.1-4" class="pilcrow">¶</a></p>
<figure id="figure-14">
            <div id="section-3.3.1-5.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; abnf : Syntax
&gt; abnf = MkSyntax [
&gt;   "rulelist" `Eq` (Repeat (Just 1) Nothing (Group (Altern
&gt;     (TermName "rule") (Group (Concat (Repeat Nothing Nothing
&gt;     (TermName "c-wsp")) (TermName "c-nl") [])) []))),
&gt;     ...
&gt;   ]
&gt;
&gt; %runElab (generateType "Abnf" abnf)
&lt;CODE ENDS&gt;
</pre><a href="#section-3.3.1-5.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a></figcaption></figure>
<p id="section-3.3.1-6">The result of the elaboration can then be used to construct a value of type Iso, which requires four total functions, two for the conversion between types, and another two to prove that sequencing the conversions results in the same original value.<a href="#section-3.3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.3.1-7">The following example generates an Idris type "SessionDescription" from the SDP ABNF.
It then proves that this type and the Sdp type contain exactly the same information (the proofs themselves have been removed, leaving only the propositions):<a href="#section-3.3.1-7" class="pilcrow">¶</a></p>
<figure id="figure-15">
            <div id="section-3.3.1-8.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; import Data.Control.Isomorphism
&gt;
&gt; sdp : Syntax
&gt; sdp = MkSyntax [
&gt;   "session-description" `Eq` (Concat (TermName "version-field")
&gt;     (TermName "origin-field") [
&gt;       TermName "session-name-field",
&gt;       Optional (TermName "information-field"),
&gt;       Optional (TermName "uri-field"),
&gt;       Repeat Nothing Nothing (TermName "email-field"),
&gt;       Repeat Nothing Nothing (TermName "phone-field"),
&gt;       Optional (TermName "connection-field"),
&gt;       Repeat Nothing Nothing (TermName "bandwidth-field"),
&gt;       Repeat (Just 1) Nothing (TermName "time-description"),
&gt;       Optional (TermName "key-field"),
&gt;       Repeat Nothing Nothing (TermName "attribute-field"),
&gt;       Repeat Nothing Nothing (TermName "media-description")
&gt;       ]),
&gt;   ...
&gt;   ]
&gt;
&gt; %runElab (generateType "Sdp" sdp)
&gt;
&gt; same : Iso Sdp SessionDescription
&gt; same = MkIso to from toFrom fromTo
&gt;   where
&gt;     to : Sdp -&gt; SessionDescription
&gt;
&gt;     from : SessionDescription -&gt; Abnf
&gt;
&gt;     toFrom : (x : SessionDescription ) -&gt; to (from x) = x
&gt;
&gt;     fromTo : (x : Sdp) -&gt; from (to x) = x
&gt;
&lt;CODE ENDS&gt;
</pre><a href="#section-3.3.1-8.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a></figcaption></figure>
<p id="section-3.3.1-9">As stated in <a href="#syntax_formal" class="xref">Section 3.2</a>, the Idris type and the type generated from the formal language are not always isomorphic, because some constraints cannot be expressed in that formal language.
In that case isomorphism can be used to precisely define what is missing information in the formal language type.
To do so, the generated type is augmented with a delta type, like so:<a href="#section-3.3.1-9" class="pilcrow">¶</a></p>
<figure id="figure-16">
            <div id="section-3.3.1-10.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; data DeltaSessionDescription : Type where
&gt;   ...
&gt;
&gt; same : Iso Sdp (SessionDescription, DeltaSessionDescription)
&gt;   ...
&lt;CODE ENDS&gt;
</pre><a href="#section-3.3.1-10.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-16" class="selfRef">Figure 16</a></figcaption></figure>
<p id="section-3.3.1-11">Then the DeltaSessionDescription type can be modified to include the missing information until the same function type checks.
After this we have a guarantee that we know all about the constraints that cannot be encoded in that formal language, and can check manually that each of them is described as comment.<a href="#section-3.3.1-11" class="pilcrow">¶</a></p>
<p id="section-3.3.1-12">Idris elaborator scripts will be developped for each formal languages.<a href="#section-3.3.1-12" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_proof_conversion">
<section id="section-3.3.2">
          <h4 id="name-data-format-conversion">
<a href="#section-3.3.2" class="section-number selfRef">3.3.2. </a><a href="#name-data-format-conversion" class="section-name selfRef">Data Format Conversion</a>
          </h4>
<p id="section-3.3.2-1">For specifications that describe a conversion between different data layouts, having a proof that guarantees that no information is lost in the process can be beneficial.
For instance, we observe that syntax encoding tends to be replaced each ten years or so by something "better".
Here again isomorphism can tell us exactly what kind of information we lost and gained during that replacement.<a href="#section-3.3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.3.2-2">Here, for example, the definition of a function that would verify an isomorphism between an XML format and a JSON format:<a href="#section-3.3.2-2" class="pilcrow">¶</a></p>
<figure id="figure-17">
            <div id="section-3.3.2-3.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; isXmlAndJsonSame: Iso (XML, DeltaXML) (JSON, DeltaJson)
&gt;   ...
&lt;CODE ENDS&gt;
</pre><a href="#section-3.3.2-3.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-17" class="selfRef">Figure 17</a></figcaption></figure>
<p id="section-3.3.2-4">Here DeltaXML expresses what is gained by switching from XML to JSON, and DeltaJson expresses what is lost.<a href="#section-3.3.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_proof_interop">
<section id="section-3.3.3">
          <h4 id="name-interoperability-with-previ">
<a href="#section-3.3.3" class="section-number selfRef">3.3.3. </a><a href="#name-interoperability-with-previ" class="section-name selfRef">Interoperability with Previous Versions</a>
          </h4>
<p id="section-3.3.3-1">The syntax of the data layout may be modified as part of the evolution of a standard.
In most case a version number prevents old format to be used with the new format, but in cases where that it is not possible, the new specification can ensure that both formats can co-exist by using the same techniques as above.<a href="#section-3.3.3-1" class="pilcrow">¶</a></p>
<p id="section-3.3.3-2">Conversely these techniques can be used during the design phase of a new version of a format, to check if a new version number is warranted.<a href="#section-3.3.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="syntax_proof_postel">
<section id="section-3.3.4">
          <h4 id="name-postels-law">
<a href="#section-3.3.4" class="section-number selfRef">3.3.4. </a><a href="#name-postels-law" class="section-name selfRef">Postel's Law</a>
          </h4>
<blockquote id="section-3.3.4-1">
            <p id="section-3.3.4-1.1">Be conservative in what you do, be liberal in what you accept from others.<a href="#section-3.3.4-1.1" class="pilcrow">¶</a></p>
<cite>— Jon Postel</cite>
</blockquote>
<p id="section-3.3.4-2">One of the downsides of formal specifications is that there is no wiggle room possible when implementing it.
An implementation either conforms to the specification or does not.<a href="#section-3.3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.3.4-3">One analogy would be specifying a pair of gears.
If one decides to have both of them made with tolerances that are too small, then it is very likely that they will not be able to move when put together.
A bit of slack is needed to get the gear smoothly working together but more importantly the cost of making these gears is directly proportional to their tolerance.
There is an inflexion point where the cost of an high precision gear outweighs its purpose.<a href="#section-3.3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.3.4-4">We have a similar issue when implementing a formal specification, where having an absolutely conformant implementation may cost more money than it is worth spending.
On the other hand a specification exists for the purpose of interoperability, so we need some guidelines on what to ignore in a formal specification to make it cost effective.<a href="#section-3.3.4-4" class="pilcrow">¶</a></p>
<p id="section-3.3.4-5">Postel's law proposes an informal way of defining that wiggle room by actually having two different specifications, one that defines a data layout for the purpose of sending it, and another one that defines a data layout for the purpose of receiving that data layout.<a href="#section-3.3.4-5" class="pilcrow">¶</a></p>
<p id="section-3.3.4-6">Existing specifications express that dichotomy in the form of the usage of SHOULD/SHOULD NOT/RECOMMENDED/NOT RECOMMENDED <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> keywords.
For example the SDP spec says that "[t]he sequence CRLF (0x0d0a) is used to end a line, although parsers SHOULD be tolerant and also accept lines terminated with a single newline character."
This directly infers two specifications, one used to define an SDP when sending it, that enforces using only CRLF, and a second specification, used to define an SDP when receiving it (or parsing it), that accepts both CRLF and LF.<a href="#section-3.3.4-6" class="pilcrow">¶</a></p>
<p id="section-3.3.4-7">Note that the converse is not necessarily true, i.e. not all usages of these keywords are related to Postel's Law.<a href="#section-3.3.4-7" class="pilcrow">¶</a></p>
<p id="section-3.3.4-8">To ensure that the differences between the sending specification and the receiving specification do not create interoperability problems, we can use a variant of isomorphism, as shown in the following example (data constructors and code elided):<a href="#section-3.3.4-8" class="pilcrow">¶</a></p>
<figure id="figure-18">
            <div id="section-3.3.4-9.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; data Sending : Type where
&gt;
&gt; data Receiving : Type where
&gt;
&gt; to : Sending -&gt; List Receiving
&gt;
&gt; from : Receiving -&gt; Sending
&gt;
&gt; toFrom : (y : Receiving) -&gt; Elem y (to (from y))
&gt;
&gt; fromTo : (y : Sending) -&gt; True = all (== y) [from x | x &lt;- to y]
&gt;
&lt;CODE ENDS&gt;
</pre><a href="#section-3.3.4-9.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-18" class="selfRef">Figure 18</a></figcaption></figure>
<p id="section-3.3.4-10">Here we define two data types, one that describes the data layout that is permitted to be sent (Sending) and one that describes the data layout that is permitted to be received (Receiving).
For each data layout that is possible to send, there is one or more matching receiving data layouts.
This is expressed by the function <code>to</code> that takes as input one Sending value and returns a list of Receiving values.<a href="#section-3.3.4-10" class="pilcrow">¶</a></p>
<p id="section-3.3.4-11">Conversely, the <code>from</code> function maps a Receiving data layout onto a Sending data layout.
Note the asymmetry there, which prevents to use a standard proof of isomorphism.<a href="#section-3.3.4-11" class="pilcrow">¶</a></p>
<p id="section-3.3.4-12">Then the <code>toFrom</code> and <code>fromTo</code> proofs verify that there is no interoperability issue by guaranteeing that each Receiving value maps to one and only one Sending instance and that this mapping is isomorphic.<a href="#section-3.3.4-12" class="pilcrow">¶</a></p>
<p id="section-3.3.4-13">All of this will provide a clear guidance of when and where to use a SHOULD keyword or its variants, without loss of interoperability.<a href="#section-3.3.4-13" class="pilcrow">¶</a></p>
<p id="section-3.3.4-14">As an trivial example, the following proves that accepting LF characters in addition to CRLF characters as end of line markers does not break interoperability:<a href="#section-3.3.4-14" class="pilcrow">¶</a></p>
<figure id="figure-19">
            <div id="section-3.3.4-15.1">
<pre class="sourcecode">
&lt;CODE BEGINS&gt;
&gt; data Sending : Type where
&gt;   S_CRLF : Sending
&gt;
&gt; Eq Sending where
&gt;   (==) S_CRLF S_CRLF = True
&gt;
&gt; data Receiving : Type where
&gt;   R_CRLF : Receiving
&gt;   R_LF : Receiving
&gt;
&gt; to : Sending -&gt; List Receiving
&gt; to S_CRLF = [R_CRLF, R_LF]
&gt;
&gt; from : Receiving -&gt; Sending
&gt; from R_CRLF = S_CRLF
&gt; from R_LF = S_CRLF
&gt;
&gt; toFrom : (y : Receiving) -&gt; Elem y (to (from y))
&gt; toFrom R_CRLF = Here
&gt; toFrom R_LF = There Here
&gt;
&gt; fromTo : (y : Sending) -&gt; True = all (== y) [from x | x &lt;- to y]
&gt; fromTo S_CRLF = Refl
&lt;CODE ENDS&gt;
</pre><a href="#section-3.3.4-15.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-19" class="selfRef">Figure 19</a></figcaption></figure>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="semantics">
<section id="section-4">
      <h2 id="name-semantics">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-semantics" class="section-name selfRef">Semantics</a>
      </h2>
<p id="section-4-1">The semantics of a communication protocol determine what messages are exchanged over a communication link and the relationship between them.
The semantics are generally described only in the context of the layer that this particular protocol is operating at.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="semantics_tpn">
<section id="section-4.1">
        <h3 id="name-typed-petri-nets">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-typed-petri-nets" class="section-name selfRef">Typed Petri Nets</a>
        </h3>
<p id="section-4.1-1">The semantics of a specification require to define an Idris type that strictly enforces these semantics.
This can be done in an <span><a href="#Type-Driven" class="xref">ad hoc way</a> [<a href="#Type-Driven" class="xref">Type-Driven</a>]</span>, particularly by using linear types that express resources' consumption.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">But a better solution is to design these graphically, particularly by using Petri Nets.
This specification defines a DSL that permits describing a Typed Petri Net (TPN) which is heavily influenced by <span><a href="#CPN" class="xref">Coloured Petri Nets</a> [<a href="#CPN" class="xref">CPN</a>]</span> (CPN).
A CPN adds some restriction on the types that can be used in a Petri Net because of limitations in the underlying programming language, SML.
The underlying programming used in TPN, Idris, does not have these limitations, so any well-formed Idris type (including polymorphic, linear and dependent types) can be directly used in TPN.<span class="cref">A graphical editor for TPN is planned as part of the integration tooling.
The graphical tool will use the document directly as storage.</span><a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">Here's an example of TPN (from figure 2.10 in <span>[<a href="#CPN" class="xref">CPN</a>]</span>):<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<figure id="figure-20">
          <div id="section-4.1-4.1">
<pre class="sourcecode lang-idris">
&lt;CODE BEGINS&gt;
&gt; NO : Type
&gt; NO = Int
&gt;
&gt; DATA : Type
&gt; DATA = String
&gt;
&gt; NOxDATA : Type
&gt; NOxDATA = (NO, DATA)
&gt;
&gt; PTS : Place
&gt; PTS = MkPlace "Packets To Send" NOxDATA (\() =&gt; [(1, "COL"),
&gt;   (2, "OUR"), (3, "ED "), (4, "PET"), (5, "RI "), (6, "NET")])
&gt;
&gt; NS : Place
&gt; NS = MkPlace "NextSend" NO (\() =&gt; [1])
&gt;
&gt; A : Place
&gt; A = MkPlace "A" NOxDATA (\() =&gt; [])
&gt;
&gt; input1 : Input
&gt; input1 = MkInput PTS (NO, DATA) pure
&gt;
&gt; input2 : Input
&gt; input2 = MkInput NS NO pure
&gt;
&gt; output1 : Output
&gt; output1 = MkOutput PTS (NO, DATA) pure
&gt;
&gt; output2 : Output
&gt; output2 = MkOutput NS NO pure
&gt;
&gt; output3 : Output
&gt; output3 = MkOutput A (NO, DATA) pure
&gt;
&gt; sendPacket : Transition
&gt; sendPacket = MkTransition [input1, input2] [output1, output2,
&gt;   output3] (\((n, d), n') =&gt; if n == n'
&gt;                              then pure ((n, d), n, (n, d))
&gt;                              else empty)
&lt;CODE ENDS&gt;
</pre><a href="#section-4.1-4.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-20" class="selfRef">Figure 20</a></figcaption></figure>
<p id="section-4.1-5"><span class="cref">The DSL is being currently designed, so the example shows the generated value.</span><a href="#section-4.1-5" class="pilcrow">¶</a></p>
<p id="section-4.1-6">From there it is easy to generate (using the non-deterministic monad in Idris) an interpreter for debugging and simulation purposes:<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<figure id="figure-21">
          <div id="section-4.1-7.1">
<pre class="sourcecode lang-idris">
&lt;CODE BEGINS&gt;
&gt; interpret : MS NOxDATA -&gt; MS NO -&gt; MS NOxDATA -&gt;
&gt;   ND (MS NOxDATA, MS NO, MS NOxDATA)
&gt; interpret pts ns a = do
&gt;   (pts1, pts2) &lt;- sel pts
&gt;   (ns1, ns2) &lt;- sel ns
&gt;   i1 &lt;- input' input1 pts1
&gt;   i2 &lt;- input' input2 ns1
&gt;   (pts3, ns3, a3) &lt;- transition' sendPacket (i1, i2)
&gt;   let o1 = output' output1 pts3
&gt;   let o2 = output' output2 ns3
&gt;   let o3 = output' output3 a3
&gt;   pure (o1 ++ pts2, o2 ++ ns2, o3 ++ a)
&lt;CODE ENDS&gt;
</pre><a href="#section-4.1-7.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-21" class="selfRef">Figure 21</a></figcaption></figure>
<p id="section-4.1-8"><span class="cref">Replace by the generic variant of the interpreter.</span><a href="#section-4.1-8" class="pilcrow">¶</a></p>
<p id="section-4.1-9">A Petri Net has the advantage that the same graph can be reused to derive other Petri Nets, e.g., Timed Petri Nets (that can be used to collect performance metrics) or Stochastic Petri Nets.<span class="cref">The traditional way of verifying a Petri Net is by using model checking.
There is nothing in the design that prevents doing that, but because that takes quite some time to run and so cannot be part of the document processing, how do we store in the document a proof that the model checking was successful?</span><a href="#section-4.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics_examples">
<section id="section-4.2">
        <h3 id="name-semantics-examples">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-semantics-examples" class="section-name selfRef">Semantics Examples</a>
        </h3>
<p id="section-4.2-1">Semantics examples can be wrong, so it is useful to be sure that they match the specification.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<div id="semantics_type">
<section id="section-4.2.1">
          <h4 id="name-data-type-2">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-data-type-2" class="section-name selfRef">Data Type</a>
          </h4>
<p id="section-4.2.1-1">As explained above, semantics can be described in an ad hoc manner, or using the TPN DSL.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics_serializer">
<section id="section-4.2.2">
          <h4 id="name-serializer-2">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-serializer-2" class="section-name selfRef">Serializer</a>
          </h4>
<p id="section-4.2.2-1">At the difference of syntax, where there are more or less as many ways to display them than there are syntaxes, semantics examples generally use sequence diagrams, eventually augmented with the content of the packets exchanged (and so using the techniques described in <a href="#syntax_examples" class="xref">Section 3.1</a>).<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">Similarly to what is done in <a href="#syntax_formal_aad" class="xref">Section 3.2.2</a>, an Asciidoctor block processor similar to the "msc" type of diagram used by the asciidoctor-diagram extension will be designed.<span class="cref">We unfortunately cannot reuse the asciidoctor-diagram extension because it cannot generate both text and SVG versions of a sequence diagram.</span><a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2-3">The serializer for an example derived from a TPN generates the content of the msc AsciiDoc block, by selecting one particular path and its associated bindings through the Petri Net.<span class="cref">We probably want to use AsciiDoc callouts for these, although that would require a modification in AsciiRfc.
In fact callout would be a far better technique for other diagrams, like AAD, as it will let the renderer take care of the best way to place elements depending on the output format.</span><a href="#section-4.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics_presentation">
<section id="section-4.2.3">
          <h4 id="name-presentation-format-2">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-presentation-format-2" class="section-name selfRef">Presentation Format</a>
          </h4>
<p id="section-4.2.3-1">TBD.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="semantics_formal">
<section id="section-4.3">
        <h3 id="name-formal-semantics-language">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-formal-semantics-language" class="section-name selfRef">Formal Semantics Language</a>
        </h3>
<p id="section-4.3-1">Some specifications use a formal language to describe the state machines.
One shared property of these languages is that they cannot always formalize all the constraints of specific semantics, so they have to be enriched with comments.
One consequence of this is that they cannot be used as a replacement for the Idris data type described in <a href="#semantics_tpn" class="xref">Section 4.1</a>, a data type that is purposely complete.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<div id="semantics_formal_cosmogol">
<section id="section-4.3.1">
          <h4 id="name-cosmogol">
<a href="#section-4.3.1" class="section-number selfRef">4.3.1. </a><a href="#name-cosmogol" class="section-name selfRef">Cosmogol</a>
          </h4>
<p id="section-4.3.1-1"><span><a href="#I-D.bortzmeyer-language-state-machines" class="xref">Cosmogol</a> [<a href="#I-D.bortzmeyer-language-state-machines" class="xref">I-D.bortzmeyer-language-state-machines</a>]</span> is a formal language designed to define states machines.
The Internet-Draft will be retrofitted as a computerate specification to provide an internal Domain Specific Language (DSL) that permits specifying an instance of that language.
A serializer and elaborator script will also be defined.<a href="#section-4.3.1-1" class="pilcrow">¶</a></p>
<p id="section-4.3.1-2">Finally, an Asciidoctor block processor would be used to convert the language into both a text and a graphical view of the state machine.<span class="cref">Add examples there.</span><a href="#section-4.3.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="semantics_proofs">
<section id="section-4.4">
        <h3 id="name-proofs-for-semantics">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-proofs-for-semantics" class="section-name selfRef">Proofs for Semantics</a>
        </h3>
<p id="section-4.4-1">Like for syntax formal languages, an elaborator script permits generating a type from a TPN instance.
That type can then be used to write proofs of the properties that we expect from the semantics.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
<div id="semantics_proofs_iso">
<section id="section-4.4.1">
          <h4 id="name-isomorphism">
<a href="#section-4.4.1" class="section-number selfRef">4.4.1. </a><a href="#name-isomorphism" class="section-name selfRef">Isomorphism</a>
          </h4>
<p id="section-4.4.1-1">An isomorphism proof can be used between two types derived from the semantics of a specification, for example to prove that no information is lost in the converting between the underlying processes, or when upgrading a process.<a href="#section-4.4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.4.1-2">An example of that would be to prove (or more likely disprove) that the SIP state machines are isomorphic to the WebRTC state machines.<a href="#section-4.4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics_proof_postel">
<section id="section-4.4.2">
          <h4 id="name-postels-law-2">
<a href="#section-4.4.2" class="section-number selfRef">4.4.2. </a><a href="#name-postels-law-2" class="section-name selfRef">Postel's Law</a>
          </h4>
<p id="section-4.4.2-1">Like for the syntax, semantics can introduce wiggle room between the state machines on the sending side and the state machines on the receiving side.
A similar isomorphism proof can be used to ensure that this is done without loss of interoperability.<a href="#section-4.4.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics_proofs_termination">
<section id="section-4.4.3">
          <h4 id="name-termination">
<a href="#section-4.4.3" class="section-number selfRef">4.4.3. </a><a href="#name-termination" class="section-name selfRef">Termination</a>
          </h4>
<p id="section-4.4.3-1">The TPN type can be used to verify that the protocol actually terminates, or that it always returns to its initial state.
This is equivalent to proving that a program terminates.<a href="#section-4.4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics_proofs_liveness">
<section id="section-4.4.4">
          <h4 id="name-liveness">
<a href="#section-4.4.4" class="section-number selfRef">4.4.4. </a><a href="#name-liveness" class="section-name selfRef">Liveness</a>
          </h4>
<p id="section-4.4.4-1">The TPN type can be used to verify that the protocol is productive, i.e. that it does not loop without making progress.<a href="#section-4.4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="semantics_proofs_code">
<section id="section-4.4.5">
          <h4 id="name-verified-code">
<a href="#section-4.4.5" class="section-number selfRef">4.4.5. </a><a href="#name-verified-code" class="section-name selfRef">Verified Code</a>
          </h4>
<p id="section-4.4.5-1">A TPN that covers a whole protocol (i.e. client, network, and server) is useful to prove the properties listed in the previous sections.
But the TPN is also designed in a way that each of these parts can be defined separately from the others (making it a Hierarchical TPN).
This permits using the type generated from these (through an elaborator script) as a type for real code, and thus verifying that this code conforms to both the syntax and the semantics specifications.<a href="#section-4.4.5-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="_informative_references">
<section id="section-5">
      <h2 id="name-informative-references">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="RFC7991">[RFC7991]</dt>
      <dd>
<span class="refAuthor">Hoffman, P.</span>, <span class="refTitle">"The "xml2rfc" Version 3 Vocabulary"</span>, <span class="seriesInfo">RFC 7991</span>, <span class="seriesInfo">DOI 10.17487/RFC7991</span>, <time datetime="2016-12">December 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;</span>. </dd>
<dt id="RFC5234">[RFC5234]</dt>
      <dd>
<span class="refAuthor">Crocker, D., Ed.</span><span class="refAuthor"> and P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dt id="I-D.bortzmeyer-language-state-machines">[I-D.bortzmeyer-language-state-machines]</dt>
      <dd>
<span class="refAuthor">Bortzmeyer, S.</span>, <span class="refTitle">"Cosmogol: a language to describe finite state machines"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-bortzmeyer-language-state-machines-01</span>, <time datetime="2006-11-11">11 November 2006</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-bortzmeyer-language-state-machines-01">https://tools.ietf.org/html/draft-bortzmeyer-language-state-machines-01</a>&gt;</span>. </dd>
<dt id="Curry-Howard">[Curry-Howard]</dt>
      <dd>
<span class="refTitle">"Curry-Howard correspondence"</span>, <time></time>, <span>&lt;<a href="https://en.wikipedia.org/wiki/Curry-Howard_correspondence">https://en.wikipedia.org/wiki/Curry-Howard_correspondence</a>&gt;</span>. </dd>
<dt id="I-D.mcquistin-augmented-ascii-diagrams">[I-D.mcquistin-augmented-ascii-diagrams]</dt>
      <dd>
<span class="refAuthor">McQuistin, S.</span><span class="refAuthor">, Band, V.</span><span class="refAuthor">, and C. Perkins</span>, <span class="refTitle">"Describing Protocol Data Units with Augmented Packet Header Diagrams"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-mcquistin-augmented-ascii-diagrams-01</span>, <time datetime="2019-11-03">3 November 2019</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-mcquistin-augmented-ascii-diagrams-01">https://tools.ietf.org/html/draft-mcquistin-augmented-ascii-diagrams-01</a>&gt;</span>. </dd>
<dt id="RFC1034">[RFC1034]</dt>
      <dd>
<span class="refAuthor">Mockapetris, P.</span>, <span class="refTitle">"Domain names - concepts and facilities"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1034</span>, <span class="seriesInfo">DOI 10.17487/RFC1034</span>, <time datetime="1987-11">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1034">https://www.rfc-editor.org/info/rfc1034</a>&gt;</span>. </dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dt id="I-D.ribose-asciirfc">[I-D.ribose-asciirfc]</dt>
      <dd>
<span class="refAuthor">Tse, R.</span><span class="refAuthor">, Nicholas, N.</span><span class="refAuthor">, and P. Brasolin</span>, <span class="refTitle">"AsciiRFC: Authoring Internet-Drafts And RFCs Using AsciiDoc"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ribose-asciirfc-08</span>, <time datetime="2018-04-17">17 April 2018</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ribose-asciirfc-08">https://tools.ietf.org/html/draft-ribose-asciirfc-08</a>&gt;</span>. </dd>
<dt id="Zave">[Zave]</dt>
      <dd>
<span class="refAuthor">Zave, P.</span>, <span class="refTitle">"Experiences with Protocol Description"</span>, <span class="seriesInfo"> Rigorous Protocol Engineering (WRiPE'11)</span>, <time datetime="2011-10">October 2011</time>, <span>&lt;<a href="http://www.pamelazave.com/wripe.pdf">http://www.pamelazave.com/wripe.pdf</a>&gt;</span>. </dd>
<dt id="Knuth92">[Knuth92]</dt>
      <dd>
<span class="refAuthor">Knuth, D.</span>, <span class="refTitle">"Literate Programming"</span>, <span class="seriesInfo"> Center for the Study of Language and Information</span>, <time datetime="1992">1992</time>. </dd>
<dt id="Elab">[Elab]</dt>
      <dd>
<span class="refAuthor">Christiansen, D.</span><span class="refAuthor"> and E.C. Brady</span>, <span class="refTitle">"Elaborator reflection: extending Idris in Idris"</span>, <span class="seriesInfo"> In Proceedings of the 21st ACM SIGPLAN International Conference on Functional Programming. ACM Press-Association for Computing Machinery</span>, <time datetime="2016">2016</time>. </dd>
<dt id="AsciiDoc">[AsciiDoc]</dt>
      <dd>
<span class="refTitle">"AsciiDoc"</span>, <time></time>, <span>&lt;<a href="https://en.wikipedia.org/wiki/AsciiDoc">https://en.wikipedia.org/wiki/AsciiDoc</a>&gt;</span>. </dd>
<dt id="Asciidoctor">[Asciidoctor]</dt>
      <dd>
<span class="refTitle">"Asciidoctor"</span>, <time></time>, <span>&lt;<a href="https://asciidoctor.org/docs/user-manual/">https://asciidoctor.org/docs/user-manual/</a>&gt;</span>. </dd>
<dt id="Metanorma">[Metanorma]</dt>
      <dd>
<span class="refTitle">"Metanorma"</span>, <time></time>, <span>&lt;<a href="https://www.metanorma.com/">https://www.metanorma.com/</a>&gt;</span>. </dd>
<dt id="Idris">[Idris]</dt>
      <dd>
<span class="refTitle">"Idris: A Language with Dependent Types"</span>, <time></time>, <span>&lt;<a href="https://www.idris-lang.org/">https://www.idris-lang.org/</a>&gt;</span>. </dd>
<dt id="Literate">[Literate]</dt>
      <dd>
<span class="refTitle">"Literate programming"</span>, <time></time>, <span>&lt;<a href="http://docs.idris-lang.org/en/latest/tutorial/miscellany.html#literate-programming">http://docs.idris-lang.org/en/latest/tutorial/miscellany.html#literate-programming</a>&gt;</span>. </dd>
<dt id="Blockquotes">[Blockquotes]</dt>
      <dd>
<span class="refTitle">"Markdown-style blockquotes"</span>, <time></time>, <span>&lt;<a href="https://asciidoctor.org/docs/user-manual/#markdown-style-blockquotes">https://asciidoctor.org/docs/user-manual/#markdown-style-blockquotes</a>&gt;</span>. </dd>
<dt id="CPN">[CPN]</dt>
      <dd>
<span class="refAuthor">Jensen, K.</span><span class="refAuthor"> and L. M. Kristensen</span>, <span class="refTitle">"Coloured Petri Nets: Modelling and Validation of Concurrent Systems"</span>, <span class="seriesInfo"> Springer</span>, <time datetime="2009">2009</time>. </dd>
<dt id="Type-Driven">[Type-Driven]</dt>
    <dd>
<span class="refAuthor">Brady, E.</span>, <span class="refTitle">"Type-Driven Development with Idris"</span>, <span class="seriesInfo"> Manning</span>, <time datetime="2017">2017</time>. </dd>
</dl>
</section>
</div>
<div id="cli">
<section id="section-appendix.a">
      <h2 id="name-command-line-tools">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-command-line-tools" class="section-name selfRef">Command Line Tools</a>
      </h2>
<div id="_installation">
<section id="section-a.1">
        <h2 id="name-installation">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-installation" class="section-name selfRef">Installation</a>
        </h2>
<p id="section-a.1-1">The computerate command line tools are run inside a Docker image, so the first step is to install the Docker software or verify that it is up to date (<span><a href="https://docs.docker.com/install/">https://docs.docker.com/install/</a></span>).<a href="#section-a.1-1" class="pilcrow">¶</a></p>
<p id="section-a.1-2">Note that for the usage described in this document there is no need for Docker EE or for having a Docker account.<a href="#section-a.1-2" class="pilcrow">¶</a></p>
<p id="section-a.1-3">The following instructions assume a Unix based OS, i.e. Linux or MacOS.
Lines separated by a "\" character are meant to be executed as one single line, with the "\" character removed.<a href="#section-a.1-3" class="pilcrow">¶</a></p>
<div id="_download_the_docker_image">
<section id="section-a.1.1">
          <h3 id="name-download-the-docker-image">
<a href="#section-a.1.1" class="section-number selfRef">A.1.1. </a><a href="#name-download-the-docker-image" class="section-name selfRef">Download the Docker Image</a>
          </h3>
<p id="section-a.1.1-1">To install the computerate tools, the fastest way is to download and install the Docker image using a temporary image containing the dat tool:<a href="#section-a.1.1-1" class="pilcrow">¶</a></p>
<figure id="figure-22">
            <div id="section-a.1.1-2.1">
<pre class="sourcecode">
docker pull veggiemonk/dat-docker
mkdir computerate
cd computerate
docker run --rm -u $(id -u):$(id -g) -v \
 $(pwd):/tools veggiemonk/dat-docker dat clone \
 dat://6a33cb289d5818e3709f62e95df41be537edba5f4dc26593e2cb870c7982345b \
 tools
</pre><a href="#section-a.1.1-2.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-22" class="selfRef">Figure 22</a></figcaption></figure>
<p id="section-a.1.1-3">After this, the image can be loaded in Docker.
The newly installed Docker image also contains the dat command, so there is no need to keep the veggiemonk/dat-docker image after this:<a href="#section-a.1.1-3" class="pilcrow">¶</a></p>
<figure id="figure-23">
            <div id="section-a.1.1-4.1">
<pre class="sourcecode">
docker load -i tools.tar.xz
docker image rm --force veggiemonk/dat-docker
</pre><a href="#section-a.1.1-4.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-23" class="selfRef">Figure 23</a></figcaption></figure>
<p id="section-a.1.1-5">A new version of the tools is released at the same time a new version of this document is released.
After this, running the following command in the computerate directory will pull any new version of the tool tar file:<a href="#section-a.1.1-5" class="pilcrow">¶</a></p>
<figure id="figure-24">
            <div id="section-a.1.1-6.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) \
 -v $(pwd):/computerate computerate/tools dat pull --exit
</pre><a href="#section-a.1.1-6.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-24" class="selfRef">Figure 24</a></figcaption></figure>
<p id="section-a.1.1-7">The docker image can then be loaded as above.<a href="#section-a.1.1-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="_using_the_computerate_command">
<section id="section-a.2">
        <h2 id="name-using-the-computerate-comma">
<a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-using-the-computerate-comma" class="section-name selfRef">Using the <code>computerate</code> Command</a>
        </h2>
<p id="section-a.2-1">The Docker image main command is <code>computerate</code>, which takes the same parameters as the <code>metanorma</code> command from the Metanorma tooling:<a href="#section-a.2-1" class="pilcrow">¶</a></p>
<figure id="figure-25">
          <div id="section-a.2-2.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools computerate -t ietf -x txt &lt;file&gt;
</pre><a href="#section-a.2-2.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-25" class="selfRef">Figure 25</a></figcaption></figure>
<p id="section-a.2-3">The differences with the <code>metanorma</code> command are:<a href="#section-a.2-3" class="pilcrow">¶</a></p>
<ul>
<li id="section-a.2-4.1">The <code>computerate</code> command can process Literate Idris files (files with a "lidr" extension, aka lidr files), in addition to AsciiDoc files (files with an "adoc" extension, aka adoc files).
When a lidr file is processed, all embedded code fragments (text between prefix "{`" and suffix "`}") are evaluated in the context of the Idris code contained in this file.
Each code fragment (including the prefix and suffix) are then substituted by the result of that evaluation.<a href="#section-a.2-4.1" class="pilcrow">¶</a>
</li>
          <li id="section-a.2-4.2">The <code>computerate</code> command can process included lidr files in the same way.
The embedded code fragments in the imported file are processed in the context of the included lidr file, not in the context of the including file.
Idris modules (either from an idr or lidr file) can be imported the usual way.<a href="#section-a.2-4.2" class="pilcrow">¶</a>
</li>
          <li id="section-a.2-4.3">The literate code (which is all the text that is starting by a "&gt;" symbol in column 1) in a lidr file will not be part of the rendered document.<a href="#section-a.2-4.3" class="pilcrow">¶</a>
</li>
          <li id="section-a.2-4.4">The computerate command can process transclusions, as explained in <a href="#overview_retro" class="xref">Section 2.2</a>.<a href="#section-a.2-4.4" class="pilcrow">¶</a>
</li>
          <li id="section-a.2-4.5">Lookup of external references is disabled.
Use either raw XML references or an external directory.<a href="#section-a.2-4.5" class="pilcrow">¶</a>
</li>
          <li id="section-a.2-4.6">Instead of generating a file based on the name of the input file, the <code>computerate</code> command generates a file based on the <code>:name:</code> attribute in the header of the document.<a href="#section-a.2-4.6" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-a.2-5">The <code>computerate</code> command can also be used to generate an xmlrfc v3 file, ready for submission to the IETF:<a href="#section-a.2-5" class="pilcrow">¶</a></p>
<figure id="figure-26">
          <div id="section-a.2-6.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools computerate -t ietf -x xmlrfc3 &lt;file&gt;
</pre><a href="#section-a.2-6.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-26" class="selfRef">Figure 26</a></figcaption></figure>
</section>
</div>
<div id="_using_the_idris_repl">
<section id="section-a.3">
        <h2 id="name-using-the-idris-repl">
<a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-using-the-idris-repl" class="section-name selfRef">Using the Idris REPL</a>
        </h2>
<p id="section-a.3-1">idr and lidr files can be loaded directly in the Idris REPL for debugging:<a href="#section-a.3-1" class="pilcrow">¶</a></p>
<figure id="figure-27">
          <div id="section-a.3-2.1">
<pre class="sourcecode">
docker run --rm -it -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools idris &lt;lidr-file&gt;
</pre><a href="#section-a.3-2.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-27" class="selfRef">Figure 27</a></figcaption></figure>
<p id="section-a.3-3">It is possible to directly modify the source code in the REPL by entering the <code>:e</code> command, which will load the file in an instance of VIM preconfigured to interact with the REPL.<a href="#section-a.3-3" class="pilcrow">¶</a></p>
<p id="section-a.3-4">Alternatively the Idris REPL can be started as a server:<a href="#section-a.3-4" class="pilcrow">¶</a></p>
<figure id="figure-28">
          <div id="section-a.3-5.1">
<pre class="sourcecode">
docker run --rm -it -u $(id -u):$(id -g) -p 127.0.0.1:4294:4294 \
  -v $(pwd):/computerate computerate/tools idris
</pre><a href="#section-a.3-5.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-28" class="selfRef">Figure 28</a></figcaption></figure>
<p id="section-a.3-6">Then if a source file is loaded in a separate console with the VIM instance inside the Docker image, it can interact with the REPL server:<a href="#section-a.3-6" class="pilcrow">¶</a></p>
<figure id="figure-29">
          <div id="section-a.3-7.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) --net=host \
  -v $(pwd):/computerate computerate/tools vim &lt;file&gt;
</pre><a href="#section-a.3-7.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-29" class="selfRef">Figure 29</a></figcaption></figure>
<p id="section-a.3-8">Note that both commands must be run from the same directory.<a href="#section-a.3-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="_using_other_commands">
<section id="section-a.4">
        <h2 id="name-using-other-commands">
<a href="#section-a.4" class="section-number selfRef">A.4. </a><a href="#name-using-other-commands" class="section-name selfRef">Using Other Commands</a>
        </h2>
<p id="section-a.4-1">For convenience, the docker image provides the latest version of the xml2rfc, idnits, aspell, and languagetool tools.<a href="#section-a.4-1" class="pilcrow">¶</a></p>
<figure id="figure-30">
          <div id="section-a.4-2.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools xml2rfc
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools idnits --help
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools aspell
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools languagetool
</pre><a href="#section-a.4-2.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-30" class="selfRef">Figure 30</a></figcaption></figure>
<p id="section-a.4-3">The Docker image also contains a extended version of git that will be used to retrieve the computerate specifications in <a href="#source" class="xref">Appendix B</a>.<a href="#section-a.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="_bugs_and_workarounds">
<section id="section-a.5">
        <h2 id="name-bugs-and-workarounds">
<a href="#section-a.5" class="section-number selfRef">A.5. </a><a href="#name-bugs-and-workarounds" class="section-name selfRef">Bugs and Workarounds</a>
        </h2>
<ul>
<li id="section-a.5-1.1">Errors in embedded code do not stop the process but replace the text by the error message, which can be easily overlooked.<a href="#section-a.5-1.1" class="pilcrow">¶</a>
</li>
          <li id="section-a.5-1.2">backticks are not escaped in code fragments.<a href="#section-a.5-1.2" class="pilcrow">¶</a>
</li>
          <li id="section-a.5-1.3">The current version of Docker in Ubuntu fails, but this can be fixed with the following commands:<a href="#section-a.5-1.3" class="pilcrow">¶</a>
</li>
        </ul>
<figure id="figure-31">
          <div id="section-a.5-2.1">
<pre class="sourcecode">
sudo apt-get install containerd.io=1.2.6-3
sudo systemctl restart docker.service
</pre><a href="#section-a.5-2.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-31" class="selfRef">Figure 31</a></figcaption></figure>
<ul>
<li id="section-a.5-3.1">The Asciidoctor processor does not correctly format the output in all cases (e.g. "++").
The escaping can be done in Idris until this is fixed.<a href="#section-a.5-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-a.5-3.2">Sometimes the Idris processing fails with an error "Module needs reloading".
Deleting all the files with the ibc extension will solve that problem.<a href="#section-a.5-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-a.5-3.3">Trying to fetch nonexistent new commits on a git repository will block for 12 seconds.<a href="#section-a.5-3.3" class="pilcrow">¶</a>
</li>
          <li id="section-a.5-3.4">xml2rfc does not support PDF output.<a href="#section-a.5-3.4" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="_todo_list">
<section id="section-a.6">
        <h2 id="name-todo-list">
<a href="#section-a.6" class="section-number selfRef">A.6. </a><a href="#name-todo-list" class="section-name selfRef">TODO List</a>
        </h2>
<ul>
<li id="section-a.6-1.1">Embedded blocks.<a href="#section-a.6-1.1" class="pilcrow">¶</a>
</li>
          <li id="section-a.6-1.2">Test on Windows.<a href="#section-a.6-1.2" class="pilcrow">¶</a>
</li>
          <li id="section-a.6-1.3">Using recursive modules with Idris.<a href="#section-a.6-1.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="source">
<section id="section-appendix.b">
      <h2 id="name-computerate-specifications-">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-computerate-specifications-" class="section-name selfRef">Computerate Specifications Library</a>
      </h2>
<div id="source_install">
<section id="section-b.1">
        <h2 id="name-installation-2">
<a href="#section-b.1" class="section-number selfRef">B.1. </a><a href="#name-installation-2" class="section-name selfRef">Installation</a>
        </h2>
<p id="section-b.1-1">The git repositories that compose the Computerate Specification Library are distributed over a peer-to-peer protocol based on dat.<a href="#section-b.1-1" class="pilcrow">¶</a></p>
<p id="section-b.1-2">This requires an extension to git, extension that is already installed in the Docker image described in <a href="#cli" class="xref">Appendix A</a>.
The following command can be used to retrieve a computerate specification:<a href="#section-b.1-2" class="pilcrow">¶</a></p>
<figure id="figure-32">
          <div id="section-b.1-3.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools git clone --recursive dat://&lt;public-key&gt; &lt;name&gt;
</pre><a href="#section-b.1-3.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-32" class="selfRef">Figure 32</a></figcaption></figure>
<p id="section-b.1-4">Here &lt;public-key&gt; is the dat public key for a specific computerate specification and &lt;name&gt; is the recommended name.
Do not use the dat URIs given in <a href="#cli" class="xref">Appendix A</a>, as only the dat public keys listed in <a href="#source_catalog" class="xref">Appendix B.2</a> can be used with a git clone.<a href="#section-b.1-4" class="pilcrow">¶</a></p>
<p id="section-b.1-5">Updating the repository also requires using the Docker image:<a href="#section-b.1-5" class="pilcrow">¶</a></p>
<figure id="figure-33">
          <div id="section-b.1-6.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools git pull
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools git submodule update
</pre><a href="#section-b.1-6.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-33" class="selfRef">Figure 33</a></figcaption></figure>
<p id="section-b.1-7">All the git commands that do not require access to the remote can be run natively or from the Docker image.<a href="#section-b.1-7" class="pilcrow">¶</a></p>
<p id="section-b.1-8">Note that for the computerate specification library the <code>computerate</code> command must be run from the directory that is one level above the git repository.
The name of the root document is always <code>Main.lidr</code> or <code>Main.adoc</code>:<a href="#section-b.1-8" class="pilcrow">¶</a></p>
<figure id="figure-34">
          <div id="section-b.1-9.1">
<pre class="sourcecode">
docker run --rm -u $(id -u):$(id -g) -v $(pwd):/computerate \
  computerate/tools computerate -t ietf -x txt \
  &lt;git-repository&gt;/Main.lidr
</pre><a href="#section-b.1-9.1" class="pilcrow">¶</a>
</div>
<figcaption><a href="#figure-34" class="selfRef">Figure 34</a></figcaption></figure>
</section>
</div>
<div id="source_catalog">
<section id="section-b.2">
        <h2 id="name-catalog">
<a href="#section-b.2" class="section-number selfRef">B.2. </a><a href="#name-catalog" class="section-name selfRef">Catalog</a>
        </h2>
<p id="section-b.2-1">For the time being this document will serve as a catalog of available computerate specifications.<a href="#section-b.2-1" class="pilcrow">¶</a></p>
<div id="source_catalog_rfc5234">
<section id="section-b.2.1">
          <h3 id="name-rfc5234">
<a href="#section-b.2.1" class="section-number selfRef">B.2.1. </a><a href="#name-rfc5234" class="section-name selfRef">RFC5234</a>
          </h3>
<figure id="figure-35">
            <div class="artwork art-text alignLeft art-ascii-art" id="section-b.2.1-1.1">
<pre>
Name: RFC5234
Public key:
  994e52b29a7bf4f7590b0f0369a7d55d29fb22befd065e462b2185a8207e21f1
</pre>
</div>
<figcaption><a href="#figure-35" class="selfRef">Figure 35</a></figcaption></figure>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="errata">
<section id="section-appendix.c">
      <h2 id="name-errata-statistics">
<a href="#section-appendix.c" class="section-number selfRef">Appendix C. </a><a href="#name-errata-statistics" class="section-name selfRef">Errata Statistics</a>
      </h2>
<p id="section-appendix.c-1">In an effort to quantify the potential benefits of using formal methods at the IETF, an effort to relabel the Errata database is under way.<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
<p id="section-appendix.c-2">The relabeling uses the following labels:<a href="#section-appendix.c-2" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
        <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Label</th>
            <th class="text-left" rowspan="1" colspan="1">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">AAD</td>
            <td class="text-left" rowspan="1" colspan="1">Error in an ASCII bit diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ABNF</td>
            <td class="text-left" rowspan="1" colspan="1">Error in an ABNF</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Absent</td>
            <td class="text-left" rowspan="1" colspan="1">The errata was probably removed</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ASN.1</td>
            <td class="text-left" rowspan="1" colspan="1">Error in ASN.1</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">C</td>
            <td class="text-left" rowspan="1" colspan="1">Error in C code</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Diagram</td>
            <td class="text-left" rowspan="1" colspan="1">Error in a generic diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Example</td>
            <td class="text-left" rowspan="1" colspan="1">An example does not match the normative text</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Formula</td>
            <td class="text-left" rowspan="1" colspan="1">Error preventable by using Idris code</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Ladder</td>
            <td class="text-left" rowspan="1" colspan="1">Error in a ladder diagram</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Rejected</td>
            <td class="text-left" rowspan="1" colspan="1">The erratum was rejected</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Text</td>
            <td class="text-left" rowspan="1" colspan="1">Error in the text itself, no remedy</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">Error in the TLS language</td>
          </tr>
        </tbody>
      </table>
<p id="section-appendix.c-4">At the time of publication the first 700 errata, which represents 11.88% of the total, have been relabeled.
On these, 34 were rejected and 27 were deleted, leaving 639 valid errata.<a href="#section-appendix.c-4" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
        <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">Label</th>
            <th class="text-left" rowspan="1" colspan="1">Count</th>
            <th class="text-left" rowspan="1" colspan="1">Percentage</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Text</td>
            <td class="text-left" rowspan="1" colspan="1">396</td>
            <td class="text-left" rowspan="1" colspan="1">61.97%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Formula</td>
            <td class="text-left" rowspan="1" colspan="1">66</td>
            <td class="text-left" rowspan="1" colspan="1">10.32%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Example</td>
            <td class="text-left" rowspan="1" colspan="1">64</td>
            <td class="text-left" rowspan="1" colspan="1">10.0%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ABNF</td>
            <td class="text-left" rowspan="1" colspan="1">38</td>
            <td class="text-left" rowspan="1" colspan="1">5.94%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">AAD</td>
            <td class="text-left" rowspan="1" colspan="1">32</td>
            <td class="text-left" rowspan="1" colspan="1">5.00%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">ASN.1</td>
            <td class="text-left" rowspan="1" colspan="1">27</td>
            <td class="text-left" rowspan="1" colspan="1">4.22%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">C</td>
            <td class="text-left" rowspan="1" colspan="1">9</td>
            <td class="text-left" rowspan="1" colspan="1">1.40%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Diagram</td>
            <td class="text-left" rowspan="1" colspan="1">4</td>
            <td class="text-left" rowspan="1" colspan="1">0.62%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">TLS</td>
            <td class="text-left" rowspan="1" colspan="1">2</td>
            <td class="text-left" rowspan="1" colspan="1">0.31%</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">Ladder</td>
            <td class="text-left" rowspan="1" colspan="1">1</td>
            <td class="text-left" rowspan="1" colspan="1">0.15%</td>
          </tr>
        </tbody>
      </table>
<p id="section-appendix.c-6">Note that as the relabeling is done in in order of erratum number, at this point it covers mostly older RFCs.
A change in tooling (e.g. ABNF verifiers) means that these numbers may drastically change as more errata are relabeled.
But at this point it seems that 38.02% of errata could have been prevented with a more pervasive use of formal methods.<a href="#section-appendix.c-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ack">
<section id="section-appendix.d">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-appendix.d-1">Thanks to
Jim Kleck,
Stephane Bryant,
Eric Petit-Huguenin,
Nicolas Gironi,
Stephen McQuistin,
and
Greg Skinner
for the comments, suggestions, questions, and testing that helped improve this document.<a href="#section-appendix.d-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changelog">
<section id="section-appendix.e">
      <h2 id="name-changelog">
<a href="#name-changelog" class="section-name selfRef">Changelog</a>
      </h2>
<ul>
<li id="section-appendix.e-1.1">
          <p id="section-appendix.e-1.1.1">draft-petithuguenin-computerate-specifying-02<a href="#section-appendix.e-1.1.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.1.2.1">
              <p id="section-appendix.e-1.1.2.1.1">Document<a href="#section-appendix.e-1.1.2.1.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.1.2.1.2.1">Switch to rfcxml3.<a href="#section-appendix.e-1.1.2.1.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.1.2.2">Status is now experimental.<a href="#section-appendix.e-1.1.2.1.2.2" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.1.2.3">Many nits.<a href="#section-appendix.e-1.1.2.1.2.3" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.1.2.4">Fix incorrect errata stats.<a href="#section-appendix.e-1.1.2.1.2.4" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.1.2.5">Move acknowledgment section at the end.<a href="#section-appendix.e-1.1.2.1.2.5" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.1.2.6">Rewrite the APHD section (formerly known as AAD) to match draft-mcquistin-augmented-diagrams-01.<a href="#section-appendix.e-1.1.2.1.2.6" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.1.2.7">Fix non-ascii characters in the references.<a href="#section-appendix.e-1.1.2.1.2.7" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.1.2.8">Intermediate AsciiDoc representation for serializers.<a href="#section-appendix.e-1.1.2.1.2.8" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li id="section-appendix.e-1.1.2.2">
              <p id="section-appendix.e-1.1.2.2.1">Tooling<a href="#section-appendix.e-1.1.2.2.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.1.2.2.2.1">xmlrfc3 is now the default extension.<a href="#section-appendix.e-1.1.2.2.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.2.2.2">"docName" and "category" attributes are now generated, and the "prepTime" is removed.<a href="#section-appendix.e-1.1.2.2.2.2" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.2.2.3">Update xml2rfc to 2.35.0.<a href="#section-appendix.e-1.1.2.2.2.3" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.2.2.4">Remove LanguageTool.<a href="#section-appendix.e-1.1.2.2.2.4" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.2.2.5">Update Metanorma to version 0.3.17.<a href="#section-appendix.e-1.1.2.2.2.5" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.2.2.6">Update Asciidoctor to 2.0.10.<a href="#section-appendix.e-1.1.2.2.2.6" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.1.2.2.2.7">Update list of Working Groups.<a href="#section-appendix.e-1.1.2.2.2.7" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li id="section-appendix.e-1.1.2.3">
              <p id="section-appendix.e-1.1.2.3.1">Library<a href="#section-appendix.e-1.1.2.3.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.1.2.3.2.1">No update.<a href="#section-appendix.e-1.1.2.3.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
          </ul>
</li>
        <li id="section-appendix.e-1.2">
          <p id="section-appendix.e-1.2.1">draft-petithuguenin-computerate-specifying-01<a href="#section-appendix.e-1.2.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.2.2.1">
              <p id="section-appendix.e-1.2.2.1.1">Document<a href="#section-appendix.e-1.2.2.1.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.2.2.1.2.1">New changelog appendix.<a href="#section-appendix.e-1.2.2.1.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.1.2.2">Fix incorrect reference, formatting in Idris code.<a href="#section-appendix.e-1.2.2.1.2.2" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.1.2.3">Add option to remove container in all <code>docker run</code> command.<a href="#section-appendix.e-1.2.2.1.2.3" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.1.2.4">Add explanations to use the Idris REPL and VIM inside the Docker image.<a href="#section-appendix.e-1.2.2.1.2.4" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.1.2.5">Add placeholders for ASN.1 and RELAX NG languages.<a href="#section-appendix.e-1.2.2.1.2.5" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.1.2.6">New Errata appendix.<a href="#section-appendix.e-1.2.2.1.2.6" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.1.2.7">Nits.<a href="#section-appendix.e-1.2.2.1.2.7" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.1.2.8">Improve Syntax Examples section.<a href="#section-appendix.e-1.2.2.1.2.8" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li id="section-appendix.e-1.2.2.2">
              <p id="section-appendix.e-1.2.2.2.1">Tooling<a href="#section-appendix.e-1.2.2.2.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.2.2.2.2.1">Update Metanorma to version 0.3.16<a href="#section-appendix.e-1.2.2.2.2.1" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.2.2.2">Update MetaNorma-cli to version 1.2.7.1<a href="#section-appendix.e-1.2.2.2.2.2" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.2.2.3">Switch to patched version of Idris 1.3.2 that supports remote REPL in
Docker.<a href="#section-appendix.e-1.2.2.2.2.3" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.2.2.4">Add VIM and idris-vim extension.<a href="#section-appendix.e-1.2.2.2.2.4" class="pilcrow">¶</a>
</li>
                <li id="section-appendix.e-1.2.2.2.2.5">Remove some debug statements.<a href="#section-appendix.e-1.2.2.2.2.5" class="pilcrow">¶</a>
</li>
              </ul>
</li>
            <li id="section-appendix.e-1.2.2.3">
              <p id="section-appendix.e-1.2.2.3.1">Library<a href="#section-appendix.e-1.2.2.3.1" class="pilcrow">¶</a></p>
<ul>
<li id="section-appendix.e-1.2.2.3.2.1">No update<a href="#section-appendix.e-1.2.2.3.2.1" class="pilcrow">¶</a>
</li>
              </ul>
</li>
          </ul>
</li>
      </ul>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.f">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Marc Petit-Huguenin</span></div>
<div dir="auto" class="left"><span class="org">Impedance Mismatch LLC</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:marc@petit-huguenin.org" class="email">marc@petit-huguenin.org</a>
</div>
</address>
</section>
</div>
<script>var toc = document.getElementById("toc");
var tocToggle = toc.querySelector("h2");
var tocNav = toc.querySelector("nav");

// mobile menu toggle
tocToggle.onclick = function(event) {
    if (window.innerWidth < 1024) {
 var tocNavDisplay = tocNav.currentStyle ? tocNav.currentStyle.display : getComputedStyle(tocNav, null).display;
 if (tocNavDisplay == "none") {
     tocNav.style.display = "block";
 } else {
     tocNav.style.display = "none";
 }
    }
}

// toc anchor scroll to anchor
tocNav.addEventListener("click", function (event) {
    event.preventDefault();
    if (event.target.nodeName == 'A') {
 if (window.innerWidth < 1024) {
     tocNav.style.display = "none";
 }
 var href = event.target.getAttribute("href");
 var anchorId = href.substr(1);
 var anchor =  document.getElementById(anchorId);
 anchor.scrollIntoView(true);
 window.history.pushState("","",href);
    }
});

// switch toc mode when window resized
window.onresize = function () {
    if (window.innerWidth < 1024) {
 tocNav.style.display = "none";
    } else {
 tocNav.style.display = "block";
    }
}
</script>
</body>
</html>
