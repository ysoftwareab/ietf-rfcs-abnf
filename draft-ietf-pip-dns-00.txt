




Network Working Group                                        P. Tsuchiya
INTERNET-DRAFT                                                S. Thomson
                                                                Bellcore
                                                            January 1993


                          Use of DNS with Pip


Status of this Memo

   This document is an Internet Draft.  Internet Drafts are working
   documents of the Internet Engineering Task Force (IETF), its Areas,
   and its Working Groups. Note that other groups may also distribute
   working documents as Internet Drafts).

   Internet Drafts are draft documents valid for a maximum of six
   months. Internet Drafts may be updated, replaced, or obsoleted by
   other documents at any time.  It is not appropriate to use Internet
   Drafts as reference material or to cite them other than as a "working
   draft" or "work in progress."

   Please check the I-D abstract listing contained in each Internet
   Draft directory to learn the current status of this or any other
   Internet Draft.


Abstract

   Pip is an internet protocol intended as the replacement for IP
   version 4.  Pip is a general purpose internet protocol, designed to
   handle all forseeable internet protocol requirements.  This
   specification describes the use of DNS to support Pip.  Because Pip
   carries IDs and addresses separately, and because Pip Addresses are
   variable length, DNS must be modified to support Pip.  In addition to
   these necessary modifications, we have chosen to add new elements to
   DNS in order to support additional functions, such as policy routing,
   mobile hosts, routing through Public Data Networks, and transition.
   Later multicast support will be added as well (for CBT).


Acknowledgements

   The authors would like to acknowledge Bob Smart and Garrett Wollman
   for their initial work on Pip in DNS.



Pip WG, Expires July. 15, 1993                                  [Page 1]






INTERNET-DRAFT                  Pip DNS                     January 1993


Conventions

   All functions in this specification are mandatory.



1.  Introduction


   Pip is an internet protocol intended as the replacement for IP ver-
   sion 4.  Pip is a general purpose internet protocol, designed to han-
   dle all forseeable internet protocol requirements.  This specifica-
   tion describes the use of DNS to support Pip.  Because Pip carries
   IDs and addresses separately, and because Pip Addresses are variable
   length, DNS must be modified to support Pip.  In addition to these
   necessary modifications, we have chosen to add new elements to DNS in
   order to support additional functions, such as policy routing, mobile
   hosts, routing through Public Data Networks, and transition.  Later
   multicast support will be added as well (for CBT).

   In spite of this additional functionality, we retain the fundamental
   DNS paradigm of source-independency (this DNS record is returned to
   the queryer no matter who the queryer is).  We also retain the funda-
   mental DNS paradigm that the information stored by DNS does not
   change often.

   This draft is still rough, and subject to change and expansion.  Com-
   ments are very welcome.



2.  SUMMARY OF THE PIP DNS INFORMATION


   Following is a summary of the information in DNS for Pip.

   1.   One or more Pip IDs (though usually just one).

   2.   Multiple Pip addresses.  While these addresses are returned in a
        DNS Answer as complete addresses, in the DNS files they are par-
        titioned as external and internal parts (external is the high-
        order part of the pip address that is assigned to it by the
        private domain's carrier.  Internal is the low-order part of the
        pip address that is assigned by the private network.  Generally
        a Pip host will have a single low-order part, but may have



Pip WG, Expires July. 15, 1993                                  [Page 2]






INTERNET-DRAFT                  Pip DNS                     January 1993


        multiple high-order parts.)

   3.   Public data network address.  This tells, in the case where the
        destination is reachable via a major public data network (PDN)
        service, what the public data network address (such as E.164)
        is.  This can be put in an option of the Pip header, and subse-
        quently used by the ingress Pip router.

   4.   Mobile Address Server.  For the case where the destination is a
        mobile host, this would contain the domain name of a server that
        knows the current location of the mobile host.  In the case
        where a host is predominantly mobile (that is, doesn't have a
        "normal" reachable address), the Pip address part may be null,
        and this part filled in.  In the case where the server address
        and normal address of the host is the same, this record may be
        excluded.

   5.   Descriptive information associated with the backbone represented
        by the Pip Address.  The purpose of this information is to allow
        the source to make a policy decision.  The descriptive info will
        include backbone type (internet, frame relay, smds, etc.),  res-
        triction class (commercial, research, etc.), available Type of
        Service (TOS) (full-motion video, voice, telnet, etc.), and pro-
        vider name (ANS, AT&T, etc.).  The purpose of this is to give
        information that is useful and sufficient for the large majority
        of users, but not necessarily satisfy every possible policy
        requirement.  This information will allow the source to choose
        the best source and destination providers for a given communica-
        tions.

   6.   The domain name of a Pip/IP translator for the destination.
        This is used in the case where the destination is an IP-only,
        and so the Pip header must be addressed to the Pip/IP translator
        positioned at the border between the IP domain and the Pip
        domain.  Note that in the case where both source and destination
        are IP-only, with Pip in the middle, the entry Pip/IP translator
        must do a DNS query to obtain this information.




3.  SPECIFICATION OF QUERY AND RECORD TYPES


   The following types are the new types of resource records we are



Pip WG, Expires July. 15, 1993                                  [Page 3]






INTERNET-DRAFT                  Pip DNS                     January 1993


   adding to DNS. Note that query types are a superset of resource
   record types, and hence any resource record type is a valid query
   type.

         Type            Value and Meaning
         ----            -----------------
         PID             64      Pip identifier
         PA              65      Pip address
         MS              66      Mobile host server
         BBD             67      Backbone descriptor
         PDNA            68      PDN attachment point address
         TRAN            69      Name of Pip/IP translation gateway

   In addition, the following special-purpose query types are added:

   ADDR_SOME       250     A request for Pip identifiers and some
                           address information (A, PID, PA)
   ADDR_ALL        251     A request for all identifying and
                           address-related information (A, PID, PA, MS,
                           TRAN)



3.1.  Resource Record (RR) definitions


PID data format

        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        |                  PIPID                           |
        |                                                  |
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

   where:

   PIPID   A 64-bit Pip identifier represented in its modified
           ASN.1 notation (see specification on Pip Identifiers).


   PID RRs cause no additional section processing.


PA data format





Pip WG, Expires July. 15, 1993                                  [Page 4]






INTERNET-DRAFT                  Pip DNS                     January 1993


        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /                    PA                            /
        /                                                  /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

   where:

   PA      A Pip address, consisting of a sequence of FTIFs,
           each one represented by a 32-bit word.

   PA RRs do cause additional section processing. PDN attachment point
   addresses are returned in the additional section.


MS data format

        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /                    MS                            /
        /                                                  /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

   where:

   MS      A <domain-name> of the host acting as the mobile server
           for the specified domain.

   MS RRs do cause additional section processing. An ADDR_SOME query
   is done on the domain name of the mobile host server.


TRAN data format

        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /                    TRAN                          /
        /                                                  /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

   where:

   TRAN    A <domain-name> of the Pip/IP translation gateway that is
           to be used for the specified domain.


   TRAN RRs do cause additional section processing. An ADDR_SOME query
   is done on the domain name of the Pip/IP translation gateway.



Pip WG, Expires July. 15, 1993                                  [Page 5]






INTERNET-DRAFT                  Pip DNS                     January 1993


BBD data format

        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        | reserved  | CHARSET   | NUMCLASS  |  NUMTOS   |
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /                BBNAME                         /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /                BBTYPE                         /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /                BBCLASS                        /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /                BBTOS                          /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

   where:

   <reserved>      An 8-bit reserved field.
   CHARSET         An 8-bit field indicating the character set used
                   in the BBD text fields.
   NUMCLASS        An 8-bit field indicating the number of user classes
                   in the BBCLASS field.
   NUMTOS          An 8-bit field indicating the number of TOS
                   descriptors in the BBTOS field.
   BBNAME          A <character-string> which specifies the backbone
                   (provider) name.
   BBTYPE          A <character-string> which specifies the backbone
                   type.
   BBCLASS         A sequence of <character-string>s, each of which
                   specifies a user class descriptor.
   BBTOS           A sequence of TOS descriptors as defined below:


        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /               TOSTYPE                         /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        |               OBJNAME                         |
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

   where:

   TOSTYPE         A <character-string> which specifies the TOS type.
   OBJNAME         A <character-string> which specifies a Pip object
                   name.

   Standard values for character sets, names, classes and types must



Pip WG, Expires July. 15, 1993                                  [Page 6]






INTERNET-DRAFT                  Pip DNS                     January 1993


   still be defined.

   BBD resource records are associated with a particular Pip address
   using a reverse lookup domain (see below).

   This record causes no additional section processing.


PDNA data format

        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+
        /               PDNADDR                         /
        /                                               /
        +--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+--+

   where:

   PDNADDR         A <character-string> which specifies the public
                   data network attachment point address.


   PDNA resource records are associated with a particular Pip address
   using a reverse lookup domain (see below).

   This record causes no additional section processing.





3.2.  PIP-ADDR.ARPA and PIP-ID.ARPA domains


   The above two special domains are used to map PIP addresses and PIP
   identifiers to regular domain names, respectively. As with IP4
   addresses, the PTR resource record type is used to query this map-
   ping. Note that PTR types cause no additional section processing.

   Pip addresses are represented by a sequence of decimal FTIF values in
   reverse order with the suffix PIP-ADDR.ARPA. Pip identifiers are
   represented by hex labels in reverse order, with the suffix PIP-
   ID.ARPA.  These labels are determined from the hierarchical structure
   of the Pip identifier.  Pip address and identifier labels are
   separated by dots.




Pip WG, Expires July. 15, 1993                                  [Page 7]






INTERNET-DRAFT                  Pip DNS                     January 1993


   The PIP-ADDR.ARPA domain is also used to map Pip addresses to back-
   bone descriptors (BBD type) and PDN attachment point addresses (PDNA
   type).



3.3.  Special-purpose Query Types


The ADDR_SOME query type

   A query on a regular domain name of this type causes resource records
   of type A, PID and PA to be returned. Since PA queries do type PDNA
   additional section processing, PDNA information corresponding to each
   physical address will be returned in the additional section.


The ADDR_ALL query type

   A query on a regular domain name of this type causes resource records
   of type A, PID, PA, MS and TRANS to be returned. Since PA, MS and
   TRANS queries do additional section processing, PDNA information
   corresponding to each physical address will be returned as well as
   address information (defined by the ADDR_SOME type) associated with
   the domain's mobile host server and Pip/IP translation gateway.



3.4.  Modifications to Existing Resource Record Definitions


   NS, MX and MB resource record definitions will be modified to cause
   type ADDR_SOME additional section processing, rather than type A
   additional section processing. Otherwise, these definitions remain
   the same.













Pip WG, Expires July. 15, 1993                                  [Page 8]


