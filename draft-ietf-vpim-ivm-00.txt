Internet Draft                                                 S. McRae
Document: draft-ietf-vpim-ivm-00.txt                  Lotus Development
Category: Standards Track                                    G. Parsons
Expires in six months                                   Nortel Networks
                                                          July 12, 2000

                       Internet Voice Messaging 
                     <draft-ietf-vpim-ivm-00.txt> 


Status of this Memo 
    This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups. Note that 
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other documents 
   at any time. It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

1.  Abstract 

   This document provides for the carriage of voicemail messages over 
   Internet mail as part of a unified messaging infrastructure.

   The concept described in this document was originally called VPIM v3.
   This term has been dropped to reflect the fact that it is not a 
   successor format to VPIM v2, but rather an alternative specification 
   for a different application.

2.  Introduction

   People naturally communicate using their voices, and this is 
   preferable to typing for some forms of communication. By permitting 
   voicemail to be implemented in an interoperable way on top of 
   Internet Mail, voice messaging and electronic mail need no longer 
   remain separate, isolated worlds and users will be able to choose 
   the most appropriate form of communication. This will also enable 
   new types of device, without keyboards, to be used to participate in 
   electronic messaging when mobile, in a hostile environment, or in 
   spite of disabilities.



McRae & Parsons          Expires in Six Months                  [Page 1]
Internet Draft          Internet Voice Messaging           July 12, 2000


   There exist unified messaging systems which will transmit voicemail 
   messages over the Internet using SMTP/MIME, but these systems suffer 
   from a lack of interoperability because various aspects of such a 
   message have not hitherto been standardised. In addition, voicemail 
   systems can now conform to the Voice Profile for Internet Messaging 
   (VPIM v2 as defined in RFC 2421 [VPIM2]) when forwarding messages to 
   remote voicemail systems, but VPIM v2 was designed to allow two 
   voicemail systems to exchange messages, not to allow a voicemail 
   system to interoperate with a desktop e-mail client, and it is not 
   reasonable to expect a message forwarded from such a system via SMTP 
   to the desktop to be usable by the recipient. The result is messages 
   which cannot be processed by the recipient (e.g. because of the 
   encoding used), or look ugly to the user.

   This document therefore proposes a standard mechanism for 
   representing a voicemail message within SMTP/MIME, and a standard 
   encoding for the audio content, which unified messaging systems and 
   mail clients MUST implement to ensure interoperability. By using a 
   standard SMTP/MIME representation, and a widely implemented audio 
   encoding, this will also permit most users of e-mail clients not 
   specifically implementing the standard to still access the voicemail 
   message. In addition, this document describes features an e-mail 
   client SHOULD implement to allow it to display voicemail message in 
   a more friendly, context sensitive way to the user, and 
   intelligently provide some of the additional functionality typically 
   found in voicemail systems (such as responding with a voice message 
   instead of e-mail). Finally is explained how a client MAY provide a 
   level of interoperability with VPIM v2.

   It is desirable that unified messaging mail clients also be able to 
   fully interoperate with voicemail servers. This is possible today, 
   providing the client implements VPIM v2 [VPIMV2] in addition to this 
   specification, and uses it to construct messages to be sent to a 
   voicemail server. Separate work may be undertaken in the VPIM 
   Working Group to provide further interoperability between clients 
   implementing this specification and voicemail systems implementing 
   VPIM.

   This definition is based on the VPIM v3 goals document [GOALS], 
   which is being revised to reflect subsequent discussions. This 
   document is partly derived from VPIM v2 [VPIMV2], from an original 
   proposal for VPIM v3 [VPIMV3], and from an a simple version of that 
   specification [SIMPLEV3]. It references separate work on critical 
   and primary content types [CRITICAL, PRIMARY] and Partial delivery 
   notifications [PNDN] for Internet mail. Addressing issues are 
   discussed in a related Internet draft [ADDRESS]. Independent work 
   within the IETF is also addressing VPIM directory issues.

   Further information on VPIM v2 and related activities can be found 
   at http://www.ema.org/vpim/.

3.  Conventions Used in this Document


McRae & Parsons          Expires in Six Months                  [Page 2]
Internet Draft          Internet Voice Messaging           July 12, 2000


   The key words "MUST", "MUST NOT", "SHOULD", "SHOULD NOT", and "MAY" 
   in this document are to be interpreted as defined in "Key words for 
   use in RFCs to Indicate Requirement Levels" [KEYWORDS].

4.  Message Format

   All messages MUST conform with the Internet Mail format as it is 
   being defined by the DRUMS working group [DRUMSIMF].

   The message header SHOULD indicate a primary content type of "voice-
   message" (see [PRIMARY]).

   If the receiving user agent identifies the message as a voice 
   message (from the primary content type), it MAY present it to the 
   user as a voice message rather than as an electronic mail message 
   with a voice attachment.

   Any content type is permitted in a message, but the top level 
   content type on origination of a new, forwarded or reply voice 
   message SHOULD be multipart/mixed. If the recipient is know to be 
   VPIM v2 compliant then multipart/voice-message MAY be used instead 
   (in which case all the provision of [VPIMV2] SHOULD be implemented].

   If the message was created as a voice message, then the appropriate 
   audio body part SHOULD be indicated as critical content, via a 
   Content-Notification parameter of NOTIFY (see [CRITICAL]). 
   Additional important body parts (such as the original audio message 
   if a voicemail is being forwarded) SHOULD be indicated via a Content-
   Notification of PARTIAL. Contents which are not essential to 
   communicating the meaning of the message (e.g. an associated vCard 
   for the originator) SHOULD be indicated via a Content-Notification 
   of IGNORE.

   The top level content type on origination of a delivery notification 
   message MUST be multipart/report.

5.  Transport

   The message MUST be transmitted in accordance with the Simple Mail 
   Transport Protocol as it is being defined by the DRUMS working group 
   [DRUMSMTP].

   Delivery Status Notifications SHOULD be requested [DSN] if delivery 
   of the message is important to the originator.

6.  Addressing

   Any valid Internet Mail address may be used for a voice message.

   It is desirable to be able to use and onramp/offramp for delivery of 
   a voicemail message to a user, which will result in specific 
   addressing requirements, based on service selectors as defined in 


McRae & Parsons          Expires in Six Months                  [Page 3]
Internet Draft          Internet Voice Messaging           July 12, 2000


   [SELECTOR]. Further discussion of addressing requirements for voice 
   messages can be found in the VPIM Addressing draft [ADDRESS].

   It is desirable to permit the use of a directory service to map 
   between the E.164 phone number of the recipient and an SMTP mailbox 
   address. How this might be achieved is currently under study in the 
   VPIM and ENUM working groups [VPIME164].

7.  Notifications

   Delivery Status Notifications MUST be supported.  All non-delivery 
   of messages MUST result in a NDN, if requested [DSN].

   If the receiving system is unable to process all of the media types 
   within a voice message (indicated by the primary content type), then 
   it SHOULD return a partial non-delivery report [PNDN].

   Message Disposition Notifications SHOULD be supported (but according 
   to MDN rules the user MUST be given the option of deciding whether 
   MDNs are returned) [MDN].

   If the recipient is unable to display all of the indicated critical 
   content components indicated, then it SHOULD give the user the 
   option of returning an appropriate MDN or MNDN (see [CRITICAL]).

   Editor's Note: at the time of writing, partial delivery MDNs are 
   undergoing definition and there is no published draft.

8.  Voice Contents

   Voice messages may be contained at any location within a message and 
   MUST be contained in an audio/WAV content-type, unless the 
   originator is aware that the recipient can handle other content. 
   Specifically, Audio/32KADPCM MAY be used when the recipient is known 
   to support VPIM v2 [VPIMV2].

   The VOICE parameter from VPIM v2 [VPIMV2] SHOULD be used to identify 
   the any spoken names or spoken subjects (as distinct from voice 
   message contents).

   The originators and recipients spoken names SHOULD be included with 
   messages as separate audio contents, if known, and indicated by the 
   Content-Disposition as defined in VPIM v2 [VPIMV2]. A spoken subject 
   MAY also be provided (per VPIM v2). 

   An implementation MAY determine the recipient capabilities before 
   the sending a message and choose a codec accordingly (e.g. using 
   some form of Content Negotiation, which is an active area of 
   investigation in the IETF).  In the absence of such recipient 
   knowledge, implementations MUST use MS-GSM within the WAV file - 
   indicated via "audio/wav; codec=31".



McRae & Parsons          Expires in Six Months                  [Page 4]
Internet Draft          Internet Voice Messaging           July 12, 2000


   Recipients MUST be able to play such a WAV encapsulated MS-GSM 
   message, and MAY be able to play G.726 (indicated as audio/32kadpcm) 
   to provide some interoperability with VPIM v2 [VPIMV2].

   An implementation MAY be able to play messages encoded with other 
   codecs (either natively or via transcoding) but MUST be able to 
   record WAV with MS-GSM.

   An implementation MAY support interoperability with VPIM v2 [VPIMV2],
   in which case it MUST be able to record G.726 (indicated as 
   audio/32kadpcm).

   These requirements may be summarised as follows:

      Codec       No VPIM v2 Support     With VPIM V2 Support
                  Record    Playback     Record      Playback
      ------      ------    --------     ------      --------
      WAV/MS-GSM  MUST      MUST         MUST        MUST
      G.726       MAY       MAY          MUST        MUST
      Other       MAY       MAY          MAY         MAY

9. Fax Contents

   Fax contents SHOULD be carried according to RFC 2532 [IFAX].

10. Further Work

   The above text provides some guidelines as to how to ensure that a 
   VPIM v2 message arriving on at a compliant mail system might be 
   rendered useful to the recipient. However, a thorough investigation 
   of interoperability with VPIM v2 is beyond the scope of this 
   document (although, once it has been undertaken, the requirements 
   herein should be reviewed in that light).

   Other areas which are candidates to be referenced from this document 
   include: Content Negotiation (inc. RESCAP); the VPIM Directory work; 
   Spoken Header fields (embedded or references); the inclusion of the 
   originator's telephone number in the RFC822 header; and a 
   consideration of interoperability with e-mail clients not supporting 
   this specification.

11. Security Considerations

   It is anticipated that there are no additional security issues 
   beyond those identified in VPIM v2.

12. References

   [ADDRESS]  Parsons, G., "VPIM Addressing"
              <draft-ema-vpim-address-01.txt>

   [CRITICAL] Burger, E., Candell, E., "Critical Content of Internet


McRae & Parsons          Expires in Six Months                  [Page 5]
Internet Draft          Internet Voice Messaging           July 12, 2000


              Mail" <draft-burger-vpim-cc-00.txt>

   [DSN]      Moore, K., "SMTP Service Extension for Delivery Status
              Notifications" RFC 1891, January 1996.

   [DRUMSMTP] Klensin, J., "Simple Mail Transfer Protocol",
              <draft-ietf-drums-smtpupd-12.txt>, Work in Progress.

   [DRUMSIMF] Resnick, P., "Internet Message Format",
              <draft-ietf-drums-msg-fmt-08.txt>, Work in Progress.

   [IFAX]     Masinter, L., Wing, D. "Extended Facsimile Using
              Internet Mail", RFC 2532, March 1999.

   [KEYWORDS] Bradner, S., "Key Words for use in RFCs To Indicate
              Requirement Levels", RFC 2119, March 1997.

   [GOALS]    Di Silvestro, L., Miles, R., "Goals for VPIM v3",
              <draft-ema-vpimv3-goals-01.txt>, Work in Progress.

   [MIME]     Freed, N., Borenstein, N., "Multipurpose Internet Mail
              Extensions (MIME) Part One: Format of Internet Message
              Bodies", RFC 2045, November 1996.

   [PNDN]     Burger, E., "Partial Non-Delivery Notification"
              <draft-ema-vpim-pndn-01.txt>

   [PRIMARY]  Burger, E., Candell, E., "Primary Content of Internet
              Mail" <draft-burger-vpim-pc-00.txt>

   [SELECTOR] Allocchio, C., "Minimal PSTN address format in
              Internet Mail", RFC 2303, March 1998.

   [SIMPLEV3] Parsons, G., "Voice Profile for Internet Mail
              Version 3: A Simple Approach"
              <draft-ema-vpim-simplev3-01.txt>

   [VPIME164] Vaudreuil, G. "Voice Messaging Directory Service:
              Principles of Operation",
              <draft-vaudreuil-vpimdir-principles-00.txt>, Work in
              Progress.

   [VPIMV2]   Vaudreuil, G., Parsons, G., "Voice Profile for
              Internet Mail -  version 2", RFC 2421, September 1998.

   [VPIMV3]   Vaudreuil, G., Parsons, G., "Voice Profile for
              Internet Mail - version 3", <draft-ema-vpimv3-00.txt>,
              Work in Progress.

   [VPIMVM]   Vaudreuil, G., and Parsons, G., "VPIM Voice Message:
              MIME Sub-type Registration", RFC 2423, September 1998.



McRae & Parsons          Expires in Six Months                  [Page 6]
Internet Draft          Internet Voice Messaging           July 12, 2000


   [WAVMGSM]  Di Silvestro, L., Baribault, G.,
              "Waveform Audio File Format MIME Sub-type Registration"
              <draft-ema-vpim-wav-00.txt>. Work in Progress.

13.  Author's Address

   Stuart J. McRae 
   Lotus Development 
   43 Seymour Gardens Twickenham 
   United Kingdom
   TW1 3AR 
   

   Phone: +44 208 891 1896 
   Fax: +44 1784 499 112 
   Email: stuart_mcrae@lotus.com

   Glenn W. Parsons 
   Nortel Networks 
   P.O. Box 3511, Station C 
   Ottawa, ON
   Canada 
   K1Y 4H7 

   Phone: +1-613-763-7582 
   Fax: +1-613-763-4461 
   Email: gparsons@nortelnetworks.com 

14.  Full Copyright Statement

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

   This document and translations of it may be copied and furnished to 
   others, and derivative works that comment on or otherwise explain it 
   or assist in its implementation may be prepared, copied, published 
   and distributed, in whole or in part, without restriction of any 
   kind, provided that the above copyright notice and this paragraph 
   are included on all such copies and derivative works.  However, this 
   document itself may not be modified in any way, such as by removing 
   the copyright notice or references to the Internet Society or other 
   Internet organizations, except as needed for the purpose of 
   developing Internet standards in which case the procedures for 
   copyrights defined in the Internet Standards process must be 
   followed, or as required to translate it into languages other than 
   English.

   The limited permissions granted above are perpetual and will not be 
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an 
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING 
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING 
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION 
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.









McRae & Parsons          Expires in Six Months                  [Page 7]

