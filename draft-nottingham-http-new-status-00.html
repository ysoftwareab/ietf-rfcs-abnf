<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head profile="http://www.w3.org/2006/03/hcard%20http://dublincore.org/documents/2008/08/04/dc-html/">
  <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" />

  <title>Additional HTTP Status Codes</title>

  <style type="text/css" title="Xml2Rfc (sans serif)">
  /*<![CDATA[*/
	  a {
	  text-decoration: none;
	  }
	  a.smpl {
	  color: black;
	  }
	  a:hover {
	  text-decoration: underline;
	  }
	  a:active {
	  text-decoration: underline;
	  }
	  address {
	  margin-top: 1em;
	  margin-left: 2em;
	  font-style: normal;
	  }
	  body {
	  color: black;
	  font-family: verdana, helvetica, arial, sans-serif;
	  font-size: 10pt;
	  
	  }
	  cite {
	  font-style: normal;
	  }
	  dd {
	  margin-right: 2em;
	  }
	  dl {
	  margin-left: 2em;
	  }
	
	  ul.empty {
	  list-style-type: none;
	  }
	  ul.empty li {
	  margin-top: .5em;
	  }
	  dl p {
	  margin-left: 0em;
	  }
	  dt {
	  margin-top: .5em;
	  }
	  h1 {
	  font-size: 14pt;
	  line-height: 21pt;
	  page-break-after: avoid;
	  }
	  h1.np {
	  page-break-before: always;
	  }
	  h1 a {
	  color: #333333;
	  }
	  h2 {
	  font-size: 12pt;
	  line-height: 15pt;
	  page-break-after: avoid;
	  }
	  h3, h4, h5, h6 {
	  font-size: 10pt;
	  page-break-after: avoid;
	  }
	  h2 a, h3 a, h4 a, h5 a, h6 a {
	  color: black;
	  }
	  img {
	  margin-left: 3em;
	  }
	  li {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  ol p {
	  margin-left: 0em;
	  }
	  p {
	  margin-left: 2em;
	  margin-right: 2em;
	  }
	  pre {
	  margin-left: 3em;
	  background-color: lightyellow;
	  padding: .25em;
	  }
	  pre.text2 {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f0f0f0;
	  width: 69em;
	  }
	  pre.inline {
	  background-color: white;
	  padding: 0em;
	  }
	  pre.text {
	  border-style: dotted;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  width: 69em;
	  }
	  pre.drawing {
	  border-style: solid;
	  border-width: 1px;
	  background-color: #f8f8f8;
	  padding: 2em;
	  }
	  table {
	  margin-left: 2em;
	  }
	  table.tt {
	  vertical-align: top;
	  }
	  table.full {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.headers {
	  border-style: outset;
	  border-width: 1px;
	  }
	  table.tt td {
	  vertical-align: top;
	  }
	  table.full td {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.tt th {
	  vertical-align: top;
	  }
	  table.full th {
	  border-style: inset;
	  border-width: 1px;
	  }
	  table.headers th {
	  border-style: none none inset none;
	  border-width: 1px;
	  }
	  table.left {
	  margin-right: auto;
	  }
	  table.right {
	  margin-left: auto;
	  }
	  table.center {
	  margin-left: auto;
	  margin-right: auto;
	  }
	  caption {
	  caption-side: bottom;
	  font-weight: bold;
	  font-size: 9pt;
	  margin-top: .5em;
	  }
	
	  table.header {
	  border-spacing: 1px;
	  width: 95%;
	  font-size: 10pt;
	  color: white;
	  }
	  td.top {
	  vertical-align: top;
	  }
	  td.topnowrap {
	  vertical-align: top;
	  white-space: nowrap; 
	  }
	  table.header td {
	  background-color: gray;
	  width: 50%;
	  }
	  table.header a {
	  color: white;
	  }
	  td.reference {
	  vertical-align: top;
	  white-space: nowrap;
	  padding-right: 1em;
	  }
	  thead {
	  display:table-header-group;
	  }
	  ul.toc, ul.toc ul {
	  list-style: none;
	  margin-left: 1.5em;
	  margin-right: 0em;
	  padding-left: 0em;
	  }
	  ul.toc li {
	  line-height: 150%;
	  font-weight: bold;
	  font-size: 10pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  ul.toc li li {
	  line-height: normal;
	  font-weight: normal;
	  font-size: 9pt;
	  margin-left: 0em;
	  margin-right: 0em;
	  }
	  li.excluded {
	  font-size: 0pt;
	  }
	  ul p {
	  margin-left: 0em;
	  }
	
	  .comment {
	  background-color: yellow;
	  }
	  .center {
	  text-align: center;
	  }
	  .error {
	  color: red;
	  font-style: italic;
	  font-weight: bold;
	  }
	  .figure {
	  font-weight: bold;
	  text-align: center;
	  font-size: 9pt;
	  }
	  .filename {
	  color: #333333;
	  font-weight: bold;
	  font-size: 12pt;
	  line-height: 21pt;
	  text-align: center;
	  }
	  .fn {
	  font-weight: bold;
	  }
	  .hidden {
	  display: none;
	  }
	  .left {
	  text-align: left;
	  }
	  .right {
	  text-align: right;
	  }
	  .title {
	  color: #990000;
	  font-size: 18pt;
	  line-height: 18pt;
	  font-weight: bold;
	  text-align: center;
	  margin-top: 36pt;
	  }
	  .vcardline {
	  display: block;
	  }
	  .warning {
	  font-size: 14pt;
	  background-color: yellow;
	  }
	
	
	  @media print {
	  .noprint {
		display: none;
	  }
	
	  a {
		color: black;
		text-decoration: none;
	  }
	
	  table.header {
		width: 90%;
	  }
	
	  td.header {
		width: 50%;
		color: black;
		background-color: white;
		vertical-align: top;
		font-size: 12pt;
	  }
	
	  ul.toc a::after {
		content: leader('.') target-counter(attr(href), page);
	  }
	
	  ul.ind li li a {
		content: target-counter(attr(href), page);
	  }
	
	  .print2col {
		column-count: 2;
		-moz-column-count: 2;
		column-fill: auto;
	  }
	  }
	
	  @page {
	  @top-left {
		   content: "Internet-Draft"; 
	  } 
	  @top-right {
		   content: "December 2010"; 
	  } 
	  @top-center {
		   content: "Abbreviated Title";3
	  } 
	  @bottom-left {
		   content: "Doe"; 
	  } 
	  @bottom-center {
		   content: "Expires June 2011"; 
	  } 
	  @bottom-right {
		   content: "[Page " counter(page) "]"; 
	  } 
	  }
	
	  @page:first { 
		@top-left {
		  content: normal;
		}
		@top-right {
		  content: normal;
		}
		@top-center {
		  content: normal;
		}
	  }
  /*]]>*/
  </style>

  <link href="#rfc.toc" rel="Contents">
<link href="#rfc.section.1" rel="Chapter" title="1 Introduction">
<link href="#rfc.section.2" rel="Chapter" title="2 Requirements">
<link href="#rfc.section.3" rel="Chapter" title="3 428 Network Authentication Required">
<link href="#rfc.section.3.1" rel="Chapter" title="3.1 The 428 Status Code and Captive Portals">
<link href="#rfc.section.4" rel="Chapter" title="4 429 Limit Exceeded">
<link href="#rfc.section.5" rel="Chapter" title="5 430 Request Header Fields Too Large">
<link href="#rfc.section.6" rel="Chapter" title="6 Security Considerations">
<link href="#rfc.section.6.1" rel="Chapter" title="6.1 428 Network Authentication Required">
<link href="#rfc.section.6.2" rel="Chapter" title="6.2 429 Limit Exceeded">
<link href="#rfc.section.6.3" rel="Chapter" title="6.3 430 Request Header Fields Too Large">
<link href="#rfc.section.7" rel="Chapter" title="7 IANA Considerations">
<link href="#rfc.references" rel="Chapter" title="8 References">
<link href="#rfc.references.1" rel="Chapter" title="8.1 Normative References">
<link href="#rfc.references.2" rel="Chapter" title="8.2 Informative References">
<link href="#rfc.appendix.Appendix%20A" rel="Chapter" title="Appendix A Issues Raised by Captive Portals">
<link href="#rfc.authors" rel="Chapter">


  <meta name="generator" content=
  "http://greenbytes.de/tech/webdav/rfc2629.xslt, Revision 1.539, 2011-01-02 17:13:00, XSLT vendor: SAXON 6.5.5 from Michael Kay http://saxon.sf.net/" />
  <link rel="schema.dct" href="http://purl.org/dc/terms/" />
  <meta name="dct.creator" content="Doe, J." />
  <meta name="dct.identifier" content="urn:ietf:id:draft-sample-input-00" />
  <meta name="dct.issued" scheme="ISO8601" content="2010-12" />
  
  <meta name="dct.abstract" content="This document specifies additional HyperText Transfer Protocol (HTTP) status codes for a variety of common situations." />
  <meta name="description" content="This document specifies additional HyperText Transfer Protocol (HTTP) status codes for a variety of common situations." />
  <meta name="keywords" content="" />

</head>

<body>

  <table class="header">
    <tbody>
    
    	<tr>
<td class="left">Network Working Group</td>
<td class="right">M. Nottingham</td>
</tr>
<tr>
<td class="left">Internet-Draft</td>
<td class="right">R. Fielding</td>
</tr>
<tr>
<td class="left">Updates: 2616 (if approved)</td>
<td class="right">Adobe</td>
</tr>
<tr>
<td class="left">Intended status: Standards Track</td>
<td class="right">August 13, 2011</td>
</tr>
<tr>
<td class="left">Expires: February 14, 2012</td>
<td class="right"></td>
</tr>

    	
    </tbody>
  </table>

  <p class="title">Additional HTTP Status Codes<br />
  <span class="filename">draft-nottingham-http-new-status-00</span></p>
  
  <h1 id="rfc.abstract"><a href="#rfc.abstract">Abstract</a></h1>
<p>This document specifies additional HyperText Transfer Protocol (HTTP) status codes for a variety of common situations.</p>
<h1 id="rfc.status"><a href="#rfc.status">Status of this Memo</a></h1>
<p>This Internet-Draft is submitted in full conformance with the provisions of BCP 78 and BCP 79.</p>
<p>Internet-Drafts are working documents of the Internet Engineering Task Force (IETF).  Note that other groups may also distribute working documents as Internet-Drafts.  The list of current Internet- Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>Internet-Drafts are draft documents valid for a maximum of six months and may be updated, replaced, or obsoleted by other documents at any time.  It is inappropriate to use Internet-Drafts as reference material or to cite them other than as "work in progress."</p>
<p>This Internet-Draft will expire on February 14, 2012.</p>
<h1 id="rfc.copyrightnotice"><a href="#rfc.copyrightnotice">Copyright Notice</a></h1>
<p>Copyright (c) 2011 IETF Trust and the persons identified as the document authors.  All rights reserved.</p>
<p>This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document.  Please review these documents carefully, as they describe your rights and restrictions with respect to this document.  Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.</p>

  
  <hr class="noprint" />
  <h1 class="np" id="rfc.toc"><a href="#rfc.toc">Table of Contents</a></h1>
  <ul class="toc">

  	<li>1.   <a href="#rfc.section.1">Introduction</a>
</li>
<li>2.   <a href="#rfc.section.2">Requirements</a>
</li>
<li>3.   <a href="#rfc.section.3">428 Network Authentication Required</a>
</li>
<li>3.1.   <a href="#rfc.section.3.1">The 428 Status Code and Captive Portals</a>
</li>
<li>4.   <a href="#rfc.section.4">429 Limit Exceeded</a>
</li>
<li>5.   <a href="#rfc.section.5">430 Request Header Fields Too Large</a>
</li>
<li>6.   <a href="#rfc.section.6">Security Considerations</a>
</li>
<li>6.1.   <a href="#rfc.section.6.1">428 Network Authentication Required</a>
</li>
<li>6.2.   <a href="#rfc.section.6.2">429 Limit Exceeded</a>
</li>
<li>6.3.   <a href="#rfc.section.6.3">430 Request Header Fields Too Large</a>
</li>
<li>7.   <a href="#rfc.section.7">IANA Considerations</a>
</li>
<li>8.   <a href="#rfc.references">References</a>
</li>
<li>8.1.   <a href="#rfc.references.1">Normative References</a>
</li>
<li>8.2.   <a href="#rfc.references.2">Informative References</a>
</li>
<li>Appendix A.   <a href="#rfc.appendix.Appendix%20A">Issues Raised by Captive Portals</a>
</li>
<li><a href="#rfc.authors">Authors' Addresses</a>
</li>


  </ul>

  <h1 id="rfc.section.1">
<a href="#rfc.section.1">1.</a> Introduction</h1>
<p id="rfc.section.1.p.1">This document specifies additional HTTP <a href="#RFC2616">[RFC2616]</a> status codes for a variety of common situations, to improve interoperability and avoid confusion when other, less precise status codes are used.</p>
<p id="rfc.section.1.p.2">Feedback should occur on the ietf-http-wg@w3.org mailing list, although this draft is NOT a work item of the IETF HTTPbis Working Group. </p>
<h1 id="rfc.section.2">
<a href="#rfc.section.2">2.</a> Requirements</h1>
<p id="rfc.section.2.p.1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="#RFC2119">[RFC2119]</a>.</p>
<h1 id="rfc.section.3">
<a href="#rfc.section.3">3.</a> <a href="#status-code" id="status-code">428 Network Authentication Required</a>
</h1>
<p id="rfc.section.3.p.1">This status code indicates that the client needs to authenticate to gain network access.</p>
<p id="rfc.section.3.p.2">The response representation SHOULD indicate how to do this; e.g., with an HTML form for submitting credentials.</p>
<p id="rfc.section.3.p.3">The 428 status SHOULD NOT be generated by origin servers; it is intended for use by intermediaries.</p>
<p id="rfc.section.3.p.4">Responses with the 428 status code MUST NOT be stored by a cache.</p>
<h1 id="rfc.section.3.1">
<a href="#rfc.section.3.1">3.1.</a> <a href="#use428" id="use428">The 428 Status Code and Captive Portals</a>
</h1>
<p id="rfc.section.3.1.p.1">This section demonstrates a typical use of the 428 status code; it is not normative. See <a href="#issues">Appendix Appendix A</a> for an explanation of the issues that motivate this status code.</p>
<p id="rfc.section.3.1.p.2">A network operator wishing to require some authentication, acceptance of terms or other user interaction before granting access usually does so by identify clients who have not done so ("unknown clients") using their MAC addresses.</p>
<p id="rfc.section.3.1.p.3">Unknown clients then have all traffic blocked, except for that on TCP port 80, which is sent to a HTTP server (the "login server") dedicated to "logging in" unknown clients, and of course traffic to the login server itself.</p>
<p id="rfc.section.3.1.p.4">For example, a user agent might connect to a network and make the following HTTP request on TCP port 80:</p>
<div id="#rfc.figure.1"></div>
<pre>
GET /index.htm HTTP/1.1
Host: www.example.com
</pre>
<p id="rfc.section.3.1.p.5">Upon receiving such a request, the login server would generate a 428 response:</p>
<div id="#rfc.figure.2"></div>
<pre>
HTTP/1.1 428 Network Authentication Required
Refresh: 0; url=https://login.example.net/
Content-Type: text/html

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Network Authentication Required&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;You are being redirected to log into the network...&lt;/h1&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p id="rfc.section.3.1.p.6">Here, the 428 status code assures that non-browser clients will not interpret the response as being from the origin server, and the Refresh header redirects the user agent to the login server (an HTML META element can be used for this as well).</p>
<p id="rfc.section.3.1.p.7">Note that the 428 response can itself contain the login interface, but it may not be desirable to do so, because browsers would show the login interface as being associated with the originally requested URL, which may cause confusion.</p>
<h1 id="rfc.section.4">
<a href="#rfc.section.4">4.</a> 429 Limit Exceeded</h1>
<p id="rfc.section.4.p.1">This status code indicates that the client has exceeded some usage limit on the origin server, such as sending too many requests in a given amount of time ("rate limiting").</p>
<p id="rfc.section.4.p.2">The response representations SHOULD include details explaining the limit, and MAY include a Retry-After header indicating how long to wait before making a new request.</p>
<p id="rfc.section.4.p.3">For example:</p>
<div id="#rfc.figure.3"></div>
<pre>
HTTP/1.1 429 Limit Exceeded
Content-Type: text/html
Retry-After: 3600

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Limit Exceeded&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;Limit Exceeded&lt;/h1&gt;
      &lt;p&gt;I only allow 50 requests per hour to this Web site.
      Try again soon.&lt;/p&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p id="rfc.section.4.p.4">Note that this specification does not define specific limits, nor their scope. For example, an origin server that is limiting request rates can do so based upon counts of requests on a per-resource basis, across the entire server, or even among a set of servers.</p>
<p id="rfc.section.4.p.5">Responses with the 429 status code MUST NOT be stored by a cache.</p>
<h1 id="rfc.section.5">
<a href="#rfc.section.5">5.</a> 430 Request Header Fields Too Large</h1>
<p id="rfc.section.5.p.1">This status code indicates that the server is unwilling to process the request because its header fields are too large. The request MAY be resubmitted after reducing the size of the request header fields.  </p>
<p id="rfc.section.5.p.2">It can be used both when the set of request header fields in total are too large, and when a single header field is at fault. In the latter case, the response representation SHOULD specify which header field was too large.</p>
<p id="rfc.section.5.p.3">For example:</p>
<div id="#rfc.figure.4"></div>
<pre>
HTTP/1.1 430 Request Header Fields Too Large
Content-Type: text/html

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Request Header Fields Too Large&lt;/title&gt;
   &lt;/head&gt;
   &lt;body&gt;
      &lt;h1&gt;Request Header Fields Too Large&lt;/h1&gt;
      &lt;p&gt;The "Example" header was too large.&lt;/p&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
<p id="rfc.section.5.p.4">Responses with the 430 status code MUST NOT be stored by a cache.</p>
<h1 id="rfc.section.6">
<a href="#rfc.section.6">6.</a> Security Considerations</h1>
<h1 id="rfc.section.6.1">
<a href="#rfc.section.6.1">6.1.</a> 428 Network Authentication Required</h1>
<p id="rfc.section.6.1.p.1">In common use, a response carrying the 428 status code will not come from the origin server indicated in the request's URL. This presents many security issues; e.g., an attacking intermediary may be inserting cookies into the original domain's name space, may be observing cookies or HTTP authentication credentials sent from the user agent, and so on.</p>
<p id="rfc.section.6.1.p.2">However, these risks are not unique to the 428 status code; in other words, a captive portal that is not using this status code introduces the same issues.</p>
<h1 id="rfc.section.6.2">
<a href="#rfc.section.6.2">6.2.</a> 429 Limit Exceeded</h1>
<p id="rfc.section.6.2.p.1">Servers are not required to use the 429 status code; when limiting resource usage, it may be more appropriate to just drop connections, or take other steps.</p>
<h1 id="rfc.section.6.3">
<a href="#rfc.section.6.3">6.3.</a> 430 Request Header Fields Too Large</h1>
<p id="rfc.section.6.3.p.1">Servers are not required to use the 430 status code; when under attack, it may be more appropriate to just drop connections, or take other steps.  </p>
<h1 id="rfc.section.7">
<a href="#rfc.section.7">7.</a> IANA Considerations</h1>
<p id="rfc.section.7.p.1">The HTTP Status Codes Registry should be updated with the following entries:</p>
<p></p>

<ul>
<li>Code: 428</li>
<li>Description: Network Authentication Required</li>
<li>Specification: [ this document ]</li>
</ul>
<p></p>

<ul>
<li>Code: 429</li>
<li>Description: Limit Exceeded</li>
<li>Specification: [ this document ]</li>
</ul>
<p></p>

<ul>
<li>Code: 430</li>
<li>Description: Request Header Fields Too Large</li>
<li>Specification: [ this document ]</li>
</ul>
<h1 id="rfc.references">
<a href="#rfc.references">8.</a> References</h1>
<h1 id="rfc.references.1">
<a href="#rfc.references.1">8.1.</a> Normative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC2119">[RFC2119]</b></td>
<td class="top">
<a href="mailto:sob@harvard.edu" title="Harvard University">Bradner, S.</a>, "<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>", BCP 14, RFC 2119, March 1997.</td>
</tr>
<tr>
<td class="reference"><b id="RFC2616">[RFC2616]</b></td>
<td class="top">
<a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.</a>, <a href="mailto:jg@w3.org" title="World Wide Web Consortium">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com" title="Compaq Computer Corporation">Mogul, J.</a>, <a href="mailto:frystyk@w3.org" title="World Wide Web Consortium">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com" title="Xerox Corporation">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com" title="Microsoft Corporation">Leach, P.</a> and <a href="mailto:timbl@w3.org" title="World Wide Web Consortium">T. Berners-Lee</a>, "<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>", RFC 2616, June 1999.</td>
</tr>
</tbody></table>
<h1 id="rfc.references.2">
<a href="#rfc.references.2">8.2.</a> Informative References</h1>
<table><tbody>
<tr>
<td class="reference"><b id="RFC4918">[RFC4918]</b></td>
<td class="top">
<a>Dusseault, L.</a>, "<a href="http://tools.ietf.org/html/rfc4918">HTTP Extensions for Web Distributed Authoring and Versioning (WebDAV)</a>", RFC 4918, June 2007.</td>
</tr>
<tr>
<td class="reference"><b id="RFC4791">[RFC4791]</b></td>
<td class="top">
<a href="mailto:cyrus@daboo.name" title="Apple Inc.">Daboo, C.</a>, <a href="mailto:bernard.desruisseaux@oracle.com" title="Oracle Corporation">Desruisseaux, B.</a> and <a href="mailto:ldusseault@commerce.net" title="CommerceNet">L.M. Dusseault</a>, "<a href="http://tools.ietf.org/html/rfc4791">Calendaring Extensions to WebDAV (CalDAV)</a>", RFC 4791, March 2007.</td>
</tr>
</tbody></table>
<h1 id="rfc.appendix.Appendix A">
<a href="#rfc.appendix.Appendix%20A">Appendix A.</a> <a href="#issues" id="issues">Issues Raised by Captive Portals</a>
</h1>
<p id="rfc.section.Appendix A.p.1">Since clients cannot differentiate between a portal's response and that of the HTTP server that they intended to communicate with, a number of issues arise.</p>
<p id="rfc.section.Appendix A.p.2">One example is the "favicon.ico" <a href="http://en.wikipedia.org/wiki/Favicon">http://en.wikipedia.org/wiki/Favicon</a> commonly used by browsers to identify the site being accessed. If the favicon for a given site is fetched from a captive portal instead of the intended site (e.g., because the user is unauthenticated), it will often "stick" in the browser's cache (most implementations cache favicons aggressively) beyond the portal session, so that it seems as if the portal's favicon has "taken over" the legitimate site.</p>
<p id="rfc.section.Appendix A.p.3">Another browser-based issue comes about when P3P <a href="http://www.w3.org/TR/P3P/">http://www.w3.org/TR/P3P/</a> is supported. Depending on how it is implemented, it's possible a browser might interpret a portal's response for the p3p.xml file as the server's, resulting in the privacy policy (or lack thereof) advertised by the portal being interpreted as applying to the intended site. Other Web-based protocols such as WebFinger <a href="http://code.google.com/p/webfinger/wiki/WebFingerProtocol">http://code.google.com/p/webfinger/wiki/WebFingerProtocol</a>, CORS <a href="http://www.w3.org/TR/cors/">http://www.w3.org/TR/cors/</a> and OAuth <a href="http://tools.ietf.org/html/draft-ietf-oauth-v2">http://tools.ietf.org/html/draft-ietf-oauth-v2</a> may also be vulnerable to such issues.</p>
<p id="rfc.section.Appendix A.p.4">Although HTTP is most widely used with Web browsers, a growing number of non-browsing applications use it as a substrate protocol. For example, WebDAV <a href="#RFC4918">[RFC4918]</a> and CalDAV <a href="#RFC4791">[RFC4791]</a> both use HTTP as the basis (for network filesystem access and calendaring, respectively). Using these applications from behind a captive portal can result in spurious errors being presented to the user, and might result in content corruption, in extreme cases.</p>
<p id="rfc.section.Appendix A.p.5">Similarly, other non-browser applications using HTTP can be affected as well; e.g., widgets <a href="http://www.w3.org/TR/widgets/">http://www.w3.org/TR/widgets/</a>, software updates, and other specialised software such as Twitter clients and the iTunes Music Store.</p>
<p id="rfc.section.Appendix A.p.6">It should be noted that it's sometimes believed that using HTTP redirection to direct traffic to the portal addresses these issues.  However, since many of these uses "follow" redirects, this is not a good solution.</p>
<h1 id="rfc.authors"><a href="#rfc.authors">Authors' Addresses</a></h1>
<div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Mark Nottingham</span> 
	  <span class="n hidden">
		<span class="family-name">Nottingham</span>
	  </span>
	</span>
	<span class="org vcardline"></span>
	<span class="adr">
	  
	  <span class="vcardline">
		<span class="locality"></span> 
		<span class="region"></span>
		<span class="code"></span>
	  </span>
	  <span class="country-name vcardline"></span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:mnot@mnot.net">mnot@mnot.net</a></span>

<span class="vcardline">URI: <a href="http://www.mnot.net/">http://www.mnot.net/</a></span>

  </address>
</div><div class="avoidbreak">
  <address class="vcard">
	<span class="vcardline">
	  <span class="fn">Roy T. Fielding</span> 
	  <span class="n hidden">
		<span class="family-name">Fielding</span>
	  </span>
	</span>
	<span class="org vcardline">Adobe Systems Incorporated</span>
	<span class="adr">
	  <span>345 Park Ave</span>

	  <span class="vcardline">
		<span class="locality">San Jose</span>,  
		<span class="region">CA</span> 
		<span class="code">95110</span>
	  </span>
	  <span class="country-name vcardline">USA</span>
	</span>
	<span class="vcardline">EMail: <a href="mailto:fielding@gbiv.com">fielding@gbiv.com</a></span>

<span class="vcardline">URI: <a href="http://roy.gbiv.com/">http://roy.gbiv.com/</a></span>

  </address>
</div>

</body>
</html>