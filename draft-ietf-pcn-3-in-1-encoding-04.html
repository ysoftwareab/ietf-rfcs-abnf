<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Encoding 3 PCN-States in the IP header using a single DSCP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Encoding 3 PCN-States in the IP header using a single DSCP">
<meta name="keywords" content="Quality of Service, QoS, Congestion Control, Congestion Notification, Tunnelling, Encapsulation &amp; Decapsulation, Differentiated Services, Integrated Services, Signalling, Protocol, Flow Admission Control, Flow Termination">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Congestion and Pre-Congestion</td><td class="header">B. Briscoe</td></tr>
<tr><td class="header">Notification</td><td class="header">BT</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">T. Moncaster</td></tr>
<tr><td class="header">Intended status: Experimental</td><td class="header">Moncaster Internet Consulting</td></tr>
<tr><td class="header">Expires: July 15, 2011</td><td class="header">M. Menth</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">University of Tuebingen</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">January 11, 2011</td></tr>
</table></td></tr></table>
<h1><br />Encoding 3 PCN-States in the IP header using a single DSCP<br />draft-ietf-pcn-3-in-1-encoding-04</h1>

<h3>Abstract</h3>

<p>
        The objective of Pre-Congestion Notification (PCN) is to protect the
        quality of service (QoS) of inelastic flows within a Diffserv domain.
        On every link in the PCN domain, the overall rate of the PCN-traffic is 
        metered, and PCN-packets are appropriately marked when certain
        configured rates are exceeded. Egress nodes provide decision points with 
        information about the PCN-marks of PCN-packets which allows them to take 
        decisions about whether to admit or block a new flow request, and to 
        terminate some already admitted  flows during serious pre-congestion.
      
</p>
<p>
        This document specifies how PCN-marks are to be encoded into the IP header 
        by re-using the Explicit Congestion Notification (ECN) codepoints within a 
        PCN-domain.  This encoding builds on the baseline encoding of RFC5696 and 
        provides for three different PCN marking states using a single DSCP: 
        not-marked (NM), threshold-marked (ThM) and excess-traffic-marked (ETM). 
        Hence, it is called the 3-in-1 PCN encoding.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on July 15, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2011 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#pcn3in1_Introduction">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Changes">1.1.</a>&nbsp;
Changes in This Version (to be removed by RFC Editor)<br />
<a href="#pcn3in1_Reqs_Lang">2.</a>&nbsp;
Requirements Language<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Terminology">2.1.</a>&nbsp;
Terminology<br />
<a href="#pcn3in1_Requirement_head">3.</a>&nbsp;
Requirements for and Applicability of 3-in-1 PCN Encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Requirement">3.1.</a>&nbsp;
PCN Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Requirements_Baseline_Encoding">3.2.</a>&nbsp;
Requirements Imposed by Baseline Encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Requirements_Applicability">3.3.</a>&nbsp;
Applicability of 3-in-1 PCN Encoding<br />
<a href="#pcn3in1_Encoding">4.</a>&nbsp;
Definition of 3-in-1 PCN Encoding<br />
<a href="#pcn3in1_Compliant_Node_Behaviour">5.</a>&nbsp;
Behaviour of a PCN Node Compliant with the 3-in-1 PCN Encoding<br />
<a href="#pcn3in1_Backward_Compatibility">6.</a>&nbsp;
Backward Compatibility<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Backward_Compatibility_pre-PCN">6.1.</a>&nbsp;
Backward Compatibility with Pre-existing PCN Implementations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Recommendation_PCN_Encoding_Schemes">6.2.</a>&nbsp;
Recommendations for the Use of PCN Encoding Schemes<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Recommendation_PCN_Encoding_Schemes_ETM_TM">6.2.1.</a>&nbsp;
Use of Both Excess-Traffic-Marking and Threshold-Marking<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Recommendation_PCN_Encoding_Schemes_ETM">6.2.2.</a>&nbsp;
Unique Use of Excess-Traffic-Marking<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#pcn3in1_Recommendation_PCN_Encoding_Schemes_TM">6.2.3.</a>&nbsp;
Unique Use of Threshold-Marking<br />
<a href="#pcn3in1_IANA">7.</a>&nbsp;
IANA Considerations<br />
<a href="#pcn3in1_Sec_Consider">8.</a>&nbsp;
Security Considerations<br />
<a href="#pcn3in1_Conclusions">9.</a>&nbsp;
Conclusions<br />
<a href="#pcn3in1_Acknowledgements">10.</a>&nbsp;
Acknowledgements<br />
<a href="#pcn3in1_Comments_Solicited">11.</a>&nbsp;
Comments Solicited<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="pcn3in1_Introduction"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        The objective of Pre-Congestion Notification (PCN) <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a> 
        is to protect the quality of service (QoS) of inelastic flows within a 
        Diffserv domain, in a simple, scalable, and robust fashion. Two mechanisms 
        are used: admission control, to decide whether to admit or block a new flow 
        request, and flow termination to terminate some existing
		flows during serious pre-congestion. To achieve this, the overall 
        rate of PCN-traffic is metered on every link in the domain, and PCN-packets 
        are appropriately marked when certain configured rates are exceeded. These 
        configured rates are below the rate of the link thus providing notification 
        to boundary nodes about overloads before any real congestion occurs (hence 
        "pre-congestion notification").
      
</p>
<p>
        <a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a> provides for two metering and marking functions 
        that are configured with reference rates. Threshold-marking marks all PCN 
        packets once their traffic rate on a link exceeds  the configured reference 
        rate (PCN-threshold-rate). Excess-traffic-marking marks only those PCN 
        packets that exceed the configured reference rate (PCN-excess-rate). The 
        PCN-excess-rate is typically larger than the PCN-threshold-rate 
        <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>. Egress nodes monitor the PCN-marks of received 
        PCN-packets and provide information about the PCN-marks to decision points 
        which take decisions about flow admission and termination on this basis 
        <a class='info' href='#I-D.ietf-pcn-cl-edge-behaviour'>[I&#8209;D.ietf&#8209;pcn&#8209;cl&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Huang, F., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Controlled Load (CL) Mode of Operation,&rdquo; December&nbsp;2010.</span><span>)</span></a>, 
        <a class='info' href='#I-D.ietf-pcn-sm-edge-behaviour'>[I&#8209;D.ietf&#8209;pcn&#8209;sm&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Single Marking (SM) Mode of Operation,&rdquo; December&nbsp;2010.</span><span>)</span></a>.
      
</p>
<p>
        The baseline encoding defined in <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a> describes how two 
        PCN marking states (Not-marked and PCN-Marked) can be encoded using a single Diffserv codepoint. It also 
		provides an experimental codepoint (EXP), along with guidelines for use of that codepoint. 
		To support the application of two different marking algorithms in a 
        PCN-domain, for example as required in 
        <a class='info' href='#I-D.ietf-pcn-cl-edge-behaviour'>[I&#8209;D.ietf&#8209;pcn&#8209;cl&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Huang, F., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Controlled Load (CL) Mode of Operation,&rdquo; December&nbsp;2010.</span><span>)</span></a>, three PCN marking states are 
        needed. This document describes an extension to the baseline encoding that 
        uses the EXP codepoint to provide a third PCN marking state in the IP header, still using a single 
        Diffserv codepoint. This encoding scheme is called "3-in-1 PCN encoding".
      
</p>
<p>
        This document only concerns the PCN wire protocol encoding for all IP 
        headers, whether IPv4 or IPv6. It makes no changes or recommendations 
        concerning algorithms for congestion marking or congestion response. Other 
        documents define the PCN wire protocol for other header types. For example, 
        the MPLS encoding is defined in <a class='info' href='#RFC5129'>[RFC5129]<span> (</span><span class='info'>Davie, B., Briscoe, B., and J. Tay, &ldquo;Explicit Congestion Marking in MPLS,&rdquo; January&nbsp;2008.</span><span>)</span></a>. Appendix A provides 
        an informative example for a mapping between the encodings in IP and in MPLS.
      
</p>
<a name="pcn3in1_Changes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Changes in This Version (to be removed by RFC Editor)</h3>

<p>
          </p>
<blockquote class="text"><dl>
<dt>From draft-ietf-pcn-3-in-1-encoding-03 to -04:</dt>
<dd>
              
<ul class="text">
<li>Updated document to reflect RFC6040.
</li>
<li>Re-wrote introduction.
</li>
<li>Re-wrote section on applicability.
</li>
<li>Re-wrote section on choosing encoding scheme.
</li>
<li>Updated author details.
</li>
</ul>
            
</dd>
<dt>From draft-ietf-pcn-3-in-1-encoding-02 to -03:</dt>
<dd>
              
<ul class="text">
<li>Corrected mistakes in introduction and improved overall readability.
</li>
<li>Added new terminology.
</li>
<li>Rewrote a good part of Section 4 and 5 to achieve more clarity.
</li>
<li>Added appendix explaining when to use which encoding scheme and how to 
                encode them in MPLS shim headers.
</li>
<li>Added new co-author.
</li>
</ul>
            
</dd>
<dt>From draft-ietf-pcn-3-in-1-encoding-01 to -02:</dt>
<dd>
<ul class="text">
<li>Corrected mistake in introduction, which wrongly stated
                that the threshold-traffic rate is higher than the
                excess-traffic rate. Other minor corrections.
</li>
<li>Updated acks &amp; refs.
</li>
</ul>
</dd>
<dt>From draft-ietf-pcn-3-in-1-encoding-00 to -01:</dt>
<dd>
<ul class="text">
<li>Altered the wording to make sense if draft-ietf-tsvwg-ecn-tunnel
				moves to proposed standard.
</li>
<li>References updated
</li>
</ul>
</dd>
<dt>From draft-briscoe-pcn-3-in-1-encoding-00 to draft-ietf-pcn-3-in-1-encoding-00:</dt>
<dd>
<ul class="text">
<li>Filename changed to draft-ietf-pcn-3-in-1-encoding.
</li>
<li>Introduction altered to include new template description of
                PCN.
</li>
<li>References updated.
</li>
<li>Terminology brought into line with <a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a>.
</li>
<li>Minor corrections.
</li>
</ul>
</dd>
</dl></blockquote>

<a name="pcn3in1_Reqs_Lang"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Requirements Language</h3>

<p>
        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
      
</p>
<a name="pcn3in1_Terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Terminology</h3>

<p>
          General PCN-related terminology is defined in the PCN architecture
          <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>, and terminology specific to packet encoding is defined in
          the PCN baseline encoding [RFC5696]. Additional terminology is defined below.
        
</p>
<p>
          </p>
<blockquote class="text"><dl>
<dt>PCN encoding:</dt>
<dd>
              mapping of PCN marking states to specific codepoints in the packet header.
            
</dd>
</dl></blockquote><p>
        
</p>
<a name="pcn3in1_Requirement_head"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Requirements for and Applicability of 3-in-1 PCN Encoding</h3>

<a name="pcn3in1_Requirement"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
PCN Requirements</h3>

<p>
          In accordance with the PCN architecture <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>,
          PCN-ingress-nodes control packets entering a PCN-domain. Packets 
          belonging to PCN-controlled flows are subject to PCN-metering and 
          -marking, and PCN-ingress-nodes mark 
          them as Not-marked (PCN-colouring). Any node in the PCN-domain may 
          perform PCN-metering and -marking and mark PCN-packets if needed. 
          There are two different metering and marking schemes: threshold-marking 
          and excess-traffic-marking <a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a>. Some edge 
          behaviors require only a single marking scheme 
          <a class='info' href='#I-D.ietf-pcn-sm-edge-behaviour'>[I&#8209;D.ietf&#8209;pcn&#8209;sm&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Single Marking (SM) Mode of Operation,&rdquo; December&nbsp;2010.</span><span>)</span></a>, others require both 
          <a class='info' href='#I-D.ietf-pcn-cl-edge-behaviour'>[I&#8209;D.ietf&#8209;pcn&#8209;cl&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Huang, F., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Controlled Load (CL) Mode of Operation,&rdquo; December&nbsp;2010.</span><span>)</span></a>. In the latter case, 
          three PCN marking states are needed: not-marked (NM) to indicate 
          not-marked packets, threshold-marked (ThM) to indicate packets marked 
          by the threshold-marker, and excess-traffic-marked (ETM) to indicate 
          packets marked by the excess-traffic-marker <a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a>. 
          Threshold-marking and excess-traffic-marking are configured to start marking packets 
          at different load conditions, so one marking scheme indicates more severe 
          pre-congestion than the other. Therefore, a fourth PCN 
          marking state indicating that a packet is marked by both markers is 
          not needed. However a fourth codepoint is required to indicate packets
		  that are not PCN-capable (the not-PCN codepoint).
        
</p>
<p>
          In all current PCN edge behaviors that use two marking schemes 
          <a class='info' href='#RFC5559'>[RFC5559]<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification (PCN) Architecture,&rdquo; June&nbsp;2009.</span><span>)</span></a>, <a class='info' href='#I-D.ietf-pcn-cl-edge-behaviour'>[I&#8209;D.ietf&#8209;pcn&#8209;cl&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Huang, F., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Controlled Load (CL) Mode of Operation,&rdquo; December&nbsp;2010.</span><span>)</span></a>, 
          excess-traffic-marking is configured with a larger reference rate than 
          threshold-marking. We take this as a rule and define excess-traffic-marked 
          as a more severe PCN-mark than threshold-marked.
        
</p>
<a name="pcn3in1_Requirements_Baseline_Encoding"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Requirements Imposed by Baseline Encoding</h3>

<p>
          The baseline encoding scheme <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a> was defined so that 
          it could be extended to accommodate an additional marking state. It provides 
          rules to embed the encoding of two PCN states in the IP header. 
          <a class='info' href='#pcn3in1_Fig_DS_IP'>Figure&nbsp;1<span> (</span><span class='info'>Structure of the former type-of-service field in IP</span><span>)</span></a> shows the structure of the former type-of-service field.
          It contains the 6-bit 
          Differentiated Services (DS) field that holds the DS codepoint 
          (DSCP) <a class='info' href='#RFC2474'>[RFC2474]<span> (</span><span class='info'>Nichols, K., Blake, S., Baker, F., and D. Black, &ldquo;Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers,&rdquo; December&nbsp;1998.</span><span>)</span></a> and the 2-bit ECN field <a class='info' href='#RFC3168'>[RFC3168]<span> (</span><span class='info'>Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;The Addition of Explicit Congestion Notification (ECN) to IP,&rdquo; September&nbsp;2001.</span><span>)</span></a>.
        
</p><br /><hr class="insert" />
<a name="pcn3in1_Fig_DS_IP"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
         0     1     2     3     4     5     6     7
      +-----+-----+-----+-----+-----+-----+-----+-----+
      |              DS FIELD             | ECN FIELD |
      +-----+-----+-----+-----+-----+-----+-----+-----+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Structure of the former type-of-service field in IP&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
          Baseline encoding defines that the DSCP must be set to a PCN-compatible DSCP n 
          and the ECN-field <a class='info' href='#RFC3168'>[RFC3168]<span> (</span><span class='info'>Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;The Addition of Explicit Congestion Notification (ECN) to IP,&rdquo; September&nbsp;2001.</span><span>)</span></a> indicates the specific PCN-mark. 
          Baseline encoding offers four possible encoding states within a single DSCP 
          with the following restrictions.
          </p>
<ul class="text">
<li>Codepoint `00´ (not-ECT) is used to indicate non-PCN traffic as "not-PCN". 
            This allows  both PCN and non-PCN traffic to use the same DSCP.
</li>
<li>Codepoint `10´ (ECT(0)) is used to indicate Not-marked PCN traffic.
</li>
<li>Codepoint `11´ (CE) is used to indicate the most severe PCN-mark.
</li>
<li>Codepoint `01´ (ECT(1)) is available for experimental use and may be re-used 
            by other PCN encodings such as the presently defined 3-in-1 PCN encoding (subject
			to the rules defined in <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>).
</li>
</ul><p>
        
</p>
<p><a class='info' href='#RFC6040'>[RFC6040]<span> (</span><span class='info'>Briscoe, B., &ldquo;Tunnelling of Explicit Congestion Notification,&rdquo; November&nbsp;2010.</span><span>)</span></a> defines rules for the encapsulation and decapsulation
		of ECN markings within IP-in-IP tunnels. This RFC removes some of the constraints that 
		existed when <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a> was written. Happily the rules for use of the 
		EXP codepoint are fully compatible with <a class='info' href='#RFC6040'>[RFC6040]<span> (</span><span class='info'>Briscoe, B., &ldquo;Tunnelling of Explicit Congestion Notification,&rdquo; November&nbsp;2010.</span><span>)</span></a>. In particular,
		the relative severity of each marking is the same: CE (PM) is more severe than ECT(1) (EXP) is more
		severe than ECT(0) (NM). This is discussed in more detail in both the baseline encoding document 
		<a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a> and in <a class='info' href='#I-D.ietf-pcn-encoding-comparison'>[I&#8209;D.ietf&#8209;pcn&#8209;encoding&#8209;comparison]<span> (</span><span class='info'>Chan, K., Karagiannis, G., Moncaster, T., Menth, M., Eardley, P., and B. Briscoe, &ldquo;Pre-Congestion Notification Encoding Comparison,&rdquo; October&nbsp;2010.</span><span>)</span></a>.
		
</p>
<a name="pcn3in1_Requirements_Applicability"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Applicability of 3-in-1 PCN Encoding</h3>

<p>
          The 3-in-1 encoding is applicable in situations where two marking schemes are being used in the PCN-domain. 
		  In some circumstances it can also be used in PCN-domains with only a single marking scheme in use. Further guidance 
		  on choosing an encoding scheme can be found in <a class='info' href='#pcn3in1_Recommendation_PCN_Encoding_Schemes'>Section&nbsp;6.2<span> (</span><span class='info'>Recommendations for the Use of PCN Encoding Schemes</span><span>)</span></a>.
		  
		  All nodes within the PCN-domain MUST be fully compliant with the
		  ECN encapsulation rules set out in <a class='info' href='#RFC6040'>[RFC6040]<span> (</span><span class='info'>Briscoe, B., &ldquo;Tunnelling of Explicit Congestion Notification,&rdquo; November&nbsp;2010.</span><span>)</span></a>. As such the encoding 
		  is not applicable in situations where legacy tunnels might exist.
		  
        
</p>
<a name="pcn3in1_Encoding"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Definition of 3-in-1 PCN Encoding</h3>

<p>
        The 3-in-1 PCN encoding scheme is an extension of  the baseline encoding scheme 
        defined in <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>. The PCN requirements and the extension 
        rules for baseline encoding presented in the previous section determine how PCN 
        encoding states are carried in the IP headers. This is shown in 
        <a class='info' href='#pcn3in1_Fig_Encoding'>Figure&nbsp;2<span> (</span><span class='info'>3-in-1 PCN Encoding</span><span>)</span></a>.
      
</p><br /><hr class="insert" />
<a name="pcn3in1_Fig_Encoding"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      +--------+----------------------------------------------------+
      |        |           Codepoint in ECN field of IP header      |
      |  DSCP  |               &lt;RFC3168 codepoint name&gt;             |
      |        +--------------+-------------+-------------+---------+
      |        | 00 &lt;Not-ECT&gt; | 10 &lt;ECT(0)&gt; | 01 &lt;ECT(1)&gt; | 11 &lt;CE&gt; |
      +--------+--------------+-------------+-------------+---------+
      | DSCP n |    Not-PCN   |      NM     |     ThM     |   ETM   |
      +--------+--------------+-------------+-------------+---------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: 3-in-1 PCN Encoding&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
        Like baseline encoding, 3-in-1 PCN encoding also uses a PCN compatible DSCP n 
        and the ECN field for the encoding of PCN-marks. The PCN-marks have the following 
        meaning.
        </p>
<blockquote class="text"><dl>
<dt>Not-PCN:</dt>
<dd>indicates a non-PCN-packet, i.e., a packet that is not 
          subject to PCN metering and marking.
</dd>
<dt>NM:</dt>
<dd>Not-marked.  Indicates a PCN-packet that has not yet been 
          marked by any PCN marker.
</dd>
<dt>ThM:</dt>
<dd>Threshold-marked.  Indicates a PCN-packet that has been 
          marked by a threshold-marker <a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a>.
</dd>
<dt>ETM:</dt>
<dd>Excess-traffic-marked.  Indicates a PCN-packet that has been 
          marked by an excess-traffic-marker <a class='info' href='#RFC5670'>[RFC5670]<span> (</span><span class='info'>Eardley, P., &ldquo;Metering and Marking Behaviour of PCN-Nodes,&rdquo; November&nbsp;2009.</span><span>)</span></a>.
</dd>
</dl></blockquote><p>
      
</p>
<a name="pcn3in1_Compliant_Node_Behaviour"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Behaviour of a PCN Node Compliant with the 3-in-1 PCN Encoding</h3>

<p>
        To be compliant with the 3-in-1 PCN Encoding, an PCN interior node
        behaves as follows:
        </p>
<ul class="text">
<li>It MUST change NM to ThM if the threshold-meter function
          indicates a need to mark the packet;
</li>
<li>It MUST change NM or ThM to ETM if the excess-traffic-meter
          function indicates a need to mark the packet;
</li>
<li>It MUST NOT change not-PCN to NM, ThM, or ETM;
</li>
<li>It MUST NOT change a NM, ThM, or ETM to not-PCN;
</li>
<li>It MUST NOT change ThM to NM;
</li>
<li>It MUST NOT change ETM to ThM or to NM;
</li>
</ul><p>
      
</p>
<p>
        In other words, a PCN interior node MUST NOT mark PCN-packets into non-PCN 
        packets and vice-versa, and it may increase the severity of the PCN-mark of 
        a PCN-packet, but it MUST NOT decrease it. 
      
</p>
<a name="pcn3in1_Backward_Compatibility"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Backward Compatibility</h3>

<p>
        Discussion of backward compatibility between PCN encoding schemes and previous 
        uses of the ECN field is given in Section 6 of <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>.
      
</p>
<a name="pcn3in1_Backward_Compatibility_pre-PCN"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Backward Compatibility with Pre-existing PCN Implementations</h3>

<p>
          This encoding complies with the rules for extending the baseline PCN encoding 
          schemes in Section 5 of <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>.
        
</p>
<p>
          The term "compatibility" is meant in the following sense. It is
          possible to operate nodes with baseline encoding <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a> and 3-in-1
          encoding in the same PCN domain. The nodes with baseline encoding
          MUST perform excess-traffic-marking because the 11 codepoint of
          3-in-1 encoding also means excess-traffic-marked.
          PCN-boundary-nodes of such domains are required to interpret the
          full 3-in-1 encoding and not just baseline encoding, otherwise
          they cannot interpret the 01 codepoint.
        
</p>
<p>
          Using nodes that perform only excess-traffic-marking may make
          sense in networks using the CL edge behavior
          <a class='info' href='#I-D.ietf-pcn-cl-edge-behaviour'>[I&#8209;D.ietf&#8209;pcn&#8209;cl&#8209;edge&#8209;behaviour]<span> (</span><span class='info'>Charny, A., Huang, F., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;PCN Boundary Node Behaviour for the Controlled Load (CL) Mode of Operation,&rdquo; December&nbsp;2010.</span><span>)</span></a>. Such nodes are able to notify
          the egress only about severe pre-congestion when traffic needs to
          be terminated. This seems reasonable for locations that are not
          expected to see any pre-congestion, but excess-traffic-marking
          gives them a means to terminate traffic if unexpected overload
           occurs.
        
</p>
<a name="pcn3in1_Recommendation_PCN_Encoding_Schemes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Recommendations for the Use of PCN Encoding Schemes</h3>

<p>NOTE: This sub-section is informative not normative.
</p>
<p>
		When deciding which PCN encoding is suitable an operator needs to take account 
		of how many PCN states need to be encoded. The following table gives guidelines 
		on which encoding to use with either threshold-marking, excess-traffic marking or both.
</p><br /><hr class="insert" />
<a name="pcn3in1_Fig_Encoding_Schemes"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
      +------------------------+--------------------------------+
      |  Used marking schemes  |  Recommended encoding scheme   |
      +------------------------+--------------------------------+
      | Only threshold-marking |   Baseline encoding [RFC5696]  |
      +------------------------+--------------------------------+
      | Only excess-traffic-   |   Baseline encoding [RFC5696]  |
      |       marking          |     or 3-in-1 PCN encoding     |
      +------------------------+--------------------------------+
      | Threshold-marking and  |     3-in-1 PCN encoding        |
      | excess-traffic-marking |                                |
      +------------------------+--------------------------------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Guidelines for choosing PCN encoding schemes&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="pcn3in1_Recommendation_PCN_Encoding_Schemes_ETM_TM"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
Use of Both Excess-Traffic-Marking and Threshold-Marking</h3>

<p>
            If both excess-traffic-marking and threshold-marking are enabled in a 
            PCN-domain, 3-in-1 encoding should be used as described in this document.
          
</p>
<a name="pcn3in1_Recommendation_PCN_Encoding_Schemes_ETM"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.2"></a><h3>6.2.2.&nbsp;
Unique Use of Excess-Traffic-Marking</h3>

<p>
            If only excess-traffic-marking is enabled in a PCN-domain, baseline 
            encoding or 3-in-1 encoding may be used. They lead to the same encoding 
            because PCN-boundary nodes will interpret baseline "PCN-marked (PM)" 
            as "excess-traffic-marked (ETM)".
          
</p>
<a name="pcn3in1_Recommendation_PCN_Encoding_Schemes_TM"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.3"></a><h3>6.2.3.&nbsp;
Unique Use of Threshold-Marking</h3>

<p>
            No scheme is currently proposed that solely uses threshold-marking. If such 
			a scheme is proposed, the choice of encoding scheme will depend on whether
			nodes are compliant with <a class='info' href='#RFC6040'>[RFC6040]<span> (</span><span class='info'>Briscoe, B., &ldquo;Tunnelling of Explicit Congestion Notification,&rdquo; November&nbsp;2010.</span><span>)</span></a> or not. Where it is certain
			that all nodes in the PCN-domain are compliant then either 3-in-1 encoding 
			or baseline encoding are suitable. If legacy tunnel decapsulators exist 
			within the PCN-domain then baseline encoding SHOULD be used.
          
</p>
<a name="pcn3in1_IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<p>Note to RFC Editor: this section may be removed on publication as an
      RFC.
</p>
<a name="pcn3in1_Sec_Consider"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>
        The security concerns relating to this extended PCN encoding are the same 
        as those in <a class='info' href='#RFC5696'>[RFC5696]<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; November&nbsp;2009.</span><span>)</span></a>. In summary, PCN-boundary nodes are 
        responsible for ensuring inappropriate PCN markings do not leak into or 
        out of a PCN domain, and the current phase of the PCN architecture assumes 
        that all the nodes of a PCN-domain are entirely under the control of a 
        single operator, or a set of operators who trust each other.
      
</p>
<p>
        Given the only difference between the baseline encoding and the present 
        3-in-1 encoding is the use of the 01 codepoint, no new security issues are 
        raised, as this codepoint was already available for experimental use in 
        the baseline encoding.
      
</p>
<a name="pcn3in1_Conclusions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Conclusions</h3>

<p>
        The 3-in-1 PCN encoding uses a PCN-compatible DSCP and the ECN field to 
        encode PCN-marks. One codepoint allows non-PCN traffic to be carried with 
        the same PCN-compatible DSCP and three other codepoints support three PCN 
        marking states with different levels of severity.  The use of this PCN 
        encoding scheme presupposes that any tunnels in the PCN region have been 
        updated to comply with <a class='info' href='#RFC6040'>[RFC6040]<span> (</span><span class='info'>Briscoe, B., &ldquo;Tunnelling of Explicit Congestion Notification,&rdquo; November&nbsp;2010.</span><span>)</span></a>.
      
</p>
<a name="pcn3in1_Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Acknowledgements</h3>

<p>
        Thanks to Phil Eardley, Teco Boot, and Kwok Ho Chan for reviewing this document.
      
</p>
<a name="pcn3in1_Comments_Solicited"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Comments Solicited</h3>

<p>To be removed by RFC Editor: Comments and questions are encouraged
      and very welcome. They can be addressed to the IETF Congestion and
      Pre-Congestion working group mailing list &lt;pcn@ietf.org&gt;, and/or
      to the authors.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2474">[RFC2474]</a></td>
<td class="author-text"><a href="mailto:kmn@cisco.com">Nichols, K.</a>, <a href="mailto:slblake@torrentnet.com">Blake, S.</a>, <a href="mailto:fred@cisco.com">Baker, F.</a>, and <a href="mailto:black_david@emc.com">D. Black</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2474">Definition of the Differentiated Services Field (DS Field) in the IPv4 and IPv6 Headers</a>,&rdquo; RFC&nbsp;2474, December&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2474.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2474.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2474.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3168">[RFC3168]</a></td>
<td class="author-text">Ramakrishnan, K., Floyd, S., and D. Black, &ldquo;<a href="http://tools.ietf.org/html/rfc3168">The Addition of Explicit Congestion Notification (ECN) to IP</a>,&rdquo; RFC&nbsp;3168, September&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3168.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4301">[RFC4301]</a></td>
<td class="author-text">Kent, S. and K. Seo, &ldquo;<a href="http://tools.ietf.org/html/rfc4301">Security Architecture for the Internet Protocol</a>,&rdquo; RFC&nbsp;4301, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4301.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5129">[RFC5129]</a></td>
<td class="author-text">Davie, B., Briscoe, B., and J. Tay, &ldquo;<a href="http://tools.ietf.org/html/rfc5129">Explicit Congestion Marking in MPLS</a>,&rdquo; RFC&nbsp;5129, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5129.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5559">[RFC5559]</a></td>
<td class="author-text">Eardley, P., &ldquo;<a href="http://tools.ietf.org/html/rfc5559">Pre-Congestion Notification (PCN) Architecture</a>,&rdquo; RFC&nbsp;5559, June&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5559.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5670">[RFC5670]</a></td>
<td class="author-text">Eardley, P., &ldquo;<a href="http://tools.ietf.org/html/rfc5670">Metering and Marking Behaviour of PCN-Nodes</a>,&rdquo; RFC&nbsp;5670, November&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5670.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5696">[RFC5696]</a></td>
<td class="author-text">Moncaster, T., Briscoe, B., and M. Menth, &ldquo;<a href="http://tools.ietf.org/html/rfc5696">Baseline Encoding and Transport of Pre-Congestion Information</a>,&rdquo; RFC&nbsp;5696, November&nbsp;2009 (<a href="http://www.rfc-editor.org/rfc/rfc5696.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC6040">[RFC6040]</a></td>
<td class="author-text">Briscoe, B., &ldquo;<a href="http://tools.ietf.org/html/rfc6040">Tunnelling of Explicit Congestion Notification</a>,&rdquo; RFC&nbsp;6040, November&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc6040.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-pcn-cl-edge-behaviour">[I-D.ietf-pcn-cl-edge-behaviour]</a></td>
<td class="author-text">Charny, A., Huang, F., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcn-cl-edge-behaviour-08.txt">PCN Boundary Node Behaviour for the Controlled Load (CL) Mode of Operation</a>,&rdquo; draft-ietf-pcn-cl-edge-behaviour-08 (work in progress), December&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcn-cl-edge-behaviour-08.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-pcn-encoding-comparison">[I-D.ietf-pcn-encoding-comparison]</a></td>
<td class="author-text">Chan, K., Karagiannis, G., Moncaster, T., Menth, M., Eardley, P., and B. Briscoe, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcn-encoding-comparison-03.txt">Pre-Congestion Notification Encoding Comparison</a>,&rdquo; draft-ietf-pcn-encoding-comparison-03 (work in progress), October&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcn-encoding-comparison-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-pcn-sm-edge-behaviour">[I-D.ietf-pcn-sm-edge-behaviour]</a></td>
<td class="author-text">Charny, A., Karagiannis, G., Menth, M., and T. Taylor, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcn-sm-edge-behaviour-05.txt">PCN Boundary Node Behaviour for the Single Marking (SM) Mode of Operation</a>,&rdquo; draft-ietf-pcn-sm-edge-behaviour-05 (work in progress), December&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-pcn-sm-edge-behaviour-05.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Bob Briscoe</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">BT</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">B54/77, Adastral Park</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Martlesham Heath</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ipswich  IP5 3RE</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+44 1473 645196</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:bob.briscoe@bt.com">bob.briscoe@bt.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://bobbriscoe.net/">http://bobbriscoe.net/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Toby Moncaster</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Moncaster Internet Consulting</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dukes</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Layer Marney</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Colchester  CO5 9UZ</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">UK</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+44 7764 185416</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:toby@moncaster.com">toby@moncaster.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.moncaster.com/">http://www.moncaster.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Michael Menth</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Tuebingen</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sand 13</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tuebingen  72076</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 7071 2970505</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:menth@informatik.uni-tuebingen.de">menth@informatik.uni-tuebingen.de</a></td></tr>
</table>
</body></html>
