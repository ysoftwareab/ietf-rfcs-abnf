



MIPSHOP Working Group                                    S. Sreemanthula
Internet-Draft                                                 S. Faccin
Expires: April 19, 2006                                            Nokia
                                                             E. Hepworth
                                                      Siemens Roke Manor
                                                                G. Daley
                                                  Monash University CTIE
                                                        October 16, 2005


 A Problem Statement for Event Services and Command Services for Media
                         Independent Handovers
                draft-sreemanthula-es-cs-problem-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on April 19, 2006.

Copyright Notice

   Copyright (C) The Internet Society (2005).

Abstract

   This document discusses the usage scenarios and usage models of event
   services and command services involving inter-system IP mobility,
   specifically media independent handovers.  The discussion is used to



Sreemanthula, et al.     Expires April 19, 2006                 [Page 1]

Internet-Draft                ES/CS for MIH                 October 2005


   aid the WG in understanding the problem domain of the event and
   command services in the Internet.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  4
   2.  Terminology and Definitions  . . . . . . . . . . . . . . . . .  4
     2.1.  Access Point (AP)  . . . . . . . . . . . . . . . . . . . .  5
     2.2.  Remote Command Service (CS)  . . . . . . . . . . . . . . .  5
     2.3.  Local Command Service  . . . . . . . . . . . . . . . . . .  5
     2.4.  Remote Event Service (ES)  . . . . . . . . . . . . . . . .  5
     2.5.  Local Event Service  . . . . . . . . . . . . . . . . . . .  5
     2.6.  Information Service (IS) . . . . . . . . . . . . . . . . .  5
     2.7.  Link . . . . . . . . . . . . . . . . . . . . . . . . . . .  6
     2.8.  Media Independent Handover Function (MIHF) . . . . . . . .  6
     2.9.  Mobility Management Entity (MME) . . . . . . . . . . . . .  6
     2.10. Mobile Node  . . . . . . . . . . . . . . . . . . . . . . .  6
     2.11. Network node . . . . . . . . . . . . . . . . . . . . . . .  6
     2.12. Access Network Node  . . . . . . . . . . . . . . . . . . .  6
     2.13. Core Network Node  . . . . . . . . . . . . . . . . . . . .  6
     2.14. Proxy Network Node . . . . . . . . . . . . . . . . . . . .  7
     2.15. Station (STA)  . . . . . . . . . . . . . . . . . . . . . .  7
   3.  Network Controlled Mobility Scenarios  . . . . . . . . . . . .  7
   4.  Remote Event Services  . . . . . . . . . . . . . . . . . . . .  8
     4.1.  Event Services Classification  . . . . . . . . . . . . . .  9
       4.1.1.  Micro Network Events . . . . . . . . . . . . . . . . .  9
       4.1.2.  Macro Network Events . . . . . . . . . . . . . . . . . 10
   5.  Remote Command Services  . . . . . . . . . . . . . . . . . . . 10
   6.  Information Services . . . . . . . . . . . . . . . . . . . . . 11
   7.  Usage Models for Event Services  . . . . . . . . . . . . . . . 12
   8.  Usage Models for Command Services  . . . . . . . . . . . . . . 13
   9.  Usage Scenarios for Remote Events and Commands . . . . . . . . 14
     9.1.  Network Selection  . . . . . . . . . . . . . . . . . . . . 14
     9.2.  Handover Control . . . . . . . . . . . . . . . . . . . . . 16
   10. Enabling Event and Command Services  . . . . . . . . . . . . . 18
     10.1. Feasibility of Remote Events and Commands  . . . . . . . . 18
       10.1.1. Explicit Signaling for Remote Event/Command
               Services . . . . . . . . . . . . . . . . . . . . . . . 19
       10.1.2. Mitigation of Security Issues and Validation of
               Transported Indications  . . . . . . . . . . . . . . . 19
       10.1.3. Mapping of Identifiers . . . . . . . . . . . . . . . . 21
     10.2. Transport Selection  . . . . . . . . . . . . . . . . . . . 22
     10.3. Registration and Deregistration  . . . . . . . . . . . . . 22
     10.4. Discovery  . . . . . . . . . . . . . . . . . . . . . . . . 22
     10.5. Capability Negotiation . . . . . . . . . . . . . . . . . . 22
     10.6. Reliability and Failure Recovery . . . . . . . . . . . . . 23
     10.7. Protocol Description . . . . . . . . . . . . . . . . . . . 23



Sreemanthula, et al.     Expires April 19, 2006                 [Page 2]

Internet-Draft                ES/CS for MIH                 October 2005


   11. Security Considerations  . . . . . . . . . . . . . . . . . . . 23
     11.1. Event Service Considerations . . . . . . . . . . . . . . . 23
     11.2. Command Service Considerations . . . . . . . . . . . . . . 24
   12. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 24
   13. Conclusions  . . . . . . . . . . . . . . . . . . . . . . . . . 25
   14. Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . 25
   15. References . . . . . . . . . . . . . . . . . . . . . . . . . . 25
   Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 26
   Intellectual Property and Copyright Statements . . . . . . . . . . 27










































Sreemanthula, et al.     Expires April 19, 2006                 [Page 3]

Internet-Draft                ES/CS for MIH                 October 2005


1.  Introduction

   Handover services are a class of network services, which aim at
   providing service continuity and transparency to users during changes
   in network point of attachments and assist the quality of handovers
   available to wireless devices.  In order to support more intelligent
   handover services it is often necessary to be able to exchange
   information between mobile and fixed nodes within the network.

   At this time, three broad classes of services for handover
   assistance, particularly aiming at improving the inter-technology,
   are under consideration within the IEEE 802.21 Working Group.  They
   require passing of information within hosts, locally and between
   different hosts, remotely.  The services are Event Services (ES),
   Command Services (CS), and Information Services (IS).  Specifically:

   1.  Event Services (ES) provide indications from one layer or
       functionality to another about changes in the connectivity state.
       This is particularly relevant to wireless interfaces.

   2.  Command Services (CS) provide mechanisms for controlling
       handovers or functions aiding handovers.  They provide mechanisms
       to establish, redirect, or remove state in either the network or
       mobile node, so that handovers occur smoothly.

   For details on the IS, [1] contains a detailed description.

   Each service may be processed locally or require communication with
   peer services on other nodes, and this communication may be
   transported over IP, to communicate with peer services on other
   nodes.  The main relevance of ES and CS to IETF and the MIPSHOP WG is
   the exchange of information related to ES and CS between peer nodes.
   This is referred to as Remote ES and Remote CS.

   The IETF has been working on how handover services can be used to
   assist mobility signaling protocols, and has been analyzing
   interactions between handover services and network/transport layers.
   At the same time, other groups (e.g.  IEEE 802.21) have been taking a
   more generally applicable view.

   This document provides a view of the authors, and does not represent
   the official view of either IEEE 802.21 or an IETF WG.  Assistance is
   sought to improve this document, in order to reflect consensus
   viewpoints from the appropriate groups.


2.  Terminology and Definitions




Sreemanthula, et al.     Expires April 19, 2006                 [Page 4]

Internet-Draft                ES/CS for MIH                 October 2005


2.1.  Access Point (AP)

   A link layer attachment point that provides wireless communication
   services to the wireless devices in its network coverage area (e.g.
   an 802.11 AP, an 802.16 Base Station.

2.2.  Remote Command Service (CS)

   Remote command service is a protocol exchange mechanism between
   network nodes to instruct the recipient network nodes to execute a
   specific function.  Execution of a command service at the mobile node
   or a node in the network may result in loss of current link
   connectivity and/or change in the network point of attachment.
   Receipt and processing of a command belonging to the CS generates an
   expected response in the receiving node (e.g. create a new link layer
   connection, disconnect a link layer connection, etc).

2.3.  Local Command Service

   Local command service is a communication facility within a host
   enabling one functionality to request execution of certain commands
   in certain other functionality (e.g. the IP function may request to
   establish a connection over a link layer).

2.4.  Remote Event Service (ES)

   Remote event service is a protocol exchange mechanism between network
   nodes to inform of recently happened or impending change in link or
   network status information.  The event notification can originate
   either from a mobile node or a node in the network.  Receipt and
   processing of an event belonging to the ES may generate a reaction in
   the receiving node (e.g. trigger IP layer mobility).

2.5.  Local Event Service

   Local event service is a communication facility within a host for one
   functionality to provide indications or notifications of certain
   state changes pertaining to the network to a certain other
   functionality (e.g.  IEEE 802.11 MAC layer may inform the IP function
   that the wireless signal is lost).  In [2], indication of local event
   services is referred to as link indications.  In this document, local
   event services include indications generated at other layers than
   link layer (e.g.  IP layer or layers above the IP layer).

2.6.  Information Service (IS)

   Information service is a protocol exchange mechanism between network
   nodes to provide or query information related to specific networks.



Sreemanthula, et al.     Expires April 19, 2006                 [Page 5]

Internet-Draft                ES/CS for MIH                 October 2005


   For more information see [1].

2.7.  Link

   A communication facility or medium over which the nodes communicate
   at the link layer, such as Ethernet, wireless LAN or 3G cellular
   layer 2 protocols.  The link layer is immediately below IP, as seen
   by the mobile node.

2.8.  Media Independent Handover Function (MIHF)

   Media independent handover function is a shim layer in the mobility
   management protocol stack of the mobile nodes or network element that
   provide media independent or inter-technology mobility, specifically
   handovers (e.g. as defined in IEEE 802.21).  MIHF utilizes the event
   services and command services.  "MIHF(CS)" and "MIHF(ES)" refer to
   command services and event services part of the MIHF, respectively.

2.9.  Mobility Management Entity (MME)

   A mobility management entity implements network selection and
   handover decision algorithms and utilizes mobility signaling
   protocols and other protocols that aid in mobility functions.  MME
   functionality utilizes MIHF.

2.10.  Mobile Node

   Any communication device that receives communication services from a
   wireless network and has ability to change its point of attachment to
   the network based on its mobility and other considerations.

2.11.  Network node

   It is any node that is part of the network.  It includes mobile
   nodes, link layer nodes (e.g IEEE 802.11 AP, IEEE 802.16 BS) and IP
   or higher layer nodes (e.g. routers, servers, etc.).

2.12.  Access Network Node

   Access network node is a Network Node that provides link layer
   services to the mobile nodes (e.g.  AP or base station).

2.13.  Core Network Node

   A core network node is node in the network beyond an/the access
   network that is reachable by mobile nodes only by IP based protocols.
   The core network node can only originate or terminate protocol
   messages.



Sreemanthula, et al.     Expires April 19, 2006                 [Page 6]

Internet-Draft                ES/CS for MIH                 October 2005


2.14.  Proxy Network Node

   A proxy network node is node in the network in or beyond an/the
   access network that can neither originate nor terminate protocol
   messages, but can only pass or proxy protocol messages to a different
   network node.

2.15.  Station (STA)

   See the definition of mobile node.  This is a specific term used in
   IEEE 802.11 wireless technologies.


3.  Network Controlled Mobility Scenarios

   Several operators or network service providers, including those
   deploying multiple access technologies, view their network resources
   as a single resource pool.  These resources are used to maximize
   their network efficiency and improve the performance, thus providing
   a better user experience.  This can be viewed as something analogous
   to a network pool of multiple routers for network balance and
   redundancy and increased capacity to reroute traffic and relieve
   congestion under heavy loads in their network.

   For access involving radio technologies, the available network
   bandwidth is directly related to the available frequency spectrum.
   For a given cost, radio technologies provide varied degrees of QoS
   affecting the user experience.  This is due to the varied cost of
   spectrum acquisition and network deployment of various radio
   technologies.  Also at any given instant, the service providers,
   including those with multiple access technologies, would like to see
   that no specific part their network, is operating under heavy loads
   and prefer to balance the traffic across all the available network
   paths for optimum performance.  Generally speaking, the network
   wishes to exercise control over the mobile nodes to make use of a
   certain network path for mutual benefit of the users and the service
   providers themselves.

   The network, therefore, reserves the right to make handover decisions
   at the MME, for mobile nodes to utilize a more optimized network
   path.  When multiple link technologies are involved, this could also
   mean that the network may instruct the mobile nodes to handover from
   current link technology to handover to another link technology.  MME
   may make use of several parameters like subscription agreement, user
   device capabilities, network policies, roaming agreements, network
   load conditions, overall cost to the user and of course, the user
   experience to arrive at a certain handover decision.




Sreemanthula, et al.     Expires April 19, 2006                 [Page 7]

Internet-Draft                ES/CS for MIH                 October 2005


4.  Remote Event Services

   Remote event services are the exchange of notification or indication
   messages of certain network status changes between peer network nodes
   at the same layer (above IP in this draft context).  The state change
   refers to either the conditions of the existing link (e.g. a link
   layer connectivity is lost) or of the newly detected links (e.g. the
   mobile node can detect the presence of a new link technology, e.g. it
   receives beacons from an IEEE 802.11 AP that was previously not
   visible).  Remote event services are different from link indications
   as defined in [2] in that link indications are defined to carry
   information from the link layer to the upper layer like local event
   services.  However, the remote event services can utilize link
   indications as one triggering mechanism to send event information to
   the same layer on a peer network node.  There can be other triggering
   mechanisms, perhaps from other layers in the node that may also
   result in event notifications.

   Remote event services can be originated by a mobile node and
   transported to a peer network node and vice versa.  It is also
   possible for remote event services to be exchanged between two nodes
   in the network.  In the same capacity, the events originated by a
   network node can be proxied by another node and terminated at a
   different node.  It should be highlighted that the remote event
   services are envisioned to be used as an opt-in feature, meaning that
   a requesting entity would register for specific event types that it
   is interested in and provide the appropriate filter rules when that
   specific event type must be matched.  These features will ensure that
   the protocol does not result in excessive load on either the network
   or the network node processing the event notification reports from
   multiple event generating nodes.

   Figure 1 shows a high-level usage model for the event services.  Link
   layers at any network node can provide triggers or link indications
   to notify the state change to the upper layers.  The triggers can
   also be originated from other sources at various layers or
   functionality within the same host.  These trigger indications are
   checked and scoped based on the filters set by the requesting entity.
   Trigger indications that do not match the existing filter sets are
   discarded and for those that match, a corresponding event indication
   is sent to the requesting node.










Sreemanthula, et al.     Expires April 19, 2006                 [Page 8]

Internet-Draft                ES/CS for MIH                 October 2005


   |-------------------------|            |---------------------------|
   +-------+ Other  +--------+Remote Event+--------+ Other  +-------+
   | Other |------->|  MIHF  |<---------->|  MIHF  |<-------|Other  |
   |Sources|triggers|  (ES)  |  Services  |  (ES)  |triggers|Sources|
   +-------+        +--------+            +--------+        +-------+
                        ^                     ^
               Link     |                     |    Link
            Indications |                     | Indications
                        |                     |
                    +-------+             +-------+
                    | Link  |             | Link  |
                    | Layer |             | Layer |
                    +-------+             +-------+
   |-------------------------|            |----------------------------|
             Network                                Network
              Node                                   Node

   Fig.1 Event Service Model.


4.1.  Event Services Classification

   Event services can be broadly classified to incorporate two different
   types of network notifications, Micro and Macro.  While the event
   services discussed in this draft include both of these types, it
   mainly details those to be used specifically for macro network
   events.  This is based on the view from earlier studies compiled by
   [2] which show that some link indications can result in unreliable
   information and also that the transport of such micro events would
   result in a higher network load.

4.1.1.  Micro Network Events

   Micro network events refer to event notifications corresponding to
   microscopic changes in the network state information.  The reporting
   of events between two nodes can be scoped or filtered to provide
   minute changes in the network state information.  Examples of such
   events are Link-Parameters-Change, Link-Going-Down, Link-Threshold-
   Exceeded etc.  Perhaps, within an example implementation, Link-Up and
   Link-Down could also be considered as micro network events with
   varying degrees, if the event reporting is scoped for state changes
   within the same AP, same subnet or same access technology.
   Generally, these network events may be characterized by frequent
   exchange of messages between the peer nodes to report minute changes
   in the state information.






Sreemanthula, et al.     Expires April 19, 2006                 [Page 9]

Internet-Draft                ES/CS for MIH                 October 2005


4.1.2.  Macro Network Events

   Macro network events refer to macroscopic changes in the network
   state information.  Here, the reporting of events between two nodes
   is scoped or filtered to provide only macroscopic changes in the
   network.  These can be triggered due to link indications such as
   Link-Detect, Link-Up, Link-Down involving subnet changes across same
   or multiple access networks.  As explained before, it is also
   possible for other sources to generate the triggers.  Generally,
   these network notifications may be characterized by an infrequent
   exchange of messages between the peer nodes, depending on the nature
   of the mobility of the mobile node itself.

   The choice of triggering indications in combination with the filters
   (e.g. a set of parameter and/or measurements), set by the requesting
   nodes, can be used to unambiguously trigger the macro network events.
   E.g. only a new link-detect indication with a filter for strong
   signal strength would result in an event notification for
   Link_Detect.


5.  Remote Command Services

   Remote command services form a request-response mechanism utilized by
   the nodes in the network to instruct other network nodes to carry out
   or execute a specific function affecting the current link or a
   different link.  Commands can also impact other layers, e.g.  IP
   layer.  The result of the command execution is provided in a response
   back to the originating node.  The nodes receiving and executing the
   commands can either be a node in the network or a mobile node.  In
   the same capacity, it is possible for one node to originate the
   service and another node to pass or proxy the service to a different
   node that terminates and executes the command.  The remote command
   services are utilized as part of the MIHF which is in turn employed
   by MME that implements handover decision algorithms for various
   mobile nodes.  The functionality of MME or the handover decision
   algorithms are outside the scope of this draft.

   As compared to remote event services, the remote command services do
   not use opt-in features, meaning there is no registration needed to
   receive commands.  However, the command services may use filtering
   information to scope the extent of execution of commands.  E.g. the
   MME may command the mobile node to scan for specific access
   technologies in its vicinity.

   Some basic examples for remote command service are listed below:





Sreemanthula, et al.     Expires April 19, 2006                [Page 10]

Internet-Draft                ES/CS for MIH                 October 2005


   1.  Link-switch to switch from one link to another link

   2.  Link-scan to scan for specific links in the vicinity

   Figure 2 shows a high level usage model for the remote command
   services.  MME may initiate command requests based on certain
   handover decision algorithms addressing a specific mobile node to the
   MIHF(CS).  The request is translated to a CS request and forwarded to
   the MIHF(CS) in the target node where the command will be executed.
   Depending on the type of the command, the execution may affect the
   link layer or other functionality in the same host.  After the
   command is executed the result of command is carried back in a CS
   response to the originating node and finally to the MME.

   |-------------------------------|              |----------------|
    +---------+  Command +--------+ Remote Command +--------+
    | Other   |<---------|  MIHF  |--------------->|  MIHF  |
    | Layers/ |          |  (CS)  |    Services    |  (CS)  |
    |Functions|          +--------+                +--------+
    +---------+              |                         ^
                      Link   |                         | Commands
                   Commands  |                         | req/resp
                             V                         V
                        +-------+                  +-------+
                        | Link  |                  | Link  |
                        | Layer |                  | Layer |
                        +-------+                  +-------+
   |-------------------------------|              |----------------|
             Network                                Network
              Node                                   Node

   Fig.2 Command Service Model.



6.  Information Services

   Information services are covered in detail in [1].  Information
   services, in a nut shell, provide a information query mechanism for
   network nodes to obtain information about specific networks and their
   capabilities.  The event and command services covered in this draft
   work in conjunction with the information services.  The information
   service plays a critical role in the network selection at the mobile
   node or in the network.  Section 9 on usage scenarios will show the
   extent of their interworking and how they complement each other to
   achieve a common goal of enabling such scenarios.





Sreemanthula, et al.     Expires April 19, 2006                [Page 11]

Internet-Draft                ES/CS for MIH                 October 2005


7.  Usage Models for Event Services

   The following usage models are shown as examples of possible models
   that the event services are expected to enable.  The list is not
   exhaustive and furthermore it is possible to derive new models using
   a combination of these models.

                            -----> wireless link
                           /
    +-------+   Remote ES / +-------+
    | MIHF  |-------------->| MIHF  |
    | (ES)  |   Services    | (ES)  |
    +-------+               +-------+
      Mobile              Access, Proxy or Core
       Node                 Network Node


   Fig.3 ES: Mobile Node to Access or Core Network Node.




                            -----> wireless link
                           /
    +-------+   Remote ES / +-------+
    | MIHF  |-------------->| MIHF  |
    | (ES)  |   Services    | (ES)  |
    +-------+               +-------+
      Mobile               Access or Core
       Node                 Network Node

   Fig.4 ES: Access or Core Network Node to Mobile Node.



    +-------+   Remote ES / +-------+
    | MIHF  |-------------->| MIHF  |
    | (ES)  |   Services    | (ES)  |
    +-------+               +-------+
   Access Network           Core Network
      Node                    Node

   Fig.5 ES: Access Network Node to Core Network Node.








Sreemanthula, et al.     Expires April 19, 2006                [Page 12]

Internet-Draft                ES/CS for MIH                 October 2005


     +-------+Remote ES+-------+Remote ES+-------+
     | MIHF  |-------->| MIHF  |-------->| MIHF  |
     | (ES)  |Services | (ES)  | Services| (ES)  |
     +-------+         +-------+         +-------+
    Access Network      Proxy          Core Network
    or Mobile Node   Network Node         Node

   Fig.6 ES: Network Node to Proxy Network node to Network Node.



8.  Usage Models for Command Services

   The following usage models are shown as some of the possible models
   that the command services are expected to enable.  The list is not
   exhaustive and further, it is possible to derive new models using a
   combination of these models.

                            -----> wireless link
                           /
    +-------+   Remote CS / +-------+
    | MIHF  |<--------------| MIHF  |
    | (CS)  |   Services    | (CS)  |
    +-------+               +-------+
     Mobile              Access, Proxy or Core
      Node                 Network Node

   Fig.7 CS: Access or Core Network Node to Mobile Node.



    +-------+   Remote CS / +-------+
    | MIHF  |<--------------| MIHF  |
    | (CS)  |    Services   | (CS)  |
    +-------+               +-------+
   Access Network           Core Network
      Node                    Node

   Fig.8 CS: Core Network Node to Access Network Node.



    +-------+Remote CS+-------+Remote CS+-------+
    | MIHF  |<--------| MIHF  |<--------| MIHF  |
    | (CS)  |Services | (CS)  | Services| (CS)  |
    +-------+         +-------+         +-------+
   Access Network      Proxy          Core Network
   or Mobile Node   Network Node         Node



Sreemanthula, et al.     Expires April 19, 2006                [Page 13]

Internet-Draft                ES/CS for MIH                 October 2005


   Fig.9 CS: Network Node to Proxy Network node to Network Node.



9.  Usage Scenarios for Remote Events and Commands

   While the authors of this draft agree with most of the comments
   raised in [2], the authors believe that remote transport of events
   for ES is feasible under specific conditions.

   The intention behind ES and CS is not to cater for every possible
   scenario, but to target specific scenarios.  In particular, the focus
   is on network architectures deploying multiple access technologies,
   where inter-technology handover is required.  Also, inter-domain
   handover is one of the targets, as depicted in the examples below.

   Additionally, the authors believe remote ES and CS are enablers for
   network controlled handover scenarios between different access
   technologies.

   The network may perform a network controlled handover decision in at
   least two steps.

   1.  Network selection, and

   2.  Handover control.

9.1.  Network Selection

   Network selection is a process of selecting a favorable network for a
   mobile node to transfer or handover the ongoing services to the
   selected network.  The selected network may be a different link
   technology from the previous one.  It may also be possible that the
   mobile node, after handover, may not experience exactly the same
   level of QoS as the current link due to this network selection.  But,
   in general, it may result in some user benefit in one way or another
   e.g. cost savings, higher bandwidth etc.  MME in the network may have
   access to subscriber profile, contracts, and device capabilities to
   make use of the network selection algorithms for a certain subscriber
   or mobile node.

   Figure 10 shows a simple network selection procedure with the help of
   the mobile node.  This example call flow diagram employs remote event
   services and information services.  Remote command services are not
   used in this particular example, however, they can also be useful in
   the network selection mechanisms under certain scenarios.  E.g.
   depending on user geographical location, the network may command the
   mobile node to perform a scan for a specific 802.11 network and



Sreemanthula, et al.     Expires April 19, 2006                [Page 14]

Internet-Draft                ES/CS for MIH                 October 2005


   report the results that can be used in the network selection process.

   In the scenario shown, the mobile node initially performs a
   registration or attachment to the network on any link, e.g. 3GPP
   network.  The MME and the mobile node are able to discover each other
   in the same or following step.  MME may then register for specific
   remote event services, e.g.  ES-link-detect by sending a registration
   request and filter information for both 802.16 and 802.11 networks.
   The mobile node accepts the request with a positive reply.  From time
   to time, the mobile node may receive broadcast information from
   802.11 and 802.16 networks.  In this scenario, the 802.16 broadcast
   is received and a link-detect is sent by the 802.16 MAC layer to the
   MIHF(ES).  The MIHF(ES) translates this to an ES-link-detect message
   to the MIHF(ES) in the network (collocated in the MME) with the basic
   network information received in the broadcast.

   The MME requests for more information about the network via the IS
   query to an IS server to check the suitability of the detected
   network due to roaming agreements [1].  The MME decides that this
   particular 802.16 network is not a favorable network and takes no
   action.  The mobile node also takes no action and does not report the
   detection of same network more than once.  At a later time, the
   mobile node may receive beacon information from 802.11 AP and the MAC
   layer in the mobile node reports the to the MIHF(ES) along with the
   SSID information.  The MIHF(ES) provides this information to the MME
   in the network.  The MME may perform an IS query based on the SSID
   information and determines that this SSID belongs to a favorable
   network.  The network selection process, thereby, is completed.























Sreemanthula, et al.     Expires April 19, 2006                [Page 15]

Internet-Draft                ES/CS for MIH                 October 2005


         Mobile Node
   |----------------------|
   +--------+     +-------+  +-------+   +------+   +------+   +------+
   |MIHF(ES)|     |  Link |  |  MME  |   |  IS  |   |802.16|   |802.11|
   |        |     | Layers|  |       |   |      |   |      |   |      |
   +--------+     +-------+  +-------+   +------+   +------+   +------+
       |              |          |          |           |          |
   +------------------------------+         |           |          |
   |  Discovery & Registration    |         |           |          |
   +------------------------------+         |           |          |
       |     1.ES-reg-req        |          |           |          |
       |<========================|          |           |          |
       |        2.ES-reg-resp    |          |           |          |
       |========================>|          |           |          |
       ~                         ~          ~           ~          ~
       |              |3.DL-burst|          |           |          |
       | 4.link-detect|<--------------------------------|          |
       |<-------------|          |          |           |          |
       |    5.ES-link-detect     |          |           |          |
       |========================>|6.IS-query|           |          |
       |              |          |--------->|           |          |
       |              |   +-------------+   |           |          |
       |              |   |not favorable|   |           |          |
       |              |   +-------------+   |           |          |
       ~              ~          ~          ~           ~          ~
       |              |7.Beacon  |          |           |          |
       |8.link-detect |<-------------------------------------------|
       |<-------------|          |          |           |          |
       |    9.ES-link-detect     |          |           |          |
       |========================>|10.IS-query           |          |
       |              |          |--------->|           |          |
       |              |      +-----------+  |           |          |
       |              |      | favorable |  |           |          |
       |              |      +-----------+  |           |          |
       |              |          |          |           |          |
   +--------+     +-------+  +-------+   +------+   +------+   +------+
   |----------------------|
       Legend: ===== Remote ES over current link

   Fig.10 Network Selection in Network.


9.2.  Handover Control

   Handover control procedure follows a network selection process as
   explained in the previous section.  The following scenario in Figure
   11 shows a network controlled handover procedure.  Here, the MME in
   the network utilizes MIHF(CS) and generates a link switch command



Sreemanthula, et al.     Expires April 19, 2006                [Page 16]

Internet-Draft                ES/CS for MIH                 October 2005


   with CS-switch-reg to the mobile node.  The parameters in the message
   may include that a make-before-break mechanism is to be performed
   along with the target link information e.g. 802.11 network as shown
   from the network selection procedure earlier.

   The MIHF(CS) in the mobile node executes the command by sending an
   "associate" request to the 802.11 MAC which will perform all
   necessary L2 association and authentication procedures.  A link-up
   indication is sent to the interested parties including Mobile-IP
   functionality.  Mobile-IP performs an update procedure to update the
   binding in the HA and reroute the tunnels to the new FA in the new
   network corresponding to the 802.11 link.  Once the traffic uses the
   new link, the MIHF(CS) releases the old link by sending a request to
   that MAC layer, here the 3GPP radio link .  A CS-switch-resp is sent
   back to the MME upon completion of the command.

   The following scenario shows the basic Mobile IP scheme for
   simplicity.  However, it is possible to use fast Mobile IP handover
   signaling schemes for faster response times and fewer packet losses
   [3].































Sreemanthula, et al.     Expires April 19, 2006                [Page 17]

Internet-Draft                ES/CS for MIH                 October 2005


         Mobile Node
   |--------------------------------|
   +--------+   +-------+   +-------+  +------+     +------+   +------+
   |MobileIP|   |  CS   |   |  Link |  |  MME |     |802.11|   |FA/HA |
   |        |   |       |   | Layers|  |      |     |      |   |      |
   +--------+   +-------+   +-------+  +------+     +------+   +------+
       |            |           |         |            |          |
       |            |           |    +-----------+     |          |
       |            |           |    | Network   |     |          |
       |            |           |    | Selection |     |          |
       |            |           |    |(sect. 9.1)|     |          |
       |            |           |    +-----------+     |          |
       |            | 1.CS-switch-req     |            |          |
       |            |<====================|            |          |
       |            |2.associate|         |            |          |
       |            |---------->|  3.L2 Association    |          |
       | 4.link-up  |           |<-------------------->|          |
       |<-----------------------|         |            |          |
   +------------------------------------------------------------------+
   |                      Mobile IP update procedure                  |
   +------------------------------------------------------------------+
       |            |5.release  |         |            |          |
       |            |---------->|         |            |          |
       |            | 6.CS-switch-resp    |            |          |
       |            |>>>>>>>>>>>|         |            |          |
       |            |           |         |            |          |
   +-------+    +-------+   +------+   +-----+      +------+   +------+
   |-------------------------------|
       Legend: ===== CS over current link, >>>>>> CS over new link

   Fig.11 Network Controlled Handover Procedure.



10.  Enabling Event and Command Services

   This section analyzes the feasibility of remote events and commands,
   and describes a set of requirements to enable remote ES and CS.  The
   section discusses some potential solutions to solve some issues
   typically associated with remote events and explicit signaling.
   However, such solutions are discussed just to provide example of how
   drawbacks and limitations identified e.g. in [2] can be overcome.
   This draft does not propose any specific solutions.

10.1.  Feasibility of Remote Events and Commands

   [2] contains a set of observations on requirements that solutions
   need to fulfill to justify and enable transport of events between



Sreemanthula, et al.     Expires April 19, 2006                [Page 18]

Internet-Draft                ES/CS for MIH                 October 2005


   peer entities over the media (e.g. wireless link).  This section
   addresses these observations in order to assess the feasibility of
   remote ES and CS.

10.1.1.  Explicit Signaling for Remote Event/Command Services

   [2] indicates that alternatives not requiring explicit signaling are
   preferred, and that explicit signaling proposals must prove that
   existing explicit signaling mechanisms are inadequate.

   Implicit signaling (e.g. path change processing and link-aware
   routing metrics) has been considered for the scenarios described in
   this draft.  However, implicit signaling may not work in several
   cases of inter-technology handoff.  As an example, in certain
   scenarios the handoff is executed but the mobile node does not move
   between subnets (e.g. in 3GPP networks where the GGSN and the PDG are
   located in the same subnet).  In other scenarios, explicit signaling
   is required between the mobile node and a network node to report
   events related to an access link different from the one currently
   being used by the mobile node (e.g. a mobile node using a 3GPP link
   detects the availability of a WLAN link).  Such events would not be
   visible to the network node without explicit signaling.

   Various wireless technologies already have defined mobility
   management solutions that deploy explicit signaling to support
   handoff (e.g. 3GPP, 3GPP2, IEEE 802.16, etc.), or are at present
   developing new solutions (e.g.  IEEE 802.11 Fast BSS Transition).
   However, such solutions are clearly defined for intra-technology
   handoff (e.g. 3GPP solutions apply to handoff between 3GPP
   technologies).  However, none of these wireless technologies has
   defined a solution that is applicable to inter-technology handoff
   (e.g. between different IEEE 802 access links, or between a 3GPP
   access link and an IEEE 802 access link).

10.1.2.  Mitigation of Security Issues and Validation of Transported
         Indications

   The validity of the information delivered through explicit signaling
   in the Remote Event Service and the Remote Command Service is
   essential to guarantee that the mobile node or the network node make
   handoff decision and perform handoff based on valid conditions.  In
   [2] the issue of validity of the indications is correctly raised,
   since in a generic model the receiver of the indication (e.g. the
   mobile node) may not have the ability to verify if the indication has
   e.g. been sent by a host off the actual path in use, and therefore
   possibly not capable of providing accurate indications.

   With the specific model for Remote Event Services and Remote Command



Sreemanthula, et al.     Expires April 19, 2006                [Page 19]

Internet-Draft                ES/CS for MIH                 October 2005


   Services described in this document, as described in section 9 a
   "relationship" is generated between the mobile node and an MME
   through a process of discovery and registration.  Authentication can
   be part of such process (possibly mutual authentication), as
   described in the security considerations.  Considering this specific
   model, information in Remote Event Service and Remote Command Service
   a re generated by a node with which the recipient of the Remote Event
   Service and Remote Command Service has setup a relationship before
   hand.  It is up to the recipient to ensure during the discovery and
   registration process that the source of Remote Event Service and
   Remote Command Service is reputable and can provide accurate
   information.  An example of how this can be achieved is based on
   authentication mechanisms and the adoption of a trust model similar
   to those adopted in current networks for authentication of roaming
   users.  The mobile node can authenticate with a home domain/network
   based on a subscription with such domain/network.  If the MME is
   located e.g. in the home network, the MME can authenticate with the
   MME based on credentials the mobile node possesses as a result of the
   subscription.  If the MME is e.g. in the visited domain, a transitive
   trust model can be adopted, where the mobile node authenticates with
   the home domain/network based on a subcription and through the
   visited domain.  As a result, a security association is established
   between the mobile node and the MME.  A model similar to the one
   adopted in AAA can be adopted.



























Sreemanthula, et al.     Expires April 19, 2006                [Page 20]

Internet-Draft                ES/CS for MIH                 October 2005


         Mobile Node                                Network
   |-------------------------------------|         |---------|
   +----------+   +--------+    +--------+          +-------+
   | Appl./   |   |        |    |        |          |       |
   | Trasnp./ |   |MIHF(ES/|    |  Link  |          |  MME  |
   | Network  |   |  CS)   |    | Layers |          |       |
   |  Layers  |   |        |    |        |          |       |
   +----------+   +--------+    +--------+          +-------+
       |              |             |                   |
     +---------------------------------+                |
     |        +-----------------+      |                |
     |        |   Mapping of    |      |                |
     |        |Local Identifiers|      |                |
     |        +-----------------+      |                |
     +---------------------------------+                |
       |              |             |                   |
   +--------------------------------------------------------+
   |                      Discovery                         |
   +--------------------------------------------------------+
       |              |             |                   |
   +--------------------------------------------------------+
   |                     Registration                       |
   | +----------------------------------------------------+ |
   | |                  Authentication                    | |
   | +----------------------------------------------------+ |
   |                                                        |
   +--------------------------------------------------------+
       |              |             |                   |
       |             Security Association               |
       |<==============================================>|
       |              |             |                   |
       |           Media Independent Host ID            |
       |<==============================================>|
       |              |             |                   |
   +----------+   +--------+    +--------+          +-------+
   |-------------------------------------|         |---------|
       Legend: ===== shared between

   Fig.12 Mobile Node - MME Relationship and Mapping of Identifiers.


10.1.3.  Mapping of Identifiers

   [2] raises a legitimate issue regarding the fact that typically the
   IP layer, the link layer, the transport layer and the application
   layer use different identifiers, and therefore reporting of
   information regarding these layers to a remote node may require
   matching the various identifiers.



Sreemanthula, et al.     Expires April 19, 2006                [Page 21]

Internet-Draft                ES/CS for MIH                 October 2005


   When local event services generate indications within a host (e.g.
   the mobile node), the host has detailed knowledge of the various
   identifiers used at the different layers (e.g. the IP address, the
   MAC addresses for the various IEEE 802 accesses, etc.).  As depicted
   in figure 12, an MIHF located in the mobile node can maintain a local
   mapping of the various identifiers.  When the mobile node discovers
   and registers with another network node (e.g. an MME), an identifier
   specific to Remote Event Services and Remote Command Services can be
   adopted to uniquely identify the mobile node , e.g. a Media
   Independent Host Identifier.  The Media Independent Host Identifier
   can be e.g. assigned to the mobile node by the home network as part
   of a set of subcription credentials.  The Media Independent Host
   Identifier could be a new identifier, or an existing identifier could
   be reused (e.g.  NAI).  Subsequently, all the remote even
   notifications and remote command exchanges can be based on the Media
   Independent Host Identifier, therefore limiting the need to maintain
   the mapping between different identifiers at different layers local
   to the host.

10.2.  Transport Selection

   A transport MUST be selected for the event and command services based
   on general protocol requirements discussed in this draft.

10.3.  Registration and Deregistration

   Event and command services can offer various levels of service
   capability.  Responsible use of network resources and meaningful use
   of the ES services would require the requesting entity to register
   for specific services that is of interest when needed and deregister
   when not needed.

10.4.  Discovery

   It is important for the participating network nodes to discover the
   location or address of each other to exchange event and command
   services.  This aspect MAY be either covered in the protocol or MAY
   contain references to other mechanisms where this is achieved and
   what changes must be done additionally.

10.5.  Capability Negotiation

   Capability negotiation is to discover capability of service offerings
   of each other.  This is mainly to be future proof and ensure backward
   compatibility.






Sreemanthula, et al.     Expires April 19, 2006                [Page 22]

Internet-Draft                ES/CS for MIH                 October 2005


10.6.  Reliability and Failure Recovery

   The reliability for the protocol messages can be handled at the
   transport layer.  However, there is a concern that the messages may
   not be received at all due to the sending or receiving entity being
   out of coverage.  The protocol MUST be able to detect such failure
   conditions and SHOULD be able to recover from this state.

10.7.  Protocol Description

   The actual protocol or payload information of the transport used for
   command and event services MUST be defined.  This draft does not
   address all the event and command codes and the corresponding
   information e.g. filters associated with each of event and command
   code to be used in the actual deployments.  This is to highlight the
   need for flexibility and extensibility desired from the protocol to
   add new codes and new options or information elements in the
   protocol.


11.  Security Considerations

   When exchanging events and commands between hosts, extreme caution
   needs to be exercised in establishing communications securely.

   Unless endpoints are identified and authorized for communications,
   one or more service entities may be affected by state changes as a
   result of inappropriate registration, event or command reception.

11.1.  Event Service Considerations

   When receiving events, their impact on entities in their target layer
   (for example the link-layer for link-indications) may be well
   defined.  Their effect on other protocol layers may be unclear
   though.  This may be the case because changes to protocol entities at
   one layer do not cause changes in another, or because the event is
   not considered trustable or authoritative [2].

   Event indications are therefore likely to be interpreted as hints by
   other protocol layers, without necessarily modifying protocol state.

   Where unauthorized third parties impersonating legitimate ES entities
   can generate hints, attackers can cause damage to communications to
   or from a mobile node.  Such bogus hints can potentially cause
   additional packet transmissions at other layers, cause a host to be
   denied service or cause non-preferred services to be selected.

   Unless appropriate security mechanism and a security model are



Sreemanthula, et al.     Expires April 19, 2006                [Page 23]

Internet-Draft                ES/CS for MIH                 October 2005


   adopted, attacks may be particularly simple on a wireless medium,
   where even valid event messages may be replayed at a later stage by
   an attacker.

   As event services allow events to be delivered across multiple IP
   forwarding hops, spoofed ES messages potentially may arrive from
   anywhere on the Internet.  In order to mitigate this issue, where
   signaling is constrained to be within an IP subnet, link-local
   signaling may be appropriate [4][5].

   For event services generated beyond the local link, security
   mechanisms need to be in place to ensure that the node receiving an
   ES message can verify the source of the message and the validity of
   the message (e.g. to avoid tampering or injection of bogus ES
   messages).

   Events sent to network side ES entities may cause changes to services
   provided to a wireless terminal.  Such events could then generate
   further events and commands to be generated.  Also, the mobile node
   to which the bogus events referred may be unaware of the event
   delivery, or indeed of any reaction to the event within the network.

11.2.  Command Service Considerations

   Command services experience most of the same attacks as event
   services, although their effects may be even more severe.  CS deal
   with impending, typically mandatory, state changes which control the
   association and allocated resources of the network or mobile node.
   Therefore, a recipient of a command may feel compelled to comply with
   a requested state change, even if the change is not legitimate or
   useful.  This can be used to force disconnection or poor service
   selection.  This level of control over remote services requires very
   careful monitoring and access control.


12.  IANA Considerations

   The IANA provide registry services for a large number of protocol
   identifiers used within IETF-related protocols.

   The IEEE standards association maintains its own registries for
   organizationally unique identifiers, ethertypes, and logical link
   control identifiers.

   This document does not in itself cause changes or demands to be
   placed upon the IANA or IEEE registries.

   Subsequent development of standards which may reference or create



Sreemanthula, et al.     Expires April 19, 2006                [Page 24]

Internet-Draft                ES/CS for MIH                 October 2005


   IANA or IEEE registries have the potential induce changes of loads
   particular registries.

   Proposals for Remote Event Services and Remote Command Services need
   to ensure that any envisaged use development of registries are
   compatible with the registry operation's charter and resources.


13.  Conclusions

   The scenarios describing the problem in the draft show the possible
   usage extent of event and command services in aiding the inter-system
   mobility.  Event and command services can serve inter-system
   handovers by providing an interface between the multi-access handover
   logic to the functional entities that executes mobility signaling in
   the mobile node or in the network.


14.  Acknowledgments

   The author would like to acknowledge and thank the participants of
   this working group and IEEE 802.21 community for openly discussing
   the problem and showing interest to solve it.

15.  References

   [1]  Daley, G. and S. Faccin, "Requirements for a Media Independent
        Handover Information Service draft-faccin-mih-infoserv-00.txt",
        June 2005.

   [2]  Adoba, B., "Architectural Implications of Link Indications
        draft-iab-link-indications-03.txt", June 2005.

   [3]  Koodli, R., "RFC4068: Fast Handovers for Mobile IPv6",
        July 2005.

   [4]  Deering, S. and R. Hinden, "RFC2460: Internet Protocol, Version
        6 (IPv6) Specification", December 1998.

   [5]  Hinden, R. and S. Deering, "RFC3513: Internet Protocol Version 6
        (IPv6) Addressing Architecture", April 2003.










Sreemanthula, et al.     Expires April 19, 2006                [Page 25]

Internet-Draft                ES/CS for MIH                 October 2005


Authors' Addresses

   Srinivas Sreemanthula
   Nokia
   NH3:400
   6000 Connection Dr.
   Irving, TX  75039
   USA

   Phone: +1 9728945000
   Email: srinivas.sreemanthula@nokia.com


   Stefano Faccin
   Nokia
   NH3:400
   6000 Connection Dr.
   Irving, TX  75039
   USA

   Phone: +1 9728945000
   Email: stefano.faccin@nokia.com


   Eleanor Hepworth
   Siemens Roke Manor
   Romsey
   Hants  S051 0ZN
   UK

   Phone:
   Email: eleanor.hepworth@roke.co.uk


   Greg Daley
   Centre for Telecommunications and Information Engineering
   Department of Electrical and Computer Systems Engineering
   Monash University
   Clayton, Victoria  3800
   Australia

   Phone: +61 3 9905 4655
   Email: greg.daley@eng.monash.edu.au








Sreemanthula, et al.     Expires April 19, 2006                [Page 26]

Internet-Draft                ES/CS for MIH                 October 2005


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Sreemanthula, et al.     Expires April 19, 2006                [Page 27]


