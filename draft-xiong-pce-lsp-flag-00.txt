



PCE                                                             Q. Xiong
Internet-Draft                                           ZTE Corporation
Updates: 8231 (if approved)                            November 26, 2019
Intended status: Standards Track
Expires: May 29, 2020


                 LSP Object Flag field of Stateful PCE
                      draft-xiong-pce-lsp-flag-00

Abstract

   RFC8231 describes a set of extensions to PCEP to enable stateful
   control of MPLS-TE and GMPLS Label Switched Paths(LSPs) via PCEP.
   One of the extensions is the LSP object which includes a Flag field
   and the length is 12 bits.  However, 11 bits of the Flag field has
   been assigned in RFC8231, RFC8281 and RFC8623 respectively.

   This document updates RFC8231 by defining a new LSP-EXTENDED-FLAG TLV
   for LSP object to extend the length of the flag.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 29, 2020.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect



Xiong                     Expires May 29, 2020                  [Page 1]

Internet-Draft    LSP Object Flag field of Stateful PCE    November 2019


   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   2
     2.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   2
     2.2.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   3.  Update  . . . . . . . . . . . . . . . . . . . . . . . . . . .   3
     3.1.  Flag Field in LSP Object  . . . . . . . . . . . . . . . .   3
     3.2.  The LSP-EXTENDED-FLAG TLV . . . . . . . . . . . . . . . .   4
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
     6.1.  LSP Object  . . . . . . . . . . . . . . . . . . . . . . .   5
     6.2.  PCEP-Error Object . . . . . . . . . . . . . . . . . . . .   5
   7.  Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   [RFC5440] describes the Path Computation Element Protocol (PCEP)
   which is used between a Path Computation Element (PCE) and a Path
   Computation Client (PCC) (or other PCE) to enable computation of
   Multi-protocol Label Switching (MPLS) for Traffic Engineering Label
   Switched Path (TE LSP).

   PCEP Extensions for the Stateful PCE Model [RFC8231] describes a set
   of extensions to PCEP to enable active control of MPLS-TE and
   Generalized MPLS (GMPLS) tunnels.  One of the extensions is the LSP
   object which includes a Flag field and the length is 12 bits.However,
   11 bits of the Flag field has been assigned in RFC8231, RFC8281 and
   RFC8623 respectively.

   This document updates RFC8231 by defining a new LSP-EXTENDED-FLAG TLV
   for LSP object to extend the length of the flag.

2.  Conventions used in this document

2.1.  Terminology

   The terminology is defined as [RFC5440] and [RFC8231].






Xiong                     Expires May 29, 2020                  [Page 2]

Internet-Draft    LSP Object Flag field of Stateful PCE    November 2019


2.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Update

3.1.  Flag Field in LSP Object

   As Figure 1 shows, the LSP Object is defined in Section 7.3 of
   [RFC8231].  The LSP object contains a flag field indicating to a PCE
   that the LSP State Synchronization is in progress.


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                PLSP-ID                |        Flag           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      //                        TLVs                                 //
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                    Figure 1: Flag field in LSP Object

   As defined in [RFC8231], the length of LSP Object Flag field is 12
   bits and it defined the value from bit 5 to bit 11.  The bits from 1
   to 3 are assigned in [RFC8623], the bit value 4 is used in [RFC8281].
   The details of the flag field and assigned bits are shown as follows.


















Xiong                     Expires May 29, 2020                  [Page 3]

Internet-Draft    LSP Object Flag field of Stateful PCE    November 2019


             +---------+----------------------+-------------+
             |  Value  |  Name                |  Reference  |
             +---------+----------------------+-------------+
             | 1       | ERO-compression      | RFC8623     |
             | 2       | Fragmentation        | RFC8623     |
             | 3       | P2MP                 | RFC8623     |
             | 4       | Create               | RFC8281     |
             | 5-7     | Operational (3 bits) | RFC8231     |
             | 8       | Administrative       | RFC8231     |
             | 9       | Remove               | RFC8231     |
             | 10      | SYNC                 | RFC8231     |
             | 11      | Delegate             | RFC8231     |
             +---------+----------------------+-------------+

                                  Table 1

3.2.  The LSP-EXTENDED-FLAG TLV

   All bits of the flag has been assigned except bit 0.  This document
   proposes to define a new LSP-EXTENDED-FLAG TLV for LSP object to
   extend the length of the flag as the Figure 2 shown.


        0                   1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |           Type=TBD             |       Length                 |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
       |                      Extended Flag                            |
       +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


                  Figure 2: LSP-EXTENDED-FLAG TLV Format

   Extended Flag (32 bits), starting from the least significant bit.
   The bit 0 SHOULD be reserved.  Other unassigned bits are reserved for
   future uses.  They MUST be set to 0 on transmission and MUST be
   ignored on receipt.

   The LSP-EXTENDED-FLAG MUST be included in the LSP object when the bit
   0 of the Flag field carried in the LSP object set to 1.  If the TLV
   is missing, the PCE will generate an error with Error-type=6
   (Mandatory Object missing) and error-value TBD (LSP-EXTENDED-FLAG TLV
   missing) and close the session.







Xiong                     Expires May 29, 2020                  [Page 4]

Internet-Draft    LSP Object Flag field of Stateful PCE    November 2019


4.  Security Considerations

   TBA

5.  Acknowledgements

   TBA

6.  IANA Considerations

6.1.  LSP Object

   [RFC8231] defines the LSP object; per that RFC, IANA created a
   registry to manage the value of the LSP object's Flag field.  IANA is
   requested to make allocations from the registry, as follows:

     +---------+---------------------------------+------------------+
     |  Value  |  Name                           |  Reference       |
     +---------+---------------------------------+------------------+
     |  0      |  Indicate the LSP Extended Flag | [this document]  |
     |  TBD    |  LSP-EXTENDED-FLAG TLV          | [this document]  |
     +---------+---------------------------------+------------------+

                                  Table 2

6.2.  PCEP-Error Object

   The following error types and error values have been registered
   within the "PCEP-ERROR Object Error Types and Values" subregistry of
   the "Path Computation Element Protocol (PCEP) Numbers" registry:

           +--------------+------------------------------------+
           |  Error-Type  |  Meaning                           |
           +--------------+------------------------------------+
           |  6           |  Mandatory Object missing          |
           |              |  Error-value                       |
           |              | TBD: LSP-EXTENDED-FLAG TLV missing |
           +--------------+------------------------------------+

                                  Table 3

7.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.




Xiong                     Expires May 29, 2020                  [Page 5]

Internet-Draft    LSP Object Flag field of Stateful PCE    November 2019


   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8231]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", RFC 8231,
              DOI 10.17487/RFC8231, September 2017,
              <https://www.rfc-editor.org/info/rfc8231>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.

   [RFC8623]  Palle, U., Dhody, D., Tanaka, Y., and V. Beeram, "Stateful
              Path Computation Element (PCE) Protocol Extensions for
              Usage with Point-to-Multipoint TE Label Switched Paths
              (LSPs)", RFC 8623, DOI 10.17487/RFC8623, June 2019,
              <https://www.rfc-editor.org/info/rfc8623>.

Author's Address

   Quan Xiong
   ZTE Corporation
   No.6 Huashi Park Rd
   Wuhan, Hubei  430223
   China

   Email: xiong.quan@zte.com.cn















Xiong                     Expires May 29, 2020                  [Page 6]
