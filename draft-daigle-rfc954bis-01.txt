

Network Working Group                                          L. Daigle
Internet-Draft                                            VeriSign, Inc.
Obsoletes: RFC812, RFC954 (if                             March 31, 2004
approved)
Expires: September 29, 2004


                      WHOIS Protocol Specification
                     draft-daigle-rfc954bis-01.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 29, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2004). All Rights Reserved.

Abstract

   This document updates the specification of the WHOIS protocol,
   thereby obsoleting RFC954. The update is intended to remove the
   material from RFC954 that does not have to do with the on-the-wire
   protocol, and is no longer applicable in today's Internet.  This
   document does not attempt to change or update the protocol per se, or
   document other uses of the protocol that have come into existence
   since the publication of RFC954.

1. Introduction

   WHOIS is a TCP-based transaction-oriented query/response protocol



Daigle                 Expires September 29, 2004               [Page 1]

Internet-Draft         draft-daigle-rfc954bis-01              March 2004


   that is widely used to provide information services to Internet
   users.  While originally used to provide "white pages" services and
   information about registered domain names, current deployments cover
   a much broader range of information services. The protocol delivers
   its content in a human-readable format. This document updates the
   specification of the WHOIS protocol, thereby obsoleting RFC954 [1].

   For historic reasons, WHOIS lacks many of the protocol design
   attributes, for example internationalisation and strong security,
   that would be expected from any recently-designed IETF protocol.
   This document does not attempt to rectify any of those short comings.
   Instead, this memo documents the WHOIS protocol as it is. In some
   areas, this document does document particular well known shortcomings
   of the WHOIS protocol.  The discussion of possible protocols to carry
   out these functions, with updated capabilities to address the short
   comings, is being addressed in a separate IETF activitiy (CRISP
   Working Group).

2. Protocol Specification

   A WHOIS server listens on TCP port 43 for requests from WHOIS
   clients.  The WHOIS client makes a text request to the WHOIS server,
   then the WHOIS server replies with text content.  All requests are
   terminated with ASCII CR and then ASCII LF. The response might
   contain more than one line of text, so the presence of ASCII CR or
   ASCII LF characters does not indicate the end of the response.  The
   WHOIS server closes its connection as soon as the output is finished.
   The closed TCP connection is the indication to the client that the
   response has been received.

3. Protocol Example

   If one places a request of the WHOIS server located at whois.nic.mil
   for information about "Smith", the packets on the wire will look
   like:

      client                           server at whois.nic.mil

      open TCP   ---- (SYN) ------------------------------>
                 <---- (SYN+ACK) -------------------------
      send query ---- "Smith<CR><LF>" -------------------->
      get answer <---- "Info about Smith<CR><LF>" ---------
                 <---- "More info about Smith<CR><LF>" ----
      close      <---- (FIN) ------------------------------
                 ----- (FIN) ----------------------------->






Daigle                 Expires September 29, 2004               [Page 2]

Internet-Draft         draft-daigle-rfc954bis-01              March 2004


4. Internationalisation

   The WHOIS protocol has not been internationalised.  The WHOIS
   protocol has no mechanism for indicating the character set in use.
   Originally, the predominant text encoding in use was US-ASCII. In
   practice, some WHOIS servers, particularly those outside the USA,
   might be using some other character set either for requests, replies,
   or both. This inability to predict or express text encoding has
   adversely impacted the interperability (and, therefore, usefulness)
   of the WHOIS protocol.

5. Security Considerations

   The WHOIS protocol has no provisions for strong security. WHOIS lacks
   mechanisms for access control, integrity, and confidentiality.
   Accordingly, WHOIS-based services should only be used for information
   which is non-sensitive and intended to be accessible to everyone. The
   absence of such security mechanisms means this protocol would not
   normally be acceptable to the IETF at the time of this writing.

6. Acknowledgements

   Ran Atkinson created an earlier version of this document.

Normative References

   [1]  Harrenstien, K., Stahl, M. and E. Feinler, "NICNAME/WHOIS", RFC
        954, October 1985.


Author's Address

   Leslie Daigle
   VeriSign, Inc.
   21355 Ridgetop Circle
   Dulles, VA  20166
   US

   EMail: leslie@verisignlabs.com; leslie@thinkingcat.com












Daigle                 Expires September 29, 2004               [Page 3]

Internet-Draft         draft-daigle-rfc954bis-01              March 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights. Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11. Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard. Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2004). All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Daigle                 Expires September 29, 2004               [Page 4]

Internet-Draft         draft-daigle-rfc954bis-01              March 2004


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Daigle                 Expires September 29, 2004               [Page 5]


