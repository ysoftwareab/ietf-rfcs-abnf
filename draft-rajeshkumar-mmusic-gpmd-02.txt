
   MMUSIC Working Group                                        R. Kumar 
   Internet Draft                                          F. Andreasen 
   Document: draft-rajeshkumar-mmusic-gpmd-02.txt         Cisco Systems 
   Category: Informational                                              
   Expires:  August 2003                                  February 2003 
    
    
    SDP attribute for Qualifying Media Formats with Generic Parameters 
    
    
Status of this Memo 
    
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026.  
    
   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that      
   other groups may also distribute working documents as Internet-
   Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 
    
   The list of current Internet-Drafts can be accessed at 
        http://www.ietf.org/ietf/1id-abstracts.txt 
    
   The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html. 
    
Abstract 
    
   This document defines a new SDP attribute called general-purpose 
   media descriptor (gpmd).  The gpmd attribute allows the use of new 
   informative parameters, gpmd parameters, to qualify existing media 
   formats.  These gpmd parameters are not part of the standard (e.g., 
   MIME) definition of the media format and support for them with a 
   given media format can therefore not be assumed.  Their use is 
   therefore limited to cases where they provide information that may be 
   of use to the other party in a session but is not critical to the use 
   of the particular media format.  This document also defines a 
   specific gpmd parameter, voice-band data, which can be used to 
   describe a media format as carrying voice-band data. This enables the 
   receiver to optimize its handling of the media received.  
    




 
 
Kumar & Andreasen       Expires - August 2003                [Page 1] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
Conventions used in this document 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119 [1]. 
    
Table of Contents 
    
   1. Introduction...................................................2 
   2. Definition of the "gpmd" Attribute.............................3 
      2.1 General Semantics..........................................4 
      2.2 Offer/Answer Support.......................................4 
      2.3 ABNF Grammar for "gpmd" Attribute..........................5 
      2.4 Defining gpmd Parameters...................................6 
   3. The Voice-Band Data gpmd Parameter.............................6 
   4. Contrasting fmtp with gpmd.....................................7 
   5. Security Considerations........................................8 
   6. IANA considerations............................................8 
      6.1 Registration of the SDP attribute "gpmd"...................8 
      6.2 Creation of New SDP Sub-Registry for "gpmd" Parameters.....9 
      6.3 IANA Registration of the "gpmd" Parameter "vbd"............9 
   7. Normative References...........................................9 
   8. Informative References........................................10 
   Acknowledgments..................................................10 
   Authors' Addresses...............................................10 
    
1. Introduction 
 
   When a media format is defined and registered as a MIME type, part of 
   the definition includes a list of required and optional parameters 
   that can be supplied for the particular media format.  For example, 
   the registration of the "audio/PCMU" MIME type in [5] defines "rate" 
   as a required parameter and "channels", "ptime", and "maxptime" as 
   optional parameters that qualify the operation of the PCMU encoding 
   method.  Some media parameters may be common among different encoding 
   methods while others may be specific to a particular encoding method.  
   In either case, the parameters in question must be defined as part of 
   the definition and registration of the particular media format; new 
   parameters cannot be used without providing a new definition and 
   registration of the media format.  
    
   However, some applications can benefit from qualifying existing well-
   defined media formats with new informative generic parameters that 
   are not critical to the use of that media format, but nevertheless 
   would be beneficial for the other side to know.  For example, an 
   endpoint might benefit from knowing that an RTP payload type will be 
   treated, for the duration of a session, as containing a modulated 
   data signal.  Other such cases might arise in the future.  

 
 
Kumar & Andreasen       Expires - August 2003                [Page 2] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
    
   When using the Session Description Protocol (SDP) [3] to describe 
   media streams, media format specific parameters, that are not already 
   defined in SDP, are signaled through the use of the "fmtp" attribute.  
   The use of the "fmtp" attribute parameter however is limited to media 
   format parameters that are defined as part of the media format 
   registration; new informative generic parameters cannot be provided 
   with the "fmtp" parameter.  We therefore need to provide the 
   following: 
    
     1. An SDP mechanism to bind, on a per-session basis, values of one 
       or more informative generic parameters to a media format. 
        
     2. A mechanism for defining and registering such parameters. 
    
   In this document, we define a new SDP attribute called general-
   purpose media descriptor (gpmd) that can provide one or more of these 
   informative generic parameters for a media format.  An endpoint 
   chooses which generic parameters to advertise using this general-
   purpose media descriptor.  
      
2. Definition of the "gpmd" Attribute 
 
   The "gpmd" attribute is a media-level attribute; it MUST NOT be 
   provided at the session-level.  The attribute is used when an 
   endpoint wants to provide one or more informative generic parameters 
   for a given media format in a media stream, a.k.a. a general-purpose 
   media descriptor (gpmd).   
    
   The attribute is defined as:   
      
        a=gpmd:<format> <generic parameter list>   
           
   where <generic parameter list> is represented as a semicolon-
   separated list of case-sensitive <type>=<value> pairs (a formal ABNF 
   grammar for the "gpmd" attribute is provided in Section 2.3). For 
   example, the generic parameter "vbd" (see Section 3) is a boolean 
   which may be associated with any RTP payload type.  Thus, 
    
       m=audio 3456 RTP/AVP 0 15     
       a=gpmd:0 vbd=yes 
    
   enables voice-band data treatment for the static RTP payload type of 
   0 (PCMU). 
    
   Note that <format> need not be an RTP payload type.  It is 
   permissible to use any value of <format> that can appear in an SDP 
   "m=" line, as long as the definition of each generic parameter allows 

 
 
Kumar & Andreasen       Expires - August 2003                [Page 3] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
   it to be used to qualify that media format. Thus, a hypothetical 
   generic parameter, "someParameter", may be enclosed in a "gpmd" 
   attribute associated with the format "wb" (whiteboard) as follows: 
    
      m=application 3456 udp wb 
      a=gpmd:wb someParameter=someValue  
    
   The "gpmd" attribute is charset-independent. This property is 
   inherited by all parameters enclosed within the "gpmd" attribute.   
    
   The gpmd framework described in the rest of this section does not 
   define any specific gpmd parameters.  Instead we define general 
   requirements and procedures for gpmd parameters.  In Section 3, we 
   define a specific voice-band data gpmd parameter, and in Section 6, 
   we provide the IANA registration procedures for gpmd parameters.  
    
2.1 General Semantics  
    
   A general-purpose media descriptor contains one or more gpmd 
   parameters.  A gpmd parameter applies to one media format in one 
   media stream, just like an "fmtp" parameter. In the following, all 
   statements regarding gpmd parameters are to be taken in the context 
   of a given media format in a given media stream unless otherwise 
   noted.  A gpmd parameter MUST by definition be informative and 
   support for it by any party in a session MUST be optional.  Correct 
   operation of a given media stream MUST NOT depend on one or more 
   participants either supporting or not supporting a given gpmd 
   parameter.  A gpmd parameter can be thought of as providing an 
   optimization hint to the other party.  If the other party support it, 
   improved operation may result, but if the other party does not 
   support it, the operation MUST NOT be any worse, than if the gpmd 
   parameter(s) had not been indicated in the first place.  A gpmd 
   parameter can by default be used with any media format, however the 
   definition of particular gpmd parameter MAY limit its scope to a 
   subset of media formats.  If the parameter is used with an 
   unsupported media format, the parameter SHOULD be ignored.  
    
   Like other new SDP attributes, support for the "gpmd" attribute is 
   optional. SDP parsers that do not understand it MUST ignore it. The 
   same is true for each generic parameter enclosed within the "gpmd" 
   attribute; SDP parsers MUST ignore unsupported and erroneous gpmd 
   parameters.  
    
2.2 Offer/Answer Support 
    
   A gpmd parameter can be either "unilateral" or "bilateral" as 
   explained below. Support for and use of the gpmd attribute and gpmd 
   parameters is specified in terms of the offer/answer model [4]:  
    
 
 
Kumar & Andreasen       Expires - August 2003                [Page 4] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
   A bilateral gpmd parameter can always be present in an offer, however 
   it MUST only be present in an answer, if it was present in the 
   corresponding offer.  If an offer contains a bilateral gpmd parameter 
   which the answerer does not want to support, the answer MUST NOT 
   include this gpmd parameter.  If the answerer does not want to 
   support any of the gpmd parameters offered, the answer MUST NOT 
   include the gpmd attribute.  The operation associated with a 
   bilateral gpmd parameter MUST only be performed if both the offer and 
   the answer indicated support for this parameter, i.e. the two sides 
   have agreed to use it.  In all other cases, operation MUST be as if 
   the gpmd parameter had not been included in the first place.  The 
   only exception to this rule is in the period between the offer being 
   issued and the answer being received; during that time, the offerer 
   MAY use the operation associated with the offered gpmd parameter for 
   any media received for that offer. 
    
   A unilateral gpmd parameter can always be present in either an offer 
   or an answer. Unilateral parameters can be thought of as being 
   advertised rather than negotiated.  They convey information that may 
   be of interest to the other party, but there is no need for the two 
   sides to negotiate or agree on this information.  Thus, if an offer 
   contains a unilateral gpmd parameter, the answerer MAY choose to 
   adjust it's local operation in accordance with that parameter.  The 
   offerer however can neither depend on nor assume that the answerer 
   will do so, irrespective of whether the parameter is included in the 
   answer or not.  If the answer does include the parameter, it is 
   completely independent of the parameter provided in the offer, i.e., 
   the parameter is truly unilateral.  The answer operation is similar 
   to the offer operation.  Note that unilateral gpmd parameters can be 
   provided in an answer that did not contain a corresponding parameter 
   in the offer, and that any such parameters are unidirectional, i.e., 
   they apply only to the party that sends it and are not negotiated 
   between the two parties.  
    
2.3 ABNF Grammar for "gpmd" Attribute 
    
   This section provides an Augmented BNF (ABNF) grammar [2] for the 
   "gpmd" attribute.  Here, generic parameters that may be enclosed 
   within the "gpmd" attribute are referred to as "subparameters".  The 
   "subparameters" are case-sensitive. 
    
   RFC 2327 [3] generically defines SDP attributes as follows: 
    
      attribute-fields =    *("a=" attribute CRLF)   
      attribute =           (att-field ":" att-value) | att-field 
    
   For the "gpmd" attribute, a special case of this ABNF syntax may be 
   stated as follows: 
    
 
 
Kumar & Andreasen       Expires - August 2003                [Page 5] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
      gpmd-attribute-field = "a=" gpmd-attribute CRLF 
      gpmd-attribute       = "gpmd" ":" gpmd-format SP gpmd-value 
      gpmd-format          = token      ; for audio media, this is  
                                        ; typically an RTP payload type 
      gpmd-value           = gpmd-subparameter *(";" gpmd-subparameter) 
      gpmd-subparameter    = gpmd-subpar-name "=" gpmd-subpar-value 
      gpmd-subpar-name     = 1*(alpha-numeric)  
      gpmd-subpar-value    = 1*(gpmd-val-char) 
      alpha-numeric        = ALPHA / DIGIT 
                                ; ALPHA and DIGIT from RFC 2234 [2] 
      gpmd-val-char        = %x21-3A / %x3C-7E 
                                ; VCHAR [2], except semi-colon (";") 
    
2.4 Defining gpmd Parameters 
    
   When defining a gpmd parameter, the following MUST be specified:  
    
   * A descriptive name and a general description of what the gpmd 
     parameter conveys MUST be provided. In so doing, it MUST be 
     ensured, that the gpmd parameter does not violate the semantic 
     requirements specified in Section 2.1.  In particular, the 
     requirement that correct operation of a given media stream does not 
     depend on either party supporting the parameter MUST be honored.  
    
   * The actual gpmd parameter name used in the gpmd attribute and the 
    possible values MUST be specified according to the grammar defined 
    in Section 2.3.  
    
   *  The offer/answer model, i.e., unilateral or bilateral as specified 
   in Section 2.2) to be used for this gpmd parameter SHOULD be 
   specified. If it is not specified, it is assumed that the bilateral 
   model is used.  
    
   * The definition MAY include a description of the media formats the 
     gpmd parameter is expected to be used with, e.g. all audio codecs, 
     or one or more specific codecs. Use of the gpmd parameter with 
     other media formats does not constitute an error, but it may not 
     result in any meaningful optimization either.  
    
3. The Voice-Band Data gpmd Parameter 
    
   This section defines a new gpmd parameter called Voice-Band Data 
   ("vbd"). The registration of this parameter is addressed in Section 
   6.3.  
    
   The "vbd" gpmd parameter, indicates voice-band data.  It is a boolean 
   that may be assigned the value "yes" or "no" (without the quotes).  
   Using this generic parameter, any RTP audio payload type may be 
   declared to carry voice-band data.  In practice, most applications 
 
 
Kumar & Andreasen       Expires - August 2003                [Page 6] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
   are likely to use one of the following audio media formats for the 
   carriage of voice band data signals: PCMU, PCMA, G726-40 and G726-32.  
   The "vbd" parameter is a bilateral gpmd parameter, and hence support 
   for it MUST be negotiated in order to use any optimizations 
   associated with it in either direction.  The exact optimizations to 
   be used are implementation dependent, however one example is to 
   increase the size of the jitter buffer when voice-band data is 
   present.  
    
   Note that in a given session, a single RTP format (e.g., PCMU) may be 
   associated with multiple payload types.  For a given RTP format, one 
   of these may be a static payload type, while the others are 
   dynamically assigned payload types.  Regardless of whether a given 
   payload type is static or dynamic, it may be declared to carry voice-
   band data.  Without the parameter "vbd", the payload type, whether 
   static or dynamic, is insufficient to determine whether a modem 
   signal is being encoded or not.  Instead, the contents of the 
   incoming media stream would have to be analyzed. 
    
   The following example shows a static and a dynamic payload type 
   associated with the PCMU format.  Only the dynamic payload type, 98, 
   is earmarked for voice-band data treatment. 
    
     m=audio 3456 RTP/AVP 0 15 98  
     a=rtpmap:98 PCMU/8000   
     a=gpmd:98 vbd=yes 
    
   The following example reverses the association of payload type with 
   voice-band data.  Of the static and dynamic payload types associated 
   with PCMU, only the static payload type, 0, is earmarked for voice-
   band data treatment.  
    
     m=audio 3456 RTP/AVP 0 15 98  
     a=gpmd:0 vbd=yes  
     a=rtpmap:98 PCMU/8000   
 
4. Contrasting fmtp with gpmd 
    
   The SDP "fmtp" parameter and the "gpmd" parameter defined in this 
   document may seem very similar. Although we have explained the 
   rationale behind the gpmd parameter in Section 1, we here provide a 
   quick overview of the difference between the fmtp and the gpmd 
   parameters for easy reference: 
    
   Parameters provided within the "fmtp" attribute must be provided in 
   the standard definition (e.g. MIME registration) of that media 
   format.  Some of these parameters are mandatory, while others are 
   optional.  It is only parameters provided in this definition that can 
   be used with the "fmtp" parameter. The reason for this is, that the 
 
 
Kumar & Andreasen       Expires - August 2003                [Page 7] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
   "fmtp" parameter is intended to provide codec specific parameters 
   that the SDP parser and higher level application may not fully 
   understand, however if the codec in question is supported, it is 
   guaranteed that any such parameters will be supported as well.  
    
   By contrast, the parameters that may be provided within a "gpmd" line 
   are not part of the standard definition (e.g. MIME registration) of 
   the media format.  These parameters are maintained in a separate IANA 
   registry (Section 6.2).  The definition of a "gpmd" parameter may 
   indicate the range of media formats which may be qualified by it (all 
   media formats by default).  All "gpmd" enclosed parameters are 
   optional at the SDP parser level, though some applications may 
   negotiate particular parameters.  When a given codec is supported, 
   gpmd parameters for that codec may or may not be supported.  
    
5. Security Considerations 
    
   The general purpose media descriptor defined in this document is 
   informative in nature and furthermore not critical to the use of any 
   particular media format.  Presence or absence of a gpmd parameter may 
   however lead to use of or lack of certain optimizations on either the 
   sending or receiving side.  An attacker altering the presence or 
   absence of one or more gpmd parameters in a session description may 
   therefore negatively influence the resulting media stream.  
    
   It is possible to protect against such attacks by employing integrity 
   protection mechanism on the protocol(s) used to exchange the session 
   description or by use of integrity protection mechanism on the 
   session description itself.  
    
6. IANA considerations 
    
   There are three IANA actions in this document: 
    
   * Registration of "gpmd" as a new SDP attribute (Section 8.1). 
    
   * Creation of a new SDP sub-registry for gpmd parameters (Section 
     8.2). 
    
   * Registration of "vbd" as a generic parameter within the SDP sub-
     registry for "gpmd" (Section 8.3). 
           
6.1 Registration of the SDP attribute "gpmd" 
    
   This document defines a new SDP attribute, which the IANA is hereby 
   requested to register as follows: 
    
   Attribute name:      gpmd 

 
 
Kumar & Andreasen       Expires - August 2003                [Page 8] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
   Long form name:      General-purpose media descriptor 
   Attribute type:      Media-level 
   Subject to charset:  No 
   Purpose:             Informative generic parameters for media formats 
   Attribute values:    As defined in Section 2 of this document. 
 
6.2 Creation of New SDP Sub-Registry for "gpmd" Parameters 
    
   The IANA is hereby requested to create a new SDP sub-registry for 
   gpmd parameters.  Each entry in this registry shall contain the 
   following: 
    
   * A descriptive name for the gpmd parameter.  
    
   * An alphanumeric character string defining the token for the 
     parameter name in a gpmd attribute (as specified in Section 2). 
      
   * A reference to the document defining the gpmd parameter. 
    
   In order for the IANA to register a gpmd parameter defined outside of 
   this document, the parameter MUST be defined in a Standards Track RFC 
   in accordance with the requirements defined in Section 2.4.  
      
6.3 IANA Registration of the "gpmd" Parameter "vbd" 
    
   The IANA is hereby requested to register a new SDP gpmd parameter as 
   follows: 
    
   * Descriptive Name:  Voice-band data 
    
   * Token:             vbd 
    
7. Normative References 
    
   [1] Bradner, S., "Key words for use in RFCs to Indicate Requirement 
       Levels", BCP 14, RFC 2119, March 1997. 
        
   [2] Crocker, D. and Overell, P.(Editors), "Augmented BNF for Syntax 
       Specifications: ABNF", RFC 2234, Internet Mail Consortium and 
       Demon Internet Ltd., November 1997. 
        
   [3] Handley, M. and V. Jacobson, "SDP: Session Description 
       Protocol", RFC 2327, April 1998.  
        
   [4] Rosenberg, J., and H. Schulzrinne, "An Offer/Answer Model with 
       the Session Description Protocol (SDP)", RFC 3264, June 2002. 
    


 
 
Kumar & Andreasen       Expires - August 2003                [Page 9] 

Internet-Draft   SDP General Purpose Media Descriptor    February 2003 
 
 
8. Informative References 
    
   [5] Casner, S., and P. Hoschka, "MIME Type Registration of RTP 
       Payload Formats", Work in progress.  
    
    
Acknowledgments 
    
   Henning Schulzrinne provided the original inspiration for this draft 
   by pointing out the inherent simplicity and self-synchronizing nature 
   of changing payload types.  Steven Casner, Henning Schulzrinne and 
   Colin Perkins all helped refine the idea of this new, generic SDP 
   attribute.  Colin Perkins suggested the IANA registry mechanism 
   needed with the "gpmd" attribute.  Bill Foster pursued the logical 
   antecedents of this draft.  Magnus Westerlund reviewed and corrected 
   an earlier version of the ABNF grammar. 
    
    
Authors' Addresses 
    
   Rajesh Kumar    
   Cisco Systems    
   170 West Tasman Dr    
   San Jose, CA    
   Email: rkumar@cisco.com    
    
   Flemming Andreasen 
   Cisco Systems 
   499 Thornall Street, 8th Floor 
   Edison, NJ 
   Email: fandreas@cisco.com 
    
     
















 
 
Kumar & Andreasen       Expires - August 2003               [Page 10] 
