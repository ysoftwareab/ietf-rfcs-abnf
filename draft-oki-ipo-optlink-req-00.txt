





Network Working Group                                        Eiji Oki
Internet Draft                                                    NTT
Expiration Date: August 2002                         Nobuaki Matsuura
                                                                  NTT
                                                       Wataru Imajuku
                                                                  NTT
                                                       Kohei Shiomoto
                                                                  NTT
                                                      Naoaki Yamanaka
                                                                  NTT
                                                        February 2002


 Requirements of optical link-state information for traffic engineering
                 draft-oki-ipo-optlink-req-00.txt

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as ``work in progress.''

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Copyright Notice

   Copyright (C) The Internet Society (2002).  All Rights Reserved.

Abstract

   In a limited/non-wavelength-convertible (LNWC) optical network, a
   wavelength is restricted to be converted into another wavelength on
   an optical path due to the limitation of wavelength converters at an
   optical cross-connect. This document describes requirements of
   optical link-state information for traffic engineering to solve the
   routing and wavelength assignment (RWA) problem in LNWC network.
   Additional link-information extensions for LNWC network are



Oki                                                             [Page 1]





                    draft-oki-ipo-optlink-req-00.txt       February 2002


   presented.  By using the information, extensions of OSPF and RSVP-TE
   are proposed.

1. Introduction

   Traffic engineering (TE) in optical networks is useful to efficiently
   utilize network resources, which are fibers, wavelengths, and node
   capacities, etc. In GMPLS networks, a source node finds an
   appropriate route and wavelength based on collected optical link-
   state information with a routing protocol as such as Open Shortest
   Path Finding (OSPF) [GMPLS-OSPF], and set up an optical path by using
   a signaling protocol such as RSVP-TE [GMPLS-SIG][GMPLS-RSVP].

   A wavelength-division multiplexing (WDM) optical network are mainly
   categorized into two types in terms of wavelength conversion
   capability. One is a limited/non-wavelength-convertible (LNWC)
   optical network.  The other is a wavelength-convertible (WC) optical
   network.

   In LNWC network, a wavelength is limitedly or not converted into
   another wavelength on an optical path. Because of the limitation of
   wavelength converters at optical cross-connects (OXCs), an optical
   path must use the same or limited wavelength(s) through an optical
   path. When an optical path is set up, the routing and wavelength
   assignment (RWA) problem has to be solved.  On the other hand, in WC
   network, any wavelength can be converted into any wavelength at OXC
   on an optical path.

   This draft describe requirements of optical link-state information
   for traffic engineering to solve the RWA problem. Additional link-
   information extensions for LNWC network are presented.  By using the
   information, extensions of OSPF and RSVP-TE are proposed.

   In this draft, an optical link is used as a TE-link between neighbor
   OXCs or between neighbor OXC and a label switch router (LSR).  We
   refer OXC or LSR to a node. Component links (or ports), each of which
   may corresponding to a wavelength, in one or multiple fiber(s) are
   bundled into a TE-link [LINK-BUNDLE], where every wavelength
   information is aggregated.  Figure 1 shows an example of an optical
   network model.  OXC is used to refer to all categories of optical
   cross-connects, irrespective of the internal switching fabric.  The
   left side of OXC 1 has a 3R. The right side of OXC 1, both sides of
   OXC2, and LSR 2 have WDM functions. o-link 1 and o-link 2 are defined
   as a single TE-link that budles multiple componet links.


                 LSR 1 ----- OXC 1 ====== OXC 2  ====== LSR 2
                                   o-link 1      o-link 2



Oki                                                             [Page 2]





                    draft-oki-ipo-optlink-req-00.txt       February 2002


                Figure 1: Example of optical network model

2. Requirements of optical link-state information in LNWC network

   Since wavelength is limitedly or not converted into another
   wavelength in LNWC network, information which wavelength is reserved
   in a TE-link is necessary for traffic engineering. Note that
   wavelengths in more than one fiber are not considered to be bundled
   into a TE-link in LNWC network, because the same wavelengths in more
   than one fiber should be differently handled for a purpose of traffic
   engineering. Wavelength status to indicate which wavelength is
   reserved/unreserved in a TE-link.  The wavelength status is used to
   solve the RWA problem.

   However, opaque LSA sub-TLVs, which is defined in [OSPF-TE][GMPLS-
   OSPF], for a bundled TE-link between neighbor nodes do not express
   the wavelength status and not advertise it. Therefore, link-
   information extensions need to be added to achieve traffic
   engineering in LNWC network.

3. Label Definition for Corresponding Wavelength Value

   Wavelength value (e.g., 1550 nm) should be globally considered in
   LNWC network. For a purpose of the advertisement of wavelength status
   in a TE-link and signalling to set up an optical path, each
   wavelength value should be globally defined as a label in the LNWC
   network.

   There are several possible ways to assign a label to the
   corresponding wavelength value. One way to assign a label is to
   express the wavelength value itself (unit: nm) with 4 octets field in
   the IEEE floating point format. Another way is to use three types of
   integer parameters, which are wavebands (C, L, S), ITU grid spacing
   (e.g., 25, 50, and 100 GHz), and deviation from the reference center
   frequency of the corresponding waveband.

4. OSPF extensions

To indicate the wavelength status in a TE-link between neighbor nodes,
   there are two possible ways as follows.

4. 1 Explicit label scheme

   Labels corresponding wavelengths with indication bits to express the
   wavelength status in a TE-link between neighbor nodes are explicitly
   advertised. If the status of a wavelength is changed, the
   corresponding label with the indication bit are updated and
   advertised.  In the explicit label scheme, the information amount to



Oki                                                             [Page 3]





                    draft-oki-ipo-optlink-req-00.txt       February 2002


   advertise the wavelength status may be increased when the number of
   used labels are large.

4. 2 Bitmap scheme

   A set of labels that are used in LNWC network is advertised.
   Indication bits to express the wavelength status as a label set are
   advertised by using a bitmap format.  In the bitmap format, the
   indication bits appear in an increasing order with label values. If a
   value of the indication bit is 1, the label is reserved.  If a value
   of the indication bit is 0, the label is reserved.  Every time the
   status for each wavelength is changed, label values themselves do not
   need to be advertised. Instead of that, only the indication bits with
   the bitmap format are advertised.  When a set of the labels that are
   used in the LNWC network is updated, the updated set of the labels is
   advertised.

5. RSVP-TE extensions

5. 1 AND scheme

   When a path message attempts to set up an optical path at each
   source/transit OXC, it carries a set of unreserved labels that are
   unreserved through all the TE-links from the source OXC to the
   transit OXC. The label set is called an AND label set.  If there is
   at least a reserved label in a TE-link from the source OXC to the
   transit OXC, the label is excluded in the transit node from the AND
   set.  If there is no label in the AND set, the transit OXC should
   perform a wavelength conversion. Otherwise, the request of the
   optical path set-up is rejected.

   There are two possible ways to carry an AND label set of unreserved
   labels, the explicit label scheme and the bitmap scheme as described
   in Section 4.  The explicit label scheme is considered in [GMPLS-
   RSVP] as 'label set'.

5. 2 ALL scheme

   When a path message attempts to set up an optical path at each
   source/transit node, it carries a set of unreserved labels for all
   TE-links on an optical path. The label set is called an ALL label
   set.  A destination node receives the ALL label set and decides which
   labels should be used on the optical path. In the ALL scheme, the
   destination node has several options on which node should use a
   wavelength-conversion function if it is needed.

   There are two possible ways to carry a set of unreserved label, the
   explicit label scheme and the bitmap scheme in the same way as the



Oki                                                             [Page 4]





                    draft-oki-ipo-optlink-req-00.txt       February 2002


   AND scheme. Note that the ALL scheme carries each label set for all
   the TE-links on the optical path, while the AND scheme carries a
   label set for each optical path.

6. Requirements of optical link-state information in WC Network

   Since any wavelength can be converted into any wavelength at OXC,
   information which wavelength is reserved in a TE-link is not
   necessary. The number of wavelengths (NW) and the number of
   unreserved wavelengths (NUW) in a TE-link are used for traffic
   engineering.  For example, a least-loaded path finding algorithm is
   employed to find an appropriate optical path.

   The optical-link information in a TE-link between two neighbor nodes
   is advertised. Therefore, multiple ports of OXC, each of which is
   corresponding to each wavelength may be combined into a TE-link. In
   OSPF extensions, opaque LSA sub-TLVs includes maximum reservable
   bandwidth and unreserved bandwidth, which sub-TLV types are 7 and 8,
   respectively. NW and NUW are expressed by using maximum reservable
   bandwidth and unreserved bandwidth for a bundled TE-link between
   neighbor nodes in the following. .nf NW = maximum reservable
   bandwidth for a bundled TE-link
      = sum of maximum reservable bandwidth of all component links
   and
   NUW = unreservable bandwidth for a bundled TE-link
       = sum of unreservable bandwidth of all component links.
   Note that NW is not the number of wavelength in a fiber, but is the
   number of ports, in other words, wavelengths, of OXC in a TE-link.

   However, the units of the maximum reservable bandwidth and
   unreservable bandwidth are defined as byte per second [GMPLS-OSPF].
   Since the values of NUW and NW are independent of byte per second,
   the modification of the units or a sub-TLV definition is needed.

7. References

   [OSPF-TE] Katz, D., Yeung, D., "Traffic Engineering Extensions to
   OSPF", draft-katz-yeung-ospf-traffic-06.txt (work in progress)

   [GMPLS-OSPF] Kompella, K., Rekhter, Y., Banerjee, A. et al, "OSPF
   Extensions in Support of Generalized MPLS", draft-ietf-ccamp-ospf-
   gmpls-extensions-00.txt (work in progress)

   [GMPLS-SIG] "Generalized MPLS - Signaling Functional Description",
   draft-ietf-mpls-generalized-signaling-04.txt (work in progress)

   [GMPLS-RSVP] "Generalized MPLS Signaling - RSVP-TE Extensions",
   draft-ietf-mpls-generalized-rsvp-te-07.txt (work in progress)



Oki                                                             [Page 5]





                    draft-oki-ipo-optlink-req-00.txt       February 2002


   [GMPLS-ROUTING] "Routing Extensions in Support of Generalized MPLS",
   draft-ietf-ccamp-gmpls-routing-02.txt (work in progress)

   [LINK-BUNDLE] Kompella, K., Rekhter, Y., Berger, L., "Link Bundling
   in MPLS Traffic Engineering", draft-ietf-mpls-bundle-01.txt (work in
   progress)

8. Authors' Addresses

   Eiji Oki
   NTT Corporation
   3-9-11 Midori-cho,
   Musashino-shi, Tokyo 180-8585, Japan
   Email: oki.eiji@lab.ntt.co.jp

   Nobuaki Matsuura
   NTT Corporation
   3-9-11 Midori-cho,
   Musashino-shi, Tokyo 180-8585, Japan
   Email: matsuura.nobuaki@lab.ntt.co.jp

   Wataru Imajuku
   NTT Corporation
   1-1 Hikari-no-oka,
   Yokosuka, Kanagawa, 239-0847 Japan
   Email: imajyuku@exa.onlab.ntt.co.jp

   Kohei Shiomoto
   NTT Corporation
   3-9-11 Midori-cho,
   Musashino-shi, Tokyo 180-8585, Japan
   Email: shiomoto.kohei@lab.ntt.co.jp

   Naoaki Yamanaka
   NTT Corporation
   3-9-11 Midori-cho,
   Musashino-shi, Tokyo 180-8585, Japan
   Email: yamanaka.naoaki@lab.ntt.co.jp













Oki                                                             [Page 6]


