INTERNET DRAFT
Category: Standards                                 
Title: draft-mkhalil-ipv6-fastra-05.txt          James Kempf
Date: July 19, 2004                              DoCoMo Labs USA 
Expires: January 20, 2005                        Mohamed M Khalil
                                                 Nortel Networks
                                                 Brett Pentland
                                                 CTIE, Monash University
                                                    


                      IPv6 Fast Router Advertisement
                      draft-mkhalil-ipv6-fastra-05.txt


Status of this Memo

   By submitting this Internet-Draft, I certify that any applicable
   patent or other IPR claims of which I am aware have been disclosed,
   and any of which I become aware will be disclosed, in accordance with
   RFC 3668.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on January 20, 2005.

Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.


Abstract

   This document specifies an amendment to the router solicitation
   handling procedures in RFC 2461 that allow for improved default 
   router aquisition performance when an active IP host moves from
   one subnet to another.



Kempf, khalil, Pentland       Expires Jan 2005               [Page 1]


Internet Draft      IPv6 Fast Router Advertisement         Jul 2004


1.0 Introduction

   RFC 2461 [RFC2461] states that a router MUST delay a response to
   a Router Solicitation (RS) by a random time between 0 and
   MAX_RA_DELAY_TIME seconds. The idea behind MAX_RA_DELAY_TIME is
   if there is more than one router on the link, simultaneously 
   transmitted responses will collide if the routers try to answer
   the RS immediately, and, additionally, to avoid congestion when
   a link comes up and all hosts on the link solicit.
  
   The impact of this constraint on the performance of default 
   router aquisition for hosts that move between subnets can be
   severe. Consider a wireless link layer technology in which the
   mobile host gets a trigger from the link layer when the link
   comes up. The host can immediately send out a RS rather than 
   waiting for the periodically multicast Router Advertisement
   (RA), in order to optimize default router aquisition. However,
   if the router abides by RFC 2461, default router aquisition is
   delayed by some random amount, increasing the amount of time
   before the host comes up on the link and can get its traffic.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY" and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

2.0 Fast Router Advertisement

   To allow for faster response times in the processing of RSs,
   at most one router on any given link SHOULD be allowed to respond
   immediately to RSs sent by hosts on that link. Determination of 
   how this router is designated is outside the scope of this
   document. An RA that is immediately unicast to the sender rather
   than delayed is known as a "fast RA".

3.0 Processing Router Solicitations

   A router that is configured to provide fast RAs MUST maintain a
   counter, FastRACounter, of the fast RAs sent since the last
   unsolicited multicast RA was sent. when an RS is received, an
   RA MUST be sent immediately if:

                FastRACounter <= MAX_FAST_RAS

   where MAX_FAST_RAS is the maximum number of RAs returned before
   rolling over to multicast.

   A router SHOULD choose to unicast the response directly to the 
   soliciting host's address (if the solicitation's source address


Kempf, khalil, Pentland       Expires Jan 2005               [Page 2]


Internet Draft      IPv6 Fast Router Advertisement           Jul 2004


   is not the unspecified address), otherwise the router MUST schedule
   a multicast Router Advertisement in accordance with RFC 2461.

   When a fast RA is sent, FastRACounter MUST be incremented by one.
   By default, MAX_FAST_RAS is 10, but it SHOULD be configured 
   based on router capacity and expected mobile host solicitation load.

   When FastRACounter exceeds MAX_FAST_RAS, a multicast Router
   Advertisement SHOULD be scheduled for transmission as soon as
   possible subject to the restriction that the interval between
   multicast Router Advertisements not be less than
   MIN_DELAY_BEWTEEN_RAS. Any further Router Solicitations received
   after FastRACounter exceeds MAX_FAST_RAS and before sending the
   next multicast Router Advertisement MUST be discarded. The
   FastRACounter MUST be reset to zero after the next multicast Router
   Advertisement is sent and processing for fast Router Advertisement
   recommences.

4.0 Security Considerations

   RFC 2461 contains a possible vulnerability to a DoS attack from a
   host that bombards the router with RSs. Though the exact timing
   of the RA response is variable, the router is still required to
   respond with a unicast RA. As a consequence, a malicious host could
   tie a router up in responding to individually transmitted RSs. This
   document addresses this security vulnerability by limiting the
   upper bound of the Router Advertisement's response rate
   to (MAX_FAST_RAS+1)/MIN_DELAY_BETWEEN_RAS. 

5.0 IANA Considerations

   This document has no actions for IANA.

6.0 Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
   Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2461] Narten, T., Nordmark, E., and Simpson, W., "Neighbor 
   Discovery for IP Version 6 (IPv6)", RFC 2461, December, 1998.

Acknowledgements

    The authors would like to thank Erik Nordmark for his technical 
    feedback.





Kempf, khalil, Pentland       Expires Jan 2005               [Page 3]


Internet Draft      IPv6 Fast Router Advertisement         Jul 2004


Authors' Contact Information

   James Kempf 
   DoCoMo Communications Laboratories USA
   180 Metro Drive
   San Jose, CA
   95110
   Phone: +1 650 451 4711
   Email: kempf@docomolabs-usa.com

   Mohamed M Khalil     
   Nortel Networks Inc.
   2201 Lakeside Blvd  
   Richardson, TX 75082-4399 
   mkhalil@nortelnetworks.com

   Brett Pentland
   Centre for Telecommunications and Information Engineering
   PO Box 35
   Monash University 3800
   Australia
   Phone: +61 3 9905 5245
   Email: brett.pentland@eng.monash.edu.au


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Kempf, khalil, Pentland       Expires Jan 2005               [Page 4]


Internet Draft      IPv6 Fast Router Advertisement         Jul 2004


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




























Kempf, khalil, Pentland       Expires Jan 2005               [Page 5]
