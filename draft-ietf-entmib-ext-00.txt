



Draft                    Entity MIB Extensions                March 1998


                     <draft-ietf-entmib-ext-00.txt>
                         Entity MIB Extensions

                             12 March 1998


                              Andy Bierman
                           Cisco Systems Inc.
                           abierman@cisco.com

                            Keith McCloghrie
                           Cisco Systems Inc.
                             kzm@cisco.com





                          Status of this Memo


This document is an Internet-Draft.  Internet-Drafts are working
documents of the Internet Engineering Task Force (IETF), its areas, and
its working groups.  Note that other groups may also distribute working
documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any
time.  It is inappropriate to use Internet- Drafts as reference material
or to cite them other than as ``work in progress.''

To learn the current status of any Internet-Draft, please check the
``1id-abstracts.txt'' listing contained in the Internet- Drafts Shadow
Directories on ds.internic.net (US East Coast), nic.nordu.net (Europe),
ftp.isi.edu (US West Coast), or munnari.oz.au (Pacific Rim).


1.  Introduction

This memo defines an experimental portion of the Management Information
Base (MIB) for use with network management protocols in the Internet
community.  In particular, it describes managed objects used for
managing multiple logical and physical entities managed by a single SNMP
agent.






Bierman/McCloghrie       Expires September 1998                 [Page 1]





Draft                    Entity MIB Extensions                March 1998


2.  The SNMP Network Management Framework

The SNMP Network Management Framework presently consists of six major
components.  They are:

o    the overall architecture, described in RFC 2271 [RFC2271].

o    the SMI, described in RFC 1902 [RFC1902], - the mechanisms used for
     describing and naming objects for the purpose of management.

o    the MIB-II, STD 17, RFC 1213 [RFC1213], - the core set of managed
     objects for the Internet suite of protocols.

o    the protocol, RFC 1157 [RFC1157] and/or RFC 1905 [RFC1905] and/or
     RFC 2272 [RFC2272] -- the protocol for accessing managed
     information.

o    the user-based security model defined in RFC 2274 [RFC2274].

o    the view-based access control model defined in RFC 2275 [RFC2275].

Textual conventions are defined in RFC 1903 [RFC1903], and conformance
statements are defined in RFC 1904 [RFC1904].  Common applications are
defined in RFC 2273 [RFC2273].

The Framework permits new objects to be defined for the purpose of
experimentation and evaluation.

This memo specifies a MIB module that is compliant to the SNMPv2 SMI.  A
semantically identical MIB conforming to the SNMPv1 SMI can be produced
through the appropriate translation.


2.1.  Object Definitions

Managed objects are accessed via a virtual information store, termed the
Management Information Base or MIB.  Objects in the MIB are defined
using the subset of Abstract Syntax Notation One (ASN.1) defined in the
SMI.  In particular, each object type is named by an OBJECT IDENTIFIER,
an administratively assigned name.  The object type together with an
object instance serves to uniquely identify a specific instantiation of
the object.  For human convenience, we often use a textual string,
termed the descriptor, to refer to the object type.







Bierman/McCloghrie       Expires September 1998                 [Page 2]





Draft                    Entity MIB Extensions                March 1998


3.  Overview

There is a need for a standardized way of providing non-volatile,
administratively assigned identifiers for physical components
represented with the Entity MIB [RFC2037].  There is also a need to
align the Entity MIB with the SNMPv3 administrative framework [RFC2271].

This document defines extensions to the Entity MIB to address these
needs.


4.  Entity MIB Extensions

4.1.  MIB Structure

The Entity Extensions MIB contains two group:

  -  Entity Physical Extensions Group

  -  Entity Logical Extensions Group


4.1.1.  Entity Physical Extensions Group

This group contains a single table, called the entPhysicalXTable, which
augments the entPhysicalTable. Each entPhysicalXEntry provides a
writable string object, 'entPhysicalAlias', which can be used by an NMS
as a non-volatile  'alias' (or label) for the physical component.

The entPhysicalAlias object is different from the ifAlias version in
several ways:

  - SnmpAdminString SYNTAX
     The Interfaces MIB [RFC2233] version is defined as a DisplayString
     [RFC1903].  The Entity MIB [RFC2037] version is defined as an
     SnmpAdminString [RFC2271].

  - SIZE (0..32)
     The maximum length of the entPhysicalAlias string is half that of
     the ifAlias object.

  - MIN-ACCESS read-only
     Maintaining a non-volatile string for every physical component
     represented in the entPhysicalTable can be costly and unnecessary.
     An agent may choose to algorithmically generate entPhysicalAlias





Bierman/McCloghrie       Expires September 1998                 [Page 3]





Draft                    Entity MIB Extensions                March 1998


     strings for particular entries (based on the entPhysicalClass
     value).


4.1.2.  Entity Logical Extensions Group

This group contains a single table, called the entLogicalXTable, which
augments the entLogicalTable. Each entLogicalXEntry provides two read-
only strings identifying the contextEngineID and contextName [RFC2271].
These strings can be used in SNMPv3 PDUs [RFC2272] to access management
information held by the indicated SNMP agent, associated with each
logical entity.


4.2.  Definitions

ENTITY-EXTENSIONS-MIB DEFINITIONS ::= BEGIN

IMPORTS
    MODULE-IDENTITY, OBJECT-TYPE
        FROM SNMPv2-SMI
    MODULE-COMPLIANCE, OBJECT-GROUP
        FROM SNMPv2-CONF
    SnmpEngineID, SnmpAdminString
        FROM SNMP-FRAMEWORK-MIB
    entityMIBObjects, entPhysicalEntry, entLogicalEntry,
    entityCompliances, entityGroups, entityPhysicalGroup
        FROM ENTITY-MIB;

entityXMIB MODULE-IDENTITY
    LAST-UPDATED "9803110000Z"
    ORGANIZATION "IETF Entity MIB Working Group"
    CONTACT-INFO
       "IETF Entity MIB WG Mailing List
        WG Subscribe:
           majordomo@cisco.com
           message body: subscribe entmib
        WG Discussion:
           entmib@cisco.com
        WG Archive:
           ftp://ftpeng.cisco.com/ftp/entmib/entmib

        Andy Bierman
        Cisco Systems Inc.
        170 West Tasman Drive





Bierman/McCloghrie       Expires September 1998                 [Page 4]





Draft                    Entity MIB Extensions                March 1998


        San Jose, CA 95134
        408-527-3711
        abierman@cisco.com

        Keith McCloghrie
        Cisco Systems Inc.
        170 West Tasman Drive
        San Jose, CA 95134
        408-526-5260
        kzm@cisco.com"
    DESCRIPTION
            "The extension MIB module for physical entity information."
    ::= { experimental xx }

--
--  New Entity MIB Object Groups
--
entityPhysicalX  OBJECT IDENTIFIER ::= { entityMIBObjects 5 }
entityLogicalX   OBJECT IDENTIFIER ::= { entityMIBObjects 6 }

--  ***********************************************************
--
--     E N T I T Y     P H Y S I C A L    E X T E N S I O N S
--
--  ***********************************************************

-- entPhysicalTable extensions
entPhysicalXTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF EntPhysicalXEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
            "This table contains one row per physical element
            represented in the entPhysicalTable."
    ::= { entityPhysicalX 1 }

entPhysicalXEntry       OBJECT-TYPE
    SYNTAX      EntPhysicalXEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
            "Information about a particular physical entity."
    AUGMENTS   { entPhysicalEntry }
    ::= { entPhysicalXTable 1 }






Bierman/McCloghrie       Expires September 1998                 [Page 5]





Draft                    Entity MIB Extensions                March 1998


EntPhysicalXEntry ::= SEQUENCE {
      entPhysicalAlias          SnmpAdminString
}

entPhysicalAlias    OBJECT-TYPE
    SYNTAX      SnmpAdminString (SIZE (0..32))
    MAX-ACCESS  read-write
    STATUS      current
    DESCRIPTION
            "This object is an 'alias' name for the physical entity as
            specified by a network manager, and provides a non-volatile
            'handle' for the physical entity.

            On the first instantiation of an physical entity, the value
            of entPhysicalAlias associated with that entity is set to
            the zero-length string. An agent may instead choose to set
            the value to a locally unique default value instead of a
            zero-length string.

            If write access is implemented for an instance of
            entPhysicalAlias, and a value is written into the instance,
            the agent must retain the supplied value in the
            entPhysicalAlias instance associated with the same physical
            entity for as long as that entity remains instantiated,
            including across all re-initializations/reboots of the
            network management system, including those which result in a
            change of the physical entity's entPhysicalIndex value."
    ::= { entPhysicalXEntry 1 }

--  ***********************************************************
--
--     E N T I T Y     L O G I C A L    E X T E N S I O N S
--
--  ***********************************************************

-- entLogicalTable extensions
entLogicalXTable OBJECT-TYPE
    SYNTAX      SEQUENCE OF EntLogicalXEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
            "This table contains one row per logical entity represented
            in the entLogicalTable."
    ::= { entityLogicalX 1 }






Bierman/McCloghrie       Expires September 1998                 [Page 6]





Draft                    Entity MIB Extensions                March 1998


entLogicalXEntry       OBJECT-TYPE
    SYNTAX      EntLogicalXEntry
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION
            "Information about a particular logical entity."
    AUGMENTS   { entLogicalEntry }
    ::= { entLogicalXTable 1 }

EntLogicalXEntry ::= SEQUENCE {
      entLogicalContextEngineID      SnmpEngineID,
      entLogicalContextName          SnmpAdminString
}

entLogicalContextEngineID    OBJECT-TYPE
    SYNTAX      SnmpEngineID
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
            "The contextEngineID that can be used to send an SNMPv3
            message concerning information held by this logical entity,
            to the address specified by the associated
            'entLogicalTAddress/entLogicalTDomain' pair."
    ::= { entLogicalXEntry 1 }

entLogicalContextName    OBJECT-TYPE
    SYNTAX      SnmpAdminString
    MAX-ACCESS  read-only
    STATUS      current
    DESCRIPTION
            "The contextName that can be used to send an SNMPv3 message
            concerning information held by this logical entity, to the
            address specified by the associated
            'entLogicalTAddress/entLogicalTDomain' pair."
    ::= { entLogicalXEntry 2 }

-- conformance information
-- compliance statements

entityPhysicalXCompliance MODULE-COMPLIANCE
    STATUS  current
    DESCRIPTION
            "The compliance statement for SNMP entities which implement
            the Entity MIB PhysicalX Extensions.
    MODULE  -- this module





Bierman/McCloghrie       Expires September 1998                 [Page 7]





Draft                    Entity MIB Extensions                March 1998


        MANDATORY-GROUPS {
                entityPhysicalGroup,
                entityPhysicalXGroup
        }

        OBJECT entPhysicalAlias
        MIN-ACCESS   read-only
        DESCRIPTION
                      "Write access is required if the associated
                      entPhysicalClass value is equal to 'chassis(3)'.
                      Otherwise, write access is not required."
    ::= {  entityCompliances 2 }

entityLogicalXCompliance MODULE-COMPLIANCE
    STATUS  current
    DESCRIPTION
            "The compliance statement for SNMP entities which implement
            the Entity MIB LogicalX Extensions.
    MODULE  -- this module
        MANDATORY-GROUPS {
                entityLogicalGroup,
                entityLogicalXGroup
        }
    ::= {  entityCompliances 3 }


-- MIB groupings
entityPhysicalXGroup    OBJECT-GROUP
    OBJECTS {
        entPhysicalAlias
    }
    STATUS  current
    DESCRIPTION
            "The collection of objects which are used to represent
            extended physical component information for which a single
            agent provides management information."
    ::= { entityGroups 6 }

entityLogicalXGroup    OBJECT-GROUP
    OBJECTS {
        entLogicalContextEngineID,
        entLogicalContextName,
    }
    STATUS  current
    DESCRIPTION





Bierman/McCloghrie       Expires September 1998                 [Page 8]





Draft                    Entity MIB Extensions                March 1998


            "The collection of objects which are used to represent
            extended logical entity information for which a single agent
            provides management information."
    ::= { entityGroups 7 }

END












































Bierman/McCloghrie       Expires September 1998                 [Page 9]





Draft                    Entity MIB Extensions                March 1998


5.  References

[RFC1157]
     Case, J., M. Fedor, M. Schoffstall, J. Davin, "Simple Network
     Management Protocol", RFC 1157, SNMP Research, Performance Systems
     International, MIT Laboratory for Computer Science, May 1990.

[RFC1213]
     McCloghrie, K., and M. Rose, Editors, "Management Information Base
     for Network Management of TCP/IP-based internets: MIB-II", STD 17,
     RFC 1213, Hughes LAN Systems, Performance Systems International,
     March 1991.

[RFC1902]
     SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Structure of Management Information for version 2
     of the Simple Network Management Protocol (SNMPv2)", RFC 1902,
     January 1996.

[RFC1903]
     SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Textual Conventions for version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC 1903, January 1996.

[RFC1904]
     SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Conformance Statements for version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC 1904, January 1996.

[RFC1905]
     SNMPv2 Working Group, Case, J., McCloghrie, K., Rose, M., and
     S. Waldbusser, "Protocol Operations for version 2 of the Simple
     Network Management Protocol (SNMPv2)", RFC 1905, January 1996.

[RFC2037]
     McCloghrie, K., Bierman, A., "Entity MIB using SMIv2", RFC 2037,
     Cisco Systems, October 1996.

[RFC2233]
     McCloghrie, K., and Kastenholtz, F., "Interfaces Group Evolution",
     RFC 2233, Cisco Systems, FTP Software, November 1997.

[RFC2271]
     Harrington D., Presuhn, R., Wijnen, B., "An Architecture for
     Describing SNMP Management Frameworks", RFC 2271, Cabletron





Bierman/McCloghrie       Expires September 1998                [Page 10]





Draft                    Entity MIB Extensions                March 1998


     Systems, BMC Software, Inc., IBM T.J. Watson Research, January
     1998.

[RFC2272]
     Harrington D., Presuhn, R., Wijnen, B., "Message Processing and
     Dispatching for the Simple Network Management Protocol (SNMP)", RFC
     2272, Cabletron Systems, BMC Software, Inc., IBM T.J. Watson
     Research, January 1998.

[RFC2273]
     Levi D., Meyer P., Stewart, B., "SNMPv3 Applications", RFC 2273,
     SNMP Research, Inc., Secure Computing Corporation, Cisco Systems,
     January 1998.

[RFC2274]
     Blumenthal, U., Wijnen, B., "User-based Security Model (USM) for
     version 3 of the Simple Network Management Protocol (SNMPv3)", RFC
     2274, IBM T. J. Watson Research, January 1998.

[RFC2275]
     Wijnen, B., Presuhn, R., McCloghrie, K., "View-based Access Control
     Model (VACM) for the Simple Network Management Protocol (SNMP)",
     RFC 2275, IBM T.J. Watson Research, BMC Software, Inc., Cisco
     Systems, Inc., January 1998.


























Bierman/McCloghrie       Expires September 1998                [Page 11]





Draft                    Entity MIB Extensions                March 1998


6.  Security Considerations

No additional security concerns are introduced due to implementation of
this MIB module.  Refer to RFC 2037 [RFC2037] for information on any
security issues related to the Entity MIB.


7.  Author's Address

     Andy Bierman
     Cisco Systems, Inc.
     170 West Tasman Drive
     San Jose, CA 95134
     Phone: 408-527-3711
     Email: abierman@cisco.com

     Keith McCloghrie
     Cisco Systems, Inc.
     170 West Tasman Drive
     San Jose, CA 95134
     Phone: 408-526-5260
     Email: kzm@cisco.com




























Bierman/McCloghrie       Expires September 1998                [Page 12]





Draft                    Entity MIB Extensions                March 1998


Table of Contents


1 Introduction ....................................................    1
2 The SNMP Network Management Framework ...........................    2
2.1 Object Definitions ............................................    2
3 Overview ........................................................    3
4 Entity MIB Extensions ...........................................    3
4.1 MIB Structure .................................................    3
4.1.1 Entity Physical Extensions Group ............................    3
4.1.2 Entity Logical Extensions Group .............................    4
4.2 Definitions ...................................................    4
5 References ......................................................   10
6 Security Considerations .........................................   12
7 Author's Address ................................................   12



































Bierman/McCloghrie       Expires September 1998                [Page 13]

