INTERNET DRAFT                                               James Kempf
Category: Standards Track                                 Pat R. Calhoun
Title: draft-calhoun-mobileip-proactive-fa-00.txt Sun Microsystems, Inc.
Date: January 2000



                    Foreign Agent Assisted Hand-off



Status of this Memo

   This document is an individual contribution for consideration by the
   Mobile IP Working Group of the Internet Engineering Task Force.
   Comments should be submitted to the diameter@ipass.com mailing list.

   Distribution of this memo is unlimited.

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.  Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at:

      http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at:

      http://www.ietf.org/shadow.html.

   Copyright   (C) The Internet Society 1999.  All Rights Reserved.


Abstract

   The Mobile IP WG has been investigating how its protocol can be used
   in environments that require fast hand-off, especially important for
   real-time applications such as voice and video.  Certain link layers,
   such as those used in cellular networks, allow for the measurement of
   signal strength, which is typically used to determine when a hand-off



Calhoun, Kempf             expires July 2000                    [Page 1]





INTERNET DRAFT                                              January 2000


   is required. This specification defines extensions to the Mobile IP
   protocol, which allows the Foreign Agent to send an unsolicited
   message to the Mobile Node, requesting that the Mobile Node register
   with a new Foreign Agent.


Table of Contents

      1.0  Introduction
            1.1  Requirements language
      2.0  Operation
            2.1  Foreign Agent Considerations
            2.2  Mobile Node Considerations
      3.0  Mobile Node Hand-Off Request
      4.0  Acknowledgements
      5.0  IANA Considerations
      6.0  Security Considerations
      7.0  References
      8.0  Authors' Addresses
      9.0  Full Copyright Statement


1.0  Introduction

   The Mobile IP WG has been investigating how its protocol can be used
   in environments that require fast hand-off, especially important for
   real-time applications such as voice and video [2].  Certain link
   layers, such as those used in cellular networks, allow for the
   measurement of signal strength, which is typically used to determine
   when a hand-off is required [3].

   The Mobile IP protocol [1] currently requires that a Mobile Node
   listen for advertisements in order to detect that a hand-off is
   required, which can delay the hand-off. Furthermore, it is
   questionable whether advertisements are appropriate in a network
   whose bandwidth is considered scarce, such as the cellular networks.
   This specification defines extensions to the Mobile IP protocol [1],
   that allows the Foreign Agent to send an unsolicited message to the
   Mobile Node, requesting that the Mobile Node register with a new
   Foreign Agent.


1.1  Requirements language

   In this document, the key words "MAY", "MUST, "MUST NOT", "optional",
   "recommended", "SHOULD", and "SHOULD NOT", are to be interpreted as
   described in [4].




Calhoun, Kempf             expires July 2000                    [Page 2]





INTERNET DRAFT                                              January 2000


2.0  Operation

   This section describes modifications to the Mobile IP protocol used
   when the Foreign Agent determines that the Mobile Node could be
   better served by another Foreign Agent within it's network.


2.1  Foreign Agent Considerations

   When the Foreign Agent detects that a Mobile Node could be better
   served through another Foreign Agent, it issues a Binding Update
   message [5] to the new Foreign Agent, informing it that it should
   inform the Mobile Node to send a Registration Request.  The Binding
   Update contains the Mobile Node's home address, the security
   association it shares with the Mobile Node and it's Home Agent. Note
   that the mechanism used by the FA to make the determination that the
   Mobile Node should hand-off is outside the scope of this
   specification.

                           +-----+
                           | oFA |
                           +-----+
                 hand-off     |
          +----+ request      | Binding   +----+
          | MN |<-----------\ | Update    | HA |
          +----+            | |           +----+
             |              | v             ^
          Reg|            +-----+           |
          Req \---------->| nFA |-----------/
                          +-----+   Reg Req
                        Figure 1 - Mobile Node hand-off

   Upon receipt of the Binding Update, the new Foreign Agent issues a
   hand-off request to the Mobile Node, which includes the MN-FA
   authentication extension, using the MN-FA security association
   information received in the Binding Update. The hand-off request MAY
   be retransmitted periodically until the Mobile Node's Registration
   Request is received. The new Foreign Agent does the normal
   registration message processing, including adding the FA-HA
   authentication extension.

   During this time, the HA still sends the Mobile Node's packets to the
   old Foreign Agent, which are still delivered to the Mobile Node (if
   possible), or forwarded to the new Foreign Agent for future delivery
   (if necessary).

   Upon receipt of the Home Agent's Registration Reply, the new Foreign
   Agent forwards the message to the Mobile Node, while issuing the



Calhoun, Kempf             expires July 2000                    [Page 3]





INTERNET DRAFT                                              January 2000


   Binding Response to the old Foreign Agent. This message MAY be used
   by the old Foreign Agent to clean up resources it had allocated to
   the Mobile Node.


2.2  Mobile Node Considerations

   Upon receipt of the hand-off request from a new Foreign Agent, the
   Mobile Node SHOULD still accept data packets from the old Foreign
   Agent, until the Registration Reply has been received. The hand-off
   request SHOULD include the MN-FA Authentication Extension [1], using
   a pre-established security association, or the SA it shared with the
   old Foreign Agent.


3.0  Mobile Node Hand-Off Request

   The UDP header is followed by the Mobile IP fields shown below:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |S|B|D|M|G|V|rsv|          Lifetime             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Home Address                         |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Previous Foreign Agent                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       New Foreign Agent                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   +                         Identification                        +
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Extensions ...
   +-+-+-+-+-+-+-+-

      Type     TBD (Hand-off Request)

      S        Simultaneous bindings MUST be set to zero.

      B        Broadcast datagrams MUST be set to zero.

      D        Decapsulation by mobile node MUST be set to zero.

      M        Minimal encapsulation is set if the Foreign Agent
               supports minimal encapsulation.




Calhoun, Kempf             expires July 2000                    [Page 4]





INTERNET DRAFT                                              January 2000


      G        GRE encapsulation is set if the Foreign Agent supports
               GRE encapsulation.

      V        Set to zero.

      rsv      Reserved bits; sent as zero

      Lifetime The maximum lifetime the Foreign Agent will accept in the
               Mobile Node's registration request. A value of 0xffff
               indicates infinity.

      Home Address
               The IP address of the mobile node.

      Previous Foreign Agent
               The IP address of the previous Foreign Agent.

      New Foreign Agent
               The IP address for the new Foreign Agent.

      Identification
               A 64-bit field that is set to zero.

      Extensions
               The fixed portion of the Hand-off Request is followed by
               one or more Mobile IP Extensions. The Mobile-Foreign
               Authentication Extension SHOULD be included in all Hand-
               off Requests.


4.0  Acknowledgements

   The authors would like to thank Charles Perkins for his valuable
   feedback.


5.0  IANA Considerations

   This specification introduces a new value in the Mobile IP type
   field.  This value MUST NOT conflict with values specified in [1], or
   any other Mobile IP extension document.


6.0  Security Considerations

   This specification introduces a new Mobile IP message sent by a new
   Foreign Agent to request that a Mobile Node register with it.  It is
   highly recommended that the Hand-off Request message include a



Calhoun, Kempf             expires July 2000                    [Page 5]





INTERNET DRAFT                                              January 2000


   Mobile-Foreign Authentication Extension to avoid malicious hosts
   sending such messages to mobiles.


7.0  References

   [1] C. Perkins, Editor. "IP Mobility Support". RFC 2002. October
        1996.
   [2] T. Hiller et al. "Cdma2000 Wireless Data Requirements for AAA".
        draft-hiller-cdma2000-AAA-00.txt (work in progress). October
        1999.
   [3] U. Black. "2nd Generation Wireless Networks". Prentice-Hall.  New
        York. 1999.
   [4] S. Bradner. "Key words for use in RFCs to Indicate Requirement
        Levels". BCP 14. RFC 2119. March 1997.
   [5] C. Perkins and D. Johnson. "Route Optimization in Mobile IP".
        draft-ietf-mobileip-optim-08.txt (work in progress). Feburary
        1999.


8.0  Authors' Addresses

   Questions about this memo can be directed to:

      James Kempf
      Network and Security Research Center, Sun Labs
      Sun Microsystems, Inc.
      15 Network Circle
      Menlo Park, California, 94025
      USA

       Phone:  1-650-786-7733
         Fax:  1-650-786-6445
      E-mail:  james.kempf@eng.sun.com


      Pat R. Calhoun
      Network and Security Research Center, Sun Labs
      Sun Microsystems, Inc.
      15 Network Circle
      Menlo Park, California, 94025
      USA

       Phone:  1-650-786-7733
         Fax:  1-650-786-6445
      E-mail:  pcalhoun@eng.sun.com





Calhoun, Kempf             expires July 2000                    [Page 6]





INTERNET DRAFT                                              January 2000


9.0  Full Copyright Statement

   Copyright (C) The Internet Society (1999).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English. The limited permissions granted above are perpetual and will
   not be revoked by the Internet Society or its successors or assigns.
   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."



























Calhoun, Kempf             expires July 2000                    [Page 7]


