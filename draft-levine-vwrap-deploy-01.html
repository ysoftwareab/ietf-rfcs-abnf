<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>VWRAP Deployment and trust
    patterns</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="VWRAP Deployment and trust
    patterns">
<meta name="keywords" content="template">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">VWRAP</td><td class="header">D. Levine, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">IBM Thomas J. Watson Research</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">Center</td></tr>
<tr><td class="header">Expires: August 28, 2010</td><td class="header">February 24, 2010</td></tr>
</table></td></tr></table>
<h1><br />VWRAP Deployment and trust
    patterns<br />draft-levine-vwrap-deploy-01</h1>

<h3>Abstract</h3>

<p>Architectural layering, patterns and trust points for VWRAP
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 28, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Requirements Language<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction<br />
<a href="#anchor3">3.</a>&nbsp;
Virtual Worlds Overview<br />
<a href="#anchor4">4.</a>&nbsp;
Mechanisms, Services, Domains, Policy<br />
<a href="#anchor5">5.</a>&nbsp;
Servers, Services, Mechanisms and Named entities<br />
<a href="#anchor6">6.</a>&nbsp;
Mechanisms and Messages<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">6.1.</a>&nbsp;
idempotency and transport reliability<br />
<a href="#anchor8">7.</a>&nbsp;
Deployment patterns<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">7.1.</a>&nbsp;
Second Life Agent Domain / Region Domain Split<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">7.2.</a>&nbsp;
Standalone OpenSim Region model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">7.3.</a>&nbsp;
OpenSim VWRAP + Asset reflector + Agent Service<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">7.4.</a>&nbsp;
OpenSim UGAIM grid model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">7.5.</a>&nbsp;
Hypergrid<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">7.6.</a>&nbsp;
Hypergrid and Cable Beach<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">7.7.</a>&nbsp;
Multi-hosted asset deployment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">7.8.</a>&nbsp;
Factored Service Models<br />
<a href="#anchor17">8.</a>&nbsp;
Possible Domain definitions<br />
<a href="#anchor18">9.</a>&nbsp;
Trust and policy issues<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">9.1.</a>&nbsp;
Policy Requirements<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">9.2.</a>&nbsp;
Grid Access authentication<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">9.3.</a>&nbsp;
Content Management<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">9.3.1.</a>&nbsp;
content flows through VWs<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">9.3.1.1.</a>&nbsp;
Content delivery models<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">9.3.1.2.</a>&nbsp;
multiple representations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">9.4.</a>&nbsp;
Content Metadata<br />
<a href="#IANA">10.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">11.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#app-additional">Appendix&nbsp;A.</a>&nbsp;
Additional Stuff<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction</h3>

<p>This draft is an extension and follow on draft to OGPX layering and
      architectural patterns, draft-levine-ogp-layering-00
</p>
<p>This note focuses on design patterns and architectural choices which
      will permit the VWRAP specifications to adapt to a wide range of
      deployment patterns, within the basic VWRAP remit, and support the use
      of policy to permit the architecture to enable virtual spaces with very
      different policies toward security, intellectual property, identity, and
      economics to share common infrastructure and to inter operate in a
      principled fashion.
</p>
<p>This draft includes patterns for assembling VWRAP services into
      usable systems and patterns for alternative implementations of various
      VWRAP services to allow varying approaches to service and content
      delivery. This draft is intended to focus attention on the service
      design choices which will allow a single specification to support a
      range of deployed services.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Virtual Worlds Overview</h3>

<p>To clarify the nature of the VWRAP specifications, a brief summary of
      what is meant by a virtual world and how the VWRAP specification
      approaches creating a virtual world.
</p>
<p>A virtual world is a shared space in which users, represented as
      avatars can interact with each other and a simulated environment. VWRAP
      focuses on a set of virtual worlds with persistent simulations, rich
      visual components and common approach to simulation. This approach
      follows the general pattern established by Linden Lab(TM)'s Second Life
      offering.
</p>
<p>The core task of a virtual world is to create the shared experience
      of multiple users interacting in a simulated space. Actions by users,
      and changes in the state of the shared experience are merged to form a
      series of successive states which are presented to users. VWRAP virtual
      worlds approach this task by creating a region which manages the shared
      simulation, and defining how various services collaborate to allow
      clients to join the simulation, interact with it, and receive the
      information they need in order to present the shared environment to
      their users.
</p>
<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
User1           User2
   |                  |
Client1         Client2
     \               /
      \            /
     VWRAP Services
(Region + other)

</pre></div><p>

</p>
<p>Effectively the two users connected via a pair of clients use the
      services defined by the VWRAP specifications to experience a virtual
      world.
</p>
<p>The VWRAP specifications focus on defining the services and
      interaction patterns required to permit a client to:
</p>
<p></p>
<ul class="text">
<li>Authenticate and establish an association with an initial service
          point
</li>
<li>Request that an avatar associated with the user be placed into a
          virtual region
</li>
<li>Be informed of the state of a virtual space when they enter
          it
</li>
<li>Be informed of changes to the state of the virtual space as they
          occur
</li>
<li>Inform the virtual space of actions the user is taking
</li>
<li>Interact with services which store items to be introduced into
          the virtual space
</li>
<li>Interact with other users in the virtual world
</li>
<li>Interact with administrative services within the virtual
          space
</li>
</ul>

<p>The VWRAP specifications also describe the services and interaction
      patterns between services which permit:
</p>
<p></p>
<ul class="text">
<li>Virtual Spaces to fetch and store virtual items
</li>
<li>Manage the location of users within virtual spaces (presence)
</li>
<li>Manage message delivery to remote users within virtual spaces
</li>
<li>Provide externalized interfaces to items and users within virtual
          spaces
</li>
</ul>

<p>Note: The above lists are not intended to be exhaustive. However, if
      any major services which are going to be defined by VWRAP are missing,
      they should be noted and added.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Mechanisms, Services, Domains, Policy</h3>

<p>When completed, the VWRAP specifications will define:
</p>
<p></p>
<ul class="text">
<li>a set of underlying service delivery mechanisms
</li>
<li>a set of services delivered over these mechanisms
</li>
<li>clusters of related services, called domains
</li>
<li>mechanisms to apply policy to specific services
</li>
</ul>

<p>The model of "domain" is not fully defined in the current
      specifications. Several possible approaches to defining "domains" or
      "clusters" are described here, in hope of stimulating agreement on a
      concise definition.
</p>
<p>The most commonly mentioned partition of services into domains is the
      split between "agent" and "region" domains proposed by Linden Lab. This
      partition separates services associated with the user's identity and
      information, the "agent domain," from services associated with virtual
      space, the "region domain"
</p>
<p>In order to discuss patterns of clustering and service delivery, it
      is necessary to discuss what is mean by "domain" and also look more
      deeply into both the notions of a cluster of services, and also discuss
      possible deployment patterns
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Servers, Services, Mechanisms and Named entities</h3>

<p>In order to avoid confusion, in this note, we will define a number of
      terms very precisely:
</p>
<p></p>
<ul class="text">
<li>Service: a named set of REST style resources which accepts a
          series of messages to perform a task. We explicitly do not mean a
          deplSuoyed service such as the Second Life(tm) service. Services are
          model using REST semantics. The specifications explicitly decouple
          service semantics from HTTP delivery.
</li>
<li>Region: A named portion of virtual space. A Region is
          addressable, via a URI and manages a portion of simulated space.
          Regions are not bound onto specific computational models. From the
          perspective of the protocol, the address and services provided
          defines the region.
</li>
<li>Agent: The state and services representing a user within the
          virtual world
</li>
<li>Policy: A described behavior of a service within the VWRAP
          specifications.
</li>
<li>Avatar: A visual representation of an Agent within the virtual
          world.
</li>
<li>Asset: A set of digital content for use in VWRAP. An asset may have
            presentation data, simulation data and meta data. Simulatoin data is used in
           the procerss of simulating the content. It might include a script, physical properties of
          an item for smiulatoin purposes, a collision meshor similar simulation focused items.
          Presentation data is used  by the client to present the asset to end users.Textures,
	       sounds, animtations, and meshes are examples of presentatoin data. 
          meta data is used to describe and manage the asset. Licenses, author data,
          descriptive data for accessability are examples of meta-data 
</li>
<li>Primitive Object: A data structure describing a visual component
          in a simulation. Historically these have been constructive geometric
          objects in Second Life like worlds, but the VWRAP specifications
          assume that the set of defined primitive objects will grow to
          included meshes and other low geometric formats. Primitive objects
          can be assembled into larger compound objects.
</li>
<li>Simulation: The process of modeling the elements of a virtual
          region. The computational processing which creates a series of
          successive scenes containing the Avatars, and Assets within a
          region.
</li>
<li>Delivery Mechanism: A web service, or structured LLIDL/LLSD message used
          to request a service or deliver a notification of a status change in
          a resource.
</li>
</ul>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Mechanisms and Messages</h3>

<p>In order to support the full set of use cases, the VWRAP
      specifications model several types of interaction.
</p>
<p>Many interactions are modeled via simple REST based capabilities,
      where the client or a service invokes a direct service to get data or
      cause an action to take place. Examples include fetching a virtual asset
      or requesting information about a virtual resource.
</p>
<p>Some VWRAP interactions establish an ongoing delivery of messages. As
      an example, when an agent is placed in a virtual region, a series of
      updates, informing the client of status changes in the region is
      implicit in the virtual world model. There are a number of possible
      models for delivering the status updates, including having the client
      fetch repeated complete documents containing the state of the region. In
      practice, it is far more efficient to only send changed elements.
      Notionally, these updates can be pushed or pulled.
</p>
<p>Some VWRAP interactions are very low level, with low latency and
      small size. Actions such as an avatar taking a step, a user changing the
      current position of an object in a shared space, text chat and so on.
      These actions often are very "event like." Event like messages can be
      delivered several ways. The current implementations tend to deliver
      these messages via UDP, although some event notifications are fetched
      via polled queues.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
idempotency and transport reliability</h3>

<p>For both ongoing notification and low level "event" like messages,
        Idem potency and Reliability become important considerations. A
        significant simplification can be achieved if event like messages
        don't require reliable delivery. Making such messages idempotent
        (Meaning repeated processing does not change the state of the resource
        more than once) simplifies re-sending messages. Designing the messages
        so that a series of messages, delivered out of order can be processed
        by discarding late messages also simplifies unreliable transport. In
        particular, the choice of "step forward at time X" vs. "Step forward
        from position X,Y,Z at time X" means that in the former, one has to
        reliably deliver all the step messages, where as in the later, one can
        skip a step message, or repeat it, and the resulting state will be the
        same.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Deployment patterns</h3>

<p>To motivate the discussion, we will describe several non normative
 deployment
      patterns for VWRAP based systems. Each of these deployment patterns
      should be viewed as a use case for the VWRAP specifications. The
      specifications should provide sufficient expressivity of service
      endpoints, and trust boundaries to support each of the described
      patterns.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.1"></a><h3>7.1.&nbsp;
Second Life Agent Domain / Region Domain Split</h3>

<p>This deployment pattern represents the pattern Linden Lab proposed
        in its initial discussions on second generation architecture in 2007.
        It offloads any services which are not germane to managing a virtual
        space to an "agent" domain, focused, on the services which are
        specific, not to the virtual space, but the user's agent.
</p>
<p>In this pattern, the viewer is typically connected to one or more
        regions, and one agent domain. The agent domain acts as a unitary
        focus for all services associated with the agent. When accessing other
        services hosted by a deployer other than the hoster of the agent
        domain, the agent domain acts as the trust source, managing the agent
        (and user's) access to other regions.
</p>
<p>In this deployment pattern, back end services, such as assets and
        inventory are accessed via the agent domain, do not, inherently have
        their own event queue or trust domain.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.2"></a><h3>7.2.&nbsp;
Standalone OpenSim Region model</h3>

<p>In the Standalone OpenSim deployment model, all of the services
        comprising a Region, an Agent Domain, and the supporting services used
        by these services are hosted on a single server. A single event queue
        may manage connectivity to the services, or several event queues, with
        the services being hosted as separate processes within the server.
</p>
<p>Historically, a standalone OpenSim represents a single fully
        trusted domain, where there are no separate trust components or
        policies.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.3"></a><h3>7.3.&nbsp;
OpenSim VWRAP + Asset reflector + Agent Service</h3>

<p>In this deployment pattern, one or more OpenSim regions are hosted,
        each as a separate server. An separate agent domain acts as the trust
        authority, and login component for the deployment. Inventory and Asset
        requests are reflected from individual regions to asset and inventory
        services, hosted either in a standalone fashion, or as part of an
        OpenSim region.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.4"></a><h3>7.4.&nbsp;
OpenSim UGAIM grid model</h3>

<p>This is the current (Soon to be deprecated) OpenSim Grid model. In
        this model, a separate login service (not an agent domain) is hosted
        on one server ans a collection of backed services are shared by one or
        more Region Simulators. The entire grid forms a single trust
        model.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.5"></a><h3>7.5.&nbsp;
Hypergrid</h3>

<p>In this model, each Region is hosted in either Standalone, or UGAIM
        style Grid mode. Specific links between regions are created, which
        define a two way mapping, permitting users to move their avatars
        between the regions. Service requests related to the back end services
        for these avatars are directed back to the originating service. Trust,
        if any is established in the process of creating the explicit link
        between the regions.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.6"></a><h3>7.6.&nbsp;
Hypergrid and Cable Beach</h3>

<p>
     Hypergrid can be combined with cable beach, so that assets are
    fetched directly from a shared asset server. Trust between the
    asset server, the regions, and the user is managed by the
    client directly. 
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.7"></a><h3>7.7.&nbsp;
Multi-hosted asset deployment</h3>

<p>This is a case in which there are multiple back ends supporting
        multiple sets of assets. Trust is established either per the Agent
        Domain model, between services, and the agent's agent domain, or
        between regions, in hpyergrid fashion, or directly between the client
        and the asset services, per the cable beach model.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7.8"></a><h3>7.8.&nbsp;
Factored Service Models</h3>

<p>There is nothing inherent in the requirements of a virtual world
        deployment that specific back end services be clustered into two
        domains, nor that a single server or logical endpoint host all of the
        services which comprise a deployment. Cloud deployed services may be
        used to host part or all of a VWRAP deployment. In such a deployment
        model, services deployed within a cloud may deploy one or more event
        queue endpoints or service and trust endpoints to connect to
        clients.
</p>
<p>Factoring of services is not exclusive to back end services, the
        agent domain, or regions. Deployment models in which regions share
        services, or in which the services comprising a region are deployed on
        a distributed computing fabric should be supported.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Possible Domain definitions</h3>

<p>Given the above set of deployment patterns several possible ways of
      usefully defining "domain" seem possible.
</p>
<p>One could conclude that the specification should ignore domain as a
      structuring concept and instead focus on describing the services needed
      to deliver the desired results, and allow domain patterns to be entirely
      deployment artifacts.
</p>
<p>One could focus on shared infra structural elements. In such a model
      domains might be defined by sharing a common set of seed caps, or a
      common event queue.
</p>
<p>Security and administration form another possible way of delineating
      domains. It is unclear if this differs in a meaningful way from the
      first choice, as administrative domains tend to be purely artifacts of
      deployers.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Trust and policy issues</h3>

<p>Policy, in VWRAP is a deployer chosen set of constraints filtering
      the behavior of a service. A policy may require a user to have presented
      a proof token before using a service. VWRAP does not provide an policy
      expression language, nor does VWRAP mandate specific policies. VWRAP's
      support of policies is limited to providing the mechanisms for services
      to include added content needed in support of policy decisions, and to
      reflect the results of policy decisions to the invokers of services.
      This level of support permits a graceful degradation of service when a
      policy limits the use of a service, and follows the web practice of
      separating mechanism from policy.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Policy Requirements</h3>

<p>Policy decisions may be made by services on the basis of:
</p>
<p></p>
<ul class="text">
<li>End user identity token
</li>
<li>Requesting Service identity token
</li>
<li>Service specific token (Proof of license, proof of TOS
            signature, etc.)
</li>
</ul>

<p>In order to permit policy decisions to be made by services, a
        number of token may presented to the service. These tokens will likely
        be supported as optional additions to the protocols, inserted in slots
        in the protocol messages defined by the services. This permits
        services to optionally require additional inputs in order to satisfy
        their policy requirements in a predictable and principled fashion.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2"></a><h3>9.2.&nbsp;
Grid Access authentication</h3>

<p>One policy choice grid deployers may make, is to require a login or
        authentications to be made to the grid's authentication service or
        agent domain. Several emerging Internet approaches, such as openId or
        OAuth are possible mechanisms which may be used to satisfy this
        need.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3"></a><h3>9.3.&nbsp;
Content Management</h3>

<p>One of the challenges facing a virtual worlds environment is
        determining how digital content should be shared. The VWRAP
        specifications split this problem into mechanisms and policies. The
        following sections focus on describing several approaches and the
        places they impinge on the mechanisms being defined in VWRAP.
</p>
<p>Content Management includes, but is not limited to: </p>
<ul class="text">
<li>Labeling content with meta data to facilitate its
            management
</li>
<li>Identifying policy enforcement points for content
            management
</li>
</ul>

<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3.1"></a><h3>9.3.1.&nbsp;
content flows through VWs</h3>

<p></p>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

           +-------------+            +----------+             +-------+
Insertion-&gt;| Asset Store |--"rez" ---&gt;|  Region  |--Present---&gt;| client|
           +-------------+            +----------+             +-------+

</pre></div><p>

</p>
<p>This diagram describes some of the key moments as a digital item
          flows through a virtual world. The item is inserted into and stored
          within the virtual world's services. It is then added to a virtual
          world's region (rezzed), which makes it available for simulation
          and, finally presented to client(s) for viewing.
</p>
<p>Notice that this is notional. How the various services are
          deployed and where trust boundaries might be placed is not
          described. Temporally the insertion, "rez" and presentation are
          separable by arbitrary amounts of time (including none). Insertion
          may be from an external library, a tool chain, or other services. It
          is the moment when the content in question enters into the purview
          of the virtual world.
</p>
<p>The process of adding an item to a virtual region, copies some or
          all of its content. This may be as little as a reference to the
          actual item and an extremely simplified representation for physical
          simulation, or it may be a complete copy of the item in all of its
          particulars. The most common implementation has the entire item
          copied to the region for simulation, and delivery to the client.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3.1.1"></a><h3>9.3.1.1.&nbsp;
Content delivery models</h3>

<p>A range of possible representations can be passed to a region
            for simulation. Full content can be passed to regions, or a subset
            of content, or only references to most content. The VWRAP
            specifications should permit as broad a range of content delivery
            models as possible.
</p>
<p>One end of the spectrum involved passing the full content,
            including the full geometric description, and all the information
            necessary for a client to render the content, the information
            necessary to simulate the object at a physical level, and any
            scripted attachments which automate the behavior of the item.
</p>
<p>The other end of the delivery spectrum involves passing only a
            URI or capability used to access the rendering information and a
            collision mesh,and related data for physical simulation. In such a
            model, the client is responsible for fetching the additional
            information needed to render the item's visual presence from a
            separate service. This fetch can be done under the credentials of
            the end user viewing the material, and divorces the simulation
            from the trust chain needed to manage content. Any automation is
            done on a separate host which the content creator or owner trusts,
            interacting with the object through remoted interfaces.
</p>
<p>
	         Notice that various choices may conceal or reveal information
            about both  content providers and end users. An indirected
            URI fetched by a client exposes itself, of course, but also
           exposes the client's IP address to the service hosting the content. 
           This is common web practice, but may be somewhat suprising to 
            users used to having thier content served only by hosting servers. 
           
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3.1.2"></a><h3>9.3.1.2.&nbsp;
multiple representations</h3>

<p>A second mechanism for managing content delivery is to provide
            multiple versions of an item, and pass different versions,
            depending on the trust level which exists between two services.
            Such a model can be applied at all the steps in the VWRAP
            protocols. An asset server may host multiple versions of an object
            and pass appropriate versions to requesters. A region could be
            sent multiple representations of an item, and pass the appropriate
            one down to clients based on the relationship between the client
            and the region. Alternative content can be used to account for
            degrees of trust as well as richness of a given client. Multiple
            representations can be combined with redirection to permit a low
            fidelity version to be distributed widely, with a reference to a
            higher quality version which can be fetched directly should the
            end user be authorized.
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4"></a><h3>9.4.&nbsp;
Content Metadata</h3>

<p>
While metadata includes many types of data, in this section, we are speakign only about
metadata specifically intended for use in content mnagaement. 

</p>
<p>
Content meta data for content management allows the content creator or Asset
owner to mark the content with additional data describing its intended or legally required
content management rules. While such markup can't in and of itself enforce proper
behavior of services, it provides a well defined place for services which are following
a set of rules. In general, the VWRAP specifications define the affordances needed
to permit such policy enforcement, but leave policy enforcement and policy mechanisms
to deployers. 

</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Security Considerations</h3>

<p>This draft primarily defines requirements and use cases, as well as a
      description of policy management approaches. Policy management includes
      control of choices which affect security. To the extent that
      requirements and use cases permit poor security choices to be made when
      deploying services security of a deployed system could be compromised by
      those considerations.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="Foundation">[Foundation]</a></td>
<td class="author-text">Linden Lab, &ldquo;<a href="http://tools.ietf.org/id/draft-lentczner-vwrap-foundation-00.txt">Virtual World Region Agent Protocol: Foundation</a>,&rdquo; 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="Type">[Type]</a></td>
<td class="author-text">Linden Lab, &ldquo;<a href="http://tools.ietf.org/id/draft-hamrick-vwrap-type-system-00.txt">VWRAP : Abstract Type System for the Transmission of Dynamic
          Structured Data</a>,&rdquo; 2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="cable">[cable]</a></td>
<td class="author-text">Intel, &ldquo;<a href="http://code.google.com/p/cablebeach/wiki/CableBeachCore1_0">Cable Beach Design Wiki</a>,&rdquo; 2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="intro">[intro]</a></td>
<td class="author-text">Linden Lab, &ldquo;<a href="http://tools.ietf.org/html/draft-hamrick-vwrap-intro">VWRAP: Introduction and Goals</a>,&rdquo; 2010.</td></tr>
</table>

<a name="app-additional"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Additional Stuff</h3>

<p>This becomes an Appendix.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">David W. levine (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">IBM Thomas J. Watson Research Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">19 Skyline Drive</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Hawthorn, New York  10532</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1 914-784-7427</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dwl@us.ibm.com">dwl@us.ibm.com</a></td></tr>
</table>
</body></html>
