



L                                                                R. chen
Internet-Draft                                                  Sh. Peng
Intended status: Standards Track                         ZTE Corporation
Expires: March 14, 2022                                        P. Psenak
                                                           Cisco Systems
                                                      September 10, 2021


   Updates to Algorithm Related Adjacency SID Advertisement in RF9085
          draft-chen-idr-bgp-ls-algo-related-adjacency-sid-00

Abstract

   This draft updates [RFC9085] to defines extensions to the Border
   Gateway Protocol-Link State (BGP-LS) address family in order to carry
   algorithm Related Adjacency SID.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on March 14, 2022.

Copyright Notice

   Copyright (c) 2021 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.



chen, et al.             Expires March 14, 2022                 [Page 1]

Internet-DraftBGP-LS Extensions for Algorithm Related AdjaSeptember 2021


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Requirements Language . . . . . . . . . . . . . . . . . . . .   2
   3.  BGP-LS Extensions for link Attribute  . . . . . . . . . . . .   2
     3.1.  Adjacency SID per Algorithm TLV . . . . . . . . . . . . .   3
     3.2.  LAN Adjacency SID per Algorithm TLV . . . . . . . . . . .   4
   4.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   5
   6.  Normative References  . . . . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   [I-D.ietf-lsr-algorithm-related-adjacency-sid] defines the algorithm
   identifier can be included as part of an Adjacency-SID advertisement
   for SR-MPLS.

   [RFC9085]defines extensions to the Border Gateway Protocol-Link State
   (BGP-LS) address family in order to carry SR information via BGP, and
   an algorithm identifier is included as part of the Prefix-SID TLV
   advertisement.  This draft updates [RFC9085] and defines extensions
   to the Border Gateway Protocol-Link State (BGP-LS) address family in
   order to carry algorithm Related Adjacency SID.

2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  BGP-LS Extensions for link Attribute

   The following link attribute TLVs are defined:


             +======+===========================================+
             | Type | Description                               |
             +======+===========================================+
             | TBD1 | Adjacency SID per Algorithm               |
             +------+-------------------------------------------+
             | TBD2 | LAN Adjacency SID per Algorithm           |
             +------+-------------------------------------------+

                       Figure 1: Link Attribute TLVs




chen, et al.             Expires March 14, 2022                 [Page 2]

Internet-DraftBGP-LS Extensions for Algorithm Related AdjaSeptember 2021


3.1.  Adjacency SID per Algorithm TLV

   The Adjacency SID per Algorithm TLV is used in order to advertise
   information related to an algorithm Related Adjacency SID.  This
   information is derived from the Adjacency Segment Identifier (Adj-
   SID) per Algorithm Sub-TLV of ISIS/OSPFv2/OSPFv3(Section 4 of
   [I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   The Adjacency SID per Algorithm TLV has the following format:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |               Type            |              Length           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      | Flags         |     Weight    |   Algorithm   |   Reserved    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                   SID/Label/Index (variable)                 //
      +---------------------------------------------------------------+

                 Figure 2: Adjacency SID per Algorithm TLV

   where:

   Type: TBD1 (Suggested value to be assigned by IANA)

   Length: variable.

   Flags: 1-octet value that should be set as:

   o  IS-IS Adj-SID per Algorithm flags as defined in Section 4.1.1 of
      [I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   o  OSPFv2 Adj-SID per Algorithm Sub-TLV as defined in Section 4.2.1
      of [I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   o  OSPFv3 Adj-SID per Algorithm Sub-TLV as defined in Section 4.3.1
      of [I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   Weight: 1 octet carrying the weight used for load-balancing purposes.
   The use of weight is described in Section 3.4 of [RFC8402].

   Algorithm: Refer to ISIS/OSPFv2/OSPFv3 Adj-SID per
   Algorithm([I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   Reserved: 1-octet that MUST be set to 0 and ignored on receipt.




chen, et al.             Expires March 14, 2022                 [Page 3]

Internet-DraftBGP-LS Extensions for Algorithm Related AdjaSeptember 2021


   SID/Label/Index:Refer to ISIS/OSPFv2/OSPFv3 Adj-SID per
   Algorithm([I-D.ietf-lsr-algorithm-related-adjacency-sid]).

3.2.  LAN Adjacency SID per Algorithm TLV

   This information is derived from LAN-Adj-SID per Algorithm Sub-TLV of
   ISIS/OSPFv2/OSPFv3(Section 4 of
   [I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   The LAN Adjacency SID per Algorithm TLV has the following format:


       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |              Type             |            Length             |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     Flags     |     Weight    |  Algorithm    |  Reserved     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |             OSPF Neighbor ID / IS-IS System ID                |
      +                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                    SID/Label/Index (variable)                //
      +---------------------------------------------------------------+


               Figure 3:LAN Adjacency SID per Algorithm TLV

   where:

   Type: TBD2 (Suggested value to be assigned by IANA)

   Length: variable.

   Flags: 1-octet value that should be set as:

   o  IS-IS LAN-Adj-SID per Algorithm flags as defined in Section 4.1.2
      of [I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   o  OSPFv2 LAN-Adj-SID per Algorithm Sub-TLV as defined in
      Section 4.2.2 of [I-D.ietf-lsr-algorithm-related-adjacency-sid]).





chen, et al.             Expires March 14, 2022                 [Page 4]

Internet-DraftBGP-LS Extensions for Algorithm Related AdjaSeptember 2021


   o  OSPFv3 LAN-Adj-SID per Algorithm Sub-TLV as defined in
      Section 4.3.2 of [I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   Weight: 1 octet carrying the weight used for load-balancing purposes.
   The use of weight is described in Section 3.4 of [RFC8402].

   Algorithm: Refer to ISIS/OSPFv2/OSPFv3 LAN-Adj-SID per
   Algorithm([I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   Reserved: 1-octet that MUST be set to 0 and ignored on receipt.

   Neighbor ID/IS-IS System ID: Refer to ISIS/OSPFv2/OSPFv3 LAN-Adj-SID
   per Algorithm([I-D.ietf-lsr-algorithm-related-adjacency-sid]).

   SID/Label/Index:Refer to ISIS/OSPFv2/OSPFv3 LAN-Adj-SID per
   Algorithm([I-D.ietf-lsr-algorithm-related-adjacency-sid]).

4.  IANA Considerations

   This document makes the following Link Attribute TLVs registry under
   the "Border Gateway Protocol-Link State (BGP-LS) Parameter".


             +======+===========================================+
             | Type | Description                               |
             +======+===========================================+
             | TBD1 | Adjacency SID per Algorithm               |
             +------+-------------------------------------------+
             | TBD2 | LAN Adjacency SID per Algorithm           |
             +------+-------------------------------------------+

                   Table 1: The new Link Attribute TLVs

5.  Acknowledgements

   TBD

6.  Normative References

   [I-D.ietf-lsr-algorithm-related-adjacency-sid]
              Peng, S., Chen, R., Talaulikar, K., and P. Psenak,
              "Algorithm Related IGP-Adjacency SID Advertisement",
              draft-ietf-lsr-algorithm-related-adjacency-sid-00 (work in
              progress), June 2021.







chen, et al.             Expires March 14, 2022                 [Page 5]

Internet-DraftBGP-LS Extensions for Algorithm Related AdjaSeptember 2021


   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

   [RFC9085]  Previdi, S., Talaulikar, K., Ed., Filsfils, C., Gredler,
              H., and M. Chen, "Border Gateway Protocol - Link State
              (BGP-LS) Extensions for Segment Routing", RFC 9085,
              DOI 10.17487/RFC9085, August 2021,
              <https://www.rfc-editor.org/info/rfc9085>.

Authors' Addresses

   Ran Chen
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Email: chen.ran@zte.com.cn


   Shaofu
   ZTE Corporation
   No.50 Software Avenue,Yuhuatai District
   Nanjing, Jiangsu Province  210012
   China

   Email: peng.shaofu@zte.com.cn


   Peter Psenak
   Cisco Systems

   Email: ppsenak@cisco.com







chen, et al.             Expires March 14, 2022                 [Page 6]
