
Internet Draft                                             Andy Bierman
                                                     Cisco Systems, Inc.
                                                       Keith McCloghrie
                                                     Cisco Systems, Inc.
                                                          Randy Presuhn
                                                      BMC Software, Inc.
                                                       11 February 2000


      Textual Conventions for Additional High Capacity Data Types


                    <draft-kzm-hcdata-types-03.txt>





Status of this Memo

This document is an Internet-Draft and is in full conformance with all
provisions of Section 10 of RFC2026 [RFC2026].

Internet-Drafts are working documents of the Internet Engineering Task
Force (IETF), its areas, and its working groups.  Note that other groups
may also distribute working documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any
time.  It is inappropriate to use Internet- Drafts as reference material
or to cite them other than as "work in progress."

The list of current Internet-Drafts can be accessed at
http://www.ietf.org/ietf/1id-abstracts.txt

The list of Internet-Draft Shadow Directories can be accessed at
http://www.ietf.org/shadow.html.

Distribution of this document is unlimited. Please send comments to the
authors.

1.  Copyright Notice

Copyright (C) The Internet Society (2000).  All Rights Reserved.












Internet-Draft          High Capacity Data Types           February 2000


2.  Abstract

This memo specifies new textual conventions for additional high capacity
data types, intended for SNMP implementations which already support the
Counter64 data type. The definitions contained in this document
represent a short term solution which may be deprecated in the future.

3.  Table of Contents

1 Copyright Notice ................................................    1
2 Abstract ........................................................    2
3 Table of Contents ...............................................    2
4 The SNMP Management Framework ...................................    2
5 Overview ........................................................    3
5.1 Short Term and Long Term Objectives ...........................    4
5.2 Limitations of the Textual Convention Approach ................    4
6 New Textual Conventions .........................................    6
6.1 CounterBasedGauge64 ...........................................    6
6.2 ZeroBasedCounter64 ............................................    6
7 Definitions .....................................................    6
8 Intellectual Property ...........................................   10
9 References ......................................................   10
10 Security Considerations ........................................   13
11 Authors' Addresses .............................................   14
12 Full Copyright Statement .......................................   15

4.  The SNMP Management Framework

   The SNMP Management Framework presently consists of five major
   components:

    o   An overall architecture, described in RFC 2571 [RFC2571].

    o   Mechanisms for describing and naming objects and events for the
        purpose of management.  The first version of this Structure of
        Management Information (SMI) is called SMIv1 and described in
        STD 16, RFC 1155 [RFC1155], STD 16, RFC 1212 [RFC1212] and RFC
        1215 [RFC1215].  The second version, called SMIv2, is described
        in STD 58, RFC 2578 [RFC2578], STD 58, RFC 2579 [RFC2579] and
        STD 58, RFC 2580 [RFC2580].

    o   Message protocols for transferring management information.  The
        first version of the SNMP message protocol is called SNMPv1 and
        described in STD 15, RFC 1157 [RFC1157].  A second version of
        the SNMP message protocol, which is not an Internet standards





Expires August 2000                                             [Page 2]





Internet-Draft          High Capacity Data Types           February 2000


        track protocol, is called SNMPv2c and described in RFC 1901
        [RFC1901] and RFC 1906 [RFC1906].  The third version of the
        message protocol is called SNMPv3 and described in RFC 1906
        [RFC1906], RFC 2572 [RFC2572] and RFC 2574 [RFC2574].

    o   Protocol operations for accessing management information.  The
        first set of protocol operations and associated PDU formats is
        described in STD 15, RFC 1157 [RFC1157].  A second set of
        protocol operations and associated PDU formats is described in
        RFC 1905 [RFC1905].

    o   A set of fundamental applications described in RFC 2573
        [RFC2573] and the view-based access control mechanism described
        in RFC 2575 [RFC2575].

   A more detailed introduction to the current SNMP Management Framework
   can be found in RFC 2570 [RFC2570].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  Objects in the MIB are
   defined using the mechanisms defined in the SMI.

   This memo specifies a MIB module that is compliant to the SMIv2.  A
   MIB conforming to the SMIv1 can be produced through the appropriate
   translations.  The resulting translated MIB must be semantically
   equivalent, except where objects or events are omitted because no
   translation is possible (use of Counter64).  Some machine readable
   information in SMIv2 will be converted into textual descriptions in
   SMIv1 during the translation process.  However, this loss of machine
   readable information is not considered to change the semantics of the
   MIB.

5.  Overview

The Structure of Management Information [RFC2578] does not explicitly
address the question of how to represent integer objects other than
counters that would require up to 64 bits to provide the necessary range
and precision.  There are MIBs in progress targeted for the standards
track, such as the RMON MIB for High Capacity Networks [HC-RMON], which
need such data types. This memo specifies a short term solution, using
textual conventions, to meet these needs.









Expires August 2000                                             [Page 3]





Internet-Draft          High Capacity Data Types           February 2000


5.1.  Short Term and Long Term Objectives

There is an immediate need to provide a Gauge64 data type, similar in
semantics to the Gauge32 data type, in order to support common data
representations such as:

  -  a snapshot of a Counter64 at a given moment, e.g., history ring
     buffer

  -  the difference between 2 Counter64 values

There is also an immediate need for a temporary zero-based counter type
for 64-bit, similiar in semantics to the ZeroBasedCounter32 TC defined
in the RMON-2 MIB [RFC2021].

Both of these textual conventions should use a base type of Gauge64, but
that type is not available. Until such a base type is defined and
deployed, these temporary textual conventions (which use a base type of
Counter64) will be used in MIBs such as the High Capacity RMON MIB [HC-
RMON].

In order to be backward compatible with existing implementations of
Counter64, the ASN.1 encoding of unsigned 64-bit data types must be
identical to the encoding of Counter64 objects, i.e., identified by the
[APPLICATION 6] ASN.1 tag.

Note that the textual conventions defined in this document represent a
limited and short-term solution to the problem.  These textual
conventions will be deprecated as a long term solution is defined and
deployed to replace them.  A MIB object using these either of textual
conventions will also have to be deprecated, and a 'duplicate' object of
the appropriate type will need to be defined to replace it.

5.2.  Limitations of the Textual Convention Approach

New unsigned data types with textual conventions based on the Counter64
tag, instead of a new (or other existing) ASN.1 tag has some
limitations:

  -  The MAX-ACCESS of the TC must be read-only, because the MAX-ACCESS
     of the underlying Counter64 type is read-only.

  -  No sub-range can be specified on the TC-derived types, because sub-
     ranges are not allowed on Counter64 objects.






Expires August 2000                                             [Page 4]





Internet-Draft          High Capacity Data Types           February 2000


  -  No DEFVAL clause can be specified for the TC-derived types, because
     DEFVALs are not allowed on Counter64 objects.

  -  The TC-derived types cannot be used in an INDEX clause, because
     there is no INDEX clause mapping defined for objects of type
     Counter64.












































Expires August 2000                                             [Page 5]





Internet-Draft          High Capacity Data Types           February 2000


6.  New Textual Conventions

The following textual conventions are defined to support unsigned 64-bit
data types for HC-RMON [HC-RMON].

6.1.  CounterBasedGauge64

This textual convention defines a 64-bit gauge, but defined with
Counter64 syntax, since no Gauge64 or Unsigned64 base type is available
in SMIv2.

This TC is used for storing the difference between 2 Counter64 values,
or simply storing a snapshot of a Counter64 value at a given moment in
time.

6.2.  ZeroBasedCounter64

This textual convention defines a 64-bit counter with an initial value
of zero, instead of an arbitrary initial value.

This TC is used for counter objects in tables which are instantiated by
management application action.

7.  Definitions

SMIv2-TEMP-HCNUM-TC DEFINITIONS ::= BEGIN

IMPORTS
    MODULE-IDENTITY, mib-2, Counter64
        FROM SNMPv2-SMI
    TEXTUAL-CONVENTION
        FROM SNMPv2-TC;

hcnumTC MODULE-IDENTITY
    LAST-UPDATED "200002110000Z"
    ORGANIZATION "IETF OPS Area"
    CONTACT-INFO
            "        E-mail: mibs@ops.ietf.org
                     Subscribe: majordomo@psg.com
                       w/ msg body: subscribe mibs

                     Andy Bierman
                     Cisco Systems Inc.
                     170 West Tasman Drive
                     San Jose, CA 95134





Expires August 2000                                             [Page 6]





Internet-Draft          High Capacity Data Types           February 2000


                     +1 408-527-3711
                     abierman@cisco.com

                     Keith McCloghrie
                     Cisco Systems Inc.
                     170 West Tasman Drive
                     San Jose, CA 95134
                     +1 408-526-5260
                     kzm@cisco.com

                     Randy Presuhn
                     BMC Software, Inc.
                     Office 1-3141
                     2141 North First Street
                     San Jose,  California 95131 USA
                     +1 408 546-1006
                     rpresuhn@bmc.com"
    DESCRIPTION
            "A MIB module containing textual conventions
             for high capacity data types. This module
             addresses an immediate need for data types not directly
             supported in the SMIv2. This short-term solution
             is meant to be deprecated as a long-term solution
             is deployed."
    REVISION        "200002110000Z"
    DESCRIPTION
            "Initial Version of the High Capacity Numbers
             MIB module. This version published as RFC xxxx
             (to be assigned by the RFC Editor)."
    ::= { mib-2 xxx }

CounterBasedGauge64 ::= TEXTUAL-CONVENTION
    STATUS       current
    DESCRIPTION
            "The CounterBasedGauge64 type represents a non-negative
            integer, which may increase or decrease, but shall never
            exceed a maximum value, nor fall below a minimum value.  The
            maximum value can not be greater than 2^64-1
            (18446744073709551615 decimal), and the minimum value can
            not be smaller than 0.  The value of a CounterBasedGauge64
            has its maximum value whenever the information being modeled
            is greater than or equal to its maximum value, and has its
            minimum value whenever the information being modeled is
            smaller than or equal to its minimum value.  If the
            information being modeled subsequently decreases below





Expires August 2000                                             [Page 7]





Internet-Draft          High Capacity Data Types           February 2000


            (increases above) the maximum (minimum) value, the
            CounterBasedGauge64 also decreases (increases).

            Note that this TC is not strictly supported in SMIv2,
            because the 'always increasing' and 'counter wrap' semantics
            associated with the Counter64 base type are not preserved.
            It is possible that management applications which rely
            solely upon the (Counter64) ASN.1 tag to determine object
            semantics will mistakenly operate upon objects of this type
            as they would for Counter64 objects.

            This textual convention represents a limited and short-term
            solution, and will be deprecated as a long term solution is
            defined and deployed to replace it."
    SYNTAX Counter64


ZeroBasedCounter64 ::= TEXTUAL-CONVENTION
    STATUS current
    DESCRIPTION
            "This TC describes an object which counts events with the
            following semantics: objects of this type will be set to
            zero(0) on creation and will thereafter count appropriate
            events, wrapping back to zero(0) when the value 2^64 is
            reached.

            Provided that an application discovers the new object within
            the minimum time to wrap it can use the initial value as a
            delta since it last polled the table of which this object is
            part.  It is important for a management station to be aware
            of this minimum time and the actual time between polls, and
            to discard data if the actual time is too long or there is
            no defined minimum time.

            Typically this TC is used in tables where the INDEX space is
            constantly changing and/or the TimeFilter mechanism is in
            use.

            Note that this textual convention does not retain all the
            semantics of the Counter64 base type. Specifically, a
            Counter64 has an arbitrary initial value, but objects
            defined with this TC are required to start at the value
            zero.  This behavior is not likely to have any adverse
            effects on management applications which are expecting
            Counter64 semantics.





Expires August 2000                                             [Page 8]





Internet-Draft          High Capacity Data Types           February 2000


            This textual convention represents a limited and short-term
            solution, and will be deprecated as a long term solution is
            defined and deployed to replace it."
    SYNTAX Counter64

END












































Expires August 2000                                             [Page 9]





Internet-Draft          High Capacity Data Types           February 2000


8.  Intellectual Property

The IETF takes no position regarding the validity or scope of any
intellectual property or other rights that might be claimed to  pertain
to the implementation or use of the technology described in this
document or the extent to which any license under such rights might or
might not be available; neither does it represent that it has made any
effort to identify any such rights.  Information on the IETF's
procedures with respect to rights in standards-track and standards-
related documentation can be found in BCP-11.  Copies of claims of
rights made available for publication and any assurances of licenses to
be made available, or the result of an attempt made to obtain a general
license or permission for the use of such proprietary rights by
implementors or users of this specification can be obtained from the
IETF Secretariat.

The IETF invites any interested party to bring to its attention any
copyrights, patents or patent applications, or other proprietary rights
which may cover technology that may be required to practice this
standard.  Please address the information to the IETF Executive
Director.

9.  References

[HC-RMON]   Waldbusser, S., "Remote Network Monitoring Management
            Information Base for High Capacity Networks", draft-ietf-
            rmonmib-hcrmon-06.txt, International Network Services, June
            1999.

[RFC1155]   Rose, M., and K. McCloghrie, "Structure and Identification
            of Management Information for TCP/IP-based Internets", STD
            16, RFC 1155, May 1990.

[RFC1157]   Case, J., Fedor, M., Schoffstall, M., and J. Davin, "Simple
            Network Management Protocol", RFC 1157, STD 15, SNMP
            Research, Performance Systems International, Performance
            Systems International, MIT Laboratory for Computer Science,
            May 1990.

[RFC1212]   Rose, M., and K. McCloghrie, "Concise MIB Definitions", RFC
            1212, STD 16, Performance Systems International, Hughes LAN
            Systems, March 1991.

[RFC1215]   M. Rose, "A Convention for Defining Traps for use with the
            SNMP", RFC 1215, Performance Systems International, March





Expires August 2000                                            [Page 10]





Internet-Draft          High Capacity Data Types           February 2000


            1991.

[RFC1901]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
            "Introduction to Community-based SNMPv2", RFC 1901, SNMP
            Research, Inc., Cisco Systems, Inc., Dover Beach Consulting,
            Inc., International Network Services, January 1996.

[RFC1905]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
            "Protocol Operations for Version 2 of the Simple Network
            Management Protocol (SNMPv2)", RFC 1905, SNMP Research,
            Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc.,
            International Network Services, January 1996.

[RFC1906]   Case, J., McCloghrie, K., Rose, M., and S. Waldbusser,
            "Transport Mappings for Version 2 of the Simple Network
            Management Protocol (SNMPv2)", RFC 1906, SNMP Research,
            Inc., Cisco Systems, Inc., Dover Beach Consulting, Inc.,
            International Network Services, January 1996.

[RFC2021]   S. Waldbusser, "Remote Network Monitoring MIB (RMON-2)", RFC
            2021, International Network Services, January 1997.

[RFC2026]   Bradner, S., "The Internet Standards Process -- Revision 3",
            RFC 2026, Harvard University, October, 1996.

[RFC2570]   Case, J., Mundy, R., Partain, D., and B. Stewart,
            "Introduction to Version 3 of the Internet-standard Network
            Management Framework", RFC 2570, SNMP Research, Inc., TIS
            Labs at Network Associates, Inc., Ericsson, Cisco Systems,
            April 1999.

[RFC2571]   Harrington, D., Presuhn, R., and B. Wijnen, "An Architecture
            for Describing SNMP Management Frameworks", RFC 2571, April
            1999.

[RFC2572]   Case, J., Harrington D., Presuhn R., and B. Wijnen, "Message
            Processing and Dispatching for the Simple Network Management
            Protocol (SNMP)", RFC 2572, SNMP Research, Inc., Cabletron
            Systems, Inc., BMC Software, Inc., IBM T. J. Watson
            Research, April 1999.

[RFC2573]   Levi, D., Meyer, P., and B. Stewart, "SNMPv3 Applications",
            RFC 2573, SNMP Research, Inc., Secure Computing Corporation,
            Cisco Systems, April 1999.






Expires August 2000                                            [Page 11]





Internet-Draft          High Capacity Data Types           February 2000


[RFC2574]   Blumenthal, U., and B. Wijnen, "User-based Security Model
            (USM) for version 3 of the Simple Network Management
            Protocol (SNMPv3)", RFC 2574, IBM T. J. Watson Research,
            April 1999.

[RFC2575]   Wijnen, B., Presuhn, R., and K. McCloghrie, "View-based
            Access Control Model (VACM) for the Simple Network
            Management Protocol (SNMP)", RFC 2575, IBM T. J. Watson
            Research, BMC Software, Inc., Cisco Systems, Inc., April
            1999.

[RFC2578]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J.,
            Rose, M., and S. Waldbusser, "Structure of Management
            Information Version 2 (SMIv2)", RFC 2578, STD 58, Cisco
            Systems, SNMPinfo, TU Braunschweig, SNMP Research, First
            Virtual Holdings, International Network Services, April
            1999.

[RFC2579]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J.,
            Rose, M., and S. Waldbusser, "Textual Conventions for
            SMIv2", RFC 2579, STD 58, Cisco Systems, SNMPinfo, TU
            Braunschweig, SNMP Research, First Virtual Holdings,
            International Network Services, April 1999.

[RFC2580]   McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J.,
            Rose, M., and S. Waldbusser, "Conformance Statements for
            SMIv2", RFC 2580, STD 58, Cisco Systems, SNMPinfo, TU
            Braunschweig, SNMP Research, First Virtual Holdings,
            International Network Services, April 1999.





















Expires August 2000                                            [Page 12]





Internet-Draft          High Capacity Data Types           February 2000


10.  Security Considerations

There are no management objects defined in this MIB that have a MAX-
ACCESS clause of read-write and/or read-create.  So, if this MIB is
implemented correctly, then there is no risk that an intruder can alter
or create any management objects of this MIB via direct SNMP SET
operations.

SNMPv1 by itself is not a secure environment.  Even if the network
itself is secure (for example by using IPSec), even then, there is no
control as to who on the secure network is allowed to access and GET/SET
(read/change/create/delete) the objects in this MIB.

It is recommended that the implementers consider the security features
as provided by the SNMPv3 framework.  Specifically, the use of the User-
based Security Model RFC 2574 [RFC2574] and the View- based Access
Control Model RFC 2575 [RFC2575] is recommended.

It is then a customer/user responsibility to ensure that the SNMP entity
giving access to an instance of this MIB, is properly configured to give
access to the objects only to those principals (users) that have
legitimate rights to indeed GET or SET (change/create/delete) them.




























Expires August 2000                                            [Page 13]





Internet-Draft          High Capacity Data Types           February 2000


11.  Authors' Addresses

     Andy Bierman
     Cisco Systems, Inc.
     170 West Tasman Drive
     San Jose, CA 95134 USA
     Phone: +1 408-527-3711
     Email: abierman@cisco.com

     Keith McCloghrie
     Cisco Systems, Inc.
     170 West Tasman Drive
     San Jose, CA 95134 USA
     Phone: +1 408-526-5260
     Email: kzm@cisco.com

     Randy Presuhn
     BMC Software, Inc.
     Office 1-3141
     2141 North First Street
     San Jose,  California 95131 USA
     Phone: +1 408 546-1006
     EMail: rpresuhn@bmc.com



























Expires August 2000                                            [Page 14]





Internet-Draft          High Capacity Data Types           February 2000


12.  Full Copyright Statement

Copyright (C) The Internet Society (2000).  All Rights Reserved.

This document and translations of it may be copied and furnished to
others, and derivative works that comment on or otherwise explain it or
assist in its implementation may be prepared, copied, published and
distributed, in whole or in part, without restriction of any kind,
provided that the above copyright notice and this paragraph are included
on all such copies and derivative works.  However, this document itself
may not be modified in any way, such as by removing the copyright notice
or references to the Internet Society or other Internet organizations,
except as needed for the purpose of developing Internet standards in
which case the procedures for copyrights defined in the Internet
Standards process must be followed, or as required to translate it into
languages other than English.

The limited permissions granted above are perpetual and will not be
revoked by the Internet Society or its successors or assigns.

This document and the information contained herein is provided on an "AS
IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK
FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT
LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT
INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR
FITNESS FOR A PARTICULAR PURPOSE."
























Expires August 2000                                            [Page 15]

