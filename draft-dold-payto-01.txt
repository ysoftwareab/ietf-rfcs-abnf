



Internet Engineering Task Force                                  F. Dold
Internet-Draft                                                     INRIA
Intended status: Informational                               C. Grothoff
Expires: October 9, 2018                                             BFH
                                                           April 7, 2018


                  The 'payto' URI scheme for payments
                          draft-dold-payto-01

Abstract

   This document defines the 'payto' Uniform Resource Identifier (URI)
   scheme for specifying payments.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on October 9, 2018.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





Dold & Grothoff          Expires October 9, 2018                [Page 1]

Internet-Draft           The 'payto' URI scheme               April 2018


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Syntax of a 'payto' URL . . . . . . . . . . . . . . . . . . .   2
   3.  Semantics . . . . . . . . . . . . . . . . . . . . . . . . . .   2
   4.  Examples  . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   5.  Generic Options . . . . . . . . . . . . . . . . . . . . . . .   3
   6.  Encoding  . . . . . . . . . . . . . . . . . . . . . . . . . .   4
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
     8.1.  URI Scheme Registration . . . . . . . . . . . . . . . . .   4
   9.  Payto Payment Method Registry . . . . . . . . . . . . . . . .   4
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     10.1.  Normative References . . . . . . . . . . . . . . . . . .   5
     10.2.  Informational References . . . . . . . . . . . . . . . .   6
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   6

1.  Introduction

   This document defines the 'payto' Uniform Resource Identifier (URI)
   [RFC3986] scheme for specifying payments.  In its simplest form, a
   'payto' URL identifies a payment method and optionally an account
   identifier.  Additional parameters for a payment, such as an amount
   or a payment reference, can be provided.

2.  Syntax of a 'payto' URL

   This document uses the Augmented Backus-Naur Form (ABNF) of
   [RFC5234].

     payto-URI = "payto" "://" authority path-abempty [ "?" opts ]
     opts = opt *( "&amp;" opt )
     opt = (generic-opt / authority-specific-opt) "=" *( pchar )
     generic-opt = "amount" / "creditor-name" / "debitor-name" /
                   "message" / "instruction"
     authority = <authority, see [RFC3986], Section 3.2>
     path-abempty = <path-abempty, see [RFC3986], Section 3.3>
     pchar = <pchar, see [RFC3986], Appendix A.>


3.  Semantics

   The authority component of a payment URI identifies the payment
   method.  The payment methods are defined in the Payto Payment Method
   Registry, see Section 9.  The path component of the URI identifies
   the target account for a payment as interpreted by the respective
   payment method.  The query component of the URI can provide
   additional parameters for a payment.  Every payment method SHOULD



Dold & Grothoff          Expires October 9, 2018                [Page 2]

Internet-Draft           The 'payto' URI scheme               April 2018


   accept the options defined in generic-opt.  The default operation of
   applications that invoke a URI with the payto scheme SHOULD be to
   launch an application (if available) associated with the payment
   method that can initiate a payment.  Details of the payment MUST be
   taken from the path and options given in the URI.  The user SHOULD be
   allowed to modify these details before confirming a payment.

4.  Examples

     payto://sepa/CH9300762011623852957?amount=EUR:200.0&message=hello

     INVALID (authority missing):  payto:sepa/12345


5.  Generic Options

   Applications MUST accept URIs with options in any order.  The
   "amount" option MUST only occur at most once.  Other options MAY be
   allowed multiple times, with further restrictions depending on the
   payment method.  The following options SHOULD be understood by every
   payment method.

   amount: The amount to transfer, including currency information if
   applicable.  The format MUST be:

     amount = [ currency ":" ] unit [ "." fraction ]
     currency = 1*ALPHA
     unit = 1*(DIGIT / ",")
     fraction = 1*(DIGIT / ",")


   The fraction MUST be smaller than 10^8.  The unit value MUST be
   smaller than 2^53.  The use of commas is optional for readability and
   they MUST be ignored.

   creditor-name: Name of the entity that is credited (receives the
   payment).

   debitor-name: Name of the entity that is debited (makes the payment).

   message: A short message to identify the purpose of the payment,
   which MAY be subject to lossy conversions (for example, due to
   character set encoding limitations).

   instruction: A short message giving instructions to the recipient,
   which MUST NOT be subject to lossy conversions.  Character set
   limitations allowed for such instructions depend on the payment
   method.



Dold & Grothoff          Expires October 9, 2018                [Page 3]

Internet-Draft           The 'payto' URI scheme               April 2018


6.  Encoding

   Various payment systems use restricted character sets.  An
   application that processes 'payto' URIs MUST convert characters that
   are not allowed by the respective payment systems into allowable
   character using either an encoding or a replacement table.  This
   conversion process MAY be lossy, except for the instruction field.

7.  Security Considerations

   Applications handling the payto URI scheme MUST NOT initiate any
   transactions without prior review and confirmation from the user.

8.  IANA Considerations

8.1.  URI Scheme Registration

   The "payto" URI scheme is to be registered in the "Permanent URI
   Schemes" registry.

      Scheme name: payto

      Status: permanent

      URI scheme syntax: See Section 2.

      URI scheme semantics: See Section 3.

      Applications/protocols that use this scheme name: payto URIs are
      mainly used by financial software

      Contact: grothoff@gnu.org

      Change controller: grothoff@gnu.org

      References: See References section of this document.

9.  Payto Payment Method Registry

   This document defines a registry for payment methods.  The name of
   the registry is "Payto Payment Method Registry".

   The registry shall record for each entry:

   o  Name: The name of the payment method (case insensitive ASCII
      string)





Dold & Grothoff          Expires October 9, 2018                [Page 4]

Internet-Draft           The 'payto' URI scheme               April 2018


   o  Description: A description of the payment method, including the
      semantics of the path in the URI if applicable.

   o  Contact: The contact information of a person to contact for
      further information

   o  References: Optionally, references describing the payment method
      (such as an RFC) and method-specific options

   The registration policy for this registry is "First Come First
   Served", as described in [RFC5226].

   The registry is initially populated with the following entries:

   +---------+-------------------------------+----------+--------------+
   | Name    | Description                   | Contact> | References   |
   +---------+-------------------------------+----------+--------------+
   | ach     | Automated Clearing House.     | N/A      | [NACHA]      |
   |         | The path is a bank account    |          |              |
   |         | number.                       |          |              |
   | sepa    | Single European Payment Area. | N/A      | [ISO20022]   |
   |         | The path is an IBAN.          |          |              |
   | upi     | Unified Payment Interface.    | N/A      | [UPILinking] |
   |         | The path is an account alias. |          |              |
   | bitcoin | Bitcoin protocol. The path is | N/A      | [BIP0021]    |
   |         | a "bitcoinaddress" as per     |          |              |
   |         | [BIP0021].                    |          |              |
   +---------+-------------------------------+----------+--------------+

10.  References

10.1.  Normative References

   [ISO20022]
              International Organization for Standardization, "ISO 20022
              Financial Services - Universal financial industry message
              scheme", May 2013.

   [NACHA]    NACHA, "NACHA Operating Rules & Guidelines", January 2017.

   [RFC3986]  Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform
              Resource Identifier (URI): Generic Syntax", STD 66,
              RFC 3986, DOI 10.17487/RFC3986, January 2005,
              <https://www.rfc-editor.org/info/rfc3986>.







Dold & Grothoff          Expires October 9, 2018                [Page 5]

Internet-Draft           The 'payto' URI scheme               April 2018


   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", RFC 5226,
              DOI 10.17487/RFC5226, May 2008,
              <https://www.rfc-editor.org/info/rfc5226>.

   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, RFC 5234, January 2008.

10.2.  Informational References

   [BIP0021]  Schneider, N. and M. Corallo, "Bitcoin Improvement
              Proposal 21", January 2012,
              <https://en.bitcoin.it/wiki/BIP_0021>.

   [UPILinking]
              National Payment Corporation of India, "Unified Payment
              Interface - Common URL Specifications For Deep Linking And
              Proximity Integration", May 2016,
              <http://www.npci.org.in/documents/
              UPILinkingSpecificationsVersion10draft.pdf>.

Authors' Addresses

   Florian Dold
   INRIA
   Equipe TAMIS
   INRIA Rennes Bretagne Atlantique
   263 avenue du General Leclerc
   Campus Universitaire de Beaulieu
   Rennes, Bretagne  F-35042
   FR

   Email: florian.dold@inria.fr


   Christian Grothoff
   BFH
   Hoeheweg 80
   Biel/Bienne  CH-2501
   CH

   Email: christian.grothoff@bfh.ch









Dold & Grothoff          Expires October 9, 2018                [Page 6]
