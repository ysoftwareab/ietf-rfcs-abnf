



Network Working Group                                          N. Sopher
Internet-Draft                                                     Qwilt
Updates: 8006, 8008 (if approved)                              S. Mishra
Intended status: Standards Track                                 Verizon
Expires: 3 September 2022                                   2 March 2022


    Content Delivery Network Interconnection (CDNI) Footprint Types:
                       Subdivision Code and Union
             draft-ietf-cdni-additional-footprint-types-01

Abstract

   Open Caching architecture is a use case of Content Delivery Networks
   Interconnection (CDNI) in which the commercial Content Delivery
   Network (CDN) is the upstream CDN (uCDN) and the ISP caching layer
   serves as the downstream CDN (dCDN).  This document supplements the
   CDNI Metadata Footprint Types defined in RFC 8006.  The Footprint
   Types defined in this document can be used for Footprint objects as
   part of the Metadata interface (MI) defined in RFC 8006 or the
   Footprint & Capabilities Advertisement interface (FCI) defined in RFC
   8008.  The defined Footprint Types are derived from requirements
   raised by Open Caching but are also applicable to CDNI use cases in
   general.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 3 September 2022.

Copyright Notice

   Copyright (c) 2022 IETF Trust and the persons identified as the
   document authors.  All rights reserved.





Sopher & Mishra         Expires 3 September 2022                [Page 1]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3
     1.2.  Requirements Language . . . . . . . . . . . . . . . . . .   3
   2.  CDNI Metadata Additional Footprint Types  . . . . . . . . . .   3
     2.1.  CDNI Metadata SubdivisionCode Footprint Type  . . . . . .   4
       2.1.1.  CDNI Metadata SubdivisionCode Data Type . . . . . . .   4
         2.1.1.1.  CDNI Metadata SubdivisionCode Data Type
                 Description . . . . . . . . . . . . . . . . . . . .   4
       2.1.2.  CDNI Metadata SubdivisionCode Footprint Type
               Description . . . . . . . . . . . . . . . . . . . . .   4
     2.2.  CDNI Metadata FootprintUnion Footprint Type . . . . . . .   5
       2.2.1.  CDNI Metadata FootprintUnion Data Type  . . . . . . .   6
       2.2.2.  CDNI Metadata FootprintUnion Footprint Type
               Description . . . . . . . . . . . . . . . . . . . . .   6
   3.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   8
     3.1.  CDNI Metadata Footprint Types . . . . . . . . . . . . . .   8
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   9
   5.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   9
   6.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   9
     6.1.  Normative References  . . . . . . . . . . . . . . . . . .   9
     6.2.  Informative References  . . . . . . . . . . . . . . . . .  10
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  11

1.  Introduction

   The Streaming Video Alliance [SVA] is a global association that works
   to solve streaming video challenges in an effort to improve end-user
   experience and adoption.  The Open Caching Working Group [OCWG] of
   the Streaming Video Alliance [SVA] is focused on the delegation of
   video delivery requests from commercial CDNs to a caching layer at
   the ISP's network.  Open Caching architecture is a specific use case
   of CDNI where the commercial CDN is the upstream CDN (uCDN) and the
   ISP caching layer is the downstream CDN (dCDN).  The Open Caching
   Request Routing Specification [OC-RR] defines the Request Routing
   process and the interfaces that are required for its provisioning.
   This document defines and registers CDNI Footprint and Capabilities
   objects [RFC8008] that are required for Open Caching Request Routing.



Sopher & Mishra         Expires 3 September 2022                [Page 2]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   For consistency with other CDNI documents this document follows the
   CDNI convention of uCDN (upstream CDN) and dCDN (downstream CDN) to
   represent the commercial CDN and ISP caching layer respectively.

   This document registers two CDNI Metadata Footprint Types (section
   7.2 of [RFC8006]) for the defined objects:

   *  SubdivisionCode Footprint Type (e.g., for dCDN advertising a
      footprint that is specific to a State in the USA)

   *  Collection Footprint Type (for dCDN advertising a footprint that
      consists of a group built from multiple Footprints Types.  E.g.,
      both IPv4 and IPv6 client addresses)

1.1.  Terminology

   The following terms are used throughout this document:

   *  CDN - Content Delivery Network

   Additionally, this document reuses the terminology defined in
   [RFC6707], [RFC7336], [RFC8006], and [RFC8008].  Specifically, we use
   the following CDNI acronyms:

   *  uCDN, dCDN - Upstream CDN and Downstream CDN respectively (see
      [RFC7336] )

1.2.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.  CDNI Metadata Additional Footprint Types

   Section 5 of [RFC8008] describes the FCI Capability Advertisement
   Object, which includes an array of CDNI Footprint Objects.  Each such
   object has a footprint-type and a footprint-value, as described in
   section 4.2.2.2 of [RFC8006].  This document defines additional
   footprint types, beyond those mentioned in CDNI metadata [RFC8006].









Sopher & Mishra         Expires 3 September 2022                [Page 3]

Internet-Draft  Content Delivery Network Interconnection      March 2022


2.1.  CDNI Metadata SubdivisionCode Footprint Type

   Section 4.3.8 of [RFC8006] specifies the "Country Code" footprint
   type for listing [ISO3166-1] alpha-2 codes.  Using Footprint Objects
   of this type, one can define an FCI Capability Advertisement Object
   footprint constraints that match a specific country.  Herein is
   define the subdivisioncode simple data type, as well as a footprint
   type allowing the dCDN to define constraints matching geographic
   areas with better granularity, specifically using the [ISO3166-2]
   Country Subdivision codes.

2.1.1.  CDNI Metadata SubdivisionCode Data Type

   The "SubdivisionCode" data type specified in Section 2.1.1.1,
   describes a country specific subdivision using an [ISO3166-2] code.
   The data type is added to the list of data types described in section
   4.3 of [RFC8006] that are used as properties of CDNI Metadata
   objects.

2.1.1.1.  CDNI Metadata SubdivisionCode Data Type Description

   A [ISO3166-2] code in lower case.  Each code consists of two parts,
   separated by a hyphen.  The first part is the [ISO3166-1] code of the
   country.  The second part is a string of up to three alphanumeric
   characters.

      Type: String

      Example SubdivisionCodes:

      "ca-ns"

      "us-ny"

2.1.2.  CDNI Metadata SubdivisionCode Footprint Type Description

   The "SubdivisionCode" simple data type specified in Section 2.1.1 ,
   is added to the data types listed as footprint types in section
   4.2.2.2 of [RFC8006] .

   Below is an example using a footprint object of type
   "SubdivisionCode".  The Footprint Object in this example creates a
   constraints matching clients both in the Nova-Scotia province of
   Canada (ISO [ISO3166-2] code "CA-NS"), as well as in the state of
   New-York In the US (ISO [ISO3166-2] code "US-NY").






Sopher & Mishra         Expires 3 September 2022                [Page 4]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   {
     "capabilities": [
       {
         "capability-type": <CDNI capability object type>,
         "capability-value": <CDNI capability object>,
         "footprints": [
             {
                 "footprint-type": "subdivisioncode",
                 "footprint-value": ["ca-ns", "us-ny"]
             }
         ]
       }
     ]
   }


2.2.  CDNI Metadata FootprintUnion Footprint Type

   As described in section 5 of [RFC8008], the FCI Capability
   Advertisement Object includes an array of CDNI Footprint Objects.
   Appendix B of [RFC8008] specifies the semantics of a Footprint
   Objects array as a multiple, additive, footprint constraints.  This
   implies that the advertisement of different footprint types narrows
   the dCDN's candidacy cumulatively.

   Sections 4.3.5 and 4.3.6 of [RFC8006] specify the "IPv4CIDR" and
   "IPv6CIDR" footprint types, respectively, for listing IP addresses
   blocks.  Using Footprint Objects of these types, one can define FCI
   Capability Advertisement Object footprint constraints that match IPv4
   or IPv6 clients.  However, the described "narrowing" semantic of the
   Footprint Objects array prevents the usage of these objects together
   to create a footprint constraint that matches IPv4 clients together
   with IPv6 clients.

   Below is an example for an attempt at creating an object matching
   IPv4 clients of subnet "192.0.2.0/24", as well as IPv6 clients of
   subnet "2001:db8::/32".  Such a definition results in an empty list
   of clients, as the constraints are additives and a client address
   cannot be both IPv4 and IPv6.












Sopher & Mishra         Expires 3 September 2022                [Page 5]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   {
     "capabilities": [
       {
         "capability-type": <CDNI capability object type>,
         "capability-value": <CDNI capability object>,
         "footprints": [
             {
                 "footprint-type": "ipv4cidr",
                 "footprint-value": ["192.0.2.0/24"]
             },
             {
                 "footprint-type": "ipv6cidr",
                 "footprint-value": ["2001:db8::/32"]
             }
         ]
       }
     ]
   }


   To overcome the described limitation and allow a list of footprint
   constraints that match both IPv4 and IPv6 client addresses, below is
   introduced the "FootprintUnion" footprint type.  This footprint type
   allows the collection of multiple footprint-objects into a unified
   object.  It is useful for resolving the above limitation, as well as
   for unifying footprints of additional types such as countrycode and
   subdivisioncode.

2.2.1.  CDNI Metadata FootprintUnion Data Type

   The "FootprintUnion" data type is based on the Footprint Object
   already defined in section 4.2.2.2 of [RFC8006].  The footprint-value
   for a FootprintUnion object is an array of Footprint objects, where
   the Footprint objects may be of any Footprint Type other than
   FootprintUnion.

2.2.2.  CDNI Metadata FootprintUnion Footprint Type Description

   The "footprintunion" data type specified in Section 2.2.1, is added
   to the data types listed as footprint types in section 4.2.2.2 of
   [RFC8006].

   Below is an example using a footprint object of type
   "footprintunion".







Sopher & Mishra         Expires 3 September 2022                [Page 6]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   {
     "capabilities": [
       {
         "capability-type": <CDNI capability object type>,
         "capability-value": <CDNI capability object>,
         "footprints": [
           {
             "footprint-type": "footprintunion",
             "footprint-value": [
               {
                 "footprint-type": "ipv4cidr",
                 "footprint-value": ["192.0.2.0/24"]
               },
               {
                 "footprint-type": "ipv6cidr",
                 "footprint-value": ["2001:db8::/32"]
               }
             ]
           }
         ]
       }
     ]
   }


   The footprint union also allows to compose a countrycode and
   subdivisioncode based footprint objects.  In the example below we
   create a constraint covering autonomous system 64496 within the US
   (ISO [ISO3166-1] alpha-2 code "US") and the Nova-Scotia province of
   Canada (ISO [ISO3166-2] code "CA-NS").





















Sopher & Mishra         Expires 3 September 2022                [Page 7]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   {
     "capabilities": [
       {
         "capability-type": <CDNI capability object type>,
         "capability-value": <CDNI capability object>,
         "footprints": [
           {
             "footprint-type": "asn",
             "footprint-value": ["as64496"]
           },
           {
             "footprint-type": "footprintunion",
             "footprint-value": [
               {
                 "footprint-type": "countrycode",
                 "footprint-value": ["us"]
               },
               {
                 "footprint-type": "subdivisioncode",
                 "footprint-value": ["ca-ns"]
               }
             ]
           }
         ]
       }
     ]
   }


3.  IANA Considerations

3.1.  CDNI Metadata Footprint Types

   Section 7.2 of [RFC8006] creates the "CDNI Metadata Footprint Types"
   subregistry within the "Content Delivery Network Interconnection
   (CDNI) Parameters" registry.

   This document requests the registration of the two additional
   Footprint Types as defined in Section 2.2 and Section 2.1 :












Sopher & Mishra         Expires 3 September 2022                [Page 8]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   +=====================+=============================+===============+
   | Footprint Type      | Description                 | Specification |
   +=====================+=============================+===============+
   | FCI.subdivisioncode | ISO 3166-2 Subdivision      | RFCthis       |
   |                     | Code: An alpha-2 ISO        |               |
   |                     | 3166-1 Country Code,        |               |
   |                     | followed by a separator     |               |
   |                     | and up to three             |               |
   |                     | alphanumeric characters     |               |
   +---------------------+-----------------------------+---------------+
   | FCI.footprintunion  | Footprint Object as         | RFCthis       |
   |                     | specified in [RFC8006]      |               |
   +---------------------+-----------------------------+---------------+

                                  Table 1

   [RFC Editor: Please replace RFCthis with the published RFC number for
   this document.]

4.  Security Considerations

   This specification is in accordance with the CDNI Metadata and the
   CDNI Request Routing: Footprint and Capabilities Semantics.  As such,
   it is subject to the security and privacy considerations as defined
   in Section 8 of [RFC8006] and in Section 7 of [RFC8008] respectively.
   More specifically, the use of "SubdivisionCode" footprint type,
   introduces a higher level of granularity into the published dCDN
   Footprint.  Therefore, to meet confidentiality requirements, the use
   of transport-layer security mechanisms as specified in Section 7 of
   [RFC8008], is required.

5.  Acknowledgements

   The authors would like to express their gratitude to Ori Finkelman
   and Kevin J.  Ma for their guidance and reviews throughout the
   development of this document.

6.  References

6.1.  Normative References

   [ISO3166-1]
              ISO, "Codes for the representation of names of countries
              and their subdivisions -- Part 1: Country code",
              ISO 3166-1:2020, Edition 4, August 2020,
              <https://www.iso.org/standard/72482.html>.





Sopher & Mishra         Expires 3 September 2022                [Page 9]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   [ISO3166-2]
              ISO, "Codes for the representation of names of countries
              and their subdivisions -- Part 2: Country subdivision
              code", ISO 3166-2:2020, Edition 4, August 2020,
              <https://www.iso.org/standard/72483.html>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8006]  Niven-Jenkins, B., Murray, R., Caulfield, M., and K. Ma,
              "Content Delivery Network Interconnection (CDNI)
              Metadata", RFC 8006, DOI 10.17487/RFC8006, December 2016,
              <https://www.rfc-editor.org/info/rfc8006>.

   [RFC8008]  Seedorf, J., Peterson, J., Previdi, S., van Brandenburg,
              R., and K. Ma, "Content Delivery Network Interconnection
              (CDNI) Request Routing: Footprint and Capabilities
              Semantics", RFC 8008, DOI 10.17487/RFC8008, December 2016,
              <https://www.rfc-editor.org/info/rfc8008>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

6.2.  Informative References

   [OC-RR]    Finkelman, O., Ed., Hofmann, J., Klein, E., Mishra, S.,
              Ma, K., Sahar, D., and B. Zurat, "Open Caching - Request
              Routing Functional Specification", Version 1.1, 4 October
              2019, <https://www.streamingvideoalliance.org/books/open-
              cache-request-routing-functional-specification/>.

   [OCWG]     "Open Caching Home Page",
              <https://www.streamingvideoalliance.org/technical-groups/
              open-caching/>.

   [RFC6707]  Niven-Jenkins, B., Le Faucheur, F., and N. Bitar, "Content
              Distribution Network Interconnection (CDNI) Problem
              Statement", RFC 6707, DOI 10.17487/RFC6707, September
              2012, <https://www.rfc-editor.org/info/rfc6707>.

   [RFC7336]  Peterson, L., Davie, B., and R. van Brandenburg, Ed.,
              "Framework for Content Distribution Network
              Interconnection (CDNI)", RFC 7336, DOI 10.17487/RFC7336,
              August 2014, <https://www.rfc-editor.org/info/rfc7336>.




Sopher & Mishra         Expires 3 September 2022               [Page 10]

Internet-Draft  Content Delivery Network Interconnection      March 2022


   [SVA]      "Streaming Video Alliance Home Page",
              <https://www.streamingvideoalliance.org>.

Authors' Addresses

   Nir B. Sopher
   Qwilt
   6, Ha'harash
   Hod HaSharon
                4524079
   Israel
   Email: nir@apache.org


   Sanjay Mishra
   Verizon
   13100 Columbia Pike
   Silver Spring, MD 20904
   United States of America
   Email: sanjay.mishra@verizon.com































Sopher & Mishra         Expires 3 September 2022               [Page 11]
