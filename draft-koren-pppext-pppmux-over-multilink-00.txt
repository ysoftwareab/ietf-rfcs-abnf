 
   Internet Engineering Task Force                       Tmima Koren 
   Point-to-Point Protocol Extensions Working Group      Jagdish Sonti
   INTERNET-DRAFT                                        Cisco Systems 
   EXPIRES: February 2006                                July 2005
                                              
    
    
           Optimization of PPP Multiplexing over PPP Multilink
             draft-koren-pppext-pppmux-over-multilink-00.txt 
 
 
Status of this memo 
    
   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

    
Copyright Notice 
    
   Copyright (C) The Internet Society (2005).  All Rights Reserved. 
    
Abstract 
    
PPP Multiplexing combines several packets into one larger PPP packet 
while PPP Multilink fragments large PPP packets into a few smaller PPP
packets. This document explains how to optimize the usage of these two
protocols together.
    
1.   Introduction  

PPP Multiplexing (PPPMux) [PPPMUX] is used over PPP links. It combines a
few PPP packets into one PPP packet. The main usage of PPPMux is to
reduce the bandwidth usage of a PPP link: the muxed packet is shorter
than the combined length of the individual packets. 
PPP Multilink (MLPPP) [MLPPP] is used to combine a few serial links into
one logical link. The MLPPP protocol can also fragment PPP packets that
are larger than the link MTU into smaller fragments that are sent over
the link and reassembled by MLPPP at the other end of the PPP link.
When both PPPMux and MLPPP are used together we have two competing
protocols, one trying to enlarge packets and the other trying to reduce
the packet size. It is good design practice to multiplex the packets to
a size that will not have to be fragmented by MLPPP. The disadvantages
of fragmenting a multiplexed packet areIf a multiplexed packet has to be
fragmented, the bytes added by MLPPP cancel the savings of bytes by
PPPMux, and a lot of processing power is wasted multiplexing and
fragmented.

1.1.  Multilink and link MTU 
       
Each link in a multilink has an MTU associated with it. The link MTU can
be different from link to link. For example, one link can be a full T1
and the other only half a T1. If some of the traffic over the multilink
is delay sensitive, such as voice packets, then it is likely that the
MTU of the narrower link (the half T1) will be set to a smaller value
than the MTU of the wider link (the full T1). When a packet that is
larger than the link MTU is to be sent over that link, the packet will
be fragmented by MLPPP before it is sent over the link.

1.2.  PPPMux and link MTU

PPPMux is performed before MLPPP. It is not desirable to fragment a
multiplexed packet. The efficiency gain achieved by multiplexing is
nullified by the additional multilink headers added on multiple
fragments. Multiplexing and then fragmenting the same packets is a
wasteful computational expense. 

In order to avoid multiplexing followed by fragmentation, PPPMux should
limit the size of the currently multiplexed packet to the MTU of the
link over which this packet is going to be transmitted.

2.   IANA Considerations 
    
   This document does not require any assignments from IANA. 
    
3.   Security Considerations  
    
   The security issues of this document are the same as [PPPMux]. 

4.   References 
    
   Normative References 
    
     [PPPMUX] Pazhyannur, R., Ali, I., and C. Fox, 
       "PPP Multiplexing", RFC3153, August 2001

     [MLPPP] Sklower, K., Lloyd, B., McGregor, G., Carr, D., 
       and T. Coradetti, "The PPP Multilink Protocol (MP)", 
       RFC 1990, August 1996.

    
5.   Authors' Addresses  
   
   Tmima Koren  
   170 West Tasman Drive  
   San Jose, CA  95134  
   United States of America  
    
   Phone: +1 408 527 6169  
   Email: tmima@cisco.com  
    
   Jagdish Sonti  
   170 West Tasman Drive  
   San Jose, CA  95134  
   United States of America  
    
   Phone: +1 408 853 6880  
   Email: jsonti@cisco.com  
    
6.   Copyright Notice  
    
   Copyright (C) The Internet Society (2005).  This document is subject 
   to the rights, licenses and restrictions contained in BCP 78, and 
   except as set forth therein, the authors retain all their rights. 
    
7.   Disclaimers 
    
   This document and the information contained herein are provided 
   on an "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE 
   REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE 
   INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR 
   IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF 
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 
    
    
   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed 
   to pertain to the implementation or use of the technology described 
   in this document or the extent to which any license under such 
   rights might or might not be available; nor does it represent that 
   it has made any independent effort to identify any such rights.  
   Information on the procedures with respect to rights in RFC 
   documents can be found in BCP 78 and BCP 79. 
    
   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use 
   of such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository 
   at http://www.ietf.org/ipr. 
    
   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org. 
    



