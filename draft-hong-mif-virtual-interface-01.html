<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Virtual interface for multiple interfaces in a host</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Virtual interface for multiple interfaces in a host">
<meta name="keywords" content="Internet Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 60em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 60em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 60em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">Y. Hong</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">ETRI</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">J. Youn</td></tr>
<tr><td class="header">Expires: January 13, 2011</td><td class="header">DONG-EUI Univ.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 12, 2010</td></tr>
</table></td></tr></table>
<h1><br />Virtual interface for multiple interfaces in a host<br />draft-hong-mif-virtual-interface-01</h1>

<h3>Abstract</h3>

<p>
	  The simultaneous usage of multiple interfaces in a host may cause the interface change. This document discusses how to solve the problems of interface change in a host and proposes a virtual interface which hides the change of network interface from the host IP stack to support simultaneous usage of multiple interfaces in a host.
	  
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on January 13, 2011.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Introduction of a virtual interface<br />
<a href="#anchor3">3.</a>&nbsp;
Mechanism to use a virtual interface in a host<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.1.</a>&nbsp;
Architecture of a virtual interface in a host<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.2.</a>&nbsp;
Operations of a host with a virtual interface<br />
<a href="#Security">4.</a>&nbsp;
Security Considerations<br />
<a href="#IANA">5.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">6.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
	  In traditional TCP/IP network environments, a communication entity usually has a wire connection
	  with a single network interface and it is fixed. As an introduction of wireless technologies and
	  heterogeneous access technologies, a communication entity is able to move around between different access technologies networks and have multiple network interfaces <a class='info' href='#I-D.ietf-monami6-multihoming-motivation-scenario'>[1]<span> (</span><span class='info'>Ernst, T., Montavont, N., Wakikawa, R., Ng, C., and K. Kuladinithi, &ldquo;Motivations and Scenarios for Using Multiple Interfaces and Global Addresses, 			   draft-ietf-monami6-multihoming-motivation-scenario-03,&rdquo; May&nbsp;2008.</span><span>)</span></a>.
	  
</p>
<p>
	  Because traditional network applications and TCP/IP stack are developed for a communication entity
	  which has a single network interface, the adoption of multiple network interfaces into a general
	  communication entity makes some problems. Because of the change of network interface during
	  communication, there may be many considerations to support multiple interfaces in a host 
	  <a class='info' href='#I-D.ietf-mif-problem-statement'>[2]<span> (</span><span class='info'>Blanchet, M. and P. Seite, &ldquo;Multiple Interfaces Problem Statement, draft-ietf-mif-problem-statement-05 (work in progress),&rdquo; July&nbsp;2010.</span><span>)</span></a>.
	  
</p>
<p>
	  In order to solve the problems mentioned above, we propose a virtual interface scheme for a host with multiple network interfaces. We currently use a virtual interface to provide the duplication of network connections through multiple network interface cards on an important network node such as a server. With a virtual interface scheme, the host with multiple interfaces can operate as it has a single interface irrespective to the number of network interfaces <a class='info' href='#I-D.melia-netext-logical-interface-support-00'>[3]<span> (</span><span class='info'>Melia, T. and S. Gundavelli, &ldquo;Logical Interface Support for multi-mode IP Hosts, draft-melia-netext-logical-interface-support-00 (work in progress),&rdquo; July&nbsp;2010.</span><span>)</span></a>. 
	  
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Introduction of a virtual interface</h3>

<p>
	  In some operating systems such as Linux (or Unix), most network interfaces, such as eth0, wlan, and ppp, are associated to a physical and/or logical devices that are in charge of transmitting and receiving data packets. However, there are exceptions to this rule, and some logical network interfaces do not feature any physical packet transmission. 
	  
</p>
<p>
	  The virtual interface is not a real physical device and it is a logical 
network interface. It has connections with physical network devices within a network
 entity and the path between the virtual interface and real physical network devices 
 is determined dynamically according to some policy.
    
</p>
<p>
    The virtual interface is registered	to the network layer and it is regarded as a 
    general network interface. Then real physical interfaces are connected to the
    virtual interface. The network layer does not know the existence of these physical interfaces.
	  
</p>
<p>
	  The virtual interface can be used for the duplication of network connections (the
	  duplication of network interface cards) for fault tolerance or load sharing. If an important server has multiple physical network interface cards, it can survive even though one network interface card is down. It can keep a communication session with other live network interface cards. In this case, the presence of multiple network interface cards can be hidden to network layer and network layer regards the virtual inerface as a general network interface. The traditional network applications and
	  network modules such as TCP/IP do not need to be modified to support multiple network interfaces in a host if a virtual interface is used. 
	  
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Mechanism to use a virtual interface in a host</h3>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Architecture of a virtual interface in a host</h3>

<p>
		In the following figure, network interfaces if_1, if_2 are real physical interfaces. The network interface VI is a virtual interface. The virtual interface is connected to the physical interfaces and it is shown to the network layer. In this figure, the network layer uses the virtual interface VI instead of physical interfaces if_1, if_2. To handle the virtual interface, the host needs a specific module (e.g., connection manager)to manage the virtual interface and select the path between the virtual 
		interface and physical interfaces.
		
</p><br /><hr class="insert" />
<a name="vi-archi"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                  +-------------------------------+
                  |         Applications          |
                  |-------------------------------|
                  |        Transport area         |
                  |-------------------------------|
                  |         network area          |
                  |-------------------------------|
                  |      +------------------+   +------------+
                  |      | Virtual Interface|   | Connection |
                  |      |       (VI)       |   | Manager    |
                  |      +------------------+   +------------+
                  |           /        \          |
                  |          /          \         |
                  | +------------+ +------------+ |
                  | | Interface 1| | Interface 2| |
                  | |   (if_1)   | |   (if_2)   | |
                  | +------------+ +------------+ |
                  +-------------------------------+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Architecture of a virtual interface in a
			host with two physical interfaces&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Operations of a host with a virtual interface</h3>

<p>
		When a network module in a host starts, the virtual interface is configured
		to send and receive packets. In Figure 1, if the host uses a physical interface if_1, the path between the virtual interface VI and the physical interface if_1 is configured.
		
</p>
<p>
		When sending packets to another node, packets are delivered to the virtual interface and these packets are also forwarded into physical interface if_1 according to the path configuration. When receiving packets from another node, packets are delivered to if_1 and these packets are also forwarded into VI according to the path configuration. 
		
</p>
<p>		
		If the host changes another interface due to movement of a host or the failure of network interface, the host chooses a physical interface if_2 and then makes the path between the virtual interface VI and the physical interface if_2. At this time, the connection manager updates the relation between a destination address and a network interface. When the host is sending packets to another node, packets are delivered to VI and these packets are forwarded into if_2 according to the path configuration. When the host is receiving packets from another node, packets are delivered to if_2 and these packets are also forwarded into VI according to the path configuration.
		
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
	  TBD
	  
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>This document has no actions for IANA.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-monami6-multihoming-motivation-scenario">[1]</a></td>
<td class="author-text">Ernst, T., Montavont, N., Wakikawa, R., Ng, C., and K. Kuladinithi, &ldquo;Motivations and Scenarios for Using Multiple Interfaces and Global Addresses,
			   draft-ietf-monami6-multihoming-motivation-scenario-03,&rdquo; May&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mif-problem-statement">[2]</a></td>
<td class="author-text">Blanchet, M. and P. Seite, &ldquo;Multiple Interfaces Problem Statement, draft-ietf-mif-problem-statement-05 (work in progress),&rdquo; July&nbsp;2010.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.melia-netext-logical-interface-support-00">[3]</a></td>
<td class="author-text">Melia, T. and S. Gundavelli, &ldquo;Logical Interface Support for multi-mode IP Hosts, draft-melia-netext-logical-interface-support-00 (work in progress),&rdquo; July&nbsp;2010.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yong-Geun Hong</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ETRI</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">161 Gajeong-Dong Yuseung-Gu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Daejeon,   305-700</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Korea</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+82 42 860 6557</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yonggeun.hong@gmail.com">yonggeun.hong@gmail.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Joo-Sang Youn</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">DONG-EUI Univ.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Busan,   </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Korea</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+82 51 890 1993</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:joosang.youn@gmail.com">joosang.youn@gmail.com</a></td></tr>
</table>
</body></html>
