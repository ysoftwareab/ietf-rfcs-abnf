<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Hybrid home network prefix for multihoming in PMIPv6</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Hybrid home network prefix for multihoming in PMIPv6">
<meta name="keywords" content="Internet Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">Y. Hong</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">ETRI</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">J. Youn</td></tr>
<tr><td class="header">Expires: September 9, 2010</td><td class="header">DONG-EUI Univ.</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 08, 2010</td></tr>
</table></td></tr></table>
<h1><br />Hybrid home network prefix for multihoming in PMIPv6<br />draft-hong-netext-hybrid-hnp-01</h1>

<h3>Abstract</h3>

<p>
	  Proxy Mobile IPv6 (PMIPv6) supports multihoming where a mobile node can connect to a PMIPv6 domain through multiple interfaces for simultaneous access. However, for an inter-technology handoff, PMIPv6 does not allow simultaneous access since all the home network prefixes associated with one interface are associated with another interface of a mobile node. In this document, we propose a hybrid home network prefix assignment (HHNPA) scheme where both the static prefix model and the dynamic prefix model are used for simultaneous access. The static prefix model is used within the general PMIPv6 domain. On the other hand, the dynamic prefix model is employed for inter-technology handoff. That is, for IP session continuity during inter-technology handoff, a dynamic prefix model is used on both interfaces.
	  
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 9, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Problem statement of multihoming support in PMIPv6<br />
<a href="#anchor3">3.</a>&nbsp;
Hybrid home network prefix assignment<br />
<a href="#Security">4.</a>&nbsp;
Security Considerations<br />
<a href="#IANA">5.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">6.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">6.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">6.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
		Mobile IPv6 [RFC3775]<a class='info' href='#RFC3775'>[1]<span> (</span><span class='info'>Johnson, D., Perkins, C., and J. Arkko, &ldquo;Mobility Support in IPv6,&rdquo; June&nbsp;2004.</span><span>)</span></a> and Mobile IPv4 [RFC3344]<a class='info' href='#RFC3344'>[2]<span> (</span><span class='info'>Perkins, C., &ldquo;IP Mobility Support for IPv4,&rdquo; August&nbsp;2002.</span><span>)</span></a> are host based IP mobility support protocols. On the other hand, Proxy Mobile IPv6 (PMIPv6) [RFC5213]<a class='info' href='#RFC5213'>[3]<span> (</span><span class='info'>Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K., and B. Patil, &ldquo;Proxy Mobile IPv6,&rdquo; August&nbsp;2008.</span><span>)</span></a> is a network based IP mobility support protocol, which does not require any modifications to mobile nodes(MNs). PMIPv6 makes it possible to support mobility for IPv6 nodes without an involvement of a MN. That is, on behalf of MNs, a mobile access gateway (MAG) in the network performs the signaling for mobility management with a local mobility anchor (LMA).
		
</p>
<p>
		PMIPv6 defines basic operations for registration, deregistration, and tunnel management. However, it does not define protocol operations for supporting seamless handover for a MN with multiple network interfaces (i.e., inter-technology handoff) <a class='info' href='#I-D.devarapalli-netext-multi-interface-support-00'>[5]<span> (</span><span class='info'>Devarapalli, V., Kant, N., Lim, H., and C. Vogt, &ldquo;Multiple Interface Support with Proxy Mobile IPv6, draft-devarapalli-netext-multi-interface-support-00,&rdquo; March&nbsp;2009.</span><span>)</span></a>. While PMIPv6 itself supports handover across different interfaces and access types, there are several issues for efficient inter-technology handoff, e.g., how to set interface identifier, how to use the same address on multiple interfaces, how to select an access technology, and how to detect and manage a handover event <a class='info' href='#I-D.krishnan-netext-intertech-ps'>[6]<span> (</span><span class='info'>Krishnan, S., Yokota, H., Melia, T., and C. Bernardos, &ldquo;Issues with network based inter-technology handovers, draft-krishnan-netext-intertech-ps-02,&rdquo; July&nbsp;2009.</span><span>)</span></a>. 
		
</p>
<p>
		PMIPv6 basically support multihoming where a MN can connect to a PMIPv6 domain through multiple interfaces for simultaneous access and inter-technology handoff between different multiple interfaces. If a MN with multiple interfaces connects to a PMIPv6 domain over multiple access networks, the LMA will allocate a unique set of home network prefixes (HNPs) for each of the connected interfaces. However, when the MN performs an inter-technology handoff, the LMA will newly assign all the home network prefixes, which are associated with the first interface, to the second interface. Consequently, the existing mobility sessions with the second interface will be disrupted. Fundamentally, this problem has been caused due to the fact that each of the attached interfaces must be assigned one or more unique prefixes in PMIPv6. Therefore, to solve this problem, we propose a hybrid home network prefix assignment (HHNPA) scheme where both the static prefix model and the dynamic prefix model are employed and dynamically selected. That is, for IP session continuity after inter-technology handoff, a dynamic home network prefix is used on both interfaces. 
		
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Problem statement of multihoming support in PMIPv6</h3>

<p>
		To support multiple mobility sessions for a single MN with multiple interfaces, PMIPv6 creates mobility sessions per interface and each mobility session should be managed as a separate binding cache (BC) entry. Note that although the LMA can allocate more than one home network prefix to an interface, all these prefixes are managed by one mobility session. The LMA allows a handoff between two different interfaces of a MN.  In such a scenario, all the home network prefixes associated with one interface will be associated with another interface of the MN.  The decisions on when to create a new mobility session and when to update an existing mobility session are based on the handover hint included in the Proxy Binding Update message.
		
</p>
<p>
		Basic operations for multiple interfaces in PMIPv6 are as follows. First of all, the MAG decides whether to inform the LMA of the attachment of the second interface (or an inter-technology handoff), and then the MAG sends a Proxy Binding Update (PBU) message. When the LMA receives the PBU message, it verifies the request message. If the PBU message includes a handoff indicator flag of 1 (i.e., initial attachment), the LMA allocates a new mobility session for second interface and thus the LMA has multiple Binding Cache entries. On the other hand, if the PBU message has a handoff indicator flag of 2 (i.e., inter-technology handoff), all the home network prefixes associated with the first interface will be associated with the second interface. Figures 1 and 2 describe the operations of two cases: initial attachment and inter-technology handoff. In particular, as shown in Figure 2, for inter-technology handoff, HNP_2 is overwritten with HNP_1 and then the existing mobility session 1 is removed from the binding cache entry at the LMA. 
		
</p><br /><hr class="insert" />
<a name="hhnpa-1"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

               +----+
               |LMA |                  LMA BC entry
               +----+                 (before assigning
                //\\                   multiple mobility sessions)
     +---------//--\\-------------+    -----------------
    (         //    \\  PMIPv6     )   MN:if_1 [HNP_1] --&gt; MAG1
    (        //      \\  domain    )
     +------//--------\\----------+
           //          \\
          //            \\             LMA BC entry
       +----+           +----+        (after assigning
       |MAG1|           |MAG2|         multiple mobility sessions)
       +----+           +----+         -----------------
         |                |            MN:if_1 [HNP_1] --&gt; MAG1
         |                |            MN:if_2 [HNP_2] --&gt; MAG2
   HNP_1 | if_1      if_2 | HNP_2
         +------[MN]------+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: Multihoming in PMIPv6 : Initial attachment&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="hhnpa-2"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

               +----+
               |LMA |                  LMA BC entry
               +----+                 (before inter-technology
                //\\                   handoff)
     +---------//--\\-------------+    -----------------
    (         //    \\  PMIPv6     )   MN:if_1 [HNP_1] --&gt; MAG1
    (        //      \\  domain    )   MN:if_2 [HNP_2] --&gt; MAG2
     +------//--------\\----------+
           //          \\
          //            \\             LMA BC entry
       +----+           +----+        (after inter-technology
       |MAG1|           |MAG2|         handoff)
       +----+           +----+         -----------------
         |                |
         |                |            MN:if_2 [HNP_1] --&gt; MAG2
   HNP_1 | if_1      if_2 | HNP_2
         +------[MN]------+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Multihoming in PMIPv6 : Inter-technology handoff&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
		These multihoming operations in PMIPv6 have the following problems.
		
</p>
<p>
		Fist, since the LMA assigns the same home network prefix to the second interface after inter-technology handoff and updates the existing Binding Cache entry, the previous binding information of the second interface can be removed. Therefore, the existing flows through the second interface may be disrupted  <a class='info' href='#I-D.devarapalli-netext-multi-interface-support-00'>[5]<span> (</span><span class='info'>Devarapalli, V., Kant, N., Lim, H., and C. Vogt, &ldquo;Multiple Interface Support with Proxy Mobile IPv6, draft-devarapalli-netext-multi-interface-support-00,&rdquo; March&nbsp;2009.</span><span>)</span></a>.
		
</p>
<p>
		In addition, since there is no way to enable flow-specific handoffs, compelled handoff of unwanted IP flows can be performed due to inter-technology handoff. The existing multihoming operations have drawbacks in terms of implementation.
		
</p>
<p>
		As mentioned before, the MAG should set the handoff indicator flag (e.g., 1 for initial attachment or 2 for inter-technology handoff). However, the MAG does not have sufficient information on multihoming support and thus it is not an easy task to distinguish initial attachment and interface handoff <a class='info' href='#I-D.krishnan-netext-intertech-ps'>[6]<span> (</span><span class='info'>Krishnan, S., Yokota, H., Melia, T., and C. Bernardos, &ldquo;Issues with network based inter-technology handovers, draft-krishnan-netext-intertech-ps-02,&rdquo; July&nbsp;2009.</span><span>)</span></a>.
		
</p>
<p>
		Moreover, all home network prefixes are determined when the first mobility session is generated for a corresponding interface. Therefore, there is no way to add or delete a new home network prefix <a class='info' href='#I-D.jeyatharan-netext-multihoming-ps'>[7]<span> (</span><span class='info'>Jeyatharan, M. and C. Ng, &ldquo;Multihoming Problem Statement in NetLMM, draft-jeyatharan-netext-multihoming-ps-01,&rdquo; March&nbsp;2009.</span><span>)</span></a>. To address these issues, we propose a hybrid home network prefix assignment scheme in the next section.
		
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Hybrid home network prefix assignment</h3>

<p>
		In terms of home network prefix allocation in PMIPv6, the per-MN prefix model is mandatory whereas the shared prefix model is not supported. In the per-MN prefix model, home network prefixes are assigned to a MN and these prefixes are exclusively used by the MN; no other MNs share the home network prefix. Note that all assigned prefixes are unique and they are parts of one mobility session.  If the MN simultaneously attaches to a PMIPv6 domain through multiple interfaces, each of the attached interfaces must be assigned one or more unique prefixes. Therefore, when performing an inter-technology handoff based on the per-MN prefix model, simultaneous access to the PMIPv6 domain is not allowed. If it is able to separate prefixes into the purpose of inter-technology handoff and the purpose of simultaneous access, PMIPv6 may support both interface handoff and simultaneous access at the same time. Based on this idea, we propose a hybrid home network prefix assignment (HHNPA) scheme to use both the static and dynamic home network prefix models. 
		
</p>
<p>		
		Figure 3 introduces the concept of the HHNPA scheme where the LMA divides home network prefixes into a static home network prefix and a dynamic home network prefix. The static home network prefix (based on the per-MN prefix model) is used within the PMIPv6 domain. On the other hand, the dynamic home network prefix is employed for inter-technology handoffs. 
		
</p><br /><hr class="insert" />
<a name="hhnpa-3"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

         +--------------------------------+
         |                                |
         |               +----------------+---------------+
         |               |                |               |
         |     HNP_1     |      HNP_2     |     HNP_3     |
         |(static prefix)|(dynamic prefix)|(static prefix)|
         |               |                |               |
         |               +----------------+---------------+
         |                                |       if_2
         +--------------------------------+
                if_1

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Prefix model in HHNPA&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
		In the dynamic prefix model, dynamic prefixes are assigned into only one interface and they are switchable between interfaces. Dynamic prefixes are not used multiple interfaces simultaneously. In contrast to dynamic prefixes, static prefixes cannot be switchable between interfaces. As shown in Figure 4, HNP_1 is static prefix and it is used at only if_1. HNP_3 is static prefix and it is used at only if_2. HNP_2 is dynamic prefix and it can be used both if_1 and if_2. In this figure, HNP_1 and HNP_3 are used for simultaneous access and HNP_2 is used for inter-technology handoff. 
		
</p><br /><hr class="insert" />
<a name="hhnpa-4"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

                           +----+
                           |LMA |
                           +----+
                            //\\
                 +---------//--\\-------------+
                (         //    \\  PMIPv6     )
                (        //      \\  domain    )
                 +------//--------\\----------+
                       //          \\
                      //            \\
                  +----+           +----+
                  |MAG1|&lt;--HNP_2--&gt;|MAG2|
                  +----+           +----+
                    |                |
                    |                |
              HNP_1 | if_1      if_2 | HNP_3
                    +------[MN]------+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Usage scenario of HHNPA scheme&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
		Figure 5 describes the message flow in the HHNPA scheme. At the starting time, a MN is attached the PMIPv6 domain through MAG_1 using interface 1. After that, the MN is attached the PMIPv6 domain through MAG_2 using interface 2. When second interface of the MN is attached to the LMA, the LMA acknowledges that the MN is a multiple interfaces node and prepares to allocate a dynamic prefix. The LMA sends two PBA messages to MAG_1 and MAG_2. The two PBA messages destined to MAG_1 and MAG_2 includes a home network prefix option (HNP_2: dynamic prefix).
		
</p><br /><hr class="insert" />
<a name="hhnpa-5"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

      +------+                +-----+     +-----+                +-----+
      |  MN  |                |MAG_1|     |MAG_2|                | LMA |
      +------+                +-----+     +-----+                +-----+
       |   |                     |           |                      |
       |   |MN[if_1] attach  MAG_1           |                      |
       |   |--------------------&gt;|         (MN-ID, if_1, ...)       |
       |   |                     |---------------PBU---------------&gt;|
       |   |                     |           |                      |
       |   |                     |(MN-ID, if_1, HNP_1:static prefix)|
       |   |                     |&lt;--------------PBA----------------|
       |   |                     |           |                      |
       |   |                     |========= Bi-Dir Tunnel ==========|
       |   |&lt;---RtAdv[HNP_1]-----|           |                      |
       |   |                     |&lt;----------data to HNP_1----------|
       |   |&lt;---data to HNP_1----|                                  |
       |   |                     |           |                      |
       |- - - MN[if_2] attach MAG_2---------&gt;|   (MN-ID, if_2, ...) |
       |   |                     |           |----------PBU--------&gt;|
       |   |                     |           |                      |
       |   |                     |   (MN-ID, if_2, HNP_3:static prefix)
       |   |                     |           |&lt;--------PBA----------|
       |   |                     |           |                      |
       |   |                     |           |===== Bi-Dir Tunnel===|
       |&lt;-------RtAdv[HNP_3]-----------------|                      |
       |   |                     |           |                      |
       |   |                     |  (MN-ID, if_2, HNP_2:dynamic prefix)
       |   |                     |           |&lt;-------*PBA*---------|
       |&lt;-------RtAdv[HNP_2]-----------------|                      |
       |   |                     |           |                      |
       |   |                     |  (MN-ID, if_1, HNP_2:dynamic prefix)
       |   |                     |&lt;--------------*PBA*--------------|
       |   |&lt;---RtAdv[HNP_2]-----|           |                      |
       |   |                     |           |&lt;----data to HNP3-----|
       |   |&lt;---data to HNP3-----------------|                      |
       |   |                     |           |                      |
    [if_2][if_1]

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Message flow of HHNPA scheme&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
		After the completion of attachment of the MN through two interfaces, the operations of interface handoff of the MN are as depicted in Figure 6 and Figure 7. As shown in Figure 6, the dynamic prefix HNP_2 is assigned into interface 1. If the MN wants inter-technology handoff, the MN gives some hint of inter-technology handoff to the MAG_2. The MAG_2 which receives hint of inter-technology handoff sends a PBU message with a handoff indicator value of 2 to the LMA. The LMA which receives this PBU message updates the Binding Cache entry filed which is related to dynamic prefix HNP_2. The updated fields of Binding Cache entry are interface and tunnel information. After the completion of updating of Binding Cache entry, the LMA sends data which is relation to HNP_2 to the MAG_2.
		
</p><br /><hr class="insert" />
<a name="hhnpa-6"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

               +----+
               |LMA |                  LMA BC entry
               +----+                 (before inter-handoff)
                //\\                   -----------------
     +---------//--\\-------------+    MN:if_1 [HNP_1] --&gt; MAG1
    (         //    \\  PMIPv6     )   MN:if_2 [HNP_3] --&gt; MAG2
    (        //      \\  domain    )   MN:if_1 [HNP_2] --&gt; MAG1
     +------//--------\\----------+
           //          \\
          //            \\             LMA BC entry
       +----+           +----+        (after inter-handoff)
       |MAG1|--&gt;HNP_2--&gt;|MAG2|         -----------------
       +----+           +----+         MN:if_1 [HNP_1] --&gt; MAG1
         |                |            MN:if_2 [HNP_3] --&gt; MAG2
         |                |            MN:if_2 [HNP_2] --&gt; MAG2
   HNP_1 | if_1      if_2 | HNP_3
         +------[MN]------+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Usage scenario of dynamic prefix in HHNPA scheme&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
		The HHNPA scheme has advantages of deciding a handoff indication flag. After the LMA assigns static and dynamic home network prefixes to MAGs, if MAG_2 receives handoff hint, MAG_2 checks the existence of the MN_identifier. If the MN_identifier related to the dynamic prefix HNP_2 is exist, the MAG_2 acknowledges that there is a mobility session of inter-technology handoff. So, the MAG_2 can easily determine the value of handoff indication. This operation is depicted in Figure 7.
		
</p><br /><hr class="insert" />
<a name="hhnpa-7"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>

               +----+
               |LMA |                  LMA BC entry
               +----+                 (before inter-handoff)
                //\\                   -----------------
     +---------//--\\-------------+    MN:if_1 [HNP_1] --&gt; MAG1
    (         //    \\  PMIPv6     )   MN:if_2 [HNP_3] --&gt; MAG2
    (        //      \\  domain    )   MN:if_1 [HNP_2] --&gt; MAG1
     +------//--------\\----------+
           //          \\
          //            \\             Routing table in MAG1
       +----+           +----+         -----------------
       |MAG1|--&gt;HNP_2--&gt;|MAG2|         HNP_1, HNP_2(dynamic) -&gt; MN:if_1
       +----+           +----+
         |                |            Routing table in MAG1
         |                |            -----------------
   HNP_1 | if_1      if_2 | HNP_3      HNP_3, HNP_2(dynamic) -&gt; MN:if_2
         +------[MN]------+

</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: Setting of handoff indicator flag in HHNPA scheme&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
	  TBD.
	  
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>This document has no actions for IANA.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3775">[1]</a></td>
<td class="author-text">Johnson, D., Perkins, C., and J. Arkko, &ldquo;<a href="http://tools.ietf.org/html/rfc3775">Mobility Support in IPv6</a>,&rdquo; RFC&nbsp;3775, June&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3775.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3344">[2]</a></td>
<td class="author-text">Perkins, C., &ldquo;<a href="http://tools.ietf.org/html/rfc3344">IP Mobility Support for IPv4</a>,&rdquo; RFC&nbsp;3344, August&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3344.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5213">[3]</a></td>
<td class="author-text">Gundavelli, S., Leung, K., Devarapalli, V., Chowdhury, K., and B. Patil, &ldquo;<a href="http://tools.ietf.org/html/rfc5213">Proxy Mobile IPv6</a>,&rdquo; RFC&nbsp;5213, August&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5213.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3963">[4]</a></td>
<td class="author-text">Devarapalli, V., Wakikawa, R., Petrescu, A., and P. Thubert, &ldquo;<a href="http://tools.ietf.org/html/rfc3963">Network Mobility (NEMO) Basic Support Protocol</a>,&rdquo; RFC&nbsp;3963, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3963.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.devarapalli-netext-multi-interface-support-00">[5]</a></td>
<td class="author-text">Devarapalli, V., Kant, N., Lim, H., and C. Vogt, &ldquo;Multiple Interface Support with Proxy Mobile IPv6, draft-devarapalli-netext-multi-interface-support-00,&rdquo; March&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.krishnan-netext-intertech-ps">[6]</a></td>
<td class="author-text">Krishnan, S., Yokota, H., Melia, T., and C. Bernardos, &ldquo;Issues with network based inter-technology handovers, draft-krishnan-netext-intertech-ps-02,&rdquo; July&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.jeyatharan-netext-multihoming-ps">[7]</a></td>
<td class="author-text">Jeyatharan, M. and C. Ng, &ldquo;Multihoming Problem Statement in NetLMM, draft-jeyatharan-netext-multihoming-ps-01,&rdquo; March&nbsp;2009.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yong-Geun Hong</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">ETRI</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">161 Gajeong-Dong Yuseung-Gu</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Daejeon,   305-700</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Korea</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+82 42 860 6557</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yonggeun.hong@gmail.com">yonggeun.hong@gmail.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Joo-Sang Youn</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">DONG-EUI Univ.</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Busan,   </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Korea</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+82 51 890 1993</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:joosang.youn@gmail.com">joosang.youn@gmail.com</a></td></tr>
</table>
</body></html>
