

     Internet Draft                                       Greg Vaudreuil
     Expires in six months                           Lucent Technologies
                                                        December 1, 1999
                           Voice Messaging Directory:
                          Address Resolution Services

                      <draft-vaudreuil-vpimdir-ars-00.txt>



  Status of this Memo

     This document is an Internet-Draft and is in full conformance with all
     provisions of Section 10 of RFC2026.

     This document is an Internet Draft.  Internet Drafts are working
     documents of the Internet Engineering Task Force (IETF), its Areas,
     and its Working Groups.  Note that other groups may also distribute
     working documents as Internet Drafts.

     Internet Drafts are valid for a maximum of six months and may be
     updated, replaced, or obsoleted by other documents at any time.  It is
     inappropriate to use Internet Drafts as reference material or to cite
     them other than as a "work in progress".

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


     To learn the current status of any Internet-Draft, please check the
     "1id-abstracts.txt" listing contained in the Internet-Drafts Shadow
     Directories on ftp.is.co.za (Africa), nic.nordu.net (Europe),
     munnari.oz.au (Pacific Rim), ds.internic.net (US East Coast), or
     ftp.isi.edu (US West Coast).



  Copyright Notice

     Copyright (C) The Internet Society (1999).  All Rights Reserved.

     This Internet-Draft is in conformance with Section 10 of RFC2026.

  Overview

     This document provides details of the address resolution service
     inter-domain message routing, and address validation server discovery
     of ane experimental voice messaging directory service. The service is
     described in [vpime164].

     Please send comments on this document to the author, Greg Vaudreuil
     <gregv@lucent.com>.



     Internet Draft           VPIM Directory            December 1, 1999


  Working Group Summary

     This document is not the product of an IETF working group.  It
     documents a inter-company voice message interchange experiment
     conducted over the Internet as a project of the Telemessaging Industry
     Association (TMIA) http://www.tmia.org.  The TMIA is a consortium of
     large North American wireline and wireless telephone companies.
















































     Vaudreuil, Parsons       Expires 5/1/00                    [Page 2]



     Internet Draft           VPIM Directory            December 1, 1999


  Table of Contents

  1. ABSTRACT ............................................................4
  2. OPERATIONAL GOALS AND CONSTRAINTS ...................................4
    2.1Performance Goals .................................................4
    2.2Scaling Goals .....................................................5
    2.3Administrative / Operational goals ................................5
    2.4Interoperability Goals ............................................5
  3. ADDRESS RESOLUTION SERVICE ..........................................6
  4. SECURITY CONSIDERATIONS .............................................6
  5. REFERENCES ..........................................................7
  6. ACKNOWLEDGMENTS .....................................................7
  7. COPYRIGHT NOTICE ....................................................7
  8. AUTHORS' ADDRESSES ..................................................8









































     Vaudreuil, Parsons       Expires 5/1/00                    [Page 3]



     Internet Draft           VPIM Directory            December 1, 1999


  1. Abstract

     The telephone number delegation and call routing system is a
     hierarchitecal system. ITU standard E.164 defines the structure of the
     telephone number as follows:

     {country code) (Nationally significant part)

     The country code may be from one to three digits, and the total length
     may be up to 16 digits.  The nationally significant portion may be
     arbitraily divided on any number boundary.  In many countries numering
     plans, the divisions are not uniform, that is, the "area codes" or
     "City codes" may be of varying lengths within a single country and the
     total number of digits may be variable.

     Within this flexiblity, it is always the case that the delegation of
     authority is done left-to-right. With this assumption, a numbering
     tree can be built on a digit-by-digit basis can represent any of these
     hierarchical structures.  DNS permits the delegation of authority on
     arbitary boundaries such that a delegation to country code "1", "44",
     and "972" can all coexist under a single numbering plan root.  The
     same applies for "area codes", "City codes" or "service selectors"
     within numbering plans.

     The protocol mechanics outlined in this document are devised in such a
     manner that the clients do not need any knowledge of the numbering
     plan itself to correctly construct a query of the Address Resolution
     Service.  The client may mechanically collect digits, format the
     query, and receive a response to any telephone number in the world.

  2. Operational Goals and Constraints

  2.1 Performance Goals

     The entire time budget for the address resolution query is 500
     milliseconds.  The telephone number hierarchy technically has a
     maximum depth of 16.  In practice four levels are a practical maximum
     number of delegations. In DNS, each sub-delegation may require an
     additional chained or referred query.  In a well connected and
     correctly functioning system, each query should take no more than
     100ms. For the common case, caching of the country codes will
     typically reduce the total number of queries to one or two.  With
     this, we believe the latency requirements are achievable.

     After resolving the address, the address validation server must be
     found.  The time budget is 250ms.  Retreival of a DNS record from a
     traditional domain name may require up to three lookups based on the
     depth of the the domain name delegation.  Since the top-level lookup
     is effectively cached, two DNS queries are typically required.  In
     practice, the number of destination networks to which message are sent
     is relatively small, so caching may further reduce the number of
     queries necessary. At 100ms two queries is just within the 250ms time
     budget.


     Vaudreuil, Parsons       Expires 5/1/00                    [Page 4]



     Internet Draft           VPIM Directory            December 1, 1999


  2.2 Scaling Goals

     Without local number portability, it should not be necessary to
     provision each telephone number into the DNS. Within North America,
     the delegation of phone numbers to local exchange carriers is done on
     the 6th digit boundary.  (Counter to common belief, the Area Code is
     not a delegation point).  Today, the total number of number
     delegations under country code 1 is about 125K.  This is within the
     number of subdomains that can be supported on a suitably resourced DNS
     server.

     For an NPA/NXX that is subject to number portability, each telephone
     number may be considered a separate sub-delegation.  In the worst
     case, the total number of sub-delegations may reach a theoretical 10K.
     While it is not expected that this volatile data will be placed in a
     DNS zone file, it is at least technically possible.  A more likely
     implementation would be a DNS interface into a relational database or
     service provider operational database.

  2.3 Administrative / Operational goals

     The maintenance of the hierarchy needs to be as mechanical as
     possible.  There is not yet a business case for managing the DNS sub-
     tree, so the total expense needs to be within the budget of some
     willing donor organization.

     The top-level delegations of country codes are public information.
     While the creation and destruction of nations is not uncommon, the
     data is relatively static.

     Delegations within North America are managed through the Local Routing
     Authority (LRA) which publishes a quarterly list of delegations called
     the Local Exchange Routing Guide (LERG).  This guide is available by
     subscription from Telecordia, the LRA secretariat, for a nominal fee.

     Within North America, the mapping between the Operating Company Number
     (OCN) and a domain name is not currently available.  This is expected
     to be relatively static mapping that will add entries as new service
     providers join the experimental directory service.  Initially the
     total number is expected to be well under one hundred.  The total
     number of operating companies is well under a thousand.  This
     registration process is not expected to be excessively burdensome.

     Converting the LERG plus the domain to OCN mapping data into DNS zone
     files is a mechanical process that lends itself to scripting.  This is
     not expected to incur substantial operational costs.

  2.4 Interoperability Goals

     It is intended that this solution work with the common, deployed DNS
     resolver libraries in the most common operating systems.  It is
     understood that application clients will have to be created that
     understand the specific "schema" for address resolution.


     Vaudreuil, Parsons       Expires 5/1/00                    [Page 5]



     Internet Draft           VPIM Directory            December 1, 1999


  3. The Address Resolution Service

     The address resolution service loads the telephone number hierarchy
     into the domain name system.  This is performed by splitting the
     telephone number into single-digit units and treating each digit as a
     DNS domain-label.  The DNS is thus queried by converting the dialed
     telephone number into a domain name and using that domain name to
     query for a record from DNS.

     The ARS query simply requests the responsible domain for a given
     telephone number.  This can most simply provided by using the widely
     deployed PTR record and applying it to this role.  With the PTR, a
     query by a telephone number converted into a domain name form can
     return the domain name associated with it!

     Sub-delegations of the ARS can be achieved with the existing
     mechanism.  (add description)

     The inter-domain VPIM email address is constructed by converting the
     dialed telephone number into international form and concatenating it
     with the domain name returned in the PTR record from the DNS query.

     Example:

        Configuration file for the NANP node in the DNS tree


            *.3.3.7.2.7.9    PTR   Voice.SP.net (for 972 733)

            *.3.2.8.4.1.2    PTR   Voice.SP.net  (for 214 823)

       Example query using telephone number +1 972 733 2722

            Query:  2.2.7.2.3.3.7.2.7.9.1.e164.int
            Result:  PTR = voice.SP.net

       Resulting Inter-domain email address:

            +19727332722@voice.sp.net


  4. Security Considerations

     The following are known security issues taken into consideration in
     the definition of this directory service.

     1) Registration of a domain name for an OCN that belongs to another
     carrier may result in messages being mis-directed to the wrong
     carrier.

     2) As sub-delegations are implemented, the risk that the phone numbers
     delegated to one enterprise may be mis-pointed at another will
     increase.


     Vaudreuil, Parsons       Expires 5/1/00                    [Page 6]



     Internet Draft           VPIM Directory            December 1, 1999


  5. References

  [MIMEDIR] F. Dawson, T. Howes, & M. Smith, "A MIME Content-Type for
      Directory Information", Work In Progress, <draft-ietf-asid-mime-
      direct-06.txt>, March 1998

  [DNS1] Mockapetris, P., "Domain names - implementation and
      specification", RFC1035, Nov 1987.

  [DNS2] Mockapetris, P., "Domain names - concepts and facilities", RFC
      1034, Nov 1987.

  [E164] CCITT Recommendation E.164 (1991), Telephone Network and ISDN
      Operation, Numbering, Routing and  Mobile Service - Numbering Plan
      for the ISDN Era.

  [TPC1] Malamud, Carl, Rose, Marshall, "Principles of Operation for the
      TPC.INT Subdomain: Remote Printing -- Technical Procedures", RFC
      1530, October 1993.

  [VPIM2] Vaudreuil, Greg, Parsons, Glen, "Voice Profile for Internet
      Mail, Version 2", RFC 2421, September 1998.

  [VPIMe164] Vaudreuil, Greg "Voice Messaging Directory Service:
      Principles of Operation", work-in-progress



  6. Acknowledgments

     This experimental directory builds upon the earlier work of Carl
     Malamud and Marshall Rose in thier TPC.INT remote printing experiment
     and the work lead by Anne Brown as part of the EMA voice messaging
     committee's directory effort.

     Bernard Elliot working with the TMIA has provided most of the
     organizational impetus to get this project moving, a substantial task
     given the sometimes slow and bureaucratic nature of the voice mail
     business and regulatory environment.

     Dave Dudley and the Messaging Aliance (TMA) for thier early work in
     pioneering a shared directory service for voice messaging and their
     continuing efforts to apply those learnings to this effort.

  7. Copyright Notice

     "Copyright (C) The Internet Society (1998). All Rights Reserved.

     This document and translations of it may be copied and furnished to
     others, and derivative works that comment on or otherwise explain it
     or assist in its implementation may be prepared, copied, published and
     distributed, in whole or in part, without restriction of any kind,
     provided that the above copyright notice and this paragraph are
     included on all such copies and derivative works.  However, this

     Vaudreuil, Parsons       Expires 5/1/00                    [Page 7]



     Internet Draft           VPIM Directory            December 1, 1999


     document itself may not be modified in any way, such as by removing
     the copyright notice or references to the Internet Society or other
     Internet organizations, except as needed for the  purpose of
     developing Internet standards in which case the procedures for
     copyrights defined in the Internet Standards process must be followed,
     or as required to translate it into languages other than English.

     The limited permissions granted above are perpetual and will not be
     revoked by the Internet Society or its successors or assigns.

     This document and the information contained herein is provided on an
     "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
     TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
     NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN
     WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
     MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE."



  8. Authors' Addresses

     Gregory M. Vaudreuil
     Lucent Technologies,
      Communications Application Group
     17080 Dallas Parkway
     Dallas, TX  75248-1905
     United States

     Phone/Fax: +1-972-733-2722
     Email: GregV@Lucent.Com

























     Vaudreuil, Parsons       Expires 5/1/00                    [Page 8]
