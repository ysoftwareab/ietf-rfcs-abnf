



Network Working Group                                       M. Boucadair
Internet-Draft                                              C. Jacquenet
Intended status: Experimental                             France Telecom
Expires: December 18, 2015                                 June 16, 2015


            Negotiating the Maximum Number of MPTCP Subflows
                  draft-boucadair-mptcp-extensions-00

Abstract

   This document specifies an experimental MPTCP option that is meant to
   negotiate the maximum number of subflows that can be established and
   maintained for a given MPTCP connection.  The purpose is to minimize
   any possible performance degradation that can be induced by a
   possibly large number of establishment requests for additional
   subflows if the remote endpoint is not appropriateley dimensioned to
   handle such requests.

Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on December 18, 2015.

Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.





Boucadair & Jacquenet   Expires December 18, 2015               [Page 1]

Internet-Draft           MPTCP Maximum Subflows                June 2015


   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
     1.1.  Experiment Goals  . . . . . . . . . . . . . . . . . . . .   3
   2.  Maximum Subflows MPTCP Option . . . . . . . . . . . . . . . .   3
   3.  Behavior  . . . . . . . . . . . . . . . . . . . . . . . . . .   3
   4.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     7.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     7.2.  Informative References  . . . . . . . . . . . . . . . . .   4
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   This document specifies a MPTCP option that is meant to indicate to a
   remote peer the maximum number of subflows that can be established
   within a single MPTCP connection.  If the remote peer honors the
   indication provided in this option, any performance degradation
   induced by a possibly abusive setup of additional subflows that
   exceed the said maximum becomes unlikely.

   This document adheres to [I-D.bonaventure-mptcp-exp-option].

   This option targets mainly MPTCP deployments within a single
   administrative domain such as those MPTCP designs meant to achieve
   load-balancing, for example.  The use of this option contributes to
   the harmonization of node configuration within an administrative
   domain, so that an optimal number of subflows is maintained by
   involved nodes independently of their actual performance
   capabilities.  This option can be used for other deployment
   scenarios.  It is out of scope of this document to identify an
   exhaustive list of such scenarios.







Boucadair & Jacquenet   Expires December 18, 2015               [Page 2]

Internet-Draft           MPTCP Maximum Subflows                June 2015


1.1.  Experiment Goals

   Experiments based upon the MPTCP option described in this document
   are meant to help operators refine their MPTCP design and operational
   procedures, by tweaking some MPTCP parameters such as the number of
   subflows to be associated with a given MPTCP connection.
   Experimenting with this MPTCP option should also help assess whether
   this option can be used to propagate MPTCP-related optimization
   parameters (derived from the number of concurrent subflows associated
   to each MPTCP connection) that can be configured in a node that is
   responsible for aggregating MPTCP connections established with
   upstream nodes.

2.  Maximum Subflows MPTCP Option

   This option follows the shared experimental format defined in
   [I-D.bonaventure-mptcp-exp-option] (see Figure 1).

                            1                   2                   3
        0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
       +---------------+---------------+-------+-----------------------+
       |     Kind      |    Length     |Subtype| Flags |  Experiment   |
       +---------------+---------------+-------+-------+---------------+
       | Id. (16 bits) |              Maximum Sub-Flows                |
       +---------------+-----------------------------------------------+

                          Figure 1: Option Format

   The meaning of "Kind", "Length", "Subtype", and "Flags" (especially
   'S' and 'U' flags) are exactly the same as defined in
   [I-D.bonaventure-mptcp-exp-option].

   Experiment ID (to be assigned, see Section 5).

   The "Maximum Sub-Flows" field indicates the number of maximum
   concurrent subflows that can be maintained by a given MPTCP endpoint
   for each MPTCP connection established by or with this endpoint.  The
   value of this field MUST be strictly greater than zero.

3.  Behavior

   The option defined in Section 2 is used by a TCP endpoint to indicate
   to its corresponding peer the maximum number of subflows that it can
   maintain per MPTCP connection.

   If two peers (T1 and T2) indicate the maximum number of concurrent
   subflows per connection they can maintain, then they MUST NOT




Boucadair & Jacquenet   Expires December 18, 2015               [Page 3]

Internet-Draft           MPTCP Maximum Subflows                June 2015


   maintain more than "MIN(MAX_SUBFLOW(T1), MAX_SUBFLOW(T2))" concurrent
   subflows.

   The absence of this option in an MPTCP control message issued by a
   MPTCP endpoint is an indication that this endpoint can instantiate
   any number of subflows per MPTCP connection.

   If no maximum number of subflows is configured locally to an MPTCP
   endpoint, it may rely on the results of procedures such as
   [I-D.boucadair-mptcp-connectivity-checks] as a hint to determine the
   value to include in the "Maximum Sub-Flows" MPTCP option.

4.  Security Considerations

   MPTCP-related security considerations are documented in [RFC6824] and
   [I-D.ietf-mptcp-attacks].

5.  IANA Considerations

   This document requests IANA to assign an experiment ID as per
   [I-D.bonaventure-mptcp-exp-option].

6.  Acknowledgements

   TBC

7.  References

7.1.  Normative References

   [I-D.bonaventure-mptcp-exp-option]
              Bonaventure , O., Hesmans, B., and M. Boucadair,
              "Experimental Multipath TCP option", 1992.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC6824]  Ford, A., Raiciu, C., Handley, M., and O. Bonaventure,
              "TCP Extensions for Multipath Operation with Multiple
              Addresses", RFC 6824, January 2013.

7.2.  Informative References

   [I-D.boucadair-mptcp-connectivity-checks]
              Boucadair, M. and C. Jacquenet, "MPTCP Connectivity
              Checks", draft-boucadair-mptcp-connectivity-checks-00
              (work in progress), March 2015.




Boucadair & Jacquenet   Expires December 18, 2015               [Page 4]

Internet-Draft           MPTCP Maximum Subflows                June 2015


   [I-D.ietf-mptcp-attacks]
              Bagnulo, M., Paasch, C., Gont, F., Bonaventure, O., and C.
              Raiciu, "Analysis of MPTCP residual threats and possible
              fixes", draft-ietf-mptcp-attacks-04 (work in progress),
              March 2015.

Authors' Addresses

   Mohamed Boucadair
   France Telecom
   Rennes  35000
   France

   Email: mohamed.boucadair@orange.com


   Christian Jacquenet
   France Telecom
   Rennes  35000
   France

   Email: christian.jacquenet@orange.com





























Boucadair & Jacquenet   Expires December 18, 2015               [Page 5]
