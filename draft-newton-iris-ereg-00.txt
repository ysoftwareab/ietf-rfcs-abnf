

Network Working Group                                          A. Newton
Internet-Draft                                            VeriSign, Inc.
Expires: December 22, 2003                                 June 23, 2003


     IRIS - An ENUM Registry (ereg) Type for the Internet Registry
                          Information Service
                       draft-newton-iris-ereg-00

Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at http://
   www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 22, 2003.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This document describes an IRIS (draft-ietf-crisp-iris-core-02.txt )
   registry schema for ENUM administrative information.












Newton                 Expires December 22, 2003                [Page 1]

Internet-Draft                 iris-ereg                       June 2003


Table of Contents

   1.    Introduction . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.    Document Terminology . . . . . . . . . . . . . . . . . . . .  4
   3.    Schema Description . . . . . . . . . . . . . . . . . . . . .  5
   3.1   Query Derivatives  . . . . . . . . . . . . . . . . . . . . .  5
   3.1.1 <findEnumsByRegistrant> Query  . . . . . . . . . . . . . . .  5
   3.1.2 <findContacts> Query . . . . . . . . . . . . . . . . . . . .  5
   3.1.3 <findEnumsByHost> Query  . . . . . . . . . . . . . . . . . .  6
   3.1.4 Contact Search Group . . . . . . . . . . . . . . . . . . . .  6
   3.2   Result Derivatives . . . . . . . . . . . . . . . . . . . . .  6
   3.2.1 <enum> Result  . . . . . . . . . . . . . . . . . . . . . . .  6
   3.2.2 <host> Result  . . . . . . . . . . . . . . . . . . . . . . .  8
   3.2.3 <contact> Result . . . . . . . . . . . . . . . . . . . . . .  9
   3.2.4 <registrationAuthority>  . . . . . . . . . . . . . . . . . . 10
   3.2.5 <authenticationAuthority>  . . . . . . . . . . . . . . . . . 10
   3.3   Generic Code Derivatives . . . . . . . . . . . . . . . . . . 11
   3.3.1 <searchTooWide>  . . . . . . . . . . . . . . . . . . . . . . 11
   3.3.2 <languageNotSupported> . . . . . . . . . . . . . . . . . . . 11
   3.4   Support for <iris:lookupEntity>  . . . . . . . . . . . . . . 11
   4.    Formal XML Syntax  . . . . . . . . . . . . . . . . . . . . . 13
   5.    BEEP Transport Compliance  . . . . . . . . . . . . . . . . . 23
   5.1   Message Pattern  . . . . . . . . . . . . . . . . . . . . . . 23
   5.2   Server Authentication  . . . . . . . . . . . . . . . . . . . 23
   6.    URI Resolution . . . . . . . . . . . . . . . . . . . . . . . 24
   7.    Internationalization Considerations  . . . . . . . . . . . . 25
   8.    IANA Considerations  . . . . . . . . . . . . . . . . . . . . 26
   9.    Security Considerations  . . . . . . . . . . . . . . . . . . 27
         References . . . . . . . . . . . . . . . . . . . . . . . . . 28
         Author's Address . . . . . . . . . . . . . . . . . . . . . . 29
   A.    An Example Request and Response  . . . . . . . . . . . . . . 30
         Intellectual Property and Copyright Statements . . . . . . . 33



















Newton                 Expires December 22, 2003                [Page 2]

Internet-Draft                 iris-ereg                       June 2003


1. Introduction

   Registries for Internet resources often need to expose administrative
   and operational data.  The needs for authentication and
   interconnection with other Internet resources vary based on policy
   and jurisdiction, but a consistent and uniform method allows better
   interoperability.

   IRIS [1] is a text based protocol designed to allow registries of
   Internet resources to express query and result types specific to
   their needs while providing a framework for authentication,
   structured data, entity references and search continuations.  It is a
   decentralized system using DNS hierarchies where possible for
   location, built upon standard Internet building blocks, does not
   impose any informational trees or matrices, and may be used with
   multiple application transports.

   This document describes an IRIS [1] namespace and schema for ENUM [4]
   registries.  The schema given in this document is specified using the
   Extensible Markup Language (XML) 1.0 as described in XML [5], XML
   Schema notation as described in XML_SD [7] and XML_SS [8], and XML
   Namespaces as described in XML_NS [6].





























Newton                 Expires December 22, 2003                [Page 3]

Internet-Draft                 iris-ereg                       June 2003


2. Document Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC2119 [11].














































Newton                 Expires December 22, 2003                [Page 4]

Internet-Draft                 iris-ereg                       June 2003


3. Schema Description

   IRIS requires the derivation of both query and result elements by a
   registry schema.  These descriptions refer to XML elements and
   attributes and their relation to the exchange of data within the
   protocol.  These descriptions also contain specifications outside the
   scope of the formal XML syntax.  Therefore, this section will use
   terms defined by RFC 2119 [11] to describe the specification outside
   the scope of the formal XML syntax.  While reading this section,
   please reference Section 4 for needed details on the formal XML
   syntax.

3.1 Query Derivatives

   The queries described in this section are for the purpose of allowing
   interoperability should a service operator determine they comply with
   the scope of their operating policy.  A service operator is always
   free to disable some or all of them (and then to return an error such
   as "permission denied".)

3.1.1 <findEnumsByRegistrant> Query

   <findEnumsByRegistrant> finds ENUMs by searches on fields associated
   with a registrant.

   The allowable search fields are handled with either the
   <contactHandle> element or one of the elements in the
   "contactSearchGroup" (see Section 3.1.4).  The <contactHandle>
   element allows for the ENUMs to be selected based on the registrant
   having the specified contact handle.

   This query also provides optional <language> elements containing
   language tags.  Clients may use these elements to inform the server
   of a desired search algorithm that may benefit from the determination
   of the desired languages.  Servers MAY use this information in
   processing the query, such as input to normalization routines to aid
   in more effective searches.

3.1.2 <findContacts> Query

   <findContacts> searches for contacts given search constraints.

   The allowable search fields are handled by one of the elements in the
   "contactSearchGroup" (see Section 3.1.4).

   This query also provides optional <language> elements containing
   language tags.  Clients may use these elements to inform the server
   of a desired search algorithm that may benefit from the determination



Newton                 Expires December 22, 2003                [Page 5]

Internet-Draft                 iris-ereg                       June 2003


   of the desired languages.  Servers MAY use this information in
   processing the query, such as input to normalization routines to aid
   in more effective searches.

3.1.3 <findEnumsByHost> Query

   This query does a simple search for the ENUMs being hosted by a name
   server.  The search is constrained using either the host name, host
   handle, IPv4 address, or IPv6 address of the name server.

3.1.4 Contact Search Group

   Some of the queries above have similar query constraints for
   searching on contacts.  This section describes those common
   parameters.

   <commonName> allows the query to be constrained based on the common
   name of the contact.  The constraint can either constrain the query
   by an exact match using the <exactMatch> element, or it may constrain
   the query by a subset of the common name using the <startsWith> and
   <endsWith> elements.

   <organization> allows the query to be constrained based on the
   organization name of the contact.  It has the same semantics as the
   <commonName> element.

   <eMail> constrains the query based on the e-mail address of the
   contact.  This may be done by an exact e-mail address using the
   <exactMatch> element or by any e-mail address in a domain using the
   <inDomain> element.  The <inDomain> MUST only contain a valid domain
   according to RFC 1035 [3] (i.e.  no '@' symbol).

   <sip> has the same constraints and operational meaning as <eMail>,
   except that it applies to SIP addresses.

   The <city>, <region>, and <postalCode> elements restrict the scope of
   the query based on the city, region, or postal code of the contact,
   respectively.  Each one must only contain an <exactMatch> element
   containing the exact city, region, or postal code (i.e.  no substring
   searches).

3.2 Result Derivatives

3.2.1 <enum> Result

   The <enum> result represents an instance of an ENUM delegation.  The
   children of the <enum> element are as follows:




Newton                 Expires December 22, 2003                [Page 6]

Internet-Draft                 iris-ereg                       June 2003


   o  <e164Number> - the full E.164 number.

   o  <enumHandle> - a registry unique assigned identifier to an
      instance of an ENUM delegation.

   o  <nameServers> - an element containing multiple children.  Each
      child is an <iris:entity> element as described by IRIS [1].  The
      referent of each <iris:entity> element MUST be a <host> (Section
      3.2.2) result.

   o  <registrant> - an element containing a <iris:entity> reference to
      the registrant of this ENUM.  The referent MUST be a <contact>
      (Section 3.2.3) result.

   o  Contacts - the following elements contain contacts with a
      relationship to the ENUM.  The children of these elements are
      <iris:entity> elements as described by IRIS [1].  The referent of
      each <iris:entity> element MUST be a <contact> (Section 3.2.3)
      result.

      *  <technicalContacts>

      *  <administrativeContacts>

   o  One of the following status elements:

      *  <reservedDelegationStatus> - permanently inactive

      *  <assignedAndActiveStatus> - normal state

      *  <assignedAndInactiveStatus> - new delegation

      *  <assignedAndOnHoldStatus> - dispute

      *  <revokedStatus> - database purge pending

      *  <unspecifiedStatus>

   o  <delegationReference> - an element containing an <iris:entity>
      element, the referent of which is a <enum> (Section 3.2.1).  The
      intention of this element is to point to the downstream delegation
      reference.  Therefore, if this is a result given back by a
      registry, it should point to the entity in the registrar or
      registrant service.

   o  <registry> - contains a child of <iris:entity> specifying the
      registry operator for this ENUM represented by a
      <registrationAuthority> (Section 3.2.4) result.



Newton                 Expires December 22, 2003                [Page 7]

Internet-Draft                 iris-ereg                       June 2003


   o  <registrar> - contains a child of <iris:entity> specifying the
      registrar operator for this ENUM represented by a
      <registrationAuthority> (Section 3.2.4).

   o  <initialDelegationDateTime> - an element containing the date and
      time of the initial delegation of this ENUM.

   o  <lastRenewalDateTime> - an element containing the date and time of
      last renewal of this ENUM.

   o  <iris:seeAlso> - an element containing <iris:entity> elements
      specifying entities that are indirectly associated with this
      domain.


3.2.2 <host> Result

   The <host> element represents an instance of a host registration.
   The children of the <host> element are as follows:

   o  <hostHandle> - a registry unique assigned identifier for the host.

   o  <hostName> - the fully qualified domain name of the host.  The
      contents of this element are a domain name and MUST conform to RFC
      1035 [3].

   o  <ipV4Addresses> - contains a list of <ipV4Address> elements, the
      content of which MUST conform to the a valid IP version 4 host
      address as specified by RFC 791 [13].

   o  <ipV6Addresses> - contains a list of <ipV6Address> elements, the
      content of which MUST conform to the a valid IP version 6 host
      address as specified by RFC 2373 [14].

   o  <hostContact> - a list of <iris:entity> elements specifying
      contacts associated with this host.  The referents MUST be
      <contact> (Section 3.2.3) results.

   o  <createdDateTime> - an element containing the date and time this
      host was created.

   o  <lastModificationDateTime> - an element containing the date and
      time this host was last modified.

   o  <iris:seeAlso> - an element containing <iris:entity> elements
      specifying entities that are indirectly associated with this host.





Newton                 Expires December 22, 2003                [Page 8]

Internet-Draft                 iris-ereg                       June 2003


3.2.3 <contact> Result

   The <contact> element represents an instance of a contact
   registration.  The children of the <contact> element are as follows:

   o  <contactHandle> - a registry unique assigned identifier for this
      contact.

   o  <commonName> - the name of the contact.

   o  <language> - a specification of the language code to use to
      localize the data in this result.

   o  <organization> - an element containing the organization name of
      the contact.

   o  <eMail> - elements containing the e-mail address for this contact.

   o  <sip> - elements containing the SIP address for this contact.

   o  <address> - an element containing the street address for this
      contact.

   o  <city> - an element containing the city for this contact.

   o  <region> - an element containing the national region for this
      contact.

   o  <postalCode> - an element containing the postal code for this
      contact.

   o  <country> - an element containing the country for this contact.

   o  <phone> - an element containing the voice phone number for this
      contact.

   o  <fax> - an element containing the facsimile phone number for this
      contact.

   o  <createdDateTime> - an element containing the date and time this
      contact was created.

   o  <translatedContacts> - an element containing <iris:entity>
      elements specifying equivalents of this result that have been
      translated into other languages.  The referents MUST be <contact>
      (Section 3.2.3) results.

   o  <iris:seeAlso> - an element containing <iris:entity> elements



Newton                 Expires December 22, 2003                [Page 9]

Internet-Draft                 iris-ereg                       June 2003


      specifying entities that are indirectly associated with this
      contact.


3.2.4 <registrationAuthority>

   The <registrationAuthority> result represents an entity capable of
   registering E.164 numbers in DNS.

   The <serviceInstance> child element of <registrationAuthority>
   contains an <entity> element pointing to the entity "id" in the
   entity class "service-definition".  The authority areas found in the
   referent MUST be ENUM domains and are the ENUM domains for which a
   given registration authority has control.

   The registration authority type child elements, <registry>,
   <registrar>, and <other>, determine the role in which this
   registration authority plays in the process of registering domains.
   The intent of this element is to explain the various roles a
   registration authority may have with regards to the authority areas
   pointed to by the <serviceInstance> element.  A client MAY understand
   the relationship of a registration authority with respect to an ENUM
   domain by the placement of the reference in the ENUM entry (e.g.
   <registry> or <registrar>).

3.2.5 <authenticationAuthority>

   The <authenticationAuthority> result represents an entity responsible
   for verifying the authenticity of a person or organization and the
   rights of a person or organization to obtain an ENUM delegation.

   The children of this element are as follows:

   o  <organizationName> - an element containing the organization name
      of the authentication authority.

   o  The following types of contacts:

      *  <technicalContacts>

      *  <administrativeContacts>

      The children of these elements are <iris:entity> elements as
      described by IRIS [1].  The referent of each <iris:entity> element
      MUST be a <contact> (Section 3.2.3) result.






Newton                 Expires December 22, 2003               [Page 10]

Internet-Draft                 iris-ereg                       June 2003


3.3 Generic Code Derivatives

3.3.1 <searchTooWide>

   Servers MAY use the <searchTooWide> error code when a query capable
   of using one of the elements from the contact search group (Section
   3.1.4) must be narrowed to yield a result set acceptable to the
   policies of the server operator.

3.3.2 <languageNotSupported>

   The queries <findEnumsByRegistrant> and <findContacts> support
   optional language tags that allow a client to suggest to a server the
   languages in which to scope the queries.  If a client passes to the
   server a language which the server does not support, the server MAY
   use this error code to indicate that one of the languages is not
   supported.

3.4 Support for <iris:lookupEntity>

   The following types of entity classes are recognized by the
   <lookupEntity> query of IRIS for this registry type:

   o  host-name - the fully qualified domain name of a nameserver.
      Yields a <host> (Section 3.2.2) in the response.

   o  host-handle - the registry unique identifier given a nameserver.
      Yields a <host> (Section 3.2.2) in the response.

   o  e164 - an E.164 number.  <enum> (Section 3.2.1) in the response.

   o  enum-handle - the registry unique identifier given an ENUM.
      Yields a <enum> (Section 3.2.1) in the response.

   o  contact-handle - the registry unique identifier given a contact.
      Yields a <contact> (Section 3.2.3) in the response.

   o  ipv4-address - the IPv4 address of a nameserver.  Yields a <host>
      (Section 3.2.2) in the response.

   o  ipv6-address - the IPv6 address of a nameserver.  Yields a <host>
      (Section 3.2.2) in the response.

   o  registration-authority - the name of a registration authority.
      Yields a <registrationAuthority> (Section 3.2.4) in the response.

   o  authentication-authority - the name of an authentication
      authority.  Yields an <authenticationAuthority> (Section 3.2.5) in



Newton                 Expires December 22, 2003               [Page 11]

Internet-Draft                 iris-ereg                       June 2003


      the response.

   o  All names in these entity classes are case insensitive.
















































Newton                 Expires December 22, 2003               [Page 12]

Internet-Draft                 iris-ereg                       June 2003


4. Formal XML Syntax

   This ENUM information registry is specified in the XML Schema
   notation.  The formal syntax presented here is a complete schema
   representation suitable for automated validation of an XML instance
   when combined with the formal schema syntax of IRIS.


   <?xml version="1.0"?>
   <schema xmlns="http://www.w3.org/2001/XMLSchema"
           xmlns:ereg="urn:ietf:params:xml:ns:ereg1"
           xmlns:iris="urn:ietf:params:xml:ns:iris1"
           targetNamespace="urn:ietf:params:xml:ns:ereg1"
           elementFormDefault="qualified" >

     <import namespace="urn:ietf:params:xml:ns:iris1" />

     <annotation>
       <documentation>
         ENUM registry (ereg) schema
         derived from IRIS schema
       </documentation>
     </annotation>

     <!--             -->
     <!-- Query types -->
     <!--             -->

     <complexType name="findEnumsByRegistrantType">
       <complexContent>
         <extension base="iris:queryType">
           <sequence>
             <choice>
               <group ref="ereg:contactSearchGroup" />
               <element name="contactHandle"
                 type="ereg:exactMatchParameter" />
             </choice>
             <element name="language"
               type="language"
               minOccurs="0" maxOccurs="unbounded"/>
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element name="findEnumsByRegistrant"
       type="ereg:findEnumsByRegistrantType"
       substitutionGroup="iris:query" />



Newton                 Expires December 22, 2003               [Page 13]

Internet-Draft                 iris-ereg                       June 2003


     <complexType name="findContactsType">
       <complexContent>
         <extension base="iris:queryType">
           <sequence>
             <group ref="ereg:contactSearchGroup" />
             <element name="language"
               type="language"
               minOccurs="0" maxOccurs="unbounded"/>
            </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element name="findContacts"
       type="ereg:findContactsType"
       substitutionGroup="iris:query" />

     <complexType name="findEnumsByHostType">
       <complexContent>
         <extension base="iris:queryType">
           <sequence>
             <choice>
               <element name="hostName"
                 type="ereg:exactMatchParameter" />
               <element name="hostHandle"
                 type="ereg:exactMatchParameter" />
               <element name="ipV4Address"
                 type="ereg:exactMatchParameter" />
               <element name="ipV6Address"
                 type="ereg:exactMatchParameter" />
             </choice>
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element name="findEnumsByHost"
       type="ereg:findEnumsByHostType"
       substitutionGroup="iris:query" />

     <group name="contactSearchGroup">
       <choice>
         <element name="commonName"
           type="ereg:exactOrPartialMatchParameter" />
         <element name="organization"
           type="ereg:exactOrPartialMatchParameter" />
         <element name="eMail"
           type="ereg:domainResourceParameter" />



Newton                 Expires December 22, 2003               [Page 14]

Internet-Draft                 iris-ereg                       June 2003


         <element name="sip"
           type="ereg:domainResourceParameter" />
         <element name="city"
           type="ereg:exactMatchParameter" />
         <element name="region"
           type="ereg:exactMatchParameter" />
         <element name="postalCode"
           type="ereg:exactMatchParameter" />
       </choice>
     </group>

     <complexType name="exactOrPartialMatchParameter">
       <choice>
         <group ref="ereg:partialMatchGroup" />
         <group ref="ereg:exactMatchGroup" />
       </choice>
     </complexType>

     <complexType name="exactMatchParameter">
       <group ref="ereg:exactMatchGroup" />
     </complexType>

     <complexType name="partialMatchParameter">
       <sequence>
         <group ref="ereg:partialMatchGroup" />
       </sequence>
     </complexType>

     <complexType name="domainResourceParameter" >
       <choice>
         <group ref="ereg:exactMatchGroup" />
         <element name="inDomain"
           type="token" />
       </choice>
     </complexType>

     <group name="partialMatchGroup">
       <sequence>
         <element name="beginsWith"
           minOccurs="1" maxOccurs="1" >
           <simpleType>
             <restriction base="token">
               <minLength value="1"/>
             </restriction>
           </simpleType>
         </element>
         <element name="endsWith"
           minOccurs="0" maxOccurs="1" >



Newton                 Expires December 22, 2003               [Page 15]

Internet-Draft                 iris-ereg                       June 2003


           <simpleType>
             <restriction base="token">
               <minLength value="1"/>
             </restriction>
           </simpleType>
         </element>
       </sequence>
     </group>

     <group name="exactMatchGroup">
       <sequence>
         <element name="exactMatch"
           type="normalizedString" />
       </sequence>
     </group>

     <!--              -->
     <!-- Result types -->
     <!--              -->

     <complexType name="enumType">
       <complexContent>
         <extension base="iris:resultType">
           <sequence>
             <element name="e164Number"
               type="normalizedString" />
             <element name="enumHandle"
               type="normalizedString"
               minOccurs="0" maxOccurs="1" />
             <element name="nameServers"
               minOccurs="0" maxOccurs="1" >
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
             <element name="registrant"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="1" maxOccurs="1" />
                 </sequence>
               </complexType>
             </element>
             <element name="technicalContacts"



Newton                 Expires December 22, 2003               [Page 16]

Internet-Draft                 iris-ereg                       June 2003


               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
             <element name="administrativeContacts"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
             <choice
               minOccurs="0" maxOccurs="1">
               <element name="reservedDelegationStatus"
                 type="string" />
               <element name="assignedAndActiveStatus"
                 type="string" />
               <element name="assignedAndInactiveStatus"
                 type="string" />
               <element name="assignedAndOnHoldStatus"
                 type="string" />
               <element name="revokedStatus"
                 type="string" />
               <element name="unspecifiedStatus"
                 type="string" />
             </choice>
             <element name="delegationReference"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity" />
                 </sequence>
               </complexType>
             </element>
             <element name="registry"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity" />
                 </sequence>
               </complexType>
             </element>



Newton                 Expires December 22, 2003               [Page 17]

Internet-Draft                 iris-ereg                       June 2003


             <element name="registrar"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="0" maxOccurs="1" />
                 </sequence>
               </complexType>
             </element>
             <element name="authenticationAuthority"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="0" maxOccurs="1" />
                 </sequence>
               </complexType>
             </element>
             <element name="initialDelegationDateTime"
               type="dateTime"
               minOccurs="0" maxOccurs="1" />
             <element name="lastRenewalDateTime"
               type="dateTime"
               minOccurs="0" maxOccurs="1" />
             <element ref="iris:seeAlso"
               minOccurs="0" maxOccurs="1" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element name="enum"
       type="ereg:enumType"
       substitutionGroup="iris:result" />

     <complexType name="hostType">
       <complexContent>
         <extension base="iris:resultType">
           <sequence>
             <element name="hostHandle"
               type="normalizedString"
               minOccurs="0" maxOccurs="1" />
             <element name="hostName"
               type="normalizedString" />
             <element name="ipV4Addresses"
               minOccurs="0" maxOccurs="1" >
               <complexType>
                 <sequence>



Newton                 Expires December 22, 2003               [Page 18]

Internet-Draft                 iris-ereg                       June 2003


                   <element name="ipV4Address"
                     type="token"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
             <element name="ipV6Addresses"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element name="ipV6Address"
                     type="token"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
             <element name="hostContacts"
               minOccurs="0" maxOccurs="1" >
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
             <element name="createdDateTime"
               type="dateTime"
               minOccurs="0" maxOccurs="1" />
             <element name="lastModificationDateTime"
               type="dateTime"
               minOccurs="0" maxOccurs="1" />
             <element ref="iris:seeAlso"
               minOccurs="0" maxOccurs="1" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element name="host"
       type="ereg:hostType"
       substitutionGroup="iris:result" />

     <complexType name="contactType">
       <complexContent>
         <extension base="iris:resultType">
           <sequence>
             <element name="contactHandle"
               type="normalizedString" />



Newton                 Expires December 22, 2003               [Page 19]

Internet-Draft                 iris-ereg                       June 2003


             <element name="commonName"
               type="normalizedString"
               minOccurs="0" maxOccurs="1"/>
             <element name="language"
               type="language"
               minOccurs="0" maxOccurs="1" />
             <element name="organization"
               type="normalizedString"
               minOccurs="0" maxOccurs="1" />
             <element name="eMail"
               type="string"
               minOccurs="0" maxOccurs="2" />
             <element name="sip"
               type="string"
               minOccurs="0" maxOccurs="1" />
             <element name="address"
               type="string"
               minOccurs="0" maxOccurs="1" />
             <element name="city"
               type="string"
               minOccurs="0" maxOccurs="1" />
             <element name="region"
               type="string"
               minOccurs="0" maxOccurs="1" />
             <element name="postalCode"
               type="normalizedString"
               minOccurs="0" maxOccurs="1" />
             <element name="country"
               type="token"
               minOccurs="0" maxOccurs="1" />
             <element name="phone"
               type="normalizedString"
               minOccurs="0" maxOccurs="1" />
             <element name="fax"
               type="normalizedString"
               minOccurs="0" maxOccurs="1" />
             <element name="createdDateTime"
               type="dateTime"
               minOccurs="0" maxOccurs="1" />
             <element name="translatedContacts"
               type="iris:seeAlsoType"
               minOccurs="0" maxOccurs="1" />
             <element ref="iris:seeAlso"
               minOccurs="0" maxOccurs="1" />
           </sequence>
         </extension>
       </complexContent>
     </complexType>



Newton                 Expires December 22, 2003               [Page 20]

Internet-Draft                 iris-ereg                       June 2003


     <element name="contact"
       type="ereg:contactType"
       substitutionGroup="iris:result" />

     <complexType name="registrationAuthorityType">
       <complexContent>
         <extension base="iris:resultType">
           <sequence>
             <element name="serviceInstance">
               <complexType>
                 <sequence>
                   <element ref="iris:entity" />
                 </sequence>
               </complexType>
             </element>
             <element name="organizationName"
               type="string"
               minOccurs="0" maxOccurs="1" />
             <choice
               minOccurs="0" maxOccurs="3">
               <element name="registry">
                 <complexType/>
               </element>
               <element name="registrar">
                 <complexType/>
               </element>
               <element name="other">
                 <complexType/>
               </element>
             </choice>
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element name="registrationAuthority"
       type="ereg:registrationAuthorityType"
       substitutionGroup="iris:result" />

     <complexType name="authenticationAuthorityType">
       <complexContent>
         <extension base="iris:resultType">
           <sequence>
             <element name="organizationName"
               type="string"
               minOccurs="0" maxOccurs="1" />
             <element name="technicalContacts"
               minOccurs="0" maxOccurs="1">



Newton                 Expires December 22, 2003               [Page 21]

Internet-Draft                 iris-ereg                       June 2003


               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
             <element name="administrativeContacts"
               minOccurs="0" maxOccurs="1">
               <complexType>
                 <sequence>
                   <element ref="iris:entity"
                     minOccurs="1" maxOccurs="unbounded" />
                 </sequence>
               </complexType>
             </element>
           </sequence>
         </extension>
       </complexContent>
     </complexType>

     <element name="authenticationAuthority"
       type="ereg:authenticationAuthorityType"
       substitutionGroup="iris:result" />

     <!--             -->
     <!-- Error types -->
     <!--             -->

     <element name="searchTooWide"
       type="iris:codeType"
       substitutionGroup="iris:genericCode" />

     <element name="languageNotSupported"
       type="iris:codeType"
       substitutionGroup="iris:genericCode" />

   </schema>

                                Figure 1











Newton                 Expires December 22, 2003               [Page 22]

Internet-Draft                 iris-ereg                       June 2003


5. BEEP Transport Compliance

   IRIS allows several extensions of the core capabilities.  This
   section outlines those extensions allowable by IRIS-BEEP [2].

5.1 Message Pattern

   This registry type uses the default message pattern as described in
   IRIS-BEEP [2].

5.2 Server Authentication

   This registry type uses the default server authentication method as
   described in IRIS-BEEP [2].





































Newton                 Expires December 22, 2003               [Page 23]

Internet-Draft                 iris-ereg                       June 2003


6. URI Resolution

   The authority resolution of an IRIS URI for this registry type is
   similar to the default resolution spelled out in IRIS [1].

   The resolution process for this registry only differs if the
   authority is an E.164 number.  The process for this condition is as
   follows:

   1.  The E.164 number is converted into a domain name appropriate for
       the ENUM tree mapping.  For instance, +1-703-555-1212 is
       2.1.2.1.5.5.5.3.0.7.1.e164.arpa.

   2.  The IRIS [1] default resolution process is tried on this
       reverse-map domain name.

   3.  If no records are found, then the left-most component of the ENUM
       mapping is removed, and the second step is repeated again (e.g.
       "1.2.1.5.5.5.3.0.7.1.e164.arpa" )

   4.  If all the components of the ENUM mapping from step one are
       removed and no records are found, then an exception state should
       be signaled.

   The application service label associated with this registry type MUST
   be "IS-EN".  This label has no particular significance other than
   "IS" is short for "Information Service" and "EN" is short for "ENUM".
   Because the service field, of which this label is just one of many
   components, is limited to 32 characters, this label is purposefully
   meaningful but short.





















Newton                 Expires December 22, 2003               [Page 24]

Internet-Draft                 iris-ereg                       June 2003


7. Internationalization Considerations

   This document lays out no new considerations for internationalization
   beyond that specified in IRIS [1].















































Newton                 Expires December 22, 2003               [Page 25]

Internet-Draft                 iris-ereg                       June 2003


8. IANA Considerations

   The following URN will need to be registered with IANA according to
   the IANA considerations defined in IRIS [1]:

      urn:ietf:params:xml:ns:ereg1

   The following NAPSTR application service label will need to be
   registered with IANA according to the IANA considerations defined in
   IRIS [1]:

      IS-EN







































Newton                 Expires December 22, 2003               [Page 26]

Internet-Draft                 iris-ereg                       June 2003


9. Security Considerations

   This document lays out no new considerations for security precautions
   beyond that specified in IRIS [1].















































Newton                 Expires December 22, 2003               [Page 27]

Internet-Draft                 iris-ereg                       June 2003


References

   [1]   Newton, A., "Internet Registry Information Service",
         draft-ietf-crisp-iris-core-01 (work in progress), November
         2002.

   [2]   Newton, A., "Internet Registry Information Service (IRIS) over
         the Blocks Extensible Exchange Protocol (BEEP)",
         draft-ietf-crisp-iris-beep-01 (work in progress), November
         2002.

   [3]   Mockapetris, P., "Domain names - implementation and
         specification", STD 13, RFC 1035, November 1987.

   [4]   Faltstrom, P., "E.164 number and DNS", RFC 2916, September
         2000.

   [5]   World Wide Web Consortium, "Extensible Markup Language (XML)
         1.0", W3C XML, February 1998, <http://www.w3.org/TR/1998/
         REC-xml-19980210>.

   [6]   World Wide Web Consortium, "Namespaces in XML", W3C XML
         Namespaces, January 1999, <http://www.w3.org/TR/1999/
         REC-xml-names-19990114>.

   [7]   World Wide Web Consortium, "XML Schema Part 2: Datatypes", W3C
         XML Schema, October 2000, <http://www.w3.org/TR/2001/
         REC-xmlschema-2-20010502/>.

   [8]   World Wide Web Consortium, "XML Schema Part 1: Structures", W3C
         XML Schema, October 2000, <http://www.w3.org/TR/2001/
         REC-xmlschema-1-20010502/>.

   [9]   Reynolds, J. and J. Postel, "ASSIGNED NUMBERS", RFC 1700, STD
         2, October 1994.

   [10]  Narten, T. and H. Alvestrand, "Guidelines for Writing an IANA
         Considerations Section in RFCs", RFC 2434, BCP 26, October
         1998.

   [11]  Bradner, S., "Key words for use in RFCs to Indicate Requirement
         Levels", RFC 2119, BCP 14, March 1997.

   [12]  Newton, A., "Cross Registry Internet Service Protocol (CRISP)
         Requirements", draft-ietf-crisp-requirements-01 (work in
         progress), October 2002.

   [13]  Postel, J., "Internet Protocol", STD 5, RFC 791, September



Newton                 Expires December 22, 2003               [Page 28]

Internet-Draft                 iris-ereg                       June 2003


         1981.

   [14]  Hinden, R. and S. Deering, "IP Version 6 Addressing
         Architecture", RFC 2373, July 1998.


Author's Address

   Andrew L. Newton
   VeriSign, Inc.
   21345 Ridgetop Circle
   Sterling, VA  20166
   USA

   Phone: +1 703 948 3382
   EMail: anewton@ecotroph.net; anewton@verisignlabs.com
   URI:   http://www.verisignlabs.com/


































Newton                 Expires December 22, 2003               [Page 29]

Internet-Draft                 iris-ereg                       June 2003


Appendix A. An Example Request and Response

   The following is an example of an IRIS request and response using
   this registry schema.

    This XML instance is a request to find an ENUM delegation based on
   the nameserver responsible for it.


   <?xml version="1.0"?>
   <request xmlns="urn:ietf:params:xml:ns:iris1"
            xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="urn:ietf:params:xml:ns:iris1 iris.xsd" >

     <searchSet>

       <findEnumsByHost
         xmlns="urn:ietf:params:xml:ns:ereg1"
         xsi:schemaLocation="urn:ietf:params:xml:ns:ereg1 ereg.xsd" >

         <hostName>
           <exactMatch>
             ns1.example.com
           </exactMatch>
         </hostName>

       </findEnumsByHost>

     </searchSet>

   </request>


                       Figure 2: ereg-request.xml

    This XML instance is a response from Figure 2.


   <?xml version="1.0"?>
   <iris:response xmlns:iris="urn:ietf:params:xml:ns:iris1"
     xmlns="urn:ietf:params:xml:ns:ereg1"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:schemaLocation="urn:ietf:params:xml:ns:iris1 iris.xsd
       urn:ietf:params:xml:ns:ereg1 ereg.xsd" >

     <iris:resultSet>
       <iris:answer>




Newton                 Expires December 22, 2003               [Page 30]

Internet-Draft                 iris-ereg                       June 2003


         <enum
           authority="+1-703" registryType="ereg1"
           entityClass="enum-handle" entityName="555-1212.001" >

           <e164Number>+1-703-555-1212</e164Number>

           <nameServers>
             <iris:entity
               authority="+1-703" registryType="ereg1"
               entityClass="host-handle" entityName="ns1.001" />
             <iris:entity
               authority="+1-703" registryType="ereg1"
               entityClass="host-handle" entityName="ns2.001" />
           </nameServers>

           <registrant>
             <iris:entity
               authority="+1-703" registryType="ereg1"
               entityClass="contact-handle" entityName="beb140">
               <iris:displayName language="en">
                 Bill Eckels
               </iris:displayName>
             </iris:entity>
           </registrant>

           <technicalContacts>
             <iris:entity
               authority="+1-703" registryType="ereg1"
               entityClass="contact-handle" entityName="mak21">
               <iris:displayName language="en">
                 Mark Kosters
               </iris:displayName>
             </iris:entity>
           </technicalContacts>

           <assignedAndActiveStatus/>

         </enum>

       </iris:answer>

       <iris:additional>

         <contact
           authority="+1-703" registryType="ereg1"
           entityClass="contact-handle" entityName="beb140" >
           <contactHandle>beb140</contactHandle>
           <commonName>



Newton                 Expires December 22, 2003               [Page 31]

Internet-Draft                 iris-ereg                       June 2003


             Bill Eckels
           </commonName>
           <organization>
             The Cobbler Shoppe
           </organization>
           <eMail>bill@thecobblershoppe.com</eMail>
           <phone>
             515-843-3521
           </phone>
         </contact>

       </iris:additional>
     </iris:resultSet>

   </iris:response>


                      Figure 3: ereg-response.xml

































Newton                 Expires December 22, 2003               [Page 32]

Internet-Draft                 iris-ereg                       June 2003


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director.


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assignees.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION



Newton                 Expires December 22, 2003               [Page 33]

Internet-Draft                 iris-ereg                       June 2003


   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.











































Newton                 Expires December 22, 2003               [Page 34]

