<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Flow Aware Transport of MPLS Pseudowires</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Flow Aware Transport of MPLS Pseudowires">
<meta name="keywords" content=", pseudowire, MPLS, Internet-Draft">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">PWE3</td><td class="header">S. Bryant, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">C. Filsfils</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">Expires: September 3, 2009</td><td class="header">U. Drafz</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Deutsche Telekom</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">V. Kompella</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">J. Regan</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Alcatel-Lucent</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">S. Amante</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Level 3 Communications</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">March 02, 2009</td></tr>
</table></td></tr></table>
<h1><br />Flow Aware Transport of MPLS Pseudowires<br />draft-bryant-filsfils-fat-pw-03</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on September 3, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>Where the payload carried over a pseudowire carries a number of
      identifiable flows it can in some circumstances be desirable to carry
      those flows over the equal cost multiple paths (ECMPs) that exist in the
      packet switched network. Most forwarding engines are able to hash based
      on label stacks and use this to balance flows over ECMPs. This draft
      describes a method of identifying the flows, or flow groups, to the
      label switched routers by including an additional label in the label
      stack.
</p>
<h3>Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
      "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
      document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [1].
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
ECMP in Label Switched Routers<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.2.</a>&nbsp;
Flow Label<br />
<a href="#anchor4">2.</a>&nbsp;
Native Service Processing Function<br />
<a href="#anchor5">3.</a>&nbsp;
Pseudowire Forwarder<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.1.</a>&nbsp;
Encapsulation <br />
<a href="#anchor7">4.</a>&nbsp;
Signaling the Presence of the Flow Label<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">4.1.</a>&nbsp;
Structure of Flow Label TLV<br />
<a href="#anchor9">5.</a>&nbsp;
OAM<br />
<a href="#anchor10">6.</a>&nbsp;
Applicability<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">6.1.</a>&nbsp;
ECMP<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">6.2.</a>&nbsp;
Link Aggregation Groups<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">6.3.</a>&nbsp;
The Single Large Flow Case<br />
<a href="#anchor14">7.</a>&nbsp;
Applicability to MPLS<br />
<a href="#anchor15">8.</a>&nbsp;
Security Considerations<br />
<a href="#anchor16">9.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor17">10.</a>&nbsp;
Congestion Considerations<br />
<a href="#anchor18">11.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>A pseudowire <a class='info' href='#RFC3985'>[11]<span> (</span><span class='info'>Bryant, S. and P. Pate, &ldquo;Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture,&rdquo; March&nbsp;2005.</span><span>)</span></a> is normally transported
      over one single network path, even if multiple Equal Cost Multiple Paths
      (ECMP) exit between the ingress and egress PEs<a class='info' href='#RFC4385'>[2]<span> (</span><span class='info'>Bryant, S., Swallow, G., Martini, L., and D. McPherson, &ldquo;Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN,&rdquo; February&nbsp;2006.</span><span>)</span></a> <a class='info' href='#RFC4928'>[3]<span> (</span><span class='info'>Swallow, G., Bryant, S., and L. Andersson, &ldquo;Avoiding Equal Cost Multipath Treatment in MPLS Networks,&rdquo; June&nbsp;2007.</span><span>)</span></a>. This is required to preserve the
      characteristics of the emulated service (e.g. to avoid misordering SAToP
      pseudowire&rsquo;s <a class='info' href='#RFC4553'>[4]<span> (</span><span class='info'>Vainshtein, A. and YJ. Stein, &ldquo;Structure-Agnostic Time Division Multiplexing (TDM) over Packet (SAToP),&rdquo; June&nbsp;2006.</span><span>)</span></a>). The use of a single
      path to preserve order remains the default mode of operation of a
      pseudowire (PW). The new capability proposed in this document is an
      OPTIONAL mode which may be used when the use of ECMP paths for is known
      to be beneficial (and not harmful) to the operation of the PW.
</p>
<p>Some pseudowires are used to transport large volumes of IP traffic
      between routers at two locations. One example of this is the use of an
      Ethernet pseudowire to create a virtual direct link between a pair of
      routers. Such pseudowire&rsquo;s may carry from hundred&rsquo;s of Mbps
      to Gbps of traffic. Such pseudowire&rsquo;s do not require strict
      ordering to be preserved between packets of the pseudowire. They only
      require ordering to be preserved within the context of each individual
      transported IP flow. Some operators have requested the ability to
      explicitly configure such a pseudowire to leverage the availability of
      multiple ECMP paths. This allows for better capacity planning as the
      statistical multiplexing of a larger number of smaller flows is more
      efficient than with a smaller set of larger flows. Although Ethernet is
      used as an example above, the mechanisms described in this draft are
      general mechanisms that may be applied to any pseudowire type in which
      there are identifiable flows, and in which the there is no requirement
      to preserve the order between those flows.
</p>
<p>Typically, forwarding hardware can deduce that an IP payload is being
      directly carried by an MPLS label stack, and is capable of looking at
      some fields in packets to construct hash buckets for conversations or
      flows. However, an intermediate node has no information on the type
      pseudowire being carried in the packet. This limits the forwarder at the
      intermediate node to only being able to make an ECMP choice based on a
      hash of the label stack. In the case of a pseudowire emulating a high
      bandwidth trunk, the granularity obtained by hashing the default label
      stack is inadequate for satisfactory load-balancing. The ingress node,
      however, is in the special position of being able to look at the
      un-encapsulated packet and spread flows amongst an available ECMP paths,
      or even Loop-Free Alternates <a class='info' href='#I-D.ietf-rtgwg-ipfrr-spec-base'>I<span> (</span><span class='info'>Zinin, A., Torvi, R., Choudhury, G., Martin, C., Imhoff, B., and D. Fedyk, &ldquo;Basic Specification for IP Fast-Reroute: Loop-free Alternates,&rdquo; March&nbsp;2008.</span><span>)</span></a> [12] . This draft proposes a
      method to introduce granularity on the hashing of traffic running over
      pseudowires by introducing an additional label, chosen by the ingress
      node, and placed at the bottom of the label stack.
</p>
<p>In addition to providing an indication of the flow structure for use
      in ECMP forwarding decisions, the mechanism described in the document
      may also be used to select flows for distribution over an 802.1ad link
      aggregation group that has been used in an MPLS network.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
ECMP in Label Switched Routers</h3>

<p>Label switched routers commonly hash the label stack or some
        elements of the label stack as a method of discriminating between
        flows, in order to distribute those flows over the available equal
        cost multiple paths that exist in the network. Since the label at the
        bottom of stack is usually the label most closely associated with the
        flow, this normally provides the greatest entropy, and hence is
        usually included in the hash. This draft describes a method of adding
        an additional label at the bottom of stack in order to facilitate the
        load balancing of the flows within a pseudowire over the available
        ECMPs. A similar design for general MPLS use has also been proposed
        <a class='info' href='#I-D.kompella-mpls-entropy-label'>[13]<span> (</span><span class='info'>Kompella, K. and S. Amante, &ldquo;The Use of Entropy Labels in MPLS Forwarding,&rdquo; July&nbsp;2008.</span><span>)</span></a>, however that
        is outside the scope of this draft.
</p>
<p>An alternative method of load balancing by creating a number of
        pseudowires and distributing the flows amongst them was considered,
        but was rejected because:</p>
<ul class="text">
<li>It did not introduce as much entropy as the load balance label
            method.
</li>
<li>It required additional pseudowires to be set up and
            maintained.
</li>
</ul>

<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Flow Label</h3>

<p>An additional label is interposed between the pseudowire label and
        the control word, or if the control word is not present, between the
        pseudowire label and the pseudowire payload. This additional label is
        called the Flow label. Indivisible flows within the pseudowire MUST be
        mapped to the same Flow label by the ingress PE. The flow label
        stimulates the correct ECMP load balancing behaviour in the PSN. On
        receipt of the pseudowire packet at the egress PE (which knows this
        additional label is present) the flow label is discarded without
        processing.
</p>
<p>Note that the flow label MUST NOT be an MPLS reserved label (values
        in the range 0..15) <a class='info' href='#RFC3032'>[5]<span> (</span><span class='info'>Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y., Farinacci, D., Li, T., and A. Conta, &ldquo;MPLS Label Stack Encoding,&rdquo; January&nbsp;2001.</span><span>)</span></a>, but is otherwise
        unconstrained by the protocol.
</p>
<p>Considerations of the TTL value are described in the Security
        section of this document. In the case of a pseudowire there are no
        lower restrictions on the label value since the TTL is never the top
        label. The designers of the generalized solution <a class='info' href='#I-D.kompella-mpls-entropy-label'>[13]<span> (</span><span class='info'>Kompella, K. and S. Amante, &ldquo;The Use of Entropy Labels in MPLS Forwarding,&rdquo; July&nbsp;2008.</span><span>)</span></a>.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Native Service Processing Function</h3>

<p>The Native Service Processing (NSP) function is a component of a PE
      that has knowledge of the structure of the emulated service and is able
      to take action on the service outside the scope of the pseudowire. In
      this case it is required that the NSP in the ingress PE identify flows,
      or groups of flows within the service, and indicate the flow (group)
      identity of each packet as it is passed to the pseudowire forwarder.
      Since this is an NSP function, by definition, the method used to
      identify a flow is outside the scope of the pseudowire design.
      Similarly, since the NSP is internal to the PE, the method of flow
      indication to the pseudowire forwarder is outside the scope of this
      document
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Pseudowire Forwarder</h3>

<p>The pseudowire forwarder must be provided with a method of mapping
      flows to load balanced paths.
</p>
<p>The forwarder must generate a label for the flow or group of flows.
      How the load balance label values are determined is outside the scope of
      this document, however the load balance label allocated to a flow MUST
      NOT be an MPLS reserved label and SHOULD remain constant for the life of
      the flow. It is recommended that the method chosen to generate the load
      balancing labels introduces a high degree of entropy in their values, to
      maximise the entropy presented to the ECMP path selection mechanism in
      the LSRs in the PSN, and hence distribute the flows as evenly as
      possible over the available PSN ECMP paths. The forwarder at the ingress
      PE prepends the pseudowire control word (if applicable), and then pushes
      the flow label, followed by the pseudowire label.
</p>
<p>The forwarder at the egress PE uses the pseudowire label to identify
      the pseudowire. From the context associated with the pseudowire label,
      the egress PE can determine whether a flow label is present. If a flow
      label is present, the label is discarded.
</p>
<p>All other pseudowire forwarding operations are unmodified by the
      inclusion of the flow label.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Encapsulation </h3>

<p>The PWE3 Protocol Stack Reference Model modified to include flow
        label is shown in <a class='info' href='#PStack'>Figure&nbsp;1<span> (</span><span class='info'>PWE3 Protocol Stack Reference Model</span><span>)</span></a> below
</p><br /><hr class="insert" />
<a name="PStack"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   +-------------+                                +-------------+
   |  Emulated   |                                |  Emulated   |
   |  Ethernet   |                                |  Ethernet   |
   | (including  |         Emulated Service       | (including  |
   |  VLAN)      |&lt;==============================&gt;|  VLAN)      |
   |  Services   |                                |  Services   |
   +-------------+                                +-------------+
   |    Flow     |                                |    Flow     |
   +-------------+            Pseudowire          +-------------+
   |Demultiplexer|&lt;==============================&gt;|Demultiplexer|
   +-------------+                                +-------------+
   |    PSN      |            PSN Tunnel          |    PSN      |
   |   MPLS      |&lt;==============================&gt;|   MPLS      |
   +-------------+                                +-------------+
   |  Physical   |                                |  Physical   |
   +-----+-------+                                +-----+-------+

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: PWE3 Protocol Stack Reference Model&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<p>The encapsulation of a pseudowire with a flow label is shown in
        <a class='info' href='#Encap'>Figure&nbsp;2<span> (</span><span class='info'>Encapsulation of a pseudowire with a pseudowire load balancing label</span><span>)</span></a> below
</p><br /><hr class="insert" />
<a name="Encap"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    +-------------------------------+
    |      MPLS Tunnel label(s)     | n*4 octets (four octets per label)
    +-------------------------------+
    |      PW label                 |  4 octets
    +-------------------------------+
    |      Flow label               |  4 octets
    +-------------------------------+
    |   Optional Control Word       |  4 octets
    +-------------------------------+
    |            Payload            |
    |                               |
    |                               |  n octets
    |                               |
    +-------------------------------+

</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Encapsulation of a pseudowire with a pseudowire load balancing label&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Signaling the Presence of the Flow Label</h3>

<p>When using the signalling procedures in <a class='info' href='#RFC4447'>[6]<span> (</span><span class='info'>Martini, L., Rosen, E., El-Aawar, N., Smith, T., and G. Heron, &ldquo;Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP),&rdquo; April&nbsp;2006.</span><span>)</span></a>, there is a Pseudowire Interface Parameter
      Sub-TLV type used to synchronize the flow label states between the
      ingress and egress PEs.
</p>
<p>The absence of a flow label (FL) TLV by either party indicates that
      the PE concerned is unable to recognize this TLV and the sender of the
      FL TLV MUST send a new label mapping without the FL TLV. This preserves
      backwards compatibility with existing PEs that do not understand the FL
      TLV or that cannot, do not wish to, process the flow label.
</p>
<p>A PE that wishes to use a flow label sends an FL TLV with the F bit
      set. A PE that can correctly process a flow label and is willing to
      receive on, but does not wish to send a flow label sends an FL TLV with
      the F bit clear. A PE that sends an FL TLV with the F bit set and
      receives an FL TLV with or without the F bit set MUST include the flow
      label between the pseudowire label and the control word (or is the
      control word is not present between the pseudowire label and the
      pseudowire payload).
</p>
<p>If PWE3 signalling <a class='info' href='#RFC4447'>[6]<span> (</span><span class='info'>Martini, L., Rosen, E., El-Aawar, N., Smith, T., and G. Heron, &ldquo;Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP),&rdquo; April&nbsp;2006.</span><span>)</span></a> is not in use for a
      pseudowire, then whether the flow label is used MUST be identically
      provisioned in both PEs at the pseudowire endpoints. If there is no
      provisioning support for this option, the default behaviour is not to
      include the flow label.
</p>
<p>Note that what is signalled is the desire to include the flow label
      in the label stack. The value of the label is a local matter for the
      ingress PE, and the label value itself is not signalled.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Structure of Flow Label TLV</h3>

<p>The structure of the flow label TLV is shown in <a class='info' href='#MultipleVCTLV'>Figure&nbsp;3<span> (</span><span class='info'>Multiple VC TLV</span><span>)</span></a>.
</p><br /><hr class="insert" />
<a name="MultipleVCTLV"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| FL            |    Length     |F|       must be zero          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Multiple VC TLV&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
</p>
<p>Where:
</p>
<p></p>
<ul class="text">
<li>FL is the flow label TLV identifier assigned by IANA.
</li>
<li>Length is the length of the TLV in octets and is 4.
</li>
<li>When F=1 a flow label will be pushed. When F=0 a flow label
            will not be pushed.
</li>
</ul>

<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
OAM</h3>

<p>The following OAM considerations apply to this method of load
      balancing.
</p>
<p>Where the OAM is only to be used to perform a basic test that the
      pseudowires have been configured at the PEs, <a class='info' href='#RFC5085'>VCCV<span> (</span><span class='info'>Nadeau, T. and C. Pignataro, &ldquo;Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires,&rdquo; December&nbsp;2007.</span><span>)</span></a> [7] messages may be sent using any load balance
      pseudowire path, i.e. using any value for the flow label.
</p>
<p>Where it is required to verify that a pseudowire is fully functional
      for all flows<a class='info' href='#RFC5085'>, VCCV<span> (</span><span class='info'>Nadeau, T. and C. Pignataro, &ldquo;Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires,&rdquo; December&nbsp;2007.</span><span>)</span></a> [7] connection
      verification message MUST be sent over each ECMP path to the pseudowire
      egress PE. This problem is difficult to solve and scales poorly. We
      believe that this problem is addressed by the following two methods:
</p>
<p></p>
<ol class="text">
<li>If a failure occurs within the PSN, this failure will normally be
          detected by the PSN's IGP (link/node failure, link or BFD or IGP
          hello detection), and the IGP convergence will naturally modify the
          ECMP set of network paths between the Ingress and Egress PE's. Hence
          the PW is only impacted during the normal IGP convergence time.
</li>
<li>If the failure is related to the individual corruption of an LFIB
          entry in a router, then only the network path using that specific
          entry is impacted. If the PW is load balanced over multiple network
          paths, then this failure can only be detected if, by chance, the
          transported OAM flow is mapped onto the impacted network path, or
          all paths are tested. This type of error may be better solved be
          solved by other means such as LSP self test <a class='info' href='#I-D.ietf-mpls-lsr-self-test'>[14]<span> (</span><span class='info'>Swallow, G., &ldquo;Label Switching Router Self-Test,&rdquo; May&nbsp;2007.</span><span>)</span></a>.
</li>
</ol><p>To troubleshoot the MPLS PSN, including multiple paths, the
      techniques described in <a class='info' href='#RFC4378'>[8]<span> (</span><span class='info'>Allan, D. and T. Nadeau, &ldquo;A Framework for Multi-Protocol Label Switching (MPLS) Operations and Management (OAM),&rdquo; February&nbsp;2006.</span><span>)</span></a> and <a class='info' href='#RFC4379'>[9]<span> (</span><span class='info'>Kompella, K. and G. Swallow, &ldquo;Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures,&rdquo; February&nbsp;2006.</span><span>)</span></a> can be used.
</p>
<p>Where the pseudowire OAM is carried out of band (VCCV Type 2) it is
      necessary to insert an "MPLS Router Alert Label" in the label stack. The
      resultant label stack is a follows:
</p>
<p><br /><hr class="insert" />
<a name="OBVCCV"></a>

<p>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>    +-------------------------------+
    |      MPLS Tunnel label(s)     | n*4 octets (four octets per label)
    +-------------------------------+
    |      Router Alert label       |  4 octets
    +-------------------------------+
    |      PW label                 |  4 octets
    +-------------------------------+
    |      Flow label               |  4 octets
    +-------------------------------+
    |   Optional Control Word       |  4 octets
    +-------------------------------+
    |            Payload            |
    |                               |
    |                               |  n octets
    |                               |
    +-------------------------------+</pre></div>
<p>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Use of Router Alert LAbel&nbsp;</b></font><br /></td></tr></table><hr class="insert" />


<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Applicability</h3>

<p>A node within the PSN is not able to perform deep-packet-inspection
      (DPI) of the PW as the PW technology is not self-describing: the
      structure of the PW payload is only known to the ingress and egress PE
      devices. The method proposed in this document provides a statistical
      mitigation of the problem of load balance in those cased where a PE is
      able to discern flows embedded in the traffic received on the attachment
      circuit.
</p>
<p>The methods describe in this document are transparent to the PSN and
      as such do not require any new capability from the PSN.
</p>
<p>The requirement to load-balance over multiple PSN paths occurs when
      the ratio between the PW access speed and the PSN&rsquo;s core link
      bandwidth is large (e.g. &gt;= 10%). ATM and FR are unlikely to meet
      this property. Ethernet does and this is the reason why this document
      focuses on Ethernet. Applications for other high-access-bandwidth
      PW&rsquo;s (fiber-channel) may be defined in the future.
</p>
<p>This design applies to MPLS pseudowires where it is meaningful to
      deconstruct the packets presented to the ingress PE into flows. The
      mechanism described in this document promotes the distribution of flows
      within the pseudowire over different network paths. This in turn means
      that whilst packets within a flow are delivered in order (subject to
      normal IP delivery perturbations due to topology variation), order is
      not maintained amongst packets of different flows. It is not proposed to
      associate a different sequence number with each flow. If sequence number
      support is required this mechanism is not applicable.
</p>
<p>Where it is known that the traffic carried by the Ethernet pseudowire
      is IP the method of identifying the flows are well known and can be
      applied. Such methods typically include hashing on the source and
      destination addresses, the protocol ID and higher-layer flow-dependent
      fields such as TCP/UDP ports, L2TPv3 Session ID&rsquo;s etc.
</p>
<p>Where it is known that the traffic carried by the Ethernet pseudowire
      is non-IP, techniques used for link bundling between Ethernet switches
      may be reused. In this case however the latency distribution would be
      larger than is found in the link bundle case. The acceptability of the
      increased latency is for further study. Of particular importance the
      Ethernet control frames SHOULD always be mapped to the same PSN path to
      ensure in-order delivery.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
ECMP</h3>

<p>ECMP in packet switched networks is statistical in nature. The
        mapping of flows to a particular path does not take into account the
        bandwidth of the flow being mapped or the current bandwidth usage of
        the members of the ECMP set. This simplification works well when the
        distribution of flows is evenly spread over the ECMP set and there are
        a large number of flows that have low bandwidth relative to the paths.
        A random allocation of a flow to a path provides a good approximation
        to an even spread provided polarization effects are avoided. The
        method proposed in this document has the same statistical properties
        as an IP PSN.
</p>
<p>ECMP is a load-sharing mechanism that is based on sharing the load
        over a number of layer 3 paths through the PSN. Often however multiple
        links exist between a pair of LSRs that are considered by the IGP to
        be a single link. These are known as link bundles. The mechanism
        described in this document can also be used to distribute the flows
        within a pseudowire over the members of the link bundle by using the
        flow label value to identify candidate flows. How that mapping takes
        place is outside the scope of this specification. Similar
        considerations apply to link aggregation groups.
</p>
<p>In the ECMP case and the link bundling case the NSP may attempt to
        take bandwidth into consideration when allocating groups of flows to a
        common path. That is permitted, but it must be borne in mind that the
        semantics of a label stack entry (LSE) as defined by <a class='info' href='#RFC3032'>[5]<span> (</span><span class='info'>Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y., Farinacci, D., Li, T., and A. Conta, &ldquo;MPLS Label Stack Encoding,&rdquo; January&nbsp;2001.</span><span>)</span></a> cannot be modified, the value of the flow
        label cannot be modified at any point on the LSP, and the
        interpretation of bit patterns in or values of the flow label by an
        LSR are undefined.
</p>
<p>A different type of load balancing is the desire to carry a
        pseudowire over a set of PSN links in which the bandwidth of members
        of the link set is less than the bandwidth of the pseudowire. This
        problem is addressed in <a class='info' href='#I-D.stein-pwe3-pwbonding'>[15]<span> (</span><span class='info'>Stein, Y., Mendelsohn, I., and R. Insler, &ldquo;PW Bonding,&rdquo; November&nbsp;2008.</span><span>)</span></a>. Such a mechanism can be
        considered complementary to this mechanism.
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Link Aggregation Groups</h3>

<p>Link Aggregation (LAG) is used to bond together several physical
        circuits between two adjacent nodes so they appear to higher-layer
        protocols as a single, higher bandwidth "virtual" pipe. These may
        co-exist in various parts of a given network. An advantage of LAGs is
        that they reduce the number of routing and signaling protocol
        adjacencies between devices, reducing control plane processing
        overhead. As with ECMP key problem related to LAG is, due to
        inefficiencies in LAG load-distribution algorithms, a particular
        component- link may experience congestion, and the mechanism proposed
        here may be able to assist in producing a more uniform flow
        distribution.
</p>
<p>The same considerations requiring a flow to go over a single member
        of an ECMP path set apply to a member of a LAG.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
The Single Large Flow Case</h3>

<p>Clearly the operator should make sure that the service offered
        using PW technology and the method described in this document does not
        exceed the maximum planned link capacity unless it can be guaranteed
        that it conforms to the Internet traffic profile of a very large
        number of small flows.
</p>
<p>If the payload on a PW is made of a single inner flow (i.e. an
        encrypted connection between two routers), or the flow identifiers are
        too deeply buried in the packet then the functionality described in
        this document does not give any benefits, though neither does it cause
        harm relative to the existing situation. The most common case where a
        single flow dominated the traffic on a PW is when it is used to
        transport enterprise traffic. Enterprise traffic may well consist of a
        large single TCP flows , or encrypted flows that cannot be handled by
        the methods described in this document.
</p>
<p>An operator has six options under these circumstances:
</p>
<p></p>
<ol class="text">
<li>The operator can do nothing and the system will work as it does
            without the flow label.
</li>
<li>The operator can make the customer aware that the service
            offering has a restriction on flow bandwidth and police flows to
            that restriction. This would allow customers offering multiple
            flows to use a larger fraction their access bandwidth, whilst
            preventing an single flow from consuming a fraction of internal
            link bandwidth that the operator considered excessive.
</li>
<li>The operator could configure the ingress PE to assign a
            constant flow label to all high bandwidth flows so that only one
            path was affected by these flows,
</li>
<li>The operator could configure the ingress PE to assign a random
            flow label to all high bandwidth flows so as to minimise the
            disruption to the network as a cost of out of order traffic to the
            user.
</li>
<li>The operator could configure the ingress to assign a label of
            special significance to all high bandwidth flows so that some
            other action (not specified in this document) could be taken on
            the flow.
</li>
</ol>

<p>The issues described above are mitigated by the following two
        factors:
</p>
<p></p>
<ul class="text">
<li>Firstly, the customer of a high-bandwidth PW service has an
            incentive to get the best transport service because an inefficient
            use of the PSN leads to jitter and eventually to loss to the
            PW&rsquo;s payload.
</li>
<li>Secondly, the customer is usually able to tailor their
            applications to generate many flows in the PSN. A well-known
            example is massive data transport between servers which use many
            parallel TCP sessions. This same technique can be used by any
            transport protocol: multiple UDP ports, multiple L2TPv3 Session
            ID&rsquo;s, multiple GRE keys may be used to decompose a large
            flow into smaller components. This approach may be applied to
            IPsec where multiple SPI&rsquo;s may be allocated to the same
            security association.
</li>
</ul>

<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Applicability to MPLS</h3>

<p>A further application of this technique would be to create a basis
      for hash diversity without having to peek below the label stack for IP
      traffic carried over LDP LSPs. Work on the generalization of this to
      MPLS has been described in draft-kompella-mpls-entropy-label. This is
      can be regarded as a complementary but distinct approach since although
      similar consideration may apply to the identification of flows and the
      allocation of flow label values, the flow labels are imposed by
      different network components and the associated signalling mechanisms
      are different.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>The pseudowire generic security considerations described in <a class='info' href='#RFC3985'>[11]<span> (</span><span class='info'>Bryant, S. and P. Pate, &ldquo;Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture,&rdquo; March&nbsp;2005.</span><span>)</span></a> and the security considerations applicable to a
      specific pseudowire type (for example, in the case of an Ethernet
      pseudowire <a class='info' href='#RFC4448'>[10]<span> (</span><span class='info'>Martini, L., Rosen, E., El-Aawar, N., and G. Heron, &ldquo;Encapsulation Methods for Transport of Ethernet over MPLS Networks,&rdquo; April&nbsp;2006.</span><span>)</span></a> apply.
</p>
<p>The ingress PE SHOULD take steps to ensure that the load-balance
      label is not used as a covert channel.
</p>
<p>It is useful to give consideration to the choice of TTL value in the
      flow label LSE. Since the flow label is the bottom of stack and even
      when PHP is employed will on arrival at the egress PE be prepended by
      the PW label, the flow label TTL MAY be set to a value of 1. This will
      prevent the packet being inadvertently forwarded based on the value of
      the flow label. Note that this may be a departure from considerations
      that apply to the general MPLS case.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
IANA Considerations</h3>

<p>IANA is requested to allocate the next available values from the IETF
      Consensus range in the Pseudowire Interface Parameters Sub-TLV type
      Registry as a Flow Label indicator.
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
Parameter  Length       Description

TBD         4            Load Balancing Label
</pre></div>
<p>
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Congestion Considerations</h3>

<p>The congestion considerations applicable to pseudowires as described
      in <a class='info' href='#RFC3985'>[11]<span> (</span><span class='info'>Bryant, S. and P. Pate, &ldquo;Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture,&rdquo; March&nbsp;2005.</span><span>)</span></a> and any additional congestion
      considerations developed at the time of publication apply to this
      design.
</p>
<p>The ability to explicitly configure a PW to leverage the availability
      of multiple ECMP paths is beneficial to capacity planning as, all other
      parameters being constant, the statistical multiplexing of a larger
      number of smaller flows is more efficient than with a smaller number of
      larger flows.
</p>
<p>Note that if the classification into flows is only performed on IP
      packets the behaviour of those flows in the face of congestion will be
      as already defined by the IETF for packets of that type and no
      additional congestion processing is required.
</p>
<p>Where flows that are not IP are classified pseudowire congestion
      avoidance must be applied to each non-IP load balance group.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Acknowledgements</h3>

<p>The authors wish to thank Joerg Kuechemann, Wilfried Maas, Luca
      Martini, Mark Townsley, Kireeti Kompella and Lucy Yong for valuable
      comments on this document.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[1]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4385">[2]</a></td>
<td class="author-text">Bryant, S., Swallow, G., Martini, L., and D. McPherson, &ldquo;<a href="http://tools.ietf.org/html/rfc4385">Pseudowire Emulation Edge-to-Edge (PWE3) Control Word for Use over an MPLS PSN</a>,&rdquo; RFC&nbsp;4385, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4385.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4928">[3]</a></td>
<td class="author-text">Swallow, G., Bryant, S., and L. Andersson, &ldquo;<a href="http://tools.ietf.org/html/rfc4928">Avoiding Equal Cost Multipath Treatment in MPLS Networks</a>,&rdquo; BCP&nbsp;128, RFC&nbsp;4928, June&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc4928.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4553">[4]</a></td>
<td class="author-text">Vainshtein, A. and YJ. Stein, &ldquo;<a href="http://tools.ietf.org/html/rfc4553">Structure-Agnostic Time Division Multiplexing (TDM) over Packet (SAToP)</a>,&rdquo; RFC&nbsp;4553, June&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4553.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3032">[5]</a></td>
<td class="author-text">Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y., Farinacci, D., Li, T., and A. Conta, &ldquo;<a href="http://tools.ietf.org/html/rfc3032">MPLS Label Stack Encoding</a>,&rdquo; RFC&nbsp;3032, January&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3032.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4447">[6]</a></td>
<td class="author-text">Martini, L., Rosen, E., El-Aawar, N., Smith, T., and G. Heron, &ldquo;<a href="http://tools.ietf.org/html/rfc4447">Pseudowire Setup and Maintenance Using the Label Distribution Protocol (LDP)</a>,&rdquo; RFC&nbsp;4447, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4447.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5085">[7]</a></td>
<td class="author-text">Nadeau, T. and C. Pignataro, &ldquo;<a href="http://tools.ietf.org/html/rfc5085">Pseudowire Virtual Circuit Connectivity Verification (VCCV): A Control Channel for Pseudowires</a>,&rdquo; RFC&nbsp;5085, December&nbsp;2007 (<a href="http://www.rfc-editor.org/rfc/rfc5085.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4378">[8]</a></td>
<td class="author-text">Allan, D. and T. Nadeau, &ldquo;<a href="http://tools.ietf.org/html/rfc4378">A Framework for Multi-Protocol Label Switching (MPLS) Operations and Management (OAM)</a>,&rdquo; RFC&nbsp;4378, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4378.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4379">[9]</a></td>
<td class="author-text">Kompella, K. and G. Swallow, &ldquo;<a href="http://tools.ietf.org/html/rfc4379">Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures</a>,&rdquo; RFC&nbsp;4379, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4379.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4448">[10]</a></td>
<td class="author-text">Martini, L., Rosen, E., El-Aawar, N., and G. Heron, &ldquo;<a href="http://tools.ietf.org/html/rfc4448">Encapsulation Methods for Transport of Ethernet over MPLS Networks</a>,&rdquo; RFC&nbsp;4448, April&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4448.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3985">[11]</a></td>
<td class="author-text">Bryant, S. and P. Pate, &ldquo;<a href="http://tools.ietf.org/html/rfc3985">Pseudo Wire Emulation Edge-to-Edge (PWE3) Architecture</a>,&rdquo; RFC&nbsp;3985, March&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3985.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-rtgwg-ipfrr-spec-base">[12]</a></td>
<td class="author-text">Zinin, A., Torvi, R., Choudhury, G., Martin, C., Imhoff, B., and D. Fedyk, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-rtgwg-ipfrr-spec-base-12.txt">Basic Specification for IP Fast-Reroute: Loop-free Alternates</a>,&rdquo; draft-ietf-rtgwg-ipfrr-spec-base-12 (work in progress), March&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-rtgwg-ipfrr-spec-base-12.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.kompella-mpls-entropy-label">[13]</a></td>
<td class="author-text">Kompella, K. and S. Amante, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-kompella-mpls-entropy-label-00.txt">The Use of Entropy Labels in MPLS Forwarding</a>,&rdquo; draft-kompella-mpls-entropy-label-00 (work in progress), July&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-kompella-mpls-entropy-label-00.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-mpls-lsr-self-test">[14]</a></td>
<td class="author-text">Swallow, G., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-lsr-self-test-07.txt">Label Switching Router Self-Test</a>,&rdquo; draft-ietf-mpls-lsr-self-test-07 (work in progress), May&nbsp;2007 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-mpls-lsr-self-test-07.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.stein-pwe3-pwbonding">[15]</a></td>
<td class="author-text">Stein, Y., Mendelsohn, I., and R. Insler, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-stein-pwe3-pwbonding-01.txt">PW Bonding</a>,&rdquo; draft-stein-pwe3-pwbonding-01 (work in progress), November&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-stein-pwe3-pwbonding-01.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Stewart Bryant (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">250 Longwater Ave</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Reading  RG2 6GB</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">United Kingdom</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+44-208-824-8828</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:stbryant@cisco.com">stbryant@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Clarence Filsfils</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Brussels  </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Belgium</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:cfilsfil@cisco.com">cfilsfil@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ulrich Drafz</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Deutsche Telekom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Muenster,   </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Ulrich.Drafz@t-com.net">Ulrich.Drafz@t-com.net</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Vach Kompella</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alcatel-Lucent</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Alcatel-Lucent vach.kompella@alcatel-lucent.com">Alcatel-Lucent vach.kompella@alcatel-lucent.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Joe Regan</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alcatel-Lucent</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:joe.regan@alcatel-lucent.comRegan">joe.regan@alcatel-lucent.comRegan</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Shane Amante </td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Level 3 Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Fax:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:shane@castlepoint.net">shane@castlepoint.net</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href=""></a></td></tr>
</table>
</body></html>
