CCAMP Working Group                              J.E. Lopez de Vergara
Internet Draft                          Universidad Autonoma de Madrid
Intended status: Standards Track                           D. Perdices
Expires: April 25, 2019                                    Naudit HPCN
                                                              V. Lopez
                                                   O. Gonzalez de Dios
                                                   Telefonica I+D/GCTO
                                                               D. King
                                                  Lancaster University
                                                                Y. Lee
                                                                Huawei
                                                         G. Galimberti
                                                   Cisco Photonics Srl
                                                      October 22, 2018

              YANG data model for Flexi-Grid Optical Networks
                  draft-ietf-ccamp-flexigrid-yang-02.txt


Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79. This document may not be modified,
   and derivative works of it may not be created, except to publish it
   as an RFC and to translate it into languages other than English.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on April 25, 2019.

Copyright Notice

   Copyright (c) 2018 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents


Lopez de Vergara, et al.     Expires April 25, 2019        [Page 1]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


   carefully, as they describe your rights and restrictions with
   respect to this document. Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Abstract

   This document defines a YANG model for managing flexi-grid optical
   Networks. The model described in this document defines a flexi-grid
   traffic engineering database. A complementary module is referenced
   to detail the flexi-grid media channels.

   This module is grounded on other defined YANG abstract models.

Table of Contents

   1. Introduction ..............................................  2
   2. Conventions used in this document .........................  3
   3. Flexi-grid network topology model overview ................  3
   4. Main building blocks of the Flexi-grid TED.................  4
      4.1 Formal Syntax .........................................  7
   5. Example of use ............................................  8
   6. Flexi-grid TED YANG Model..................................  9
      6.1. YANG Model - Tree ....................................  9
      6.2. YANG Model - Code .................................... 27
      6.3. License .............................................. 64
   7. Security Considerations ................................... 65
   8. IANA Considerations ....................................... 65
   9. References ................................................ 65
      9.1. Normative References ................................. 65
      9.2. Informative References ............................... 66
   10. Contributors ............................................. 66
   11. Acknowledgments .......................................... 67
   Authors' Addresses ........................................... 67


1. Introduction

   Internet-based traffic is dramatically increasing every year.
   Moreover, such traffic is also becoming more dynamic. Thus,
   transport networks need to evolve from current DWDM systems towards
   elastic optical networks, based on flexi-grid transmission and
   switching technologies [RFC7698]. This technology aims at increasing
   both transport network scalability and flexibility, allowing the
   optimization of bandwidth usage.


Lopez de Vergara, et al.     Expires April 25, 2019        [Page 2]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


   This document presents a YANG model for flexi-grid objects in the
   dynamic optical network, including the nodes, transponders and links
   between them, as well as how such links interconnect nodes and
   transponders.

   The YANG model for flexi-grid networks allows the representation of
   the flexi-grid optical layer of a network, combined with the
   underlying physical layer.

   This document identifies the flexi-grid components, parameters and
   their values, characterizes the features and the performances of the
   flexi-grid elements. An application example is provided towards the
   end of the document to better understand their utility.

2. Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

   In this document, these words will appear with that interpretation
   only when in ALL CAPS. Lower case uses of these words are not to be
   interpreted as carrying RFC-2119 significance.

   In this document, the characters ">>" preceding an indented line(s)
   indicates a compliance requirement statement using the key words
   listed above. This convention aids reviewers in quickly identifying
   or finding the explicit compliance requirements of this RFC.

3. Flexi-grid network topology model overview

   YANG is a data modeling language used to model configuration data
   manipulated by the NETCONF protocol. Several YANG models have already
   been specified for network configurations. For instance, the work in
   [RFC8345] has proposed a generic YANG model for network/service
   topologies and inventories. The work in
   [I-D.draft-ietf-teas-yang-te-topo] presents a data model to
   represent, retrieve and manipulate Traffic Engineering (TE)
   Topologies. These models serve as base models that other technology
   specific models can augment. A YANG model has also been proposed in
   [I-D.draft-dharini-ccamp-dwdm-if-yang] to manage single channel
   optical interface parameters of DWDM applications, and in


Lopez de Vergara, et al.     Expires April 25, 2019        [Page 3]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


   [I-D.draft-ietf-ccamp-wson-yang] another model has been specified for
   the routing and wavelength assignment TE topology in wavelength
   switched optical networks (WSONs). None of them are specific for
   flexi-grid technology.

   Then, as stated before, we propose a model to describe a flexi-grid
   topology that is split in two YANG sub-modules:

   o Flexi-grid-TED: In order to be compatible with existing
     proposals, we augment the definitions contained in
     [RFC8345] and [I-D.draft-ietf-teas-yang-te-topo], by defining
     the different elements we can find in a flexi-grid network: 
     a node, a transponder and a link. For that, each of those elements
     is defined as a container that includes a group of attributes.
     References to the elements are provided to be later used in
     the definition of a media channel. It also includes the data 
     types for the type of modulation, the flexi-grid technology,
     the FEC, etc.
   o Media-channel: This module defines the whole path from a source
     transponder to the destination through a number of intermediate
     nodes and links. For this, it takes the information defined before
     in the flexi-grid TED. This module is described in
     [I-D.draft-ietf-ccamp-flexigrid-media-channel-yang]

     The following section provides a detailed view of the first module.


4. Main building blocks of the Flexi-grid TED

   This section details the defined YANG module. It is listed below in
   section 6.


   The description of the three main components, flexi-grid-node,
   flexi-grid-transponder and flexi-grid-link is provided below.
   flexi-grid-sliceable-transponders are also defined.

   <flexi-grid-node> ::= <config> <state>

       <flexi-grid-node>: This element designates a node in the
       network.

       <config> ::= <flexi-grid-node-attributes-config>

           <config>: Contains the configuration of a node.
           <flexi-grid-node-attributes-config> ::= <list-interface>
           <connectivity_matrix>

               <flexi-grid-node-attributes-config>: Contains all the
               attributes related to the node configuration, such as
               its interfaces or its management addresses.


Lopez de Vergara, et al.     Expires April 25, 2019        [Page 4]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


                   <list-interface> ::= <name> <port-number>
                   <input-port> <output-port> <description>
                   <interface-type>
                   [<numbered-interface> / <unnumbered-interface>]

                       <list-interface>: The list containing all the
                       information of the interfaces.

                       <name>: Determines the interface name.

                       <port-number>: Port number of the interface.

                       <input-port>: Boolean value that defines
                       whether the interface is input or not.

                       <output-port>: Boolean value that defines
                       whether the interface is output or not.

                       <description>: Description of the usage of
                       the interface.

                       <interface-type>: Determines if the interface
                       is numbered or unnumbered.

                       <numbered-interface> ::= <n-i-ip-address>
                           <numbered-interface>: An interface with
                           its own IP address.

                           <n-i-ip-address>: Only available if
                           <interface-type> is "numbered-interface".
                           Determines the IP address of the interface.

                       <unnumbered-interface> ::= <u-i-ip-address>
                       <label>
                           <unnumbered-interface>: A interface that
                           needs a label to be unique.

                           <u-i-ip-address>: Only available if
                           <interface-type> is "numbered-interface".
                           Determines the node IP address, which with
                           the label defines the interface.

                           <label>: Label that determines the
                           interface, joint with the node IP address.

                   <connectivity-matrix> ::= <connections>

                       <connectivity-matrix>: Determines whether a
                       connection port in/port out exists.

                       <connections> ::= <input-port-id>
                       <output-port-id>

Lopez de Vergara, et al.     Expires April 25, 2019        [Page 5]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

<flexi-grid-transponder> ::= <transponder-type> <config> <state>


    <flexi-grid-transponder>: This item designates a transponder
    of a node.

    <config> ::= <flexi-grid-transponder-attributes-config>

        <config>: Contains the configuration of a transponder.

        <flexi-grid-transponder-attributes-config> ::=
        <available-operational-mode> <operational-mode>

            <flexi-grid-transponder-attributes>: Contains all the
            attributes related to the transponder.

               <available-operational-mode>: It provides a list of the
               operational modes available at this transponder.

               <operational-mode>: Determines the type of operational
               mode in use.

     <state> ::= <flexi-grid-transponder-attributes-config>
     <flexi-grid-transponder-attributes-state>

         <state>: Contains the state of a transponder.

         <flexi-grid-transponder-attributes-config>: See above.

         <flexi-grid-transponder-attributes-state>: Contains the
         state of a transponder.

 <link> ::= <config> <state>

     <link>: This element describes all the information of a link.

     <config> ::= <flexi-grid-link-attributes-config>

         <config>: Contains the configuration of a link.


Lopez de Vergara, et al.     Expires April 25, 2019        [Page 6]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


         <flexi-grid-link-attributes-config> ::= <technology-type>
         <available-label-flexi-grid> <N-max> <base-frequency>
         <nominal-central-frequency-granularity>
         <slot-width-granularity>

            <flexi-grid-link-attributes>: Contains all the
            attributes related to the link, such as its unique id,
            its N value, its latency, etc.

            <link-id>: Unique id of the link.

            <available-label-flexi-grid>: Array of bits that
            determines, with each bit, the availability of each
            interface for flexi-grid technology.

            <N-max>: The max value of N in this link, being N
            the number of slots.

            <base-frequency>: The default central frequency
            used in the link.

            <nominal-central-frequency-granularity>: It is the
            spacing between allowed nominal central frequencies
            and it is set to 6.25 GHz (note: sometimes referred
            to as 0.00625 THz).

            <slot-width-granularity>: 12.5 GHz, as defined
            in G.694.1.
    <state> ::= <flexi-grid-link-attributes-config>
    <flexi-grid-link-attributes-state>

        <state>: Contains the state of a link.

        <flexi-grid-link-attributes-config>: See above.

        <flexi-grid-link-attributes-state>: Contains all the
        the information related to the state of a link.
        

4.1. Formal Syntax

   The previous syntax specification uses the augmented Backus-Naur
   Form (BNF) as described in [RFC5234].


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 7]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


5. Example of use

   In order to explain how this model is used, we provide the following
   example. An optical network usually has multiple transponders,
   switches (nodes) and links between them. Figure 1 shows a simple
   topology, where two physical paths interconnect two optical
   transponders.
                               Media channel
            <==================================================>
                                  Path x
            <-------------------------------------------------->

                     +----------+          +----------+
              Link 1 |Flexi-grid|  Link 2  |Flexi-grid| Link 3
                .--->|   node   |<-------->|   node   |<---.
                |    |    B     |          |    C     |    |
                |    +----------+          +----------+    |
                v                                          v
             /-----------\                       /-----------\
            / Flexi-grid  \                     / Flexi-grid  \
            | transponder |                     | transponder |
            \      A      /                     \      E      /
             \-----------/                       \-----------/
                  ^                                     ^
                  |             +----------+            |
                  |    Link 4   |Flexi-grid|   Link 5   |
                  '------------>|   node   |<-----------'
                                |    D     |
                                +----------+
            <-------------------------------------------------->
                                  Path y

                      Figure 1. Topology example.

   In order to configure a media channel to interconnect transponders A
   and E, first of all we have to populate the flexi-grid TED YANG model
   with all elements in the network:

   1. We define the transponders A and E, including their FEC type, if
      enabled, and modulation type. We also provide node identifiers
      and addresses for the transponders, as well as interfaces
      included in the transponders. Sliceable transponders can also be
      defined if needed.

   2. We do the same for the nodes B, C and D, providing their
      identifiers, addresses and interfaces, as well as the internal
      connectivity matrix between interfaces.

   3. Then, we also define the links 1 to 5 that interconnect nodes and
      transponders, indicating which flexi-grid labels are available.
      Other information, such as the slot frequency and granularity are
      also provided.

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 8]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

   Next, we can configure the media channel from the information we
   have stored in the flexi-grid TED, by querying which elements are
   available, and planning the resources that have to be provided on
   each situation. Note that every element in the flexi-grid TED has a
   reference, and this is the way in which they are called in the media
   channel. We refer to
   [I-D.draft-ietf-ccamp-flexigrid-media-channel-yang] to complete
   this example.


6. Flexi-grid TED YANG Model

6.1. Yang Model - Tree Structure

module: ietf-flex-grid-topology
  augment /nw:networks/nw:network/nw:network-types/tet:te-topology:
    +--rw flex-grid-topology!
  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes:
  augment /nw:networks/nw:network/nw:node/nt:termination-point/tet:te:
    +--rw supported-payload-types* [index]
    |  +--rw index           uint16
    |  +--rw payload-type?   string
    +--rw client-facing?             boolean
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes:
    +--rw flex-grid-node
       +--rw node-type?   identityref
  augment /nw:networks/nw:network/nw:node/tet:te/
     tet:tunnel-termination-point:
    +--rw supported-operational-modes*    layer0-types:operational-mode
    +--rw configured-operational-modes?   layer0-types:operational-mode
    +--rw supported-fec-types*            identityref
    +--rw supported-termination-types*    identityref
    +--rw supports-bit-stuffing?          boolean
    +--rw is-tunable?                     boolean
    +--rw max-subcarrier-channel-num?     uint8
    +--rw supports-flex-grid?             boolean
  augment /nw:networks/nw:network/nw:node/nt:termination-point/tet:te/
    tet:interface-switching-capability/tet:max-lsp-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw bandwidth-type?   identityref
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:path-constraints/tet:te-bandwidth/
    tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
       

Lopez de Vergara, et al.      Expires April 25, 2019       [Page 9]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/
    tet:path-constraints/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:path-constraints/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--ro supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:path-constraints/
    tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--ro supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:client-layer-adaptation/
    tet:switching-capability/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:path-constraints/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:path-constraints/tet:te-bandwidth/
    tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:interface-switching-capability/tet:max-lsp-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw bandwidth-type?   identityref
  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:max-link-bandwidth/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:max-resv-link-bandwidth/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
       
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 10]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:unreserved-bandwidth/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:interface-switching-capability/
    tet:max-lsp-bandwidth/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--ro bandwidth-type?   identityref
  augment /nw:networks/nw:network/nt:link/tet:te/
    ttet:information-source-entry/et:max-link-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--ro supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:max-resv-link-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--ro supported-bandwidth-list*   identityref
  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:unreserved-bandwidth/
    tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--ro supported-bandwidth-list*   identityref
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:interface-switching-capability/
    tet:max-lsp-bandwidth/tet:te-bandwidth/tet:technology:
    +--:(flex-grid)
       +--rw bandwidth-type?   identityref
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:max-link-bandwidth/tet:te-bandwidth/
    tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:max-resv-link-bandwidth/tet:te-bandwidth/
    tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:unreserved-bandwidth/tet:te-bandwidth/
    tet:technology:
    +--:(flex-grid)
       +--rw supported-bandwidth-list*   identityref
       
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 11]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:label-restrictions/
    tet:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flex-grid
       +--rw nominal-central-frequency-granularity?   frequency-ghz
       +--rw slot-width-granularity?                  frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 12]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/tet:route-object-exclude-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:path-properties/
    tet:path-route-objects/tet:path-route-object/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:from/
    tet:label-restrictions/tet:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flex-grid
       +--rw nominal-central-frequency-granularity?   frequency-ghz
       +--rw slot-width-granularity?                  frequency-ghz

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 13]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:from/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
  tet:connectivity-matrices/tet:connectivity-matrix/tet:from/
  tet:label-restrictions/tet:label-restriction/tet:label-end/
  tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:to/
    tet:label-restrictions/tet:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flex-grid
       +--rw nominal-central-frequency-granularity?   frequency-ghz
       +--rw slot-width-granularity?                  frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:to/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:to/
    tet:label-restrictions/tet:label-restriction/tet:label-end/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:underlay/
    tet:primary-path/tet:path-element/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 14]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:underlay/
    tet:backup-path/tet:path-element/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:optimizations/
    tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/tet:route-object-exclude-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/tet:optimizations/
    tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 15]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/tet:te-node-attributes/
    tet:connectivity-matrices/tet:connectivity-matrix/
    tet:path-properties/tet:path-route-objects/tet:path-route-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction:
    +--ro grid-type?   identityref
    +--ro priority?    uint8
    +--ro flex-grid
       +--ro nominal-central-frequency-granularity?   frequency-ghz
       +--ro slot-width-granularity?                  frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:label-restrictions/tet:label-restriction/tet:label-end/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/tet:underlay/
    tet:primary-path/tet:path-element/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
                
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 16]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/tet:underlay/
    tet:backup-path/tet:path-element/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:optimizations/tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/tet:route-object-exclude-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:optimizations/tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
                
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 17]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:path-properties/tet:path-route-objects/tet:path-route-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/tet:
    information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction:
    +--ro grid-type?   identityref
    +--ro priority?    uint8
    +--ro flex-grid
       +--ro nominal-central-frequency-granularity?   frequency-ghz
       +--ro slot-width-granularity?                  frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:from/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction:
    +--ro grid-type?   identityref
    +--ro priority?    uint8
    +--ro flex-grid
       +--ro nominal-central-frequency-granularity?   frequency-ghz
       +--ro slot-width-granularity?                  frequency-ghz

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 18]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:to/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
                

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 19]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018
                
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:optimizations/tet:algorithm/tet:metric/
    tet:optimization-metric/tet:explicit-route-exclude-objects/
    tet:route-object-exclude-object/tet:type/tet:label/tet:label-hop/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/
    tet:connectivity-matrix/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:information-source-entry/tet:connectivity-matrices/es/
    tet:connectivity-matrix/tet:path-propertitet:path-route-objects/
    tet:path-route-object/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
                
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 20]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:label-restrictions/tet:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flex-grid
       +--rw nominal-central-frequency-granularity?   frequency-ghz
       +--rw slot-width-granularity?                  frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:label-restrictions/tet:label-restriction/tet:label-end/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:underlay/tet:primary-path/tet:path-element/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:underlay/tet:backup-path/tet:path-element/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
                
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 21]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:optimizations/tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/tet:route-object-exclude-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:optimizations/tet:algorithm/tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:path-properties/tet:path-route-objects/tet:path-route-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:label-restrictions/
    tet:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flex-grid
       +--rw nominal-central-frequency-granularity?   frequency-ghz
       +--rw slot-width-granularity?                  frequency-ghz
       
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 22]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:underlay/tet:backup-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
                
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 23]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-exclude-objects/tet:route-object-exclude-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz

  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:optimizations/tet:algorithm/
    tet:metric/tet:optimization-metric/
    tet:explicit-route-include-objects/tet:route-object-include-object/
    tet:type/tet:label/tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nw:node/tet:te/
    tet:tunnel-termination-point/tet:local-link-connectivities/
    tet:local-link-connectivity/tet:path-properties/
    tet:path-route-objects/tet:path-route-object/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro (single-or-super-channel)?
          +--:(single)
          |  +--ro central-frequency?     frequency-thz
          |  +--ro slot-width?            frequency-ghz
          +--:(super)
             +--ro subcarrier-channels* [central-frequency]
                +--ro central-frequency     frequency-thz
                +--ro slot-width?           frequency-ghz

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 24]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
   tet:underlay/tet:primary-path/tet:path-element/tet:type/tet:label/
   tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz

  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:underlay/tet:backup-path/tet:path-element/tet:type/tet:label/
    tet:label-hop/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:label-restrictions/tet:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flex-grid
       +--rw nominal-central-frequency-granularity?   frequency-ghz
       +--rw slot-width-granularity?                  frequency-ghz
  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:label-restrictions/tet:label-restriction/tet:label-start/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nt:link/tet:te/tet:te-link-attributes/
    tet:label-restrictions/tet:label-restriction/tet:label-end/
    tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:label-restrictions/
    tet:label-restriction:
    +--ro grid-type?   identityref
    +--ro priority?    uint8
    +--ro flex-grid
       +--ro nominal-central-frequency-granularity?   frequency-ghz
       +--ro slot-width-granularity?                  frequency-ghz
	   
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 25]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:label-restrictions/
    tet:label-restriction/tet:label-start/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/nw:network/nt:link/tet:te/
    tet:information-source-entry/tet:label-restrictions/
    tet:label-restriction/tet:label-end/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--ro central-frequency?   frequency-thz
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:underlay/tet:primary-path/
    tet:path-element/tet:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:underlay/tet:backup-path/
    ttet:path-element/et:type/tet:label/tet:label-hop/tet:te-label/
    tet:technology:
    +--:(flex-grid)
       +--rw (single-or-super-channel)?
          +--:(single)
          |  +--rw central-frequency?     frequency-thz
          |  +--rw slot-width?            frequency-ghz
          +--:(super)
             +--rw subcarrier-channels* [central-frequency]
                +--rw central-frequency     frequency-thz
                +--rw slot-width?           frequency-ghz
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:label-restrictions/tet:label-restriction:
    +--rw grid-type?   identityref
    +--rw priority?    uint8
    +--rw flex-grid
       +--rw nominal-central-frequency-granularity?   frequency-ghz
       +--rw slot-width-granularity?                  frequency-ghz
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:label-restrictions/tet:label-restriction/
    tet:label-start/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz
  augment /nw:networks/tet:te/tet:templates/tet:link-template/
    tet:te-link-attributes/tet:label-restrictions/tet:label-restriction/
    tet:label-end/tet:te-label/tet:technology:
    +--:(flex-grid)
       +--rw central-frequency?   frequency-thz

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 26]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


A.2. YANG Model - Code

   <CODE BEGINS> file "ietf-flexi-grid-ted@2018-10-22.yang"
module ietf-flex-grid-topology {

  yang-version 1.1;

  namespace "urn:ietf:params:xml:ns:yang:ietf-flex-grid-topology";

  prefix "flex-grid";

  import ietf-network {
    prefix "nw";
  }

  import ietf-network-topology {
    prefix "nt";
  }

  import ietf-te-topology {
    prefix "tet";
  }

  import ietf-layer0-types {
    prefix "layer0-types";
  }
  
  organization
    "IETF CCAMP Working Group";

  contact
    "WG Web:   <http://tools.ietf.org/wg/ccamp/>
     WG List:  <mailto:ccamp@ietf.org>

     WG Chair: Daniele Ceccarelli
               <mailto:daniele.ceccarelli@ericsson.com>

     WG Chair: Fatai Zhang
               <mailto:zhangfatai@huawei.com>

     Editor: Jorge E. Lopez de Vergara  <jorge.lopez_vergara@uam.es>
     Editor: Daniel Perdices Burrero <daniel.perdices@naudit.es>
     Editor: Victor Lopez Alvarez <victor.lopezalvarez@telefonica.com>
     Editor: Young Lee <leeyoung@huawei.com>
     Editor: Aihua Guo <aihuaguo@huawei.com>"; 

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 27]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

     description
       "This module defines a model for Flex-grid topology

     Copyright (c) 2018 IETF Trust and the persons identified
     as authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with
     or without modification, is permitted pursuant to, and
     subject to the license terms contained in, the Simplified BSD
     License set forth in Section 4.c of the IETF Trust's Legal
     Provisions Relating to IETF Documents
     (http://trustee.ietf.org/license-info).";

  revision 2018-10-22 {
    description
      "version 1.";

    reference
      "RFC XXX: A Yang Data Model for Flex-grid Optical Networks ";
  }

  /*
   * Groupings
   */
  grouping flex-grid-node-attributes {
    description "Flex-grid node attributes.";
    
    container flex-grid-node {
      description "Flex-grid node attrtibutes.";
      leaf node-type {
        type identityref {
          base layer0-types:layer0-node-type;
        }
        description "Flex-grid node type.";
      }
    }
  }

  grouping flex-grid-link-attributes {
    description
     "Future flex-grid link attributes extensions";
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 28]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  
  grouping flex-grid-tp-attributes {
    description "flex-grid-tp-attributes";

    list supported-payload-types {
      key "index";
      description
        "Supported payload types of a TP. The payload type is defined
         as the generalized PIDs in GMPLS.";
      leaf index {
        type uint16;
        description "payload type index";
      }
      leaf payload-type {
        type string;
        description "the payload type supported by this client tp";
        reference
          "http://www.iana.org/assignments/gmpls-sig-parameters
           /gmpls-sig-parameters.xhtml";
      }
    }
    leaf client-facing {
      type boolean;
      default 'false';
      description
        "Indicating if it is a client-facing TP.";
    }
  }

  grouping flex-grid-ttp-attributes {
    description
     "Flex-grid tunnel termination point (e.g.tranponder)
       attributes";
    leaf-list supported-operational-modes {
      type layer0-types:operational-mode;
      description
        "List of all supported vendor-specific
         mode identifiers";
    }

    
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 29]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

    leaf configured-operational-modes {
      type layer0-types:operational-mode;
      description
       "Vendor-specific mode identifier configured
         on the TTP.";
    }

    leaf-list supported-fec-types {
      type identityref {
        base layer0-types:fec-type;
      }
       description
        "List of all supported FEC types by this TTP.";
    }

    leaf-list supported-termination-types {
      type identityref {
        base layer0-types:term-type;
      }
        description
         "List of all supported termination types by this TTP.";
    }

    leaf supports-bit-stuffing {
       type boolean;
       description
         "Indicate whether bit stuffing is supported by this TTP.";
    }
    
    leaf is-tunable {
      type boolean;
      description 
        "Indicates if the TTP, or transponder, is tunable. Tunable
         transponders are assumed to be fully tunable to any of the 
         96 channels within DWDM C-band.";
    }

    leaf max-subcarrier-channel-num {
      type uint8 {
     range "1..max";
      }
      default 1;
      description
     "Indicate the maximum number of subcarrier channels for 
          super-channel transponders. When the value equals 1 it
          represents regular single-channel transponder.";
    }


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 30]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

    leaf supports-flex-grid {
      type boolean;
      description 
        "Indicates if the TTP, or transponder, supports flex grid.";
    }
  }
  
  /*
   * Data nodes
   */

  augment "/nw:networks/nw:network/nw:network-types"
   + "/tet:te-topology" {
      description "flex-grid-topology augmented";
      container flex-grid-topology {
        presence "indicates a topology of Flex Grid";
        description
          "Container to identify Flex-grid topology type";
      }
  }

  augment "/nw:networks/nw:network/nt:link/tet:te"
        + "/tet:te-link-attributes"   {
    when "/nw:networks/nw:network/nw:network-types"
        +"/tet:te-topology/flex-grid:flex-grid-topology" {
       description "This augment is only valid for flex-grid.";
    }
    description "Flex-grid Link augmentation.";
    uses flex-grid-link-attributes;
  }

  augment "/nw:networks/nw:network/nw:node/nt:termination-point/"
        + "tet:te" {
    when "/nw:networks/nw:network/nw:network-types"
        +"/tet:te-topology/flex-grid:flex-grid-topology" {
       description "This augment is only valid for flex-grid.";
    }
    description "Flex-grid TP attributes.";
    uses flex-grid-tp-attributes;
  }

  augment "/nw:networks/nw:network/nw:node/tet:te"
        + "/tet:te-node-attributes" {
    when "/nw:networks/nw:network/nw:network-types"
       +"/tet:te-topology/flex-grid:flex-grid-topology" {
       description "This augment is only valid for flex-grid.";
    }
    description "Flex-grid Node augmentation.";
    uses flex-grid-node-attributes;
  }


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 31]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


  augment "/nw:networks/nw:network/nw:node/tet:te"
        + "/tet:tunnel-termination-point" {
    when "/nw:networks/nw:network/nw:network-types"
       +"/tet:te-topology/flex-grid:flex-grid-topology" {
      description "This augment is only valid for flex-grid.";
    }
    description "Flex-grid tunnel termination point augmentation.";
    uses flex-grid-ttp-attributes;
  }

  /*
   * Augment TE bandwidth
   */

  /* Augment maximum LSP bandwidth of link terminationpoint (LTP) */
  augment "/nw:networks/nw:network/nw:node/nt:termination-point/"
        + "tet:te/"
        + "tet:interface-switching-capability/tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-path-bandwidth;
    }
  }

  /* Augment bandwidth path constraints of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 32]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018
 
  /* Augment bandwidth path constraints of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment bandwidth path constraints of connectivity-matrices
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment bandwidth path constraints of connectivity-matrix 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-constraints/tet:te-bandwidth/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 33]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment client bandwidth of tunnel termination point (TTP) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:client-layer-adaptation/tet:switching-capability/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment bandwidth path constraints of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/tet:path-constraints/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment bandwidth path constraints of local-link-connectivity (LLC)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/tet:path-constraints/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE bandwidth";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 34]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment maximum LSP bandwidth of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:interface-switching-capability/tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-path-bandwidth;
    }
  }

  /* Augment maximum bandwidth of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:max-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment maximum reservable bandwidth of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:max-resv-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 35]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment unreserved bandwidth of TE Link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:unreserved-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment maximum LSP bandwidth of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:interface-switching-capability/"
        + "tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-path-bandwidth;
    }
  }

  /* Augment maximum bandwidth of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:max-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 36]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


  /* Augment maximum reservable bandwidth of TE link information-source
   */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:max-resv-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment unreserved bandwidth of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:unreserved-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment maximum LSP bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:interface-switching-capability/"
        + "tet:max-lsp-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
*/
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-path-bandwidth;
    }
  }


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 37]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment maximum bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:max-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../nw:network-types/tet:te-topology/"
        + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
*/
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment maximum reservable bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:max-resv-link-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../nw:network-types/tet:te-topology/"
        + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
*/
    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /* Augment unreserved bandwidth of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:unreserved-bandwidth/"
        + "tet:te-bandwidth/tet:technology" {
/*
    when "../../../../../../nw:network-types/tet:te-topology/"
        + "flex-grid:flex-grid-topology" {
      description "flex-grid TE bandwidth.";
    }
*/


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 38]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


    description "flex-grid bandwidth.";
    case flex-grid {
      uses layer0-types:flex-grid-link-bandwidth;
    }
  }

  /*
   * Augment TE label.
   */

  /* Augment label restrictions of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment label restrictions start of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:label-restrictions/tet:label-restriction/"    
        + "tet:label-start/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }
  

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 39]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label restrictions end of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:label-restrictions/" 
        + "tet:label-restriction/tet:label-end/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label hop of underlay primary path of connectivity-matrices
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:underlay/tet:primary-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of underlay backup path of connectivity-matrices
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:underlay/tet:backup-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 40]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018


  /* Augment label hop of route-exclude of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of route-include of connectivity-matrices (added)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 41]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of path-route of connectivity-matrices */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology"{
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }
  
  /* Augment ingress label restrictions of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:from/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment ingress label restrictions start of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:from/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-start/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 42]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment ingress label restrictions end of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:from/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-end/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment egress label restrictions of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:to/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment egress label restrictions start of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:to/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-start/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 43]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment egress label restrictions end of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:to/"
        + "tet:label-restrictions/tet:label-restriction/" 
        + "tet:label-end/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label hop of underlay primary path of connectivity-matrix 
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:primary-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of underlay backup path of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:backup-path/tet:path-element/"
        + "tet:type/tet:label/tet:label-hop/"
        + "tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 44]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of route-exclude of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:optimizations/"
        + "tet:algorithm/tet:metric/tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of route-include of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/tet:optimizations/"
        + "tet:algorithm/tet:metric/tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 45]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of path-route of connectivity-matrix */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:te-node-attributes/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label restrictions of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/"
        + "tet:connectivity-matrices/tet:label-restrictions/"
        + "tet:label-restriction" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment label restrictions start of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/"
        + "tet:connectivity-matrices/tet:label-restrictions/"
        + "tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }
  
Lopez de Vergara, et al.     Expires April 25, 2019       [Page 46]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label restrictions end of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/"
        + "tet:connectivity-matrices/tet:label-restrictions/"
        + "tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label hop of underlay primary path of connectivity-matrices
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of underlay backup path of connectivity-matrices
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 47]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of route-exclude of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of route-include of connectivity-matrices 
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 48]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of path-route of connectivity-matrices
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment ingress label restrictions of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:from/tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment ingress label restrictions start of connectivity-matrix
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:from/tet:label-restrictions/" 
        + "tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 49]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment ingress label restrictions end of connectivity-matrix
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:from/tet:label-restrictions/" 
        + "tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment egress label restrictions of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:to/tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment egress label restrictions start of connectivity-matrix
information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:to/tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 50]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment egress label restrictions end of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:to/tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label hop of underlay primary path of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of underlay backup path of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 51]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of route-exclude of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of route-include of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 52]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of path-route of connectivity-matrix
     information-source */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:information-source-entry/tet:connectivity-matrices/"
        + "tet:connectivity-matrix/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label restrictions of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment label restrictions start of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
      + "tet:tunnel-termination-point/"
      + "tet:local-link-connectivities/"
      + "tet:label-restrictions/tet:label-restriction/"
      + "tet:label-start/"
      + "tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 53]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label restrictions end of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:label-restrictions/tet:label-restriction/"  
        + "tet:label-end/"
        + "tet:te-label/tet:technology"{
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label hop of underlay primary path of
     local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of underlay backup path of
     local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 54]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of route-exclude of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of route-include of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 55]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of path-route of local-link-connectivities */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label restrictions of local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment label restrictions start of local-link-connectivity (LLC) 
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 56]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label restrictions end of local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label hop of underlay primary path of
     local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 57]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of underlay backup path of
     local-link-connectivity (LLC) */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of route-exclude of local-link-connectivity (LLC)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-exclude-objects/"
        + "tet:route-object-exclude-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 58]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of route-include of local-link-connectivity (LLC)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:optimizations/tet:algorithm/tet:metric/"
        + "tet:optimization-metric/"
        + "tet:explicit-route-include-objects/"
        + "tet:route-object-include-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of path-route of local-link-connectivity (LLC)
   */
  augment "/nw:networks/nw:network/nw:node/tet:te/"
        + "tet:tunnel-termination-point/"
        + "tet:local-link-connectivities/"
        + "tet:local-link-connectivity/"
        + "tet:path-properties/tet:path-route-objects/"
        + "tet:path-route-object/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 59]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of underlay primary path of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label hop of underlay backup path of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
    when "../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label restrictions of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }


Lopez de Vergara, et al.     Expires April 25, 2019       [Page 60]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label restrictions start of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label restrictions end of TE link */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label restrictions of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:label-restrictions/tet:label-restriction" {
    when "../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 61]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label restrictions start of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label restrictions end of TE link information-source */
  augment "/nw:networks/nw:network/nt:link/tet:te/"
        + "tet:information-source-entry/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
    when "../../../../../../../nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

  /* Augment label hop of underlay primary path of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:underlay/tet:primary-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
/*
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
          description "Augment flex-grid TE label";
    }
*/
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 62]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label hop of underlay backup path of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:underlay/tet:backup-path/tet:path-element/tet:type/"
        + "tet:label/tet:label-hop/tet:te-label/tet:technology" {
/*
    when "../../../../../../../../../"
       + "nw:network-types/tet:te-topology/"
       + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
*/

    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-path-label;
    }
  }

  /* Augment label restrictions of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction" {
/*
    when "../../../../../nw:network-types/tet:te-topology/"
        + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
*/
    description "flex-grid label.";
    uses layer0-types:flex-grid-label-restriction;
  }

  /* Augment label restrictions start of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-start/tet:te-label/tet:technology" {
/*
    when "../../../../../../../nw:network-types/tet:te-topology/"
        + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
*/
    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 63]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

  /* Augment label restrictions end of TE link template */
  augment "/nw:networks/tet:te/tet:templates/"
        + "tet:link-template/tet:te-link-attributes/"
        + "tet:label-restrictions/tet:label-restriction/"
        + "tet:label-end/tet:te-label/tet:technology" {
/*
    when "../../../../../../../nw:network-types/tet:te-topology/"
        + "flex-grid:flex-grid-topology" {
      description "Augment flex-grid TE label";
    }
*/

    description "flex-grid label.";
    case flex-grid {
      uses layer0-types:flex-grid-link-label;
    }
  }
}
   <CODE ENDS>

A.3. License

   Copyright (c) 2018 IETF Trust and the persons identified as authors
   of the code. All rights reserved.

   Redistribution and use in source and binary forms, with or without
   modification, are permitted provided that the following conditions
   are met:

   o Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.

   o Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in
      the documentation and/or other materials provided with the
      distribution.

   o Neither the name of Internet Society, IETF or IETF Trust, nor the
      names of specific contributors, may be used to endorse or promote
      products derived from this software without specific prior
      written permission.

   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
   "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
   FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
   COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
   INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
   LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
   CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
   LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
   ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   POSSIBILITY OF SUCH DAMAGE.

Lopez de Vergara, et al.     Expires April 25, 2019       [Page 64]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

7. Security Considerations

   The transport protocol used for sending the managed information MUST
   support authentication and SHOULD support encryption.

   The defined data-model by itself does not create any security
   implications.

8. IANA Considerations

   The namespace used in the defined models is currently based on the
   METRO-HAUL project URI. Future versions of this document could
   register a URI in the IETF XML registry [RFC3688], as well as in the
   YANG Module Names registry [RFC6020].


9. References

9.1. Normative References

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate
             Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC5234] Crocker, D. and P. Overell, "Augmented BNF for Syntax
             Specifications: ABNF", STD 68, RFC 5234, January 2008,
             <http:/www.rfc-editor.org/info/rfc5234>.

   [RFC6020] Bjorklund, M., Ed., "YANG - A Data Modeling Language for
             the Network Configuration Protocol (NETCONF)", RFC 6020,
             October 2010.

   [RFC3688] Mealling, M., "The IETF XML Registry", BCP 81, RFC 3688,
             January 2004.




Lopez de Vergara, et al.     Expires April 25, 2019       [Page 65]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018




9.2. Informative References

   [RFC7698] Gonzalez de Dios, O., Casellas, R., Eds. "Framework and
             Requirements for GMPLS-Based Control of Flexi-Grid Dense
             Wavelength Division Multiplexing (DWDM) Networks",
             RFC7698, November 2015.

   [RFC8345]  Clemm, A., Medved, J., Varga, R., Bahadur, N., 
         Ananthakrishnan, H., Liu, X., "A Data Model for Network 
         Topologies", RFC 8345, March 2018.

   [I-D.draft-ietf-teas-yang-te-topo] Liu, X., Bryskin, I., Pavan
         Beeram, V., Saad, T., Shah, H., Gonzalez De Dios, O., "YANG
         Data Model for TE Topologies", Internet Draft
         draft-ietf-teas-yang-te-topo-18.txt, 2018.

   [I-D.draft-dharini-ccamp-dwdm-if-yang] Galimberti, G., Kunze, R.,
         Lam, K., Hiremagalur, D., Grammel, G., Fang, L., Ratterree, G.,
         Eds., "A YANG model to manage the optical interface parameters
         for an external transponder in a WDM network", Internet Draft,
         draft-dharini-ccamp-dwdm-if-param-yang-06.txt, 2018.

   [I-D.draft-ietf-ccamp-wson-yang] Lee, Y. Dhody, D., Zhang, X., Guo,
         A., Lopez, V., King, D., Yoon, B.,"A Yang Data Model for WSON
         Optical Networks", Internet Draft,
         draft-ietf-ccamp-wson-yang-14.txt, 2018.

   [I-D.draft-ietf-ccamp-flexigrid-media-channel-yang] Lopez de
         Vergara, J., Perdices, D., Lopez, V., Gonzalez de Dios, O.,
         King, D., Lee, Y., Galimberti, G., "YANG data model for
         Flexi-Grid media-channels", Internet Draft,
         draft-ietf-ccamp-flexigrid-media-channel-yang-00, 2018.


10. Contributors

   The model presented in this paper was contributed to by more people
   than can be listed on the author list.  Additional contributors
   include:

   o Zafar Ali, Cisco Systems
   o Daniel Michaud Vallinoto, Universidad Autonoma de Madrid



Lopez de Vergara, et al.     Expires April 25, 2019       [Page 66]
Internet-Draft    A YANG data model for Flexi-Grid    October 2018

11. Acknowledgments

   The work presented in this Internet-Draft has been partially funded
   by the European Commission under the project H2020 METRO-HAUL
   (Metro High bandwidth, 5G Application-aware optical network, with
   edge storage, compUte and low Latency), Grant Agreement number:
   761727, and by the Spanish Ministry of Economy and Competitiveness
   under the project TRAFICA, MINECO/FEDER TEC2015-69417-C2-1-R.

Authors' Addresses

   Jorge E. Lopez de Vergara Mendez
   Universidad Autonoma de Madrid
   Escuela Politecnica Superior
   C/Francisco Tomas y Valiente, 11
   E-28049 Madrid, Spain

   Email: jorge.lopez_vergara@uam.es

   Daniel Perdices Burrero
   Naudit High Performance Computing and Networking, S.L.
   C/Faraday, 7
   E-28049 Madrid, Spain

   Email: daniel.perdices@naudit.es

   Victor Lopez Alvarez
   Telefonica I+D/GCTO
   Distrito Telefonica
   E-28050 Madrid, Spain

   Email: victor.lopezalvarez@telefonica.com

   Oscar Gonzalez de Dios
   Telefonica I+D/GCTO
   Distrito Telefonica
   E-28050 Madrid, Spain

   Email: oscar.gonzalezdedios@telefonica.com

   Daniel King
   Lancaster University

   Email: d.king@lancaster.ac.uk

   Young Lee
   Huawei Technologies

   Email: leeyoung@huawei.com

   Gabriele Galimberti
   Cisco Photonics Srl

   Email: ggalimbe@cisco.com

   Lopez de Vergara, et al.     Expires April 25, 2019        [Page 67]