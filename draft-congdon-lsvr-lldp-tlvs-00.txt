LSVR                                                         P. Congdon
Internet Draft                                    Tallac Networks, Inc.
Intended status: Standards Track                            P. Bottorff
Expires: April 21, 2020                                           Aruba
                                                       October 22, 2019


   LSVR IETF Organizationally Specific TLVs for IEEE Std 802.1AB (LLDP)
                    draft-congdon-lsvr-lldp-tlvs-00.txt


Status of this Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

   This Internet-Draft will expire on April 22, 2009.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document. Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document. Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.




Congdon                 Expires April 22, 2019                 [Page 1]

Internet-Draft            LSVR TLVs for LLDP               October 2019


Abstract

   IEEE Std 802.1AB, commonly known as the Link Layer Discovery
   Protocol (LLDP), provides a means for individual organizations to
   define their own Type-Length-Value (TLV) objects for exchange over
   the protocol.  The IETF is a standards development organization with
   an IANA OUI (RFC 7042) that can be used in LLDP organizationally
   specific TLVs.  This document specifies IETF Organizationally
   Specific TLVs that support LSVR protocols.

Table of Contents


   1. Introduction...................................................3
   2. Conventions....................................................4
   3. Abbreviations..................................................4
   4. LLDP Organizationally Specific TLVs............................4
      4.1. Type......................................................5
      4.2. Length....................................................5
      4.3. Organizationally Unique Identifier........................5
      4.4. Subtype...................................................5
      4.5. Information...............................................5
   5. IETF Organizationally Specific TLVs............................5
      5.1. Logical Link Endpoint Identifier Attributes TLV...........6
         5.1.1. LLEI Length..........................................6
         5.1.2. LLEI.................................................6
         5.1.3. AttrCount............................................7
         5.1.4. Attribute List.......................................7
         5.1.5. Logical Link Endpoint Identifier TLV usage rules.....7
      5.2. IPv4 Announcement TLV.....................................7
         5.2.1. LLEI Length..........................................7
         5.2.2. LLEI.................................................8
         5.2.3. Encaps Flags.........................................8
            5.2.3.1. Announce........................................8
            5.2.3.2. Primary.........................................8
            5.2.3.3. Under/Over......................................8
            5.2.3.4. Loopback........................................8
         5.2.4. IPv4 Address.........................................9
         5.2.5. Prefix Length........................................9
         5.2.6. IPv4 Announcement TLV usage rules....................9
      5.3. IPv6 Announcement TLV.....................................9
         5.3.1. LLEI Length.........................................10
         5.3.2. LLEI................................................10
         5.3.3. Encaps Flags........................................10
         5.3.4. IPv6 Address........................................10
         5.3.5. Prefix Length.......................................10
         5.3.6. IPv6 Announcement TLV usage rules...................11


Congdon                 Expires April 21, 2019                 [Page 2]

Internet-Draft            LSVR TLVs for LLDP               October 2019


      5.4. MPLS IPv4 Announcement TLV...............................11
         5.4.1. LLEI Length.........................................11
         5.4.2. LLEI................................................11
         5.4.3. Encaps Flags........................................11
         5.4.4. MPLS Label List.....................................12
            5.4.4.1. Label Count....................................12
            5.4.4.2. Label..........................................12
            5.4.4.3. Exp............................................12
            5.4.4.4. S..............................................12
         5.4.5. IPv4 Address........................................12
         5.4.6. Prefix Length.......................................13
         5.4.7. IPv4 Announcement TLV usage rules...................13
      5.5. MPLS IPv6 Announcement TLV...............................13
         5.5.1. LLEI Length.........................................13
         5.5.2. LLEI................................................14
         5.5.3. Encaps Flags........................................14
         5.5.4. MPLS Label List.....................................14
         5.5.5. IPv6 Address........................................14
         5.5.6. Prefix Length.......................................14
         5.5.7. MPLS IPv6 Announcement TLV usage rules..............14
   6. Security Considerations.......................................14
   7. IANA Considerations...........................................14
   8. Conclusions...................................................14
   9. References....................................................15
      9.1. Normative References.....................................15
      9.2. Informative References...................................15
   10. Acknowledgments..............................................15

1. Introduction

   IEEE Std 802.1AB [802.1AB], commonly known as the Link Layer
   Discovery Protocol (LLDP), provides a means for individual
   organizations to define their own Type-Length-Value (TLV) objects
   for exchange over the protocol.  TLVs that belong to an organization
   are identified by the inclusion of the organization's OUI and an
   organizationally defined subtype in the initial octets of the
   information field.

   The IETF is a standards development organization with an IANA OUI.
   The usage and considerations for this OUI are discussed in
   [RFC7042]. The IANA OUI can be used in LLDP organizationally
   specific TLVs.

   The LSVR working group is specifying protocols that need to discover
   IP Layer 3 attributes about links, encapsulations and neighbors.
   This document specifies IETF Organizationally Specific TLVs that



Congdon                 Expires April 21, 2019                 [Page 3]

Internet-Draft            LSVR TLVs for LLDP               October 2019


   carry the necessary discovery attributes for LSVR working group
   protocols.

   The IEEE 802 recently approved project P802.1ABdh [802.1ABdh] to
   amend LLDP with the ability to transmit and receive a set of TLVs
   that exceed the space available in a single frame.  Among other
   objectives, this project is intended to allow LLDP to better suit
   the needs of LSVR and other IETF working groups.

2. Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

   In this document, these words will appear with that interpretation
   only when in ALL CAPS. Lower case uses of these words are not to be
   interpreted as carrying significance described in RFC 2119.

3. Abbreviations

   LLDP - The Link Layer Discovery

   TLV - Type-Length-Value

4. LLDP Organizationally Specific TLVs

   IEEE Std 802.1AB defines the format of the organizationally specific
   TLVs.  The format is redrawn here for convenience.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type=127   |     Length      |    Organizationally Unique    ~
   |   7 bits    |     9 bits      |   Identifier (OUI) 3 octets   ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~     OUI      |    Subtype     |         Information           ~
   ~  continued   |    1 octet     |     0 <= n <= 507 octets      ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                          Information...                       ~
   ~                                                               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

            Figure 1 LLDP Organizationally Specific TLV Format





Congdon                 Expires April 21, 2019                 [Page 4]

Internet-Draft            LSVR TLVs for LLDP               October 2019


4.1. Type

   The Type field is 7 bits in length and is set to the value of 127
   indicating the TLV type is an Organizationally Specific TLV.

4.2. Length

   The Length field contains the length of the TLV specific
   information, the OUI and subtype.  The Length is from 4 to 511
   octets.

4.3. Organizationally Unique Identifier

   The Organizationally Unique Identifier indicates the organization
   specifying the TLV.  For IETF use, this field is the IANA OUI as
   discussed in RFC 7042 and has the hex value of 00-00-5E.

4.4. Subtype

   The Subtype field indicates the specific IETF Organizationally
   Specific TLV.  The format of the information string is dependent
   upon the Subtype field.  The following subtypes have been defined:

           Subtype        Name
           -------        -----
              0           Logical Link Endpoint Identifier Attributes
              1           IPv4 Announcement
              2           IPv6 Announcement
              3           MPLS IPv4 Announcement
              4           MPLS IPv6 Announcement
            5-255         Reserved

   The specific TLV format for each subtype is defined in section 5.

4.5. Information

   The Information field contains the octets that are specific to the
   Organizationally Specific TLV.  The field length is between 0 and
   507 octets.

5. IETF Organizationally Specific TLVs

   This section defines the format for the IETF Organizationally
   Specific TLVs.  The contents of the TLVs are modeled after the TLV
   PDUs of the L3DL protocol specified by the LSVR working group in [I-
   D.ietf-lsvr-l3dl].



Congdon                 Expires April 21, 2019                 [Page 5]

Internet-Draft            LSVR TLVs for LLDP               October 2019


   Each TLV definition starts with the same first four fields that are
   described once here. The Type field SHALL be 127; the Length field
   SHALL be the length in octets of the LLDP TLV information string
   which starts immediately after the Length field; the OUI field SHALL
   be 00-00-0E and the Subtype field SHALL be one of the named values
   shown in the table of Section 4.4.  The remaining fields of each TLV
   are specified in the section for the IETF Organizationally Specific
   TLV.

5.1. Logical Link Endpoint Identifier Attributes TLV

   The Logical Link Endpoint Identifier (LLEI) Attributes TLV carries
   an LLEI and a list of operator-defined attributes.  An LLEI is a
   variable length descriptor which is unique to a single logical link
   endpoint in the topology.  An LLEI and its use in discovering a
   logical link are defined in [I-D.ietf-lsvr-l3dl].

   A router or switch supporting LSVR protocols MAY include the Logical
   Link Endpoint Identifier Attributes TLV in LLDPDU transmissions.
   The format of the Logical Link Endpoint Identifier Attributes TLV is
   shown in Figure 2.

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type=127   |     Length      |        OUI = 00-00-5E         ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~               |  Subtype = 0  |  LLEI Length  |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                    LLEI                       |   AttrCount   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Attribute List...                    |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

         Figure 2 Logical Link Endpoint Identifier Attributes TLV

5.1.1. LLEI Length

   The LLEI Length is 1 octet and specifies the length in octets of the
   LLEI field. The LLEI Length MUST NOT be 0.

5.1.2. LLEI

   The LLEI is the variable length descriptor which is unique to a
   single logical link endpoint in the topology.  Possible formats for
   the LLEI are discussed in [I-D.ietf-lsvr-l3dl].



Congdon                 Expires April 21, 2019                 [Page 6]

Internet-Draft            LSVR TLVs for LLDP               October 2019


5.1.3. AttrCount

   The AttrCount field is 1 octet and specifies the number of
   attributes in the Attribute List.  If there are no attributes in the
   Attribute List, then AttrCount SHALL be 0.

5.1.4. Attribute List

   The Attribute List is a sequence of single octets, the syntax and
   semantics of which are local to an operator or datacenter.

5.1.5. Logical Link Endpoint Identifier TLV usage rules

   An LLDPDU SHOULD contain at most one Logical Link Endpoint
   Identifier Attributes TLV for each unique LLEI operating on a
   physical port.

5.2. IPv4 Announcement TLV

   The IPv4 Announcement TLV describes a device's ability to exchange
   IPv4 packets on one or more subnets.  It does so by announcing the
   interface's addresses and the corresponding prefix lengths.
   Multiple tuples of IPv4 address information can be announced in a
   single TLV, each tuple with its own set of encapsulation flags,
   address and prefix length.  The format of the IPv4 Announcement TLV
   is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type=127   |     Length      |        OUI = 00-00-5E         ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~               |  Subtype = 1  |  LLEI Length  |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                    LLEI                       |  Encaps Flags |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                           IPv4 Address                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Prefix Length |                   more...                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                      Figure 3 IPv4 Announcement TLV

5.2.1. LLEI Length

   The LLEI Length is the same as specified in section 5.1.1.



Congdon                 Expires April 21, 2019                 [Page 7]

Internet-Draft            LSVR TLVs for LLDP               October 2019


5.2.2. LLEI

   The LLEI is the same as specified in section 5.1.2.

5.2.3. Encaps Flags

   The Encaps Flags specify attributes about the IPv4 address being
   announced and are compatible with the Encapsulation Flags defined
   [I-D.ietf-lsvr-l3dl].  The Encaps Flags have the following format:

         0            1            2            3         4 ... 7
   +------------+------------+------------+------------+-----------+
   |  Announce  |   Primary  | Under/Over |  Loopback  | Reserved  |
   +------------+------------+------------+------------+-----------+

                       Figure 4 Encapsulation Flags

5.2.3.1. Announce

   The Announce flag bit SHALL always be set to 1. [I-D.ietf-lsvr-l3dl]
   defines this bit as an Announce/Withdraw bit to allow encapsulations
   to be both announced and withdrawn by the L3DL protocol. Old
   encapsulations are withdrawn in LLDP by simply excluding them in the
   next transmission of an LLDPDU.

5.2.3.2. Primary

   The Primary flag bit indicates that the encapsulation interface is a
   primary interface.  The value of 1 indicates the interface is
   primary and the value of 0 indicates it is not. If the LLEI has
   multiple addresses for an encapsulation type, one and only one
   address SHOULD be marked as primary.

5.2.3.3. Under/Over

   The Under/Over flag bit indicates if the interface address is for an
   underlay interface or an overlay interface.  The value of 1
   indicates the interface is an underlay and the value of 0 indicates
   it is an overlay.

5.2.3.4. Loopback

   The Loopback flag bit indicates if the interface address is a
   loopback address.  Loopback addresses are generally not seen
   directly on an external interface.  One or more loopback addresses
   MAY be announced.  The value of 1 indicates that the interface



Congdon                 Expires April 21, 2019                 [Page 8]

Internet-Draft            LSVR TLVs for LLDP               October 2019


   address is a loopback address and the value of 0 indicates it is
   not.

5.2.4. IPv4 Address

   The IPv4 Address field holds the IPv4 address to be announced.

5.2.5. Prefix Length

   The Prefix Length field indicates the number of bits in the IPv4
   Address that represent the IPv4 prefix for the subnet (network
   portion of the address).

5.2.6. IPv4 Announcement TLV usage rules

   An LLDPDU MAY contain multiple IPv4 Announcement TLVs, however, the
   encapsulation flags, IPv4 address and prefix length tuple for a
   specific IPv4 address MUST only appear once in the LLDPDU.

5.3. IPv6 Announcement TLV

   The IPv6 Announcement TLV describes a device's ability to exchange
   IPv6 packets on one or more subnets.  It does so by announcing the
   interface's addresses and the corresponding prefix lengths.
   Multiple tuples of IPv6 address information can be announced in a
   single TLV, each tuple with its own set of encapsulation flags,
   address and prefix length.  The format of the IPv6 Announcement TLV
   is as follows:





















Congdon                 Expires April 21, 2019                 [Page 9]

Internet-Draft            LSVR TLVs for LLDP               October 2019


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type=127   |     Length      |        OUI = 00-00-5E         ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~               |  Subtype = 2  |  LLEI Length  |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                    LLEI                       |               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               +
   |                                                               |
   +                                                               +
   |                                                               |
   +                       IPv6 Address                            +
   |                                                               |
   +                                               +-+-+-+-+-+-+-+-+
   |                                               | Prefix Length |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                             more...                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                      Figure 5 IPv6 Announcement TLV

5.3.1. LLEI Length

   The LLEI Length is the same as specified in section 5.1.1.

5.3.2. LLEI

   The LLEI is the same as specified in section 5.1.2.

5.3.3. Encaps Flags

   The Encaps Flags are the same flags specified in section 5.2.3

5.3.4. IPv6 Address

   The IPv6 Address field holds the IPv6 address to be announced.

5.3.5. Prefix Length

   The Prefix Length field indicates the number of bits in the IPv6
   Address that represent the IPv6 prefix for the subnet (network
   portion of the address).






Congdon                 Expires April 21, 2019                [Page 10]

Internet-Draft            LSVR TLVs for LLDP               October 2019


5.3.6. IPv6 Announcement TLV usage rules

   An LLDPDU MAY contain multiple IPv6 Announcement TLVs, however, the
   encapsulation flags, IPv6 address and prefix length tuple for a
   specific IPv6 address MUST only appear once in the LLDPDU.

5.4. MPLS IPv4 Announcement TLV

   The MPLS IPv4 Encapsulation describes a logical link's ability to
   exchange labeled IPv4 packets on one or more subnets.  It does so by
   stating the interface's addresses the corresponding prefix lengths,
   and the corresponding labels which will be accepted for each
   address.  The format of the MPLS IPv4 Announcement TLV is as
   follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type=127   |     Length      |        OUI = 00-00-5E         ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~               |  Subtype = 3  |  LLEI Length  |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                    LLEI                       |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                   MPLS Label List...          |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~               IPv4 Address                    | Prefix Length |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                             more...                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                    Figure 6 MPLS IPv4 Announcement TLV

5.4.1. LLEI Length

   The LLEI Length is the same as specified in section 5.1.1.

5.4.2. LLEI

   The LLEI is the same as specified in section 5.1.2.

5.4.3. Encaps Flags

   The Encaps Flags are the same flags specified in section 5.2.3





Congdon                 Expires April 21, 2019                [Page 11]

Internet-Draft            LSVR TLVs for LLDP               October 2019


5.4.4. MPLS Label List

   The MPLS Label List is a variable length field that contains the
   label stack, see [RFC3032], that the sender will accept for the
   prefix to which the list is attached.  The format of the MPLS Label
   List is as follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Label Count  |                 Label                 | Exp |S|
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                 Label                 | Exp |S|    more ...   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                         Figure 7 MPLS Label List

5.4.4.1. Label Count

   The number of label stack entries that are included in the list.
   Each label stack entry has a label, experimental use bits and the
   bottom of stack indicator.  The Label Count MUST NOT be 0.

   <<Editor's note:  We really don't need this count because the S bit
   indicates when the list ends>>

5.4.4.2. Label

   The Label field is the 20-bit value of the label.

5.4.4.3. Exp

   The Exp field is a 3-bit value reserved for experimental use.

5.4.4.4. S

   The S field is a single bit that indicates the last entry in the
   label stack.  The bit is set to 1 for the last entry and 0 for all
   other entries in the list.

5.4.5. IPv4 Address

   The IPv4 Address field holds the IPv4 address to be announced.







Congdon                 Expires April 21, 2019                [Page 12]

Internet-Draft            LSVR TLVs for LLDP               October 2019


5.4.6. Prefix Length

   The Prefix Length field indicates the number of bits in the IPv4
   Address that represent the IPv4 prefix for the subnet (network
   portion of the address).

5.4.7. IPv4 Announcement TLV usage rules

   An LLDPDU MAY contain multiple MPLS IPv4 Announcement TLVs, however,
   the encapsulation flags, label list, IPv4 address and prefix length
   tuple for a specific IPv4 address MUST only appear once in the
   LLDPDU.

5.5. MPLS IPv6 Announcement TLV

   The MPLS IPv6 Encapsulation describes a logical link's ability to
   exchange labeled IPv6 packets on one or more subnets.  It does so by
   stating the interface's addresses the corresponding prefix lengths,
   and the corresponding labels which will be accepted for each
   address.  The format of the MPLS IPv6 Announcement TLV is as
   follows:

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Type=127   |     Length      |        OUI = 00-00-5E         ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~               |  Subtype = 4  |  LLEI Length  |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                     LLEI                      |               ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                   MPLS Label List...          |               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+               +
   |                                                               |
   +                                                               +
   |                       IPV6 Address                            |
   +                                               +-+-+-+-+-+-+-+-+
   |                                               | Prefix Length |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                             more...                           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                    Figure 8 MPLS IPv6 Announcement TLV

5.5.1. LLEI Length

   The LLEI Length is the same as specified in section 5.1.1.


Congdon                 Expires April 21, 2019                [Page 13]

Internet-Draft            LSVR TLVs for LLDP               October 2019


5.5.2. LLEI

   The LLEI is the same as specified in section 5.1.2.

5.5.3. Encaps Flags

   The Encaps Flags are the same flags specified in section 5.2.3

5.5.4. MPLS Label List

   The MPLS Label List is the same as specified in section 5.4.4

5.5.5. IPv6 Address

   The IPv6 Address field holds the IPv6 address to be announced.

5.5.6. Prefix Length

   The Prefix Length field indicates the number of bits in the IPv6
   Address that represent the IPv6 prefix for the subnet (network
   portion of the address).

5.5.7. MPLS IPv6 Announcement TLV usage rules

   An LLDPDU MAY contain multiple MPLS IPv6 Announcement TLVs, however,
   the encapsulation flags, label list, IPv6 address and prefix length
   tuple for a specific IPv6 address MUST only appear once in the
   LLDPDU.

6. Security Considerations

   <Add any security considerations>

7. IANA Considerations

   <Add any IANA considerations>

8. Conclusions

   <Add any conclusions>









Congdon                 Expires April 21, 2019                [Page 14]

Internet-Draft            LSVR TLVs for LLDP               October 2019


9. References

9.1. Normative References

   [802.1AB] "IEEE Standard for Local and metropolitan area networks-
             Station and Media Access Control Connectivity Discovery",
             IEEE Std 802.1AB-2016, 29 January 2016.

   [RFC2119] Bradner, S. "Key words for use in RFCs to Indicate
             Requirement Levels", RFC 2119, March 1997.

   [RFC3032] Rosen, E., Tappan, D., Fedorkow, G., Rekhter, Y.,
             Farinacci, D., Li, T. and Conta, A. "MPLS Label Stack
             Encoding", RFC 3032, January 2001.

   [RFC7042] Eastlake, D. and Abley, J. "IANA Considerations and IETF
             Protocol and Documentation Usage for IEEE 802 Parameters",
             RFC 7042, October 2013.

   [I-D.ietf-lsvr-l3dl] Bush, R., Austein, R. and Patel, K., "Layer 3
             Discovery and Liveness", draft-ietf-lsvr-l3dl-02.txt (work
             in progress), July 2019.

9.2. Informative References

   [802.1ABdh] "Amendment: Support for Multiframe Protocol Data Units",
             Project P802.1ABdh, September 2019.
             https://standards.ieee.org/project/802_1ABdh.html

10. Acknowledgments

   <Add any acknowledgements>

   This document was prepared using 2-Word-v2.0.template.dot.

Authors' Addresses

   Paul Congdon
   Tallac Networks, Inc
   6528 Lonetree Blvd.
   Rocklin, CA 95765

   Email: paul.congdon@tallac.com






Congdon                 Expires April 21, 2019                [Page 15]

Internet-Draft            LSVR TLVs for LLDP               October 2019


   Paul Bottorff
   Aruba a Hewlett Packard Enterprise Company
   8000 Foothill Blvd
   Roseville, CA  95747

   Email: paul.bottorff@hpe.com











































Congdon                 Expires April 21, 2019                [Page 16]

