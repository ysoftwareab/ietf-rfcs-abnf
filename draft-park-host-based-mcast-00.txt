





INTERNET DRAFT                                             Jung-Soo Park
Expires: May 2002                                          Myung-Ki Shin
                                                            Yong-Jin Kim
								                                                    ETRI
                                                           November 2001

             Host-based IPv6 Multicast Addresses Allocation
                  <draft-park-host-based-mcast-00.txt>


Status of this Memo

     This document is an Internet-Draft and is in full conformance with
     all provisions of Section 10 of RFC2026.

     Internet Drafts are working documents of the Internet Engineering
     Task Force (IETF), its areas, and working groups. Note that other
     groups may also distribute working documents as Internet-Drafts.

     Internet-Drafts are draft documents valid for a maximum of six
     months and may be updated, replaced, or obsolete by other documents
     at anytime. It is inappropriate to use Internet Drafts as reference
     material or to cite them other than as "work in progress."

     The list of current Internet-Drafts can be accessed at
     http://www.ietf.org/ietf/1id-abstracts.txt.

     The list of Internet-Draft Shadow Directories can be accessed at
     http://www.ietf.org/shadow.html.


Abstract

     This document specifies an extension to the multicast addressing
     architecture of the IPv6 protocol.  The extension allows for sing
     interface-ID to allocate multicast addresses.  When the link-local
     unicast address is configured at each interface of host, interface
     ID is uniquely determined.  By delegating multicast addresses at
     the same time as interface ID, each host can identify their
     multicast addresses automatically at Layer 1 without needing to run
     an intra- or inter-domain allocation protocol in the serverless
     environments.


Table of Contents:

     1. Introduction
     2. Terminology
     3. Multicast Address Format
     3.1 Link-local multicast address
     3.2 Site-local multicast address
     3.3 GLOP-based global multicast address



Park, Shin, Kim             Expires May 2002                    [Page 1]


INTERNET-DRAFT Host-based IPv6 Multicast Addresses Allocation  Nov. 2001


     4. Considerations
     5. Security Considerations
     6. References


1. Introduction

     This specification defines an extension to the multicast portion of
     the IPv6 addressing architecture [ADDRARCH].  The current
     architecture does not contain any built-in support for dynamic
     address allocation.  The extension allows for using interface-ID to
     allocate mlticast addresses.  When the link-local unicast address
     is configured at each interface of host, interface ID is uniquely
     determined.  By delegating multicast addresses at the same time as
     interface ID, each host can identify their multicast addresses
     automatically without needing to run an intra- or inter-domain
     allocation protocol

     The current IPv4 multicast address allocation architecture [RFC
     2908] is based on a multi-layered, multi-protocol system.  The goal
     of this proposal is to reduce the number of protocols and servers
     that need to be deployed in order to get dynamic multicast address
     allocation.

     The use of interface ID-based multicast address allocation will, at
     a minimum, remove the need to run the Multicast Address Allocation
     Protocol (AAP) [AAP WORK][RFC 2909] and the Multicast Address
     Allocation servers [RFC 2908].

     This document specifies encoded information in the multicast
     address to allow for dynamic allocation of IPv6 multicast
     addresses.


2. Terminology

     The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
     "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in
     this document are to be interpreted as described in [RFC 2119].


3. Multicast Address Format

     Section 2.7 of [ADDRARCH] defines the following operational format
     of IPv6 multicast addresses:

     |    8   |  4 |  4 |                     112                     |
     +--------+----+----+---------------------------------------------+
     |11111111|flgs|scop|                  group ID                   |
     +--------+----+----+---------------------------------------------+
                 Figure 1:  Generic IPv6 Multicast Addresses





Park, Shin, Kim             Expires May 2002                    [Page 2]


INTERNET-DRAFT Host-based IPv6 Multicast Addresses Allocation  Nov. 2001


     This document introduces a new format that incorporates interface
     ID information in the multicast address.  The idea delegating
     multicast addresses at the same time as interface ID, can be
     applicable to link local, site local, GLOP-based global scope.


3.1 Link-local multicast address

     Figure 2  illustrates the new format for link local scope.

     |   8    | 4  | 4  |          40           |     64     |   8    |
     +--------+----+----+-----------------------+------------+--------+
     |11111111|flgs|scop|       reserved        |Interface ID|group ID|
     +--------+----+----+-----------------------+------------+--------+
            Figure 2:  Host-based link-local multicast addresses


                               +-+-+-+-+ 
     flgs is a set of 4 flags: |0|H|0|T|
                               +-+-+-+-+

        o H = 0 indicates a host-based multicast address that is not
                assigned based on the interface ID.  This indicates
             a multicast address as defined in [ADDRARCH].
        o H = 1 indicates a host-based multicast address that is
                assigned based on the Interface ID.
        o If H = 1, T MUST be set to 1, otherwise the setting of
                    the T bit is defined in Section 2.7 of [ADDRARCH].
                    For example, if H=1 and T=0, H bit will be ignored.

     scop field is set to '2'. The scope of this multicast address MUST
     be independent of the scope of the unicast address, which derives
     the interface ID embedded in the multicast address.

     The reserved field MUST be zero.

     interface ID field is used to distinguish each host from others.
     And this value is obtained from EUI-64 based interface identifier
     of a unicast IPv6 address.

     group ID is generated randomly to indicate multicast application
     and is used to guarantee its uniqueness only in host.

     The lifetime of a host-based multicast addresses have no dependency
     to the Valid Lifetime field in the Prefix Information option,
     corresponding to the link-local unicast address being used,
     contained in the Router Advertisement message [RFC 2461].









Park, Shin, Kim             Expires May 2002                    [Page 3]


INTERNET-DRAFT Host-based IPv6 Multicast Addresses Allocation  Nov. 2001


3.2 Site-local multicast address

     Figure 3  illustrates the new format for site local scope.

     |   8    | 4  | 4  |     24     |    16    |     64     |   8    |
     +--------+----+----+------------+----------+------------+--------+
     |11111111|flgs|scop|  reserved  | subnet ID|Interface ID|group ID|
     +--------+----+----+------------+----------+------------+--------+
            Figure 3:  Host-based site-local multicast addresses

     flgs is set to '0101'.

     The setting of the scop field follows the definition of RFC 2373.

     The reserved field MUST be zero.

     subnet ID field is used to distinguish the scope of site-local from
     others. And this value is obtained from the network prefix
     contained in the Router Advertisement message. But, all zero's
     subnet ID MUST be reserved to support link-local multicast
     addresses.

     interface ID is same as the link-local multicast address has.

     group ID is generated randomly in host.


3.3 GLOP-based global multicast address

     Figure 4  illustrates the new format for GLOP-based global
     multicast addresses.

     |   8    | 4  | 4  |  16 |   8  |    16    |     64     |   8    |
     +--------+----+----+-----+------+----------+------------+--------+
     |11111111|flgs|scop| ASN |custID|subnet ID |Interface ID|group ID|
     +--------+----+----+-----+------+----------+------------+--------+
            Figure 4:  Host-based global IPv6 Multicast Addresses

     flgs is set to '0101'.

     The setting of the scop field follows the definition of RFC 2373.

     ASN indicates autonomous system number. ASN is assigned to the
     unique administrative authority. Therefore, the 16-bit ASN is a
     previously assigned AS, as registered by a network registry and
     listed in the RWhois database system[RFC 3180]. All zero's ASN MUST
     be reserved to support site-local multicast addresses.

     custID means a customer identifier and is managed by ASN authority.
     Customer site, which doesn't have an independent ASN, is allocated
     statically by the ASN owner. all zero's custID MUST be reserved to
     support site-local multicast addresses.




Park, Shin, Kim             Expires May 2002                    [Page 4]


INTERNET-DRAFT Host-based IPv6 Multicast Addresses Allocation  Nov. 2001


     subnet ID is same as the site-local multicast addresses have.

     interface ID is same as the link-local multicast addresses have.

     group ID is generated randomly in host.


4. Considerations

     The current approach to map IPv6 multicast addresses into IEEE 802
     MAC addresses takes the low order 32 bits of the IPv6 multicast
     address and uses it to create a MAC address[RFC 2464].  So, the
     [RFC 2373] recommend to use the 32-bit group ID. The reason is that
     group ID's less than or equal to 32 bits will generate unique MAC
     addresses. Multicast addresses abided by our proposal should be
     assigned in host so that the group identifier is always in the low
     order 8 bits as shown in the figure 2 to 4. The prerequisite of our
     proposal is that 2^32 multicast applications don't need to execute
     simultaneously in a host. But, we need to verify that the
     prerequisite is true.

     This document proposes the second bit of flgs field to indicates a
     host-based multicast address. on the other hand, [UNIMULTI]
     proposed by Thaler uses the third bit to indicate unicast-prefix-
     based multicast addresses. If the second bit of flgs is set to '1',
     the third bit isn't care.

     Our proposal is also new method applicable to the zeroconf
     environment.


5. Security Considerations

     Using host-based multicast addresses can expose the interface ID
     globally.  So, protection of interface ID is required. That is, the
     confidentiality service MUST be supported.


6. References


     [RFC 2373] R. Hinden and S. Deering, "IP Version 6 Addressing 
                Architecture", RFC 2373, July 1998.
     [RFC 2460] S. Deering and R. Hinden, "Internet Protocol, Version 6 
                (IPv6) Specification", RFC 2460, December 1998.
     [RFC 2461] Narten, T., Nordmark, E., Simpson, W., "Neighbor 
                Discovery for IP Version 6 (IPv6)", RFC 2461, December 
                1998.
     [RFC 2464] M. Crawford, "Transmission of IPv6 Packets over Ethernet 
                Networks," RFC 2464, December 1998
     [RFC 2908] D. Thaler, M. Handley and D. Estrin, "Th Internet 
                Multicast Address Allocation Architecture," RFC 2908, 
                September 2000.



Park, Shin, Kim             Expires May 2002                    [Page 5]


INTERNET-DRAFT Host-based IPv6 Multicast Addresses Allocation  Nov. 2001


     [RFC 2909] Radoslavov, P., Estrin, D., Govindan, R., Handley, 
                M., Kumar, S. and D. Thaler, "The Multicast Address-Set 
                Claim (MASC) Protocol", RFC 2909, September 2000.
     [RFC 3138] Meyer, D., "Extended Assignments in 233/8", RFC 3138, 
                June 2001.
     [RFC 3180] Meyer, D. and P. Lothberg, "GLOP Addressing in 233/8", 
                RFC 3180, September 2001.
     [AAP WORK] Handley, M. and S. Hanna, "Multicast Address Allocation 
                Protocol (AAP)", Work in Progress.
     [ADDRARCH] R. Hinden and S. Deering, "IP Version 6 Addressing 
                Architecture", Work In Progress, July 2001.
     [UNIMULTI] B. Haberman and D. Thaler, "Unicast-Prefix-based IPv6 
                Multicast Addresses," Work In Progress, December 2001.

Authors Addresses

     Jung-Soo Park
     ETRI PEC
     161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
     Tel : +82 42 860 6514
     Fax : +82 42 861 5404
     E-mail : jspark@pec.etri.re.kr

     Myung-Ki Shin
     ETRI PEC
     161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
     Tel : +82 42 860 4847
     Fax : +82 42 861 5404
     E-mail : mkshin@pec.etri.re.kr

     Yong-Jin Kim
     ETRI PEC
     161 Kajong-Dong, Yusong-Gu, Taejon 305-600, Korea
     Tel : +82 42 860 6564
     Fax : +82 42 861 5404
     E-mail : yjkim@pec.etri.re.kr



Park, Shin, Kim             Expires May 2002                    [Page 6]
