



Network Working Group                                    F. Templin, Ed.
Internet-Draft                              Boeing Research & Technology
Updates: rfc4191, rfc4861 (if approved)                 January 06, 2017
Intended status: Standards Track
Expires: July 10, 2017


             Route Information Options in Redirect Messages
               draft-templin-intarea-rio-redirect-00.txt

Abstract

   The IPv6 Neighbor Discovery protocol provides a Redirect function
   allowing routers to inform hosts of a better next hop on the link
   toward the destination.  This document specifies a backward-
   compatible extension to the Redirect function to allow routers to
   include forwarding information that the source can associate with the
   next hop.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on July 10, 2017.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of



Templin                   Expires July 10, 2017                 [Page 1]

Internet-Draft              RIOs in Redirects               January 2017


   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   2
   3.  Route Information Options in Redirect Messages  . . . . . . .   3
     3.1.  Validation of Redirect Messages . . . . . . . . . . . . .   3
     3.2.  Router Specification  . . . . . . . . . . . . . . . . . .   3
     3.3.  Host Specification  . . . . . . . . . . . . . . . . . . .   4
   4.  Implementation Status . . . . . . . . . . . . . . . . . . . .   4
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   7.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   5
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   The IPv6 Neighbor Discovery (ND) protocol [RFC2460][RFC4861] provides
   a Redirect function allowing routers to inform hosts of a better next
   hop on the link toward the destination.  The Redirect message
   includes a target address identifying the next hop and a destination
   address taken from the IPv6 packet that triggered the Redirect.

   "Default Router Preferences and More-Specific Routes" [RFC4191]
   specifies a Route Information Option (RIO) that routers can include
   in Router Advertisement (RA) messages to inform recipients of more-
   specific routes.  This document specifies a backward-compatible
   extension to allow routers to include RIOs in Redirect messages.
   This method has precedence in a published experimental RFC [RFC6706].

2.  Terminology

   The terminology in the normative references applies.

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].  Lower case
   uses of these words are not to be interpreted as carrying RFC2119
   significance.







Templin                   Expires July 10, 2017                 [Page 2]

Internet-Draft              RIOs in Redirects               January 2017


3.  Route Information Options in Redirect Messages

   The RIO is specified for inclusion in RA messages in Section 2.3 of
   [RFC4191].  The IPv6 ND Redirect function is specified in Section 8
   of [RFC4861], where the introductory paragraphs include the
   following:

      "Redirect messages are sent by routers to redirect a host to a
      better first-hop router for a specific destination or to inform
      hosts that a destination is in fact a neighbor (i.e., on-link)."

   This specification permits routers to include RIO options in Redirect
   messages so that hosts can direct future packets to a better first-
   hop for a *set of destinations* instead of just a singleton.  This
   specification therefore updates [RFC4191] and [RFC4861] as discussed
   in the following sections.

3.1.  Validation of Redirect Messages

   The validation of Redirect messages follows Section 8.1 of [RFC4861]
   which states:

      "The contents of the Reserved field, and of any unrecognized
      options, MUST be ignored.  Future, backward-compatible changes to
      the protocol may specify the contents of the Reserved field or add
      new options; "

   This specification permits routers to include RIOs in Redirect
   messages, and therefore represents a backward-compatible change to
   the protocol through the addition of a new option as described in
   this passage.

3.2.  Router Specification

   The Router Specification follows Section 8.2 of [RFC4861], except
   that RIOs are included in the list of permissible options.  Routers
   therefore MAY send Redirect messages containing RIOs, where the RIOs
   are determined by a means outside the scope of this specification.

   When the router includes RIOs, it MAY set the Destination Address
   field of the Redirect message to '::' (i.e., the IPv6 unspecified
   address) if the destination of the packet that triggered the
   redirection event is covered by a prefix in one of the RIOs.








Templin                   Expires July 10, 2017                 [Page 3]

Internet-Draft              RIOs in Redirects               January 2017


3.3.  Host Specification

   The Host Specification follows Section 8.3 of [RFC4861] and Section 3
   of [RFC4191].  According to [RFC4861], a host receiving a valid
   Redirect updates its destination cache and neighbor cache per the
   Destination and Target information included in the message,
   respectively.  According to [RFC4191], a "Type C" host receiving a
   valid RA message updates its routing table per the RIOs included in
   the message.

   In light of these considerations, a "Type C" host that receives a
   Redirect message containing RIOs adopts the combined behaviors of
   both of these specifications.  Namely, the host updates its neighbor
   cache entry for the Target and updates its routing table per the
   included RIOs.  If the Destination address is not the unspecified
   address, the host further updates its destination cache.

   Note that "Type A'" and "Type B" hosts ignore any RIOs and process
   the Redirect message according to Section 8.3 of [RFC4861].

4.  Implementation Status

   The Redirect function and RIOs are widely deployed in IPv6
   implementations.

5.  IANA Considerations

   This document introduces no IANA considerations.

6.  Security Considerations

   Security considerations for Redirect messages that include RIOs are
   the same as for any IPv6 ND messages as specified in Section 11 of
   [RFC4861].  Namely, the protocol must take measures to secure IPv6 ND
   messages on links where spoofing attacks are possible.

   A spoofed Redirect message containing no RIOs could cause corruption
   in the host's destination cache while a spoofed Redirect message
   containing RIOs could corrupt the host's routing tables.  While the
   latter would seem to be a more onerous result, the possibility for
   corruption is unacceptable in either case.

7.  Acknowledgements

   This document was motivated by discussions on the intarea list.






Templin                   Expires July 10, 2017                 [Page 4]

Internet-Draft              RIOs in Redirects               January 2017


8.  References

8.1.  Normative References

   [RFC0791]  Postel, J., "Internet Protocol", STD 5, RFC 791,
              DOI 10.17487/RFC0791, September 1981,
              <http://www.rfc-editor.org/info/rfc791>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC2460]  Deering, S. and R. Hinden, "Internet Protocol, Version 6
              (IPv6) Specification", RFC 2460, DOI 10.17487/RFC2460,
              December 1998, <http://www.rfc-editor.org/info/rfc2460>.

   [RFC4191]  Draves, R. and D. Thaler, "Default Router Preferences and
              More-Specific Routes", RFC 4191, DOI 10.17487/RFC4191,
              November 2005, <http://www.rfc-editor.org/info/rfc4191>.

   [RFC4861]  Narten, T., Nordmark, E., Simpson, W., and H. Soliman,
              "Neighbor Discovery for IP version 6 (IPv6)", RFC 4861,
              DOI 10.17487/RFC4861, September 2007,
              <http://www.rfc-editor.org/info/rfc4861>.

8.2.  Informative References

   [RFC6706]  Templin, F., Ed., "Asymmetric Extended Route Optimization
              (AERO)", RFC 6706, DOI 10.17487/RFC6706, August 2012,
              <http://www.rfc-editor.org/info/rfc6706>.

Author's Address

   Fred L. Templin (editor)
   Boeing Research & Technology
   P.O. Box 3707
   Seattle, WA  98124
   USA

   Email: fltemplin@acm.org










Templin                   Expires July 10, 2017                 [Page 5]
