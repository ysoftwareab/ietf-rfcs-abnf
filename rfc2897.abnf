AudPkgEvent = PlayAnnouncement / PlayCollect / PlayRecord /
              OperationComplete / OperationFailed / EndSignal

PlayAnnouncement =  [ AdvAudioPkgToken SLASH ]  PlayAnnToken
                    LPAREN PlayAnnParmList RPAREN  [ OpSelectorList ]

PlayCollect  =  [ AdvAudioPkgToken SLASH ]  PlayColToken
                LPAREN [ PlayColParmList ]  RPAREN  [ OpSelectorList ]

PlayRecord  =  [ AdvAudioPkgToken SLASH ]  PlayRecToken
               LPAREN [ PlayRecParmList ]  RPAREN  [ OpSelectorList ]

OperationComplete  =  [ AdvAudioPkgToken SLASH ]  OpCompleteToken
               LPAREN OpCompleteParmList  RPAREN

OperationFailed  =  [ AdvAudioPkgToken SLASH ]  OpFailedToken
               LPAREN ReturnCodeParm RPAREN
EndSignal  =  [ AdvAudioPkgToken SLASH ]  EndSignalToken
              LPAREN SignalParm RPAREN

OpSelectorList  =   LSQUARE OpSelector *( COMMA OpSelector ) RSQUARE

OpSelector  =  NAME EQUALS NAME

PlayAnnParmList  =  PlayAnnParm *( WSP PlayAnnParm )

PlayColParmList  =  PlayColParm *( WSP PlayColParm )

PlayRecParmList  =  PlayRecParm *( WSP PlayRecParm )

OpCompleteParmList  =  OpCompleteParm *( WSP OpCompleteParm )

PlayAnnParm  =  ( AnnouncementParm / IterationsParm / IntervalParm /
                  DurationParm / SpeedParm / VolumeParm )

PlayColParm  =  ( InitPromptParm / RepromptParm / NoDigitsParm /
                  FailAnnParm / SuccessAnnParm / NoInterruptParm /
                  SpeedParm / VolumeParm / ClearBufferParm /
                  MaxDigitsParm / MinDigitsParm / DigitPatternParm /
                  FirstDigitParm / InterDigitParm / ExtraDigitParm /
                  RestartKeyParm / ReinputKeyParm / ReturnKeyParm /
                  PosKeyParm / StopKeyParm / StartInputKeyParm /
                  EndInputKeyParm / IncludeEndInputKey /
                  NumAttemptsParm  )

PlayRecParm  =  ( InitPromptParm / RepromptParm / NoSpeechParm /
                  FailAnnParm / SuccessAnnParm / NoInterruptParm /
                  SpeedParm / VolumeParm / ClearBufferParm /
                  PreSpeechParm / PostSpeechParm / RecordLenParm /
                  RestartKeyParm / ReinputKeyParm / ReturnKeyParm /
                  PosKeyParm / StopKeyParm / EndInputKeyParm /
                  RecPersistParm / OverrideAudioParm /
                  RestoreAudioParm /  DeletePersistParm /
                  NumAttemptsParm  )

OpCompleteParm  =  ( VoiceInterruptParm / IntKeySeqParm /
                     NumAttemptsParm / AmtPlayedParm / DigitsColParm /
                     RecordingIdParm / ReturnCodeParm )

AnnouncementParm  =  AnParmToken EQUALS Segmentlist

InitPromptParm  =  IpParmToken EQUALS  Segmentlist

RepromptParm  =  RpParmToken EQUALS Segmentlist
NoDigitsParm  =  NdParmToken EQUALS Segmentlist

NoSpeechParm  =  NsParmToken EQUALS Segmentlist

FailAnnParm  =  FaParmToken EQUALS Segmentlist

SuccessAnnParm  =  SaParmToken EQUALS Segmentlist

DurationParm  =  DuParmToken EQUALS NUMBER

IterationsParm  =  ItParmToken EQUALS ( NUMBER / "-1" )

IntervalParm  =  IvParmToken EQUALS NUMBER

SpeedParm  =  SpParmToken EQUALS SIGNEDINT

VolumeParm  =  VlParmToken EQUALS SIGNEDINT

NoInterruptParm  =  NiParmToken EQUALS BOOLSTR

ClearBufferParm  =  CbParmToken EQUALS BOOLSTR

MaxDigitsParm  =  MxParmToken EQUALS NUMBER

MinDigitsParm  =  MnParmToken EQUALS NUMBER

DigitPatternParm  =  DpParmToken EQUALS DIGITPATTERN

FirstDigitParm  =  FdtParmToken EQUALS NUMBER

InterDigitParm  =  IdtParmToken EQUALS NUMBER

ExtraDigitParm  =  EdtParmToken EQUALS NUMBER

PreSpeechParm  =  PrtParmToken EQUALS NUMBER

PostSpeechParm  =  PstParmToken EQUALS NUMBER

RecordLenParm   =  RltParmToken EQUALS NUMBER

RestartKeyParm  =  RskParmToken EQUALS CommandKeySequence

ReinputKeyParm    =  RikParmToken EQUALS CommandKeySequence

ReturnKeyParm    =  RtkParmToken EQUALS CommandKeySequence

PosKeyParm   =  PskParmToken EQUALS KeyPadKey COMMA PosKeyAction
PosKeyAction  =  FirstSegmentToken / LastSegmentToken /
                 PreviousSegmentToken / NextSegmentToken /
                 CurrentSegmentToken

StopKeyParm    =  StkParmToken EQUALS KeyPadKey

StartInputKeyParm  =  SikParmToken EQUALS KeySet

EndInputKeyParm  =  EikParmToken EQUALS KeyPadKey

IncludeEndinputKey  =  IekParmToken EQUALS BOOLSTR

RecPersistParm  =  RpaParmToken EQUALS BOOLSTR

OverrideAudioParm  =  OaParmToken EQUALS SEGID

RestoreAudioParm  =  RaParmToken EQUALS SEGID

DeletePersistParm  =  DpaParmToken EQUALS SEGID

NumAttemptsParm  =  NaParmToken EQUALS NUMBER

VoiceInterruptParm  =  ViParmToken EQUALS BOOLSTR

IntKeySeqParm  =  IkParmToken EQUALS CommandKeySequence

AmtPlayedParm  =  ApParmToken EQUALS NUMBER

DigitsColParm  =  DcParmToken EQUALS KeySequence

RecordingIdParm  =  RiParmToken EQUALS NUMBER

ReturnCodeParm  =  RcParmToken EQUALS  3*3(DIGIT)

KeyPadKey    =  "1" / "2" / "3" / "4" / "5" / "6" / "7" / "8" / "9" /
                "*" / "#"

CommandKeySequence  =  1*3(KeyPadKey)

KeySequence = 1*64(KeyPadKey)

KeySet       =   1*11(KeyPadKey)

SignalParm  =  SgParmToken  EQUALS ( PlayAnnToken / PlayColToken /
               PlayRecToken ) RPAREN

Segmentlist  =  SegmentDescriptor  *( COMMA SegmentDescriptor )
SegmentDescriptor  =  ( ( SegmentId [ EmbedVarList ]
                          [ SegSelectorList ]  ) /
                        ( TextToSpeechSeg [ SegSelectorList ]  ) /
                        ( DisplayTextSeg [ SegSelectorList ]  )  /
                        ( VariableSeg [ SegSelectorList ]  ) /
                          SilenceSeg )

SegmentId  =  ( Segid / Alias )

TextToSpeechSeg  =  TextToSpeechSegToken LPAREN NAME RPAREN

DisplayTextSeg  =  DisplayTextSegToken LPAREN NAME RPAREN

SilenceSeg  =  SilenceSegToken LPAREN NAME RPAREN

VariableSeg  =  VariableSegToken LPAREN FullSpecVar RPAREN

Segid  =  NUMBER

Alias  =  SLASH NAME SLASH

EmbedVarList  =  LANGLE NAME *( COMMA  NAME  ) RANGLE

SegSelectorList  =  LSQUARE SegSelector *( COMMA SegSelector ) RSQUARE

SegSelector  =  NAME EQUALS NAME

FullSpecVar  =  ( DateVariable / DigitsVariable / DurationVariable /
                  MonthVariable / MoneyVariable / NumberVariable /
                  SilenceVariable / StringVariable / TextVariable /
                  TimeVariable / WeekdayVariable )

DateVariable  =   DateVarToken COMMA NullStrToken COMMA Date

Date  =  8*8(DIGIT)

DigitsVariable  =  DigitsVarToken COMMA (NorthAmericanDnToken /
                   GenericDigitsToken) COMMA NUMBER

DurationVariable  =  DurationVarToken COMMA NullStrToken COMMA NUMBER

MoneyVariable  =  MoneyVarToken COMMA 3*3(ALPHA) COMMA OPTSIGNEDINT

MonthVariable  =  MonthVarToken COMMA NullStrToken COMMA Month

Month = "01" / "02" / "03" / "04" / "05" / "06" / "07" / "08" / "09" /
        "10" / "11" / "12"
NumberVariable  =  (NumberVarToken COMMA CardinalNumberToken COMMA
                    OPTSIGNEDINT) / (NumberVarToken COMMA
                    OrdinalNumberToken COMMA NUMBER)

SilenceVariable  =  SilenceVarToken COMMA  NullStrToken COMMA NUMBER

StringVariable  =  StringVarToken COMMA NullStrToken COMMA *(KeyPadKey)
                   OrdinalNumberToken) COMMA NUMBER

SilenceVariable  =  SilenceVarToken COMMA  NullStrToken COMMA NUMBER

StringVariable  =  StringVarToken COMMA NullStrToken COMMA
                   *(KeyPadKey)

TextVariable  =  TextVarToken COMMA (DisplayTextToken /
                 TextToSpeechToken) COMMA NAME

TimeVariable  =  TimeVarToken COMMA (TwelveHourFormatToken /
                 TwentyFourHourFormatToken) COMMA 4*4(DIGIT)

WeekdayVariable  =  WeekdayVarToken COMMA NullStrToken COMMA NAME

AdvAudioPkgToken       =  "A"
PlayAnnToken           =  "pa"
PlayColToken           =  "pc"
PlayRecToken           =  "pr"
OpCompleteToken        =  "oc"
OpFailedToken          =  "of"
EndSignalToken         =  "es"
TextToSpeechSegToken   =  "ts"
DisplayTextSegToken    =  "dt"
SilenceSegToken        =  "si"
VariableSegToken       =  "vb"
AnParmToken    =  "an"
IpParmToken    =  "ip"
RpParmToken    =  "rp"
NdParmToken    =  "nd"
NsParmToken    =  "ns"
FaParmToken    =  "fa"
SaParmToken    =  "sa"
NiParmToken    =  "ni"
ItParmToken    =  "it"
IvParmToken    =  "iv"
DuParmToken    =  "du"
SpParmToken    =  "sp"
VlParmToken    =  "vl"
CbParmToken    =  "cb"
MxParmToken    =  "mx"
MnParmToken    =  "mn"
DpParmToken    =  "dp"
FdtParmToken   =  "fdt"
IdtParmToken   =  "idt"
EdtParmToken   =  "edt"
PrtParmToken   =  "prt"
PstParmToken   =  "pst"
RltParmToken   =  "rlt"
RskParmToken   =  "rsk"
RikParmToken   =  "rik"
RtkParmToken   =  "rtk"
PskParmToken   =  "psk"
StkParmToken   =  "stk"
SikParmToken   =  "sik"
EikParmToken   =  "eik"
IekParmToken   =  "iek"
RpaParmToken   =  "rpa"
DpaParmToken   =  "dpa"
OaParmToken    =  "oa"
RaParmToken    =  "ra"
NaParmToken    =  "na"
RidParmToken   =  "rid"
ViParmToken    =  "vi"
IkParmToken    =  "ik"
ApParmToken    =  "ap"
DcParmToken    =  "dc"
RiParmToken    =  "ri"
RcParmToken    =  "rc"
SgParmToken    =  "sg"
DateVarToken       =  "dat"
DigitsVarToken     =  "dig"
DuratioNVarToken   =  "dur"
MoneyVarToken      =  "mny"
MonthVarToken      =  "mth"
NumberVarToken     =  "num"
SilenceVarToken    =  "sil"
StringVarToken     =  "str"
TextVarToken       =  "txt"
TimeVarToken       =  "tme"
WeekdayVarToken    =  "wkd"
GenericDigitsToken         =  "gen"
NorthAmericanDnSToken      =  "ndn"
CardinalNumberToken        =  "crd"
OrdinalNumberToken         =  "ord"
DisplayTextToken           =  "dsp"
TextToSpeechToken          =  "spk"
TwelveHourFormatToken      =  "t12"
TwentyFourHourFormatToken  =  "t24"
NullStrToken  =  "null"
FirstSegmentToken     =  "fst"
LastSegmentToken      =  "lst"
PreviousSegmentToken  =  "prv"
NextSegmentToken      =  "nxt"
CurrentSegmentToken   =  "cur"
BOOLSTR       =  "true" / "false"
NAMECHAR      =  ALPHA / DIGIT / "_" / "-"
NAME          =  1*64(NAMECHAR)
NUMBER        =  DIGIT *31(DIGIT)
SIGNEDINT     =  ("+" / "-") DIGIT *31(DIGIT)
OPTSIGNEDINT  =  ["+" / "-"] DIGIT *31(DIGIT)
EQUALS        =  "="
COMMA         =  ","
LSQUARE       =  "["
RSQUARE       =  "]"
LANGLE        =  "<"
RANGLE        =  ">"
LPAREN        =  "("
RPAREN        =  ")"
SLASH         =  "/"
WSP           =  SP / HTAB

