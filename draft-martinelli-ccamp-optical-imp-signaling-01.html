<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>GMPLS
    Signaling Extensions for Optical Impairment Aware Lightpath Setup</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="GMPLS
    Signaling Extensions for Optical Impairment Aware Lightpath Setup">
<meta name="keywords" content="kw1">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">G. Martinelli, Ed.</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Cisco Systems</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">A. Zanardi, Ed.</td></tr>
<tr><td class="header">Expires: August 25, 2008</td><td class="header">CREATE-NET</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">February 22, 2008</td></tr>
</table></td></tr></table>
<h1><br />GMPLS
    Signaling Extensions for Optical Impairment Aware Lightpath Setup<br />draft-martinelli-ccamp-optical-imp-signaling-01.txt</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on August 25, 2008.</p>

<h3>Abstract</h3>

<p>
     The problem of provisioning a lightpath in a transparent dense wavelength 
     division multiplexing (DWDM) optical island requires the evaluation of 
     of the optical impairments along the selected route. 
     In this draft we propose a GMPLS signaling protocol (RSVP/RSVP-TE) extension
     to collect and provide the egress node the optical impairment parameters needed to validate a lightpath setup request feasibility.
     
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
Conventions Used in This Document<br />
<a href="#sec_valid_procedure">3.</a>&nbsp;
Optical Path Validation Procedure<br />
<a href="#phys_par_classification_sec">4.</a>&nbsp;
Physical Parameter Classification and top level TLV<br />
<a href="#service_optical_par">5.</a>&nbsp;
Optical Service Parameters sub-TLV<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#fec_section">5.1.</a>&nbsp;
Forward Error Correction (FEC)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#modformat_section">5.2.</a>&nbsp;
Modulation Format<br />
<a href="#optical_path_param_section">6.</a>&nbsp;
Optical Path Parameters sub-TLV(s)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">6.1.</a>&nbsp;
Optical Parameter sub-TLV overview<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">6.2.</a>&nbsp;
Mandatory Linear Optical Parameters sub-TLVs<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">6.2.1.</a>&nbsp;
Optical Power<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">6.2.2.</a>&nbsp;
Optical Signal to Noise Ratio<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">6.3.</a>&nbsp;
Optional Linear Optical Parameters sub-TLVs<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">6.3.1.</a>&nbsp;
Chromatic Dispersion (CD)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">6.3.2.</a>&nbsp;
Polarization Mode Dispersion (PMD)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">6.3.3.</a>&nbsp;
Cross-Talk (XT)<br />
<a href="#message_fragmentation">7.</a>&nbsp;
Message Fragmentation<br />
<a href="#backward_compat">8.</a>&nbsp;
Backward Compatibility<br />
<a href="#error_management">9.</a>&nbsp;
Error management<br />
<a href="#Acknowledgments">10.</a>&nbsp;
Acknowledgments<br />
<a href="#Contributors">11.</a>&nbsp;
Contributing Authors<br />
<a href="#IANA">12.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">13.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">14.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">14.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">14.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        The current Generalized Multi-Protocol Label Switching (GMPLS) specification
        <a class='info' href='#RFC3945'>[RFC3945]<span> (</span><span class='info'>Mannie, E., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Architecture,&rdquo; October&nbsp;2004.</span><span>)</span></a> and the signaling related documents 
	(<a class='info' href='#RFC3471'>[RFC3471]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description,&rdquo; January&nbsp;2003.</span><span>)</span></a>, 
	 <a class='info' href='#RFC3473'>[RFC3473]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions,&rdquo; January&nbsp;2003.</span><span>)</span></a>,
	 <a class='info' href='#RFC4328'>[RFC4328]<span> (</span><span class='info'>Papadimitriou, D., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Extensions for G.709 Optical Transport Networks Control,&rdquo; January&nbsp;2006.</span><span>)</span></a>) 
	support optical interfaces with different switching capability to setup a lightpath 
	while <a class='info' href='#RFC4054'>[RFC4054]<span> (</span><span class='info'>Strand, J. and A. Chiu, &ldquo;Impairments and Other Constraints on Optical Layer Routing,&rdquo; May&nbsp;2005.</span><span>)</span></a> defines the impairments to be considered in optical routing.

	<a class='info' href='#I-D.bernstein-ccamp-wavelength-switched'>[I&#8209;D.bernstein&#8209;ccamp&#8209;wavelength&#8209;switched]<span> (</span><span class='info'>Bernstein, G., &ldquo;Framework for GMPLS and PCE Control of Wavelength Switched Optical  Networks,&rdquo; February&nbsp;2008.</span><span>)</span></a>, 
	defines a framework identifying the key components and issues
	pertaining to wavelength switched optical networks (WSON).
	<a class='info' href='#I-D.otani-ccamp-gmpls-lambda-labels'>[I&#8209;D.otani&#8209;ccamp&#8209;gmpls&#8209;lambda&#8209;labels]<span> (</span><span class='info'>Otani, T., Guo, H., Miyazaki, K., Caviglia, D., and Z. Ali, &ldquo;Generalized Labels of Lambda-Switching Capable Label Switching Routers  (LSR),&rdquo; February&nbsp;2008.</span><span>)</span></a> 
	proposes a global semantic for wavelength generalized labels 
	taking into account lightpath specific needs.
    
</p>
<p>
        In transparent optical networks, physical impairments incurred by  
	non-ideal optical transmission medium accumulate along an optical path.  
	Because of these impairments even if there is physical connectivity 
	(fibers, wavelengths, and nodes) between the ingress and egress nodes,
        there is no guarantee that the optical signal (light) reaches
	the Egress node with acceptable signal quality, for example in terms of 
	BER/OSNR/Q-factor limit. 
	For a successful lightpath provisioning in a WSON, the set up process 
	must be aware of a set of physical impairments that has effect 
	on the lightpath. 
	A complete set of physical impairments will include linear and non-linear impairments.
	This preliminary draft proposes a way to collect the optical path linear impairments 
        in the signaling phase
	by providing suitable extensions to signaling protocol (RSVP/RSVP-TE) assuming that 
	non-linear impairments effects are handled in the network design phase
        considering a bounded OSNR margin <a class='info' href='#RFC4054'>[RFC4054]<span> (</span><span class='info'>Strand, J. and A. Chiu, &ldquo;Impairments and Other Constraints on Optical Layer Routing,&rdquo; May&nbsp;2005.</span><span>)</span></a>.
    
</p>
<p>
        The management of physical impairments is done only in the 
	signaling process and it  does 
	not require any extension to the traffic engineering database and IGP routing protocols.
    
</p>
<p>
        The set of parameters carried by the signaling protocol is divided into 
	optical service parameters and optical path parameters:
        </p>
<ul class="text">
<li>
           The optical service parameters describe the requested signal type, 
           are related to the characteristics of the transponder 
           at ingress node and hence are not changed at transit nodes.   
        
</li>
<li>
           The optical path parameters describe the signal characteristics evolution along the path
           from ingress node to egress node, are
           related to the characteristics of the
           various links/subsystems and are updated at each transit node.
           They are divided into mandatory and optional parameters. 
           The mandatory parameters are related to feasibility constraints such as power and OSNR, 
           whereas the optional parameters are expandable linear impairments such as chromatic 
           dispersion (CD), polarization mode dispersion (PMD), crosstalk, etc. The optional 
           parameters can be used to evaluate the feasibility of a lightpath more accurately
           as an alternate solution to the bounded OSNR margin evaluation.
           Parameter update methods might use appropriate 
           physical models and are out of scope of this document.

        
</li>
</ul><p>
    
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Conventions Used in This Document</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<p>
       In additions this document will use terminology from  
       <a class='info' href='#RFC2205'>[RFC2205]<span> (</span><span class='info'>Braden, B., Zhang, L., Berson, S., Herzog, S., and S. Jamin, &ldquo;Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification,&rdquo; September&nbsp;1997.</span><span>)</span></a>, 
       <a class='info' href='#RFC3209'>[RFC3209]<span> (</span><span class='info'>Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V., and G. Swallow, &ldquo;RSVP-TE: Extensions to RSVP for LSP Tunnels,&rdquo; December&nbsp;2001.</span><span>)</span></a>, 
       <a class='info' href='#RFC4054'>[RFC4054]<span> (</span><span class='info'>Strand, J. and A. Chiu, &ldquo;Impairments and Other Constraints on Optical Layer Routing,&rdquo; May&nbsp;2005.</span><span>)</span></a>, 
       and 
       <a class='info' href='#I-D.bernstein-ccamp-wavelength-switched'>[I&#8209;D.bernstein&#8209;ccamp&#8209;wavelength&#8209;switched]<span> (</span><span class='info'>Bernstein, G., &ldquo;Framework for GMPLS and PCE Control of Wavelength Switched Optical  Networks,&rdquo; February&nbsp;2008.</span><span>)</span></a>.
       
</p>
<a name="sec_valid_procedure"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Optical Path Validation Procedure</h3>

<p>
      The signaling based validation of an optical path in downstream direction in a 
      transparent network (lambda switched LSP) is implemented 
      by the following procedure:
   
</p>
<p>
      </p>
<ul class="text">
<li>
         The ingress node signals in the Path message the supported signal types 
	 (FEC and modulation format) and wavelength set (encoded in the LABEL_SET Object)
	  depending on available local transponders.
      
</li>
<li>
         Transit nodes update the Path message pruning non cross-connectable wavelengths
	 (LABEL_SET Object) and computing or measuring the path optical characteristics up 
	 to the outgoing interface (optical impairments). 
      
</li>
<li>
         The egress node selects the wavelength and the signal type based on the signaled
	 optical impairments and the available local transponders (supported wavelengths, 
	 sensitivity to optical impairments) and signals the selection in the Resv message.
      
</li>
<li>
         Transit nodes process the Resv message cross-connecting the selected 
	 wavelength in incoming and outgoing interfaces (wavelength continuity constraint).
      
</li>
<li>
         The ingress node cross-connects the selected wavelength to a local transponder 
	 supporting the selected signal type (FEC and modulation format).
      
</li>
</ul><p>
   
</p>
<p>
      This procedure forces the meeting of the wavelength continuity constraint: the final effect 
      of pruning wavelengths (e.g. removing labels from the LABEL_SET
      object) in transit nodes is the implementation of a wavelength selection process in
      the signaling phase. The wavelength assignment will be done at the egress node
      among all available wavelength for the LSP. The criteria used by the egress node
      to assign the wavelength is out of the scope of this document.  
   
</p>
<p>
      In the Path message processing, the unavailability of cross-connectable wavelength 
      in transit nodes or of 
      transponders supporting the signal in the egress node causes the 
      request failure (PathErr message).
   
</p>
<p>
      In the Resv message processing, the unavailability of the selected wavelength in 
      transit nodes or 
      of transponders supporting the signal in the ingress node 
      (race condition in allocating resources) causes the 
      request failure (ResvErr message).
   
</p>
<p>
      In this document, only the encoding in the RSVP messages of the optical information 
      needed to support the described procedure is defined.
      The specific policies used to select the resources (wavelength and transponders), 
      the models to compute the optical impairments and the procedure to validate the signal
      with respect to the transponder sensitivity are not in the scope of this document.
   
</p>
<a name="phys_par_classification_sec"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Physical Parameter Classification and top level TLV</h3>

<p>
	 RSVP/RSVP-TE requires the following additional information in order to be aware 
	 of optical impairments and setup optically feasible lightpaths:

         </p>
<ul class="text">
<li>Optical Service Parameters.
             <br />
 
             The standard GENERALIZED_LABEL_REQUEST 
             and TSPEC/FLOW_SPEC objects support the encoding of the information related to 
             service type and service QoS. 
	     However for DWDM networks the egress node of an LSP has to know 
	     a certain set of specific 
	     optical parameters related to the transmitting interface. 
	     <a class='info' href='#service_optical_par'>Section&nbsp;5<span> (</span><span class='info'>Optical Service Parameters sub-TLV</span><span>)</span></a> reports details of these parameters and their
	     encoding.
          
</li>
<li>Optical Path Parameters. 
              <br />
 
	      These attributes are required to support transmission of physical
	      impairment parameters for the optical path        
	      feasibility evaluation.  Details are presented in 
	      <a class='info' href='#optical_path_param_section'>Section&nbsp;6<span> (</span><span class='info'>Optical Path Parameters sub-TLV(s)</span><span>)</span></a>.
          
</li>
</ul><p>
      
</p>
<p>
      This document defines how to encode the above information through new
      TLVs according to <a class='info' href='#RFC4420'>[RFC4420]<span> (</span><span class='info'>Farrel, A., Papadimitriou, D., Vasseur, J., and A. Ayyangar, &ldquo;Encoding of Attributes for Multiprotocol Label Switching (MPLS) Label Switched Path (LSP) Establishment Using Resource ReserVation Protocol-Traffic Engineering (RSVP-TE),&rdquo; February&nbsp;2006.</span><span>)</span></a>.
      
</p>
<p>
      The proposed encoding scheme for the optical
      parameters defines a TLV (channel optical physical information) 
      associated to a wavelength containing a sub-TLV for
      each service and path parameter.
      
</p>
<p>
      Additional set of parameters can be
      added without affecting the already defined encoding.
      
</p>
<p>
      A TLV sub-object for each available wavelength (Path message) or selected 
      wavelength (Resv message) is encoded in an LSP_REQUIRED_ATTRIBUTES Object.
      
</p>
<p>
      The TLV sub-object encoding is defined in the next picture.
      
</p><br /><hr class="insert" />
<a name="tlv_top_level"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             Type              |           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Wavelength ID                              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
//               Parameters Sub-TLV Sequence                   //
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
        </p>
<ul class="text">
<li>
        Type: optical channel physical parameters info TLV type  (TBA).
        
</li>
<li>
        Length: length of the  TLV object in bytes without the 4 byte header.
        
</li>
<li>
        Wavelength ID: wavelength label identifier according to
        <a class='info' href='#I-D.otani-ccamp-gmpls-lambda-labels'>[I&#8209;D.otani&#8209;ccamp&#8209;gmpls&#8209;lambda&#8209;labels]<span> (</span><span class='info'>Otani, T., Guo, H., Miyazaki, K., Caviglia, D., and Z. Ali, &ldquo;Generalized Labels of Lambda-Switching Capable Label Switching Routers  (LSR),&rdquo; February&nbsp;2008.</span><span>)</span></a>.
        
</li>
<li>
        Parameters Sub-TLV Sequence: service and path parameters values.
        
</li>
</ul><p>
      
</p>
<p>
      The TLVs wavelength ID value must be 
      consistent with the presence of LABEL_SET 
      objects and its actions as defined within <a class='info' href='#RFC3471'>[RFC3471]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description,&rdquo; January&nbsp;2003.</span><span>)</span></a> 
      and <a class='info' href='#RFC3473'>[RFC3473]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions,&rdquo; January&nbsp;2003.</span><span>)</span></a>.
      
</p>
<p>
      The Sub-TLV format is defined in the next picture

      <br /><hr class="insert" />
<a name="sub_tlv_format"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|    Type       |    Flags      |           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
//               Value                                         //
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

      

<p>
         </p>
<blockquote class="text">
<p>Type: Sub-TLV type
</p>
<p>Flags: bit-mask defining the management of the Sub-TLV
               </p>
<blockquote class="text">
<p>bit 0: if set the parameter is mandatory, otherwise it is optional.
</p>
<p>bit 1: if set the parameter is variable and MUST be updated with the local value, otherwise it is a constant value set by the ingress node.
</p>
<p>bit 2-7: not used.
</p>
</blockquote>
            

<p>Length: Value field length in bytes
</p>
<p>Value: variable length Sub-TLV content
</p>
</blockquote><p>
      
</p>
<p>
         The Flags field defines how transit nodes manage 
         the Sub-TLV:
         </p>
<ul class="text">
<li>Constant sub-TLVs are forwarded as-is.
            
</li>
<li>Mandatory non constant sub-TLVs MUST be updated with the local 
	       parameter value,
	       if the parameter is not managed by the node, it MUST reject the 
	       request with a failure.
            
</li>
<li>Optional non constant sub-TLVs MUST be updated with the local 
	       parameter value,
               if the parameter is not managed by the node, it MUST silently drop
	       it from the TLV (the value would be
               inaccurate).
            
</li>
</ul><p>
      
</p>
<a name="service_optical_par"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Optical Service Parameters sub-TLV</h3>

<p>
      The Optical Service Parameters define the signal transmissions characteristics
      at the ingress node. This type of information is required at the egress node 
      to verify the
      optical signal compatibility.
      
</p><br /><hr class="insert" />
<a name="optical_service_enc"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Type      |    Flags      |           Length              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             FEC 1             |           Mod Format 1        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                                                             //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             FEC n             |           Mod Format n        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
          </p>
<blockquote class="text">
<p>Type: sub-TLV type (=1)
</p>
<p>Flags: Mandatory, Constant
</p>
<p>Length: length of the sub-TLV value in bytes
</p>
<p>FEC: supported Forward Error Correction Modes (see <a class='info' href='#fec_section'>Section&nbsp;5.1<span> (</span><span class='info'>Forward Error Correction (FEC)</span><span>)</span></a> 
</p>
<p>
	          Mod Format: supported modulation formats (see <a class='info' href='#modformat_section'>Section&nbsp;5.2<span> (</span><span class='info'>Modulation Format</span><span>)</span></a>)
		  associated with the FEC.
	       
</p>
</blockquote><p>
       
</p>
<p>
      This sub-TLV is used in the PATH message to signal 
      the full list of optical parameters associated with the interface 
      (signal types and wavelengths) available at the ingress node. 
      A DWDM interface might have several sets of optical parameters 
      available, for example a tunable interface has a set of possible wavelengths,
      together with a set of possible FEC encoding or modulation formats.
      In the RESV message this information is associated to the selected receiving
      interface at the egress node. In the RESV message only one tuple
      (FEC, Mod Format) will be specified.
      
</p>
<a name="fec_section"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Forward Error Correction (FEC)</h3>

<p>
	FEC (16 bits) field is the Forward Error Correction and has the following values:
          </p>
<blockquote class="text">
<p>0: no FEC
</p>
<p>1: standard FEC (according to <a class='info' href='#ITU.G709'>[ITU.G709]<span> (</span><span class='info'>International Telecommunications Union, &ldquo;Interface for the Optical Transport Network (OTN),&rdquo; March&nbsp;2003.</span><span>)</span></a>)
</p>
<p>
	       2-9: super-FEC according to sub clauses from I.2 to I.9 of 
	       <a class='info' href='#ITU.G975.1'>[ITU.G975.1]<span> (</span><span class='info'>International Telecommunications Union, &ldquo;Forward Error Correction for high bit rate DWDM Submarine Systems,&rdquo; February&nbsp;2004.</span><span>)</span></a>
	       
</p>
</blockquote><p>
        
</p>
<p>
	 Values with the format 1bbbbbbbbbbbbbbb are left to represent
	 vendor specific or proprietary 
	 FEC encoding.
        
</p>
<a name="modformat_section"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Modulation Format</h3>

<p>
	Mod Format (16 bits) is the modulation and has 
	the following values: 
          </p>
<blockquote class="text">
<p>0: NRZ
</p>
<p>1: Duo Binary
</p>
<p>2: DPSK
</p>
</blockquote><p>
	
</p>
<p>
	  Other values might be defined in the future as technology advance. Values with the
	  format 1bbbbbbbbbbbbbbb are left to represent vendor specific or proprietary 
	  modulation formats.
        
</p>
<a name="optical_path_param_section"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Optical Path Parameters sub-TLV(s)</h3>

<p> 
           This set of parameters is carried in
	   the PATH message for each available wavelength
	   to allow the optical feasibility evaluation. 
	   At each hop, the optical node MUST
	   update these values according to information locally available at the
	   node (say internal amplifiers, wavelength cross connect, etc.). 
	
</p>
<p>
	   The way an optical node gets knowledge of this required information (e.g. 
	   through NMS, auto-discovery etc.) is out of the scope of this document and
	   highly depends on specific equipment implementation.
	
</p>
<p> 
	   This document defines two groups of linear optical parameters. 
           </p>
<blockquote class="text"><dl>
<dt>Mandatory Linear Optical Parameters</dt>
<dd>
	      This set includes Optical Signal Power and the OSNR with
	      associated variances. It represents the minimum set to asses the 
	      feasibility of an optical path. This set
	      will be encoded using mandatory sub-TLVs.
	      
</dd>
<dt>Optional Linear Optical Parameters</dt>
<dd>
	      This set includes CD, PMD, XT with associated variances.
	      These parameters represent an additional set to
	      allow a more accurate  optical feasibility evaluation.  This set
	      will be encoded using optional sub-TLVs.
	      
</dd>
</dl></blockquote><p>
        
</p>
<p>
	   Separation between mandatory and optional parameters allows a rough optical feasibility
	   evaluation where network elements support at least the mandatory set.
	   Depending on how a WSON is designed, the usage of the mandatory set could be 
	   an operational choice not to overwhelm the control plane while
	   maintaining reliable feasibility estimation. 
	   Moreover it might happens that not all nodes in a networks support the full set 
	   of optical path parameters. With this classification, the lightpath signaling 
	   still
	   continues to work although with a less accurate evaluation.
	
</p>
<p>
	   The choice of the optional set of parameters depends on several considerations.
	   They are among those reported by the <a class='info' href='#RFC4054'>[RFC4054]<span> (</span><span class='info'>Strand, J. and A. Chiu, &ldquo;Impairments and Other Constraints on Optical Layer Routing,&rdquo; May&nbsp;2005.</span><span>)</span></a> and provide
	   sufficient accuracy for the linear impairments evaluation. 
	
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Optical Parameter sub-TLV overview</h3>

<p>
	   Each optical parameter will be encoded using the following format:
        
</p><br /><hr class="insert" />
<a name="optical_param_encoding_overview"></a>

<p style='text-align: center'>
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
     0                   1                   2                   3
     0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |    Type       |    Flags      |           Length              |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Optical Parameter Value                                      |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Optical Parameter Variance                                   |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div>
<p style='text-align: center'>
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
	</p>
<blockquote class="text">
<p>Type: sub_TLV type > 1.
</p>
<p>Flags: mandatory or optional according to each parameter classification, variable. 
</p>
<p>Length: 4 octets or 8 octets depending if the optical
	      parameter has the variance value associated.
	   
</p>
<p>
			Value associated with the optical parameter. 
		
</p>
<p>
			Variance: the error estimation for optical parameter value calculation. Depending 
			on the length value may not be present.
		
</p>
</blockquote><p>
	
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
Mandatory Linear Optical Parameters sub-TLVs</h3>

<p>
	    The Sub-TLVs encode the following optical parameters of a
        channel (wavelength) measured at
		the node egress interface. Flags are: mandatory, variable. 
		
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.1"></a><h3>6.2.1.&nbsp;
Optical Power</h3>

<p>
			Type = 2.
			
</p>
<p>
			Value: 32bit IEEE floating point number. Measurement Unit: dBm.
			
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2.2"></a><h3>6.2.2.&nbsp;
Optical Signal to Noise Ratio</h3>

<p>
            Type = 3.
			
</p>
<p>
			Value: 32bit IEEE floating point number. Measurement Unit: dB.
			
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3"></a><h3>6.3.&nbsp;
Optional Linear Optical Parameters sub-TLVs</h3>

<p>
	 The Sub-TLVs encode the following optical parameters of a
         channel (wavelength) measured at
         the node egress interface. Flags are: optional, variable. 
	
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.1"></a><h3>6.3.1.&nbsp;
Chromatic Dispersion (CD)</h3>

<p>
            Type = 4.
            
</p>
<p>
	    Value: 32bit IEEE floating point number. Measurement Unit: ps/nm.
	    
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.2"></a><h3>6.3.2.&nbsp;
Polarization Mode Dispersion (PMD)</h3>

<p>
            Type = 5.
            
</p>
<p>
	    Value: 32bit IEEE floating point number. Measurement Unit: ps.
	    
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.3.3"></a><h3>6.3.3.&nbsp;
Cross-Talk (XT)</h3>

<p>
            Type = 6.
            
</p>
<p>
	    Value: 32bit IEEE floating point number. Measurement Unit: dB.
	    
</p>
<a name="message_fragmentation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Message Fragmentation</h3>

<p>
      In certain cases, the state information carried by the Path message 
      can be quite large. Size estimation for a  physical Optical Channel TLV 
      (see <a class='info' href='#tlv_top_level'>Figure&nbsp;1</a>) can be the following: 
      8 bytes for type, length and wavelength ID plus, 16 bytes for the
      Optical Service Parameters sub-TLV considering 3 FEC/modulation format
      combinations plus, 24 bytes for the Mandatory Linear Optical Path 
      parameters plus 36 bytes for the Optional Linear Optical Parameter sub-TLV.
      Total is 48 bytes for each wavelength by just considering mandatory sub-TLVs
      and 84 bytes by considering also the optional part.
      Given the number of wavelengths today available in  DWDM networks, 
      the size of the path message end up in large values. 
      For example to signal just 32 wavelengths the size required for the 
      physical optical parameters ranges at least from  1536 to 2688 bytes.  
    
</p>
<p>
      A possible option is to let the application layer requesting the 
      lightpath setup to decide how many wavelengths to signal according
      to the MTU available.
      For example, having an MTU of 1500 bytes the application layer might 
      signal only 10 wavelengths with the full set of parameters taking up
      840 bytes, or it might decide to signal 20 wavelengths with just the
      mandatory parameters.
      Note that, according to procedure described within 
      <a class='info' href='#sec_valid_procedure'>Section&nbsp;3<span> (</span><span class='info'>Optical Path Validation Procedure</span><span>)</span></a>, the message
      size may decrease as long as the Path message pass through transit 
      nodes. 
    
</p>
<p>
      A second solution proposed here implements the semantic fragmentation
      as suggested by <a class='info' href='#RFC2205'>RSVP<span> (</span><span class='info'>Braden, B., Zhang, L., Berson, S., Herzog, S., and S. Jamin, &ldquo;Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification,&rdquo; September&nbsp;1997.</span><span>)</span></a> [RFC2205]. 
      The proposed encoding extends the SENDER_TEMPLATE Object
      with a new Class Type (derived from the LSP_TUNNEL_IPv4 and  
      LSP_TUNNEL_IPv6  
      <a class='info' href='#RFC3209'>RSVP-TE<span> (</span><span class='info'>Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V., and G. Swallow, &ldquo;RSVP-TE: Extensions to RSVP for LSP Tunnels,&rdquo; December&nbsp;2001.</span><span>)</span></a> [RFC3209]).
      The Object includes the additional information on the 
      "fragment id" and on the requested policy for the channel selection at the egress
      node
    
</p><br /><hr class="insert" />
<a name="sender_template_ipv4"></a>

<p style='text-align: center'>
	Class = SENDER_TEMPLATE, FRAGREQ_LSP_TUNNEL_IPv4 C-Type = TBA
	
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   IPv4 tunnel sender address                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Reserved                |            LSP ID             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| TotalNo       |  MsgId        |  P    |  Timeout              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5&nbsp;</b></font><br /></td></tr></table><hr class="insert" />
<br /><hr class="insert" />
<a name="sender_template_ipv6"></a>

<p style='text-align: center'>
	Class = SENDER_TEMPLATE, FRAGREQ_LSP_TUNNEL_IPv6 C-Type = TBA
	
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                                                               |
+                                                               +
|                   IPv6 tunnel sender address                  |
+                                                               +
|                            (16 bytes)                         |
+                                                               +
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Reserved                |            LSP ID             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| TotalNo       |  MsgId        |  P    |  Timeout              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p> 
      Besides the fields already defined in the SENDER_TEMPLATE, the following  
      fields are defined: 
          </p>
<ul class="text">
<li>
	     TotalNo: 8 bit integer representing the total number of Path messages 
	     issued by the
	     ingress node to setup a single lightpath. When this values is equals to 1
	     all the other fields MUST be ignored.
	     
</li>
<li>
	     MsgId: 8 bit integer representing the sequential number of a 
	     single Path request. 
	     Its value must be between 1 and TotalNo, both inclusive. 
	     
</li>
<li>
	     P: Policy the egress node must apply upon receiving a fragmented path request:
               
<blockquote class="text">
<p>1: Take the first message arrived and ignore the following ones.
</p>
<p>2: After the first message arrives, wait for any message within the
		    specified Timeout.
</p>
<p>3: After the first message arrives, waits for all messages. 
		   Fail, if the timeout expires, and there's at least one message missing
		   
</p>
</blockquote>
               The egress node should "reject" (PathErr) all
               the requests except for the selected one, even if it could 
               rely on the RSVP timeout to clear the unselected requests status
               in upstream nodes.
	     
</li>
<li>
	     Timeout: 12 bits integer number representing the timeout value used by the policy. 
	     The value is in s/100 (hundreds of seconds)
	     All messages MUST have the same value. 
	     
</li>
</ul><p>
      
</p>
<p>
        This type of encoding is a generic solution to manage the 
        semantic fragmentation and its not strictly related to 
	optical parameters encoding.
      
</p>
<a name="backward_compat"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Backward Compatibility</h3>

<p> 
    The TLV usage as defined by <a class='info' href='#RFC4420'>[RFC4420]<span> (</span><span class='info'>Farrel, A., Papadimitriou, D., Vasseur, J., and A. Ayyangar, &ldquo;Encoding of Attributes for Multiprotocol Label Switching (MPLS) Label Switched Path (LSP) Establishment Using Resource ReserVation Protocol-Traffic Engineering (RSVP-TE),&rdquo; February&nbsp;2006.</span><span>)</span></a> will guarantee the 
    co-existence of nodes supporting normal RSVP-TE operations and node with optical 
    impairment signaling capability.
    
</p>
<p> 
    A service with the new feature (optical feasibility evaluation) can be setup 
    only if all the nodes in the path support the extensions. 
    Optical Path Parameters 
    are updated hop-by-hop and evaluated at egress node. 
    If a transit node does 
    not support the extensions the collected information is unreliable and the
    Path request MUST be rejected.
    
</p>
<a name="error_management"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Error management</h3>

<p>
       No additional error code is introduced to manage requests
       failures; the behavior defined in <a class='info' href='#RFC4420'>[RFC4420]<span> (</span><span class='info'>Farrel, A., Papadimitriou, D., Vasseur, J., and A. Ayyangar, &ldquo;Encoding of Attributes for Multiprotocol Label Switching (MPLS) Label Switched Path (LSP) Establishment Using Resource ReserVation Protocol-Traffic Engineering (RSVP-TE),&rdquo; February&nbsp;2006.</span><span>)</span></a>
       applies to the management of the LSP_REQUIRED_ATTRIBUTES
       Object.
    
</p>
<a name="Acknowledgments"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Acknowledgments</h3>

<p> 
   
</p>
<a name="Contributors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Contributing Authors</h3>

<p> This document was the collective work of several authors.  The text
	 and content of this document was contributed by the editors and the
	 co-authors listed below (the contact information for the editors
	 appears in appropriate section and is not repeated below):
     
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   Gabriele Maria Galimberti              Alberto Tanzi
   Cisco Systems                          Cisco Systems
   via Philips 12                         via Philips 12
   Monza  20052                           Monza  20052
   Italy                                  Italy

   Email: ggalimbe@cisco.com              Email: atanzi@cisco.com

   Domenico La Fauci                      Stefano Piciaccia
   Cisco Systems                          Cisco Systems
   via Philips 12                         via Philips 12
   Monza  20052                           Monza  20052
   Italy                                  Italy

   Email: dlafauci@cisco.com              Email: spiciacc@cisco.com


   Elio Salvadori                         Yabin  Ye
   CREATE-NET                             CREATE-NET
   via alla Cascata 56 C, Povo            via alla Cascata 56 C, Povo
   Trento  38100                          Trento  38100
   Italy                                  Italy

   Email: elio.salvadori@create-net.org   Email: yabin.ye@create-net.org


   Chava Vijaya Saradhi
   CREATE-NET
   via alla Cascata 56 C, Povo
   Trento  38100
   Italy

   Email: saradhi.chava@create-net.org



</pre></div>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
IANA Considerations</h3>

<p>This memo needs the following request to IANA
      </p>
<blockquote class="text">
<p>TLV (see <a class='info' href='#tlv_top_level'>Figure&nbsp;1</a> in <a class='info' href='#phys_par_classification_sec'>Section&nbsp;4<span> (</span><span class='info'>Physical Parameter Classification and top level TLV</span><span>)</span></a>)
</p>
<p>New class type for sender template (see <a class='info' href='#message_fragmentation'>Section&nbsp;7<span> (</span><span class='info'>Message Fragmentation</span><span>)</span></a>) 
</p>
</blockquote><p>
      
</p>
<p>All drafts are required to have an IANA considerations section (see
      <a class='info' href='#I-D.narten-iana-considerations-rfc2434bis'>the update of
      RFC 2434<span> (</span><span class='info'>Narten, T. and H. Alvestrand, &ldquo;Guidelines for Writing an IANA Considerations Section in RFCs,&rdquo; March&nbsp;2008.</span><span>)</span></a> [I&#8209;D.narten&#8209;iana&#8209;considerations&#8209;rfc2434bis] for a guide). If the draft does not require IANA to do
      anything, the section contains an explicit statement that this is the
      case (as above). If there are no requirements for IANA, the section will
      be removed during conversion into an RFC by the RFC Editor.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.13"></a><h3>13.&nbsp;
Security Considerations</h3>

<p>
      This document introduces no new security considerations to <a class='info' href='#RFC3473'>[RFC3473]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions,&rdquo; January&nbsp;2003.</span><span>)</span></a>. 
      GMPLS security is described in section 11 of <a class='info' href='#RFC3471'>[RFC3471]<span> (</span><span class='info'>Berger, L., &ldquo;Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description,&rdquo; January&nbsp;2003.</span><span>)</span></a> and refers to 
      <a class='info' href='#RFC3209'>[RFC3209]<span> (</span><span class='info'>Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V., and G. Swallow, &ldquo;RSVP-TE: Extensions to RSVP for LSP Tunnels,&rdquo; December&nbsp;2001.</span><span>)</span></a> for RSVP-TE. 
      
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.14"></a><h3>14.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>14.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ITU.G709">[ITU.G709]</a></td>
<td class="author-text">International Telecommunications Union, &ldquo;Interface for the Optical Transport Network (OTN),&rdquo; ITU-T&nbsp;Recommendation G.709, March&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="ITU.G975.1">[ITU.G975.1]</a></td>
<td class="author-text">International Telecommunications Union, &ldquo;Forward Error Correction for high bit rate DWDM Submarine Systems,&rdquo; ITU-T&nbsp;Recommendation G.975, February&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2205">[RFC2205]</a></td>
<td class="author-text"><a href="mailto:Braden@ISI.EDU">Braden, B.</a>, <a href="mailto:lixia@cs.ucla.edu">Zhang, L.</a>, <a href="mailto:Berson@ISI.EDU">Berson, S.</a>, <a href="mailto:Herzog@WATSON.IBM.COM">Herzog, S.</a>, and <a href="mailto:jamin@EECS.UMICH.EDU">S. Jamin</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2205">Resource ReSerVation Protocol (RSVP) -- Version 1 Functional Specification</a>,&rdquo; RFC&nbsp;2205, September&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2205.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2205.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2205.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3209">[RFC3209]</a></td>
<td class="author-text">Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V., and G. Swallow, &ldquo;<a href="http://tools.ietf.org/html/rfc3209">RSVP-TE: Extensions to RSVP for LSP Tunnels</a>,&rdquo; RFC&nbsp;3209, December&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3209.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3471">[RFC3471]</a></td>
<td class="author-text">Berger, L., &ldquo;<a href="http://tools.ietf.org/html/rfc3471">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Functional Description</a>,&rdquo; RFC&nbsp;3471, January&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3471.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3473">[RFC3473]</a></td>
<td class="author-text">Berger, L., &ldquo;<a href="http://tools.ietf.org/html/rfc3473">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Resource ReserVation Protocol-Traffic Engineering (RSVP-TE) Extensions</a>,&rdquo; RFC&nbsp;3473, January&nbsp;2003 (<a href="http://www.rfc-editor.org/rfc/rfc3473.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4328">[RFC4328]</a></td>
<td class="author-text">Papadimitriou, D., &ldquo;<a href="http://tools.ietf.org/html/rfc4328">Generalized Multi-Protocol Label Switching (GMPLS) Signaling Extensions for G.709 Optical Transport Networks Control</a>,&rdquo; RFC&nbsp;4328, January&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4328.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4420">[RFC4420]</a></td>
<td class="author-text">Farrel, A., Papadimitriou, D., Vasseur, J., and A. Ayyangar, &ldquo;<a href="http://tools.ietf.org/html/rfc4420">Encoding of Attributes for Multiprotocol Label Switching (MPLS) Label Switched Path (LSP) Establishment Using Resource ReserVation Protocol-Traffic Engineering (RSVP-TE)</a>,&rdquo; RFC&nbsp;4420, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4420.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>14.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.bernstein-ccamp-wavelength-switched">[I-D.bernstein-ccamp-wavelength-switched]</a></td>
<td class="author-text">Bernstein, G., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-bernstein-ccamp-wavelength-switched-03.txt">Framework for GMPLS and PCE Control of Wavelength Switched Optical  Networks</a>,&rdquo; draft-bernstein-ccamp-wavelength-switched-03 (work in progress), February&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-bernstein-ccamp-wavelength-switched-03.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.narten-iana-considerations-rfc2434bis">[I-D.narten-iana-considerations-rfc2434bis]</a></td>
<td class="author-text">Narten, T. and H. Alvestrand, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-narten-iana-considerations-rfc2434bis-09.txt">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; draft-narten-iana-considerations-rfc2434bis-09 (work in progress), March&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-narten-iana-considerations-rfc2434bis-09.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.otani-ccamp-gmpls-lambda-labels">[I-D.otani-ccamp-gmpls-lambda-labels]</a></td>
<td class="author-text">Otani, T., Guo, H., Miyazaki, K., Caviglia, D., and Z. Ali, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-otani-ccamp-gmpls-lambda-labels-02.txt">Generalized Labels of Lambda-Switching Capable Label Switching Routers  (LSR)</a>,&rdquo; draft-otani-ccamp-gmpls-lambda-labels-02 (work in progress), February&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-otani-ccamp-gmpls-lambda-labels-02.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3945">[RFC3945]</a></td>
<td class="author-text">Mannie, E., &ldquo;<a href="http://tools.ietf.org/html/rfc3945">Generalized Multi-Protocol Label Switching (GMPLS) Architecture</a>,&rdquo; RFC&nbsp;3945, October&nbsp;2004 (<a href="http://www.rfc-editor.org/rfc/rfc3945.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4054">[RFC4054]</a></td>
<td class="author-text">Strand, J. and A. Chiu, &ldquo;<a href="http://tools.ietf.org/html/rfc4054">Impairments and Other Constraints on Optical Layer Routing</a>,&rdquo; RFC&nbsp;4054, May&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4054.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Giovanni Martinelli (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Cisco Systems</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">via Philips 12</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Monza  20052</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:giomarti@cisco.com">giomarti@cisco.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Andrea Zanardi (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CREATE-NET</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">via alla Cascata 56 C, Povo</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Trento  38100</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:andrea.zanardi@create-net.org">andrea.zanardi@create-net.org</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
