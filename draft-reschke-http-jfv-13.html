<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>A JSON Encoding for HTTP Field Values</title>
<meta content="Julian F. Reschke" name="author">
<meta content="
       
      This document establishes a convention for use of JSON-encoded field
      values in HTTP fields.
       
    " name="description">
<meta content="xml2rfc 3.5.0" name="generator">
<meta content="HTTP" name="keyword">
<meta content="JSON" name="keyword">
<meta content="Field Value" name="keyword">
<meta content="draft-reschke-http-jfv-13" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.5.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.3
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.2
    pycountry 20.7.3
    pyflakes 2.2.0
    PyYAML 5.4.1
    requests 2.25.1
    setuptools 53.0.0
    six 1.15.0
-->
<link href="/tmp/draft-reschke-http-jfv-13-u7eo5xrf.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">JSON Encoding for HTTP Field Values</td>
<td class="right">February 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Reschke</td>
<td class="center">Expires 26 August 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-02-22" class="published">22 February 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-08-26">26 August 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. F. Reschke</div>
<div class="org">greenbytes</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">A JSON Encoding for HTTP Field Values</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
      This document establishes a convention for use of JSON-encoded field
      values in HTTP fields.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note" id="section-note.1">
      <h2 id="name-editorial-note">
<a href="#name-editorial-note" class="section-name selfRef">Editorial Note</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
      Distribution of this document is unlimited. Although this is not a work
      item of the HTTPbis Working Group, comments should be sent to the 
      Hypertext Transfer Protocol (HTTP) mailing list at <a href="mailto:ietf-http-wg@w3.org">ietf-http-wg@w3.org</a>,
      which may be joined by sending a message with subject 
      "subscribe" to <a href="mailto:ietf-http-wg-request@w3.org?subject=subscribe">ietf-http-wg-request@w3.org</a>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
      Discussions of the HTTPbis Working Group are archived at
      <span>&lt;<a href="http://lists.w3.org/Archives/Public/ietf-http-wg/">http://lists.w3.org/Archives/Public/ietf-http-wg/</a>&gt;</span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">
      XML versions and latest edits for this document
      are available from <span>&lt;<a href="http://greenbytes.de/tech/webdav/#draft-reschke-http-jfv">http://greenbytes.de/tech/webdav/#draft-reschke-http-jfv</a>&gt;</span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
<p id="section-note.1-5">
      The changes in this draft are summarized in <a href="#changes.since.12" class="xref">Appendix B.16</a>.<a href="#section-note.1-5" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 26 August 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-data-model-and-format" class="xref">Data Model and Format</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1" class="keepWithNext"><a href="#section-3" class="xref">3</a>.  <a href="#name-sender-requirements" class="xref">Sender Requirements</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-recipient-requirements" class="xref">Recipient Requirements</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-using-this-format-in-field-" class="xref">Using this Format in Field Definitions</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-deployment-considerations" class="xref">Deployment Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-interoperability-considerat" class="xref">Interoperability Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-encoding-and-characters" class="xref">Encoding and Characters</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-numbers" class="xref">Numbers</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-object-constraints" class="xref">Object Constraints</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-internationalization-consid" class="xref">Internationalization Considerations</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.10.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.10.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="xref">10.3</a>.  <a href="#name-specifications-using-this-s" class="xref">Specifications Using This Syntax (at some point of time)</a><a href="#section-toc.1-1.10.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-use-of-json-field-value-enc" class="xref">Use of JSON Field Value Encoding in the Wild</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-a.1" class="xref">A.1</a>.  <a href="#name-w3c-reporting-api-specifica" class="xref">W3C Reporting API Specification</a><a href="#section-toc.1-1.11.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-a.2" class="xref">A.2</a>.  <a href="#name-w3c-clear-site-data-specifi" class="xref">W3C Clear Site Data Specification</a><a href="#section-toc.1-1.11.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-a.3" class="xref">A.3</a>.  <a href="#name-w3c-feature-policy-specific" class="xref">W3C Feature Policy Specification</a><a href="#section-toc.1-1.11.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-change-log" class="xref">Change Log</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
<ul class="compact ulEmpty toc">
<li class="compact ulEmpty toc" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-b.1" class="xref">B.1</a>.  <a href="#name-since-draft-reschke-http-jf" class="xref">Since draft-reschke-http-jfv-00</a><a href="#section-toc.1-1.12.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-b.2" class="xref">B.2</a>.  <a href="#name-since-draft-reschke-http-jfv" class="xref">Since draft-reschke-http-jfv-01</a><a href="#section-toc.1-1.12.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#section-b.3" class="xref">B.3</a>.  <a href="#name-since-draft-reschke-http-jfv-" class="xref">Since draft-reschke-http-jfv-02</a><a href="#section-toc.1-1.12.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.4">
                <p id="section-toc.1-1.12.2.4.1"><a href="#section-b.4" class="xref">B.4</a>.  <a href="#name-since-draft-reschke-http-jfv-0" class="xref">Since draft-reschke-http-jfv-03</a><a href="#section-toc.1-1.12.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.5">
                <p id="section-toc.1-1.12.2.5.1"><a href="#section-b.5" class="xref">B.5</a>.  <a href="#name-since-draft-reschke-http-jfv-04" class="xref">Since draft-reschke-http-jfv-04</a><a href="#section-toc.1-1.12.2.5.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.6">
                <p id="section-toc.1-1.12.2.6.1"><a href="#section-b.6" class="xref">B.6</a>.  <a href="#name-since-draft-ietf-httpbis-jf" class="xref">Since draft-ietf-httpbis-jfv-00</a><a href="#section-toc.1-1.12.2.6.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.7">
                <p id="section-toc.1-1.12.2.7.1"><a href="#section-b.7" class="xref">B.7</a>.  <a href="#name-since-draft-ietf-httpbis-jfv" class="xref">Since draft-ietf-httpbis-jfv-01</a><a href="#section-toc.1-1.12.2.7.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.8">
                <p id="section-toc.1-1.12.2.8.1"><a href="#section-b.8" class="xref">B.8</a>.  <a href="#name-since-draft-ietf-httpbis-jfv-" class="xref">Since draft-ietf-httpbis-jfv-02</a><a href="#section-toc.1-1.12.2.8.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.9">
                <p id="section-toc.1-1.12.2.9.1"><a href="#section-b.9" class="xref">B.9</a>.  <a href="#name-since-draft-reschke-http-jfv-05" class="xref">Since draft-reschke-http-jfv-05</a><a href="#section-toc.1-1.12.2.9.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.10">
                <p id="section-toc.1-1.12.2.10.1"><a href="#section-b.10" class="xref">B.10</a>. <a href="#name-since-draft-reschke-http-jfv-06" class="xref">Since draft-reschke-http-jfv-06</a><a href="#section-toc.1-1.12.2.10.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.11">
                <p id="section-toc.1-1.12.2.11.1"><a href="#section-b.11" class="xref">B.11</a>. <a href="#name-since-draft-reschke-http-jfv-07" class="xref">Since draft-reschke-http-jfv-07</a><a href="#section-toc.1-1.12.2.11.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.12">
                <p id="section-toc.1-1.12.2.12.1"><a href="#section-b.12" class="xref">B.12</a>. <a href="#name-since-draft-reschke-http-jfv-08" class="xref">Since draft-reschke-http-jfv-08</a><a href="#section-toc.1-1.12.2.12.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.13">
                <p id="section-toc.1-1.12.2.13.1"><a href="#section-b.13" class="xref">B.13</a>. <a href="#name-since-draft-reschke-http-jfv-09" class="xref">Since draft-reschke-http-jfv-09</a><a href="#section-toc.1-1.12.2.13.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.14">
                <p id="section-toc.1-1.12.2.14.1"><a href="#section-b.14" class="xref">B.14</a>. <a href="#name-since-draft-reschke-http-jfv-1" class="xref">Since draft-reschke-http-jfv-10</a><a href="#section-toc.1-1.12.2.14.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.15">
                <p id="section-toc.1-1.12.2.15.1"><a href="#section-b.15" class="xref">B.15</a>. <a href="#name-since-draft-reschke-http-jfv-11" class="xref">Since draft-reschke-http-jfv-11</a><a href="#section-toc.1-1.12.2.15.1" class="pilcrow">¶</a></p>
</li>
              <li class="compact ulEmpty toc" id="section-toc.1-1.12.2.16">
                <p id="section-toc.1-1.12.2.16.1"><a href="#section-b.16" class="xref">B.16</a>. <a href="#name-since-draft-reschke-http-jfv-12" class="xref">Since draft-reschke-http-jfv-12</a><a href="#section-toc.1-1.12.2.16.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.c" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="compact ulEmpty toc" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.d" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
  Defining syntax for new HTTP fields (<span>[<a href="#HTTP" class="xref">HTTP</a>], <a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#fields" class="relref">Section 5</a></span>) is non-trivial. Among the commonly encountered
  problems are:<a href="#section-1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">There is no common syntax for complex field values. Several well-known 
    fields do use a similarly looking syntax, but it is hard to write
    generic parsing code that will both correctly handle valid field values
    but also reject invalid ones.<a href="#section-1-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.2">The HTTP message format allows field lines to repeat, so field syntax
    needs to be designed in a way that these cases are either meaningful,
    or can be unambiguously detected and rejected.<a href="#section-1-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-2.3">HTTP does not define a character encoding scheme (<span>[<a href="#RFC6365" class="xref">RFC6365</a>], <a href="https://rfc-editor.org/rfc/rfc6365#section-2" class="relref">Section 2</a></span>), so fields are either stuck with US-ASCII
    (<span>[<a href="#RFC0020" class="xref">RFC0020</a>]</span>), or need out-of-band information
    to decide what encoding scheme is used. Furthermore, APIs
    usually assume a default encoding scheme in order to map from
    octet sequences to strings (for instance, <span>[<a href="#XMLHttpRequest" class="xref">XMLHttpRequest</a>]</span>
    uses the IDL type "ByteString", effectively resulting in the
    ISO-8859-1 character encoding scheme <span>[<a href="#ISO-8859-1" class="xref">ISO-8859-1</a>]</span> being used).<a href="#section-1-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-3">
  (See <span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#field-extensibility" class="relref">Section 16.3</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>
  for a summary of considerations for new fields.)<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
  This specification addresses the issues listed above by defining both a generic
  JSON-based (<span>[<a href="#RFC8259" class="xref">RFC8259</a>]</span>) data model and a concrete
  wire format that can be used in definitions of new fields, where the
  goals were:<a href="#section-1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-5.1">to be compatible with field recombination when field lines occur multiple
  times in a single message (<span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#field-order" class="relref">Section 5.3</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>), and<a href="#section-1-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-5.2">not to use any problematic characters in the field value (non-ASCII characters and certain whitespace characters).<a href="#section-1-5.2" class="pilcrow">¶</a>
</li>
      </ul>
<aside id="section-1-6">
        <p id="section-1-6.1">
               <strong>Note:</strong>
          <span>[<a href="#RFC8941" class="xref">RFC8941</a>]</span>, a work item of the
  IETF HTTP Working Group, is a different attempt to address this set
  of problems - it tries to identify and formalize common field
  structures in existing fields; the syntax defined over there would usually lead to a more
  compact notation.<a href="#section-1-6.1" class="pilcrow">¶</a></p>
</aside>
</section>
</div>
<div id="data-model-and-format">
<section id="section-2">
      <h2 id="name-data-model-and-format">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-data-model-and-format" class="section-name selfRef">Data Model and Format</a>
      </h2>
<p id="section-2-1">
  In HTTP, field lines with the same field name can occur multiple times
  within a single message (<span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#field-order" class="relref">Section 5.3</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>).
  When this happens, recipients are allowed to combine the field line values
  using  commas as delimiter, forming a combined "field value". This rule
  matches nicely JSON's array format
  (<span><a href="https://rfc-editor.org/rfc/rfc8259#arrays" class="relref">Section 5</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>). Thus, the basic data model
  used here is the JSON array.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">
  Field definitions that need only a single value can restrict
  themselves to arrays of length 1, and are encouraged to define error
  handling in case more values are received (such as "first wins", "last wins",
  or "abort with fatal error message").<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">
  JSON arrays are mapped to field values by creating a sequence of
  serialized member elements, separated by commas and optionally whitespace. This
  is equivalent to using the full JSON array format, while leaving out
  the "begin-array" ('[') and "end-array" (']') delimiters.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">
  The ABNF character names and classes below are used (copied
  from <span>[<a href="#RFC5234" class="xref">RFC5234</a>], <a href="https://rfc-editor.org/rfc/rfc5234#appendix-B.1" class="relref">Appendix B.1</a></span>):<a href="#section-2-4" class="pilcrow">¶</a></p>
<div id="section-2-5">
<pre class="sourcecode lang-abnf2616">  CR               = %x0D    ; carriage return
  HTAB             = %x09    ; horizontal tab
  LF               = %x0A    ; line feed
  SP               = %x20    ; space
  VCHAR            = %x21-7E ; visible (printing) characters
</pre><a href="#section-2-5" class="pilcrow">¶</a>
</div>
<p id="section-2-6">
  Characters in JSON strings that are not allowed or discouraged in HTTP
  field values - that is, not in the "VCHAR" definition -
  need to be represented using JSON's "backslash" escaping mechanism
  (<span>[<a href="#RFC8259" class="xref">RFC8259</a>], <a href="https://rfc-editor.org/rfc/rfc8259#strings" class="relref">Section 7</a></span>).<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">
  The control characters CR, LF, and HTAB do not appear inside JSON
  strings, but can be used outside (line breaks, indentation etc.). These characters
  need to be either stripped or replaced by space characters (ABNF "SP").<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">
  Formally, using the HTTP specification's ABNF extensions defined in
  <span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#abnf.extension" class="relref">Section 5.6.1</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>:<a href="#section-2-8" class="pilcrow">¶</a></p>
<div id="section-2-9">
<pre class="sourcecode lang-abnf2616">  json-field-value = #json-field-item
  json-field-item  = JSON-Text
                   ; see [RFC8259], Section 2,
                   ; post-processed so that only VCHAR characters
                   ; are used
</pre><a href="#section-2-9" class="pilcrow">¶</a>
</div>
</section>
</div>
<section id="section-3">
      <h2 id="name-sender-requirements">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-sender-requirements" class="section-name selfRef">Sender Requirements</a>
      </h2>
<p id="section-3-1">
  To map a JSON array to an HTTP field value, process each array
  element separately by:<a href="#section-3-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-2">
            <li id="section-3-2.1">generating the JSON representation,<a href="#section-3-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.2">stripping all JSON control characters (CR, HTAB, LF), or replacing
      them by space ("SP") characters,<a href="#section-3-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-3-2.3">replacing all remaining non-VSPACE characters by the equivalent
    backslash-escape sequence (<span>[<a href="#RFC8259" class="xref">RFC8259</a>], <a href="https://rfc-editor.org/rfc/rfc8259#strings" class="relref">Section 7</a></span>).<a href="#section-3-2.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-3-3">
  The resulting list of strings is transformed into an HTTP field value
  by combining them using comma (%x2C) plus optional SP as delimiter,
  and encoding the resulting string into an octet sequence using the 
  US-ASCII character encoding scheme (<span>[<a href="#RFC0020" class="xref">RFC0020</a>]</span>).<a href="#section-3-3" class="pilcrow">¶</a></p>
</section>
<section id="section-4">
      <h2 id="name-recipient-requirements">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-recipient-requirements" class="section-name selfRef">Recipient Requirements</a>
      </h2>
<p id="section-4-1">
  To map a set of HTTP field line values to a JSON array:<a href="#section-4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-2">
            <li id="section-4-2.1">combine all field line values into a single field value as per
    <span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#field-order" class="relref">Section 5.3</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>,<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.2">add a leading begin-array ("[") octet and a trailing end-array ("]") octet, then<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.3">run the resulting octet sequence through a JSON parser.<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-4-3">
  The result of the parsing operation is either an error (in which case
  the field values needs to be considered invalid), or a JSON array.<a href="#section-4-3" class="pilcrow">¶</a></p>
</section>
<div id="using-this-format-in-header-field-definitions">
<section id="section-5">
      <h2 id="name-using-this-format-in-field-">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-using-this-format-in-field-" class="section-name selfRef">Using this Format in Field Definitions</a>
      </h2>
<p id="section-5-1">
  Specifications defining new HTTP fields need to take the
  considerations listed in <span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#field-extensibility" class="relref">Section 16.3</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>
  into account. Many of these will already be accounted for by using the
  format defined in this specification.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">
  Readers of HTTP-related specifications frequently expect an ABNF definition 
  of the field value syntax. This is not really needed here, as the actual
  syntax is JSON text, as defined in <span><a href="https://rfc-editor.org/rfc/rfc8259#grammar" class="relref">Section 2</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">
  A very simple way to use this JSON encoding thus is just to 
  cite this specification - specifically the "json-field-value" ABNF production
  defined in <a href="#data-model-and-format" class="xref">Section 2</a> - and otherwise not to talk about the details of the field
  syntax at all.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">
  An alternative approach is just to repeat the ABNF-related parts from <a href="#data-model-and-format" class="xref">Section 2</a>.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">
  This frees the specification from defining the concrete on-the-wire syntax.
  What's left is defining the field value in terms of a JSON array. An
  important aspect is the question of extensibility, e.g. how recipients
  ought to treat unknown field names. In general, a "must ignore" approach
  will allow protocols to evolve without versioning or even using entire new
  field names.<a href="#section-5-5" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-6">
      <h2 id="name-deployment-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-deployment-considerations" class="section-name selfRef">Deployment Considerations</a>
      </h2>
<p id="section-6-1">
  This JSON-based syntax will only apply to newly introduced
  fields, thus backwards compatibility is not a problem. That being
  said, it is conceivable that there is existing code that might trip over
  double quotes not being used for HTTP's quoted-string syntax
  (<span><a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#quoted.strings" class="relref">Section 5.6.4</a> of [<a href="#HTTP" class="xref">HTTP</a>]</span>).<a href="#section-6-1" class="pilcrow">¶</a></p>
</section>
<div id="interop">
<section id="section-7">
      <h2 id="name-interoperability-considerat">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-interoperability-considerat" class="section-name selfRef">Interoperability Considerations</a>
      </h2>
<p id="section-7-1">
  The "I-JSON Message Format" specification (<span>[<a href="#RFC7493" class="xref">RFC7493</a>]</span>) addresses
  known JSON interoperability pain points. This specification borrows from 
  the requirements made over there:<a href="#section-7-1" class="pilcrow">¶</a></p>
<section id="section-7.1">
        <h3 id="name-encoding-and-characters">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-encoding-and-characters" class="section-name selfRef">Encoding and Characters</a>
        </h3>
<p id="section-7.1-1">
  This specification requires that field values use only US-ASCII characters,
  and thus by definition use a subset of UTF-8 (<span><a href="https://rfc-editor.org/rfc/rfc7493#section-2.1" class="relref">Section 2.1</a> of [<a href="#RFC7493" class="xref">RFC7493</a>]</span>).<a href="#section-7.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-7.2">
        <h3 id="name-numbers">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-numbers" class="section-name selfRef">Numbers</a>
        </h3>
<p id="section-7.2-1">
  Be aware of the issues around number precision, as discussed in <span><a href="https://rfc-editor.org/rfc/rfc7493#section-2.2" class="relref">Section 2.2</a> of [<a href="#RFC7493" class="xref">RFC7493</a>]</span>.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-7.3">
        <h3 id="name-object-constraints">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-object-constraints" class="section-name selfRef">Object Constraints</a>
        </h3>
<p id="section-7.3-1">
  As described in <span><a href="https://rfc-editor.org/rfc/rfc8259#section-4" class="relref">Section 4</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>, JSON parser implementations
  differ in the handling of duplicate object names. Therefore, senders <span class="bcp14">MUST NOT</span>
  use duplicate object names, and recipients <span class="bcp14">SHOULD</span> either treat
  field values with duplicate names as invalid (consistent with <span>[<a href="#RFC7493" class="xref">RFC7493</a>], <a href="https://rfc-editor.org/rfc/rfc7493#section-2.3" class="relref">Section 2.3</a></span>)
  or use the lexically last value (consistent with <span>[<a href="#ECMA-262" class="xref">ECMA-262</a>], <a href="http://www.ecma-international.org/ecma-262/6.0/#sec-internalizejsonproperty" class="relref">Section 24.3.1.1</a></span>).<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">
  Furthermore, ordering of object members is not significant and can not be relied upon.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-8">
      <h2 id="name-internationalization-consid">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-internationalization-consid" class="section-name selfRef">Internationalization Considerations</a>
      </h2>
<p id="section-8-1">
  In current versions of HTTP, field values are represented by octet sequences, usually used to
  transmit ASCII characters, with restrictions on the use of certain
  control characters, and no associated default character encoding, nor
  a way to describe it (<span>[<a href="#HTTP" class="xref">HTTP</a>], <a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14#fields" class="relref">Section 5</a></span>).<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">
  This specification maps all characters which can cause problems to JSON
  escape sequences, thereby solving the HTTP field
  internationalization problem.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">
  Future specifications of HTTP might change to allow non-ASCII characters
  natively. In that case, fields using the syntax defined by this
  specification would have a simple migration path (by just stopping
  to require escaping of non-ASCII characters).<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-9-1">
  Using JSON-shaped field values is believed to not introduce any new threads
  beyond those described in <span><a href="https://rfc-editor.org/rfc/rfc8259#section-12" class="relref">Section 12</a> of [<a href="#RFC8259" class="xref">RFC8259</a>]</span>, namely
  the risk of recipients using the wrong tools to parse them.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">
  Other than that, any syntax that makes extensions easy can be used to
  smuggle information through field values; however, this concern is shared
  with other widely used formats, such as those using parameters in the
  form of name/value pairs.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="HTTP">[HTTP]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span><span class="refAuthor">, Nottingham, M., Ed.</span><span class="refAuthor">, and J. Reschke, Ed.</span>, <span class="refTitle">"HTTP Semantics"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-httpbis-semantics-14</span>, <time datetime="2021-01-13" class="refDate">13 January 2021</time>, <span>&lt;<a href="https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14">https://tools.ietf.org/html/draft-ietf-httpbis-semantics-14</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC0020">[RFC0020]</dt>
        <dd>
<span class="refAuthor">Cerf, V.</span>, <span class="refTitle">"ASCII format for network interchange"</span>, <span class="seriesInfo">STD 80</span>, <span class="seriesInfo">RFC 20</span>, <span class="seriesInfo">DOI 10.17487/RFC0020</span>, <time datetime="1969-10" class="refDate">October 1969</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc20">https://www.rfc-editor.org/info/rfc20</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span><span class="refAuthor"> and P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5234">https://www.rfc-editor.org/info/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7493">[RFC7493]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The I-JSON Message Format"</span>, <span class="seriesInfo">RFC 7493</span>, <span class="seriesInfo">DOI 10.17487/RFC7493</span>, <time datetime="2015-03" class="refDate">March 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7493">https://www.rfc-editor.org/info/rfc7493</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
      <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ECMA-262">[ECMA-262]</dt>
        <dd>
<span class="refAuthor">Ecma International</span>, <span class="refTitle">"ECMA-262 6th Edition, The ECMAScript 2015 Language Specification"</span>, <span class="seriesInfo">Standard ECMA-262</span>, <time datetime="2015-06" class="refDate">June 2015</time>, <span>&lt;<a href="http://www.ecma-international.org/ecma-262/6.0/">http://www.ecma-international.org/ecma-262/6.0/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ISO-8859-1">[ISO-8859-1]</dt>
        <dd>
<span class="refAuthor">International Organization for Standardization</span>, <span class="refTitle">"Information technology -- 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1"</span>, <span class="seriesInfo">ISO/IEC 8859-1:1998</span>, <time datetime="1998" class="refDate">1998</time>. </dd>
<dd class="break"></dd>
<dt id="RFC6365">[RFC6365]</dt>
        <dd>
<span class="refAuthor">Hoffman, P.</span><span class="refAuthor"> and J. Klensin</span>, <span class="refTitle">"Terminology Used in Internationalization in the IETF"</span>, <span class="seriesInfo">BCP 166</span>, <span class="seriesInfo">RFC 6365</span>, <span class="seriesInfo">DOI 10.17487/RFC6365</span>, <time datetime="2011-09" class="refDate">September 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6365">https://www.rfc-editor.org/info/rfc6365</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8941">[RFC8941]</dt>
        <dd>
<span class="refAuthor">Nottingham, M.</span><span class="refAuthor"> and P-H. Kamp</span>, <span class="refTitle">"Structured Field Values for HTTP"</span>, <span class="seriesInfo">RFC 8941</span>, <span class="seriesInfo">DOI 10.17487/RFC8941</span>, <time datetime="2021-02" class="refDate">February 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8941">https://www.rfc-editor.org/info/rfc8941</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="XMLHttpRequest">[XMLHttpRequest]</dt>
      <dd>
<span class="refAuthor">WhatWG</span>, <span class="refTitle">"XMLHttpRequest"</span>, <span>&lt;<a href="https://xhr.spec.whatwg.org/">https://xhr.spec.whatwg.org/</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.3">
        <h3 id="name-specifications-using-this-s">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-specifications-using-this-s" class="section-name selfRef">Specifications Using This Syntax (at some point of time)</a>
        </h3>
<dl class="references">
<dt id="CLEARSITE">[CLEARSITE]</dt>
        <dd>
<span class="refAuthor">West, M.</span>, <span class="refTitle">"Clear Site Data"</span>, <span class="seriesInfo">W3C Working Draft WD-clear-site-data-20171130</span>, <time datetime="2017-11-30" class="refDate">30 November 2017</time>, <span>&lt;<a href="https://www.w3.org/TR/2017/WD-clear-site-data-20171130/">https://www.w3.org/TR/2017/WD-clear-site-data-20171130/</a>&gt;</span>. <span class="annotation">
      Latest version available at
      <span>&lt;<a href="https://www.w3.org/TR/clear-site-data/">https://www.w3.org/TR/clear-site-data/</a>&gt;</span>.
          </span>
        </dd>
<dd class="break"></dd>
<dt id="FEATUREPOL">[FEATUREPOL]</dt>
        <dd>
<span class="refAuthor">Clelland, I.</span>, <span class="refTitle">"Feature Policy"</span>, <span class="seriesInfo">W3C Editor's Draft </span>, <span>&lt;<a href="https://w3c.github.io/webappsec-feature-policy/">https://w3c.github.io/webappsec-feature-policy/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="REPORTING">[REPORTING]</dt>
      <dd>
<span class="refAuthor">Creager, D.</span><span class="refAuthor">, Grigorik, I.</span><span class="refAuthor">, Meyer, P.</span><span class="refAuthor">, and M. West</span>, <span class="refTitle">"Reporting API"</span>, <span class="seriesInfo">W3C Working Draft WD-reporting-1-20180925</span>, <time datetime="2018-09-25" class="refDate">25 September 2018</time>, <span>&lt;<a href="https://www.w3.org/TR/2018/WD-reporting-1-20180925/">https://www.w3.org/TR/2018/WD-reporting-1-20180925/</a>&gt;</span>. <span class="annotation">
      Latest version available at
      <span>&lt;<a href="https://www.w3.org/TR/reporting-1/">https://www.w3.org/TR/reporting-1/</a>&gt;</span>.
          </span>
        </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="section-appendix.a">
      <h2 id="name-use-of-json-field-value-enc">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-use-of-json-field-value-enc" class="section-name selfRef">Use of JSON Field Value Encoding in the Wild</a>
      </h2>
<p id="section-appendix.a-1">This section is to be removed before publishing as an RFC.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
<p id="section-appendix.a-2">
  Since work started on this document, various specifications
  have adopted this format. At least one of these moved away after
  the HTTP Working Group decided to focus on <span>[<a href="#RFC8941" class="xref">RFC8941</a>]</span>
  (see thread starting at <span>&lt;<a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2016OctDec/0505.html">https://lists.w3.org/Archives/Public/ietf-http-wg/2016OctDec/0505.html</a>&gt;</span>).<a href="#section-appendix.a-2" class="pilcrow">¶</a></p>
<p id="section-appendix.a-3">
  The sections below summarize the current usage of this format.<a href="#section-appendix.a-3" class="pilcrow">¶</a></p>
<section id="section-a.1">
        <h2 id="name-w3c-reporting-api-specifica">
<a href="#section-a.1" class="section-number selfRef">A.1. </a><a href="#name-w3c-reporting-api-specifica" class="section-name selfRef">W3C Reporting API Specification</a>
        </h2>
<p id="section-a.1-1">
  Defined in W3C Working Draft "Reporting API" (<span><a href="https://www.w3.org/TR/2018/WD-reporting-1-20180925/#header" class="relref">Section 3.1</a> of [<a href="#REPORTING" class="xref">REPORTING</a>]</span>).
  Still in use in latest working draft dated September 2018.<a href="#section-a.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-a.2">
        <h2 id="name-w3c-clear-site-data-specifi">
<a href="#section-a.2" class="section-number selfRef">A.2. </a><a href="#name-w3c-clear-site-data-specifi" class="section-name selfRef">W3C Clear Site Data Specification</a>
        </h2>
<p id="section-a.2-1">
  Used in earlier versions of "Clear Site Data". The current version replaces
  the use of JSON with a custom syntax that happens to be somewhat compatible with an array of JSON strings
  (see <span><a href="https://www.w3.org/TR/2017/WD-clear-site-data-20171130/#header" class="relref">Section 3.1</a> of [<a href="#CLEARSITE" class="xref">CLEARSITE</a>]</span> and <span>&lt;<a href="https://lists.w3.org/Archives/Public/ietf-http-wg/2017AprJun/0214.html">https://lists.w3.org/Archives/Public/ietf-http-wg/2017AprJun/0214.html</a>&gt;</span> for feedback).<a href="#section-a.2-1" class="pilcrow">¶</a></p>
</section>
<section id="section-a.3">
        <h2 id="name-w3c-feature-policy-specific">
<a href="#section-a.3" class="section-number selfRef">A.3. </a><a href="#name-w3c-feature-policy-specific" class="section-name selfRef">W3C Feature Policy Specification</a>
        </h2>
<p id="section-a.3-1">
  Originally defined in W3C document "Feature Policy" (<span>[<a href="#FEATUREPOL" class="xref">FEATUREPOL</a>]</span>),
  but switched to use of Structured Header Fields (<span>[<a href="#RFC8941" class="xref">RFC8941</a>]</span>).<a href="#section-a.3-1" class="pilcrow">¶</a></p>
</section>
</section>
<div id="change.log">
<section id="section-appendix.b">
      <h2 id="name-change-log">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<p id="section-appendix.b-1">This section is to be removed before publishing as an RFC.<a href="#section-appendix.b-1" class="pilcrow">¶</a></p>
<div id="changes.since.00">
<section id="section-b.1">
        <h2 id="name-since-draft-reschke-http-jf">
<a href="#section-b.1" class="section-number selfRef">B.1. </a><a href="#name-since-draft-reschke-http-jf" class="section-name selfRef">Since draft-reschke-http-jfv-00</a>
        </h2>
<p id="section-b.1-1">
  Editorial fixes + working on the TODOs.<a href="#section-b.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.01">
<section id="section-b.2">
        <h2 id="name-since-draft-reschke-http-jfv">
<a href="#section-b.2" class="section-number selfRef">B.2. </a><a href="#name-since-draft-reschke-http-jfv" class="section-name selfRef">Since draft-reschke-http-jfv-01</a>
        </h2>
<p id="section-b.2-1">
  Mention slightly increased risk of smuggling information in header field values.<a href="#section-b.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.02">
<section id="section-b.3">
        <h2 id="name-since-draft-reschke-http-jfv-">
<a href="#section-b.3" class="section-number selfRef">B.3. </a><a href="#name-since-draft-reschke-http-jfv-" class="section-name selfRef">Since draft-reschke-http-jfv-02</a>
        </h2>
<p id="section-b.3-1">
  Mention Kazuho Oku's proposal for abbreviated forms.<a href="#section-b.3-1" class="pilcrow">¶</a></p>
<p id="section-b.3-2">
  Added a bit of text about the motivation for a concrete JSON subset (ack Cory Benfield).<a href="#section-b.3-2" class="pilcrow">¶</a></p>
<p id="section-b.3-3">
  Expand I18N section.<a href="#section-b.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.03">
<section id="section-b.4">
        <h2 id="name-since-draft-reschke-http-jfv-0">
<a href="#section-b.4" class="section-number selfRef">B.4. </a><a href="#name-since-draft-reschke-http-jfv-0" class="section-name selfRef">Since draft-reschke-http-jfv-03</a>
        </h2>
<p id="section-b.4-1">
  Mention relation to KEY header field.<a href="#section-b.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.04">
<section id="section-b.5">
        <h2 id="name-since-draft-reschke-http-jfv-04">
<a href="#section-b.5" class="section-number selfRef">B.5. </a><a href="#name-since-draft-reschke-http-jfv-04" class="section-name selfRef">Since draft-reschke-http-jfv-04</a>
        </h2>
<p id="section-b.5-1">
  Between June and December 2016, this was a work item of the HTTP
  working group (see <span>&lt;<a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-jfv/">https://datatracker.ietf.org/doc/draft-ietf-httpbis-jfv/</a>&gt;</span>).
  Work (if any) continues now on <span>&lt;<a href="https://datatracker.ietf.org/doc/draft-reschke-http-jfv/">https://datatracker.ietf.org/doc/draft-reschke-http-jfv/</a>&gt;</span>.<a href="#section-b.5-1" class="pilcrow">¶</a></p>
<p id="section-b.5-2">
  Changes made while this was a work item of the HTTP Working Group:<a href="#section-b.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.wg.00">
<section id="section-b.6">
        <h2 id="name-since-draft-ietf-httpbis-jf">
<a href="#section-b.6" class="section-number selfRef">B.6. </a><a href="#name-since-draft-ietf-httpbis-jf" class="section-name selfRef">Since draft-ietf-httpbis-jfv-00</a>
        </h2>
<p id="section-b.6-1">
  Added example for "Accept-Encoding" (inspired by Kazuho's feedback),
  showing a potential way to optimize the format when default values apply.<a href="#section-b.6-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.wg.01">
<section id="section-b.7">
        <h2 id="name-since-draft-ietf-httpbis-jfv">
<a href="#section-b.7" class="section-number selfRef">B.7. </a><a href="#name-since-draft-ietf-httpbis-jfv" class="section-name selfRef">Since draft-ietf-httpbis-jfv-01</a>
        </h2>
<p id="section-b.7-1">
  Add interop discussion, building on I-JSON and ECMA-262 (see
  <span>&lt;<a href="https://github.com/httpwg/http-extensions/issues/225">https://github.com/httpwg/http-extensions/issues/225</a>&gt;</span>).<a href="#section-b.7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.wg.02">
<section id="section-b.8">
        <h2 id="name-since-draft-ietf-httpbis-jfv-">
<a href="#section-b.8" class="section-number selfRef">B.8. </a><a href="#name-since-draft-ietf-httpbis-jfv-" class="section-name selfRef">Since draft-ietf-httpbis-jfv-02</a>
        </h2>
<p id="section-b.8-1">
  Move non-essential parts into appendix.<a href="#section-b.8-1" class="pilcrow">¶</a></p>
<p id="section-b.8-2">
  Updated XHR reference.<a href="#section-b.8-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.05">
<section id="section-b.9">
        <h2 id="name-since-draft-reschke-http-jfv-05">
<a href="#section-b.9" class="section-number selfRef">B.9. </a><a href="#name-since-draft-reschke-http-jfv-05" class="section-name selfRef">Since draft-reschke-http-jfv-05</a>
        </h2>
<p id="section-b.9-1">
  Add meat to "Using this Format in Header Field Definitions".<a href="#section-b.9-1" class="pilcrow">¶</a></p>
<p id="section-b.9-2">
  Add a few lines on the relation to "Key".<a href="#section-b.9-2" class="pilcrow">¶</a></p>
<p id="section-b.9-3">
  Summarize current use of the format.<a href="#section-b.9-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.06">
<section id="section-b.10">
        <h2 id="name-since-draft-reschke-http-jfv-06">
<a href="#section-b.10" class="section-number selfRef">B.10. </a><a href="#name-since-draft-reschke-http-jfv-06" class="section-name selfRef">Since draft-reschke-http-jfv-06</a>
        </h2>
<p id="section-b.10-1">
  RFC 5987 is obsoleted by RFC 8187.<a href="#section-b.10-1" class="pilcrow">¶</a></p>
<p id="section-b.10-2">
  Update CLEARSITE comment.<a href="#section-b.10-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.07">
<section id="section-b.11">
        <h2 id="name-since-draft-reschke-http-jfv-07">
<a href="#section-b.11" class="section-number selfRef">B.11. </a><a href="#name-since-draft-reschke-http-jfv-07" class="section-name selfRef">Since draft-reschke-http-jfv-07</a>
        </h2>
<p id="section-b.11-1">
  Update JSON and HSTRUCT references.<a href="#section-b.11-1" class="pilcrow">¶</a></p>
<p id="section-b.11-2">
  FEATUREPOL doesn't use JSON syntax anymore.<a href="#section-b.11-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.08">
<section id="section-b.12">
        <h2 id="name-since-draft-reschke-http-jfv-08">
<a href="#section-b.12" class="section-number selfRef">B.12. </a><a href="#name-since-draft-reschke-http-jfv-08" class="section-name selfRef">Since draft-reschke-http-jfv-08</a>
        </h2>
<p id="section-b.12-1">
  Update HSTRUCT reference.<a href="#section-b.12-1" class="pilcrow">¶</a></p>
<p id="section-b.12-2">
  Update notes about CLEARSITE and FEATUREPOL.<a href="#section-b.12-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.09">
<section id="section-b.13">
        <h2 id="name-since-draft-reschke-http-jfv-09">
<a href="#section-b.13" class="section-number selfRef">B.13. </a><a href="#name-since-draft-reschke-http-jfv-09" class="section-name selfRef">Since draft-reschke-http-jfv-09</a>
        </h2>
<p id="section-b.13-1">
  Update HSTRUCT and FEATUREPOL references.<a href="#section-b.13-1" class="pilcrow">¶</a></p>
<p id="section-b.13-2">
  Update note about REPORTING.<a href="#section-b.13-2" class="pilcrow">¶</a></p>
<p id="section-b.13-3">
  Changed category to "informational".<a href="#section-b.13-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.10">
<section id="section-b.14">
        <h2 id="name-since-draft-reschke-http-jfv-1">
<a href="#section-b.14" class="section-number selfRef">B.14. </a><a href="#name-since-draft-reschke-http-jfv-1" class="section-name selfRef">Since draft-reschke-http-jfv-10</a>
        </h2>
<p id="section-b.14-1">
  Update HSTRUCT reference.<a href="#section-b.14-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.11">
<section id="section-b.15">
        <h2 id="name-since-draft-reschke-http-jfv-11">
<a href="#section-b.15" class="section-number selfRef">B.15. </a><a href="#name-since-draft-reschke-http-jfv-11" class="section-name selfRef">Since draft-reschke-http-jfv-11</a>
        </h2>
<p id="section-b.15-1">
  Update HSTRUCT reference.<a href="#section-b.15-1" class="pilcrow">¶</a></p>
<p id="section-b.15-2">
  Update note about FEATUREPOL (now using Structured Fields).<a href="#section-b.15-2" class="pilcrow">¶</a></p>
<p id="section-b.15-3">
  Reference <span>[<a href="#HTTP" class="xref">HTTP</a>]</span> instead if RFC723* and adjust (header)
  field terminology accordingly.<a href="#section-b.15-3" class="pilcrow">¶</a></p>
<p id="section-b.15-4">
  Remove discussion about the relation to KEY (as that spec is dormant:
  <span>&lt;<a href="https://datatracker.ietf.org/doc/draft-ietf-httpbis-key/">https://datatracker.ietf.org/doc/draft-ietf-httpbis-key/</a>&gt;</span>).<a href="#section-b.15-4" class="pilcrow">¶</a></p>
<p id="section-b.15-5">
  Remove appendices "Examples" and "Discussion".<a href="#section-b.15-5" class="pilcrow">¶</a></p>
<p id="section-b.15-6">
  Mark "Use of JSON Field Value Encoding in the Wild" for removal in RFC.<a href="#section-b.15-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changes.since.12">
<section id="section-b.16">
        <h2 id="name-since-draft-reschke-http-jfv-12">
<a href="#section-b.16" class="section-number selfRef">B.16. </a><a href="#name-since-draft-reschke-http-jfv-12" class="section-name selfRef">Since draft-reschke-http-jfv-12</a>
        </h2>
<p id="section-b.16-1">
  Update HTTP reference and update terminology some more.<a href="#section-b.16-1" class="pilcrow">¶</a></p>
<p id="section-b.16-2">
  Update HSTRUCT reference (now RFC 8941).<a href="#section-b.16-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="acks">
<section id="section-appendix.c">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-appendix.c-1">
  Thanks go to the Hypertext Transfer Protocol Working Group participants.<a href="#section-appendix.c-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.d">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Julian F. Reschke</span></div>
<div dir="auto" class="left"><span class="org">greenbytes GmbH</span></div>
<div dir="auto" class="left"><span class="street-address">Hafenweg 16</span></div>
<div dir="auto" class="left">
<span class="postal-code">48155</span> <span class="locality">Münster</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:julian.reschke@greenbytes.de" class="email">julian.reschke@greenbytes.de</a>
</div>
<div class="url">
<span>URI:</span>
<a href="http://greenbytes.de/tech/webdav/" class="url">http://greenbytes.de/tech/webdav/</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
