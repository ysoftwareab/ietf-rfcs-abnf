<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Definitions of Managed Objects for the Fourth Version of Border Gateway Protocol (BGP-4), BGP Community Extension</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Definitions of Managed Objects for the Fourth Version of Border Gateway Protocol (BGP-4), BGP Community Extension">
<meta name="keywords" content="Network Management, Management Information base, MIB, SMIv2, BGP, BGP4, BGP-4, Border Gateway Protocol, Community, BGP Community">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Inter-Domain Routing Working Group</td><td class="header">J. Haas</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">November 12, 2007</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">&nbsp;</td></tr>
<tr><td class="header">Expires: May 15, 2008</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Definitions of Managed Objects for the Fourth Version of Border Gateway Protocol (BGP-4), BGP Community Extension<br />draft-jhaas-idr-bgp4-mibv2-community-00</h1>

<h3>Status of This Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on May 15, 2008.</p>

<h3>Abstract</h3>

<p>This memo defines a portion of the Management Information Base (MIB)
      for use with network management protocols. In particular it defines
      objects for managing the Border Gateway Protocol's Community
      extension.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
<a href="#anchor2">2.</a>&nbsp;
The Internet-Standard Management Framework<br />
<a href="#anchor3">3.</a>&nbsp;
Conventions<br />
<a href="#anchor4">4.</a>&nbsp;
Overview<br />
<a href="#anchor5">5.</a>&nbsp;
Structure of the MIB Module<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">5.1.</a>&nbsp;
Global Scalars<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">5.2.</a>&nbsp;
Tables<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">5.3.</a>&nbsp;
Textual Conventions<br />
<a href="#anchor9">6.</a>&nbsp;
Relationship to Other MIB Modules<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">6.1.</a>&nbsp;
Relationship to the BGP-4 MIB, Second Version<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">6.2.</a>&nbsp;
MIB modules required for IMPORTS<br />
<a href="#anchor12">7.</a>&nbsp;
Definitions<br />
<a href="#anchor13">8.</a>&nbsp;
Security Considerations<br />
<a href="#anchor14">9.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor15">10.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">11.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">11.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">11.2.</a>&nbsp;
Informative References<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>This memo defines a portion of the Management Information Base (MIB)
      for use with network management protocols. In particular it defines
      objects for managing the Border Gateway Protocol's Community
      extension.  <a class='info' href='#RFC1997'>[RFC1997]<span> (</span><span class='info'>Chandrasekeran, R., Traina, P., and T. Li, &ldquo;BGP Communities Attribute,&rdquo; August&nbsp;1996.</span><span>)</span></a>.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
The Internet-Standard Management Framework</h3>

<p>For a detailed
      overview of the documents that describe the current Internet-Standard
      Management Framework, please refer to section 7 of RFC 3410 <a class='info' href='#RFC3410'>[RFC3410]<span> (</span><span class='info'>Case, J., Mundy, R., Partain, D., and B. Stewart, &ldquo;Introduction and Applicability Statements for Internet-Standard Management Framework,&rdquo; December&nbsp;2002.</span><span>)</span></a>.
</p>
<p>Managed objects are accessed via a virtual information store, termed
      the Management Information Base or MIB. MIB objects are generally
      accessed through the Simple Network Management Protocol (SNMP). Objects
      in the MIB are defined using the mechanisms defined in the Structure of
      Management Information (SMI). This memo specifies a MIB module that is
      compliant to the SMIv2, which is described in STD 58, RFC 2578 <a class='info' href='#RFC2578'>[RFC2578]<span> (</span><span class='info'>McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;Structure of Management Information Version 2 (SMIv2),&rdquo; April&nbsp;1999.</span><span>)</span></a>, STD 58, RFC 2579 <a class='info' href='#RFC2579'>[RFC2579]<span> (</span><span class='info'>McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;Textual Conventions for SMIv2,&rdquo; April&nbsp;1999.</span><span>)</span></a> and STD 58, RFC 2580 <a class='info' href='#RFC2580'>[RFC2580]<span> (</span><span class='info'>McCloghrie, K., Perkins, D., and J. Schoenwaelder, &ldquo;Conformance Statements for SMIv2,&rdquo; April&nbsp;1999.</span><span>)</span></a>.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Conventions</h3>

<p>The key words "MUST", "MUST
      NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
      "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
      interpreted as described in RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Overview</h3>

<p>The BGP-4 MIB, Version 2, provides for an extension mechanism by
      which BGP extensions can have MIBs created under the BGP-4 MIB
      subtree.  This MIB documents the objects for managing the BGP-4
      Community extension as documented in <a class='info' href='#RFC1997'>[RFC1997]<span> (</span><span class='info'>Chandrasekeran, R., Traina, P., and T. Li, &ldquo;BGP Communities Attribute,&rdquo; August&nbsp;1996.</span><span>)</span></a>.
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Structure of the MIB Module</h3>

<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Global Scalars</h3>

<p>
        </p>
<ul class="text">
<li>bgpCommunityTotal - The total number of community sets managed
	  by this system.
</li>
</ul><p>
        
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Tables</h3>

<p>
	</p>
<ul class="text">
<li>bgpCommunityAfPathAttrTable - This table provides access to
	  a human-readable version of the community associated with BGP
	  reachability and also an index into the bgpCommunityElementTable
	  which can be used for a canonical version of that set of
	  communities.
</li>
<li>bgpCommunityElementTable - This table provides canonical access
	  to a set of community values.
</li>
<li>bgpCommunitySetTable - This table provides additional
	  information about a set of communities.
</li>
</ul><p>
	
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.3"></a><h3>5.3.&nbsp;
Textual Conventions</h3>

<p>
	</p>
<ul class="text">
<li>BgpCommunityTC - The representation of a BGP Community.
</li>
</ul><p>
	
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Relationship to Other MIB Modules</h3>

<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
Relationship to the BGP-4 MIB, Second Version</h3>

<p>The BGP-4 MIB provides the bgpExtensions point which is used in
	the root OID for this module.
</p>
<p>Additionally, as BGP communities are properties of the Path
	Attributes set sent for reachability, the base BGP-4 MIB provides
	the index for this table, bgpAfPathAttrIndex.
</p>
<p>Note well that bgpAfPathAttrIndex is meant to be distinct for
	each received set of Path Attributes.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.2"></a><h3>6.2.&nbsp;
MIB modules required for IMPORTS</h3>

<p>The following MIB module IMPORTS objects from SNMPv2-SMI <a class='info' href='#RFC2578'>[RFC2578]<span> (</span><span class='info'>McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;Structure of Management Information Version 2 (SMIv2),&rdquo; April&nbsp;1999.</span><span>)</span></a>, SNMPv2-TC <a class='info' href='#RFC2579'>[RFC2579]<span> (</span><span class='info'>McCloghrie, K., Ed., Perkins, D., Ed., and J. Schoenwaelder, Ed., &ldquo;Textual Conventions for SMIv2,&rdquo; April&nbsp;1999.</span><span>)</span></a>,
        SNMPv2-CONF <a class='info' href='#RFC2580'>[RFC2580]<span> (</span><span class='info'>McCloghrie, K., Perkins, D., and J. Schoenwaelder, &ldquo;Conformance Statements for SMIv2,&rdquo; April&nbsp;1999.</span><span>)</span></a> and the BGP-4 MIB,
	Version 2.
        
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Definitions</h3>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
BGP4-COMMUNITY-MIB DEFINITIONS ::= BEGIN

    IMPORTS
        MODULE-IDENTITY, OBJECT-TYPE, Gauge32, Unsigned32
            FROM SNMPv2-SMI
        TEXTUAL-CONVENTION
            FROM SNMPv2-TC
        MODULE-COMPLIANCE, OBJECT-GROUP
            FROM SNMPv2-CONF
        SnmpAdminString
            FROM SNMP-FRAMEWORK-MIB
		bgpExtensions, bgpAfPathAttrIndex
	    FROM BGP4-MIB;


    bgpCommunity MODULE-IDENTITY
        LAST-UPDATED "200711110000Z"
        ORGANIZATION "IETF IDR Working Group"
        CONTACT-INFO "E-mail:  idr@ietf.org"
        DESCRIPTION
	    "This MIB module defines additional management objects
	     for the Border Gateway Protocol, Version 4.
	     Specifically, it adds objects for the management of the
	     BGP Community PATH_ATTRIBUTE as documented in RFC 1997."
        ::= { bgpExtensions 1 }

    --
    -- Textual Conventions
    --

    BgpCommunityTC ::= TEXTUAL-CONVENTION
        DISPLAY-HINT "2d:"
        STATUS current
        DESCRIPTION
            "The representation of a BGP Community."
        SYNTAX OCTET STRING(SIZE(4))


    --
    -- BGP Community Scalars
    --

    bgpCommunityTotal OBJECT-TYPE
        SYNTAX Unsigned32
	MAX-ACCESS read-only
	STATUS current
	DESCRIPTION
	    "The total number of community sets managed by
	     this system."
	::= { bgpCommunity 1 }

    --
    -- BGP Communities per-NLRI entry.
    --

    bgpCommunityAfPathAttrTable OBJECT-TYPE
        SYNTAX SEQUENCE OF BgpCommunityAfPathAttrEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
	    "The BGP-4 Path Attribute Community Table contains the
	     per network path (NLRI) data on the community membership
	     advertised with a route. The absence of row data for a
	     given index value for bgpCommunityPathAttrIndex
	     indicates a lack of this attribute information for the
	     indicated network path."
        ::= { bgpCommunity 2 }

    bgpCommunityAfPathAttrEntry OBJECT-TYPE
        SYNTAX BgpCommunityAfPathAttrEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
            "Information about a community association
             provided with a path to a network."
	INDEX {
	    bgpAfPathAttrIndex
        }
        ::= { bgpCommunityAfPathAttrTable 1 }

    BgpCommunityAfPathAttrEntry ::= SEQUENCE {
	bgpCommunityString
	    SnmpAdminString,
	bgpCommunityIndex
	    Unsigned32
    }

    bgpCommunityString OBJECT-TYPE
        SYNTAX SnmpAdminString
        MAX-ACCESS read-only
        STATUS current
        DESCRIPTION
	    "This is a string depicting the set of communities
	     associated with a given NLRI.  The format of this
	     string is implementation-dependent and should be
	     designed for operator readability.

	     Note that SnmpAdminString is only capable of
	     representing a maximum of 255 characters.  This may
	     lead to the string being truncated in the presence of a
	     large community set.  The bgpCommunityTable will give
	     access to the full community set.

	     It is RECOMMENDED that for rows sharing the same value
	     in bgpCommunityTableIndex that the bgpCommunityString
	     also be identical."
        ::= { bgpCommunityAfPathAttrEntry 1 }

    bgpCommunityIndex OBJECT-TYPE
        SYNTAX Unsigned32
        MAX-ACCESS read-only
        STATUS current
        DESCRIPTION
	    "This value is an index for the sub-components of a
	     community set in the bgpCommunityElementTable.  It is
	     assigned by the agent at the point of creation of the
	     bgpCommunityElementTable row entry.  While its value is
	     guaranteed to be unique at any time, it is otherwise
	     opaque to the management application with respect to its
	     value or the contiguity of the bgpCommunityTableIndex row
	     intance values across rows of the bgpCommunityTable.

	     Additionally, this value, which represents a distinct set
	     of communities, is used as an index in the
	     bgpCommunitySetTable.

	     It is particularly important to note that there may be a
	     many-to-one relationship between this object for a given
	     set of indices to a particular bgpCommunityTableIndex.
	     This is because many NLRI may share the same community
	     set."
        ::= { bgpCommunityAfPathAttrEntry 2 }


    --
    -- Table of a Community Set's Components
    --

    bgpCommunityElementTable OBJECT-TYPE
        SYNTAX SEQUENCE OF BgpCommunityElementEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
	    "The bgpCommunityElementTable allows individual
	     sub-components of a community set to be examined in a
	     canonical fashion."
        ::= { bgpCommunity 3 }

    bgpCommunityElementEntry OBJECT-TYPE
        SYNTAX BgpCommunityElementEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
	    "Information about sub-components for a set of
	     communities."
	INDEX {
	    bgpCommunityIndex,
	    bgpCommunityElementIndex
	}
        ::= { bgpCommunityElementTable 1 }

    BgpCommunityElementEntry ::= SEQUENCE {
        bgpCommunityElementIndex
            Unsigned32,
        bgpCommunityElementValue
            BgpCommunityTC,
        bgpCommunityElementWellKnown
            INTEGER
    }

    bgpCommunityElementIndex OBJECT-TYPE
        SYNTAX Unsigned32
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
            "An integer index for a row in this table."
        ::= { bgpCommunityElementEntry 1 }

    bgpCommunityElementValue OBJECT-TYPE
        SYNTAX BgpCommunityTC
        MAX-ACCESS read-only
        STATUS current
        DESCRIPTION
            "A value representing a community.   There are certain
             4-octet long values which could be returned in this
             columnar row data that carry additional semantics."
        REFERENCE
            "RFC 1997 - BGP Community Attribute"
        ::= { bgpCommunityElementEntry 2 }

    bgpCommunityElementWellKnown OBJECT-TYPE
        SYNTAX INTEGER {
	    notWellKnown(1),
	    noExport(2),
	    noAdvertise(3),
	    noExportSubconfed(4),
	    noPeer(5)
	}
	MAX-ACCESS read-only
	STATUS current
	DESCRIPTION
	    "In the case that a given community is a 'well-known'
	     community, this object is set to the appropriate
	     value."
	REFERENCE
	    "RFC 1997, 'Well-Known Communities'.
	     RFC 3765, NOPEER Community for Border Gateway Protocol."
	::= { bgpCommunityElementEntry 3 }

    --
    -- Table of a Community Set's common properties.
    --

    bgpCommunitySetTable OBJECT-TYPE
        SYNTAX SEQUENCE OF BgpCommunitySetEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
	    "This table tracks properties that a given set of
	     communities, as identified by a bgpCommunityIndex,
	     may share."
        ::= { bgpCommunity 4 }


    bgpCommunitySetEntry OBJECT-TYPE
        SYNTAX BgpCommunitySetEntry
        MAX-ACCESS not-accessible
        STATUS current
        DESCRIPTION
	    "Properties shared by a given set of communities."
	INDEX {
	    bgpCommunityIndex
	}
        ::= { bgpCommunitySetTable 1 }

    BgpCommunitySetEntry ::= SEQUENCE {
        bgpCommunitySetReferences
            Gauge32
    }

    bgpCommunitySetReferences OBJECT-TYPE
        SYNTAX Gauge32
        MAX-ACCESS read-only
        STATUS current
        DESCRIPTION
	    "Some implementation may track the number of times that
	     a distinct community set is referenced.  One example of
	     this is a set of NLRI that share the same set of
	     communities.

	     The implementation of this object is completely
	     OPTIONAL."
        ::= { bgpCommunitySetEntry 1 }

    --
    -- Conformance Information
    --

    bgpCommunityConformance
        OBJECT IDENTIFIER ::= { bgpCommunity 5 }


    bgpCommunityMIBCompliances OBJECT IDENTIFIER ::=
        { bgpCommunityConformance 1 }


    bgpCommunityMIBGroups OBJECT IDENTIFIER ::=
        { bgpCommunityConformance 2 }


    bgpCommunityMIBCompliance MODULE-COMPLIANCE
        STATUS current
        DESCRIPTION
            "The compliance statement for entities which
            implement the BGP4 mib."
         MODULE -- this module
         MANDATORY-GROUPS {
	    bgpCommunityRequiredGroup
            }
	GROUP bgpCommunityRequiredGroup
	DESCRIPTION
	    "All members of this GROUP MUST be implemented to
	     support this MIB."
        GROUP bgpCommunityOptionalGroup
	DESCRIPTION
	    "Members of this GROUP MAY be implemented.  Individual
	     objects with implementation dependencies will be
	     documented in the DESCRIPTION clauses for those
	     objects."
        ::= { bgpCommunityMIBCompliances 1 }


    bgpCommunityRequiredGroup OBJECT-GROUP
        OBJECTS {
	    bgpCommunityTotal,
	    bgpCommunityString,
	    bgpCommunityIndex,
	    bgpCommunityElementValue,
	    bgpCommunityElementWellKnown
        }
        STATUS current
        DESCRIPTION
            "Objects associated with BGP communities that are
	     required to be implemented in this MIB."
        ::= { bgpCommunityMIBGroups 1 }

    bgpCommunityOptionalGroup OBJECT-GROUP
        OBJECTS {
	    bgpCommunitySetReferences
        }
        STATUS current
        DESCRIPTION
            "Objects associated with BGP communities that may
	     optionally be implemented in this MIB."
        ::= { bgpCommunityMIBGroups 2 }
END
</pre></div>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
Security Considerations</h3>

<p>Some of the readable objects in this MIB module (i.e., objects with a
      MAX-ACCESS other than not-accessible) may be considered sensitive or
      vulnerable in some network environments. It is thus important to control
      even GET and/or NOTIFY access to these objects and possibly to even
      encrypt the values of these objects when sending them over the network
      via SNMP. These are the tables and objects and their
      sensitivity/vulnerability: 
        </p>
<ul class="text">
<li>bgpCommunityElementValue, bgpCommunityElementWellKnown - 
	  BGP Communities may be used to implement routing policy for ISPs and
	  that routing policy may reflect business relationships.  Inadvertent
	  disclosure of this information inadvertently expose sensitive
	  information about those business relationships.
</li>
</ul><p>
      
</p>
<p>SNMP versions prior to SNMPv3 did not include adequate security. Even
      if the network itself is secure (for example by using IPSec), even then,
      there is no control as to who on the secure network is allowed to access
      and GET/SET (read/change/create/delete) the objects in this MIB
      module.
</p>
<p>It is RECOMMENDED that implementers consider the security features as
      provided by the SNMPv3 framework (see <a class='info' href='#RFC3410'>[RFC3410]<span> (</span><span class='info'>Case, J., Mundy, R., Partain, D., and B. Stewart, &ldquo;Introduction and Applicability Statements for Internet-Standard Management Framework,&rdquo; December&nbsp;2002.</span><span>)</span></a>,
      section 8), including full support for the SNMPv3 cryptographic
      mechanisms (for authentication and privacy).
</p>
<p>Further, deployment of SNMP versions prior to SNMPv3 is NOT
      RECOMMENDED. Instead, it is RECOMMENDED to deploy SNMPv3 and to enable
      cryptographic security. It is then a customer/operator responsibility to
      ensure that the SNMP entity giving access to an instance of this MIB
      module is properly configured to give access to the objects only to
      those principals (users) that have legitimate rights to indeed GET or
      SET (change/create/delete) them.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
Acknowledgements</h3>

<p>The BGP-4 MIB extension mechanism owes thanks to Wayne Tackabury
      and the OPS Working Group MIB Doctors.  An earlier form of this
      extension mechanism was originally attempted with Mathew Richardson
      and Shane Wright, formerly of NextHop Technologies.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2578">[RFC2578]</a></td>
<td class="author-text"><a href="mailto:kzm@cisco.com">McCloghrie, K., Ed.</a>, <a href="mailto:dperkins@snmpinfo.com">Perkins, D., Ed.</a>, and <a href="mailto:schoenw@ibr.cs.tu-bs.de">J. Schoenwaelder, Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2578">Structure of Management Information Version 2 (SMIv2)</a>,&rdquo; STD&nbsp;58, RFC&nbsp;2578, April&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2578.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2579">[RFC2579]</a></td>
<td class="author-text"><a href="mailto:kzm@cisco.com">McCloghrie, K., Ed.</a>, <a href="mailto:dperkins@snmpinfo.com">Perkins, D., Ed.</a>, and <a href="mailto:schoenw@ibr.cs.tu-bs.de">J. Schoenwaelder, Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2579">Textual Conventions for SMIv2</a>,&rdquo; STD&nbsp;58, RFC&nbsp;2579, April&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2579.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2580">[RFC2580]</a></td>
<td class="author-text"><a href="mailto:kzm@cisco.com">McCloghrie, K.</a>, <a href="mailto:dperkins@snmpinfo.com">Perkins, D.</a>, and <a href="mailto:schoenw@ibr.cs.tu-bs.de">J. Schoenwaelder</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2580">Conformance Statements for SMIv2</a>,&rdquo; STD&nbsp;58, RFC&nbsp;2580, April&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2580.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1997">[RFC1997]</a></td>
<td class="author-text"><a href="mailto:rchandra@cisco.com">Chandrasekeran, R.</a>, <a href="mailto:pst@cisco.com">Traina, P.</a>, and <a href="mailto:tli@skat.usc.edu">T. Li</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc1997">BGP Communities Attribute</a>,&rdquo; RFC&nbsp;1997, August&nbsp;1996 (<a href="http://www.rfc-editor.org/rfc/rfc1997.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>11.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC3410">[RFC3410]</a></td>
<td class="author-text">Case, J., Mundy, R., Partain, D., and B. Stewart, &ldquo;<a href="http://tools.ietf.org/html/rfc3410">Introduction and Applicability Statements for Internet-Standard Management Framework</a>,&rdquo; RFC&nbsp;3410, December&nbsp;2002 (<a href="http://www.rfc-editor.org/rfc/rfc3410.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jeffrey Haas</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text"></td></tr>
<tr><td class="author" align="right">EMail:&nbsp;</td>
<td class="author-text"><a href="mailto:jhaas@pfrc.org">jhaas@pfrc.org</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2007).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
