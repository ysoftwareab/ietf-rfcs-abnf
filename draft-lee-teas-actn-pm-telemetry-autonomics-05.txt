TEAS Working Group                                      Y. Lee (Editor)
Internet Draft                                              Dhruv Dhody
Intended Status: Standard Track                      Satish Karunanithi
Expires: April 30, 2018                                          Huawei
                                                         Ricard Vilalta
                                                                   CTTC
                                                            Daniel King
                                                   Lancaster University
                                                     Daniele Ceccarelli
                                                               Ericsson


                                                       October 30, 2017


  YANG models for ACTN TE Performance Monitoring Telemetry and Network
                               Autonomics

              draft-lee-teas-actn-pm-telemetry-autonomics-05

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with
   the provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six
   months and may be updated, replaced, or obsoleted by other documents
   at any time.  It is inappropriate to use Internet-Drafts as
   reference material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on April 30, 2018.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors. All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
Lee, et al.             Expires April 30, 2018                 [Page 1]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with
   respect to this document.  Code Components extracted from this
   document must include Simplified BSD License text as described in
   Section 4.e of the Trust Legal Provisions and are provided without
   warranty as described in the Simplified BSD License.

Abstract

   Abstraction and Control of TE Networks (ACTN) refers to the set of
   virtual network operations needed to operate, control and manage
   large-scale multi-domain, multi-layer and multi-vendor TE networks,
   so as to facilitate network programmability, automation, efficient
   resource sharing.

   This document provides YANG data models that describe Key
   Performance Indicator (KPI) telemetry and network autonomics for TE-
   tunnels and ACTN VNs.



Table of Contents


   1. Introduction...................................................3
      1.1. Terminology...............................................3
      1.2. Tree Structure - Legend...................................3
   2. Use-Cases......................................................5
   3. Design of the Data Models......................................6
      3.1. TE KPI Telemetry Model....................................7
      3.2. ACTN TE KPI Telemetry Model...............................7
   4. Notification...................................................9
      4.1. YANG Push Subscription Examples...........................9
   5. YANG Data Tree................................................10
   6. Yang Data Model...............................................12
      6.1. ietf-te-kpi-telemetry model..............................12
      6.2. ietf-actn-te-kpi-telemetry model.........................21
   7. Security Considerations.......................................25
   8. IANA Considerations...........................................25
   9. Acknowledgements..............................................25
   10. References...................................................25
      10.1. Informative References..................................25
      10.2. Normative References....................................26
   11. Contributors.................................................27
   Authors' Addresses...............................................27



Lee, et al.            Expires April 30, 2018.                 [Page 2]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


1. Introduction

   Abstraction and Control of TE Networks (ACTN) describes a method for
   operating a Traffic Engineered (TE) network (such as an MPLS-TE
   network or a layer 1/0 transport network) to provide connectivity
   and virtual network services for customers of the TE network [ACTN-
   Frame]. The services provided can be optimized to meet the
   requirements (such as traffic patterns, quality, and reliability) of
   the applications hosted by the customers. Data models are a
   representation of objects that can be configured or monitored within
   a system. Within the IETF, YANG [RFC6020] is the language of choice
   for documenting data models, and YANG models have been produced to
   allow configuration or modeling of a variety of network devices,
   protocol instances, and network services. YANG data models have been
   classified in [Netmod-Yang-Model-Classification] and [Service-YANG].

   [ACTN-VN] describes how customers or end to end orchestrators can
   request and/or instantiate a generic virtual network service. [ACTN-
   Applicability] describes a connection between IETF YANG model
   classifications to ACTN interfaces. In particular, it describes the
   customer service model can be mapped into the CMI (CNC-MDSC
   Interface) of the ACTN architecture.

   The YANG model on the ACTN CMI is known as customer service model in
   [Service-YANG]. [PCEP-Service-Aware] describes key network
   performance data to be considered for end-to-end path computation in
   TE networks. Key performance indicator is a term that describes
   critical performance data that may affect VN/TE service.

1.1. Terminology

1.2. Tree Structure - Legend

   A simplified graphical representation of the data model is presented
   in Section 5. of this document. The following notations are used for
   the YANG model data tree representation.

      <status> <flags> <name> <opts> <type>

        <status> is one of:
          +  for current
          x  for deprecated
          o  for obsolete

        <flags> is one of:
          rw  for read-write configuration data
          ro  for read-only non-configuration data


Lee, et al.            Expires April 30, 2018.                 [Page 3]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


          -x  for execution rpcs
          -n  for notifications

        <name> is the name of the node

         If the node is augmented into the tree from another module,
         Its name is printed as <prefix>:<name>

        <opts> is one of:
          ? for an optional leaf or node
          ! for a presence container
          * for a leaf-list or list
          Brackets [<keys>] for a list's keys
          Curly braces {<condition>} for optional feature that make
          Node conditional

          Colon : for marking case nodes
          Ellipses ("...") subtree contents not shown

          Parentheses enclose choice and case nodes, and case nodes are
          also marked with a colon (":").

        <type> is the name of the type for leafs and leaf-lists.

   1.3. Prefixes in Data Node Names

   In this document, names of data nodes and other data model objects
   are prefixed using the standard prefix associated with the
   corresponding YANG imported modules, as shown in Table 1.




      +---------+------------------------------+-----------------+
      | Prefix  | YANG module                  | Reference       |
      +---------+------------------------------+-----------------+
      | rt      | ietf-routing-types           | [Routing-Types] |
      | te      | ietf-te                      | [TE-tunnel]     |
      | te-kpi  | ietf-te-kpi-telemetry        | [This I-D]      |
      | actn-vn | ietf-actn-vn                 | [ACTN-VN]       |
      | actn-tel| ietf-actn-te-kpi-telemetry   | {This I-D]      |
      +---------+------------------------------+-----------------+

             Table 1: Prefixes and corresponding YANG modules





Lee, et al.            Expires April 30, 2018.                 [Page 4]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


2. Use-Cases

   [ACTN-PERF] describes use-cases relevant to this draft. It
   introduces the dynamic creation, modification and optimization of
   services based on the performance monitoring in the Abstraction and
   Control of Transport Networks (ACTN) architecture. Figure 1 shows a
   high-level workflows for dynamic service control based on traffic
   monitoring.

   Some of the key points from [ACTN-PERF] are as follows:

     . Network traffic monitoring is important to facilitate automatic
        discovery of the imbalance of network traffic, and initiate the
        network optimization, thus helping the network operator or the
        virtual network service provider to use the network more
        efficiently and save CAPEX/OPEX.
     . Customer services have various SLA requirements, such as
        service availability, latency, latency jitter, packet loss
        rate, BER, etc. The transport network can satisfy service
        availability and BER requirements by providing different
        protection and restoration mechanisms. However, for other
        performance parameters, there are no such mechanisms. In order
        to provide high quality services according to customer SLA, one
        possible solution is to measure the service SLA related
        performance parameters, and dynamically provision and optimize
        services based on the performance monitoring results.
     . Performance monitoring in a large scale network could generate
        a huge amount of performance information. Therefore, the
        appropriate way to deliver the information in CMI and MPI
        interfaces should be carefully considered.
















Lee, et al.            Expires April 30, 2018.                 [Page 5]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


      +-------------------------------------------+
      | CNC   +-----------------------------+     |
      |       | Dynamic Service Control APP |     |
      |       +-----------------------------+     |
      +-------------------------------------------+
      1.Traffic|  /|\4.Traffic            | /|\
      Monitor& |   | Monitor              |  | 8.Traffic
      Optimize |   | Result     5.Service |  | modify &
      Policy   |   |              modify& |  | optimize
              \|/  |        optimize Req.\|/ | result
      +------------------------------------------------+
      | MDSC       +-------------------------------+   |
      |            |Dynamic Service Control Agent |    |
      |            +-------------------------------+   |
      |      +---------------+ +-------------------+   |
      |      | Flow Optimize | | vConnection Agent |   |
      |      +---------------+ +-------------------+   |
      +------------------------------------------------+
      2. Path |   /|\3.Traffic            |  |
      Monitor |    | Monitor              |  |7.Path
      Request |    | Result      6.Path   |  | modify &
              |    |             modify&  |  | optimize
             \|/   |        optimize Req.\|/ | result
      +-------------------------------------------------------+
      | PNC +----------------------+ +----------------------+ |
      |     | Network Provisioning | |Abstract Topology Gen.| |
      |     +----------------------+ +----------------------+ |
      |     +------------------+ +--------------------+       |
      |     |Network Monitoring| |Physical Topology DB|       |
      |     +------------------+ +--------------------+       |
      +-------------------------------------------------------+

      Figure 1 Workflows for dynamic service control based on traffic
                                monitoring



3. Design of the Data Models

   The YANG models developed in this document describe two models:

   (i)   TE KPI Telemetry Model which provides the TE-Tunnel level of
          performance monitoring mechanism (See Section 4 for details)

   (ii)  ACTN TE KPI Telemetry Model which provides the VN level of the
          aggregated performance monitoring mechanism (See Section 5
          for details)


Lee, et al.            Expires April 30, 2018.                 [Page 6]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017




   The models include -

   (i)   Performance Telemetry details as measured during the last
          interval, ex delay.

   (ii)  Scaling Intent based on with TE/VN could be scaled in/out.

   [Editor's Note - Need to decide if scaling and telemetry can be in
   the same model as per the current draft.]



3.1. TE KPI Telemetry Model

   This module describes performance telemetry for TE-tunnel model. The
   telemetry data is augmented to tunnel state.  This module also
   allows autonomic traffic engineering scaling intent configuration
   mechanism on the TE-tunnel level. Various conditions can be set for
   auto-scaling based on the telemetry data.

   The TE KPI Telemetry Model augments the TE-Tunnel Model to enhance
   TE performance monitoring capability. This monitoring capability
   will facilitate proactive re-optimization and reconfiguration of TEs
   based on the performance monitoring data collected via the TE KPI
   Telemetry YANG model.



                +------------+          +--------------+
                |  TE-Tunnel |          |    TE KPI    |
                |   Model    |<---------|  Telemetry   |
                +------------+ augments |     Model    |
                                        +--------------+






3.2. ACTN TE KPI Telemetry Model

   This module describes performance telemetry for ACTN VN model. The
   telemetry data is augmented both at the VN Level as well as
   individual VN member level. This module also allows autonomic
   traffic engineering scaling intent configuration mechanism on the VN


Lee, et al.            Expires April 30, 2018.                 [Page 7]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


   level. Scale in/out criteria might be used for network autonomics in
   order the controller to react to a certain set of variations in
   monitored parameters.

   Moreover, this module also provides mechanism to define aggregated
   telemetry parameters as a grouping of underlying VN level telemetry
   parameters. Grouping operation (such as maximum, mean) could be set
   at the time of configuration. For example, if maximum grouping
   operation is used for delay at the VN level, the VN telemetry data
   is reported as the maximum {delay_vn_member_1, delay_vn_member_2,..
   delay_vn_member_N}. Thus, this telemetry abstraction mechanism
   allows the grouping of a certain common set of telemetry values
   under a grouping operation. This can be done at the VN-member level
   to suggest how the E2E telemetry be inferred from the per domain
   tunnel created and monitored by PNCs. One proposed example is the
   following:

      +------------------------------------------------------------+
      | CNC                                                        |
      |                                                            |
      +------------------------------------------------------------+

     1.CNC sets the         |   /|\   2. MDSC gets VN Telemetry
     grouping op, and       |    |
     subscribes to the      |    |    VN KPI TELEMETRY (VN Level)
     VN level telemetry for |    |    VN Utilized-bw-percentage:
     Delay and              |    |       Minimum across VN Members
     Utilized-bw-pecentage  |    |    VN Delay: Maximum across VN
                           \|/   |     Members
      +------------------------------------------------------------+
      | MDSC                                                       |
      |                                                            |
      +------------------------------------------------------------+


   The ACTN VN TE-Telemetry Model augments the basic ACTN VN model to
   enhance VN monitoring capability. This monitoring capability will
   facilitate proactive re-optimization and reconfiguration of VNs
   based on the performance monitoring data collected via the ACTN VN
   Telemetry YANG model.


                +----------+          +--------------+
                |  ACTN VN | augments |     ACTN     |
                |   Model  |<---------| TE-Telemetry |
                +----------+          |     Model    |
                                      +--------------+


Lee, et al.            Expires April 30, 2018.                 [Page 8]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017






4. Notification


   This model does not define specific notifications.  To enable
   notifications, the mechanism defined in [I-D.ietf-netconf-yang-push]
   and [I-D.ietf-netconf-rfc5277bis] can be used.  This mechanism
   currently allows the user to:

     .             Subscribe notifications on a per client basis.

     .             Specify subtree filters or xpath filters so that only interested
       contents will be sent.

     .             Specify either periodic or on-demand notifications.


4.1. YANG Push Subscription Examples

   Below example shows the way for a client to subscribe for the
   telemetry information for a particular tunnel (Tunnel1). The
   telemetry parameter that the client is interested in is the utilized
   bandwidth percentage.


   <netconf:rpc netconf:message-id="101"
       xmlns:netconf="urn:ietf:params:xml:ns:netconf:base:1.0">
       <establish-subscription
          xmlns="urn:ietf:params:xml:ns:yang:ietf-yang-push:1.0">
          <filter netconf:type="subtree">
             <te xmlns="urn:ietf:params:xml:ns:yang:ietf-te">
                <tunnels>
                   <tunnel>
                     <name>Tunnel1</name>
                     <identifier/>
                     <state>
                       <te-telemetry
   xmlns="urn:ietf:params:xml:ns:yang:ietf-te-kpi-telemetry">
                           <utilized-
   percentage/>

                        </te-telemetry>
                     </state>
                    </tunnel>


Lee, et al.            Expires April 30, 2018.                 [Page 9]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


                 </tunnels>
             </te>
          </filter>
          <period>500</period>
          <encoding>encode-xml</encoding>
       </establish-subscription>
    </netconf:rpc>


   This example shows the way for a client to subscribe for the
   telemetry information for all VNs. The telemetry parameter that the
   client is interested in is one-way delay and utilized bandwidth
   percentage.

   <netconf:rpc netconf:message-id="101"
       xmlns:netconf="urn:ietf:params:xml:ns:netconf:base:1.0">
       <establish-subscription
          xmlns="urn:ietf:params:xml:ns:yang:ietf-yang-push:1.0">
          <filter netconf:type="subtree">
             <actn-state xmlns="urn:ietf:params:xml:ns:yang:ietf-actn-
   vn">
                <vn>
                   <vn-list>
                     <vn-id/>
                     <vn-name/>
                     <vn-
   telemetry  xmlns="urn:ietf:params:xml:ns:yang:ietf-actn-te-kpi-
   telemetry">
                         <one-way-delay/>
                         <utilized-
   percentage/>

                     </vn-telemetry >
                   </vn-list>
                 </vn>
             </actn-state>
          </filter>
          <period>500</period>
       </establish-subscription>
    </netconf:rpc>


5. YANG Data Tree



module: ietf-te-kpi-telemetry


Lee, et al.            Expires April 30, 2018.                [Page 10]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


  module: ietf-te-kpi-telemetry
  augment /te:te/te:tunnels/te:tunnel/te:state:
    +--ro te-telemetry
       +--ro id?                        string
       +--ro one-way-delay?             uint32
       +--ro two-way-delay?             uint32
       +--ro one-way-delay-min?         uint32
       +--ro one-way-delay-max?         uint32
       +--ro two-way-delay-min?         uint32
       +--ro two-way-delay-max?         uint32
       +--ro one-way-delay-variation?   uint32
       +--ro two-way-delay-variation?   uint32
       +--ro one-way-packet-loss?       decimal64
       +--ro two-way-packet-loss?       decimal64
       +--ro utilized-bandwidth?        rt:bandwidth-ieee-float32
       +--ro utilized-percentage?       decimal64
       +--ro te-ref?                    -> /te:te/tunnels/tunnel/name
  augment /te:te/te:tunnels/te:tunnel:
    +--rw te-scaling-intent
       +--rw scale-in-intent
       |  +--rw threshold-time?             uint32
       |  +--rw cooldown-time?              uint32
       |  +--rw scale-in-operation-type?    scaling-criteria-operation
       |  +--rw scale-out-operation-type?   scaling-criteria-operation
       |  +--rw scaling-condition* [performance-type]
       |     +--rw performance-type           identityref
       |     +--rw te-telemetry-tunnel-ref?   -> /te:te/tunnels/tunnel/name
       +--rw scale-out-intent
          +--rw threshold-time?             uint32
          +--rw cooldown-time?              uint32
          +--rw scale-in-operation-type?    scaling-criteria-operation
          +--rw scale-out-operation-type?   scaling-criteria-operation
          +--rw scaling-condition* [performance-type]
             +--rw performance-type           identityref
             +--rw te-telemetry-tunnel-ref?   -> /te:te/tunnels/tunnel/name



module: ietf-actn-te-kpi-telemetry
  augment /actn-vn:actn/actn-vn:vn/actn-vn:vn-list:
    +--rw vn-telemetry
    |  +--rw grouping-op
    |  |  +--rw delay-op?                identityref
    |  |  +--rw delay-variation-op?      identityref
    |  |  +--rw utilized-bandwidth-op?   identityref
    |  +--ro data


Lee, et al.            Expires April 30, 2018.                [Page 11]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


    |     +--ro one-way-delay?             uint32
    |     +--ro two-way-delay?             uint32
    |     +--ro one-way-delay-min?         uint32
    |     +--ro one-way-delay-max?         uint32
    |     +--ro two-way-delay-min?         uint32
    |     +--ro two-way-delay-max?         uint32
    |     +--ro one-way-delay-variation?   uint32
    |     +--ro two-way-delay-variation?   uint32
    |     +--ro utilized-bandwidth?        te-types:te-bandwidth
    +--rw vn-scaling-intent
       +--rw scale-in
       |  +--rw scale-in-operation-type?
       |  |       scaling-criteria-operation
       |  +--rw threshold-time?            uint32
       |  +--rw scale-in-condition* [performance-type]
       |     +--rw performance-type    identityref
       |     +--rw performance-data?   binary
       +--rw scale-down
          +--rw cooldown-time?              uint32
          +--rw scale-out-operation-type?
          |       scaling-criteria-operation
          +--rw scale-out-condition* [performance-type]
             +--rw performance-type    identityref
             +--rw performance-data?   binary
  augment /actn-vn:actn/actn-vn:vn/actn-vn:vn-list/actn-vn:vn-member-list:
    +--rw vn-telemetry
       +--rw grouping-op
       |  +--rw delay-op?                identityref
       |  +--rw delay-variation-op?      identityref
       |  +--rw utilized-bandwidth-op?   identityref
       +--ro data
          +--ro one-way-delay?             uint32
          +--ro two-way-delay?             uint32
          +--ro one-way-delay-min?         uint32
          +--ro one-way-delay-max?         uint32
          +--ro two-way-delay-min?         uint32
          +--ro two-way-delay-max?         uint32
          +--ro one-way-delay-variation?   uint32
          +--ro two-way-delay-variation?   uint32
          +--ro utilized-bandwidth?        te-types:te-bandwidth

6. Yang Data Model

6.1. ietf-te-kpi-telemetry model



   The YANG code is as follows:



Lee, et al.            Expires April 30, 2018.                [Page 12]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


   <CODE BEGINS> file "ietf-te-kpi-telemetry@2017-10-25.yang"

module ietf-te-kpi-telemetry {

     namespace "urn:ietf:params:xml:ns:yang:ietf-te-kpi-telemetry";

     prefix "te-tel";


     import ietf-te {
        prefix "te";
    }

   import ietf-routing-types {
       prefix "rt";
   }

    organization
        "IETF Traffic Engineering Architecture and Signaling (TEAS)
        Working Group";

    contact
        "Editor: Young Lee <leeyoung@huawei.com>
         Editor: Dhruv Dhody <dhruv.ietf@gmail.com>
         Editor: Ricard Vilalta <ricard.vilalta@cttc.es>
         Editor: Satish Karunanithi <satish.karunanithi@gmail.com>";

    description
        "This module describes telemetry for teas tunnel model";

    revision 2017-10-25 {
        description
            "Initial revision. This YANG file defines
            the reusable base types for TE telemetry.";
        reference
            "Derived from earlier versions of base YANG files";
    }

    /*
     * Identities
     */

    identity telemetry-param-type {
        description
            "Base identity for telemetry param types";


Lee, et al.            Expires April 30, 2018.                [Page 13]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


    }

    identity one-way-delay {
        base telemetry-param-type;
        description
            "To specify average Delay in one (forward) direction";
    }

    identity two-way-delay {
        base telemetry-param-type;
        description
            "To specify average Delay in both (forward and reverse)
             directions";
    }

    identity one-way-delay-variation {
        base telemetry-param-type;
        description
            "To specify average Delay Variation in one (forward) direction";
    }

    identity two-way-delay-variation {
        base telemetry-param-type;
        description
            "To specify average Delay Variation in both (forward and reverse)
             directions";
    }

    identity one-way-packet-loss {
        base telemetry-param-type;
        description
            "To specify packet loss in one (forward) direction.";
    }

    identity two-way-packet-loss {
        base telemetry-param-type;
        description
            "To specify packet loss in in both (forward and reverse)
             directions";
    }


    identity utilized-bandwidth {
        base telemetry-param-type;
        description


Lee, et al.            Expires April 30, 2018.                [Page 14]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


            "To specify utilized bandwidth over the specified source
             and destination.";
    }

       identity utilized-bandwidth-percentage {
        base telemetry-param-type;
              description
                      "To specify utilization percentage of the entity (e.g.,
tunnel, link, etc.)";
       }
    /*
     * Enums
     */
    typedef scaling-criteria-operation {
        type enumeration {
            enum AND {
                description
                 "AND operation";
            }
            enum OR {
                description
                 "OR operation";
            }
        }
        description
         "Operations to analize list of scaling criterias";
    }



    /*
     * Groupings
     */

    grouping telemetry-delay {
     description
               "Base telemetry delay parameters";

         leaf one-way-delay {
            type uint32;
            units "microseconds";
               description
               "To specify average Delay in one (forward) direction
                during the measurement interval";
         }


Lee, et al.            Expires April 30, 2018.                [Page 15]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017



         leaf two-way-delay {
            type uint32;
            units "microseconds";
               description
               "To specify average Delay in both (forward and reverse)
                 directions during the measurement interval";
         }

         leaf one-way-delay-min {
            type uint32;
            units "microseconds";
               description
               "To specify minimum Delay in one (forward) direction
                during the measurement interval";
         }

         leaf one-way-delay-max {
            type uint32;
            units "microseconds";
               description
               "To specify maximum Delay in one (forward) direction
                during the measurement interval";
         }

         leaf two-way-delay-min {
            type uint32;
            units "microseconds";
               description
               "To specify minimum Delay in both (forward and reverse)
                 directions during the measurement interval";
         }

         leaf two-way-delay-max {
            type uint32;
            units "microseconds";
               description
               "To specify maximum Delay in both (forward and reverse)
                 directions during the measurement interval";
         }

    }


    grouping telemetry-delay-variance {


Lee, et al.            Expires April 30, 2018.                [Page 16]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017



        description
               "Base telemetry delay variance parameters";
          leaf one-way-delay-variation {
            type uint32;
            units "microseconds";
               description
               "To specify average Delay Variation in one (forward)
                direction during the measurement interval";
         }

         leaf two-way-delay-variation {
            type uint32;
            units "microseconds";
               description
                "To specify average Delay Variation in both
                 (forward and reverse) directions during the
                  measurement interval";
         }

     }


     grouping telemetry-packet-loss {

        description
               "Base telemetry packet loss parameters";
         leaf one-way-packet-loss {
            type decimal64 {
                fraction-digits 4;
                range "0.0000..100.0000";
            }
            units "percent";
               description
               "To specify packet loss in one (forward) direction.";
         }

         leaf two-way-packet-loss {
            type decimal64 {
                fraction-digits 4;
                range "0.0000..100.0000";
            }
            units "percent";
               description
               "To specify packet loss in in both (forward and reverse)


Lee, et al.            Expires April 30, 2018.                [Page 17]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


                 directions";
         }
     }


     grouping telemetry-bandwidth {
        description
               "Base telemetry bandwidth parameters";
         leaf utilized-bandwidth {
          type rt:bandwidth-ieee-float32;
                   description
                    "To specify utilized bandwidth over the specified source
                 and destination in bytes per seconds.";
            reference
                "RFC 3471";
         }
            leaf utilized-percentage {
                   type decimal64 {
             fraction-digits 4;
              range "0.0000..100.0000";

          }
          units "percent";
                   description
                        "To indicate a percentage value for utilization";
          }
     }

    grouping scaling-duration {
     description
         "Base scaling criteria durations";
     leaf threshold-time {
            type uint32;
            units "seconds";
            description
                "The duration for which the criteria must hold true";
        }

        leaf cooldown-time {
            type uint32;
            units "seconds";
            description
            "The duration after a scaling-in/scaling-out action has been
            triggered, for which there will be no further operation";
        }


Lee, et al.            Expires April 30, 2018.                [Page 18]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


    }

    grouping scaling-criteria {
        description
            "Grouping for scaling criteria";
     leaf performance-type {
               type identityref {
               base telemetry-param-type;
               }
               description
                   "Reference to the tunnel level telemetry type";
     }

     leaf te-telemetry-tunnel-ref {
            type leafref {
                path "/te:te/te:tunnels/te:tunnel/te:name";
            }
            description
                "Reference to tunnel";
        }
    }

    grouping scaling-intent {
     description
          "Basic sclaing intent";

     uses scaling-duration;

        leaf scale-in-operation-type {
            type scaling-criteria-operation;
            default AND;
            description
                "Operation to be applied to check between scaling criterias to
                check if the scale in threshold condition has been met.
                Defaults to AND";
        }

        leaf scale-out-operation-type {
            type scaling-criteria-operation;
            default OR;
            description
                "Operation to be applied to check between scaling criterias to
                check if the scale out threshold condition has been met.
                Defauls to OR";
        }


Lee, et al.            Expires April 30, 2018.                [Page 19]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017



     list scaling-condition {
          key "performance-type";
          description
               "Scaling conditions";
          uses scaling-criteria;
     }

    }


    grouping telemetry-param {

        description
               "Base telemetry parameters";
        leaf id {
            type string;
            description "Id of telemetry param";
        }
        uses telemetry-delay;

        uses telemetry-delay-variance;

        uses telemetry-packet-loss;

        uses telemetry-bandwidth;

        leaf te-ref{
            type leafref{ path '/te:te/te:tunnels/te:tunnel/te:name'; }
            description "Reference to measured te tunnel";
        }
    }

    /*
     * Augments
     */

    augment "/te:te/te:tunnels/te:tunnel/te:state" {

        description
            "Augmentation parameters for state TE tunnel topologies.";

        container te-telemetry {
          description
               "telemetry params";


Lee, et al.            Expires April 30, 2018.                [Page 20]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


          uses telemetry-param;
        }
    }


    augment "/te:te/te:tunnels/te:tunnel" {

        description
            "Augmentation parameters for config scaling-criteria
            TE tunnel topologies. Scale in/out criteria might be used
            for network autonomics in order the controller
            to react to a certain set of monitored params.";

        container te-scaling-intent {
          description
               "scaling intent";

          container scale-in-intent{
                description
                    "scale-in";
                uses scaling-intent;
            }
          container scale-out-intent{
                description
                    "scale-out";
                uses scaling-intent;
            }
        }
    }

}


<CODE ENDS>


6.2. ietf-actn-te-kpi-telemetry model

   The YANG code is as follows:



<CODE BEGINS> file "ietf-actn-te-kpi-telemetry@2017-07-03.yang"

module ietf-actn-te-kpi-telemetry {



Lee, et al.            Expires April 30, 2018.                [Page 21]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017



    namespace
      "urn:ietf:params:xml:ns:yang:ietf-actn-te-kpi-telemetry";

    prefix "actn-tel";

    import ietf-actn-vn {
        prefix "actn-vn";
    }

    import ietf-te-kpi-telemetry {
        prefix "te-kpi";
    }

    organization
        "IETF Traffic Engineering Architecture and Signaling (TEAS)
        Working Group";

    contact
        "Editor: Young Lee <leeyoung@huawei.com>
         Editor: Dhruv Dhody <dhruv.ietf@gmail.com>
         Editor: Ricard Vilalta <ricard.vilalta@cttc.es>
         Editor: Satish Karunanithi <satish.karunanithi@gmail.com>";

    description
        "This module describes telemetry for actn vn model";

    revision 2017-07-03 {
        description
            "Initial revision. This YANG file defines
            the reusable base types for ACTN VN telemetry.";
        reference
            "xxx";
    }

    /*
     * Identities
     */

    identity grouping-operation {
        description "Base identity for operations to analize list of monitored param";
    }

    identity minimum-grouping-operation {
        base grouping-operation;
        description
            "Select the minimum param";
    }




Lee, et al.            Expires April 30, 2018.                [Page 22]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


    identity maximum-grouping-operation {
        base grouping-operation;
        description
            "Select the maximum param";
    }

    identity mean-grouping-operation {
        base grouping-operation;
        description
            "Select the MEAN of the params";
    }

    identity stddev-grouping-operation {
        base grouping-operation;
        description
            "Select the STD deviation of the params";
    }

    identity sum-grouping-operation {
        base grouping-operation;
        description
            "Select the sum of the params";
       reference
            "RFC 7823";
    }

    /*
     * Groupings
     */
    grouping vn-telemetry-param {
        description
            "telemetry-parameter for VN";
        uses te-kpi:telemetry-param;
    }
    grouping telemetry-grouping-op {
        description
            "Config how the VN telemetry should be applied";
        container grouping-op {
            description
                "The grouping operations";
            leaf delay-op {
                type identityref {
                  base grouping-operation;
                }
                default maximum-grouping-operation;
                description
                    "The operation that should be applied on the
                     VN-member telemetry to get the VN telemetry";
            }



Lee, et al.            Expires April 30, 2018.                [Page 23]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017



            leaf delay-variation-op {
                type identityref {
                  base grouping-operation;
                }
                default maximum-grouping-operation;
                description
                    "The operation that should be applied on the
                     VN-member telemetry to get the VN telemetry";
            }

            leaf utilized-bandwidth-op {
                type identityref {
                  base grouping-operation;
                }
                default maximum-grouping-operation;
                description
                    "The operation that should be applied on the
                     VN-member telemetry to get the VN telemetry";
            }
        }

    }

    /*
     * Augments
     */
    augment "/actn-vn:actn/actn-vn:vn/actn-vn:vn-list" {

        description
            "Augmentation parameters for state TE VN topologies.";

        container vn-telemetry {
          description
            "VN telemetry configurations";
            uses telemetry-grouping-op;
            uses vn-telemetry-param;
        }
        container vn-scaling-intent {
            description
                "scaling intent";
            uses te-kpi:scaling-intent;
        }
    }

    /*
     * VN-member augment
     */
    augment "/actn-vn:actn/actn-vn:vn/actn-vn:vn-list/" +



Lee, et al.            Expires April 30, 2018.                [Page 24]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


            "actn-vn:vn-member-list" {
        description
            "Augmentation parameters for state TE vn member
            topologies.";
        container vn-telemetry {
            description
                "VN Member config";
            uses telemetry-grouping-op;
            uses vn-telemetry-param;
        }
    }
}

<CODE ENDS>


7. Security Considerations

   The configuration, state, and action data defined in this document
   are designed to be accessed via a management protocol with a secure
   transport layer, such as NETCONF [RFC6241].  The NETCONF access
   control model [RFC6536] provides the means to restrict access for
   particular NETCONF users to a preconfigured subset of all available
   NETCONF protocol operations and content.

   A number of configuration data nodes defined in this document are
   writable/deletable (i.e., "config true") These data nodes may be
   considered sensitive or vulnerable in some network environments.

8. IANA Considerations

   TDB

9. Acknowledgements

10. References

10.1. Informative References



   [RFC4110] R. Callon and M. Suzuki, "A Framework for Layer 3
             Provider-Provisioned Virtual Private Networks (PPVPNs)",
             RFC 4110, July 2005.




Lee, et al.            Expires April 30, 2018.                [Page 25]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


   [RFC6020] M. Bjorklund, Ed., "YANG - A Data Modeling Language for
             the Network Configuration Protocol (NETCONF)", RFC 6020,
             October 2010.

   [Service-YANG] Q. Wu, W. Liu and A. Farrel, "Service Models
             Explained", draft-wu-opsawg-service-model-explained, work
             in progress.

   [Netmod-Yang-Model-Classification] D. Bogdanovic, B. Claise, and C.
             Moberg, "YANG Module Classification", draft-ietf-netmod-
             yang-model-classification, work in progress.

   [Netconf] Enns, R., Ed., Bjorklund, M., Ed., Schoenwaelder, J., Ed.,
             and A. Bierman, Ed., "Network Configuration Protocol
             (NETCONF)", RFC 6241.

   [Restconf] A. Bierman, M. Bjorklund, and K. Watsen, "RESTCONF
             Protocol", draft-ietf-netconf-restconf, work in progress.

   [Routing-Types] X. Liu, et al, "Routing Area Common YANG Data
             Types", draft-ietf-rtgwg-routing-types, work in progress.

10.2. Normative References



   [ACTN-Frame] D. Cecarelli and Y. Lee, "Framework for Abstraction and
             Control of Traffic Engineered Networks", draft-ietf-teas-
             actn-framework, work in progress.

   [TE-Topology] X. Liu, et al., "YANG Data Model for TE Topologies",
             draft-ietf-teas-yang-te-topo, work in progress.

   [TE-Tunnel] T. Saad (Editor), "A YANG Data Model for Traffic
             Engineering Tunnels and Interfaces", draft-ietf-teas-yang-
             te, work in progress.

   [ACTN-VN] Y. Lee (Editor), "A Yang Data Model for ACTN VN
             Operation", draft-lee-teas-actn-vn-yang, work in progress.

   [L3SM-YANG] S. Litkowski, L.Tomotaki, and K. Ogaki, "YANG Data Model
             for L3VPN service delivery", draft-ietf-l3sm-l3vpn-
             service-model, work in progress.






Lee, et al.            Expires April 30, 2018.                [Page 26]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017


   [PCEP-Service-Aware] D. Dhody, et al., "Extensions to the Path
             Computation Element Communication Protocol (PCEP) to
             compute service aware Label Switched Path (LSP)", draft-
             ietf-pce-pcep-service-aware, work in progress.

   [ACTN-PERF] Y. XU, et al., "Use Cases and Requirements of Dynamic
             Service Control based on Performance Monitoring in ACTN
             Architecture", draft-xu-actn-perf-dynamic-service-control-
             03, work in progress.





11. Contributors


Authors' Addresses

   Young Lee
   Huawei Technologies
   5340 Legacy Drive Suite 173
   Plano, TX 75024, USA

   Email: leeyoung@huawei.com

   Dhruv Dhody
   Huawei Technology
   Leela Palace
   Bangalore, Karnataka 560008
   India

   Email: dhruv.dhody@huawei.com

   Satish Karunanithi
   Huawei Technology
   Leela Palace
   Bangalore, Karnataka 560008
   India

   Email: satish.karunanithi@gmail.com






Lee, et al.            Expires April 30, 2018.                [Page 27]

Internet-Draft  ACTN PM Telemetry & Network Autonomics     October 2017



   Ricard Vilalta
   Centre Tecnologic de Telecomunicacions de Catalunya (CTTC/CERCA)
   Av. Carl Friedrich Gauss 7
   08860 - Castelldefels
   Barcelona (Spain)
   Email: ricard.vilalta@cttc.es



   Daniel King
   Lancaster University

   Email: d.king@lancaster.ac.uk


   Daniele Ceccarelli
   Ericsson
   Torshamnsgatan,48
   Stockholm, Sweden

   Email: daniele.ceccarelli@ericsson.com

























Lee, et al.            Expires April 30, 2018.                [Page 28]

