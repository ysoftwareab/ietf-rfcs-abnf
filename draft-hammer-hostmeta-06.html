<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>host-meta: Web Host Metadata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="host-meta: Web Host Metadata">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">E. Hammer-Lahav</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Yahoo!</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">April 30, 2010</td></tr>
<tr><td class="header">Expires: November 1, 2010</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />host-meta: Web Host Metadata<br />draft-hammer-hostmeta-06</h1>

<h3>Abstract</h3>

<p>
        This memo describes a method for locating host metadata for Web-based protocols.
      
</p>
<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted  in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF).  Note that other groups may also distribute
working documents as Internet-Drafts.  The list of current
Internet-Drafts is at http://datatracker.ietf.org/drafts/current/.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
This Internet-Draft will expire on November 1, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2010 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents
(http://trustee.ietf.org/license-info) in effect on the date of
publication of this document.  Please review these documents
carefully, as they describe your rights and restrictions with respect
to this document. Code Components extracted from this document must
include Simplified BSD License text as described in Section 4.e of
the Trust Legal Provisions and are provided without warranty as
described in the Simplified BSD License.</p>
<a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Example<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ns">1.2.</a>&nbsp;
Namespace and Version<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">1.3.</a>&nbsp;
Notational Conventions<br />
<a href="#anchor4">2.</a>&nbsp;
Metadata Scope<br />
<a href="#anchor5">3.</a>&nbsp;
The host-meta Document Format<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Host element">3.1.</a>&nbsp;
The 'hm:Host' Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Link element">3.2.</a>&nbsp;
The 'Link' Element<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#template_syntax">3.2.1.</a>&nbsp;
Template Syntax<br />
<a href="#obtain">4.</a>&nbsp;
Obtaining host-meta Documents<br />
<a href="#Security">5.</a>&nbsp;
Security Considerations<br />
<a href="#anchor6">6.</a>&nbsp;
IANA Considerations<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">6.1.</a>&nbsp;
The host-meta Well-Known URI<br />
<a href="#anchor8">Appendix&nbsp;A.</a>&nbsp;
Acknowledgments<br />
<a href="#anchor9">Appendix&nbsp;B.</a>&nbsp;
Document History<br />
<a href="#rfc.references1">7.</a>&nbsp;
Normative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
        Web-based protocols often require the discovery of host policy or metadata, where host is
        not a single resource but the entity controlling the collection of resources identified by
        URIs with a common host as defined by <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>. While these protocols have
        a wide range of metadata needs, they often define metadata that is concise, has simple
        syntax requirements, and can benefit from storing its metadata in a common location used by
        other related protocols.
      
</p>
<p>
        Because there is no URI or resource available to describe a host, many of the methods
        used for associating per-resource metadata (such as HTTP headers) are not available. This
        often leads to the overloading of the root HTTP resource (e.g. 'http://example.com/') with
        host metadata that is not specific to the root resource, and often has nothing to do it.
      
</p>
<p>
        This memo registers the "well-known" URI suffix <tt>host-meta</tt> in
        the Well-Known URI Registry established by <a class='info' href='#RFC5785'>[RFC5785]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;Defining Well-Known Uniform Resource Identifiers (URIs),&rdquo; April&nbsp;2010.</span><span>)</span></a>, and specifies a
        simple, general-purpose metadata document for hosts, to be used by multiple Web-based
        protocols.
      
</p>
<p>
        [[ Please discuss this draft on the
        <a href='https://www.ietf.org/mailman/listinfo/apps-discuss'>apps-discuss@ietf.org</a>
        mailing list. ]]
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Example</h3>

<p>
          A simple host-meta document for the 'example.com' and 'www.example.com' hosts with a link
          providing host-wide copyright information and a link template providing a URI for obtaining
          resource-specific author information for each resource within the host-meta document scope:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    &lt;?xml version='1.0' encoding='UTF-8'?&gt;
    &lt;XRD xmlns='http://docs.oasis-open.org/ns/xri/xrd-1.0'
         xmlns:hm='http://host-meta.net/ns/1.0'&gt;

        &lt;hm:Host&gt;example.com&lt;/hm:Host&gt;
        &lt;hm:Host&gt;www.example.com&lt;/hm:Host&gt;

        &lt;Link rel='license'
              href='http://example.com/license'&gt;
            &lt;Title xml:lang='en-us'&gt;Site License Policy&lt;/Title&gt;
        &lt;/Link&gt;
        &lt;Link rel='author'
              template='http://meta.example.com?uri={uri}'&gt;
            &lt;Title xml:lang='en-us'&gt;Author Profile&lt;/Title&gt;
        &lt;/Link&gt;
    &lt;/XRD&gt;
</pre></div>
<a name="ns"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Namespace and Version</h3>

<p>
          The host-meta document uses the XRD 1.0 XML namespace URI <a class='info' href='#W3C.REC-xml-names-19990114'>[W3C.REC&#8209;xml&#8209;names&#8209;19990114]<span> (</span><span class='info'>Hollander, D., Layman, A., and T. Bray, &ldquo;Namespaces in XML,&rdquo; January&nbsp;1999.</span><span>)</span></a>:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    http://docs.oasis-open.org/ns/xri/xrd-1.0
</pre></div>
<p>
        The XML namespace URI for the host-meta specific extension elements defined in this
        specification is:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    http://host-meta.net/ns/1.0
</pre></div>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Notational Conventions</h3>

<p>
          The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
          "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in
          <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
        
</p>
<p>
          This specification uses the namespace prefix <tt>hm:</tt> for the
          extension Namespace URI identified in <a class='info' href='#ns'>Section&nbsp;1.2<span> (</span><span class='info'>Namespace and Version</span><span>)</span></a>. Note that the choice of
          namespace prefix is arbitrary and not semantically significant. Element names without a
          namespace prefix belong to the XRD 1.0 XML namespace identified in <a class='info' href='#ns'>Section&nbsp;1.2<span> (</span><span class='info'>Namespace and Version</span><span>)</span></a>.
        
</p>
<p>
          This document uses the Augmented Backus-Naur Form (ABNF) notation of <a class='info' href='#RFC5234'>[RFC5234]<span> (</span><span class='info'>Crocker, D. and P. Overell, &ldquo;Augmented BNF for Syntax Specifications: ABNF,&rdquo; January&nbsp;2008.</span><span>)</span></a>.
          Additionally, the following rules are included from <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>: reserved,
          unreserved, and host.
        
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Metadata Scope</h3>

<p>
        Each host-meta document describes one or more hosts. The scope MUST be expressed explicitly
        within the document using the <tt>hm:Host</tt> element as described in
        <a class='info' href='#Host element'>Section&nbsp;3.1<span> (</span><span class='info'>The 'hm:Host' Element</span><span>)</span></a>. The host-meta scope does not apply to any other hostname
        (or sub-domain) not explicitly declared. For example, 'example.net', 'example.com', and
        'www.example.com' all have different and non-overlapping scopes.
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
The host-meta Document Format</h3>

<p>
        The host-meta document uses the XRD 1.0 document format as defined by
        <a class='info' href='#OASIS.XRD-1.0'>[OASIS.XRD&#8209;1.0]<span> (</span><span class='info'>Hammer-Lahav, E. and W. Norris, &ldquo;Extensible Resource Descriptor (XRD) Version 1.0 (work in progress),&rdquo; .</span><span>)</span></a>, which provides a simple and extensible XML-based schema
        for describing resources. This memo defines additional elements and processing rules needed
        to describe hosts. Documents MAY include any XRD element not explicitly excluded.
      
</p>
<p>
        The host-meta document root MUST be an <tt>XRD</tt> element. The
        document SHOULD NOT include a <tt>Subject</tt> element, as at this time
        no URI is available to identify hosts. The use of the <tt>Alias</tt>
        element in host-meta is undefined and NOT RECOMMENDED.
      
</p>
<p>
        This memo defines the <tt>hm:Host</tt> element for declaring document
        scope. The subject (or "context resource" as defined by
        <a class='info' href='#I-D.nottingham-http-link-header'>[I&#8209;D.nottingham&#8209;http&#8209;link&#8209;header]<span> (</span><span class='info'>Nottingham, M., &ldquo;Web Linking,&rdquo; July&nbsp;2009.</span><span>)</span></a>) of the XRD
        <tt>Property</tt> and <tt>Link</tt> elements are the
        hosts included in the document scope, with the exception of
        <tt>Link</tt> elements with a <tt>template</tt>
        attribute for which the subject are the individual resources included in the document scope
        as described in <a class='info' href='#Link element'>Section&nbsp;3.2<span> (</span><span class='info'>The 'Link' Element</span><span>)</span></a>.
      
</p>
<a name="Host element"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
The 'hm:Host' Element</h3>

<p>
          The 'hm:Host" element is used to declare the scope of the host-meta document and
          is defined as a child element of the root <tt>XRD</tt> element. The
          parent <tt>XRD</tt> element MUST include one but MAY include more
          <tt>hm:Host</tt> elements (order does not matter). If a host-meta
          document includes more than one <tt>hm:Host</tt> element, it does not
          signify any relationship between the individual hosts other than sharing the same
          metadata included in the document.
        
</p>
<p>
            The element value syntax ABNF:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    Host-Element-Value  =  host
</pre></div>
<a name="Link element"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
The 'Link' Element</h3>

<p>
          The XRD <tt>Link</tt> element, when used with the
          <tt>href</tt> attribute, conveys a link relation between the hosts
          described by the document and a common target URI.
        
</p>
<p>
            For example, the following link declares a common author for the entire scope:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    &lt;Link rel='author' href='http://example.com/author' /&gt;
</pre></div>
<p>
          However, a <tt>Link</tt> element with a
          <tt>template</tt> attribute conveys relations whose context are the
          individual resources within the host-meta document scope, and whose target is constructed
          by applying each context resource URI to the template. The template string MAY contain a URI
          string without any variables to represent a resource-level relation that is identical for
          every individual resource.
        
</p>
<p>
            For example, a blog with multiple authors can provide information about each article's
            author by providing an endpoint with a parameter set to the URI of each article. Each
            article has a unique author, but all share the same pattern of where that information
            is located:
          
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    &lt;Link rel='author' template='http://example.com?author={uri}' /&gt;
</pre></div>
<a name="template_syntax"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
Template Syntax</h3>

<p>
            This memo defines a simple template syntax for URI transformation. A template is a
            string containing brace-enclosed ("{}") variable names marking the parts of the string
            that are to be substituted by the corresponding variable values.
          
</p>
<p>
            Before substituting template variables, any value character other than unreserved (as
            defined by <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>) MUST be percent-encoded per
            <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a>.
          
</p>
<p>
            This memo defines a single variable - <tt>uri</tt> - as the entire
            context resource URI. Protocols MAY define additional relation-specific variables and
            syntax rules, but SHOULD only do so for protocol-specific relation types, and MUST NOT
            change the meaning of the <tt>uri</tt> variable. If a client is
            unable to successfully process a template (e.g. unknown variable names, unknown or
            incompatible syntax) the parent <tt>Link</tt> element SHOULD be
            ignored.
          
</p>
<p>
              The template syntax ABNF:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    URI-Template  =  *( uri-char | variable )
    variable      =  "{" var-name "}"
    uri-char      =  ( reserved | unreserved )
    var-name      =  "uri" | ( 1*var-char )
    var-char      =  ALPHA / DIGIT / "." / "_"
</pre></div>
<p>
              For example:
            
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    Input:    http://example.com/r?f=1
    Template: http://example.org?q={uri}
    Output:   http://example.org?q=http%3A%2F%2Fexample.com%2Fr%3Ff%3D1
</pre></div>
<a name="obtain"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Obtaining host-meta Documents</h3>

<p>
        Clients obtain the host-meta document for a given host by making an
        HTTPS <a class='info' href='#RFC2818'>[RFC2818]<span> (</span><span class='info'>Rescorla, E., &ldquo;HTTP Over TLS,&rdquo; May&nbsp;2000.</span><span>)</span></a> GET request to the host's port 443 for the
        <tt>/.well-known/host-meta</tt> path. If the request fails to produce a
        valid host-meta document, clients make an HTTP <a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> GET request
        to the host's port 80 for the <tt>/.well-known/host-meta</tt> path.
      
</p>
<p>
        Servers MUST support at least one but SHOULD support both ports. If both ports are
        supported, they MUST serve the same document. Clients MAY attempt to obtain the host-meta
        document from either port, SHOULD attempt using port 443 first, and SHOULD attempt the
        other port if the first fails.
      
</p>
<p>
          For example, the following request is used to obtain the host-meta document for the
          'example.com' host:
        
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    GET /.well-known/host-meta HTTP/1.1
    Host: example.com
</pre></div>
<p>
        If a representation is successfully obtained, but is not in the format described above,
        clients should infer that the path is being used for other purposes, and not process the
        response as a host-meta document. To aid in this process, authorities using this mechanism
        SHOULD correctly label host-meta responses with the
        <tt>application/xrd+xml</tt> internet media type.
      
</p>
<p>
        If the server response indicates that the host-meta resource is located elsewhere (a 301,
        302, or 307 response status codes), the client SHOULD try to obtain the resource from the
        location provided in the response. This means that the host-meta document for one host
        MAY be retrieved from a another host. Likewise, if the resource is not available or does
        not exist (indicated respectively, by the 404 and 410 response status codes) at both ports,
        the client should infer that metadata is not available via this mechanism.
      
</p>
<p>
        The scope declared within the host-meta document MUST match the desired host. Clients
        MUST NOT use host-meta documents when the desired host (used to obtain the document) is not
        listed in the document.
      
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Security Considerations</h3>

<p>
        The metadata returned by the host-meta resource is presumed to be under the control of the
        appropriate authority and representative of all the resources described by it. If this
        resource is compromised or otherwise under the control of another party, it may represent a
        risk to the security of the server and data served by it, depending on what protocols use it.
      
</p>
<p>
        The host-meta scope is explicitly declared by the <tt>hm:Host</tt>
        elements listed in the document. Clients SHOULD evaluate the authority of a host-meta
        document obtained from one host to describe another host. Protocols that change the scope
        from the one declared in the document without careful consideration can incur security
        risks.
      
</p>
<p>
        Protocols using host-meta templates SHOULD evaluate the construction of their templates as
        well as any protocol-specific variables or syntax to ensure that the templates cannot be
        abused by an attacker. For example, a client can be tricked into following a malicious link
        due to a poorly constructed template which produces unexpected results when its variable
        values contain unexpected characters.
      
</p>
<p>
        Protocols MAY restrict document retrieval to HTTPS based on their security needs.
        Protocols utilizing host-meta documents obtained via other methods not described in this
        memo SHOULD consider the security and authority risks associated with such methods.
      
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
IANA Considerations</h3>

<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6.1"></a><h3>6.1.&nbsp;
The host-meta Well-Known URI</h3>

<p>
          This memo registers the 'host-meta' well-known URI in the Well-Known URI Registry as
          defined by <a class='info' href='#RFC5785'>[RFC5785]<span> (</span><span class='info'>Nottingham, M. and E. Hammer-Lahav, &ldquo;Defining Well-Known Uniform Resource Identifiers (URIs),&rdquo; April&nbsp;2010.</span><span>)</span></a>.

          </p>
<blockquote class="text"><dl>
<dt>URI suffix:</dt>
<dd>
              host-meta
            
</dd>
<dt>Change controller:</dt>
<dd>
              IETF
            
</dd>
<dt>Specification document(s):</dt>
<dd>
              [[ this document ]]
            
</dd>
<dt>Related information:</dt>
<dd>
              None
            
</dd>
</dl></blockquote><p>
        
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgments</h3>

<p>
        The author would like to acknowledge the contributions of everyone who
        provided feedback and use cases for this memo; in particular, Dirk Balfanz, DeWitt Clinton,
        Blaine Cook, Eve Maler, Breno de Medeiros, Brad Fitzpatrick, James Manger, Will Norris,
        Mark Nottingham, John Panzer, and Drummond Reed.
      
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Document History</h3>

<p>
        [[ to be removed by the RFC editor before publication as an RFC ]]
      
</p>
<p>
        -06

        </p>
<ul class="text">
<li>
            Updated well-known reference to RFC 5785.
          
</li>
<li>
            Minor editorial changes.
          
</li>
<li>
            Made HTTPS a higher priority (SHOULD) over HTTP.
          
</li>
</ul><p>
      
</p>
<p>
        -05

        </p>
<ul class="text">
<li>
            Adjusted syntax to the latest XRD schema.
          
</li>
<li>
            Added note about using a link template without variables.
          
</li>
</ul><p>
      
</p>
<p>
        -04
        
        </p>
<ul class="text">
<li>
            Corrected the &lt;hm:Host&gt; example.
          
</li>
</ul><p>
      
</p>
<p>
        -03

        </p>
<ul class="text">
<li>
            Changed scope to an entire host (per RFC 3986).
          
</li>
<li>
            Simplified template syntax to always percent-encode values and vocabulary to a single 'uri' variable.
          
</li>
<li>
            Changed document retrieval to always use HTTP(S).
          
</li>
<li>
            Added security consideration about the use of templates.
          
</li>
<li>
            Explicitly defined the root element to be 'XRD'.
          
</li>
</ul><p>
      
</p>
<p>
        -02
        
        </p>
<ul class="text">
<li>
            Changed Scope element syntax from attributes to URI-like string value.
          
</li>
</ul><p>
      
</p>
<p>
        -01

        </p>
<ul class="text">
<li>
            Editorial rewrite.
          
</li>
<li>
            Redefined scope as a scheme-authority pair.
          
</li>
<li>
            Added document structure section.
          
</li>
</ul><p>
      
</p>
<p>
        -00

        </p>
<ul class="text">
<li>
            Initial draft.
          
</li>
</ul><p>
      
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.nottingham-http-link-header">[I-D.nottingham-http-link-header]</a></td>
<td class="author-text">Nottingham, M., &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-nottingham-http-link-header-06.txt">Web Linking</a>,&rdquo; draft-nottingham-http-link-header-06 (work in progress), July&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-nottingham-http-link-header-06.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="OASIS.XRD-1.0">[OASIS.XRD-1.0]</a></td>
<td class="author-text">Hammer-Lahav, E. and W. Norris, &ldquo;<a href="http://www.oasis-open.org/committees/download.php/35274/xrd-1.0-wd10.html">Extensible Resource Descriptor (XRD) Version 1.0 (work in progress)</a>&rdquo; (<a href="http://www.oasis-open.org/committees/download.php/34925/xrd-1.0-cd01.html">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text"><a href="mailto:fielding@ics.uci.edu">Fielding, R.</a>, <a href="mailto:jg@w3.org">Gettys, J.</a>, <a href="mailto:mogul@wrl.dec.com">Mogul, J.</a>, <a href="mailto:frystyk@w3.org">Frystyk, H.</a>, <a href="mailto:masinter@parc.xerox.com">Masinter, L.</a>, <a href="mailto:paulle@microsoft.com">Leach, P.</a>, and <a href="mailto:timbl@w3.org">T. Berners-Lee</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999 (<a href="http://www.rfc-editor.org/rfc/rfc2616.txt">TXT</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.ps">PS</a>, <a href="http://www.rfc-editor.org/rfc/rfc2616.pdf">PDF</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2616.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2616.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2818">[RFC2818]</a></td>
<td class="author-text">Rescorla, E., &ldquo;<a href="http://tools.ietf.org/html/rfc2818">HTTP Over TLS</a>,&rdquo; RFC&nbsp;2818, May&nbsp;2000 (<a href="http://www.rfc-editor.org/rfc/rfc2818.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5234">[RFC5234]</a></td>
<td class="author-text">Crocker, D. and P. Overell, &ldquo;<a href="http://tools.ietf.org/html/rfc5234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; STD&nbsp;68, RFC&nbsp;5234, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5234.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5785">[RFC5785]</a></td>
<td class="author-text">Nottingham, M. and E. Hammer-Lahav, &ldquo;<a href="http://tools.ietf.org/html/rfc5785">Defining Well-Known Uniform Resource Identifiers (URIs)</a>,&rdquo; RFC&nbsp;5785, April&nbsp;2010 (<a href="http://www.rfc-editor.org/rfc/rfc5785.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-P3P-20020416">[W3C.REC-P3P-20020416]</a></td>
<td class="author-text">Marchiori, M., &ldquo;<a href="http://www.w3.org/TR/2002/REC-P3P-20020416">The Platform for Privacy Preferences 1.0 (P3P1.0)
Specification</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-P3P-20020416, April&nbsp;2002 (<a href="http://www.w3.org/TR/2002/REC-P3P-20020416">HTML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xml-names-19990114">[W3C.REC-xml-names-19990114]</a></td>
<td class="author-text">Hollander, D., Layman, A., and T. Bray, &ldquo;<a href="http://www.w3.org/TR/1999/REC-xml-names-19990114">Namespaces in XML</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xml-names-19990114, January&nbsp;1999 (<a href="http://www.w3.org/TR/1999/REC-xml-names-19990114">HTML</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Eran Hammer-Lahav</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yahoo!</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:eran@hueniverse.com">eran@hueniverse.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://hueniverse.com">http://hueniverse.com</a></td></tr>
</table>
</body></html>
