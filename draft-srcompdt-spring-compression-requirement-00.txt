



SPRING                                                          W. Cheng
Internet-Draft                                              China Mobile
Intended status: Informational                               S. Steffann
Expires: May 3, 2021                            SJM Steffann Consultancy
                                                        October 30, 2020


                 Compressed SRv6 SID List Requirements
          draft-srcompdt-spring-compression-requirement-00

Abstract

   This document specifies requirements for solutions to compress SRv6
   SID lists.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on May 3, 2021.

Copyright Notice

   Copyright (c) 2020 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.





Cheng & Steffann           Expires May 3, 2021                  [Page 1]

Internet-Draft             SRCOMP Requirements              October 2020


Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Conventions used in this document . . . . . . . . . . . . . .   3
     2.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3
     2.2.  Terminology . . . . . . . . . . . . . . . . . . . . . . .   3
   3.  SRv6 SID List Compression Requirements  . . . . . . . . . . .   4
     3.1.  Dataplane Efficiency and Performance Requirements . . . .   4
       3.1.1.  Encapsulation Header Size . . . . . . . . . . . . . .   4
       3.1.2.  Forwarding Efficiency . . . . . . . . . . . . . . . .   4
       3.1.3.  State Efficiency  . . . . . . . . . . . . . . . . . .   5
   4.  SRv6 Specific Requirements  . . . . . . . . . . . . . . . . .   5
     4.1.  Functional Requirements . . . . . . . . . . . . . . . . .   5
       4.1.1.  SRv6 Based  . . . . . . . . . . . . . . . . . . . . .   5
       4.1.2.  SRv6 Functionality  . . . . . . . . . . . . . . . . .   5
       4.1.3.  SID list length . . . . . . . . . . . . . . . . . . .   5
       4.1.4.  SID summarization . . . . . . . . . . . . . . . . . .   6
       4.1.5.  Heterogeneous SID lists . . . . . . . . . . . . . . .   6
     4.2.  Operational Requirements  . . . . . . . . . . . . . . . .   6
       4.2.1.  Lossless Compression  . . . . . . . . . . . . . . . .   6
     4.3.  Scalability Requirements  . . . . . . . . . . . . . . . .   6
   5.  Protocol Design Requirements  . . . . . . . . . . . . . . . .   6
     5.1.  Ships in the Night Deployment . . . . . . . . . . . . . .   7
   6.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   7
   7.  Security Considerations . . . . . . . . . . . . . . . . . . .   7
   8.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .   7
   9.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   8
   10. Normative References  . . . . . . . . . . . . . . . . . . . .   8
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   9

1.  Introduction

   The SPRING working group defined SRv6, with [RFC8402] describing how
   the Segment Routing (SR) architecture is instantiated on two data-
   planes: SR over MPLS (SR-MPLS) and SR over IPv6 (SRv6).  SRv6 uses a
   routing header called the SR Header (SRH) [RFC8754], and defines SRv6
   SID behaviors and a registry for identifying them in
   [I-D.ietf-spring-srv6-network-programming].  SRv6 is a proposed
   standard and is deployed today.

   The SPRING working group has observed that some use cases, such as
   strict path TE, may require long SRv6 SID lists.  There are several
   proposed methods to reduce the resulting SRv6 encapsulation size by
   compressing the SID list.

   The SPRING working group formed a design team to define requirements
   for, and analyze, proposals to compress SRv6 SID lists.




Cheng & Steffann           Expires May 3, 2021                  [Page 2]

Internet-Draft             SRCOMP Requirements              October 2020


   It is a goal of the design team to identify the solutions to SR over
   IPv6 list compression.

   In each category, the requirements are described under several sub-
   categories including

   o  Efficiency and performance

   o  Functional requirements

   o  Operational requirements

   o  Scalability requirements

   o  Convergence requirements

   o  Security requirements

   For each requirement, a description, rationale and metrics are
   described.

   The design team will produce a separate document to analyze the
   proposals.

2.  Conventions used in this document

2.1.  Requirements Language

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in BCP
   14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

2.2.  Terminology

   SR: Segment Routing

   SRH: Segment Routing Header

   MPLS: Multiprotocol Label Switching

   SR-MPLS: Segment Routing over MPLS data plane

   SID: Segment Identifier

   SRv6: Segment Routing over IPv6




Cheng & Steffann           Expires May 3, 2021                  [Page 3]

Internet-Draft             SRCOMP Requirements              October 2020


   SRv6 SID List: A list of SRv6 SIDs

   Compression proposal: A proposal to compress SRv6 SID lists

   SRv6 base: SRv6 as defined in [RFC8402], [RFC8754],
   [I-D.ietf-spring-srv6-network-programming]

3.  SRv6 SID List Compression Requirements

3.1.  Dataplane Efficiency and Performance Requirements

3.1.1.  Encapsulation Header Size

   Description: The compression solution MUST reduce the size of the
   SRv6 encapsulation header.

   Rationale: A smaller SRv6 encapsulation results in better MTU
   efficiency.

   Metric: Compression is the ratio of the IPv6 encapsulation size of
   SRv6 as defined in [RFC8402], [RFC8754],
   [I-D.ietf-spring-srv6-network-programming] vs the IPv6 encapsulation
   size of a given proposal.  The encapsulation savings of a compression
   proposal vs the SRv6 base is a useful measurement to compare
   proposals.

   The encapsulation metric (E) records the number of bytes required for
   a proposal to encapsulate a packet given a specific segment list.

   o  E(proposal, segment list).

   The encapsulation savings(ES)records the encapsulation savings for a
   proposal to encapsulate a packet given a specific segment list.

   o  ES(proposal, segment list) = 1 - E(proposal, segment list)/E(SRv6
      base, segment list).

3.1.2.  Forwarding Efficiency

   Description:The compression solution SHOULD minimize the number of
   required hardware resources accessed to process a segment.

   Rational:Efficiency in bits on the wire and processing efficiency are
   both important.  Optimizing one at the expense of the other may lead
   to significant performance impact.






Cheng & Steffann           Expires May 3, 2021                  [Page 4]

Internet-Draft             SRCOMP Requirements              October 2020


   Metric:The data plane efficiency metric (D) records the data plane
   forwarding efficiency of the proposed solution.  Two metrics are used
   and recorded at the each segment endpoint:

   o  D.PRS(segment list): number of headers parsed during processing of
      the segment list.

   o  D.LKU(segment list): number of FIB lookups during processing of
      the segment list.  The type of lookup is also recorded as longest
      prefix match (LPM) or exact match (EM)

3.1.3.  State Efficiency

   Description:The compression solution SHOULD minimize the amount of
   additional forwarding statestored at a node

   Rational: Additional state increases the complexity of the control
   plane and data plane.  It can also result in an increase in memory
   usage.

   Metric:The state efficiency metric (S) records the amount of
   additional forwarding state required by the proposed solution.

   o  S(node parameters): the number of additional forwarding states
      that need to be stored at a node, given a set of node parameters
      consisting of number of nodes in the network, number of local
      interface, number of adjacencies.  The forwarding state is counted
      as entries required in a Forwarding Information Base (FIB) at a
      node.

4.  SRv6 Specific Requirements

4.1.  Functional Requirements

4.1.1.  SRv6 Based

   TBD

4.1.2.  SRv6 Functionality

   TBD

4.1.3.  SID list length

   Description: The compression mechanism must be able to represent SR
   paths that contain up to 16 segments.





Cheng & Steffann           Expires May 3, 2021                  [Page 5]

Internet-Draft             SRCOMP Requirements              October 2020


   Rationale: Strict TE paths require SID list lengths proportional to
   the diameter of the SR domain.

   Metric: The compression mechanism must be able steer a packet through
   an SR path that contains up to sixteen segments.

4.1.4.  SID summarization

   Description: The solution MUST be compatible with segment
   summarization.

   Rationale: Summarization of segments is a key benefit of SRv6 vs SR
   MPLS.  In interdomain deployments any node can reach any other node
   via a single prefix segment.  Without summarization, border router
   SIDs must be leaked and an additional global prefix segment is
   required for each domain border to be traversed.

   Metric: A solution supports summarization when segments can be
   summarized for advertisement into other IGP domains or levels.

4.1.5.  Heterogeneous SID lists

   TBD

4.2.  Operational Requirements

4.2.1.  Lossless Compression

   Description: The segments of the compressed SID list MUST be
   equivalent to the original SID List.  For example, a strict path TE
   SID List is not compressed to a loose path TE SID list.

   Rational: In SRv6 we can represent a path to meet certain objectives.
   A compressed solution needs to support the objectives in the same
   way.

   Metric: Information present in the pre-compression segment list MUST
   also be present in the post-compression SID list.

4.3.  Scalability Requirements

   TBD

5.  Protocol Design Requirements







Cheng & Steffann           Expires May 3, 2021                  [Page 6]

Internet-Draft             SRCOMP Requirements              October 2020


5.1.  Ships in the Night Deployment

   Description: The compression solution MUST support deployment in
   existing SRv6 networks.

   Rationale: SRv6 is deployed today.  A compression solution that
   interoperates well with SRv6, as deployed, will reduce the overhead
   and simplify operations.  For Network operators who would migrate to
   compressed SRv6 SID lists, the move is expected to gradually occur
   over a period time, as they upgrade networks, domains, device
   families and software instances.

   Metric: A compliant compression solution provides the following

   o  Supports simultaneous deployment at a node with current SRv6 SIDs.

   o  Supports simultaneous deployment at a node with current SRv6
      control plane.

   o  Supports simultaneous operation of current SRv6 paths with
      compressed paths.

   o  Supports the behaviors in
      [I-D.ietf-spring-srv6-network-programming].

   o  Does not require removal of existing IPv6 planning.

6.  IANA Considerations

   This document has no requests to IANA.

7.  Security Considerations

   TBD

8.  Contributors

   The following individuals contributed to this draft

   Chongfeng Xie, China Telecom, xiechf@chinatelecom.cn

   Ron Bonica, Juniper Networks, rbonica@juniper.net

   Darren Dukes, Cisco Systems, ddukes@cisco.com

   Cheng Li, Huawei, c.l@huawei.com

   Peng Shaofu, ZTE, peng.shaofu@zte.com.cn



Cheng & Steffann           Expires May 3, 2021                  [Page 7]

Internet-Draft             SRCOMP Requirements              October 2020


   Wim Henderickx, Nokia, wim.henderickx@nokia.com

9.  Acknowledgements

   TBD

10.  Normative References

   [I-D.ietf-6man-spring-srv6-oam]
              Ali, Z., Filsfils, C., Matsushima, S., Voyer, D., and M.
              Chen, "Operations, Administration, and Maintenance (OAM)
              in Segment Routing Networks with IPv6 Data plane (SRv6)",
              draft-ietf-6man-spring-srv6-oam-07 (work in progress),
              July 2020.

   [I-D.ietf-bess-srv6-services]
              Dawra, G., Filsfils, C., Raszuk, R., Decraene, B., Zhuang,
              S., and J. Rabadan, "SRv6 BGP based Overlay services",
              draft-ietf-bess-srv6-services-04 (work in progress), July
              2020.

   [I-D.ietf-idr-bgpls-srv6-ext]
              Dawra, G., Filsfils, C., Talaulikar, K., Chen, M.,
              daniel.bernier@bell.ca, d., and B. Decraene, "BGP Link
              State Extensions for SRv6", draft-ietf-idr-bgpls-
              srv6-ext-03 (work in progress), July 2020.

   [I-D.ietf-lsr-flex-algo]
              Psenak, P., Hegde, S., Filsfils, C., Talaulikar, K., and
              A. Gulko, "IGP Flexible Algorithm", draft-ietf-lsr-flex-
              algo-13 (work in progress), October 2020.

   [I-D.ietf-lsr-isis-srv6-extensions]
              Psenak, P., Filsfils, C., Bashandy, A., Decraene, B., and
              Z. Hu, "IS-IS Extension to Support Segment Routing over
              IPv6 Dataplane", draft-ietf-lsr-isis-srv6-extensions-11
              (work in progress), October 2020.

   [I-D.ietf-rtgwg-segment-routing-ti-lfa]
              Litkowski, S., Bashandy, A., Filsfils, C., Decraene, B.,
              Francois, P., Voyer, D., Clad, F., and P. Camarillo,
              "Topology Independent Fast Reroute using Segment Routing",
              draft-ietf-rtgwg-segment-routing-ti-lfa-04 (work in
              progress), August 2020.







Cheng & Steffann           Expires May 3, 2021                  [Page 8]

Internet-Draft             SRCOMP Requirements              October 2020


   [I-D.ietf-spring-segment-routing-policy]
              Filsfils, C., Talaulikar, K., Voyer, D., Bogdanov, A., and
              P. Mattes, "Segment Routing Policy Architecture", draft-
              ietf-spring-segment-routing-policy-08 (work in progress),
              July 2020.

   [I-D.ietf-spring-sr-service-programming]
              Clad, F., Xu, X., Filsfils, C., daniel.bernier@bell.ca,
              d., Li, C., Decraene, B., Ma, S., Yadlapalli, C.,
              Henderickx, W., and S. Salsano, "Service Programming with
              Segment Routing", draft-ietf-spring-sr-service-
              programming-03 (work in progress), September 2020.

   [I-D.ietf-spring-srv6-network-programming]
              Filsfils, C., Camarillo, P., Leddy, J., Voyer, D.,
              Matsushima, S., and Z. Li, "SRv6 Network Programming",
              draft-ietf-spring-srv6-network-programming-24 (work in
              progress), October 2020.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8402]  Filsfils, C., Ed., Previdi, S., Ed., Ginsberg, L.,
              Decraene, B., Litkowski, S., and R. Shakir, "Segment
              Routing Architecture", RFC 8402, DOI 10.17487/RFC8402,
              July 2018, <https://www.rfc-editor.org/info/rfc8402>.

   [RFC8754]  Filsfils, C., Ed., Dukes, D., Ed., Previdi, S., Leddy, J.,
              Matsushima, S., and D. Voyer, "IPv6 Segment Routing Header
              (SRH)", RFC 8754, DOI 10.17487/RFC8754, March 2020,
              <https://www.rfc-editor.org/info/rfc8754>.

Authors' Addresses

   Weiqiang Cheng
   China Mobile

   Email: chengweiqiang@chinamobile.com







Cheng & Steffann           Expires May 3, 2021                  [Page 9]

Internet-Draft             SRCOMP Requirements              October 2020


   Sanders Steffann
   SJM Steffann Consultancy

   Email: sander@steffann.nl















































Cheng & Steffann           Expires May 3, 2021                 [Page 10]
