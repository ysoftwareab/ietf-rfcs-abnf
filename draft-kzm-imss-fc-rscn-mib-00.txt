

Internet Draft                                              C. DeSanti
                                                            H.K. Vivek
                                                         K. McCloghrie
                                                                S. Gai
                                                         Cisco Systems
                                                      22 November 2005

   Fibre Channel Registered State Change Notification (RSCN) MIB
                   draft-kzm-imss-fc-rscn-mib-00.txt

Status of this Memo

   By submitting this Internet-Draft, each author represents that any
   applicable patent or other IPR claims of which he or she is aware
   have been or will be disclosed, and any of which he or she becomes
   aware will be disclosed, in accordance with Section 6 of BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that other
   groups may also distribute working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time. It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

Copyright notice

   Copyright(C) The Internet Society (2005).  All Rights Reserved.

Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for information related
   to the management of Fibre Channel's Registered State Change
   Notifications (RSCNs).







Expires May 2006                                                [Page 1]





Internet Draft          Fibre Channel RSCN MIB             November 2005


Table of Contents


   1 Introduction .................................................    3
   2 The Internet-Standard Management Framework ...................    3
   3 Short Overview of Fibre Channel ..............................    3
   4 Relationship to Other MIBs ...................................    5
   5 MIB Overview .................................................    5
   5.1 Fibre Channel management instance ..........................    5
   5.2 Switch Index ...............................................    5
   5.3 Fabric Index ...............................................    6
   5.4 The t11FcRscnRegistrationGroup group .......................    6
   5.5 The t11FcRscnNotifyGroup group .............................    6
   5.6 The t11FcRscnNotifyControlGroup group ......................    6
   5.7 The t11FcRscnStatsGroup group ..............................    7
   6 Definitions ..................................................    7
   6.1 The T11-FC-RSCN-MIB Module .................................    7
   7 Intellectual Property ........................................   19
   8 Normative References .........................................   19
   9 Informative References .......................................   20
   10 IANA Considerations .........................................   20
   11 Security Considerations .....................................   20
   12 Authors' Addresses ..........................................   22

























Expires May 2006                                                [Page 2]





Internet Draft          Fibre Channel RSCN MIB             November 2005


1.  Introduction

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols in the Internet community.
   In particular, it describes managed objects for information related
   to Registered State Change Notifications (RSCNs) [FC-FS] in a Fibre
   Channel network, including which Nx_Ports are registered to receive
   which types of RSCNs, the control and generation of SNMP
   notifications on registration failures, and registration-related
   statistics.


2.  The Internet-Standard Management Framework

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to section 7 of
   RFC 3410 [RFC3410].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  MIB objects are generally
   accessed through the Simple Network Management Protocol (SNMP).
   Objects in the MIB are defined using the mechanisms defined in the
   Structure of Management Information (SMI).  This memo specifies a MIB
   module that is compliant to the SMIv2, which is described in STD 58,
   RFC 2578 [RFC2578], STD 58, RFC 2579 [RFC2579] and STD 58, RFC 2580
   [RFC2580].


3.  Short Overview of Fibre Channel

   The Fibre Channel (FC) is logically a bidirectional point-to-point
   serial data channel, structured for high performance.  Fibre Channel
   provides a general transport vehicle for higher level protocols such
   as Small Computer System Interface (SCSI) command sets, the High-
   Performance Parallel Interface (HIPPI) data framing, IP (Internet
   Protocol), IEEE 802.2, and others.

   Physically, Fibre Channel is an interconnection of multiple
   communication points, called N_Ports, interconnected either by a
   switching network, called a Fabric, or by a point-to-point link.  A
   Fibre Channel "node" consists of one or more N_Ports.  A Fabric may
   consist of multiple Interconnect Elements, some of which are
   switches.  An N_Port connects to the Fabric via a port on a switch
   called an F_Port.  When multiple FC nodes are connected to a single
   port on a switch via an "Arbitrated Loop" topology, the switch port





Expires May 2006                                                [Page 3]





Internet Draft          Fibre Channel RSCN MIB             November 2005


   is called an FL_Port, and the nodes' ports are called NL_Ports.  The
   term Nx_Port is used to refer to either an N_Port or an NL_Port.  The
   term Fx_Port is used to refer to either an F_Port or an FL_Port.  A
   switch port, which is interconnected to another switch port via an
   Inter Element Link (IEL), is called an E_Port.  A B_Port connects a
   bridge device with an E_Port on a switch; a B_Port provides a subset
   of E_Port functionality.

   Many Fibre Channel components, including the fabric, each node, and
   most ports, have globally-unique names.  These globally-unique names
   are typically formatted as World Wide Names (WWNs).  More information
   on WWNs can be found in [FC-FS].  WWNs are expected to be persistent
   across agent and unit resets.

   Fibre Channel frames contain 24-bit address identifiers which
   identify the frame's source and destination ports.  Each FC port has
   both an address identifier and a WWN.  When a fabric is in use, the
   FC address identifiers are dynamically assigned by a switch.  Each
   octet of a 24-bit address represents a level in an address hierarchy,
   with a Domain_ID being the highest level of the hierarchy.

   Registered State Change Notifications (RSCNs) are defined in [FC-FS]
   as a means to provide Nx_Ports which have registered to receive such
   notifications, with a timely indication of changes in the state of
   nodes attached to the fabric.  Specifically, an Nx_Port may choose to
   register, using an State Change Registration (SCR) request [FC-FS] to
   receive RSCNs.  A Nx_Port which has registered will receive an RSCN
   when an event occurs which may affect the registered port's state.
   For example, an Nx_Port can use RSCNs as the means by which it is
   informed of the failures of other nodes, of new devices coming
   online, or even of more network-accessible storage becoming
   available.  The payload of the RSCN indicates the type of change and
   includes the address of the changed port/area/domain.   The sender of
   an RSCN may coalesce several events into a single RSCN request
   message.  Each RSCN is a "request" which is acknowledged by the
   receiver with an accept or reject.

   An RSCN is received by an Nx_Port from the Fabric as an Extended Link
   Service (ELS) request [FC-FS].  The Fabric distributes RSCNs between
   Switches using the Inter-Switch RSCN payload (SW_RSCN) of an SW_ILS
   frame [FC-SW-4].  So, when a Switch has directly attached Nx_Ports
   which have registered to receive RSCNs, it converts received SW_ILS
   frames containing SW_RSCN payloads into ELS requests containing the
   corresponding RSCN which it sends to each such Nx_Port.






Expires May 2006                                                [Page 4]





Internet Draft          Fibre Channel RSCN MIB             November 2005


4.  Relationship to Other MIBs

   The first standardized MIB for Fibre Channel [RFC2837] was focused on
   Fibre Channel switches.  It was replaced by the more generic Fibre
   Channel Management MIB [FC-MGMT] which defines basic information for
   Fibre Channel hosts and switches, including extensions to the
   standard IF-MIB [IF-MIB] for Fibre Channel interfaces.  [FC-MGMT]
   includes the specification of how the generic objects defined in [IF-
   MIB] apply to Fibre Channel interfaces.

   Note that an interface's ifIndex value must be unique within an SNMP
   context, irrespective of how many Fibre Channel management instances
   (see below) and how many Fibre Channel switches are instrumented
   within that SNMP context.

   This MIB imports some common Textual Conventions from T11-TC-MIB,
   defined in [FC-FAM-MIB].


5.  MIB Overview

   This section explains the use of a Fibre Channel management instance,
   a Switch Index, and a Fabric Index.  It also describes the four MIB
   groups contained in the MIB.

5.1.  Fibre Channel management instance

   A Fibre Channel management instance is defined in [FC-MGMT] as a
   separable managed instance of Fibre Channel functionality.  Fibre
   Channel functionality may be grouped into Fibre Channel management
   instances in whatever way is most convenient for the
   implementation(s).  For example, one such grouping accommodates a
   single SNMP agent having multiple AgentX [RFC2741] sub-agents, with
   each sub-agent implementing a different Fibre Channel management
   instance.

   The object, fcmInstanceIndex, is IMPORTed from the FC-MGMT-MIB
   [FC-MGMT] as the index value to uniquely identify each Fibre Channel
   management instance within the same SNMP context ([RFC3411] section
   3.3.1).

5.2.  Switch Index

   The FC-MGMT-MIB [FC-MGMT] defines the fcmSwitchTable as a table of
   information about Fibre Channel switches which are managed by Fibre





Expires May 2006                                                [Page 5]





Internet Draft          Fibre Channel RSCN MIB             November 2005


   Channel management instances.  Each Fibre Channel management instance
   can manage one or more Fibre Channel switches.  The Switch Index,
   fcmSwitchIndex, is IMPORTed from the FC-MGMT-MIB as the index value
   to uniquely identify a Fibre Channel switch amongst those (one or
   more) managed by the same Fibre Channel management instance.

5.3.  Fabric Index

   The latest standard for an interconnecting Fabric containing multiple
   Fabric Switch elements is [FC-SW-4]; it specifies the operation of
   both a single Fabric in a physical infrastructure, as well as the
   support of multiple Virtual Fabrics operating within one (or more)
   physical infrastructures.  Whether operating on a physical Fabric
   (i.e., without Virtual Fabrics) or within a Virtual Fabric, the
   manner of operation of RSCNs within a/each Fabric is identical.
   Therefore, this MIB defines all Fabric-related information in tables
   which are INDEX-ed by an arbitrary integer, named a "Fabric Index",
   the syntax of which is IMPORTed from the T11-TC-MIB [FC-FAM-MIB].
   When a device is connected to a single physical Fabric, without use
   of any virtual Fabrics, the value of this Fabric Index will always be
   1.  In an environment of multiple virtual and/or physical Fabrics,
   this index provides a means to distinguish one Fabric from another.

5.4.  The t11FcRscnRegistrationGroup group

   This group contains information about the Nx_Ports which have
   registered to receive RSCNs.

5.5.  The t11FcRscnNotifyGroup group

   This group contains two notifications: one generated by when a switch
   rejects a SCR or RSCN request; the other when a switch rejects a
   SW_RSCN.

5.6.  The t11FcRscnNotifyControlGroup group

   This group contains one object for each notification in the
   t11FcRscnNotifyGroup group to enable/disable that notification, as
   well as three objects which record information about the latest
   rejection of an SCR or RSCN, specifically, the content (if available)
   of the rejected request, the source of the rejected request, and the
   reason for the rejection.








Expires May 2006                                                [Page 6]





Internet Draft          Fibre Channel RSCN MIB             November 2005


5.7.  The t11FcRscnStatsGroup group

   This group contains several registration-related statistics.



6.  Definitions

6.1.  The T11-FC-RSCN-MIB Module

T11-FC-RSCN-MIB DEFINITIONS ::= BEGIN

-- The Fibre Channel RSCN Register MIB
--
-- for the monitoring of registrations by Nx_Ports to receive
-- Registered State Change Notifications (RSCNs).
--

IMPORTS
    MODULE-IDENTITY,OBJECT-TYPE,
    NOTIFICATION-TYPE,
    Counter32, mib-2                   FROM SNMPv2-SMI   -- [RFC2578]
    MODULE-COMPLIANCE, OBJECT-GROUP,
    NOTIFICATION-GROUP                 FROM SNMPv2-CONF  -- [RFC2580]
    TEXTUAL-CONVENTION, TruthValue     FROM SNMPv2-TC    -- [RFC2579]
    fcmInstanceIndex, fcmSwitchIndex,
    FcNameIdOrZero, FcAddressIdOrZero  FROM FC-MGMT-MIB  -- [FC-MGMT]
    T11FabricIndex                     FROM T11-TC-MIB;  -- [FC-FAM-MIB]


t11FcRscnMIB  MODULE-IDENTITY
    LAST-UPDATED "200511140000Z"
    ORGANIZATION "T11 "
    CONTACT-INFO
            "     Claudio DeSanti
                  Cisco Systems, Inc.
                  170 West Tasman Drive
                  San Jose, CA 95134 USA
                  Phone: +1 408 853-9172
                  EMail: cds@cisco.com

                  Keith McCloghrie
                  Cisco Systems, Inc.
                  170 West Tasman Drive
                  San Jose, CA USA 95134





Expires May 2006                                                [Page 7]





Internet Draft          Fibre Channel RSCN MIB             November 2005


                  Phone: +1 408-526-5260
                  Email: kzm@cisco.com"

    DESCRIPTION
           "The MIB module for the management of registrations
           by Nx_Ports to receive RSCNs (Registered State Change
           Notifications) on a Fibre Channel network, as defined
           in FC-FS, and for monitoring the number of RSCNs
           sent/received in a Fibre Channel network.

           Copyright (C) The Internet Society (2005).  This version of
           this MIB module is part of RFC yyyy;  see the RFC itself for
           full legal notices."
-- RFC Editor: replace yyyy with actual RFC number & remove this note
    REVISION    "200511140000Z"
    DESCRIPTION
           "Initial version of this MIB module, published as RFCyyyy."
-- RFC-Editor, replace yyyy with actual RFC number & remove this note
    ::= { mib-2 nnn }  -- to be assigned by IANA
-- RFC Editor: replace XXX with IANA-assigned number & remove this note


t11FcRscnNotifications  OBJECT IDENTIFIER ::= { t11FcRscnMIB 0 }
t11FcRscnObjects        OBJECT IDENTIFIER ::= { t11FcRscnMIB 1 }
t11FcRscnConformance    OBJECT IDENTIFIER ::= { t11FcRscnMIB 2 }
t11FcRscnRegistrations  OBJECT IDENTIFIER ::= { t11FcRscnObjects 1 }
t11FcRscnStats          OBJECT IDENTIFIER ::= { t11FcRscnObjects 2 }
t11FcRscnInformation    OBJECT IDENTIFIER ::= { t11FcRscnObjects 3 }


T11FcLsRejectReasonCode ::= TEXTUAL-CONVENTION
    STATUS    current
    DESCRIPTION
        "The LS_RJT or SW_RJT reject reason code and reason code
        explanation for rejecting a request.  The value is formatted
        as specified in FC-FS or FC-SW-4, respectively -- to summarize:

            bits 31-24 (most significant) - reserved
            bits 23-16                    - standard reason code
            bits 15-8                     - reason code explanation
            bits 7-0 (least significant)  - vendor-specific code

        The vendor-specific code indicates the reason when the
        standard reason code has the value x'FF'."
    REFERENCE





Expires May 2006                                                [Page 8]





Internet Draft          Fibre Channel RSCN MIB             November 2005


          "-- ANSI INCITS xxx-200n, Fibre Channel - Framing and
              Signaling (FC-FS), Rev 1.90, section 12.3.3.4.2,
              April 2003; and
           -- ANSI INCITS xxx-200n, Fibre Channel - Switch Fabric - 4
              (FC-SW-4), T11/Project 1674-D/Rev 7.1, section 6.1.3,
              October 2004."
    SYNTAX  OCTET STRING (SIZE (4))

-- State Change Registration Table

t11FcRscnRegTable  OBJECT-TYPE
    SYNTAX         SEQUENCE OF T11FcRscnRegEntry
    MAX-ACCESS     not-accessible
    STATUS         current
    DESCRIPTION
           "A table of Nx_Ports that have registered to receive
           RSCNs on all fabrics configured on one or more Fibre
           Channel switches."
    ::= { t11FcRscnRegistrations 1 }

t11FcRscnRegEntry  OBJECT-TYPE
    SYNTAX        T11FcRscnRegEntry
    MAX-ACCESS    not-accessible
    STATUS        current
    DESCRIPTION
           "An entry containing information about one Nx_Port which
           has registered with a particular switch (identified by
           values of fcmInstanceIndex and fcmSwitchIndex) for a
           particular Fabric (identified by a t11FcRscnFabricIndex
           value)."
    INDEX   { fcmInstanceIndex, fcmSwitchIndex, t11FcRscnFabricIndex,
              t11FcRscnRegFcId }
    ::= { t11FcRscnRegTable 1 }

T11FcRscnRegEntry ::= SEQUENCE {
    t11FcRscnFabricIndex         T11FabricIndex,
    t11FcRscnRegFcId             FcAddressIdOrZero,
    t11FcRscnRegType             BITS
}

t11FcRscnFabricIndex OBJECT-TYPE
    SYNTAX      T11FabricIndex
    MAX-ACCESS  not-accessible
    STATUS      current
    DESCRIPTION





Expires May 2006                                                [Page 9]





Internet Draft          Fibre Channel RSCN MIB             November 2005


           "An index value which uniquely identifies a particular
           Fabric.

           In a Fabric conformant to FC-SW-4, multiple Virtual Fabrics
           can operate within one (or more) physical infrastructures.
           In such a case, this index value is used to uniquely
           identify a particular Fabric within a physical
           infrastructure.

           In a Fabric which has (can have) only a single Fabric
           operating within the physical infrastructure, the
           value of this Fabric Index will always be 1."
    REFERENCE
          "ANSI INCITS xxx-200n, Fibre Channel - Switch Fabric - 4
          (FC-SW-4), T11/Project 1674-D/Rev 7.1, October 2004."
    ::= { t11FcRscnRegEntry 1 }

t11FcRscnRegFcId  OBJECT-TYPE
    SYNTAX        FcAddressIdOrZero (SIZE (3))
    MAX-ACCESS    not-accessible
    STATUS        current
    DESCRIPTION
           "The Fibre Channel Address Identifier (FC_ID) of the
           subscribing Nx_Port."
    ::= { t11FcRscnRegEntry 2 }

t11FcRscnRegType  OBJECT-TYPE
    SYNTAX        BITS {
                      fromFabricController(0),
                      fromNxPort(1)
                  }
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
           "This object indicates the type of registration
           desired by the subscriber, one bit per type:

           'fromFabricController' -- RSCNs generated for events
                                  detected by the Fabric Controller.

           'fromNxPorts'          -- RSCNs generated for events
                                  detected by the affected Nx_Port."
    REFERENCE
          "ANSI INCITS xxx-200n, Fibre Channel - Framing and
           Signaling (FC-FS), Rev 1.90, section 12.3.2.23,





Expires May 2006                                               [Page 10]





Internet Draft          Fibre Channel RSCN MIB             November 2005


           April 2003."
    ::= { t11FcRscnRegEntry 3 }


-- Statistics

t11FcRscnStatsTable  OBJECT-TYPE
    SYNTAX         SEQUENCE OF T11FcRscnStatsEntry
    MAX-ACCESS     not-accessible
    STATUS         current
    DESCRIPTION
           "The RSCN-related statistics on all fabrics configured
           on one or more Fibre Channel switches."
    ::= { t11FcRscnStats 4 }

t11FcRscnStatsEntry  OBJECT-TYPE
    SYNTAX        T11FcRscnStatsEntry
    MAX-ACCESS    not-accessible
    STATUS        current
    DESCRIPTION
           "An entry containing statistics for a particular Fabric
           (identified by a t11FcRscnFabricIndex value) on a particular
           switch (identified by values of fcmInstanceIndex and
           fcmSwitchIndex)."
    INDEX  { fcmInstanceIndex, fcmSwitchIndex, t11FcRscnFabricIndex }
    ::= { t11FcRscnStatsTable 1 }

T11FcRscnStatsEntry ::= SEQUENCE {
    t11FcRscnRxScrs                      Counter32,
    t11FcRscnRxRscns                     Counter32,
    t11FcRscnTxRscns                     Counter32,
    t11FcRscnRxSwRscns                   Counter32,
    t11FcRscnTxSwRscns                   Counter32,
    t11FcRscnScrRejects                  Counter32,
    t11FcRscnRscnRejects                 Counter32,
    t11FcRscnSwRscnRejects               Counter32
}

t11FcRscnRxScrs  OBJECT-TYPE
    SYNTAX         Counter32
    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of SCRs received from Nx_Ports
           by this switch on this fabric."





Expires May 2006                                               [Page 11]





Internet Draft          Fibre Channel RSCN MIB             November 2005


    ::= { t11FcRscnStatsEntry 1 }


t11FcRscnRxRscns  OBJECT-TYPE
    SYNTAX         Counter32
    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of RSCNs received from Nx_Ports
           by this switch on this fabric."
    ::= { t11FcRscnStatsEntry 2 }

t11FcRscnTxRscns  OBJECT-TYPE
    SYNTAX         Counter32
    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of RSCNs transmitted to Nx_Ports
           by this switch on this fabric."
    ::= { t11FcRscnStatsEntry 3 }


t11FcRscnRxSwRscns  OBJECT-TYPE
    SYNTAX         Counter32
    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of Inter-Switch RSCN payloads (SW_RSCN in
           an SW_ILS) received by this switch from other switches
           on this fabric."
    ::= { t11FcRscnStatsEntry 4 }

t11FcRscnTxSwRscns  OBJECT-TYPE
    SYNTAX         Counter32
    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of Inter-Switch RSCN payloads (SW_RSCN in
           an SW_ILS) transmitted by this switch from other
           switches on this fabric."
    ::= { t11FcRscnStatsEntry 5 }


t11FcRscnScrRejects  OBJECT-TYPE
    SYNTAX         Counter32





Expires May 2006                                               [Page 12]





Internet Draft          Fibre Channel RSCN MIB             November 2005


    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of SCRs rejected by this switch on
           this fabric."
    ::= { t11FcRscnStatsEntry 6 }

t11FcRscnRscnRejects OBJECT-TYPE
    SYNTAX         Counter32
    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of RSCN requests rejected by this
           switch on this fabric."
    ::= { t11FcRscnStatsEntry 7 }

t11FcRscnSwRscnRejects  OBJECT-TYPE
    SYNTAX         Counter32
    MAX-ACCESS     read-only
    STATUS         current
    DESCRIPTION
           "The number of SW_RSCN requests rejected by
           this switch on this fabric."
    ::= { t11FcRscnStatsEntry 8 }

--
-- Notification Control Table
--
t11FcRscnNotifyControlTable OBJECT-TYPE
    SYNTAX       SEQUENCE OF T11FcRscnNotifyControlEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
           "A table of control information for notifications
           generated due to the rejection of SCR and RSCN
           requests."
    ::= { t11FcRscnInformation 1 }

t11FcRscnNotifyControlEntry OBJECT-TYPE
    SYNTAX       T11FcRscnNotifyControlEntry
    MAX-ACCESS   not-accessible
    STATUS       current
    DESCRIPTION
           "Each entry contains notification control information
           concerning the rejection of RSCN/SCRs for a particular





Expires May 2006                                               [Page 13]





Internet Draft          Fibre Channel RSCN MIB             November 2005


           fabric (identified by the value of t11FcRscnFabricIndex)
           by a particular switch (identified by values of
           fcmInstanceIndex and fcmSwitchIndex)."
    INDEX  { fcmInstanceIndex, fcmSwitchIndex, t11FcRscnFabricIndex }
    ::= { t11FcRscnNotifyControlTable 1 }

T11FcRscnNotifyControlEntry ::= SEQUENCE {
     t11FcRscnIlsRejectNotifyEnable     TruthValue,
     t11FcRscnElsRejectNotifyEnable     TruthValue,
     t11FcRscnRejectedRequestString     OCTET STRING,
     t11FcRscnRejectedRequestSource     FcNameIdOrZero,
     t11FcRscnRejectedReasonCode        T11FcLsRejectReasonCode
}

t11FcRscnIlsRejectNotifyEnable OBJECT-TYPE
    SYNTAX       TruthValue
    MAX-ACCESS   read-write
    STATUS       current
    DESCRIPTION
           "This object specifies if a t11FcRscnIlsRejectReqNotify
           notification should be generated when this switch
           rejects a SW_ILS with a SW_RSCN payload on this fabric."
    DEFVAL { false }
    ::= { t11FcRscnNotifyControlEntry 1 }

t11FcRscnElsRejectNotifyEnable OBJECT-TYPE
    SYNTAX        TruthValue
    MAX-ACCESS    read-write
    STATUS        current
    DESCRIPTION
           "This object specifies if a t11FcRscnElsRejectReqNotify
           notification should be generated when this switch
           rejects a RSCN or SCR request on this fabric."
    DEFVAL { false }
    ::= { t11FcRscnNotifyControlEntry 2 }

t11FcRscnRejectedRequestString OBJECT-TYPE
    SYNTAX        OCTET STRING (SIZE (0..255))
    MAX-ACCESS    read-only
    STATUS        current
    DESCRIPTION
           "The binary content of the RSCN or SCR which was most
           recently rejected by this switch on this fabric.
           The value is formatted as an octet string (in network
           byte order) containing the payload of the RSCN or SCR





Expires May 2006                                               [Page 14]





Internet Draft          Fibre Channel RSCN MIB             November 2005


           request, as described in Table 100 or Table 105
           (of FC-FS) respectively.

           This object contains the zero-length string if and when
           the RSCN/SCR payload is unavailable.

           When the length of this object is 255 octets, it contains
           the first 255 octets of the payload (in network-byte
           order)."
    ::= { t11FcRscnNotifyControlEntry 3 }

t11FcRscnRejectedRequestSource OBJECT-TYPE
    SYNTAX       FcNameIdOrZero
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
           "The WWN which was the source of the RSCN or SCR which was
           most recently rejected by this switch on this fabric."
    ::= { t11FcRscnNotifyControlEntry 4 }

t11FcRscnRejectedReasonCode OBJECT-TYPE
    SYNTAX       T11FcLsRejectReasonCode
    MAX-ACCESS   read-only
    STATUS       current
    DESCRIPTION
           "The reason code and the reason code explanation of the
           most recent rejection by this switch of an RSCN or SCR
           on this fabric."
    REFERENCE
          "ANSI INCITS xxx-200n, Fibre Channel - Framing and
          Signaling (FC-FS), Rev 1.90, section 12.3.3.4.2,
          April 2003."
    ::= { t11FcRscnNotifyControlEntry 5 }

-- Notifications

t11FcRscnElsRejectReqNotify NOTIFICATION-TYPE
    OBJECTS { t11FcRscnRejectedRequestString,
              t11FcRscnRejectedRequestSource,
              t11FcRscnRejectedReasonCode }
    STATUS  current
    DESCRIPTION
           "This notification is generated when a switch rejects
           a SCR or RSCN request.






Expires May 2006                                               [Page 15]





Internet Draft          Fibre Channel RSCN MIB             November 2005


           If the binary content of the rejected request is
           available, it is indicated by the value of
           t11FcRscnRejectedRequestString.  The source of the
           rejected request is t11FcRscnRejectedRequestSource,
           and the reason for rejection is given by the value of
           t11FcRscnRejectedReasonCode."
    ::= { t11FcRscnNotifications 1 }

t11FcRscnIlsRejectReqNotify NOTIFICATION-TYPE
    OBJECTS { t11FcRscnRejectedRequestString,
              t11FcRscnRejectedRequestSource,
              t11FcRscnRejectedReasonCode }
    STATUS  current
    DESCRIPTION
           "This notification is generated when a switch rejects
           a SW_RSCN request.

           If the binary content of the rejected request is
           available, it is indicated by the value of
           t11FcRscnRejectedRequestString.  The source of the
           rejected request is t11FcRscnRejectedRequestSource,
           and the reason for rejection is given by the value of
           t11FcRscnRejectedReasonCode."
    ::= { t11FcRscnNotifications 2 }


-- Conformance
t11FcRscnCompliances OBJECT IDENTIFIER ::= { t11FcRscnConformance 1 }
t11FcRscnGroups      OBJECT IDENTIFIER ::= { t11FcRscnConformance 2 }

t11FcRscnCompliance MODULE-COMPLIANCE
    STATUS    current
    DESCRIPTION
           "The compliance statement for entities which implement
           this MIB."
    MODULE
        MANDATORY-GROUPS { t11FcRscnRegistrationGroup,
                           t11FcRscnNotifyControlGroup,
                           t11FcRscnNotifyGroup }

    GROUP   t11FcRscnStatsGroup
    DESCRIPTION
            "These counters, containing RSCN-related statistics,
            are mandatory only for those systems which count such
            events."





Expires May 2006                                               [Page 16]





Internet Draft          Fibre Channel RSCN MIB             November 2005


    ::= { t11FcRscnCompliances 1 }


-- Units of conformance

t11FcRscnRegistrationGroup  OBJECT-GROUP
    OBJECTS { t11FcRscnRegType }
    STATUS  current
    DESCRIPTION
           "A collection of objects for monitoring RSCN
           registrations."
    ::= { t11FcRscnGroups 1 }

t11FcRscnStatsGroup   OBJECT-GROUP
    OBJECTS { t11FcRscnRxScrs,
              t11FcRscnRxRscns,
              t11FcRscnTxRscns,
              t11FcRscnRxSwRscns,
              t11FcRscnTxSwRscns,
              t11FcRscnScrRejects,
              t11FcRscnRscnRejects,
              t11FcRscnSwRscnRejects
            }
    STATUS  current
    DESCRIPTION
           "A collection of objects for collecting
           RSCN registration statistics."
    ::= { t11FcRscnGroups 2 }

t11FcRscnNotifyControlGroup  OBJECT-GROUP
    OBJECTS { t11FcRscnIlsRejectNotifyEnable,
              t11FcRscnElsRejectNotifyEnable,
              t11FcRscnRejectedRequestString,
              t11FcRscnRejectedRequestSource,
              t11FcRscnRejectedReasonCode
            }
    STATUS  current
    DESCRIPTION
           "A collection of notification control and
           notification information objects."
    ::= { t11FcRscnGroups 3 }

t11FcRscnNotifyGroup   NOTIFICATION-GROUP
    NOTIFICATIONS { t11FcRscnIlsRejectReqNotify,
                    t11FcRscnElsRejectReqNotify





Expires May 2006                                               [Page 17]





Internet Draft          Fibre Channel RSCN MIB             November 2005


                  }
    STATUS        current
    DESCRIPTION
           "A collection of notifications for monitoring
           ILS and ELS request rejection by the RSCN module."
    ::= { t11FcRscnGroups 4 }

END










































Expires May 2006                                               [Page 18]





Internet Draft          Fibre Channel RSCN MIB             November 2005


7.  Intellectual Property

   "The IETF takes no position regarding the validity or scope of any
   intellectual property or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; neither does it represent that it
   has made any effort to identify any such rights.  Information on the
   IETF's procedures with respect to rights in standards-track and
   standards-related documentation can be found in BCP-11.  Copies of
   claims of rights made available for publication and any assurances of
   licenses to be made available, or the result of an attempt made to
   obtain a general license or permission for the use of such
   proprietary rights by implementors or users of this specification can
   be obtained from the IETF Secretariat."

   "The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights which may cover technology that may be required to practice
   this standard.  Please address the information to the IETF Executive
   Director."  -- .lp -- .sh 1 "Acknowledgements" -- .lp -- .in 3 --
   This document began life as a work item of the INCITS Task Group
   T11.5.  -- We wish to acknowledge the many contributions and comments
   from -- the INCITS Technical Committee T11, including the following:
   -- .sp -- .nf -- .in +.3i -- T11 Chair: Robert Snively, Brocade --
   T11 Vice Chair: Claudio DeSanti, Cisco Systems -- T11.5 Chair: Roger
   Cummings, Symantec -- T11.5 members, especially: --     Ken Hirata,
   Emulex --     Scott Kipp, McData -- .fi

8.  Normative References

[RFC2578]
     McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose, M.
     and S. Waldbusser, "Structure of Management Information Version 2
     (SMIv2)", STD 58, RFC 2578, April 1999.

[RFC2579]
     McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose, M.
     and S. Waldbusser, "Textual Conventions for SMIv2", STD 58, RFC
     2579, April 1999.

[RFC2580]
     McCloghrie, K., Perkins, D., Schoenwaelder, J., Case, J., Rose, M.
     and S. Waldbusser, "Conformance Statements for SMIv2", STD 58, RFC
     2580, April 1999.





Expires May 2006                                               [Page 19]





Internet Draft          Fibre Channel RSCN MIB             November 2005


[IF-MIB]
     McCloghrie, K., and F. Kastenholz, "The Interfaces Group MIB", RFC
     2863, June 2000.

[FC-MGMT]
     K. McCloghrie, "Fibre Channel Management MIB", RFC 4044, May 2005.

[FC-SW-4]
     "Fibre Channel - Switch Fabric - 4 (FC-SW-4)", ANSI NCITS xxx-200x,
     T11/Project 1674-D/Rev 7.1, October 2004.

[FC-FS]
     "Fibre Channel - Framing and Signaling (FC-FS)", ANSI INCITS
     373-2003, April 2003.


9.  Informative References

[RFC2837]
     Teow, K., "Definitions of Managed Objects for the Fabric Element in
     Fibre Channel Standard", RFC 2837, May 2000.

[RFC3410]
     Case, J., Mundy, R., Partain, D. and B. Stewart, "Introduction and
     Applicability Statements for Internet-Standard Management
     Framework", RFC 3410, December 2002.


10.  IANA Considerations

   IANA is requested to make a MIB OID assignment for the T11-FC-RSCN-
   MIB module, under the appropriate subtree.

11.  Security Considerations

   There are a number of management objects defined in this MIB module
   with a MAX-ACCESS clause of read-write and/or read-create.  Such
   objects may be considered sensitive or vulnerable in some network
   environments.  The support for SET operations in a non-secure
   environment without proper protection can have a negative effect on
   network operations.  These objects and their
   sensitivity/vulnerability are:

        t11FcRscnIlsRejectNotifyEnable
        t11FcRscnElsRejectNotifyEnable





Expires May 2006                                               [Page 20]





Internet Draft          Fibre Channel RSCN MIB             November 2005


           -- ability to enable/disable a notification.

   Some of the readable objects in this MIB module (i.e., objects with a
   MAX-ACCESS other than not-accessible) may also be considered
   sensitive or vulnerable in some network environments.  It is thus
   important to control even GET and/or NOTIFY access to these objects
   and possibly to even encrypt the values of these objects when sending
   them over the network via SNMP.  These are the tables and objects and
   their sensitivity/vulnerability:

        t11FcRscnRegTable -- contains a list of Nx_Ports which are
        currently registered to received RSCNs.

        t11FcRscnStatsTable -- contains RSCN-related statistics.

        t11FcRscnNotifyControlTable -- contains control and logging
        information for notifications which are concerned with the
        rejection of RSCN-related requests.

   SNMP versions prior to SNMPv3 did not include adequate security.
   Even if the network itself is secure (for example by using IPSec),
   even then, there is no control as to who on the secure network is
   allowed to access and GET/SET (read/change/create/delete) the objects
   in this MIB module.

   It is RECOMMENDED that implementors consider the security features as
   provided by the SNMPv3 framework (see [RFC3410], section 8),
   including full support for the SNMPv3 cryptographic mechanisms (for
   authentication and privacy).

   Further, deployment of SNMP versions prior to SNMPv3 is NOT
   RECOMMENDED.  Instead, it is RECOMMENDED to deploy SNMPv3 and to
   enable cryptographic security.  It is then a customer/operator
   responsibility to ensure that the SNMP entity giving access to an
   instance of this MIB module is properly configured to give access to
   the objects only to those principals (users) that have legitimate
   rights to indeed GET or SET (change/create/delete) them.













Expires May 2006                                               [Page 21]





Internet Draft          Fibre Channel RSCN MIB             November 2005


12.  Authors' Addresses

   Claudio DeSanti
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA 95134 USA
   Phone: +1 408 853-9172
   EMail: cds@cisco.com

   H.K. Vivek
   Cisco Systems, Inc.
   71 Millers Rd
   Bangalore, India
   Phone: +91 80 2289933x5117
   EMail: hvivek@cisco.com

   Keith McCloghrie
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA USA 95134
   Phone: +1 408-526-5260
   Email: kzm@cisco.com

   Silvano Gai
   Cisco Systems, Inc.
   170 West Tasman Drive
   San Jose, CA USA 95134
   Phone: +1 408-526-7269
   Email: sgai@cisco.com


Full Copyright Statement

   Copyright (C) The Internet Society (2005).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.






Expires May 2006                                               [Page 22]





Internet Draft          Fibre Channel RSCN MIB             November 2005


Disclaimer of validity

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.

Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.






















Expires May 2006                                               [Page 23]
