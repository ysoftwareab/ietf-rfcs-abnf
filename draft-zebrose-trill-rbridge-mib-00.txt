


Network Working Group                                         K. Zebrose
Internet-Draft                                               D. Eastlake
Intended status: Standards Track                        Stellar Switches
Expires: April 22, 2010                                 October 19, 2009


                        RBridges: TRILL Base MIB
                 draft-zebrose-trill-rbridge-mib-00.txt

Status of This Document

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   This document is intended to become a Proposed Standard.
   Distribution of this document is unlimited. Comments should be sent
   to the author.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html


   This Internet-Draft will expire on April 22, 2010.

Abstract

   This memo defines a portion of the Management Information Base (MIB)
   for use with network management protocols.  In particular it defines
   objects for managing RBridges, which are devices that implement the
   TRILL base protocol.  Since RBridges provide optimal pair-wise
   forwarding without configuration there is no required configuration.
   Status information that may be helpful in network management is
   specified.  The MIB is specified with all objects read-only for
   simplicity and since that is how the MIB is expected to be used.  The
   description is used to indicate those objects that can be configured,
   although the actual configuration is outside the scope of this
   document.




Zebrose & Eastlake       Expires April 22, 2010                 [Page 1]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  The Internet-Standard Management Framework . . . . . . . . . .  3
   3.  Overview . . . . . . . . . . . . . . . . . . . . . . . . . . .  3
   4.  Conventions  . . . . . . . . . . . . . . . . . . . . . . . . .  4
   5.  Structure of the MIB Module  . . . . . . . . . . . . . . . . .  4
     5.1.  Textual Conventions  . . . . . . . . . . . . . . . . . . .  4
     5.2.  The rbridgeBase Subtree  . . . . . . . . . . . . . . . . .  4
     5.3.  The rbridgeEsadi Subtree . . . . . . . . . . . . . . . . .  4
     5.4.  The Notifications Subtree  . . . . . . . . . . . . . . . .  5
     5.5.  The Table Structures . . . . . . . . . . . . . . . . . . .  5
   6.  Relationship to Other MIB Modules  . . . . . . . . . . . . . .  5
     6.1.  Relationship to the IF MIB . . . . . . . . . . . . . . . .  5
     6.2.  Relationship to the  IEEE8021-Q-BRIDGE-MIB . . . . . . . .  5
     6.3.  Relationship to IS-IS MIB  . . . . . . . . . . . . . . . .  5
     6.4.  MIB modules required for IMPORTS . . . . . . . . . . . . .  9
   7.  Definition of the RBridge MIB  . . . . . . . . . . . . . . . .  9
   8.  Security Considerations  . . . . . . . . . . . . . . . . . . . 20
   9.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 21
   10. Contributors . . . . . . . . . . . . . . . . . . . . . . . . . 21
   11. References . . . . . . . . . . . . . . . . . . . . . . . . . . 21
     11.1. Normative References . . . . . . . . . . . . . . . . . . . 21
     11.2. Informative References . . . . . . . . . . . . . . . . . . 22
   Appendix A.  Change Log  . . . . . . . . . . . . . . . . . . . . . 22
   Appendix B.  Open Issues . . . . . . . . . . . . . . . . . . . . . 22

























Zebrose & Eastlake       Expires April 22, 2010                 [Page 2]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


1.  Introduction

   This document describes a model for managing RBridges as defined in
   [RBridge].  RBridges provide optimal pair-wise forwarding without
   configuration using IS-IS routing and encapsulation of traffic.
   RBridges are compatible with previous IEEE 802.1 customer bridges as
   well as IPv4 and IPv6 routers and end nodes.  They are as invisible
   to current IP routers as bridges are and, like routers, they
   terminate the bridge spanning tree protocol.  In creating an RBridge
   management model the device is viewed primarily as a customer bridge.
   For a discussion of the problem addressed by TRILL see [RFC5556]

   The IS-IS MIB defined in RFC4444 [RFC4444] is the basis for the
   equivalent of the transparent bridging and spanning tree subtrees in
   the customer bridge management model.  An RBridgeBase subtree
   includes many of the RBridge specific management objects (similar to
   BridgeBase).  RBridges provide VLAN aware customer bridging services
   [802.1Q-2005], except as described in [RBridge].  There is an option
   to use End Station Address Distribution Information (ESADI) protocol
   to announce some or all of the attached VLAN-x end nodes.  This
   requires an ESADI protocol instance for each VLAN for which ESADI is
   in use.  A corresponding table of ESADI management objects is
   included in an ESADI subtree.

2.  The Internet-Standard Management Framework

   For a detailed overview of the documents that describe the current
   Internet-Standard Management Framework, please refer to section 7 of
   RFC 3410 [RFC3410].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  MIB objects are generally
   accessed through the Simple Network Management Protocol (SNMP).
   Objects in the MIB are defined using the mechanisms defined in the
   Structure of Management Information (SMI).  This memo specifies a MIB
   module that is compliant to the SMIv2, which is described in STD 58,
   RFC 2578 [RFC2578], STD 58, RFC 2579 [RFC2579] and STD 58, RFC 2580
   [RFC2580].

3.  Overview

   The RBridge MIB is intended as an overall frame work for manageing
   the routing, bridging, and physical interconnect aspects of RBridges.
   Where possible the MIB references exisiting MIB definitions in order
   to maximumize reuse.  This results in a considerable emphasis on the
   relationship with other MIB documents.  Starting with the physical
   interfaces, there are requirements for certain elements of the IF-MIB
   to be implemented.  These elements are required in order connect the



Zebrose & Eastlake       Expires April 22, 2010                 [Page 3]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


   per port parameters higher level functions to the physical device.
   The RBridge base contains the optional configuration detailed in
   [RBridge] section 5.2.  In addition there are per port parameters and
   notifications that are primarily related to the bridging functions.
   The TRILL protocol supports the optional configuration of VLANs.
   Management of the VLAN functionality is expected to conform to
   IEEE8021-Q-BRIDGE-MIB.  When VLANs are not implemented TRILL models
   the VLAN as a single VLAN.  This is particularity important for the
   implementation of ESADI which is implemented on a per VLAN basis.
   The IS-IS routing protocol is used in order to determine the optimum
   pair-wise forwarding path.  This protocol is managed using the IS-IS
   MIB defined in RFC4444 [RFC4444].  Since the TRILL protocol specifies
   use of a single level and a fixed area address of zero, some MIB
   objects are not applicable.  Some IS-IS MIB objects are used in the
   TRILL protocol.

4.  Conventions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC 2119 [RFC2119].

5.  Structure of the MIB Module

   The RBridge MIB consists of the core RBridgeBase subtree and the
   optional RBridgeEsadi subtree.  These are supplements with required
   elements of the IF-MIB, IS-IS MIB, and IEEE8021-Q-BRIDGE MIB.

5.1.  Textual Conventions

   TBD There are a lot of definitions in [RBridge] which may be required
   here as well.

5.2.  The rbridgeBase Subtree

   The base subtree implements system and port specific elements
   critical to the RBridge forwarding function.  Using these objects the
   process of learning MAC addresses and forwarding frames can be
   monitored.  Optional configurable elements are included in order to
   provide visibility to operation of the TRILL protocol, including the
   assignment of priorities and nickname combinations.  TBD need to add
   descriptions of each object

5.3.  The rbridgeEsadi Subtree







Zebrose & Eastlake       Expires April 22, 2010                 [Page 4]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


5.4.  The Notifications Subtree

   The defined notifications are focused on the TRILL protocol
   functionality.  Notifications are defined for changes in the
   Designated RBridge status and the topology.  TBD for this section is
   what notifications are required from imported MIBs and how can the
   TRILL notifications be throttled.

5.5.  The Table Structures

   TBD

6.  Relationship to Other MIB Modules

   The IF-MIB, IEEE8021-Q-BRIDGE-MIB, and ISIS-MIB are all required for
   implementation of the RBridge MIB.  Coordination between these
   databases is important for proper management of an RBridge.  In
   particular the identify references to the port numbers and system ID
   are used to cross reference objects.

6.1.  Relationship to the IF MIB

   TBD The port identification elements MUST be implemented in order to
   allow them to be cross referenced.  The Interface MIB [RFC2863]
   requires that any MIB module which is an adjunct of the Interface MIB
   clarify specific areas within the Interface MIB.  These areas were
   intentionally left vague in the Interface MIB to avoid over-
   constraining the MIB, thereby precluding management of certain media-
   types.  Section 4 of [RFC2863] enumerates several areas which a
   media-specific MIB must clarify.  The implementor is referred to
   [RFC2863] in order to understand the general intent of these areas.

6.2.  Relationship to the  IEEE8021-Q-BRIDGE-MIB

   TBD

6.3.  Relationship to IS-IS MIB

   The Management Information Base for Intermediate System to
   Intermediate System (IS-IS)[RFC4444] defines a MIB for the IS-IS
   Routing protocol when it is used to construct routing tables for IP
   networks.  While most of these objects are directly applicable to the
   TRILL layer 2 implementations there are some modifications detailed
   below.

      System-Wide Attributes





Zebrose & Eastlake       Expires April 22, 2010                 [Page 5]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


      isisSystem -

         This table contains information specific to a single instance
         of the IS-IS protocol.  The TRILL IS-IS implementation follows
         the IS-IS MIB except for the following changes:

         isisLevelType MUST read level 1

            The TRILL IS-IS implementation does not include Level 2.

         isisSysProtSupport MUST read zero

            The IP protocols detailed in the IS-IS MIB are not
            applicable.

         isisSysL2toL2Leaking MUST read FALSE

            The TRILL IS-IS implementation does not include Level 2.

      isisManAreaAddr -

         This subtree is not implemented in TRILL IS-IS.  TRILL IS-IS
         uses a single fixed area address of zero.

      isisAreaAddr -

         This subtree is not implemented in TRILL IS-IS.  TRILL IS-IS
         uses a single fixed area address of zero.

      isisSummAddr -

         This subtree is not implemented in TRILL IS-IS.  In IS-IS this
         table holds summary addresses configured for each Level 2
         instance of the IS-IS protocol running on a router.  TRILL does
         not implement Level 2.

      isisRedistributeAddr -

         This subtree is not implemented in TRILL IS-IS.  In IS-IS this
         table is used to implement Level2 to Level1 address leaking.
         TRILL does not implement Level 2.

      isisRouter -

         This table is implemented.  This table holds the System ID for
         Intermediate Systems in the campus.





Zebrose & Eastlake       Expires April 22, 2010                 [Page 6]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


      isisSysLevel -

         This table is implemented.  This table contains information
         specific to a domain (Level 2) or an area (Level 1) of the
         IS-IS protocol.  In the case of TRILL IS-IS there is only one
         entry in the table for Level 1 area zero.

      isisNextCircIndex -

         This scalar is implemented.  This scalar is used to provide a
         unique circuit index.

      Circuit-specific Attributes

      isisCirc -

         This table is implemented, with the following modification.
         This table contains information specific to a point-to-point or
         a broadcast interface in the system.

         isisCircLevelType MUST read level1

         isisCircLevelIndex MUST read level1

      Counters

      isisSystemCounter -

         This table is implemented.  Counters in the System table, such
         as number of times we have wrapped a sequence counter on one of
         our Link State PDUs.

      isisCircuitCounter -

         This table is implemented.  Counters of events particular to a
         circuit, such as PDUs with an illegal value of the System ID
         field length.

      isisPacketCounter -

         This table is implemented.  Counts of IS-IS Protocol PDUs
         broken down into packet type.

      Attributes associated with an Adjacency







Zebrose & Eastlake       Expires April 22, 2010                 [Page 7]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


      isisISAdj -

         This table is implemented.  This table contains information
         about adjacencies to RBridges maintained by the protocol.
         Entries in this table cannot be created by management action:
         they are established through the Hello protocol.

      isisISAdjAreaAddr -

         This table is not implemented.  This table contains the set of
         Area Addresses of neighboring Intermediate Systems, as reported
         in IIH PDUs.  Since all area addresses are zero there is no
         need for a table.

      isisISAdjIPAddr -

         This table is not implemented.  This table contains the set of
         IP Addresses of neighboring Intermediate Systems, as reported
         in received IIH PDUs.  The table has been replaced by addition
         of the RBridgeISAdjMACAddr in the RBridge subtree.

      isisISAdjProtSupp -

         This table is not implemented.  This table contains the set of
         protocols supported by neighboring Intermediate Systems, as
         reported in received IIH PDUs.

      Attributes Associated with Addresses

      isisRA -

         This table is implemented.  The Reachable Address Table.

         Normally each entry defines a configured Reachable Address to
         an NSAP or Address Prefix.  In the case of an RBridge the
         unique isisRAIndex should be defined as type MacAddress rather
         than an Unsigned32.

      isisIPRA -

         This table is not implemented.  The IP Reachable Address Table.

         This table contains information about an IP reachable address
         manually configured on this system or learned from another
         protocol.






Zebrose & Eastlake       Expires April 22, 2010                 [Page 8]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


      Attributes Associated with Link State PDU Table

      isisLSPSummaryTable -

         This table is implemented.  The Link State PDU Summary Table.

         This table contains information contained in the headers of
         Link State PDUs stored by the system.

      isisLSPTLVTable -

         This table is implemented.  The Link State PDU TLV Table.

         This table holds the sequence of TLVs that make up an LSP
         fragment.

      Attributes Associated with a Notification

      isisNotification

         This table is implemented.  This table defines attributes that
         will be included when reporting IS-IS notifications.

6.4.  MIB modules required for IMPORTS

   The following MIB module IMPORTS objects from SNMPv2-SMI [RFC2578],
   SNMPv2-TC [RFC2579], SNMPv2-CONF [RFC2580], and IF-MIB [RFC2863].

7.  Definition of the RBridge MIB


 RBRIDGE-MIB DEFINITIONS ::= BEGIN

   -- ---------------------------------------------------------- --
   -- MIB for RBRIDGE devices
   -- ----------------------------------------------------------
   IMPORTS
       MODULE-IDENTITY, OBJECT-TYPE, NOTIFICATION-TYPE,
       Counter32, Counter64, Integer32, mib-2
           FROM SNMPv2-SMI            -- RFC2578
       TEXTUAL-CONVENTION, TruthValue
           FROM SNMPv2-TC             -- RFC2579
       MODULE-COMPLIANCE, OBJECT-GROUP, NOTIFICATION-GROUP
           FROM SNMPv2-CONF
       InterfaceIndex FROM IF-MIB
       ;

   rbridgeMIB MODULE-IDENTITY



Zebrose & Eastlake       Expires April 22, 2010                 [Page 9]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


       LAST-UPDATED "200910190000Z"
       ORGANIZATION "IETF TRILL Working Group"
       CONTACT-INFO
           "http://www.ietf.org/dyn/wg/charter/trill-charter.html
            Email: rbridge@postel.org

                    Kate Zebrose
                    Stellar Switches
               Tel: +1 617 840 9673
             Email: kate.zebrose@stellarswitches.com

                    Donald Eastlake
                    Stellar Switches
               Tel: +1 508 333 2270
             Email: donald.eastlake@stellarswitches.com"

       DESCRIPTION
           "The RBridge MIB module for managing devices that support
           the TRILL protocol."

       REVISION     "200910190000Z"
       DESCRIPTION
            "Initial version, published as RFC yyyy"
-- RFC Ed.: replace yyyy with actual RFC number & remove this note

       ::= { mib-2 XXX }
-- RFC Ed.: replace XXX with  IANA-assigned number & remove this note

   -- ---------------------------------------------------------- --
   -- subtrees in the RBridge MIB
   -- ---------------------------------------------------------- --

   rbridgeNotifications  OBJECT IDENTIFIER ::= { rbridgeMIB 0 }
   rbridgeBase           OBJECT IDENTIFIER ::= { rbridgeMIB 1 }
   rbridgeEsadi          OBJECT IDENTIFIER ::= { rbridgeMIB 2 }
   rbridgeConformance    OBJECT IDENTIFIER ::= { rbridgeMIB 3 }

   -- ---------------------------------------------------------- --
   -- type definitions
   -- ---------------------------------------------------------- --

    RbridgeBridgeAddress ::= TEXTUAL-CONVENTION
        STATUS current
        DESCRIPTION
            "The ID used by an RBridge port when sending spanning
             tree BPDU.  This may match the RBridge ISIS SystemID.



Zebrose & Eastlake       Expires April 22, 2010                [Page 10]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


             The protocol does not place any meanings upon
             the bits, other than using ordering to break
             ties in electing a Designated Bridge on a LAN."
        REFERENCE "{ISIS.aoi systemId (119)}"
        SYNTAX OCTET STRING (SIZE(6))

   --
   -- the rbridgeBase subtree
   --
   -- Implementation of the rbridgeBase subtree is mandatory for all
   -- bridges.
   --

   rbridgeBaseLearnedEntryDiscards OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of Forwarding Database entries that
           have been or would have been learned, but have been
           discarded due to a lack of storage space in the
           Forwarding Database.  If this counter is increasing, it
           indicates that the Forwarding Database is regularly
           becoming full (a condition that has unpleasant
           performance effects on the subnetwork).  If this counter
           has a significant value but is not presently increasing,
           it indicates that the problem has been occurring but is
           not persistent.
           This counter MUST be equal to the least significant 32 bits
           of rbridgeBaseLearnedEntryHCDiscards."
       REFERENCE
           "[RBridge] section 4.6"
       ::= { rbridgeBase 1 }

   rbridgeBaseLearnedEntryHCDiscards OBJECT-TYPE
       SYNTAX      Counter64
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The total number of Forwarding Database entries that
           have been or would have been learned, but have been
           discarded due to a lack of storage space in the
           Forwarding Database.  This is the 64 bit version of
           rbridgeBaseLearnedEntryDiscards.  If this counter is
           increasing, it indicates that the Forwarding Database
           is regularly becoming full (a condition that has unpleasant
           performance effects on the subnetwork).  If this counter
           has a significant value but is not presently increasing,



Zebrose & Eastlake       Expires April 22, 2010                [Page 11]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


           it indicates that the problem has been occurring but is
           not persistent."
       REFERENCE
           "[RBridge] section 4.6"
       ::= { rbridgeBase 2 }

   rbridgeBaseAgingTime OBJECT-TYPE
       SYNTAX      Integer32 (10..1000000)
       UNITS       "seconds"
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The timeout period in seconds for aging out
           dynamically-learned forwarding information.
           Referred to the Aging Time this is configurable
           with a range of from 10 seconds to 1,000,000 seconds
           and a default value of 300 seconds.
           Configurable, but NOT using this read-only MIB."
       REFERENCE
            "  [RBridge]  section 4.8.2"
      ::= { rbridgeBase 3 }

   rbridgeBaseForwardDelay OBJECT-TYPE
       SYNTAX      Integer32 (10..1000000)
       UNITS       "seconds"
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           " When the appointed forwarder lost counter for RBridge RBn
   for VLAN-x is observed to increase but RBn continues to be an
   appointed forwarder for VLAN-x, every other RBridge that is an
   appointed forwarder for VLAN-x modifies the aging of all the
   addresses it has learned such that the time remaining for each entry
   is no larger than the Forward Delay.  This parameter is in
   the range of 4 to 30 seconds with a default value of 15 seconds.
   Configurable, but NOT using this read-only MIB."
       REFERENCE
            "  [RBridge]  section 4.8.2"
      ::= { rbridgeBase 4 }


   rbridgeBaseMaxTransitDelay OBJECT-TYPE
       SYNTAX      Integer32 (10..1000000)
       UNITS       "seconds"
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "  RBridge port processing below the EISS layer is



Zebrose & Eastlake       Expires April 22, 2010                [Page 12]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


   identical to an [802.1Q-2005] bridge except for (1) the handling of
   high-level control frames and (2) that the discard of frames that
   have exceeded the Maximum Transit Delay is not mandatory but MAY be
   done.  The recommended range for the Maximum Transit Delay is set in
   [802.1D-2004] table 7-3 as 1.0 second - 4.0 seconds with 1.0 the
   recommended value.
   Configurable, but NOT using this read-only MIB."
       REFERENCE
            "  [RBridge]  section 4.9.2"
      ::= { rbridgeBase 5 }

       rbridgeBaseNumPorts OBJECT-TYPE
       SYNTAX      Integer32
       UNITS       "ports"
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of ports in this RBridge.  This value contains
    the ifNumber which corresponds to the first entry in ifMIB."
      REFERENCE
           "RFC 2863 - The Interfaces Group MIB, McCloghrie, K.,
             and F. Kastenholtz, June 2000  { ifMIB 1 }"
       ::= { rbridgeBase 6 }

       rbridgeBaseWctenable OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
   "When true the wiring closet topology, which combines
   colocated RBridges, is enabled.  The RBridge.isisSysID for
   the RBridges in the cluster needs to be set to the same value.
   The default value is false.
   Configurable, but NOT using this read-only MIB."

       REFERENCE
           " [RBridge] clause A.3.3"
       ::= { rbridgeBase 7 }

   --
   -- The RBridge Base Nickname Table
   --

    rbridgeBaseNicknameTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RbridgeBaseNicknameEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION



Zebrose & Eastlake       Expires April 22, 2010                [Page 13]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


           "A table that contains information about nicknames
       associated with this RBridge."
       REFERENCE
           "  [RBridge] section 3.7"
       ::= { rbridgeBase 8 }

   rbridgeBaseNicknameEntry OBJECT-TYPE
       SYNTAX      RbridgeBaseNicknameEntry
       MAX-ACCESS  not-accessible
       STATUS      current

       DESCRIPTION
           "A list of information for each nickname of the RBridge."
       REFERENCE
           "  [RBridge]  section 3.7"

       INDEX  { rbridgeBaseNicknameName }
       ::= { rbridgeBaseNicknameTable 1 }

   RbridgeBaseNicknameEntry ::=
       SEQUENCE {
           rbridgeBaseNicknameName
               OCTET STRING,
           rbridgeBaseNicknamePriority
               OCTET STRING
       }

   rbridgeBaseNicknameName OBJECT-TYPE
       SYNTAX      OCTET STRING (SIZE(2))
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Nicknames are 16-bit quantities that act as
            abbreviations for RBridge's 48-bit IS-IS System ID to
            achieve a more compact encoding.  Nicknames in this table
            are used as part of the dynamic nickname assignment process,
            see reference for details.  The default value is 0x0000.
            Configurable, but NOT using this read-only MIB."

       REFERENCE
           "  [RBridge]  section 3.7"
       ::= { rbridgeBaseNicknameEntry 1 }

   rbridgeBaseNicknamePriority OBJECT-TYPE
       SYNTAX      OCTET STRING (SIZE(2))
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION



Zebrose & Eastlake       Expires April 22, 2010                [Page 14]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


           "Nickname priorities in this table
            are used as part of the dynamic nickname assignment process,
            see reference for details. The default value is 0x40.
            Configurable, but NOT using this read-only MIB."
       REFERENCE
           "  [RBridge]  section 3.7"
       ::= { rbridgeBaseNicknameEntry 2 }

   -- ---------------------------------------------------------- --
   -- The Generic Bridge Port Table
   -- ---------------------------------------------------------- --
   rbridgeBasePortTable OBJECT-TYPE
       SYNTAX      SEQUENCE OF RBridgeBasePortEntry
       MAX-ACCESS  not-accessible
       STATUS      current
       DESCRIPTION
           "A table that contains generic information about every
           port that is associated with this RBridge."
       REFERENCE
           "  [RBridge] section 5.2"
       ::= { rbridgeBase 9 }

   rbridgeBasePortEntry OBJECT-TYPE
       SYNTAX      RBridgeBasePortEntry
       MAX-ACCESS  not-accessible
       STATUS      current

       DESCRIPTION
           "A list of information for each port of the bridge."
       REFERENCE
           "  [RBridge] section 5.2"
       INDEX  { rbridgeBasePortIndex }
       ::= { rbridgeBasePortTable 1 }

   RBridgeBasePortEntry ::=
       SEQUENCE {
           rbridgeBasePortIndex
               Integer32,
           rbridgeBasePortIfIndex
               InterfaceIndex,
           rbridgeBasePortDelayExceededDiscards
               Counter32,
           rbridgeBasePortMtuExceededDiscards
               Counter32,
           rbridgeBasePortDisable
               TruthValue,
           rbridgeBasePortDisableEndstationservice
               TruthValue,



Zebrose & Eastlake       Expires April 22, 2010                [Page 15]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


           rbridgeBasePortDisableaccessport
               TruthValue,
           rbridgeBasePortP2phellos
               TruthValue,
           rbridgeBasePortBx
               RbridgeBridgeAddress,

           -- high capacity counters
           rbridgeBasePortDelayExceededHCDiscards
               Counter64,
           rbridgeBasePortMtuExceededHCDiscards
               Counter64
        }

   rbridgeBasePortIndex OBJECT-TYPE
       SYNTAX      Integer32 (1..65535)
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The port number of the port for which this entry
           contains RBridge management information.
           When ieee8021QBridgeCVlanPort TABLE is implemented this
           ieee8021QBridgeCVlanPortNumber MUST match this value."
      REFERENCE
           "  [RBridge] section 5.2"
       ::= { rbridgeBasePortEntry 1 }

   rbridgeBasePortIfIndex OBJECT-TYPE
       SYNTAX      InterfaceIndex
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "This value contains the assigned ifIndex which corresponds
             to an entry in the interfaces table.  "
      REFERENCE
           "RFC 2863 - The Interfaces Group MIB, McCloghrie, K.,
             and F. Kastenholtz, June 2000"
       ::= { rbridgeBasePortEntry 2 }

   rbridgeBasePortDelayExceededDiscards OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of frames discarded by this port due
           to excessive transit delay through the RBridge.
           This counter MUST be equal to the least significant 32 bits
           of RBridgeBasePortDelayExceededHCDiscards."



Zebrose & Eastlake       Expires April 22, 2010                [Page 16]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


       REFERENCE
           "IEEE 802.1D-1998: clause 14.6.1.1.3"
       ::= { rbridgeBasePortEntry 3 }

   rbridgeBasePortMtuExceededDiscards OBJECT-TYPE
       SYNTAX      Counter32
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of frames discarded by this port due
           to an excessive size.
           This counter MUST be equal to the least significant 32 bits
           of RBridgeBasePortMtuExceededHCDiscards."

       REFERENCE
           " [RBridge] clause 4.9.2"
       ::= { rbridgeBasePortEntry 4 }

   rbridgeBasePortDisable OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Disable port bit. When this bit is set (true), all frames
      received or to be transmitted are discarded, with the possible
      exception of some layer 2 control frames that may be generated and
      transmitted or received and processed locally.  Default value is
      false.
      Configurable, but NOT using this read-only MIB."

       REFERENCE
           " [RBridge] clause 4.9.1"
       ::= { rbridgeBasePortEntry 5 }

   rbridgeBasePortDisableEndstationservice OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "End station service disable (trunk port) bit. When this bit
      is set (true), all native frames received on the port and all
      native frames that would have been sent on the port are discarded.
      Default value is false.
      Configurable, but NOT using this read-only MIB."
       REFERENCE
           " [RBridge] clause 4.9.1"
       ::= { rbridgeBasePortEntry 6 }




Zebrose & Eastlake       Expires April 22, 2010                [Page 17]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


   rbridgeBasePortDisableaccessport OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "TRILL traffic disable (access port) bit. If this bit is set,
      the goal is to avoid sending any TRILL frames, except TRILL-Hello
      frames, on the port since it is intended only for native end
      station traffic.  This bit is reported in TRILL-Hello frames.
      Default value is false.
      Configurable, but NOT using this read-only MIB."
       REFERENCE
           " [RBridge] clause 4.9.1"
       ::= { rbridgeBasePortEntry 7 }

   rbridgeBasePortP2phellos OBJECT-TYPE
       SYNTAX      TruthValue
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "Use P2P Hellos bit. If this bit is set, Hellos sent on this
      port are IS-IS P2P Hellos, not the default TRILL-Hellos. In
      addition, the IS-IS P2P three-way handshake MUST be used on P2P
      RBridge links.
      Default value is false.
      Configurable, but NOT using this read-only MIB."
       REFERENCE
           " [RBridge] clause 4.9.1"
       ::= { rbridgeBasePortEntry 10 }

    rbridgeBasePortBx OBJECT-TYPE
       SYNTAX      RbridgeBridgeAddress
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
      "In order to support the wiring closet spanning tree solution
       an RBridge may support per port configurable Bridge Addresses.
      Default value is ISIS SystemID.
      Configurable, but NOT using this read-only MIB."
       REFERENCE
           " [RBridge] clause A.3.3
           IEEE 802.1D-2004: clauses 9.2.5"
       ::= { rbridgeBasePortEntry 11 }

   -- High Capacity Counters

   rbridgeBasePortDelayExceededHCDiscards OBJECT-TYPE
       SYNTAX      Counter64



Zebrose & Eastlake       Expires April 22, 2010                [Page 18]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of frames discarded by this port due to
           excessive transit delay through the RBridge.  This is the
           64 bit version of RBridgeBasePortDelayExceededDiscards."
       REFERENCE
           " [RBridge] clause 4.9.2"
       ::= { rbridgeBasePortEntry 12 }

   rbridgeBasePortMtuExceededHCDiscards OBJECT-TYPE
       SYNTAX      Counter64
       MAX-ACCESS  read-only
       STATUS      current
       DESCRIPTION
           "The number of frames discarded by this port due
           to an excessive size. This is the 64 bit version of
           RBridgeBasePortDelayExceededDiscards."
       REFERENCE
           " [RBridge] clause 4.9.2"
       ::= { rbridgeBasePortEntry 13 }

   -- ---------------------------------------------------------- --
   -- Notifications for use by RBridges
   -- ---------------------------------------------------------- --

   rbridgeBaseNewDrb NOTIFICATION-TYPE
       -- OBJECTS     { }
       STATUS      current
       DESCRIPTION
           "The RBridgeBaseNewDrb trap indicates that the sending agent
           has become the new Designated RBridge; the trap is
           sent by an RBridge soon after its election as the new DRB
           root, e.g., upon expiration of the Topology Change Timer,
           immediately subsequent to its election.  Implementation
           of this trap is optional."
       ::= { rbridgeNotifications 1 }

   rbridgeBaseTopologyChange NOTIFICATION-TYPE
       -- OBJECTS     { }
       STATUS      current
       DESCRIPTION
           "RBridgeBaseTopologyChange trap is sent by an RBridge when
           any of its configured ports transitions to/from Vlan-x
           designated forwarder.  The trap is not sent if a newDrb
           trap is sent for the same transition.  Implementation of
           this trap is optional."
       ::= { rbridgeNotifications 2 }



Zebrose & Eastlake       Expires April 22, 2010                [Page 19]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


-- Compliance and Group sections TBD
-- the current plan is for counters to be listed in groups as 32 bit
-- counters and have a high capacity group with 64 bit
-- counters required as indicated by the RFC4181 criteria of projected
-- one hour wraps
   END


8.  Security Considerations

   For general RBridge security considerations see [RBridge].

   There are no management objects defined in this MIB module that have
   a MAX-ACCESS clause of read-write and/or read-create.  So, if this
   MIB module is implemented correctly, then there is no risk that an
   intruder can alter or create any management objects of this MIB
   module via direct SNMP SET operations.

   Some of the readable objects in this MIB module (i.e., objects with a
   MAX-ACCESS other than not-accessible) may be considered sensitive or
   vulnerable in some network environments.  It is thus important to
   control even GET and/or NOTIFY access to these objects and possibly
   to even encrypt the values of these objects when sending them over
   the network via SNMP.  These are the tables and objects and their
   sensitivity/vulnerability:

   o  TBD

   Much of the MIB is used to read attributes which are readily visible
   to any intruder who has access to traffic.  None of the security
   attributes are setable or visible through the MIB.  Read access to
   the MIB does not pose additional risks or vulnerabilities.

   SNMP versions prior to SNMPv3 did not include adequate security.
   Even if the network itself is secure (for example by using IPsec),
   even then, there is no control as to who on the secure network is
   allowed to access and GET/SET (read/change/create/delete) the objects
   in this MIB module.

   It is RECOMMENDED that implementers consider the security features as
   provided by the SNMPv3 framework (see [RFC3410], section 8),
   including full support for the SNMPv3 cryptographic mechanisms (for
   authentication and privacy).

   Further, deployment of SNMP versions prior to SNMPv3 is NOT
   RECOMMENDED.  Instead, it is RECOMMENDED to deploy SNMPv3 and to
   enable cryptographic security.  It is then a customer/operator
   responsibility to ensure that the SNMP entity giving access to an



Zebrose & Eastlake       Expires April 22, 2010                [Page 20]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


   instance of this MIB module is properly configured to give access to
   the objects only to those principals (users) that have legitimate
   rights to indeed GET or SET (change/create/delete) them.

9.  IANA Considerations

   The MIB module in this document uses the following IANA-assigned
   OBJECT IDENTIFIER value recorded in the SMI Numbers registry:


   Descriptor OBJECT IDENTIFIER value

   ---------- -----------------------


   rbridgeMIB { mib-2 XXX }


   Editor's Note (to be removed prior to publication): the IANA is
   requested to assign a value for "XXX" under the 'mib-2' subtree and
   to record the assignment in the SMI Numbers registry.  When the
   assignment has been made, the RFC Editor is asked to replace "XXX"
   (here and in the MIB module) with the assigned value and to remove
   this note.

10.  Contributors

   The authors would like to acknowledge the contributions of Thomas
   Nadeau and Subrat Pani.  We invite you to join the mailing list at
   http://www.postel.org/rbridge.

11.  References

11.1.  Normative References

   [RFC2119]      Bradner, S., "Key words for use in RFCs to Indicate
                  Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2578]      McCloghrie, K., Ed., Perkins, D., Ed., and J.
                  Schoenwaelder, Ed., "Structure of Management
                  Information Version 2 (SMIv2)", STD 58, RFC 2578,
                  April 1999.

   [RFC2579]      McCloghrie, K., Ed., Perkins, D., Ed., and J.
                  Schoenwaelder, Ed., "Textual Conventions for SMIv2",
                  STD 58, RFC 2579, April 1999.

   [RFC2863]      McCloghrie, K. and F. Kastenholz, "The Interfaces



Zebrose & Eastlake       Expires April 22, 2010                [Page 21]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


                  Group MIB", RFC 2863, June 2000.

   [RFC2580]      McCloghrie, K., Perkins, D., and J. Schoenwaelder,
                  "Conformance Statements for SMIv2", STD 58, RFC 2580,
                  April 1999.

   [RFC4444]      Parker, J., "Management Information Base for
                  Intermediate System to Intermediate System (IS-IS)",
                  RFC 4444, April 2006.

   [RBridge]      Perlman, R., Eastlake, D., Dutt, D., Gai, S., and A.
                  Ghanwani, "RBridges: Base Protocol Specification",
                  Work in Progress , August 2009.

   [802.1Q-2005]  Institute of Electrical and Electronics Engineers,
                  "Local and Metropolitan Area Networks: Virtual Bridged
                  Local Area Networks", IEEE 802.1Q, May 2006.

11.2.  Informative References

   [RFC3410]      Case, J., Mundy, R., Partain, D., and B. Stewart,
                  "Introduction and Applicability Statements for
                  Internet-Standard Management Framework", RFC 3410,
                  December 2002.

   [RFC5556]      Touch, J. and R. Perlman, "Transparent Interconnection
                  of Lots of Links (TRILL): Problem and Applicability
                  Statement", RFC 5556, May 2009.

Appendix A.  Change Log

   Note to RFC Editor: if this document does not obsolete an existing
   RFC, please remove this appendix before publication as an RFC.

Appendix B.  Open Issues

   Note to RFC Editor: please remove this appendix before publication as
   an RFC.

   1.   Textual Conventions - We currently have nothing and there is
        probably TRILL specific language that needs to be specified.
        Campus comes to mind as one example.  At a minimum we should
        look at the TRILL protocol draft and see which items apply.

   2.   The description sections needs descriptions of every rbridgeBase
        object.  This could be taken from the MIB definition as a
        starting point.




Zebrose & Eastlake       Expires April 22, 2010                [Page 22]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


   3.   The ESADI protocol subtree has not been defined.

   4.   The notification section is very bare bones.  We need to define
        throttling mechanisms and cross reference notifications.

   5.   There needs to be a descriptions of how the tables interacts.
        This is primarily based on the IF-MIB ifIndex.  We also need
        descriptions of the tables.

   6.   The relationship to the IF-MIB needs to be defined, particularly
        the elements referenced in RFC2863.  We need to detail what
        elements of the IF-MIB are relevent to an RBridge.

   7.   The relationship to IEEE8021-Q-BRIDGE-MIB needs to be defined.

   8.   The compliance section of the MIB definition needs TBD.

   9.   The groups section of the MIB definitions needs TBD.

   10.  The items that could pose privacy concerns need to be
        articulated in the security section.

   11.  Add configuration and counters for mtu probe and ack to TRILL
        MIB.

Authors' Addresses

   Kate Zebrose
   Stellar Switches
   155 Beaver Street
   Milford, MA
   USA

   Phone: +1 617 840 9673
   EMail: kate.zebrose@stellarswitches.com


   Donald Eastlake
   Stellar Switches
   155 Beaver Street
   Milford, MA
   USA

   Phone: +1 508 333 2270
   EMail: donald.eastlake@stellarswitches.com






Zebrose & Eastlake       Expires April 22, 2010                [Page 23]

Internet-Draft           RBridges: TRILL Base MIB           October 2009


Full Copyright Statement


     Copyright (c) 2009 IETF Trust and the persons identified as the
     document authors.  All rights reserved.

     This document is subject to BCP 78 and the IETF Trust's Legal
     Provisions Relating to IETF Documents 
     (http://trustee.ietf.org/license-info) in effect on the date of 
     publication of this document.  Please review these documents
     carefully, as they describe your rights and restrictions with
     respect to this document.  Code Components extracted from this
     document must include Simplified BSD License text as described in
     Section 4.e of the Trust Legal Provisions and are provided without
     warranty as described in the BSD License.











Zebrose & Eastlake       Expires April 22, 2010                [Page 24]


